# Issue 10661: include support for beta variables for partitions

archive/issues_010661.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  sage-combinat @hivert @benjaminfjones\n\nthings such as\n\nsage: Partition(beta_numbers=([3,2],[4,0]))\n\nIssue created by migration from https://trac.sagemath.org/ticket/10724\n\n",
    "created_at": "2011-02-01T22:13:35Z",
    "labels": [
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.2",
    "title": "include support for beta variables for partitions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10661",
    "user": "https://trac.sagemath.org/admin/accounts/users/pdehaye"
}
```
Assignee: tbd

CC:  sage-combinat @hivert @benjaminfjones

things such as

sage: Partition(beta_numbers=([3,2],[4,0]))

Issue created by migration from https://trac.sagemath.org/ticket/10724





---

archive/issue_comments_111830.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2011-02-02T00:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111830",
    "user": "https://trac.sagemath.org/admin/accounts/users/pdehaye"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_111831.json:
```json
{
    "body": "Changing assignee from tbd to sage-combinat.",
    "created_at": "2011-02-02T00:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111831",
    "user": "https://trac.sagemath.org/admin/accounts/users/pdehaye"
}
```

Changing assignee from tbd to sage-combinat.



---

archive/issue_comments_111832.json:
```json
{
    "body": "Attachment [trac_10724-partitions_beta_numbers-pod.patch](tarball://root/attachments/some-uuid/ticket10724/trac_10724-partitions_beta_numbers-pod.patch) by pdehaye created at 2011-02-02 10:48:54",
    "created_at": "2011-02-02T10:48:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111832",
    "user": "https://trac.sagemath.org/admin/accounts/users/pdehaye"
}
```

Attachment [trac_10724-partitions_beta_numbers-pod.patch](tarball://root/attachments/some-uuid/ticket10724/trac_10724-partitions_beta_numbers-pod.patch) by pdehaye created at 2011-02-02 10:48:54



---

archive/issue_comments_111833.json:
```json
{
    "body": "Just a quick comment:\n\nI've never heard those called beta number so my advice is to use the name \"Frobenius coordinate\". Maybe it's worth asking for a vote on `sage-combinat-devel`. \n\nCheers,\n\nFlorent",
    "created_at": "2011-02-04T09:06:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111833",
    "user": "https://github.com/hivert"
}
```

Just a quick comment:

I've never heard those called beta number so my advice is to use the name "Frobenius coordinate". Maybe it's worth asking for a vote on `sage-combinat-devel`. 

Cheers,

Florent



---

archive/issue_comments_111834.json:
```json
{
    "body": "Patch applies cleanly to sage-4.6.2.alpha2.\n\nI get a strange error when giving beta number sequences with the wrong number of elements:\n\n\n```\nsage: Partition(beta_numbers=([6,3,2],[4,1]))\n\n    310         b = beta_numbers[1]\n    311         if len(a) <> len(b):\n--> 312             raise ValueError, '%s is not a valid partition, the sequences of coordinates need to be the same length'%beta_numbers\n    313             # should add tests to see if a and b are sorted down, nonnegative and strictly decreasing\n    314     r = len(a)\n\nTypeError: not all arguments converted during string formatting\n```\n\n\nI was expecting to get a ValueError. I get the same strange error if I try:\n\n```\nsage: Partition(beta_numbers=([6,3,2],[4,1,-1]))\n```\n",
    "created_at": "2011-02-09T01:45:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111834",
    "user": "https://github.com/benjaminfjones"
}
```

Patch applies cleanly to sage-4.6.2.alpha2.

I get a strange error when giving beta number sequences with the wrong number of elements:


```
sage: Partition(beta_numbers=([6,3,2],[4,1]))

    310         b = beta_numbers[1]
    311         if len(a) <> len(b):
--> 312             raise ValueError, '%s is not a valid partition, the sequences of coordinates need to be the same length'%beta_numbers
    313             # should add tests to see if a and b are sorted down, nonnegative and strictly decreasing
    314     r = len(a)

TypeError: not all arguments converted during string formatting
```


I was expecting to get a ValueError. I get the same strange error if I try:

```
sage: Partition(beta_numbers=([6,3,2],[4,1,-1]))
```




---

archive/issue_comments_111835.json:
```json
{
    "body": "Attachment [trac_10724-partitions_beta_numbers-pod-2.patch](tarball://root/attachments/some-uuid/ticket10724/trac_10724-partitions_beta_numbers-pod-2.patch) by pdehaye created at 2011-05-31 12:03:37\n\naddendum to the first patch",
    "created_at": "2011-05-31T12:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111835",
    "user": "https://trac.sagemath.org/admin/accounts/users/pdehaye"
}
```

Attachment [trac_10724-partitions_beta_numbers-pod-2.patch](tarball://root/attachments/some-uuid/ticket10724/trac_10724-partitions_beta_numbers-pod-2.patch) by pdehaye created at 2011-05-31 12:03:37

addendum to the first patch



---

archive/issue_comments_111836.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-05-31T12:05:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111836",
    "user": "https://trac.sagemath.org/admin/accounts/users/pdehaye"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_111837.json:
```json
{
    "body": "This second patch is to be applied on top of the first. It uses the word \"Frobenius coordinates\" instead of \"beta numbers\" (as suggested by hivert ), and fixes the exceptions problem pointed out by benjaminfjones .",
    "created_at": "2011-05-31T12:05:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111837",
    "user": "https://trac.sagemath.org/admin/accounts/users/pdehaye"
}
```

This second patch is to be applied on top of the first. It uses the word "Frobenius coordinates" instead of "beta numbers" (as suggested by hivert ), and fixes the exceptions problem pointed out by benjaminfjones .



---

archive/issue_comments_111838.json:
```json
{
    "body": "The two patches apply cleanly to Sage-4.7. I verified that a descriptive `ValueError` is raised in the situation described above. I found one last little issue with the docstring for Partition. On lines 190 -- 193 of sage/combinat/partition.py there is a doctest which is repeated. I think it's ready for a positive review after that change.",
    "created_at": "2011-06-08T05:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111838",
    "user": "https://github.com/benjaminfjones"
}
```

The two patches apply cleanly to Sage-4.7. I verified that a descriptive `ValueError` is raised in the situation described above. I found one last little issue with the docstring for Partition. On lines 190 -- 193 of sage/combinat/partition.py there is a doctest which is repeated. I think it's ready for a positive review after that change.



---

archive/issue_comments_111839.json:
```json
{
    "body": "Attachment [trac_10724-partitions_beta_numbers-pod-3.patch](tarball://root/attachments/some-uuid/ticket10724/trac_10724-partitions_beta_numbers-pod-3.patch) by pdehaye created at 2011-06-08 06:57:00\n\nready for positive review now...",
    "created_at": "2011-06-08T06:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111839",
    "user": "https://trac.sagemath.org/admin/accounts/users/pdehaye"
}
```

Attachment [trac_10724-partitions_beta_numbers-pod-3.patch](tarball://root/attachments/some-uuid/ticket10724/trac_10724-partitions_beta_numbers-pod-3.patch) by pdehaye created at 2011-06-08 06:57:00

ready for positive review now...



---

archive/issue_comments_111840.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-06-08T16:54:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111840",
    "user": "https://github.com/benjaminfjones"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_111841.json:
```json
{
    "body": "Looks good. I'll give it a positive review. \n\nTo the release manager, apply the 3 patches in the obvious order: \n\n1. trac_10724-partitions_beta_numbers-pod.patch\n2. trac_10724-partitions_beta_numbers-pod-2.patch\n3. trac_10724-partitions_beta_numbers-pod-3.patch",
    "created_at": "2011-06-08T16:58:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111841",
    "user": "https://github.com/benjaminfjones"
}
```

Looks good. I'll give it a positive review. 

To the release manager, apply the 3 patches in the obvious order: 

1. trac_10724-partitions_beta_numbers-pod.patch
2. trac_10724-partitions_beta_numbers-pod-2.patch
3. trac_10724-partitions_beta_numbers-pod-3.patch



---

archive/issue_comments_111842.json:
```json
{
    "body": "Sorry, my [WikiFormatting](WikiFormatting) skills are weak.\n\nTo the release manager, apply the 3 patches in the obvious order:\n\n1. trac_10724-partitions_beta_numbers-pod.patch \n2. trac_10724-partitions_beta_numbers-pod-2.patch \n3. trac_10724-partitions_beta_numbers-pod-3.patch",
    "created_at": "2011-06-08T17:01:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111842",
    "user": "https://github.com/benjaminfjones"
}
```

Sorry, my [WikiFormatting](WikiFormatting) skills are weak.

To the release manager, apply the 3 patches in the obvious order:

1. trac_10724-partitions_beta_numbers-pod.patch 
2. trac_10724-partitions_beta_numbers-pod-2.patch 
3. trac_10724-partitions_beta_numbers-pod-3.patch



---

archive/issue_events_027618.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-09T19:35:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10661#event-27618"
}
```



---

archive/issue_events_027619.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-18T08:41:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10661#event-27619"
}
```



---

archive/issue_events_027620.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-18T08:41:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10661#event-27620"
}
```



---

archive/issue_comments_111843.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-06-18T09:08:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111843",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_111844.json:
```json
{
    "body": "This needs to be rebased to [sage-4.7.1.alpha3](http://boxen.math.washington.edu/home/release/sage-4.7.1.alpha3/) (which has not yet been released but is likely to be released as it is now).",
    "created_at": "2011-06-18T09:08:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111844",
    "user": "https://github.com/jdemeyer"
}
```

This needs to be rebased to [sage-4.7.1.alpha3](http://boxen.math.washington.edu/home/release/sage-4.7.1.alpha3/) (which has not yet been released but is likely to be released as it is now).



---

archive/issue_comments_111845.json:
```json
{
    "body": "Also: [attachment:trac_10724-partitions_beta_numbers-pod.patch] is not a proper hg changeset.  Patches should be made using `hg export tip` and not `hg diff`.",
    "created_at": "2011-06-18T09:34:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111845",
    "user": "https://github.com/jdemeyer"
}
```

Also: [attachment:trac_10724-partitions_beta_numbers-pod.patch] is not a proper hg changeset.  Patches should be made using `hg export tip` and not `hg diff`.



---

archive/issue_comments_111846.json:
```json
{
    "body": "*ping*",
    "created_at": "2011-07-05T12:12:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111846",
    "user": "https://github.com/jdemeyer"
}
```

*ping*



---

archive/issue_comments_111847.json:
```json
{
    "body": "I rebased the 3 patches to 4.7.1.alpha3 and attached them as one *proper* patch.",
    "created_at": "2011-07-05T17:04:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111847",
    "user": "https://github.com/benjaminfjones"
}
```

I rebased the 3 patches to 4.7.1.alpha3 and attached them as one *proper* patch.



---

archive/issue_comments_111848.json:
```json
{
    "body": "Attachment [trac_10724-partitions_beta_numbers-rebase_4.7.1.alpha3.patch](tarball://root/attachments/some-uuid/ticket10724/trac_10724-partitions_beta_numbers-rebase_4.7.1.alpha3.patch) by @benjaminfjones created at 2011-07-05 17:04:55\n\nrebase to 4.7.1.alpha3",
    "created_at": "2011-07-05T17:04:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111848",
    "user": "https://github.com/benjaminfjones"
}
```

Attachment [trac_10724-partitions_beta_numbers-rebase_4.7.1.alpha3.patch](tarball://root/attachments/some-uuid/ticket10724/trac_10724-partitions_beta_numbers-rebase_4.7.1.alpha3.patch) by @benjaminfjones created at 2011-07-05 17:04:55

rebase to 4.7.1.alpha3



---

archive/issue_comments_111849.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2011-07-05T17:05:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111849",
    "user": "https://github.com/benjaminfjones"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_111850.json:
```json
{
    "body": "thanks!",
    "created_at": "2011-07-05T17:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111850",
    "user": "https://trac.sagemath.org/admin/accounts/users/pdehaye"
}
```

thanks!



---

archive/issue_comments_111851.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-07-22T12:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10661#issuecomment-111851",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_027621.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-22T12:50:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10661",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10661#event-27621"
}
```
