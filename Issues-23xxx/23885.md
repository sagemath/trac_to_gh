# Issue 23885: Remove ._element_constructor_ from sage.combinat.binary_tree documentation and be consistent with 'check'

archive/issues_023648.json:
```json
{
    "body": "I am actually not completely sure whether testing for 'check=False' is worth it here.  For example:\n\n```\nsage: FB = BinaryTrees(121, full=True)\nsage: b = FB.random_element()\nsage: %timeit FB(b, check=False)\n100 loops, best of 3: 16.8 ms per loop\nsage: %timeit FB(b)\n10 loops, best of 3: 21 ms per loop\n```\nHowever, removing `_element_constructor_` from the documentation is for #23881\n\nCC:  @fchapoton simonking @jdemeyer\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Martin Rubey\n\nBranch: u/mantepse/remove___element_constructor__from_sage_combinat_binary_tree_documentation_and_be_consistent_with__check_\n\nStatus: needs_work\n\nCommit: 6537d79fddce3f404eb0b7da77e3438ebd542251\n\nIssue created by migration from https://trac.sagemath.org/ticket/23885\n\n",
    "created_at": "2017-09-18T18:19:52Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Remove ._element_constructor_ from sage.combinat.binary_tree documentation and be consistent with 'check'",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23885",
    "user": "https://github.com/mantepse"
}
```
I am actually not completely sure whether testing for 'check=False' is worth it here.  For example:

```
sage: FB = BinaryTrees(121, full=True)
sage: b = FB.random_element()
sage: %timeit FB(b, check=False)
100 loops, best of 3: 16.8 ms per loop
sage: %timeit FB(b)
10 loops, best of 3: 21 ms per loop
```
However, removing `_element_constructor_` from the documentation is for #23881

CC:  @fchapoton simonking @jdemeyer

Reviewer: Frédéric Chapoton

Author: Martin Rubey

Branch: u/mantepse/remove___element_constructor__from_sage_combinat_binary_tree_documentation_and_be_consistent_with__check_

Status: needs_work

Commit: 6537d79fddce3f404eb0b7da77e3438ebd542251

Issue created by migration from https://trac.sagemath.org/ticket/23885





---

archive/issue_comments_450891.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mantepse/remove___element_constructor__from_sage_combinat_binary_tree_documentation_and_be_consistent_with__check_\"",
    "created_at": "2017-09-18T18:24:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23885",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23885#issuecomment-450891",
    "user": "https://github.com/mantepse"
}
```

Changing branch from "" to "u/mantepse/remove___element_constructor__from_sage_combinat_binary_tree_documentation_and_be_consistent_with__check_"



---

archive/issue_comments_450892.json:
```json
{
    "body": "Changing commit from \"\" to \"6537d79fddce3f404eb0b7da77e3438ebd542251\"",
    "created_at": "2017-09-18T18:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23885",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23885#issuecomment-450892",
    "user": "https://github.com/mantepse"
}
```

Changing commit from "" to "6537d79fddce3f404eb0b7da77e3438ebd542251"



---

archive/issue_comments_450893.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,14 @@\n+I am actually not completely sure whether testing for 'check=False' is worth it here.  For example:\n \n+```\n+sage: FB = BinaryTrees(121, full=True)\n+sage: b = FB.random_element()\n+sage: %timeit FB(b, check=False)\n+100 loops, best of 3: 16.8 ms per loop\n+sage: %timeit FB(b)\n+10 loops, best of 3: 21 ms per loop\n+```\n+However, removing `_element_constructor_` from the documentation is for #23881\n \n Comment: 1\n \n``````\n",
    "created_at": "2017-09-18T18:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23885",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23885#issuecomment-450893",
    "user": "https://github.com/mantepse"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,14 @@
+I am actually not completely sure whether testing for 'check=False' is worth it here.  For example:
 
+```
+sage: FB = BinaryTrees(121, full=True)
+sage: b = FB.random_element()
+sage: %timeit FB(b, check=False)
+100 loops, best of 3: 16.8 ms per loop
+sage: %timeit FB(b)
+10 loops, best of 3: 21 ms per loop
+```
+However, removing `_element_constructor_` from the documentation is for #23881
 
 Comment: 1
 
``````




---

archive/issue_comments_450894.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2017-09-18T18:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23885",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23885#issuecomment-450894",
    "user": "https://github.com/mantepse"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_450895.json:
```json
{
    "body": "Changing author from \"\" to \"Martin Rubey\"",
    "created_at": "2017-09-18T18:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23885",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23885#issuecomment-450895",
    "user": "https://github.com/mantepse"
}
```

Changing author from "" to "Martin Rubey"



---

archive/issue_comments_450896.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-09-18T18:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23885",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23885#issuecomment-450896",
    "user": "https://github.com/mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_450897.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2017-09-18T18:33:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23885",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23885#issuecomment-450897",
    "user": "https://github.com/mantepse"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_450898.json:
```json
{
    "body": "<a id='comment:5'></a>It turns out that, together with #23821, honoring `check` *is* useful:\n\nwithout this patch:\n\n```\nsage: FB = BinaryTrees(421, full=True)\nsage: b = FB.random_element()\nsage: %timeit FB(b)\n100 loops, best of 3: 14.7 ms per loop\nsage: %timeit FB(b, check=False)\n100 loops, best of 3: 14.6 ms per loop\n```\nwith this patch:\n\n```\nsage: FB = BinaryTrees(421, full=True)\nsage: b = FB.random_element()\nsage: %timeit FB(b)\n100 loops, best of 3: 14.4 ms per loop\nsage: %timeit FB(b, check=False)\n10000 loops, best of 3: 26.9 \u00b5s per loop\n```\nSo, the additional checks would actually kill the gain obtained by #23821.",
    "created_at": "2017-09-18T19:24:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23885",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23885#issuecomment-450898",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:5'></a>It turns out that, together with #23821, honoring `check` *is* useful:

without this patch:

```
sage: FB = BinaryTrees(421, full=True)
sage: b = FB.random_element()
sage: %timeit FB(b)
100 loops, best of 3: 14.7 ms per loop
sage: %timeit FB(b, check=False)
100 loops, best of 3: 14.6 ms per loop
```
with this patch:

```
sage: FB = BinaryTrees(421, full=True)
sage: b = FB.random_element()
sage: %timeit FB(b)
100 loops, best of 3: 14.4 ms per loop
sage: %timeit FB(b, check=False)
10000 loops, best of 3: 26.9 µs per loop
```
So, the additional checks would actually kill the gain obtained by #23821.



---

archive/issue_comments_450899.json:
```json
{
    "body": "<a id='comment:6'></a>ok",
    "created_at": "2017-11-21T07:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23885",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23885#issuecomment-450899",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>ok



---

archive/issue_comments_450900.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-11-21T07:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23885",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23885#issuecomment-450900",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_450901.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2017-11-21T07:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23885",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23885#issuecomment-450901",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_450902.json:
```json
{
    "body": "<a id='comment:7'></a>sorry, there are failing doctests",
    "created_at": "2017-11-21T07:27:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23885",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23885#issuecomment-450902",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>sorry, there are failing doctests



---

archive/issue_comments_450903.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-11-21T07:27:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23885",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23885#issuecomment-450903",
    "user": "https://github.com/fchapoton"
}
```

Changing status from positive_review to needs_work.
