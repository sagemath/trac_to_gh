# Issue 23190: Improve is_injective()/is_surjective() for coercions of quotient rings

archive/issues_022953.json:
```json
{
    "body": "This should return `True`\n\n```\nsage: R.<x> = ZZ[]\nsage: S.<x> = QQ[]\nsage: S.quo(x^2 + 1).coerce_map_from(R.quo(x^2 + 1)).is_injective()\n```\n\nGenerally, if `R\u2192S` is injective/surjective then the quotient is.\n\nKeywords: sd86.5, sd87, beginner\n\nBranch/Commit: 8a1e18b968a830f5d816723b0c7c3e530032ba06\n\nReviewer: Adele Bourgeois, Maarten Derickx\n\nAuthor: Julian R\u00fcth\n\nDependencies: #23485, #23484, #23483, #23482\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23190\n\n",
    "closed_at": "2017-09-10T11:56:30Z",
    "created_at": "2017-06-09T07:08:35Z",
    "labels": [
        "component: commutative algebra",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Improve is_injective()/is_surjective() for coercions of quotient rings",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23190",
    "user": "https://github.com/saraedum"
}
```
This should return `True`

```
sage: R.<x> = ZZ[]
sage: S.<x> = QQ[]
sage: S.quo(x^2 + 1).coerce_map_from(R.quo(x^2 + 1)).is_injective()
```

Generally, if `R→S` is injective/surjective then the quotient is.

Keywords: sd86.5, sd87, beginner

Branch/Commit: 8a1e18b968a830f5d816723b0c7c3e530032ba06

Reviewer: Adele Bourgeois, Maarten Derickx

Author: Julian Rüth

Dependencies: #23485, #23484, #23483, #23482

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23190





---

archive/issue_comments_429745.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This should return ``True``\n+This should return `True`\n \n ```\n sage: R.<x> = ZZ[]\n``````\n",
    "created_at": "2017-06-22T04:42:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429745",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This should return ``True``
+This should return `True`
 
 ```
 sage: R.<x> = ZZ[]
``````




---

archive/issue_events_075902.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "rename": {
        "from": "Improve is_injective()/in_surjective() for coercions of quotient rings",
        "to": "Improve is_injective()/is_surjective() for coercions of quotient rings"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23190#event-75902"
}
```



---

archive/issue_comments_429746.json:
```json
{
    "body": "Changing keywords from \"sd86.5\" to \"sd86.5, sd87\".",
    "created_at": "2017-07-17T17:45:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429746",
    "user": "https://github.com/roed314"
}
```

Changing keywords from "sd86.5" to "sd86.5, sd87".



---

archive/issue_comments_429747.json:
```json
{
    "body": "Changing branch from \"\" to \"u/saraedum/improve_is_injective___is_surjective___for_coercions_of_quotient_rings\"",
    "created_at": "2017-07-19T20:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429747",
    "user": "https://github.com/saraedum"
}
```

Changing branch from "" to "u/saraedum/improve_is_injective___is_surjective___for_coercions_of_quotient_rings"



---

archive/issue_comments_429748.json:
```json
{
    "body": "Changing branch from \"u/saraedum/improve_is_injective___is_surjective___for_coercions_of_quotient_rings\" to \"u/saraedum/23190\"",
    "created_at": "2017-07-19T20:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429748",
    "user": "https://github.com/saraedum"
}
```

Changing branch from "u/saraedum/improve_is_injective___is_surjective___for_coercions_of_quotient_rings" to "u/saraedum/23190"



---

archive/issue_comments_429749.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|\n|[64776a9](https://github.com/sagemath/sagetrac-mirror/commit/64776a9e28ccdbc439dace9c43068c287ad95acd)|`Implement is_injective/is_surjective for coercions of quotient rings`|",
    "created_at": "2017-07-19T23:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429749",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
|[64776a9](https://github.com/sagemath/sagetrac-mirror/commit/64776a9e28ccdbc439dace9c43068c287ad95acd)|`Implement is_injective/is_surjective for coercions of quotient rings`|



---

archive/issue_comments_429750.json:
```json
{
    "body": "Changing commit from \"\" to \"64776a9e28ccdbc439dace9c43068c287ad95acd\"",
    "created_at": "2017-07-19T23:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429750",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "64776a9e28ccdbc439dace9c43068c287ad95acd"



---

archive/issue_comments_429751.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#23485, #23484, #23483, #23482\"",
    "created_at": "2017-07-19T23:39:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429751",
    "user": "https://github.com/saraedum"
}
```

Changing dependencies from "" to "#23485, #23484, #23483, #23482"



---

archive/issue_comments_429752.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-07-19T23:40:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429752",
    "user": "https://github.com/saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_429753.json:
```json
{
    "body": "Changing keywords from \"sd86.5, sd87\" to \"sd86.5, sd87, beginner\".",
    "created_at": "2017-07-19T23:41:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429753",
    "user": "https://github.com/saraedum"
}
```

Changing keywords from "sd86.5, sd87" to "sd86.5, sd87, beginner".



---

archive/issue_comments_429754.json:
```json
{
    "body": "<a id='comment:10'></a>\nAll doctests pass on src/sage/rings/polynomial/polynomial_quotient_ring.py\nHowever, when running the doctests on src/sage/rings, I believe it requires #23204, based on the dependencies of #23482 and #23483.",
    "created_at": "2017-07-20T19:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429754",
    "user": "https://trac.sagemath.org/admin/accounts/users/abourgeois"
}
```

<a id='comment:10'></a>
All doctests pass on src/sage/rings/polynomial/polynomial_quotient_ring.py
However, when running the doctests on src/sage/rings, I believe it requires #23204, based on the dependencies of #23482 and #23483.



---

archive/issue_comments_429755.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Adele Bourgeois\"",
    "created_at": "2017-07-20T20:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429755",
    "user": "https://trac.sagemath.org/admin/accounts/users/abourgeois"
}
```

Changing reviewer from "" to "Adele Bourgeois"



---

archive/issue_comments_429756.json:
```json
{
    "body": "Changing author from \"\" to \"Julian R\u00fcth\"",
    "created_at": "2017-07-22T06:41:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429756",
    "user": "https://github.com/saraedum"
}
```

Changing author from "" to "Julian Rüth"



---

archive/issue_comments_429757.json:
```json
{
    "body": "Changing work_issues from \"\" to \"failing doctest\"",
    "created_at": "2017-07-23T06:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429757",
    "user": "https://github.com/saraedum"
}
```

Changing work_issues from "" to "failing doctest"



---

archive/issue_comments_429758.json:
```json
{
    "body": "Changing commit from \"64776a9e28ccdbc439dace9c43068c287ad95acd\" to \"d27262a25f9b75220f3aa84d0e1fbfadb0744331\"",
    "created_at": "2017-07-23T06:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "64776a9e28ccdbc439dace9c43068c287ad95acd" to "d27262a25f9b75220f3aa84d0e1fbfadb0744331"



---

archive/issue_comments_429759.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------|\n|[d27262a](https://github.com/sagemath/sagetrac-mirror/commit/d27262a25f9b75220f3aa84d0e1fbfadb0744331)|`Fix _richcmp_`|",
    "created_at": "2017-07-23T06:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429759",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|[d27262a](https://github.com/sagemath/sagetrac-mirror/commit/d27262a25f9b75220f3aa84d0e1fbfadb0744331)|`Fix _richcmp_`|



---

archive/issue_comments_429760.json:
```json
{
    "body": "Changing work_issues from \"failing doctest\" to \"\"",
    "created_at": "2017-07-23T06:46:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429760",
    "user": "https://github.com/saraedum"
}
```

Changing work_issues from "failing doctest" to ""



---

archive/issue_comments_429761.json:
```json
{
    "body": "<a id='comment:15'></a>\nNew commits:\n|                                                                                                                                          |               |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------|\n|[d27262a](https://github.com/sagemath/sagetrac-mirror/commit/d27262a25f9b75220f3aa84d0e1fbfadb0744331)|`Fix _richcmp_`|\n\n---\nNew commits:\n|                                                                                                                                          |               |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------|\n|[d27262a](https://github.com/sagemath/sagetrac-mirror/commit/d27262a25f9b75220f3aa84d0e1fbfadb0744331)|`Fix _richcmp_`|",
    "created_at": "2017-07-23T06:46:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429761",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:15'></a>
New commits:
|                                                                                                                                          |               |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|[d27262a](https://github.com/sagemath/sagetrac-mirror/commit/d27262a25f9b75220f3aa84d0e1fbfadb0744331)|`Fix _richcmp_`|

---
New commits:
|                                                                                                                                          |               |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|[d27262a](https://github.com/sagemath/sagetrac-mirror/commit/d27262a25f9b75220f3aa84d0e1fbfadb0744331)|`Fix _richcmp_`|



---

archive/issue_comments_429762.json:
```json
{
    "body": "<a id='comment:16'></a>\n* missing enpty line after `EXAMPLES::`",
    "created_at": "2017-07-23T07:40:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429762",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
* missing enpty line after `EXAMPLES::`



---

archive/issue_comments_429763.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [chapoton](#comment%3A16):\n> * missing enpty line after `EXAMPLES::`\n \nIs this fixed already? I could not find the `EXAMPLES::` you are referring to.",
    "created_at": "2017-07-24T13:58:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429763",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:17'></a>
Replying to [chapoton](#comment%3A16):
> * missing enpty line after `EXAMPLES::`
 
Is this fixed already? I could not find the `EXAMPLES::` you are referring to.



---

archive/issue_comments_429764.json:
```json
{
    "body": "<a id='comment:18'></a>\nindeed. But there is the same issue in richcmp as in #23185",
    "created_at": "2017-07-25T06:20:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429764",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>
indeed. But there is the same issue in richcmp as in #23185



---

archive/issue_comments_429765.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[46cb2f9](https://github.com/sagemath/sagetrac-mirror/commit/46cb2f90e1e534b51086f9b07f94854674307195)|`Implement _richcmp_ as discussed in 23185`|",
    "created_at": "2017-07-27T23:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429765",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[46cb2f9](https://github.com/sagemath/sagetrac-mirror/commit/46cb2f90e1e534b51086f9b07f94854674307195)|`Implement _richcmp_ as discussed in 23185`|



---

archive/issue_comments_429766.json:
```json
{
    "body": "Changing commit from \"d27262a25f9b75220f3aa84d0e1fbfadb0744331\" to \"46cb2f90e1e534b51086f9b07f94854674307195\"",
    "created_at": "2017-07-27T23:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429766",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d27262a25f9b75220f3aa84d0e1fbfadb0744331" to "46cb2f90e1e534b51086f9b07f94854674307195"



---

archive/issue_comments_429767.json:
```json
{
    "body": "<a id='comment:20'></a>\ndoes not apply",
    "created_at": "2017-07-31T16:11:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429767",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:20'></a>
does not apply



---

archive/issue_comments_429768.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-07-31T16:11:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429768",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_075903.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-07-31T16:11:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23190#event-75903"
}
```



---

archive/issue_comments_429769.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[e2c1e36](https://github.com/sagemath/sagetrac-mirror/commit/e2c1e36ad9e776a3069cdf56271f9d595637ecf0)|`Merge branch 'develop' into t/23190/23190`|",
    "created_at": "2017-08-03T15:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429769",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[e2c1e36](https://github.com/sagemath/sagetrac-mirror/commit/e2c1e36ad9e776a3069cdf56271f9d595637ecf0)|`Merge branch 'develop' into t/23190/23190`|



---

archive/issue_comments_429770.json:
```json
{
    "body": "Changing commit from \"46cb2f90e1e534b51086f9b07f94854674307195\" to \"e2c1e36ad9e776a3069cdf56271f9d595637ecf0\"",
    "created_at": "2017-08-03T15:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429770",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "46cb2f90e1e534b51086f9b07f94854674307195" to "e2c1e36ad9e776a3069cdf56271f9d595637ecf0"



---

archive/issue_comments_429771.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-08-03T15:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429771",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_429772.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-08-08T16:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429772",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_429773.json:
```json
{
    "body": "Changing work_issues from \"\" to \"failing doctest\"",
    "created_at": "2017-08-08T16:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429773",
    "user": "https://github.com/saraedum"
}
```

Changing work_issues from "" to "failing doctest"



---

archive/issue_comments_429774.json:
```json
{
    "body": "<a id='comment:24'></a>\n\n```\nFile \"src/sage/rings/polynomial/polynomial_quotient_ring.py\", line 1868, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_coercion.is_surjective\nFailed example:\n    f.is_surjective()\nException raised:\n    Traceback (most recent call last):\n      File \"/tmp/sage-patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 509, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/tmp/sage-patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 872, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_coercion.is_surjective[2]>\", line 1, in <module>\n        f.is_surjective()\n      File \"/tmp/sage-patchbot/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_quotient_ring.py\", line 1882, in is_surjective\n        constant_map_is_surjective = self.codomain().base_ring().coerce_map_from(self.domain().base_ring()).is_surjective()\n      File \"sage/categories/map.pyx\", line 1204, in sage.categories.map.Map.is_surjective (build/cythonized/sage/categories/map.c:9316)\n        raise NotImplementedError(type(self))\n    NotImplementedError: <type 'sage.categories.morphism.IdentityMorphism'>\n```",
    "created_at": "2017-08-08T16:42:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429774",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:24'></a>

```
File "src/sage/rings/polynomial/polynomial_quotient_ring.py", line 1868, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_coercion.is_surjective
Failed example:
    f.is_surjective()
Exception raised:
    Traceback (most recent call last):
      File "/tmp/sage-patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 509, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/tmp/sage-patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 872, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_coercion.is_surjective[2]>", line 1, in <module>
        f.is_surjective()
      File "/tmp/sage-patchbot/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_quotient_ring.py", line 1882, in is_surjective
        constant_map_is_surjective = self.codomain().base_ring().coerce_map_from(self.domain().base_ring()).is_surjective()
      File "sage/categories/map.pyx", line 1204, in sage.categories.map.Map.is_surjective (build/cythonized/sage/categories/map.c:9316)
        raise NotImplementedError(type(self))
    NotImplementedError: <type 'sage.categories.morphism.IdentityMorphism'>
```



---

archive/issue_comments_429775.json:
```json
{
    "body": "<a id='comment:25'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[944e05e](https://github.com/sagemath/sagetrac-mirror/commit/944e05e05568202eebbcbe98bdb64beab39cdbe9)|`Merge branch 'develop' into t/23190/23190`|",
    "created_at": "2017-08-08T17:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429775",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[944e05e](https://github.com/sagemath/sagetrac-mirror/commit/944e05e05568202eebbcbe98bdb64beab39cdbe9)|`Merge branch 'develop' into t/23190/23190`|



---

archive/issue_comments_429776.json:
```json
{
    "body": "Changing commit from \"e2c1e36ad9e776a3069cdf56271f9d595637ecf0\" to \"944e05e05568202eebbcbe98bdb64beab39cdbe9\"",
    "created_at": "2017-08-08T17:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429776",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e2c1e36ad9e776a3069cdf56271f9d595637ecf0" to "944e05e05568202eebbcbe98bdb64beab39cdbe9"



---

archive/issue_comments_429777.json:
```json
{
    "body": "Changing work_issues from \"failing doctest\" to \"\"",
    "created_at": "2017-08-08T18:47:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429777",
    "user": "https://github.com/saraedum"
}
```

Changing work_issues from "failing doctest" to ""



---

archive/issue_comments_429778.json:
```json
{
    "body": "<a id='comment:26'></a>\nSomehow #23482 is not in develop yet, that's why the tests fail.",
    "created_at": "2017-08-08T18:47:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429778",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:26'></a>
Somehow #23482 is not in develop yet, that's why the tests fail.



---

archive/issue_comments_429779.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-08-08T18:47:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429779",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_429780.json:
```json
{
    "body": "<a id='comment:27'></a>\nI think the mathematical content of the statement if R -> S is injective then the quotient is, is no true. A counter example is for example \n`ZZ['x'].quo(2) == GF(2)['x']` which does not inject into `QQ['x'].quo(2) == 0`. This example is not a pathology of 2 being in the constant field, it fails for any polynomial whose content is not a unit.\n\nA nice sufficient condition for injectivity is that the polynomial be monic (or more generally if its leading coefficient is a unit).\n\nThere are no problems with surjectivity.",
    "created_at": "2017-08-13T22:45:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429780",
    "user": "https://github.com/koffie"
}
```

<a id='comment:27'></a>
I think the mathematical content of the statement if R -> S is injective then the quotient is, is no true. A counter example is for example 
`ZZ['x'].quo(2) == GF(2)['x']` which does not inject into `QQ['x'].quo(2) == 0`. This example is not a pathology of 2 being in the constant field, it fails for any polynomial whose content is not a unit.

A nice sufficient condition for injectivity is that the polynomial be monic (or more generally if its leading coefficient is a unit).

There are no problems with surjectivity.



---

archive/issue_comments_429781.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-08-13T22:45:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429781",
    "user": "https://github.com/koffie"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_429782.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-08-14T14:23:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429782",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_429783.json:
```json
{
    "body": "<a id='comment:28'></a>\nThanks for catching that one. You are right of course. Fixed now.",
    "created_at": "2017-08-14T14:23:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429783",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:28'></a>
Thanks for catching that one. You are right of course. Fixed now.



---

archive/issue_comments_429784.json:
```json
{
    "body": "Changing commit from \"944e05e05568202eebbcbe98bdb64beab39cdbe9\" to \"19aee539f2e5ba1c65f408d9a5ee40eb59e3e0e3\"",
    "created_at": "2017-08-14T14:29:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429784",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "944e05e05568202eebbcbe98bdb64beab39cdbe9" to "19aee539f2e5ba1c65f408d9a5ee40eb59e3e0e3"



---

archive/issue_comments_429785.json:
```json
{
    "body": "<a id='comment:29'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[19aee53](https://github.com/sagemath/sagetrac-mirror/commit/19aee539f2e5ba1c65f408d9a5ee40eb59e3e0e3)|`Fix is_injective`|",
    "created_at": "2017-08-14T14:29:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429785",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[19aee53](https://github.com/sagemath/sagetrac-mirror/commit/19aee539f2e5ba1c65f408d9a5ee40eb59e3e0e3)|`Fix is_injective`|



---

archive/issue_comments_429786.json:
```json
{
    "body": "<a id='comment:30'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[282ea20](https://github.com/sagemath/sagetrac-mirror/commit/282ea209b388f2fe76b4e93f192f74e7a749bf23)|`Do not test is_jnjective() for non-unit leading coefficient`|",
    "created_at": "2017-08-14T14:36:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429786",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[282ea20](https://github.com/sagemath/sagetrac-mirror/commit/282ea209b388f2fe76b4e93f192f74e7a749bf23)|`Do not test is_jnjective() for non-unit leading coefficient`|



---

archive/issue_comments_429787.json:
```json
{
    "body": "Changing commit from \"19aee539f2e5ba1c65f408d9a5ee40eb59e3e0e3\" to \"282ea209b388f2fe76b4e93f192f74e7a749bf23\"",
    "created_at": "2017-08-14T14:36:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429787",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "19aee539f2e5ba1c65f408d9a5ee40eb59e3e0e3" to "282ea209b388f2fe76b4e93f192f74e7a749bf23"



---

archive/issue_comments_429788.json:
```json
{
    "body": "<a id='comment:31'></a>\nOk the code looks fine now. If you can rewrite the extremely long lines such as:\n\n```\nif self.domain().modulus().change_ring(self.codomain().base_ring()) == self.codomain().modulus() and self.domain().modulus().leading_coefficient().is_unit():\n``` \n\nin such a way that they comfortably fit on a reasonable screen and all the doctests pass. Then this ticket gets a positive review from me.\n\n\nP.s. In reviewing this ticket I also found some mathematically incorrect behaviour of quotients of univariate polynomials rings. I created a separate ticket for this: #23621",
    "created_at": "2017-08-14T17:05:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429788",
    "user": "https://github.com/koffie"
}
```

<a id='comment:31'></a>
Ok the code looks fine now. If you can rewrite the extremely long lines such as:

```
if self.domain().modulus().change_ring(self.codomain().base_ring()) == self.codomain().modulus() and self.domain().modulus().leading_coefficient().is_unit():
``` 

in such a way that they comfortably fit on a reasonable screen and all the doctests pass. Then this ticket gets a positive review from me.


P.s. In reviewing this ticket I also found some mathematically incorrect behaviour of quotients of univariate polynomials rings. I created a separate ticket for this: #23621



---

archive/issue_comments_429789.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[8a1e18b](https://github.com/sagemath/sagetrac-mirror/commit/8a1e18b968a830f5d816723b0c7c3e530032ba06)|`break long lines`|",
    "created_at": "2017-08-21T04:56:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429789",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[8a1e18b](https://github.com/sagemath/sagetrac-mirror/commit/8a1e18b968a830f5d816723b0c7c3e530032ba06)|`break long lines`|



---

archive/issue_comments_429790.json:
```json
{
    "body": "Changing commit from \"282ea209b388f2fe76b4e93f192f74e7a749bf23\" to \"8a1e18b968a830f5d816723b0c7c3e530032ba06\"",
    "created_at": "2017-08-21T04:56:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429790",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "282ea209b388f2fe76b4e93f192f74e7a749bf23" to "8a1e18b968a830f5d816723b0c7c3e530032ba06"



---

archive/issue_comments_429791.json:
```json
{
    "body": "<a id='comment:33'></a>\nI only found that one line that's extremely long. For the others that are somewhat long I don't think there is a good position that calls for breaking them there. (But if you insist, I can break them of course.)\n\n---\nNew commits:\n|                                                                                                                                          |                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[8a1e18b](https://github.com/sagemath/sagetrac-mirror/commit/8a1e18b968a830f5d816723b0c7c3e530032ba06)|`break long lines`|",
    "created_at": "2017-08-21T04:56:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429791",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:33'></a>
I only found that one line that's extremely long. For the others that are somewhat long I don't think there is a good position that calls for breaking them there. (But if you insist, I can break them of course.)

---
New commits:
|                                                                                                                                          |                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[8a1e18b](https://github.com/sagemath/sagetrac-mirror/commit/8a1e18b968a830f5d816723b0c7c3e530032ba06)|`break long lines`|



---

archive/issue_comments_429792.json:
```json
{
    "body": "Changing reviewer from \"Adele Bourgeois\" to \"Adele Bourgeois, Maarten Derickx\"",
    "created_at": "2017-08-21T04:58:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429792",
    "user": "https://github.com/saraedum"
}
```

Changing reviewer from "Adele Bourgeois" to "Adele Bourgeois, Maarten Derickx"



---

archive/issue_comments_429793.json:
```json
{
    "body": "<a id='comment:35'></a>\na question to abourgeois : should we write \"Adele\" or \"Ad\u00e8le\" ?",
    "created_at": "2017-08-21T06:24:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429793",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:35'></a>
a question to abourgeois : should we write "Adele" or "Adèle" ?



---

archive/issue_comments_429794.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [chapoton](#comment%3A35):\n> a question to abourgeois : should we write \"Adele\" or \"Ad\u00e8le\" ?\n\n\nI usually sign my name with the accent, but I don't really have a preference in writing (some of my legal documents omit the accent).",
    "created_at": "2017-08-21T13:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429794",
    "user": "https://trac.sagemath.org/admin/accounts/users/abourgeois"
}
```

<a id='comment:36'></a>
Replying to [chapoton](#comment%3A35):
> a question to abourgeois : should we write "Adele" or "Adèle" ?


I usually sign my name with the accent, but I don't really have a preference in writing (some of my legal documents omit the accent).



---

archive/issue_comments_429795.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-30T15:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429795",
    "user": "https://github.com/koffie"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_429796.json:
```json
{
    "body": "<a id='comment:37'></a>\nOk, looks good to me.",
    "created_at": "2017-08-30T15:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429796",
    "user": "https://github.com/koffie"
}
```

<a id='comment:37'></a>
Ok, looks good to me.



---

archive/issue_comments_429797.json:
```json
{
    "body": "Changing branch from \"u/saraedum/23190\" to \"8a1e18b968a830f5d816723b0c7c3e530032ba06\"",
    "created_at": "2017-09-10T11:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429797",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/saraedum/23190" to "8a1e18b968a830f5d816723b0c7c3e530032ba06"



---

archive/issue_comments_429798.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-09-10T11:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23190#issuecomment-429798",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_075904.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-10T11:56:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23190",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23190#event-75904"
}
```
