# Issue 23214: enhance sparse integer matrix with linbox (+ cleaning)

archive/issues_022977.json:
```json
{
    "body": "LinBox has algorithms to work with sparse matrices. This ticket provides the necessary interface for:\n- solving sparse systems over integers\n- computing determinant and rank\n- computing minimal and characteristic polynomials\n\nSome cleaning had to be done as a first step (used to be #26178).\n\nLinBox issues\n\n- [Issue 118 (determinant hangs)](https://github.com/linbox-team/linbox/issues/118)\n- [Issue 138 (Compilation failure on OSX)](https://github.com/linbox-team/linbox/issues/138)\n- [Issue 144 (row index: unsigned long versus size_t)](https://github.com/linbox-team/linbox/issues/144)\n\n(see also #22872 for the linbox task ticket)\n\n**CC:**  @ClementPernet @tscrim tmonteil\n\n**Keywords:** linbox\n\n**Branch:** [98ac98478bedfaf6a2ac8d84da67253978e7e9ca](https://github.com/sagemath/sagetrac-mirror/commit/98ac98478bedfaf6a2ac8d84da67253978e7e9ca)\n\n**Reviewer:** Travis Scrimshaw, Vincent Klein\n\n**Author:** Vincent Delecroix\n\nIssue created by migration from https://trac.sagemath.org/ticket/23214\n\n",
    "closed_at": "2018-11-07T11:28:16Z",
    "created_at": "2017-06-11T07:39:09Z",
    "labels": [
        "component: linear algebra",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "enhance sparse integer matrix with linbox (+ cleaning)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23214",
    "user": "https://github.com/videlec"
}
```
LinBox has algorithms to work with sparse matrices. This ticket provides the necessary interface for:
- solving sparse systems over integers
- computing determinant and rank
- computing minimal and characteristic polynomials

Some cleaning had to be done as a first step (used to be #26178).

LinBox issues

- [Issue 118 (determinant hangs)](https://github.com/linbox-team/linbox/issues/118)
- [Issue 138 (Compilation failure on OSX)](https://github.com/linbox-team/linbox/issues/138)
- [Issue 144 (row index: unsigned long versus size_t)](https://github.com/linbox-team/linbox/issues/144)

(see also #22872 for the linbox task ticket)

**CC:**  @ClementPernet @tscrim tmonteil

**Keywords:** linbox

**Branch:** [98ac98478bedfaf6a2ac8d84da67253978e7e9ca](https://github.com/sagemath/sagetrac-mirror/commit/98ac98478bedfaf6a2ac8d84da67253978e7e9ca)

**Reviewer:** Travis Scrimshaw, Vincent Klein

**Author:** Vincent Delecroix

Issue created by migration from https://trac.sagemath.org/ticket/23214





---

archive/issue_comments_350814.json:
```json
{
    "body": "<a id='comment:1'></a>\nJust to put in a plug for this, it would be very useful for various aspects of number theory, particularly dealing with Hecke operators which tend to be represented by sparse integer matrices.",
    "created_at": "2017-09-11T00:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350814",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:1'></a>
Just to put in a plug for this, it would be very useful for various aspects of number theory, particularly dealing with Hecke operators which tend to be represented by sparse integer matrices.



---

archive/issue_comments_350815.json:
```json
{
    "body": "<a id='comment:2'></a>\nAnd combinatorics and geomtry and ... just waiting for upstream [github issue 56](https://github.com/linbox-team/linbox/issues/56).",
    "created_at": "2017-09-11T05:14:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350815",
    "user": "https://github.com/videlec"
}
```

<a id='comment:2'></a>
And combinatorics and geomtry and ... just waiting for upstream [github issue 56](https://github.com/linbox-team/linbox/issues/56).



---

archive/issue_comments_350816.json:
```json
{
    "body": "<a id='comment:3'></a>\nThat issue has been closed.  Are we waiting on a release?",
    "created_at": "2017-11-05T07:37:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350816",
    "user": "https://github.com/roed314"
}
```

<a id='comment:3'></a>
That issue has been closed.  Are we waiting on a release?



---

archive/issue_comments_350817.json:
```json
{
    "body": "<a id='comment:4'></a>\nIndeed, Cl\u00e9ment wrote on the github issue\n\n```\nNote that we're also planning on releasing all 3 libraries\nsoon (within a few weeks), and I'll create a sage ticket\nfor updating the spkg.\n```",
    "created_at": "2017-11-05T09:20:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350817",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>
Indeed, Cl√©ment wrote on the github issue

```
Note that we're also planning on releasing all 3 libraries
soon (within a few weeks), and I'll create a sage ticket
for updating the spkg.
```



---

archive/issue_comments_350818.json:
```json
{
    "body": "<a id='comment:5'></a>\nFYI LinBox upgrade ticket is #24214.\nCurrent ticket already depends on it by transitivity with #23158.",
    "created_at": "2017-11-14T09:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350818",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:5'></a>
FYI LinBox upgrade ticket is #24214.
Current ticket already depends on it by transitivity with #23158.



---

archive/issue_comments_350819.json:
```json
{
    "body": "**Changing dependencies** from \"#23158\" to \"#24544\".",
    "created_at": "2018-04-30T10:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350819",
    "user": "https://github.com/videlec"
}
```

**Changing dependencies** from "#23158" to "#24544".



---

archive/issue_events_206814.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-04-30T10:59:50Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206814"
}
```



---

archive/issue_events_206815.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-04-30T10:59:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206815"
}
```



---

archive/issue_events_206816.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-04-30T13:39:24Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "rename": {
        "from": "solving integer sparse linear system using LinBox",
        "to": "solve/det/rank for sparse integer matrix using LinBox"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206816"
}
```



---

archive/issue_comments_350820.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-LinBox has very efficient algorithms to solve linear systems. This ticket provides the necessary interface for solving sparse systems over integers.\n+LinBox has algorithms to work with sparse matrices. This ticket provides the necessary interface for:\n+- solving sparse systems over integers\n+- computing determinant and rank\n``````\n",
    "created_at": "2018-04-30T13:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350820",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-LinBox has very efficient algorithms to solve linear systems. This ticket provides the necessary interface for solving sparse systems over integers.
+LinBox has algorithms to work with sparse matrices. This ticket provides the necessary interface for:
+- solving sparse systems over integers
+- computing determinant and rank
``````




---

archive/issue_events_206817.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-05-01T12:12:34Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "rename": {
        "from": "solve/det/rank for sparse integer matrix using LinBox",
        "to": "enhance sparse integer matrix with linbox"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206817"
}
```



---

archive/issue_comments_350821.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n LinBox has algorithms to work with sparse matrices. This ticket provides the necessary interface for:\n - solving sparse systems over integers\n - computing determinant and rank\n+- computing minimal and characteristic polynomials\n``````\n",
    "created_at": "2018-05-01T12:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350821",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
 LinBox has algorithms to work with sparse matrices. This ticket provides the necessary interface for:
 - solving sparse systems over integers
 - computing determinant and rank
+- computing minimal and characteristic polynomials
``````




---

archive/issue_comments_350822.json:
```json
{
    "body": "**Branch:** [u/vdelecroix/23214](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/23214)",
    "created_at": "2018-05-01T12:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350822",
    "user": "https://github.com/videlec"
}
```

**Branch:** [u/vdelecroix/23214](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/23214)



---

archive/issue_events_206818.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-05-01T12:17:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206818"
}
```



---

archive/issue_comments_350823.json:
```json
{
    "body": "<a id='comment:9'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb54e4bb4fdbc6e947f00810cd5647bb0112b103\">eb54e4b</a></td><td><code>24544: cleaning linbox headers</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d787d30f809816da2587e3800e6a3a73ac97022\">9d787d3</a></td><td><code>24544: fix matrix_modn_dense</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99ed9447842555548004661fbf9e52e89479bdf0\">99ed944</a></td><td><code>24544: fix matrix_modn_sparse</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13f4de4355768beb6fa5a94dc975fd8b55f6d8b4\">13f4de4</a></td><td><code>24544: fix documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1e49334fcf8fd8a1620f495dba89ea10937e52e\">a1e4933</a></td><td><code>24544: do not compile the sage extension support anymore</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/956610a83e4d5f091b6e91dfaccae3772a9f3178\">956610a</a></td><td><code>24544: remove linbox GFq from benchmarks</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e92d8eb97a9212a2d10528d5a373952be5e0d7a\">7e92d8e</a></td><td><code>23214: sparse integer matrices and LinBox</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2712020f863309676e9da504ede9c34976c1d619\">2712020</a></td><td><code>23214: empty conversion.pyx to make cython happy</code></td></tr></table>\n",
    "created_at": "2018-05-01T12:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350823",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb54e4bb4fdbc6e947f00810cd5647bb0112b103">eb54e4b</a></td><td><code>24544: cleaning linbox headers</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d787d30f809816da2587e3800e6a3a73ac97022">9d787d3</a></td><td><code>24544: fix matrix_modn_dense</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99ed9447842555548004661fbf9e52e89479bdf0">99ed944</a></td><td><code>24544: fix matrix_modn_sparse</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13f4de4355768beb6fa5a94dc975fd8b55f6d8b4">13f4de4</a></td><td><code>24544: fix documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1e49334fcf8fd8a1620f495dba89ea10937e52e">a1e4933</a></td><td><code>24544: do not compile the sage extension support anymore</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/956610a83e4d5f091b6e91dfaccae3772a9f3178">956610a</a></td><td><code>24544: remove linbox GFq from benchmarks</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e92d8eb97a9212a2d10528d5a373952be5e0d7a">7e92d8e</a></td><td><code>23214: sparse integer matrices and LinBox</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2712020f863309676e9da504ede9c34976c1d619">2712020</a></td><td><code>23214: empty conversion.pyx to make cython happy</code></td></tr></table>




---

archive/issue_comments_350824.json:
```json
{
    "body": "**Commit:** [2712020f863309676e9da504ede9c34976c1d619](https://github.com/sagemath/sagetrac-mirror/commit/2712020f863309676e9da504ede9c34976c1d619)",
    "created_at": "2018-05-01T12:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350824",
    "user": "https://github.com/videlec"
}
```

**Commit:** [2712020f863309676e9da504ede9c34976c1d619](https://github.com/sagemath/sagetrac-mirror/commit/2712020f863309676e9da504ede9c34976c1d619)



---

archive/issue_comments_350825.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,3 +2,5 @@\n - solving sparse systems over integers\n - computing determinant and rank\n - computing minimal and characteristic polynomials\n+\n+(see also #22872 for the linbox task ticket)\n``````\n",
    "created_at": "2018-05-01T12:18:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350825",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,3 +2,5 @@
 - solving sparse systems over integers
 - computing determinant and rank
 - computing minimal and characteristic polynomials
+
+(see also #22872 for the linbox task ticket)
``````




---

archive/issue_comments_350826.json:
```json
{
    "body": "<a id='comment:11'></a>\nThis hangs forever\n\n```\nsage: m = diagonal_matrix(ZZ, 68, [2]*66 + [1,1])\nsage: type(m)\n<type 'sage.matrix.matrix_integer_sparse.Matrix_integer_sparse'>\nsage: m.det()\n```\n(from `matrix/matrix_integer_dense_hnf.py`)",
    "created_at": "2018-05-02T09:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350826",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>
This hangs forever

```
sage: m = diagonal_matrix(ZZ, 68, [2]*66 + [1,1])
sage: type(m)
<type 'sage.matrix.matrix_integer_sparse.Matrix_integer_sparse'>
sage: m.det()
```
(from `matrix/matrix_integer_dense_hnf.py`)



---

archive/issue_comments_350827.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,4 +3,8 @@\n - computing determinant and rank\n - computing minimal and characteristic polynomials\n \n+LinBox issues\n+\n+- [Issue 118 (determinant hangs)](https://github.com/linbox-team/linbox/issues/118)\n+\n (see also #22872 for the linbox task ticket)\n``````\n",
    "created_at": "2018-05-02T09:53:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350827",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,4 +3,8 @@
 - computing determinant and rank
 - computing minimal and characteristic polynomials
 
+LinBox issues
+
+- [Issue 118 (determinant hangs)](https://github.com/linbox-team/linbox/issues/118)
+
 (see also #22872 for the linbox task ticket)
``````




---

archive/issue_comments_350828.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74ccd060c500804dda285c6640199598e12965eb\">74ccd06</a></td><td><code>23214: sparse integer matrices and LinBox</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1cd803714d3cdc6435a58649a4a7efebd9460c9c\">1cd8037</a></td><td><code>23214: don't use LinBox for determinant</code></td></tr></table>\n",
    "created_at": "2018-05-02T10:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350828",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74ccd060c500804dda285c6640199598e12965eb">74ccd06</a></td><td><code>23214: sparse integer matrices and LinBox</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1cd803714d3cdc6435a58649a4a7efebd9460c9c">1cd8037</a></td><td><code>23214: don't use LinBox for determinant</code></td></tr></table>




---

archive/issue_comments_350829.json:
```json
{
    "body": "**Changing commit** from \"[2712020f863309676e9da504ede9c34976c1d619](https://github.com/sagemath/sagetrac-mirror/commit/2712020f863309676e9da504ede9c34976c1d619)\" to \"[1cd803714d3cdc6435a58649a4a7efebd9460c9c](https://github.com/sagemath/sagetrac-mirror/commit/1cd803714d3cdc6435a58649a4a7efebd9460c9c)\".",
    "created_at": "2018-05-02T10:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350829",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2712020f863309676e9da504ede9c34976c1d619](https://github.com/sagemath/sagetrac-mirror/commit/2712020f863309676e9da504ede9c34976c1d619)" to "[1cd803714d3cdc6435a58649a4a7efebd9460c9c](https://github.com/sagemath/sagetrac-mirror/commit/1cd803714d3cdc6435a58649a4a7efebd9460c9c)".



---

archive/issue_comments_350830.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b7b84a078084a505c722b43689c6f6f12aca0e9\">5b7b84a</a></td><td><code>23214: sparse integer matrices and LinBox</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84236154543bf0b2dcf547dcd372d5605d949668\">8423615</a></td><td><code>23214: don't use LinBox for determinant</code></td></tr></table>\n",
    "created_at": "2018-05-02T15:45:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350830",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b7b84a078084a505c722b43689c6f6f12aca0e9">5b7b84a</a></td><td><code>23214: sparse integer matrices and LinBox</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84236154543bf0b2dcf547dcd372d5605d949668">8423615</a></td><td><code>23214: don't use LinBox for determinant</code></td></tr></table>




---

archive/issue_comments_350831.json:
```json
{
    "body": "**Changing commit** from \"[1cd803714d3cdc6435a58649a4a7efebd9460c9c](https://github.com/sagemath/sagetrac-mirror/commit/1cd803714d3cdc6435a58649a4a7efebd9460c9c)\" to \"[84236154543bf0b2dcf547dcd372d5605d949668](https://github.com/sagemath/sagetrac-mirror/commit/84236154543bf0b2dcf547dcd372d5605d949668)\".",
    "created_at": "2018-05-02T15:45:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350831",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1cd803714d3cdc6435a58649a4a7efebd9460c9c](https://github.com/sagemath/sagetrac-mirror/commit/1cd803714d3cdc6435a58649a4a7efebd9460c9c)" to "[84236154543bf0b2dcf547dcd372d5605d949668](https://github.com/sagemath/sagetrac-mirror/commit/84236154543bf0b2dcf547dcd372d5605d949668)".



---

archive/issue_comments_350832.json:
```json
{
    "body": "<a id='comment:15'></a>\n\n```\nsage: Matrix(IntegerModRing(16), 3, 3, lambda i,j: i+j, sparse=True).determinant()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-2-2d0c9b09dcc5> in <module>()\n----> 1 Matrix(IntegerModRing(Integer(16)), Integer(3), Integer(3), lambda i,j: i+j, sparse=True).determinant()\n\n/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/matrix/matrix_modn_sparse.pyx in sage.matrix.matrix_modn_sparse.Matrix_modn_sparse.determinant (build/cythonized/sage/matrix/matrix_modn_sparse.cpp:10523)()\n    924 \n    925         if algorithm is None or algorithm == \"linbox\":\n--> 926             r, d = self._rank_det_linbox()\n    927             self.cache('rank', r)\n    928             self.cache('det', d)\n\n/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/matrix/matrix_modn_sparse.pyx in sage.matrix.matrix_modn_sparse.Matrix_modn_sparse._rank_det_linbox (build/cythonized/sage/matrix/matrix_modn_sparse.cpp:9553)()\n    766 \n    767         if not is_prime(self.p):\n--> 768             raise TypeError(\"only GF(p) supported via LinBox\")\n    769 \n    770         cdef Modular_int64 * F = new Modular_int64(self.p)\n\nTypeError: only GF(p) supported via LinBox\n```",
    "created_at": "2018-05-04T10:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350832",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>

```
sage: Matrix(IntegerModRing(16), 3, 3, lambda i,j: i+j, sparse=True).determinant()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-2-2d0c9b09dcc5> in <module>()
----> 1 Matrix(IntegerModRing(Integer(16)), Integer(3), Integer(3), lambda i,j: i+j, sparse=True).determinant()

/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/matrix/matrix_modn_sparse.pyx in sage.matrix.matrix_modn_sparse.Matrix_modn_sparse.determinant (build/cythonized/sage/matrix/matrix_modn_sparse.cpp:10523)()
    924 
    925         if algorithm is None or algorithm == "linbox":
--> 926             r, d = self._rank_det_linbox()
    927             self.cache('rank', r)
    928             self.cache('det', d)

/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/matrix/matrix_modn_sparse.pyx in sage.matrix.matrix_modn_sparse.Matrix_modn_sparse._rank_det_linbox (build/cythonized/sage/matrix/matrix_modn_sparse.cpp:9553)()
    766 
    767         if not is_prime(self.p):
--> 768             raise TypeError("only GF(p) supported via LinBox")
    769 
    770         cdef Modular_int64 * F = new Modular_int64(self.p)

TypeError: only GF(p) supported via LinBox
```



---

archive/issue_events_206819.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-05-04T10:14:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206819"
}
```



---

archive/issue_events_206820.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-05-04T10:14:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206820"
}
```



---

archive/issue_comments_350833.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"linbox\".",
    "created_at": "2018-06-26T14:03:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350833",
    "user": "https://github.com/fchapoton"
}
```

**Changing keywords** from "" to "linbox".



---

archive/issue_events_206821.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206821"
}
```



---

archive/issue_events_206822.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206822"
}
```



---

archive/issue_comments_350834.json:
```json
{
    "body": "<a id='comment:17'></a>\nupdate milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350834",
    "user": "https://github.com/videlec"
}
```

<a id='comment:17'></a>
update milestone 8.3 -> 8.4



---

archive/issue_comments_350835.json:
```json
{
    "body": "**Changing commit** from \"[84236154543bf0b2dcf547dcd372d5605d949668](https://github.com/sagemath/sagetrac-mirror/commit/84236154543bf0b2dcf547dcd372d5605d949668)\" to \"[43babdeae57a36e1b40dcf22e4ba254b3d229e2c](https://github.com/sagemath/sagetrac-mirror/commit/43babdeae57a36e1b40dcf22e4ba254b3d229e2c)\".",
    "created_at": "2018-09-02T19:05:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350835",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[84236154543bf0b2dcf547dcd372d5605d949668](https://github.com/sagemath/sagetrac-mirror/commit/84236154543bf0b2dcf547dcd372d5605d949668)" to "[43babdeae57a36e1b40dcf22e4ba254b3d229e2c](https://github.com/sagemath/sagetrac-mirror/commit/43babdeae57a36e1b40dcf22e4ba254b3d229e2c)".



---

archive/issue_comments_350836.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c157ff2977db9bcb0940b2ce3ec310ded1d0df6\">2c157ff</a></td><td><code>24544: cleaning linbox headers</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b037c871c7be6689f0137819fa207ad7e6a2f77a\">b037c87</a></td><td><code>24544: fix matrix_modn_dense</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a12f0a1fb527a7ee65b85c19ea2e6f2101a1a443\">a12f0a1</a></td><td><code>24554: fix matrix modn sparse</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52d8a349623e26f092b5d9d3321e3e82ec55a71a\">52d8a34</a></td><td><code>24544: fix documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8acfbc98500f2ef619c7df6f2e9800804ea61e75\">8acfbc9</a></td><td><code>24544: remove linbox GFq from benchmarks</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/43babdeae57a36e1b40dcf22e4ba254b3d229e2c\">43babde</a></td><td><code>23214: use linbox in sparse integer matrices</code></td></tr></table>\n",
    "created_at": "2018-09-02T19:05:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350836",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c157ff2977db9bcb0940b2ce3ec310ded1d0df6">2c157ff</a></td><td><code>24544: cleaning linbox headers</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b037c871c7be6689f0137819fa207ad7e6a2f77a">b037c87</a></td><td><code>24544: fix matrix_modn_dense</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a12f0a1fb527a7ee65b85c19ea2e6f2101a1a443">a12f0a1</a></td><td><code>24554: fix matrix modn sparse</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52d8a349623e26f092b5d9d3321e3e82ec55a71a">52d8a34</a></td><td><code>24544: fix documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8acfbc98500f2ef619c7df6f2e9800804ea61e75">8acfbc9</a></td><td><code>24544: remove linbox GFq from benchmarks</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/43babdeae57a36e1b40dcf22e4ba254b3d229e2c">43babde</a></td><td><code>23214: use linbox in sparse integer matrices</code></td></tr></table>




---

archive/issue_events_206823.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-09-02T19:05:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206823"
}
```



---

archive/issue_events_206824.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-09-02T19:05:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206824"
}
```



---

archive/issue_comments_350837.json:
```json
{
    "body": "<a id='comment:20'></a>\npatchbot is happy :-)",
    "created_at": "2018-09-02T20:20:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350837",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'></a>
patchbot is happy :-)



---

archive/issue_comments_350838.json:
```json
{
    "body": "<a id='comment:21'></a>\nOops, I got this confused with the other needs review linbox ticket where compiling on OSX was an issue, I'll try them both out together now I guess.",
    "created_at": "2018-09-02T20:29:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350838",
    "user": "https://github.com/alexjbest"
}
```

<a id='comment:21'></a>
Oops, I got this confused with the other needs review linbox ticket where compiling on OSX was an issue, I'll try them both out together now I guess.



---

archive/issue_comments_350839.json:
```json
{
    "body": "<a id='comment:22'></a>\n@alexjbest: this ticket strictly contains the commit of the other one #24544.",
    "created_at": "2018-09-02T20:36:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350839",
    "user": "https://github.com/videlec"
}
```

<a id='comment:22'></a>
@alexjbest: this ticket strictly contains the commit of the other one #24544.



---

archive/issue_comments_350840.json:
```json
{
    "body": "<a id='comment:23'></a>\nSmall typo (missing leading colon): <code>meth:\\`sage.matrix.matrix_sparse.Matrix_sparse.charpoly\\`</code> Otherwise I am happy with the current state (and will assume there are no failures on OSX).",
    "created_at": "2018-09-03T02:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350840",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:23'></a>
Small typo (missing leading colon): <code>meth:\`sage.matrix.matrix_sparse.Matrix_sparse.charpoly\`</code> Otherwise I am happy with the current state (and will assume there are no failures on OSX).



---

archive/issue_comments_350841.json:
```json
{
    "body": "**Changing commit** from \"[43babdeae57a36e1b40dcf22e4ba254b3d229e2c](https://github.com/sagemath/sagetrac-mirror/commit/43babdeae57a36e1b40dcf22e4ba254b3d229e2c)\" to \"[1d8d266779da4d0e9078e2050d9bb861a2ac213b](https://github.com/sagemath/sagetrac-mirror/commit/1d8d266779da4d0e9078e2050d9bb861a2ac213b)\".",
    "created_at": "2018-09-03T02:26:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350841",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[43babdeae57a36e1b40dcf22e4ba254b3d229e2c](https://github.com/sagemath/sagetrac-mirror/commit/43babdeae57a36e1b40dcf22e4ba254b3d229e2c)" to "[1d8d266779da4d0e9078e2050d9bb861a2ac213b](https://github.com/sagemath/sagetrac-mirror/commit/1d8d266779da4d0e9078e2050d9bb861a2ac213b)".



---

archive/issue_comments_350842.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d8d266779da4d0e9078e2050d9bb861a2ac213b\">1d8d266</a></td><td><code>23214: small typo</code></td></tr></table>\n",
    "created_at": "2018-09-03T02:26:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350842",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d8d266779da4d0e9078e2050d9bb861a2ac213b">1d8d266</a></td><td><code>23214: small typo</code></td></tr></table>




---

archive/issue_comments_350843.json:
```json
{
    "body": "<a id='comment:25'></a>\nLGTM. Thanks. Alex, if you end up hitting an error during your testing, please revert.",
    "created_at": "2018-09-03T02:37:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350843",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>
LGTM. Thanks. Alex, if you end up hitting an error during your testing, please revert.



---

archive/issue_events_206825.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-09-03T02:37:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206825"
}
```



---

archive/issue_events_206826.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-09-03T02:37:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206826"
}
```



---

archive/issue_comments_350844.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2018-09-03T02:37:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350844",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_events_206827.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-09-05T22:42:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206827"
}
```



---

archive/issue_events_206828.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-09-05T22:42:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206828"
}
```



---

archive/issue_comments_350845.json:
```json
{
    "body": "<a id='comment:26'></a>\nDoesn't build on OSX:\n\n```\n[sagelib-8.4.beta3] In file included from build/cythonized/sage/matrix/matrix_integer_sparse.cpp:708:\n[sagelib-8.4.beta3] In file included from /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/matrix/dense-matrix.h:79:\n[sagelib-8.4.beta3] In file included from /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/matrix/densematrix/blas-matrix.h:44:\n[sagelib-8.4.beta3] /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/vector/blas-vector.h:306:11: error: member reference base type 'const long' is not a structure or union\n[sagelib-8.4.beta3]                         _size(V.size()),_1stride(1),_rep(V.size(), F.zero),_ptr(&_rep[0]),_field(&F)\n[sagelib-8.4.beta3]                               ~^~~~~\n[sagelib-8.4.beta3] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:10932:21: note: in instantiation of function template specialization 'LinBox::BlasVector<Givaro::ZRing<Givaro::Integer>, std::__1::vector<Givaro::Integer, std::__1::allocator<Givaro::Integer> > >::BlasVector<long>' requested here\n[sagelib-8.4.beta3]   __pyx_v_res = new LinBox::DenseVector<Givaro::ZRing<Givaro::Integer>>(__pyx_v_givZZ, __pyx_v_self->__pyx_base.__pyx_base.__pyx_base.__pyx_base.__pyx_base._ncols);\n[sagelib-8.4.beta3]                     ^\n[sagelib-8.4.beta3] In file included from build/cythonized/sage/matrix/matrix_integer_sparse.cpp:708:\n[sagelib-8.4.beta3] In file included from /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/matrix/dense-matrix.h:79:\n[sagelib-8.4.beta3] In file included from /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/matrix/densematrix/blas-matrix.h:44:\n[sagelib-8.4.beta3] /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/vector/blas-vector.h:306:38: error: member reference base type 'const long' is not a structure or union\n[sagelib-8.4.beta3]                         _size(V.size()),_1stride(1),_rep(V.size(), F.zero),_ptr(&_rep[0]),_field(&F)\n[sagelib-8.4.beta3]                                                          ~^~~~~\n[sagelib-8.4.beta3] /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/vector/blas-vector.h:306:61: warning: field '_rep' is uninitialized when used here [-Wuninitialized]\n[sagelib-8.4.beta3]                         _size(V.size()),_1stride(1),_rep(V.size(), F.zero),_ptr(&_rep[0]),_field(&F)\n[sagelib-8.4.beta3]                                                                                  ^\n[sagelib-8.4.beta3] /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/vector/blas-vector.h:129:13: error: type 'long' cannot be used prior to '::' because it has no members\n[sagelib-8.4.beta3]                         typename OtherVector::const_iterator jt = V.begin();\n[sagelib-8.4.beta3]                                  ^\n[sagelib-8.4.beta3] /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/vector/blas-vector.h:311:4: note: in instantiation of function template specialization 'LinBox::BlasVector<Givaro::ZRing<Givaro::Integer>, std::__1::vector<Givaro::Integer, std::__1::allocator<Givaro::Integer> > >::createBlasVector<long>' requested here\n[sagelib-8.4.beta3]                         createBlasVector(V);\n[sagelib-8.4.beta3]                         ^\n[sagelib-8.4.beta3] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:10932:21: note: in instantiation of function template specialization 'LinBox::BlasVector<Givaro::ZRing<Givaro::Integer>, std::__1::vector<Givaro::Integer, std::__1::allocator<Givaro::Integer> > >::BlasVector<long>' requested here\n[sagelib-8.4.beta3]   __pyx_v_res = new LinBox::DenseVector<Givaro::ZRing<Givaro::Integer>>(__pyx_v_givZZ, __pyx_v_self->__pyx_base.__pyx_base.__pyx_base.__pyx_base.__pyx_base._ncols);\n[sagelib-8.4.beta3]                     ^\n[sagelib-8.4.beta3] 8 warnings and 3 errors generated.\n[sagelib-8.4.beta3] error: command 'gcc' failed with exit status 1\n```",
    "created_at": "2018-09-05T22:42:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350845",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'></a>
Doesn't build on OSX:

```
[sagelib-8.4.beta3] In file included from build/cythonized/sage/matrix/matrix_integer_sparse.cpp:708:
[sagelib-8.4.beta3] In file included from /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/matrix/dense-matrix.h:79:
[sagelib-8.4.beta3] In file included from /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/matrix/densematrix/blas-matrix.h:44:
[sagelib-8.4.beta3] /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/vector/blas-vector.h:306:11: error: member reference base type 'const long' is not a structure or union
[sagelib-8.4.beta3]                         _size(V.size()),_1stride(1),_rep(V.size(), F.zero),_ptr(&_rep[0]),_field(&F)
[sagelib-8.4.beta3]                               ~^~~~~
[sagelib-8.4.beta3] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:10932:21: note: in instantiation of function template specialization 'LinBox::BlasVector<Givaro::ZRing<Givaro::Integer>, std::__1::vector<Givaro::Integer, std::__1::allocator<Givaro::Integer> > >::BlasVector<long>' requested here
[sagelib-8.4.beta3]   __pyx_v_res = new LinBox::DenseVector<Givaro::ZRing<Givaro::Integer>>(__pyx_v_givZZ, __pyx_v_self->__pyx_base.__pyx_base.__pyx_base.__pyx_base.__pyx_base._ncols);
[sagelib-8.4.beta3]                     ^
[sagelib-8.4.beta3] In file included from build/cythonized/sage/matrix/matrix_integer_sparse.cpp:708:
[sagelib-8.4.beta3] In file included from /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/matrix/dense-matrix.h:79:
[sagelib-8.4.beta3] In file included from /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/matrix/densematrix/blas-matrix.h:44:
[sagelib-8.4.beta3] /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/vector/blas-vector.h:306:38: error: member reference base type 'const long' is not a structure or union
[sagelib-8.4.beta3]                         _size(V.size()),_1stride(1),_rep(V.size(), F.zero),_ptr(&_rep[0]),_field(&F)
[sagelib-8.4.beta3]                                                          ~^~~~~
[sagelib-8.4.beta3] /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/vector/blas-vector.h:306:61: warning: field '_rep' is uninitialized when used here [-Wuninitialized]
[sagelib-8.4.beta3]                         _size(V.size()),_1stride(1),_rep(V.size(), F.zero),_ptr(&_rep[0]),_field(&F)
[sagelib-8.4.beta3]                                                                                  ^
[sagelib-8.4.beta3] /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/vector/blas-vector.h:129:13: error: type 'long' cannot be used prior to '::' because it has no members
[sagelib-8.4.beta3]                         typename OtherVector::const_iterator jt = V.begin();
[sagelib-8.4.beta3]                                  ^
[sagelib-8.4.beta3] /Users/buildslave-sage/slave/sage_git/build/local/include/linbox/vector/blas-vector.h:311:4: note: in instantiation of function template specialization 'LinBox::BlasVector<Givaro::ZRing<Givaro::Integer>, std::__1::vector<Givaro::Integer, std::__1::allocator<Givaro::Integer> > >::createBlasVector<long>' requested here
[sagelib-8.4.beta3]                         createBlasVector(V);
[sagelib-8.4.beta3]                         ^
[sagelib-8.4.beta3] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:10932:21: note: in instantiation of function template specialization 'LinBox::BlasVector<Givaro::ZRing<Givaro::Integer>, std::__1::vector<Givaro::Integer, std::__1::allocator<Givaro::Integer> > >::BlasVector<long>' requested here
[sagelib-8.4.beta3]   __pyx_v_res = new LinBox::DenseVector<Givaro::ZRing<Givaro::Integer>>(__pyx_v_givZZ, __pyx_v_self->__pyx_base.__pyx_base.__pyx_base.__pyx_base.__pyx_base._ncols);
[sagelib-8.4.beta3]                     ^
[sagelib-8.4.beta3] 8 warnings and 3 errors generated.
[sagelib-8.4.beta3] error: command 'gcc' failed with exit status 1
```



---

archive/issue_comments_350846.json:
```json
{
    "body": "<a id='comment:27'></a>\nWith the relevant lines from `matrix_integer_sparse.cpp`:\n\n```\n  /* \"sage/matrix/matrix_integer_sparse.pyx\":1074\n *         cdef linbox.SparseMatrix_integer * A = new_linbox_matrix_integer_sparse(givZZ, self)\n *         cdef linbox.DenseVector_integer * b = new_linbox_vector_integer_dense(givZZ, v)\n *         cdef linbox.DenseVector_integer * res = new linbox.DenseVector_integer(givZZ, self._ncols)             # <<<<<<<<<<<<<<\n *         cdef givaro.Integer D\n * \n */\n  __pyx_v_res = new LinBox::DenseVector<Givaro::ZRing<Givaro::Integer>>(__pyx_v_givZZ, __pyx_v_self->__pyx_base.__pyx_base.__pyx_base.__pyx_base.__pyx_base._ncols);\n```",
    "created_at": "2018-09-08T11:32:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350846",
    "user": "https://github.com/videlec"
}
```

<a id='comment:27'></a>
With the relevant lines from `matrix_integer_sparse.cpp`:

```
  /* "sage/matrix/matrix_integer_sparse.pyx":1074
 *         cdef linbox.SparseMatrix_integer * A = new_linbox_matrix_integer_sparse(givZZ, self)
 *         cdef linbox.DenseVector_integer * b = new_linbox_vector_integer_dense(givZZ, v)
 *         cdef linbox.DenseVector_integer * res = new linbox.DenseVector_integer(givZZ, self._ncols)             # <<<<<<<<<<<<<<
 *         cdef givaro.Integer D
 * 
 */
  __pyx_v_res = new LinBox::DenseVector<Givaro::ZRing<Givaro::Integer>>(__pyx_v_givZZ, __pyx_v_self->__pyx_base.__pyx_base.__pyx_base.__pyx_base.__pyx_base._ncols);
```



---

archive/issue_comments_350847.json:
```json
{
    "body": "<a id='comment:28'></a>\nThis compile failure can be reproduced outside of sage. Issue opened on upstream [linbox/issues/138](https://github.com/linbox-team/linbox/issues/138).",
    "created_at": "2018-09-18T12:11:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350847",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:28'></a>
This compile failure can be reproduced outside of sage. Issue opened on upstream [linbox/issues/138](https://github.com/linbox-team/linbox/issues/138).



---

archive/issue_comments_350848.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,5 +6,6 @@\n LinBox issues\n \n - [Issue 118 (determinant hangs)](https://github.com/linbox-team/linbox/issues/118)\n+- [Issue 138(Compilation failure on OSX)](https://github.com/linbox-team/linbox/issues/138)\n \n (see also #22872 for the linbox task ticket)\n``````\n",
    "created_at": "2018-09-18T12:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350848",
    "user": "https://github.com/vinklein"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,5 +6,6 @@
 LinBox issues
 
 - [Issue 118 (determinant hangs)](https://github.com/linbox-team/linbox/issues/118)
+- [Issue 138(Compilation failure on OSX)](https://github.com/linbox-team/linbox/issues/138)
 
 (see also #22872 for the linbox task ticket)
``````




---

archive/issue_comments_350849.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,6 +6,6 @@\n LinBox issues\n \n - [Issue 118 (determinant hangs)](https://github.com/linbox-team/linbox/issues/118)\n-- [Issue 138(Compilation failure on OSX)](https://github.com/linbox-team/linbox/issues/138)\n+- [Issue 138 (Compilation failure on OSX)](https://github.com/linbox-team/linbox/issues/138)\n \n (see also #22872 for the linbox task ticket)\n``````\n",
    "created_at": "2018-09-18T12:18:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350849",
    "user": "https://github.com/vinklein"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,6 +6,6 @@
 LinBox issues
 
 - [Issue 118 (determinant hangs)](https://github.com/linbox-team/linbox/issues/118)
-- [Issue 138(Compilation failure on OSX)](https://github.com/linbox-team/linbox/issues/138)
+- [Issue 138 (Compilation failure on OSX)](https://github.com/linbox-team/linbox/issues/138)
 
 (see also #22872 for the linbox task ticket)
``````




---

archive/issue_comments_350850.json:
```json
{
    "body": "<a id='comment:31'></a>\nwhat is the status of this ticket ?",
    "created_at": "2018-10-14T19:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350850",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'></a>
what is the status of this ticket ?



---

archive/issue_comments_350851.json:
```json
{
    "body": "**Changing dependencies** from \"#24544\" to \"\".",
    "created_at": "2018-10-16T18:27:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350851",
    "user": "https://github.com/fchapoton"
}
```

**Changing dependencies** from "#24544" to "".



---

archive/issue_comments_350852.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [chapoton](#comment%3A31):\n> what is the status of this ticket ?\n\n\nWaiting for upstream compilation fix, see [comment:28].",
    "created_at": "2018-10-16T19:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350852",
    "user": "https://github.com/videlec"
}
```

<a id='comment:33'></a>
Replying to [chapoton](#comment%3A31):
> what is the status of this ticket ?


Waiting for upstream compilation fix, see [comment:28].



---

archive/issue_comments_350853.json:
```json
{
    "body": "<a id='comment:34'></a>\nAs mentionned in [linbox/issues/138](https://github.com/linbox-team/linbox/issues/138), passing a long instead of a size_t to BlasVector constructor is causing an weird type resolution problem, which I can still not fully understand.\nMeanwhile 2 options can fix the problem:\n- have sage cython code send size_t parameters to LinBox, as required by the interface. This means doing explicit casts (inelegant) or changing the type of ncols and nrows in matrix classes (heavy change)\n- removing the templated constructor in LinBox::BlasVector that is in the way. This change is not harmfull for the library, but it feels not right to remove features for some weird type resolution issue on OSX due to sage not respecting the interface. This second option would also delay the fixing of this issue to the integration of the next release of LinBox or patching sage's LinBox.",
    "created_at": "2018-10-18T14:28:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350853",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:34'></a>
As mentionned in [linbox/issues/138](https://github.com/linbox-team/linbox/issues/138), passing a long instead of a size_t to BlasVector constructor is causing an weird type resolution problem, which I can still not fully understand.
Meanwhile 2 options can fix the problem:
- have sage cython code send size_t parameters to LinBox, as required by the interface. This means doing explicit casts (inelegant) or changing the type of ncols and nrows in matrix classes (heavy change)
- removing the templated constructor in LinBox::BlasVector that is in the way. This change is not harmfull for the library, but it feels not right to remove features for some weird type resolution issue on OSX due to sage not respecting the interface. This second option would also delay the fixing of this issue to the integration of the next release of LinBox or patching sage's LinBox.



---

archive/issue_comments_350854.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [cpernet](#comment%3A34):\n> As mentionned in [linbox/issues/138](https://github.com/linbox-team/linbox/issues/138), passing a long instead of a size_t to BlasVector constructor is causing an weird type resolution problem, which I can still not fully understand.\n> Meanwhile 2 options can fix the problem:\n> - have sage cython code send size_t parameters to LinBox, as required by the interface. This means doing explicit casts (inelegant) or changing the type of ncols and nrows in matrix classes (heavy change)\n\n\nOne possible obstruction for the change `Py_ssize_t` -> `size_t` is that matrices can be accessed with negative indices. Perhaps it is not so dramatic. However, if this change happend we want to do it coherently with vectors, etc.\n\nFor the other proposition, calling properly LinBox with casting where necessary do not look too ugly for me. We can arrange so that it only appears in the code at `sage/libs/linbox/`.\n\n>  - removing the templated constructor in LinBox::BlasVector that is in the way. This change is not harmfull for the library, but it feels not right to remove features for some weird type resolution issue on OSX due to sage not respecting the interface. This second option would also delay the fixing of this issue to the integration of the next release of LinBox or patching sage's LinBox.\n",
    "created_at": "2018-10-18T15:02:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350854",
    "user": "https://github.com/videlec"
}
```

<a id='comment:35'></a>
Replying to [cpernet](#comment%3A34):
> As mentionned in [linbox/issues/138](https://github.com/linbox-team/linbox/issues/138), passing a long instead of a size_t to BlasVector constructor is causing an weird type resolution problem, which I can still not fully understand.
> Meanwhile 2 options can fix the problem:
> - have sage cython code send size_t parameters to LinBox, as required by the interface. This means doing explicit casts (inelegant) or changing the type of ncols and nrows in matrix classes (heavy change)


One possible obstruction for the change `Py_ssize_t` -> `size_t` is that matrices can be accessed with negative indices. Perhaps it is not so dramatic. However, if this change happend we want to do it coherently with vectors, etc.

For the other proposition, calling properly LinBox with casting where necessary do not look too ugly for me. We can arrange so that it only appears in the code at `sage/libs/linbox/`.

>  - removing the templated constructor in LinBox::BlasVector that is in the way. This change is not harmfull for the library, but it feels not right to remove features for some weird type resolution issue on OSX due to sage not respecting the interface. This second option would also delay the fixing of this issue to the integration of the next release of LinBox or patching sage's LinBox.




---

archive/issue_comments_350855.json:
```json
{
    "body": "**Changing commit** from \"[1d8d266779da4d0e9078e2050d9bb861a2ac213b](https://github.com/sagemath/sagetrac-mirror/commit/1d8d266779da4d0e9078e2050d9bb861a2ac213b)\" to \"[4ec1fa51976f71392a47e1c54116115a6f47a385](https://github.com/sagemath/sagetrac-mirror/commit/4ec1fa51976f71392a47e1c54116115a6f47a385)\".",
    "created_at": "2018-10-29T15:51:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350855",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1d8d266779da4d0e9078e2050d9bb861a2ac213b](https://github.com/sagemath/sagetrac-mirror/commit/1d8d266779da4d0e9078e2050d9bb861a2ac213b)" to "[4ec1fa51976f71392a47e1c54116115a6f47a385](https://github.com/sagemath/sagetrac-mirror/commit/4ec1fa51976f71392a47e1c54116115a6f47a385)".



---

archive/issue_comments_350856.json:
```json
{
    "body": "<a id='comment:36'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9377c30cee7660c78fb87ff3fea67f5dedd262d\">a9377c3</a></td><td><code>23214: use linbox in sparse integer matrices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ec1fa51976f71392a47e1c54116115a6f47a385\">4ec1fa5</a></td><td><code>23214: disable sage extension from linbox</code></td></tr></table>\n",
    "created_at": "2018-10-29T15:51:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350856",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9377c30cee7660c78fb87ff3fea67f5dedd262d">a9377c3</a></td><td><code>23214: use linbox in sparse integer matrices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ec1fa51976f71392a47e1c54116115a6f47a385">4ec1fa5</a></td><td><code>23214: disable sage extension from linbox</code></td></tr></table>




---

archive/issue_comments_350857.json:
```json
{
    "body": "<a id='comment:37'></a>\nPlease Mac OSX testing needed!",
    "created_at": "2018-10-29T15:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350857",
    "user": "https://github.com/videlec"
}
```

<a id='comment:37'></a>
Please Mac OSX testing needed!



---

archive/issue_events_206829.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-10-29T15:52:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206829"
}
```



---

archive/issue_events_206830.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-10-29T15:52:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206830"
}
```



---

archive/issue_comments_350858.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,6 +2,8 @@\n - solving sparse systems over integers\n - computing determinant and rank\n - computing minimal and characteristic polynomials\n+\n+Some cleaning had to be done as a first step (used to be #26178).\n \n LinBox issues\n \n``````\n",
    "created_at": "2018-10-29T16:01:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350858",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,6 +2,8 @@
 - solving sparse systems over integers
 - computing determinant and rank
 - computing minimal and characteristic polynomials
+
+Some cleaning had to be done as a first step (used to be #26178).
 
 LinBox issues
 
``````




---

archive/issue_events_206831.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-10-29T16:01:37Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "rename": {
        "from": "enhance sparse integer matrix with linbox",
        "to": "enhance sparse integer matrix with linbox (+ cleaning)"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206831"
}
```



---

archive/issue_events_206832.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-10-29T16:01:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206832"
}
```



---

archive/issue_events_206833.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-10-29T16:01:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206833"
}
```



---

archive/issue_comments_350859.json:
```json
{
    "body": "<a id='comment:39'></a>\nReplying to [vdelecroix](#comment%3A37):\n> Please Mac OSX testing needed!\n\n`make ptestlong` is running.",
    "created_at": "2018-10-29T16:30:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350859",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:39'></a>
Replying to [vdelecroix](#comment%3A37):
> Please Mac OSX testing needed!

`make ptestlong` is running.



---

archive/issue_comments_350860.json:
```json
{
    "body": "<a id='comment:40'></a>\nWe have almost the same error but for `matrix_modn_sparse`.\n\n\n```\n[sagelib-8.5.beta1] In file included from build/cythonized/sage/matrix/matrix_modn_sparse.cpp:725:\n[sagelib-8.5.beta1] In file included from /Users/doctorant/sage/local/include/linbox/matrix/dense-matrix.h:79:\n[sagelib-8.5.beta1] In file included from /Users/doctorant/sage/local/include/linbox/matrix/densematrix/blas-matrix.h:44:\n[sagelib-8.5.beta1] /Users/doctorant/sage/local/include/linbox/vector/blas-vector.h:306:11: error: member reference base type 'const long' is not a structure or union\n[sagelib-8.5.beta1]                         _size(V.size()),_1stride(1),_rep(V.size(), F.zero),_ptr(&_rep[0]),_field(&F)\n[sagelib-8.5.beta1]                               ~^~~~~\n[sagelib-8.5.beta1] build/cythonized/sage/matrix/matrix_modn_sparse.cpp:12191:19: note: in instantiation of function template specialization 'LinBox::BlasVector<Givaro::ZRing<Givaro::Integer>, std::__1::vector<Givaro::Integer, std::__1::allocator<Givaro::Integer> > >::BlasVector<long>' requested here\n[sagelib-8.5.beta1]   __pyx_v_b = new LinBox::DenseVector<Givaro::ZRing<Givaro::Integer>>(__pyx_v_givZZ, __pyx_v_self->__pyx_base.__pyx_base.__pyx_base.__pyx_base.__pyx_base._nrows);\n[sagelib-8.5.beta1]                   ^\n[sagelib-8.5.beta1] In file included from build/cythonized/sage/matrix/matrix_modn_sparse.cpp:725:\n[sagelib-8.5.beta1] In file included from /Users/doctorant/sage/local/include/linbox/matrix/dense-matrix.h:79:\n[sagelib-8.5.beta1] In file included from /Users/doctorant/sage/local/include/linbox/matrix/densematrix/blas-matrix.h:44:\n[sagelib-8.5.beta1] /Users/doctorant/sage/local/include/linbox/vector/blas-vector.h:306:38: error: member reference base type 'const long' is not a structure or union\n[sagelib-8.5.beta1]                         _size(V.size()),_1stride(1),_rep(V.size(), F.zero),_ptr(&_rep[0]),_field(&F)\n[sagelib-8.5.beta1]                                                          ~^~~~~\n[sagelib-8.5.beta1] /Users/doctorant/sage/local/include/linbox/vector/blas-vector.h:306:61: warning: field '_rep' is uninitialized when used here [-Wuninitialized]\n[sagelib-8.5.beta1]                         _size(V.size()),_1stride(1),_rep(V.size(), F.zero),_ptr(&_rep[0]),_field(&F)\n[sagelib-8.5.beta1]                                                                                  ^\n[sagelib-8.5.beta1] /Users/doctorant/sage/local/include/linbox/vector/blas-vector.h:129:13: error: type 'long' cannot be used prior to '::' because it has no members\n[sagelib-8.5.beta1]                         typename OtherVector::const_iterator jt = V.begin();\n[sagelib-8.5.beta1]                                  ^\n[sagelib-8.5.beta1] /Users/doctorant/sage/local/include/linbox/vector/blas-vector.h:311:4: note: in instantiation of function template specialization 'LinBox::BlasVector<Givaro::ZRing<Givaro::Integer>, std::__1::vector<Givaro::Integer, std::__1::allocator<Givaro::Integer> > >::createBlasVector<long>' requested here\n[sagelib-8.5.beta1]                         createBlasVector(V);\n[sagelib-8.5.beta1]                         ^\n[sagelib-8.5.beta1] build/cythonized/sage/matrix/matrix_modn_sparse.cpp:12191:19: note: in instantiation of function template specialization 'LinBox::BlasVector<Givaro::ZRing<Givaro::Integer>, std::__1::vector<Givaro::Integer, std::__1::allocator<Givaro::Integer> > >::BlasVector<long>' requested here\n[sagelib-8.5.beta1]   __pyx_v_b = new LinBox::DenseVector<Givaro::ZRing<Givaro::Integer>>(__pyx_v_givZZ, __pyx_v_self->__pyx_base.__pyx_base.__pyx_base.__pyx_base.__pyx_base._nrows);\n[sagelib-8.5.beta1]                   ^\n[sagelib-8.5.beta1] 8 warnings and 3 errors generated.\n[sagelib-8.5.beta1] error: command 'gcc' failed with exit status 1\n[sagelib-8.5.beta1] [ 3/86] make[4]: *** [sage] Error 1\n```",
    "created_at": "2018-10-30T08:59:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350860",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:40'></a>
We have almost the same error but for `matrix_modn_sparse`.


```
[sagelib-8.5.beta1] In file included from build/cythonized/sage/matrix/matrix_modn_sparse.cpp:725:
[sagelib-8.5.beta1] In file included from /Users/doctorant/sage/local/include/linbox/matrix/dense-matrix.h:79:
[sagelib-8.5.beta1] In file included from /Users/doctorant/sage/local/include/linbox/matrix/densematrix/blas-matrix.h:44:
[sagelib-8.5.beta1] /Users/doctorant/sage/local/include/linbox/vector/blas-vector.h:306:11: error: member reference base type 'const long' is not a structure or union
[sagelib-8.5.beta1]                         _size(V.size()),_1stride(1),_rep(V.size(), F.zero),_ptr(&_rep[0]),_field(&F)
[sagelib-8.5.beta1]                               ~^~~~~
[sagelib-8.5.beta1] build/cythonized/sage/matrix/matrix_modn_sparse.cpp:12191:19: note: in instantiation of function template specialization 'LinBox::BlasVector<Givaro::ZRing<Givaro::Integer>, std::__1::vector<Givaro::Integer, std::__1::allocator<Givaro::Integer> > >::BlasVector<long>' requested here
[sagelib-8.5.beta1]   __pyx_v_b = new LinBox::DenseVector<Givaro::ZRing<Givaro::Integer>>(__pyx_v_givZZ, __pyx_v_self->__pyx_base.__pyx_base.__pyx_base.__pyx_base.__pyx_base._nrows);
[sagelib-8.5.beta1]                   ^
[sagelib-8.5.beta1] In file included from build/cythonized/sage/matrix/matrix_modn_sparse.cpp:725:
[sagelib-8.5.beta1] In file included from /Users/doctorant/sage/local/include/linbox/matrix/dense-matrix.h:79:
[sagelib-8.5.beta1] In file included from /Users/doctorant/sage/local/include/linbox/matrix/densematrix/blas-matrix.h:44:
[sagelib-8.5.beta1] /Users/doctorant/sage/local/include/linbox/vector/blas-vector.h:306:38: error: member reference base type 'const long' is not a structure or union
[sagelib-8.5.beta1]                         _size(V.size()),_1stride(1),_rep(V.size(), F.zero),_ptr(&_rep[0]),_field(&F)
[sagelib-8.5.beta1]                                                          ~^~~~~
[sagelib-8.5.beta1] /Users/doctorant/sage/local/include/linbox/vector/blas-vector.h:306:61: warning: field '_rep' is uninitialized when used here [-Wuninitialized]
[sagelib-8.5.beta1]                         _size(V.size()),_1stride(1),_rep(V.size(), F.zero),_ptr(&_rep[0]),_field(&F)
[sagelib-8.5.beta1]                                                                                  ^
[sagelib-8.5.beta1] /Users/doctorant/sage/local/include/linbox/vector/blas-vector.h:129:13: error: type 'long' cannot be used prior to '::' because it has no members
[sagelib-8.5.beta1]                         typename OtherVector::const_iterator jt = V.begin();
[sagelib-8.5.beta1]                                  ^
[sagelib-8.5.beta1] /Users/doctorant/sage/local/include/linbox/vector/blas-vector.h:311:4: note: in instantiation of function template specialization 'LinBox::BlasVector<Givaro::ZRing<Givaro::Integer>, std::__1::vector<Givaro::Integer, std::__1::allocator<Givaro::Integer> > >::createBlasVector<long>' requested here
[sagelib-8.5.beta1]                         createBlasVector(V);
[sagelib-8.5.beta1]                         ^
[sagelib-8.5.beta1] build/cythonized/sage/matrix/matrix_modn_sparse.cpp:12191:19: note: in instantiation of function template specialization 'LinBox::BlasVector<Givaro::ZRing<Givaro::Integer>, std::__1::vector<Givaro::Integer, std::__1::allocator<Givaro::Integer> > >::BlasVector<long>' requested here
[sagelib-8.5.beta1]   __pyx_v_b = new LinBox::DenseVector<Givaro::ZRing<Givaro::Integer>>(__pyx_v_givZZ, __pyx_v_self->__pyx_base.__pyx_base.__pyx_base.__pyx_base.__pyx_base._nrows);
[sagelib-8.5.beta1]                   ^
[sagelib-8.5.beta1] 8 warnings and 3 errors generated.
[sagelib-8.5.beta1] error: command 'gcc' failed with exit status 1
[sagelib-8.5.beta1] [ 3/86] make[4]: *** [sage] Error 1
```



---

archive/issue_comments_350861.json:
```json
{
    "body": "**Changing branch** from \"[u/vdelecroix/23214](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/23214)\" to \"[u/cpernet/23214](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/23214)\".",
    "created_at": "2018-10-30T09:16:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350861",
    "user": "https://github.com/ClementPernet"
}
```

**Changing branch** from "[u/vdelecroix/23214](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/23214)" to "[u/cpernet/23214](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/23214)".



---

archive/issue_comments_350862.json:
```json
{
    "body": "<a id='comment:42'></a>\nThere was indeed some casts missing. I pushed a fixed and checked that all casts have been done.\n@vinklein, could you check again please?\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0f5a9964550afec7d36827641de9ce929c06d1f\">d0f5a99</a></td><td><code>fix missing cast to size_t</code></td></tr></table>\n",
    "created_at": "2018-10-30T09:18:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350862",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:42'></a>
There was indeed some casts missing. I pushed a fixed and checked that all casts have been done.
@vinklein, could you check again please?

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0f5a9964550afec7d36827641de9ce929c06d1f">d0f5a99</a></td><td><code>fix missing cast to size_t</code></td></tr></table>




---

archive/issue_comments_350863.json:
```json
{
    "body": "**Changing commit** from \"[4ec1fa51976f71392a47e1c54116115a6f47a385](https://github.com/sagemath/sagetrac-mirror/commit/4ec1fa51976f71392a47e1c54116115a6f47a385)\" to \"[d0f5a9964550afec7d36827641de9ce929c06d1f](https://github.com/sagemath/sagetrac-mirror/commit/d0f5a9964550afec7d36827641de9ce929c06d1f)\".",
    "created_at": "2018-10-30T09:18:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350863",
    "user": "https://github.com/ClementPernet"
}
```

**Changing commit** from "[4ec1fa51976f71392a47e1c54116115a6f47a385](https://github.com/sagemath/sagetrac-mirror/commit/4ec1fa51976f71392a47e1c54116115a6f47a385)" to "[d0f5a9964550afec7d36827641de9ce929c06d1f](https://github.com/sagemath/sagetrac-mirror/commit/d0f5a9964550afec7d36827641de9ce929c06d1f)".



---

archive/issue_comments_350864.json:
```json
{
    "body": "<a id='comment:43'></a>\nSure.",
    "created_at": "2018-10-30T09:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350864",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:43'></a>
Sure.



---

archive/issue_comments_350865.json:
```json
{
    "body": "<a id='comment:44'></a>\nI got 3 failing doctests, see patchbot.",
    "created_at": "2018-10-30T16:13:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350865",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:44'></a>
I got 3 failing doctests, see patchbot.



---

archive/issue_comments_350866.json:
```json
{
    "body": "<a id='comment:45'></a>\nTests are still running on OSX. That mean off course that all compilation problems are solved.",
    "created_at": "2018-10-30T16:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350866",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:45'></a>
Tests are still running on OSX. That mean off course that all compilation problems are solved.



---

archive/issue_comments_350867.json:
```json
{
    "body": "<a id='comment:46'></a>\nI get 5 errors on OSX:\n\n```\nsage -t --long src/sage/combinat/designs/ext_rep.py  # Killed due to abort\nsage -t --long src/sage/doctest/external.py  # Killed due to abort\nsage -t --long src/sage/matrix/matrix_modn_sparse.pyx  # 3 doctests failed\n```\n`matrix_modn_sparse.pyx` errors are the sames as the patchbot ones and the two others are not ticket dependent (see Justin C. Walker message in [Sage 8.5.beta1 released](https://groups.google.com/forum/?fromgroups#!topic/sage-release/yiJTgNhjB6o) ).",
    "created_at": "2018-10-30T16:40:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350867",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:46'></a>
I get 5 errors on OSX:

```
sage -t --long src/sage/combinat/designs/ext_rep.py  # Killed due to abort
sage -t --long src/sage/doctest/external.py  # Killed due to abort
sage -t --long src/sage/matrix/matrix_modn_sparse.pyx  # 3 doctests failed
```
`matrix_modn_sparse.pyx` errors are the sames as the patchbot ones and the two others are not ticket dependent (see Justin C. Walker message in [Sage 8.5.beta1 released](https://groups.google.com/forum/?fromgroups#!topic/sage-release/yiJTgNhjB6o) ).



---

archive/issue_comments_350868.json:
```json
{
    "body": "<a id='comment:47'></a>\nMy bad. Error should be fixed now.",
    "created_at": "2018-10-30T22:59:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350868",
    "user": "https://github.com/videlec"
}
```

<a id='comment:47'></a>
My bad. Error should be fixed now.



---

archive/issue_comments_350869.json:
```json
{
    "body": "<a id='comment:48'></a>\nforgot to push ?",
    "created_at": "2018-10-31T07:13:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350869",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:48'></a>
forgot to push ?



---

archive/issue_comments_350870.json:
```json
{
    "body": "**Changing commit** from \"[d0f5a9964550afec7d36827641de9ce929c06d1f](https://github.com/sagemath/sagetrac-mirror/commit/d0f5a9964550afec7d36827641de9ce929c06d1f)\" to \"[ea33422553f347d9cb647ca212d3c5f91ecff354](https://github.com/sagemath/sagetrac-mirror/commit/ea33422553f347d9cb647ca212d3c5f91ecff354)\".",
    "created_at": "2018-10-31T08:38:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350870",
    "user": "https://github.com/videlec"
}
```

**Changing commit** from "[d0f5a9964550afec7d36827641de9ce929c06d1f](https://github.com/sagemath/sagetrac-mirror/commit/d0f5a9964550afec7d36827641de9ce929c06d1f)" to "[ea33422553f347d9cb647ca212d3c5f91ecff354](https://github.com/sagemath/sagetrac-mirror/commit/ea33422553f347d9cb647ca212d3c5f91ecff354)".



---

archive/issue_comments_350871.json:
```json
{
    "body": "<a id='comment:49'></a>\nNot quite.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea33422553f347d9cb647ca212d3c5f91ecff354\">ea33422</a></td><td><code>23214: fix doctests</code></td></tr></table>\n",
    "created_at": "2018-10-31T08:38:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350871",
    "user": "https://github.com/videlec"
}
```

<a id='comment:49'></a>
Not quite.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea33422553f347d9cb647ca212d3c5f91ecff354">ea33422</a></td><td><code>23214: fix doctests</code></td></tr></table>




---

archive/issue_comments_350872.json:
```json
{
    "body": "**Changing branch** from \"[u/cpernet/23214](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/23214)\" to \"[u/vdelecroix/23214](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/23214)\".",
    "created_at": "2018-10-31T08:38:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350872",
    "user": "https://github.com/videlec"
}
```

**Changing branch** from "[u/cpernet/23214](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/23214)" to "[u/vdelecroix/23214](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/23214)".



---

archive/issue_comments_350873.json:
```json
{
    "body": "<a id='comment:50'></a>\nThere seems to be a test failure on one of the patchbots:\n\n```\nFile \"src/sage/matrix/matrix_space.py\", line 1982, in sage.matrix.matrix_space.MatrixSpace._an_element_\nFailed example:\n    M.density()\nExpected:\n    99/1000000\nGot:\n    49/500000\n**********************************************************************\n1 item had failures:\n   1 of   7 in sage.matrix.matrix_space.MatrixSpace._an_element_\n    [383 tests, 1 failure, 6.40 s]\n----------------------------------------------------------------------\nsage -t --long --warn-long 54.6 src/sage/matrix/matrix_space.py  # 1 doctest failed\n```\nCan you reproduce this locally (sorry, I cannot test this right now on my laptop)?",
    "created_at": "2018-10-31T12:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350873",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:50'></a>
There seems to be a test failure on one of the patchbots:

```
File "src/sage/matrix/matrix_space.py", line 1982, in sage.matrix.matrix_space.MatrixSpace._an_element_
Failed example:
    M.density()
Expected:
    99/1000000
Got:
    49/500000
**********************************************************************
1 item had failures:
   1 of   7 in sage.matrix.matrix_space.MatrixSpace._an_element_
    [383 tests, 1 failure, 6.40 s]
----------------------------------------------------------------------
sage -t --long --warn-long 54.6 src/sage/matrix/matrix_space.py  # 1 doctest failed
```
Can you reproduce this locally (sorry, I cannot test this right now on my laptop)?



---

archive/issue_comments_350874.json:
```json
{
    "body": "<a id='comment:51'></a>\nThis concerns `petitbonum` and, on the other hand, everything is fine on `pc78-math`.\n\nI can not reproduce either.",
    "created_at": "2018-11-01T09:34:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350874",
    "user": "https://github.com/videlec"
}
```

<a id='comment:51'></a>
This concerns `petitbonum` and, on the other hand, everything is fine on `pc78-math`.

I can not reproduce either.



---

archive/issue_comments_350875.json:
```json
{
    "body": "<a id='comment:52'></a>\nThis one on [tmonteil-debian-stretch-32](https://patchbot.sagemath.org/log/23214/debian/9.5/i686/4.9.0-7-686/tmonteil-debian-stretch-32/2018-11-02%2002:27:16?short) (32 bits) is more annoying\n\n```\n[sagelib-8.5.beta2] build/cythonized/sage/matrix/matrix_modn_sparse.cpp:8931:132: error: no matching function for call to 'LinBox::GaussDomain<Givaro::Modular<long long unsigned int, long long unsigned int> >::InPlaceLinearPivoting(size_t&, uint64_t&, LinBox::SparseMatrix<Givaro::Modular<long long unsigned int, long long unsigned int>, LinBox::SparseMatrixFormat::SparseSeq>&, size_t, size_t)'\n[sagelib-8.5.beta2]    (void)(__pyx_v_dom->InPlaceLinearPivoting(__pyx_v_A_rank, __pyx_v_A_det, (__pyx_v_A[0]), __pyx_v_A->rowdim(), __pyx_v_A->coldim()));\n[sagelib-8.5.beta2]                                                                                                                                     ^\n```\n`@`Cl\u00e9ment: any clue of what might be wrong on 32 bit architecture?",
    "created_at": "2018-11-02T08:27:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350875",
    "user": "https://github.com/videlec"
}
```

<a id='comment:52'></a>
This one on [tmonteil-debian-stretch-32](https://patchbot.sagemath.org/log/23214/debian/9.5/i686/4.9.0-7-686/tmonteil-debian-stretch-32/2018-11-02%2002:27:16?short) (32 bits) is more annoying

```
[sagelib-8.5.beta2] build/cythonized/sage/matrix/matrix_modn_sparse.cpp:8931:132: error: no matching function for call to 'LinBox::GaussDomain<Givaro::Modular<long long unsigned int, long long unsigned int> >::InPlaceLinearPivoting(size_t&, uint64_t&, LinBox::SparseMatrix<Givaro::Modular<long long unsigned int, long long unsigned int>, LinBox::SparseMatrixFormat::SparseSeq>&, size_t, size_t)'
[sagelib-8.5.beta2]    (void)(__pyx_v_dom->InPlaceLinearPivoting(__pyx_v_A_rank, __pyx_v_A_det, (__pyx_v_A[0]), __pyx_v_A->rowdim(), __pyx_v_A->coldim()));
[sagelib-8.5.beta2]                                                                                                                                     ^
```
`@`Cl√©ment: any clue of what might be wrong on 32 bit architecture?



---

archive/issue_events_206834.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-11-02T08:27:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206834"
}
```



---

archive/issue_events_206835.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-11-02T08:27:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206835"
}
```



---

archive/issue_comments_350876.json:
```json
{
    "body": "<a id='comment:53'></a>\n`@`Clement: note that in LinBox the function is declared as (`linbox/algorithms/gauss.h` line 227)\n\n```C++\n// Sparsest method\n//   erases elements while computing rank/det.\ntemplate <class _Matrix>                                      \nunsigned long& InPlaceLinearPivoting(unsigned long &rank,\n                                     Element& determinant,\n                                     _Matrix        &A,\n                                     unsigned long Ni,\n                                     unsigned long Nj) const;\n```\nHere I don't understand why `rank`, `Ni` and `Nj` are not `size_t` as they should rather be.",
    "created_at": "2018-11-02T12:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350876",
    "user": "https://github.com/videlec"
}
```

<a id='comment:53'></a>
`@`Clement: note that in LinBox the function is declared as (`linbox/algorithms/gauss.h` line 227)

```C++
// Sparsest method
//   erases elements while computing rank/det.
template <class _Matrix>                                      
unsigned long& InPlaceLinearPivoting(unsigned long &rank,
                                     Element& determinant,
                                     _Matrix        &A,
                                     unsigned long Ni,
                                     unsigned long Nj) const;
```
Here I don't understand why `rank`, `Ni` and `Nj` are not `size_t` as they should rather be.



---

archive/issue_comments_350877.json:
```json
{
    "body": "<a id='comment:54'></a>\nI filled the [Issue 144](https://github.com/linbox-team/linbox/issues/144) on linbox website.",
    "created_at": "2018-11-02T19:21:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350877",
    "user": "https://github.com/videlec"
}
```

<a id='comment:54'></a>
I filled the [Issue 144](https://github.com/linbox-team/linbox/issues/144) on linbox website.



---

archive/issue_comments_350878.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -9,5 +9,6 @@\n \n - [Issue 118 (determinant hangs)](https://github.com/linbox-team/linbox/issues/118)\n - [Issue 138 (Compilation failure on OSX)](https://github.com/linbox-team/linbox/issues/138)\n+- [Issue 144 (row index: unsigned long versus size_t)](https://github.com/linbox-team/linbox/issues/144)\n \n (see also #22872 for the linbox task ticket)\n``````\n",
    "created_at": "2018-11-02T19:21:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350878",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -9,5 +9,6 @@
 
 - [Issue 118 (determinant hangs)](https://github.com/linbox-team/linbox/issues/118)
 - [Issue 138 (Compilation failure on OSX)](https://github.com/linbox-team/linbox/issues/138)
+- [Issue 144 (row index: unsigned long versus size_t)](https://github.com/linbox-team/linbox/issues/144)
 
 (see also #22872 for the linbox task ticket)
``````




---

archive/issue_comments_350879.json:
```json
{
    "body": "**Changing commit** from \"[ea33422553f347d9cb647ca212d3c5f91ecff354](https://github.com/sagemath/sagetrac-mirror/commit/ea33422553f347d9cb647ca212d3c5f91ecff354)\" to \"[98ac98478bedfaf6a2ac8d84da67253978e7e9ca](https://github.com/sagemath/sagetrac-mirror/commit/98ac98478bedfaf6a2ac8d84da67253978e7e9ca)\".",
    "created_at": "2018-11-02T22:29:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350879",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ea33422553f347d9cb647ca212d3c5f91ecff354](https://github.com/sagemath/sagetrac-mirror/commit/ea33422553f347d9cb647ca212d3c5f91ecff354)" to "[98ac98478bedfaf6a2ac8d84da67253978e7e9ca](https://github.com/sagemath/sagetrac-mirror/commit/98ac98478bedfaf6a2ac8d84da67253978e7e9ca)".



---

archive/issue_comments_350880.json:
```json
{
    "body": "<a id='comment:55'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98ac98478bedfaf6a2ac8d84da67253978e7e9ca\">98ac984</a></td><td><code>23214: follow LinBox declarations</code></td></tr></table>\n",
    "created_at": "2018-11-02T22:29:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350880",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:55'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98ac98478bedfaf6a2ac8d84da67253978e7e9ca">98ac984</a></td><td><code>23214: follow LinBox declarations</code></td></tr></table>




---

archive/issue_events_206836.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-11-02T22:29:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206836"
}
```



---

archive/issue_events_206837.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-11-02T22:29:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206837"
}
```



---

archive/issue_comments_350881.json:
```json
{
    "body": "<a id='comment:57'></a>\nGood news: tests pass on 32 bits.\n\n`@`vinklein: can you test one more time on OSX?\n\nIf everything went fine on OSX, I think we should get this ticket merged as is. I will change `unsigned long` to `size_t` as soon as LinBox gets updated.",
    "created_at": "2018-11-03T13:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350881",
    "user": "https://github.com/videlec"
}
```

<a id='comment:57'></a>
Good news: tests pass on 32 bits.

`@`vinklein: can you test one more time on OSX?

If everything went fine on OSX, I think we should get this ticket merged as is. I will change `unsigned long` to `size_t` as soon as LinBox gets updated.



---

archive/issue_comments_350882.json:
```json
{
    "body": "<a id='comment:58'></a>\nThis is also good on my machine and on a 32 and 64 bit patchbot.",
    "created_at": "2018-11-04T12:20:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350882",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:58'></a>
This is also good on my machine and on a 32 and 64 bit patchbot.



---

archive/issue_comments_350883.json:
```json
{
    "body": "<a id='comment:59'></a>\nReplying to [vdelecroix](#comment%3A57):\n> `@`vinklein: can you test one more time on OSX?\n\nSure.",
    "created_at": "2018-11-05T08:25:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350883",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:59'></a>
Replying to [vdelecroix](#comment%3A57):
> `@`vinklein: can you test one more time on OSX?

Sure.



---

archive/issue_comments_350884.json:
```json
{
    "body": "<a id='comment:60'></a>\nBuild & tests pass on OSX (`98ac984`)",
    "created_at": "2018-11-05T14:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350884",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:60'></a>
Build & tests pass on OSX (`98ac984`)



---

archive/issue_comments_350885.json:
```json
{
    "body": "**Changing reviewer** from \"Travis Scrimshaw\" to \"Travis Scrimshaw, Vincent Klein.\".",
    "created_at": "2018-11-05T14:33:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350885",
    "user": "https://github.com/tscrim"
}
```

**Changing reviewer** from "Travis Scrimshaw" to "Travis Scrimshaw, Vincent Klein.".



---

archive/issue_events_206838.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-11-05T14:33:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206838"
}
```



---

archive/issue_events_206839.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-11-05T14:33:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206839"
}
```



---

archive/issue_comments_350886.json:
```json
{
    "body": "<a id='comment:62'></a>\nMerci Vincent!",
    "created_at": "2018-11-05T15:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350886",
    "user": "https://github.com/videlec"
}
```

<a id='comment:62'></a>
Merci Vincent!



---

archive/issue_comments_350887.json:
```json
{
    "body": "**Changing reviewer** from \"Travis Scrimshaw, Vincent Klein.\" to \"Travis Scrimshaw, Vincent Klein\".",
    "created_at": "2018-11-05T16:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350887",
    "user": "https://github.com/tscrim"
}
```

**Changing reviewer** from "Travis Scrimshaw, Vincent Klein." to "Travis Scrimshaw, Vincent Klein".



---

archive/issue_comments_350888.json:
```json
{
    "body": "<a id='comment:64'></a>\nDe rien !",
    "created_at": "2018-11-05T16:15:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350888",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:64'></a>
De rien !



---

archive/issue_events_206840.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-07T11:28:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206840"
}
```



---

archive/issue_events_206841.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-07T11:28:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23214#event-206841"
}
```



---

archive/issue_comments_350889.json:
```json
{
    "body": "**Changing branch** from \"[u/vdelecroix/23214](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/23214)\" to \"[98ac98478bedfaf6a2ac8d84da67253978e7e9ca](https://github.com/sagemath/sagetrac-mirror/commit/98ac98478bedfaf6a2ac8d84da67253978e7e9ca)\".",
    "created_at": "2018-11-07T11:28:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350889",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/vdelecroix/23214](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/23214)" to "[98ac98478bedfaf6a2ac8d84da67253978e7e9ca](https://github.com/sagemath/sagetrac-mirror/commit/98ac98478bedfaf6a2ac8d84da67253978e7e9ca)".



---

archive/issue_comments_350890.json:
```json
{
    "body": "**Changing commit** from \"[98ac98478bedfaf6a2ac8d84da67253978e7e9ca](https://github.com/sagemath/sagetrac-mirror/commit/98ac98478bedfaf6a2ac8d84da67253978e7e9ca)\" to \"\".",
    "created_at": "2019-10-10T22:28:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350890",
    "user": "https://github.com/dimpase"
}
```

**Changing commit** from "[98ac98478bedfaf6a2ac8d84da67253978e7e9ca](https://github.com/sagemath/sagetrac-mirror/commit/98ac98478bedfaf6a2ac8d84da67253978e7e9ca)" to "".



---

archive/issue_comments_350891.json:
```json
{
    "body": "<a id='comment:66'></a>\nI strongly suspect that this ticket caused #28586 (breakage in solving sparse linear systems over prime fields), as it was the most substantial related change that got in in Sage 8.5.beta3. (and I bisected #28586 to 8.5.beta3).",
    "created_at": "2019-10-10T22:28:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23214#issuecomment-350891",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:66'></a>
I strongly suspect that this ticket caused #28586 (breakage in solving sparse linear systems over prime fields), as it was the most substantial related change that got in in Sage 8.5.beta3. (and I bisected #28586 to 8.5.beta3).
