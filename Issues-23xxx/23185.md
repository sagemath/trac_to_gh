# Issue 23185: A polynomial ring embeds into its fraction field

archive/issues_022948.json:
```json
{
    "assignees": [],
    "body": "Currently, this fails:\n\n```\nsage: R.<x> = QQ[]\nsage: K.<x> = FunctionField(QQ)\nsage: R.is_subring(K)\nNotImplementedError\nsage: R.is_subring(R.fraction_field())\nNotImplementedError\n```\n\nbut it should return `True`.\n\nThe latter could be implemented in the category of ring homomorphisms (to find out whether a map is a coercion, just ask for the coercion between those two rings.)\n\nDepends on #23167\nDepends on #23204\n\nKeywords: **sd86.5, sd87**\n\nBranch/Commit: **[`fa2dcd0`](https://github.com/sagemath/sagetrac-mirror/commit/fa2dcd05df27798908cb39eb734da8ff4a36c63e)**\n\nReviewer: **Marc Masdeu, David Roe**\n\nAuthor: **Julian R\u00fcth**\n\nComponent: **commutative algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23185_\n\n",
    "closed_at": "2017-08-11T18:17:19Z",
    "created_at": "2017-06-09T06:00:05Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "A polynomial ring embeds into its fraction field",
    "type": "issue",
    "updated_at": "2017-08-11T18:17:19Z",
    "url": "https://github.com/sagemath/sage/issues/23185",
    "user": "https://github.com/saraedum"
}
```
Currently, this fails:

```
sage: R.<x> = QQ[]
sage: K.<x> = FunctionField(QQ)
sage: R.is_subring(K)
NotImplementedError
sage: R.is_subring(R.fraction_field())
NotImplementedError
```

but it should return `True`.

The latter could be implemented in the category of ring homomorphisms (to find out whether a map is a coercion, just ask for the coercion between those two rings.)

Depends on #23167
Depends on #23204

Keywords: **sd86.5, sd87**

Branch/Commit: **[`fa2dcd0`](https://github.com/sagemath/sagetrac-mirror/commit/fa2dcd05df27798908cb39eb734da8ff4a36c63e)**

Reviewer: **Marc Masdeu, David Roe**

Author: **Julian Rüth**

Component: **commutative algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/23185_





---

archive/issue_events_320303.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-09T06:00:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320303"
}
```



---

archive/issue_events_320304.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-09T06:00:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
    "label_color": "0000ff",
    "label_name": "c: commutative algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320304"
}
```



---

archive/issue_events_320305.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-09T06:00:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320305"
}
```



---

archive/issue_events_320306.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-09T06:00:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320306"
}
```



---

archive/issue_comments_347667.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n Currently, this fails:\n+\n ```\n sage: R.<x> = QQ[]\n sage: K.<x> = FractionField(QQ)\n@@ -6,4 +7,4 @@\n NotImplementedError\n ```\n \n-but it should return ``True``.\n+but it should return `True`.\n``````\n",
    "created_at": "2017-06-09T06:00:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347667",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,5 @@
 Currently, this fails:
+
 ```
 sage: R.<x> = QQ[]
 sage: K.<x> = FractionField(QQ)
@@ -6,4 +7,4 @@
 NotImplementedError
 ```
 
-but it should return ``True``.
+but it should return `True`.
``````




---

archive/issue_comments_347668.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n ```\n sage: R.<x> = QQ[]\n-sage: K.<x> = FractionField(QQ)\n+sage: K.<x> = FunctionField(QQ)\n sage: R.is_subring(K)\n NotImplementedError\n ```\n``````\n",
    "created_at": "2017-06-09T06:01:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347668",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 ```
 sage: R.<x> = QQ[]
-sage: K.<x> = FractionField(QQ)
+sage: K.<x> = FunctionField(QQ)
 sage: R.is_subring(K)
 NotImplementedError
 ```
``````




---

archive/issue_comments_347669.json:
```json
{
    "body": "Dependencies: **#23167**",
    "created_at": "2017-06-09T06:02:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347669",
    "user": "https://github.com/saraedum"
}
```

Dependencies: **#23167**



---

archive/issue_comments_347670.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nMost likely, we need to patch `_coerce_map_from_` of function fields to return an injective homomorphism.",
    "created_at": "2017-06-09T06:11:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347670",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:4" align="right">comment:4</div>

Most likely, we need to patch `_coerce_map_from_` of function fields to return an injective homomorphism.



---

archive/issue_comments_347671.json:
```json
{
    "body": "Changed keywords from none to **sd86.5**",
    "created_at": "2017-06-09T06:14:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347671",
    "user": "https://github.com/saraedum"
}
```

Changed keywords from none to **sd86.5**



---

archive/issue_comments_347672.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,8 @@\n sage: K.<x> = FunctionField(QQ)\n sage: R.is_subring(K)\n NotImplementedError\n+sage: R.is_subring(R.fraction_field())\n+NotImplementedError\n ```\n \n but it should return `True`.\n``````\n",
    "created_at": "2017-06-09T07:11:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347672",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,8 @@
 sage: K.<x> = FunctionField(QQ)
 sage: R.is_subring(K)
 NotImplementedError
+sage: R.is_subring(R.fraction_field())
+NotImplementedError
 ```
 
 but it should return `True`.
``````




---

archive/issue_comments_347673.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,3 +10,5 @@\n ```\n \n but it should return `True`.\n+\n+The latter could be implemented in the category of ring homomorphisms (to find out whether a map is a coercion, just ask for the coercion between those two rings.)\n``````\n",
    "created_at": "2017-06-09T07:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347673",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,3 +10,5 @@
 ```
 
 but it should return `True`.
+
+The latter could be implemented in the category of ring homomorphisms (to find out whether a map is a coercion, just ask for the coercion between those two rings.)
``````




---

archive/issue_comments_347674.json:
```json
{
    "body": "Branch: **[u/saraedum/a_polynomial_ring_embeds_into_its_fraction_field](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/a_polynomial_ring_embeds_into_its_fraction_field)**",
    "created_at": "2017-06-27T23:51:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347674",
    "user": "https://github.com/saraedum"
}
```

Branch: **[u/saraedum/a_polynomial_ring_embeds_into_its_fraction_field](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/a_polynomial_ring_embeds_into_its_fraction_field)**



---

archive/issue_comments_347675.json:
```json
{
    "body": "Author: **Julian R\u00fcth**",
    "created_at": "2017-06-27T23:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347675",
    "user": "https://github.com/saraedum"
}
```

Author: **Julian Rüth**



---

archive/issue_comments_347676.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f9a4994037de2265f08913afff5345be86556a1\"><code>9f9a499</code></a></td><td><code>A ring embeds into its fraction field</code></td></tr></table>\n",
    "created_at": "2017-06-27T23:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347676",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:9"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f9a4994037de2265f08913afff5345be86556a1"><code>9f9a499</code></a></td><td><code>A ring embeds into its fraction field</code></td></tr></table>




---

archive/issue_comments_347677.json:
```json
{
    "body": "Commit: **[`9f9a499`](https://github.com/sagemath/sagetrac-mirror/commit/9f9a4994037de2265f08913afff5345be86556a1)**",
    "created_at": "2017-06-27T23:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347677",
    "user": "https://github.com/saraedum"
}
```

Commit: **[`9f9a499`](https://github.com/sagemath/sagetrac-mirror/commit/9f9a4994037de2265f08913afff5345be86556a1)**



---

archive/issue_comments_347678.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI expect quite a few doctest failures because error messages change.",
    "created_at": "2017-06-27T23:52:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347678",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:10" align="right">comment:10</div>

I expect quite a few doctest failures because error messages change.



---

archive/issue_events_320307.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-27T23:53:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320307"
}
```



---

archive/issue_events_320308.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-27T23:53:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320308"
}
```



---

archive/issue_events_320309.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-27T23:53:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320309"
}
```



---

archive/issue_comments_347679.json:
```json
{
    "body": "Changed dependencies from **#23167** to **#23167, #23204**",
    "created_at": "2017-06-27T23:53:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347679",
    "user": "https://github.com/saraedum"
}
```

Changed dependencies from **#23167** to **#23167, #23204**



---

archive/issue_comments_347680.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bacdac11f54c8afc23ff265c1fc98cba64a5f113\"><code>bacdac1</code></a></td><td><code>simplify equality checks</code></td></tr></table>\n",
    "created_at": "2017-06-28T02:23:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347680",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bacdac11f54c8afc23ff265c1fc98cba64a5f113"><code>bacdac1</code></a></td><td><code>simplify equality checks</code></td></tr></table>




---

archive/issue_comments_347681.json:
```json
{
    "body": "Changed commit from **[`9f9a499`](https://github.com/sagemath/sagetrac-mirror/commit/9f9a4994037de2265f08913afff5345be86556a1)** to **[`bacdac1`](https://github.com/sagemath/sagetrac-mirror/commit/bacdac11f54c8afc23ff265c1fc98cba64a5f113)**",
    "created_at": "2017-06-28T02:23:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347681",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9f9a499`](https://github.com/sagemath/sagetrac-mirror/commit/9f9a4994037de2265f08913afff5345be86556a1)** to **[`bacdac1`](https://github.com/sagemath/sagetrac-mirror/commit/bacdac11f54c8afc23ff265c1fc98cba64a5f113)**



---

archive/issue_comments_347682.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/925e52abd082f87240348c0fafae892198364990\"><code>925e52a</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr></table>\n",
    "created_at": "2017-07-14T04:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347682",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/925e52abd082f87240348c0fafae892198364990"><code>925e52a</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr></table>




---

archive/issue_comments_347683.json:
```json
{
    "body": "Changed commit from **[`bacdac1`](https://github.com/sagemath/sagetrac-mirror/commit/bacdac11f54c8afc23ff265c1fc98cba64a5f113)** to **[`925e52a`](https://github.com/sagemath/sagetrac-mirror/commit/925e52abd082f87240348c0fafae892198364990)**",
    "created_at": "2017-07-14T04:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347683",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bacdac1`](https://github.com/sagemath/sagetrac-mirror/commit/bacdac11f54c8afc23ff265c1fc98cba64a5f113)** to **[`925e52a`](https://github.com/sagemath/sagetrac-mirror/commit/925e52abd082f87240348c0fafae892198364990)**



---

archive/issue_comments_347684.json:
```json
{
    "body": "Changed keywords from **sd86.5** to **sd86.5, sd87**",
    "created_at": "2017-07-17T17:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347684",
    "user": "https://github.com/roed314"
}
```

Changed keywords from **sd86.5** to **sd86.5, sd87**



---

archive/issue_events_320310.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-19T23:42:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320310"
}
```



---

archive/issue_events_320311.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-19T23:42:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320311"
}
```



---

archive/issue_comments_347685.json:
```json
{
    "body": "Changed commit from **[`925e52a`](https://github.com/sagemath/sagetrac-mirror/commit/925e52abd082f87240348c0fafae892198364990)** to **[`1bf03cd`](https://github.com/sagemath/sagetrac-mirror/commit/1bf03cde52f076abdeda6d90d45d606e8768055f)**",
    "created_at": "2017-07-20T18:12:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347685",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`925e52a`](https://github.com/sagemath/sagetrac-mirror/commit/925e52abd082f87240348c0fafae892198364990)** to **[`1bf03cd`](https://github.com/sagemath/sagetrac-mirror/commit/1bf03cde52f076abdeda6d90d45d606e8768055f)**



---

archive/issue_comments_347686.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2be19767245e4cfdc266e9b17a772c4cd0ab6746\"><code>2be1976</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bf03cde52f076abdeda6d90d45d606e8768055f\"><code>1bf03cd</code></a></td><td><code>Merge branch 'u/saraedum/a_polynomial_ring_embeds_into_its_fraction_field' of git://trac.sagemath.org/sage into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr></table>\n",
    "created_at": "2017-07-20T18:12:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347686",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2be19767245e4cfdc266e9b17a772c4cd0ab6746"><code>2be1976</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bf03cde52f076abdeda6d90d45d606e8768055f"><code>1bf03cd</code></a></td><td><code>Merge branch 'u/saraedum/a_polynomial_ring_embeds_into_its_fraction_field' of git://trac.sagemath.org/sage into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr></table>




---

archive/issue_comments_347687.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5074b2e2a628747bc436e47f5c0fbec5d83e9ef5\"><code>5074b2e</code></a></td><td><code>Fixed doctest</code></td></tr></table>\n",
    "created_at": "2017-07-20T21:52:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347687",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5074b2e2a628747bc436e47f5c0fbec5d83e9ef5"><code>5074b2e</code></a></td><td><code>Fixed doctest</code></td></tr></table>




---

archive/issue_comments_347688.json:
```json
{
    "body": "Changed commit from **[`1bf03cd`](https://github.com/sagemath/sagetrac-mirror/commit/1bf03cde52f076abdeda6d90d45d606e8768055f)** to **[`5074b2e`](https://github.com/sagemath/sagetrac-mirror/commit/5074b2e2a628747bc436e47f5c0fbec5d83e9ef5)**",
    "created_at": "2017-07-20T21:52:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347688",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1bf03cd`](https://github.com/sagemath/sagetrac-mirror/commit/1bf03cde52f076abdeda6d90d45d606e8768055f)** to **[`5074b2e`](https://github.com/sagemath/sagetrac-mirror/commit/5074b2e2a628747bc436e47f5c0fbec5d83e9ef5)**



---

archive/issue_comments_347689.json:
```json
{
    "body": "Work Issues: **merge conflicts**",
    "created_at": "2017-07-21T19:31:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347689",
    "user": "https://github.com/saraedum"
}
```

Work Issues: **merge conflicts**



---

archive/issue_events_320312.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T19:31:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320312"
}
```



---

archive/issue_events_320313.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T19:31:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320313"
}
```



---

archive/issue_comments_347690.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d27ad10b0c8602e74b32fa047e25638614e6b191\"><code>d27ad10</code></a></td><td><code>Merge remote-tracking branch 'trac/develop' into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr></table>\n",
    "created_at": "2017-07-21T19:34:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347690",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d27ad10b0c8602e74b32fa047e25638614e6b191"><code>d27ad10</code></a></td><td><code>Merge remote-tracking branch 'trac/develop' into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr></table>




---

archive/issue_comments_347691.json:
```json
{
    "body": "Changed commit from **[`5074b2e`](https://github.com/sagemath/sagetrac-mirror/commit/5074b2e2a628747bc436e47f5c0fbec5d83e9ef5)** to **[`d27ad10`](https://github.com/sagemath/sagetrac-mirror/commit/d27ad10b0c8602e74b32fa047e25638614e6b191)**",
    "created_at": "2017-07-21T19:34:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347691",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5074b2e`](https://github.com/sagemath/sagetrac-mirror/commit/5074b2e2a628747bc436e47f5c0fbec5d83e9ef5)** to **[`d27ad10`](https://github.com/sagemath/sagetrac-mirror/commit/d27ad10b0c8602e74b32fa047e25638614e6b191)**



---

archive/issue_comments_347692.json:
```json
{
    "body": "Changed work issues from **merge conflicts** to none",
    "created_at": "2017-07-21T19:34:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347692",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **merge conflicts** to none



---

archive/issue_events_320314.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T19:34:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320314"
}
```



---

archive/issue_events_320315.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T19:34:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320315"
}
```



---

archive/issue_comments_347693.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThis has a lot of doctests that fail:\n\n```\nsage -t --warn-long 100.3 src/sage/manifolds/differentiable/metric.py  # 1 doctest failed\nsage -t --warn-long 100.3 src/sage/schemes/elliptic_curves/ell_rational_field.py  # 5 doctests failed\nsage -t --warn-long 100.3 src/sage/symbolic/expression.pyx  # 3 doctests failed\nsage -t --warn-long 100.3 src/sage/schemes/hyperelliptic_curves/hyperelliptic_padic_field.py  # 11 doctests failed\nsage -t --warn-long 100.3 src/sage/schemes/projective/projective_morphism.py  # 38 doctests failed\nsage -t --warn-long 100.3 src/sage/schemes/elliptic_curves/sha_tate.py  # 1 doctest failed\nsage -t --warn-long 100.3 src/sage/tests/gosper-sum.py  # 12 doctests failed\nsage -t --warn-long 100.3 src/sage/modules/free_module_element.pyx  # 16 doctests failed\nsage -t --warn-long 100.3 src/sage/schemes/elliptic_curves/padics.py  # 2 doctests failed\nsage -t --warn-long 100.3 src/sage/schemes/elliptic_curves/ell_point.py  # 5 doctests failed\nsage -t --warn-long 100.3 src/sage/modules/free_module.py  # 8 doctests failed\nsage -t --warn-long 100.3 src/sage/schemes/curves/affine_curve.py  # 16 doctests failed\nsage -t --warn-long 100.3 src/sage/combinat/perfect_matching.py  # 2 doctests failed\nsage -t --warn-long 100.3 src/sage/schemes/elliptic_curves/constructor.py  # 4 doctests failed\nsage -t --warn-long 100.3 src/sage/schemes/elliptic_curves/ell_egros.py  # 3 doctests failed\nsage -t --warn-long 100.3 src/sage/schemes/projective/projective_point.py  # 1 doctest failed\nsage -t --warn-long 100.3 src/sage/schemes/affine/affine_morphism.py  # 29 doctests failed\nsage -t --warn-long 100.3 src/sage/rings/polynomial/polynomial_quotient_ring.py  # 1 doctest failed\nsage -t --warn-long 100.3 src/sage/rings/morphism.pyx  # 2 doctests failed\nsage -t --warn-long 100.3 src/sage/schemes/elliptic_curves/ell_tate_curve.py  # 5 doctests failed\nsage -t --warn-long 100.3 src/sage/schemes/generic/morphism.py  # 9 doctests failed\nsage -t --warn-long 100.3 src/sage/schemes/affine/affine_point.py  # 6 doctests failed\nsage -t --warn-long 100.3 src/sage/rings/polynomial/skew_polynomial_element.pyx  # 8 doctests failed\nsage -t --warn-long 100.3 src/sage/schemes/projective/endPN_minimal_model.py  # 2 doctests failed\nsage -t --warn-long 100.3 src/sage/schemes/projective/projective_morphism_helper.pyx  # 3 doctests failed\n\n```\n\nIn particular, things that have non-unit denominators are failing to factor.",
    "created_at": "2017-07-21T21:56:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347693",
    "user": "https://github.com/adeines"
}
```

<div id="comment:23" align="right">comment:23</div>

This has a lot of doctests that fail:

```
sage -t --warn-long 100.3 src/sage/manifolds/differentiable/metric.py  # 1 doctest failed
sage -t --warn-long 100.3 src/sage/schemes/elliptic_curves/ell_rational_field.py  # 5 doctests failed
sage -t --warn-long 100.3 src/sage/symbolic/expression.pyx  # 3 doctests failed
sage -t --warn-long 100.3 src/sage/schemes/hyperelliptic_curves/hyperelliptic_padic_field.py  # 11 doctests failed
sage -t --warn-long 100.3 src/sage/schemes/projective/projective_morphism.py  # 38 doctests failed
sage -t --warn-long 100.3 src/sage/schemes/elliptic_curves/sha_tate.py  # 1 doctest failed
sage -t --warn-long 100.3 src/sage/tests/gosper-sum.py  # 12 doctests failed
sage -t --warn-long 100.3 src/sage/modules/free_module_element.pyx  # 16 doctests failed
sage -t --warn-long 100.3 src/sage/schemes/elliptic_curves/padics.py  # 2 doctests failed
sage -t --warn-long 100.3 src/sage/schemes/elliptic_curves/ell_point.py  # 5 doctests failed
sage -t --warn-long 100.3 src/sage/modules/free_module.py  # 8 doctests failed
sage -t --warn-long 100.3 src/sage/schemes/curves/affine_curve.py  # 16 doctests failed
sage -t --warn-long 100.3 src/sage/combinat/perfect_matching.py  # 2 doctests failed
sage -t --warn-long 100.3 src/sage/schemes/elliptic_curves/constructor.py  # 4 doctests failed
sage -t --warn-long 100.3 src/sage/schemes/elliptic_curves/ell_egros.py  # 3 doctests failed
sage -t --warn-long 100.3 src/sage/schemes/projective/projective_point.py  # 1 doctest failed
sage -t --warn-long 100.3 src/sage/schemes/affine/affine_morphism.py  # 29 doctests failed
sage -t --warn-long 100.3 src/sage/rings/polynomial/polynomial_quotient_ring.py  # 1 doctest failed
sage -t --warn-long 100.3 src/sage/rings/morphism.pyx  # 2 doctests failed
sage -t --warn-long 100.3 src/sage/schemes/elliptic_curves/ell_tate_curve.py  # 5 doctests failed
sage -t --warn-long 100.3 src/sage/schemes/generic/morphism.py  # 9 doctests failed
sage -t --warn-long 100.3 src/sage/schemes/affine/affine_point.py  # 6 doctests failed
sage -t --warn-long 100.3 src/sage/rings/polynomial/skew_polynomial_element.pyx  # 8 doctests failed
sage -t --warn-long 100.3 src/sage/schemes/projective/endPN_minimal_model.py  # 2 doctests failed
sage -t --warn-long 100.3 src/sage/schemes/projective/projective_morphism_helper.pyx  # 3 doctests failed

```

In particular, things that have non-unit denominators are failing to factor.



---

archive/issue_events_320316.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2017-07-21T21:56:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320316"
}
```



---

archive/issue_events_320317.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2017-07-21T21:56:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320317"
}
```



---

archive/issue_comments_347694.json:
```json
{
    "body": "Work Issues: **failing doctests**",
    "created_at": "2017-07-22T02:29:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347694",
    "user": "https://github.com/saraedum"
}
```

Work Issues: **failing doctests**



---

archive/issue_comments_347695.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e891a884f8eca9e1e7d226306cb79b9cd827ee8b\"><code>e891a88</code></a></td><td><code>Replace isinstance(RingHomomorphism)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c3d77228a92891b5c381442e7edbb3102eec888\"><code>0c3d772</code></a></td><td><code>fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b15febbb9c7ef9be0163d572343bef5297e3611d\"><code>b15febb</code></a></td><td><code>Fixed two doctests typos.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea35cc4827370a4d133c1a115ff1d85954320598\"><code>ea35cc4</code></a></td><td><code>Merge branch 'u/aly.deines/remove_ringhomomorphism_coercion' of git://trac.sagemath.org/sage into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/961b6152a6187b88d9a536aa8929762f850b8d1c\"><code>961b615</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5affa709b63178eac8a74eac90b8d61ff77d209\"><code>d5affa7</code></a></td><td><code>The \"morphism\" might just be a \"Map\", namely a DefaultConvertMap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/382e2d180772eb9d355aa7fbf539dcc52607a379\"><code>382e2d1</code></a></td><td><code>fix docbuild</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05ee2ca55b56acf3241fc19b4ce62e1404cde002\"><code>05ee2ca</code></a></td><td><code>Merge branch 't/23204/remove_ringhomomorphism_coercion' into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1cf2b44352669236a029492cdac8b2c4393f7da9\"><code>1cf2b44</code></a></td><td><code>fix doctest output</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/faed28f4a7f263b8b84c78bbb96f28c8218ef583\"><code>faed28f</code></a></td><td><code>Accept keyword parameters</code></td></tr></table>\n",
    "created_at": "2017-07-22T03:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347695",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e891a884f8eca9e1e7d226306cb79b9cd827ee8b"><code>e891a88</code></a></td><td><code>Replace isinstance(RingHomomorphism)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c3d77228a92891b5c381442e7edbb3102eec888"><code>0c3d772</code></a></td><td><code>fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b15febbb9c7ef9be0163d572343bef5297e3611d"><code>b15febb</code></a></td><td><code>Fixed two doctests typos.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea35cc4827370a4d133c1a115ff1d85954320598"><code>ea35cc4</code></a></td><td><code>Merge branch 'u/aly.deines/remove_ringhomomorphism_coercion' of git://trac.sagemath.org/sage into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/961b6152a6187b88d9a536aa8929762f850b8d1c"><code>961b615</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5affa709b63178eac8a74eac90b8d61ff77d209"><code>d5affa7</code></a></td><td><code>The "morphism" might just be a "Map", namely a DefaultConvertMap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/382e2d180772eb9d355aa7fbf539dcc52607a379"><code>382e2d1</code></a></td><td><code>fix docbuild</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05ee2ca55b56acf3241fc19b4ce62e1404cde002"><code>05ee2ca</code></a></td><td><code>Merge branch 't/23204/remove_ringhomomorphism_coercion' into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1cf2b44352669236a029492cdac8b2c4393f7da9"><code>1cf2b44</code></a></td><td><code>fix doctest output</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/faed28f4a7f263b8b84c78bbb96f28c8218ef583"><code>faed28f</code></a></td><td><code>Accept keyword parameters</code></td></tr></table>




---

archive/issue_comments_347696.json:
```json
{
    "body": "Changed commit from **[`d27ad10`](https://github.com/sagemath/sagetrac-mirror/commit/d27ad10b0c8602e74b32fa047e25638614e6b191)** to **[`faed28f`](https://github.com/sagemath/sagetrac-mirror/commit/faed28f4a7f263b8b84c78bbb96f28c8218ef583)**",
    "created_at": "2017-07-22T03:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347696",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d27ad10`](https://github.com/sagemath/sagetrac-mirror/commit/d27ad10b0c8602e74b32fa047e25638614e6b191)** to **[`faed28f`](https://github.com/sagemath/sagetrac-mirror/commit/faed28f4a7f263b8b84c78bbb96f28c8218ef583)**



---

archive/issue_comments_347697.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e891a884f8eca9e1e7d226306cb79b9cd827ee8b\"><code>e891a88</code></a></td><td><code>Replace isinstance(RingHomomorphism)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c3d77228a92891b5c381442e7edbb3102eec888\"><code>0c3d772</code></a></td><td><code>fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b15febbb9c7ef9be0163d572343bef5297e3611d\"><code>b15febb</code></a></td><td><code>Fixed two doctests typos.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea35cc4827370a4d133c1a115ff1d85954320598\"><code>ea35cc4</code></a></td><td><code>Merge branch 'u/aly.deines/remove_ringhomomorphism_coercion' of git://trac.sagemath.org/sage into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/961b6152a6187b88d9a536aa8929762f850b8d1c\"><code>961b615</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5affa709b63178eac8a74eac90b8d61ff77d209\"><code>d5affa7</code></a></td><td><code>The \"morphism\" might just be a \"Map\", namely a DefaultConvertMap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/382e2d180772eb9d355aa7fbf539dcc52607a379\"><code>382e2d1</code></a></td><td><code>fix docbuild</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05ee2ca55b56acf3241fc19b4ce62e1404cde002\"><code>05ee2ca</code></a></td><td><code>Merge branch 't/23204/remove_ringhomomorphism_coercion' into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1cf2b44352669236a029492cdac8b2c4393f7da9\"><code>1cf2b44</code></a></td><td><code>fix doctest output</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/faed28f4a7f263b8b84c78bbb96f28c8218ef583\"><code>faed28f</code></a></td><td><code>Accept keyword parameters</code></td></tr></table>\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e891a884f8eca9e1e7d226306cb79b9cd827ee8b\"><code>e891a88</code></a></td><td><code>Replace isinstance(RingHomomorphism)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c3d77228a92891b5c381442e7edbb3102eec888\"><code>0c3d772</code></a></td><td><code>fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b15febbb9c7ef9be0163d572343bef5297e3611d\"><code>b15febb</code></a></td><td><code>Fixed two doctests typos.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea35cc4827370a4d133c1a115ff1d85954320598\"><code>ea35cc4</code></a></td><td><code>Merge branch 'u/aly.deines/remove_ringhomomorphism_coercion' of git://trac.sagemath.org/sage into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/961b6152a6187b88d9a536aa8929762f850b8d1c\"><code>961b615</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5affa709b63178eac8a74eac90b8d61ff77d209\"><code>d5affa7</code></a></td><td><code>The \"morphism\" might just be a \"Map\", namely a DefaultConvertMap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/382e2d180772eb9d355aa7fbf539dcc52607a379\"><code>382e2d1</code></a></td><td><code>fix docbuild</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05ee2ca55b56acf3241fc19b4ce62e1404cde002\"><code>05ee2ca</code></a></td><td><code>Merge branch 't/23204/remove_ringhomomorphism_coercion' into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1cf2b44352669236a029492cdac8b2c4393f7da9\"><code>1cf2b44</code></a></td><td><code>fix doctest output</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/faed28f4a7f263b8b84c78bbb96f28c8218ef583\"><code>faed28f</code></a></td><td><code>Accept keyword parameters</code></td></tr></table>\n",
    "created_at": "2017-07-22T04:00:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347697",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:26" align="right">comment:26</div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e891a884f8eca9e1e7d226306cb79b9cd827ee8b"><code>e891a88</code></a></td><td><code>Replace isinstance(RingHomomorphism)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c3d77228a92891b5c381442e7edbb3102eec888"><code>0c3d772</code></a></td><td><code>fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b15febbb9c7ef9be0163d572343bef5297e3611d"><code>b15febb</code></a></td><td><code>Fixed two doctests typos.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea35cc4827370a4d133c1a115ff1d85954320598"><code>ea35cc4</code></a></td><td><code>Merge branch 'u/aly.deines/remove_ringhomomorphism_coercion' of git://trac.sagemath.org/sage into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/961b6152a6187b88d9a536aa8929762f850b8d1c"><code>961b615</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5affa709b63178eac8a74eac90b8d61ff77d209"><code>d5affa7</code></a></td><td><code>The "morphism" might just be a "Map", namely a DefaultConvertMap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/382e2d180772eb9d355aa7fbf539dcc52607a379"><code>382e2d1</code></a></td><td><code>fix docbuild</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05ee2ca55b56acf3241fc19b4ce62e1404cde002"><code>05ee2ca</code></a></td><td><code>Merge branch 't/23204/remove_ringhomomorphism_coercion' into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1cf2b44352669236a029492cdac8b2c4393f7da9"><code>1cf2b44</code></a></td><td><code>fix doctest output</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/faed28f4a7f263b8b84c78bbb96f28c8218ef583"><code>faed28f</code></a></td><td><code>Accept keyword parameters</code></td></tr></table>

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e891a884f8eca9e1e7d226306cb79b9cd827ee8b"><code>e891a88</code></a></td><td><code>Replace isinstance(RingHomomorphism)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c3d77228a92891b5c381442e7edbb3102eec888"><code>0c3d772</code></a></td><td><code>fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b15febbb9c7ef9be0163d572343bef5297e3611d"><code>b15febb</code></a></td><td><code>Fixed two doctests typos.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea35cc4827370a4d133c1a115ff1d85954320598"><code>ea35cc4</code></a></td><td><code>Merge branch 'u/aly.deines/remove_ringhomomorphism_coercion' of git://trac.sagemath.org/sage into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/961b6152a6187b88d9a536aa8929762f850b8d1c"><code>961b615</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5affa709b63178eac8a74eac90b8d61ff77d209"><code>d5affa7</code></a></td><td><code>The "morphism" might just be a "Map", namely a DefaultConvertMap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/382e2d180772eb9d355aa7fbf539dcc52607a379"><code>382e2d1</code></a></td><td><code>fix docbuild</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05ee2ca55b56acf3241fc19b4ce62e1404cde002"><code>05ee2ca</code></a></td><td><code>Merge branch 't/23204/remove_ringhomomorphism_coercion' into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1cf2b44352669236a029492cdac8b2c4393f7da9"><code>1cf2b44</code></a></td><td><code>fix doctest output</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/faed28f4a7f263b8b84c78bbb96f28c8218ef583"><code>faed28f</code></a></td><td><code>Accept keyword parameters</code></td></tr></table>




---

archive/issue_comments_347698.json:
```json
{
    "body": "Changed work issues from **failing doctests** to **check speed regression**",
    "created_at": "2017-07-22T04:00:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347698",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **failing doctests** to **check speed regression**



---

archive/issue_comments_347699.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThere is no speed regression:\n\n```\nsage: R.<x> = ZpCA(2)[]\nsage: K=R.fraction_field()\nsage: a = x/K(3)\nsage: %timeit R(a)\n10000 loops, best of 3: 98.8 \u00b5s per loop # before\n10000 loops, best of 3: 84.3 \u00b5s per loop # after\nsage: o = K.one()\nsage: %timeit R(o)\n10000 loops, best of 3: 96.5 \u00b5s per loop # before\n10000 loops, best of 3: 82.2 \u00b5s per loop # after\n```",
    "created_at": "2017-07-22T04:09:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347699",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:27" align="right">comment:27</div>

There is no speed regression:

```
sage: R.<x> = ZpCA(2)[]
sage: K=R.fraction_field()
sage: a = x/K(3)
sage: %timeit R(a)
10000 loops, best of 3: 98.8 µs per loop # before
10000 loops, best of 3: 84.3 µs per loop # after
sage: o = K.one()
sage: %timeit R(o)
10000 loops, best of 3: 96.5 µs per loop # before
10000 loops, best of 3: 82.2 µs per loop # after
```



---

archive/issue_comments_347700.json:
```json
{
    "body": "Changed work issues from **check speed regression** to none",
    "created_at": "2017-07-22T04:09:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347700",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **check speed regression** to none



---

archive/issue_events_320318.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-22T04:09:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320318"
}
```



---

archive/issue_events_320319.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-22T04:09:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320319"
}
```



---

archive/issue_comments_347701.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThe tests pass for the files that failed before.",
    "created_at": "2017-07-22T04:09:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347701",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:28" align="right">comment:28</div>

The tests pass for the files that failed before.



---

archive/issue_comments_347702.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ba63309c8067c5a2a94736c4e89275fb8df1902\"><code>0ba6330</code></a></td><td><code>fix typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2acd67fd30e83d9efe75e01bb30c8cc0fea41e1\"><code>b2acd67</code></a></td><td><code>reverted to old exception messages in doctest</code></td></tr></table>\n",
    "created_at": "2017-07-22T05:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347702",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ba63309c8067c5a2a94736c4e89275fb8df1902"><code>0ba6330</code></a></td><td><code>fix typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2acd67fd30e83d9efe75e01bb30c8cc0fea41e1"><code>b2acd67</code></a></td><td><code>reverted to old exception messages in doctest</code></td></tr></table>




---

archive/issue_comments_347703.json:
```json
{
    "body": "Changed commit from **[`faed28f`](https://github.com/sagemath/sagetrac-mirror/commit/faed28f4a7f263b8b84c78bbb96f28c8218ef583)** to **[`b2acd67`](https://github.com/sagemath/sagetrac-mirror/commit/b2acd67fd30e83d9efe75e01bb30c8cc0fea41e1)**",
    "created_at": "2017-07-22T05:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347703",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`faed28f`](https://github.com/sagemath/sagetrac-mirror/commit/faed28f4a7f263b8b84c78bbb96f28c8218ef583)** to **[`b2acd67`](https://github.com/sagemath/sagetrac-mirror/commit/b2acd67fd30e83d9efe75e01bb30c8cc0fea41e1)**



---

archive/issue_comments_347704.json:
```json
{
    "body": "Changed commit from **[`b2acd67`](https://github.com/sagemath/sagetrac-mirror/commit/b2acd67fd30e83d9efe75e01bb30c8cc0fea41e1)** to **[`79bac8f`](https://github.com/sagemath/sagetrac-mirror/commit/79bac8fb2b798928270cd4d8d35bab8add32b124)**",
    "created_at": "2017-07-22T05:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347704",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b2acd67`](https://github.com/sagemath/sagetrac-mirror/commit/b2acd67fd30e83d9efe75e01bb30c8cc0fea41e1)** to **[`79bac8f`](https://github.com/sagemath/sagetrac-mirror/commit/79bac8fb2b798928270cd4d8d35bab8add32b124)**



---

archive/issue_comments_347705.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04db2514f171f58606ed41fa751ecb0bb4c996be\"><code>04db251</code></a></td><td><code>fix whitespace</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79bac8fb2b798928270cd4d8d35bab8add32b124\"><code>79bac8f</code></a></td><td><code>fixed grammar</code></td></tr></table>\n",
    "created_at": "2017-07-22T05:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347705",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04db2514f171f58606ed41fa751ecb0bb4c996be"><code>04db251</code></a></td><td><code>fix whitespace</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79bac8fb2b798928270cd4d8d35bab8add32b124"><code>79bac8f</code></a></td><td><code>fixed grammar</code></td></tr></table>




---

archive/issue_comments_347706.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThe code looks good. Doctests in sage/rings pass. When the patchbot is happy I can give it a positive review.",
    "created_at": "2017-07-22T06:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347706",
    "user": "https://github.com/mmasdeu"
}
```

<div id="comment:31" align="right">comment:31</div>

The code looks good. Doctests in sage/rings pass. When the patchbot is happy I can give it a positive review.



---

archive/issue_comments_347707.json:
```json
{
    "body": "Reviewer: **Marc Masdeu**",
    "created_at": "2017-07-22T06:14:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347707",
    "user": "https://github.com/mmasdeu"
}
```

Reviewer: **Marc Masdeu**



---

archive/issue_comments_347708.json:
```json
{
    "body": "Work Issues: **coverage in fraction_field.py**",
    "created_at": "2017-07-22T21:52:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347708",
    "user": "https://github.com/saraedum"
}
```

Work Issues: **coverage in fraction_field.py**



---

archive/issue_events_320320.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-22T21:52:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320320"
}
```



---

archive/issue_events_320321.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-22T21:52:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320321"
}
```



---

archive/issue_comments_347709.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nJulian, quick (possibly stupid) question.  In the class FractionFieldEmbeddingSection, is _call_with_args doing anything that `_call_` isn't?  Currently it's the function lacking coverage in fraction_field.py, but maybe we don't need this function?",
    "created_at": "2017-07-22T22:29:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347709",
    "user": "https://github.com/adeines"
}
```

<div id="comment:34" align="right">comment:34</div>

Julian, quick (possibly stupid) question.  In the class FractionFieldEmbeddingSection, is _call_with_args doing anything that `_call_` isn't?  Currently it's the function lacking coverage in fraction_field.py, but maybe we don't need this function?



---

archive/issue_comments_347710.json:
```json
{
    "body": "Changed work issues from **coverage in fraction_field.py** to **coverage in fraction_field.py, _richcmp_ is incorrect**",
    "created_at": "2017-07-23T05:55:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347710",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **coverage in fraction_field.py** to **coverage in fraction_field.py, _richcmp_ is incorrect**



---

archive/issue_comments_347711.json:
```json
{
    "body": "Changed work issues from **coverage in fraction_field.py, _richcmp_ is incorrect** to **coverage in fraction_field.py**",
    "created_at": "2017-07-23T06:48:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347711",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **coverage in fraction_field.py, _richcmp_ is incorrect** to **coverage in fraction_field.py**



---

archive/issue_comments_347712.json:
```json
{
    "body": "Changed commit from **[`79bac8f`](https://github.com/sagemath/sagetrac-mirror/commit/79bac8fb2b798928270cd4d8d35bab8add32b124)** to **[`e3fb631`](https://github.com/sagemath/sagetrac-mirror/commit/e3fb63156dd15edcf14bf670ba8ad5337cffffc7)**",
    "created_at": "2017-07-23T06:49:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347712",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`79bac8f`](https://github.com/sagemath/sagetrac-mirror/commit/79bac8fb2b798928270cd4d8d35bab8add32b124)** to **[`e3fb631`](https://github.com/sagemath/sagetrac-mirror/commit/e3fb63156dd15edcf14bf670ba8ad5337cffffc7)**



---

archive/issue_comments_347713.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb66f9ffa7e95b8d28774b2da4d2ac03a4d88bd3\"><code>fb66f9f</code></a></td><td><code>Fix richcmp</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3fb63156dd15edcf14bf670ba8ad5337cffffc7\"><code>e3fb631</code></a></td><td><code>Merge branch 'u/saraedum/a_polynomial_ring_embeds_into_its_fraction_field' of git://trac.sagemath.org/sage into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr></table>\n",
    "created_at": "2017-07-23T06:49:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347713",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb66f9ffa7e95b8d28774b2da4d2ac03a4d88bd3"><code>fb66f9f</code></a></td><td><code>Fix richcmp</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3fb63156dd15edcf14bf670ba8ad5337cffffc7"><code>e3fb631</code></a></td><td><code>Merge branch 'u/saraedum/a_polynomial_ring_embeds_into_its_fraction_field' of git://trac.sagemath.org/sage into t/23185/a_polynomial_ring_embeds_into_its_fraction_field</code></td></tr></table>




---

archive/issue_comments_347714.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@adeines](#comment%3A34):\n> Julian, quick (possibly stupid) question.  In the class FractionFieldEmbeddingSection, is _call_with_args doing anything that `_call_` isn't?  Currently it's the function lacking coverage in fraction_field.py, but maybe we don't need this function?\n\nSome code in schemes does essentially:\n\n```\nsage: K = some_ring.fraction_field()\nsage: some_ring(K.some_element(), check=False)\n```\nI guess it was put there for performance reasons. The `check` used to get passed on to the `element_constructor` of `R`. Now there is a proper map, so we need to consume the extra argument. This is done by implementing `_call_with_args`. It does not do anything that `_call_` does not but `Parent` is calling `_call_with_args` if there is any arguments. (I don't really know why `Parent` can't just call `_call_` with arguments.)",
    "created_at": "2017-07-23T06:53:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347714",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@adeines](#comment%3A34):
> Julian, quick (possibly stupid) question.  In the class FractionFieldEmbeddingSection, is _call_with_args doing anything that `_call_` isn't?  Currently it's the function lacking coverage in fraction_field.py, but maybe we don't need this function?

Some code in schemes does essentially:

```
sage: K = some_ring.fraction_field()
sage: some_ring(K.some_element(), check=False)
```
I guess it was put there for performance reasons. The `check` used to get passed on to the `element_constructor` of `R`. Now there is a proper map, so we need to consume the extra argument. This is done by implementing `_call_with_args`. It does not do anything that `_call_` does not but `Parent` is calling `_call_with_args` if there is any arguments. (I don't really know why `Parent` can't just call `_call_` with arguments.)



---

archive/issue_comments_347715.json:
```json
{
    "body": "Changed work issues from **coverage in fraction_field.py** to **waiting for the patchbot \u2192 positive review**",
    "created_at": "2017-07-23T06:54:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347715",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **coverage in fraction_field.py** to **waiting for the patchbot → positive review**



---

archive/issue_events_320322.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-23T06:54:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320322"
}
```



---

archive/issue_events_320323.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-23T06:54:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320323"
}
```



---

archive/issue_comments_347716.json:
```json
{
    "body": "Changed work issues from **waiting for the patchbot \u2192 positive review** to none",
    "created_at": "2017-07-23T06:54:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347716",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **waiting for the patchbot → positive review** to none



---

archive/issue_comments_347717.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3ecd0eeacb31055283b6edab35c8dcc178d96bd\"><code>f3ecd0e</code></a></td><td><code>added missing doctest</code></td></tr></table>\n",
    "created_at": "2017-07-23T06:55:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347717",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3ecd0eeacb31055283b6edab35c8dcc178d96bd"><code>f3ecd0e</code></a></td><td><code>added missing doctest</code></td></tr></table>




---

archive/issue_comments_347718.json:
```json
{
    "body": "Changed commit from **[`e3fb631`](https://github.com/sagemath/sagetrac-mirror/commit/e3fb63156dd15edcf14bf670ba8ad5337cffffc7)** to **[`f3ecd0e`](https://github.com/sagemath/sagetrac-mirror/commit/f3ecd0eeacb31055283b6edab35c8dcc178d96bd)**",
    "created_at": "2017-07-23T06:55:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347718",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e3fb631`](https://github.com/sagemath/sagetrac-mirror/commit/e3fb63156dd15edcf14bf670ba8ad5337cffffc7)** to **[`f3ecd0e`](https://github.com/sagemath/sagetrac-mirror/commit/f3ecd0eeacb31055283b6edab35c8dcc178d96bd)**



---

archive/issue_comments_347719.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nLooks good once tests pass.",
    "created_at": "2017-07-23T06:56:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347719",
    "user": "https://github.com/roed314"
}
```

<div id="comment:42" align="right">comment:42</div>

Looks good once tests pass.



---

archive/issue_comments_347720.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nOne should avoid comparison of types. Using isinstance is the correct way of doing that.",
    "created_at": "2017-07-23T07:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347720",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:43" align="right">comment:43</div>

One should avoid comparison of types. Using isinstance is the correct way of doing that.



---

archive/issue_comments_347721.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nchapoton: Do you refer to `_richcmp_`? So, in general I agree that `isinstance` is often better than equality of type. In this case, however, I don't see how someone would inherit from this class and mix this class and its subtype in the same homset \u2013 after all this is a coercion, so how should there be another coercion with the same domain and codomain around? At the same time, rewriting this to use `isinstance` makes the code more complicated.",
    "created_at": "2017-07-23T08:25:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347721",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:44" align="right">comment:44</div>

chapoton: Do you refer to `_richcmp_`? So, in general I agree that `isinstance` is often better than equality of type. In this case, however, I don't see how someone would inherit from this class and mix this class and its subtype in the same homset – after all this is a coercion, so how should there be another coercion with the same domain and codomain around? At the same time, rewriting this to use `isinstance` makes the code more complicated.



---

archive/issue_comments_347722.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nWell, I just wanted to say that comparison of types is not allowed in python3. I spend a lot of time trying to make progress towards python3, and seeing yet more work to be done makes me rather unhappy.\n\nhttps://stackoverflow.com/questions/707674/how-to-compare-type-of-an-object-in-python",
    "created_at": "2017-07-23T09:17:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347722",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:45" align="right">comment:45</div>

Well, I just wanted to say that comparison of types is not allowed in python3. I spend a lot of time trying to make progress towards python3, and seeing yet more work to be done makes me rather unhappy.

https://stackoverflow.com/questions/707674/how-to-compare-type-of-an-object-in-python



---

archive/issue_comments_347723.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nSure. I thought you were talking about `==` and `!=` but of course we should do something about `<=` and friends here.",
    "created_at": "2017-07-23T15:36:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347723",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:46" align="right">comment:46</div>

Sure. I thought you were talking about `==` and `!=` but of course we should do something about `<=` and friends here.



---

archive/issue_events_320324.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-23T15:36:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320324"
}
```



---

archive/issue_events_320325.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-23T15:36:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320325"
}
```



---

archive/issue_comments_347724.json:
```json
{
    "body": "Work Issues: **handle <=,<,>=,>,\u2026**",
    "created_at": "2017-07-23T15:36:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347724",
    "user": "https://github.com/saraedum"
}
```

Work Issues: **handle <=,<,>=,>,…**



---

archive/issue_comments_347725.json:
```json
{
    "body": "Changed dependencies from **#23167, #23204** to **#23167, #23204, #23529**",
    "created_at": "2017-07-23T15:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347725",
    "user": "https://github.com/saraedum"
}
```

Changed dependencies from **#23167, #23204** to **#23167, #23204, #23529**



---

archive/issue_comments_347726.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nThere is no need for a new kind of richcmp variant. Just do not compare types, but use isinstance.",
    "created_at": "2017-07-23T18:58:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347726",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:48" align="right">comment:48</div>

There is no need for a new kind of richcmp variant. Just do not compare types, but use isinstance.



---

archive/issue_comments_347727.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nThis is a very common task and it is apparently very easy to get wrong. So, I think there is a point in providing a helper that makes this easy to write (and mentioning it in `Element._richcmp_`) I'd like to keep this one line of code without caring about what `op` is exactly, so I'd like to have the new implementation be:\n\n```\nreturn richcmp_unordered((type(self),self.domain(),self.codomain()) == (type(other),other.domain(),other.codomain()), op)\n```\n\nOr do you have an idea for a similarly short implementation that gets all the cases right?",
    "created_at": "2017-07-23T21:12:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347727",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:49" align="right">comment:49</div>

This is a very common task and it is apparently very easy to get wrong. So, I think there is a point in providing a helper that makes this easy to write (and mentioning it in `Element._richcmp_`) I'd like to keep this one line of code without caring about what `op` is exactly, so I'd like to have the new implementation be:

```
return richcmp_unordered((type(self),self.domain(),self.codomain()) == (type(other),other.domain(),other.codomain()), op)
```

Or do you have an idea for a similarly short implementation that gets all the cases right?



---

archive/issue_comments_347728.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nActually\n\n```\nreturn richcmp_unordered(type(self) == type(other) and (self.domain(),self.codomain()) == (other.domain(),other.codomain()))\n```",
    "created_at": "2017-07-24T01:18:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347728",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:50" align="right">comment:50</div>

Actually

```
return richcmp_unordered(type(self) == type(other) and (self.domain(),self.codomain()) == (other.domain(),other.codomain()))
```



---

archive/issue_comments_347729.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@saraedum](#comment%3A50):\n> Actually\n> \n> ```\n> return richcmp_unordered(type(self) == type(other) and (self.domain(),self.codomain()) == (other.domain(),other.codomain()))\n> ```\n\nIf you want to do just that (go through a boolean), then use `rich_to_bool`\n\nIn most of the cases, one really wants to compare (for inequalities) the rest, once the type is checked to be correct.\n\n***EDIT*** maybe rich_to_bool is not the correct solution here. It is rather used to take as input the result of an oldstyle cmp.",
    "created_at": "2017-07-24T06:31:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347729",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@saraedum](#comment%3A50):
> Actually
> 
> ```
> return richcmp_unordered(type(self) == type(other) and (self.domain(),self.codomain()) == (other.domain(),other.codomain()))
> ```

If you want to do just that (go through a boolean), then use `rich_to_bool`

In most of the cases, one really wants to compare (for inequalities) the rest, once the type is checked to be correct.

***EDIT*** maybe rich_to_bool is not the correct solution here. It is rather used to take as input the result of an oldstyle cmp.



---

archive/issue_comments_347730.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nTrying to find a solution that both of us would agree on, I would suggest :\n\n0) Do no use your new proposal for a richmp_unordered here, but keep this ticket independent from that. You can then try elsewhere to convince that this is a good idea, without preventing the ticket here to be fixed.\n\n1) use here the standard way to implement richcmp, looking like\n\n```\nif not isinstance(other, FractionFieldEmbeddingSection):\n    return NotImplemented\nreturn richcmp((self.domain(), self.codomain()), (other.domain(), other.codomain()), op)\n```",
    "created_at": "2017-07-24T09:23:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347730",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:52" align="right">comment:52</div>

Trying to find a solution that both of us would agree on, I would suggest :

0) Do no use your new proposal for a richmp_unordered here, but keep this ticket independent from that. You can then try elsewhere to convince that this is a good idea, without preventing the ticket here to be fixed.

1) use here the standard way to implement richcmp, looking like

```
if not isinstance(other, FractionFieldEmbeddingSection):
    return NotImplemented
return richcmp((self.domain(), self.codomain()), (other.domain(), other.codomain()), op)
```



---

archive/issue_comments_347731.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nOk. I think that I am fine with your proposal 1). The only thing I don't like about it is that if domain and codomain implement `<=` for whatever reason, then `self` will do as well. I am not sure if that's a good idea but I also don't mind.",
    "created_at": "2017-07-24T11:40:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347731",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:53" align="right">comment:53</div>

Ok. I think that I am fine with your proposal 1). The only thing I don't like about it is that if domain and codomain implement `<=` for whatever reason, then `self` will do as well. I am not sure if that's a good idea but I also don't mind.



---

archive/issue_comments_347732.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nShouldn't we raise a `TypeError` instead of `NotImplemented`? That seems to be what Python3 does:\n\n```\n>>> \"\" < 0\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nTypeError: '<' not supported between instances of 'str' and 'int'\n```",
    "created_at": "2017-07-24T11:41:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347732",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:54" align="right">comment:54</div>

Shouldn't we raise a `TypeError` instead of `NotImplemented`? That seems to be what Python3 does:

```
>>> "" < 0
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: '<' not supported between instances of 'str' and 'int'
```



---

archive/issue_comments_347733.json:
```json
{
    "body": "Changed dependencies from **#23167, #23204, #23529** to **#23167, #23204**",
    "created_at": "2017-07-24T11:44:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347733",
    "user": "https://github.com/saraedum"
}
```

Changed dependencies from **#23167, #23204, #23529** to **#23167, #23204**



---

archive/issue_comments_347734.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nReplying to [@saraedum](#comment%3A54):\n> Shouldn't we raise a `TypeError` instead of `NotImplemented`? That seems to be what Python3 does:\n> \n> ```\n> >>> \"\" < 0\n> Traceback (most recent call last):\n>   File \"<stdin>\", line 1, in <module>\n> TypeError: '<' not supported between instances of 'str' and 'int'\n> ```\n\nNo, I do not think so. It seems that NotImplemented is what one should answer when not knowing how to compare. Python will know what to do with that, hopefuly.",
    "created_at": "2017-07-24T12:31:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347734",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:56" align="right">comment:56</div>

Replying to [@saraedum](#comment%3A54):
> Shouldn't we raise a `TypeError` instead of `NotImplemented`? That seems to be what Python3 does:
> 
> ```
> >>> "" < 0
> Traceback (most recent call last):
>   File "<stdin>", line 1, in <module>
> TypeError: '<' not supported between instances of 'str' and 'int'
> ```

No, I do not think so. It seems that NotImplemented is what one should answer when not knowing how to compare. Python will know what to do with that, hopefuly.



---

archive/issue_comments_347735.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nReplying to [@saraedum](#comment%3A54):\n> Shouldn't we raise a `TypeError` instead of `NotImplemented`?\n\nNo and let me elaborate on that:\n\nWhen doing `A < B`, Python first calls `A.__lt__(B)` (*). If that returns a value different from `NotImplemented`, or if this raises an exception, this value or exception is the result of `A < B`. On the other hand, if `A.__lt__(B)` returns `NotImplemented`, then Python calls `B.__gt__(A)` (*). If that also returns `NotImplemented`, then Python 3 raises a `TypeError`. Python 2 falls back to `__cmp__` instead.\n\nWhat I just described is the Python behaviour. In this case, if the parents are not equal, the coercion model is involved too and that by itself does a fallback in case of `NotImplemented`.\n\n(*) NOTE: to be very precise, it actually does `type(A).__lt__(A, B)`, but that is equivalent to `A.__lt__(B)`, except that it does not look in `A.__dict__`.",
    "created_at": "2017-07-24T12:44:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347735",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:57" align="right">comment:57</div>

Replying to [@saraedum](#comment%3A54):
> Shouldn't we raise a `TypeError` instead of `NotImplemented`?

No and let me elaborate on that:

When doing `A < B`, Python first calls `A.__lt__(B)` (*). If that returns a value different from `NotImplemented`, or if this raises an exception, this value or exception is the result of `A < B`. On the other hand, if `A.__lt__(B)` returns `NotImplemented`, then Python calls `B.__gt__(A)` (*). If that also returns `NotImplemented`, then Python 3 raises a `TypeError`. Python 2 falls back to `__cmp__` instead.

What I just described is the Python behaviour. In this case, if the parents are not equal, the coercion model is involved too and that by itself does a fallback in case of `NotImplemented`.

(*) NOTE: to be very precise, it actually does `type(A).__lt__(A, B)`, but that is equivalent to `A.__lt__(B)`, except that it does not look in `A.__dict__`.



---

archive/issue_comments_347736.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nThanks for explaining, I was not aware of that.\n\nReplying to [@jdemeyer](#comment%3A57):\n> Replying to [@saraedum](#comment%3A54):\n> When doing `A < B`, Python first calls `A.__lt__(B)` (*). If that returns a value different from `NotImplemented`, or if this raises an exception, this value or exception is the result of `A < B`. On the other hand, if `A.__lt__(B)` returns `NotImplemented`, then Python calls `B.__gt__(A)` (*). If that also returns `NotImplemented`, then Python 3 raises a `TypeError`. Python 2 falls back to `__cmp__` instead.\n\nDoes that not mean that we should favor\n\n```\nif type(self) != type(other): return NotImplemented\n\u2026\n```\nover\n\n```\nif isinstance(other, MyType): return NotImplemented\n\u2026\n```\nas the former means that a subclass can override `_richcmp_` with a more specific check and it will always get called? Whereas in the latter it depends on the order of arguments what happens?",
    "created_at": "2017-07-27T23:16:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347736",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:58" align="right">comment:58</div>

Thanks for explaining, I was not aware of that.

Replying to [@jdemeyer](#comment%3A57):
> Replying to [@saraedum](#comment%3A54):
> When doing `A < B`, Python first calls `A.__lt__(B)` (*). If that returns a value different from `NotImplemented`, or if this raises an exception, this value or exception is the result of `A < B`. On the other hand, if `A.__lt__(B)` returns `NotImplemented`, then Python calls `B.__gt__(A)` (*). If that also returns `NotImplemented`, then Python 3 raises a `TypeError`. Python 2 falls back to `__cmp__` instead.

Does that not mean that we should favor

```
if type(self) != type(other): return NotImplemented
…
```
over

```
if isinstance(other, MyType): return NotImplemented
…
```
as the former means that a subclass can override `_richcmp_` with a more specific check and it will always get called? Whereas in the latter it depends on the order of arguments what happens?



---

archive/issue_comments_347737.json:
```json
{
    "body": "<div id=\"comment:59\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5cd3c20eca8834d72e43dc25518ab74c2efe6dc\"><code>d5cd3c2</code></a></td><td><code>Correctly raise NotImplemented in _richcmp_</code></td></tr></table>\n",
    "created_at": "2017-07-27T23:22:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347737",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:59"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5cd3c20eca8834d72e43dc25518ab74c2efe6dc"><code>d5cd3c2</code></a></td><td><code>Correctly raise NotImplemented in _richcmp_</code></td></tr></table>




---

archive/issue_comments_347738.json:
```json
{
    "body": "Changed commit from **[`f3ecd0e`](https://github.com/sagemath/sagetrac-mirror/commit/f3ecd0eeacb31055283b6edab35c8dcc178d96bd)** to **[`d5cd3c2`](https://github.com/sagemath/sagetrac-mirror/commit/d5cd3c20eca8834d72e43dc25518ab74c2efe6dc)**",
    "created_at": "2017-07-27T23:22:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347738",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f3ecd0e`](https://github.com/sagemath/sagetrac-mirror/commit/f3ecd0eeacb31055283b6edab35c8dcc178d96bd)** to **[`d5cd3c2`](https://github.com/sagemath/sagetrac-mirror/commit/d5cd3c20eca8834d72e43dc25518ab74c2efe6dc)**



---

archive/issue_comments_347739.json:
```json
{
    "body": "<div id=\"comment:60\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5cd3c20eca8834d72e43dc25518ab74c2efe6dc\"><code>d5cd3c2</code></a></td><td><code>Correctly raise NotImplemented in _richcmp_</code></td></tr></table>\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5cd3c20eca8834d72e43dc25518ab74c2efe6dc\"><code>d5cd3c2</code></a></td><td><code>Correctly raise NotImplemented in _richcmp_</code></td></tr></table>\n",
    "created_at": "2017-07-27T23:22:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347739",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:60"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5cd3c20eca8834d72e43dc25518ab74c2efe6dc"><code>d5cd3c2</code></a></td><td><code>Correctly raise NotImplemented in _richcmp_</code></td></tr></table>

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5cd3c20eca8834d72e43dc25518ab74c2efe6dc"><code>d5cd3c2</code></a></td><td><code>Correctly raise NotImplemented in _richcmp_</code></td></tr></table>




---

archive/issue_events_320326.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-27T23:22:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320326"
}
```



---

archive/issue_events_320327.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-27T23:22:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320327"
}
```



---

archive/issue_comments_347740.json:
```json
{
    "body": "Changed work issues from **handle <=,<,>=,>,\u2026** to none",
    "created_at": "2017-07-27T23:22:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347740",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **handle <=,<,>=,>,…** to none



---

archive/issue_comments_347741.json:
```json
{
    "body": "Changed branch from **[u/saraedum/a_polynomial_ring_embeds_into_its_fraction_field](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/a_polynomial_ring_embeds_into_its_fraction_field)** to **[u/roed/a_polynomial_ring_embeds_into_its_fraction_field](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/a_polynomial_ring_embeds_into_its_fraction_field)**",
    "created_at": "2017-08-04T05:32:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347741",
    "user": "https://github.com/roed314"
}
```

Changed branch from **[u/saraedum/a_polynomial_ring_embeds_into_its_fraction_field](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/a_polynomial_ring_embeds_into_its_fraction_field)** to **[u/roed/a_polynomial_ring_embeds_into_its_fraction_field](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/a_polynomial_ring_embeds_into_its_fraction_field)**



---

archive/issue_comments_347742.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nI've changed the hashes, since there could be multiple rings with the same fraction field.  I ran tests, so if you're happy with these changes, feel free to give a positive review.",
    "created_at": "2017-08-04T05:59:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347742",
    "user": "https://github.com/roed314"
}
```

<div id="comment:62" align="right">comment:62</div>

I've changed the hashes, since there could be multiple rings with the same fraction field.  I ran tests, so if you're happy with these changes, feel free to give a positive review.



---

archive/issue_comments_347743.json:
```json
{
    "body": "Changed commit from **[`d5cd3c2`](https://github.com/sagemath/sagetrac-mirror/commit/d5cd3c20eca8834d72e43dc25518ab74c2efe6dc)** to **[`fa2dcd0`](https://github.com/sagemath/sagetrac-mirror/commit/fa2dcd05df27798908cb39eb734da8ff4a36c63e)**",
    "created_at": "2017-08-04T05:59:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347743",
    "user": "https://github.com/roed314"
}
```

Changed commit from **[`d5cd3c2`](https://github.com/sagemath/sagetrac-mirror/commit/d5cd3c20eca8834d72e43dc25518ab74c2efe6dc)** to **[`fa2dcd0`](https://github.com/sagemath/sagetrac-mirror/commit/fa2dcd05df27798908cb39eb734da8ff4a36c63e)**



---

archive/issue_comments_347744.json:
```json
{
    "body": "Changed reviewer from **Marc Masdeu** to **Marc Masdeu, David Roe**",
    "created_at": "2017-08-08T16:43:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347744",
    "user": "https://github.com/saraedum"
}
```

Changed reviewer from **Marc Masdeu** to **Marc Masdeu, David Roe**



---

archive/issue_events_320328.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-08-08T16:43:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320328"
}
```



---

archive/issue_events_320329.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-08-08T16:43:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320329"
}
```



---

archive/issue_events_320330.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-11T18:17:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320330"
}
```



---

archive/issue_events_320331.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6fdc7c41cc9796e679e4d6792ddbba0cb34687db",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-08-11T18:17:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23185#event-320331"
}
```



---

archive/issue_comments_347745.json:
```json
{
    "body": "Changed branch from **[u/roed/a_polynomial_ring_embeds_into_its_fraction_field](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/a_polynomial_ring_embeds_into_its_fraction_field)** to **[`fa2dcd0`](https://github.com/sagemath/sagetrac-mirror/commit/fa2dcd05df27798908cb39eb734da8ff4a36c63e)**",
    "created_at": "2017-08-11T18:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23185",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23185#issuecomment-347745",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/roed/a_polynomial_ring_embeds_into_its_fraction_field](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/a_polynomial_ring_embeds_into_its_fraction_field)** to **[`fa2dcd0`](https://github.com/sagemath/sagetrac-mirror/commit/fa2dcd05df27798908cb39eb734da8ff4a36c63e)**
