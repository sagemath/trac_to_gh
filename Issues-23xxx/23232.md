# Issue 23232: inject_shorthands for Symmetric functions: don't forget the forgotten + refactoring

archive/issues_022995.json:
```json
{
    "body": "This ticket:\n\n- Let `SymmetricFunctions` use the generic implementation of\n  `inject_shorthands` for consistency and duplication reduction.\n\n- Side effect: the list of defined shorthands is printed out, as for\n  quasi symmetric functions & the like, which is helpful for the user.\n\n- Adds the forgotten symmetric functions to the shorthands.\n\n- Suppresses the `redefining xxx` warnings. They were deemed annoying\n  by many users, and somewhat redudant with the list of defined\n  shorthands. This is also consistent with the behavior of\n  `inject_variable` of polynomial rings,\n\n- Changes the message from \"Injecting shorthand ...\" to \"Defining\n  shorthand ...\": this is clearer for the user and consistent with\n  the behavior of `inject_variable`.\n\n- Adds an option `verbose=False` to suppress the messages of `inject_variable`.\n\n- Adds an option `warn` to sage.misc.misc.inject_variable`\n\nAltogether, this gives:\n\n```\nsage: SymmetricFunctions(QQ).inject_shorthands()\nDefining e as shorthand for Symmetric Functions over Rational Field in the elementary basis\nDefining f as shorthand for Symmetric Functions over Rational Field in the forgotten basis\nDefining h as shorthand for Symmetric Functions over Rational Field in the homogeneous basis\nDefining m as shorthand for Symmetric Functions over Rational Field in the monomial basis\nDefining p as shorthand for Symmetric Functions over Rational Field in the powersum basis\nDefining s as shorthand for Symmetric Functions over Rational Field in the Schur basis\n```\n\nInstead of:\n\n```\nsage: SymmetricFunctions(QQ).inject_shorthands()\n/opt/sage-git/local/lib/python2.7/site-packages/sage/combinat/sf/sf.py:1416: RuntimeWarning: redefining global value `e`\n  inject_variable(shorthand, getattr(self, shorthand)())\n```\n\n(ticket implemented after discussion with Viviane Pons, Fran\u00e7ois\nBergeron, Florent Hivert, Franco Saliola).\n\n\nCC:  @hivert @tscrim @saliola vivianepons @zabrocki @anneschilling @darijgr\n\nBranch/Commit: [8a0c6126189b941d6f593e5d529dc27353025daf](https://github.com/sagemath/sagetrac-mirror/commit/8a0c6126189b941d6f593e5d529dc27353025daf)\n\nReviewer: Travis Scrimshaw\n\nAuthor: Nicolas M. Thi\u00e9ry\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23232\n\n",
    "closed_at": "2017-06-15T23:09:57Z",
    "created_at": "2017-06-13T20:39:06Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "inject_shorthands for Symmetric functions: don't forget the forgotten + refactoring",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23232",
    "user": "https://github.com/nthiery"
}
```
This ticket:

- Let `SymmetricFunctions` use the generic implementation of
  `inject_shorthands` for consistency and duplication reduction.

- Side effect: the list of defined shorthands is printed out, as for
  quasi symmetric functions & the like, which is helpful for the user.

- Adds the forgotten symmetric functions to the shorthands.

- Suppresses the `redefining xxx` warnings. They were deemed annoying
  by many users, and somewhat redudant with the list of defined
  shorthands. This is also consistent with the behavior of
  `inject_variable` of polynomial rings,

- Changes the message from "Injecting shorthand ..." to "Defining
  shorthand ...": this is clearer for the user and consistent with
  the behavior of `inject_variable`.

- Adds an option `verbose=False` to suppress the messages of `inject_variable`.

- Adds an option `warn` to sage.misc.misc.inject_variable`

Altogether, this gives:

```
sage: SymmetricFunctions(QQ).inject_shorthands()
Defining e as shorthand for Symmetric Functions over Rational Field in the elementary basis
Defining f as shorthand for Symmetric Functions over Rational Field in the forgotten basis
Defining h as shorthand for Symmetric Functions over Rational Field in the homogeneous basis
Defining m as shorthand for Symmetric Functions over Rational Field in the monomial basis
Defining p as shorthand for Symmetric Functions over Rational Field in the powersum basis
Defining s as shorthand for Symmetric Functions over Rational Field in the Schur basis
```

Instead of:

```
sage: SymmetricFunctions(QQ).inject_shorthands()
/opt/sage-git/local/lib/python2.7/site-packages/sage/combinat/sf/sf.py:1416: RuntimeWarning: redefining global value `e`
  inject_variable(shorthand, getattr(self, shorthand)())
```

(ticket implemented after discussion with Viviane Pons, François
Bergeron, Florent Hivert, Franco Saliola).


CC:  @hivert @tscrim @saliola vivianepons @zabrocki @anneschilling @darijgr

Branch/Commit: [8a0c6126189b941d6f593e5d529dc27353025daf](https://github.com/sagemath/sagetrac-mirror/commit/8a0c6126189b941d6f593e5d529dc27353025daf)

Reviewer: Travis Scrimshaw

Author: Nicolas M. Thiéry

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23232





---

archive/issue_comments_439038.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,6 +16,8 @@\n - Changes the message from \"Injecting shorthand ...\" to \"Defining\n   shorthand ...\": this is clearer for the user and consistent with\n   the behavior of `inject_variable`.\n+\n+- Adds an option `verbose=False` to suppress the messages of `inject_variable`.\n \n - Adds an option `warn` to sage.misc.misc.inject_variable`\n \n``````\n",
    "created_at": "2017-06-13T20:40:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439038",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,6 +16,8 @@
 - Changes the message from "Injecting shorthand ..." to "Defining
   shorthand ...": this is clearer for the user and consistent with
   the behavior of `inject_variable`.
+
+- Adds an option `verbose=False` to suppress the messages of `inject_variable`.
 
 - Adds an option `warn` to sage.misc.misc.inject_variable`
 
``````




---

archive/issue_comments_439039.json:
```json
{
    "body": "Changing branch from \"\" to \"u/nthiery/inject_shorthands_for_symmetric_functions__don_t_forget_the_forgotten___refactoring\"",
    "created_at": "2017-06-13T21:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439039",
    "user": "https://github.com/nthiery"
}
```

Changing branch from "" to "u/nthiery/inject_shorthands_for_symmetric_functions__don_t_forget_the_forgotten___refactoring"



---

archive/issue_comments_439040.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[79d98ac](https://github.com/sagemath/sagetrac-mirror/commit/79d98accc564f530f2581852ad972e070e0cc5a7)|`23232: add option warn to sage.misc.misc.inject_variable`|\n|[7aa5335](https://github.com/sagemath/sagetrac-mirror/commit/7aa5335740511e1ab2b5426aeadedecac25ebbd4)|`23232: Sets.WithRealizations.ParentMethods.inject_shorthands: verbose and shorthands options, improved message`|\n|[06be16c](https://github.com/sagemath/sagetrac-mirror/commit/06be16c788f8ab0240a2cec724e63ceca36890ae)|`23232: use the generic inject_shorthands; don't forget the forgotten`|\n|[acdbbe6](https://github.com/sagemath/sagetrac-mirror/commit/acdbbe670333edb5a05ba25bcfb831b066e29c66)|`23232: trivial doctest updates`|",
    "created_at": "2017-06-13T21:45:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439040",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[79d98ac](https://github.com/sagemath/sagetrac-mirror/commit/79d98accc564f530f2581852ad972e070e0cc5a7)|`23232: add option warn to sage.misc.misc.inject_variable`|
|[7aa5335](https://github.com/sagemath/sagetrac-mirror/commit/7aa5335740511e1ab2b5426aeadedecac25ebbd4)|`23232: Sets.WithRealizations.ParentMethods.inject_shorthands: verbose and shorthands options, improved message`|
|[06be16c](https://github.com/sagemath/sagetrac-mirror/commit/06be16c788f8ab0240a2cec724e63ceca36890ae)|`23232: use the generic inject_shorthands; don't forget the forgotten`|
|[acdbbe6](https://github.com/sagemath/sagetrac-mirror/commit/acdbbe670333edb5a05ba25bcfb831b066e29c66)|`23232: trivial doctest updates`|



---

archive/issue_comments_439041.json:
```json
{
    "body": "Changing commit from \"\" to \"acdbbe670333edb5a05ba25bcfb831b066e29c66\"",
    "created_at": "2017-06-13T21:45:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439041",
    "user": "https://github.com/nthiery"
}
```

Changing commit from "" to "acdbbe670333edb5a05ba25bcfb831b066e29c66"



---

archive/issue_comments_439042.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-06-13T21:45:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439042",
    "user": "https://github.com/nthiery"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_439043.json:
```json
{
    "body": "<a id='comment:4'></a>\nFor the record: I ran `make ptest`, and I believe there was no error (my `database_gap` package installation is screwed up, which triggers many errors; so I may have missed one).",
    "created_at": "2017-06-13T21:47:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439043",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:4'></a>
For the record: I ran `make ptest`, and I believe there was no error (my `database_gap` package installation is screwed up, which triggers many errors; so I may have missed one).



---

archive/issue_comments_439044.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-14T04:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439044",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_439045.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2017-06-14T04:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439045",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_439046.json:
```json
{
    "body": "<a id='comment:5'></a>\n+1 on all points.",
    "created_at": "2017-06-14T04:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439046",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>
+1 on all points.



---

archive/issue_comments_439047.json:
```json
{
    "body": "<a id='comment:6'></a>\nIf the forgotten basis is being included, shouldn't the Witt basis also be included? From reading the tutorial part of ( http://doc.sagemath.org/html/en/reference/combinat/sage/combinat/sf/sf.html#sage.combinat.sf.sf.SymmetricFunctions ), I got the impression that forgotten (and Witt) weren't forgotten, but just deemed \"non-classical\".",
    "created_at": "2017-06-14T14:09:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439047",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:6'></a>
If the forgotten basis is being included, shouldn't the Witt basis also be included? From reading the tutorial part of ( http://doc.sagemath.org/html/en/reference/combinat/sage/combinat/sf/sf.html#sage.combinat.sf.sf.SymmetricFunctions ), I got the impression that forgotten (and Witt) weren't forgotten, but just deemed "non-classical".



---

archive/issue_comments_439048.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-06-14T14:09:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439048",
    "user": "https://github.com/kevindilks"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_439049.json:
```json
{
    "body": "<a id='comment:8'></a>\nI guess the documentation really just means that those are less well known. But yeah, why not be systematic; it's the occasion to advertise this basis (which I had forgotten :-)).\nPatch on its way, unless someone raises an objection quickly!",
    "created_at": "2017-06-14T15:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439049",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:8'></a>
I guess the documentation really just means that those are less well known. But yeah, why not be systematic; it's the occasion to advertise this basis (which I had forgotten :-)).
Patch on its way, unless someone raises an objection quickly!



---

archive/issue_comments_439050.json:
```json
{
    "body": "<a id='comment:9'></a>\nIf you are going to be systematic, there are other bases. sp, o, st and ht.",
    "created_at": "2017-06-14T15:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439050",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:9'></a>
If you are going to be systematic, there are other bases. sp, o, st and ht.



---

archive/issue_comments_439051.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|\n|[ecf0d29](https://github.com/sagemath/sagetrac-mirror/commit/ecf0d29625400ec08ecf8a37631ab00fda717d44)|`23232: also inject shorthand for the Witt symmetric functions`|",
    "created_at": "2017-06-14T15:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439051",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
|[ecf0d29](https://github.com/sagemath/sagetrac-mirror/commit/ecf0d29625400ec08ecf8a37631ab00fda717d44)|`23232: also inject shorthand for the Witt symmetric functions`|



---

archive/issue_comments_439052.json:
```json
{
    "body": "Changing commit from \"acdbbe670333edb5a05ba25bcfb831b066e29c66\" to \"ecf0d29625400ec08ecf8a37631ab00fda717d44\"",
    "created_at": "2017-06-14T15:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "acdbbe670333edb5a05ba25bcfb831b066e29c66" to "ecf0d29625400ec08ecf8a37631ab00fda717d44"



---

archive/issue_comments_439053.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-06-14T15:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439053",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_439054.json:
```json
{
    "body": "<a id='comment:12'></a>\nMmmh, thanks Mike for the feedback. That starts to be a lot. Opinions anyone on whether we want to include them all?",
    "created_at": "2017-06-14T15:45:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439054",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:12'></a>
Mmmh, thanks Mike for the feedback. That starts to be a lot. Opinions anyone on whether we want to include them all?



---

archive/issue_comments_439055.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [nthiery](#comment%3A12):\n> Mmmh, thanks Mike for the feedback. That starts to be a lot. Opinions anyone on whether we want to include them all?\n\n\nWhy do you have the inject_shorthands if not to give all implemented bases? But if you think it is too much, then perhaps there should be a message underneath the list of injected ones that says \"Further bases can be found here ....\"",
    "created_at": "2017-06-14T16:01:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439055",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:13'></a>
Replying to [nthiery](#comment%3A12):
> Mmmh, thanks Mike for the feedback. That starts to be a lot. Opinions anyone on whether we want to include them all?


Why do you have the inject_shorthands if not to give all implemented bases? But if you think it is too much, then perhaps there should be a message underneath the list of injected ones that says "Further bases can be found here ...."



---

archive/issue_comments_439056.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [aschilling](#comment%3A13):\n> Why do you have the inject_shorthands if not to give all implemented bases? But if you think it is too much, then perhaps there should be a message underneath the list of injected ones that says \"Further bases can be found here ....\"\n\n\nThanks Anne for the feedback. I don't really have an opinion. It's a question of finding a reasonable balance, and I am just wondering if users could get annoyed to have their namespace filled up / polluted with shorthands they would not use that often. More feedback anyone? I'll ask around here over lunch.",
    "created_at": "2017-06-14T16:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439056",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:14'></a>
Replying to [aschilling](#comment%3A13):
> Why do you have the inject_shorthands if not to give all implemented bases? But if you think it is too much, then perhaps there should be a message underneath the list of injected ones that says "Further bases can be found here ...."


Thanks Anne for the feedback. I don't really have an opinion. It's a question of finding a reasonable balance, and I am just wondering if users could get annoyed to have their namespace filled up / polluted with shorthands they would not use that often. More feedback anyone? I'll ask around here over lunch.



---

archive/issue_comments_439057.json:
```json
{
    "body": "<a id='comment:15'></a>\nI could see there being conflicts with people using f as a variable name for a function/polynomial/etc., and it being overwritten by the forgotten basis, which they may have never learned exists in the first place.\n\nRight now, I believe there's an optional parameter that defaults to giving the classical bases, but you can also set it to give a specific set of bases to inject. Maybe that could be modified so the default gives the classical bases, there's an option like \"All\" that will inject all implemented bases, and the user could still specificy a specific set of bases they want injected. The default giving classical bases could have a message at the end saying \"set parameter blah to all for all implemented bases\" as Anne suggested.",
    "created_at": "2017-06-14T16:22:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439057",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:15'></a>
I could see there being conflicts with people using f as a variable name for a function/polynomial/etc., and it being overwritten by the forgotten basis, which they may have never learned exists in the first place.

Right now, I believe there's an optional parameter that defaults to giving the classical bases, but you can also set it to give a specific set of bases to inject. Maybe that could be modified so the default gives the classical bases, there's an option like "All" that will inject all implemented bases, and the user could still specificy a specific set of bases they want injected. The default giving classical bases could have a message at the end saying "set parameter blah to all for all implemented bases" as Anne suggested.



---

archive/issue_comments_439058.json:
```json
{
    "body": "<a id='comment:16'></a>\nFranco's opinion goes along the same line: by default, inject only the \"classical\" bases from (basically those from Macdonald's book), thus including forgotten but not witt. And have an \"all\" parameter.\n\nThis can be implemented reasonnably generically. So I'll proceed this way unless someone comments differently soon.",
    "created_at": "2017-06-14T18:55:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439058",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:16'></a>
Franco's opinion goes along the same line: by default, inject only the "classical" bases from (basically those from Macdonald's book), thus including forgotten but not witt. And have an "all" parameter.

This can be implemented reasonnably generically. So I'll proceed this way unless someone comments differently soon.



---

archive/issue_comments_439059.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|\n|[b62ebb2](https://github.com/sagemath/sagetrac-mirror/commit/b62ebb2f725885d9fcb06b216b6144cc434f1065)|`23232: implement inject_shorthands(\"all\"), and use it for not so common bases of symmetric functions`|",
    "created_at": "2017-06-14T20:07:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439059",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|
|[b62ebb2](https://github.com/sagemath/sagetrac-mirror/commit/b62ebb2f725885d9fcb06b216b6144cc434f1065)|`23232: implement inject_shorthands("all"), and use it for not so common bases of symmetric functions`|



---

archive/issue_comments_439060.json:
```json
{
    "body": "Changing commit from \"ecf0d29625400ec08ecf8a37631ab00fda717d44\" to \"b62ebb2f725885d9fcb06b216b6144cc434f1065\"",
    "created_at": "2017-06-14T20:07:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439060",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ecf0d29625400ec08ecf8a37631ab00fda717d44" to "b62ebb2f725885d9fcb06b216b6144cc434f1065"



---

archive/issue_comments_439061.json:
```json
{
    "body": "<a id='comment:18'></a>\n\n```\n--- a/src/sage/categories/sets_cat.py\n+++ b/src/sage/categories/sets_cat.py\n@@ -2582,6 +2582,7 @@ Please use, e.g., S.algebra(QQ, category=Semigroups())\"\"\".format(self))\n                 INPUT:\n \n                 - ``shorthands`` -- a list (or iterable) of strings (default: ``self._shorthands``)\n+                  or ``\"all\"`` (for ``self.shorthands_all``)\n                 - ``verbose`` -- boolean (default ``True``);\n                    whether to print the defined shorthands\n```\nIf you can change `shorthands_all` to `_shorthands_all`, then you can set it to positive review on my behalf.",
    "created_at": "2017-06-14T21:09:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439061",
    "user": "https://github.com/saliola"
}
```

<a id='comment:18'></a>

```
--- a/src/sage/categories/sets_cat.py
+++ b/src/sage/categories/sets_cat.py
@@ -2582,6 +2582,7 @@ Please use, e.g., S.algebra(QQ, category=Semigroups())""".format(self))
                 INPUT:
 
                 - ``shorthands`` -- a list (or iterable) of strings (default: ``self._shorthands``)
+                  or ``"all"`` (for ``self.shorthands_all``)
                 - ``verbose`` -- boolean (default ``True``);
                    whether to print the defined shorthands
```
If you can change `shorthands_all` to `_shorthands_all`, then you can set it to positive review on my behalf.



---

archive/issue_comments_439062.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------|\n|[e462d2c](https://github.com/sagemath/sagetrac-mirror/commit/e462d2c93c8554a93652949eb9da398f70a500a6)|`23232: fixed typo`|",
    "created_at": "2017-06-14T21:31:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439062",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------|
|[e462d2c](https://github.com/sagemath/sagetrac-mirror/commit/e462d2c93c8554a93652949eb9da398f70a500a6)|`23232: fixed typo`|



---

archive/issue_comments_439063.json:
```json
{
    "body": "Changing commit from \"b62ebb2f725885d9fcb06b216b6144cc434f1065\" to \"e462d2c93c8554a93652949eb9da398f70a500a6\"",
    "created_at": "2017-06-14T21:31:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439063",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b62ebb2f725885d9fcb06b216b6144cc434f1065" to "e462d2c93c8554a93652949eb9da398f70a500a6"



---

archive/issue_comments_439064.json:
```json
{
    "body": "<a id='comment:20'></a>\none doctest failure in \n\n```\nsage -t --long --warn-long 79.3 src/sage/categories/sets_cat.py \n```",
    "created_at": "2017-06-15T07:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439064",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:20'></a>
one doctest failure in 

```
sage -t --long --warn-long 79.3 src/sage/categories/sets_cat.py 
```



---

archive/issue_comments_439065.json:
```json
{
    "body": "Changing commit from \"e462d2c93c8554a93652949eb9da398f70a500a6\" to \"8a0c6126189b941d6f593e5d529dc27353025daf\"",
    "created_at": "2017-06-15T12:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439065",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e462d2c93c8554a93652949eb9da398f70a500a6" to "8a0c6126189b941d6f593e5d529dc27353025daf"



---

archive/issue_comments_439066.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|\n|[8a0c612](https://github.com/sagemath/sagetrac-mirror/commit/8a0c6126189b941d6f593e5d529dc27353025daf)|`23232: trivial doctest update`|",
    "created_at": "2017-06-15T12:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439066",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
|[8a0c612](https://github.com/sagemath/sagetrac-mirror/commit/8a0c6126189b941d6f593e5d529dc27353025daf)|`23232: trivial doctest update`|



---

archive/issue_comments_439067.json:
```json
{
    "body": "<a id='comment:22'></a>\nFixed trivial doctest failure reported by the patchbot + Fr\u00e9d\u00e9ric.\nMy patchbot reported many other failures, but that's because it's not yet properly setup (ssl strikes back); to be ignored.\n\nI am currently building the pdf doc. And then it can go to positive review.",
    "created_at": "2017-06-15T12:26:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439067",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:22'></a>
Fixed trivial doctest failure reported by the patchbot + Frédéric.
My patchbot reported many other failures, but that's because it's not yet properly setup (ssl strikes back); to be ignored.

I am currently building the pdf doc. And then it can go to positive review.



---

archive/issue_comments_439068.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-15T13:32:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439068",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_439069.json:
```json
{
    "body": "<a id='comment:23'></a>\nPDF doc builds. Moving to positive review.\n\nThanks everyone for the feedback!",
    "created_at": "2017-06-15T13:32:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439069",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:23'></a>
PDF doc builds. Moving to positive review.

Thanks everyone for the feedback!



---

archive/issue_comments_439070.json:
```json
{
    "body": "Changing branch from \"u/nthiery/inject_shorthands_for_symmetric_functions__don_t_forget_the_forgotten___refactoring\" to \"8a0c6126189b941d6f593e5d529dc27353025daf\"",
    "created_at": "2017-06-15T23:09:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439070",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/nthiery/inject_shorthands_for_symmetric_functions__don_t_forget_the_forgotten___refactoring" to "8a0c6126189b941d6f593e5d529dc27353025daf"



---

archive/issue_events_068150.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-15T23:09:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23232#event-68150"
}
```



---

archive/issue_comments_439071.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-06-15T23:09:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23232#issuecomment-439071",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
