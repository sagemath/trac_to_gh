# Issue 23637: failing doctest in sage/geometry/polyhedron/backend_normaliz.py (non-sorted)

archive/issues_023400.json:
```json
{
    "assignees": [],
    "body": "\n```\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/backend_normaliz.py\", line 412, in sage.geometry.polyhedron.backend_normaliz.Polyhedron_normaliz.integral_hull\nFailed example:\n    set(PI.Vrepresentation())                                # optional - pynormaliz\nExpected:\n    {A vertex at (-1, 0), A vertex at (0, 1), A ray in the direction (1, 0)}\nGot:\n    {A ray in the direction (1, 0), A vertex at (-1, 0), A vertex at (0, 1)}\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/backend_normaliz.py\", line 420, in sage.geometry.polyhedron.backend_normaliz.Polyhedron_normaliz.integral_hull\nFailed example:\n    set(PI.Vrepresentation())                                # optional - pynormaliz\nExpected:\n    {A vertex at (1, 0),\n     A ray in the direction (1, 0),\n     A line in the direction (1, -1)}\nGot:\n    {A line in the direction (1, -1),\n     A ray in the direction (1, 0),\n     A vertex at (1, 0)}\n```\nreported by patchbot https://patchbot.sagemath.org/log/23633/Ubuntu/14.04/i686/3.13.0-95-generic/arando/2017-08-17%2016:47:36\n\nThere is a simple solution: there is no reason at all to use `set()` in these doctests, just get rid of that.\n\nCC:  @mkoeppe\n\nBranch/Commit: **[e6a0d3f](https://github.com/sagemath/sagetrac-mirror/commit/e6a0d3f7107dce115fb400c8eb2042168d7ac076)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Maarten Derickx, Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23637_\n\n",
    "closed_at": "2017-09-10T22:06:05Z",
    "created_at": "2017-08-18T07:11:21Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/doctest%20coverage",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "failing doctest in sage/geometry/polyhedron/backend_normaliz.py (non-sorted)",
    "type": "issue",
    "updated_at": "2017-09-10T22:06:05Z",
    "url": "https://github.com/sagemath/sage/issues/23637",
    "user": "https://github.com/dkrenn"
}
```

```
**********************************************************************
File "src/sage/geometry/polyhedron/backend_normaliz.py", line 412, in sage.geometry.polyhedron.backend_normaliz.Polyhedron_normaliz.integral_hull
Failed example:
    set(PI.Vrepresentation())                                # optional - pynormaliz
Expected:
    {A vertex at (-1, 0), A vertex at (0, 1), A ray in the direction (1, 0)}
Got:
    {A ray in the direction (1, 0), A vertex at (-1, 0), A vertex at (0, 1)}
**********************************************************************
File "src/sage/geometry/polyhedron/backend_normaliz.py", line 420, in sage.geometry.polyhedron.backend_normaliz.Polyhedron_normaliz.integral_hull
Failed example:
    set(PI.Vrepresentation())                                # optional - pynormaliz
Expected:
    {A vertex at (1, 0),
     A ray in the direction (1, 0),
     A line in the direction (1, -1)}
Got:
    {A line in the direction (1, -1),
     A ray in the direction (1, 0),
     A vertex at (1, 0)}
```
reported by patchbot https://patchbot.sagemath.org/log/23633/Ubuntu/14.04/i686/3.13.0-95-generic/arando/2017-08-17%2016:47:36

There is a simple solution: there is no reason at all to use `set()` in these doctests, just get rid of that.

CC:  @mkoeppe

Branch/Commit: **[e6a0d3f](https://github.com/sagemath/sagetrac-mirror/commit/e6a0d3f7107dce115fb400c8eb2042168d7ac076)**

Reviewer: **Travis Scrimshaw**

Author: **Maarten Derickx, Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/23637_





---

archive/issue_events_310749.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-08-18T07:11:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310749"
}
```



---

archive/issue_events_310750.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-08-18T07:11:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20doctest%20framework",
    "label_color": "000080",
    "label_name": "component: doctest framework",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310750"
}
```



---

archive/issue_events_310751.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-08-18T07:11:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310751"
}
```



---

archive/issue_events_310752.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-08-18T07:11:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310752"
}
```



---

archive/issue_comments_358459.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nDuplicate of #23586",
    "created_at": "2017-08-18T07:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358459",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:1" align="right">Comment 1</div>

Duplicate of #23586



---

archive/issue_events_310753.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-18T07:22:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310753"
}
```



---

archive/issue_events_310754.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-18T07:22:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310754"
}
```



---

archive/issue_events_310755.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-18T07:22:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310755"
}
```



---

archive/issue_events_310756.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-18T07:22:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310756"
}
```



---

archive/issue_comments_358460.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nReplying to [@jdemeyer](#comment%3A1):\n> Duplicate of #23586\n\nThank you; I wasn't aware of this ticket.",
    "created_at": "2017-08-18T07:23:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358460",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:2" align="right">Comment 2</div>

Replying to [@jdemeyer](#comment%3A1):
> Duplicate of #23586

Thank you; I wasn't aware of this ticket.



---

archive/issue_comments_358461.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nI'm reopening this ticket to server as ticket for solution 1 as described in https://groups.google.com/forum/#!topic/sage-devel/_2vtRbauvrw . I.e. just fix the doctest in pynormaliz itself and not rely on #23586 where the approach is making the doctest framework more robust, which might take longer then we want to wait for.",
    "created_at": "2017-08-29T15:48:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358461",
    "user": "https://github.com/koffie"
}
```

<div id="comment:3" align="right">Comment 3</div>

I'm reopening this ticket to server as ticket for solution 1 as described in https://groups.google.com/forum/#!topic/sage-devel/_2vtRbauvrw . I.e. just fix the doctest in pynormaliz itself and not rely on #23586 where the approach is making the doctest framework more robust, which might take longer then we want to wait for.



---

archive/issue_events_310757.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2017-08-29T15:48:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310757"
}
```



---

archive/issue_events_310758.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2017-08-29T15:48:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310758"
}
```



---

archive/issue_comments_358462.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b314ddf075600df41a0433c5247abce218f36fb\">9b314dd</a></td><td><code>fixing pynormaliz doctests</code></td></tr></table>\n",
    "created_at": "2017-08-29T16:03:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358462",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">Comment 4</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b314ddf075600df41a0433c5247abce218f36fb">9b314dd</a></td><td><code>fixing pynormaliz doctests</code></td></tr></table>




---

archive/issue_comments_358463.json:
```json
{
    "body": "Branch: **[u/chapoton/23586](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23586)**",
    "created_at": "2017-08-29T16:03:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358463",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/23586](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23586)**



---

archive/issue_comments_358464.json:
```json
{
    "body": "Commit: **[9b314dd](https://github.com/sagemath/sagetrac-mirror/commit/9b314ddf075600df41a0433c5247abce218f36fb)**",
    "created_at": "2017-08-29T16:03:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358464",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[9b314dd](https://github.com/sagemath/sagetrac-mirror/commit/9b314ddf075600df41a0433c5247abce218f36fb)**



---

archive/issue_comments_358465.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nI'm going to see if your branch is actually a solution and wether `__cmp__` is deterministic. I suspect not and then this is not really a fix.",
    "created_at": "2017-08-29T16:16:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358465",
    "user": "https://github.com/koffie"
}
```

<div id="comment:5" align="right">Comment 5</div>

I'm going to see if your branch is actually a solution and wether `__cmp__` is deterministic. I suspect not and then this is not really a fix.



---

archive/issue_comments_358466.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nI just had a look, and as far as I can see it doesn't use `__cmp__` but it has `__ge__` and friends. And furthermore that these are not overwritten but all inherited from object , and hence not deterministic.",
    "created_at": "2017-08-29T16:42:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358466",
    "user": "https://github.com/koffie"
}
```

<div id="comment:6" align="right">Comment 6</div>

I just had a look, and as far as I can see it doesn't use `__cmp__` but it has `__ge__` and friends. And furthermore that these are not overwritten but all inherited from object , and hence not deterministic.



---

archive/issue_comments_358467.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nI agree that my branch is not a solution. Please write one.",
    "created_at": "2017-08-29T16:54:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358467",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">Comment 7</div>

I agree that my branch is not a solution. Please write one.



---

archive/issue_comments_358468.json:
```json
{
    "body": "Changed commit from **[9b314dd](https://github.com/sagemath/sagetrac-mirror/commit/9b314ddf075600df41a0433c5247abce218f36fb)** to none",
    "created_at": "2017-08-29T16:54:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358468",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[9b314dd](https://github.com/sagemath/sagetrac-mirror/commit/9b314ddf075600df41a0433c5247abce218f36fb)** to none



---

archive/issue_comments_358469.json:
```json
{
    "body": "Changed branch from **[u/chapoton/23586](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23586)** to none",
    "created_at": "2017-08-29T16:54:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358469",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/chapoton/23586](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23586)** to none



---

archive/issue_comments_358470.json:
```json
{
    "body": "Commit: **[ce39e96](https://github.com/sagemath/sagetrac-mirror/commit/ce39e9619521a09215ce4eb876f78e4ac3939ab9)**",
    "created_at": "2017-08-29T17:01:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358470",
    "user": "https://github.com/koffie"
}
```

Commit: **[ce39e96](https://github.com/sagemath/sagetrac-mirror/commit/ce39e9619521a09215ce4eb876f78e4ac3939ab9)**



---

archive/issue_events_310759.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2017-08-29T17:01:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310759"
}
```



---

archive/issue_comments_358471.json:
```json
{
    "body": "Branch: **[u/mderickx/23637](https://github.com/sagemath/sagetrac-mirror/tree/u/mderickx/23637)**",
    "created_at": "2017-08-29T17:01:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358471",
    "user": "https://github.com/koffie"
}
```

Branch: **[u/mderickx/23637](https://github.com/sagemath/sagetrac-mirror/tree/u/mderickx/23637)**



---

archive/issue_comments_358472.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nOk, made the doctests deterministic\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce39e9619521a09215ce4eb876f78e4ac3939ab9\">ce39e96</a></td><td><code>trac #23637 Make pynormaliz doctests deterministic</code></td></tr></table>\n",
    "created_at": "2017-08-29T17:01:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358472",
    "user": "https://github.com/koffie"
}
```

<div id="comment:8" align="right">Comment 8</div>

Ok, made the doctests deterministic

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce39e9619521a09215ce4eb876f78e4ac3939ab9">ce39e96</a></td><td><code>trac #23637 Make pynormaliz doctests deterministic</code></td></tr></table>




---

archive/issue_comments_358473.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nPEP8: `key = str)` -> `key=str)`. Otherwise LGTM and we can finally have these tests being deterministic.",
    "created_at": "2017-08-29T17:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358473",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">Comment 9</div>

PEP8: `key = str)` -> `key=str)`. Otherwise LGTM and we can finally have these tests being deterministic.



---

archive/issue_comments_358474.json:
```json
{
    "body": "Changed commit from **[ce39e96](https://github.com/sagemath/sagetrac-mirror/commit/ce39e9619521a09215ce4eb876f78e4ac3939ab9)** to **[f117a5a](https://github.com/sagemath/sagetrac-mirror/commit/f117a5a9645477b655c13cc1c4c8a4a5632412ae)**",
    "created_at": "2017-08-29T17:11:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358474",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ce39e96](https://github.com/sagemath/sagetrac-mirror/commit/ce39e9619521a09215ce4eb876f78e4ac3939ab9)** to **[f117a5a](https://github.com/sagemath/sagetrac-mirror/commit/f117a5a9645477b655c13cc1c4c8a4a5632412ae)**



---

archive/issue_comments_358475.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f117a5a9645477b655c13cc1c4c8a4a5632412ae\">f117a5a</a></td><td><code>trac #23637 pep8 compatible space usage</code></td></tr></table>\n",
    "created_at": "2017-08-29T17:11:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358475",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10" align="right">Comment 10</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f117a5a9645477b655c13cc1c4c8a4a5632412ae">f117a5a</a></td><td><code>trac #23637 pep8 compatible space usage</code></td></tr></table>




---

archive/issue_comments_358476.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nOk fixed the formatting issues",
    "created_at": "2017-08-29T17:12:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358476",
    "user": "https://github.com/koffie"
}
```

<div id="comment:11" align="right">Comment 11</div>

Ok fixed the formatting issues



---

archive/issue_comments_358477.json:
```json
{
    "body": "Author: **Maarten Derickx**",
    "created_at": "2017-08-29T17:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358477",
    "user": "https://github.com/koffie"
}
```

Author: **Maarten Derickx**



---

archive/issue_comments_358478.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2017-08-29T17:24:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358478",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_358479.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nI think this is a good enough (temporary) solution.",
    "created_at": "2017-08-29T17:24:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358479",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">Comment 13</div>

I think this is a good enough (temporary) solution.



---

archive/issue_events_310760.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-08-29T17:24:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310760"
}
```



---

archive/issue_events_310761.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-08-29T17:24:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310761"
}
```



---

archive/issue_events_310762.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-29T20:04:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310762"
}
```



---

archive/issue_events_310763.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-29T20:04:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310763"
}
```



---

archive/issue_comments_358480.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nMerge conflict",
    "created_at": "2017-08-29T20:04:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358480",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:14" align="right">Comment 14</div>

Merge conflict



---

archive/issue_comments_358481.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nHi Volker,\n\nCould you be a bit more specific, which tickets cause the conflict. Or will there be a new beta4 soon on which I can rebase this. Because this message is not helping.",
    "created_at": "2017-08-29T21:03:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358481",
    "user": "https://github.com/koffie"
}
```

<div id="comment:15" align="right">Comment 15</div>

Hi Volker,

Could you be a bit more specific, which tickets cause the conflict. Or will there be a new beta4 soon on which I can rebase this. Because this message is not helping.



---

archive/issue_comments_358482.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBe patient, You just need to wait for the next beta (end of the week ?).",
    "created_at": "2017-08-30T07:04:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358482",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:16" align="right">Comment 16</div>

Be patient, You just need to wait for the next beta (end of the week ?).



---

archive/issue_events_310764.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-31T13:17:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310764"
}
```



---

archive/issue_events_310765.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-31T13:17:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310765"
}
```



---

archive/issue_comments_358483.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nI'm fixing #23586.",
    "created_at": "2017-08-31T13:17:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358483",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">Comment 17</div>

I'm fixing #23586.



---

archive/issue_comments_358484.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nWhy does this use sets anyway?",
    "created_at": "2017-08-31T13:28:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358484",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">Comment 18</div>

Why does this use sets anyway?



---

archive/issue_comments_358485.json:
```json
{
    "body": "Changed branch from **[u/mderickx/23637](https://github.com/sagemath/sagetrac-mirror/tree/u/mderickx/23637)** to **[u/jdemeyer/23637](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/23637)**",
    "created_at": "2017-08-31T13:35:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358485",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/mderickx/23637](https://github.com/sagemath/sagetrac-mirror/tree/u/mderickx/23637)** to **[u/jdemeyer/23637](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/23637)**



---

archive/issue_comments_358486.json:
```json
{
    "body": "Changed commit from **[f117a5a](https://github.com/sagemath/sagetrac-mirror/commit/f117a5a9645477b655c13cc1c4c8a4a5632412ae)** to **[18ac768](https://github.com/sagemath/sagetrac-mirror/commit/18ac76860988348365df21196cef0da56cc6ab7f)**",
    "created_at": "2017-08-31T13:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358486",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[f117a5a](https://github.com/sagemath/sagetrac-mirror/commit/f117a5a9645477b655c13cc1c4c8a4a5632412ae)** to **[18ac768](https://github.com/sagemath/sagetrac-mirror/commit/18ac76860988348365df21196cef0da56cc6ab7f)**



---

archive/issue_comments_358487.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,3 +22,5 @@\n      A vertex at (1, 0)}\n ```\n reported by patchbot https://patchbot.sagemath.org/log/23633/Ubuntu/14.04/i686/3.13.0-95-generic/arando/2017-08-17%2016:47:36\n+\n+There is a simple solution: there is no reason at all to use `set()` in these doctests, just get rid of that.\n``````\n",
    "created_at": "2017-08-31T13:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358487",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,3 +22,5 @@
      A vertex at (1, 0)}
 ```
 reported by patchbot https://patchbot.sagemath.org/log/23633/Ubuntu/14.04/i686/3.13.0-95-generic/arando/2017-08-17%2016:47:36
+
+There is a simple solution: there is no reason at all to use `set()` in these doctests, just get rid of that.
``````




---

archive/issue_events_310766.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-31T13:36:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20doctest%20framework",
    "label_color": "000080",
    "label_name": "component: doctest framework",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310766"
}
```



---

archive/issue_events_310767.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-31T13:36:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/doctest%20coverage",
    "label_color": "696969",
    "label_name": "doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310767"
}
```



---

archive/issue_comments_358488.json:
```json
{
    "body": "Changed author from **Maarten Derickx** to **Maarten Derickx, Jeroen Demeyer**",
    "created_at": "2017-08-31T13:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358488",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Maarten Derickx** to **Maarten Derickx, Jeroen Demeyer**



---

archive/issue_events_310768.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-31T13:36:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310768"
}
```



---

archive/issue_events_310769.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-31T13:36:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310769"
}
```



---

archive/issue_events_310770.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-31T13:36:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310770"
}
```



---

archive/issue_comments_358489.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18ac76860988348365df21196cef0da56cc6ab7f\">18ac768</a></td><td><code>Don't use sets for no reason in doctests</code></td></tr></table>\n",
    "created_at": "2017-08-31T13:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358489",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">Comment 20</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18ac76860988348365df21196cef0da56cc6ab7f">18ac768</a></td><td><code>Don't use sets for no reason in doctests</code></td></tr></table>




---

archive/issue_comments_358490.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nI believe it uses sets because there is no (natural) ordering on that output. However, I do not know if normaliz and our code has any guarantee on the output order. Maybe Matthias can comment more on this.",
    "created_at": "2017-08-31T13:39:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358490",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:21" align="right">Comment 21</div>

I believe it uses sets because there is no (natural) ordering on that output. However, I do not know if normaliz and our code has any guarantee on the output order. Maybe Matthias can comment more on this.



---

archive/issue_comments_358491.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nReplying to [@tscrim](#comment%3A21):\n> I believe it uses sets because there is no (natural) ordering on that output.\n\nWell, clearly `set()` doesn't solve that problem...",
    "created_at": "2017-08-31T14:45:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358491",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">Comment 22</div>

Replying to [@tscrim](#comment%3A21):
> I believe it uses sets because there is no (natural) ordering on that output.

Well, clearly `set()` doesn't solve that problem...



---

archive/issue_comments_358492.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nYes we might not need set, but we do need know whether the output orderering albeit being arbitrary, is still deterministic at least. Because if it is not deterministic this still means we have flaky doctests and still need to sort.",
    "created_at": "2017-08-31T15:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358492",
    "user": "https://github.com/koffie"
}
```

<div id="comment:23" align="right">Comment 23</div>

Yes we might not need set, but we do need know whether the output orderering albeit being arbitrary, is still deterministic at least. Because if it is not deterministic this still means we have flaky doctests and still need to sort.



---

archive/issue_events_310771.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2017-08-31T15:16:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310771"
}
```



---

archive/issue_events_310772.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2017-08-31T15:16:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310772"
}
```



---

archive/issue_events_310773.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-08-31T22:09:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310773"
}
```



---

archive/issue_events_310774.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-08-31T22:09:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310774"
}
```



---

archive/issue_comments_358493.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nReplying to [@tscrim](#comment%3A21):\n> I believe it uses sets because there is no (natural) ordering on that output. However, I do not know if normaliz and our code has any guarantee on the output order. Maybe Matthias can comment more on this.\n\nYes, the order of the output has no significance and to my understanding can change from version to version of normaliz.\nI used `set(...)` in the doctest, based on the misconception that this is the correct idiom. I now understand that I should have used `sorted(...)` instead. I do not agree with the current patch, which just uses the unsorted output as is.",
    "created_at": "2017-08-31T22:09:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358493",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">Comment 24</div>

Replying to [@tscrim](#comment%3A21):
> I believe it uses sets because there is no (natural) ordering on that output. However, I do not know if normaliz and our code has any guarantee on the output order. Maybe Matthias can comment more on this.

Yes, the order of the output has no significance and to my understanding can change from version to version of normaliz.
I used `set(...)` in the doctest, based on the misconception that this is the correct idiom. I now understand that I should have used `sorted(...)` instead. I do not agree with the current patch, which just uses the unsorted output as is.



---

archive/issue_comments_358494.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@mkoeppe](#comment%3A24):\n> to my understanding can change from version to version of normaliz.\n\nThat's actually not bad at all. There are many doctests which depend on the *version* of a package. If the output is consistent for any given version, it is fine to put that output in the doctest.",
    "created_at": "2017-09-01T12:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358494",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@mkoeppe](#comment%3A24):
> to my understanding can change from version to version of normaliz.

That's actually not bad at all. There are many doctests which depend on the *version* of a package. If the output is consistent for any given version, it is fine to put that output in the doctest.



---

archive/issue_events_310775.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-09-01T12:32:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310775"
}
```



---

archive/issue_events_310776.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-09-01T12:32:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310776"
}
```



---

archive/issue_comments_358495.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nI also just verified experimentally that the doctests are stable within a version by running:\n\n```\n./sage -t --file-iterations=100 src/sage/geometry/polyhedron/backend_normaliz.py\n```\n\nso I agree with Jeroen that his branch solves the main problem of this ticket, namely make the results of the patchbot reliable again. So positive review from me.\n\nI understand that having doctests pass for multiple normaliz versions is something nice to have since it makes it easier to upgrade normaliz. But let's fix that problem for during the next upgrade of normaliz and not waste any more time on this ticket so that we can get consistent patchbot behaviour again.",
    "created_at": "2017-09-01T13:43:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358495",
    "user": "https://github.com/koffie"
}
```

<div id="comment:27" align="right">Comment 27</div>

I also just verified experimentally that the doctests are stable within a version by running:

```
./sage -t --file-iterations=100 src/sage/geometry/polyhedron/backend_normaliz.py
```

so I agree with Jeroen that his branch solves the main problem of this ticket, namely make the results of the patchbot reliable again. So positive review from me.

I understand that having doctests pass for multiple normaliz versions is something nice to have since it makes it easier to upgrade normaliz. But let's fix that problem for during the next upgrade of normaliz and not waste any more time on this ticket so that we can get consistent patchbot behaviour again.



---

archive/issue_events_310777.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2017-09-01T13:43:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310777"
}
```



---

archive/issue_events_310778.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2017-09-01T13:43:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310778"
}
```



---

archive/issue_comments_358496.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nThank you for the explanation Matthias. However, I agree with Jeroen: the output is deterministic on the version of normaliz (which is bound to the Sage version by our current distribution methods, for better or worse), so directly comparing the output is good and clean as it does not require any extra modification to pass. Another package that we frequently have to update tests for is GAP.",
    "created_at": "2017-09-01T13:44:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358496",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">Comment 28</div>

Thank you for the explanation Matthias. However, I agree with Jeroen: the output is deterministic on the version of normaliz (which is bound to the Sage version by our current distribution methods, for better or worse), so directly comparing the output is good and clean as it does not require any extra modification to pass. Another package that we frequently have to update tests for is GAP.



---

archive/issue_comments_358497.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nReplying to [@tscrim](#comment%3A28):\n> Another package that we frequently have to update tests for is GAP.\n\n...and PARI/GP.\n\nThe doctest framework does support `# tol` for numerical differences but not `# generates same group` or whatever for number-theoretical output",
    "created_at": "2017-09-01T14:07:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358497",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">Comment 29</div>

Replying to [@tscrim](#comment%3A28):
> Another package that we frequently have to update tests for is GAP.

...and PARI/GP.

The doctest framework does support `# tol` for numerical differences but not `# generates same group` or whatever for number-theoretical output



---

archive/issue_comments_358498.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nReplying to [@koffie](#comment%3A27):\n> I understand that having doctests pass for multiple normaliz versions is something nice to have since it makes it easier to upgrade normaliz. But let's fix that problem for during the next upgrade of normaliz and not waste any more time on this ticket so that we can get consistent patchbot behaviour again.\n\nNo objections here.",
    "created_at": "2017-09-01T15:51:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358498",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">Comment 30</div>

Replying to [@koffie](#comment%3A27):
> I understand that having doctests pass for multiple normaliz versions is something nice to have since it makes it easier to upgrade normaliz. But let's fix that problem for during the next upgrade of normaliz and not waste any more time on this ticket so that we can get consistent patchbot behaviour again.

No objections here.



---

archive/issue_events_310779.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-02T09:36:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310779"
}
```



---

archive/issue_events_310780.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-02T09:36:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310780"
}
```



---

archive/issue_comments_358499.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nmerge conflict",
    "created_at": "2017-09-02T09:36:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358499",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:31" align="right">Comment 31</div>

merge conflict



---

archive/issue_comments_358500.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/23637](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/23637)** to **[u/tscrim/normaliz_test-23637](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/normaliz_test-23637)**",
    "created_at": "2017-09-06T03:07:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358500",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/jdemeyer/23637](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/23637)** to **[u/tscrim/normaliz_test-23637](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/normaliz_test-23637)**



---

archive/issue_comments_358501.json:
```json
{
    "body": "Changed commit from **[18ac768](https://github.com/sagemath/sagetrac-mirror/commit/18ac76860988348365df21196cef0da56cc6ab7f)** to **[e6a0d3f](https://github.com/sagemath/sagetrac-mirror/commit/e6a0d3f7107dce115fb400c8eb2042168d7ac076)**",
    "created_at": "2017-09-06T03:07:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358501",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[18ac768](https://github.com/sagemath/sagetrac-mirror/commit/18ac76860988348365df21196cef0da56cc6ab7f)** to **[e6a0d3f](https://github.com/sagemath/sagetrac-mirror/commit/e6a0d3f7107dce115fb400c8eb2042168d7ac076)**



---

archive/issue_events_310781.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-09-06T03:07:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310781"
}
```



---

archive/issue_events_310782.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-09-06T03:07:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310782"
}
```



---

archive/issue_comments_358502.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nTrivial rebase.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6a0d3f7107dce115fb400c8eb2042168d7ac076\">e6a0d3f</a></td><td><code>Merge branch 'u/jdemeyer/23637' of git://trac.sagemath.org/sage into u/tscrim/normaliz_test-23637</code></td></tr></table>\n",
    "created_at": "2017-09-06T03:07:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358502",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:32" align="right">Comment 32</div>

Trivial rebase.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6a0d3f7107dce115fb400c8eb2042168d7ac076">e6a0d3f</a></td><td><code>Merge branch 'u/jdemeyer/23637' of git://trac.sagemath.org/sage into u/tscrim/normaliz_test-23637</code></td></tr></table>




---

archive/issue_events_310783.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-10T22:06:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310783"
}
```



---

archive/issue_events_310784.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "58291f97f44db2170e669fe78216479c250c61a6",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-09-10T22:06:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23637#event-310784"
}
```



---

archive/issue_comments_358503.json:
```json
{
    "body": "Changed branch from **[u/tscrim/normaliz_test-23637](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/normaliz_test-23637)** to **[e6a0d3f](https://github.com/sagemath/sagetrac-mirror/commit/e6a0d3f7107dce115fb400c8eb2042168d7ac076)**",
    "created_at": "2017-09-10T22:06:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23637#issuecomment-358503",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/tscrim/normaliz_test-23637](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/normaliz_test-23637)** to **[e6a0d3f](https://github.com/sagemath/sagetrac-mirror/commit/e6a0d3f7107dce115fb400c8eb2042168d7ac076)**
