# Issue 23864: fix hash of multivariate Laurent polynomials

archive/issues_023627.json:
```json
{
    "body": "\n```\nsage: L.<x,y> = LaurentPolynomialRing(QQ)\nsage: hash(L.one())  # this is wrong !\n3\nsage: hash(L.zero()) # this is even worse!\nTraceback (most recent call last):\n...\nAttributeError: 'NoneType' object has no attribute 'is_constant'\n```\n\n**Keywords:** thursdaysbdx\n\n**Branch/Commit:** [932ccc14510bf184a567cb50232887053242baf8](https://github.com/sagemath/sagetrac-mirror/commit/932ccc14510bf184a567cb50232887053242baf8)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Vincent Delecroix\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23864\n\n",
    "closed_at": "2017-09-18T22:15:01Z",
    "created_at": "2017-09-15T07:12:36Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "fix hash of multivariate Laurent polynomials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23864",
    "user": "https://github.com/videlec"
}
```

```
sage: L.<x,y> = LaurentPolynomialRing(QQ)
sage: hash(L.one())  # this is wrong !
3
sage: hash(L.zero()) # this is even worse!
Traceback (most recent call last):
...
AttributeError: 'NoneType' object has no attribute 'is_constant'
```

**Keywords:** thursdaysbdx

**Branch/Commit:** [932ccc14510bf184a567cb50232887053242baf8](https://github.com/sagemath/sagetrac-mirror/commit/932ccc14510bf184a567cb50232887053242baf8)

**Reviewer:** Travis Scrimshaw

**Author:** Vincent Delecroix

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/23864





---

archive/issue_comments_452669.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2017-09-15T07:15:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23864#issuecomment-452669",
    "user": "https://github.com/videlec"
}
```


**Changing status** from new to needs_review.



---

archive/issue_comments_452670.json:
```json
{
    "body": "**Commit:** [378d28611c10280b3caaf66ee293e925e328d70a](https://github.com/sagemath/sagetrac-mirror/commit/378d28611c10280b3caaf66ee293e925e328d70a)",
    "created_at": "2017-09-15T07:15:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23864#issuecomment-452670",
    "user": "https://github.com/videlec"
}
```


**Commit:** [378d28611c10280b3caaf66ee293e925e328d70a](https://github.com/sagemath/sagetrac-mirror/commit/378d28611c10280b3caaf66ee293e925e328d70a)



---

archive/issue_comments_452671.json:
```json
{
    "body": "**Branch:** [u/vdelecroix/23864](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/23864)",
    "created_at": "2017-09-15T07:15:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23864#issuecomment-452671",
    "user": "https://github.com/videlec"
}
```


**Branch:** [u/vdelecroix/23864](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/23864)



---

archive/issue_comments_452672.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/378d28611c10280b3caaf66ee293e925e328d70a\">378d286</a></td><td><code>23864: fix hash of multivariate laurent polys</code></td></tr></table>\n",
    "created_at": "2017-09-15T07:15:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23864#issuecomment-452672",
    "user": "https://github.com/videlec"
}
```


<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/378d28611c10280b3caaf66ee293e925e328d70a">378d286</a></td><td><code>23864: fix hash of multivariate laurent polys</code></td></tr></table>




---

archive/issue_comments_452673.json:
```json
{
    "body": "<a id='comment:2'></a>\nTrivial thing: could you make this doctest consistent with spacing:\n\n```\nhash(1 - 7* x0 + x1*x2) == hash(L(1 - 7 *x0 + x1*x2))\n```\nOnce done, you can set a positive review on my behalf.",
    "created_at": "2017-09-15T20:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23864#issuecomment-452673",
    "user": "https://github.com/tscrim"
}
```


<a id='comment:2'></a>
Trivial thing: could you make this doctest consistent with spacing:

```
hash(1 - 7* x0 + x1*x2) == hash(L(1 - 7 *x0 + x1*x2))
```
Once done, you can set a positive review on my behalf.



---

archive/issue_comments_452674.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2017-09-15T20:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23864#issuecomment-452674",
    "user": "https://github.com/tscrim"
}
```


**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_452675.json:
```json
{
    "body": "**Changing commit** from \"[378d28611c10280b3caaf66ee293e925e328d70a](https://github.com/sagemath/sagetrac-mirror/commit/378d28611c10280b3caaf66ee293e925e328d70a)\" to \"[932ccc14510bf184a567cb50232887053242baf8](https://github.com/sagemath/sagetrac-mirror/commit/932ccc14510bf184a567cb50232887053242baf8)\".",
    "created_at": "2017-09-16T09:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23864#issuecomment-452675",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[378d28611c10280b3caaf66ee293e925e328d70a](https://github.com/sagemath/sagetrac-mirror/commit/378d28611c10280b3caaf66ee293e925e328d70a)" to "[932ccc14510bf184a567cb50232887053242baf8](https://github.com/sagemath/sagetrac-mirror/commit/932ccc14510bf184a567cb50232887053242baf8)".



---

archive/issue_comments_452676.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/932ccc14510bf184a567cb50232887053242baf8\">932ccc1</a></td><td><code>23864: consistent spacing in doc</code></td></tr></table>\n",
    "created_at": "2017-09-16T09:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23864#issuecomment-452676",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/932ccc14510bf184a567cb50232887053242baf8">932ccc1</a></td><td><code>23864: consistent spacing in doc</code></td></tr></table>




---

archive/issue_comments_452677.json:
```json
{
    "body": "<a id='comment:4'></a>\ndone! Thanks Travis.",
    "created_at": "2017-09-16T09:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23864#issuecomment-452677",
    "user": "https://github.com/videlec"
}
```


<a id='comment:4'></a>
done! Thanks Travis.



---

archive/issue_comments_452678.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-09-16T09:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23864#issuecomment-452678",
    "user": "https://github.com/videlec"
}
```


**Changing status** from needs_review to positive_review.



---

archive/issue_comments_452679.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2017-09-18T22:15:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23864#issuecomment-452679",
    "user": "https://github.com/vbraun"
}
```


**Resolution:** fixed



---

archive/issue_comments_452680.json:
```json
{
    "body": "**Changing branch** from \"[u/vdelecroix/23864](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/23864)\" to \"[932ccc14510bf184a567cb50232887053242baf8](https://github.com/sagemath/sagetrac-mirror/commit/932ccc14510bf184a567cb50232887053242baf8)\".",
    "created_at": "2017-09-18T22:15:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23864#issuecomment-452680",
    "user": "https://github.com/vbraun"
}
```


**Changing branch** from "[u/vdelecroix/23864](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/23864)" to "[932ccc14510bf184a567cb50232887053242baf8](https://github.com/sagemath/sagetrac-mirror/commit/932ccc14510bf184a567cb50232887053242baf8)".



---

archive/issue_events_069123.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-18T22:15:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23864",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23864#event-69123"
}
```

