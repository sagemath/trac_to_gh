# Issue 23970: Simpler caching in ell_rational_field

archive/issues_023733.json:
```json
{
    "body": "Instead of using a `dict` to cache results depending on `proof`, use a tuple `(answer, proven)`. This is easier to understand and results in simpler code. This was already done for `__rank` in #23962.\n\nCC:  @koffie\n\nBranch/Commit: 8bce6fff2c8425978a458b282256b4767651bbe3\n\nReviewer: Travis Scrimshaw\n\nAuthor: Jeroen Demeyer\n\nDependencies: #23962\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23970\n\n",
    "closed_at": "2017-10-15T09:22:11Z",
    "created_at": "2017-10-05T12:46:41Z",
    "labels": [
        "component: elliptic curves"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Simpler caching in ell_rational_field",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23970",
    "user": "https://github.com/jdemeyer"
}
```
Instead of using a `dict` to cache results depending on `proof`, use a tuple `(answer, proven)`. This is easier to understand and results in simpler code. This was already done for `__rank` in #23962.

CC:  @koffie

Branch/Commit: 8bce6fff2c8425978a458b282256b4767651bbe3

Reviewer: Travis Scrimshaw

Author: Jeroen Demeyer

Dependencies: #23962

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23970





---

archive/issue_comments_452782.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#23962\"",
    "created_at": "2017-10-05T12:47:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23970#issuecomment-452782",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "" to "#23962"



---

archive/issue_comments_452783.json:
```json
{
    "body": "Changing dependencies from \"#23962\" to \"\"",
    "created_at": "2017-10-05T13:28:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23970#issuecomment-452783",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#23962" to ""



---

archive/issue_comments_452784.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/simpler_caching_in_ell_rational_field\"",
    "created_at": "2017-10-05T13:41:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23970#issuecomment-452784",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/simpler_caching_in_ell_rational_field"



---

archive/issue_comments_452785.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-10-05T13:42:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23970#issuecomment-452785",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_452786.json:
```json
{
    "body": "<a id='comment:4'></a>\nNew commits:\n|                                                                                                                                          |                                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|\n|[3cff14c](https://git.sagemath.org/sage.git/commit?id=3cff14c2ea4863634fac9f9009f65efcecbf6b1a)|`rank() of elliptic curves should always consult Cremona database`|\n|[8bce6ff](https://git.sagemath.org/sage.git/commit?id=8bce6fff2c8425978a458b282256b4767651bbe3)|`Simpler caching in ell_rational_field`|",
    "created_at": "2017-10-05T13:42:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23970#issuecomment-452786",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
New commits:
|                                                                                                                                          |                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
|[3cff14c](https://git.sagemath.org/sage.git/commit?id=3cff14c2ea4863634fac9f9009f65efcecbf6b1a)|`rank() of elliptic curves should always consult Cremona database`|
|[8bce6ff](https://git.sagemath.org/sage.git/commit?id=8bce6fff2c8425978a458b282256b4767651bbe3)|`Simpler caching in ell_rational_field`|



---

archive/issue_comments_452787.json:
```json
{
    "body": "Changing commit from \"\" to \"8bce6fff2c8425978a458b282256b4767651bbe3\"",
    "created_at": "2017-10-05T13:42:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23970#issuecomment-452787",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "8bce6fff2c8425978a458b282256b4767651bbe3"



---

archive/issue_comments_452788.json:
```json
{
    "body": "<a id='comment:5'></a>\nLGTM.",
    "created_at": "2017-10-05T21:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23970#issuecomment-452788",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>
LGTM.



---

archive/issue_comments_452789.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-05T21:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23970#issuecomment-452789",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_452790.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2017-10-05T21:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23970#issuecomment-452790",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_452791.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#23962\"",
    "created_at": "2017-10-06T08:10:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23970#issuecomment-452791",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "" to "#23962"



---

archive/issue_comments_452792.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/simpler_caching_in_ell_rational_field\" to \"8bce6fff2c8425978a458b282256b4767651bbe3\"",
    "created_at": "2017-10-15T09:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23970#issuecomment-452792",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/simpler_caching_in_ell_rational_field" to "8bce6fff2c8425978a458b282256b4767651bbe3"



---

archive/issue_events_060983.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-15T09:22:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23970",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23970#event-60983"
}
```



---

archive/issue_comments_452793.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-10-15T09:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23970#issuecomment-452793",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
