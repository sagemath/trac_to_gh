# Issue 23174: p and p^n-th roots in function fields

archive/issues_022937.json:
```json
{
    "body": "\n\n**CC:**  swewers\n\n**Keywords:** sd86.5\n\n**Branch/Commit:** [3786aa143c10744bb9d9331fcad12b1a42a39fe4](https://github.com/sagemath/sagetrac-mirror/commit/3786aa143c10744bb9d9331fcad12b1a42a39fe4)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Julian R\u00fcth\n\n**Dependencies:** #16561, #16564\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23174\n\n",
    "closed_at": "2020-11-07T16:23:24Z",
    "created_at": "2017-06-08T00:06:49Z",
    "labels": [
        "component: commutative algebra",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "p and p^n-th roots in function fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23174",
    "user": "https://github.com/saraedum"
}
```


**CC:**  swewers

**Keywords:** sd86.5

**Branch/Commit:** [3786aa143c10744bb9d9331fcad12b1a42a39fe4](https://github.com/sagemath/sagetrac-mirror/commit/3786aa143c10744bb9d9331fcad12b1a42a39fe4)

**Reviewer:** Travis Scrimshaw

**Author:** Julian Rüth

**Dependencies:** #16561, #16564

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/23174





---

archive/issue_comments_437418.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Implemented here: https://github.com/saraedum/sage/blob/experimental/src/sage/rings/function_field/function_field_element.pyx#L1272\n+Implemented here: https://github.com/saraedum/sage/blob/experimental/src/sage/rings/function_field/function_field_element.pyx#L1272 and https://github.com/saraedum/sage/blob/experimental/src/sage/rings/function_field/function_field_element.pyx#L540.\n``````\n",
    "created_at": "2018-08-25T15:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437418",
    "user": "https://github.com/saraedum"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-Implemented here: https://github.com/saraedum/sage/blob/experimental/src/sage/rings/function_field/function_field_element.pyx#L1272
+Implemented here: https://github.com/saraedum/sage/blob/experimental/src/sage/rings/function_field/function_field_element.pyx#L1272 and https://github.com/saraedum/sage/blob/experimental/src/sage/rings/function_field/function_field_element.pyx#L540.
``````




---

archive/issue_comments_437419.json:
```json
{
    "body": "**Dependencies:** #16561, #16564",
    "created_at": "2018-08-25T15:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437419",
    "user": "https://github.com/saraedum"
}
```

**Dependencies:** #16561, #16564



---

archive/issue_comments_437420.json:
```json
{
    "body": "**Branch:** [u/saraedum/23174-roots-in-function-fields](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/23174-roots-in-function-fields)",
    "created_at": "2020-09-03T01:18:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437420",
    "user": "https://github.com/saraedum"
}
```

**Branch:** [u/saraedum/23174-roots-in-function-fields](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/23174-roots-in-function-fields)



---

archive/issue_comments_437421.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a740a00b1fed89a6b522624451ee4f49c267d324\">a740a00</a></td><td><code>implement nth_root/is_nth_power for function field elements</code></td></tr></table>\n",
    "created_at": "2020-09-03T01:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437421",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a740a00b1fed89a6b522624451ee4f49c267d324">a740a00</a></td><td><code>implement nth_root/is_nth_power for function field elements</code></td></tr></table>




---

archive/issue_comments_437422.json:
```json
{
    "body": "**Commit:** [a740a00b1fed89a6b522624451ee4f49c267d324](https://github.com/sagemath/sagetrac-mirror/commit/a740a00b1fed89a6b522624451ee4f49c267d324)",
    "created_at": "2020-09-03T01:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437422",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [a740a00b1fed89a6b522624451ee4f49c267d324](https://github.com/sagemath/sagetrac-mirror/commit/a740a00b1fed89a6b522624451ee4f49c267d324)



---

archive/issue_comments_437423.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9924602fcfdfea56e0926c33ec01e02cf8e9c7a0\">9924602</a></td><td><code>implement nth_root/is_nth_power for function field elements</code></td></tr></table>\n",
    "created_at": "2020-09-03T01:19:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437423",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9924602fcfdfea56e0926c33ec01e02cf8e9c7a0">9924602</a></td><td><code>implement nth_root/is_nth_power for function field elements</code></td></tr></table>




---

archive/issue_comments_437424.json:
```json
{
    "body": "**Changing commit** from \"[a740a00b1fed89a6b522624451ee4f49c267d324](https://github.com/sagemath/sagetrac-mirror/commit/a740a00b1fed89a6b522624451ee4f49c267d324)\" to \"[9924602fcfdfea56e0926c33ec01e02cf8e9c7a0](https://github.com/sagemath/sagetrac-mirror/commit/9924602fcfdfea56e0926c33ec01e02cf8e9c7a0)\".",
    "created_at": "2020-09-03T01:19:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437424",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a740a00b1fed89a6b522624451ee4f49c267d324](https://github.com/sagemath/sagetrac-mirror/commit/a740a00b1fed89a6b522624451ee4f49c267d324)" to "[9924602fcfdfea56e0926c33ec01e02cf8e9c7a0](https://github.com/sagemath/sagetrac-mirror/commit/9924602fcfdfea56e0926c33ec01e02cf8e9c7a0)".



---

archive/issue_comments_437425.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Implemented here: https://github.com/saraedum/sage/blob/experimental/src/sage/rings/function_field/function_field_element.pyx#L1272 and https://github.com/saraedum/sage/blob/experimental/src/sage/rings/function_field/function_field_element.pyx#L540.\n+\n``````\n",
    "created_at": "2020-09-03T01:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437425",
    "user": "https://github.com/saraedum"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-Implemented here: https://github.com/saraedum/sage/blob/experimental/src/sage/rings/function_field/function_field_element.pyx#L1272 and https://github.com/saraedum/sage/blob/experimental/src/sage/rings/function_field/function_field_element.pyx#L540.
+
``````




---

archive/issue_comments_437426.json:
```json
{
    "body": "**Author:** Julian R\u00fcth",
    "created_at": "2020-09-03T01:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437426",
    "user": "https://github.com/saraedum"
}
```

**Author:** Julian Rüth



---

archive/issue_comments_437427.json:
```json
{
    "body": "**Changing commit** from \"[9924602fcfdfea56e0926c33ec01e02cf8e9c7a0](https://github.com/sagemath/sagetrac-mirror/commit/9924602fcfdfea56e0926c33ec01e02cf8e9c7a0)\" to \"[9be299e2142e6569e0d1e145d9d9c255a2e49d3d](https://github.com/sagemath/sagetrac-mirror/commit/9be299e2142e6569e0d1e145d9d9c255a2e49d3d)\".",
    "created_at": "2020-09-03T01:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437427",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9924602fcfdfea56e0926c33ec01e02cf8e9c7a0](https://github.com/sagemath/sagetrac-mirror/commit/9924602fcfdfea56e0926c33ec01e02cf8e9c7a0)" to "[9be299e2142e6569e0d1e145d9d9c255a2e49d3d](https://github.com/sagemath/sagetrac-mirror/commit/9be299e2142e6569e0d1e145d9d9c255a2e49d3d)".



---

archive/issue_comments_437428.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9be299e2142e6569e0d1e145d9d9c255a2e49d3d\">9be299e</a></td><td><code>add tests for is_nth_power</code></td></tr></table>\n",
    "created_at": "2020-09-03T01:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437428",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9be299e2142e6569e0d1e145d9d9c255a2e49d3d">9be299e</a></td><td><code>add tests for is_nth_power</code></td></tr></table>




---

archive/issue_comments_437429.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2020-09-03T01:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437429",
    "user": "https://github.com/saraedum"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_437430.json:
```json
{
    "body": "<a id='comment:11'></a>\nI did not run full doctests. Let's see what the patchbot thinks about this one.",
    "created_at": "2020-09-03T01:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437430",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:11'></a>
I did not run full doctests. Let's see what the patchbot thinks about this one.



---

archive/issue_comments_437431.json:
```json
{
    "body": "<a id='comment:12'></a>\nWhen I build the documentation there is an error complaining that the reference [GiTr1996] is introduced twice. \n\nThe code itself is fine. Thanks!",
    "created_at": "2020-09-03T13:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437431",
    "user": "https://trac.sagemath.org/admin/accounts/users/swewers"
}
```

<a id='comment:12'></a>
When I build the documentation there is an error complaining that the reference [GiTr1996] is introduced twice. 

The code itself is fine. Thanks!



---

archive/issue_comments_437432.json:
```json
{
    "body": "**Changing commit** from \"[9be299e2142e6569e0d1e145d9d9c255a2e49d3d](https://github.com/sagemath/sagetrac-mirror/commit/9be299e2142e6569e0d1e145d9d9c255a2e49d3d)\" to \"[3786aa143c10744bb9d9331fcad12b1a42a39fe4](https://github.com/sagemath/sagetrac-mirror/commit/3786aa143c10744bb9d9331fcad12b1a42a39fe4)\".",
    "created_at": "2020-09-04T00:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437432",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[9be299e2142e6569e0d1e145d9d9c255a2e49d3d](https://github.com/sagemath/sagetrac-mirror/commit/9be299e2142e6569e0d1e145d9d9c255a2e49d3d)" to "[3786aa143c10744bb9d9331fcad12b1a42a39fe4](https://github.com/sagemath/sagetrac-mirror/commit/3786aa143c10744bb9d9331fcad12b1a42a39fe4)".



---

archive/issue_comments_437433.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2020-09-04T00:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437433",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_437434.json:
```json
{
    "body": "<a id='comment:13'></a>\nI also made some reviewer changes. Basically they are all done to improve the C code generated by Cython. One thing that might be more controversial is my unrolling of\n\n```python\n        for i in range(deg):\n            v += x.list()\n            x *= yp\n```\nI did this so you don't create as many temporary objects and to avoid the repeated calls to `self._parent.degree()` and `self._parent.polynomial()`. If you don't want the more complicated code, feel free to revert the last commit.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7ef172febfb8d67a3e2f600e9e417fc51f39268\">c7ef172</a></td><td><code>Fixing docbuild. Trying to optimize the `_pth_`root() implementation using Cython.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c62db9427d8c1dc507bca95a44267a48d939d314\">c62db94</a></td><td><code>Doing some more work to improve the Cython code.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3786aa143c10744bb9d9331fcad12b1a42a39fe4\">3786aa1</a></td><td><code>Unrolling the x.list() and x *= yp in `_pth_`root() to avoid temporary objects and repeated function calls.</code></td></tr></table>\n",
    "created_at": "2020-09-04T00:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437434",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>
I also made some reviewer changes. Basically they are all done to improve the C code generated by Cython. One thing that might be more controversial is my unrolling of

```python
        for i in range(deg):
            v += x.list()
            x *= yp
```
I did this so you don't create as many temporary objects and to avoid the repeated calls to `self._parent.degree()` and `self._parent.polynomial()`. If you don't want the more complicated code, feel free to revert the last commit.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7ef172febfb8d67a3e2f600e9e417fc51f39268">c7ef172</a></td><td><code>Fixing docbuild. Trying to optimize the `_pth_`root() implementation using Cython.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c62db9427d8c1dc507bca95a44267a48d939d314">c62db94</a></td><td><code>Doing some more work to improve the Cython code.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3786aa143c10744bb9d9331fcad12b1a42a39fe4">3786aa1</a></td><td><code>Unrolling the x.list() and x *= yp in `_pth_`root() to avoid temporary objects and repeated function calls.</code></td></tr></table>




---

archive/issue_events_068061.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-09-04T00:07:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23174#event-68061"
}
```



---

archive/issue_comments_437435.json:
```json
{
    "body": "**Changing branch** from \"[u/saraedum/23174-roots-in-function-fields](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/23174-roots-in-function-fields)\" to \"[public/rings/roots_function_fields-23174](https://github.com/sagemath/sagetrac-mirror/tree/public/rings/roots_function_fields-23174)\".",
    "created_at": "2020-09-04T00:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437435",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[u/saraedum/23174-roots-in-function-fields](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/23174-roots-in-function-fields)" to "[public/rings/roots_function_fields-23174](https://github.com/sagemath/sagetrac-mirror/tree/public/rings/roots_function_fields-23174)".



---

archive/issue_comments_437436.json:
```json
{
    "body": "<a id='comment:14'></a>\nI don't mind these changes though I doubt that they make a difference.\n\nFeel free to set this to positive review.",
    "created_at": "2020-09-04T12:29:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437436",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:14'></a>
I don't mind these changes though I doubt that they make a difference.

Feel free to set this to positive review.



---

archive/issue_comments_437437.json:
```json
{
    "body": "<a id='comment:15'></a>\nThank you.",
    "created_at": "2020-09-04T13:07:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437437",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>
Thank you.



---

archive/issue_comments_437438.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2020-09-04T13:07:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437438",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_437439.json:
```json
{
    "body": "**Changing branch** from \"[public/rings/roots_function_fields-23174](https://github.com/sagemath/sagetrac-mirror/tree/public/rings/roots_function_fields-23174)\" to \"[3786aa143c10744bb9d9331fcad12b1a42a39fe4](https://github.com/sagemath/sagetrac-mirror/commit/3786aa143c10744bb9d9331fcad12b1a42a39fe4)\".",
    "created_at": "2020-11-07T16:23:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437439",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/rings/roots_function_fields-23174](https://github.com/sagemath/sagetrac-mirror/tree/public/rings/roots_function_fields-23174)" to "[3786aa143c10744bb9d9331fcad12b1a42a39fe4](https://github.com/sagemath/sagetrac-mirror/commit/3786aa143c10744bb9d9331fcad12b1a42a39fe4)".



---

archive/issue_events_068062.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-07T16:23:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23174#event-68062"
}
```



---

archive/issue_comments_437440.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2020-11-07T16:23:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23174",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23174#issuecomment-437440",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed
