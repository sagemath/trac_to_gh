# Issue 23486: Echelon form for p-adic matrices

archive/issues_023249.json:
```json
{
    "body": "This ticket implements echelon form for matrices over complete discrete valuation rings/fields.\n\nCC:  @roed314 @saraedum tristanvaccon\n\nKeywords: sd87, padicIMA, padicBordeaux\n\nReviewer: Ben Hutz, David Roe\n\nAuthor: Xavier Caruso\n\nBranch: u/caruso/padic_hermite\n\nStatus: needs_work\n\nDependencies: #23450\n\nCommit: 26f0fd223edb143de3465f454e2dde5be1c06f9c\n\nIssue created by migration from https://trac.sagemath.org/ticket/23486\n\n",
    "created_at": "2017-07-20T04:10:42Z",
    "labels": [
        "component: padics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Echelon form for p-adic matrices",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23486",
    "user": "https://github.com/xcaruso"
}
```
This ticket implements echelon form for matrices over complete discrete valuation rings/fields.

CC:  @roed314 @saraedum tristanvaccon

Keywords: sd87, padicIMA, padicBordeaux

Reviewer: Ben Hutz, David Roe

Author: Xavier Caruso

Branch: u/caruso/padic_hermite

Status: needs_work

Dependencies: #23450

Commit: 26f0fd223edb143de3465f454e2dde5be1c06f9c

Issue created by migration from https://trac.sagemath.org/ticket/23486





---

archive/issue_comments_441682.json:
```json
{
    "body": "Changing branch from \"\" to \"u/caruso/padic_hermite\"",
    "created_at": "2017-07-20T04:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441682",
    "user": "https://github.com/xcaruso"
}
```

Changing branch from "" to "u/caruso/padic_hermite"



---

archive/issue_comments_441683.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|\n|[879f4eb](https://git.sagemath.org/sage.git/commit?id=879f4eb46b700d0d3c4a0779b8293158ea4af298)|`Smith form of a p-adic matrix`|\n|[595bc11](https://git.sagemath.org/sage.git/commit?id=595bc117c7becc12c9e6afcefcc372b46320384e)|`Code moved into the category`|\n|[1832757](https://git.sagemath.org/sage.git/commit?id=1832757b3eaa3f1f01e8a8864ed33e697366025b)|`Factorisation of code`|\n|[e2cdd99](https://git.sagemath.org/sage.git/commit?id=e2cdd995a80e859027ffd5685f1d96cc480d4277)|`Small fix`|\n|[7ae1018](https://git.sagemath.org/sage.git/commit?id=7ae1018f5f63a9082d94ec9876c4ec38451cc340)|`Move relevant code to sage.matrix.matrix_cdv_dense`|\n|[7e73fd2](https://git.sagemath.org/sage.git/commit?id=7e73fd2f9a4ac5b090f72a093ee57df532a1a384)|`Fix import`|\n|[1fd67fe](https://git.sagemath.org/sage.git/commit?id=1fd67fe26e5c1afb90f68127fdbd8a40bd01c75e)|`Add method tracks_precision()`|\n|[0138805](https://git.sagemath.org/sage.git/commit?id=013880536ee5ec0499dcd749d58f3b36ec6b71cd)|`Echelon form for matrices over CDVR/CDVF`|",
    "created_at": "2017-07-20T04:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441683",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
|[879f4eb](https://git.sagemath.org/sage.git/commit?id=879f4eb46b700d0d3c4a0779b8293158ea4af298)|`Smith form of a p-adic matrix`|
|[595bc11](https://git.sagemath.org/sage.git/commit?id=595bc117c7becc12c9e6afcefcc372b46320384e)|`Code moved into the category`|
|[1832757](https://git.sagemath.org/sage.git/commit?id=1832757b3eaa3f1f01e8a8864ed33e697366025b)|`Factorisation of code`|
|[e2cdd99](https://git.sagemath.org/sage.git/commit?id=e2cdd995a80e859027ffd5685f1d96cc480d4277)|`Small fix`|
|[7ae1018](https://git.sagemath.org/sage.git/commit?id=7ae1018f5f63a9082d94ec9876c4ec38451cc340)|`Move relevant code to sage.matrix.matrix_cdv_dense`|
|[7e73fd2](https://git.sagemath.org/sage.git/commit?id=7e73fd2f9a4ac5b090f72a093ee57df532a1a384)|`Fix import`|
|[1fd67fe](https://git.sagemath.org/sage.git/commit?id=1fd67fe26e5c1afb90f68127fdbd8a40bd01c75e)|`Add method tracks_precision()`|
|[0138805](https://git.sagemath.org/sage.git/commit?id=013880536ee5ec0499dcd749d58f3b36ec6b71cd)|`Echelon form for matrices over CDVR/CDVF`|



---

archive/issue_comments_441684.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#23450\"",
    "created_at": "2017-07-20T04:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441684",
    "user": "https://github.com/xcaruso"
}
```

Changing dependencies from "" to "#23450"



---

archive/issue_comments_441685.json:
```json
{
    "body": "Changing commit from \"\" to \"013880536ee5ec0499dcd749d58f3b36ec6b71cd\"",
    "created_at": "2017-07-20T04:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441685",
    "user": "https://github.com/xcaruso"
}
```

Changing commit from "" to "013880536ee5ec0499dcd749d58f3b36ec6b71cd"



---

archive/issue_comments_441686.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                           |                                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|\n|[1f731ee](https://git.sagemath.org/sage.git/commit/?id=1f731ee1a5dfa9af675a7a510a74fb7bb99d24fa)|`Check correctly (hopefully) that precision on input is enough`|\n|[1f07da5](https://git.sagemath.org/sage.git/commit/?id=1f07da52c7769205e3549df079699202afbd4195)|`Small fixes`|\n|[e265c77](https://git.sagemath.org/sage.git/commit/?id=e265c7776945641cc991a0415306081b76cffb83)|`Merge branch 'padic_smith' into padic_hermite`|\n|[0c3e7cc](https://git.sagemath.org/sage.git/commit/?id=0c3e7ccb8699da62794a49a0f5e60476f16b171c)|`Fix precision issues`|\n|[55b99df](https://git.sagemath.org/sage.git/commit/?id=55b99df7b752c66cf6256b1adf7a7f0951f71808)|`Small fix in lift_to_maximal_precision`|\n|[1c396e8](https://git.sagemath.org/sage.git/commit/?id=1c396e88a0fc84e733efcf80fbe54919184ef6a1)|`Merge branch 'padic_smith' into padic_hermite`|\n|[71c0c74](https://git.sagemath.org/sage.git/commit/?id=71c0c7462afdca4d252fba70cb2d1e23b5ab12d5)|`Add doctest`|\n|[731fb19](https://git.sagemath.org/sage.git/commit/?id=731fb19e7410c0dce116d0477153399af4fa5241)|`Fix doctest`|\n|[1ea48ac](https://git.sagemath.org/sage.git/commit/?id=1ea48acfe280981d969970384e10309a9c8211db)|`Two small bugs fixed`|\n|[02aa72a](https://git.sagemath.org/sage.git/commit/?id=02aa72a42558cad734be80d626af5552bd44751a)|`Merge branch 'padic_smith' into padic_hermite`|",
    "created_at": "2017-07-20T17:24:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441686",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                           |                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
|[1f731ee](https://git.sagemath.org/sage.git/commit/?id=1f731ee1a5dfa9af675a7a510a74fb7bb99d24fa)|`Check correctly (hopefully) that precision on input is enough`|
|[1f07da5](https://git.sagemath.org/sage.git/commit/?id=1f07da52c7769205e3549df079699202afbd4195)|`Small fixes`|
|[e265c77](https://git.sagemath.org/sage.git/commit/?id=e265c7776945641cc991a0415306081b76cffb83)|`Merge branch 'padic_smith' into padic_hermite`|
|[0c3e7cc](https://git.sagemath.org/sage.git/commit/?id=0c3e7ccb8699da62794a49a0f5e60476f16b171c)|`Fix precision issues`|
|[55b99df](https://git.sagemath.org/sage.git/commit/?id=55b99df7b752c66cf6256b1adf7a7f0951f71808)|`Small fix in lift_to_maximal_precision`|
|[1c396e8](https://git.sagemath.org/sage.git/commit/?id=1c396e88a0fc84e733efcf80fbe54919184ef6a1)|`Merge branch 'padic_smith' into padic_hermite`|
|[71c0c74](https://git.sagemath.org/sage.git/commit/?id=71c0c7462afdca4d252fba70cb2d1e23b5ab12d5)|`Add doctest`|
|[731fb19](https://git.sagemath.org/sage.git/commit/?id=731fb19e7410c0dce116d0477153399af4fa5241)|`Fix doctest`|
|[1ea48ac](https://git.sagemath.org/sage.git/commit/?id=1ea48acfe280981d969970384e10309a9c8211db)|`Two small bugs fixed`|
|[02aa72a](https://git.sagemath.org/sage.git/commit/?id=02aa72a42558cad734be80d626af5552bd44751a)|`Merge branch 'padic_smith' into padic_hermite`|



---

archive/issue_comments_441687.json:
```json
{
    "body": "Changing commit from \"013880536ee5ec0499dcd749d58f3b36ec6b71cd\" to \"02aa72a42558cad734be80d626af5552bd44751a\"",
    "created_at": "2017-07-20T17:24:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441687",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "013880536ee5ec0499dcd749d58f3b36ec6b71cd" to "02aa72a42558cad734be80d626af5552bd44751a"



---

archive/issue_comments_441688.json:
```json
{
    "body": "<a id='comment:4'></a>\nTicket ready for review!",
    "created_at": "2017-07-20T17:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441688",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:4'></a>
Ticket ready for review!



---

archive/issue_comments_441689.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-07-20T17:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441689",
    "user": "https://github.com/xcaruso"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_441690.json:
```json
{
    "body": "<a id='comment:6'></a>\nI looked at this from a functionality perspective as opposed to looking through the algorithm line by line.\n\nAll of the examples I was able to come up with behaved as expected, so I just have a few minor issues\n\n- 2 doc test failures\n\n```\nsage -t --warn-long 72.0 rings/laurent_series_ring.py  # 1 doctest failed\nsage -t --warn-long 72.0 rings/padics/tests.py  # 1 doctest failed\n```\n\n- in a couple places you say\n\n```\nif `d_i` denotes the `(i,i)` entry of `D`\n```\nI think you means `D` to be `S`\n\n- extra word\n\n```\n'it is possible to do not'\n```\n\n- in several places you say 'also possible for rectangular matrices' where you mean 'nonrectangular'\n\n- in two different places for echelon form you state it as find the Smith normal form instead of the echelon form\n\n```\nto determine the Smith normal form\n```\n\n- is there a reason to assign\n\n```\n    else:\n        left = right = None\n```\nthey don't seem to be used later.\n\n- incorrect word\n\n```\ninteger this of this\n```\nshould be 'integer ring of this'",
    "created_at": "2017-07-20T20:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441690",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:6'></a>
I looked at this from a functionality perspective as opposed to looking through the algorithm line by line.

All of the examples I was able to come up with behaved as expected, so I just have a few minor issues

- 2 doc test failures

```
sage -t --warn-long 72.0 rings/laurent_series_ring.py  # 1 doctest failed
sage -t --warn-long 72.0 rings/padics/tests.py  # 1 doctest failed
```

- in a couple places you say

```
if `d_i` denotes the `(i,i)` entry of `D`
```
I think you means `D` to be `S`

- extra word

```
'it is possible to do not'
```

- in several places you say 'also possible for rectangular matrices' where you mean 'nonrectangular'

- in two different places for echelon form you state it as find the Smith normal form instead of the echelon form

```
to determine the Smith normal form
```

- is there a reason to assign

```
    else:
        left = right = None
```
they don't seem to be used later.

- incorrect word

```
integer this of this
```
should be 'integer ring of this'



---

archive/issue_comments_441691.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Ben Hutz\"",
    "created_at": "2017-07-20T20:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441691",
    "user": "https://github.com/bhutz"
}
```

Changing reviewer from "" to "Ben Hutz"



---

archive/issue_comments_441692.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-07-20T20:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441692",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_441693.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[52a4344](https://git.sagemath.org/sage.git/commit/?id=52a43448361a7a28c5dd4b2c9e8f19c8eefd7663)|`Added keyword secure`|\n|[65ffbc6](https://git.sagemath.org/sage.git/commit/?id=65ffbc6afa1e337deb0d5ec882914624fc9e08e0)|`Use the name \"integral_smith_form\" for matrices over CDVF`|\n|[f27820a](https://git.sagemath.org/sage.git/commit/?id=f27820a66d4de7f972f4b59df5b5d53f31463ae1)|`Small fixes`|\n|[ba4a937](https://git.sagemath.org/sage.git/commit/?id=ba4a937c4a44536da0273d736000619476707206)|`Merge branch 'padic_smith' into padic_hermite`|",
    "created_at": "2017-07-21T01:20:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441693",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[52a4344](https://git.sagemath.org/sage.git/commit/?id=52a43448361a7a28c5dd4b2c9e8f19c8eefd7663)|`Added keyword secure`|
|[65ffbc6](https://git.sagemath.org/sage.git/commit/?id=65ffbc6afa1e337deb0d5ec882914624fc9e08e0)|`Use the name "integral_smith_form" for matrices over CDVF`|
|[f27820a](https://git.sagemath.org/sage.git/commit/?id=f27820a66d4de7f972f4b59df5b5d53f31463ae1)|`Small fixes`|
|[ba4a937](https://git.sagemath.org/sage.git/commit/?id=ba4a937c4a44536da0273d736000619476707206)|`Merge branch 'padic_smith' into padic_hermite`|



---

archive/issue_comments_441694.json:
```json
{
    "body": "Changing commit from \"02aa72a42558cad734be80d626af5552bd44751a\" to \"ba4a937c4a44536da0273d736000619476707206\"",
    "created_at": "2017-07-21T01:20:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441694",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "02aa72a42558cad734be80d626af5552bd44751a" to "ba4a937c4a44536da0273d736000619476707206"



---

archive/issue_comments_441695.json:
```json
{
    "body": "<a id='comment:8'></a>\nThanks for your comments.\n\nI fixed the wording.\nThe failing doctests were due to the fact that, in the case of a matrix M defined over a complete discrete valuation *field* K, my function `echelon_form()` did not compute the row-echelon from of M over K but over its ring of integers (i.e. the transformation matrix has coefficients in the ring of integers and is invertible over it). I then changed the name for `integral_echelon_from()`.\n\nNB: Some of your comments are related to ticket #23450. Maybe you should look at this one as well.",
    "created_at": "2017-07-21T01:27:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441695",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:8'></a>
Thanks for your comments.

I fixed the wording.
The failing doctests were due to the fact that, in the case of a matrix M defined over a complete discrete valuation *field* K, my function `echelon_form()` did not compute the row-echelon from of M over K but over its ring of integers (i.e. the transformation matrix has coefficients in the ring of integers and is invertible over it). I then changed the name for `integral_echelon_from()`.

NB: Some of your comments are related to ticket #23450. Maybe you should look at this one as well.



---

archive/issue_comments_441696.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-07-21T01:36:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441696",
    "user": "https://github.com/xcaruso"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_441697.json:
```json
{
    "body": "Changing branch from \"u/caruso/padic_hermite\" to \"u/roed/padic_hermite\"",
    "created_at": "2018-03-05T20:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441697",
    "user": "https://github.com/roed314"
}
```

Changing branch from "u/caruso/padic_hermite" to "u/roed/padic_hermite"



---

archive/issue_comments_441698.json:
```json
{
    "body": "<a id='comment:11'></a>\nSee also #17272, which just got a positive review.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|\n|[190ba1b](https://git.sagemath.org/sage.git/commit?id=190ba1bf1b68eb012e7b42900a7fd50096860b07)|`Merge branch 'u/caruso/padic_hermite' of git://trac.sagemath.org/sage into t/23486/padic_echelon`|",
    "created_at": "2018-05-24T20:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441698",
    "user": "https://github.com/roed314"
}
```

<a id='comment:11'></a>
See also #17272, which just got a positive review.

---
New commits:
|                                                                                                                                          |                                                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|
|[190ba1b](https://git.sagemath.org/sage.git/commit?id=190ba1bf1b68eb012e7b42900a7fd50096860b07)|`Merge branch 'u/caruso/padic_hermite' of git://trac.sagemath.org/sage into t/23486/padic_echelon`|



---

archive/issue_comments_441699.json:
```json
{
    "body": "Changing commit from \"ba4a937c4a44536da0273d736000619476707206\" to \"190ba1bf1b68eb012e7b42900a7fd50096860b07\"",
    "created_at": "2018-05-24T20:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441699",
    "user": "https://github.com/roed314"
}
```

Changing commit from "ba4a937c4a44536da0273d736000619476707206" to "190ba1bf1b68eb012e7b42900a7fd50096860b07"



---

archive/issue_comments_441700.json:
```json
{
    "body": "<a id='comment:12'></a>\nGreat! So, what do we do with this ticket (which is now a kind of redundant)?",
    "created_at": "2018-05-24T20:37:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441700",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:12'></a>
Great! So, what do we do with this ticket (which is now a kind of redundant)?



---

archive/issue_comments_441701.json:
```json
{
    "body": "<a id='comment:13'></a>\nAre there any features here that aren't included in #17272?",
    "created_at": "2018-05-24T20:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441701",
    "user": "https://github.com/roed314"
}
```

<a id='comment:13'></a>
Are there any features here that aren't included in #17272?



---

archive/issue_comments_441702.json:
```json
{
    "body": "<a id='comment:14'></a>\nThe computation of transformation matrices, I think.\n\nMoreover, for matrices over Qp, it makes sense to have an option for computing the echelon form over Zp (that is, without renormalizing the pivots) in order to save precision. But I don't think that it's implemented in this ticket.",
    "created_at": "2018-05-24T20:51:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441702",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:14'></a>
The computation of transformation matrices, I think.

Moreover, for matrices over Qp, it makes sense to have an option for computing the echelon form over Zp (that is, without renormalizing the pivots) in order to save precision. But I don't think that it's implemented in this ticket.



---

archive/issue_comments_441703.json:
```json
{
    "body": "Changing keywords from \"sd87\" to \"sd87, padicIMA\".",
    "created_at": "2018-07-22T20:22:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441703",
    "user": "https://github.com/roed314"
}
```

Changing keywords from "sd87" to "sd87, padicIMA".



---

archive/issue_comments_441704.json:
```json
{
    "body": "Changing branch from \"u/roed/padic_hermite\" to \"u/caruso/padic_hermite\"",
    "created_at": "2018-07-25T22:35:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441704",
    "user": "https://github.com/xcaruso"
}
```

Changing branch from "u/roed/padic_hermite" to "u/caruso/padic_hermite"



---

archive/issue_comments_441705.json:
```json
{
    "body": "Changing commit from \"190ba1bf1b68eb012e7b42900a7fd50096860b07\" to \"8bf47ee19f44ee40782082fcbff5c09b76e66d17\"",
    "created_at": "2018-07-25T22:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441705",
    "user": "https://github.com/xcaruso"
}
```

Changing commit from "190ba1bf1b68eb012e7b42900a7fd50096860b07" to "8bf47ee19f44ee40782082fcbff5c09b76e66d17"



---

archive/issue_comments_441706.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-25T22:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441706",
    "user": "https://github.com/xcaruso"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_441707.json:
```json
{
    "body": "<a id='comment:17'></a>\nNew commits:\n|                                                                                                                                          |                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[8bf47ee](https://git.sagemath.org/sage.git/commit?id=8bf47ee19f44ee40782082fcbff5c09b76e66d17)|`Merge branch '8.3.rc1' into t/23486/padic_hermite`|",
    "created_at": "2018-07-25T22:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441707",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:17'></a>
New commits:
|                                                                                                                                          |                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[8bf47ee](https://git.sagemath.org/sage.git/commit?id=8bf47ee19f44ee40782082fcbff5c09b76e66d17)|`Merge branch '8.3.rc1' into t/23486/padic_hermite`|



---

archive/issue_comments_441708.json:
```json
{
    "body": "Changing keywords from \"sd87, padicIMA\" to \"sd87, padicIMA, padicBordeaux\".",
    "created_at": "2019-09-07T09:52:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441708",
    "user": "https://github.com/roed314"
}
```

Changing keywords from "sd87, padicIMA" to "sd87, padicIMA, padicBordeaux".



---

archive/issue_comments_441709.json:
```json
{
    "body": "Changing branch from \"u/caruso/padic_hermite\" to \"u/roed/padic_hermite\"",
    "created_at": "2019-09-09T09:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441709",
    "user": "https://github.com/roed314"
}
```

Changing branch from "u/caruso/padic_hermite" to "u/roed/padic_hermite"



---

archive/issue_comments_441710.json:
```json
{
    "body": "<a id='comment:20'></a>\nI merged in the latest beta, but this still needs to be reconciled with #17272.  I think there are features here that we want that weren't done by #17272 (for example, when the base ring is Zp), so this ticket should remain open.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|\n|[e522c94](https://git.sagemath.org/sage.git/commit?id=e522c94b89719bc51d7069cf0b682968814ff449)|`Merge branch 'u/caruso/padic_hermite' of git://trac.sagemath.org/sage into 23486_padic_hermite`|",
    "created_at": "2019-09-09T09:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441710",
    "user": "https://github.com/roed314"
}
```

<a id='comment:20'></a>
I merged in the latest beta, but this still needs to be reconciled with #17272.  I think there are features here that we want that weren't done by #17272 (for example, when the base ring is Zp), so this ticket should remain open.

---
New commits:
|                                                                                                                                          |                                                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|
|[e522c94](https://git.sagemath.org/sage.git/commit?id=e522c94b89719bc51d7069cf0b682968814ff449)|`Merge branch 'u/caruso/padic_hermite' of git://trac.sagemath.org/sage into 23486_padic_hermite`|



---

archive/issue_comments_441711.json:
```json
{
    "body": "Changing commit from \"8bf47ee19f44ee40782082fcbff5c09b76e66d17\" to \"e522c94b89719bc51d7069cf0b682968814ff449\"",
    "created_at": "2019-09-09T09:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441711",
    "user": "https://github.com/roed314"
}
```

Changing commit from "8bf47ee19f44ee40782082fcbff5c09b76e66d17" to "e522c94b89719bc51d7069cf0b682968814ff449"



---

archive/issue_comments_441712.json:
```json
{
    "body": "Changing branch from \"u/roed/padic_hermite\" to \"u/caruso/padic_hermite\"",
    "created_at": "2022-02-12T08:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441712",
    "user": "https://github.com/xcaruso"
}
```

Changing branch from "u/roed/padic_hermite" to "u/caruso/padic_hermite"



---

archive/issue_comments_441713.json:
```json
{
    "body": "Changing commit from \"e522c94b89719bc51d7069cf0b682968814ff449\" to \"d4e1d54fe4d4de8da62fe5a478a98091bb84cbfa\"",
    "created_at": "2022-02-14T13:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441713",
    "user": "https://github.com/xcaruso"
}
```

Changing commit from "e522c94b89719bc51d7069cf0b682968814ff449" to "d4e1d54fe4d4de8da62fe5a478a98091bb84cbfa"



---

archive/issue_comments_441714.json:
```json
{
    "body": "<a id='comment:22'></a>\nI noticed that there is a lot of variations between the way operations over matrices are designed:\n- `echelon_form` is directly implemented in the class `sage.matrix.matrix2.Matrix`\n- `smith_form` calls the method `_matrix_smith_form` of the base ring; concretely, this method is implemented in the class `sage.rings.padics.local_generic.LocalGeneric`\n- `hessenberg_form` calls the method `_matrix_hessenbergize` of the base ring; this method is defined in the category `sage.categories.discrete_valuation.DiscreteValuationFields` and concretely implemented in the separate file `sage.matrix.matrix_cdv`.\n\nI think it would be a good thing to uniformize all of this and, personally, I have a small preference for the third approach. What's your opinion?\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|\n|[d4e1d54](https://git.sagemath.org/sage.git/commit?id=d4e1d54fe4d4de8da62fe5a478a98091bb84cbfa)|`Merge branch 'u/roed/padic_hermite' of git://trac.sagemath.org/sage into echelon_form`|",
    "created_at": "2022-02-14T13:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441714",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:22'></a>
I noticed that there is a lot of variations between the way operations over matrices are designed:
- `echelon_form` is directly implemented in the class `sage.matrix.matrix2.Matrix`
- `smith_form` calls the method `_matrix_smith_form` of the base ring; concretely, this method is implemented in the class `sage.rings.padics.local_generic.LocalGeneric`
- `hessenberg_form` calls the method `_matrix_hessenbergize` of the base ring; this method is defined in the category `sage.categories.discrete_valuation.DiscreteValuationFields` and concretely implemented in the separate file `sage.matrix.matrix_cdv`.

I think it would be a good thing to uniformize all of this and, personally, I have a small preference for the third approach. What's your opinion?

---
New commits:
|                                                                                                                                          |                                                                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
|[d4e1d54](https://git.sagemath.org/sage.git/commit?id=d4e1d54fe4d4de8da62fe5a478a98091bb84cbfa)|`Merge branch 'u/roed/padic_hermite' of git://trac.sagemath.org/sage into echelon_form`|



---

archive/issue_comments_441715.json:
```json
{
    "body": "Changing commit from \"d4e1d54fe4d4de8da62fe5a478a98091bb84cbfa\" to \"20db181c70ca931f91b82fdf6d22a867a1cc718a\"",
    "created_at": "2022-02-14T13:28:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441715",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d4e1d54fe4d4de8da62fe5a478a98091bb84cbfa" to "20db181c70ca931f91b82fdf6d22a867a1cc718a"



---

archive/issue_comments_441716.json:
```json
{
    "body": "<a id='comment:23'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[20db181](https://git.sagemath.org/sage.git/commit/?id=20db181c70ca931f91b82fdf6d22a867a1cc718a)|`Merge branch 'develop' into echelon_form`|",
    "created_at": "2022-02-14T13:28:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441716",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[20db181](https://git.sagemath.org/sage.git/commit/?id=20db181c70ca931f91b82fdf6d22a867a1cc718a)|`Merge branch 'develop' into echelon_form`|



---

archive/issue_comments_441717.json:
```json
{
    "body": "Changing commit from \"20db181c70ca931f91b82fdf6d22a867a1cc718a\" to \"0b3920e84f24497bd6fc2149c9f3a3271121f186\"",
    "created_at": "2022-02-16T17:36:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441717",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "20db181c70ca931f91b82fdf6d22a867a1cc718a" to "0b3920e84f24497bd6fc2149c9f3a3271121f186"



---

archive/issue_comments_441718.json:
```json
{
    "body": "<a id='comment:24'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[6935c3c](https://git.sagemath.org/sage.git/commit/?id=6935c3c609513f61d1440ab6869f57f12cd2318d)|`refactor smith form and Hermite form`|\n|[5087deb](https://git.sagemath.org/sage.git/commit/?id=5087debc1659ddad08da443ab930fc7d4570f6b5)|`echelon form`|\n|[0c14b2a](https://git.sagemath.org/sage.git/commit/?id=0c14b2a34afddcbddf9be80ca4e21310315ffb2a)|`add documentation`|\n|[0b3920e](https://git.sagemath.org/sage.git/commit/?id=0b3920e84f24497bd6fc2149c9f3a3271121f186)|`add function _matrix_determinant`|",
    "created_at": "2022-02-16T17:36:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441718",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[6935c3c](https://git.sagemath.org/sage.git/commit/?id=6935c3c609513f61d1440ab6869f57f12cd2318d)|`refactor smith form and Hermite form`|
|[5087deb](https://git.sagemath.org/sage.git/commit/?id=5087debc1659ddad08da443ab930fc7d4570f6b5)|`echelon form`|
|[0c14b2a](https://git.sagemath.org/sage.git/commit/?id=0c14b2a34afddcbddf9be80ca4e21310315ffb2a)|`add documentation`|
|[0b3920e](https://git.sagemath.org/sage.git/commit/?id=0b3920e84f24497bd6fc2149c9f3a3271121f186)|`add function _matrix_determinant`|



---

archive/issue_comments_441719.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-02-16T17:43:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441719",
    "user": "https://github.com/xcaruso"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_441720.json:
```json
{
    "body": "<a id='comment:25'></a>\nI followed the third approach: I put everything in the category and put the code in a separate `pyx` file. So far, most of the code is written in pure python; maybe we should move to cython at some point.\n\nThere is some code duplication due to the fact that we have separate categories for discrete valuation rings and fields but not a common category for both.\n\nAnyway, everything is supposed over all types of p-adics as well as over power series and Laurent series rings. Moreover, with the general machinery already provided by sage, this is enough to manipulate free modules over those rings, including then lattices in finite dimensional p-adic vector spaces.",
    "created_at": "2022-02-16T17:43:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441720",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:25'></a>
I followed the third approach: I put everything in the category and put the code in a separate `pyx` file. So far, most of the code is written in pure python; maybe we should move to cython at some point.

There is some code duplication due to the fact that we have separate categories for discrete valuation rings and fields but not a common category for both.

Anyway, everything is supposed over all types of p-adics as well as over power series and Laurent series rings. Moreover, with the general machinery already provided by sage, this is enough to manipulate free modules over those rings, including then lattices in finite dimensional p-adic vector spaces.



---

archive/issue_comments_441721.json:
```json
{
    "body": "Changing commit from \"0b3920e84f24497bd6fc2149c9f3a3271121f186\" to \"59a46323ac01513a7283237b85a73d99debdfbc5\"",
    "created_at": "2022-02-16T17:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441721",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0b3920e84f24497bd6fc2149c9f3a3271121f186" to "59a46323ac01513a7283237b85a73d99debdfbc5"



---

archive/issue_comments_441722.json:
```json
{
    "body": "<a id='comment:26'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[59a4632](https://git.sagemath.org/sage.git/commit/?id=59a46323ac01513a7283237b85a73d99debdfbc5)|`remove obsolete file matrix_cdv_dense.py`|",
    "created_at": "2022-02-16T17:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441722",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[59a4632](https://git.sagemath.org/sage.git/commit/?id=59a46323ac01513a7283237b85a73d99debdfbc5)|`remove obsolete file matrix_cdv_dense.py`|



---

archive/issue_comments_441723.json:
```json
{
    "body": "<a id='comment:27'></a>\nHave you considered putting things into a `.py` file instead? I don't think that it makes a real difference in terms of performance (and I am struggling right now to debug an (unrelated) call that uses too much Cython ;) )",
    "created_at": "2022-02-16T19:54:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441723",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:27'></a>
Have you considered putting things into a `.py` file instead? I don't think that it makes a real difference in terms of performance (and I am struggling right now to debug an (unrelated) call that uses too much Cython ;) )



---

archive/issue_comments_441724.json:
```json
{
    "body": "<a id='comment:28'></a>\nThe point is that `matrix_cdv.pyx` already exists with some cython code inside. But I can probably split the file in two parts and call them `matrix_cdv_python` and `matrix_cdv_cython`.",
    "created_at": "2022-02-16T19:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441724",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:28'></a>
The point is that `matrix_cdv.pyx` already exists with some cython code inside. But I can probably split the file in two parts and call them `matrix_cdv_python` and `matrix_cdv_cython`.



---

archive/issue_comments_441725.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-02-19T19:24:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441725",
    "user": "https://github.com/xcaruso"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_441726.json:
```json
{
    "body": "<a id='comment:29'></a>\nThe patchbot reported a lot of doctest failures... :-(",
    "created_at": "2022-02-19T19:24:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441726",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:29'></a>
The patchbot reported a lot of doctest failures... :-(



---

archive/issue_comments_441727.json:
```json
{
    "body": "Changing commit from \"59a46323ac01513a7283237b85a73d99debdfbc5\" to \"832813b29edc4bb279853c6f7c56fff82c0ee155\"",
    "created_at": "2022-02-20T09:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441727",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "59a46323ac01513a7283237b85a73d99debdfbc5" to "832813b29edc4bb279853c6f7c56fff82c0ee155"



---

archive/issue_comments_441728.json:
```json
{
    "body": "<a id='comment:30'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[832813b](https://git.sagemath.org/sage.git/commit/?id=832813b29edc4bb279853c6f7c56fff82c0ee155)|`raise a TypeError instead of an ArithmeticError`|",
    "created_at": "2022-02-20T09:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441728",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[832813b](https://git.sagemath.org/sage.git/commit/?id=832813b29edc4bb279853c6f7c56fff82c0ee155)|`raise a TypeError instead of an ArithmeticError`|



---

archive/issue_comments_441729.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-02-20T09:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441729",
    "user": "https://github.com/xcaruso"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_441730.json:
```json
{
    "body": "Changing commit from \"832813b29edc4bb279853c6f7c56fff82c0ee155\" to \"2cffd3f000e6a17797fe80e235d6b6f73cd5f632\"",
    "created_at": "2022-02-20T09:22:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441730",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "832813b29edc4bb279853c6f7c56fff82c0ee155" to "2cffd3f000e6a17797fe80e235d6b6f73cd5f632"



---

archive/issue_comments_441731.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------|\n|[2cffd3f](https://git.sagemath.org/sage.git/commit/?id=2cffd3f000e6a17797fe80e235d6b6f73cd5f632)|`fix pyflakes`|",
    "created_at": "2022-02-20T09:22:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441731",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |              |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------|
|[2cffd3f](https://git.sagemath.org/sage.git/commit/?id=2cffd3f000e6a17797fe80e235d6b6f73cd5f632)|`fix pyflakes`|



---

archive/issue_comments_441732.json:
```json
{
    "body": "<a id='comment:33'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------|\n|[ac8abe9](https://git.sagemath.org/sage.git/commit/?id=ac8abe96cf5eb30f9c7138097d615effc33a4efb)|`more doctests`|",
    "created_at": "2022-02-20T09:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441732",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|[ac8abe9](https://git.sagemath.org/sage.git/commit/?id=ac8abe96cf5eb30f9c7138097d615effc33a4efb)|`more doctests`|



---

archive/issue_comments_441733.json:
```json
{
    "body": "Changing commit from \"2cffd3f000e6a17797fe80e235d6b6f73cd5f632\" to \"ac8abe96cf5eb30f9c7138097d615effc33a4efb\"",
    "created_at": "2022-02-20T09:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441733",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2cffd3f000e6a17797fe80e235d6b6f73cd5f632" to "ac8abe96cf5eb30f9c7138097d615effc33a4efb"



---

archive/issue_comments_441734.json:
```json
{
    "body": "<a id='comment:34'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------|\n|[dc9f77f](https://git.sagemath.org/sage.git/commit/?id=dc9f77f45b77ba70e2ba8e86779389c8d30ef1fc)|`minor fixes`|",
    "created_at": "2022-02-20T16:05:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441734",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------|
|[dc9f77f](https://git.sagemath.org/sage.git/commit/?id=dc9f77f45b77ba70e2ba8e86779389c8d30ef1fc)|`minor fixes`|



---

archive/issue_comments_441735.json:
```json
{
    "body": "Changing commit from \"ac8abe96cf5eb30f9c7138097d615effc33a4efb\" to \"dc9f77f45b77ba70e2ba8e86779389c8d30ef1fc\"",
    "created_at": "2022-02-20T16:05:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441735",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ac8abe96cf5eb30f9c7138097d615effc33a4efb" to "dc9f77f45b77ba70e2ba8e86779389c8d30ef1fc"



---

archive/issue_comments_441736.json:
```json
{
    "body": "Changing commit from \"dc9f77f45b77ba70e2ba8e86779389c8d30ef1fc\" to \"6d7e43e8134c061b464c86cd7e085637456b61ce\"",
    "created_at": "2022-02-20T20:40:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441736",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dc9f77f45b77ba70e2ba8e86779389c8d30ef1fc" to "6d7e43e8134c061b464c86cd7e085637456b61ce"



---

archive/issue_comments_441737.json:
```json
{
    "body": "<a id='comment:35'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[6d7e43e](https://git.sagemath.org/sage.git/commit/?id=6d7e43e8134c061b464c86cd7e085637456b61ce)|`Merge branch 'develop' into echelon_form`|",
    "created_at": "2022-02-20T20:40:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441737",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[6d7e43e](https://git.sagemath.org/sage.git/commit/?id=6d7e43e8134c061b464c86cd7e085637456b61ce)|`Merge branch 'develop' into echelon_form`|



---

archive/issue_comments_441738.json:
```json
{
    "body": "<a id='comment:36'></a>\nHere are the test failures when I ran tests locally:\n\n```\nDoctesting 7 files using 64 threads.\nsage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/matrix/matrix_cdv.pxd\n    [0 tests, 0.00 s]\nsage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/matrix/matrix2.pxd\n    [0 tests, 0.00 s]\nsage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/matrix/matrix_cdv.pyx\n**********************************************************************\nFile \"src/sage/matrix/matrix_cdv.pyx\", line 710, in sage.matrix.matrix_cdv.hessenbergize_cdvf\nFailed example:\n    M.charpoly()\nExpected:\n    x^3 + (1 + 4*t + 4*t^2 + O(t^3))*x^2 + (t + 2*t^2 + O(t^3))*x + 3 + 2*t^2 + O(t^3)\nGot:\n    x^3 + (1 + 4*t + 4*t^2 + O(t^4))*x^2 + (t + 2*t^2 + O(t^3))*x + 3 + 2*t^2 + O(t^3)\n**********************************************************************\n1 item had failures:\n   1 of  11 in sage.matrix.matrix_cdv.hessenbergize_cdvf\n    [41 tests, 1 failure, 0.08 s]\nsage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/rings/laurent_series_ring.py\n**********************************************************************\nFile \"src/sage/rings/laurent_series_ring.py\", line 119, in sage.rings.laurent_series_ring.LaurentSeriesRing\nFailed example:\n    TestSuite(F).run()\nExpected nothing\nGot:\n    Failure in _test_euclidean_degree:\n    Traceback (most recent call last):\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py\", line 297, in run\n        test_method(tester=tester)\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/euclidean_domains.py\", line 155, in _test_euclidean_degree\n        tester.assertEqual(a.euclidean_degree() == min_degree, a.is_unit())\n      File \"/usr/lib/python3.8/unittest/case.py\", line 912, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/usr/lib/python3.8/unittest/case.py\", line 905, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: False != True\n    ------------------------------------------------------------\n    Failure in _test_gcd_vs_xgcd:\n    Traceback (most recent call last):\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py\", line 297, in run\n        test_method(tester=tester)\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/principal_ideal_domains.py\", line 119, in _test_gcd_vs_xgcd\n        tester.assertTrue(gcd==xgcd[0],\n      File \"/usr/lib/python3.8/unittest/case.py\", line 765, in assertTrue\n        raise self.failureException(msg)\n    AssertionError: The methods gcd and xgcd disagree on Laurent Series Ring in x over Rational Field:\n      gcd(x,x) = x\n     xgcd(x,x) = (1, x^-1, 0)\n    ------------------------------------------------------------\n    Failure in _test_matrix_smith:\n    Traceback (most recent call last):\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py\", line 297, in run\n        test_method(tester=tester)\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/complete_discrete_valuation.py\", line 304, in _test_matrix_smith\n        tester.assertEqual(U.base_ring(), base)\n      File \"/usr/lib/python3.8/unittest/case.py\", line 912, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/usr/lib/python3.8/unittest/case.py\", line 905, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: Laurent Series Ring in x over Rational Field != Power Series Ring in x over Rational Field\n    ------------------------------------------------------------\n    The following tests failed: _test_euclidean_degree, _test_gcd_vs_xgcd, _test_matrix_smith\n**********************************************************************\nFile \"src/sage/rings/laurent_series_ring.py\", line 128, in sage.rings.laurent_series_ring.LaurentSeriesRing\nFailed example:\n    F.category()\nExpected:\n    Join of Category of complete discrete valuation fields and Category of commutative algebras over (finite enumerated fields and subquotients of monoids and quotients of semigroups) and Category of infinite sets\nGot:\n    Join of Category of complete discrete valuation rings and Category of commutative algebras over (finite enumerated fields and subquotients of monoids and quotients of semigroups) and Category of infinite sets\n**********************************************************************\nFile \"src/sage/rings/laurent_series_ring.py\", line 130, in sage.rings.laurent_series_ring.LaurentSeriesRing\nFailed example:\n    TestSuite(F).run()\nExpected nothing\nGot:\n    Failure in _test_euclidean_degree:\n    Traceback (most recent call last):\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py\", line 297, in run\n        test_method(tester=tester)\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/euclidean_domains.py\", line 155, in _test_euclidean_degree\n        tester.assertEqual(a.euclidean_degree() == min_degree, a.is_unit())\n      File \"/usr/lib/python3.8/unittest/case.py\", line 912, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/usr/lib/python3.8/unittest/case.py\", line 905, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: False != True\n    ------------------------------------------------------------\n    Failure in _test_gcd_vs_xgcd:\n    Traceback (most recent call last):\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py\", line 297, in run\n        test_method(tester=tester)\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/principal_ideal_domains.py\", line 119, in _test_gcd_vs_xgcd\n        tester.assertTrue(gcd==xgcd[0],\n      File \"/usr/lib/python3.8/unittest/case.py\", line 765, in assertTrue\n        raise self.failureException(msg)\n    AssertionError: The methods gcd and xgcd disagree on Laurent Series Ring in x over Finite Field of size 11:\n      gcd(x,x) = x\n     xgcd(x,x) = (1, x^-1, 0)\n    ------------------------------------------------------------\n    Failure in _test_matrix_smith:\n    Traceback (most recent call last):\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py\", line 297, in run\n        test_method(tester=tester)\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/complete_discrete_valuation.py\", line 304, in _test_matrix_smith\n        tester.assertEqual(U.base_ring(), base)\n      File \"/usr/lib/python3.8/unittest/case.py\", line 912, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/usr/lib/python3.8/unittest/case.py\", line 905, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: Laurent Series Ring in x over Finite Field of size 11 != Power Series Ring in x over Finite Field of size 11\n    ------------------------------------------------------------\n    The following tests failed: _test_euclidean_degree, _test_gcd_vs_xgcd, _test_matrix_smith\n**********************************************************************\nFile \"src/sage/rings/laurent_series_ring.py\", line 151, in sage.rings.laurent_series_ring.LaurentSeriesRing\nFailed example:\n    LaurentSeriesRing(QQ, 'x').category()\nExpected:\n    Join of Category of complete discrete valuation fields and Category of commutative algebras over (number fields and quotient fields and metric spaces) and Category of infinite sets\nGot:\n    Join of Category of complete discrete valuation rings and Category of fields and Category of commutative algebras over (number fields and quotient fields and metric spaces) and Category of infinite sets\n**********************************************************************\nFile \"src/sage/rings/laurent_series_ring.py\", line 227, in sage.rings.laurent_series_ring.LaurentSeriesRing.__init__\nFailed example:\n    R2.category()\nExpected:\n    Join of Category of complete discrete valuation fields and Category of commutative algebras over (finite enumerated fields and subquotients of monoids and quotients of semigroups) and Category of infinite sets\nGot:\n    Join of Category of complete discrete valuation rings and Category of commutative algebras over (finite enumerated fields and subquotients of monoids and quotients of semigroups) and Category of infinite sets\n**********************************************************************\nFile \"src/sage/rings/laurent_series_ring.py\", line 229, in sage.rings.laurent_series_ring.LaurentSeriesRing.__init__\nFailed example:\n    TestSuite(R2).run()\nExpected nothing\nGot:\n    Failure in _test_euclidean_degree:\n    Traceback (most recent call last):\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py\", line 297, in run\n        test_method(tester=tester)\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/euclidean_domains.py\", line 155, in _test_euclidean_degree\n        tester.assertEqual(a.euclidean_degree() == min_degree, a.is_unit())\n      File \"/usr/lib/python3.8/unittest/case.py\", line 912, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/usr/lib/python3.8/unittest/case.py\", line 905, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: False != True\n    ------------------------------------------------------------\n    Failure in _test_gcd_vs_xgcd:\n    Traceback (most recent call last):\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py\", line 297, in run\n        test_method(tester=tester)\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/principal_ideal_domains.py\", line 119, in _test_gcd_vs_xgcd\n        tester.assertTrue(gcd==xgcd[0],\n      File \"/usr/lib/python3.8/unittest/case.py\", line 765, in assertTrue\n        raise self.failureException(msg)\n    AssertionError: The methods gcd and xgcd disagree on Laurent Series Ring in t over Ring of integers modulo 2:\n      gcd(t,t) = t\n     xgcd(t,t) = (1, t^-1, 0)\n    ------------------------------------------------------------\n    Failure in _test_matrix_smith:\n    Traceback (most recent call last):\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py\", line 297, in run\n        test_method(tester=tester)\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/complete_discrete_valuation.py\", line 304, in _test_matrix_smith\n        tester.assertEqual(U.base_ring(), base)\n      File \"/usr/lib/python3.8/unittest/case.py\", line 912, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/usr/lib/python3.8/unittest/case.py\", line 905, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: Laurent Series Ring in t over Ring of integers modulo 2 != Power Series Ring in t over Ring of integers modulo 2\n    ------------------------------------------------------------\n    The following tests failed: _test_euclidean_degree, _test_gcd_vs_xgcd, _test_matrix_smith\n**********************************************************************\nFile \"src/sage/rings/laurent_series_ring.py\", line 237, in sage.rings.laurent_series_ring.LaurentSeriesRing.__init__\nFailed example:\n    RQQ.category()\nExpected:\n    Join of Category of complete discrete valuation fields and Category of commutative algebras over (number fields and quotient fields and metric spaces) and Category of infinite sets\nGot:\n    Join of Category of complete discrete valuation rings and Category of commutative algebras over (number fields and quotient fields and metric spaces) and Category of infinite sets\n**********************************************************************\nFile \"src/sage/rings/laurent_series_ring.py\", line 239, in sage.rings.laurent_series_ring.LaurentSeriesRing.__init__\nFailed example:\n    TestSuite(RQQ).run()\nExpected nothing\nGot:\n    Failure in _test_euclidean_degree:\n    Traceback (most recent call last):\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py\", line 297, in run\n        test_method(tester=tester)\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/euclidean_domains.py\", line 155, in _test_euclidean_degree\n        tester.assertEqual(a.euclidean_degree() == min_degree, a.is_unit())\n      File \"/usr/lib/python3.8/unittest/case.py\", line 912, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/usr/lib/python3.8/unittest/case.py\", line 905, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: False != True\n    ------------------------------------------------------------\n    Failure in _test_gcd_vs_xgcd:\n    Traceback (most recent call last):\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py\", line 297, in run\n        test_method(tester=tester)\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/principal_ideal_domains.py\", line 119, in _test_gcd_vs_xgcd\n        tester.assertTrue(gcd==xgcd[0],\n      File \"/usr/lib/python3.8/unittest/case.py\", line 765, in assertTrue\n        raise self.failureException(msg)\n    AssertionError: The methods gcd and xgcd disagree on Laurent Series Ring in t over Rational Field:\n      gcd(t,t) = t\n     xgcd(t,t) = (1, t^-1, 0)\n    ------------------------------------------------------------\n    Failure in _test_matrix_smith:\n    Traceback (most recent call last):\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py\", line 297, in run\n        test_method(tester=tester)\n      File \"/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/complete_discrete_valuation.py\", line 304, in _test_matrix_smith\n        tester.assertEqual(U.base_ring(), base)\n      File \"/usr/lib/python3.8/unittest/case.py\", line 912, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/usr/lib/python3.8/unittest/case.py\", line 905, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: Laurent Series Ring in t over Rational Field != Power Series Ring in t over Rational Field\n    ------------------------------------------------------------\n    The following tests failed: _test_euclidean_degree, _test_gcd_vs_xgcd, _test_matrix_smith\n**********************************************************************\n2 items had failures:\n   4 of  43 in sage.rings.laurent_series_ring.LaurentSeriesRing\n   4 of  18 in sage.rings.laurent_series_ring.LaurentSeriesRing.__init__\n    [182 tests, 8 failures, 0.21 s]\nsage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/rings/multi_power_series_ring_element.py\n**********************************************************************\nFile \"src/sage/rings/multi_power_series_ring_element.py\", line 1081, in sage.rings.multi_power_series_ring_element.MPowerSeries.__mod__\nFailed example:\n    g in R\nExpected:\n    False\nGot:\n    True\n**********************************************************************\n1 item had failures:\n   1 of   7 in sage.rings.multi_power_series_ring_element.MPowerSeries.__mod__\n    [466 tests, 1 failure, 0.27 s]\nsage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/categories/complete_discrete_valuation.py\n**********************************************************************\nFile \"src/sage/categories/complete_discrete_valuation.py\", line 621, in sage.categories.complete_discrete_valuation.CompleteDiscreteValuationFields\nFailed example:\n    LaurentSeriesRing(QQ,'u') in CompleteDiscreteValuationFields()\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n1 item had failures:\n   1 of   6 in sage.categories.complete_discrete_valuation.CompleteDiscreteValuationFields\n    [200 tests, 1 failure, 0.24 s]\nsage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/matrix/matrix2.pyx\n**********************************************************************\nFile \"src/sage/matrix/matrix2.pyx\", line 9855, in sage.matrix.matrix2.Matrix.inverse\nFailed example:\n    ~M\nExpected:\n    [t^-1 t^-2]\n    [   0 t^-1]\nGot:\n    [1 0]\n    [0 1]\n**********************************************************************\n1 item had failures:\n   1 of  13 in sage.matrix.matrix2.Matrix.inverse\n    [2807 tests, 1 failure, 8.67 s]\n----------------------------------------------------------------------\nsage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/matrix/matrix_cdv.pyx  # 1 doctest failed\nsage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/rings/laurent_series_ring.py  # 8 doctests failed\nsage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/rings/multi_power_series_ring_element.py  # 1 doctest failed\nsage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/categories/complete_discrete_valuation.py  # 1 doctest failed\nsage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/matrix/matrix2.pyx  # 1 doctest failed\n```",
    "created_at": "2022-02-20T21:28:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441738",
    "user": "https://github.com/roed314"
}
```

<a id='comment:36'></a>
Here are the test failures when I ran tests locally:

```
Doctesting 7 files using 64 threads.
sage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/matrix/matrix_cdv.pxd
    [0 tests, 0.00 s]
sage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/matrix/matrix2.pxd
    [0 tests, 0.00 s]
sage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/matrix/matrix_cdv.pyx
**********************************************************************
File "src/sage/matrix/matrix_cdv.pyx", line 710, in sage.matrix.matrix_cdv.hessenbergize_cdvf
Failed example:
    M.charpoly()
Expected:
    x^3 + (1 + 4*t + 4*t^2 + O(t^3))*x^2 + (t + 2*t^2 + O(t^3))*x + 3 + 2*t^2 + O(t^3)
Got:
    x^3 + (1 + 4*t + 4*t^2 + O(t^4))*x^2 + (t + 2*t^2 + O(t^3))*x + 3 + 2*t^2 + O(t^3)
**********************************************************************
1 item had failures:
   1 of  11 in sage.matrix.matrix_cdv.hessenbergize_cdvf
    [41 tests, 1 failure, 0.08 s]
sage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/rings/laurent_series_ring.py
**********************************************************************
File "src/sage/rings/laurent_series_ring.py", line 119, in sage.rings.laurent_series_ring.LaurentSeriesRing
Failed example:
    TestSuite(F).run()
Expected nothing
Got:
    Failure in _test_euclidean_degree:
    Traceback (most recent call last):
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py", line 297, in run
        test_method(tester=tester)
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/euclidean_domains.py", line 155, in _test_euclidean_degree
        tester.assertEqual(a.euclidean_degree() == min_degree, a.is_unit())
      File "/usr/lib/python3.8/unittest/case.py", line 912, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/usr/lib/python3.8/unittest/case.py", line 905, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: False != True
    ------------------------------------------------------------
    Failure in _test_gcd_vs_xgcd:
    Traceback (most recent call last):
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py", line 297, in run
        test_method(tester=tester)
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/principal_ideal_domains.py", line 119, in _test_gcd_vs_xgcd
        tester.assertTrue(gcd==xgcd[0],
      File "/usr/lib/python3.8/unittest/case.py", line 765, in assertTrue
        raise self.failureException(msg)
    AssertionError: The methods gcd and xgcd disagree on Laurent Series Ring in x over Rational Field:
      gcd(x,x) = x
     xgcd(x,x) = (1, x^-1, 0)
    ------------------------------------------------------------
    Failure in _test_matrix_smith:
    Traceback (most recent call last):
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py", line 297, in run
        test_method(tester=tester)
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/complete_discrete_valuation.py", line 304, in _test_matrix_smith
        tester.assertEqual(U.base_ring(), base)
      File "/usr/lib/python3.8/unittest/case.py", line 912, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/usr/lib/python3.8/unittest/case.py", line 905, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: Laurent Series Ring in x over Rational Field != Power Series Ring in x over Rational Field
    ------------------------------------------------------------
    The following tests failed: _test_euclidean_degree, _test_gcd_vs_xgcd, _test_matrix_smith
**********************************************************************
File "src/sage/rings/laurent_series_ring.py", line 128, in sage.rings.laurent_series_ring.LaurentSeriesRing
Failed example:
    F.category()
Expected:
    Join of Category of complete discrete valuation fields and Category of commutative algebras over (finite enumerated fields and subquotients of monoids and quotients of semigroups) and Category of infinite sets
Got:
    Join of Category of complete discrete valuation rings and Category of commutative algebras over (finite enumerated fields and subquotients of monoids and quotients of semigroups) and Category of infinite sets
**********************************************************************
File "src/sage/rings/laurent_series_ring.py", line 130, in sage.rings.laurent_series_ring.LaurentSeriesRing
Failed example:
    TestSuite(F).run()
Expected nothing
Got:
    Failure in _test_euclidean_degree:
    Traceback (most recent call last):
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py", line 297, in run
        test_method(tester=tester)
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/euclidean_domains.py", line 155, in _test_euclidean_degree
        tester.assertEqual(a.euclidean_degree() == min_degree, a.is_unit())
      File "/usr/lib/python3.8/unittest/case.py", line 912, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/usr/lib/python3.8/unittest/case.py", line 905, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: False != True
    ------------------------------------------------------------
    Failure in _test_gcd_vs_xgcd:
    Traceback (most recent call last):
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py", line 297, in run
        test_method(tester=tester)
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/principal_ideal_domains.py", line 119, in _test_gcd_vs_xgcd
        tester.assertTrue(gcd==xgcd[0],
      File "/usr/lib/python3.8/unittest/case.py", line 765, in assertTrue
        raise self.failureException(msg)
    AssertionError: The methods gcd and xgcd disagree on Laurent Series Ring in x over Finite Field of size 11:
      gcd(x,x) = x
     xgcd(x,x) = (1, x^-1, 0)
    ------------------------------------------------------------
    Failure in _test_matrix_smith:
    Traceback (most recent call last):
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py", line 297, in run
        test_method(tester=tester)
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/complete_discrete_valuation.py", line 304, in _test_matrix_smith
        tester.assertEqual(U.base_ring(), base)
      File "/usr/lib/python3.8/unittest/case.py", line 912, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/usr/lib/python3.8/unittest/case.py", line 905, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: Laurent Series Ring in x over Finite Field of size 11 != Power Series Ring in x over Finite Field of size 11
    ------------------------------------------------------------
    The following tests failed: _test_euclidean_degree, _test_gcd_vs_xgcd, _test_matrix_smith
**********************************************************************
File "src/sage/rings/laurent_series_ring.py", line 151, in sage.rings.laurent_series_ring.LaurentSeriesRing
Failed example:
    LaurentSeriesRing(QQ, 'x').category()
Expected:
    Join of Category of complete discrete valuation fields and Category of commutative algebras over (number fields and quotient fields and metric spaces) and Category of infinite sets
Got:
    Join of Category of complete discrete valuation rings and Category of fields and Category of commutative algebras over (number fields and quotient fields and metric spaces) and Category of infinite sets
**********************************************************************
File "src/sage/rings/laurent_series_ring.py", line 227, in sage.rings.laurent_series_ring.LaurentSeriesRing.__init__
Failed example:
    R2.category()
Expected:
    Join of Category of complete discrete valuation fields and Category of commutative algebras over (finite enumerated fields and subquotients of monoids and quotients of semigroups) and Category of infinite sets
Got:
    Join of Category of complete discrete valuation rings and Category of commutative algebras over (finite enumerated fields and subquotients of monoids and quotients of semigroups) and Category of infinite sets
**********************************************************************
File "src/sage/rings/laurent_series_ring.py", line 229, in sage.rings.laurent_series_ring.LaurentSeriesRing.__init__
Failed example:
    TestSuite(R2).run()
Expected nothing
Got:
    Failure in _test_euclidean_degree:
    Traceback (most recent call last):
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py", line 297, in run
        test_method(tester=tester)
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/euclidean_domains.py", line 155, in _test_euclidean_degree
        tester.assertEqual(a.euclidean_degree() == min_degree, a.is_unit())
      File "/usr/lib/python3.8/unittest/case.py", line 912, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/usr/lib/python3.8/unittest/case.py", line 905, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: False != True
    ------------------------------------------------------------
    Failure in _test_gcd_vs_xgcd:
    Traceback (most recent call last):
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py", line 297, in run
        test_method(tester=tester)
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/principal_ideal_domains.py", line 119, in _test_gcd_vs_xgcd
        tester.assertTrue(gcd==xgcd[0],
      File "/usr/lib/python3.8/unittest/case.py", line 765, in assertTrue
        raise self.failureException(msg)
    AssertionError: The methods gcd and xgcd disagree on Laurent Series Ring in t over Ring of integers modulo 2:
      gcd(t,t) = t
     xgcd(t,t) = (1, t^-1, 0)
    ------------------------------------------------------------
    Failure in _test_matrix_smith:
    Traceback (most recent call last):
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py", line 297, in run
        test_method(tester=tester)
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/complete_discrete_valuation.py", line 304, in _test_matrix_smith
        tester.assertEqual(U.base_ring(), base)
      File "/usr/lib/python3.8/unittest/case.py", line 912, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/usr/lib/python3.8/unittest/case.py", line 905, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: Laurent Series Ring in t over Ring of integers modulo 2 != Power Series Ring in t over Ring of integers modulo 2
    ------------------------------------------------------------
    The following tests failed: _test_euclidean_degree, _test_gcd_vs_xgcd, _test_matrix_smith
**********************************************************************
File "src/sage/rings/laurent_series_ring.py", line 237, in sage.rings.laurent_series_ring.LaurentSeriesRing.__init__
Failed example:
    RQQ.category()
Expected:
    Join of Category of complete discrete valuation fields and Category of commutative algebras over (number fields and quotient fields and metric spaces) and Category of infinite sets
Got:
    Join of Category of complete discrete valuation rings and Category of commutative algebras over (number fields and quotient fields and metric spaces) and Category of infinite sets
**********************************************************************
File "src/sage/rings/laurent_series_ring.py", line 239, in sage.rings.laurent_series_ring.LaurentSeriesRing.__init__
Failed example:
    TestSuite(RQQ).run()
Expected nothing
Got:
    Failure in _test_euclidean_degree:
    Traceback (most recent call last):
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py", line 297, in run
        test_method(tester=tester)
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/euclidean_domains.py", line 155, in _test_euclidean_degree
        tester.assertEqual(a.euclidean_degree() == min_degree, a.is_unit())
      File "/usr/lib/python3.8/unittest/case.py", line 912, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/usr/lib/python3.8/unittest/case.py", line 905, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: False != True
    ------------------------------------------------------------
    Failure in _test_gcd_vs_xgcd:
    Traceback (most recent call last):
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py", line 297, in run
        test_method(tester=tester)
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/principal_ideal_domains.py", line 119, in _test_gcd_vs_xgcd
        tester.assertTrue(gcd==xgcd[0],
      File "/usr/lib/python3.8/unittest/case.py", line 765, in assertTrue
        raise self.failureException(msg)
    AssertionError: The methods gcd and xgcd disagree on Laurent Series Ring in t over Rational Field:
      gcd(t,t) = t
     xgcd(t,t) = (1, t^-1, 0)
    ------------------------------------------------------------
    Failure in _test_matrix_smith:
    Traceback (most recent call last):
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/misc/sage_unittest.py", line 297, in run
        test_method(tester=tester)
      File "/home/roed/sage-9.6.beta2/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/complete_discrete_valuation.py", line 304, in _test_matrix_smith
        tester.assertEqual(U.base_ring(), base)
      File "/usr/lib/python3.8/unittest/case.py", line 912, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/usr/lib/python3.8/unittest/case.py", line 905, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: Laurent Series Ring in t over Rational Field != Power Series Ring in t over Rational Field
    ------------------------------------------------------------
    The following tests failed: _test_euclidean_degree, _test_gcd_vs_xgcd, _test_matrix_smith
**********************************************************************
2 items had failures:
   4 of  43 in sage.rings.laurent_series_ring.LaurentSeriesRing
   4 of  18 in sage.rings.laurent_series_ring.LaurentSeriesRing.__init__
    [182 tests, 8 failures, 0.21 s]
sage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/rings/multi_power_series_ring_element.py
**********************************************************************
File "src/sage/rings/multi_power_series_ring_element.py", line 1081, in sage.rings.multi_power_series_ring_element.MPowerSeries.__mod__
Failed example:
    g in R
Expected:
    False
Got:
    True
**********************************************************************
1 item had failures:
   1 of   7 in sage.rings.multi_power_series_ring_element.MPowerSeries.__mod__
    [466 tests, 1 failure, 0.27 s]
sage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/categories/complete_discrete_valuation.py
**********************************************************************
File "src/sage/categories/complete_discrete_valuation.py", line 621, in sage.categories.complete_discrete_valuation.CompleteDiscreteValuationFields
Failed example:
    LaurentSeriesRing(QQ,'u') in CompleteDiscreteValuationFields()
Expected:
    True
Got:
    False
**********************************************************************
1 item had failures:
   1 of   6 in sage.categories.complete_discrete_valuation.CompleteDiscreteValuationFields
    [200 tests, 1 failure, 0.24 s]
sage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/matrix/matrix2.pyx
**********************************************************************
File "src/sage/matrix/matrix2.pyx", line 9855, in sage.matrix.matrix2.Matrix.inverse
Failed example:
    ~M
Expected:
    [t^-1 t^-2]
    [   0 t^-1]
Got:
    [1 0]
    [0 1]
**********************************************************************
1 item had failures:
   1 of  13 in sage.matrix.matrix2.Matrix.inverse
    [2807 tests, 1 failure, 8.67 s]
----------------------------------------------------------------------
sage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/matrix/matrix_cdv.pyx  # 1 doctest failed
sage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/rings/laurent_series_ring.py  # 8 doctests failed
sage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/rings/multi_power_series_ring_element.py  # 1 doctest failed
sage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/categories/complete_discrete_valuation.py  # 1 doctest failed
sage -t --long --warn-long 40.9 --random-seed=317472647872885548861559054668703098865 src/sage/matrix/matrix2.pyx  # 1 doctest failed
```



---

archive/issue_comments_441739.json:
```json
{
    "body": "Changing reviewer from \"Ben Hutz\" to \"Ben Hutz, David Roe\"",
    "created_at": "2022-02-20T22:11:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441739",
    "user": "https://github.com/roed314"
}
```

Changing reviewer from "Ben Hutz" to "Ben Hutz, David Roe"



---

archive/issue_comments_441740.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-02-20T22:11:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441740",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_441741.json:
```json
{
    "body": "<a id='comment:38'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[6a2d2c9](https://git.sagemath.org/sage.git/commit/?id=6a2d2c932cf557410b1632c99e34bc070d790080)|`Laurent series ring is a field`|",
    "created_at": "2022-02-20T22:50:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441741",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[6a2d2c9](https://git.sagemath.org/sage.git/commit/?id=6a2d2c932cf557410b1632c99e34bc070d790080)|`Laurent series ring is a field`|



---

archive/issue_comments_441742.json:
```json
{
    "body": "Changing commit from \"6d7e43e8134c061b464c86cd7e085637456b61ce\" to \"6a2d2c932cf557410b1632c99e34bc070d790080\"",
    "created_at": "2022-02-20T22:50:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441742",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6d7e43e8134c061b464c86cd7e085637456b61ce" to "6a2d2c932cf557410b1632c99e34bc070d790080"



---

archive/issue_comments_441743.json:
```json
{
    "body": "<a id='comment:39'></a>\nI fixed the doctest failures, except the one in `src/sage/rings/multi_power_series_ring_element.py` because I can't understand the relation with this ticket. Any idea?",
    "created_at": "2022-02-20T22:51:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441743",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:39'></a>
I fixed the doctest failures, except the one in `src/sage/rings/multi_power_series_ring_element.py` because I can't understand the relation with this ticket. Any idea?



---

archive/issue_comments_441744.json:
```json
{
    "body": "<a id='comment:40'></a>\nOh, it's just because I removed the function `__contains__` in `sage.rings.power_series_ring`.\n\nHowever, this function didn't work as expected. Typically, we had:\n\n```\nsage: R.<t> = QQ[[]]\nsage: K = R.fraction_field()\nsage: K(t) in R\nFalse\n```\n\nFalling back to the generic implementation of `__contains__`, this problem disappears but an element in `Z/2Z[This is the Trac macro *u* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#u-macro)` is considered as belonging to `Z[This is the Trac macro *u* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#u-macro)`. It's certainly not mathematically correct but the same holds for polynomials. So I'm not sure if it's better to fix the bug (I don't expect this to be easy) or the doctest.",
    "created_at": "2022-02-20T23:08:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441744",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:40'></a>
Oh, it's just because I removed the function `__contains__` in `sage.rings.power_series_ring`.

However, this function didn't work as expected. Typically, we had:

```
sage: R.<t> = QQ[[]]
sage: K = R.fraction_field()
sage: K(t) in R
False
```

Falling back to the generic implementation of `__contains__`, this problem disappears but an element in `Z/2Z[This is the Trac macro *u* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#u-macro)` is considered as belonging to `Z[This is the Trac macro *u* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#u-macro)`. It's certainly not mathematically correct but the same holds for polynomials. So I'm not sure if it's better to fix the bug (I don't expect this to be easy) or the doctest.



---

archive/issue_comments_441745.json:
```json
{
    "body": "<a id='comment:41'></a>\nI think this is just a consequence of Sage's longstanding definition of containment.  It's analogous to\n\n```\nsage: mod(3, 7) in ZZ                                                                                                  \nTrue\n```\nSo I would say that restoring the generic behavior for containment is correct.",
    "created_at": "2022-02-20T23:21:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441745",
    "user": "https://github.com/roed314"
}
```

<a id='comment:41'></a>
I think this is just a consequence of Sage's longstanding definition of containment.  It's analogous to

```
sage: mod(3, 7) in ZZ                                                                                                  
True
```
So I would say that restoring the generic behavior for containment is correct.



---

archive/issue_comments_441746.json:
```json
{
    "body": "<a id='comment:42'></a>\nOK. Do you agree if I just remove the failing doctest?",
    "created_at": "2022-02-20T23:26:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441746",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:42'></a>
OK. Do you agree if I just remove the failing doctest?



---

archive/issue_comments_441747.json:
```json
{
    "body": "<a id='comment:43'></a>\nI agree.  In fact, the implementation of `__mod__` here does not agree with the convention in the rest of Sage, where `__mod__` returns something in the same parent rather than just changing the base ring.  But I think that's an issue for another ticket.",
    "created_at": "2022-02-21T01:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441747",
    "user": "https://github.com/roed314"
}
```

<a id='comment:43'></a>
I agree.  In fact, the implementation of `__mod__` here does not agree with the convention in the rest of Sage, where `__mod__` returns something in the same parent rather than just changing the base ring.  But I think that's an issue for another ticket.



---

archive/issue_comments_441748.json:
```json
{
    "body": "<a id='comment:44'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------|\n|[dc51f10](https://git.sagemath.org/sage.git/commit/?id=dc51f10b50bf804dca35589ee9f86adfeebaa8f2)|`remove failing doctest`|",
    "created_at": "2022-02-21T01:36:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441748",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
|[dc51f10](https://git.sagemath.org/sage.git/commit/?id=dc51f10b50bf804dca35589ee9f86adfeebaa8f2)|`remove failing doctest`|



---

archive/issue_comments_441749.json:
```json
{
    "body": "Changing commit from \"6a2d2c932cf557410b1632c99e34bc070d790080\" to \"dc51f10b50bf804dca35589ee9f86adfeebaa8f2\"",
    "created_at": "2022-02-21T01:36:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441749",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6a2d2c932cf557410b1632c99e34bc070d790080" to "dc51f10b50bf804dca35589ee9f86adfeebaa8f2"



---

archive/issue_comments_441750.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-02-21T01:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441750",
    "user": "https://github.com/xcaruso"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_441751.json:
```json
{
    "body": "<a id='comment:46'></a>\nAnother comment (since I see you're still awake)\n\n* Anywhere you use backslashes in docstrings you need to make sure that they're raw strings (have an \"r\" before the triple quote)\n\nI'm reading through the changes now and may have more comments....",
    "created_at": "2022-02-21T01:40:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441751",
    "user": "https://github.com/roed314"
}
```

<a id='comment:46'></a>
Another comment (since I see you're still awake)

* Anywhere you use backslashes in docstrings you need to make sure that they're raw strings (have an "r" before the triple quote)

I'm reading through the changes now and may have more comments....



---

archive/issue_comments_441752.json:
```json
{
    "body": "<a id='comment:47'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------|\n|[57a41b2](https://git.sagemath.org/sage.git/commit/?id=57a41b22f7375eec096c2af524ba5b7c871ed58c)|`small fix`|",
    "created_at": "2022-02-21T10:08:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441752",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------|
|[57a41b2](https://git.sagemath.org/sage.git/commit/?id=57a41b22f7375eec096c2af524ba5b7c871ed58c)|`small fix`|



---

archive/issue_comments_441753.json:
```json
{
    "body": "Changing commit from \"dc51f10b50bf804dca35589ee9f86adfeebaa8f2\" to \"57a41b22f7375eec096c2af524ba5b7c871ed58c\"",
    "created_at": "2022-02-21T10:08:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441753",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dc51f10b50bf804dca35589ee9f86adfeebaa8f2" to "57a41b22f7375eec096c2af524ba5b7c871ed58c"



---

archive/issue_events_060264.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-05-12T07:11:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23486#event-60264"
}
```



---

archive/issue_comments_441754.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-05-12T07:11:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441754",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_441755.json:
```json
{
    "body": "<a id='comment:48'></a>\nred branch => needs work",
    "created_at": "2022-05-12T07:11:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441755",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:48'></a>
red branch => needs work



---

archive/issue_comments_441756.json:
```json
{
    "body": "Changing commit from \"57a41b22f7375eec096c2af524ba5b7c871ed58c\" to \"bd75b0dcfc6b0f450463cfa0103184a73fac1ffa\"",
    "created_at": "2022-05-19T09:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441756",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "57a41b22f7375eec096c2af524ba5b7c871ed58c" to "bd75b0dcfc6b0f450463cfa0103184a73fac1ffa"



---

archive/issue_comments_441757.json:
```json
{
    "body": "<a id='comment:49'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[bd75b0d](https://git.sagemath.org/sage.git/commit/?id=bd75b0dcfc6b0f450463cfa0103184a73fac1ffa)|`Merge branch 'develop' into echelon_form`|",
    "created_at": "2022-05-19T09:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441757",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:49'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[bd75b0d](https://git.sagemath.org/sage.git/commit/?id=bd75b0dcfc6b0f450463cfa0103184a73fac1ffa)|`Merge branch 'develop' into echelon_form`|



---

archive/issue_comments_441758.json:
```json
{
    "body": "<a id='comment:50'></a>\nI fixed merging issues.\n\nI put needs review in order to get feedback from the patchbot.",
    "created_at": "2022-05-19T09:58:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441758",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:50'></a>
I fixed merging issues.

I put needs review in order to get feedback from the patchbot.



---

archive/issue_comments_441759.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-05-19T09:58:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441759",
    "user": "https://github.com/xcaruso"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_441760.json:
```json
{
    "body": "<a id='comment:51'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------|\n|[27b57b8](https://git.sagemath.org/sage.git/commit/?id=27b57b89b3b2b2962ead3a8b96468d5c0d943e82)|`fix pyflakes`|",
    "created_at": "2022-05-19T17:01:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441760",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |              |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------|
|[27b57b8](https://git.sagemath.org/sage.git/commit/?id=27b57b89b3b2b2962ead3a8b96468d5c0d943e82)|`fix pyflakes`|



---

archive/issue_comments_441761.json:
```json
{
    "body": "Changing commit from \"bd75b0dcfc6b0f450463cfa0103184a73fac1ffa\" to \"27b57b89b3b2b2962ead3a8b96468d5c0d943e82\"",
    "created_at": "2022-05-19T17:01:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441761",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bd75b0dcfc6b0f450463cfa0103184a73fac1ffa" to "27b57b89b3b2b2962ead3a8b96468d5c0d943e82"



---

archive/issue_comments_441762.json:
```json
{
    "body": "Changing branch from \"u/caruso/padic_hermite\" to \"u/saraedum/padic_hermite\"",
    "created_at": "2022-05-19T20:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441762",
    "user": "https://github.com/saraedum"
}
```

Changing branch from "u/caruso/padic_hermite" to "u/saraedum/padic_hermite"



---

archive/issue_comments_441763.json:
```json
{
    "body": "Changing commit from \"27b57b89b3b2b2962ead3a8b96468d5c0d943e82\" to \"ecb4f01b734724d7f31e578a23fa374a08115ceb\"",
    "created_at": "2022-05-19T20:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441763",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "27b57b89b3b2b2962ead3a8b96468d5c0d943e82" to "ecb4f01b734724d7f31e578a23fa374a08115ceb"



---

archive/issue_comments_441764.json:
```json
{
    "body": "<a id='comment:53'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|\n|[ecb4f01](https://git.sagemath.org/sage.git/commit/?id=ecb4f01b734724d7f31e578a23fa374a08115ceb)|`Deduplicate code for complete discrete valuation rings and fields`|",
    "created_at": "2022-05-19T20:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441764",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:53'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
|[ecb4f01](https://git.sagemath.org/sage.git/commit/?id=ecb4f01b734724d7f31e578a23fa374a08115ceb)|`Deduplicate code for complete discrete valuation rings and fields`|



---

archive/issue_comments_441765.json:
```json
{
    "body": "Changing commit from \"ecb4f01b734724d7f31e578a23fa374a08115ceb\" to \"3c4cfd951811903df59b93ce7359ae6dacf3f934\"",
    "created_at": "2022-05-19T20:44:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441765",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ecb4f01b734724d7f31e578a23fa374a08115ceb" to "3c4cfd951811903df59b93ce7359ae6dacf3f934"



---

archive/issue_comments_441766.json:
```json
{
    "body": "<a id='comment:54'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[9ec4bcf](https://git.sagemath.org/sage.git/commit/?id=9ec4bcff8517a91b6e6571498671caef9c562861)|`Fix handling of transformation=false in echelonize`|\n|[3c4cfd9](https://git.sagemath.org/sage.git/commit/?id=3c4cfd951811903df59b93ce7359ae6dacf3f934)|`Drop unused code`|",
    "created_at": "2022-05-19T20:44:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441766",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:54'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[9ec4bcf](https://git.sagemath.org/sage.git/commit/?id=9ec4bcff8517a91b6e6571498671caef9c562861)|`Fix handling of transformation=false in echelonize`|
|[3c4cfd9](https://git.sagemath.org/sage.git/commit/?id=3c4cfd951811903df59b93ce7359ae6dacf3f934)|`Drop unused code`|



---

archive/issue_comments_441767.json:
```json
{
    "body": "Changing commit from \"3c4cfd951811903df59b93ce7359ae6dacf3f934\" to \"cb2404be69851ea823d1572504fd4001beafec64\"",
    "created_at": "2022-05-19T20:50:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441767",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3c4cfd951811903df59b93ce7359ae6dacf3f934" to "cb2404be69851ea823d1572504fd4001beafec64"



---

archive/issue_comments_441768.json:
```json
{
    "body": "<a id='comment:55'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[2638908](https://git.sagemath.org/sage.git/commit/?id=263890895d4c25efa7fb87f3a1d0c6acddb4dd87)|`Fix LaTeX escaping in docstrings`|\n|[0d8c61f](https://git.sagemath.org/sage.git/commit/?id=0d8c61f75cc6d8c3f2c81c1a1f9bb421f9605acb)|`Improve docstrings`|\n|[941f1c0](https://git.sagemath.org/sage.git/commit/?id=941f1c07ae09a60be2d14a1feb09beedf542adce)|`Drop commented out definitions`|\n|[cb2404b](https://git.sagemath.org/sage.git/commit/?id=cb2404be69851ea823d1572504fd4001beafec64)|`Remove typo`|",
    "created_at": "2022-05-19T20:50:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441768",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:55'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[2638908](https://git.sagemath.org/sage.git/commit/?id=263890895d4c25efa7fb87f3a1d0c6acddb4dd87)|`Fix LaTeX escaping in docstrings`|
|[0d8c61f](https://git.sagemath.org/sage.git/commit/?id=0d8c61f75cc6d8c3f2c81c1a1f9bb421f9605acb)|`Improve docstrings`|
|[941f1c0](https://git.sagemath.org/sage.git/commit/?id=941f1c07ae09a60be2d14a1feb09beedf542adce)|`Drop commented out definitions`|
|[cb2404b](https://git.sagemath.org/sage.git/commit/?id=cb2404be69851ea823d1572504fd4001beafec64)|`Remove typo`|



---

archive/issue_comments_441769.json:
```json
{
    "body": "<a id='comment:56'></a>\nAre you using any results from the articles you wrote on p-adic precision? If so, I think that it would be nice to reference the articles in the ALGORITHM sections.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|\n|[eb97013](https://git.sagemath.org/sage.git/commit?id=eb970134c6842c19d8010f5434afefff32dd838a)|`Improve documentation of CompleteDiscreteValuationRings.ParentMethods`|\n|[ecb4f01](https://git.sagemath.org/sage.git/commit?id=ecb4f01b734724d7f31e578a23fa374a08115ceb)|`Deduplicate code for complete discrete valuation rings and fields`|\n|[9ec4bcf](https://git.sagemath.org/sage.git/commit?id=9ec4bcff8517a91b6e6571498671caef9c562861)|`Fix handling of transformation=false in echelonize`|\n|[3c4cfd9](https://git.sagemath.org/sage.git/commit?id=3c4cfd951811903df59b93ce7359ae6dacf3f934)|`Drop unused code`|\n|[2638908](https://git.sagemath.org/sage.git/commit?id=263890895d4c25efa7fb87f3a1d0c6acddb4dd87)|`Fix LaTeX escaping in docstrings`|\n|[0d8c61f](https://git.sagemath.org/sage.git/commit?id=0d8c61f75cc6d8c3f2c81c1a1f9bb421f9605acb)|`Improve docstrings`|\n|[941f1c0](https://git.sagemath.org/sage.git/commit?id=941f1c07ae09a60be2d14a1feb09beedf542adce)|`Drop commented out definitions`|\n|[cb2404b](https://git.sagemath.org/sage.git/commit?id=cb2404be69851ea823d1572504fd4001beafec64)|`Remove typo`|",
    "created_at": "2022-05-19T21:10:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441769",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:56'></a>
Are you using any results from the articles you wrote on p-adic precision? If so, I think that it would be nice to reference the articles in the ALGORITHM sections.

---
New commits:
|                                                                                                                                          |                                                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|
|[eb97013](https://git.sagemath.org/sage.git/commit?id=eb970134c6842c19d8010f5434afefff32dd838a)|`Improve documentation of CompleteDiscreteValuationRings.ParentMethods`|
|[ecb4f01](https://git.sagemath.org/sage.git/commit?id=ecb4f01b734724d7f31e578a23fa374a08115ceb)|`Deduplicate code for complete discrete valuation rings and fields`|
|[9ec4bcf](https://git.sagemath.org/sage.git/commit?id=9ec4bcff8517a91b6e6571498671caef9c562861)|`Fix handling of transformation=false in echelonize`|
|[3c4cfd9](https://git.sagemath.org/sage.git/commit?id=3c4cfd951811903df59b93ce7359ae6dacf3f934)|`Drop unused code`|
|[2638908](https://git.sagemath.org/sage.git/commit?id=263890895d4c25efa7fb87f3a1d0c6acddb4dd87)|`Fix LaTeX escaping in docstrings`|
|[0d8c61f](https://git.sagemath.org/sage.git/commit?id=0d8c61f75cc6d8c3f2c81c1a1f9bb421f9605acb)|`Improve docstrings`|
|[941f1c0](https://git.sagemath.org/sage.git/commit?id=941f1c07ae09a60be2d14a1feb09beedf542adce)|`Drop commented out definitions`|
|[cb2404b](https://git.sagemath.org/sage.git/commit?id=cb2404be69851ea823d1572504fd4001beafec64)|`Remove typo`|



---

archive/issue_comments_441770.json:
```json
{
    "body": "<a id='comment:57'></a>\nHow are these change related to this issue? Can they be reverted?\n\n```\ndiff --git a/src/sage/rings/padics/relaxed_template.pxi b/src/sage/rings/padics/relaxed_template.pxi\nindex 7269da0..42af3ea 100644\n--- a/src/sage/rings/padics/relaxed_template.pxi\n+++ b/src/sage/rings/padics/relaxed_template.pxi\n@@ -1265,19 +1265,10 @@ cdef class RelaxedElement(pAdicGenericElement):\n             sage: a.lift_to_precision(20)\n             4*5 + 4*5^2 + 5^4 + O(5^20)\n \n-        When the precision is omitted, the default precision of the parent\n-        is used::\n+        When the precision is omitted, the element is made unbounded::\n \n             sage: a.lift_to_precision()\n-            4*5 + 4*5^2 + 5^4 + O(5^10)\n-\n-        When the parent is a field, the behaviour is slightly different since\n-        the default precision of the parent becomes the relative precision\n-        of the lifted element::\n-\n-            sage: K = R.fraction_field()\n-            sage: K(a).lift_to_precision()\n-            4*5 + 4*5^2 + 5^4 + O(5^11)\n+            4*5 + 4*5^2 + 5^4 + ...\n \n         Note that the precision never decreases::\n \n@@ -1298,13 +1289,14 @@ cdef class RelaxedElement(pAdicGenericElement):\n         cdef long prec\n         cdef long default_prec = self._parent.default_prec()\n         if absprec is None:\n-            if self.prime_pow.in_field:\n-                self._jump_relative_c(1, self._precbound)\n-                if self._precrel == 0:\n-                    return self._parent.zero()\n-                prec = self._valuation + default_prec\n-            else:\n-                prec = default_prec\n+            prec = maxordp\n+            #if self.prime_pow.in_field:\n+            #    self._jump_relative_c(1, self._precbound)\n+            #    if self._precrel == 0:\n+            #        return self._parent.zero()\n+            #    prec = self._valuation + default_prec\n+            #else:\n+            #    prec = default_prec\n         else:\n             if absprec > maxordp:\n                 raise OverflowError(\"beyond the maximal precision (which is %s)\" % maxordp)\n```",
    "created_at": "2022-05-19T21:28:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441770",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:57'></a>
How are these change related to this issue? Can they be reverted?

```
diff --git a/src/sage/rings/padics/relaxed_template.pxi b/src/sage/rings/padics/relaxed_template.pxi
index 7269da0..42af3ea 100644
--- a/src/sage/rings/padics/relaxed_template.pxi
+++ b/src/sage/rings/padics/relaxed_template.pxi
@@ -1265,19 +1265,10 @@ cdef class RelaxedElement(pAdicGenericElement):
             sage: a.lift_to_precision(20)
             4*5 + 4*5^2 + 5^4 + O(5^20)
 
-        When the precision is omitted, the default precision of the parent
-        is used::
+        When the precision is omitted, the element is made unbounded::
 
             sage: a.lift_to_precision()
-            4*5 + 4*5^2 + 5^4 + O(5^10)
-
-        When the parent is a field, the behaviour is slightly different since
-        the default precision of the parent becomes the relative precision
-        of the lifted element::
-
-            sage: K = R.fraction_field()
-            sage: K(a).lift_to_precision()
-            4*5 + 4*5^2 + 5^4 + O(5^11)
+            4*5 + 4*5^2 + 5^4 + ...
 
         Note that the precision never decreases::
 
@@ -1298,13 +1289,14 @@ cdef class RelaxedElement(pAdicGenericElement):
         cdef long prec
         cdef long default_prec = self._parent.default_prec()
         if absprec is None:
-            if self.prime_pow.in_field:
-                self._jump_relative_c(1, self._precbound)
-                if self._precrel == 0:
-                    return self._parent.zero()
-                prec = self._valuation + default_prec
-            else:
-                prec = default_prec
+            prec = maxordp
+            #if self.prime_pow.in_field:
+            #    self._jump_relative_c(1, self._precbound)
+            #    if self._precrel == 0:
+            #        return self._parent.zero()
+            #    prec = self._valuation + default_prec
+            #else:
+            #    prec = default_prec
         else:
             if absprec > maxordp:
                 raise OverflowError("beyond the maximal precision (which is %s)" % maxordp)
```



---

archive/issue_comments_441771.json:
```json
{
    "body": "<a id='comment:58'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[f595901](https://git.sagemath.org/sage.git/commit/?id=f595901a1fd73c1b094e5b694b16aaacf3e0c316)|`Cleanup implementation of matrix_cdv`|\n|[ab32bac](https://git.sagemath.org/sage.git/commit/?id=ab32baca7f7aeae441a139fa4e1f1ed666ba5409)|`Restore removed doctests`|",
    "created_at": "2022-05-19T21:33:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441771",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[f595901](https://git.sagemath.org/sage.git/commit/?id=f595901a1fd73c1b094e5b694b16aaacf3e0c316)|`Cleanup implementation of matrix_cdv`|
|[ab32bac](https://git.sagemath.org/sage.git/commit/?id=ab32baca7f7aeae441a139fa4e1f1ed666ba5409)|`Restore removed doctests`|



---

archive/issue_comments_441772.json:
```json
{
    "body": "Changing commit from \"cb2404be69851ea823d1572504fd4001beafec64\" to \"ab32baca7f7aeae441a139fa4e1f1ed666ba5409\"",
    "created_at": "2022-05-19T21:33:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441772",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cb2404be69851ea823d1572504fd4001beafec64" to "ab32baca7f7aeae441a139fa4e1f1ed666ba5409"



---

archive/issue_comments_441773.json:
```json
{
    "body": "<a id='comment:59'></a>\nXavier, I made some review changes, trying to simplify things a bit and improving some docstrings (hopefully.)\n\nThis looks great to me, so once doctests pass again an the above comments have been adressed, this is good to be merged.\n\n---\nNew commits:\n|                                                                                                                                          |                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[f595901](https://git.sagemath.org/sage.git/commit?id=f595901a1fd73c1b094e5b694b16aaacf3e0c316)|`Cleanup implementation of matrix_cdv`|\n|[ab32bac](https://git.sagemath.org/sage.git/commit?id=ab32baca7f7aeae441a139fa4e1f1ed666ba5409)|`Restore removed doctests`|",
    "created_at": "2022-05-19T21:34:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441773",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:59'></a>
Xavier, I made some review changes, trying to simplify things a bit and improving some docstrings (hopefully.)

This looks great to me, so once doctests pass again an the above comments have been adressed, this is good to be merged.

---
New commits:
|                                                                                                                                          |                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[f595901](https://git.sagemath.org/sage.git/commit?id=f595901a1fd73c1b094e5b694b16aaacf3e0c316)|`Cleanup implementation of matrix_cdv`|
|[ab32bac](https://git.sagemath.org/sage.git/commit?id=ab32baca7f7aeae441a139fa4e1f1ed666ba5409)|`Restore removed doctests`|



---

archive/issue_comments_441774.json:
```json
{
    "body": "Changing branch from \"u/saraedum/padic_hermite\" to \"u/caruso/padic_hermite\"",
    "created_at": "2022-05-21T10:22:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441774",
    "user": "https://github.com/xcaruso"
}
```

Changing branch from "u/saraedum/padic_hermite" to "u/caruso/padic_hermite"



---

archive/issue_comments_441775.json:
```json
{
    "body": "<a id='comment:61'></a>\nIt seems that your class `SharedParentMethods` does not work.\n\n```\nsage: R = Zp(5, prec=10)\nsage: R._matrix_echelonize\nTraceback (most recent call last):\n...\nAttributeError: 'pAdicRingCappedRelative_with_category' object has no attribute '_matrix_echelonize'\n```\n\n---\nNew commits:\n|                                                                                                                                          |               |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------|\n|[1068baa](https://git.sagemath.org/sage.git/commit?id=1068baa478b35940165b106a2c7d361256d88d85)|`fix small bug`|",
    "created_at": "2022-05-21T10:23:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441775",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:61'></a>
It seems that your class `SharedParentMethods` does not work.

```
sage: R = Zp(5, prec=10)
sage: R._matrix_echelonize
Traceback (most recent call last):
...
AttributeError: 'pAdicRingCappedRelative_with_category' object has no attribute '_matrix_echelonize'
```

---
New commits:
|                                                                                                                                          |               |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|[1068baa](https://git.sagemath.org/sage.git/commit?id=1068baa478b35940165b106a2c7d361256d88d85)|`fix small bug`|



---

archive/issue_comments_441776.json:
```json
{
    "body": "Changing commit from \"ab32baca7f7aeae441a139fa4e1f1ed666ba5409\" to \"1068baa478b35940165b106a2c7d361256d88d85\"",
    "created_at": "2022-05-21T10:23:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441776",
    "user": "https://github.com/xcaruso"
}
```

Changing commit from "ab32baca7f7aeae441a139fa4e1f1ed666ba5409" to "1068baa478b35940165b106a2c7d361256d88d85"



---

archive/issue_comments_441777.json:
```json
{
    "body": "<a id='comment:62'></a>\nI'm getting the following warning when Sage starts:\n\n```\n/home/xcaruso/sage/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/category.py:1592: UserWarning: CompleteDiscreteValuationRings.ParentMethods should not have a super class\n```\nSo I'm coming back to the previous version.",
    "created_at": "2022-06-02T09:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441777",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:62'></a>
I'm getting the following warning when Sage starts:

```
/home/xcaruso/sage/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/sage/categories/category.py:1592: UserWarning: CompleteDiscreteValuationRings.ParentMethods should not have a super class
```
So I'm coming back to the previous version.



---

archive/issue_comments_441778.json:
```json
{
    "body": "Changing commit from \"1068baa478b35940165b106a2c7d361256d88d85\" to \"2094339c2fcd4f26de9056193f199431c09b40f9\"",
    "created_at": "2022-06-02T09:27:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441778",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1068baa478b35940165b106a2c7d361256d88d85" to "2094339c2fcd4f26de9056193f199431c09b40f9"



---

archive/issue_comments_441779.json:
```json
{
    "body": "<a id='comment:63'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|\n|[2094339](https://git.sagemath.org/sage.git/commit/?id=2094339c2fcd4f26de9056193f199431c09b40f9)|`Revert \"Deduplicate code for complete discrete valuation rings and fields\"`|",
    "created_at": "2022-06-02T09:27:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441779",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:63'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
|[2094339](https://git.sagemath.org/sage.git/commit/?id=2094339c2fcd4f26de9056193f199431c09b40f9)|`Revert "Deduplicate code for complete discrete valuation rings and fields"`|



---

archive/issue_comments_441780.json:
```json
{
    "body": "Changing commit from \"2094339c2fcd4f26de9056193f199431c09b40f9\" to \"50520b68c430047dad8c3702c0232c4531658ad8\"",
    "created_at": "2022-06-02T09:38:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441780",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2094339c2fcd4f26de9056193f199431c09b40f9" to "50520b68c430047dad8c3702c0232c4531658ad8"



---

archive/issue_comments_441781.json:
```json
{
    "body": "<a id='comment:64'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[50520b6](https://git.sagemath.org/sage.git/commit/?id=50520b68c430047dad8c3702c0232c4531658ad8)|`do not use get_unsafe in py files`|",
    "created_at": "2022-06-02T09:38:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441781",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:64'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[50520b6](https://git.sagemath.org/sage.git/commit/?id=50520b68c430047dad8c3702c0232c4531658ad8)|`do not use get_unsafe in py files`|



---

archive/issue_comments_441782.json:
```json
{
    "body": "Changing branch from \"u/caruso/padic_hermite\" to \"u/saraedum/padic_hermite\"",
    "created_at": "2022-06-02T21:35:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441782",
    "user": "https://github.com/saraedum"
}
```

Changing branch from "u/caruso/padic_hermite" to "u/saraedum/padic_hermite"



---

archive/issue_comments_441783.json:
```json
{
    "body": "<a id='comment:66'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[e6e1606](https://git.sagemath.org/sage.git/commit/?id=e6e1606e281dc6ec165c88c784a63e1aee20fafa)|`Fix syntax error`|",
    "created_at": "2022-06-02T21:36:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441783",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:66'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[e6e1606](https://git.sagemath.org/sage.git/commit/?id=e6e1606e281dc6ec165c88c784a63e1aee20fafa)|`Fix syntax error`|



---

archive/issue_comments_441784.json:
```json
{
    "body": "Changing commit from \"50520b68c430047dad8c3702c0232c4531658ad8\" to \"e6e1606e281dc6ec165c88c784a63e1aee20fafa\"",
    "created_at": "2022-06-02T21:36:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441784",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "50520b68c430047dad8c3702c0232c4531658ad8" to "e6e1606e281dc6ec165c88c784a63e1aee20fafa"



---

archive/issue_comments_441785.json:
```json
{
    "body": "Changing branch from \"u/saraedum/padic_hermite\" to \"u/caruso/padic_hermite\"",
    "created_at": "2022-06-02T22:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441785",
    "user": "https://github.com/xcaruso"
}
```

Changing branch from "u/saraedum/padic_hermite" to "u/caruso/padic_hermite"



---

archive/issue_comments_441786.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-08-09T06:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441786",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_441787.json:
```json
{
    "body": "<a id='comment:68'></a>\nred branch => needs work\n\n---\nNew commits:\n|                                                                                                                                          |            |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------|\n|[26f0fd2](https://git.sagemath.org/sage.git/commit?id=26f0fd223edb143de3465f454e2dde5be1c06f9c)|`tests pass`|",
    "created_at": "2022-08-09T06:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441787",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:68'></a>
red branch => needs work

---
New commits:
|                                                                                                                                          |            |
|------------------------------------------------------------------------------------------------------------------------------------------|------------|
|[26f0fd2](https://git.sagemath.org/sage.git/commit?id=26f0fd223edb143de3465f454e2dde5be1c06f9c)|`tests pass`|



---

archive/issue_comments_441788.json:
```json
{
    "body": "Changing commit from \"e6e1606e281dc6ec165c88c784a63e1aee20fafa\" to \"26f0fd223edb143de3465f454e2dde5be1c06f9c\"",
    "created_at": "2022-08-09T06:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23486#issuecomment-441788",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "e6e1606e281dc6ec165c88c784a63e1aee20fafa" to "26f0fd223edb143de3465f454e2dde5be1c06f9c"



---

archive/issue_events_060265.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23486#event-60265"
}
```



---

archive/issue_events_060266.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23486",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23486#event-60266"
}
```
