# Issue 23832: Optional packages and patchbots metaticket

archive/issues_023595.json:
```json
{
    "body": "The goal of this metaticket is to make it easy to see if there is already a ticket for failures of some patchbots (including building optional packages). If a patchbot failure is not on the list, please make ticket with `blocker` priority for it, if it does not yet exist and add it here together with a list of the affected files!\n\n## 8.3.beta2\n\n- #25399 (automorphism groups)\n\n- #25398 (plantri feature)\n\n- #25400 (LattE feature)\n\n## 8.3.beta0\n\n- #25332 (a lot of doctest failures due to #20382)\n\n## 8.2.beta6\n\n#23533 cryptominisat fails to build\n\n#24902 deformation fails to build\n\n## 8.1.rc0\n\n#22006 CBC causes doctest failures because of linking with incompatible liblapack\n\n```\nsage -t --long src/sage/knots/link.py  # 1 doctest failed\nsage -t --long src/sage/game_theory/normal_form_game.py  # 5 doctests failed\nsage -t --long src/sage/numerical/backends/coin_backend.pyx  # 314 doctests failed\n```\n\n#23933 OpenBLAS randomly crashes / deadlocks 2 - [arando](https://patchbot.sagemath.org/log/23927/Ubuntu/14.04/i686/3.13.0-95-generic/arando/2017-09-25%2021:41:12?short)\n\n```\nsage -t --long src/sage/matrix/matrix_integer_dense.pyx\n```\n#23391 Test timeout in FFPACK::CharPoly (related #21579) - [multscher](https://patchbot.sagemath.org/log/23927/debian/8.9/x86_64/3.16.0-4-amd64/multscher/2017-09-25%2021:09:59?short)\n\n```\nsrc/sage/graphs/matchpoly.pyx\n```\nOnly occurs once in a hundred times or so, so one needs to do:\n\n```\nfor i in `seq 0 1000` ; do sage -t --long src/sage/graphs/matchpoly.pyx ; done\n```\n\n\nAt least on OpenSuSE:\n* #24920 Failing doctests in r.py on OpenSuSE with system readline\n\n```\nsage -t --long src/sage/interfaces/r.py\n```\n* #25804 Crash in flint/nmod_poly_linkage.pxi doctest, possibly a make ptestlong timing issue\n\nResolution: invalid\n\nIssue created by migration from https://trac.sagemath.org/ticket/23832\n\n",
    "closed_at": "2020-06-28T19:13:04Z",
    "created_at": "2017-09-11T16:48:36Z",
    "labels": [
        "component: misc"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Optional packages and patchbots metaticket",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23832",
    "user": "https://github.com/koffie"
}
```
The goal of this metaticket is to make it easy to see if there is already a ticket for failures of some patchbots (including building optional packages). If a patchbot failure is not on the list, please make ticket with `blocker` priority for it, if it does not yet exist and add it here together with a list of the affected files!

## 8.3.beta2

- #25399 (automorphism groups)

- #25398 (plantri feature)

- #25400 (LattE feature)

## 8.3.beta0

- #25332 (a lot of doctest failures due to #20382)

## 8.2.beta6

#23533 cryptominisat fails to build

#24902 deformation fails to build

## 8.1.rc0

#22006 CBC causes doctest failures because of linking with incompatible liblapack

```
sage -t --long src/sage/knots/link.py  # 1 doctest failed
sage -t --long src/sage/game_theory/normal_form_game.py  # 5 doctests failed
sage -t --long src/sage/numerical/backends/coin_backend.pyx  # 314 doctests failed
```

#23933 OpenBLAS randomly crashes / deadlocks 2 - [arando](https://patchbot.sagemath.org/log/23927/Ubuntu/14.04/i686/3.13.0-95-generic/arando/2017-09-25%2021:41:12?short)

```
sage -t --long src/sage/matrix/matrix_integer_dense.pyx
```
#23391 Test timeout in FFPACK::CharPoly (related #21579) - [multscher](https://patchbot.sagemath.org/log/23927/debian/8.9/x86_64/3.16.0-4-amd64/multscher/2017-09-25%2021:09:59?short)

```
src/sage/graphs/matchpoly.pyx
```
Only occurs once in a hundred times or so, so one needs to do:

```
for i in `seq 0 1000` ; do sage -t --long src/sage/graphs/matchpoly.pyx ; done
```


At least on OpenSuSE:
* #24920 Failing doctests in r.py on OpenSuSE with system readline

```
sage -t --long src/sage/interfaces/r.py
```
* #25804 Crash in flint/nmod_poly_linkage.pxi doctest, possibly a make ptestlong timing issue

Resolution: invalid

Issue created by migration from https://trac.sagemath.org/ticket/23832





---

archive/issue_events_060738.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-09-12T10:34:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23832",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23832#event-60738"
}
```



---

archive/issue_comments_330210.json:
```json
{
    "body": "Changing component from doctest framework to misc.",
    "created_at": "2017-09-12T10:34:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23832#issuecomment-330210",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from doctest framework to misc.



---

archive/issue_comments_330211.json:
```json
{
    "body": "<a id='comment:20'></a>I think we can remove the fixed issues, otherwise this will get long very fast.",
    "created_at": "2017-09-26T15:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23832#issuecomment-330211",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>I think we can remove the fixed issues, otherwise this will get long very fast.



---

archive/issue_comments_330212.json:
```json
{
    "body": "<a id='comment:21'></a>I agree, but I prefer we just remove them depending on the beta version in which things were fixed. And just keep the things from the most recent beta and the previous one here. Since that info might still be usefull.",
    "created_at": "2017-09-26T15:52:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23832#issuecomment-330212",
    "user": "https://github.com/koffie"
}
```

<a id='comment:21'></a>I agree, but I prefer we just remove them depending on the beta version in which things were fixed. And just keep the things from the most recent beta and the previous one here. Since that info might still be usefull.



---

archive/issue_comments_330213.json:
```json
{
    "body": "<a id='comment:22'></a>p.s. Jeroen what do you think about the priority of reproducible but random failing doctests? Say it fails about once in `x` times where `x` is some number.\n\nI have the feeling that failing (but not silently producing incorrect answers) one out of three tests should definitely still be blocker priority, and failing (but not silently) once in every 10<sup>6</sup> times does not deserve to be a blocker anymore. What would be a reasonable guideline for a cutoff? Once in a hundred?\n\nOf course creating a stopgap for something that silently produces the wrong answer deserves to be a blocker no matter how rare.\n\nThis question is relevant to #23933, #23391.",
    "created_at": "2017-09-26T16:06:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23832#issuecomment-330213",
    "user": "https://github.com/koffie"
}
```

<a id='comment:22'></a>p.s. Jeroen what do you think about the priority of reproducible but random failing doctests? Say it fails about once in `x` times where `x` is some number.

I have the feeling that failing (but not silently producing incorrect answers) one out of three tests should definitely still be blocker priority, and failing (but not silently) once in every 10<sup>6</sup> times does not deserve to be a blocker anymore. What would be a reasonable guideline for a cutoff? Once in a hundred?

Of course creating a stopgap for something that silently produces the wrong answer deserves to be a blocker no matter how rare.

This question is relevant to #23933, #23391.



---

archive/issue_comments_330214.json:
```json
{
    "body": "<a id='comment:28'></a>Updated according to 8.1.rc0",
    "created_at": "2017-11-10T13:28:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23832#issuecomment-330214",
    "user": "https://github.com/koffie"
}
```

<a id='comment:28'></a>Updated according to 8.1.rc0



---

archive/issue_comments_330215.json:
```json
{
    "body": "<a id='comment:43'></a>Cleanup.",
    "created_at": "2018-05-11T05:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23832#issuecomment-330215",
    "user": "https://github.com/rwst"
}
```

<a id='comment:43'></a>Cleanup.



---

archive/issue_comments_330216.json:
```json
{
    "body": "<a id='comment:47'></a>outdated, should be closed",
    "created_at": "2020-04-25T02:08:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23832#issuecomment-330216",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>outdated, should be closed



---

archive/issue_comments_330217.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-04-25T02:08:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23832#issuecomment-330217",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_330218.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2020-06-28T19:13:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23832",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23832#issuecomment-330218",
    "user": "https://github.com/fchapoton"
}
```

Resolution: invalid



---

archive/issue_events_060739.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-06-28T19:13:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23832",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23832#event-60739"
}
```
