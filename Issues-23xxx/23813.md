# Issue 23813: Implement matrix action on polynomial scheme morphisms

archive/issues_023576.json:
```json
{
    "assignees": [],
    "body": "Created a left and right action by matrices on affine and projective polynomial scheme morphisms. The following examples now works:\n\n```\nsage: P.<x,y> = ProjectiveSpace(ZZ, 1)\nsage: H = Hom(P,P)\nsage: f = H([x^2 + y^2, y^2])\nsage: matrix([[1,2], [0,1]]) * f\nsage: f* matrix([[1,2], [0,1]]) \n```\nAdditionally, added conjugation by a matrix for affine dynamical systems. \n\nDepends on #23497\nDepends on #28174\n\nCC:  @bhutz @pfili\n\nKeywords: **matrix action, scheme morphism, SI2019**\n\nBranch/Commit: **[`53a42dc`](https://github.com/sagemath/sagetrac-mirror/commit/53a42dc83ea8c17320916fd23d02d232562f162f)**\n\nReviewer: **Ben Hutz, Paul Fili**\n\nAuthor: **Adam Towsley**\n\nComponent: **algebraic geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23813_\n\n",
    "closed_at": "2019-08-01T22:55:05Z",
    "created_at": "2017-09-09T16:24:43Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement matrix action on polynomial scheme morphisms",
    "type": "issue",
    "updated_at": "2019-08-01T22:55:05Z",
    "url": "https://github.com/sagemath/sage/issues/23813",
    "user": "https://github.com/sagetrac-atowsley"
}
```
Created a left and right action by matrices on affine and projective polynomial scheme morphisms. The following examples now works:

```
sage: P.<x,y> = ProjectiveSpace(ZZ, 1)
sage: H = Hom(P,P)
sage: f = H([x^2 + y^2, y^2])
sage: matrix([[1,2], [0,1]]) * f
sage: f* matrix([[1,2], [0,1]]) 
```
Additionally, added conjugation by a matrix for affine dynamical systems. 

Depends on #23497
Depends on #28174

CC:  @bhutz @pfili

Keywords: **matrix action, scheme morphism, SI2019**

Branch/Commit: **[`53a42dc`](https://github.com/sagemath/sagetrac-mirror/commit/53a42dc83ea8c17320916fd23d02d232562f162f)**

Reviewer: **Ben Hutz, Paul Fili**

Author: **Adam Towsley**

Component: **algebraic geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/23813_





---

archive/issue_events_330874.json:
```json
{
    "actor": "https://github.com/sagetrac-atowsley",
    "created_at": "2017-09-09T16:24:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330874"
}
```



---

archive/issue_events_330875.json:
```json
{
    "actor": "https://github.com/sagetrac-atowsley",
    "created_at": "2017-09-09T16:24:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "c: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330875"
}
```



---

archive/issue_events_330876.json:
```json
{
    "actor": "https://github.com/sagetrac-atowsley",
    "created_at": "2017-09-09T16:24:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330876"
}
```



---

archive/issue_events_330877.json:
```json
{
    "actor": "https://github.com/sagetrac-atowsley",
    "created_at": "2017-09-09T16:24:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330877"
}
```



---

archive/issue_comments_359275.json:
```json
{
    "body": "Branch: **[u/atowsley/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/atowsley/matrix_action_23813)**",
    "created_at": "2017-09-09T16:31:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359275",
    "user": "https://github.com/sagetrac-atowsley"
}
```

Branch: **[u/atowsley/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/atowsley/matrix_action_23813)**



---

archive/issue_comments_359276.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79378c30d23f4c3da284272115634e3776ef8c81\">79378c3</a></td><td><code>Merge branch 8.1.beta3 into t/23497/arith_dyn</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80ff2e673f93c961618923251d8d3d19786ad015\">80ff2e6</a></td><td><code>23497: some fixes from review</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdf7265fbc471bbf62483e7f6ffbd645bd08393d\">fdf7265</a></td><td><code>23497: doc formatting INPUT/OUTPUT</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc50108eb32d1fc33d030cc128eecbf6747d67a9\">cc50108</a></td><td><code>23497: use __classcall_private__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bbdcdebe2e1b603345d8a0cf46b8148be732e82\">4bbdcde</a></td><td><code>Fixing things with __classcall_private__.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7408d79a2c8833d0c496cc32a3755f1405bc2151\">7408d79</a></td><td><code>Cleaning up the doc and improving the code.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d00cea258b3b5797ca06ddd33ac55bf4e6ae701c\">d00cea2</a></td><td><code>23497: a couple minor fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/300a3b1fe5773b7983736cbbed23ed13c15e20b7\">300a3b1</a></td><td><code>Merge branch 8.1.beta4 into t/23497/arith_dyn-23497</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bdbf658dcbb2005227228a13330d5d4090d33724\">bdbf658</a></td><td><code>Fixing typo in doctest.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d8a9b63c1b5671904ff9a92684980b9bdf511bd\">1d8a9b6</a></td><td><code>23813 Implemented matrix actions on scheme morphisms</code></td></tr></table>\n",
    "created_at": "2017-09-09T16:31:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359276",
    "user": "https://github.com/sagetrac-atowsley"
}
```

<div id="comment:1" align="right">comment:1</div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79378c30d23f4c3da284272115634e3776ef8c81">79378c3</a></td><td><code>Merge branch 8.1.beta3 into t/23497/arith_dyn</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80ff2e673f93c961618923251d8d3d19786ad015">80ff2e6</a></td><td><code>23497: some fixes from review</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdf7265fbc471bbf62483e7f6ffbd645bd08393d">fdf7265</a></td><td><code>23497: doc formatting INPUT/OUTPUT</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc50108eb32d1fc33d030cc128eecbf6747d67a9">cc50108</a></td><td><code>23497: use __classcall_private__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bbdcdebe2e1b603345d8a0cf46b8148be732e82">4bbdcde</a></td><td><code>Fixing things with __classcall_private__.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7408d79a2c8833d0c496cc32a3755f1405bc2151">7408d79</a></td><td><code>Cleaning up the doc and improving the code.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d00cea258b3b5797ca06ddd33ac55bf4e6ae701c">d00cea2</a></td><td><code>23497: a couple minor fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/300a3b1fe5773b7983736cbbed23ed13c15e20b7">300a3b1</a></td><td><code>Merge branch 8.1.beta4 into t/23497/arith_dyn-23497</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bdbf658dcbb2005227228a13330d5d4090d33724">bdbf658</a></td><td><code>Fixing typo in doctest.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d8a9b63c1b5671904ff9a92684980b9bdf511bd">1d8a9b6</a></td><td><code>23813 Implemented matrix actions on scheme morphisms</code></td></tr></table>




---

archive/issue_comments_359277.json:
```json
{
    "body": "Commit: **[`1d8a9b6`](https://github.com/sagemath/sagetrac-mirror/commit/1d8a9b63c1b5671904ff9a92684980b9bdf511bd)**",
    "created_at": "2017-09-09T16:31:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359277",
    "user": "https://github.com/sagetrac-atowsley"
}
```

Commit: **[`1d8a9b6`](https://github.com/sagemath/sagetrac-mirror/commit/1d8a9b63c1b5671904ff9a92684980b9bdf511bd)**



---

archive/issue_events_330878.json:
```json
{
    "actor": "https://github.com/sagetrac-atowsley",
    "created_at": "2017-09-09T16:31:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330878"
}
```



---

archive/issue_comments_359278.json:
```json
{
    "body": "Reviewer: **Ben Hutz**",
    "created_at": "2017-09-09T17:20:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359278",
    "user": "https://github.com/bhutz"
}
```

Reviewer: **Ben Hutz**



---

archive/issue_events_330879.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-09-09T17:20:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330879"
}
```



---

archive/issue_events_330880.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-09-09T17:20:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330880"
}
```



---

archive/issue_comments_359279.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nHere are some comments for the code syntax\n\n- Examples:: -> EXAMPLES::\n\n- blank line after EXAMPELS in `__init__`\n\n- isinstance(, ) #space between args\n\n- all functions should have one line description before examples\n\n- def funct(, ) #space between parameters\n\n- blank line at end of action file\n\n- I don't think you use the AlgebraicScheme import in matrix_space\n\n\nNow some issues from functionality testing\n\nendomorphisms do not remain endomorphisms\n\n```\nP.<x, y> = ProjectiveSpace(QQ, 1)\nH = Hom(P, P)\nf = H([x^2 + y^2, y^2])\nm = matrix([[1,1], [0,1]])\nf.is_endomorphism(),(m*f).is_endomorphism(), (f*m).is_endomorphism()\n```\n\nAffine scheme morhisms don't have the action function\n\n```\nP.<x, y> = AffineSpace(QQ, 2)\nH = Hom(P, P)\nf = H([x^2 + y^2, y^2])\nm = matrix([[1,1,1], [0,1,0],[1,0,0]])\nf*m, m*f\n```\n\nI think it would helpful to separate the errors\n\n```\nP.<x, y> = ProjectiveSpace(QQ, 1)\nH = Hom(P, P)\nf = H([x^2 + y^2, y^2])\nm = matrix([[1]])\nf.as_dynamical_system().conjugate(m)\n```\n\nWhen the matrix ring is contained in the morphism base ring it can't work out the parent\n\n```\nP.<x, y> = ProjectiveSpace(CC, 1)\nH = Hom(P, P)\nf = H([x^2 + y^2, y^2])\nm = matrix(QQ,[[1,1], [1,0]])\nm*f\n```\neven more troubling\n\n```\nP.<x, y> = ProjectiveSpace(RR, 1)\nH = Hom(P, P)\nf = H([x^2 + RR(sqrt(2))*y^2, y^2])\nm = matrix(QQ,[[1,1], [1,0]])\nm*f\n```\n\nActing on a dynamical system gives back a projective morphism instead of a dynamical system\n\n```\nP.<x, y> = ProjectiveSpace(QQ, 1)\nH = Hom(P, P)\nf = H([x^2 + y^2, y^2])\nm = matrix([[1,1], [1,0]])\nfd=f.as_dynamical_system()\nm*fd\n```",
    "created_at": "2017-09-09T17:20:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359279",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:2" align="right">comment:2</div>

Here are some comments for the code syntax

- Examples:: -> EXAMPLES::

- blank line after EXAMPELS in `__init__`

- isinstance(, ) #space between args

- all functions should have one line description before examples

- def funct(, ) #space between parameters

- blank line at end of action file

- I don't think you use the AlgebraicScheme import in matrix_space


Now some issues from functionality testing

endomorphisms do not remain endomorphisms

```
P.<x, y> = ProjectiveSpace(QQ, 1)
H = Hom(P, P)
f = H([x^2 + y^2, y^2])
m = matrix([[1,1], [0,1]])
f.is_endomorphism(),(m*f).is_endomorphism(), (f*m).is_endomorphism()
```

Affine scheme morhisms don't have the action function

```
P.<x, y> = AffineSpace(QQ, 2)
H = Hom(P, P)
f = H([x^2 + y^2, y^2])
m = matrix([[1,1,1], [0,1,0],[1,0,0]])
f*m, m*f
```

I think it would helpful to separate the errors

```
P.<x, y> = ProjectiveSpace(QQ, 1)
H = Hom(P, P)
f = H([x^2 + y^2, y^2])
m = matrix([[1]])
f.as_dynamical_system().conjugate(m)
```

When the matrix ring is contained in the morphism base ring it can't work out the parent

```
P.<x, y> = ProjectiveSpace(CC, 1)
H = Hom(P, P)
f = H([x^2 + y^2, y^2])
m = matrix(QQ,[[1,1], [1,0]])
m*f
```
even more troubling

```
P.<x, y> = ProjectiveSpace(RR, 1)
H = Hom(P, P)
f = H([x^2 + RR(sqrt(2))*y^2, y^2])
m = matrix(QQ,[[1,1], [1,0]])
m*f
```

Acting on a dynamical system gives back a projective morphism instead of a dynamical system

```
P.<x, y> = ProjectiveSpace(QQ, 1)
H = Hom(P, P)
f = H([x^2 + y^2, y^2])
m = matrix([[1,1], [1,0]])
fd=f.as_dynamical_system()
m*fd
```



---

archive/issue_comments_359280.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52c966ffaab05c800011763772f3a0675ed3e50e\">52c966f</a></td><td><code>23813 Fixes from review by bhutz</code></td></tr></table>\n",
    "created_at": "2017-09-09T19:15:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359280",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52c966ffaab05c800011763772f3a0675ed3e50e">52c966f</a></td><td><code>23813 Fixes from review by bhutz</code></td></tr></table>




---

archive/issue_comments_359281.json:
```json
{
    "body": "Changed commit from **[`1d8a9b6`](https://github.com/sagemath/sagetrac-mirror/commit/1d8a9b63c1b5671904ff9a92684980b9bdf511bd)** to **[`52c966f`](https://github.com/sagemath/sagetrac-mirror/commit/52c966ffaab05c800011763772f3a0675ed3e50e)**",
    "created_at": "2017-09-09T19:15:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359281",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1d8a9b6`](https://github.com/sagemath/sagetrac-mirror/commit/1d8a9b63c1b5671904ff9a92684980b9bdf511bd)** to **[`52c966f`](https://github.com/sagemath/sagetrac-mirror/commit/52c966ffaab05c800011763772f3a0675ed3e50e)**



---

archive/issue_events_330881.json:
```json
{
    "actor": "https://github.com/sagetrac-atowsley",
    "created_at": "2017-09-09T19:20:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330881"
}
```



---

archive/issue_events_330882.json:
```json
{
    "actor": "https://github.com/sagetrac-atowsley",
    "created_at": "2017-09-09T19:20:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330882"
}
```



---

archive/issue_comments_359282.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4eefffc45543cec5625c8063b78110dc50ba6d21\">4eefffc</a></td><td><code>23813 Added matrix actions for affine morphisms</code></td></tr></table>\n",
    "created_at": "2017-09-09T20:53:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359282",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4eefffc45543cec5625c8063b78110dc50ba6d21">4eefffc</a></td><td><code>23813 Added matrix actions for affine morphisms</code></td></tr></table>




---

archive/issue_comments_359283.json:
```json
{
    "body": "Changed commit from **[`52c966f`](https://github.com/sagemath/sagetrac-mirror/commit/52c966ffaab05c800011763772f3a0675ed3e50e)** to **[`4eefffc`](https://github.com/sagemath/sagetrac-mirror/commit/4eefffc45543cec5625c8063b78110dc50ba6d21)**",
    "created_at": "2017-09-09T20:53:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359283",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`52c966f`](https://github.com/sagemath/sagetrac-mirror/commit/52c966ffaab05c800011763772f3a0675ed3e50e)** to **[`4eefffc`](https://github.com/sagemath/sagetrac-mirror/commit/4eefffc45543cec5625c8063b78110dc50ba6d21)**



---

archive/issue_comments_359284.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nMost everything seems fixed, except here is another issue with affines. I think the issue may actually be in dehomogenize().\n\n```\nP.<x, y> = AffineSpace(QQ, 2)\nP2.<u,v,w> = AffineSpace(QQ,3)\nH = Hom(P2, P)\nf = H([u^2 + v^2, w^2])\nm = matrix([[1,1,1], [1,0,1],[0,0,1]])\nm*f\n```",
    "created_at": "2017-09-09T21:12:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359284",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:6" align="right">comment:6</div>

Most everything seems fixed, except here is another issue with affines. I think the issue may actually be in dehomogenize().

```
P.<x, y> = AffineSpace(QQ, 2)
P2.<u,v,w> = AffineSpace(QQ,3)
H = Hom(P2, P)
f = H([u^2 + v^2, w^2])
m = matrix([[1,1,1], [1,0,1],[0,0,1]])
m*f
```



---

archive/issue_comments_359285.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86ab06aeee2ad614da02d28e8ba7f49c5b7e2fe7\">86ab06a</a></td><td><code>23813 fixed dehomogenize</code></td></tr></table>\n",
    "created_at": "2017-09-09T21:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359285",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86ab06aeee2ad614da02d28e8ba7f49c5b7e2fe7">86ab06a</a></td><td><code>23813 fixed dehomogenize</code></td></tr></table>




---

archive/issue_comments_359286.json:
```json
{
    "body": "Changed commit from **[`4eefffc`](https://github.com/sagemath/sagetrac-mirror/commit/4eefffc45543cec5625c8063b78110dc50ba6d21)** to **[`86ab06a`](https://github.com/sagemath/sagetrac-mirror/commit/86ab06aeee2ad614da02d28e8ba7f49c5b7e2fe7)**",
    "created_at": "2017-09-09T21:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359286",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4eefffc`](https://github.com/sagemath/sagetrac-mirror/commit/4eefffc45543cec5625c8063b78110dc50ba6d21)** to **[`86ab06a`](https://github.com/sagemath/sagetrac-mirror/commit/86ab06aeee2ad614da02d28e8ba7f49c5b7e2fe7)**



---

archive/issue_comments_359287.json:
```json
{
    "body": "Changed reviewer from **Ben Hutz** to **Ben Hutz, Paul Fili**",
    "created_at": "2017-09-09T21:36:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359287",
    "user": "https://github.com/pfili"
}
```

Changed reviewer from **Ben Hutz** to **Ben Hutz, Paul Fili**



---

archive/issue_comments_359288.json:
```json
{
    "body": "Changed commit from **[`86ab06a`](https://github.com/sagemath/sagetrac-mirror/commit/86ab06aeee2ad614da02d28e8ba7f49c5b7e2fe7)** to **[`3ebecc9`](https://github.com/sagemath/sagetrac-mirror/commit/3ebecc9f11cca4837f69839f43b5d9d2fd8c342e)**",
    "created_at": "2017-09-09T21:40:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359288",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`86ab06a`](https://github.com/sagemath/sagetrac-mirror/commit/86ab06aeee2ad614da02d28e8ba7f49c5b7e2fe7)** to **[`3ebecc9`](https://github.com/sagemath/sagetrac-mirror/commit/3ebecc9f11cca4837f69839f43b5d9d2fd8c342e)**



---

archive/issue_comments_359289.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ebecc9f11cca4837f69839f43b5d9d2fd8c342e\">3ebecc9</a></td><td><code>23813 Added examples, fixed dehomogenize again.</code></td></tr></table>\n",
    "created_at": "2017-09-09T21:40:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359289",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ebecc9f11cca4837f69839f43b5d9d2fd8c342e">3ebecc9</a></td><td><code>23813 Added examples, fixed dehomogenize again.</code></td></tr></table>




---

archive/issue_events_330883.json:
```json
{
    "actor": "https://github.com/pfili",
    "created_at": "2017-09-09T22:55:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330883"
}
```



---

archive/issue_events_330884.json:
```json
{
    "actor": "https://github.com/pfili",
    "created_at": "2017-09-09T22:55:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330884"
}
```



---

archive/issue_comments_359290.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nmerge conflict",
    "created_at": "2017-09-11T23:45:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359290",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:11" align="right">comment:11</div>

merge conflict



---

archive/issue_events_330885.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-09-11T23:45:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330885"
}
```



---

archive/issue_events_330886.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-09-11T23:45:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330886"
}
```



---

archive/issue_comments_359291.json:
```json
{
    "body": "Changed branch from **[u/atowsley/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/atowsley/matrix_action_23813)** to **[u/bhutz/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/matrix_action_23813)**",
    "created_at": "2017-09-11T23:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359291",
    "user": "https://github.com/bhutz"
}
```

Changed branch from **[u/atowsley/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/atowsley/matrix_action_23813)** to **[u/bhutz/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/matrix_action_23813)**



---

archive/issue_comments_359292.json:
```json
{
    "body": "Changed commit from **[`3ebecc9`](https://github.com/sagemath/sagetrac-mirror/commit/3ebecc9f11cca4837f69839f43b5d9d2fd8c342e)** to **[`a4ee148`](https://github.com/sagemath/sagetrac-mirror/commit/a4ee1486ddd5d50356b28296eb4132134cb1cbb1)**",
    "created_at": "2017-09-11T23:49:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359292",
    "user": "https://github.com/bhutz"
}
```

Changed commit from **[`3ebecc9`](https://github.com/sagemath/sagetrac-mirror/commit/3ebecc9f11cca4837f69839f43b5d9d2fd8c342e)** to **[`a4ee148`](https://github.com/sagemath/sagetrac-mirror/commit/a4ee1486ddd5d50356b28296eb4132134cb1cbb1)**



---

archive/issue_events_330887.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-09-11T23:49:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330887"
}
```



---

archive/issue_events_330888.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-09-11T23:49:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330888"
}
```



---

archive/issue_comments_359293.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nfixed. please check that i didn't break anything.\n  \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2eecc68b05527c59db06daba1bedadc5756e8e05\">2eecc68</a></td><td><code>Merge branch 8.1.beta5 into t/23497/arith_dyn-23497</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4ee1486ddd5d50356b28296eb4132134cb1cbb1\">a4ee148</a></td><td><code>Merge branch 't/23497/arith_dyn-23497' into t/23813/matrix_action_23813</code></td></tr></table>\n",
    "created_at": "2017-09-11T23:49:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359293",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:13" align="right">comment:13</div>

fixed. please check that i didn't break anything.
  
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2eecc68b05527c59db06daba1bedadc5756e8e05">2eecc68</a></td><td><code>Merge branch 8.1.beta5 into t/23497/arith_dyn-23497</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4ee1486ddd5d50356b28296eb4132134cb1cbb1">a4ee148</a></td><td><code>Merge branch 't/23497/arith_dyn-23497' into t/23813/matrix_action_23813</code></td></tr></table>




---

archive/issue_comments_359294.json:
```json
{
    "body": "Changed branch from **[u/bhutz/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/matrix_action_23813)** to **[u/paulfili/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/paulfili/matrix_action_23813)**",
    "created_at": "2017-09-13T15:52:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359294",
    "user": "https://github.com/pfili"
}
```

Changed branch from **[u/bhutz/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/matrix_action_23813)** to **[u/paulfili/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/paulfili/matrix_action_23813)**



---

archive/issue_events_330889.json:
```json
{
    "actor": "https://github.com/pfili",
    "created_at": "2017-09-13T15:54:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330889"
}
```



---

archive/issue_events_330890.json:
```json
{
    "actor": "https://github.com/pfili",
    "created_at": "2017-09-13T15:54:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330890"
}
```



---

archive/issue_comments_359295.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI added a \"minimal\" option that finds the minimal field of definition. I haven't had a chance to test it much yet, or add a doctest illustrating the functionality. Can you guys check it out and see if it works as desired?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d2c4522cefcf065fca8121355fba558cfe0954c\">6d2c452</a></td><td><code>Added minimal field functionality</code></td></tr></table>\n",
    "created_at": "2017-09-13T15:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359295",
    "user": "https://github.com/pfili"
}
```

<div id="comment:15" align="right">comment:15</div>

I added a "minimal" option that finds the minimal field of definition. I haven't had a chance to test it much yet, or add a doctest illustrating the functionality. Can you guys check it out and see if it works as desired?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d2c4522cefcf065fca8121355fba558cfe0954c">6d2c452</a></td><td><code>Added minimal field functionality</code></td></tr></table>




---

archive/issue_comments_359296.json:
```json
{
    "body": "Changed commit from **[`a4ee148`](https://github.com/sagemath/sagetrac-mirror/commit/a4ee1486ddd5d50356b28296eb4132134cb1cbb1)** to **[`6d2c452`](https://github.com/sagemath/sagetrac-mirror/commit/6d2c4522cefcf065fca8121355fba558cfe0954c)**",
    "created_at": "2017-09-13T15:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359296",
    "user": "https://github.com/pfili"
}
```

Changed commit from **[`a4ee148`](https://github.com/sagemath/sagetrac-mirror/commit/a4ee1486ddd5d50356b28296eb4132134cb1cbb1)** to **[`6d2c452`](https://github.com/sagemath/sagetrac-mirror/commit/6d2c4522cefcf065fca8121355fba558cfe0954c)**



---

archive/issue_comments_359297.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nmerge conflict",
    "created_at": "2017-09-14T20:11:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359297",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:16" align="right">comment:16</div>

merge conflict



---

archive/issue_comments_359298.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI didn't see a new commit, but the conflict seems to be worked out. However, the code doesn't work\n\n```\nsage: K.<w>=QuadraticField(5)\nsage: P.<x, y> = ProjectiveSpace(K, 1)\nsage: f = DynamicalSystem([x^2 + 2*y^2, y^2])\nsage: m = matrix(QQ,[[1,1], [1,0]])\nsage: f.conjugate(m,minimal=True)\nNameError: global name 'number_field_elements_from_algebraics' is not defined\n```\n\nI think this is probably better as a separate function as I can see more uses for this. Then conjugate can call that function based on the minimal parameter.\n\nI'm also tempted to separate that out from matrix actions and make it its own ticket. What do you think?",
    "created_at": "2017-09-26T20:49:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359298",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:17" align="right">comment:17</div>

I didn't see a new commit, but the conflict seems to be worked out. However, the code doesn't work

```
sage: K.<w>=QuadraticField(5)
sage: P.<x, y> = ProjectiveSpace(K, 1)
sage: f = DynamicalSystem([x^2 + 2*y^2, y^2])
sage: m = matrix(QQ,[[1,1], [1,0]])
sage: f.conjugate(m,minimal=True)
NameError: global name 'number_field_elements_from_algebraics' is not defined
```

I think this is probably better as a separate function as I can see more uses for this. Then conjugate can call that function based on the minimal parameter.

I'm also tempted to separate that out from matrix actions and make it its own ticket. What do you think?



---

archive/issue_comments_359299.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nSure, we can make a new ticket with this functionality. I'll check what's going wrong as soon as I can, the examples I ran worked somehow.",
    "created_at": "2017-09-26T22:01:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359299",
    "user": "https://github.com/pfili"
}
```

<div id="comment:18" align="right">comment:18</div>

Sure, we can make a new ticket with this functionality. I'll check what's going wrong as soon as I can, the examples I ran worked somehow.



---

archive/issue_comments_359300.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI agree that this should probably be a new ticket since it can be used in other situations as well. I'll let Paul separate out the code and then I'll rerun the tests on this ticket.",
    "created_at": "2017-09-27T13:39:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359300",
    "user": "https://github.com/sagetrac-atowsley"
}
```

<div id="comment:19" align="right">comment:19</div>

I agree that this should probably be a new ticket since it can be used in other situations as well. I'll let Paul separate out the code and then I'll rerun the tests on this ticket.



---

archive/issue_comments_359301.json:
```json
{
    "body": "Changed branch from **[u/paulfili/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/paulfili/matrix_action_23813)** to **[u/gh-Torrencem/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Torrencem/matrix_action_23813)**",
    "created_at": "2019-07-03T19:04:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359301",
    "user": "https://github.com/Torrencem"
}
```

Changed branch from **[u/paulfili/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/paulfili/matrix_action_23813)** to **[u/gh-Torrencem/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Torrencem/matrix_action_23813)**



---

archive/issue_comments_359302.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nFix merge conflicts\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/caaf095929a0e3db514ad1de83045af97f497b7c\">caaf095</a></td><td><code>23813: Fixed Merge Conflict</code></td></tr></table>\n",
    "created_at": "2019-07-03T19:04:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359302",
    "user": "https://github.com/Torrencem"
}
```

<div id="comment:20" align="right">comment:20</div>

Fix merge conflicts

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/caaf095929a0e3db514ad1de83045af97f497b7c">caaf095</a></td><td><code>23813: Fixed Merge Conflict</code></td></tr></table>




---

archive/issue_comments_359303.json:
```json
{
    "body": "Changed commit from **[`6d2c452`](https://github.com/sagemath/sagetrac-mirror/commit/6d2c4522cefcf065fca8121355fba558cfe0954c)** to **[`caaf095`](https://github.com/sagemath/sagetrac-mirror/commit/caaf095929a0e3db514ad1de83045af97f497b7c)**",
    "created_at": "2019-07-03T19:04:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359303",
    "user": "https://github.com/Torrencem"
}
```

Changed commit from **[`6d2c452`](https://github.com/sagemath/sagetrac-mirror/commit/6d2c4522cefcf065fca8121355fba558cfe0954c)** to **[`caaf095`](https://github.com/sagemath/sagetrac-mirror/commit/caaf095929a0e3db514ad1de83045af97f497b7c)**



---

archive/issue_comments_359304.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56aa2d15fc802fcdafdf372fe5d1d1b214667957\">56aa2d1</a></td><td><code>23813: Fix build error</code></td></tr></table>\n",
    "created_at": "2019-07-03T19:27:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359304",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56aa2d15fc802fcdafdf372fe5d1d1b214667957">56aa2d1</a></td><td><code>23813: Fix build error</code></td></tr></table>




---

archive/issue_comments_359305.json:
```json
{
    "body": "Changed commit from **[`caaf095`](https://github.com/sagemath/sagetrac-mirror/commit/caaf095929a0e3db514ad1de83045af97f497b7c)** to **[`56aa2d1`](https://github.com/sagemath/sagetrac-mirror/commit/56aa2d15fc802fcdafdf372fe5d1d1b214667957)**",
    "created_at": "2019-07-03T19:27:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359305",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`caaf095`](https://github.com/sagemath/sagetrac-mirror/commit/caaf095929a0e3db514ad1de83045af97f497b7c)** to **[`56aa2d1`](https://github.com/sagemath/sagetrac-mirror/commit/56aa2d15fc802fcdafdf372fe5d1d1b214667957)**



---

archive/issue_comments_359306.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4fd38ab766d24cd1fdc5b9fb8140b345b1a5ac0\">d4fd38a</a></td><td><code>23813: Fix old doctest format</code></td></tr></table>\n",
    "created_at": "2019-07-03T20:06:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359306",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4fd38ab766d24cd1fdc5b9fb8140b345b1a5ac0">d4fd38a</a></td><td><code>23813: Fix old doctest format</code></td></tr></table>




---

archive/issue_comments_359307.json:
```json
{
    "body": "Changed commit from **[`56aa2d1`](https://github.com/sagemath/sagetrac-mirror/commit/56aa2d15fc802fcdafdf372fe5d1d1b214667957)** to **[`d4fd38a`](https://github.com/sagemath/sagetrac-mirror/commit/d4fd38ab766d24cd1fdc5b9fb8140b345b1a5ac0)**",
    "created_at": "2019-07-03T20:06:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359307",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`56aa2d1`](https://github.com/sagemath/sagetrac-mirror/commit/56aa2d15fc802fcdafdf372fe5d1d1b214667957)** to **[`d4fd38a`](https://github.com/sagemath/sagetrac-mirror/commit/d4fd38ab766d24cd1fdc5b9fb8140b345b1a5ac0)**



---

archive/issue_comments_359308.json:
```json
{
    "body": "Changed commit from **[`d4fd38a`](https://github.com/sagemath/sagetrac-mirror/commit/d4fd38ab766d24cd1fdc5b9fb8140b345b1a5ac0)** to **[`026af53`](https://github.com/sagemath/sagetrac-mirror/commit/026af53e8073778fdd4fd2c33aa42fec8a57c172)**",
    "created_at": "2019-07-09T13:17:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359308",
    "user": "https://github.com/Torrencem"
}
```

Changed commit from **[`d4fd38a`](https://github.com/sagemath/sagetrac-mirror/commit/d4fd38ab766d24cd1fdc5b9fb8140b345b1a5ac0)** to **[`026af53`](https://github.com/sagemath/sagetrac-mirror/commit/026af53e8073778fdd4fd2c33aa42fec8a57c172)**



---

archive/issue_comments_359309.json:
```json
{
    "body": "Changed branch from **[u/gh-Torrencem/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Torrencem/matrix_action_23813)** to **[u/gh-Torrencem/23813_matrix_action](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Torrencem/23813_matrix_action)**",
    "created_at": "2019-07-09T13:17:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359309",
    "user": "https://github.com/Torrencem"
}
```

Changed branch from **[u/gh-Torrencem/matrix_action_23813](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Torrencem/matrix_action_23813)** to **[u/gh-Torrencem/23813_matrix_action](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Torrencem/23813_matrix_action)**



---

archive/issue_comments_359310.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nHere's an updated branch with 8.9\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3536f9fa50cfdd3aaf56d96e42da2fef7d3c192\">d3536f9</a></td><td><code>23813 Implemented matrix actions on scheme morphisms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4018e0f99744f873eb1988aa251ddd807b6322c5\">4018e0f</a></td><td><code>23813 Fixes from review by bhutz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2cc967b9d41bc9f5fc72a900c2f7f70ab86133d7\">2cc967b</a></td><td><code>23813 Added matrix actions for affine morphisms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/449552b474d6d694a4f614303f178c3cc1949662\">449552b</a></td><td><code>23813 fixed dehomogenize</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d7433f26c0c000a191d725ba2e801c6fc340c5e\">5d7433f</a></td><td><code>23813 Added examples, fixed dehomogenize again.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/349e9a0fa2e01c1807f3366c9f3a54ddeae2b647\">349e9a0</a></td><td><code>Added minimal field functionality</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e009075299e61bf83f6fe471d3bf512d49237351\">e009075</a></td><td><code>23813: Fix build error</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e78efc7c07da74b58a69184346d6235ee41b03d4\">e78efc7</a></td><td><code>23813: Fix old doctest format</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/026af53e8073778fdd4fd2c33aa42fec8a57c172\">026af53</a></td><td><code>23813: Clean up and rebase for 8.9</code></td></tr></table>\n",
    "created_at": "2019-07-09T13:17:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359310",
    "user": "https://github.com/Torrencem"
}
```

<div id="comment:23" align="right">comment:23</div>

Here's an updated branch with 8.9

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3536f9fa50cfdd3aaf56d96e42da2fef7d3c192">d3536f9</a></td><td><code>23813 Implemented matrix actions on scheme morphisms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4018e0f99744f873eb1988aa251ddd807b6322c5">4018e0f</a></td><td><code>23813 Fixes from review by bhutz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2cc967b9d41bc9f5fc72a900c2f7f70ab86133d7">2cc967b</a></td><td><code>23813 Added matrix actions for affine morphisms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/449552b474d6d694a4f614303f178c3cc1949662">449552b</a></td><td><code>23813 fixed dehomogenize</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d7433f26c0c000a191d725ba2e801c6fc340c5e">5d7433f</a></td><td><code>23813 Added examples, fixed dehomogenize again.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/349e9a0fa2e01c1807f3366c9f3a54ddeae2b647">349e9a0</a></td><td><code>Added minimal field functionality</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e009075299e61bf83f6fe471d3bf512d49237351">e009075</a></td><td><code>23813: Fix build error</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e78efc7c07da74b58a69184346d6235ee41b03d4">e78efc7</a></td><td><code>23813: Fix old doctest format</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/026af53e8073778fdd4fd2c33aa42fec8a57c172">026af53</a></td><td><code>23813: Clean up and rebase for 8.9</code></td></tr></table>




---

archive/issue_comments_359311.json:
```json
{
    "body": "Changed commit from **[`026af53`](https://github.com/sagemath/sagetrac-mirror/commit/026af53e8073778fdd4fd2c33aa42fec8a57c172)** to **[`40a9aed`](https://github.com/sagemath/sagetrac-mirror/commit/40a9aedff2e905e244b2a672ba006ea1b9eaf543)**",
    "created_at": "2019-07-11T12:55:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359311",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`026af53`](https://github.com/sagemath/sagetrac-mirror/commit/026af53e8073778fdd4fd2c33aa42fec8a57c172)** to **[`40a9aed`](https://github.com/sagemath/sagetrac-mirror/commit/40a9aedff2e905e244b2a672ba006ea1b9eaf543)**



---

archive/issue_comments_359312.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40a9aedff2e905e244b2a672ba006ea1b9eaf543\">40a9aed</a></td><td><code>23813: Refactor rename `_call_` to _act_</code></td></tr></table>\n",
    "created_at": "2019-07-11T12:55:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359312",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40a9aedff2e905e244b2a672ba006ea1b9eaf543">40a9aed</a></td><td><code>23813: Refactor rename `_call_` to _act_</code></td></tr></table>




---

archive/issue_comments_359313.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d6c225f7fb79e8591b6635b6845488cf9e7c622\">5d6c225</a></td><td><code>23813: Fix typo in PolymapMatrixAction</code></td></tr></table>\n",
    "created_at": "2019-07-11T13:18:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359313",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d6c225f7fb79e8591b6635b6845488cf9e7c622">5d6c225</a></td><td><code>23813: Fix typo in PolymapMatrixAction</code></td></tr></table>




---

archive/issue_comments_359314.json:
```json
{
    "body": "Changed commit from **[`40a9aed`](https://github.com/sagemath/sagetrac-mirror/commit/40a9aedff2e905e244b2a672ba006ea1b9eaf543)** to **[`5d6c225`](https://github.com/sagemath/sagetrac-mirror/commit/5d6c225f7fb79e8591b6635b6845488cf9e7c622)**",
    "created_at": "2019-07-11T13:18:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359314",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`40a9aed`](https://github.com/sagemath/sagetrac-mirror/commit/40a9aedff2e905e244b2a672ba006ea1b9eaf543)** to **[`5d6c225`](https://github.com/sagemath/sagetrac-mirror/commit/5d6c225f7fb79e8591b6635b6845488cf9e7c622)**



---

archive/issue_comments_359315.json:
```json
{
    "body": "Changed commit from **[`5d6c225`](https://github.com/sagemath/sagetrac-mirror/commit/5d6c225f7fb79e8591b6635b6845488cf9e7c622)** to **[`df91cc1`](https://github.com/sagemath/sagetrac-mirror/commit/df91cc158f6b3beb12d12a0efbef68b9b8ec47a2)**",
    "created_at": "2019-07-11T14:27:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359315",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5d6c225`](https://github.com/sagemath/sagetrac-mirror/commit/5d6c225f7fb79e8591b6635b6845488cf9e7c622)** to **[`df91cc1`](https://github.com/sagemath/sagetrac-mirror/commit/df91cc158f6b3beb12d12a0efbef68b9b8ec47a2)**



---

archive/issue_comments_359316.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df91cc158f6b3beb12d12a0efbef68b9b8ec47a2\">df91cc1</a></td><td><code>23813: Add more descriptive error message and remove minimal from conjugate for this ticket</code></td></tr></table>\n",
    "created_at": "2019-07-11T14:27:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359316",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df91cc158f6b3beb12d12a0efbef68b9b8ec47a2">df91cc1</a></td><td><code>23813: Add more descriptive error message and remove minimal from conjugate for this ticket</code></td></tr></table>




---

archive/issue_comments_359317.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7efb17b2e77fce0e70f20545e696ecc8e41a2fa\">e7efb17</a></td><td><code>23813: Fix strange test suite problems</code></td></tr></table>\n",
    "created_at": "2019-07-11T14:49:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359317",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7efb17b2e77fce0e70f20545e696ecc8e41a2fa">e7efb17</a></td><td><code>23813: Fix strange test suite problems</code></td></tr></table>




---

archive/issue_comments_359318.json:
```json
{
    "body": "Changed commit from **[`df91cc1`](https://github.com/sagemath/sagetrac-mirror/commit/df91cc158f6b3beb12d12a0efbef68b9b8ec47a2)** to **[`e7efb17`](https://github.com/sagemath/sagetrac-mirror/commit/e7efb17b2e77fce0e70f20545e696ecc8e41a2fa)**",
    "created_at": "2019-07-11T14:49:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359318",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`df91cc1`](https://github.com/sagemath/sagetrac-mirror/commit/df91cc158f6b3beb12d12a0efbef68b9b8ec47a2)** to **[`e7efb17`](https://github.com/sagemath/sagetrac-mirror/commit/e7efb17b2e77fce0e70f20545e696ecc8e41a2fa)**



---

archive/issue_events_330891.json:
```json
{
    "actor": "https://github.com/Torrencem",
    "created_at": "2019-07-11T14:51:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330891"
}
```



---

archive/issue_events_330892.json:
```json
{
    "actor": "https://github.com/Torrencem",
    "created_at": "2019-07-11T14:51:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330892"
}
```



---

archive/issue_comments_359319.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThe previous commits all fix test cases and add more descriptive error messages. I think the ticket is ready to be finally reviewed",
    "created_at": "2019-07-11T14:51:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359319",
    "user": "https://github.com/Torrencem"
}
```

<div id="comment:28" align="right">comment:28</div>

The previous commits all fix test cases and add more descriptive error messages. I think the ticket is ready to be finally reviewed



---

archive/issue_comments_359320.json:
```json
{
    "body": "Changed dependencies from **#23497** to **#23497, #28174**",
    "created_at": "2019-07-11T16:34:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359320",
    "user": "https://github.com/Torrencem"
}
```

Changed dependencies from **#23497** to **#23497, #28174**



---

archive/issue_comments_359321.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nNote that in Ticket #28174 there's a functionality change that is required for this ticket. In particular, in master currently `dehomogenize` fails for non-endomorphisms like in some of the examples here.",
    "created_at": "2019-07-11T16:34:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359321",
    "user": "https://github.com/Torrencem"
}
```

<div id="comment:29" align="right">comment:29</div>

Note that in Ticket #28174 there's a functionality change that is required for this ticket. In particular, in master currently `dehomogenize` fails for non-endomorphisms like in some of the examples here.



---

archive/issue_events_330893.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2019-07-13T18:13:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330893"
}
```



---

archive/issue_events_330894.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2019-07-13T18:13:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330894"
}
```



---

archive/issue_comments_359322.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThe functionality of the action looks good, but there are few things to do here:\n\n- MatrixPolymapAction: functions need description + INPUT\n\n- affine_morphism: delete multiplier function (the deprecated function was removed in #27900)\n\n- careful with #23174 as I get a duplicate definition of M when both branch branches are merged in. I don't think you need 975 redefining M since you already have that defined as N on 969. Then the for loop on 976 should be with N.\n\n- conjugate is giving a TypeError and the action a ValueError with bad matrices. These error types should match.\n\n- I seem to be getting two doc test dehomogenization failures, affine_morphism and projective_morphism that are minor and need to be addressed",
    "created_at": "2019-07-13T18:13:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359322",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:30" align="right">comment:30</div>

The functionality of the action looks good, but there are few things to do here:

- MatrixPolymapAction: functions need description + INPUT

- affine_morphism: delete multiplier function (the deprecated function was removed in #27900)

- careful with #23174 as I get a duplicate definition of M when both branch branches are merged in. I don't think you need 975 redefining M since you already have that defined as N on 969. Then the for loop on 976 should be with N.

- conjugate is giving a TypeError and the action a ValueError with bad matrices. These error types should match.

- I seem to be getting two doc test dehomogenization failures, affine_morphism and projective_morphism that are minor and need to be addressed



---

archive/issue_comments_359323.json:
```json
{
    "body": "Changed commit from **[`e7efb17`](https://github.com/sagemath/sagetrac-mirror/commit/e7efb17b2e77fce0e70f20545e696ecc8e41a2fa)** to **[`c5ae510`](https://github.com/sagemath/sagetrac-mirror/commit/c5ae51025eb4b715c6493cae35b444d15aa4eeec)**",
    "created_at": "2019-07-18T13:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359323",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e7efb17`](https://github.com/sagemath/sagetrac-mirror/commit/e7efb17b2e77fce0e70f20545e696ecc8e41a2fa)** to **[`c5ae510`](https://github.com/sagemath/sagetrac-mirror/commit/c5ae51025eb4b715c6493cae35b444d15aa4eeec)**



---

archive/issue_comments_359324.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7075034b0f08892abc4a5f74d5bc26384205da04\">7075034</a></td><td><code>Merge branch 'u/gh-Torrencem/23813_matrix_action' of git://trac.sagemath.org/sage into coerce_review</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f462a0255fef1590a6979d4b95fee204f55b432\">4f462a0</a></td><td><code>28174: Fix dehomogenization error for non-endomorphisms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5ae51025eb4b715c6493cae35b444d15aa4eeec\">c5ae510</a></td><td><code>23813: merge with 28174 as dependency</code></td></tr></table>\n",
    "created_at": "2019-07-18T13:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359324",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7075034b0f08892abc4a5f74d5bc26384205da04">7075034</a></td><td><code>Merge branch 'u/gh-Torrencem/23813_matrix_action' of git://trac.sagemath.org/sage into coerce_review</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f462a0255fef1590a6979d4b95fee204f55b432">4f462a0</a></td><td><code>28174: Fix dehomogenization error for non-endomorphisms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5ae51025eb4b715c6493cae35b444d15aa4eeec">c5ae510</a></td><td><code>23813: merge with 28174 as dependency</code></td></tr></table>




---

archive/issue_comments_359325.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/edd2ff76bc70b4bec8f2b50d50b5ffb20c7cc78c\">edd2ff7</a></td><td><code>23813: Change matrixpolymapaction docs, delete deprecated multiplier, changed action to TypeError, fixed test failures</code></td></tr></table>\n",
    "created_at": "2019-07-18T14:33:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359325",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/edd2ff76bc70b4bec8f2b50d50b5ffb20c7cc78c">edd2ff7</a></td><td><code>23813: Change matrixpolymapaction docs, delete deprecated multiplier, changed action to TypeError, fixed test failures</code></td></tr></table>




---

archive/issue_comments_359326.json:
```json
{
    "body": "Changed commit from **[`c5ae510`](https://github.com/sagemath/sagetrac-mirror/commit/c5ae51025eb4b715c6493cae35b444d15aa4eeec)** to **[`edd2ff7`](https://github.com/sagemath/sagetrac-mirror/commit/edd2ff76bc70b4bec8f2b50d50b5ffb20c7cc78c)**",
    "created_at": "2019-07-18T14:33:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359326",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c5ae510`](https://github.com/sagemath/sagetrac-mirror/commit/c5ae51025eb4b715c6493cae35b444d15aa4eeec)** to **[`edd2ff7`](https://github.com/sagemath/sagetrac-mirror/commit/edd2ff76bc70b4bec8f2b50d50b5ffb20c7cc78c)**



---

archive/issue_comments_359327.json:
```json
{
    "body": "Changed commit from **[`edd2ff7`](https://github.com/sagemath/sagetrac-mirror/commit/edd2ff76bc70b4bec8f2b50d50b5ffb20c7cc78c)** to **[`b013ecd`](https://github.com/sagemath/sagetrac-mirror/commit/b013ecdc84b659b8fec3f714e9561b6bc9d94c9f)**",
    "created_at": "2019-07-18T14:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359327",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`edd2ff7`](https://github.com/sagemath/sagetrac-mirror/commit/edd2ff76bc70b4bec8f2b50d50b5ffb20c7cc78c)** to **[`b013ecd`](https://github.com/sagemath/sagetrac-mirror/commit/b013ecdc84b659b8fec3f714e9561b6bc9d94c9f)**



---

archive/issue_comments_359328.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b013ecdc84b659b8fec3f714e9561b6bc9d94c9f\">b013ecd</a></td><td><code>23813: fix doc typo for build</code></td></tr></table>\n",
    "created_at": "2019-07-18T14:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359328",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b013ecdc84b659b8fec3f714e9561b6bc9d94c9f">b013ecd</a></td><td><code>23813: fix doc typo for build</code></td></tr></table>




---

archive/issue_events_330895.json:
```json
{
    "actor": "https://github.com/Torrencem",
    "created_at": "2019-07-18T14:44:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330895"
}
```



---

archive/issue_events_330896.json:
```json
{
    "actor": "https://github.com/Torrencem",
    "created_at": "2019-07-18T14:44:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330896"
}
```



---

archive/issue_comments_359329.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nAll the suggested changes are added, and all the tests seem to pass now. Marking as `needs_review`",
    "created_at": "2019-07-18T14:44:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359329",
    "user": "https://github.com/Torrencem"
}
```

<div id="comment:34" align="right">comment:34</div>

All the suggested changes are added, and all the tests seem to pass now. Marking as `needs_review`



---

archive/issue_events_330897.json:
```json
{
    "actor": "https://github.com/Torrencem",
    "created_at": "2019-07-18T14:46:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330897"
}
```



---

archive/issue_events_330898.json:
```json
{
    "actor": "https://github.com/Torrencem",
    "created_at": "2019-07-18T14:46:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330898"
}
```



---

archive/issue_events_330899.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2019-07-18T17:54:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330899"
}
```



---

archive/issue_events_330900.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2019-07-18T17:54:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330900"
}
```



---

archive/issue_comments_359330.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nJust one minor issue here:\n\n- missed an error type in polymap_times_matrix. It still is a ValueError when the rest are TypeErrors",
    "created_at": "2019-07-18T17:54:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359330",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:36" align="right">comment:36</div>

Just one minor issue here:

- missed an error type in polymap_times_matrix. It still is a ValueError when the rest are TypeErrors



---

archive/issue_comments_359331.json:
```json
{
    "body": "Changed keywords from **matrix action, scheme morphism** to **matrix action, scheme morphism, SI2019**",
    "created_at": "2019-07-25T13:55:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359331",
    "user": "https://github.com/Torrencem"
}
```

Changed keywords from **matrix action, scheme morphism** to **matrix action, scheme morphism, SI2019**



---

archive/issue_comments_359332.json:
```json
{
    "body": "Changed commit from **[`b013ecd`](https://github.com/sagemath/sagetrac-mirror/commit/b013ecdc84b659b8fec3f714e9561b6bc9d94c9f)** to **[`53a42dc`](https://github.com/sagemath/sagetrac-mirror/commit/53a42dc83ea8c17320916fd23d02d232562f162f)**",
    "created_at": "2019-07-30T13:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359332",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b013ecd`](https://github.com/sagemath/sagetrac-mirror/commit/b013ecdc84b659b8fec3f714e9561b6bc9d94c9f)** to **[`53a42dc`](https://github.com/sagemath/sagetrac-mirror/commit/53a42dc83ea8c17320916fd23d02d232562f162f)**



---

archive/issue_comments_359333.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53a42dc83ea8c17320916fd23d02d232562f162f\">53a42dc</a></td><td><code>23813: Changed error type to TypeError</code></td></tr></table>\n",
    "created_at": "2019-07-30T13:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359333",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53a42dc83ea8c17320916fd23d02d232562f162f">53a42dc</a></td><td><code>23813: Changed error type to TypeError</code></td></tr></table>




---

archive/issue_comments_359334.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nfixed",
    "created_at": "2019-07-30T13:19:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359334",
    "user": "https://github.com/Torrencem"
}
```

<div id="comment:39" align="right">comment:39</div>

fixed



---

archive/issue_events_330901.json:
```json
{
    "actor": "https://github.com/Torrencem",
    "created_at": "2019-07-30T13:19:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330901"
}
```



---

archive/issue_events_330902.json:
```json
{
    "actor": "https://github.com/Torrencem",
    "created_at": "2019-07-30T13:19:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330902"
}
```



---

archive/issue_events_330903.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2019-07-30T14:36:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330903"
}
```



---

archive/issue_events_330904.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2019-07-30T14:36:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330904"
}
```



---

archive/issue_comments_359335.json:
```json
{
    "body": "Changed branch from **[u/gh-Torrencem/23813_matrix_action](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Torrencem/23813_matrix_action)** to **[`53a42dc`](https://github.com/sagemath/sagetrac-mirror/commit/53a42dc83ea8c17320916fd23d02d232562f162f)**",
    "created_at": "2019-08-01T22:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23813#issuecomment-359335",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-Torrencem/23813_matrix_action](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Torrencem/23813_matrix_action)** to **[`53a42dc`](https://github.com/sagemath/sagetrac-mirror/commit/53a42dc83ea8c17320916fd23d02d232562f162f)**



---

archive/issue_events_330905.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-08-01T22:55:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330905"
}
```



---

archive/issue_events_330906.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3caf34d332927ca0ae678464ee37316ffdeb1273",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-08-01T22:55:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23813",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23813#event-330906"
}
```
