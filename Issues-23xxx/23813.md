# Issue 23813: Implement matrix action on polynomial scheme morphisms

archive/issues_023576.json:
```json
{
    "body": "Created a left and right action by matrices on affine and projective polynomial scheme morphisms. The following examples now works:\n\n```\nsage: P.<x,y> = ProjectiveSpace(ZZ, 1)\nsage: H = Hom(P,P)\nsage: f = H([x^2 + y^2, y^2])\nsage: matrix([[1,2], [0,1]]) * f\nsage: f* matrix([[1,2], [0,1]]) \n```\nAdditionally, added conjugation by a matrix for affine dynamical systems. \n\nCC:  @bhutz @pfili\n\nKeywords: matrix action, scheme morphism, SI2019\n\nBranch/Commit: 53a42dc83ea8c17320916fd23d02d232562f162f\n\nReviewer: Ben Hutz, Paul Fili\n\nAuthor: Adam Towsley\n\nDependencies: #23497, #28174\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23813\n\n",
    "closed_at": "2019-08-01T22:55:05Z",
    "created_at": "2017-09-09T16:24:43Z",
    "labels": [
        "component: algebraic geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Implement matrix action on polynomial scheme morphisms",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23813",
    "user": "https://trac.sagemath.org/admin/accounts/users/atowsley"
}
```
Created a left and right action by matrices on affine and projective polynomial scheme morphisms. The following examples now works:

```
sage: P.<x,y> = ProjectiveSpace(ZZ, 1)
sage: H = Hom(P,P)
sage: f = H([x^2 + y^2, y^2])
sage: matrix([[1,2], [0,1]]) * f
sage: f* matrix([[1,2], [0,1]]) 
```
Additionally, added conjugation by a matrix for affine dynamical systems. 

CC:  @bhutz @pfili

Keywords: matrix action, scheme morphism, SI2019

Branch/Commit: 53a42dc83ea8c17320916fd23d02d232562f162f

Reviewer: Ben Hutz, Paul Fili

Author: Adam Towsley

Dependencies: #23497, #28174

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23813





---

archive/issue_comments_351507.json:
```json
{
    "body": "<a id='comment:1'></a>Last 10 new commits:",
    "created_at": "2017-09-09T16:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351507",
    "user": "https://trac.sagemath.org/admin/accounts/users/atowsley"
}
```

<a id='comment:1'></a>Last 10 new commits:



---

archive/issue_comments_351508.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-09-09T16:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351508",
    "user": "https://trac.sagemath.org/admin/accounts/users/atowsley"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_351509.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-09-09T17:20:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351509",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_351510.json:
```json
{
    "body": "<a id='comment:2'></a>Here are some comments for the code syntax\n\n- Examples:: -> EXAMPLES::\n\n- blank line after EXAMPELS in __init__\n\n- isinstance(, ) #space between args\n\n- all functions should have one line description before examples\n\n- def funct(, ) #space between parameters\n\n- blank line at end of action file\n\n- I don't think you use the AlgebraicScheme import in matrix_space\n\n\nNow some issues from functionality testing\n\nendomorphisms do not remain endomorphisms\n\n```\nP.<x, y> = ProjectiveSpace(QQ, 1)\nH = Hom(P, P)\nf = H([x^2 + y^2, y^2])\nm = matrix([[1,1], [0,1]])\nf.is_endomorphism(),(m*f).is_endomorphism(), (f*m).is_endomorphism()\n```\n\nAffine scheme morhisms don't have the action function\n\n```\nP.<x, y> = AffineSpace(QQ, 2)\nH = Hom(P, P)\nf = H([x^2 + y^2, y^2])\nm = matrix([[1,1,1], [0,1,0],[1,0,0]])\nf*m, m*f\n```\n\nI think it would helpful to separate the errors\n\n```\nP.<x, y> = ProjectiveSpace(QQ, 1)\nH = Hom(P, P)\nf = H([x^2 + y^2, y^2])\nm = matrix([[1]])\nf.as_dynamical_system().conjugate(m)\n```\n\nWhen the matrix ring is contained in the morphism base ring it can't work out the parent\n\n```\nP.<x, y> = ProjectiveSpace(CC, 1)\nH = Hom(P, P)\nf = H([x^2 + y^2, y^2])\nm = matrix(QQ,[[1,1], [1,0]])\nm*f\n```\neven more troubling\n\n```\nP.<x, y> = ProjectiveSpace(RR, 1)\nH = Hom(P, P)\nf = H([x^2 + RR(sqrt(2))*y^2, y^2])\nm = matrix(QQ,[[1,1], [1,0]])\nm*f\n```\n\nActing on a dynamical system gives back a projective morphism instead of a dynamical system\n\n```\nP.<x, y> = ProjectiveSpace(QQ, 1)\nH = Hom(P, P)\nf = H([x^2 + y^2, y^2])\nm = matrix([[1,1], [1,0]])\nfd=f.as_dynamical_system()\nm*fd\n```",
    "created_at": "2017-09-09T17:20:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351510",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:2'></a>Here are some comments for the code syntax

- Examples:: -> EXAMPLES::

- blank line after EXAMPELS in __init__

- isinstance(, ) #space between args

- all functions should have one line description before examples

- def funct(, ) #space between parameters

- blank line at end of action file

- I don't think you use the AlgebraicScheme import in matrix_space


Now some issues from functionality testing

endomorphisms do not remain endomorphisms

```
P.<x, y> = ProjectiveSpace(QQ, 1)
H = Hom(P, P)
f = H([x^2 + y^2, y^2])
m = matrix([[1,1], [0,1]])
f.is_endomorphism(),(m*f).is_endomorphism(), (f*m).is_endomorphism()
```

Affine scheme morhisms don't have the action function

```
P.<x, y> = AffineSpace(QQ, 2)
H = Hom(P, P)
f = H([x^2 + y^2, y^2])
m = matrix([[1,1,1], [0,1,0],[1,0,0]])
f*m, m*f
```

I think it would helpful to separate the errors

```
P.<x, y> = ProjectiveSpace(QQ, 1)
H = Hom(P, P)
f = H([x^2 + y^2, y^2])
m = matrix([[1]])
f.as_dynamical_system().conjugate(m)
```

When the matrix ring is contained in the morphism base ring it can't work out the parent

```
P.<x, y> = ProjectiveSpace(CC, 1)
H = Hom(P, P)
f = H([x^2 + y^2, y^2])
m = matrix(QQ,[[1,1], [1,0]])
m*f
```
even more troubling

```
P.<x, y> = ProjectiveSpace(RR, 1)
H = Hom(P, P)
f = H([x^2 + RR(sqrt(2))*y^2, y^2])
m = matrix(QQ,[[1,1], [1,0]])
m*f
```

Acting on a dynamical system gives back a projective morphism instead of a dynamical system

```
P.<x, y> = ProjectiveSpace(QQ, 1)
H = Hom(P, P)
f = H([x^2 + y^2, y^2])
m = matrix([[1,1], [1,0]])
fd=f.as_dynamical_system()
m*fd
```



---

archive/issue_comments_351511.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-09T19:15:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351511",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_351512.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-09-09T19:20:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351512",
    "user": "https://trac.sagemath.org/admin/accounts/users/atowsley"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_351513.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-09T20:53:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351513",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_351514.json:
```json
{
    "body": "<a id='comment:6'></a>Most everything seems fixed, except here is another issue with affines. I think the issue may actually be in dehomogenize().\n\n```\nP.<x, y> = AffineSpace(QQ, 2)\nP2.<u,v,w> = AffineSpace(QQ,3)\nH = Hom(P2, P)\nf = H([u^2 + v^2, w^2])\nm = matrix([[1,1,1], [1,0,1],[0,0,1]])\nm*f\n```",
    "created_at": "2017-09-09T21:12:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351514",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:6'></a>Most everything seems fixed, except here is another issue with affines. I think the issue may actually be in dehomogenize().

```
P.<x, y> = AffineSpace(QQ, 2)
P2.<u,v,w> = AffineSpace(QQ,3)
H = Hom(P2, P)
f = H([u^2 + v^2, w^2])
m = matrix([[1,1,1], [1,0,1],[0,0,1]])
m*f
```



---

archive/issue_comments_351515.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-09T21:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351515",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_351516.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-09T21:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351516",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_351517.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-09-09T22:55:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351517",
    "user": "https://github.com/pfili"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_351518.json:
```json
{
    "body": "<a id='comment:11'></a>merge conflict",
    "created_at": "2017-09-11T23:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351518",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:11'></a>merge conflict



---

archive/issue_comments_351519.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-09-11T23:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351519",
    "user": "https://github.com/bhutz"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_351520.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-09-11T23:49:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351520",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_351521.json:
```json
{
    "body": "<a id='comment:13'></a>fixed. please check that i didn't break anything.\n  \n---\nNew commits:",
    "created_at": "2017-09-11T23:49:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351521",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:13'></a>fixed. please check that i didn't break anything.
  
---
New commits:



---

archive/issue_comments_351522.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-09-13T15:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351522",
    "user": "https://github.com/pfili"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_351523.json:
```json
{
    "body": "<a id='comment:15'></a>I added a \"minimal\" option that finds the minimal field of definition. I haven't had a chance to test it much yet, or add a doctest illustrating the functionality. Can you guys check it out and see if it works as desired?\n\n---\nNew commits:",
    "created_at": "2017-09-13T15:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351523",
    "user": "https://github.com/pfili"
}
```

<a id='comment:15'></a>I added a "minimal" option that finds the minimal field of definition. I haven't had a chance to test it much yet, or add a doctest illustrating the functionality. Can you guys check it out and see if it works as desired?

---
New commits:



---

archive/issue_comments_351524.json:
```json
{
    "body": "<a id='comment:16'></a>merge conflict",
    "created_at": "2017-09-14T20:11:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351524",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:16'></a>merge conflict



---

archive/issue_comments_351525.json:
```json
{
    "body": "<a id='comment:17'></a>I didn't see a new commit, but the conflict seems to be worked out. However, the code doesn't work\n\n```\nsage: K.<w>=QuadraticField(5)\nsage: P.<x, y> = ProjectiveSpace(K, 1)\nsage: f = DynamicalSystem([x^2 + 2*y^2, y^2])\nsage: m = matrix(QQ,[[1,1], [1,0]])\nsage: f.conjugate(m,minimal=True)\nNameError: global name 'number_field_elements_from_algebraics' is not defined\n```\n\nI think this is probably better as a separate function as I can see more uses for this. Then conjugate can call that function based on the minimal parameter.\n\nI'm also tempted to separate that out from matrix actions and make it its own ticket. What do you think?",
    "created_at": "2017-09-26T20:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351525",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:17'></a>I didn't see a new commit, but the conflict seems to be worked out. However, the code doesn't work

```
sage: K.<w>=QuadraticField(5)
sage: P.<x, y> = ProjectiveSpace(K, 1)
sage: f = DynamicalSystem([x^2 + 2*y^2, y^2])
sage: m = matrix(QQ,[[1,1], [1,0]])
sage: f.conjugate(m,minimal=True)
NameError: global name 'number_field_elements_from_algebraics' is not defined
```

I think this is probably better as a separate function as I can see more uses for this. Then conjugate can call that function based on the minimal parameter.

I'm also tempted to separate that out from matrix actions and make it its own ticket. What do you think?



---

archive/issue_comments_351526.json:
```json
{
    "body": "<a id='comment:18'></a>Sure, we can make a new ticket with this functionality. I'll check what's going wrong as soon as I can, the examples I ran worked somehow.",
    "created_at": "2017-09-26T22:01:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351526",
    "user": "https://github.com/pfili"
}
```

<a id='comment:18'></a>Sure, we can make a new ticket with this functionality. I'll check what's going wrong as soon as I can, the examples I ran worked somehow.



---

archive/issue_comments_351527.json:
```json
{
    "body": "<a id='comment:19'></a>I agree that this should probably be a new ticket since it can be used in other situations as well. I'll let Paul separate out the code and then I'll rerun the tests on this ticket.",
    "created_at": "2017-09-27T13:39:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351527",
    "user": "https://trac.sagemath.org/admin/accounts/users/atowsley"
}
```

<a id='comment:19'></a>I agree that this should probably be a new ticket since it can be used in other situations as well. I'll let Paul separate out the code and then I'll rerun the tests on this ticket.



---

archive/issue_comments_351528.json:
```json
{
    "body": "<a id='comment:20'></a>Fix merge conflicts\n\n---\nNew commits:",
    "created_at": "2019-07-03T19:04:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351528",
    "user": "https://github.com/Torrencem"
}
```

<a id='comment:20'></a>Fix merge conflicts

---
New commits:



---

archive/issue_comments_351529.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-03T19:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351529",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_351530.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-03T20:06:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351530",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_351531.json:
```json
{
    "body": "<a id='comment:23'></a>Here's an updated branch with 8.9\n\n---\nNew commits:",
    "created_at": "2019-07-09T13:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351531",
    "user": "https://github.com/Torrencem"
}
```

<a id='comment:23'></a>Here's an updated branch with 8.9

---
New commits:



---

archive/issue_comments_351532.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-11T12:55:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351532",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_351533.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-11T13:18:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351533",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_351534.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-11T14:27:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351534",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_351535.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-11T14:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351535",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_351536.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-11T14:51:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351536",
    "user": "https://github.com/Torrencem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_351537.json:
```json
{
    "body": "<a id='comment:28'></a>The previous commits all fix test cases and add more descriptive error messages. I think the ticket is ready to be finally reviewed",
    "created_at": "2019-07-11T14:51:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351537",
    "user": "https://github.com/Torrencem"
}
```

<a id='comment:28'></a>The previous commits all fix test cases and add more descriptive error messages. I think the ticket is ready to be finally reviewed



---

archive/issue_comments_351538.json:
```json
{
    "body": "<a id='comment:29'></a>Note that in Ticket #28174 there's a functionality change that is required for this ticket. In particular, in master currently `dehomogenize` fails for non-endomorphisms like in some of the examples here.",
    "created_at": "2019-07-11T16:34:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351538",
    "user": "https://github.com/Torrencem"
}
```

<a id='comment:29'></a>Note that in Ticket #28174 there's a functionality change that is required for this ticket. In particular, in master currently `dehomogenize` fails for non-endomorphisms like in some of the examples here.



---

archive/issue_comments_351539.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-13T18:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351539",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_351540.json:
```json
{
    "body": "<a id='comment:30'></a>The functionality of the action looks good, but there are few things to do here:\n\n- MatrixPolymapAction: functions need description + INPUT\n\n- affine_morphism: delete multiplier function (the deprecated function was removed in #27900)\n\n- careful with #23174 as I get a duplicate definition of M when both branch branches are merged in. I don't think you need 975 redefining M since you already have that defined as N on 969. Then the for loop on 976 should be with N.\n\n- conjugate is giving a TypeError and the action a ValueError with bad matrices. These error types should match.\n\n- I seem to be getting two doc test dehomogenization failures, affine_morphism and projective_morphism that are minor and need to be addressed",
    "created_at": "2019-07-13T18:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351540",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:30'></a>The functionality of the action looks good, but there are few things to do here:

- MatrixPolymapAction: functions need description + INPUT

- affine_morphism: delete multiplier function (the deprecated function was removed in #27900)

- careful with #23174 as I get a duplicate definition of M when both branch branches are merged in. I don't think you need 975 redefining M since you already have that defined as N on 969. Then the for loop on 976 should be with N.

- conjugate is giving a TypeError and the action a ValueError with bad matrices. These error types should match.

- I seem to be getting two doc test dehomogenization failures, affine_morphism and projective_morphism that are minor and need to be addressed



---

archive/issue_comments_351541.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-18T13:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351541",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_351542.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-18T14:33:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351542",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_351543.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-18T14:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351543",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_351544.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-18T14:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351544",
    "user": "https://github.com/Torrencem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_351545.json:
```json
{
    "body": "<a id='comment:34'></a>All the suggested changes are added, and all the tests seem to pass now. Marking as `needs_review`",
    "created_at": "2019-07-18T14:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351545",
    "user": "https://github.com/Torrencem"
}
```

<a id='comment:34'></a>All the suggested changes are added, and all the tests seem to pass now. Marking as `needs_review`



---

archive/issue_events_060714.json:
```json
{
    "actor": "https://github.com/Torrencem",
    "created_at": "2019-07-18T14:46:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23813#event-60714"
}
```



---

archive/issue_comments_351546.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-18T17:54:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351546",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_351547.json:
```json
{
    "body": "<a id='comment:36'></a>Just one minor issue here:\n\n- missed an error type in polymap_times_matrix. It still is a ValueError when the rest are TypeErrors",
    "created_at": "2019-07-18T17:54:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351547",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:36'></a>Just one minor issue here:

- missed an error type in polymap_times_matrix. It still is a ValueError when the rest are TypeErrors



---

archive/issue_comments_351548.json:
```json
{
    "body": "Changing keywords from \"matrix action, scheme morphism\" to \"matrix action, scheme morphism, SI2019\".",
    "created_at": "2019-07-25T13:55:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351548",
    "user": "https://github.com/Torrencem"
}
```

Changing keywords from "matrix action, scheme morphism" to "matrix action, scheme morphism, SI2019".



---

archive/issue_comments_351549.json:
```json
{
    "body": "<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-30T13:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351549",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_351550.json:
```json
{
    "body": "<a id='comment:39'></a>fixed",
    "created_at": "2019-07-30T13:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351550",
    "user": "https://github.com/Torrencem"
}
```

<a id='comment:39'></a>fixed



---

archive/issue_comments_351551.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-30T13:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351551",
    "user": "https://github.com/Torrencem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_351552.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-30T14:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351552",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_351553.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-08-01T22:55:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23813#issuecomment-351553",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_060715.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-08-01T22:55:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23813",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23813#event-60715"
}
```
