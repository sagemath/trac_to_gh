# Issue 23208: Enhanced backtrace on test timeout

archive/issues_022971.json:
```json
{
    "body": "Test timeout frequently and not reproducably on the buildbot. It would be so much nicer if one would be able to see where the process was stuck...\n\n\nCC:  @kiwifb @roed314 @jdemeyer jpflori\n\nBranch/Commit: 155137b02d31fc419ed8ee0a2ea33f9d53c01a9b\n\nReviewer: Julian R\u00fcth, Fran\u00e7ois Bissey\n\nAuthor: Volker Braun\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23208\n\n",
    "closed_at": "2017-06-29T06:46:53Z",
    "created_at": "2017-06-10T11:02:48Z",
    "labels": [
        "component: doctest framework"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Enhanced backtrace on test timeout",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23208",
    "user": "https://github.com/vbraun"
}
```
Test timeout frequently and not reproducably on the buildbot. It would be so much nicer if one would be able to see where the process was stuck...


CC:  @kiwifb @roed314 @jdemeyer jpflori

Branch/Commit: 155137b02d31fc419ed8ee0a2ea33f9d53c01a9b

Reviewer: Julian Rüth, François Bissey

Author: Volker Braun

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23208





---

archive/issue_comments_435817.json:
```json
{
    "body": "Changing branch from \"\" to \"u/vbraun/enhanced_backtrace_on_test_timeout\"",
    "created_at": "2017-06-10T11:42:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435817",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "" to "u/vbraun/enhanced_backtrace_on_test_timeout"



---

archive/issue_comments_435818.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-10T14:39:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435818",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435819.json:
```json
{
    "body": "Changing commit from \"\" to \"43291991d3c0f03eff492897abed00ec9ebdfbaa\"",
    "created_at": "2017-06-10T14:39:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435819",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "43291991d3c0f03eff492897abed00ec9ebdfbaa"



---

archive/issue_comments_435820.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-06-10T14:45:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435820",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_435821.json:
```json
{
    "body": "<a id='comment:6'></a>\n```\n+        This method is only called if there is something wrong with the\n+        worker. Under normal circumstances, the worker is supported to\n+        exit by himself after finishing.\n```\n\"supported\"? Do you mean \"supposed\"?",
    "created_at": "2017-06-17T22:46:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435821",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:6'></a>
```
+        This method is only called if there is something wrong with the
+        worker. Under normal circumstances, the worker is supported to
+        exit by himself after finishing.
```
"supported"? Do you mean "supposed"?



---

archive/issue_comments_435822.json:
```json
{
    "body": "Changing branch from \"u/vbraun/enhanced_backtrace_on_test_timeout\" to \"u/saraedum/enhanced_backtrace_on_test_timeout\"",
    "created_at": "2017-06-22T05:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435822",
    "user": "https://github.com/saraedum"
}
```

Changing branch from "u/vbraun/enhanced_backtrace_on_test_timeout" to "u/saraedum/enhanced_backtrace_on_test_timeout"



---

archive/issue_comments_435823.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Julian R\u00fcth\"",
    "created_at": "2017-06-22T05:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435823",
    "user": "https://github.com/saraedum"
}
```

Changing reviewer from "" to "Julian Rüth"



---

archive/issue_comments_435824.json:
```json
{
    "body": "<a id='comment:8'></a>Feel free to set this to positive review if the tests pass (and if you are happy with the fix proposed by fbissey.)\n\n---\nNew commits:",
    "created_at": "2017-06-22T05:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435824",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:8'></a>Feel free to set this to positive review if the tests pass (and if you are happy with the fix proposed by fbissey.)

---
New commits:



---

archive/issue_comments_435825.json:
```json
{
    "body": "Changing commit from \"43291991d3c0f03eff492897abed00ec9ebdfbaa\" to \"15f70b90c5e87a6ca948af288d6560e360e78cdf\"",
    "created_at": "2017-06-22T05:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435825",
    "user": "https://github.com/saraedum"
}
```

Changing commit from "43291991d3c0f03eff492897abed00ec9ebdfbaa" to "15f70b90c5e87a6ca948af288d6560e360e78cdf"



---

archive/issue_comments_435826.json:
```json
{
    "body": "<a id='comment:10'></a>Speaking of typos:\n\n```\n+        worker. Under normal circumstances, the worker is supposed to\n+        exit by himself after finishing.\n```\nNow, I am French, and I make this mistake often, to ascribe neutral gender to male gender.  `himself` -> `itself`\n\nApart from that I don't really have any objection in principle to this ticket, I'd love to have backtrace on those hanging process. Whether it will be useful is another question that cannot be answered without trying.",
    "created_at": "2017-06-22T22:02:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435826",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:10'></a>Speaking of typos:

```
+        worker. Under normal circumstances, the worker is supposed to
+        exit by himself after finishing.
```
Now, I am French, and I make this mistake often, to ascribe neutral gender to male gender.  `himself` -> `itself`

Apart from that I don't really have any objection in principle to this ticket, I'd love to have backtrace on those hanging process. Whether it will be useful is another question that cannot be answered without trying.



---

archive/issue_comments_435827.json:
```json
{
    "body": "Changing branch from \"u/saraedum/enhanced_backtrace_on_test_timeout\" to \"u/vbraun/enhanced_backtrace_on_test_timeout\"",
    "created_at": "2017-06-26T22:27:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435827",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/saraedum/enhanced_backtrace_on_test_timeout" to "u/vbraun/enhanced_backtrace_on_test_timeout"



---

archive/issue_comments_435828.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-26T22:28:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435828",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_435829.json:
```json
{
    "body": "Changing reviewer from \"Julian R\u00fcth\" to \"Julian R\u00fcth, Fran\u00e7ois Bissey\"",
    "created_at": "2017-06-26T22:28:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435829",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "Julian Rüth" to "Julian Rüth, François Bissey"



---

archive/issue_comments_435830.json:
```json
{
    "body": "<a id='comment:12'></a>New commits:",
    "created_at": "2017-06-26T22:28:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435830",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'></a>New commits:



---

archive/issue_comments_435831.json:
```json
{
    "body": "Changing commit from \"15f70b90c5e87a6ca948af288d6560e360e78cdf\" to \"155137b02d31fc419ed8ee0a2ea33f9d53c01a9b\"",
    "created_at": "2017-06-26T22:28:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435831",
    "user": "https://github.com/vbraun"
}
```

Changing commit from "15f70b90c5e87a6ca948af288d6560e360e78cdf" to "155137b02d31fc419ed8ee0a2ea33f9d53c01a9b"



---

archive/issue_comments_435832.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-06-29T06:46:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435832",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_435833.json:
```json
{
    "body": "Changing branch from \"u/vbraun/enhanced_backtrace_on_test_timeout\" to \"155137b02d31fc419ed8ee0a2ea33f9d53c01a9b\"",
    "created_at": "2017-06-29T06:46:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23208#issuecomment-435833",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/vbraun/enhanced_backtrace_on_test_timeout" to "155137b02d31fc419ed8ee0a2ea33f9d53c01a9b"



---

archive/issue_events_059892.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-29T06:46:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23208",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23208#event-59892"
}
```
