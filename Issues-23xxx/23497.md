# Issue 23497: relocate dynamical systems code from sage/schemes to sage/dynamics

archive/issues_023260.json:
```json
{
    "assignees": [],
    "body": "the majority of the code for working with arithmetical dynamical systems is in the respective morphism files in the sage/schemes folder. This is not very intuitive and as the code grows this is becoming increasing less ideal.\n\nThis ticket proposes creating a sage/dynamics/arithmetic_dynamics folder to house the dynamical systems code. This includes creating a class to distinguish between SchemeMorphism_polynomials which happen to be endomorphisms and those which should be treated dynamical systems. I consider this extra class as the negative effect of moving the code.\n\n\nThere are really two main reasons for this move.\n\n- the dynamical systems functionality is extensive enough that it should be separated from the schemes functionality.  There is already a sage/dynamics folders so it makes sense to put it there.\n\n- creating a dynamical system under the new structure is much easier and intuitive for the user\n\n\nCC:  @sagetrac-xander-faber @tscrim\n\nKeywords: **sd87, days88, IMA coding sprints**\n\nBranch/Commit: **[2eecc68](https://github.com/sagemath/sagetrac-mirror/commit/2eecc68b05527c59db06daba1bedadc5756e8e05)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Ben Hutz, Xander Faber**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23497_\n\n",
    "closed_at": "2017-09-15T07:30:53Z",
    "created_at": "2017-07-20T19:15:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20dynamics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "relocate dynamical systems code from sage/schemes to sage/dynamics",
    "type": "issue",
    "updated_at": "2017-09-15T07:30:53Z",
    "url": "https://github.com/sagemath/sage/issues/23497",
    "user": "https://github.com/bhutz"
}
```
the majority of the code for working with arithmetical dynamical systems is in the respective morphism files in the sage/schemes folder. This is not very intuitive and as the code grows this is becoming increasing less ideal.

This ticket proposes creating a sage/dynamics/arithmetic_dynamics folder to house the dynamical systems code. This includes creating a class to distinguish between SchemeMorphism_polynomials which happen to be endomorphisms and those which should be treated dynamical systems. I consider this extra class as the negative effect of moving the code.


There are really two main reasons for this move.

- the dynamical systems functionality is extensive enough that it should be separated from the schemes functionality.  There is already a sage/dynamics folders so it makes sense to put it there.

- creating a dynamical system under the new structure is much easier and intuitive for the user


CC:  @sagetrac-xander-faber @tscrim

Keywords: **sd87, days88, IMA coding sprints**

Branch/Commit: **[2eecc68](https://github.com/sagemath/sagetrac-mirror/commit/2eecc68b05527c59db06daba1bedadc5756e8e05)**

Reviewer: **Travis Scrimshaw**

Author: **Ben Hutz, Xander Faber**

_Issue created by migration from https://trac.sagemath.org/ticket/23497_





---

archive/issue_events_308989.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-07-20T19:15:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-308989"
}
```



---

archive/issue_events_308990.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-07-20T19:15:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20dynamics",
    "label_color": "0000ff",
    "label_name": "component: dynamics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-308990"
}
```



---

archive/issue_events_308991.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-07-20T19:15:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-308991"
}
```



---

archive/issue_events_308992.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-07-20T19:15:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-308992"
}
```



---

archive/issue_comments_355974.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nI've acheived an initial move of the code that achieves 'all tests pass', so I figured that was a good place to commit and get another set of eyes on this.\n\nThere remains much clean-up to be done. A few things I haven't done yet\n\n- do we need to specify domain=P to get point iteration to work? What works and what doesn't with the domains\n\n- is .as_scheme_morphism and .as_dynamical_system a performance hit (and excess object creation in memory)? If so, what's a better way to deal with this (basically the parent of a dynamical system is the endomorphism ring of schemes which creates a schememorphism...)\n\n-  dynamicalsystems_generic defaults to affine which probably should be projective\n\n- some more intelligence in the creation functions\n \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4d09658f577eb9be7d232e5ef25a310c330c028\">b4d0965</a></td><td><code>23497: relocate arithmetic dynamics code: initial version</code></td></tr></table>\n",
    "created_at": "2017-07-20T20:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355974",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:1" align="right">Comment 1</div>

I've acheived an initial move of the code that achieves 'all tests pass', so I figured that was a good place to commit and get another set of eyes on this.

There remains much clean-up to be done. A few things I haven't done yet

- do we need to specify domain=P to get point iteration to work? What works and what doesn't with the domains

- is .as_scheme_morphism and .as_dynamical_system a performance hit (and excess object creation in memory)? If so, what's a better way to deal with this (basically the parent of a dynamical system is the endomorphism ring of schemes which creates a schememorphism...)

-  dynamicalsystems_generic defaults to affine which probably should be projective

- some more intelligence in the creation functions
 
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4d09658f577eb9be7d232e5ef25a310c330c028">b4d0965</a></td><td><code>23497: relocate arithmetic dynamics code: initial version</code></td></tr></table>




---

archive/issue_comments_355975.json:
```json
{
    "body": "Branch: **[u/bhutz/arith_dyn](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn)**",
    "created_at": "2017-07-20T20:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355975",
    "user": "https://github.com/bhutz"
}
```

Branch: **[u/bhutz/arith_dyn](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn)**



---

archive/issue_comments_355976.json:
```json
{
    "body": "Author: **Ben Hutz**",
    "created_at": "2017-07-20T20:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355976",
    "user": "https://github.com/bhutz"
}
```

Author: **Ben Hutz**



---

archive/issue_comments_355977.json:
```json
{
    "body": "Commit: **[b4d0965](https://github.com/sagemath/sagetrac-mirror/commit/b4d09658f577eb9be7d232e5ef25a310c330c028)**",
    "created_at": "2017-07-20T20:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355977",
    "user": "https://github.com/bhutz"
}
```

Commit: **[b4d0965](https://github.com/sagemath/sagetrac-mirror/commit/b4d09658f577eb9be7d232e5ef25a310c330c028)**



---

archive/issue_comments_355978.json:
```json
{
    "body": "Changed branch from **[u/bhutz/arith_dyn](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn)** to **[u/xander.faber/arith_dyn](https://github.com/sagemath/sagetrac-mirror/tree/u/xander.faber/arith_dyn)**",
    "created_at": "2017-07-21T16:00:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355978",
    "user": "https://github.com/sagetrac-xander-faber"
}
```

Changed branch from **[u/bhutz/arith_dyn](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn)** to **[u/xander.faber/arith_dyn](https://github.com/sagemath/sagetrac-mirror/tree/u/xander.faber/arith_dyn)**



---

archive/issue_events_308993.json:
```json
{
    "actor": "https://github.com/sagetrac-xander-faber",
    "created_at": "2017-07-21T16:01:29Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "title_is": "relocate dynamical systems code from sage/schemes to sage/dynamics",
    "title_was": "relocate dyanmical systems code from sage/schemes to sage/dynamics",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-308993"
}
```



---

archive/issue_comments_355979.json:
```json
{
    "body": "Changed commit from **[b4d0965](https://github.com/sagemath/sagetrac-mirror/commit/b4d09658f577eb9be7d232e5ef25a310c330c028)** to **[4950fcc](https://github.com/sagemath/sagetrac-mirror/commit/4950fcc87670d8a7625b31627e3ceae1cca86b48)**",
    "created_at": "2017-07-21T16:01:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355979",
    "user": "https://github.com/sagetrac-xander-faber"
}
```

Changed commit from **[b4d0965](https://github.com/sagemath/sagetrac-mirror/commit/b4d09658f577eb9be7d232e5ef25a310c330c028)** to **[4950fcc](https://github.com/sagemath/sagetrac-mirror/commit/4950fcc87670d8a7625b31627e3ceae1cca86b48)**



---

archive/issue_comments_355980.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a402095fdbf3fb47018bd3fc54deccd8c745338\">0a40209</a></td><td><code>Fixed a docstring in morphism.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6827d03de0ce43df9c2bb431626581298137401\">f6827d0</a></td><td><code>AffineSpace now accepts a univariate polynomial ring and constructs A^1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/586f17f73d79d48792e252555662ce36f19eab79\">586f17f</a></td><td><code>Improved dynamical system constructors in generic_ds module</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4950fcc87670d8a7625b31627e3ceae1cca86b48\">4950fcc</a></td><td><code>Streamlined dynamical system class init's after pushing hard work to the constructors in generic_ds module</code></td></tr></table>\n",
    "created_at": "2017-07-21T16:01:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355980",
    "user": "https://github.com/sagetrac-xander-faber"
}
```

<div id="comment:3" align="right">Comment 3</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a402095fdbf3fb47018bd3fc54deccd8c745338">0a40209</a></td><td><code>Fixed a docstring in morphism.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6827d03de0ce43df9c2bb431626581298137401">f6827d0</a></td><td><code>AffineSpace now accepts a univariate polynomial ring and constructs A^1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/586f17f73d79d48792e252555662ce36f19eab79">586f17f</a></td><td><code>Improved dynamical system constructors in generic_ds module</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4950fcc87670d8a7625b31627e3ceae1cca86b48">4950fcc</a></td><td><code>Streamlined dynamical system class init's after pushing hard work to the constructors in generic_ds module</code></td></tr></table>




---

archive/issue_comments_355981.json:
```json
{
    "body": "Changed commit from **[4950fcc](https://github.com/sagemath/sagetrac-mirror/commit/4950fcc87670d8a7625b31627e3ceae1cca86b48)** to **[b9327f8](https://github.com/sagemath/sagetrac-mirror/commit/b9327f83f69e74707e3dc597ba19ec4f9b79b57d)**",
    "created_at": "2017-07-21T21:34:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355981",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4950fcc](https://github.com/sagemath/sagetrac-mirror/commit/4950fcc87670d8a7625b31627e3ceae1cca86b48)** to **[b9327f8](https://github.com/sagemath/sagetrac-mirror/commit/b9327f83f69e74707e3dc597ba19ec4f9b79b57d)**



---

archive/issue_comments_355982.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a018703902019d46b95f4dcee03e9b453f89560a\">a018703</a></td><td><code>Fixed a coercion bug in the affine morphism constructor</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4650eb3968d3540fa2dcecdbd01aa779bc95cab4\">4650eb3</a></td><td><code>Improved consistency and type checking in class constructors</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b9327f83f69e74707e3dc597ba19ec4f9b79b57d\">b9327f8</a></td><td><code>Fixed argument handling in special class inits for efficiency</code></td></tr></table>\n",
    "created_at": "2017-07-21T21:34:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355982",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4" align="right">Comment 4</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a018703902019d46b95f4dcee03e9b453f89560a">a018703</a></td><td><code>Fixed a coercion bug in the affine morphism constructor</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4650eb3968d3540fa2dcecdbd01aa779bc95cab4">4650eb3</a></td><td><code>Improved consistency and type checking in class constructors</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b9327f83f69e74707e3dc597ba19ec4f9b79b57d">b9327f8</a></td><td><code>Fixed argument handling in special class inits for efficiency</code></td></tr></table>




---

archive/issue_comments_355983.json:
```json
{
    "body": "Changed branch from **[u/xander.faber/arith_dyn](https://github.com/sagemath/sagetrac-mirror/tree/u/xander.faber/arith_dyn)** to **[u/bhutz/arith_dyn](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn)**",
    "created_at": "2017-07-22T15:58:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355983",
    "user": "https://github.com/bhutz"
}
```

Changed branch from **[u/xander.faber/arith_dyn](https://github.com/sagemath/sagetrac-mirror/tree/u/xander.faber/arith_dyn)** to **[u/bhutz/arith_dyn](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn)**



---

archive/issue_comments_355984.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nI consider this ready for a review now.\n\nWhen we are happy with this new functionality, then we'll need to merge in the following tickets which will conflict: #23234, #23333, #23334. So don't mark it positive-reivew even if it is ready.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9f291c42d889d69d884f99c71b5689b9ec894ab\">f9f291c</a></td><td><code>23497: reinstate doctests for deprecated functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae729ce79d3b514e041873e516d58e5282cfae0b\">ae729ce</a></td><td><code>23497: tests, docs, and init updates to generic_ds.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/296dccdc9efe4c8b48e69cb10c4799bd94e6fa9e\">296dccd</a></td><td><code>23497: finish other dynamics files and all docs</code></td></tr></table>\n",
    "created_at": "2017-07-22T16:02:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355984",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:6" align="right">Comment 6</div>

I consider this ready for a review now.

When we are happy with this new functionality, then we'll need to merge in the following tickets which will conflict: #23234, #23333, #23334. So don't mark it positive-reivew even if it is ready.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9f291c42d889d69d884f99c71b5689b9ec894ab">f9f291c</a></td><td><code>23497: reinstate doctests for deprecated functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae729ce79d3b514e041873e516d58e5282cfae0b">ae729ce</a></td><td><code>23497: tests, docs, and init updates to generic_ds.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/296dccdc9efe4c8b48e69cb10c4799bd94e6fa9e">296dccd</a></td><td><code>23497: finish other dynamics files and all docs</code></td></tr></table>




---

archive/issue_comments_355985.json:
```json
{
    "body": "Changed commit from **[b9327f8](https://github.com/sagemath/sagetrac-mirror/commit/b9327f83f69e74707e3dc597ba19ec4f9b79b57d)** to **[296dccd](https://github.com/sagemath/sagetrac-mirror/commit/296dccdc9efe4c8b48e69cb10c4799bd94e6fa9e)**",
    "created_at": "2017-07-22T16:02:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355985",
    "user": "https://github.com/bhutz"
}
```

Changed commit from **[b9327f8](https://github.com/sagemath/sagetrac-mirror/commit/b9327f83f69e74707e3dc597ba19ec4f9b79b57d)** to **[296dccd](https://github.com/sagemath/sagetrac-mirror/commit/296dccdc9efe4c8b48e69cb10c4799bd94e6fa9e)**



---

archive/issue_comments_355986.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c604d062974dfb5241b8027ca06c0ce5c0cd2fe\">2c604d0</a></td><td><code>Merge branch 8.1.beta0 into t/23497/arith_dyn</code></td></tr></table>\n",
    "created_at": "2017-07-31T21:03:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355986",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c604d062974dfb5241b8027ca06c0ce5c0cd2fe">2c604d0</a></td><td><code>Merge branch 8.1.beta0 into t/23497/arith_dyn</code></td></tr></table>




---

archive/issue_comments_355987.json:
```json
{
    "body": "Changed commit from **[296dccd](https://github.com/sagemath/sagetrac-mirror/commit/296dccdc9efe4c8b48e69cb10c4799bd94e6fa9e)** to **[2c604d0](https://github.com/sagemath/sagetrac-mirror/commit/2c604d062974dfb5241b8027ca06c0ce5c0cd2fe)**",
    "created_at": "2017-07-31T21:03:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355987",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[296dccd](https://github.com/sagemath/sagetrac-mirror/commit/296dccdc9efe4c8b48e69cb10c4799bd94e6fa9e)** to **[2c604d0](https://github.com/sagemath/sagetrac-mirror/commit/2c604d062974dfb5241b8027ca06c0ce5c0cd2fe)**



---

archive/issue_comments_355988.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nBuild succeeds, as do all doctests. I walked through the documentation and some examples of the new constructors ... looks pretty solid.",
    "created_at": "2017-08-07T23:59:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355988",
    "user": "https://github.com/sagetrac-xander-faber"
}
```

<div id="comment:8" align="right">Comment 8</div>

Build succeeds, as do all doctests. I walked through the documentation and some examples of the new constructors ... looks pretty solid.



---

archive/issue_comments_355989.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nThe branch is red above, meaning that it does not apply on the latest beta (8.1.b1).",
    "created_at": "2017-08-08T07:01:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355989",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">Comment 9</div>

The branch is red above, meaning that it does not apply on the latest beta (8.1.b1).



---

archive/issue_comments_355990.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nYes, I'm aware. This probably also conflicts with a number of tickets currently positive-review. I plan to do all that merging today now that the functionality for this ticket is stable.",
    "created_at": "2017-08-08T11:30:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355990",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:10" align="right">Comment 10</div>

Yes, I'm aware. This probably also conflicts with a number of tickets currently positive-review. I plan to do all that merging today now that the functionality for this ticket is stable.



---

archive/issue_comments_355991.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba22abdc1b2d85f716c0512fcb7b0ec86fb8dbf1\">ba22abd</a></td><td><code>Merge branch 8.1.beta1 into t/23497/arith_dyn</code></td></tr></table>\n",
    "created_at": "2017-08-08T19:13:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355991",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11" align="right">Comment 11</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba22abdc1b2d85f716c0512fcb7b0ec86fb8dbf1">ba22abd</a></td><td><code>Merge branch 8.1.beta1 into t/23497/arith_dyn</code></td></tr></table>




---

archive/issue_comments_355992.json:
```json
{
    "body": "Changed commit from **[2c604d0](https://github.com/sagemath/sagetrac-mirror/commit/2c604d062974dfb5241b8027ca06c0ce5c0cd2fe)** to **[ba22abd](https://github.com/sagemath/sagetrac-mirror/commit/ba22abdc1b2d85f716c0512fcb7b0ec86fb8dbf1)**",
    "created_at": "2017-08-08T19:13:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355992",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2c604d0](https://github.com/sagemath/sagetrac-mirror/commit/2c604d062974dfb5241b8027ca06c0ce5c0cd2fe)** to **[ba22abd](https://github.com/sagemath/sagetrac-mirror/commit/ba22abdc1b2d85f716c0512fcb7b0ec86fb8dbf1)**



---

archive/issue_comments_355993.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nAll the tickets I was concerned about conflicting were already in 8.1.beta1, so this is ready now that I've resolved the conflict.",
    "created_at": "2017-08-08T19:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355993",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:12" align="right">Comment 12</div>

All the tickets I was concerned about conflicting were already in 8.1.beta1, so this is ready now that I've resolved the conflict.



---

archive/issue_events_308994.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-08-08T19:15:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-308994"
}
```



---

archive/issue_comments_355994.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\ndoes not apply",
    "created_at": "2017-08-23T18:23:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355994",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">Comment 13</div>

does not apply



---

archive/issue_events_308995.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-08-23T18:23:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-308995"
}
```



---

archive/issue_events_308996.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-08-23T18:23:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-308996"
}
```



---

archive/issue_comments_355995.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nIf you do one more rebase, I will quickly review it (so hopefully there will not be another conflict).",
    "created_at": "2017-08-23T19:12:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355995",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:14" align="right">Comment 14</div>

If you do one more rebase, I will quickly review it (so hopefully there will not be another conflict).



---

archive/issue_comments_355996.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2017-08-23T19:12:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355996",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_355997.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\ngreat, thanks. I was going to do this today as soon as I finish the rebase for a different ticket.",
    "created_at": "2017-08-23T19:15:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355997",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:15" align="right">Comment 15</div>

great, thanks. I was going to do this today as soon as I finish the rebase for a different ticket.



---

archive/issue_comments_355998.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79378c30d23f4c3da284272115634e3776ef8c81\">79378c3</a></td><td><code>Merge branch 8.1.beta3 into t/23497/arith_dyn</code></td></tr></table>\n",
    "created_at": "2017-08-23T20:32:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355998",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79378c30d23f4c3da284272115634e3776ef8c81">79378c3</a></td><td><code>Merge branch 8.1.beta3 into t/23497/arith_dyn</code></td></tr></table>




---

archive/issue_comments_355999.json:
```json
{
    "body": "Changed commit from **[ba22abd](https://github.com/sagemath/sagetrac-mirror/commit/ba22abdc1b2d85f716c0512fcb7b0ec86fb8dbf1)** to **[79378c3](https://github.com/sagemath/sagetrac-mirror/commit/79378c30d23f4c3da284272115634e3776ef8c81)**",
    "created_at": "2017-08-23T20:32:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-355999",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ba22abd](https://github.com/sagemath/sagetrac-mirror/commit/ba22abdc1b2d85f716c0512fcb7b0ec86fb8dbf1)** to **[79378c3](https://github.com/sagemath/sagetrac-mirror/commit/79378c30d23f4c3da284272115634e3776ef8c81)**



---

archive/issue_events_308997.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-08-23T20:33:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-308997"
}
```



---

archive/issue_events_308998.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-08-23T20:33:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-308998"
}
```



---

archive/issue_comments_356000.json:
```json
{
    "body": "Changed author from **Ben Hutz** to **Ben Hutz, Xander Faber**",
    "created_at": "2017-08-23T20:33:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356000",
    "user": "https://github.com/bhutz"
}
```

Changed author from **Ben Hutz** to **Ben Hutz, Xander Faber**



---

archive/issue_comments_356001.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nmerge conflict fixed\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79378c30d23f4c3da284272115634e3776ef8c81\">79378c3</a></td><td><code>Merge branch 8.1.beta3 into t/23497/arith_dyn</code></td></tr></table>\n",
    "created_at": "2017-08-23T20:33:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356001",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:17" align="right">Comment 17</div>

merge conflict fixed

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79378c30d23f4c3da284272115634e3776ef8c81">79378c3</a></td><td><code>Merge branch 8.1.beta3 into t/23497/arith_dyn</code></td></tr></table>




---

archive/issue_comments_356002.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nComments. I'm sorry if some of this is coming from old code already in Sage, but this might be a good time to clean it if it does.\n\nCan you explain a little more about what is in the description about the extra class and why it is necessary? I don't really know this code/math so much to fully understand.\n\nIndentation here:\n\n```\n.. [FH2015]     \\J. A. de Faria, B. Hutz. Combinatorics of Cycle Lengths on\n            Wehler K3 Surfaces over finite fields. New Zealand Journal\n            of Mathematics 45 (2015), 19\u201331.\n```\n\nDo you want to worry about backwards compatibility with imports?\n\n```diff\n-class DynamicalSystem_affine_ring(SchemeMorphism_polynomial_affine_space,\\\n-                             DynamicalSystem_generic):\n+class DynamicalSystem_affine_ring(SchemeMorphism_polynomial_affine_space,\n+                                  DynamicalSystem_generic):\n```\nand similar; in particular, you do not need the `\\`.\n\n```diff\n     INPUT:\n \n-    - ``polys_or_rat_fncts`` -- a list of ``n`` polynomials or rational\n-      functions, all of which should have the same parent.\n+      functions, all of which should have the same parent\n-\n-    - ``domain`` -- an affine scheme embedded in `\\mathbb{A}^n`.\n+    - ``domain`` -- an affine scheme embedded in `\\mathbb{A}^n`\n```\n\n```diff\n     def __init__(self, polys_or_rat_fncts, domain):\n         r\"\"\"\n         The Python constructor.\n \n         See :class:`DynamicalSystem_generic` for details.\n-\n-        INPUT:\n-\n-        - ``polys_or_rat_fncts`` -- a list of polynomials or rational functions.\n-\n-        - ``domain`` -- the domain of the map to be constructed.\n-\n-        OUTPUT:\n-\n-        - :class:`DynamicalSystem_affine`.\n```\n\n```diff\n         INPUT:\n \n-        - ``n`` -- a tuple of nonnegative integers. If ``n`` is an integer,\n-          then the two values of the tuple are assumed to be the same.\n+        - ``n`` -- a tuple of nonnegative integers; if ``n`` is an integer,\n+          then the two values of the tuple are assumed to be the same\n```\nand similar changes.\n\n```diff\n+Return the ``n``-th iterate of self.\n-Return the ``n``-th iterate of ``self``.\n```\n\n```diff\n-       INPUT: ``n`` - a positive integer.\n+       INPUT:\n+\n+       - ``n`` -- a positive integer\n```\n\nIn, e.g., `orbit`, do not use `self` as a latex variable. Instead say something like, \"let `X` be a dynamical system.\"\n\n`Returns` -> `Return` and similar for one-line descriptions.\n\nYou are using a number of different formats for the `OUTPUT:`. I think you should at least be consistent, if not match the Sage coding conventions.\n\nRemove `is_DynamicalSystem` because the `isinstance` already does what you want.\n\nThis is done in a number of other files.\n\n```\nfrom sage.categories.fields import Fields\n_Fields = Fields()\n```\nAlthough I guess since module is lazily imported, it is not such a big deal. However, I would be happy to see not making this perma-instance issue worse, but not a strict requirement for a positive review.\n\n```diff\n-    Return a dynamical system on a projective scheme\n+    Return a dynamical system on a projective scheme.\n```\n\n```diff\n+    We can define dynamical systems on P^1 by giving a polynomial or\n-    We can define dynamical systems on `P^1` by giving a polynomial or\n     rational function::\n```\n\nMissing a doctest:\n\n```python\nclass DynamicalSystem_generic(SchemeMorphism_polynomial):\n    def __init__(self, polys_or_rat_fncts, domain):\n```\n\n```diff\n-        REFERENCES: [Hutz2015]_, [MoPa1994]_\n+        REFERENCES:\n+\n+        - [Hutz2015]_\n+        - [MoPa1994]_\n```\n\n```diff\n             sage: dyn.parent()\n             Symbolic Ring\n-       \"\"\"\n+        \"\"\"\n         if self.domain().ngens() > 2:\n             raise TypeError(\"does not make sense in dimension >1\")\n```\n\nError messages should start with a lower case and not end with a period/full stop.\n\n```diff\n-        - ``N`` -- iterate to use for approximation (optional - default: 3).\n-\n-        - ``prec`` -- real precision to use when computing root (optional - default: 53).\n+        - ``N`` -- (default: 3) iterate to use for approximation\n+        - ``prec`` -- (default: 53) real precision to use when computing root\n```\n(The extra whitespace can be added back in; that is your preference.)\n\n```diff\n             sage: RSA768 = 123018668453011775513049495838496272077285356959533479219732245215\\\n-                1726400507263657518745202199786469389956474942774063845925192557326303453731548\\\n-                2685079170261221429134616704292143116022212404792747377940806653514195974598569\\\n-                02143413\n             ....: 1726400507263657518745202199786469389956474942774063845925192557326303453731548\\\n             ....: 2685079170261221429134616704292143116022212404792747377940806653514195974598569\\\n             ....: 02143413\n```\n\nDeindent:\n\n```\n        ALGORITHM:\n\n            Uses a Nullstellensatz argument to compute the constant.\n            For details: see [Hutz2015]_.\n```\n\n```\n        ALGORITHM:\n            Calls ``self.possible_periods()`` modulo all primes of good reduction in range\n            ``prime_bound``. Returns the intersection of those lists.\n```\n\nIn a number of those functions that you now are deprecating, they are not calling the new functions, correct? I think they should simply call those functions they say they are being deprecated in favor of. Some of them do this, but not all of them I believe.\n\nThere might be more comments later, but this is what I have for now on my first pass.",
    "created_at": "2017-08-23T21:40:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356002",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">Comment 18</div>

Comments. I'm sorry if some of this is coming from old code already in Sage, but this might be a good time to clean it if it does.

Can you explain a little more about what is in the description about the extra class and why it is necessary? I don't really know this code/math so much to fully understand.

Indentation here:

```
.. [FH2015]     \J. A. de Faria, B. Hutz. Combinatorics of Cycle Lengths on
            Wehler K3 Surfaces over finite fields. New Zealand Journal
            of Mathematics 45 (2015), 19â€“31.
```

Do you want to worry about backwards compatibility with imports?

```diff
-class DynamicalSystem_affine_ring(SchemeMorphism_polynomial_affine_space,\
-                             DynamicalSystem_generic):
+class DynamicalSystem_affine_ring(SchemeMorphism_polynomial_affine_space,
+                                  DynamicalSystem_generic):
```
and similar; in particular, you do not need the `\`.

```diff
     INPUT:
 
-    - ``polys_or_rat_fncts`` -- a list of ``n`` polynomials or rational
-      functions, all of which should have the same parent.
+      functions, all of which should have the same parent
-
-    - ``domain`` -- an affine scheme embedded in `\mathbb{A}^n`.
+    - ``domain`` -- an affine scheme embedded in `\mathbb{A}^n`
```

```diff
     def __init__(self, polys_or_rat_fncts, domain):
         r"""
         The Python constructor.
 
         See :class:`DynamicalSystem_generic` for details.
-
-        INPUT:
-
-        - ``polys_or_rat_fncts`` -- a list of polynomials or rational functions.
-
-        - ``domain`` -- the domain of the map to be constructed.
-
-        OUTPUT:
-
-        - :class:`DynamicalSystem_affine`.
```

```diff
         INPUT:
 
-        - ``n`` -- a tuple of nonnegative integers. If ``n`` is an integer,
-          then the two values of the tuple are assumed to be the same.
+        - ``n`` -- a tuple of nonnegative integers; if ``n`` is an integer,
+          then the two values of the tuple are assumed to be the same
```
and similar changes.

```diff
+Return the ``n``-th iterate of self.
-Return the ``n``-th iterate of ``self``.
```

```diff
-       INPUT: ``n`` - a positive integer.
+       INPUT:
+
+       - ``n`` -- a positive integer
```

In, e.g., `orbit`, do not use `self` as a latex variable. Instead say something like, "let `X` be a dynamical system."

`Returns` -> `Return` and similar for one-line descriptions.

You are using a number of different formats for the `OUTPUT:`. I think you should at least be consistent, if not match the Sage coding conventions.

Remove `is_DynamicalSystem` because the `isinstance` already does what you want.

This is done in a number of other files.

```
from sage.categories.fields import Fields
_Fields = Fields()
```
Although I guess since module is lazily imported, it is not such a big deal. However, I would be happy to see not making this perma-instance issue worse, but not a strict requirement for a positive review.

```diff
-    Return a dynamical system on a projective scheme
+    Return a dynamical system on a projective scheme.
```

```diff
+    We can define dynamical systems on P^1 by giving a polynomial or
-    We can define dynamical systems on `P^1` by giving a polynomial or
     rational function::
```

Missing a doctest:

```python
class DynamicalSystem_generic(SchemeMorphism_polynomial):
    def __init__(self, polys_or_rat_fncts, domain):
```

```diff
-        REFERENCES: [Hutz2015]_, [MoPa1994]_
+        REFERENCES:
+
+        - [Hutz2015]_
+        - [MoPa1994]_
```

```diff
             sage: dyn.parent()
             Symbolic Ring
-       """
+        """
         if self.domain().ngens() > 2:
             raise TypeError("does not make sense in dimension >1")
```

Error messages should start with a lower case and not end with a period/full stop.

```diff
-        - ``N`` -- iterate to use for approximation (optional - default: 3).
-
-        - ``prec`` -- real precision to use when computing root (optional - default: 53).
+        - ``N`` -- (default: 3) iterate to use for approximation
+        - ``prec`` -- (default: 53) real precision to use when computing root
```
(The extra whitespace can be added back in; that is your preference.)

```diff
             sage: RSA768 = 123018668453011775513049495838496272077285356959533479219732245215\
-                1726400507263657518745202199786469389956474942774063845925192557326303453731548\
-                2685079170261221429134616704292143116022212404792747377940806653514195974598569\
-                02143413
             ....: 1726400507263657518745202199786469389956474942774063845925192557326303453731548\
             ....: 2685079170261221429134616704292143116022212404792747377940806653514195974598569\
             ....: 02143413
```

Deindent:

```
        ALGORITHM:

            Uses a Nullstellensatz argument to compute the constant.
            For details: see [Hutz2015]_.
```

```
        ALGORITHM:
            Calls ``self.possible_periods()`` modulo all primes of good reduction in range
            ``prime_bound``. Returns the intersection of those lists.
```

In a number of those functions that you now are deprecating, they are not calling the new functions, correct? I think they should simply call those functions they say they are being deprecated in favor of. Some of them do this, but not all of them I believe.

There might be more comments later, but this is what I have for now on my first pass.



---

archive/issue_events_308999.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-08-23T21:40:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-308999"
}
```



---

archive/issue_events_309000.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-08-23T21:40:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309000"
}
```



---

archive/issue_comments_356003.json:
```json
{
    "body": "Changed keywords from **sd87** to **sd87, days88, IMA coding sprints**",
    "created_at": "2017-08-23T21:40:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356003",
    "user": "https://github.com/tscrim"
}
```

Changed keywords from **sd87** to **sd87, days88, IMA coding sprints**



---

archive/issue_comments_356004.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nresponding to a couple of the questions:\n\n- the only thing new here is the dynamicalsystem class and the structure needed to create that class. The functionality within the new class is *all* relocated code. All the deprecated functions in schemes should essentially just call the new functions. I'd recommend not trying to review every single line of the relocated code for the member functions, but am happy to do any clean-up needed as you come across it.\n\n- There are really two main reasons for this move.\n  - the dynamical systems functionality is extensive enough that it should be separated from the schemes functionality. There is already a sage/dynamics folders so it makes sense to put it there.\n  - creating a dynamical system under the new structure is much easier and intuitive for the user",
    "created_at": "2017-08-23T21:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356004",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:19" align="right">Comment 19</div>

responding to a couple of the questions:

- the only thing new here is the dynamicalsystem class and the structure needed to create that class. The functionality within the new class is *all* relocated code. All the deprecated functions in schemes should essentially just call the new functions. I'd recommend not trying to review every single line of the relocated code for the member functions, but am happy to do any clean-up needed as you come across it.

- There are really two main reasons for this move.
  - the dynamical systems functionality is extensive enough that it should be separated from the schemes functionality. There is already a sage/dynamics folders so it makes sense to put it there.
  - creating a dynamical system under the new structure is much easier and intuitive for the user



---

archive/issue_comments_356005.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,11 @@\n the majority of the code for working with arithmetical dynamical systems is in the respective morphism files in the sage/schemes folder. This is not very intuitive and as the code grows this is becoming increasing less ideal.\n \n This ticket proposes creating a sage/dynamics/arithmetic_dynamics folder to house the dynamical systems code. This includes creating a class to distinguish between SchemeMorphism_polynomials which happen to be endomorphisms and those which should be treated dynamical systems. I consider this extra class as the negative effect of moving the code.\n+\n+\n+There are really two main reasons for this move.\n+\n+- the dynamical systems functionality is extensive enough that it should be separated from the schemes functionality.  There is already a sage/dynamics folders so it makes sense to put it there.\n+\n+- creating a dynamical system under the new structure is much easier and intuitive for the user\n+\n``````\n",
    "created_at": "2017-08-23T21:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356005",
    "user": "https://github.com/bhutz"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,11 @@
 the majority of the code for working with arithmetical dynamical systems is in the respective morphism files in the sage/schemes folder. This is not very intuitive and as the code grows this is becoming increasing less ideal.
 
 This ticket proposes creating a sage/dynamics/arithmetic_dynamics folder to house the dynamical systems code. This includes creating a class to distinguish between SchemeMorphism_polynomials which happen to be endomorphisms and those which should be treated dynamical systems. I consider this extra class as the negative effect of moving the code.
+
+
+There are really two main reasons for this move.
+
+- the dynamical systems functionality is extensive enough that it should be separated from the schemes functionality.  There is already a sage/dynamics folders so it makes sense to put it there.
+
+- creating a dynamical system under the new structure is much easier and intuitive for the user
+
``````




---

archive/issue_comments_356006.json:
```json
{
    "body": "Changed commit from **[79378c3](https://github.com/sagemath/sagetrac-mirror/commit/79378c30d23f4c3da284272115634e3776ef8c81)** to **[80ff2e6](https://github.com/sagemath/sagetrac-mirror/commit/80ff2e673f93c961618923251d8d3d19786ad015)**",
    "created_at": "2017-08-23T23:57:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356006",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[79378c3](https://github.com/sagemath/sagetrac-mirror/commit/79378c30d23f4c3da284272115634e3776ef8c81)** to **[80ff2e6](https://github.com/sagemath/sagetrac-mirror/commit/80ff2e673f93c961618923251d8d3d19786ad015)**



---

archive/issue_comments_356007.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80ff2e673f93c961618923251d8d3d19786ad015\">80ff2e6</a></td><td><code>23497: some fixes from review</code></td></tr></table>\n",
    "created_at": "2017-08-23T23:57:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356007",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20" align="right">Comment 20</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80ff2e673f93c961618923251d8d3d19786ad015">80ff2e6</a></td><td><code>23497: some fixes from review</code></td></tr></table>




---

archive/issue_comments_356008.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nI fixed most of those and have some discussion for the others.\n\n- Note sure what you mean with the _Fields() import. I was told a couple years ago that it really should be done this way. Has that changed? What are the arguments for and against?\n\n- the INPUT and OUTPUT consistently end in a '.' throughout the dynamical systems and schemes files, so I've left that consistent. However, the developer's guide does seem to give examples without ending in a period.\n\n- For the INPUT you are suggesting the default be moved to the beginning on the description. Right now dynamical systems and schemes are consistently the other way. The conventions seem only to mention that the default value should be specified, not where.\n\n- I'm not sure what you mean for the OUTPUT consistency. Yes, the OUTPUT description is formatted differently based on what makes the most sense for the OUTPUT of the functions, but they all match the conventions in the developer's guide.\n\n- I disagree with removing is_DynamicalSystem. isinstance only works after you import the DynamicalSystem_generic class. With the distinction between endomorphisms and dynamical systems, it is important for the user to have an easy check for what they are working with.\n\n- I couldn't find any instances of whether the error had capital or ending punctuation. Where did you see that?\n\nSo, the big open issue I see is whether to go through dynamical systems and schemes and change all the INPUT/OUTPUT formatting. What do you think?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80ff2e673f93c961618923251d8d3d19786ad015\">80ff2e6</a></td><td><code>23497: some fixes from review</code></td></tr></table>\n",
    "created_at": "2017-08-24T00:12:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356008",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:21" align="right">Comment 21</div>

I fixed most of those and have some discussion for the others.

- Note sure what you mean with the _Fields() import. I was told a couple years ago that it really should be done this way. Has that changed? What are the arguments for and against?

- the INPUT and OUTPUT consistently end in a '.' throughout the dynamical systems and schemes files, so I've left that consistent. However, the developer's guide does seem to give examples without ending in a period.

- For the INPUT you are suggesting the default be moved to the beginning on the description. Right now dynamical systems and schemes are consistently the other way. The conventions seem only to mention that the default value should be specified, not where.

- I'm not sure what you mean for the OUTPUT consistency. Yes, the OUTPUT description is formatted differently based on what makes the most sense for the OUTPUT of the functions, but they all match the conventions in the developer's guide.

- I disagree with removing is_DynamicalSystem. isinstance only works after you import the DynamicalSystem_generic class. With the distinction between endomorphisms and dynamical systems, it is important for the user to have an easy check for what they are working with.

- I couldn't find any instances of whether the error had capital or ending punctuation. Where did you see that?

So, the big open issue I see is whether to go through dynamical systems and schemes and change all the INPUT/OUTPUT formatting. What do you think?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80ff2e673f93c961618923251d8d3d19786ad015">80ff2e6</a></td><td><code>23497: some fixes from review</code></td></tr></table>




---

archive/issue_events_309001.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-08-24T00:12:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309001"
}
```



---

archive/issue_events_309002.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-08-24T00:12:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309002"
}
```



---

archive/issue_comments_356009.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nto answer the other question. No, I'm not worried about backwards compatibility. I think keeping the old functionality working through deprecation is sufficient.",
    "created_at": "2017-08-24T00:15:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356009",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:22" align="right">Comment 22</div>

to answer the other question. No, I'm not worried about backwards compatibility. I think keeping the old functionality working through deprecation is sufficient.



---

archive/issue_comments_356010.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nReplying to [@bhutz](#comment%3A21):\n> - Note sure what you mean with the _Fields() import. I was told a couple years ago that it really should be done this way. Has that changed? What are the arguments for and against?\n\nYou create a `_Fields` object in the global namespace, not an import, so it essentially becomes permanent in memory (although it is not a true memory leak). That is the argument against it. The argument for is that you might be creating the `Fields()` category frequently, which can slow things down. However, this only occurs when creating objects, so I would rather just replace `_Fields` with `Fields()`. Actually, IIRC, you can just do containment checking by `X in Fields` (without creating/getting an instance object).\n\nThe comment about the lazy import is that this is not done on startup, but only when you create one of these dynamical system objects.\n\n> - the INPUT and OUTPUT consistently end in a '.' throughout the dynamical systems and schemes files, so I've left that consistent. However, the developer's guide does seem to give examples without ending in a period.\n\nThe convention is without periods and this is what most of Sage does.\n\n> - For the INPUT you are suggesting the default be moved to the beginning on the description. Right now dynamical systems and schemes are consistently the other way. The conventions seem only to mention that the default value should be specified, not where.\n\nI believe what most of Sage does is put it first, and this is what I do with all of my code that I write and request when I review. However I don't strongly care.\n\n> - I'm not sure what you mean for the OUTPUT consistency. Yes, the OUTPUT description is formatted differently based on what makes the most sense for the OUTPUT of the functions, but they all match the conventions in the developer's guide.\n\nHere are some of the styles used:\n\n```\nOUTPUT: some output\n```\n\n```\nOUTPUT: some output.\n```\n\n```\nOUTPUT:\n\n- A full sentence.\n```\n\n```\nOUTPUT:\n\nA full sentence.\n```\n\n```\nOUTPUT:\n\n- a short description\n```\n\n> - I disagree with removing is_DynamicalSystem. isinstance only works after you import the DynamicalSystem_generic class. With the distinction between endomorphisms and dynamical systems, it is important for the user to have an easy check for what they are working with.\n\nAlmost none of the `is_*` methods are imported into the global namespace. In fact, there are 2 (`is_field` is a little special). So `is_DynamicalSystem` should not be imported, and hence someone will have to import something anyways. Moreover, if someone wants to know the class that they are working with, then they really should be checking the appropriate class if they don't want to rely on ducktyping or trusting the user.\n\n> - I couldn't find any instances of whether the error had capital or ending punctuation. Where did you see that?\n\nHmmm...I might have mixed up tickets or misremembered the Symbolic Ring errors.\n\n> So, the big open issue I see is whether to go through dynamical systems and schemes and change all the INPUT/OUTPUT formatting. What do you think?\n\nI wasn't sure how much you were actually adding versus copying over. Thank you for clarifying that. I am okay with letting it pass because it is how it was, but it would be nice to start converting it to the new version. I can do this with a reviewer change too.",
    "created_at": "2017-08-24T05:41:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356010",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">Comment 23</div>

Replying to [@bhutz](#comment%3A21):
> - Note sure what you mean with the _Fields() import. I was told a couple years ago that it really should be done this way. Has that changed? What are the arguments for and against?

You create a `_Fields` object in the global namespace, not an import, so it essentially becomes permanent in memory (although it is not a true memory leak). That is the argument against it. The argument for is that you might be creating the `Fields()` category frequently, which can slow things down. However, this only occurs when creating objects, so I would rather just replace `_Fields` with `Fields()`. Actually, IIRC, you can just do containment checking by `X in Fields` (without creating/getting an instance object).

The comment about the lazy import is that this is not done on startup, but only when you create one of these dynamical system objects.

> - the INPUT and OUTPUT consistently end in a '.' throughout the dynamical systems and schemes files, so I've left that consistent. However, the developer's guide does seem to give examples without ending in a period.

The convention is without periods and this is what most of Sage does.

> - For the INPUT you are suggesting the default be moved to the beginning on the description. Right now dynamical systems and schemes are consistently the other way. The conventions seem only to mention that the default value should be specified, not where.

I believe what most of Sage does is put it first, and this is what I do with all of my code that I write and request when I review. However I don't strongly care.

> - I'm not sure what you mean for the OUTPUT consistency. Yes, the OUTPUT description is formatted differently based on what makes the most sense for the OUTPUT of the functions, but they all match the conventions in the developer's guide.

Here are some of the styles used:

```
OUTPUT: some output
```

```
OUTPUT: some output.
```

```
OUTPUT:

- A full sentence.
```

```
OUTPUT:

A full sentence.
```

```
OUTPUT:

- a short description
```

> - I disagree with removing is_DynamicalSystem. isinstance only works after you import the DynamicalSystem_generic class. With the distinction between endomorphisms and dynamical systems, it is important for the user to have an easy check for what they are working with.

Almost none of the `is_*` methods are imported into the global namespace. In fact, there are 2 (`is_field` is a little special). So `is_DynamicalSystem` should not be imported, and hence someone will have to import something anyways. Moreover, if someone wants to know the class that they are working with, then they really should be checking the appropriate class if they don't want to rely on ducktyping or trusting the user.

> - I couldn't find any instances of whether the error had capital or ending punctuation. Where did you see that?

Hmmm...I might have mixed up tickets or misremembered the Symbolic Ring errors.

> So, the big open issue I see is whether to go through dynamical systems and schemes and change all the INPUT/OUTPUT formatting. What do you think?

I wasn't sure how much you were actually adding versus copying over. Thank you for clarifying that. I am okay with letting it pass because it is how it was, but it would be nice to start converting it to the new version. I can do this with a reviewer change too.



---

archive/issue_comments_356011.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nI'll remove the global _Fields().\n\nI'm still not 100% convinced that is_DynamicalSystem is not needed. Here is my thought process in some more detail: One of the big issues we struggled with on this ticket is how to differentiate between an endomorphism of a space and a dynamical system on a space without creating a category of schemes whose arrows are dynamical systems instead of scheme morphisms. Let's say\n\nf = End(P)\n\ng = DynamicalSystem(...) # on P\n\nThen f.parent() == g.parent() is true. So without is_DynSys the only way to tell the difference is to check the class or see what member functions are available. There are simple conversion functions; e.g. f.as_dynamical_system(). Looking at the global is_* namespace, there are 21 functions currently. (The two is_ProductProjectiveSpaces is_ProjectiveSpace seem out of place and perhaps should be removed from the global name space as part of the schemes clean-up.) To me, it is a question of will a standard user need this function or not. A power user writing their own code should be able to do imports, but a standard user should not have to import something they need. I am having some trouble coming up with a realistic scenario where a standard user absolutely needs is_DynSys. Let me think about it some more.\n\nFor the INPUT/OUTPUT formatting: Updating the files in sage/dynamical systems/arithmetic dynamics/ is certainly a reasonable request as they are created here and I can do that (probably later today). I think I'd prefer updating the sage/schemes/ files on a different ticket.",
    "created_at": "2017-08-24T11:33:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356011",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:24" align="right">Comment 24</div>

I'll remove the global _Fields().

I'm still not 100% convinced that is_DynamicalSystem is not needed. Here is my thought process in some more detail: One of the big issues we struggled with on this ticket is how to differentiate between an endomorphism of a space and a dynamical system on a space without creating a category of schemes whose arrows are dynamical systems instead of scheme morphisms. Let's say

f = End(P)

g = DynamicalSystem(...) # on P

Then f.parent() == g.parent() is true. So without is_DynSys the only way to tell the difference is to check the class or see what member functions are available. There are simple conversion functions; e.g. f.as_dynamical_system(). Looking at the global is_* namespace, there are 21 functions currently. (The two is_ProductProjectiveSpaces is_ProjectiveSpace seem out of place and perhaps should be removed from the global name space as part of the schemes clean-up.) To me, it is a question of will a standard user need this function or not. A power user writing their own code should be able to do imports, but a standard user should not have to import something they need. I am having some trouble coming up with a realistic scenario where a standard user absolutely needs is_DynSys. Let me think about it some more.

For the INPUT/OUTPUT formatting: Updating the files in sage/dynamical systems/arithmetic dynamics/ is certainly a reasonable request as they are created here and I can do that (probably later today). I think I'd prefer updating the sage/schemes/ files on a different ticket.



---

archive/issue_comments_356012.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@bhutz](#comment%3A24):\n> I'll remove the global _Fields().\n\nIf this slows things down, feel free to leave it in. Like I said, it's not a big issue because this module lazily imported.\n\n> I'm still not 100% convinced that is_DynamicalSystem is not needed. Here is my thought process in some more detail: One of the big issues we struggled with on this ticket is how to differentiate between an endomorphism of a space and a dynamical system on a space without creating a category of schemes whose arrows are dynamical systems instead of scheme morphisms. Let's say\n> \n> f = End(P)\n> \n> g = DynamicalSystem(...) # on P\n> \n> Then f.parent() == g.parent() is true. So without is_DynSys the only way to tell the difference is to check the class or see what member functions are available. There are simple conversion functions; e.g. f.as_dynamical_system(). Looking at the global is_* namespace, there are 21 functions currently. (The two is_ProductProjectiveSpaces is_ProjectiveSpace seem out of place and perhaps should be removed from the global name space as part of the schemes clean-up.) To me, it is a question of will a standard user need this function or not. A power user writing their own code should be able to do imports, but a standard user should not have to import something they need. I am having some trouble coming up with a realistic scenario where a standard user absolutely needs is_DynSys. Let me think about it some more.\n\nI think most people will first try:\n\n```python\nif isinstance(X, DynamicalSystem):\n    pass\n```\nwhich, of course, will be `False` because `DynamicalSystem` is a function. What I usually do for constructors that mimic ABCs is to actually fuse the two and use `__classcall__`. I really like this idiom as it better associates the (abstract) class and the constructor. So I would rename `DynamicalSystem_generic` to `DynamicalSystem`, which then has a `__classcall_private__` (which you would also need to set the metaclass to be `ClasscallMetaclass` AFAICS) that constructs the appropriate subclass.\n\nHowever, this problem is no different than other homsets that have different elements/morphisms that use different subclasses. I doubt a standard user will be writing code that mixes the two or needs to differentiate the two classes based upon what you've told me as they would be working solely in the dynamical system perspective if that is what they want (especially since it is a subclass).\n\n> For the INPUT/OUTPUT formatting: Updating the files in sage/dynamical systems/arithmetic dynamics/ is certainly a reasonable request as they are created here and I can do that (probably later today). I think I'd prefer updating the sage/schemes/ files on a different ticket.\n\nSounds good to me. Let me know if you want me to do it as well.",
    "created_at": "2017-08-24T14:34:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356012",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@bhutz](#comment%3A24):
> I'll remove the global _Fields().

If this slows things down, feel free to leave it in. Like I said, it's not a big issue because this module lazily imported.

> I'm still not 100% convinced that is_DynamicalSystem is not needed. Here is my thought process in some more detail: One of the big issues we struggled with on this ticket is how to differentiate between an endomorphism of a space and a dynamical system on a space without creating a category of schemes whose arrows are dynamical systems instead of scheme morphisms. Let's say
> 
> f = End(P)
> 
> g = DynamicalSystem(...) # on P
> 
> Then f.parent() == g.parent() is true. So without is_DynSys the only way to tell the difference is to check the class or see what member functions are available. There are simple conversion functions; e.g. f.as_dynamical_system(). Looking at the global is_* namespace, there are 21 functions currently. (The two is_ProductProjectiveSpaces is_ProjectiveSpace seem out of place and perhaps should be removed from the global name space as part of the schemes clean-up.) To me, it is a question of will a standard user need this function or not. A power user writing their own code should be able to do imports, but a standard user should not have to import something they need. I am having some trouble coming up with a realistic scenario where a standard user absolutely needs is_DynSys. Let me think about it some more.

I think most people will first try:

```python
if isinstance(X, DynamicalSystem):
    pass
```
which, of course, will be `False` because `DynamicalSystem` is a function. What I usually do for constructors that mimic ABCs is to actually fuse the two and use `__classcall__`. I really like this idiom as it better associates the (abstract) class and the constructor. So I would rename `DynamicalSystem_generic` to `DynamicalSystem`, which then has a `__classcall_private__` (which you would also need to set the metaclass to be `ClasscallMetaclass` AFAICS) that constructs the appropriate subclass.

However, this problem is no different than other homsets that have different elements/morphisms that use different subclasses. I doubt a standard user will be writing code that mixes the two or needs to differentiate the two classes based upon what you've told me as they would be working solely in the dynamical system perspective if that is what they want (especially since it is a subclass).

> For the INPUT/OUTPUT formatting: Updating the files in sage/dynamical systems/arithmetic dynamics/ is certainly a reasonable request as they are created here and I can do that (probably later today). I think I'd prefer updating the sage/schemes/ files on a different ticket.

Sounds good to me. Let me know if you want me to do it as well.



---

archive/issue_comments_356013.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nI've done the INPUT/OUTPUT formatting, but I'm having trouble with the classcall_private. I was able to get it to work for dynamicalsystems_generic since the classcall function is basically just deciding if it is affine or projective and then calling the appropriate class constructor.\n\nI was trying to also do DS_affine and DS_projective the same way. However, I can't seem to get from the `_classcall_private_` function over to the `_init_` function. Some of the examples I found in Sage seem to have a secondary class so that classcall_private calls the constructor of the subclass. I guess I could do the same here, but is this really how it should work? I'd end up with\n\ndynamcalsystem_affine (with `_classcall_private_`) which would then call the constructor for one of the subclasses DS_affine_ring, DS_affine_field, or DS_affine_finite_field. In other words, basically a dummy higher class to have `_classcall_private_` which calls the actual class constructors. It seems like I'm not understanding how this should all work.\n\nDo you know how `_classcall_private_` should interact with _init_?",
    "created_at": "2017-08-24T22:23:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356013",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:26" align="right">Comment 26</div>

I've done the INPUT/OUTPUT formatting, but I'm having trouble with the classcall_private. I was able to get it to work for dynamicalsystems_generic since the classcall function is basically just deciding if it is affine or projective and then calling the appropriate class constructor.

I was trying to also do DS_affine and DS_projective the same way. However, I can't seem to get from the `_classcall_private_` function over to the `_init_` function. Some of the examples I found in Sage seem to have a secondary class so that classcall_private calls the constructor of the subclass. I guess I could do the same here, but is this really how it should work? I'd end up with

dynamcalsystem_affine (with `_classcall_private_`) which would then call the constructor for one of the subclasses DS_affine_ring, DS_affine_field, or DS_affine_finite_field. In other words, basically a dummy higher class to have `_classcall_private_` which calls the actual class constructors. It seems like I'm not understanding how this should all work.

Do you know how `_classcall_private_` should interact with _init_?



---

archive/issue_comments_356014.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nSo `__clascall_private__` takes input and then it will be passed up with a `super(Foo, cls).__classcall__(cls, args)` call (as in other examples, e.g., `Partition`). This then calls the `__init__` with these methods. (Just incase you are unaware, this needs to be an `@staticmethod`.) However, if you want to delegate to, e.g., a subclass (but it really can be anything), you do `return Foo(bar)`.\n\nMaybe a more standard example that just standardizes input would be `algebras/yokonuma_hecke_algebra.py` (note that the metaclass is set because it is a subclass of `UniqueRepresentation`).",
    "created_at": "2017-08-25T04:41:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356014",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">Comment 27</div>

So `__clascall_private__` takes input and then it will be passed up with a `super(Foo, cls).__classcall__(cls, args)` call (as in other examples, e.g., `Partition`). This then calls the `__init__` with these methods. (Just incase you are unaware, this needs to be an `@staticmethod`.) However, if you want to delegate to, e.g., a subclass (but it really can be anything), you do `return Foo(bar)`.

Maybe a more standard example that just standardizes input would be `algebras/yokonuma_hecke_algebra.py` (note that the metaclass is set because it is a subclass of `UniqueRepresentation`).



---

archive/issue_comments_356015.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nI can do this tomorrow morning when I wake up if you want.",
    "created_at": "2017-08-25T04:42:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356015",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">Comment 28</div>

I can do this tomorrow morning when I wake up if you want.



---

archive/issue_comments_356016.json:
```json
{
    "body": "Changed commit from **[80ff2e6](https://github.com/sagemath/sagetrac-mirror/commit/80ff2e673f93c961618923251d8d3d19786ad015)** to **[cc50108](https://github.com/sagemath/sagetrac-mirror/commit/cc50108eb32d1fc33d030cc128eecbf6747d67a9)**",
    "created_at": "2017-08-25T14:07:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356016",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[80ff2e6](https://github.com/sagemath/sagetrac-mirror/commit/80ff2e673f93c961618923251d8d3d19786ad015)** to **[cc50108](https://github.com/sagemath/sagetrac-mirror/commit/cc50108eb32d1fc33d030cc128eecbf6747d67a9)**



---

archive/issue_comments_356017.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdf7265fbc471bbf62483e7f6ffbd645bd08393d\">fdf7265</a></td><td><code>23497: doc formatting INPUT/OUTPUT</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc50108eb32d1fc33d030cc128eecbf6747d67a9\">cc50108</a></td><td><code>23497: use __classcall_private__</code></td></tr></table>\n",
    "created_at": "2017-08-25T14:07:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356017",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29" align="right">Comment 29</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdf7265fbc471bbf62483e7f6ffbd645bd08393d">fdf7265</a></td><td><code>23497: doc formatting INPUT/OUTPUT</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc50108eb32d1fc33d030cc128eecbf6747d67a9">cc50108</a></td><td><code>23497: use __classcall_private__</code></td></tr></table>




---

archive/issue_comments_356018.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nI tried that first as that is what most instances are doing, but I get an AttributeError that super doesn't have a _classcall_. If you could take a look that would be appreciated.\n\nI've pushed the INPUT/OUTPUT clean-up as well as setting up the changes needed to use _classcall_private_. It currently has the super()._classcall_() where I think it should go. If you can get that initialization to work and push that back up, I'll go through and fix any remaining issues since I couldn't really test as it is now.",
    "created_at": "2017-08-25T14:12:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356018",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:30" align="right">Comment 30</div>

I tried that first as that is what most instances are doing, but I get an AttributeError that super doesn't have a _classcall_. If you could take a look that would be appreciated.

I've pushed the INPUT/OUTPUT clean-up as well as setting up the changes needed to use _classcall_private_. It currently has the super()._classcall_() where I think it should go. If you can get that initialization to work and push that back up, I'll go through and fix any remaining issues since I couldn't really test as it is now.



---

archive/issue_comments_356019.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nOkay, I've fix up the classcall. It didn't have a superclass that actually implemented the `__classcall__`, so you have to explicitly have to use `typecall`. I forgot about that, sorry. I also made it through the doc and code and did a bunch of cleanup and more micro-optimizations I know.\n\nIf my changes look good, then positive review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bbdcdebe2e1b603345d8a0cf46b8148be732e82\">4bbdcde</a></td><td><code>Fixing things with __classcall_private__.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7408d79a2c8833d0c496cc32a3755f1405bc2151\">7408d79</a></td><td><code>Cleaning up the doc and improving the code.</code></td></tr></table>\n",
    "created_at": "2017-08-25T19:43:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356019",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:31" align="right">Comment 31</div>

Okay, I've fix up the classcall. It didn't have a superclass that actually implemented the `__classcall__`, so you have to explicitly have to use `typecall`. I forgot about that, sorry. I also made it through the doc and code and did a bunch of cleanup and more micro-optimizations I know.

If my changes look good, then positive review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bbdcdebe2e1b603345d8a0cf46b8148be732e82">4bbdcde</a></td><td><code>Fixing things with __classcall_private__.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7408d79a2c8833d0c496cc32a3755f1405bc2151">7408d79</a></td><td><code>Cleaning up the doc and improving the code.</code></td></tr></table>




---

archive/issue_comments_356020.json:
```json
{
    "body": "Changed commit from **[cc50108](https://github.com/sagemath/sagetrac-mirror/commit/cc50108eb32d1fc33d030cc128eecbf6747d67a9)** to **[7408d79](https://github.com/sagemath/sagetrac-mirror/commit/7408d79a2c8833d0c496cc32a3755f1405bc2151)**",
    "created_at": "2017-08-25T19:43:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356020",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[cc50108](https://github.com/sagemath/sagetrac-mirror/commit/cc50108eb32d1fc33d030cc128eecbf6747d67a9)** to **[7408d79](https://github.com/sagemath/sagetrac-mirror/commit/7408d79a2c8833d0c496cc32a3755f1405bc2151)**



---

archive/issue_comments_356021.json:
```json
{
    "body": "Changed branch from **[u/bhutz/arith_dyn](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn)** to **[u/tscrim/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/arith_dyn-23497)**",
    "created_at": "2017-08-25T19:43:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356021",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/bhutz/arith_dyn](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn)** to **[u/tscrim/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/arith_dyn-23497)**



---

archive/issue_comments_356022.json:
```json
{
    "body": "Changed branch from **[u/tscrim/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/arith_dyn-23497)** to **[u/bhutz/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn-23497)**",
    "created_at": "2017-08-25T21:09:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356022",
    "user": "https://github.com/bhutz"
}
```

Changed branch from **[u/tscrim/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/arith_dyn-23497)** to **[u/bhutz/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn-23497)**



---

archive/issue_comments_356023.json:
```json
{
    "body": "Changed commit from **[7408d79](https://github.com/sagemath/sagetrac-mirror/commit/7408d79a2c8833d0c496cc32a3755f1405bc2151)** to **[d00cea2](https://github.com/sagemath/sagetrac-mirror/commit/d00cea258b3b5797ca06ddd33ac55bf4e6ae701c)**",
    "created_at": "2017-08-25T21:13:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356023",
    "user": "https://github.com/bhutz"
}
```

Changed commit from **[7408d79](https://github.com/sagemath/sagetrac-mirror/commit/7408d79a2c8833d0c496cc32a3755f1405bc2151)** to **[d00cea2](https://github.com/sagemath/sagetrac-mirror/commit/d00cea258b3b5797ca06ddd33ac55bf4e6ae701c)**



---

archive/issue_comments_356024.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nThanks! I had just a couple minor fixes.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d00cea258b3b5797ca06ddd33ac55bf4e6ae701c\">d00cea2</a></td><td><code>23497: a couple minor fixes</code></td></tr></table>\n",
    "created_at": "2017-08-25T21:13:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356024",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:33" align="right">Comment 33</div>

Thanks! I had just a couple minor fixes.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d00cea258b3b5797ca06ddd33ac55bf4e6ae701c">d00cea2</a></td><td><code>23497: a couple minor fixes</code></td></tr></table>




---

archive/issue_events_309003.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-08-25T21:13:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309003"
}
```



---

archive/issue_events_309004.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-08-25T21:13:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309004"
}
```



---

archive/issue_comments_356025.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nNo problem. Thanks for making the initial round of fixes and adapting the code.",
    "created_at": "2017-08-25T21:19:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356025",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:34" align="right">Comment 34</div>

No problem. Thanks for making the initial round of fixes and adapting the code.



---

archive/issue_events_309005.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-26T10:48:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309005"
}
```



---

archive/issue_events_309006.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-26T10:48:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309006"
}
```



---

archive/issue_comments_356026.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nMerge conflict",
    "created_at": "2017-08-26T10:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356026",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:35" align="right">Comment 35</div>

Merge conflict



---

archive/issue_comments_356027.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/300a3b1fe5773b7983736cbbed23ed13c15e20b7\">300a3b1</a></td><td><code>Merge branch 8.1.beta4 into t/23497/arith_dyn-23497</code></td></tr></table>\n",
    "created_at": "2017-09-05T18:21:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356027",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36" align="right">Comment 36</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/300a3b1fe5773b7983736cbbed23ed13c15e20b7">300a3b1</a></td><td><code>Merge branch 8.1.beta4 into t/23497/arith_dyn-23497</code></td></tr></table>




---

archive/issue_comments_356028.json:
```json
{
    "body": "Changed commit from **[d00cea2](https://github.com/sagemath/sagetrac-mirror/commit/d00cea258b3b5797ca06ddd33ac55bf4e6ae701c)** to **[300a3b1](https://github.com/sagemath/sagetrac-mirror/commit/300a3b1fe5773b7983736cbbed23ed13c15e20b7)**",
    "created_at": "2017-09-05T18:21:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356028",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d00cea2](https://github.com/sagemath/sagetrac-mirror/commit/d00cea258b3b5797ca06ddd33ac55bf4e6ae701c)** to **[300a3b1](https://github.com/sagemath/sagetrac-mirror/commit/300a3b1fe5773b7983736cbbed23ed13c15e20b7)**



---

archive/issue_events_309007.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-09-05T18:21:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309007"
}
```



---

archive/issue_events_309008.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-09-05T18:21:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309008"
}
```



---

archive/issue_comments_356029.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nconflict resolved",
    "created_at": "2017-09-05T18:21:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356029",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:37" align="right">Comment 37</div>

conflict resolved



---

archive/issue_events_309009.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-09-05T19:36:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309009"
}
```



---

archive/issue_events_309010.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-09-05T19:36:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309010"
}
```



---

archive/issue_events_309011.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-09-06T10:24:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309011"
}
```



---

archive/issue_events_309012.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-09-06T10:24:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309012"
}
```



---

archive/issue_comments_356030.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\n`doctest_warning` -> `doctest:warning`\n\n```\nsage -t --long /usr/lib64/python2.7/site-packages/sage/schemes/projective/projective_morphism.py\n**********************************************************************\nFile \"/usr/lib64/python2.7/site-packages/sage/schemes/projective/projective_morphism.py\", line 1754, in sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space_field.rational_periodic_points\nFailed example:\n    sorted(f.rational_periodic_points(prime_bound=20, lifting_prime=7)) # long time\nExpected:\n    doctest_warning\n    ...\n    [(-1/2 : 1), (1 : 0), (3/2 : 1)]\nGot:\n    doctest:warning\n      File \"/usr/lib/python-exec/python2.7/sage-runtests\", line 114, in <module>\n        err = DC.run()\n      File \"/usr/lib64/python2.7/site-packages/sage/doctest/control.py\", line 1099, in run\n        self.run_doctests()\n      File \"/usr/lib64/python2.7/site-packages/sage/doctest/control.py\", line 824, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/usr/lib64/python2.7/site-packages/sage/doctest/forker.py\", line 1777, in dispatch\n        self.parallel_dispatch()\n      File \"/usr/lib64/python2.7/site-packages/sage/doctest/forker.py\", line 1667, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/usr/lib64/python2.7/site-packages/sage/doctest/forker.py\", line 1943, in start\n        super(DocTestWorker, self).start()\n      File \"/usr/lib64/python2.7/multiprocessing/process.py\", line 130, in start\n        self._popen = Popen(self)\n      File \"/usr/lib64/python2.7/multiprocessing/forking.py\", line 126, in __init__\n        code = process_obj._bootstrap()\n      File \"/usr/lib64/python2.7/multiprocessing/process.py\", line 258, in _bootstrap\n        self.run()\n      File \"/usr/lib64/python2.7/site-packages/sage/doctest/forker.py\", line 1916, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/usr/lib64/python2.7/site-packages/sage/doctest/forker.py\", line 2218, in __call__\n        result = runner.run(test)\n      File \"/usr/lib64/python2.7/site-packages/sage/doctest/forker.py\", line 663, in run\n        return self._run(test, compileflags, out)\n      File \"/usr/lib64/python2.7/site-packages/sage/doctest/forker.py\", line 518, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/lib64/python2.7/site-packages/sage/doctest/forker.py\", line 888, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space_field.rational_periodic_points[3]>\", line 1, in <module>\n        sorted(f.rational_periodic_points(prime_bound=Integer(20), lifting_prime=Integer(7))) # long time\n      File \"/usr/lib64/python2.7/site-packages/sage/schemes/projective/projective_morphism.py\", line 1760, in rational_periodic_points\n        deprecation(23479, \"use sage.dynamics.arithmetic_dynamics.projective_ds.rational_periodic_points instead\")\n      File \"/usr/lib64/python2.7/site-packages/sage/misc/superseded.py\", line 101, in deprecation\n        warning(trac_number, message, DeprecationWarning, stacklevel)\n      File \"/usr/lib64/python2.7/site-packages/sage/misc/superseded.py\", line 142, in warning\n        warn(message, warning_class, stacklevel)\n    :\n    DeprecationWarning: use sage.dynamics.arithmetic_dynamics.projective_ds.rational_periodic_points instead\n    See http://trac.sagemath.org/23479 for details.\n    [(-1/2 : 1), (1 : 0), (3/2 : 1)]\n**********************************************************************\n```\nConsidering the size of the branch, having a just a small typo like that as a mistake is not bad.",
    "created_at": "2017-09-06T10:24:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356030",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:39" align="right">Comment 39</div>

`doctest_warning` -> `doctest:warning`

```
sage -t --long /usr/lib64/python2.7/site-packages/sage/schemes/projective/projective_morphism.py
**********************************************************************
File "/usr/lib64/python2.7/site-packages/sage/schemes/projective/projective_morphism.py", line 1754, in sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space_field.rational_periodic_points
Failed example:
    sorted(f.rational_periodic_points(prime_bound=20, lifting_prime=7)) # long time
Expected:
    doctest_warning
    ...
    [(-1/2 : 1), (1 : 0), (3/2 : 1)]
Got:
    doctest:warning
      File "/usr/lib/python-exec/python2.7/sage-runtests", line 114, in <module>
        err = DC.run()
      File "/usr/lib64/python2.7/site-packages/sage/doctest/control.py", line 1099, in run
        self.run_doctests()
      File "/usr/lib64/python2.7/site-packages/sage/doctest/control.py", line 824, in run_doctests
        self.dispatcher.dispatch()
      File "/usr/lib64/python2.7/site-packages/sage/doctest/forker.py", line 1777, in dispatch
        self.parallel_dispatch()
      File "/usr/lib64/python2.7/site-packages/sage/doctest/forker.py", line 1667, in parallel_dispatch
        w.start()  # This might take some time
      File "/usr/lib64/python2.7/site-packages/sage/doctest/forker.py", line 1943, in start
        super(DocTestWorker, self).start()
      File "/usr/lib64/python2.7/multiprocessing/process.py", line 130, in start
        self._popen = Popen(self)
      File "/usr/lib64/python2.7/multiprocessing/forking.py", line 126, in __init__
        code = process_obj._bootstrap()
      File "/usr/lib64/python2.7/multiprocessing/process.py", line 258, in _bootstrap
        self.run()
      File "/usr/lib64/python2.7/site-packages/sage/doctest/forker.py", line 1916, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/usr/lib64/python2.7/site-packages/sage/doctest/forker.py", line 2218, in __call__
        result = runner.run(test)
      File "/usr/lib64/python2.7/site-packages/sage/doctest/forker.py", line 663, in run
        return self._run(test, compileflags, out)
      File "/usr/lib64/python2.7/site-packages/sage/doctest/forker.py", line 518, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/lib64/python2.7/site-packages/sage/doctest/forker.py", line 888, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space_field.rational_periodic_points[3]>", line 1, in <module>
        sorted(f.rational_periodic_points(prime_bound=Integer(20), lifting_prime=Integer(7))) # long time
      File "/usr/lib64/python2.7/site-packages/sage/schemes/projective/projective_morphism.py", line 1760, in rational_periodic_points
        deprecation(23479, "use sage.dynamics.arithmetic_dynamics.projective_ds.rational_periodic_points instead")
      File "/usr/lib64/python2.7/site-packages/sage/misc/superseded.py", line 101, in deprecation
        warning(trac_number, message, DeprecationWarning, stacklevel)
      File "/usr/lib64/python2.7/site-packages/sage/misc/superseded.py", line 142, in warning
        warn(message, warning_class, stacklevel)
    :
    DeprecationWarning: use sage.dynamics.arithmetic_dynamics.projective_ds.rational_periodic_points instead
    See http://trac.sagemath.org/23479 for details.
    [(-1/2 : 1), (1 : 0), (3/2 : 1)]
**********************************************************************
```
Considering the size of the branch, having a just a small typo like that as a mistake is not bad.



---

archive/issue_events_309013.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-09-06T13:41:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309013"
}
```



---

archive/issue_events_309014.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-09-06T13:41:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309014"
}
```



---

archive/issue_comments_356031.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nThanks for catching that Fran\u00e7ois. Here's a branch with the fix.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bdbf658dcbb2005227228a13330d5d4090d33724\">bdbf658</a></td><td><code>Fixing typo in doctest.</code></td></tr></table>\n",
    "created_at": "2017-09-06T13:41:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356031",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:40" align="right">Comment 40</div>

Thanks for catching that FranÃ§ois. Here's a branch with the fix.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bdbf658dcbb2005227228a13330d5d4090d33724">bdbf658</a></td><td><code>Fixing typo in doctest.</code></td></tr></table>




---

archive/issue_comments_356032.json:
```json
{
    "body": "Changed commit from **[300a3b1](https://github.com/sagemath/sagetrac-mirror/commit/300a3b1fe5773b7983736cbbed23ed13c15e20b7)** to **[bdbf658](https://github.com/sagemath/sagetrac-mirror/commit/bdbf658dcbb2005227228a13330d5d4090d33724)**",
    "created_at": "2017-09-06T13:41:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356032",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[300a3b1](https://github.com/sagemath/sagetrac-mirror/commit/300a3b1fe5773b7983736cbbed23ed13c15e20b7)** to **[bdbf658](https://github.com/sagemath/sagetrac-mirror/commit/bdbf658dcbb2005227228a13330d5d4090d33724)**



---

archive/issue_comments_356033.json:
```json
{
    "body": "Changed branch from **[u/bhutz/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn-23497)** to **[u/tscrim/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/arith_dyn-23497)**",
    "created_at": "2017-09-06T13:41:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356033",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/bhutz/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn-23497)** to **[u/tscrim/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/arith_dyn-23497)**



---

archive/issue_events_309015.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-09-06T13:55:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309015"
}
```



---

archive/issue_events_309016.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-09-06T13:55:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309016"
}
```



---

archive/issue_comments_356034.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nMerge conflict...",
    "created_at": "2017-09-10T12:28:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356034",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:42" align="right">Comment 42</div>

Merge conflict...



---

archive/issue_events_309017.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-10T12:28:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309017"
}
```



---

archive/issue_events_309018.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-10T12:28:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309018"
}
```



---

archive/issue_comments_356035.json:
```json
{
    "body": "Changed branch from **[u/tscrim/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/arith_dyn-23497)** to **[u/bhutz/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn-23497)**",
    "created_at": "2017-09-11T23:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356035",
    "user": "https://github.com/bhutz"
}
```

Changed branch from **[u/tscrim/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/arith_dyn-23497)** to **[u/bhutz/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn-23497)**



---

archive/issue_events_309019.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-09-11T23:28:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309019"
}
```



---

archive/issue_events_309020.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2017-09-11T23:28:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309020"
}
```



---

archive/issue_comments_356036.json:
```json
{
    "body": "Changed commit from **[bdbf658](https://github.com/sagemath/sagetrac-mirror/commit/bdbf658dcbb2005227228a13330d5d4090d33724)** to **[2eecc68](https://github.com/sagemath/sagetrac-mirror/commit/2eecc68b05527c59db06daba1bedadc5756e8e05)**",
    "created_at": "2017-09-11T23:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356036",
    "user": "https://github.com/bhutz"
}
```

Changed commit from **[bdbf658](https://github.com/sagemath/sagetrac-mirror/commit/bdbf658dcbb2005227228a13330d5d4090d33724)** to **[2eecc68](https://github.com/sagemath/sagetrac-mirror/commit/2eecc68b05527c59db06daba1bedadc5756e8e05)**



---

archive/issue_comments_356037.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nfixed conflict\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2eecc68b05527c59db06daba1bedadc5756e8e05\">2eecc68</a></td><td><code>Merge branch 8.1.beta5 into t/23497/arith_dyn-23497</code></td></tr></table>\n",
    "created_at": "2017-09-11T23:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356037",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:44" align="right">Comment 44</div>

fixed conflict

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2eecc68b05527c59db06daba1bedadc5756e8e05">2eecc68</a></td><td><code>Merge branch 8.1.beta5 into t/23497/arith_dyn-23497</code></td></tr></table>




---

archive/issue_comments_356038.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nHopefully this will get high merge priority...",
    "created_at": "2017-09-12T05:27:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356038",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:45" align="right">Comment 45</div>

Hopefully this will get high merge priority...



---

archive/issue_events_309021.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-09-12T05:27:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309021"
}
```



---

archive/issue_events_309022.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-09-12T05:27:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309022"
}
```



---

archive/issue_events_309023.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-15T07:30:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309023"
}
```



---

archive/issue_events_309024.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "16e326df222ccc2e3e76512de4cc41f448ac8e53",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-09-15T07:30:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23497#event-309024"
}
```



---

archive/issue_comments_356039.json:
```json
{
    "body": "Changed branch from **[u/bhutz/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn-23497)** to **[2eecc68](https://github.com/sagemath/sagetrac-mirror/commit/2eecc68b05527c59db06daba1bedadc5756e8e05)**",
    "created_at": "2017-09-15T07:30:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23497#issuecomment-356039",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/bhutz/arith_dyn-23497](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/arith_dyn-23497)** to **[2eecc68](https://github.com/sagemath/sagetrac-mirror/commit/2eecc68b05527c59db06daba1bedadc5756e8e05)**
