# Issue 23079: genus of an Elliptic Curve over a finite field

archive/issues_022842.json:
```json
{
    "body": "Hello,\n\nWhen creating an elliptic curve over a finite field the attribute _genus is not initialized.\n\neg:\n\n```\nE = EllipticCurve(GF(3), [0, -1, 0, -346, 2652])\nE.genus()\n...\nAttributeError: 'EllipticCurve_finite_field_with_category' object has no attribute '_genus'\n```\n\n\nCheers,\nEdgar\n\nCC:  @JohnCremona @jdemeyer\n\nKeywords: genus, elliptic curve\n\nBranch/Commit: [e27bc950f22b2cd160de14fa57b1da23de7e6944](https://github.com/sagemath/sagetrac-mirror/commit/e27bc950f22b2cd160de14fa57b1da23de7e6944)\n\nReviewer: John Cremona\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23079\n\n",
    "closed_at": "2017-06-04T10:08:49Z",
    "created_at": "2017-05-25T19:31:01Z",
    "labels": [
        "component: algebraic geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "genus of an Elliptic Curve over a finite field",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23079",
    "user": "https://github.com/edgarcosta"
}
```
Hello,

When creating an elliptic curve over a finite field the attribute _genus is not initialized.

eg:

```
E = EllipticCurve(GF(3), [0, -1, 0, -346, 2652])
E.genus()
...
AttributeError: 'EllipticCurve_finite_field_with_category' object has no attribute '_genus'
```


Cheers,
Edgar

CC:  @JohnCremona @jdemeyer

Keywords: genus, elliptic curve

Branch/Commit: [e27bc950f22b2cd160de14fa57b1da23de7e6944](https://github.com/sagemath/sagetrac-mirror/commit/e27bc950f22b2cd160de14fa57b1da23de7e6944)

Reviewer: John Cremona

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23079





---

archive/issue_comments_435229.json:
```json
{
    "body": "<a id='comment:2'></a>\nI suggest adding a method genus() to EllipticCurve_field.  For curves over Q it works already but not over number fields, since the genus is actually begin computed somewhere.  This is silly since the EllipticCurve constructor already checks for nonsingularity so will never construct an object whose genus is not 1.",
    "created_at": "2017-05-26T08:23:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23079#issuecomment-435229",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:2'></a>
I suggest adding a method genus() to EllipticCurve_field.  For curves over Q it works already but not over number fields, since the genus is actually begin computed somewhere.  This is silly since the EllipticCurve constructor already checks for nonsingularity so will never construct an object whose genus is not 1.



---

archive/issue_comments_435230.json:
```json
{
    "body": "<a id='comment:3'></a>\nThere are lots of missing \"trivial\" functions like this.  For example\n\n```\nsage: ZZ[I].class_number()\n1\nsage: ZZ.class_number()\n...\nAttributeError: 'sage.rings.integer_ring.IntegerRing_class' object has no attribute 'class_number'\n```",
    "created_at": "2017-05-26T08:27:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23079#issuecomment-435230",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:3'></a>
There are lots of missing "trivial" functions like this.  For example

```
sage: ZZ[I].class_number()
1
sage: ZZ.class_number()
...
AttributeError: 'sage.rings.integer_ring.IntegerRing_class' object has no attribute 'class_number'
```



---

archive/issue_comments_435231.json:
```json
{
    "body": "<a id='comment:4'></a>\nI believe we just need to set  `self._genus = 1`  when constructing the elliptic curve.\n\nI agree this is a trivial function, but there are methods inherited from hyperelliptic curves over finite fields that use the self.genus() call, for example, `self.frobenius_polynomial_matrix()`",
    "created_at": "2017-05-26T12:43:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23079#issuecomment-435231",
    "user": "https://github.com/edgarcosta"
}
```

<a id='comment:4'></a>
I believe we just need to set  `self._genus = 1`  when constructing the elliptic curve.

I agree this is a trivial function, but there are methods inherited from hyperelliptic curves over finite fields that use the self.genus() call, for example, `self.frobenius_polynomial_matrix()`



---

archive/issue_comments_435232.json:
```json
{
    "body": "<a id='comment:5'></a>\ndone, hopefully in a proper way, if not perfect\n\n---\nNew commits:\n|                                                                                                                                          |                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[e27bc95](https://github.com/sagemath/sagetrac-mirror/commit/e27bc950f22b2cd160de14fa57b1da23de7e6944)|`setting the genus for elliptic curves over fields`|",
    "created_at": "2017-05-29T20:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23079#issuecomment-435232",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
done, hopefully in a proper way, if not perfect

---
New commits:
|                                                                                                                                          |                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[e27bc95](https://github.com/sagemath/sagetrac-mirror/commit/e27bc950f22b2cd160de14fa57b1da23de7e6944)|`setting the genus for elliptic curves over fields`|



---

archive/issue_comments_435233.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-29T20:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23079#issuecomment-435233",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_435234.json:
```json
{
    "body": "Changing author from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2017-05-29T20:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23079#issuecomment-435234",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "" to "Frédéric Chapoton"



---

archive/issue_comments_435235.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/23079\"",
    "created_at": "2017-05-29T20:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23079#issuecomment-435235",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/23079"



---

archive/issue_comments_435236.json:
```json
{
    "body": "Changing commit from \"\" to \"e27bc950f22b2cd160de14fa57b1da23de7e6944\"",
    "created_at": "2017-05-29T20:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23079#issuecomment-435236",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "e27bc950f22b2cd160de14fa57b1da23de7e6944"



---

archive/issue_comments_435237.json:
```json
{
    "body": "<a id='comment:6'></a>\nbot is green, please review !",
    "created_at": "2017-06-01T16:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23079#issuecomment-435237",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
bot is green, please review !



---

archive/issue_comments_435238.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Cremona\"",
    "created_at": "2017-06-01T18:40:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23079#issuecomment-435238",
    "user": "https://github.com/JohnCremona"
}
```

Changing reviewer from "" to "John Cremona"



---

archive/issue_comments_435239.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-01T18:40:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23079#issuecomment-435239",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_435240.json:
```json
{
    "body": "<a id='comment:7'></a>\nLooks good to me.",
    "created_at": "2017-06-01T18:40:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23079#issuecomment-435240",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:7'></a>
Looks good to me.



---

archive/issue_events_067922.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-04T10:08:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23079#event-67922"
}
```



---

archive/issue_comments_435241.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-06-04T10:08:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23079#issuecomment-435241",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_435242.json:
```json
{
    "body": "Changing branch from \"u/chapoton/23079\" to \"e27bc950f22b2cd160de14fa57b1da23de7e6944\"",
    "created_at": "2017-06-04T10:08:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23079",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23079#issuecomment-435242",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/23079" to "e27bc950f22b2cd160de14fa57b1da23de7e6944"
