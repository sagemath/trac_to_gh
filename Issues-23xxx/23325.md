# Issue 23325: Upgrade to Pynac-0.7.10

archive/issues_023088.json:
```json
{
    "assignees": [],
    "body": "In the new version:\n* remove static `PyObject`s; (#23134)\n* fix segmentation fault with coefficients() (#23545)\n* fix compile error --with-giac=yes\n* fix tgamma/lgamma return types\n* (real<sup>m</sup>)<sup>(1/n)</sup> --> abs(real)<sup>(m/n)</sup>, m even, m/n integer (#14305)\n* fix `add::conjugate()` (#23135)\n* fix `is_real(zeta(real))`\n* negative symbolic domain from assume(sym<0) (#21973)\n* add missing calls to `set_domain` in symbol constructors (#23138)\n* implement `add.info(negative)`\n* exact comparison of `overall_coefficient`s\n* internal LONG numeric; nice speedup in some parts\n* fast internal in-place arithmetic operators\n* obsolete some internal usages of Python\n\nhttps://github.com/pynac/pynac/releases/download/pynac-0.7.10/pynac-0.7.10.tar.bz2\n\nDepends on #23329\n\nCC:  @kiwifb\n\nBranch/Commit: **[`5387ba5`](https://github.com/sagemath/sagetrac-mirror/commit/5387ba543d78320b1a87c72b45068e4c4ae4c7ef)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Ralf Stephan**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23325_\n\n",
    "closed_at": "2017-08-29T19:51:09Z",
    "created_at": "2017-06-26T07:40:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade to Pynac-0.7.10",
    "type": "issue",
    "updated_at": "2017-08-29T19:51:09Z",
    "url": "https://github.com/sagemath/sage/issues/23325",
    "user": "https://github.com/rwst"
}
```
In the new version:
* remove static `PyObject`s; (#23134)
* fix segmentation fault with coefficients() (#23545)
* fix compile error --with-giac=yes
* fix tgamma/lgamma return types
* (real<sup>m</sup>)<sup>(1/n)</sup> --> abs(real)<sup>(m/n)</sup>, m even, m/n integer (#14305)
* fix `add::conjugate()` (#23135)
* fix `is_real(zeta(real))`
* negative symbolic domain from assume(sym<0) (#21973)
* add missing calls to `set_domain` in symbol constructors (#23138)
* implement `add.info(negative)`
* exact comparison of `overall_coefficient`s
* internal LONG numeric; nice speedup in some parts
* fast internal in-place arithmetic operators
* obsolete some internal usages of Python

https://github.com/pynac/pynac/releases/download/pynac-0.7.10/pynac-0.7.10.tar.bz2

Depends on #23329

CC:  @kiwifb

Branch/Commit: **[`5387ba5`](https://github.com/sagemath/sagetrac-mirror/commit/5387ba543d78320b1a87c72b45068e4c4ae4c7ef)**

Reviewer: **Jeroen Demeyer**

Author: **Ralf Stephan**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/23325_





---

archive/issue_events_321906.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-06-26T07:40:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321906"
}
```



---

archive/issue_events_321907.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-06-26T07:40:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321907"
}
```



---

archive/issue_events_321908.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-06-26T07:40:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321908"
}
```



---

archive/issue_events_321909.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-06-26T07:40:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321909"
}
```



---

archive/issue_comments_349956.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n In the new version:\n * remove static PyObjects; (#23134)\n-* (real<sup>m)</sup>(1/n) --> abs(real)^(m/n), m even, m/n integer (#14305)\n+* (real<sup>m</sup>)<sup>(1/n)</sup> --> abs(real)<sup>(m/n)</sup>, m even, m/n integer (#14305)\n * fix `add::conjugate()` (#23135)\n * fix `is_real(zeta(real))`\n * negative symbolic domain from assume(sym<0) (#21973)\n``````\n",
    "created_at": "2017-06-26T07:41:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349956",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 In the new version:
 * remove static PyObjects; (#23134)
-* (real<sup>m)</sup>(1/n) --> abs(real)^(m/n), m even, m/n integer (#14305)
+* (real<sup>m</sup>)<sup>(1/n)</sup> --> abs(real)<sup>(m/n)</sup>, m even, m/n integer (#14305)
 * fix `add::conjugate()` (#23135)
 * fix `is_real(zeta(real))`
 * negative symbolic domain from assume(sym<0) (#21973)
``````




---

archive/issue_comments_349957.json:
```json
{
    "body": "Branch: **[u/rws/upgrade_to_pynac_0_7_9](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_to_pynac_0_7_9)**",
    "created_at": "2017-06-26T07:49:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349957",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/upgrade_to_pynac_0_7_9](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_to_pynac_0_7_9)**



---

archive/issue_comments_349958.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d1aeb839d3bda754d14291f0214b57bff12d8b9\"><code>1d1aeb8</code></a></td><td><code>23325: pkg version/chksum, remove obsolete patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf621801b8e4181ece765734c8bb2dcc892e4598\"><code>cf62180</code></a></td><td><code>23325: fix py_get_parent_char()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f976b8c07bc783cc088f6c964aa2113cef6d19ee\"><code>f976b8c</code></a></td><td><code>23325: fix doctests</code></td></tr></table>\n",
    "created_at": "2017-06-26T07:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349958",
    "user": "https://github.com/rwst"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d1aeb839d3bda754d14291f0214b57bff12d8b9"><code>1d1aeb8</code></a></td><td><code>23325: pkg version/chksum, remove obsolete patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf621801b8e4181ece765734c8bb2dcc892e4598"><code>cf62180</code></a></td><td><code>23325: fix py_get_parent_char()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f976b8c07bc783cc088f6c964aa2113cef6d19ee"><code>f976b8c</code></a></td><td><code>23325: fix doctests</code></td></tr></table>




---

archive/issue_comments_349959.json:
```json
{
    "body": "Author: **Ralf Stephan**",
    "created_at": "2017-06-26T07:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349959",
    "user": "https://github.com/rwst"
}
```

Author: **Ralf Stephan**



---

archive/issue_events_321910.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-06-26T07:50:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321910"
}
```



---

archive/issue_comments_349960.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n In the new version:\n-* remove static PyObjects; (#23134)\n+* remove static `PyObject`s; (#23134)\n * (real<sup>m</sup>)<sup>(1/n)</sup> --> abs(real)<sup>(m/n)</sup>, m even, m/n integer (#14305)\n * fix `add::conjugate()` (#23135)\n * fix `is_real(zeta(real))`\n``````\n",
    "created_at": "2017-06-26T07:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349960",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 In the new version:
-* remove static PyObjects; (#23134)
+* remove static `PyObject`s; (#23134)
 * (real<sup>m</sup>)<sup>(1/n)</sup> --> abs(real)<sup>(m/n)</sup>, m even, m/n integer (#14305)
 * fix `add::conjugate()` (#23135)
 * fix `is_real(zeta(real))`
``````




---

archive/issue_comments_349961.json:
```json
{
    "body": "Commit: **[`f976b8c`](https://github.com/sagemath/sagetrac-mirror/commit/f976b8c07bc783cc088f6c964aa2113cef6d19ee)**",
    "created_at": "2017-06-26T07:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349961",
    "user": "https://github.com/rwst"
}
```

Commit: **[`f976b8c`](https://github.com/sagemath/sagetrac-mirror/commit/f976b8c07bc783cc088f6c964aa2113cef6d19ee)**



---

archive/issue_comments_349962.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI don't agree with the change to `py_get_parent_char`: why assume characteristic zero if the parent cannot decide?",
    "created_at": "2017-06-26T13:26:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349962",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

I don't agree with the change to `py_get_parent_char`: why assume characteristic zero if the parent cannot decide?



---

archive/issue_events_321911.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-26T13:26:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321911"
}
```



---

archive/issue_events_321912.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-26T13:26:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321912"
}
```



---

archive/issue_comments_349963.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2017-06-26T13:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349963",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_349964.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIf you revert the change to `py_get_parent_char` and all doctests pass, you can set this to positive review.",
    "created_at": "2017-06-26T13:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349964",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

If you revert the change to `py_get_parent_char` and all doctests pass, you can set this to positive review.



---

archive/issue_comments_349965.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThat's a no, because this then needs investigation (doctest fail at src/sage/manifolds/differentiable/diff_form.py:796):\n\n```\nsage: M = Manifold(3, 'R3', '\\RR^3', start_index=1)\nsage: c_cart.<x,y,z> = M.chart()\nsage: eps = M.diff_form(3, 'epsilon', r'\\epsilon')\nsage: eps[1,2,3] = 1\nsage: a = M.one_form('A')\nsage: a[:] = (x*y*z, -z*x, y*z)\nsage: b = M.one_form('B')\nsage: b[:] = (cos(z), sin(x), cos(y))\nsage: ab = a.wedge(b)\nsage: dab = ab.exterior_derivative()\nsage: dab[[1,2,3]]/eps[[1,2,3]]\n...\n/home/ralf/sage/src/sage/structure/element.pyx in sage.structure.element.RingElement._div_ (build/cythonized/sage/structure/element.c:17655)()\n   2453         return l\n   2454 \n-> 2455     cpdef _div_(self, other):\n   2456         \"\"\"\n   2457         Default implementation of division using the fraction field.\n\n/home/ralf/sage/local/lib/python2.7/site-packages/sage/manifolds/coord_func_symb.pyc in _div_(self, other)\n    947         if other._express.is_zero():\n    948             raise ZeroDivisionError(\"division of a coordinate function by zero\")\n--> 949         res = self._simplify(self._express / SR(other))\n    950         if res.is_trivial_zero():  # NB: \"if res == 0\" would be too\n    951                                    # expensive (cf. #22859)\n\n/home/ralf/sage/src/sage/structure/element.pyx in sage.structure.element.Element.__div__ (build/cythonized/sage/structure/element.c:12950)()\n   1638         cdef int cl = classify_elements(left, right)\n   1639         if HAVE_SAME_PARENT(cl):\n-> 1640             return (<Element>left)._div_(right)\n   1641         if BOTH_ARE_ELEMENT(cl):\n   1642             return coercion_model.bin_op(left, right, div)\n\n/home/ralf/sage/src/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._div_ (build/cythonized/sage/symbolic/expression.cpp:24795)()\n   3445                 raise ZeroDivisionError(\"Symbolic division by zero\")\n   3446             else:\n-> 3447                 raise\n   3448         finally:\n   3449             sig_off()\n\n/home/ralf/sage/src/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._div_ (build/cythonized/sage/symbolic/expression.cpp:24684)()\n   3437                                o)\n   3438             else:\n-> 3439                 x = left._gobj / _right._gobj\n   3440             return new_Expression_from_GEx(left._parent, x)\n   3441         except Exception as msg:\n\n/home/ralf/sage/src/sage/libs/pynac/pynac.pyx in sage.libs.pynac.pynac.py_get_parent_char (build/cythonized/sage/libs/pynac/pynac.cpp:9942)()\n    818         return 0\n    819 \n--> 820     c = (<Element>o)._parent.characteristic()\n    821 \n    822     # Pynac only differentiates between\n\n/home/ralf/sage/local/lib/python2.7/site-packages/sage/categories/rings.pyc in characteristic(self)\n    461             from sage.rings.infinity import infinity\n    462             from sage.rings.integer_ring import ZZ\n--> 463             order_1 = self.one().additive_order()\n    464             return ZZ.zero() if order_1 is infinity else order_1\n    465 \n\n/home/ralf/sage/src/sage/structure/element.pyx in sage.structure.element.RingElement.additive_order (build/cythonized/sage/structure/element.c:18049)()\n   2470         Return the additive order of ``self``.\n   2471         \"\"\"\n-> 2472         raise NotImplementedError\n   2473 \n   2474     def multiplicative_order(self):\n\nNotImplementedError: \n\nsage: dab[[1,2,3]]\nScalar field on the 3-dimensional differentiable manifold R3\nsage: type(_)\n<class 'sage.manifolds.differentiable.scalarfield_algebra.DiffScalarFieldAlgebra_with_category.element_class'>\nsage: eps[[1,2,3]]\nScalar field on the 3-dimensional differentiable manifold R3\nsage: type(_)\n<class 'sage.manifolds.differentiable.scalarfield_algebra.DiffScalarFieldAlgebra_with_category.element_class'>\n\nsage: parent(dab[[1,2,3]])\nAlgebra of differentiable scalar fields on the 3-dimensional differentiable manifold R3\nsage: parent(eps[[1,2,3]])\nAlgebra of differentiable scalar fields on the 3-dimensional differentiable manifold R3\n```\nWhile this is triggered by changes in Pynac that should be addressed it's not clear to me why the division of two scalar fields must go through `SR` at all.",
    "created_at": "2017-06-27T06:28:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349965",
    "user": "https://github.com/rwst"
}
```

<div id="comment:6" align="right">comment:6</div>

That's a no, because this then needs investigation (doctest fail at src/sage/manifolds/differentiable/diff_form.py:796):

```
sage: M = Manifold(3, 'R3', '\RR^3', start_index=1)
sage: c_cart.<x,y,z> = M.chart()
sage: eps = M.diff_form(3, 'epsilon', r'\epsilon')
sage: eps[1,2,3] = 1
sage: a = M.one_form('A')
sage: a[:] = (x*y*z, -z*x, y*z)
sage: b = M.one_form('B')
sage: b[:] = (cos(z), sin(x), cos(y))
sage: ab = a.wedge(b)
sage: dab = ab.exterior_derivative()
sage: dab[[1,2,3]]/eps[[1,2,3]]
...
/home/ralf/sage/src/sage/structure/element.pyx in sage.structure.element.RingElement._div_ (build/cythonized/sage/structure/element.c:17655)()
   2453         return l
   2454 
-> 2455     cpdef _div_(self, other):
   2456         """
   2457         Default implementation of division using the fraction field.

/home/ralf/sage/local/lib/python2.7/site-packages/sage/manifolds/coord_func_symb.pyc in _div_(self, other)
    947         if other._express.is_zero():
    948             raise ZeroDivisionError("division of a coordinate function by zero")
--> 949         res = self._simplify(self._express / SR(other))
    950         if res.is_trivial_zero():  # NB: "if res == 0" would be too
    951                                    # expensive (cf. #22859)

/home/ralf/sage/src/sage/structure/element.pyx in sage.structure.element.Element.__div__ (build/cythonized/sage/structure/element.c:12950)()
   1638         cdef int cl = classify_elements(left, right)
   1639         if HAVE_SAME_PARENT(cl):
-> 1640             return (<Element>left)._div_(right)
   1641         if BOTH_ARE_ELEMENT(cl):
   1642             return coercion_model.bin_op(left, right, div)

/home/ralf/sage/src/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._div_ (build/cythonized/sage/symbolic/expression.cpp:24795)()
   3445                 raise ZeroDivisionError("Symbolic division by zero")
   3446             else:
-> 3447                 raise
   3448         finally:
   3449             sig_off()

/home/ralf/sage/src/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._div_ (build/cythonized/sage/symbolic/expression.cpp:24684)()
   3437                                o)
   3438             else:
-> 3439                 x = left._gobj / _right._gobj
   3440             return new_Expression_from_GEx(left._parent, x)
   3441         except Exception as msg:

/home/ralf/sage/src/sage/libs/pynac/pynac.pyx in sage.libs.pynac.pynac.py_get_parent_char (build/cythonized/sage/libs/pynac/pynac.cpp:9942)()
    818         return 0
    819 
--> 820     c = (<Element>o)._parent.characteristic()
    821 
    822     # Pynac only differentiates between

/home/ralf/sage/local/lib/python2.7/site-packages/sage/categories/rings.pyc in characteristic(self)
    461             from sage.rings.infinity import infinity
    462             from sage.rings.integer_ring import ZZ
--> 463             order_1 = self.one().additive_order()
    464             return ZZ.zero() if order_1 is infinity else order_1
    465 

/home/ralf/sage/src/sage/structure/element.pyx in sage.structure.element.RingElement.additive_order (build/cythonized/sage/structure/element.c:18049)()
   2470         Return the additive order of ``self``.
   2471         """
-> 2472         raise NotImplementedError
   2473 
   2474     def multiplicative_order(self):

NotImplementedError: 

sage: dab[[1,2,3]]
Scalar field on the 3-dimensional differentiable manifold R3
sage: type(_)
<class 'sage.manifolds.differentiable.scalarfield_algebra.DiffScalarFieldAlgebra_with_category.element_class'>
sage: eps[[1,2,3]]
Scalar field on the 3-dimensional differentiable manifold R3
sage: type(_)
<class 'sage.manifolds.differentiable.scalarfield_algebra.DiffScalarFieldAlgebra_with_category.element_class'>

sage: parent(dab[[1,2,3]])
Algebra of differentiable scalar fields on the 3-dimensional differentiable manifold R3
sage: parent(eps[[1,2,3]])
Algebra of differentiable scalar fields on the 3-dimensional differentiable manifold R3
```
While this is triggered by changes in Pynac that should be addressed it's not clear to me why the division of two scalar fields must go through `SR` at all.



---

archive/issue_comments_349966.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI will have a look.",
    "created_at": "2017-06-27T08:15:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349966",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

I will have a look.



---

archive/issue_comments_349967.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThe reason why this is now failing is that the quotient here, which is `1` but not integer, is now recognized as `is_one` and triggers the `...pos_char` call.\n\nhttps://github.com/pynac/pynac/blob/master/ginac/mul.cpp#L702\n\nRemoving the call altogether in preliminary testing only fails one doctest involving `Mod` and, frankly, I could care less. Full testing now.",
    "created_at": "2017-06-27T08:32:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349967",
    "user": "https://github.com/rwst"
}
```

<div id="comment:8" align="right">comment:8</div>

The reason why this is now failing is that the quotient here, which is `1` but not integer, is now recognized as `is_one` and triggers the `...pos_char` call.

https://github.com/pynac/pynac/blob/master/ginac/mul.cpp#L702

Removing the call altogether in preliminary testing only fails one doctest involving `Mod` and, frankly, I could care less. Full testing now.



---

archive/issue_comments_349968.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI think the best solution here is simply to implement `characteric` for the \"Ring of coordinate functions\".",
    "created_at": "2017-06-27T08:46:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349968",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

I think the best solution here is simply to implement `characteric` for the "Ring of coordinate functions".



---

archive/issue_comments_349969.json:
```json
{
    "body": "Dependencies: **#23329**",
    "created_at": "2017-06-27T08:49:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349969",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#23329**



---

archive/issue_comments_349970.json:
```json
{
    "body": "Changed commit from **[`f976b8c`](https://github.com/sagemath/sagetrac-mirror/commit/f976b8c07bc783cc088f6c964aa2113cef6d19ee)** to **[`fb52b8b`](https://github.com/sagemath/sagetrac-mirror/commit/fb52b8b87a7f866a729b599807be27a04907a0e6)**",
    "created_at": "2017-06-27T12:42:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349970",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f976b8c`](https://github.com/sagemath/sagetrac-mirror/commit/f976b8c07bc783cc088f6c964aa2113cef6d19ee)** to **[`fb52b8b`](https://github.com/sagemath/sagetrac-mirror/commit/fb52b8b87a7f866a729b599807be27a04907a0e6)**



---

archive/issue_comments_349971.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb52b8b87a7f866a729b599807be27a04907a0e6\"><code>fb52b8b</code></a></td><td><code>23325: revert libs/pynac commit</code></td></tr></table>\n",
    "created_at": "2017-06-27T12:42:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349971",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb52b8b87a7f866a729b599807be27a04907a0e6"><code>fb52b8b</code></a></td><td><code>23325: revert libs/pynac commit</code></td></tr></table>




---

archive/issue_comments_349972.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a369cba2636b5a9660507d18ad6d2d967a31eb3\"><code>1a369cb</code></a></td><td><code>Merge branch 'develop' into t/23325/upgrade_to_pynac_0_7_9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1fa0f69056e9b548cac5e8b5505415fd5dd45727\"><code>1fa0f69</code></a></td><td><code>Merge branch 'develop' into t/23325/upgrade_to_pynac_0_7_9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/725db22ac0b3e5001ca8070ac89b0ada11c1ab72\"><code>725db22</code></a></td><td><code>Merge branch 'develop' into t/23325/upgrade_to_pynac_0_7_9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b7db8bfca32778d123c53f59979ebc7dc69a62b\"><code>3b7db8b</code></a></td><td><code>pynac-2.7.10 doctest fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5682bf3c03d657382282c307d0e9392cedf2008\"><code>f5682bf</code></a></td><td><code>necessary code change to make pynac-2.7.10 work</code></td></tr></table>\n",
    "created_at": "2017-08-04T14:44:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349972",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a369cba2636b5a9660507d18ad6d2d967a31eb3"><code>1a369cb</code></a></td><td><code>Merge branch 'develop' into t/23325/upgrade_to_pynac_0_7_9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1fa0f69056e9b548cac5e8b5505415fd5dd45727"><code>1fa0f69</code></a></td><td><code>Merge branch 'develop' into t/23325/upgrade_to_pynac_0_7_9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/725db22ac0b3e5001ca8070ac89b0ada11c1ab72"><code>725db22</code></a></td><td><code>Merge branch 'develop' into t/23325/upgrade_to_pynac_0_7_9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b7db8bfca32778d123c53f59979ebc7dc69a62b"><code>3b7db8b</code></a></td><td><code>pynac-2.7.10 doctest fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5682bf3c03d657382282c307d0e9392cedf2008"><code>f5682bf</code></a></td><td><code>necessary code change to make pynac-2.7.10 work</code></td></tr></table>




---

archive/issue_comments_349973.json:
```json
{
    "body": "Changed commit from **[`fb52b8b`](https://github.com/sagemath/sagetrac-mirror/commit/fb52b8b87a7f866a729b599807be27a04907a0e6)** to **[`f5682bf`](https://github.com/sagemath/sagetrac-mirror/commit/f5682bf3c03d657382282c307d0e9392cedf2008)**",
    "created_at": "2017-08-04T14:44:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349973",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fb52b8b`](https://github.com/sagemath/sagetrac-mirror/commit/fb52b8b87a7f866a729b599807be27a04907a0e6)** to **[`f5682bf`](https://github.com/sagemath/sagetrac-mirror/commit/f5682bf3c03d657382282c307d0e9392cedf2008)**



---

archive/issue_comments_349974.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nCorrect is 0.7.10 not 2.7.10.",
    "created_at": "2017-08-04T14:47:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349974",
    "user": "https://github.com/rwst"
}
```

<div id="comment:13" align="right">comment:13</div>

Correct is 0.7.10 not 2.7.10.



---

archive/issue_comments_349975.json:
```json
{
    "body": "Changed commit from **[`f5682bf`](https://github.com/sagemath/sagetrac-mirror/commit/f5682bf3c03d657382282c307d0e9392cedf2008)** to **[`0879761`](https://github.com/sagemath/sagetrac-mirror/commit/0879761e743d948c0fb461c88168d8bb2ac6a7cd)**",
    "created_at": "2017-08-05T07:15:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349975",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f5682bf`](https://github.com/sagemath/sagetrac-mirror/commit/f5682bf3c03d657382282c307d0e9392cedf2008)** to **[`0879761`](https://github.com/sagemath/sagetrac-mirror/commit/0879761e743d948c0fb461c88168d8bb2ac6a7cd)**



---

archive/issue_comments_349976.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bafd41a8c8bcebfc96f129975a645ee9cb4668bf\"><code>bafd41a</code></a></td><td><code>Merge branch 'develop' into t/23325/upgrade_to_pynac_0_7_9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a90ce6a6d5eaf6f984dc863afb70c72de47e0a64\"><code>a90ce6a</code></a></td><td><code>23582: Robustify doctest in hyperbolic_geodesic.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0879761e743d948c0fb461c88168d8bb2ac6a7cd\"><code>0879761</code></a></td><td><code>Merge branch 'u/rws/robustify_doctest_in_hyperbolic_geodesic_py' of git://trac.sagemath.org/sage into t/23325/upgrade_to_pynac_0_7_9</code></td></tr></table>\n",
    "created_at": "2017-08-05T07:15:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349976",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bafd41a8c8bcebfc96f129975a645ee9cb4668bf"><code>bafd41a</code></a></td><td><code>Merge branch 'develop' into t/23325/upgrade_to_pynac_0_7_9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a90ce6a6d5eaf6f984dc863afb70c72de47e0a64"><code>a90ce6a</code></a></td><td><code>23582: Robustify doctest in hyperbolic_geodesic.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0879761e743d948c0fb461c88168d8bb2ac6a7cd"><code>0879761</code></a></td><td><code>Merge branch 'u/rws/robustify_doctest_in_hyperbolic_geodesic_py' of git://trac.sagemath.org/sage into t/23325/upgrade_to_pynac_0_7_9</code></td></tr></table>




---

archive/issue_comments_349977.json:
```json
{
    "body": "Changed dependencies from **#23329** to **#23329, #23582**",
    "created_at": "2017-08-05T07:16:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349977",
    "user": "https://github.com/rwst"
}
```

Changed dependencies from **#23329** to **#23329, #23582**



---

archive/issue_comments_349978.json:
```json
{
    "body": "Changed dependencies from **#23329, #23582** to **#23329, #23582, #23587**",
    "created_at": "2017-08-06T07:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349978",
    "user": "https://github.com/rwst"
}
```

Changed dependencies from **#23329, #23582** to **#23329, #23582, #23587**



---

archive/issue_comments_349979.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28ae95859aa8453ccbc500ff3b1d415c996c74fe\"><code>28ae958</code></a></td><td><code>23325: doctest fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5fc85e55832824f1c555f1c31237f4d78c9c67db\"><code>5fc85e5</code></a></td><td><code>23587: Silence Cython warnings with expression.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0dd29b7c9f9aeb84f523c01f664ca3def1d5ccf\"><code>b0dd29b</code></a></td><td><code>Merge branch 'u/rws/silence_cython_warnings_with_expression_pyx' of git://trac.sagemath.org/sage into t/23325/upgrade_to_pynac_0_7_9</code></td></tr></table>\n",
    "created_at": "2017-08-06T07:28:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349979",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28ae95859aa8453ccbc500ff3b1d415c996c74fe"><code>28ae958</code></a></td><td><code>23325: doctest fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5fc85e55832824f1c555f1c31237f4d78c9c67db"><code>5fc85e5</code></a></td><td><code>23587: Silence Cython warnings with expression.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0dd29b7c9f9aeb84f523c01f664ca3def1d5ccf"><code>b0dd29b</code></a></td><td><code>Merge branch 'u/rws/silence_cython_warnings_with_expression_pyx' of git://trac.sagemath.org/sage into t/23325/upgrade_to_pynac_0_7_9</code></td></tr></table>




---

archive/issue_comments_349980.json:
```json
{
    "body": "Changed commit from **[`0879761`](https://github.com/sagemath/sagetrac-mirror/commit/0879761e743d948c0fb461c88168d8bb2ac6a7cd)** to **[`b0dd29b`](https://github.com/sagemath/sagetrac-mirror/commit/b0dd29b7c9f9aeb84f523c01f664ca3def1d5ccf)**",
    "created_at": "2017-08-06T07:28:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349980",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0879761`](https://github.com/sagemath/sagetrac-mirror/commit/0879761e743d948c0fb461c88168d8bb2ac6a7cd)** to **[`b0dd29b`](https://github.com/sagemath/sagetrac-mirror/commit/b0dd29b7c9f9aeb84f523c01f664ca3def1d5ccf)**



---

archive/issue_comments_349981.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nMay we please change the .configure line in spkg-install to\n\n```\n    ./configure --disable-static --prefix=${SAGE_LOCAL} --with-giac=no --libdir=\n\"$SAGE_LOCAL/lib\" PYTHON=sage-python23\n```\nto ensure compatibility with python3 ?",
    "created_at": "2017-08-06T08:42:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349981",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

May we please change the .configure line in spkg-install to

```
    ./configure --disable-static --prefix=${SAGE_LOCAL} --with-giac=no --libdir=
"$SAGE_LOCAL/lib" PYTHON=sage-python23
```
to ensure compatibility with python3 ?



---

archive/issue_comments_349982.json:
```json
{
    "body": "Changed commit from **[`b0dd29b`](https://github.com/sagemath/sagetrac-mirror/commit/b0dd29b7c9f9aeb84f523c01f664ca3def1d5ccf)** to **[`ad2e96d`](https://github.com/sagemath/sagetrac-mirror/commit/ad2e96d39f094575f5a92818987fc4355856b93b)**",
    "created_at": "2017-08-06T12:57:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349982",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b0dd29b`](https://github.com/sagemath/sagetrac-mirror/commit/b0dd29b7c9f9aeb84f523c01f664ca3def1d5ccf)** to **[`ad2e96d`](https://github.com/sagemath/sagetrac-mirror/commit/ad2e96d39f094575f5a92818987fc4355856b93b)**



---

archive/issue_comments_349983.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad2e96d39f094575f5a92818987fc4355856b93b\"><code>ad2e96d</code></a></td><td><code>23325: explicitly look for sage-python23</code></td></tr></table>\n",
    "created_at": "2017-08-06T12:57:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349983",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad2e96d39f094575f5a92818987fc4355856b93b"><code>ad2e96d</code></a></td><td><code>23325: explicitly look for sage-python23</code></td></tr></table>




---

archive/issue_comments_349984.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nIf you looked at the doctest changes you probably have noticed natural simplifications where quadratic numeric factors inside `sqrt` are drawn out of the root. I will have to revert this behaviour, unfortunately. There is code in the Sage code base that relies on that root content is not changed, because it allows manipulations leading to expressions that can later be better simplified by Maxima's simplification functions. Apparently none of these functions is able to normalize root content in complicated expressions. I will maybe implement it separately, similar to `gamma_normalize`, for inclusion in `simplify_full` but releasing pynac-0.7.10 is more urgent.",
    "created_at": "2017-08-06T14:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349984",
    "user": "https://github.com/rwst"
}
```

<div id="comment:21" align="right">comment:21</div>

If you looked at the doctest changes you probably have noticed natural simplifications where quadratic numeric factors inside `sqrt` are drawn out of the root. I will have to revert this behaviour, unfortunately. There is code in the Sage code base that relies on that root content is not changed, because it allows manipulations leading to expressions that can later be better simplified by Maxima's simplification functions. Apparently none of these functions is able to normalize root content in complicated expressions. I will maybe implement it separately, similar to `gamma_normalize`, for inclusion in `simplify_full` but releasing pynac-0.7.10 is more urgent.



---

archive/issue_events_321913.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-08-09T06:31:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "title_is": "Upgrade to Pynac-0.7.10",
    "title_was": "Upgrade to Pynac-0.7.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321913"
}
```



---

archive/issue_comments_349985.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,8 @@\n In the new version:\n * remove static `PyObject`s; (#23134)\n+* fix segmentation fault with coefficients() (#23545)\n+* fix compile error --with-giac=yes\n+* fix tgamma/lgamma return types\n * (real<sup>m</sup>)<sup>(1/n)</sup> --> abs(real)<sup>(m/n)</sup>, m even, m/n integer (#14305)\n * fix `add::conjugate()` (#23135)\n * fix `is_real(zeta(real))`\n@@ -7,6 +10,7 @@\n * add missing calls to `set_domain` in symbol constructors (#23138)\n * implement `add.info(negative)`\n * exact comparison of `overall_coefficient`s\n+* internal LONG numeric; general speedup\n * fast internal in-place arithmetic operators\n * obsolete some internal usages of Python\n \n``````\n",
    "created_at": "2017-08-09T06:31:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349985",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,8 @@
 In the new version:
 * remove static `PyObject`s; (#23134)
+* fix segmentation fault with coefficients() (#23545)
+* fix compile error --with-giac=yes
+* fix tgamma/lgamma return types
 * (real<sup>m</sup>)<sup>(1/n)</sup> --> abs(real)<sup>(m/n)</sup>, m even, m/n integer (#14305)
 * fix `add::conjugate()` (#23135)
 * fix `is_real(zeta(real))`
@@ -7,6 +10,7 @@
 * add missing calls to `set_domain` in symbol constructors (#23138)
 * implement `add.info(negative)`
 * exact comparison of `overall_coefficient`s
+* internal LONG numeric; general speedup
 * fast internal in-place arithmetic operators
 * obsolete some internal usages of Python
 
``````




---

archive/issue_comments_349986.json:
```json
{
    "body": "Changed dependencies from **#23329, #23582, #23587** to **#23329, #23582**",
    "created_at": "2017-08-09T06:31:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349986",
    "user": "https://github.com/rwst"
}
```

Changed dependencies from **#23329, #23582, #23587** to **#23329, #23582**



---

archive/issue_comments_349987.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,4 +14,4 @@\n * fast internal in-place arithmetic operators\n * obsolete some internal usages of Python\n \n-https://github.com/pynac/pynac/releases/download/pynac-0.7.9/pynac-0.7.9.tar.bz2\n+https://github.com/pynac/pynac/releases/download/pynac-0.7.10/pynac-0.7.10.tar.bz2\n``````\n",
    "created_at": "2017-08-09T06:35:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349987",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,4 +14,4 @@
 * fast internal in-place arithmetic operators
 * obsolete some internal usages of Python
 
-https://github.com/pynac/pynac/releases/download/pynac-0.7.9/pynac-0.7.9.tar.bz2
+https://github.com/pynac/pynac/releases/download/pynac-0.7.10/pynac-0.7.10.tar.bz2
``````




---

archive/issue_comments_349988.json:
```json
{
    "body": "Changed branch from **[u/rws/upgrade_to_pynac_0_7_9](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_to_pynac_0_7_9)** to **[u/rws/23325](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23325)**",
    "created_at": "2017-08-09T06:56:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349988",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/upgrade_to_pynac_0_7_9](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_to_pynac_0_7_9)** to **[u/rws/23325](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23325)**



---

archive/issue_comments_349989.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI made a new branch. Please review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86d0ef324bf5527442247f5c840f6d26957358e7\"><code>86d0ef3</code></a></td><td><code>trac 23329 characteristic of coordinate chart function ring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e40ec54bde0185063ac8a3532189bd610ebbcba\"><code>2e40ec5</code></a></td><td><code>Merge branch 'u/rws/robustify_doctest_in_hyperbolic_geodesic_py' of git://trac.sagemath.org/sage into tmp11</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f51d452031833439fd4bbfda827f5942d96439b\"><code>0f51d45</code></a></td><td><code>23325: chksum,version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cc07085f414dbb07f609a0d7e927f90173d3da6\"><code>3cc0708</code></a></td><td><code>23325: remove obsolete patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95cb0a59d94736dac6700d4c92318ec24b5fa487\"><code>95cb0a5</code></a></td><td><code>23325: explicitly look for sage-python23</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7793f1c846a18c210dc7700accfd5205e033c01a\"><code>7793f1c</code></a></td><td><code>23325: code change to make use of new pynac</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9520ada5b12d602e1e2135f9d7bdfed1c4862041\"><code>9520ada</code></a></td><td><code>23325: doctest fixes</code></td></tr></table>\n",
    "created_at": "2017-08-09T06:57:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349989",
    "user": "https://github.com/rwst"
}
```

<div id="comment:25" align="right">comment:25</div>

I made a new branch. Please review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86d0ef324bf5527442247f5c840f6d26957358e7"><code>86d0ef3</code></a></td><td><code>trac 23329 characteristic of coordinate chart function ring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e40ec54bde0185063ac8a3532189bd610ebbcba"><code>2e40ec5</code></a></td><td><code>Merge branch 'u/rws/robustify_doctest_in_hyperbolic_geodesic_py' of git://trac.sagemath.org/sage into tmp11</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f51d452031833439fd4bbfda827f5942d96439b"><code>0f51d45</code></a></td><td><code>23325: chksum,version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cc07085f414dbb07f609a0d7e927f90173d3da6"><code>3cc0708</code></a></td><td><code>23325: remove obsolete patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95cb0a59d94736dac6700d4c92318ec24b5fa487"><code>95cb0a5</code></a></td><td><code>23325: explicitly look for sage-python23</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7793f1c846a18c210dc7700accfd5205e033c01a"><code>7793f1c</code></a></td><td><code>23325: code change to make use of new pynac</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9520ada5b12d602e1e2135f9d7bdfed1c4862041"><code>9520ada</code></a></td><td><code>23325: doctest fixes</code></td></tr></table>




---

archive/issue_events_321914.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-08-09T06:57:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321914"
}
```



---

archive/issue_events_321915.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-08-09T06:57:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321915"
}
```



---

archive/issue_comments_349990.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n * add missing calls to `set_domain` in symbol constructors (#23138)\n * implement `add.info(negative)`\n * exact comparison of `overall_coefficient`s\n-* internal LONG numeric; general speedup\n+* internal LONG numeric; nice speedup in some parts\n * fast internal in-place arithmetic operators\n * obsolete some internal usages of Python\n \n``````\n",
    "created_at": "2017-08-09T06:57:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349990",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 * add missing calls to `set_domain` in symbol constructors (#23138)
 * implement `add.info(negative)`
 * exact comparison of `overall_coefficient`s
-* internal LONG numeric; general speedup
+* internal LONG numeric; nice speedup in some parts
 * fast internal in-place arithmetic operators
 * obsolete some internal usages of Python
 
``````




---

archive/issue_comments_349991.json:
```json
{
    "body": "Changed commit from **[`ad2e96d`](https://github.com/sagemath/sagetrac-mirror/commit/ad2e96d39f094575f5a92818987fc4355856b93b)** to **[`9520ada`](https://github.com/sagemath/sagetrac-mirror/commit/9520ada5b12d602e1e2135f9d7bdfed1c4862041)**",
    "created_at": "2017-08-09T06:57:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349991",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[`ad2e96d`](https://github.com/sagemath/sagetrac-mirror/commit/ad2e96d39f094575f5a92818987fc4355856b93b)** to **[`9520ada`](https://github.com/sagemath/sagetrac-mirror/commit/9520ada5b12d602e1e2135f9d7bdfed1c4862041)**



---

archive/issue_comments_349992.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nFor ease of reviewing, I would prefer to wait until the dependencies have been merged.",
    "created_at": "2017-08-09T10:52:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349992",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

For ease of reviewing, I would prefer to wait until the dependencies have been merged.



---

archive/issue_comments_349993.json:
```json
{
    "body": "Changed commit from **[`9520ada`](https://github.com/sagemath/sagetrac-mirror/commit/9520ada5b12d602e1e2135f9d7bdfed1c4862041)** to **[`f52f602`](https://github.com/sagemath/sagetrac-mirror/commit/f52f60265da343edd985a58b6c55929e209883de)**",
    "created_at": "2017-08-10T07:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349993",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9520ada`](https://github.com/sagemath/sagetrac-mirror/commit/9520ada5b12d602e1e2135f9d7bdfed1c4862041)** to **[`f52f602`](https://github.com/sagemath/sagetrac-mirror/commit/f52f60265da343edd985a58b6c55929e209883de)**



---

archive/issue_comments_349994.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f52f60265da343edd985a58b6c55929e209883de\"><code>f52f602</code></a></td><td><code>23325: revert merge of 23582</code></td></tr></table>\n",
    "created_at": "2017-08-10T07:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349994",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f52f60265da343edd985a58b6c55929e209883de"><code>f52f602</code></a></td><td><code>23325: revert merge of 23582</code></td></tr></table>




---

archive/issue_comments_349995.json:
```json
{
    "body": "Changed dependencies from **#23329, #23582** to **#23329**",
    "created_at": "2017-08-10T07:03:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349995",
    "user": "https://github.com/rwst"
}
```

Changed dependencies from **#23329, #23582** to **#23329**



---

archive/issue_comments_349996.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI don't think this is a valid way to revert a merge. Either you really revert the merge (by rewriting git history as if the merge never happened), or you keep the dependency on #23582.",
    "created_at": "2017-08-10T11:51:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349996",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">comment:29</div>

I don't think this is a valid way to revert a merge. Either you really revert the merge (by rewriting git history as if the merge never happened), or you keep the dependency on #23582.



---

archive/issue_events_321916.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-10T11:51:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321916"
}
```



---

archive/issue_events_321917.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-10T11:51:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321917"
}
```



---

archive/issue_comments_349997.json:
```json
{
    "body": "Changed branch from **[u/rws/23325](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23325)** to **[u/rws/23325-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23325-1)**",
    "created_at": "2017-08-10T12:55:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349997",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/23325](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23325)** to **[u/rws/23325-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23325-1)**



---

archive/issue_comments_349998.json:
```json
{
    "body": "Changed commit from **[`f52f602`](https://github.com/sagemath/sagetrac-mirror/commit/f52f60265da343edd985a58b6c55929e209883de)** to **[`62cebba`](https://github.com/sagemath/sagetrac-mirror/commit/62cebba82d2da14fa1aa2c3e6324c2f5055365de)**",
    "created_at": "2017-08-10T12:56:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349998",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[`f52f602`](https://github.com/sagemath/sagetrac-mirror/commit/f52f60265da343edd985a58b6c55929e209883de)** to **[`62cebba`](https://github.com/sagemath/sagetrac-mirror/commit/62cebba82d2da14fa1aa2c3e6324c2f5055365de)**



---

archive/issue_comments_349999.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nNice opportunity for the rarely used `git rebase -i`.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a887a8b7b94bb186b8ef4be9c2afbd7ce662085e\"><code>a887a8b</code></a></td><td><code>23325: chksum,version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98bab376d9fd7d59960942f5b8ae96759a5b72e8\"><code>98bab37</code></a></td><td><code>23325: remove obsolete patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe100f7ae01454050cbf8bc2c479f65ef5449faa\"><code>fe100f7</code></a></td><td><code>23325: explicitly look for sage-python23</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fe77a7d6fd599b0344d72992e39d54349007d12\"><code>8fe77a7</code></a></td><td><code>23325: code change to make use of new pynac</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62cebba82d2da14fa1aa2c3e6324c2f5055365de\"><code>62cebba</code></a></td><td><code>23325: doctest fixes</code></td></tr></table>\n",
    "created_at": "2017-08-10T12:56:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-349999",
    "user": "https://github.com/rwst"
}
```

<div id="comment:31" align="right">comment:31</div>

Nice opportunity for the rarely used `git rebase -i`.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a887a8b7b94bb186b8ef4be9c2afbd7ce662085e"><code>a887a8b</code></a></td><td><code>23325: chksum,version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98bab376d9fd7d59960942f5b8ae96759a5b72e8"><code>98bab37</code></a></td><td><code>23325: remove obsolete patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe100f7ae01454050cbf8bc2c479f65ef5449faa"><code>fe100f7</code></a></td><td><code>23325: explicitly look for sage-python23</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fe77a7d6fd599b0344d72992e39d54349007d12"><code>8fe77a7</code></a></td><td><code>23325: code change to make use of new pynac</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62cebba82d2da14fa1aa2c3e6324c2f5055365de"><code>62cebba</code></a></td><td><code>23325: doctest fixes</code></td></tr></table>




---

archive/issue_events_321918.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-08-10T12:58:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321918"
}
```



---

archive/issue_events_321919.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-08-10T12:58:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321919"
}
```



---

archive/issue_comments_350000.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@rwst](#comment%3A31):\n> Nice opportunity for the rarely used `git rebase -i`.\n\nI use that all the time...",
    "created_at": "2017-08-11T07:42:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350000",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@rwst](#comment%3A31):
> Nice opportunity for the rarely used `git rebase -i`.

I use that all the time...



---

archive/issue_comments_350001.json:
```json
{
    "body": "Changed branch from **[u/rws/23325-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23325-1)** to **[u/jdemeyer/23325-1](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/23325-1)**",
    "created_at": "2017-08-11T11:27:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350001",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/rws/23325-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23325-1)** to **[u/jdemeyer/23325-1](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/23325-1)**



---

archive/issue_comments_350002.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b54f51bab33a602448c1b3e2f719fb375661aac3\"><code>b54f51b</code></a></td><td><code>Doc formatting</code></td></tr></table>\n",
    "created_at": "2017-08-11T11:27:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350002",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:35"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b54f51bab33a602448c1b3e2f719fb375661aac3"><code>b54f51b</code></a></td><td><code>Doc formatting</code></td></tr></table>




---

archive/issue_comments_350003.json:
```json
{
    "body": "Changed commit from **[`62cebba`](https://github.com/sagemath/sagetrac-mirror/commit/62cebba82d2da14fa1aa2c3e6324c2f5055365de)** to **[`b54f51b`](https://github.com/sagemath/sagetrac-mirror/commit/b54f51bab33a602448c1b3e2f719fb375661aac3)**",
    "created_at": "2017-08-11T11:27:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350003",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`62cebba`](https://github.com/sagemath/sagetrac-mirror/commit/62cebba82d2da14fa1aa2c3e6324c2f5055365de)** to **[`b54f51b`](https://github.com/sagemath/sagetrac-mirror/commit/b54f51bab33a602448c1b3e2f719fb375661aac3)**



---

archive/issue_events_321920.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-11T11:27:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321920"
}
```



---

archive/issue_events_321921.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-08-11T11:27:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321921"
}
```



---

archive/issue_events_321922.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-13T09:45:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321922"
}
```



---

archive/issue_events_321923.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-13T09:45:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321923"
}
```



---

archive/issue_comments_350004.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/23325-1](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/23325-1)** to **[`b54f51b`](https://github.com/sagemath/sagetrac-mirror/commit/b54f51bab33a602448c1b3e2f719fb375661aac3)**",
    "created_at": "2017-08-13T09:45:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350004",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/23325-1](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/23325-1)** to **[`b54f51b`](https://github.com/sagemath/sagetrac-mirror/commit/b54f51bab33a602448c1b3e2f719fb375661aac3)**



---

archive/issue_comments_350005.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nFails on 32-bit Linux\n\n```\n**********************************************************************\nFile \"src/doc/de/thematische_anleitungen/sage_gymnasium.rst\", line 191, in doc.de.thematische_anleitungen.sage_gymnasium\nFailed example:\n    sqrt(18)\nExpected:\n    3*sqrt(2)\nGot:\n    sqrt(18)\n**********************************************************************\n1 item had failures:\n   1 of 294 in doc.de.thematische_anleitungen.sage_gymnasium\n    [207 tests, 1 failure, 5.39 s]\n**********************************************************************\nFile \"src/sage/functions/orthogonal_polys.py\", line 1668, in sage.functions.orthogonal_polys.Func_assoc_legendre_Q._eval_\nFailed example:\n    gen_legendre_Q(2,1,3)\nExpected:\n    -1/4*sqrt(-2)*(-36*I*pi + 36*log(4) - 36*log(2) - 25)\nGot:\n    -1/8*sqrt(-8)*(-36*I*pi + 36*log(4) - 36*log(2) - 25)\n**********************************************************************\n1 item had failures:\n   1 of   2 in sage.functions.orthogonal_polys.Func_assoc_legendre_Q._eval_\n    [378 tests, 1 failure, 7.79 s]\n**********************************************************************\nFile \"src/sage/rings/number_field/number_field_base.pyx\", line 219, in sage.rings.number_field.number_field_base.NumberField.minkowski_bound\nFailed example:\n    B = K.minkowski_bound(); B\nExpected:\n    16/3*sqrt(3)/pi\nGot:\n    8/9*sqrt(108)/pi\n**********************************************************************\nFile \"src/sage/rings/number_field/number_field_base.pyx\", line 230, in sage.rings.number_field.number_field_base.NumberField.minkowski_bound\nFailed example:\n    B = K.minkowski_bound(); B\nExpected:\n    sqrt(10)\nGot:\n    1/2*sqrt(40)\n**********************************************************************\n1 item had failures:\n   2 of  19 in sage.rings.number_field.number_field_base.NumberField.minkowski_bound\n    [74 tests, 2 failures, 2.09 s]\n**********************************************************************\nFile \"src/sage/rings/real_mpfr.pyx\", line 3961, in sage.rings.real_mpfr.RealNumber.sqrt\nFailed example:\n    r.sqrt()\nExpected:\n    2*sqrt(1086)\nGot:\n    sqrt(4344)\n**********************************************************************\n1 item had failures:\n   1 of  13 in sage.rings.real_mpfr.RealNumber.sqrt\n    [1000 tests, 1 failure, 3.14 s]\n```",
    "created_at": "2017-08-13T18:29:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350005",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:37" align="right">comment:37</div>

Fails on 32-bit Linux

```
**********************************************************************
File "src/doc/de/thematische_anleitungen/sage_gymnasium.rst", line 191, in doc.de.thematische_anleitungen.sage_gymnasium
Failed example:
    sqrt(18)
Expected:
    3*sqrt(2)
Got:
    sqrt(18)
**********************************************************************
1 item had failures:
   1 of 294 in doc.de.thematische_anleitungen.sage_gymnasium
    [207 tests, 1 failure, 5.39 s]
**********************************************************************
File "src/sage/functions/orthogonal_polys.py", line 1668, in sage.functions.orthogonal_polys.Func_assoc_legendre_Q._eval_
Failed example:
    gen_legendre_Q(2,1,3)
Expected:
    -1/4*sqrt(-2)*(-36*I*pi + 36*log(4) - 36*log(2) - 25)
Got:
    -1/8*sqrt(-8)*(-36*I*pi + 36*log(4) - 36*log(2) - 25)
**********************************************************************
1 item had failures:
   1 of   2 in sage.functions.orthogonal_polys.Func_assoc_legendre_Q._eval_
    [378 tests, 1 failure, 7.79 s]
**********************************************************************
File "src/sage/rings/number_field/number_field_base.pyx", line 219, in sage.rings.number_field.number_field_base.NumberField.minkowski_bound
Failed example:
    B = K.minkowski_bound(); B
Expected:
    16/3*sqrt(3)/pi
Got:
    8/9*sqrt(108)/pi
**********************************************************************
File "src/sage/rings/number_field/number_field_base.pyx", line 230, in sage.rings.number_field.number_field_base.NumberField.minkowski_bound
Failed example:
    B = K.minkowski_bound(); B
Expected:
    sqrt(10)
Got:
    1/2*sqrt(40)
**********************************************************************
1 item had failures:
   2 of  19 in sage.rings.number_field.number_field_base.NumberField.minkowski_bound
    [74 tests, 2 failures, 2.09 s]
**********************************************************************
File "src/sage/rings/real_mpfr.pyx", line 3961, in sage.rings.real_mpfr.RealNumber.sqrt
Failed example:
    r.sqrt()
Expected:
    2*sqrt(1086)
Got:
    sqrt(4344)
**********************************************************************
1 item had failures:
   1 of  13 in sage.rings.real_mpfr.RealNumber.sqrt
    [1000 tests, 1 failure, 3.14 s]
```



---

archive/issue_events_321924.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-13T18:29:18Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321924"
}
```



---

archive/issue_comments_350006.json:
```json
{
    "body": "Changed commit from **[`b54f51b`](https://github.com/sagemath/sagetrac-mirror/commit/b54f51bab33a602448c1b3e2f719fb375661aac3)** to none",
    "created_at": "2017-08-13T18:29:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350006",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[`b54f51b`](https://github.com/sagemath/sagetrac-mirror/commit/b54f51bab33a602448c1b3e2f719fb375661aac3)** to none



---

archive/issue_comments_350007.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nOkay, I'm installing virtualization (a first) and Ubuntu 32-bit to get the ability to test on 32-bit.",
    "created_at": "2017-08-16T08:10:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350007",
    "user": "https://github.com/rwst"
}
```

<div id="comment:38" align="right">comment:38</div>

Okay, I'm installing virtualization (a first) and Ubuntu 32-bit to get the ability to test on 32-bit.



---

archive/issue_comments_350008.json:
```json
{
    "body": "Changed branch from **[`b54f51b`](https://github.com/sagemath/sagetrac-mirror/commit/b54f51bab33a602448c1b3e2f719fb375661aac3)** to **[u/rws/b54f51bab33a602448c1b3e2f719fb375661aac3](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/b54f51bab33a602448c1b3e2f719fb375661aac3)**",
    "created_at": "2017-08-19T06:39:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350008",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[`b54f51b`](https://github.com/sagemath/sagetrac-mirror/commit/b54f51bab33a602448c1b3e2f719fb375661aac3)** to **[u/rws/b54f51bab33a602448c1b3e2f719fb375661aac3](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/b54f51bab33a602448c1b3e2f719fb375661aac3)**



---

archive/issue_comments_350009.json:
```json
{
    "body": "Changed branch from **[u/rws/b54f51bab33a602448c1b3e2f719fb375661aac3](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/b54f51bab33a602448c1b3e2f719fb375661aac3)** to **[`b54f51b`](https://github.com/sagemath/sagetrac-mirror/commit/b54f51bab33a602448c1b3e2f719fb375661aac3)**",
    "created_at": "2017-08-19T06:43:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350009",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/b54f51bab33a602448c1b3e2f719fb375661aac3](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/b54f51bab33a602448c1b3e2f719fb375661aac3)** to **[`b54f51b`](https://github.com/sagemath/sagetrac-mirror/commit/b54f51bab33a602448c1b3e2f719fb375661aac3)**



---

archive/issue_comments_350010.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nSTDERR: error: Server does not allow request for unadvertised object b54f51bab33a602448c1b3e2f719fb375661aac3\n\nSo I'll push to my previous branch `u/rws/23325-1` (including Jeroen's fix) in the hope you can pick up its last commit, which contains a last-minute fix.",
    "created_at": "2017-08-19T06:50:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350010",
    "user": "https://github.com/rwst"
}
```

<div id="comment:41" align="right">comment:41</div>

STDERR: error: Server does not allow request for unadvertised object b54f51bab33a602448c1b3e2f719fb375661aac3

So I'll push to my previous branch `u/rws/23325-1` (including Jeroen's fix) in the hope you can pick up its last commit, which contains a last-minute fix.



---

archive/issue_comments_350011.json:
```json
{
    "body": "Changed branch from **[`b54f51b`](https://github.com/sagemath/sagetrac-mirror/commit/b54f51bab33a602448c1b3e2f719fb375661aac3)** to **[u/rws/23325-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23325-1)**",
    "created_at": "2017-08-19T06:54:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350011",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[`b54f51b`](https://github.com/sagemath/sagetrac-mirror/commit/b54f51bab33a602448c1b3e2f719fb375661aac3)** to **[u/rws/23325-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23325-1)**



---

archive/issue_comments_350012.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a887a8b7b94bb186b8ef4be9c2afbd7ce662085e\"><code>a887a8b</code></a></td><td><code>23325: chksum,version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98bab376d9fd7d59960942f5b8ae96759a5b72e8\"><code>98bab37</code></a></td><td><code>23325: remove obsolete patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe100f7ae01454050cbf8bc2c479f65ef5449faa\"><code>fe100f7</code></a></td><td><code>23325: explicitly look for sage-python23</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fe77a7d6fd599b0344d72992e39d54349007d12\"><code>8fe77a7</code></a></td><td><code>23325: code change to make use of new pynac</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62cebba82d2da14fa1aa2c3e6324c2f5055365de\"><code>62cebba</code></a></td><td><code>23325: doctest fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5a2da5817b9040970e86908b5985befa92451b02\"><code>5a2da58</code></a></td><td><code>23325: doc formatting</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5387ba543d78320b1a87c72b45068e4c4ae4c7ef\"><code>5387ba5</code></a></td><td><code>23325: last-minute 32-bit fix</code></td></tr></table>\n",
    "created_at": "2017-08-19T06:55:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350012",
    "user": "https://github.com/rwst"
}
```

<div id="comment:43"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a887a8b7b94bb186b8ef4be9c2afbd7ce662085e"><code>a887a8b</code></a></td><td><code>23325: chksum,version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98bab376d9fd7d59960942f5b8ae96759a5b72e8"><code>98bab37</code></a></td><td><code>23325: remove obsolete patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe100f7ae01454050cbf8bc2c479f65ef5449faa"><code>fe100f7</code></a></td><td><code>23325: explicitly look for sage-python23</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fe77a7d6fd599b0344d72992e39d54349007d12"><code>8fe77a7</code></a></td><td><code>23325: code change to make use of new pynac</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62cebba82d2da14fa1aa2c3e6324c2f5055365de"><code>62cebba</code></a></td><td><code>23325: doctest fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5a2da5817b9040970e86908b5985befa92451b02"><code>5a2da58</code></a></td><td><code>23325: doc formatting</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5387ba543d78320b1a87c72b45068e4c4ae4c7ef"><code>5387ba5</code></a></td><td><code>23325: last-minute 32-bit fix</code></td></tr></table>




---

archive/issue_events_321925.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-08-19T06:55:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321925"
}
```



---

archive/issue_comments_350013.json:
```json
{
    "body": "Commit: **[`5387ba5`](https://github.com/sagemath/sagetrac-mirror/commit/5387ba543d78320b1a87c72b45068e4c4ae4c7ef)**",
    "created_at": "2017-08-19T06:55:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350013",
    "user": "https://github.com/rwst"
}
```

Commit: **[`5387ba5`](https://github.com/sagemath/sagetrac-mirror/commit/5387ba543d78320b1a87c72b45068e4c4ae4c7ef)**



---

archive/issue_events_321926.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-08-22T22:53:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321926"
}
```



---

archive/issue_events_321927.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-08-22T22:53:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321927"
}
```



---

archive/issue_comments_350014.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nI think it can just be put back to positive review. Especially if the last fix is the stuff for 32bits problems.",
    "created_at": "2017-08-22T22:53:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350014",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:44" align="right">comment:44</div>

I think it can just be put back to positive review. Especially if the last fix is the stuff for 32bits problems.



---

archive/issue_events_321928.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-29T19:51:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321928"
}
```



---

archive/issue_events_321929.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "86dd96f6819dbf93dd8002c7a771768cbfa095d1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-08-29T19:51:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23325#event-321929"
}
```



---

archive/issue_comments_350015.json:
```json
{
    "body": "Changed branch from **[u/rws/23325-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23325-1)** to **[`5387ba5`](https://github.com/sagemath/sagetrac-mirror/commit/5387ba543d78320b1a87c72b45068e4c4ae4c7ef)**",
    "created_at": "2017-08-29T19:51:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23325#issuecomment-350015",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/rws/23325-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23325-1)** to **[`5387ba5`](https://github.com/sagemath/sagetrac-mirror/commit/5387ba543d78320b1a87c72b45068e4c4ae4c7ef)**
