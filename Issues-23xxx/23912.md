# Issue 23912: roots of zero polynomial over finite ring

archive/issues_023912.json:
```json
{
    "body": "Keywords: padicBordeaux\n\ncurrently we get with Sage 8.0:\n\n```\nsage: R.<x> = IntegerModRing(4)[]\nsage: R(0).roots(multiplicities=False)\n[0, 1, 2, 3]\n```\nbut:\n\n```\nsage: R.<x> = ZZ[]\nsage: R(0).roots(ring=IntegerModRing(4),multiplicities=False)\n...\nValueError: roots of 0 are not defined\n```\nThe second answer is inconsistent with the first one, and in this case the roots are well defined: all elements of the finite ring are roots.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24149\n\n",
    "created_at": "2017-11-03T09:59:21Z",
    "labels": [
        "component: finite rings",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "roots of zero polynomial over finite ring",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23912",
    "user": "https://github.com/zimmermann6"
}
```
Keywords: padicBordeaux

currently we get with Sage 8.0:

```
sage: R.<x> = IntegerModRing(4)[]
sage: R(0).roots(multiplicities=False)
[0, 1, 2, 3]
```
but:

```
sage: R.<x> = ZZ[]
sage: R(0).roots(ring=IntegerModRing(4),multiplicities=False)
...
ValueError: roots of 0 are not defined
```
The second answer is inconsistent with the first one, and in this case the roots are well defined: all elements of the finite ring are roots.

Issue created by migration from https://trac.sagemath.org/ticket/24149





---

archive/issue_comments_334765.json:
```json
{
    "body": "moreover the first way does not work properly for 2:\n\n```\nsage: S.<x> = IntegerModRing(2)[]\nsage: S(0).roots(multiplicities=False)\n...\nArithmeticError: factorization of 0 is not defined\n```\nand the answer is wrong for other prime cardinalities:\n\n```\nsage: S.<x> = IntegerModRing(3)[]\nsage: S(0).roots(multiplicities=False)\n[]\n```",
    "created_at": "2017-11-03T10:04:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23912#issuecomment-334765",
    "user": "https://github.com/zimmermann6"
}
```

moreover the first way does not work properly for 2:

```
sage: S.<x> = IntegerModRing(2)[]
sage: S(0).roots(multiplicities=False)
...
ArithmeticError: factorization of 0 is not defined
```
and the answer is wrong for other prime cardinalities:

```
sage: S.<x> = IntegerModRing(3)[]
sage: S(0).roots(multiplicities=False)
[]
```



---

archive/issue_comments_334766.json:
```json
{
    "body": "There is certainly a bug here.  The `ArithmeticError` is for consistency with non-finite rings, where we can't return a list of all elements.  Certainly\n\n```\nsage: S.<x> = IntegerModRing(3)[]\nsage: S(0).roots(multiplicities=False)\n[]\n```\nshould be fixed, but I would say that we should raise an `ArithmeticError` in every case.",
    "created_at": "2017-11-04T00:43:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23912#issuecomment-334766",
    "user": "https://github.com/roed314"
}
```

There is certainly a bug here.  The `ArithmeticError` is for consistency with non-finite rings, where we can't return a list of all elements.  Certainly

```
sage: S.<x> = IntegerModRing(3)[]
sage: S(0).roots(multiplicities=False)
[]
```
should be fixed, but I would say that we should raise an `ArithmeticError` in every case.



---

archive/issue_comments_334767.json:
```json
{
    "body": "In the case of an infinite base ring, one can still return the base ring (thought as an infinite set). I would also prefer an `ArithmeticError` in every case.",
    "created_at": "2017-11-06T13:34:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23912#issuecomment-334767",
    "user": "https://github.com/videlec"
}
```

In the case of an infinite base ring, one can still return the base ring (thought as an infinite set). I would also prefer an `ArithmeticError` in every case.



---

archive/issue_comments_334768.json:
```json
{
    "body": "Replying to [comment:3 vdelecroix]:\n> In the case of an infinite base ring, one can still return the base ring (thought as an infinite set). \n\n\nTrue, but the expectation is for a list.\n\n> I would also prefer an `ArithmeticError` in every case.\n\n\nLet's do that then. :-)",
    "created_at": "2017-11-06T21:24:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23912#issuecomment-334768",
    "user": "https://github.com/roed314"
}
```

Replying to [comment:3 vdelecroix]:
> In the case of an infinite base ring, one can still return the base ring (thought as an infinite set). 


True, but the expectation is for a list.

> I would also prefer an `ArithmeticError` in every case.


Let's do that then. :-)



---

archive/issue_events_061259.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-06-20T13:31:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23912",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23912#event-61259"
}
```



---

archive/issue_events_061260.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23912",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23912#event-61260"
}
```



---

archive/issue_events_061261.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23912",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23912#event-61261"
}
```



---

archive/issue_comments_334769.json:
```json
{
    "body": "update milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23912#issuecomment-334769",
    "user": "https://github.com/videlec"
}
```

update milestone 8.3 -> 8.4



---

archive/issue_comments_334770.json:
```json
{
    "body": "Changing keywords from \"\" to \"padicBordeaux\".",
    "created_at": "2019-09-07T12:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23912#issuecomment-334770",
    "user": "https://github.com/roed314"
}
```

Changing keywords from "" to "padicBordeaux".



---

archive/issue_comments_334771.json:
```json
{
    "body": "here is another example with Sage 8.8:\n\n```\nsage: R.<X> = IntegerModRing(1048576)[]\nsage: p = 16*X^2 + 320*X + 576\nsage: p.roots(multiplicities=False)\n...\nArithmeticError: factorization of 0 is not defined\n```\nThe roots of that polynomial modulo 1048576 are well defined, we should get their list instead.",
    "created_at": "2020-02-11T13:49:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23912#issuecomment-334771",
    "user": "https://github.com/zimmermann6"
}
```

here is another example with Sage 8.8:

```
sage: R.<X> = IntegerModRing(1048576)[]
sage: p = 16*X^2 + 320*X + 576
sage: p.roots(multiplicities=False)
...
ArithmeticError: factorization of 0 is not defined
```
The roots of that polynomial modulo 1048576 are well defined, we should get their list instead.
