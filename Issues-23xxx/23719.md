# Issue 23719: Move matrices to new coercion model

archive/issues_023482.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\n`MatrixSpace` do not play well with the category framework. One step forward is to rename the attribute `_matrix_class` to `Element` so that it will have `element_class` pointing to the element class generated via `Parent.__init__`.\n\nRelated tickets: #19669\n\nDepends on #25504\nDepends on #25505\nDepends on #25542\nDepends on #25554\nDepends on #25555\n\nCC:  @tscrim\n\nComponent: **coercion**\n\nKeywords: **days94**\n\nAuthor: **Jeroen Demeyer**\n\nBranch/Commit: **[`b03b8bf`](https://github.com/sagemath/sagetrac-mirror/commit/b03b8bf02a33a4cd5da4fa8e15d0e528f4efacdf)**\n\nReviewer: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23719_\n\n",
    "closed_at": "2018-08-26T09:38:13Z",
    "created_at": "2017-08-25T21:39:02Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20coercion",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Move matrices to new coercion model",
    "type": "issue",
    "updated_at": "2018-08-26T09:38:13Z",
    "url": "https://github.com/sagemath/sage/issues/23719",
    "user": "https://github.com/videlec"
}
```
<div id="comment:0"></div>

`MatrixSpace` do not play well with the category framework. One step forward is to rename the attribute `_matrix_class` to `Element` so that it will have `element_class` pointing to the element class generated via `Parent.__init__`.

Related tickets: #19669

Depends on #25504
Depends on #25505
Depends on #25542
Depends on #25554
Depends on #25555

CC:  @tscrim

Component: **coercion**

Keywords: **days94**

Author: **Jeroen Demeyer**

Branch/Commit: **[`b03b8bf`](https://github.com/sagemath/sagetrac-mirror/commit/b03b8bf02a33a4cd5da4fa8e15d0e528f4efacdf)**

Reviewer: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/23719_





---

archive/issue_events_326899.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-08-25T21:39:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326899"
}
```



---

archive/issue_events_326900.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-08-25T21:39:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
    "label_color": "0000ff",
    "label_name": "c: linear algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326900"
}
```



---

archive/issue_events_326901.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-08-25T21:39:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326901"
}
```



---

archive/issue_events_326902.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-08-25T21:39:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326902"
}
```



---

archive/issue_comments_357637.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-MatrixSpace do not play well with the category framework. One step forward is to set properly `Element` and have `element_class` pointing to the element class.\n+`MatrixSpace` do not play well with the category framework. One step forward is to set properly `Element` and have `element_class` pointing to the element class.\n``````\n",
    "created_at": "2017-08-25T21:39:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357637",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-MatrixSpace do not play well with the category framework. One step forward is to set properly `Element` and have `element_class` pointing to the element class.
+`MatrixSpace` do not play well with the category framework. One step forward is to set properly `Element` and have `element_class` pointing to the element class.
``````




---

archive/issue_comments_357638.json:
```json
{
    "body": "Changed dependencies from **#23706** to **#24742**",
    "created_at": "2018-02-15T15:19:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357638",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#23706** to **#24742**



---

archive/issue_events_326903.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-15T15:19:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
    "label_color": "0000ff",
    "label_name": "c: linear algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326903"
}
```



---

archive/issue_events_326904.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-15T15:19:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20coercion",
    "label_color": "0000ff",
    "label_name": "c: coercion",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326904"
}
```



---

archive/issue_events_326905.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-15T15:19:36Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "title_is": "Move matrices to new coercion model",
    "title_was": "MatrixSpace: replace _matrix_class with element_class",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326905"
}
```



---

archive/issue_events_326906.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-02-15T22:47:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326906"
}
```



---

archive/issue_events_326907.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-02-15T22:47:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326907"
}
```



---

archive/issue_comments_357639.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-`MatrixSpace` do not play well with the category framework. One step forward is to set properly `Element` and have `element_class` pointing to the element class.\n+`MatrixSpace` do not play well with the category framework. One step forward is to rename the attribute `_matrix_class` to `Element` so that it will have `element_class` pointing to the element class generated via `Parent.__init__`.\n``````\n",
    "created_at": "2018-02-15T22:47:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357639",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-`MatrixSpace` do not play well with the category framework. One step forward is to set properly `Element` and have `element_class` pointing to the element class.
+`MatrixSpace` do not play well with the category framework. One step forward is to rename the attribute `_matrix_class` to `Element` so that it will have `element_class` pointing to the element class generated via `Parent.__init__`.
``````




---

archive/issue_comments_357640.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIf you want progress on this, it would be good to review #24742.",
    "created_at": "2018-03-08T09:34:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357640",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

If you want progress on this, it would be good to review #24742.



---

archive/issue_comments_357641.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n `MatrixSpace` do not play well with the category framework. One step forward is to rename the attribute `_matrix_class` to `Element` so that it will have `element_class` pointing to the element class generated via `Parent.__init__`.\n+\n+Related tickets: #19669\n``````\n",
    "created_at": "2018-03-08T10:14:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357641",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 `MatrixSpace` do not play well with the category framework. One step forward is to rename the attribute `_matrix_class` to `Element` so that it will have `element_class` pointing to the element class generated via `Parent.__init__`.
+
+Related tickets: #19669
``````




---

archive/issue_comments_357642.json:
```json
{
    "body": "Changed dependencies from **#24742** to none",
    "created_at": "2018-05-26T21:10:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357642",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#24742** to none



---

archive/issue_events_326908.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-05-26T21:10:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326908"
}
```



---

archive/issue_events_326909.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-05-26T21:10:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326909"
}
```



---

archive/issue_comments_357643.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2018-06-04T09:37:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357643",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_357644.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nWorking on this...",
    "created_at": "2018-06-04T09:37:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357644",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

Working on this...



---

archive/issue_comments_357645.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nVincent, since you created this ticket: are there any concrete issues that would be fixed by this?",
    "created_at": "2018-06-04T09:47:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357645",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Vincent, since you created this ticket: are there any concrete issues that would be fixed by this?



---

archive/issue_comments_357646.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nMy aim was to allow matrices on semi-rings (ie structure having `+` and `*` but not necessarily `-` and `/`). We are far away from there though. So only a wishlist.",
    "created_at": "2018-06-04T09:50:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357646",
    "user": "https://github.com/videlec"
}
```

<div id="comment:9" align="right">comment:9</div>

My aim was to allow matrices on semi-rings (ie structure having `+` and `*` but not necessarily `-` and `/`). We are far away from there though. So only a wishlist.



---

archive/issue_comments_357647.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@videlec](#comment%3A9):\n> My aim was to allow matrices on semi-rings\n\nWhat do you mean with \"allow\"? And how would that be related to changing `element_class`?",
    "created_at": "2018-06-04T10:42:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357647",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@videlec](#comment%3A9):
> My aim was to allow matrices on semi-rings

What do you mean with "allow"? And how would that be related to changing `element_class`?



---

archive/issue_comments_357648.json:
```json
{
    "body": "Branch: **[u/jdemeyer/move_matrices_to_new_coercion_model](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/move_matrices_to_new_coercion_model)**",
    "created_at": "2018-06-04T12:23:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357648",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/move_matrices_to_new_coercion_model](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/move_matrices_to_new_coercion_model)**



---

archive/issue_comments_357649.json:
```json
{
    "body": "Commit: **[`e48d153`](https://github.com/sagemath/sagetrac-mirror/commit/e48d153eeee6cc6180abc61a96cae6e618784733)**",
    "created_at": "2018-06-04T14:43:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357649",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`e48d153`](https://github.com/sagemath/sagetrac-mirror/commit/e48d153eeee6cc6180abc61a96cae6e618784733)**



---

archive/issue_comments_357650.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac7cf066bd3dfffb0cc5292f55ce5d9d36094a0a\"><code>ac7cf06</code></a></td><td><code>Implement `_an_element_` for matrix spaces</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e48d153eeee6cc6180abc61a96cae6e618784733\"><code>e48d153</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>\n",
    "created_at": "2018-06-04T14:43:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357650",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac7cf066bd3dfffb0cc5292f55ce5d9d36094a0a"><code>ac7cf06</code></a></td><td><code>Implement `_an_element_` for matrix spaces</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e48d153eeee6cc6180abc61a96cae6e618784733"><code>e48d153</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>




---

archive/issue_comments_357651.json:
```json
{
    "body": "Dependencies: **#25504**",
    "created_at": "2018-06-04T14:44:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357651",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#25504**



---

archive/issue_comments_357652.json:
```json
{
    "body": "Changed dependencies from **#25504** to **#25504, #25505**",
    "created_at": "2018-06-07T13:48:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357652",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#25504** to **#25504, #25505**



---

archive/issue_comments_357653.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c4a06d3080dd8528053be95b86154822d4d2b79\"><code>3c4a06d</code></a></td><td><code>Enable _mul_long for matrices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1eaed37b0176c911a8d1a7ce36814db13c9b4b8b\"><code>1eaed37</code></a></td><td><code>More stuff in the meataxe interface, and a meataxe helper function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a06c0f42b937e697e7585332383c69fbf7625cc\"><code>8a06c0f</code></a></td><td><code>Fix docstring formatting</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13da208f0c7b640d8b644d2bcc41270e69a7c5bc\"><code>13da208</code></a></td><td><code>Clean up creating Matrix_gfpn_dense matrices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb52ee3dcd416dffe224212100c1714957c9c22f\"><code>cb52ee3</code></a></td><td><code>Mark one doctest optional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8fa7bb27f4724a7263d76bec437ebcf7f87dec3\"><code>c8fa7bb</code></a></td><td><code>Clean up `__cinit__` methods of matrices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/779dffbbb514290400d2b164b80ddb1a6c8ba04e\"><code>779dffb</code></a></td><td><code>Implement `_an_element_` for matrix spaces</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b8517fad8cf1fd304e359cca14009ba9990ae6c\"><code>6b8517f</code></a></td><td><code>Merge commit '779dffbbb514290400d2b164b80ddb1a6c8ba04e' into t/23719/move_matrices_to_new_coercion_model</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55568c8a2cdddb9e7e386aec398e32b682d03427\"><code>55568c8</code></a></td><td><code>Misc matrix fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c646dc23a2a0306d03f358b4f1a6f65620805185\"><code>c646dc2</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>\n",
    "created_at": "2018-06-08T15:03:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357653",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c4a06d3080dd8528053be95b86154822d4d2b79"><code>3c4a06d</code></a></td><td><code>Enable _mul_long for matrices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1eaed37b0176c911a8d1a7ce36814db13c9b4b8b"><code>1eaed37</code></a></td><td><code>More stuff in the meataxe interface, and a meataxe helper function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a06c0f42b937e697e7585332383c69fbf7625cc"><code>8a06c0f</code></a></td><td><code>Fix docstring formatting</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13da208f0c7b640d8b644d2bcc41270e69a7c5bc"><code>13da208</code></a></td><td><code>Clean up creating Matrix_gfpn_dense matrices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb52ee3dcd416dffe224212100c1714957c9c22f"><code>cb52ee3</code></a></td><td><code>Mark one doctest optional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8fa7bb27f4724a7263d76bec437ebcf7f87dec3"><code>c8fa7bb</code></a></td><td><code>Clean up `__cinit__` methods of matrices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/779dffbbb514290400d2b164b80ddb1a6c8ba04e"><code>779dffb</code></a></td><td><code>Implement `_an_element_` for matrix spaces</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b8517fad8cf1fd304e359cca14009ba9990ae6c"><code>6b8517f</code></a></td><td><code>Merge commit '779dffbbb514290400d2b164b80ddb1a6c8ba04e' into t/23719/move_matrices_to_new_coercion_model</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55568c8a2cdddb9e7e386aec398e32b682d03427"><code>55568c8</code></a></td><td><code>Misc matrix fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c646dc23a2a0306d03f358b4f1a6f65620805185"><code>c646dc2</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>




---

archive/issue_comments_357654.json:
```json
{
    "body": "Changed commit from **[`e48d153`](https://github.com/sagemath/sagetrac-mirror/commit/e48d153eeee6cc6180abc61a96cae6e618784733)** to **[`c646dc2`](https://github.com/sagemath/sagetrac-mirror/commit/c646dc23a2a0306d03f358b4f1a6f65620805185)**",
    "created_at": "2018-06-08T15:03:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357654",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e48d153`](https://github.com/sagemath/sagetrac-mirror/commit/e48d153eeee6cc6180abc61a96cae6e618784733)** to **[`c646dc2`](https://github.com/sagemath/sagetrac-mirror/commit/c646dc23a2a0306d03f358b4f1a6f65620805185)**



---

archive/issue_comments_357655.json:
```json
{
    "body": "Changed dependencies from **#25504, #25505** to **#25504, #25505, #25542**",
    "created_at": "2018-06-08T15:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357655",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#25504, #25505** to **#25504, #25505, #25542**



---

archive/issue_events_326910.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-08T18:09:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326910"
}
```



---

archive/issue_events_326911.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-09T07:57:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326911"
}
```



---

archive/issue_events_326912.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-09T07:57:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326912"
}
```



---

archive/issue_comments_357656.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nDoctest failures",
    "created_at": "2018-06-09T07:57:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357656",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Doctest failures



---

archive/issue_comments_357657.json:
```json
{
    "body": "Changed commit from **[`c646dc2`](https://github.com/sagemath/sagetrac-mirror/commit/c646dc23a2a0306d03f358b4f1a6f65620805185)** to **[`8769af1`](https://github.com/sagemath/sagetrac-mirror/commit/8769af1d2248e8193ac95007adcb038df46a3ef0)**",
    "created_at": "2018-06-11T10:44:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357657",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c646dc2`](https://github.com/sagemath/sagetrac-mirror/commit/c646dc23a2a0306d03f358b4f1a6f65620805185)** to **[`8769af1`](https://github.com/sagemath/sagetrac-mirror/commit/8769af1d2248e8193ac95007adcb038df46a3ef0)**



---

archive/issue_comments_357658.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3901d7dea1ac4bcf7b8c4e2d7adf709b92536cd\"><code>b3901d7</code></a></td><td><code>Misc matrix fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8ce255d6c3e068044f1c3c5194262d87c90d04b\"><code>c8ce255</code></a></td><td><code>Merge commit 'c8fa7bb27f4724a7263d76bec437ebcf7f87dec3'; commit 'b3901d7dea1ac4bcf7b8c4e2d7adf709b92536cd' into t/23719/move_matrices_to_new_coercion_model</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8769af1d2248e8193ac95007adcb038df46a3ef0\"><code>8769af1</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>\n",
    "created_at": "2018-06-11T10:44:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357658",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3901d7dea1ac4bcf7b8c4e2d7adf709b92536cd"><code>b3901d7</code></a></td><td><code>Misc matrix fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8ce255d6c3e068044f1c3c5194262d87c90d04b"><code>c8ce255</code></a></td><td><code>Merge commit 'c8fa7bb27f4724a7263d76bec437ebcf7f87dec3'; commit 'b3901d7dea1ac4bcf7b8c4e2d7adf709b92536cd' into t/23719/move_matrices_to_new_coercion_model</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8769af1d2248e8193ac95007adcb038df46a3ef0"><code>8769af1</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>




---

archive/issue_comments_357659.json:
```json
{
    "body": "Changed dependencies from **#25504, #25505, #25542** to **#25504, #25505, #25542, #25554**",
    "created_at": "2018-06-11T11:35:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357659",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#25504, #25505, #25542** to **#25504, #25505, #25542, #25554**



---

archive/issue_comments_357660.json:
```json
{
    "body": "Changed dependencies from **#25504, #25505, #25542, #25554** to **#25504, #25505, #25542, #25554, #25555**",
    "created_at": "2018-06-11T11:57:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357660",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#25504, #25505, #25542, #25554** to **#25504, #25505, #25542, #25554, #25555**



---

archive/issue_comments_357661.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/154dbd5f68f71bd64855093da869debdbdda1925\"><code>154dbd5</code></a></td><td><code>Replace `_coerce_` checks by has_coerce_map_from</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15f31c09ce3973845f2bff779f43bf924be83f14\"><code>15f31c0</code></a></td><td><code>Support new-style Parents in RingMap_lift</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c821441bb589217a1d3c7884616fdf3fd14f86a1\"><code>c821441</code></a></td><td><code>Merge commit 'c8fa7bb27f4724a7263d76bec437ebcf7f87dec3'; commit 'b3901d7dea1ac4bcf7b8c4e2d7adf709b92536cd'; commit '154dbd5f68f71bd64855093da869debdbdda1925'; commit '15f31c09ce3973845f2bff779f43bf924be83f14' into t/23719/move_matrices_to_new_coercion_model</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6fd971e30aa6a7504e3513905dc82ee249ae74f\"><code>b6fd971</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>\n",
    "created_at": "2018-06-11T12:31:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357661",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/154dbd5f68f71bd64855093da869debdbdda1925"><code>154dbd5</code></a></td><td><code>Replace `_coerce_` checks by has_coerce_map_from</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15f31c09ce3973845f2bff779f43bf924be83f14"><code>15f31c0</code></a></td><td><code>Support new-style Parents in RingMap_lift</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c821441bb589217a1d3c7884616fdf3fd14f86a1"><code>c821441</code></a></td><td><code>Merge commit 'c8fa7bb27f4724a7263d76bec437ebcf7f87dec3'; commit 'b3901d7dea1ac4bcf7b8c4e2d7adf709b92536cd'; commit '154dbd5f68f71bd64855093da869debdbdda1925'; commit '15f31c09ce3973845f2bff779f43bf924be83f14' into t/23719/move_matrices_to_new_coercion_model</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6fd971e30aa6a7504e3513905dc82ee249ae74f"><code>b6fd971</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>




---

archive/issue_comments_357662.json:
```json
{
    "body": "Changed commit from **[`8769af1`](https://github.com/sagemath/sagetrac-mirror/commit/8769af1d2248e8193ac95007adcb038df46a3ef0)** to **[`b6fd971`](https://github.com/sagemath/sagetrac-mirror/commit/b6fd971e30aa6a7504e3513905dc82ee249ae74f)**",
    "created_at": "2018-06-11T12:31:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357662",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8769af1`](https://github.com/sagemath/sagetrac-mirror/commit/8769af1d2248e8193ac95007adcb038df46a3ef0)** to **[`b6fd971`](https://github.com/sagemath/sagetrac-mirror/commit/b6fd971e30aa6a7504e3513905dc82ee249ae74f)**



---

archive/issue_comments_357663.json:
```json
{
    "body": "Changed commit from **[`b6fd971`](https://github.com/sagemath/sagetrac-mirror/commit/b6fd971e30aa6a7504e3513905dc82ee249ae74f)** to **[`4fa13cd`](https://github.com/sagemath/sagetrac-mirror/commit/4fa13cdd8c3ed1551eec834362fe467a229ff339)**",
    "created_at": "2018-06-11T13:02:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357663",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b6fd971`](https://github.com/sagemath/sagetrac-mirror/commit/b6fd971e30aa6a7504e3513905dc82ee249ae74f)** to **[`4fa13cd`](https://github.com/sagemath/sagetrac-mirror/commit/4fa13cdd8c3ed1551eec834362fe467a229ff339)**



---

archive/issue_comments_357664.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1bb9b67354593d944aa38864b55112fbdedfec5\"><code>e1bb9b6</code></a></td><td><code>Replace `_coerce_` checks by has_coerce_map_from</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b37559ecdd9c5d95cfbf64094396f975aa5fdd2\"><code>0b37559</code></a></td><td><code>Merge commit '15f31c09ce3973845f2bff779f43bf924be83f14'; commit 'c8fa7bb27f4724a7263d76bec437ebcf7f87dec3'; commit 'b3901d7dea1ac4bcf7b8c4e2d7adf709b92536cd'; commit 'e1bb9b67354593d944aa38864b55112fbdedfec5' into t/23719/move_matrices_to_new_coercion_model</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fa13cdd8c3ed1551eec834362fe467a229ff339\"><code>4fa13cd</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>\n",
    "created_at": "2018-06-11T13:02:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357664",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1bb9b67354593d944aa38864b55112fbdedfec5"><code>e1bb9b6</code></a></td><td><code>Replace `_coerce_` checks by has_coerce_map_from</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b37559ecdd9c5d95cfbf64094396f975aa5fdd2"><code>0b37559</code></a></td><td><code>Merge commit '15f31c09ce3973845f2bff779f43bf924be83f14'; commit 'c8fa7bb27f4724a7263d76bec437ebcf7f87dec3'; commit 'b3901d7dea1ac4bcf7b8c4e2d7adf709b92536cd'; commit 'e1bb9b67354593d944aa38864b55112fbdedfec5' into t/23719/move_matrices_to_new_coercion_model</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fa13cdd8c3ed1551eec834362fe467a229ff339"><code>4fa13cd</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>




---

archive/issue_events_326913.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-11T13:16:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326913"
}
```



---

archive/issue_events_326914.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-11T13:16:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326914"
}
```



---

archive/issue_comments_357665.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nAll tests passed!",
    "created_at": "2018-06-11T14:56:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357665",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

All tests passed!



---

archive/issue_comments_357666.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nWhat is the cause of this change\n\n```\n     sage: A[4055]*v\n-    (k002*k003)\n+    (k001*k003)\n```",
    "created_at": "2018-06-17T09:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357666",
    "user": "https://github.com/videlec"
}
```

<div id="comment:26" align="right">comment:26</div>

What is the cause of this change

```
     sage: A[4055]*v
-    (k002*k003)
+    (k001*k003)
```



---

archive/issue_comments_357667.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@videlec](#comment%3A26):\n> What is the cause of this change\n> \n> ```\n>      sage: A[4055]*v\n> -    (k002*k003)\n> +    (k001*k003)\n> ```\n\nI guess the answer is random and the random number state is different at that point because of this ticket.",
    "created_at": "2018-06-17T11:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357667",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@videlec](#comment%3A26):
> What is the cause of this change
> 
> ```
>      sage: A[4055]*v
> -    (k002*k003)
> +    (k001*k003)
> ```

I guess the answer is random and the random number state is different at that point because of this ticket.



---

archive/issue_comments_357668.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI just realized that this hasn't been reviewed yet...\n\nPing?",
    "created_at": "2018-06-29T10:15:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357668",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

I just realized that this hasn't been reviewed yet...

Ping?



---

archive/issue_comments_357669.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nOops, merge failure...",
    "created_at": "2018-06-29T10:16:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357669",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">comment:29</div>

Oops, merge failure...



---

archive/issue_events_326915.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-29T10:16:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326915"
}
```



---

archive/issue_events_326916.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-29T10:16:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326916"
}
```



---

archive/issue_comments_357670.json:
```json
{
    "body": "Changed commit from **[`4fa13cd`](https://github.com/sagemath/sagetrac-mirror/commit/4fa13cdd8c3ed1551eec834362fe467a229ff339)** to **[`4e76683`](https://github.com/sagemath/sagetrac-mirror/commit/4e76683904bd815de104fac43251d35fddfd5193)**",
    "created_at": "2018-06-29T10:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357670",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4fa13cd`](https://github.com/sagemath/sagetrac-mirror/commit/4fa13cdd8c3ed1551eec834362fe467a229ff339)** to **[`4e76683`](https://github.com/sagemath/sagetrac-mirror/commit/4e76683904bd815de104fac43251d35fddfd5193)**



---

archive/issue_comments_357671.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e76683904bd815de104fac43251d35fddfd5193\"><code>4e76683</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>\n",
    "created_at": "2018-06-29T10:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357671",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e76683904bd815de104fac43251d35fddfd5193"><code>4e76683</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>




---

archive/issue_comments_357672.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c6e09ebe03308a2b6141957046eb5e083e7c87b\"><code>5c6e09e</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>\n",
    "created_at": "2018-06-29T10:38:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357672",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c6e09ebe03308a2b6141957046eb5e083e7c87b"><code>5c6e09e</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>




---

archive/issue_comments_357673.json:
```json
{
    "body": "Changed commit from **[`4e76683`](https://github.com/sagemath/sagetrac-mirror/commit/4e76683904bd815de104fac43251d35fddfd5193)** to **[`5c6e09e`](https://github.com/sagemath/sagetrac-mirror/commit/5c6e09ebe03308a2b6141957046eb5e083e7c87b)**",
    "created_at": "2018-06-29T10:38:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357673",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4e76683`](https://github.com/sagemath/sagetrac-mirror/commit/4e76683904bd815de104fac43251d35fddfd5193)** to **[`5c6e09e`](https://github.com/sagemath/sagetrac-mirror/commit/5c6e09ebe03308a2b6141957046eb5e083e7c87b)**



---

archive/issue_events_326917.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-29T10:39:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326917"
}
```



---

archive/issue_events_326918.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-29T10:39:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326918"
}
```



---

archive/issue_comments_357674.json:
```json
{
    "body": "Changed commit from **[`5c6e09e`](https://github.com/sagemath/sagetrac-mirror/commit/5c6e09ebe03308a2b6141957046eb5e083e7c87b)** to **[`0ae7a1c`](https://github.com/sagemath/sagetrac-mirror/commit/0ae7a1c0187769dfadee78e1ad6d8190eceea909)**",
    "created_at": "2018-06-29T10:46:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357674",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5c6e09e`](https://github.com/sagemath/sagetrac-mirror/commit/5c6e09ebe03308a2b6141957046eb5e083e7c87b)** to **[`0ae7a1c`](https://github.com/sagemath/sagetrac-mirror/commit/0ae7a1c0187769dfadee78e1ad6d8190eceea909)**



---

archive/issue_comments_357675.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ae7a1c0187769dfadee78e1ad6d8190eceea909\"><code>0ae7a1c</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>\n",
    "created_at": "2018-06-29T10:46:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357675",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ae7a1c0187769dfadee78e1ad6d8190eceea909"><code>0ae7a1c</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>




---

archive/issue_comments_357676.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nLGTM assuming a patchbot comes back clean. Vincent, any other comments?",
    "created_at": "2018-06-29T10:48:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357676",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:34" align="right">comment:34</div>

LGTM assuming a patchbot comes back clean. Vincent, any other comments?



---

archive/issue_comments_357677.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2018-06-29T10:48:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357677",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_357678.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9715f55d97776b31e64d96e356291f12971b1ac0\"><code>9715f55</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>\n",
    "created_at": "2018-06-29T10:50:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357678",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9715f55d97776b31e64d96e356291f12971b1ac0"><code>9715f55</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>




---

archive/issue_comments_357679.json:
```json
{
    "body": "Changed commit from **[`0ae7a1c`](https://github.com/sagemath/sagetrac-mirror/commit/0ae7a1c0187769dfadee78e1ad6d8190eceea909)** to **[`9715f55`](https://github.com/sagemath/sagetrac-mirror/commit/9715f55d97776b31e64d96e356291f12971b1ac0)**",
    "created_at": "2018-06-29T10:50:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357679",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0ae7a1c`](https://github.com/sagemath/sagetrac-mirror/commit/0ae7a1c0187769dfadee78e1ad6d8190eceea909)** to **[`9715f55`](https://github.com/sagemath/sagetrac-mirror/commit/9715f55d97776b31e64d96e356291f12971b1ac0)**



---

archive/issue_comments_357680.json:
```json
{
    "body": "Changed keywords from none to **days94**",
    "created_at": "2018-06-29T13:09:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357680",
    "user": "https://github.com/jdemeyer"
}
```

Changed keywords from none to **days94**



---

archive/issue_events_326919.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-30T16:57:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326919"
}
```



---

archive/issue_events_326920.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-30T16:57:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326920"
}
```



---

archive/issue_events_326921.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-07-04T08:06:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326921"
}
```



---

archive/issue_events_326922.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-07-04T08:06:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326922"
}
```



---

archive/issue_comments_357681.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nI'm getting this error when running the testsuite on 32-bit but can't reproduced it when running the test in isolation. But its definitely from this ticket:\n\n```\nFile \"src/sage/schemes/elliptic_curves/padics.py\", line 315, in sage.schemes.elliptic_curves.padics.padic_regulator\nFailed example:\n    E.padic_regulator(int(5))\nException raised:\n    Traceback (most recent call last):\n      File \"/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 573, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 983, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.elliptic_curves.padics.padic_regulator[14]>\", line 1, in <module>\n        E.padic_regulator(int(Integer(5)))\n      File \"/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/padics.py\", line 339, in padic_regulator\n        height = self.padic_height(p, prec, check_hypotheses=False)\n      File \"/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/padics.py\", line 756, in padic_height\n        sigma = self.padic_sigma(p, adjusted_prec, check_hypotheses=False)\n      File \"/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/padics.py\", line 1095, in padic_sigma\n        E2 = self.padic_E2(p, N-2, check_hypotheses=False)\n      File \"/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/padics.py\", line 1503, in padic_E2\n        frob_p = self.matrix_of_frobenius(p, prec, check, check_hypotheses, algorithm).change_ring(Integers(p**prec))\n      File \"/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/padics.py\", line 1653, in matrix_of_frobenius\n        Q, p, adjusted_prec, trace)\n      File \"/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py\", line 1658, in matrix_of_frobenius\n        F1_reduced = reduce_all(Q, p, F1_coeffs, offset)\n      File \"/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py\", line 1024, in reduce_all\n        exact_form = reduce_negative(Q, p, coeffs, offset, exact_form)\n      File \"/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py\", line 800, in reduce_negative\n        a[1] = base_ring(lift(a[1]) / (j+1))\n      File \"sage/structure/parent.pyx\", line 920, in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9734)\n        return mor._call_(x)\n      File \"sage/structure/coerce_maps.pyx\", line 145, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (build/cythonized/sage/structure/coerce_maps.c:4555)\n        raise\n      File \"sage/structure/coerce_maps.pyx\", line 140, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (build/cythonized/sage/structure/coerce_maps.c:4423)\n        return C._element_constructor(x)\n      File \"/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/finite_rings/integer_mod_ring.py\", line 1167, in _element_constructor_\n        return integer_mod.IntegerMod(self, x)\n      File \"sage/rings/finite_rings/integer_mod.pyx\", line 197, in sage.rings.finite_rings.integer_mod.IntegerMod (build/cythonized/sage/rings/finite_rings/integer_mod.c:4558)\n        return t(parent, value)\n      File \"sage/rings/finite_rings/integer_mod.pyx\", line 361, in sage.rings.finite_rings.integer_mod.IntegerMod_abstract.__init__ (build/cythonized/sage/rings/finite_rings/integer_mod.c:5739)\n        z = value % self.__modulus.sageInteger\n      File \"sage/rings/rational.pyx\", line 2869, in sage.rings.rational.Rational.__mod__ (build/cythonized/sage/rings/rational.c:25810)\n        d = d.inverse_mod(other)\n      File \"sage/rings/integer.pyx\", line 6574, in sage.rings.integer.Integer.inverse_mod (build/cythonized/sage/rings/integer.c:41104)\n        raise ZeroDivisionError(\"Inverse does not exist.\")\n    ZeroDivisionError: Inverse does not exist.\n```",
    "created_at": "2018-07-04T08:06:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357681",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:38" align="right">comment:38</div>

I'm getting this error when running the testsuite on 32-bit but can't reproduced it when running the test in isolation. But its definitely from this ticket:

```
File "src/sage/schemes/elliptic_curves/padics.py", line 315, in sage.schemes.elliptic_curves.padics.padic_regulator
Failed example:
    E.padic_regulator(int(5))
Exception raised:
    Traceback (most recent call last):
      File "/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 573, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 983, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.elliptic_curves.padics.padic_regulator[14]>", line 1, in <module>
        E.padic_regulator(int(Integer(5)))
      File "/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/padics.py", line 339, in padic_regulator
        height = self.padic_height(p, prec, check_hypotheses=False)
      File "/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/padics.py", line 756, in padic_height
        sigma = self.padic_sigma(p, adjusted_prec, check_hypotheses=False)
      File "/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/padics.py", line 1095, in padic_sigma
        E2 = self.padic_E2(p, N-2, check_hypotheses=False)
      File "/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/padics.py", line 1503, in padic_E2
        frob_p = self.matrix_of_frobenius(p, prec, check, check_hypotheses, algorithm).change_ring(Integers(p**prec))
      File "/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/padics.py", line 1653, in matrix_of_frobenius
        Q, p, adjusted_prec, trace)
      File "/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py", line 1658, in matrix_of_frobenius
        F1_reduced = reduce_all(Q, p, F1_coeffs, offset)
      File "/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py", line 1024, in reduce_all
        exact_form = reduce_negative(Q, p, coeffs, offset, exact_form)
      File "/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py", line 800, in reduce_negative
        a[1] = base_ring(lift(a[1]) / (j+1))
      File "sage/structure/parent.pyx", line 920, in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9734)
        return mor._call_(x)
      File "sage/structure/coerce_maps.pyx", line 145, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (build/cythonized/sage/structure/coerce_maps.c:4555)
        raise
      File "sage/structure/coerce_maps.pyx", line 140, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (build/cythonized/sage/structure/coerce_maps.c:4423)
        return C._element_constructor(x)
      File "/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/rings/finite_rings/integer_mod_ring.py", line 1167, in _element_constructor_
        return integer_mod.IntegerMod(self, x)
      File "sage/rings/finite_rings/integer_mod.pyx", line 197, in sage.rings.finite_rings.integer_mod.IntegerMod (build/cythonized/sage/rings/finite_rings/integer_mod.c:4558)
        return t(parent, value)
      File "sage/rings/finite_rings/integer_mod.pyx", line 361, in sage.rings.finite_rings.integer_mod.IntegerMod_abstract.__init__ (build/cythonized/sage/rings/finite_rings/integer_mod.c:5739)
        z = value % self.__modulus.sageInteger
      File "sage/rings/rational.pyx", line 2869, in sage.rings.rational.Rational.__mod__ (build/cythonized/sage/rings/rational.c:25810)
        d = d.inverse_mod(other)
      File "sage/rings/integer.pyx", line 6574, in sage.rings.integer.Integer.inverse_mod (build/cythonized/sage/rings/integer.c:41104)
        raise ZeroDivisionError("Inverse does not exist.")
    ZeroDivisionError: Inverse does not exist.
```



---

archive/issue_comments_357682.json:
```json
{
    "body": "Changed commit from **[`9715f55`](https://github.com/sagemath/sagetrac-mirror/commit/9715f55d97776b31e64d96e356291f12971b1ac0)** to **[`4b83f2f`](https://github.com/sagemath/sagetrac-mirror/commit/4b83f2f13a556e1d28702b5cce21cfa57d3d4a92)**",
    "created_at": "2018-07-26T10:58:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357682",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9715f55`](https://github.com/sagemath/sagetrac-mirror/commit/9715f55d97776b31e64d96e356291f12971b1ac0)** to **[`4b83f2f`](https://github.com/sagemath/sagetrac-mirror/commit/4b83f2f13a556e1d28702b5cce21cfa57d3d4a92)**



---

archive/issue_comments_357683.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b83f2f13a556e1d28702b5cce21cfa57d3d4a92\"><code>4b83f2f</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>\n",
    "created_at": "2018-07-26T10:58:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357683",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b83f2f13a556e1d28702b5cce21cfa57d3d4a92"><code>4b83f2f</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>




---

archive/issue_comments_357684.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI can confirm [comment:38] in the sense that I can reproduce the error. I don't see how it could be caused by this ticket though. It might be related to GC for example where a different internal state causes a GC at a different time. To check that, I'm rebasing to #25871.",
    "created_at": "2018-07-26T22:44:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357684",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:40" align="right">comment:40</div>

I can confirm [comment:38] in the sense that I can reproduce the error. I don't see how it could be caused by this ticket though. It might be related to GC for example where a different internal state causes a GC at a different time. To check that, I'm rebasing to #25871.



---

archive/issue_comments_357685.json:
```json
{
    "body": "Changed dependencies from **#25504, #25505, #25542, #25554, #25555** to **#25504, #25505, #25542, #25554, #25555, #25871**",
    "created_at": "2018-07-26T22:44:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357685",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#25504, #25505, #25542, #25554, #25555** to **#25504, #25505, #25542, #25554, #25555, #25871**



---

archive/issue_comments_357686.json:
```json
{
    "body": "Changed commit from **[`4b83f2f`](https://github.com/sagemath/sagetrac-mirror/commit/4b83f2f13a556e1d28702b5cce21cfa57d3d4a92)** to **[`ecfb511`](https://github.com/sagemath/sagetrac-mirror/commit/ecfb511e4375e7fd0bb1e4f222d028d48a8c4ba6)**",
    "created_at": "2018-07-26T22:46:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357686",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4b83f2f`](https://github.com/sagemath/sagetrac-mirror/commit/4b83f2f13a556e1d28702b5cce21cfa57d3d4a92)** to **[`ecfb511`](https://github.com/sagemath/sagetrac-mirror/commit/ecfb511e4375e7fd0bb1e4f222d028d48a8c4ba6)**



---

archive/issue_comments_357687.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae560ce6d0780e6b6a5243700398267e2a03bbb4\"><code>ae560ce</code></a></td><td><code>Add option to control GC during doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ecfb511e4375e7fd0bb1e4f222d028d48a8c4ba6\"><code>ecfb511</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>\n",
    "created_at": "2018-07-26T22:46:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357687",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae560ce6d0780e6b6a5243700398267e2a03bbb4"><code>ae560ce</code></a></td><td><code>Add option to control GC during doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ecfb511e4375e7fd0bb1e4f222d028d48a8c4ba6"><code>ecfb511</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>




---

archive/issue_comments_357688.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nThe error seems unrelated to this ticket. Somebody also got it because of the Singular upgrade, see #25969.",
    "created_at": "2018-07-29T18:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357688",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:42" align="right">comment:42</div>

The error seems unrelated to this ticket. Somebody also got it because of the Singular upgrade, see #25969.



---

archive/issue_events_326923.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-29T18:51:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326923"
}
```



---

archive/issue_events_326924.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-29T18:51:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326924"
}
```



---

archive/issue_comments_357689.json:
```json
{
    "body": "Changed dependencies from **#25504, #25505, #25542, #25554, #25555, #25871** to **#25504, #25505, #25542, #25554, #25555, #25969**",
    "created_at": "2018-07-29T18:51:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357689",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#25504, #25505, #25542, #25554, #25555, #25871** to **#25504, #25505, #25542, #25554, #25555, #25969**



---

archive/issue_events_326925.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326925"
}
```



---

archive/issue_events_326926.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326926"
}
```



---

archive/issue_comments_357690.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nupdate milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357690",
    "user": "https://github.com/videlec"
}
```

<div id="comment:44" align="right">comment:44</div>

update milestone 8.3 -> 8.4



---

archive/issue_events_326927.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2018-08-16T09:21:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326927"
}
```



---

archive/issue_events_326928.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2018-08-16T09:21:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326928"
}
```



---

archive/issue_comments_357691.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b03b8bf02a33a4cd5da4fa8e15d0e528f4efacdf\"><code>b03b8bf</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>\n",
    "created_at": "2018-08-16T09:21:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357691",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b03b8bf02a33a4cd5da4fa8e15d0e528f4efacdf"><code>b03b8bf</code></a></td><td><code>Move matrices to new coercion model</code></td></tr></table>




---

archive/issue_comments_357692.json:
```json
{
    "body": "Changed commit from **[`ecfb511`](https://github.com/sagemath/sagetrac-mirror/commit/ecfb511e4375e7fd0bb1e4f222d028d48a8c4ba6)** to **[`b03b8bf`](https://github.com/sagemath/sagetrac-mirror/commit/b03b8bf02a33a4cd5da4fa8e15d0e528f4efacdf)**",
    "created_at": "2018-08-16T09:21:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357692",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ecfb511`](https://github.com/sagemath/sagetrac-mirror/commit/ecfb511e4375e7fd0bb1e4f222d028d48a8c4ba6)** to **[`b03b8bf`](https://github.com/sagemath/sagetrac-mirror/commit/b03b8bf02a33a4cd5da4fa8e15d0e528f4efacdf)**



---

archive/issue_comments_357693.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nIs #25969 still a dependency? It seems from the comments like #25969 is not coming from this ticket.",
    "created_at": "2018-08-16T23:01:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357693",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:46" align="right">comment:46</div>

Is #25969 still a dependency? It seems from the comments like #25969 is not coming from this ticket.



---

archive/issue_events_326929.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-08-16T23:01:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326929"
}
```



---

archive/issue_events_326930.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-08-16T23:01:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326930"
}
```



---

archive/issue_comments_357694.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@tscrim](#comment%3A46):\n> Is #25969 still a dependency?\n\nI don't know. We can test again whether the problem magically went away.",
    "created_at": "2018-08-17T05:59:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357694",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@tscrim](#comment%3A46):
> Is #25969 still a dependency?

I don't know. We can test again whether the problem magically went away.



---

archive/issue_comments_357695.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@tscrim](#comment%3A46):\n> It seems from the comments like #25969 is not coming from this ticket.\n\nWell, define \"coming from\". The problem is certainly unrelated and not directly caused by this ticket, but merging this ticket did cause #25969 to appear.",
    "created_at": "2018-08-17T06:01:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357695",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@tscrim](#comment%3A46):
> It seems from the comments like #25969 is not coming from this ticket.

Well, define "coming from". The problem is certainly unrelated and not directly caused by this ticket, but merging this ticket did cause #25969 to appear.



---

archive/issue_comments_357696.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI just tested again and this no longer causes #25969.",
    "created_at": "2018-08-25T07:52:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357696",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:49" align="right">comment:49</div>

I just tested again and this no longer causes #25969.



---

archive/issue_comments_357697.json:
```json
{
    "body": "Changed dependencies from **#25504, #25505, #25542, #25554, #25555, #25969** to **#25504, #25505, #25542, #25554, #25555**",
    "created_at": "2018-08-25T07:52:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357697",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#25504, #25505, #25542, #25554, #25555, #25969** to **#25504, #25505, #25542, #25554, #25555**



---

archive/issue_comments_357698.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/move_matrices_to_new_coercion_model](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/move_matrices_to_new_coercion_model)** to **[`b03b8bf`](https://github.com/sagemath/sagetrac-mirror/commit/b03b8bf02a33a4cd5da4fa8e15d0e528f4efacdf)**",
    "created_at": "2018-08-26T09:38:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23719#issuecomment-357698",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/move_matrices_to_new_coercion_model](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/move_matrices_to_new_coercion_model)** to **[`b03b8bf`](https://github.com/sagemath/sagetrac-mirror/commit/b03b8bf02a33a4cd5da4fa8e15d0e528f4efacdf)**



---

archive/issue_events_326931.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-26T09:38:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326931"
}
```



---

archive/issue_events_326932.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "23deed319bde70f24107f785cecceded4f7888b0",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-08-26T09:38:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23719",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23719#event-326932"
}
```
