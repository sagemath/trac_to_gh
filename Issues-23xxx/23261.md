# Issue 23261: py3: some care for cmp in modular/overconvergent

archive/issues_023024.json:
```json
{
    "assignees": [],
    "body": "as another tiny step to py3\n\n**CC:**  @tscrim @jdemeyer @jhpalmieri\n\n**Branch/Commit:** [400cdccf08f87b38ec5eca98efd12a6a23c3f77b](https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b)\n\n**Reviewer:** John Palmieri\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/23261\n\n",
    "closed_at": "2017-06-22T07:24:14Z",
    "created_at": "2017-06-16T20:03:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20python3",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: some care for cmp in modular/overconvergent",
    "type": "issue",
    "updated_at": "2017-06-22T07:24:14Z",
    "url": "https://github.com/sagemath/sage/issues/23261",
    "user": "https://github.com/fchapoton"
}
```
as another tiny step to py3

**CC:**  @tscrim @jdemeyer @jhpalmieri

**Branch/Commit:** [400cdccf08f87b38ec5eca98efd12a6a23c3f77b](https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b)

**Reviewer:** John Palmieri

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/23261





---

archive/issue_events_281480.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-06-16T20:03:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23261#event-281480"
}
```



---

archive/issue_events_281481.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-06-16T20:03:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20python3",
    "label_color": "08517b",
    "label_name": "component: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23261#event-281481"
}
```



---

archive/issue_events_281482.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-06-16T20:03:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23261#event-281482"
}
```



---

archive/issue_comments_351629.json:
```json
{
    "body": "**Branch:** [u/chapoton/23261](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23261)",
    "created_at": "2017-06-16T20:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23261#issuecomment-351629",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/23261](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23261)



---

archive/issue_comments_351630.json:
```json
{
    "body": "**Commit:** [61fa91ff0b346bf8afefaf1eaeed5e321de55de8](https://github.com/sagemath/sagetrac-mirror/commit/61fa91ff0b346bf8afefaf1eaeed5e321de55de8)",
    "created_at": "2017-06-16T20:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23261#issuecomment-351630",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [61fa91ff0b346bf8afefaf1eaeed5e321de55de8](https://github.com/sagemath/sagetrac-mirror/commit/61fa91ff0b346bf8afefaf1eaeed5e321de55de8)



---

archive/issue_comments_351631.json:
```json
{
    "body": "**Changing commit** from \"[61fa91ff0b346bf8afefaf1eaeed5e321de55de8](https://github.com/sagemath/sagetrac-mirror/commit/61fa91ff0b346bf8afefaf1eaeed5e321de55de8)\" to \"[dbec83113e162d153c49c298cffda30b8696de57](https://github.com/sagemath/sagetrac-mirror/commit/dbec83113e162d153c49c298cffda30b8696de57)\".",
    "created_at": "2017-06-16T20:04:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23261#issuecomment-351631",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[61fa91ff0b346bf8afefaf1eaeed5e321de55de8](https://github.com/sagemath/sagetrac-mirror/commit/61fa91ff0b346bf8afefaf1eaeed5e321de55de8)" to "[dbec83113e162d153c49c298cffda30b8696de57](https://github.com/sagemath/sagetrac-mirror/commit/dbec83113e162d153c49c298cffda30b8696de57)".



---

archive/issue_comments_351632.json:
```json
{
    "body": "<a id='comment:2'>**Comment 2:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbec83113e162d153c49c298cffda30b8696de57\">dbec831</a></td><td><code>work on cmp in overconvergent</code></td></tr></table>\n",
    "created_at": "2017-06-16T20:04:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23261#issuecomment-351632",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>**Comment 2:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbec83113e162d153c49c298cffda30b8696de57">dbec831</a></td><td><code>work on cmp in overconvergent</code></td></tr></table>




---

archive/issue_comments_351633.json:
```json
{
    "body": "<a id='comment:3'>**Comment 3:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b\">400cdcc</a></td><td><code>trac 23261 wrong imports</code></td></tr></table>\n",
    "created_at": "2017-06-16T20:08:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23261#issuecomment-351633",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>**Comment 3:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b">400cdcc</a></td><td><code>trac 23261 wrong imports</code></td></tr></table>




---

archive/issue_comments_351634.json:
```json
{
    "body": "**Changing commit** from \"[dbec83113e162d153c49c298cffda30b8696de57](https://github.com/sagemath/sagetrac-mirror/commit/dbec83113e162d153c49c298cffda30b8696de57)\" to \"[400cdccf08f87b38ec5eca98efd12a6a23c3f77b](https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b)\".",
    "created_at": "2017-06-16T20:08:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23261#issuecomment-351634",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[dbec83113e162d153c49c298cffda30b8696de57](https://github.com/sagemath/sagetrac-mirror/commit/dbec83113e162d153c49c298cffda30b8696de57)" to "[400cdccf08f87b38ec5eca98efd12a6a23c3f77b](https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b)".



---

archive/issue_comments_351635.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\nbot is morally green, please review",
    "created_at": "2017-06-19T19:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23261#issuecomment-351635",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'>**Comment 4:**</a>
bot is morally green, please review



---

archive/issue_events_281483.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-06-19T19:25:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23261#event-281483"
}
```



---

archive/issue_comments_351636.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\nIn `genus0.py`, why convert one `__cmp__` to `__eq__` and `__ne__`, while converting the other to `_richcmp_`?",
    "created_at": "2017-06-19T20:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23261#issuecomment-351636",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'>**Comment 5:**</a>
In `genus0.py`, why convert one `__cmp__` to `__eq__` and `__ne__`, while converting the other to `_richcmp_`?



---

archive/issue_comments_351637.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\n`_richcmp_` (and the former `_cmp_`) can be used only for Element classes, and will be used by the coercion framework.\n\nOn the other hand, if often makes no sense to define a total order on a set of parents. That's why `__cmp__` is replaced by just `__eq__` and `__ne__`.\n\n**EDIT** When comparison is really wanted for parents, one soon will be able to use `__richcmp__`, which is for the moment restricted to .pyx files.",
    "created_at": "2017-06-20T05:45:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23261#issuecomment-351637",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'>**Comment 6:**</a>
`_richcmp_` (and the former `_cmp_`) can be used only for Element classes, and will be used by the coercion framework.

On the other hand, if often makes no sense to define a total order on a set of parents. That's why `__cmp__` is replaced by just `__eq__` and `__ne__`.

**EDIT** When comparison is really wanted for parents, one soon will be able to use `__richcmp__`, which is for the moment restricted to .pyx files.



---

archive/issue_comments_351638.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\nFor these elements, it seems that we only care about `__eq__` and `__ne__`, not a total ordering. Or at least the doctests don't show any interest in a total ordering. Is `_richcmp_` preferable anyway because it uses coercion, or for some other reason?\n\n(I am not objecting to the changes, just curious.)",
    "created_at": "2017-06-20T18:14:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23261#issuecomment-351638",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:7'>**Comment 7:**</a>
For these elements, it seems that we only care about `__eq__` and `__ne__`, not a total ordering. Or at least the doctests don't show any interest in a total ordering. Is `_richcmp_` preferable anyway because it uses coercion, or for some other reason?

(I am not objecting to the changes, just curious.)



---

archive/issue_comments_351639.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\nWell, I would see at least two reasons for using `_richcmp_`, namely\n\n\\# this is easy to use, as a quick replacement for `__cmp__` or `_cmp_`\n\nGiven the quantity of work remaining to be done on cmp, this is a big plus.\n\n\\# it uses coercion\n\nthis allows in particular to remove all checks of the kind \"do they have the same parent\"",
    "created_at": "2017-06-20T18:26:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23261#issuecomment-351639",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'>**Comment 8:**</a>
Well, I would see at least two reasons for using `_richcmp_`, namely

\# this is easy to use, as a quick replacement for `__cmp__` or `_cmp_`

Given the quantity of work remaining to be done on cmp, this is a big plus.

\# it uses coercion

this allows in particular to remove all checks of the kind "do they have the same parent"



---

archive/issue_events_281484.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2017-06-20T18:58:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23261#event-281484"
}
```



---

archive/issue_events_281485.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2017-06-20T18:58:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23261#event-281485"
}
```



---

archive/issue_comments_351640.json:
```json
{
    "body": "**Reviewer:** John Palmieri",
    "created_at": "2017-06-20T18:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23261#issuecomment-351640",
    "user": "https://github.com/jhpalmieri"
}
```

**Reviewer:** John Palmieri



---

archive/issue_comments_351641.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\nThanks !",
    "created_at": "2017-06-20T18:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23261#issuecomment-351641",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'>**Comment 10:**</a>
Thanks !



---

archive/issue_comments_351642.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/23261](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23261)\" to \"[400cdccf08f87b38ec5eca98efd12a6a23c3f77b](https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b)\".",
    "created_at": "2017-06-22T07:24:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23261#issuecomment-351642",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/23261](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23261)" to "[400cdccf08f87b38ec5eca98efd12a6a23c3f77b](https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b)".



---

archive/issue_events_281486.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-22T07:24:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23261#event-281486"
}
```



---

archive/issue_events_281487.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e716f4b2274ca530182cadd743a518e859115c4c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-06-22T07:24:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23261",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23261#event-281487"
}
```
