# Issue 23261: py3: some care for cmp in modular/overconvergent

archive/issues_023024.json:
```json
{
    "body": "as another tiny step to py3\n\n**CC:**  @tscrim @jdemeyer @jhpalmieri\n\n**Branch/Commit:** [400cdccf08f87b38ec5eca98efd12a6a23c3f77b](https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b)\n\n**Reviewer:** John Palmieri\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/23261\n\n",
    "closed_at": "2017-06-22T07:24:14Z",
    "created_at": "2017-06-16T20:03:14Z",
    "labels": [
        "component: python3",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "py3: some care for cmp in modular/overconvergent",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23261",
    "user": "https://github.com/fchapoton"
}
```
as another tiny step to py3

**CC:**  @tscrim @jdemeyer @jhpalmieri

**Branch/Commit:** [400cdccf08f87b38ec5eca98efd12a6a23c3f77b](https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b)

**Reviewer:** John Palmieri

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/23261





---

archive/issue_comments_351600.json:
```json
{
    "body": "**Branch:** [u/chapoton/23261](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23261)",
    "created_at": "2017-06-16T20:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23261#issuecomment-351600",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/23261](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23261)



---

archive/issue_comments_351601.json:
```json
{
    "body": "**Commit:** [61fa91ff0b346bf8afefaf1eaeed5e321de55de8](https://github.com/sagemath/sagetrac-mirror/commit/61fa91ff0b346bf8afefaf1eaeed5e321de55de8)",
    "created_at": "2017-06-16T20:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23261#issuecomment-351601",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [61fa91ff0b346bf8afefaf1eaeed5e321de55de8](https://github.com/sagemath/sagetrac-mirror/commit/61fa91ff0b346bf8afefaf1eaeed5e321de55de8)



---

archive/issue_comments_351602.json:
```json
{
    "body": "**Changing commit** from \"[61fa91ff0b346bf8afefaf1eaeed5e321de55de8](https://github.com/sagemath/sagetrac-mirror/commit/61fa91ff0b346bf8afefaf1eaeed5e321de55de8)\" to \"[dbec83113e162d153c49c298cffda30b8696de57](https://github.com/sagemath/sagetrac-mirror/commit/dbec83113e162d153c49c298cffda30b8696de57)\".",
    "created_at": "2017-06-16T20:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23261#issuecomment-351602",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[61fa91ff0b346bf8afefaf1eaeed5e321de55de8](https://github.com/sagemath/sagetrac-mirror/commit/61fa91ff0b346bf8afefaf1eaeed5e321de55de8)" to "[dbec83113e162d153c49c298cffda30b8696de57](https://github.com/sagemath/sagetrac-mirror/commit/dbec83113e162d153c49c298cffda30b8696de57)".



---

archive/issue_comments_351603.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbec83113e162d153c49c298cffda30b8696de57\">dbec831</a></td><td><code>work on cmp in overconvergent</code></td></tr></table>\n",
    "created_at": "2017-06-16T20:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23261#issuecomment-351603",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbec83113e162d153c49c298cffda30b8696de57">dbec831</a></td><td><code>work on cmp in overconvergent</code></td></tr></table>




---

archive/issue_comments_351604.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b\">400cdcc</a></td><td><code>trac 23261 wrong imports</code></td></tr></table>\n",
    "created_at": "2017-06-16T20:08:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23261#issuecomment-351604",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b">400cdcc</a></td><td><code>trac 23261 wrong imports</code></td></tr></table>




---

archive/issue_comments_351605.json:
```json
{
    "body": "**Changing commit** from \"[dbec83113e162d153c49c298cffda30b8696de57](https://github.com/sagemath/sagetrac-mirror/commit/dbec83113e162d153c49c298cffda30b8696de57)\" to \"[400cdccf08f87b38ec5eca98efd12a6a23c3f77b](https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b)\".",
    "created_at": "2017-06-16T20:08:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23261#issuecomment-351605",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[dbec83113e162d153c49c298cffda30b8696de57](https://github.com/sagemath/sagetrac-mirror/commit/dbec83113e162d153c49c298cffda30b8696de57)" to "[400cdccf08f87b38ec5eca98efd12a6a23c3f77b](https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b)".



---

archive/issue_comments_351606.json:
```json
{
    "body": "<a id='comment:4'></a>\nbot is morally green, please review",
    "created_at": "2017-06-19T19:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23261#issuecomment-351606",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
bot is morally green, please review



---

archive/issue_events_207133.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-06-19T19:25:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23261#event-207133"
}
```



---

archive/issue_comments_351607.json:
```json
{
    "body": "<a id='comment:5'></a>\nIn `genus0.py`, why convert one `__cmp__` to `__eq__` and `__ne__`, while converting the other to `_richcmp_`?",
    "created_at": "2017-06-19T20:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23261#issuecomment-351607",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'></a>
In `genus0.py`, why convert one `__cmp__` to `__eq__` and `__ne__`, while converting the other to `_richcmp_`?



---

archive/issue_comments_351608.json:
```json
{
    "body": "<a id='comment:6'></a>\n`_richcmp_` (and the former `_cmp_`) can be used only for Element classes, and will be used by the coercion framework.\n\nOn the other hand, if often makes no sense to define a total order on a set of parents. That's why `__cmp__` is replaced by just `__eq__` and `__ne__`.\n\n**EDIT** When comparison is really wanted for parents, one soon will be able to use `__richcmp__`, which is for the moment restricted to .pyx files.",
    "created_at": "2017-06-20T05:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23261#issuecomment-351608",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
`_richcmp_` (and the former `_cmp_`) can be used only for Element classes, and will be used by the coercion framework.

On the other hand, if often makes no sense to define a total order on a set of parents. That's why `__cmp__` is replaced by just `__eq__` and `__ne__`.

**EDIT** When comparison is really wanted for parents, one soon will be able to use `__richcmp__`, which is for the moment restricted to .pyx files.



---

archive/issue_comments_351609.json:
```json
{
    "body": "<a id='comment:7'></a>\nFor these elements, it seems that we only care about `__eq__` and `__ne__`, not a total ordering. Or at least the doctests don't show any interest in a total ordering. Is `_richcmp_` preferable anyway because it uses coercion, or for some other reason?\n\n(I am not objecting to the changes, just curious.)",
    "created_at": "2017-06-20T18:14:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23261#issuecomment-351609",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:7'></a>
For these elements, it seems that we only care about `__eq__` and `__ne__`, not a total ordering. Or at least the doctests don't show any interest in a total ordering. Is `_richcmp_` preferable anyway because it uses coercion, or for some other reason?

(I am not objecting to the changes, just curious.)



---

archive/issue_comments_351610.json:
```json
{
    "body": "<a id='comment:8'></a>\nWell, I would see at least two reasons for using `_richcmp_`, namely\n\n# this is easy to use, as a quick replacement for `__cmp__` or `_cmp_`\n\nGiven the quantity of work remaining to be done on cmp, this is a big plus.\n\n# it uses coercion\n\nthis allows in particular to remove all checks of the kind \"do they have the same parent\"",
    "created_at": "2017-06-20T18:26:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23261#issuecomment-351610",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
Well, I would see at least two reasons for using `_richcmp_`, namely

# this is easy to use, as a quick replacement for `__cmp__` or `_cmp_`

Given the quantity of work remaining to be done on cmp, this is a big plus.

# it uses coercion

this allows in particular to remove all checks of the kind "do they have the same parent"



---

archive/issue_events_207134.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2017-06-20T18:58:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23261#event-207134"
}
```



---

archive/issue_events_207135.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2017-06-20T18:58:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23261#event-207135"
}
```



---

archive/issue_comments_351611.json:
```json
{
    "body": "**Reviewer:** John Palmieri",
    "created_at": "2017-06-20T18:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23261#issuecomment-351611",
    "user": "https://github.com/jhpalmieri"
}
```

**Reviewer:** John Palmieri



---

archive/issue_comments_351612.json:
```json
{
    "body": "<a id='comment:10'></a>\nThanks !",
    "created_at": "2017-06-20T18:59:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23261#issuecomment-351612",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
Thanks !



---

archive/issue_comments_351613.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/23261](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23261)\" to \"[400cdccf08f87b38ec5eca98efd12a6a23c3f77b](https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b)\".",
    "created_at": "2017-06-22T07:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23261#issuecomment-351613",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/23261](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23261)" to "[400cdccf08f87b38ec5eca98efd12a6a23c3f77b](https://github.com/sagemath/sagetrac-mirror/commit/400cdccf08f87b38ec5eca98efd12a6a23c3f77b)".



---

archive/issue_events_207136.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-22T07:24:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23261#event-207136"
}
```



---

archive/issue_events_207137.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-22T07:24:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23261",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23261#event-207137"
}
```
