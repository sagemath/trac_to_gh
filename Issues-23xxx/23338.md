# Issue 23338: Clean up polynomial constructor

archive/issues_023101.json:
```json
{
    "assignees": [],
    "body": "This ticket cleans up the `PolynomialRing()` function in many ways. Mainly:\n\n1. Use `normalize_names()` as much as possible to deal with variable names.\n\n2. Fix indentation in docstring.\n\n3. Pass arguments like `sparse` and `implementation` as `**kwds` to the single-variate or multi-variate polynomial constructor.\n\n4. Make the code easier to understand.\n\n5. Allow `PolynomialRing(..., implementation=\"singular\")` which forces Singular. This allows simplifying some code in `src/sage/algebras/free_algebra.py` which currently needs to jump through hoops to get a `MPolynomialRing_libsingular`.\n\n6. Check more error conditions, for example currently we have\n\n```\nsage: PolynomialRing(QQ, name=\"x\", names=\"y\")\nUnivariate Polynomial Ring in y over Rational Field\n```\n\n7. Change some arguments of `PolynomialRing()` to keyword-only arguments. This does break some existing uses of `PolynomialRing()`, although much more likely in library code and not user code (some code in Sage gets this even wrong and was passing `sparse=\"lex\"` instead of `order=\"lex\"`)\n\nApart from items 6 and 7, no existing functionality is changed.\n\nCC:  @tscrim\n\nComponent: **algebra**\n\nAuthor: **Jeroen Demeyer**\n\nBranch/Commit: **[`fc75734`](https://github.com/sagemath/sagetrac-mirror/commit/fc75734d30afcbe5604ff835ae2d1bb5b983e713)**\n\nReviewer: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23338_\n\n",
    "closed_at": "2017-07-26T22:13:00Z",
    "created_at": "2017-06-29T12:25:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Clean up polynomial constructor",
    "type": "issue",
    "updated_at": "2017-07-26T22:13:00Z",
    "url": "https://github.com/sagemath/sage/issues/23338",
    "user": "https://github.com/jdemeyer"
}
```
This ticket cleans up the `PolynomialRing()` function in many ways. Mainly:

1. Use `normalize_names()` as much as possible to deal with variable names.

2. Fix indentation in docstring.

3. Pass arguments like `sparse` and `implementation` as `**kwds` to the single-variate or multi-variate polynomial constructor.

4. Make the code easier to understand.

5. Allow `PolynomialRing(..., implementation="singular")` which forces Singular. This allows simplifying some code in `src/sage/algebras/free_algebra.py` which currently needs to jump through hoops to get a `MPolynomialRing_libsingular`.

6. Check more error conditions, for example currently we have

```
sage: PolynomialRing(QQ, name="x", names="y")
Univariate Polynomial Ring in y over Rational Field
```

7. Change some arguments of `PolynomialRing()` to keyword-only arguments. This does break some existing uses of `PolynomialRing()`, although much more likely in library code and not user code (some code in Sage gets this even wrong and was passing `sparse="lex"` instead of `order="lex"`)

Apart from items 6 and 7, no existing functionality is changed.

CC:  @tscrim

Component: **algebra**

Author: **Jeroen Demeyer**

Branch/Commit: **[`fc75734`](https://github.com/sagemath/sagetrac-mirror/commit/fc75734d30afcbe5604ff835ae2d1bb5b983e713)**

Reviewer: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/23338_





---

archive/issue_events_322121.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-29T12:25:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23338#event-322121"
}
```



---

archive/issue_events_322122.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-29T12:25:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23338#event-322122"
}
```



---

archive/issue_events_322123.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-29T12:25:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23338#event-322123"
}
```



---

archive/issue_events_322124.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-29T12:25:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23338#event-322124"
}
```



---

archive/issue_comments_350232.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\n+1",
    "created_at": "2017-06-29T12:44:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350232",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:1" align="right">comment:1</div>

+1



---

archive/issue_comments_350233.json:
```json
{
    "body": "Branch: **[u/jdemeyer/clean_up_polynomial_constructor](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/clean_up_polynomial_constructor)**",
    "created_at": "2017-06-29T15:23:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350233",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/clean_up_polynomial_constructor](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/clean_up_polynomial_constructor)**



---

archive/issue_comments_350234.json:
```json
{
    "body": "Commit: **[`883d507`](https://github.com/sagemath/sagetrac-mirror/commit/883d50709298487518d7d0a2771045483adb0cf9)**",
    "created_at": "2017-06-29T15:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350234",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`883d507`](https://github.com/sagemath/sagetrac-mirror/commit/883d50709298487518d7d0a2771045483adb0cf9)**



---

archive/issue_comments_350235.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nFirst version, not finished or tested yet. But feel free to comment...\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/883d50709298487518d7d0a2771045483adb0cf9\"><code>883d507</code></a></td><td><code>Clean up PolynomialRing() constructor</code></td></tr></table>\n",
    "created_at": "2017-06-29T15:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350235",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

First version, not finished or tested yet. But feel free to comment...

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/883d50709298487518d7d0a2771045483adb0cf9"><code>883d507</code></a></td><td><code>Clean up PolynomialRing() constructor</code></td></tr></table>




---

archive/issue_comments_350236.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,11 @@\n+This ticket cleans up the `PolynomialRing()` function in many ways. Mainly:\n \n+1. Use `normalize_names()` as much as possible to deal with variable names.\n+\n+2. Fix indentation in docstring.\n+\n+3. Pass arguments like `sparse` and `implementation` as `**kwds` to the single-variate or multi-variate polynomial constructor.\n+\n+4. Make the code easier to understand.\n+\n+No existing functionality is changed, this is just a clean-up.\n``````\n",
    "created_at": "2017-06-29T15:31:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350236",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,11 @@
+This ticket cleans up the `PolynomialRing()` function in many ways. Mainly:
 
+1. Use `normalize_names()` as much as possible to deal with variable names.
+
+2. Fix indentation in docstring.
+
+3. Pass arguments like `sparse` and `implementation` as `**kwds` to the single-variate or multi-variate polynomial constructor.
+
+4. Make the code easier to understand.
+
+No existing functionality is changed, this is just a clean-up.
``````




---

archive/issue_comments_350237.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,4 +8,11 @@\n \n 4. Make the code easier to understand.\n \n+5. Check more error conditions, for example currently we have\n+\n+```\n+sage: PolynomialRing(QQ, name=\"x\", names=\"y\")\n+Univariate Polynomial Ring in y over Rational Field\n+```\n+\n No existing functionality is changed, this is just a clean-up.\n``````\n",
    "created_at": "2017-06-29T15:36:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350237",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,4 +8,11 @@
 
 4. Make the code easier to understand.
 
+5. Check more error conditions, for example currently we have
+
+```
+sage: PolynomialRing(QQ, name="x", names="y")
+Univariate Polynomial Ring in y over Rational Field
+```
+
 No existing functionality is changed, this is just a clean-up.
``````




---

archive/issue_comments_350238.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,4 +15,4 @@\n Univariate Polynomial Ring in y over Rational Field\n ```\n \n-No existing functionality is changed, this is just a clean-up.\n+No existing functionality is changed (except for 5.): this is just a clean-up.\n``````\n",
    "created_at": "2017-06-29T15:37:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350238",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,4 +15,4 @@
 Univariate Polynomial Ring in y over Rational Field
 ```
 
-No existing functionality is changed, this is just a clean-up.
+No existing functionality is changed (except for 5.): this is just a clean-up.
``````




---

archive/issue_comments_350239.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,4 +15,6 @@\n Univariate Polynomial Ring in y over Rational Field\n ```\n \n-No existing functionality is changed (except for 5.): this is just a clean-up.\n+6. Change some arguments of `PolynomialRing()` to keyword-only arguments. This does break some existing uses of `PolynomialRing()` (some even wrong: some Singular code was passing `sparse=\"lex\"` instead or `order=\"lex\"`)\n+\n+Apart from items 5 and 6, no existing functionality is changed: this is just a clean-up.\n``````\n",
    "created_at": "2017-06-29T20:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350239",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,4 +15,6 @@
 Univariate Polynomial Ring in y over Rational Field
 ```
 
-No existing functionality is changed (except for 5.): this is just a clean-up.
+6. Change some arguments of `PolynomialRing()` to keyword-only arguments. This does break some existing uses of `PolynomialRing()` (some even wrong: some Singular code was passing `sparse="lex"` instead or `order="lex"`)
+
+Apart from items 5 and 6, no existing functionality is changed: this is just a clean-up.
``````




---

archive/issue_comments_350240.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,13 +8,15 @@\n \n 4. Make the code easier to understand.\n \n-5. Check more error conditions, for example currently we have\n+5. Add a new keyword argument `multivariate` to force a multivariate polynomial ring, even if there is only 1 variable.\n+\n+6. Check more error conditions, for example currently we have\n \n ```\n sage: PolynomialRing(QQ, name=\"x\", names=\"y\")\n Univariate Polynomial Ring in y over Rational Field\n ```\n \n-6. Change some arguments of `PolynomialRing()` to keyword-only arguments. This does break some existing uses of `PolynomialRing()` (some even wrong: some Singular code was passing `sparse=\"lex\"` instead or `order=\"lex\"`)\n+7. Change some arguments of `PolynomialRing()` to keyword-only arguments. This does break some existing uses of `PolynomialRing()` (some even wrong: some Singular code was passing `sparse=\"lex\"` instead or `order=\"lex\"`)\n \n-Apart from items 5 and 6, no existing functionality is changed: this is just a clean-up.\n+Apart from items 6 and 7, no existing functionality is changed.\n``````\n",
    "created_at": "2017-06-29T21:00:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350240",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,13 +8,15 @@
 
 4. Make the code easier to understand.
 
-5. Check more error conditions, for example currently we have
+5. Add a new keyword argument `multivariate` to force a multivariate polynomial ring, even if there is only 1 variable.
+
+6. Check more error conditions, for example currently we have
 
 ```
 sage: PolynomialRing(QQ, name="x", names="y")
 Univariate Polynomial Ring in y over Rational Field
 ```
 
-6. Change some arguments of `PolynomialRing()` to keyword-only arguments. This does break some existing uses of `PolynomialRing()` (some even wrong: some Singular code was passing `sparse="lex"` instead or `order="lex"`)
+7. Change some arguments of `PolynomialRing()` to keyword-only arguments. This does break some existing uses of `PolynomialRing()` (some even wrong: some Singular code was passing `sparse="lex"` instead or `order="lex"`)
 
-Apart from items 5 and 6, no existing functionality is changed: this is just a clean-up.
+Apart from items 6 and 7, no existing functionality is changed.
``````




---

archive/issue_comments_350241.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,7 +8,7 @@\n \n 4. Make the code easier to understand.\n \n-5. Add a new keyword argument `multivariate` to force a multivariate polynomial ring, even if there is only 1 variable.\n+5. Allow `PolynomialRing(..., implementation=\"singular\")` which forces Singular. This allows simplifying some code in `src/sage/algebras/free_algebra.py` which currently needs to jump through hoops to get a `MPolynomialRing_libsingular`.\n \n 6. Check more error conditions, for example currently we have\n \n``````\n",
    "created_at": "2017-06-29T21:52:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350241",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,7 +8,7 @@
 
 4. Make the code easier to understand.
 
-5. Add a new keyword argument `multivariate` to force a multivariate polynomial ring, even if there is only 1 variable.
+5. Allow `PolynomialRing(..., implementation="singular")` which forces Singular. This allows simplifying some code in `src/sage/algebras/free_algebra.py` which currently needs to jump through hoops to get a `MPolynomialRing_libsingular`.
 
 6. Check more error conditions, for example currently we have
 
``````




---

archive/issue_comments_350242.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f8a591a6b7151c442c9d20b53a5131eaa26e3b0\"><code>2f8a591</code></a></td><td><code>Clean up PolynomialRing() constructor</code></td></tr></table>\n",
    "created_at": "2017-06-29T21:58:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350242",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f8a591a6b7151c442c9d20b53a5131eaa26e3b0"><code>2f8a591</code></a></td><td><code>Clean up PolynomialRing() constructor</code></td></tr></table>




---

archive/issue_comments_350243.json:
```json
{
    "body": "Changed commit from **[`883d507`](https://github.com/sagemath/sagetrac-mirror/commit/883d50709298487518d7d0a2771045483adb0cf9)** to **[`2f8a591`](https://github.com/sagemath/sagetrac-mirror/commit/2f8a591a6b7151c442c9d20b53a5131eaa26e3b0)**",
    "created_at": "2017-06-29T21:58:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350243",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`883d507`](https://github.com/sagemath/sagetrac-mirror/commit/883d50709298487518d7d0a2771045483adb0cf9)** to **[`2f8a591`](https://github.com/sagemath/sagetrac-mirror/commit/2f8a591a6b7151c442c9d20b53a5131eaa26e3b0)**



---

archive/issue_comments_350244.json:
```json
{
    "body": "Changed commit from **[`2f8a591`](https://github.com/sagemath/sagetrac-mirror/commit/2f8a591a6b7151c442c9d20b53a5131eaa26e3b0)** to **[`f0a314c`](https://github.com/sagemath/sagetrac-mirror/commit/f0a314c800e0f060008a9402d1a7f2fba968920b)**",
    "created_at": "2017-06-29T22:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350244",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2f8a591`](https://github.com/sagemath/sagetrac-mirror/commit/2f8a591a6b7151c442c9d20b53a5131eaa26e3b0)** to **[`f0a314c`](https://github.com/sagemath/sagetrac-mirror/commit/f0a314c800e0f060008a9402d1a7f2fba968920b)**



---

archive/issue_comments_350245.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0a314c800e0f060008a9402d1a7f2fba968920b\"><code>f0a314c</code></a></td><td><code>Clean up PolynomialRing() constructor</code></td></tr></table>\n",
    "created_at": "2017-06-29T22:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350245",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0a314c800e0f060008a9402d1a7f2fba968920b"><code>f0a314c</code></a></td><td><code>Clean up PolynomialRing() constructor</code></td></tr></table>




---

archive/issue_comments_350246.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,6 +17,6 @@\n Univariate Polynomial Ring in y over Rational Field\n ```\n \n-7. Change some arguments of `PolynomialRing()` to keyword-only arguments. This does break some existing uses of `PolynomialRing()` (some even wrong: some Singular code was passing `sparse=\"lex\"` instead or `order=\"lex\"`)\n+7. Change some arguments of `PolynomialRing()` to keyword-only arguments. This does break some existing uses of `PolynomialRing()`, although much more likely in library code and not user code (some code in Sage gets this even wrong and was passing `sparse=\"lex\"` instead of `order=\"lex\"`)\n \n Apart from items 6 and 7, no existing functionality is changed.\n``````\n",
    "created_at": "2017-06-29T22:05:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350246",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,6 +17,6 @@
 Univariate Polynomial Ring in y over Rational Field
 ```
 
-7. Change some arguments of `PolynomialRing()` to keyword-only arguments. This does break some existing uses of `PolynomialRing()` (some even wrong: some Singular code was passing `sparse="lex"` instead or `order="lex"`)
+7. Change some arguments of `PolynomialRing()` to keyword-only arguments. This does break some existing uses of `PolynomialRing()`, although much more likely in library code and not user code (some code in Sage gets this even wrong and was passing `sparse="lex"` instead of `order="lex"`)
 
 Apart from items 6 and 7, no existing functionality is changed.
``````




---

archive/issue_comments_350247.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b410689bf2e5ef76ff9010f541a070d71778484f\"><code>b410689</code></a></td><td><code>Clean up PolynomialRing() constructor</code></td></tr></table>\n",
    "created_at": "2017-06-29T22:11:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350247",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b410689bf2e5ef76ff9010f541a070d71778484f"><code>b410689</code></a></td><td><code>Clean up PolynomialRing() constructor</code></td></tr></table>




---

archive/issue_comments_350248.json:
```json
{
    "body": "Changed commit from **[`f0a314c`](https://github.com/sagemath/sagetrac-mirror/commit/f0a314c800e0f060008a9402d1a7f2fba968920b)** to **[`b410689`](https://github.com/sagemath/sagetrac-mirror/commit/b410689bf2e5ef76ff9010f541a070d71778484f)**",
    "created_at": "2017-06-29T22:11:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350248",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f0a314c`](https://github.com/sagemath/sagetrac-mirror/commit/f0a314c800e0f060008a9402d1a7f2fba968920b)** to **[`b410689`](https://github.com/sagemath/sagetrac-mirror/commit/b410689bf2e5ef76ff9010f541a070d71778484f)**



---

archive/issue_comments_350249.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nMy quick comments are:\n\n- The indentation of the doc looks off for the numbered points. The subsequent lines of text should start at the same place the first line did (unless you want it to be further indented).\n- In handling the case `R.<x> = PolynomialRing(QQ, 'x')`, you should normalize the names there so that `kwnames != names` is a valid comparison (e.g., `names='x,y'` should be valid input).\n- You also almost already check for `R.<x> = PolynomialRing(QQ, 'x')` in the no `var_array` block.\n- We probably can/should handle the `R.<x> = PolynomialRing(QQ, 'x')` input entirely in the no `var_array` block.\n- Should I interpret the `[m, ...]` as extra input here?\n\n  ```\n  4. ``PolynomialRing(base_ring, n, [m, ...,] var_array=var_array, ...)``\n  ```\n  It is confusing with what might be a list. It might be better to do:\n\n  ```\n  4. ``PolynomialRing(base_ring, n0, ..., nm, var_array=var_array, ...)``\n  ```\n- Your code has some slightly sneaky logic for some corner cases like `PolynomialRing(QQ, 'x', 1, var_array='x')` not being valid input. It would be good to have some tests for `var_array` input.",
    "created_at": "2017-06-30T00:11:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350249",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:14" align="right">comment:14</div>

My quick comments are:

- The indentation of the doc looks off for the numbered points. The subsequent lines of text should start at the same place the first line did (unless you want it to be further indented).
- In handling the case `R.<x> = PolynomialRing(QQ, 'x')`, you should normalize the names there so that `kwnames != names` is a valid comparison (e.g., `names='x,y'` should be valid input).
- You also almost already check for `R.<x> = PolynomialRing(QQ, 'x')` in the no `var_array` block.
- We probably can/should handle the `R.<x> = PolynomialRing(QQ, 'x')` input entirely in the no `var_array` block.
- Should I interpret the `[m, ...]` as extra input here?

  ```
  4. ``PolynomialRing(base_ring, n, [m, ...,] var_array=var_array, ...)``
  ```
  It is confusing with what might be a list. It might be better to do:

  ```
  4. ``PolynomialRing(base_ring, n0, ..., nm, var_array=var_array, ...)``
  ```
- Your code has some slightly sneaky logic for some corner cases like `PolynomialRing(QQ, 'x', 1, var_array='x')` not being valid input. It would be good to have some tests for `var_array` input.



---

archive/issue_comments_350250.json:
```json
{
    "body": "Changed commit from **[`b410689`](https://github.com/sagemath/sagetrac-mirror/commit/b410689bf2e5ef76ff9010f541a070d71778484f)** to **[`98d9d59`](https://github.com/sagemath/sagetrac-mirror/commit/98d9d596260ccb224fcc565693b733b437dbab7a)**",
    "created_at": "2017-06-30T08:59:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350250",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b410689`](https://github.com/sagemath/sagetrac-mirror/commit/b410689bf2e5ef76ff9010f541a070d71778484f)** to **[`98d9d59`](https://github.com/sagemath/sagetrac-mirror/commit/98d9d596260ccb224fcc565693b733b437dbab7a)**



---

archive/issue_comments_350251.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98d9d596260ccb224fcc565693b733b437dbab7a\"><code>98d9d59</code></a></td><td><code>Clean up PolynomialRing() constructor</code></td></tr></table>\n",
    "created_at": "2017-06-30T08:59:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350251",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98d9d596260ccb224fcc565693b733b437dbab7a"><code>98d9d59</code></a></td><td><code>Clean up PolynomialRing() constructor</code></td></tr></table>




---

archive/issue_comments_350252.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@tscrim](#comment%3A14):\n> - In handling the case `R.<x> = PolynomialRing(QQ, 'x')`, you should normalize the names there so that `kwnames != names` is a valid comparison (e.g., `names='x,y'` should be valid input).\n\nNo, the current code is intentional. I only want to support\n\n```\nR.<x,y> = PolynomialRing(QQ, \"x,y\")\n```\nand not\n\n```\nR = PolynomialRing(QQ, \"x,y\", names=\"x,y\")\n```\nThe preparser passes `names` already normalized, so there is no reason to call `normalize_names()` on `kwnames`.\n\n> - You also almost already check for `R.<x> = PolynomialRing(QQ, 'x')` in the no `var_array` block.\n\nWhat do you mean with this?\n\n> - We probably can/should handle the `R.<x> = PolynomialRing(QQ, 'x')` input entirely in the no var_array block.\n\nWell, that would make the code slightly more complicated since that check needs to be done *after* `normalize_names()`. Also, I see no reason to a priori disallow something like\n\n```\nR.<x0,x1> = PolynomialRing(QQ, 2, var_array=[\"x\"])\n```\nYes, it's stupid to write that but we do allow the analogous thing without `var_array`.\n\n> - Your code has some slightly sneaky logic for some corner cases like `PolynomialRing(QQ, 'x', 1, var_array='x')` not being valid input. It would be good to have some tests for `var_array` input.\n\nRight. I didn't care much about `var_array` since it's not widely used (there isn't a single place in the Sage library or documentation where it is used, except for the `PolynomialRing` constructor itself). Still, you are right that additional doctests would be good.",
    "created_at": "2017-06-30T09:13:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350252",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@tscrim](#comment%3A14):
> - In handling the case `R.<x> = PolynomialRing(QQ, 'x')`, you should normalize the names there so that `kwnames != names` is a valid comparison (e.g., `names='x,y'` should be valid input).

No, the current code is intentional. I only want to support

```
R.<x,y> = PolynomialRing(QQ, "x,y")
```
and not

```
R = PolynomialRing(QQ, "x,y", names="x,y")
```
The preparser passes `names` already normalized, so there is no reason to call `normalize_names()` on `kwnames`.

> - You also almost already check for `R.<x> = PolynomialRing(QQ, 'x')` in the no `var_array` block.

What do you mean with this?

> - We probably can/should handle the `R.<x> = PolynomialRing(QQ, 'x')` input entirely in the no var_array block.

Well, that would make the code slightly more complicated since that check needs to be done *after* `normalize_names()`. Also, I see no reason to a priori disallow something like

```
R.<x0,x1> = PolynomialRing(QQ, 2, var_array=["x"])
```
Yes, it's stupid to write that but we do allow the analogous thing without `var_array`.

> - Your code has some slightly sneaky logic for some corner cases like `PolynomialRing(QQ, 'x', 1, var_array='x')` not being valid input. It would be good to have some tests for `var_array` input.

Right. I didn't care much about `var_array` since it's not widely used (there isn't a single place in the Sage library or documentation where it is used, except for the `PolynomialRing` constructor itself). Still, you are right that additional doctests would be good.



---

archive/issue_comments_350253.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9be4fc3ef59303385f7d5489e970441dfe81a212\"><code>9be4fc3</code></a></td><td><code>Clean up PolynomialRing() constructor</code></td></tr></table>\n",
    "created_at": "2017-06-30T12:23:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350253",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9be4fc3ef59303385f7d5489e970441dfe81a212"><code>9be4fc3</code></a></td><td><code>Clean up PolynomialRing() constructor</code></td></tr></table>




---

archive/issue_comments_350254.json:
```json
{
    "body": "Changed commit from **[`98d9d59`](https://github.com/sagemath/sagetrac-mirror/commit/98d9d596260ccb224fcc565693b733b437dbab7a)** to **[`9be4fc3`](https://github.com/sagemath/sagetrac-mirror/commit/9be4fc3ef59303385f7d5489e970441dfe81a212)**",
    "created_at": "2017-06-30T12:23:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350254",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`98d9d59`](https://github.com/sagemath/sagetrac-mirror/commit/98d9d596260ccb224fcc565693b733b437dbab7a)** to **[`9be4fc3`](https://github.com/sagemath/sagetrac-mirror/commit/9be4fc3ef59303385f7d5489e970441dfe81a212)**



---

archive/issue_comments_350255.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dfb59b3f87dac632ed040afceb0340800f8ceb6e\"><code>dfb59b3</code></a></td><td><code>Clean up PolynomialRing() constructor</code></td></tr></table>\n",
    "created_at": "2017-06-30T12:40:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350255",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dfb59b3f87dac632ed040afceb0340800f8ceb6e"><code>dfb59b3</code></a></td><td><code>Clean up PolynomialRing() constructor</code></td></tr></table>




---

archive/issue_comments_350256.json:
```json
{
    "body": "Changed commit from **[`9be4fc3`](https://github.com/sagemath/sagetrac-mirror/commit/9be4fc3ef59303385f7d5489e970441dfe81a212)** to **[`dfb59b3`](https://github.com/sagemath/sagetrac-mirror/commit/dfb59b3f87dac632ed040afceb0340800f8ceb6e)**",
    "created_at": "2017-06-30T12:40:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350256",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9be4fc3`](https://github.com/sagemath/sagetrac-mirror/commit/9be4fc3ef59303385f7d5489e970441dfe81a212)** to **[`dfb59b3`](https://github.com/sagemath/sagetrac-mirror/commit/dfb59b3f87dac632ed040afceb0340800f8ceb6e)**



---

archive/issue_comments_350257.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI think this addresses your comments, except for the ones regarding the redundant `R.<x> = Polynomial(QQ, \"x\")` syntax.",
    "created_at": "2017-06-30T12:42:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350257",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

I think this addresses your comments, except for the ones regarding the redundant `R.<x> = Polynomial(QQ, "x")` syntax.



---

archive/issue_events_322125.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-30T12:42:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23338#event-322125"
}
```



---

archive/issue_comments_350258.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jdemeyer](#comment%3A16):\n> Replying to [@tscrim](#comment%3A14):\n> > - In handling the case `R.<x> = PolynomialRing(QQ, 'x')`, you should normalize the names there so that `kwnames != names` is a valid comparison (e.g., `names='x,y'` should be valid input).\n\n> \n> No, the current code is intentional. I only want to support\n> \n> ```\n> R.<x,y> = PolynomialRing(QQ, \"x,y\")\n> ```\n> and not\n> \n> ```\n> R = PolynomialRing(QQ, \"x,y\", names=\"x,y\")\n> ```\n> The preparser passes `names` already normalized, so there is no reason to call `normalize_names()` on `kwnames`.\n\nAh, I see. Okay.\n\n> > - You also almost already check for `R.<x> = PolynomialRing(QQ, 'x')` in the no `var_array` block.\n\n> What do you mean with this?\n\nMost of the code that checks for input of this form is already in the code path when `var_array` is not being used. I feel like it should go there. However, this is moot because...\n\n> > - We probably can/should handle the `R.<x> = PolynomialRing(QQ, 'x')` input entirely in the no var_array block.\n\n> \n> Well, that would make the code slightly more complicated since that check needs to be done *after* `normalize_names()`. Also, I see no reason to a priori disallow something like\n> \n> ```\n> R.<x0,x1> = PolynomialRing(QQ, 2, var_array=[\"x\"])\n> ```\n> Yes, it's stupid to write that but we do allow the analogous thing without `var_array`.\n\nI agree with this. I missed the `normalize_names` call on my quick look through.\n\n> > - Your code has some slightly sneaky logic for some corner cases like `PolynomialRing(QQ, 'x', 1, var_array='x')` not being valid input. It would be good to have some tests for `var_array` input.\n\n> \n> Right. I didn't care much about `var_array` since it's not widely used (there isn't a single place in the Sage library or documentation where it is used, except for the `PolynomialRing` constructor itself). Still, you are right that additional doctests would be good.\n\nI did the initial implementation because I got a few requests to have such a feature (which is useful for doing matrices with generic parameters). So I care a little bit. :)\n\nI'm wondering if we should always have a one variable implementation always be a univariate polynomial ring, of course with `implementation='singular'` being an exception to construct the multivariate polynomial ring? This should be uncontroversial as it only expands functionality.",
    "created_at": "2017-06-30T12:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350258",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jdemeyer](#comment%3A16):
> Replying to [@tscrim](#comment%3A14):
> > - In handling the case `R.<x> = PolynomialRing(QQ, 'x')`, you should normalize the names there so that `kwnames != names` is a valid comparison (e.g., `names='x,y'` should be valid input).

> 
> No, the current code is intentional. I only want to support
> 
> ```
> R.<x,y> = PolynomialRing(QQ, "x,y")
> ```
> and not
> 
> ```
> R = PolynomialRing(QQ, "x,y", names="x,y")
> ```
> The preparser passes `names` already normalized, so there is no reason to call `normalize_names()` on `kwnames`.

Ah, I see. Okay.

> > - You also almost already check for `R.<x> = PolynomialRing(QQ, 'x')` in the no `var_array` block.

> What do you mean with this?

Most of the code that checks for input of this form is already in the code path when `var_array` is not being used. I feel like it should go there. However, this is moot because...

> > - We probably can/should handle the `R.<x> = PolynomialRing(QQ, 'x')` input entirely in the no var_array block.

> 
> Well, that would make the code slightly more complicated since that check needs to be done *after* `normalize_names()`. Also, I see no reason to a priori disallow something like
> 
> ```
> R.<x0,x1> = PolynomialRing(QQ, 2, var_array=["x"])
> ```
> Yes, it's stupid to write that but we do allow the analogous thing without `var_array`.

I agree with this. I missed the `normalize_names` call on my quick look through.

> > - Your code has some slightly sneaky logic for some corner cases like `PolynomialRing(QQ, 'x', 1, var_array='x')` not being valid input. It would be good to have some tests for `var_array` input.

> 
> Right. I didn't care much about `var_array` since it's not widely used (there isn't a single place in the Sage library or documentation where it is used, except for the `PolynomialRing` constructor itself). Still, you are right that additional doctests would be good.

I did the initial implementation because I got a few requests to have such a feature (which is useful for doing matrices with generic parameters). So I care a little bit. :)

I'm wondering if we should always have a one variable implementation always be a univariate polynomial ring, of course with `implementation='singular'` being an exception to construct the multivariate polynomial ring? This should be uncontroversial as it only expands functionality.



---

archive/issue_comments_350259.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@tscrim](#comment%3A20):\n> I'm wondering if we should always have a one variable implementation always be a univariate polynomial ring, of course with `implementation='singular'` being an exception to construct the multivariate polynomial ring? This should be uncontroversial as it only expands functionality.\n\nI don't agree that it only expands functionality. In at least 2 places, the Sage library has been using `PolynomialRing(R, 1, \"x\")` as a contrived way to get a multivariate polynomial ring implemented in Singular. Of course, this can now be done using `PolynomialRing(R, \"x\", implementation=\"singular\")`. For this reason, I would maybe give a deprecation warning for `PolynomialRing(R, 1, \"x\")` but *not* change functionality yet.",
    "created_at": "2017-06-30T12:56:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350259",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@tscrim](#comment%3A20):
> I'm wondering if we should always have a one variable implementation always be a univariate polynomial ring, of course with `implementation='singular'` being an exception to construct the multivariate polynomial ring? This should be uncontroversial as it only expands functionality.

I don't agree that it only expands functionality. In at least 2 places, the Sage library has been using `PolynomialRing(R, 1, "x")` as a contrived way to get a multivariate polynomial ring implemented in Singular. Of course, this can now be done using `PolynomialRing(R, "x", implementation="singular")`. For this reason, I would maybe give a deprecation warning for `PolynomialRing(R, 1, "x")` but *not* change functionality yet.



---

archive/issue_comments_350260.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nIt seems that there are quite a bit of places in Sage which rely on the behaviour that specifying 1 variable gives a multivariate polynomial ring. For example, doctests checking whether some algorithm for multivariate rings also deals with the 1-variable case properly. So I feel inclined to keep the current behaviour.",
    "created_at": "2017-06-30T13:23:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350260",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

It seems that there are quite a bit of places in Sage which rely on the behaviour that specifying 1 variable gives a multivariate polynomial ring. For example, doctests checking whether some algorithm for multivariate rings also deals with the 1-variable case properly. So I feel inclined to keep the current behaviour.



---

archive/issue_comments_350261.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nFair enough. Although in some ways changing the behavior makes the doctests a little moot...but one could directly call the constructor class (or pass `implementation=\"singular\"`). However, it is beyond the scope of the ticket in a way, so I'm fine doing this on another ticket.",
    "created_at": "2017-06-30T13:32:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350261",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">comment:23</div>

Fair enough. Although in some ways changing the behavior makes the doctests a little moot...but one could directly call the constructor class (or pass `implementation="singular"`). However, it is beyond the scope of the ticket in a way, so I'm fine doing this on another ticket.



---

archive/issue_comments_350262.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nSo it looks like we took care of all places that are using `PolynomialRing(F, 1, 'x')` to get a Singular object other than some doctests in `polynomial_singular_interface.py` and `interfaces/singular.py`. Once those are changed, then you can set this to a positive review.",
    "created_at": "2017-06-30T14:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350262",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:24" align="right">comment:24</div>

So it looks like we took care of all places that are using `PolynomialRing(F, 1, 'x')` to get a Singular object other than some doctests in `polynomial_singular_interface.py` and `interfaces/singular.py`. Once those are changed, then you can set this to a positive review.



---

archive/issue_comments_350263.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@tscrim](#comment%3A24):\n> So it looks like we took care of all places that are using `PolynomialRing(F, 1, 'x')` to get a Singular object other than some doctests in `polynomial_singular_interface.py` and `interfaces/singular.py`.\n\nI actually think that there are more places like that. I'll try to fix them all.",
    "created_at": "2017-06-30T16:24:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350263",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@tscrim](#comment%3A24):
> So it looks like we took care of all places that are using `PolynomialRing(F, 1, 'x')` to get a Singular object other than some doctests in `polynomial_singular_interface.py` and `interfaces/singular.py`.

I actually think that there are more places like that. I'll try to fix them all.



---

archive/issue_comments_350264.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc75734d30afcbe5604ff835ae2d1bb5b983e713\"><code>fc75734</code></a></td><td><code>Use implementation=\"singular\" instead of using 1 variable to force a Singular polynomial ring</code></td></tr></table>\n",
    "created_at": "2017-07-04T13:35:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350264",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc75734d30afcbe5604ff835ae2d1bb5b983e713"><code>fc75734</code></a></td><td><code>Use implementation="singular" instead of using 1 variable to force a Singular polynomial ring</code></td></tr></table>




---

archive/issue_comments_350265.json:
```json
{
    "body": "Changed commit from **[`dfb59b3`](https://github.com/sagemath/sagetrac-mirror/commit/dfb59b3f87dac632ed040afceb0340800f8ceb6e)** to **[`fc75734`](https://github.com/sagemath/sagetrac-mirror/commit/fc75734d30afcbe5604ff835ae2d1bb5b983e713)**",
    "created_at": "2017-07-04T13:35:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350265",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dfb59b3`](https://github.com/sagemath/sagetrac-mirror/commit/dfb59b3f87dac632ed040afceb0340800f8ceb6e)** to **[`fc75734`](https://github.com/sagemath/sagetrac-mirror/commit/fc75734d30afcbe5604ff835ae2d1bb5b983e713)**



---

archive/issue_comments_350266.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThanks. LGTM.",
    "created_at": "2017-07-05T12:49:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350266",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">comment:27</div>

Thanks. LGTM.



---

archive/issue_events_322126.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-07-05T12:49:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23338#event-322126"
}
```



---

archive/issue_events_322127.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-07-05T12:49:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23338#event-322127"
}
```



---

archive/issue_comments_350267.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2017-07-05T12:49:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350267",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_350268.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/clean_up_polynomial_constructor](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/clean_up_polynomial_constructor)** to **[`fc75734`](https://github.com/sagemath/sagetrac-mirror/commit/fc75734d30afcbe5604ff835ae2d1bb5b983e713)**",
    "created_at": "2017-07-26T22:13:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23338#issuecomment-350268",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/clean_up_polynomial_constructor](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/clean_up_polynomial_constructor)** to **[`fc75734`](https://github.com/sagemath/sagetrac-mirror/commit/fc75734d30afcbe5604ff835ae2d1bb5b983e713)**



---

archive/issue_events_322128.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-07-26T22:13:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23338#event-322128"
}
```



---

archive/issue_events_322129.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0ef62928875ef9c858c04a16ce7dff33a55825d6",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-07-26T22:13:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23338",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23338#event-322129"
}
```
