# Issue 23036: Speedup KR rigged configurations

archive/issues_022799.json:
```json
{
    "body": "Follow-up to #22992. Each time we call `CartanType.classical()`, it has to call the `CartanType` constructor. Because this is done so often, it takes a significant amount of time. However, we can work around this by using `_rc_index`.\n\nCC:  sage-combinat @anneschilling @bsalisbury1\n\nKeywords: crystals, rigged configurations\n\nReviewer: Ben Salisbury\n\nAuthor: Travis Scrimshaw\n\nBranch: 9f5850ad60db079bb99cb59dd0f4bf6a818ba092\n\nDependencies: #22992\n\nCommit: 9f5850ad60db079bb99cb59dd0f4bf6a818ba092\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23036\n\n",
    "closed_at": "2017-05-21T10:08:16Z",
    "created_at": "2017-05-19T18:49:04Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Speedup KR rigged configurations",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23036",
    "user": "https://github.com/tscrim"
}
```
Follow-up to #22992. Each time we call `CartanType.classical()`, it has to call the `CartanType` constructor. Because this is done so often, it takes a significant amount of time. However, we can work around this by using `_rc_index`.

CC:  sage-combinat @anneschilling @bsalisbury1

Keywords: crystals, rigged configurations

Reviewer: Ben Salisbury

Author: Travis Scrimshaw

Branch: 9f5850ad60db079bb99cb59dd0f4bf6a818ba092

Dependencies: #22992

Commit: 9f5850ad60db079bb99cb59dd0f4bf6a818ba092

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23036





---

archive/issue_comments_318426.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-19T18:51:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23036#issuecomment-318426",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_318427.json:
```json
{
    "body": "<a id='comment:1'></a>New:\n\n```\nsage: RC = RiggedConfigurations(['B',4,1], [[3,1],[1,1],[1,1]])\nsage: %time len([x for x in RC])\nCPU times: user 3.8 s, sys: 28 ms, total: 3.83 s\nWall time: 3.78 s\n7533\n```\nOld:\n\n```\nsage: RC = RiggedConfigurations(['B',4,1], [[3,1],[1,1],[1,1]])\nsage: %time len([x for x in RC])\nCPU times: user 6.78 s, sys: 8 ms, total: 6.79 s\nWall time: 6.78 s\n7533\n```\n\n---\nNew commits:",
    "created_at": "2017-05-19T18:51:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23036#issuecomment-318427",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>New:

```
sage: RC = RiggedConfigurations(['B',4,1], [[3,1],[1,1],[1,1]])
sage: %time len([x for x in RC])
CPU times: user 3.8 s, sys: 28 ms, total: 3.83 s
Wall time: 3.78 s
7533
```
Old:

```
sage: RC = RiggedConfigurations(['B',4,1], [[3,1],[1,1],[1,1]])
sage: %time len([x for x in RC])
CPU times: user 6.78 s, sys: 8 ms, total: 6.79 s
Wall time: 6.78 s
7533
```

---
New commits:



---

archive/issue_comments_318428.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-19T19:17:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23036#issuecomment-318428",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_318429.json:
```json
{
    "body": "<a id='comment:4'></a>Bad news...\n\n```\n----------------------------------------------------------------------\nsage -t --long src/sage/combinat/rigged_configurations/rigged_configurations.py  # 5 doctests failed\nsage -t --long src/sage/combinat/rigged_configurations/rigged_configuration_element.py  # 2 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2017-05-19T19:18:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23036#issuecomment-318429",
    "user": "https://github.com/bsalisbury1"
}
```

<a id='comment:4'></a>Bad news...

```
----------------------------------------------------------------------
sage -t --long src/sage/combinat/rigged_configurations/rigged_configurations.py  # 5 doctests failed
sage -t --long src/sage/combinat/rigged_configurations/rigged_configuration_element.py  # 2 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_comments_318430.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-05-19T19:18:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23036#issuecomment-318430",
    "user": "https://github.com/bsalisbury1"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_318431.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-19T19:20:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23036#issuecomment-318431",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_318432.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-05-19T19:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23036#issuecomment-318432",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_318433.json:
```json
{
    "body": "<a id='comment:6'></a>This should fix it. I thought I re-ran the tests after making that change, but I guess not.",
    "created_at": "2017-05-19T19:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23036#issuecomment-318433",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>This should fix it. I thought I re-ran the tests after making that change, but I guess not.



---

archive/issue_comments_318434.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-20T01:50:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23036#issuecomment-318434",
    "user": "https://github.com/bsalisbury1"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_318435.json:
```json
{
    "body": "<a id='comment:7'></a>Looks good now.",
    "created_at": "2017-05-20T01:50:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23036#issuecomment-318435",
    "user": "https://github.com/bsalisbury1"
}
```

<a id='comment:7'></a>Looks good now.



---

archive/issue_comments_318436.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-21T10:08:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23036#issuecomment-318436",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_059653.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-21T10:08:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23036",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23036#event-59653"
}
```
