# Issue 23427: Fix intersection of hyperbolic geodesic arcs

archive/issues_023190.json:
```json
{
    "body": "The following geodesic arcs do not intersect\nbut Sage still gives an intersection point.\n\n```\nsage: UHP = HyperbolicPlane().UHP()\nsage: g1 = UHP.get_geodesic(2*QQbar.gen(), 5)\nsage: g2 = UHP.get_geodesic(-1/2, Infinity)\nsage: g1.intersection(g2)\n[Point in UHP -0.500000000000000? + 1.284523257866513?*I]\n```\n\nCC:  jhonrubia6 @slel\n\nKeywords: bug\n\nBranch/Commit: f3dc8781bfdedf9d269cdea65eead6d67d5b40f1\n\nReviewer: Vincent Delecroix, Dave Morris, Dima Pasechnik\n\nAuthor: Javier Honrubia Gonz\u00e1lez\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23427\n\n",
    "closed_at": "2021-12-19T11:47:55Z",
    "created_at": "2017-07-13T21:12:00Z",
    "labels": [
        "component: geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Fix intersection of hyperbolic geodesic arcs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23427",
    "user": "https://github.com/videlec"
}
```
The following geodesic arcs do not intersect
but Sage still gives an intersection point.

```
sage: UHP = HyperbolicPlane().UHP()
sage: g1 = UHP.get_geodesic(2*QQbar.gen(), 5)
sage: g2 = UHP.get_geodesic(-1/2, Infinity)
sage: g1.intersection(g2)
[Point in UHP -0.500000000000000? + 1.284523257866513?*I]
```

CC:  jhonrubia6 @slel

Keywords: bug

Branch/Commit: f3dc8781bfdedf9d269cdea65eead6d67d5b40f1

Reviewer: Vincent Delecroix, Dave Morris, Dima Pasechnik

Author: Javier Honrubia Gonz√°lez

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23427





---

archive/issue_comments_345358.json:
```json
{
    "body": "<a id='comment:1'></a>It seems easy. Checking that the real part of the fixed point of both involutions lies between the real part of endpoints of both geodesics,would be a fast implementation.\nAre you going to tackle this? I have time these days to code it.",
    "created_at": "2017-07-14T12:38:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345358",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

<a id='comment:1'></a>It seems easy. Checking that the real part of the fixed point of both involutions lies between the real part of endpoints of both geodesics,would be a fast implementation.
Are you going to tackle this? I have time these days to code it.



---

archive/issue_comments_345359.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2017-08-01T17:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345359",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_345360.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-08-01T17:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345360",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_345361.json:
```json
{
    "body": "<a id='comment:4'></a>What about vertical geodesics?",
    "created_at": "2017-08-01T20:50:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345361",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>What about vertical geodesics?



---

archive/issue_comments_345362.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-08-03T08:30:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345362",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_345363.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 vdelecroix]:\n> What about vertical geodesics?\n\n\nMore precisely\n\n```\nsage: UHP = HyperbolicPlane().UHP()\nsage: g1 = UHP.get_geodesic(I, 2*I)\nsage: g2 = UHP.get_geodesic(I/2, 4*I)\nsage: g3 = UHP.get_geodesic(3*I, 4*I)\nsage: g1.intersection(g2)\n[Boundary point in UHP +Infinity, Boundary point in UHP 0]\nsage: g1.intersection(g3)\n[Boundary point in UHP +Infinity, Boundary point in UHP 0]\n```",
    "created_at": "2017-08-03T08:30:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345363",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>Replying to [comment:4 vdelecroix]:
> What about vertical geodesics?


More precisely

```
sage: UHP = HyperbolicPlane().UHP()
sage: g1 = UHP.get_geodesic(I, 2*I)
sage: g2 = UHP.get_geodesic(I/2, 4*I)
sage: g3 = UHP.get_geodesic(3*I, 4*I)
sage: g1.intersection(g2)
[Boundary point in UHP +Infinity, Boundary point in UHP 0]
sage: g1.intersection(g3)
[Boundary point in UHP +Infinity, Boundary point in UHP 0]
```



---

archive/issue_comments_345364.json:
```json
{
    "body": "<a id='comment:6'></a>we also need to correct\n\n```\nsage: UHP = HyperbolicPlane().UHP()\nsage: g1=UHP.get_geodesic(-1,+1)\nsage: g2=UHP.get_geodesic(-1,-1+2*I)\nsage: g1.intersection(g2)\n[]\n```\nshould return\n\n```\n[Boundary point in UHP -1]\n```\nand\n\n```\nUHP = HyperbolicPlane().UHP()\ng1=UHP.get_geodesic(-1,I)\ng2=UHP.get_geodesic(+1,(+cos(pi/3)+I*sin(pi/3)))\n[Boundary point in UHP -1, Boundary point in UHP 1]\n```\nshould return `[]`\n\nWhat should be the correct answer of the function in the following case?\n\n```\nUHP = HyperbolicPlane().UHP()\ng1=UHP.get_geodesic(I,3*I)\ng2=UHP.get_geodesic(2*I,4*I)\n```\nMaybe\n\n```\n[2*I,3*I]\n```\nor\n\n```\nGeodesic in UHP from 2*I to 3*I\n```",
    "created_at": "2017-08-10T09:54:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345364",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

<a id='comment:6'></a>we also need to correct

```
sage: UHP = HyperbolicPlane().UHP()
sage: g1=UHP.get_geodesic(-1,+1)
sage: g2=UHP.get_geodesic(-1,-1+2*I)
sage: g1.intersection(g2)
[]
```
should return

```
[Boundary point in UHP -1]
```
and

```
UHP = HyperbolicPlane().UHP()
g1=UHP.get_geodesic(-1,I)
g2=UHP.get_geodesic(+1,(+cos(pi/3)+I*sin(pi/3)))
[Boundary point in UHP -1, Boundary point in UHP 1]
```
should return `[]`

What should be the correct answer of the function in the following case?

```
UHP = HyperbolicPlane().UHP()
g1=UHP.get_geodesic(I,3*I)
g2=UHP.get_geodesic(2*I,4*I)
```
Maybe

```
[2*I,3*I]
```
or

```
Geodesic in UHP from 2*I to 3*I
```



---

archive/issue_comments_345365.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 jhonrubia6]:\n>\n> <SNIP>\n>\n> What should be the correct answer of the function in the following case?\n> {{{\n> UHP = HyperbolicPlane().UHP()\n> g1=UHP.get_geodesic(I,3*I)\n> g2=UHP.get_geodesic(2*I,4*I)\n> }}}\n> Maybe\n> {{{\n> [2*I,3*I]\n> }}}\n\n\ndefinitely not\n\n> or\n> \n> ```\n> Geodesic in UHP from 2*I to 3*I\n> ```\n\n\nMuch better",
    "created_at": "2017-08-10T10:07:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345365",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>Replying to [comment:6 jhonrubia6]:
>
> <SNIP>
>
> What should be the correct answer of the function in the following case?
> {{{
> UHP = HyperbolicPlane().UHP()
> g1=UHP.get_geodesic(I,3*I)
> g2=UHP.get_geodesic(2*I,4*I)
> }}}
> Maybe
> {{{
> [2*I,3*I]
> }}}


definitely not

> or
> 
> ```
> Geodesic in UHP from 2*I to 3*I
> ```


Much better



---

archive/issue_comments_345366.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-13T17:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345366",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345367.json:
```json
{
    "body": "<a id='comment:9'></a>Ideally, work on top of the develop branch\n(currently Sage 9.5.beta6) rather than master.",
    "created_at": "2021-11-13T18:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345367",
    "user": "https://github.com/slel"
}
```

<a id='comment:9'></a>Ideally, work on top of the develop branch
(currently Sage 9.5.beta6) rather than master.



---

archive/issue_comments_345368.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n-The following geodesics do not intersect but Sage thinks they do\n+The following geodesic arcs do not intersect\n+but Sage still gives an intersection point.\n \n ```\n sage: UHP = HyperbolicPlane().UHP()\n```\n",
    "created_at": "2021-11-13T18:04:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345368",
    "user": "https://github.com/slel"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,5 @@
-The following geodesics do not intersect but Sage thinks they do
+The following geodesic arcs do not intersect
+but Sage still gives an intersection point.
 
 ```
 sage: UHP = HyperbolicPlane().UHP()
```




---

archive/issue_events_060191.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-11-13T18:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23427#event-60191"
}
```



---

archive/issue_comments_345369.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:9 slelievre]:\n> Ideally, work on top of the develop branch\n> (currently Sage 9.5.beta6) rather than master.\n\nRight, I've just noticed, I merge with develop and re-submit",
    "created_at": "2021-11-13T18:05:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345369",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

<a id='comment:11'></a>Replying to [comment:9 slelievre]:
> Ideally, work on top of the develop branch
> (currently Sage 9.5.beta6) rather than master.

Right, I've just noticed, I merge with develop and re-submit



---

archive/issue_comments_345370.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-16T18:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345370",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345371.json:
```json
{
    "body": "<a id='comment:13'></a>However an important new bug appeared when dealing with the intersection in the PD model:\n\n```\nsage: g=HyperbolicPlane().PD().random_geodesic()\nsage: h = g.perpendicular_bisector().complete()\nsage: g.intersection(h)\n[]\n\n```\n\nwhich is an obvious error. Somehow the problem lies in the abstract method `intersection(self, other)`\n\n```\nsage: g._cached_geodesic.intersection(h)\n[]\n```\nwhereas\n\n```\nsage: g._cached_geodesic.intersection(h._cached_geodesic)\n[Point in UHP -1.27483700342883 + 2.78119562788909*I]\n```\nHowever\n\n```\nsage: g=HyperbolicPlane().PD().random_geodesic()\nsage: h = g.perpendicular_bisector().complete()\nsage: g.intersection(h)\n[Point in UHP 0.815206723839169 + 2.95290895719856*I]\n```\n\nWork in progress",
    "created_at": "2021-11-16T18:42:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345371",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

<a id='comment:13'></a>However an important new bug appeared when dealing with the intersection in the PD model:

```
sage: g=HyperbolicPlane().PD().random_geodesic()
sage: h = g.perpendicular_bisector().complete()
sage: g.intersection(h)
[]

```

which is an obvious error. Somehow the problem lies in the abstract method `intersection(self, other)`

```
sage: g._cached_geodesic.intersection(h)
[]
```
whereas

```
sage: g._cached_geodesic.intersection(h._cached_geodesic)
[Point in UHP -1.27483700342883 + 2.78119562788909*I]
```
However

```
sage: g=HyperbolicPlane().PD().random_geodesic()
sage: h = g.perpendicular_bisector().complete()
sage: g.intersection(h)
[Point in UHP 0.815206723839169 + 2.95290895719856*I]
```

Work in progress



---

archive/issue_comments_345372.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-17T17:53:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345372",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345373.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-17T22:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345373",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345374.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-11-20T10:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345374",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_345375.json:
```json
{
    "body": "<a id='comment:17'></a>Just merge (or rebase) locally, and push the merged branch.",
    "created_at": "2021-11-25T23:11:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345375",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'></a>Just merge (or rebase) locally, and push the merged branch.



---

archive/issue_comments_345376.json:
```json
{
    "body": "<a id='comment:18'></a>Here are the merge conflicts that I see with 9.5b7. They are in the `EXAMPLES` sections of the two `perpendicular_bisector` methods. \n\n```\n<<<<<<< HEAD\n            sage: h = g.perpendicular_bisector()\n            sage: P = g.plot(color='blue')+h.plot(color='orange');P  # optional - sage.plot\n=======\n            sage: h = g.perpendicular_bisector().complete()\n            sage: P = g.plot(color='blue')+h.plot(color='orange');P\n>>>>>>> b0648b27e31c67536205a4fe9c4e85d66adea382\n```\n\n```\n<<<<<<< HEAD\n            sage: h = g.perpendicular_bisector()\n            sage: show(g.plot(color='blue')+h.plot(color='orange'))  # optional - sage.plot\n=======\n            sage: h = g.perpendicular_bisector().complete()\n            sage: show(g.plot(color='blue')+h.plot(color='orange'))\n>>>>>>> b0648b27e31c67536205a4fe9c4e85d66adea382\n```",
    "created_at": "2021-11-26T00:47:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345376",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:18'></a>Here are the merge conflicts that I see with 9.5b7. They are in the `EXAMPLES` sections of the two `perpendicular_bisector` methods. 

```
<<<<<<< HEAD
            sage: h = g.perpendicular_bisector()
            sage: P = g.plot(color='blue')+h.plot(color='orange');P  # optional - sage.plot
=======
            sage: h = g.perpendicular_bisector().complete()
            sage: P = g.plot(color='blue')+h.plot(color='orange');P
>>>>>>> b0648b27e31c67536205a4fe9c4e85d66adea382
```

```
<<<<<<< HEAD
            sage: h = g.perpendicular_bisector()
            sage: show(g.plot(color='blue')+h.plot(color='orange'))  # optional - sage.plot
=======
            sage: h = g.perpendicular_bisector().complete()
            sage: show(g.plot(color='blue')+h.plot(color='orange'))
>>>>>>> b0648b27e31c67536205a4fe9c4e85d66adea382
```



---

archive/issue_comments_345377.json:
```json
{
    "body": "<a id='comment:19'></a>so just use the lines in HEAD when you resolve the conflict.",
    "created_at": "2021-11-26T15:09:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345377",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>so just use the lines in HEAD when you resolve the conflict.



---

archive/issue_comments_345378.json:
```json
{
    "body": "<a id='comment:20'></a>sorry - if these `.complete()` things are in the ticket's branch the you need  to do the obvious editing.",
    "created_at": "2021-11-26T15:12:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345378",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>sorry - if these `.complete()` things are in the ticket's branch the you need  to do the obvious editing.



---

archive/issue_comments_345379.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-11-29T07:30:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345379",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_345380.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-29T17:49:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345380",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345381.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-11-30T19:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345381",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_345382.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-12-03T13:24:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345382",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_345383.json:
```json
{
    "body": "<a id='comment:24'></a>clean up is needed:\n\n```\n% tox -e pycodestyle --  src/sage/geometry/hyperbolic_space/hyperbolic_geodesic.py\npycodestyle recreate: /Users/dima/sage/.tox/src\npycodestyle run-test-pre: PYTHONHASHSEED='3653170419'\npycodestyle run-test: commands[0] | tox -c /Users/dima/sage/src/tox.ini -e pycodestyle -- src/sage/geometry/hyperbolic_space/hyperbolic_geodesic.py\npycodestyle create: /Users/dima/sage/src/.tox/pycodestyle\npycodestyle installdeps: pycodestyle\npycodestyle installed: pycodestyle==2.8.0\npycodestyle run-test-pre: PYTHONHASHSEED='400015120'\npycodestyle run-test: commands[0] | pycodestyle sage/geometry/hyperbolic_space/hyperbolic_geodesic.py\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1043:1: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1045:1: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1155:1: W293 blank line contains whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1358:1: W293 blank line contains whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1388:1: W293 blank line contains whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1395:1: W293 blank line contains whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1401:1: W293 blank line contains whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1407:1: W293 blank line contains whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1413:1: W293 blank line contains whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1419:1: W293 blank line contains whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1425:1: W293 blank line contains whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1431:1: W293 blank line contains whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1443:1: W293 blank line contains whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1449:1: W293 blank line contains whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1455:1: W293 blank line contains whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1460:25: E225 missing whitespace around operator\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1462:9: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1467:9: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1468:9: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1469:42: E261 at least two spaces before inline comment\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1469:43: E262 inline comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1470:20: E231 missing whitespace after ','\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1470:43: W291 trailing whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1473:24: E231 missing whitespace after ','\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1474:9: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1475:9: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1477:20: E231 missing whitespace after ','\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1480:24: E231 missing whitespace after ','\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1483:23: E225 missing whitespace around operator\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1483:42: E225 missing whitespace around operator\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1486:17: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1488:21: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1489:28: E231 missing whitespace after ','\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1489:46: E231 missing whitespace after ','\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1491:25: E225 missing whitespace around operator\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1494:52: E231 missing whitespace after ','\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1494:59: E261 at least two spaces before inline comment\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1494:60: E262 inline comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1495:34: E225 missing whitespace around operator\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1500:17: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1501:17: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1502:34: E225 missing whitespace around operator\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1503:28: E231 missing whitespace after ','\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1505:25: E225 missing whitespace around operator\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1507:34: E225 missing whitespace around operator\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1512:13: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1513:13: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1514:30: E225 missing whitespace around operator\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1515:24: E231 missing whitespace after ','\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1518:17: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1532:21: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1533:29: E225 missing whitespace around operator\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1537:42: E225 missing whitespace around operator\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1537:52: E225 missing whitespace around operator\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1537:85: E225 missing whitespace around operator\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1537:95: E225 missing whitespace around operator\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1874:1: W293 blank line contains whitespace\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:2031:13: E741 ambiguous variable name 'I'\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:2036:13: E741 ambiguous variable name 'I'\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:2143:1: E265 block comment should start with '# '\nsage/geometry/hyperbolic_space/hyperbolic_geodesic.py:2145:1: E265 block comment should start with '# '\n14      E225 missing whitespace around operator\n9       E231 missing whitespace after ','\n2       E261 at least two spaces before inline comment\n2       E262 inline comment should start with '# '\n17      E265 block comment should start with '# '\n2       E741 ambiguous variable name 'I'\n1       W291 trailing whitespace\n14      W293 blank line contains whitespace\nERROR: InvocationError for command /Users/dima/sage/src/.tox/pycodestyle/bin/pycodestyle sage/geometry/hyperbolic_space/hyperbolic_geodesic.py (exited with code 1)\n______________________________ summary _______________________________\nERROR:   pycodestyle: commands failed\nERROR: InvocationError for command /usr/local/bin/tox -c src/tox.ini -e pycodestyle -- src/sage/geometry/hyperbolic_space/hyperbolic_geodesic.py (exited with code 1)\n```\n\nall of these except E741 can be trivially fixed. (Leave E741 as is).",
    "created_at": "2021-12-03T13:24:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345383",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>clean up is needed:

```
% tox -e pycodestyle --  src/sage/geometry/hyperbolic_space/hyperbolic_geodesic.py
pycodestyle recreate: /Users/dima/sage/.tox/src
pycodestyle run-test-pre: PYTHONHASHSEED='3653170419'
pycodestyle run-test: commands[0] | tox -c /Users/dima/sage/src/tox.ini -e pycodestyle -- src/sage/geometry/hyperbolic_space/hyperbolic_geodesic.py
pycodestyle create: /Users/dima/sage/src/.tox/pycodestyle
pycodestyle installdeps: pycodestyle
pycodestyle installed: pycodestyle==2.8.0
pycodestyle run-test-pre: PYTHONHASHSEED='400015120'
pycodestyle run-test: commands[0] | pycodestyle sage/geometry/hyperbolic_space/hyperbolic_geodesic.py
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1043:1: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1045:1: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1155:1: W293 blank line contains whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1358:1: W293 blank line contains whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1388:1: W293 blank line contains whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1395:1: W293 blank line contains whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1401:1: W293 blank line contains whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1407:1: W293 blank line contains whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1413:1: W293 blank line contains whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1419:1: W293 blank line contains whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1425:1: W293 blank line contains whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1431:1: W293 blank line contains whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1443:1: W293 blank line contains whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1449:1: W293 blank line contains whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1455:1: W293 blank line contains whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1460:25: E225 missing whitespace around operator
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1462:9: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1467:9: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1468:9: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1469:42: E261 at least two spaces before inline comment
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1469:43: E262 inline comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1470:20: E231 missing whitespace after ','
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1470:43: W291 trailing whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1473:24: E231 missing whitespace after ','
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1474:9: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1475:9: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1477:20: E231 missing whitespace after ','
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1480:24: E231 missing whitespace after ','
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1483:23: E225 missing whitespace around operator
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1483:42: E225 missing whitespace around operator
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1486:17: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1488:21: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1489:28: E231 missing whitespace after ','
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1489:46: E231 missing whitespace after ','
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1491:25: E225 missing whitespace around operator
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1494:52: E231 missing whitespace after ','
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1494:59: E261 at least two spaces before inline comment
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1494:60: E262 inline comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1495:34: E225 missing whitespace around operator
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1500:17: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1501:17: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1502:34: E225 missing whitespace around operator
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1503:28: E231 missing whitespace after ','
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1505:25: E225 missing whitespace around operator
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1507:34: E225 missing whitespace around operator
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1512:13: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1513:13: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1514:30: E225 missing whitespace around operator
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1515:24: E231 missing whitespace after ','
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1518:17: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1532:21: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1533:29: E225 missing whitespace around operator
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1537:42: E225 missing whitespace around operator
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1537:52: E225 missing whitespace around operator
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1537:85: E225 missing whitespace around operator
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1537:95: E225 missing whitespace around operator
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:1874:1: W293 blank line contains whitespace
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:2031:13: E741 ambiguous variable name 'I'
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:2036:13: E741 ambiguous variable name 'I'
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:2143:1: E265 block comment should start with '# '
sage/geometry/hyperbolic_space/hyperbolic_geodesic.py:2145:1: E265 block comment should start with '# '
14      E225 missing whitespace around operator
9       E231 missing whitespace after ','
2       E261 at least two spaces before inline comment
2       E262 inline comment should start with '# '
17      E265 block comment should start with '# '
2       E741 ambiguous variable name 'I'
1       W291 trailing whitespace
14      W293 blank line contains whitespace
ERROR: InvocationError for command /Users/dima/sage/src/.tox/pycodestyle/bin/pycodestyle sage/geometry/hyperbolic_space/hyperbolic_geodesic.py (exited with code 1)
______________________________ summary _______________________________
ERROR:   pycodestyle: commands failed
ERROR: InvocationError for command /usr/local/bin/tox -c src/tox.ini -e pycodestyle -- src/sage/geometry/hyperbolic_space/hyperbolic_geodesic.py (exited with code 1)
```

all of these except E741 can be trivially fixed. (Leave E741 as is).



---

archive/issue_comments_345384.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-06T20:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345384",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_345385.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-12-06T20:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345385",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_345386.json:
```json
{
    "body": "<a id='comment:27'></a>OK, good.",
    "created_at": "2021-12-06T22:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345386",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>OK, good.



---

archive/issue_comments_345387.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-12-06T22:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345387",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_060192.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-19T11:47:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23427#event-60192"
}
```



---

archive/issue_comments_345388.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-12-19T11:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23427#issuecomment-345388",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
