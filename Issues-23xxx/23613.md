# Issue 23613: Doctest failure if $PYTHONPATH is set

archive/issues_023376.json:
```json
{
    "body": "\n```\n./sage -t src/sage/tests/cmdline.py\nRunning doctests with ID 2017-08-11-19-16-39-40d33b31.\nGit branch: test_external_package\nUsing --optional=ccache,mpir,openssl,python2,sage\nDoctesting 1 file.\nsage -t --warn-long 45.3 src/sage/tests/cmdline.py\n**********************************************************************\nFile \"src/sage/tests/cmdline.py\", line 208, in sage.tests.cmdline.test_executable\nFailed example:\n    print(out)\nExpected:\n    Found local metadata for sqlite-...\n    = SQLite =\n    ...\n    SQLite is a software library that implements a self-contained,\n    serverless, zero-configuration, transactional SQL database engine.\n    ...\nGot:\n    Cleaning up PYTHONPATH:\n      Old: \":/Users/mderickx/code:/Users/mderickx/code/lmfdb\"\n      New: \"/Users/mderickx/code:/Users/mderickx/code/lmfdb\"\n    Found local metadata for sqlite-autoconf-3170000\n    = SQLite =\n    <BLANKLINE>\n    == Description ==\n    <BLANKLINE>\n    SQLite is a software library that implements a self-contained,\n    serverless, zero-configuration, transactional SQL database engine.\n    <BLANKLINE>\n    == License ==\n    <BLANKLINE>\n```\n\nAuthor: Maarten Derickx\n\nBranch: u/mderickx/23613\n\nStatus: needs_work\n\nCommit: db40f2285f3a7efa6b493d41a96ec495bd6c421a\n\nIssue created by migration from https://trac.sagemath.org/ticket/23613\n\n",
    "created_at": "2017-08-11T17:41:09Z",
    "labels": [
        "component: scripts",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Doctest failure if $PYTHONPATH is set",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23613",
    "user": "https://github.com/koffie"
}
```

```
./sage -t src/sage/tests/cmdline.py
Running doctests with ID 2017-08-11-19-16-39-40d33b31.
Git branch: test_external_package
Using --optional=ccache,mpir,openssl,python2,sage
Doctesting 1 file.
sage -t --warn-long 45.3 src/sage/tests/cmdline.py
**********************************************************************
File "src/sage/tests/cmdline.py", line 208, in sage.tests.cmdline.test_executable
Failed example:
    print(out)
Expected:
    Found local metadata for sqlite-...
    = SQLite =
    ...
    SQLite is a software library that implements a self-contained,
    serverless, zero-configuration, transactional SQL database engine.
    ...
Got:
    Cleaning up PYTHONPATH:
      Old: ":/Users/mderickx/code:/Users/mderickx/code/lmfdb"
      New: "/Users/mderickx/code:/Users/mderickx/code/lmfdb"
    Found local metadata for sqlite-autoconf-3170000
    = SQLite =
    <BLANKLINE>
    == Description ==
    <BLANKLINE>
    SQLite is a software library that implements a self-contained,
    serverless, zero-configuration, transactional SQL database engine.
    <BLANKLINE>
    == License ==
    <BLANKLINE>
```

Author: Maarten Derickx

Branch: u/mderickx/23613

Status: needs_work

Commit: db40f2285f3a7efa6b493d41a96ec495bd6c421a

Issue created by migration from https://trac.sagemath.org/ticket/23613





---

archive/issue_comments_447092.json:
```json
{
    "body": "<a id='comment:1'></a>\nI thought this would be a quick fix, namely just add\n\n```\n...\n```\nto the doctests in order to account for the error. But it seems that the meaning of `...` is overloaded in doctests, and that the doctest framework sees `...` as an input continuation marker like `....:`.",
    "created_at": "2017-08-11T18:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447092",
    "user": "https://github.com/koffie"
}
```

<a id='comment:1'></a>
I thought this would be a quick fix, namely just add

```
...
```
to the doctests in order to account for the error. But it seems that the meaning of `...` is overloaded in doctests, and that the doctest framework sees `...` as an input continuation marker like `....:`.



---

archive/issue_comments_447093.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-08-11T18:56:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447093",
    "user": "https://github.com/koffie"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_447094.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[d1222c8](https://github.com/sagemath/sagetrac-mirror/commit/d1222c83ae202618c93c2a9892706285e6f4cdde)|`Fix doctest that fails when $PYTHONPATH is set`|",
    "created_at": "2017-08-11T18:56:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447094",
    "user": "https://github.com/koffie"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[d1222c8](https://github.com/sagemath/sagetrac-mirror/commit/d1222c83ae202618c93c2a9892706285e6f4cdde)|`Fix doctest that fails when $PYTHONPATH is set`|



---

archive/issue_comments_447095.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mderickx/trac_23613\"",
    "created_at": "2017-08-11T18:56:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447095",
    "user": "https://github.com/koffie"
}
```

Changing branch from "" to "u/mderickx/trac_23613"



---

archive/issue_comments_447096.json:
```json
{
    "body": "Changing commit from \"\" to \"d1222c83ae202618c93c2a9892706285e6f4cdde\"",
    "created_at": "2017-08-11T18:56:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447096",
    "user": "https://github.com/koffie"
}
```

Changing commit from "" to "d1222c83ae202618c93c2a9892706285e6f4cdde"



---

archive/issue_comments_447097.json:
```json
{
    "body": "Changing author from \"\" to \"Maarten Derickx\"",
    "created_at": "2017-08-13T20:31:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447097",
    "user": "https://github.com/koffie"
}
```

Changing author from "" to "Maarten Derickx"



---

archive/issue_comments_447098.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe workaround apparently doesn't work in combination with -tp",
    "created_at": "2017-08-13T23:29:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447098",
    "user": "https://github.com/koffie"
}
```

<a id='comment:4'></a>
The workaround apparently doesn't work in combination with -tp



---

archive/issue_comments_447099.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-08-13T23:29:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447099",
    "user": "https://github.com/koffie"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_447100.json:
```json
{
    "body": "Changing branch from \"u/mderickx/trac_23613\" to \"u/mderickx/23613\"",
    "created_at": "2017-08-14T01:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447100",
    "user": "https://github.com/koffie"
}
```

Changing branch from "u/mderickx/trac_23613" to "u/mderickx/23613"



---

archive/issue_comments_447101.json:
```json
{
    "body": "Changing commit from \"d1222c83ae202618c93c2a9892706285e6f4cdde\" to \"db40f2285f3a7efa6b493d41a96ec495bd6c421a\"",
    "created_at": "2017-08-14T01:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447101",
    "user": "https://github.com/koffie"
}
```

Changing commit from "d1222c83ae202618c93c2a9892706285e6f4cdde" to "db40f2285f3a7efa6b493d41a96ec495bd6c421a"



---

archive/issue_comments_447102.json:
```json
{
    "body": "<a id='comment:5'></a>\nNew commits:\n|                                                                                                                                          |                                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[db40f22](https://github.com/sagemath/sagetrac-mirror/commit/db40f2285f3a7efa6b493d41a96ec495bd6c421a)|`Fix doctest that fails when $PYTHONPATH is set: trac #23613`|",
    "created_at": "2017-08-14T01:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447102",
    "user": "https://github.com/koffie"
}
```

<a id='comment:5'></a>
New commits:
|                                                                                                                                          |                                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[db40f22](https://github.com/sagemath/sagetrac-mirror/commit/db40f2285f3a7efa6b493d41a96ec495bd6c421a)|`Fix doctest that fails when $PYTHONPATH is set: trac #23613`|



---

archive/issue_comments_447103.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-08-14T01:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447103",
    "user": "https://github.com/koffie"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_447104.json:
```json
{
    "body": "Changing keywords from \"\" to \"beginner\".",
    "created_at": "2017-09-15T16:50:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447104",
    "user": "https://github.com/koffie"
}
```

Changing keywords from "" to "beginner".



---

archive/issue_comments_447105.json:
```json
{
    "body": "<a id='comment:8'></a>\nMerge conflict with #27635",
    "created_at": "2019-08-23T16:21:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447105",
    "user": "https://github.com/kevinywlui"
}
```

<a id='comment:8'></a>
Merge conflict with #27635



---

archive/issue_comments_447106.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-08-23T16:21:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447106",
    "user": "https://github.com/kevinywlui"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_447107.json:
```json
{
    "body": "<a id='comment:9'></a>\nRemoving the \"beginner\" tag from old tickets. Some could be returned to beginner-friendly status by adding a comment about what needs to be done. Some others might be easy for an experienced developer to finish.",
    "created_at": "2020-05-27T02:51:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447107",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:9'></a>
Removing the "beginner" tag from old tickets. Some could be returned to beginner-friendly status by adding a comment about what needs to be done. Some others might be easy for an experienced developer to finish.



---

archive/issue_comments_447108.json:
```json
{
    "body": "Changing keywords from \"beginner\" to \"\".",
    "created_at": "2020-05-27T02:51:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23613#issuecomment-447108",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing keywords from "beginner" to "".
