# Issue 23099: Use rational_cuspidal_subgroup to compute a divisor of the rational torsion order of an modular abelian variety

archive/issues_022862.json:
```json
{
    "assignees": [],
    "body": "There are 2 subgroups of the rational torsion subgroup of a modular abelian variety that Sage can compute. The rational cuspidal subgroup is the intersection of the rational subgroup subgroup and the cuspidal subgroup. The rational cusp subgroup is the group generated by differences of rational cusps. \n\nThe rational cusps subgroup is a subgroup of the rational cuspidal subgroup. The divisor_of_order method for rational torsion subgroups should use the order of the rational cuspidal subgroup instead of the order of the rational cusp subgroup.\n\nThis is a change that is actually useful. Consider the case of J0(45)\n\n```\nsage: J = J0(45)\nsage: J.rational_cusp_subgroup().order()\n32\nsage: J.rational_cuspidal_subgroup().order()\n64\nsage: J.rational_torsion_subgroup().divisor_of_order()\n32\n```\nThis is the first J0(N) where they differ.\n\nKeywords: **modular abelian variety, cuspidal subgroup, sd87**\n\nBranch/Commit: **[`8574c97`](https://github.com/sagemath/sagetrac-mirror/commit/8574c9751553dd427050811223b7a64d43982bd2)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Kevin Lui**\n\nComponent: **modular forms**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23099_\n\n",
    "closed_at": "2017-08-03T22:11:35Z",
    "created_at": "2017-05-30T05:28:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20modular%20forms",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Use rational_cuspidal_subgroup to compute a divisor of the rational torsion order of an modular abelian variety",
    "type": "issue",
    "updated_at": "2017-08-03T22:11:35Z",
    "url": "https://github.com/sagemath/sage/issues/23099",
    "user": "https://github.com/kevinywlui"
}
```
There are 2 subgroups of the rational torsion subgroup of a modular abelian variety that Sage can compute. The rational cuspidal subgroup is the intersection of the rational subgroup subgroup and the cuspidal subgroup. The rational cusp subgroup is the group generated by differences of rational cusps. 

The rational cusps subgroup is a subgroup of the rational cuspidal subgroup. The divisor_of_order method for rational torsion subgroups should use the order of the rational cuspidal subgroup instead of the order of the rational cusp subgroup.

This is a change that is actually useful. Consider the case of J0(45)

```
sage: J = J0(45)
sage: J.rational_cusp_subgroup().order()
32
sage: J.rational_cuspidal_subgroup().order()
64
sage: J.rational_torsion_subgroup().divisor_of_order()
32
```
This is the first J0(N) where they differ.

Keywords: **modular abelian variety, cuspidal subgroup, sd87**

Branch/Commit: **[`8574c97`](https://github.com/sagemath/sagetrac-mirror/commit/8574c9751553dd427050811223b7a64d43982bd2)**

Reviewer: **Frédéric Chapoton**

Author: **Kevin Lui**

Component: **modular forms**

_Issue created by migration from https://trac.sagemath.org/ticket/23099_





---

archive/issue_events_322046.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2017-05-30T05:28:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23099#event-322046"
}
```



---

archive/issue_events_322047.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2017-05-30T05:28:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20modular%20forms",
    "label_color": "0000ff",
    "label_name": "c: modular forms",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23099#event-322047"
}
```



---

archive/issue_events_322048.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2017-05-30T05:28:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23099#event-322048"
}
```



---

archive/issue_events_322049.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2017-05-30T05:28:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23099#event-322049"
}
```



---

archive/issue_events_322050.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2017-05-30T05:40:22Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "title_is": "Use rational_cuspidal_subgroup to compute a divisor of the rational torsion order",
    "title_was": "Use rational_cuspidal_subgroup instead of rational_cusp_subgroup to compute a divisor of the rational torsion order of a modular abelian variety",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23099#event-322050"
}
```



---

archive/issue_comments_345946.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-The rational cusp subgroup is a subgroup of the rational cuspidal subgroup. We should use the rational cuspidal subgroup since that could lead to a better bound.\n+The rational cusp subgroup is a subgroup of the rational cuspidal subgroup. We should use the rational cuspidal subgroup instead of the rational cusp subgroup since that could lead to a better bound.\n``````\n",
    "created_at": "2017-05-30T05:40:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23099#issuecomment-345946",
    "user": "https://github.com/kevinywlui"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-The rational cusp subgroup is a subgroup of the rational cuspidal subgroup. We should use the rational cuspidal subgroup since that could lead to a better bound.
+The rational cusp subgroup is a subgroup of the rational cuspidal subgroup. We should use the rational cuspidal subgroup instead of the rational cusp subgroup since that could lead to a better bound.
``````




---

archive/issue_events_322051.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2017-07-19T04:52:20Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "title_is": "Use rational_cuspidal_subgroup to compute a divisor of the rational torsion order of an modular abelian variety",
    "title_was": "Use rational_cuspidal_subgroup to compute a divisor of the rational torsion order",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23099#event-322051"
}
```



---

archive/issue_comments_345947.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,16 @@\n-The rational cusp subgroup is a subgroup of the rational cuspidal subgroup. We should use the rational cuspidal subgroup instead of the rational cusp subgroup since that could lead to a better bound.\n+There are 2 subgroups of the rational torsion subgroup of a modular abelian variety that Sage can compute. The rational cuspidal subgroup is the intersection of the rational subgroup subgroup and the cuspidal subgroup. The rational cusp subgroup is the group generated by differences of rational cusps. \n+\n+The rational cusps subgroup is a subgroup of the rational cuspidal subgroup. The divisor_of_order method for rational torsion subgroups should use the order of the rational cuspidal subgroup instead of the order of the rational cusp subgroup.\n+\n+This is a change that is actually useful. Consider the case of J0(45)\n+\n+```\n+sage: J = J0(45)\n+sage: J.rational_cusp_subgroup().order()\n+32\n+sage: J.rational_cuspidal_subgroup().order()\n+64\n+sage: J.rational_torsion_subgroup().divisor_of_order()\n+32\n+```\n+This is the first J0(N) where they differ.\n``````\n",
    "created_at": "2017-07-19T04:52:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23099#issuecomment-345947",
    "user": "https://github.com/kevinywlui"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,16 @@
-The rational cusp subgroup is a subgroup of the rational cuspidal subgroup. We should use the rational cuspidal subgroup instead of the rational cusp subgroup since that could lead to a better bound.
+There are 2 subgroups of the rational torsion subgroup of a modular abelian variety that Sage can compute. The rational cuspidal subgroup is the intersection of the rational subgroup subgroup and the cuspidal subgroup. The rational cusp subgroup is the group generated by differences of rational cusps. 
+
+The rational cusps subgroup is a subgroup of the rational cuspidal subgroup. The divisor_of_order method for rational torsion subgroups should use the order of the rational cuspidal subgroup instead of the order of the rational cusp subgroup.
+
+This is a change that is actually useful. Consider the case of J0(45)
+
+```
+sage: J = J0(45)
+sage: J.rational_cusp_subgroup().order()
+32
+sage: J.rational_cuspidal_subgroup().order()
+64
+sage: J.rational_torsion_subgroup().divisor_of_order()
+32
+```
+This is the first J0(N) where they differ.
``````




---

archive/issue_comments_345948.json:
```json
{
    "body": "Changed keywords from none to **modular abelian variety, cuspidal subgroup, sd87**",
    "created_at": "2017-07-19T04:52:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23099#issuecomment-345948",
    "user": "https://github.com/kevinywlui"
}
```

Changed keywords from none to **modular abelian variety, cuspidal subgroup, sd87**



---

archive/issue_comments_345949.json:
```json
{
    "body": "Branch: **[u/klui/use_rational_cuspidal_subgroup_to_compute_a_divisor_of_the_rational_torsion_order](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/use_rational_cuspidal_subgroup_to_compute_a_divisor_of_the_rational_torsion_order)**",
    "created_at": "2017-07-19T05:39:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23099#issuecomment-345949",
    "user": "https://github.com/kevinywlui"
}
```

Branch: **[u/klui/use_rational_cuspidal_subgroup_to_compute_a_divisor_of_the_rational_torsion_order](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/use_rational_cuspidal_subgroup_to_compute_a_divisor_of_the_rational_torsion_order)**



---

archive/issue_events_322052.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2017-07-19T05:57:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23099#event-322052"
}
```



---

archive/issue_comments_345950.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8574c9751553dd427050811223b7a64d43982bd2\">8574c97</a></td><td><code>use rational cuspidal subgroup instead of rational cusp subgroup</code></td></tr></table>\n",
    "created_at": "2017-07-19T05:57:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23099#issuecomment-345950",
    "user": "https://github.com/kevinywlui"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8574c9751553dd427050811223b7a64d43982bd2">8574c97</a></td><td><code>use rational cuspidal subgroup instead of rational cusp subgroup</code></td></tr></table>




---

archive/issue_comments_345951.json:
```json
{
    "body": "Commit: **[`8574c97`](https://github.com/sagemath/sagetrac-mirror/commit/8574c9751553dd427050811223b7a64d43982bd2)**",
    "created_at": "2017-07-19T05:57:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23099#issuecomment-345951",
    "user": "https://github.com/kevinywlui"
}
```

Commit: **[`8574c97`](https://github.com/sagemath/sagetrac-mirror/commit/8574c9751553dd427050811223b7a64d43982bd2)**



---

archive/issue_events_322053.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-07-19T19:08:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23099#event-322053"
}
```



---

archive/issue_events_322054.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-07-19T19:08:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23099#event-322054"
}
```



---

archive/issue_comments_345952.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2017-07-19T19:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23099#issuecomment-345952",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_comments_345953.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nok, assuming that you know what you do.\n\nBy the way, the related old ticket #6925 needs care.",
    "created_at": "2017-07-19T19:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23099#issuecomment-345953",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

ok, assuming that you know what you do.

By the way, the related old ticket #6925 needs care.



---

archive/issue_comments_345954.json:
```json
{
    "body": "Author: **Kevin Lui**",
    "created_at": "2017-07-19T19:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23099#issuecomment-345954",
    "user": "https://github.com/fchapoton"
}
```

Author: **Kevin Lui**



---

archive/issue_comments_345955.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI'll look into that ticket now.",
    "created_at": "2017-07-19T19:49:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23099#issuecomment-345955",
    "user": "https://github.com/kevinywlui"
}
```

<div id="comment:6" align="right">comment:6</div>

I'll look into that ticket now.



---

archive/issue_events_322055.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-03T22:11:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23099#event-322055"
}
```



---

archive/issue_events_322056.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "34d1925be4cd4a515f1902b8d4ab95d37662aa86",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-08-03T22:11:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23099#event-322056"
}
```



---

archive/issue_comments_345956.json:
```json
{
    "body": "Changed branch from **[u/klui/use_rational_cuspidal_subgroup_to_compute_a_divisor_of_the_rational_torsion_order](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/use_rational_cuspidal_subgroup_to_compute_a_divisor_of_the_rational_torsion_order)** to **[`8574c97`](https://github.com/sagemath/sagetrac-mirror/commit/8574c9751553dd427050811223b7a64d43982bd2)**",
    "created_at": "2017-08-03T22:11:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23099#issuecomment-345956",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/klui/use_rational_cuspidal_subgroup_to_compute_a_divisor_of_the_rational_torsion_order](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/use_rational_cuspidal_subgroup_to_compute_a_divisor_of_the_rational_torsion_order)** to **[`8574c97`](https://github.com/sagemath/sagetrac-mirror/commit/8574c9751553dd427050811223b7a64d43982bd2)**
