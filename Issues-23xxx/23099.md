# Issue 23099: Use rational_cuspidal_subgroup to compute a divisor of the rational torsion order of an modular abelian variety

archive/issues_022862.json:
```json
{
    "body": "There are 2 subgroups of the rational torsion subgroup of a modular abelian variety that Sage can compute. The rational cuspidal subgroup is the intersection of the rational subgroup subgroup and the cuspidal subgroup. The rational cusp subgroup is the group generated by differences of rational cusps. \n\nThe rational cusps subgroup is a subgroup of the rational cuspidal subgroup. The divisor_of_order method for rational torsion subgroups should use the order of the rational cuspidal subgroup instead of the order of the rational cusp subgroup.\n\nThis is a change that is actually useful. Consider the case of J0(45)\n\n```\nsage: J = J0(45)\nsage: J.rational_cusp_subgroup().order()\n32\nsage: J.rational_cuspidal_subgroup().order()\n64\nsage: J.rational_torsion_subgroup().divisor_of_order()\n32\n```\nThis is the first J0(N) where they differ.\n\nKeywords: modular abelian variety, cuspidal subgroup, sd87\n\nBranch/Commit: 8574c9751553dd427050811223b7a64d43982bd2\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Kevin Lui\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23099\n\n",
    "closed_at": "2017-08-03T22:11:35Z",
    "created_at": "2017-05-30T05:28:36Z",
    "labels": [
        "component: modular forms",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Use rational_cuspidal_subgroup to compute a divisor of the rational torsion order of an modular abelian variety",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23099",
    "user": "https://github.com/kevinywlui"
}
```
There are 2 subgroups of the rational torsion subgroup of a modular abelian variety that Sage can compute. The rational cuspidal subgroup is the intersection of the rational subgroup subgroup and the cuspidal subgroup. The rational cusp subgroup is the group generated by differences of rational cusps. 

The rational cusps subgroup is a subgroup of the rational cuspidal subgroup. The divisor_of_order method for rational torsion subgroups should use the order of the rational cuspidal subgroup instead of the order of the rational cusp subgroup.

This is a change that is actually useful. Consider the case of J0(45)

```
sage: J = J0(45)
sage: J.rational_cusp_subgroup().order()
32
sage: J.rational_cuspidal_subgroup().order()
64
sage: J.rational_torsion_subgroup().divisor_of_order()
32
```
This is the first J0(N) where they differ.

Keywords: modular abelian variety, cuspidal subgroup, sd87

Branch/Commit: 8574c9751553dd427050811223b7a64d43982bd2

Reviewer: Frédéric Chapoton

Author: Kevin Lui

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23099





---

archive/issue_comments_433036.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-The rational cusp subgroup is a subgroup of the rational cuspidal subgroup. We should use the rational cuspidal subgroup since that could lead to a better bound.\n+The rational cusp subgroup is a subgroup of the rational cuspidal subgroup. We should use the rational cuspidal subgroup instead of the rational cusp subgroup since that could lead to a better bound.\n``````\n",
    "created_at": "2017-05-30T05:40:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23099#issuecomment-433036",
    "user": "https://github.com/kevinywlui"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-The rational cusp subgroup is a subgroup of the rational cuspidal subgroup. We should use the rational cuspidal subgroup since that could lead to a better bound.
+The rational cusp subgroup is a subgroup of the rational cuspidal subgroup. We should use the rational cuspidal subgroup instead of the rational cusp subgroup since that could lead to a better bound.
``````




---

archive/issue_comments_433037.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,16 @@\n-The rational cusp subgroup is a subgroup of the rational cuspidal subgroup. We should use the rational cuspidal subgroup instead of the rational cusp subgroup since that could lead to a better bound.\n+There are 2 subgroups of the rational torsion subgroup of a modular abelian variety that Sage can compute. The rational cuspidal subgroup is the intersection of the rational subgroup subgroup and the cuspidal subgroup. The rational cusp subgroup is the group generated by differences of rational cusps. \n+\n+The rational cusps subgroup is a subgroup of the rational cuspidal subgroup. The divisor_of_order method for rational torsion subgroups should use the order of the rational cuspidal subgroup instead of the order of the rational cusp subgroup.\n+\n+This is a change that is actually useful. Consider the case of J0(45)\n+\n+```\n+sage: J = J0(45)\n+sage: J.rational_cusp_subgroup().order()\n+32\n+sage: J.rational_cuspidal_subgroup().order()\n+64\n+sage: J.rational_torsion_subgroup().divisor_of_order()\n+32\n+```\n+This is the first J0(N) where they differ.\n``````\n",
    "created_at": "2017-07-19T04:52:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23099#issuecomment-433037",
    "user": "https://github.com/kevinywlui"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,16 @@
-The rational cusp subgroup is a subgroup of the rational cuspidal subgroup. We should use the rational cuspidal subgroup instead of the rational cusp subgroup since that could lead to a better bound.
+There are 2 subgroups of the rational torsion subgroup of a modular abelian variety that Sage can compute. The rational cuspidal subgroup is the intersection of the rational subgroup subgroup and the cuspidal subgroup. The rational cusp subgroup is the group generated by differences of rational cusps. 
+
+The rational cusps subgroup is a subgroup of the rational cuspidal subgroup. The divisor_of_order method for rational torsion subgroups should use the order of the rational cuspidal subgroup instead of the order of the rational cusp subgroup.
+
+This is a change that is actually useful. Consider the case of J0(45)
+
+```
+sage: J = J0(45)
+sage: J.rational_cusp_subgroup().order()
+32
+sage: J.rational_cuspidal_subgroup().order()
+64
+sage: J.rational_torsion_subgroup().divisor_of_order()
+32
+```
+This is the first J0(N) where they differ.
``````




---

archive/issue_comments_433038.json:
```json
{
    "body": "Changing keywords from \"\" to \"modular abelian variety, cuspidal subgroup, sd87\".",
    "created_at": "2017-07-19T04:52:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23099#issuecomment-433038",
    "user": "https://github.com/kevinywlui"
}
```

Changing keywords from "" to "modular abelian variety, cuspidal subgroup, sd87".



---

archive/issue_comments_433039.json:
```json
{
    "body": "Changing branch from \"\" to \"u/klui/use_rational_cuspidal_subgroup_to_compute_a_divisor_of_the_rational_torsion_order\"",
    "created_at": "2017-07-19T05:39:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23099#issuecomment-433039",
    "user": "https://github.com/kevinywlui"
}
```

Changing branch from "" to "u/klui/use_rational_cuspidal_subgroup_to_compute_a_divisor_of_the_rational_torsion_order"



---

archive/issue_comments_433040.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-07-19T05:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23099#issuecomment-433040",
    "user": "https://github.com/kevinywlui"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_433041.json:
```json
{
    "body": "<a id='comment:4'></a>\nNew commits:\n|                                                                                                                                          |                                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|\n|[8574c97](https://git.sagemath.org/sage.git/commit?id=8574c9751553dd427050811223b7a64d43982bd2)|`use rational cuspidal subgroup instead of rational cusp subgroup`|",
    "created_at": "2017-07-19T05:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23099#issuecomment-433041",
    "user": "https://github.com/kevinywlui"
}
```

<a id='comment:4'></a>
New commits:
|                                                                                                                                          |                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
|[8574c97](https://git.sagemath.org/sage.git/commit?id=8574c9751553dd427050811223b7a64d43982bd2)|`use rational cuspidal subgroup instead of rational cusp subgroup`|



---

archive/issue_comments_433042.json:
```json
{
    "body": "Changing commit from \"\" to \"8574c9751553dd427050811223b7a64d43982bd2\"",
    "created_at": "2017-07-19T05:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23099#issuecomment-433042",
    "user": "https://github.com/kevinywlui"
}
```

Changing commit from "" to "8574c9751553dd427050811223b7a64d43982bd2"



---

archive/issue_comments_433043.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-07-19T19:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23099#issuecomment-433043",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_433044.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2017-07-19T19:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23099#issuecomment-433044",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_433045.json:
```json
{
    "body": "<a id='comment:5'></a>\nok, assuming that you know what you do.\n\nBy the way, the related old ticket #6925 needs care.",
    "created_at": "2017-07-19T19:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23099#issuecomment-433045",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
ok, assuming that you know what you do.

By the way, the related old ticket #6925 needs care.



---

archive/issue_comments_433046.json:
```json
{
    "body": "Changing author from \"\" to \"Kevin Lui\"",
    "created_at": "2017-07-19T19:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23099#issuecomment-433046",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "" to "Kevin Lui"



---

archive/issue_comments_433047.json:
```json
{
    "body": "<a id='comment:6'></a>\nI'll look into that ticket now.",
    "created_at": "2017-07-19T19:49:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23099#issuecomment-433047",
    "user": "https://github.com/kevinywlui"
}
```

<a id='comment:6'></a>
I'll look into that ticket now.



---

archive/issue_events_059757.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-03T22:11:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23099#event-59757"
}
```



---

archive/issue_comments_433048.json:
```json
{
    "body": "Changing branch from \"u/klui/use_rational_cuspidal_subgroup_to_compute_a_divisor_of_the_rational_torsion_order\" to \"8574c9751553dd427050811223b7a64d43982bd2\"",
    "created_at": "2017-08-03T22:11:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23099#issuecomment-433048",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/klui/use_rational_cuspidal_subgroup_to_compute_a_divisor_of_the_rational_torsion_order" to "8574c9751553dd427050811223b7a64d43982bd2"



---

archive/issue_comments_433049.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-08-03T22:11:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23099#issuecomment-433049",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
