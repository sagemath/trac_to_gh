# Issue 23250: $(PYTHON) should be a dependency of Singular

archive/issues_023013.json:
```json
{
    "body": "Sometimes when doing a parallel build on Cygwin, the Singular build will fail if it tries to build the \"pyobject\" module before Python itself has finished building.\n\nBecause all symbols must be resolved at link time when building shared modules on Windows, this will fail on Windows but not on other platforms (especially if they already happen to have the Python headers on their system which most Sage developers will).\n\nBranch/Commit: bd2c806a88eb75c1d709b5194265ef6ea2b8159d\n\nReviewer: Jeroen Demeyer\n\nAuthor: Erik Bray\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23250\n\n",
    "closed_at": "2017-06-16T16:45:48Z",
    "created_at": "2017-06-15T15:57:48Z",
    "labels": [
        "component: porting: cygwin",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "$(PYTHON) should be a dependency of Singular",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23250",
    "user": "https://github.com/embray"
}
```
Sometimes when doing a parallel build on Cygwin, the Singular build will fail if it tries to build the "pyobject" module before Python itself has finished building.

Because all symbols must be resolved at link time when building shared modules on Windows, this will fail on Windows but not on other platforms (especially if they already happen to have the Python headers on their system which most Sage developers will).

Branch/Commit: bd2c806a88eb75c1d709b5194265ef6ea2b8159d

Reviewer: Jeroen Demeyer

Author: Erik Bray

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23250





---

archive/issue_comments_431094.json:
```json
{
    "body": "Changing author from \"\" to \"Erik Bray\"",
    "created_at": "2017-06-15T16:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23250#issuecomment-431094",
    "user": "https://github.com/embray"
}
```

Changing author from "" to "Erik Bray"



---

archive/issue_comments_431095.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-06-15T16:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23250#issuecomment-431095",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_431096.json:
```json
{
    "body": "Changing branch from \"\" to \"u/embray/cygwin/ticket-23250\"",
    "created_at": "2017-06-15T16:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23250#issuecomment-431096",
    "user": "https://github.com/embray"
}
```

Changing branch from "" to "u/embray/cygwin/ticket-23250"



---

archive/issue_comments_431097.json:
```json
{
    "body": "<a id='comment:1'></a>\nAFAICT this doesn't cause any problems.",
    "created_at": "2017-06-15T16:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23250#issuecomment-431097",
    "user": "https://github.com/embray"
}
```

<a id='comment:1'></a>
AFAICT this doesn't cause any problems.



---

archive/issue_comments_431098.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|\n|[bd2c806](https://github.com/sagemath/sagetrac-mirror/commit/bd2c806a88eb75c1d709b5194265ef6ea2b8159d)|`Python should be a dependency of Singular for building its pyobject module, especially on Cygwin`|",
    "created_at": "2017-06-15T16:03:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23250#issuecomment-431098",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|
|[bd2c806](https://github.com/sagemath/sagetrac-mirror/commit/bd2c806a88eb75c1d709b5194265ef6ea2b8159d)|`Python should be a dependency of Singular for building its pyobject module, especially on Cygwin`|



---

archive/issue_comments_431099.json:
```json
{
    "body": "Changing commit from \"\" to \"bd2c806a88eb75c1d709b5194265ef6ea2b8159d\"",
    "created_at": "2017-06-15T16:03:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23250#issuecomment-431099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "bd2c806a88eb75c1d709b5194265ef6ea2b8159d"



---

archive/issue_comments_431100.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2017-06-15T20:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23250#issuecomment-431100",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_431101.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-15T20:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23250#issuecomment-431101",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_431102.json:
```json
{
    "body": "<a id='comment:3'></a>\nI wasn't aware that Singular had a Python module. But apparently, it does, so it should be a dependency.",
    "created_at": "2017-06-15T20:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23250#issuecomment-431102",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>
I wasn't aware that Singular had a Python module. But apparently, it does, so it should be a dependency.



---

archive/issue_comments_431103.json:
```json
{
    "body": "<a id='comment:4'></a>\nI was aware it existed. As far as I remember it is only python2 and I thought it was disabled by default. If I remember correctly it allows you to make python calls from singular.",
    "created_at": "2017-06-15T23:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23250#issuecomment-431103",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:4'></a>
I was aware it existed. As far as I remember it is only python2 and I thought it was disabled by default. If I remember correctly it allows you to make python calls from singular.



---

archive/issue_comments_431104.json:
```json
{
    "body": "<a id='comment:5'></a>\nAh, I see.  I wasn't exactly sure what it was for either and figured that Sage must use it *somehow* but I guess not.  I was definitely aware it existed because I need to make some tweaks to it when I was fixing Singular's build system to work on Cygwin.",
    "created_at": "2017-06-16T08:05:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23250#issuecomment-431104",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
Ah, I see.  I wasn't exactly sure what it was for either and figured that Sage must use it *somehow* but I guess not.  I was definitely aware it existed because I need to make some tweaks to it when I was fixing Singular's build system to work on Cygwin.



---

archive/issue_events_075999.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-16T16:45:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23250",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23250#event-75999"
}
```



---

archive/issue_comments_431105.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-06-16T16:45:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23250#issuecomment-431105",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_431106.json:
```json
{
    "body": "Changing branch from \"u/embray/cygwin/ticket-23250\" to \"bd2c806a88eb75c1d709b5194265ef6ea2b8159d\"",
    "created_at": "2017-06-16T16:45:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23250#issuecomment-431106",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/embray/cygwin/ticket-23250" to "bd2c806a88eb75c1d709b5194265ef6ea2b8159d"
