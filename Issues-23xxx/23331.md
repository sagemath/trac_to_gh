# Issue 23331: Allow exact defining polynomials for p-adic extensions

archive/issues_023094.json:
```json
{
    "body": "Currently, the defining polynomial of a p-adic extension always has coefficients over the base ring:\n\n```\nsage: R.<x> = ZZ[]\nsage: W.<w> = Zp(5).extension(x^2 - 5)\nsage: W.defining_polynomial().base_ring()\n5-adic Ring with capped relative precision 20\n```\n\nThis is fine, one would expect the defining polynomial to have coefficients in the base ring but we would also like to have access to the exact polynomial. To make this consistent, we should always keep two polynomials: a defining polynomial and an exact polynomial.\n\nThe defining polynomial has coefficients over the base ring. It is not part of the key used in the factory as it can be recovered from the exact polynomial.\n\nThe exact polynomial has coefficients in a number field: For extension of !Zp/Qp, the coefficients are in QQ. For two step extensions, the coefficients are in the absolute number field defined by the exact polynomial of the base ring. For more general extensions, the coefficients are in the tower of number fields, defined by the exact polynomials.\n\nThe exact polynomial is part of the key used in the factory. Two fields with different exact polynomial but same defining polynomial are different. This makes sense because they behave differently with respect to `change()` when changing the precision.\n\nFor extensions constructed from a modulus with inexact coefficients (in the base ring) we just set the exact polynomial to an approximation of the modulus.\n\nCC:  @saraedum\n\nKeywords: sd87\n\nBranch/Commit: 561f5ac333b00f5e4a2ee70b82e2b5e4965876b3\n\nReviewer: Julian R\u00fcth\n\nAuthor: David Roe\n\nDependencies: #20073\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23331\n\n",
    "closed_at": "2017-08-04T18:21:34Z",
    "created_at": "2017-06-27T23:25:45Z",
    "labels": [
        "component: padics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Allow exact defining polynomials for p-adic extensions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23331",
    "user": "https://github.com/roed314"
}
```
Currently, the defining polynomial of a p-adic extension always has coefficients over the base ring:

```
sage: R.<x> = ZZ[]
sage: W.<w> = Zp(5).extension(x^2 - 5)
sage: W.defining_polynomial().base_ring()
5-adic Ring with capped relative precision 20
```

This is fine, one would expect the defining polynomial to have coefficients in the base ring but we would also like to have access to the exact polynomial. To make this consistent, we should always keep two polynomials: a defining polynomial and an exact polynomial.

The defining polynomial has coefficients over the base ring. It is not part of the key used in the factory as it can be recovered from the exact polynomial.

The exact polynomial has coefficients in a number field: For extension of !Zp/Qp, the coefficients are in QQ. For two step extensions, the coefficients are in the absolute number field defined by the exact polynomial of the base ring. For more general extensions, the coefficients are in the tower of number fields, defined by the exact polynomials.

The exact polynomial is part of the key used in the factory. Two fields with different exact polynomial but same defining polynomial are different. This makes sense because they behave differently with respect to `change()` when changing the precision.

For extensions constructed from a modulus with inexact coefficients (in the base ring) we just set the exact polynomial to an approximation of the modulus.

CC:  @saraedum

Keywords: sd87

Branch/Commit: 561f5ac333b00f5e4a2ee70b82e2b5e4965876b3

Reviewer: Julian RÃ¼th

Author: David Roe

Dependencies: #20073

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23331





---

archive/issue_comments_438189.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,7 +7,15 @@\n 5-adic Ring with capped relative precision 20\n ```\n \n-We should allow exact defining polynomials, since they simplify reasoning for the precision of elements and do not impose a maximum precision cap on the extension.\n+This is fine, one would expect the defining polynomial to have coefficients in the base ring but we would also like to have access to the exact polynomial. To make this consistent, we should always keep two polynomials: a defining polynomial and an exact polynomial.\n+\n+The defining polynomial has coefficients over the base ring. It is not part of the key used in the factory as it can be recovered from the exact polynomial.\n+\n+The exact polynomial has coefficients in a number field: For extension of !Zp/Qp, the coefficients are in QQ. For two step extensions, the coefficients are in the absolute number field defined by the exact polynomial of the base ring. For more general extensions, the coefficients are in the tower of number fields, defined by the exact polynomials.\n+\n+The exact polynomial is part of the key used in the factory. Two fields with different exact polynomial but same defining polynomial are different. This makes sense because they behave differently with respect to `change()` when changing the precision.\n+\n+For extensions constructed from a modulus with inexact coefficients (in the base ring) we just set the exact polynomial to an approximation of the modulus.\n \n Comment: 1\n \n``````\n",
    "created_at": "2017-07-17T17:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438189",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,7 +7,15 @@
 5-adic Ring with capped relative precision 20
 ```
 
-We should allow exact defining polynomials, since they simplify reasoning for the precision of elements and do not impose a maximum precision cap on the extension.
+This is fine, one would expect the defining polynomial to have coefficients in the base ring but we would also like to have access to the exact polynomial. To make this consistent, we should always keep two polynomials: a defining polynomial and an exact polynomial.
+
+The defining polynomial has coefficients over the base ring. It is not part of the key used in the factory as it can be recovered from the exact polynomial.
+
+The exact polynomial has coefficients in a number field: For extension of !Zp/Qp, the coefficients are in QQ. For two step extensions, the coefficients are in the absolute number field defined by the exact polynomial of the base ring. For more general extensions, the coefficients are in the tower of number fields, defined by the exact polynomials.
+
+The exact polynomial is part of the key used in the factory. Two fields with different exact polynomial but same defining polynomial are different. This makes sense because they behave differently with respect to `change()` when changing the precision.
+
+For extensions constructed from a modulus with inexact coefficients (in the base ring) we just set the exact polynomial to an approximation of the modulus.
 
 Comment: 1
 
``````




---

archive/issue_comments_438190.json:
```json
{
    "body": "Changing branch from \"\" to \"u/roed/allow_exact_defining_polynomials_for_p_adic_extensions\"",
    "created_at": "2017-07-19T06:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438190",
    "user": "https://github.com/roed314"
}
```

Changing branch from "" to "u/roed/allow_exact_defining_polynomials_for_p_adic_extensions"



---

archive/issue_comments_438191.json:
```json
{
    "body": "<a id='comment:3'></a>I ended up doing some additional things:\n\n* Remove some old code related to lazy p-adics (since I was changing the key format anyway)\n* Change the printing of unramified and eisenstein extensions\n\n---\nNew commits:",
    "created_at": "2017-07-19T06:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438191",
    "user": "https://github.com/roed314"
}
```

<a id='comment:3'></a>I ended up doing some additional things:

* Remove some old code related to lazy p-adics (since I was changing the key format anyway)
* Change the printing of unramified and eisenstein extensions

---
New commits:



---

archive/issue_comments_438192.json:
```json
{
    "body": "Changing commit from \"\" to \"dbbc631feff9dbf4f3a37825329263d640290202\"",
    "created_at": "2017-07-19T06:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438192",
    "user": "https://github.com/roed314"
}
```

Changing commit from "" to "dbbc631feff9dbf4f3a37825329263d640290202"



---

archive/issue_comments_438193.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-07-19T06:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438193",
    "user": "https://github.com/roed314"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_438194.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-19T06:45:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438194",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_438195.json:
```json
{
    "body": "Changing commit from \"dbbc631feff9dbf4f3a37825329263d640290202\" to \"6cb9d22e018af5672f54d2ba657ae354283098a8\"",
    "created_at": "2017-07-19T06:45:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438195",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dbbc631feff9dbf4f3a37825329263d640290202" to "6cb9d22e018af5672f54d2ba657ae354283098a8"



---

archive/issue_comments_438196.json:
```json
{
    "body": "<a id='comment:5'></a>Awesome! Some comments through:\n- Why did you implement only `exact_field` and not `exact_ring` (for p-adic rings)?\n- Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring?\n- I would say that the methods `modulus` and `defining_polynomial` should both by default return a polynomial defined over the p-adic field and accept an attribute specifying whether the user wants an exact defining polynomial (I believe that having different behaviour for these two methods is quite confusing).\n- Shouldn't we check that the precision of the defining polynomial is enough to well-defined extension (thanks to Krasner's Lemma)?",
    "created_at": "2017-07-19T13:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438196",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:5'></a>Awesome! Some comments through:
- Why did you implement only `exact_field` and not `exact_ring` (for p-adic rings)?
- Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring?
- I would say that the methods `modulus` and `defining_polynomial` should both by default return a polynomial defined over the p-adic field and accept an attribute specifying whether the user wants an exact defining polynomial (I believe that having different behaviour for these two methods is quite confusing).
- Shouldn't we check that the precision of the defining polynomial is enough to well-defined extension (thanks to Krasner's Lemma)?



---

archive/issue_comments_438197.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#20073\"",
    "created_at": "2017-07-19T21:43:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438197",
    "user": "https://github.com/roed314"
}
```

Changing dependencies from "" to "#20073"



---

archive/issue_comments_438198.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-07-19T22:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438198",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_438199.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:5 caruso]:\n> Awesome! Some comments through:\n> - Why did you implement only `exact_field` and not `exact_ring` (for p-adic rings)?\n\n\nTwo reasons:\n1. We didn't need it for this ticket\n2. Eventually, exact rings would require computing rings of integers in number fields, or at least p-maximal orders.  We don't want to solve a hard computational problem problem to do something trivial.\n\n> - Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring?\n\n\nYes.  I'll add this to the the followup ticket #23471\n\n> - I would say that the methods `modulus` and `defining_polynomial` should both by default return a polynomial defined over the p-adic field and accept an attribute specifying whether the user wants an exact defining polynomial (I believe that having different behaviour for these two methods is quite confusing).\n\n\nI had a conversation with Julian, Marc and Rob and we agree.\n\n> - Shouldn't we check that the precision of the defining polynomial is enough to well-defined extension (thanks to Krasner's Lemma)?\n\n\nYes, but I think that this should be saved for a followup ticket #23480 (Julian has code for doing this, but it depends on the MacLane package).",
    "created_at": "2017-07-19T22:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438199",
    "user": "https://github.com/roed314"
}
```

<a id='comment:7'></a>Replying to [comment:5 caruso]:
> Awesome! Some comments through:
> - Why did you implement only `exact_field` and not `exact_ring` (for p-adic rings)?


Two reasons:
1. We didn't need it for this ticket
2. Eventually, exact rings would require computing rings of integers in number fields, or at least p-maximal orders.  We don't want to solve a hard computational problem problem to do something trivial.

> - Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring?


Yes.  I'll add this to the the followup ticket #23471

> - I would say that the methods `modulus` and `defining_polynomial` should both by default return a polynomial defined over the p-adic field and accept an attribute specifying whether the user wants an exact defining polynomial (I believe that having different behaviour for these two methods is quite confusing).


I had a conversation with Julian, Marc and Rob and we agree.

> - Shouldn't we check that the precision of the defining polynomial is enough to well-defined extension (thanks to Krasner's Lemma)?


Yes, but I think that this should be saved for a followup ticket #23480 (Julian has code for doing this, but it depends on the MacLane package).



---

archive/issue_comments_438200.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-19T23:12:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438200",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_438201.json:
```json
{
    "body": "Changing commit from \"6cb9d22e018af5672f54d2ba657ae354283098a8\" to \"921af5e95be38203770443d6d9f6e8c9f123d269\"",
    "created_at": "2017-07-19T23:12:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438201",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6cb9d22e018af5672f54d2ba657ae354283098a8" to "921af5e95be38203770443d6d9f6e8c9f123d269"



---

archive/issue_comments_438202.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-07-19T23:13:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438202",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_438203.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Julian R\u00fcth\"",
    "created_at": "2017-07-20T01:47:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438203",
    "user": "https://github.com/saraedum"
}
```

Changing reviewer from "" to "Julian RÃ¼th"



---

archive/issue_comments_438204.json:
```json
{
    "body": "Changing author from \"\" to \"David Roe\"",
    "created_at": "2017-07-20T01:47:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438204",
    "user": "https://github.com/saraedum"
}
```

Changing author from "" to "David Roe"



---

archive/issue_comments_438205.json:
```json
{
    "body": "Changing branch from \"u/roed/allow_exact_defining_polynomials_for_p_adic_extensions\" to \"u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions\"",
    "created_at": "2017-07-20T02:08:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438205",
    "user": "https://github.com/saraedum"
}
```

Changing branch from "u/roed/allow_exact_defining_polynomials_for_p_adic_extensions" to "u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions"



---

archive/issue_comments_438206.json:
```json
{
    "body": "<a id='comment:12'></a>Positive review once the patchbot is happy.\n\n---\nNew commits:",
    "created_at": "2017-07-20T02:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438206",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:12'></a>Positive review once the patchbot is happy.

---
New commits:



---

archive/issue_comments_438207.json:
```json
{
    "body": "Changing commit from \"921af5e95be38203770443d6d9f6e8c9f123d269\" to \"77779eabdebc98cb503fe2e432a90745c8390aab\"",
    "created_at": "2017-07-20T02:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438207",
    "user": "https://github.com/saraedum"
}
```

Changing commit from "921af5e95be38203770443d6d9f6e8c9f123d269" to "77779eabdebc98cb503fe2e432a90745c8390aab"



---

archive/issue_comments_438208.json:
```json
{
    "body": "Changing branch from \"u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions\" to \"u/roed/allow_exact_defining_polynomials_for_p_adic_extensions\"",
    "created_at": "2017-07-20T05:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438208",
    "user": "https://github.com/roed314"
}
```

Changing branch from "u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions" to "u/roed/allow_exact_defining_polynomials_for_p_adic_extensions"



---

archive/issue_comments_438209.json:
```json
{
    "body": "Changing branch from \"u/roed/allow_exact_defining_polynomials_for_p_adic_extensions\" to \"u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions\"",
    "created_at": "2017-07-20T05:09:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438209",
    "user": "https://github.com/saraedum"
}
```

Changing branch from "u/roed/allow_exact_defining_polynomials_for_p_adic_extensions" to "u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions"



---

archive/issue_comments_438210.json:
```json
{
    "body": "Changing branch from \"u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions\" to \"u/roed/allow_exact_defining_polynomials_for_p_adic_extensions\"",
    "created_at": "2017-07-20T18:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438210",
    "user": "https://github.com/roed314"
}
```

Changing branch from "u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions" to "u/roed/allow_exact_defining_polynomials_for_p_adic_extensions"



---

archive/issue_comments_438211.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-20T18:47:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438211",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_438212.json:
```json
{
    "body": "Changing commit from \"77779eabdebc98cb503fe2e432a90745c8390aab\" to \"6ba62dd02f9c85ee49ca06a68d99cf724c264b96\"",
    "created_at": "2017-07-20T18:47:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438212",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "77779eabdebc98cb503fe2e432a90745c8390aab" to "6ba62dd02f9c85ee49ca06a68d99cf724c264b96"



---

archive/issue_comments_438213.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-07-21T07:39:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438213",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_438214.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:7 roed]:\n> 2. Eventually, exact rings would require computing rings of integers in number fields, or at least p-maximal orders.  We don't want to solve a hard computational problem problem to do something trivial.\n\n\nI don't unserstand why implementing `exact_ring` would require something more than just calling `ZZ.extension(...)` that creates the order in a number field defined by the given polynomial. We do not care if it is not the maximal order, don't we?\n\n> > Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring? \n\n> Yes.  I'll add this to the the followup ticket #23471\n\nIs it in it? (I ask the question because this ticket is not marked as a dependency of #23471.)",
    "created_at": "2017-07-21T15:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438214",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:18'></a>Replying to [comment:7 roed]:
> 2. Eventually, exact rings would require computing rings of integers in number fields, or at least p-maximal orders.  We don't want to solve a hard computational problem problem to do something trivial.


I don't unserstand why implementing `exact_ring` would require something more than just calling `ZZ.extension(...)` that creates the order in a number field defined by the given polynomial. We do not care if it is not the maximal order, don't we?

> > Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring? 

> Yes.  I'll add this to the the followup ticket #23471

Is it in it? (I ask the question because this ticket is not marked as a dependency of #23471.)



---

archive/issue_comments_438215.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:18 caruso]:\n> Replying to [comment:7 roed]:\n> > 2. Eventually, exact rings would require computing rings of integers in number fields, or at least p-maximal orders.  We don't want to solve a hard computational problem problem to do something trivial.\n  \n> \n> I don't unserstand why implementing `exact_ring` would require something more than just calling `ZZ.extension(...)` that creates the order in a number field defined by the given polynomial. We do not care if it is not the maximal order, don't we?\n\n\nGood point.  See #23507.\n> > > Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring? \n\n> > Yes.  I'll add this to the the followup ticket #23471\n> \n> Is it in it? (I ask the question because this ticket is not marked as a dependency of #23471.)\n\n\nThis ticket is an indirect dependency, through #20310.",
    "created_at": "2017-07-21T16:10:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438215",
    "user": "https://github.com/roed314"
}
```

<a id='comment:19'></a>Replying to [comment:18 caruso]:
> Replying to [comment:7 roed]:
> > 2. Eventually, exact rings would require computing rings of integers in number fields, or at least p-maximal orders.  We don't want to solve a hard computational problem problem to do something trivial.
  
> 
> I don't unserstand why implementing `exact_ring` would require something more than just calling `ZZ.extension(...)` that creates the order in a number field defined by the given polynomial. We do not care if it is not the maximal order, don't we?


Good point.  See #23507.
> > > Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring? 

> > Yes.  I'll add this to the the followup ticket #23471
> 
> Is it in it? (I ask the question because this ticket is not marked as a dependency of #23471.)


This ticket is an indirect dependency, through #20310.



---

archive/issue_comments_438216.json:
```json
{
    "body": "<a id='comment:20'></a>Merge conflict, wait for next beta...",
    "created_at": "2017-07-21T22:47:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438216",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:20'></a>Merge conflict, wait for next beta...



---

archive/issue_comments_438217.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-07-21T22:47:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438217",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_438218.json:
```json
{
    "body": "Changing commit from \"6ba62dd02f9c85ee49ca06a68d99cf724c264b96\" to \"e9c4c394066d9ce451b500a2ddf9572a488d006f\"",
    "created_at": "2017-08-02T17:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438218",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6ba62dd02f9c85ee49ca06a68d99cf724c264b96" to "e9c4c394066d9ce451b500a2ddf9572a488d006f"



---

archive/issue_comments_438219.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-02T17:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438219",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_438220.json:
```json
{
    "body": "Changing commit from \"e9c4c394066d9ce451b500a2ddf9572a488d006f\" to \"561f5ac333b00f5e4a2ee70b82e2b5e4965876b3\"",
    "created_at": "2017-08-02T17:54:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438220",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e9c4c394066d9ce451b500a2ddf9572a488d006f" to "561f5ac333b00f5e4a2ee70b82e2b5e4965876b3"



---

archive/issue_comments_438221.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-02T17:54:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438221",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_438222.json:
```json
{
    "body": "<a id='comment:23'></a>I fixed the merge conflict and ran all tests (fixing two).",
    "created_at": "2017-08-02T17:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438222",
    "user": "https://github.com/roed314"
}
```

<a id='comment:23'></a>I fixed the merge conflict and ran all tests (fixing two).



---

archive/issue_comments_438223.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2017-08-02T17:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438223",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_438224.json:
```json
{
    "body": "<a id='comment:24'></a>There are patchbot failures. But these seem to be in develop already.",
    "created_at": "2017-08-03T15:49:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438224",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:24'></a>There are patchbot failures. But these seem to be in develop already.



---

archive/issue_events_060067.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-04T18:21:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23331#event-60067"
}
```



---

archive/issue_comments_438225.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-08-04T18:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438225",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_438226.json:
```json
{
    "body": "Changing branch from \"u/roed/allow_exact_defining_polynomials_for_p_adic_extensions\" to \"561f5ac333b00f5e4a2ee70b82e2b5e4965876b3\"",
    "created_at": "2017-08-04T18:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-438226",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/roed/allow_exact_defining_polynomials_for_p_adic_extensions" to "561f5ac333b00f5e4a2ee70b82e2b5e4965876b3"
