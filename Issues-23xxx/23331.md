# Issue 23331: Allow exact defining polynomials for p-adic extensions

archive/issues_023094.json:
```json
{
    "body": "Currently, the defining polynomial of a p-adic extension always has coefficients over the base ring:\n\n```\nsage: R.<x> = ZZ[]\nsage: W.<w> = Zp(5).extension(x^2 - 5)\nsage: W.defining_polynomial().base_ring()\n5-adic Ring with capped relative precision 20\n```\n\nThis is fine, one would expect the defining polynomial to have coefficients in the base ring but we would also like to have access to the exact polynomial. To make this consistent, we should always keep two polynomials: a defining polynomial and an exact polynomial.\n\nThe defining polynomial has coefficients over the base ring. It is not part of the key used in the factory as it can be recovered from the exact polynomial.\n\nThe exact polynomial has coefficients in a number field: For extension of !Zp/Qp, the coefficients are in QQ. For two step extensions, the coefficients are in the absolute number field defined by the exact polynomial of the base ring. For more general extensions, the coefficients are in the tower of number fields, defined by the exact polynomials.\n\nThe exact polynomial is part of the key used in the factory. Two fields with different exact polynomial but same defining polynomial are different. This makes sense because they behave differently with respect to `change()` when changing the precision.\n\nFor extensions constructed from a modulus with inexact coefficients (in the base ring) we just set the exact polynomial to an approximation of the modulus.\n\n**CC:**  @saraedum\n\n**Keywords:** sd87\n\n**Branch/Commit:** [561f5ac333b00f5e4a2ee70b82e2b5e4965876b3](https://github.com/sagemath/sagetrac-mirror/commit/561f5ac333b00f5e4a2ee70b82e2b5e4965876b3)\n\n**Reviewer:** Julian R\u00fcth\n\n**Author:** David Roe\n\n**Dependencies:** #20073\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23331\n\n",
    "closed_at": "2017-08-04T18:21:34Z",
    "created_at": "2017-06-27T23:25:45Z",
    "labels": [
        "component: padics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Allow exact defining polynomials for p-adic extensions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23331",
    "user": "https://github.com/roed314"
}
```
Currently, the defining polynomial of a p-adic extension always has coefficients over the base ring:

```
sage: R.<x> = ZZ[]
sage: W.<w> = Zp(5).extension(x^2 - 5)
sage: W.defining_polynomial().base_ring()
5-adic Ring with capped relative precision 20
```

This is fine, one would expect the defining polynomial to have coefficients in the base ring but we would also like to have access to the exact polynomial. To make this consistent, we should always keep two polynomials: a defining polynomial and an exact polynomial.

The defining polynomial has coefficients over the base ring. It is not part of the key used in the factory as it can be recovered from the exact polynomial.

The exact polynomial has coefficients in a number field: For extension of !Zp/Qp, the coefficients are in QQ. For two step extensions, the coefficients are in the absolute number field defined by the exact polynomial of the base ring. For more general extensions, the coefficients are in the tower of number fields, defined by the exact polynomials.

The exact polynomial is part of the key used in the factory. Two fields with different exact polynomial but same defining polynomial are different. This makes sense because they behave differently with respect to `change()` when changing the precision.

For extensions constructed from a modulus with inexact coefficients (in the base ring) we just set the exact polynomial to an approximation of the modulus.

**CC:**  @saraedum

**Keywords:** sd87

**Branch/Commit:** [561f5ac333b00f5e4a2ee70b82e2b5e4965876b3](https://github.com/sagemath/sagetrac-mirror/commit/561f5ac333b00f5e4a2ee70b82e2b5e4965876b3)

**Reviewer:** Julian RÃ¼th

**Author:** David Roe

**Dependencies:** #20073

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/23331





---

archive/issue_comments_440652.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,4 +7,12 @@\n 5-adic Ring with capped relative precision 20\n ```\n \n-We should allow exact defining polynomials, since they simplify reasoning for the precision of elements and do not impose a maximum precision cap on the extension. \n+This is fine, one would expect the defining polynomial to have coefficients in the base ring but we would also like to have access to the exact polynomial. To make this consistent, we should always keep two polynomials: a defining polynomial and an exact polynomial.\n+\n+The defining polynomial has coefficients over the base ring. It is not part of the key used in the factory as it can be recovered from the exact polynomial.\n+\n+The exact polynomial has coefficients in a number field: For extension of !Zp/Qp, the coefficients are in QQ. For two step extensions, the coefficients are in the absolute number field defined by the exact polynomial of the base ring. For more general extensions, the coefficients are in the tower of number fields, defined by the exact polynomials.\n+\n+The exact polynomial is part of the key used in the factory. Two fields with different exact polynomial but same defining polynomial are different. This makes sense because they behave differently with respect to `change()` when changing the precision.\n+\n+For extensions constructed from a modulus with inexact coefficients (in the base ring) we just set the exact polynomial to an approximation of the modulus.\n``````\n",
    "created_at": "2017-07-17T17:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440652",
    "user": "https://github.com/saraedum"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,4 +7,12 @@
 5-adic Ring with capped relative precision 20
 ```
 
-We should allow exact defining polynomials, since they simplify reasoning for the precision of elements and do not impose a maximum precision cap on the extension. 
+This is fine, one would expect the defining polynomial to have coefficients in the base ring but we would also like to have access to the exact polynomial. To make this consistent, we should always keep two polynomials: a defining polynomial and an exact polynomial.
+
+The defining polynomial has coefficients over the base ring. It is not part of the key used in the factory as it can be recovered from the exact polynomial.
+
+The exact polynomial has coefficients in a number field: For extension of !Zp/Qp, the coefficients are in QQ. For two step extensions, the coefficients are in the absolute number field defined by the exact polynomial of the base ring. For more general extensions, the coefficients are in the tower of number fields, defined by the exact polynomials.
+
+The exact polynomial is part of the key used in the factory. Two fields with different exact polynomial but same defining polynomial are different. This makes sense because they behave differently with respect to `change()` when changing the precision.
+
+For extensions constructed from a modulus with inexact coefficients (in the base ring) we just set the exact polynomial to an approximation of the modulus.
``````




---

archive/issue_comments_440653.json:
```json
{
    "body": "**Branch:** [u/roed/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/allow_exact_defining_polynomials_for_p_adic_extensions)",
    "created_at": "2017-07-19T06:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440653",
    "user": "https://github.com/roed314"
}
```

**Branch:** [u/roed/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/allow_exact_defining_polynomials_for_p_adic_extensions)



---

archive/issue_comments_440654.json:
```json
{
    "body": "<a id='comment:3'></a>\nI ended up doing some additional things:\n\n* Remove some old code related to lazy p-adics (since I was changing the key format anyway)\n* Change the printing of unramified and eisenstein extensions\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e21e774b084f947cdccc455d4f1f1b03c872837\">7e21e77</a></td><td><code>Adding an exact modulus to p-adic rings and fields, changing printing for p-adic extensions, removing some vestigal lazy p-adic code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbbc631feff9dbf4f3a37825329263d640290202\">dbbc631</a></td><td><code>Fix pickles</code></td></tr></table>\n",
    "created_at": "2017-07-19T06:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440654",
    "user": "https://github.com/roed314"
}
```

<a id='comment:3'></a>
I ended up doing some additional things:

* Remove some old code related to lazy p-adics (since I was changing the key format anyway)
* Change the printing of unramified and eisenstein extensions

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e21e774b084f947cdccc455d4f1f1b03c872837">7e21e77</a></td><td><code>Adding an exact modulus to p-adic rings and fields, changing printing for p-adic extensions, removing some vestigal lazy p-adic code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbbc631feff9dbf4f3a37825329263d640290202">dbbc631</a></td><td><code>Fix pickles</code></td></tr></table>




---

archive/issue_comments_440655.json:
```json
{
    "body": "**Commit:** [dbbc631feff9dbf4f3a37825329263d640290202](https://github.com/sagemath/sagetrac-mirror/commit/dbbc631feff9dbf4f3a37825329263d640290202)",
    "created_at": "2017-07-19T06:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440655",
    "user": "https://github.com/roed314"
}
```

**Commit:** [dbbc631feff9dbf4f3a37825329263d640290202](https://github.com/sagemath/sagetrac-mirror/commit/dbbc631feff9dbf4f3a37825329263d640290202)



---

archive/issue_comments_440656.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2017-07-19T06:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440656",
    "user": "https://github.com/roed314"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_440657.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cb9d22e018af5672f54d2ba657ae354283098a8\">6cb9d22</a></td><td><code>Remove extraneous newlines in padic_ZZ_pX_FM_element.pyx</code></td></tr></table>\n",
    "created_at": "2017-07-19T06:45:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440657",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cb9d22e018af5672f54d2ba657ae354283098a8">6cb9d22</a></td><td><code>Remove extraneous newlines in padic_ZZ_pX_FM_element.pyx</code></td></tr></table>




---

archive/issue_comments_440658.json:
```json
{
    "body": "**Changing commit** from \"[dbbc631feff9dbf4f3a37825329263d640290202](https://github.com/sagemath/sagetrac-mirror/commit/dbbc631feff9dbf4f3a37825329263d640290202)\" to \"[6cb9d22e018af5672f54d2ba657ae354283098a8](https://github.com/sagemath/sagetrac-mirror/commit/6cb9d22e018af5672f54d2ba657ae354283098a8)\".",
    "created_at": "2017-07-19T06:45:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440658",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[dbbc631feff9dbf4f3a37825329263d640290202](https://github.com/sagemath/sagetrac-mirror/commit/dbbc631feff9dbf4f3a37825329263d640290202)" to "[6cb9d22e018af5672f54d2ba657ae354283098a8](https://github.com/sagemath/sagetrac-mirror/commit/6cb9d22e018af5672f54d2ba657ae354283098a8)".



---

archive/issue_comments_440659.json:
```json
{
    "body": "<a id='comment:5'></a>\nAwesome! Some comments through:\n- Why did you implement only `exact_field` and not `exact_ring` (for p-adic rings)?\n- Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring?\n- I would say that the methods `modulus` and `defining_polynomial` should both by default return a polynomial defined over the p-adic field and accept an attribute specifying whether the user wants an exact defining polynomial (I believe that having different behaviour for these two methods is quite confusing).\n- Shouldn't we check that the precision of the defining polynomial is enough to well-defined extension (thanks to Krasner's Lemma)?",
    "created_at": "2017-07-19T13:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440659",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:5'></a>
Awesome! Some comments through:
- Why did you implement only `exact_field` and not `exact_ring` (for p-adic rings)?
- Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring?
- I would say that the methods `modulus` and `defining_polynomial` should both by default return a polynomial defined over the p-adic field and accept an attribute specifying whether the user wants an exact defining polynomial (I believe that having different behaviour for these two methods is quite confusing).
- Shouldn't we check that the precision of the defining polynomial is enough to well-defined extension (thanks to Krasner's Lemma)?



---

archive/issue_comments_440660.json:
```json
{
    "body": "**Dependencies:** #20073",
    "created_at": "2017-07-19T21:43:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440660",
    "user": "https://github.com/roed314"
}
```

**Dependencies:** #20073



---

archive/issue_comments_440661.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2017-07-19T22:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440661",
    "user": "https://github.com/roed314"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_440662.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [caruso](#comment%3A5):\n> Awesome! Some comments through:\n> - Why did you implement only `exact_field` and not `exact_ring` (for p-adic rings)?\n\n\nTwo reasons:\n1. We didn't need it for this ticket\n2. Eventually, exact rings would require computing rings of integers in number fields, or at least p-maximal orders.  We don't want to solve a hard computational problem problem to do something trivial.\n\n> - Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring?\n\n\nYes.  I'll add this to the the followup ticket #23471\n\n> - I would say that the methods `modulus` and `defining_polynomial` should both by default return a polynomial defined over the p-adic field and accept an attribute specifying whether the user wants an exact defining polynomial (I believe that having different behaviour for these two methods is quite confusing).\n\n\nI had a conversation with Julian, Marc and Rob and we agree.\n\n> - Shouldn't we check that the precision of the defining polynomial is enough to well-defined extension (thanks to Krasner's Lemma)?\n\n\nYes, but I think that this should be saved for a followup ticket #23480 (Julian has code for doing this, but it depends on the MacLane package).",
    "created_at": "2017-07-19T22:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440662",
    "user": "https://github.com/roed314"
}
```

<a id='comment:7'></a>
Replying to [caruso](#comment%3A5):
> Awesome! Some comments through:
> - Why did you implement only `exact_field` and not `exact_ring` (for p-adic rings)?


Two reasons:
1. We didn't need it for this ticket
2. Eventually, exact rings would require computing rings of integers in number fields, or at least p-maximal orders.  We don't want to solve a hard computational problem problem to do something trivial.

> - Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring?


Yes.  I'll add this to the the followup ticket #23471

> - I would say that the methods `modulus` and `defining_polynomial` should both by default return a polynomial defined over the p-adic field and accept an attribute specifying whether the user wants an exact defining polynomial (I believe that having different behaviour for these two methods is quite confusing).


I had a conversation with Julian, Marc and Rob and we agree.

> - Shouldn't we check that the precision of the defining polynomial is enough to well-defined extension (thanks to Krasner's Lemma)?


Yes, but I think that this should be saved for a followup ticket #23480 (Julian has code for doing this, but it depends on the MacLane package).



---

archive/issue_comments_440663.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f966970ce066669c13ec27ef5d6c13eaf6441dd\">7f96697</a></td><td><code>Fixed typo with variable assignment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bbb7268c1692a0068a9d4bd5ae7624eadf321454\">bbb7268</a></td><td><code>added doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee461b61afa23c587307df64a64df219deb0b1c9\">ee461b6</a></td><td><code>merge with develop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8081eab7fac81a3cef7d40133937bc2ca01baa38\">8081eab</a></td><td><code>added doctests after fixing conflicts</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/063b58cfb2a52bfb3bd4917e5a400a37ed03a0c2\">063b58c</a></td><td><code>Merge branch 'develop' into t/20073/ticket/20073</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48be601fe35d7d56ec6cbbb6d21bb6921230b7eb\">48be601</a></td><td><code>Added documentation to verify that the extension has the right defining polynomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/921af5e95be38203770443d6d9f6e8c9f123d269\">921af5e</a></td><td><code>Changing modulus and defining_polynomial to use an exact keyword</code></td></tr></table>\n",
    "created_at": "2017-07-19T23:12:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440663",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f966970ce066669c13ec27ef5d6c13eaf6441dd">7f96697</a></td><td><code>Fixed typo with variable assignment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bbb7268c1692a0068a9d4bd5ae7624eadf321454">bbb7268</a></td><td><code>added doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee461b61afa23c587307df64a64df219deb0b1c9">ee461b6</a></td><td><code>merge with develop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8081eab7fac81a3cef7d40133937bc2ca01baa38">8081eab</a></td><td><code>added doctests after fixing conflicts</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/063b58cfb2a52bfb3bd4917e5a400a37ed03a0c2">063b58c</a></td><td><code>Merge branch 'develop' into t/20073/ticket/20073</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48be601fe35d7d56ec6cbbb6d21bb6921230b7eb">48be601</a></td><td><code>Added documentation to verify that the extension has the right defining polynomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/921af5e95be38203770443d6d9f6e8c9f123d269">921af5e</a></td><td><code>Changing modulus and defining_polynomial to use an exact keyword</code></td></tr></table>




---

archive/issue_comments_440664.json:
```json
{
    "body": "**Changing commit** from \"[6cb9d22e018af5672f54d2ba657ae354283098a8](https://github.com/sagemath/sagetrac-mirror/commit/6cb9d22e018af5672f54d2ba657ae354283098a8)\" to \"[921af5e95be38203770443d6d9f6e8c9f123d269](https://github.com/sagemath/sagetrac-mirror/commit/921af5e95be38203770443d6d9f6e8c9f123d269)\".",
    "created_at": "2017-07-19T23:12:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440664",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6cb9d22e018af5672f54d2ba657ae354283098a8](https://github.com/sagemath/sagetrac-mirror/commit/6cb9d22e018af5672f54d2ba657ae354283098a8)" to "[921af5e95be38203770443d6d9f6e8c9f123d269](https://github.com/sagemath/sagetrac-mirror/commit/921af5e95be38203770443d6d9f6e8c9f123d269)".



---

archive/issue_comments_440665.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2017-07-19T23:13:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440665",
    "user": "https://github.com/roed314"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_440666.json:
```json
{
    "body": "**Reviewer:** Julian R\u00fcth",
    "created_at": "2017-07-20T01:47:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440666",
    "user": "https://github.com/saraedum"
}
```

**Reviewer:** Julian RÃ¼th



---

archive/issue_comments_440667.json:
```json
{
    "body": "**Author:** David Roe",
    "created_at": "2017-07-20T01:47:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440667",
    "user": "https://github.com/saraedum"
}
```

**Author:** David Roe



---

archive/issue_comments_440668.json:
```json
{
    "body": "**Changing branch** from \"[u/roed/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/allow_exact_defining_polynomials_for_p_adic_extensions)\" to \"[u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions)\".",
    "created_at": "2017-07-20T02:08:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440668",
    "user": "https://github.com/saraedum"
}
```

**Changing branch** from "[u/roed/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/allow_exact_defining_polynomials_for_p_adic_extensions)" to "[u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions)".



---

archive/issue_comments_440669.json:
```json
{
    "body": "<a id='comment:12'></a>\nPositive review once the patchbot is happy.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/77779eabdebc98cb503fe2e432a90745c8390aab\">77779ea</a></td><td><code>minor docstring changes</code></td></tr></table>\n",
    "created_at": "2017-07-20T02:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440669",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:12'></a>
Positive review once the patchbot is happy.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/77779eabdebc98cb503fe2e432a90745c8390aab">77779ea</a></td><td><code>minor docstring changes</code></td></tr></table>




---

archive/issue_comments_440670.json:
```json
{
    "body": "**Changing commit** from \"[921af5e95be38203770443d6d9f6e8c9f123d269](https://github.com/sagemath/sagetrac-mirror/commit/921af5e95be38203770443d6d9f6e8c9f123d269)\" to \"[77779eabdebc98cb503fe2e432a90745c8390aab](https://github.com/sagemath/sagetrac-mirror/commit/77779eabdebc98cb503fe2e432a90745c8390aab)\".",
    "created_at": "2017-07-20T02:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440670",
    "user": "https://github.com/saraedum"
}
```

**Changing commit** from "[921af5e95be38203770443d6d9f6e8c9f123d269](https://github.com/sagemath/sagetrac-mirror/commit/921af5e95be38203770443d6d9f6e8c9f123d269)" to "[77779eabdebc98cb503fe2e432a90745c8390aab](https://github.com/sagemath/sagetrac-mirror/commit/77779eabdebc98cb503fe2e432a90745c8390aab)".



---

archive/issue_comments_440671.json:
```json
{
    "body": "**Changing branch** from \"[u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions)\" to \"[u/roed/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/allow_exact_defining_polynomials_for_p_adic_extensions)\".",
    "created_at": "2017-07-20T05:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440671",
    "user": "https://github.com/roed314"
}
```

**Changing branch** from "[u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions)" to "[u/roed/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/allow_exact_defining_polynomials_for_p_adic_extensions)".



---

archive/issue_comments_440672.json:
```json
{
    "body": "**Changing branch** from \"[u/roed/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/allow_exact_defining_polynomials_for_p_adic_extensions)\" to \"[u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions)\".",
    "created_at": "2017-07-20T05:09:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440672",
    "user": "https://github.com/saraedum"
}
```

**Changing branch** from "[u/roed/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/allow_exact_defining_polynomials_for_p_adic_extensions)" to "[u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions)".



---

archive/issue_comments_440673.json:
```json
{
    "body": "**Changing branch** from \"[u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions)\" to \"[u/roed/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/allow_exact_defining_polynomials_for_p_adic_extensions)\".",
    "created_at": "2017-07-20T18:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440673",
    "user": "https://github.com/roed314"
}
```

**Changing branch** from "[u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/allow_exact_defining_polynomials_for_p_adic_extensions)" to "[u/roed/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/allow_exact_defining_polynomials_for_p_adic_extensions)".



---

archive/issue_comments_440674.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ba62dd02f9c85ee49ca06a68d99cf724c264b96\">6ba62dd</a></td><td><code>Fix SEEALSO again</code></td></tr></table>\n",
    "created_at": "2017-07-20T18:47:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440674",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ba62dd02f9c85ee49ca06a68d99cf724c264b96">6ba62dd</a></td><td><code>Fix SEEALSO again</code></td></tr></table>




---

archive/issue_comments_440675.json:
```json
{
    "body": "**Changing commit** from \"[77779eabdebc98cb503fe2e432a90745c8390aab](https://github.com/sagemath/sagetrac-mirror/commit/77779eabdebc98cb503fe2e432a90745c8390aab)\" to \"[6ba62dd02f9c85ee49ca06a68d99cf724c264b96](https://github.com/sagemath/sagetrac-mirror/commit/6ba62dd02f9c85ee49ca06a68d99cf724c264b96)\".",
    "created_at": "2017-07-20T18:47:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440675",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[77779eabdebc98cb503fe2e432a90745c8390aab](https://github.com/sagemath/sagetrac-mirror/commit/77779eabdebc98cb503fe2e432a90745c8390aab)" to "[6ba62dd02f9c85ee49ca06a68d99cf724c264b96](https://github.com/sagemath/sagetrac-mirror/commit/6ba62dd02f9c85ee49ca06a68d99cf724c264b96)".



---

archive/issue_comments_440676.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-07-21T07:39:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440676",
    "user": "https://github.com/saraedum"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_440677.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [roed](#comment%3A7):\n> 2. Eventually, exact rings would require computing rings of integers in number fields, or at least p-maximal orders.  We don't want to solve a hard computational problem problem to do something trivial.\n\n\nI don't unserstand why implementing `exact_ring` would require something more than just calling `ZZ.extension(...)` that creates the order in a number field defined by the given polynomial. We do not care if it is not the maximal order, don't we?\n\n> > Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring? \n\n> Yes.  I'll add this to the the followup ticket #23471\n\nIs it in it? (I ask the question because this ticket is not marked as a dependency of #23471.)",
    "created_at": "2017-07-21T15:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440677",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:18'></a>
Replying to [roed](#comment%3A7):
> 2. Eventually, exact rings would require computing rings of integers in number fields, or at least p-maximal orders.  We don't want to solve a hard computational problem problem to do something trivial.


I don't unserstand why implementing `exact_ring` would require something more than just calling `ZZ.extension(...)` that creates the order in a number field defined by the given polynomial. We do not care if it is not the maximal order, don't we?

> > Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring? 

> Yes.  I'll add this to the the followup ticket #23471

Is it in it? (I ask the question because this ticket is not marked as a dependency of #23471.)



---

archive/issue_comments_440678.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [caruso](#comment%3A18):\n> Replying to [roed](#comment%3A7):\n> > 2. Eventually, exact rings would require computing rings of integers in number fields, or at least p-maximal orders.  We don't want to solve a hard computational problem problem to do something trivial.\n  \n> \n> I don't unserstand why implementing `exact_ring` would require something more than just calling `ZZ.extension(...)` that creates the order in a number field defined by the given polynomial. We do not care if it is not the maximal order, don't we?\n\n\nGood point.  See #23507.\n> > > Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring? \n\n> > Yes.  I'll add this to the the followup ticket #23471\n> \n> Is it in it? (I ask the question because this ticket is not marked as a dependency of #23471.)\n\n\nThis ticket is an indirect dependency, through #20310.",
    "created_at": "2017-07-21T16:10:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440678",
    "user": "https://github.com/roed314"
}
```

<a id='comment:19'></a>
Replying to [caruso](#comment%3A18):
> Replying to [roed](#comment%3A7):
> > 2. Eventually, exact rings would require computing rings of integers in number fields, or at least p-maximal orders.  We don't want to solve a hard computational problem problem to do something trivial.
  
> 
> I don't unserstand why implementing `exact_ring` would require something more than just calling `ZZ.extension(...)` that creates the order in a number field defined by the given polynomial. We do not care if it is not the maximal order, don't we?


Good point.  See #23507.
> > > Shouldn't we have a coercion map from the exact subfield/subring to the p-adic field/ring? 

> > Yes.  I'll add this to the the followup ticket #23471
> 
> Is it in it? (I ask the question because this ticket is not marked as a dependency of #23471.)


This ticket is an indirect dependency, through #20310.



---

archive/issue_comments_440679.json:
```json
{
    "body": "<a id='comment:20'></a>\nMerge conflict, wait for next beta...",
    "created_at": "2017-07-21T22:47:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440679",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:20'></a>
Merge conflict, wait for next beta...



---

archive/issue_comments_440680.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2017-07-21T22:47:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440680",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_440681.json:
```json
{
    "body": "**Changing commit** from \"[6ba62dd02f9c85ee49ca06a68d99cf724c264b96](https://github.com/sagemath/sagetrac-mirror/commit/6ba62dd02f9c85ee49ca06a68d99cf724c264b96)\" to \"[e9c4c394066d9ce451b500a2ddf9572a488d006f](https://github.com/sagemath/sagetrac-mirror/commit/e9c4c394066d9ce451b500a2ddf9572a488d006f)\".",
    "created_at": "2017-08-02T17:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440681",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6ba62dd02f9c85ee49ca06a68d99cf724c264b96](https://github.com/sagemath/sagetrac-mirror/commit/6ba62dd02f9c85ee49ca06a68d99cf724c264b96)" to "[e9c4c394066d9ce451b500a2ddf9572a488d006f](https://github.com/sagemath/sagetrac-mirror/commit/e9c4c394066d9ce451b500a2ddf9572a488d006f)".



---

archive/issue_comments_440682.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9c4c394066d9ce451b500a2ddf9572a488d006f\">e9c4c39</a></td><td><code>Merge branch 'u/roed/allow_exact_defining_polynomials_for_p_adic_extensions' of git://trac.sagemath.org/sage into t/23331/allow_exact_defining_polynomials_for_p_adic_extensions</code></td></tr></table>\n",
    "created_at": "2017-08-02T17:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440682",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9c4c394066d9ce451b500a2ddf9572a488d006f">e9c4c39</a></td><td><code>Merge branch 'u/roed/allow_exact_defining_polynomials_for_p_adic_extensions' of git://trac.sagemath.org/sage into t/23331/allow_exact_defining_polynomials_for_p_adic_extensions</code></td></tr></table>




---

archive/issue_comments_440683.json:
```json
{
    "body": "**Changing commit** from \"[e9c4c394066d9ce451b500a2ddf9572a488d006f](https://github.com/sagemath/sagetrac-mirror/commit/e9c4c394066d9ce451b500a2ddf9572a488d006f)\" to \"[561f5ac333b00f5e4a2ee70b82e2b5e4965876b3](https://github.com/sagemath/sagetrac-mirror/commit/561f5ac333b00f5e4a2ee70b82e2b5e4965876b3)\".",
    "created_at": "2017-08-02T17:54:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440683",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e9c4c394066d9ce451b500a2ddf9572a488d006f](https://github.com/sagemath/sagetrac-mirror/commit/e9c4c394066d9ce451b500a2ddf9572a488d006f)" to "[561f5ac333b00f5e4a2ee70b82e2b5e4965876b3](https://github.com/sagemath/sagetrac-mirror/commit/561f5ac333b00f5e4a2ee70b82e2b5e4965876b3)".



---

archive/issue_comments_440684.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/561f5ac333b00f5e4a2ee70b82e2b5e4965876b3\">561f5ac</a></td><td><code>Fix doctest errors</code></td></tr></table>\n",
    "created_at": "2017-08-02T17:54:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440684",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/561f5ac333b00f5e4a2ee70b82e2b5e4965876b3">561f5ac</a></td><td><code>Fix doctest errors</code></td></tr></table>




---

archive/issue_comments_440685.json:
```json
{
    "body": "<a id='comment:23'></a>\nI fixed the merge conflict and ran all tests (fixing two).",
    "created_at": "2017-08-02T17:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440685",
    "user": "https://github.com/roed314"
}
```

<a id='comment:23'></a>
I fixed the merge conflict and ran all tests (fixing two).



---

archive/issue_comments_440686.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2017-08-02T17:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440686",
    "user": "https://github.com/roed314"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_440687.json:
```json
{
    "body": "<a id='comment:24'></a>\nThere are patchbot failures. But these seem to be in develop already.",
    "created_at": "2017-08-03T15:49:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440687",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:24'></a>
There are patchbot failures. But these seem to be in develop already.



---

archive/issue_events_068306.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-04T18:21:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23331#event-68306"
}
```



---

archive/issue_comments_440688.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2017-08-04T18:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440688",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_440689.json:
```json
{
    "body": "**Changing branch** from \"[u/roed/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/allow_exact_defining_polynomials_for_p_adic_extensions)\" to \"[561f5ac333b00f5e4a2ee70b82e2b5e4965876b3](https://github.com/sagemath/sagetrac-mirror/commit/561f5ac333b00f5e4a2ee70b82e2b5e4965876b3)\".",
    "created_at": "2017-08-04T18:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23331#issuecomment-440689",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/roed/allow_exact_defining_polynomials_for_p_adic_extensions](https://github.com/sagemath/sagetrac-mirror/tree/u/roed/allow_exact_defining_polynomials_for_p_adic_extensions)" to "[561f5ac333b00f5e4a2ee70b82e2b5e4965876b3](https://github.com/sagemath/sagetrac-mirror/commit/561f5ac333b00f5e4a2ee70b82e2b5e4965876b3)".
