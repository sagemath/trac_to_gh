# Issue 23425: Plotting External Rays on the Mandelbrot Set

archive/issues_023188.json:
```json
{
    "body": "This is the second ticket for my Google Summer of Code project (the first was #23257: Plotting the Mandelbrot set). I have added the `external_ray` function to the `Complex Dynamics` folder. This function allows the user to pass in an angle or list of angles and returns the plot of the external rays for the given angles on the Mandelbrot set.  For more information on my Google Summer of Code Project you can visit the following link: \u200bhttps://benbarros.wordpress.com/\n\nCC:  @bhutz atowsley\n\nKeywords: GSoC2017, ComplexDynamics\n\nBranch/Commit: 7a7d8908eceb8e38116b76b86cf68e79c99f4ff4\n\nReviewer: Ben Hutz\n\nAuthor: Ben Barros\n\nDependencies: #23257\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23425\n\n",
    "closed_at": "2017-08-04T18:21:03Z",
    "created_at": "2017-07-13T18:11:52Z",
    "labels": [
        "component: dynamics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Plotting External Rays on the Mandelbrot Set",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23425",
    "user": "https://github.com/bbarros50"
}
```
This is the second ticket for my Google Summer of Code project (the first was #23257: Plotting the Mandelbrot set). I have added the `external_ray` function to the `Complex Dynamics` folder. This function allows the user to pass in an angle or list of angles and returns the plot of the external rays for the given angles on the Mandelbrot set.  For more information on my Google Summer of Code Project you can visit the following link: â€‹https://benbarros.wordpress.com/

CC:  @bhutz atowsley

Keywords: GSoC2017, ComplexDynamics

Branch/Commit: 7a7d8908eceb8e38116b76b86cf68e79c99f4ff4

Reviewer: Ben Hutz

Author: Ben Barros

Dependencies: #23257

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23425





---

archive/issue_comments_442839.json:
```json
{
    "body": "Changing branch from \"\" to \"u/bbarros/23425\"",
    "created_at": "2017-07-13T18:15:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442839",
    "user": "https://github.com/bbarros50"
}
```

Changing branch from "" to "u/bbarros/23425"



---

archive/issue_comments_442840.json:
```json
{
    "body": "Changing commit from \"\" to \"62802172b0e67bcd53fce6d781bdf13914e6f46d\"",
    "created_at": "2017-07-13T18:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442840",
    "user": "https://github.com/bbarros50"
}
```

Changing commit from "" to "62802172b0e67bcd53fce6d781bdf13914e6f46d"



---

archive/issue_comments_442841.json:
```json
{
    "body": "<a id='comment:2'></a>\nLast 10 new commits:\n|                                                                                                                                          |                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[6a9f953](https://github.com/sagemath/sagetrac-mirror/commit/6a9f9531f02139f0d2d94c68dcd495902c8ac4e6)|`23257: Fixed documentation and syntax`|\n|[f74fac8](https://github.com/sagemath/sagetrac-mirror/commit/f74fac884bad75b1b517c0aa610ad53a1ff4542f)|`Merge branch 'master' into 23257`|\n|[e1a3791](https://github.com/sagemath/sagetrac-mirror/commit/e1a3791d6c55db45c201091e1f6b50525cf8a794)|`23257: Changed to lazy_import in complex_dynamics/all.py`|\n|[1afa332](https://github.com/sagemath/sagetrac-mirror/commit/1afa33239d14c19261da3f710a7849532019f16b)|`23257: Fixed merge conflict and doctests`|\n|[9b6738b](https://github.com/sagemath/sagetrac-mirror/commit/9b6738b06bcfa199a4f7148a3cde5218fdb5f012)|`23257: Cython, Python 3 improvements, Color widget added`|\n|[a1d02e4](https://github.com/sagemath/sagetrac-mirror/commit/a1d02e4c35099cfe7bc344fd8647b38b526eacbb)|`23257: Changed fast_mandel_plot to fast_mandelbrot_plot`|\n|[8aae69c](https://github.com/sagemath/sagetrac-mirror/commit/8aae69cc30ad0e566e0e1fe6f7646822b91df50c)|`23257: Changed default for interact to False`|\n|[f52fb3f](https://github.com/sagemath/sagetrac-mirror/commit/f52fb3fc9b32f6c24bdf3f308740603933d44600)|`23257: Added complex_dynamics to dynamics/index.rst`|\n|[607cc2d](https://github.com/sagemath/sagetrac-mirror/commit/607cc2d56161e70836edf20a2b4b906c21eacff0)|`Merge branch 'develop' of git://trac.sagemath.org/sage into ExternalRays`|\n|[6280217](https://github.com/sagemath/sagetrac-mirror/commit/62802172b0e67bcd53fce6d781bdf13914e6f46d)|`23425: Added external_ray function, helper functions.`|",
    "created_at": "2017-07-13T18:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442841",
    "user": "https://github.com/bbarros50"
}
```

<a id='comment:2'></a>
Last 10 new commits:
|                                                                                                                                          |                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[6a9f953](https://github.com/sagemath/sagetrac-mirror/commit/6a9f9531f02139f0d2d94c68dcd495902c8ac4e6)|`23257: Fixed documentation and syntax`|
|[f74fac8](https://github.com/sagemath/sagetrac-mirror/commit/f74fac884bad75b1b517c0aa610ad53a1ff4542f)|`Merge branch 'master' into 23257`|
|[e1a3791](https://github.com/sagemath/sagetrac-mirror/commit/e1a3791d6c55db45c201091e1f6b50525cf8a794)|`23257: Changed to lazy_import in complex_dynamics/all.py`|
|[1afa332](https://github.com/sagemath/sagetrac-mirror/commit/1afa33239d14c19261da3f710a7849532019f16b)|`23257: Fixed merge conflict and doctests`|
|[9b6738b](https://github.com/sagemath/sagetrac-mirror/commit/9b6738b06bcfa199a4f7148a3cde5218fdb5f012)|`23257: Cython, Python 3 improvements, Color widget added`|
|[a1d02e4](https://github.com/sagemath/sagetrac-mirror/commit/a1d02e4c35099cfe7bc344fd8647b38b526eacbb)|`23257: Changed fast_mandel_plot to fast_mandelbrot_plot`|
|[8aae69c](https://github.com/sagemath/sagetrac-mirror/commit/8aae69cc30ad0e566e0e1fe6f7646822b91df50c)|`23257: Changed default for interact to False`|
|[f52fb3f](https://github.com/sagemath/sagetrac-mirror/commit/f52fb3fc9b32f6c24bdf3f308740603933d44600)|`23257: Added complex_dynamics to dynamics/index.rst`|
|[607cc2d](https://github.com/sagemath/sagetrac-mirror/commit/607cc2d56161e70836edf20a2b4b906c21eacff0)|`Merge branch 'develop' of git://trac.sagemath.org/sage into ExternalRays`|
|[6280217](https://github.com/sagemath/sagetrac-mirror/commit/62802172b0e67bcd53fce6d781bdf13914e6f46d)|`23425: Added external_ray function, helper functions.`|



---

archive/issue_comments_442842.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-07-13T18:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442842",
    "user": "https://github.com/bbarros50"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_442843.json:
```json
{
    "body": "<a id='comment:3'></a>\nI haven't had a chance to do much testing yet. So far it appears to work well in the notebook, but I need to do a thorough code review. Here is at least one error:\n\n```\nsage: external_ray(3/7,D=70)\nValueError: cannot convert float NaN to integer\n```\nif you zoom in, it looks like something is going wrong with the later Newton's methods\n\n```\nsage: external_ray(3/7,D=60, image_width=0.1, x_center=-1.75)\n```\n\nhere are a few minor things I picked out:\n\n- need to input check 0<=  ray <=1\n\n- need to wrap the long lines (90 characters is the typical limit)\n\n- add a ray color example\n\n- change the first long example to a decimal\n\n- in warning:\n  - typo 'specify the which'\n\n- you shouldn't need to keywords for the mandelbrot set here.\n\nIt would be cleaner to default image to None. Then after you .pop image you check if 'is None' and if true mandelbrot_plot. If you use .get() instead of .pop() you can pass kwds directly to mandelbrot_plot.\n\n- you can just say, theta = list(theta) instead of \n\n```\n    if type(theta) != list:\n        theta = [theta]\n```\n\n- put something in the doc about: if the ray doesn't reach the boundary increase D, if the ray looks jagged increase S. Has a speed penalty",
    "created_at": "2017-07-16T18:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442843",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:3'></a>
I haven't had a chance to do much testing yet. So far it appears to work well in the notebook, but I need to do a thorough code review. Here is at least one error:

```
sage: external_ray(3/7,D=70)
ValueError: cannot convert float NaN to integer
```
if you zoom in, it looks like something is going wrong with the later Newton's methods

```
sage: external_ray(3/7,D=60, image_width=0.1, x_center=-1.75)
```

here are a few minor things I picked out:

- need to input check 0<=  ray <=1

- need to wrap the long lines (90 characters is the typical limit)

- add a ray color example

- change the first long example to a decimal

- in warning:
  - typo 'specify the which'

- you shouldn't need to keywords for the mandelbrot set here.

It would be cleaner to default image to None. Then after you .pop image you check if 'is None' and if true mandelbrot_plot. If you use .get() instead of .pop() you can pass kwds directly to mandelbrot_plot.

- you can just say, theta = list(theta) instead of 

```
    if type(theta) != list:
        theta = [theta]
```

- put something in the doc about: if the ray doesn't reach the boundary increase D, if the ray looks jagged increase S. Has a speed penalty



---

archive/issue_comments_442844.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-07-16T18:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442844",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_442845.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Ben Hutz\"",
    "created_at": "2017-07-16T18:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442845",
    "user": "https://github.com/bhutz"
}
```

Changing reviewer from "" to "Ben Hutz"



---

archive/issue_comments_442846.json:
```json
{
    "body": "Changing commit from \"62802172b0e67bcd53fce6d781bdf13914e6f46d\" to \"9aabbed7018fb0f5d10e9c512040085a5655a9ec\"",
    "created_at": "2017-07-26T19:11:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442846",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "62802172b0e67bcd53fce6d781bdf13914e6f46d" to "9aabbed7018fb0f5d10e9c512040085a5655a9ec"



---

archive/issue_comments_442847.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[9aabbed](https://github.com/sagemath/sagetrac-mirror/commit/9aabbed7018fb0f5d10e9c512040085a5655a9ec)|`23425: Bug fixes, edited examples`|",
    "created_at": "2017-07-26T19:11:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442847",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[9aabbed](https://github.com/sagemath/sagetrac-mirror/commit/9aabbed7018fb0f5d10e9c512040085a5655a9ec)|`23425: Bug fixes, edited examples`|



---

archive/issue_comments_442848.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-07-26T19:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442848",
    "user": "https://github.com/bbarros50"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_442849.json:
```json
{
    "body": "<a id='comment:6'></a>\nThe following code didn't work:\n\n```\ntheta = list(theta)\n```\n\nSince it returns the following error:\n\n```\nTypeError: 'sage.rings.integer.Integer' object is not iterable\n```",
    "created_at": "2017-07-26T19:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442849",
    "user": "https://github.com/bbarros50"
}
```

<a id='comment:6'></a>
The following code didn't work:

```
theta = list(theta)
```

Since it returns the following error:

```
TypeError: 'sage.rings.integer.Integer' object is not iterable
```



---

archive/issue_comments_442850.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-07-27T14:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442850",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_442851.json:
```json
{
    "body": "<a id='comment:7'></a>\nJust one very minor comment\n\nIn the description of the input `R` there is an extra word or something. Also, I'd add the comment similar to the other parameters that if R is too small Newton's method may not converge to the correct ray.",
    "created_at": "2017-07-27T14:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442851",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:7'></a>
Just one very minor comment

In the description of the input `R` there is an extra word or something. Also, I'd add the comment similar to the other parameters that if R is too small Newton's method may not converge to the correct ray.



---

archive/issue_comments_442852.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[7a7d890](https://github.com/sagemath/sagetrac-mirror/commit/7a7d8908eceb8e38116b76b86cf68e79c99f4ff4)|`23425: Updated documentation`|",
    "created_at": "2017-07-27T19:48:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442852",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[7a7d890](https://github.com/sagemath/sagetrac-mirror/commit/7a7d8908eceb8e38116b76b86cf68e79c99f4ff4)|`23425: Updated documentation`|



---

archive/issue_comments_442853.json:
```json
{
    "body": "Changing commit from \"9aabbed7018fb0f5d10e9c512040085a5655a9ec\" to \"7a7d8908eceb8e38116b76b86cf68e79c99f4ff4\"",
    "created_at": "2017-07-27T19:48:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442853",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9aabbed7018fb0f5d10e9c512040085a5655a9ec" to "7a7d8908eceb8e38116b76b86cf68e79c99f4ff4"



---

archive/issue_comments_442854.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-07-27T20:36:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442854",
    "user": "https://github.com/bbarros50"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_442855.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-07-27T20:47:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442855",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_442856.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-08-04T18:21:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442856",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_068446.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-04T18:21:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23425#event-68446"
}
```



---

archive/issue_comments_442857.json:
```json
{
    "body": "Changing branch from \"u/bbarros/23425\" to \"7a7d8908eceb8e38116b76b86cf68e79c99f4ff4\"",
    "created_at": "2017-08-04T18:21:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23425#issuecomment-442857",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/bbarros/23425" to "7a7d8908eceb8e38116b76b86cf68e79c99f4ff4"
