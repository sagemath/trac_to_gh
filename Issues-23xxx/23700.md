# Issue 23700: update gc to version 7.6

archive/issues_023463.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nAn update to gc is needed to support arm64/aarch64, see #23687,\nas well as for FreeBSD support, see #22679.\nIt also appears to be good to be in sync with Linux boxes that ship make with guile extension (the latter depends on gc, and causes interesting errors, see #24575).\n\nThe source is here:\nhttps://github.com/ivmai/bdwgc/releases/download/v7.6.4/gc-7.6.4.tar.gz\n\nOn some platforms this new version also needs libatomic_ops, see #23701\n\nCC:  @kiwifb @embray\n\nComponent: **packages: standard**\n\nAuthor: **Dima Pasechnik, Erik Bray**\n\nBranch/Commit: **[`cd63b82`](https://github.com/sagemath/sagetrac-mirror/commit/cd63b82e0d58ecd4961a22e084c6d43af667c7bc)**\n\nReviewer: **Erik Bray, Dima Pasechnik, Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23700_\n\n",
    "closed_at": "2018-03-08T00:02:44Z",
    "created_at": "2017-08-24T13:58:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "update gc to version 7.6",
    "type": "issue",
    "updated_at": "2018-03-08T00:02:44Z",
    "url": "https://github.com/sagemath/sage/issues/23700",
    "user": "https://github.com/dimpase"
}
```
<div id="comment:0"></div>

An update to gc is needed to support arm64/aarch64, see #23687,
as well as for FreeBSD support, see #22679.
It also appears to be good to be in sync with Linux boxes that ship make with guile extension (the latter depends on gc, and causes interesting errors, see #24575).

The source is here:
https://github.com/ivmai/bdwgc/releases/download/v7.6.4/gc-7.6.4.tar.gz

On some platforms this new version also needs libatomic_ops, see #23701

CC:  @kiwifb @embray

Component: **packages: standard**

Author: **Dima Pasechnik, Erik Bray**

Branch/Commit: **[`cd63b82`](https://github.com/sagemath/sagetrac-mirror/commit/cd63b82e0d58ecd4961a22e084c6d43af667c7bc)**

Reviewer: **Erik Bray, Dima Pasechnik, Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/23700_





---

archive/issue_events_326631.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-08-24T13:58:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326631"
}
```



---

archive/issue_events_326632.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-08-24T13:58:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326632"
}
```



---

archive/issue_events_326633.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-08-24T13:58:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326633"
}
```



---

archive/issue_events_326634.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-08-24T13:58:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326634"
}
```



---

archive/issue_comments_357114.json:
```json
{
    "body": "Dependencies: **#23701**",
    "created_at": "2017-08-24T14:03:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357114",
    "user": "https://github.com/dimpase"
}
```

Dependencies: **#23701**



---

archive/issue_comments_357115.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n The source is here: http://www.hboehm.info/gc/gc_source/gc-7.6.0.tar.gz\n \n-On some platforms this new version also needs libatomic_ops.\n+On some platforms this new version also needs libatomic_ops, see #23701\n``````\n",
    "created_at": "2017-08-24T14:03:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357115",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 The source is here: http://www.hboehm.info/gc/gc_source/gc-7.6.0.tar.gz
 
-On some platforms this new version also needs libatomic_ops.
+On some platforms this new version also needs libatomic_ops, see #23701
``````




---

archive/issue_comments_357116.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d09a89df33436f32667b197112687c297e27bcd\"><code>7d09a89</code></a></td><td><code>libatomic_ops added as standard pkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c8c3e39a6df40b63ce038a041bcaf414fb357f9\"><code>7c8c3e3</code></a></td><td><code>Merge branch 'libatomic_ops' into gcupdate</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/277ddd77e391269febfa10a66c62f34f475b4181\"><code>277ddd7</code></a></td><td><code>libatomic_ops is a dependency</code></td></tr></table>\n",
    "created_at": "2017-08-24T15:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357116",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d09a89df33436f32667b197112687c297e27bcd"><code>7d09a89</code></a></td><td><code>libatomic_ops added as standard pkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c8c3e39a6df40b63ce038a041bcaf414fb357f9"><code>7c8c3e3</code></a></td><td><code>Merge branch 'libatomic_ops' into gcupdate</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/277ddd77e391269febfa10a66c62f34f475b4181"><code>277ddd7</code></a></td><td><code>libatomic_ops is a dependency</code></td></tr></table>




---

archive/issue_comments_357117.json:
```json
{
    "body": "Changed commit from **[`37cbca1`](https://github.com/sagemath/sagetrac-mirror/commit/37cbca100a8be09b868a9280550de5a039600cac)** to **[`277ddd7`](https://github.com/sagemath/sagetrac-mirror/commit/277ddd77e391269febfa10a66c62f34f475b4181)**",
    "created_at": "2017-08-24T15:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357117",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`37cbca1`](https://github.com/sagemath/sagetrac-mirror/commit/37cbca100a8be09b868a9280550de5a039600cac)** to **[`277ddd7`](https://github.com/sagemath/sagetrac-mirror/commit/277ddd77e391269febfa10a66c62f34f475b4181)**



---

archive/issue_events_326635.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-08-24T15:16:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326635"
}
```



---

archive/issue_comments_357118.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nErik, could you please check whether this works on Cygwin without your patch?\n\n(one need #23701 first, and re-running `./configure` to register the new package)",
    "created_at": "2017-08-24T15:16:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357118",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:3" align="right">comment:3</div>

Erik, could you please check whether this works on Cygwin without your patch?

(one need #23701 first, and re-running `./configure` to register the new package)



---

archive/issue_comments_357119.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2017-08-24T15:16:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357119",
    "user": "https://github.com/dimpase"
}
```

Author: **Dima Pasechnik**



---

archive/issue_comments_357120.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAh, yes. I remember this.  I'll give it a go.",
    "created_at": "2017-08-25T15:33:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357120",
    "user": "https://github.com/embray"
}
```

<div id="comment:4" align="right">comment:4</div>

Ah, yes. I remember this.  I'll give it a go.



---

archive/issue_comments_357121.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI think this branch needs to be updated on the latest version of #23701 since it's using 7.4.6 and this branch is using 7.4.4.",
    "created_at": "2017-08-25T15:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357121",
    "user": "https://github.com/embray"
}
```

<div id="comment:5" align="right">comment:5</div>

I think this branch needs to be updated on the latest version of #23701 since it's using 7.4.6 and this branch is using 7.4.4.



---

archive/issue_comments_357122.json:
```json
{
    "body": "Changed commit from **[`277ddd7`](https://github.com/sagemath/sagetrac-mirror/commit/277ddd77e391269febfa10a66c62f34f475b4181)** to **[`e53f784`](https://github.com/sagemath/sagetrac-mirror/commit/e53f78480379ce726091927c870c0869cb115b40)**",
    "created_at": "2017-08-25T15:46:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357122",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`277ddd7`](https://github.com/sagemath/sagetrac-mirror/commit/277ddd77e391269febfa10a66c62f34f475b4181)** to **[`e53f784`](https://github.com/sagemath/sagetrac-mirror/commit/e53f78480379ce726091927c870c0869cb115b40)**



---

archive/issue_comments_357123.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d5bbd03ee8762042cde99740e821169c3d3a579\"><code>4d5bbd0</code></a></td><td><code>libatomic_ops 7.4.6 added as standard pkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e53f78480379ce726091927c870c0869cb115b40\"><code>e53f784</code></a></td><td><code>Merge branch 'u/dimpase/libatomic_ops' of trac.sagemath.org:sage into gcupdate</code></td></tr></table>\n",
    "created_at": "2017-08-25T15:46:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357123",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d5bbd03ee8762042cde99740e821169c3d3a579"><code>4d5bbd0</code></a></td><td><code>libatomic_ops 7.4.6 added as standard pkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e53f78480379ce726091927c870c0869cb115b40"><code>e53f784</code></a></td><td><code>Merge branch 'u/dimpase/libatomic_ops' of trac.sagemath.org:sage into gcupdate</code></td></tr></table>




---

archive/issue_comments_357124.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nYou're right - done now.",
    "created_at": "2017-08-25T15:47:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357124",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

You're right - done now.



---

archive/issue_comments_357125.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThanks--now it's working. Or at least, it's building.  Can't say anything about tests right now.",
    "created_at": "2017-08-25T15:57:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357125",
    "user": "https://github.com/embray"
}
```

<div id="comment:8" align="right">comment:8</div>

Thanks--now it's working. Or at least, it's building.  Can't say anything about tests right now.



---

archive/issue_comments_357126.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\non FreeBSD this needs the patch fixing https://github.com/ivmai/bdwgc/issues/132",
    "created_at": "2017-08-30T12:09:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357126",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">comment:9</div>

on FreeBSD this needs the patch fixing https://github.com/ivmai/bdwgc/issues/132



---

archive/issue_comments_357127.json:
```json
{
    "body": "Changed commit from **[`e53f784`](https://github.com/sagemath/sagetrac-mirror/commit/e53f78480379ce726091927c870c0869cb115b40)** to **[`931652a`](https://github.com/sagemath/sagetrac-mirror/commit/931652aecee2bd1d775ccbd8fcc18aa5d1afb0ee)**",
    "created_at": "2017-08-30T14:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357127",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e53f784`](https://github.com/sagemath/sagetrac-mirror/commit/e53f78480379ce726091927c870c0869cb115b40)** to **[`931652a`](https://github.com/sagemath/sagetrac-mirror/commit/931652aecee2bd1d775ccbd8fcc18aa5d1afb0ee)**



---

archive/issue_comments_357128.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8166e2103f9a9c92cf72fd90ccc192352b859fb4\"><code>8166e21</code></a></td><td><code>libatomic_ops 7.6.4 added as standard pkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64da17f2ff0ab29ec2d2d2a80b1c49ee4f054b21\"><code>64da17f</code></a></td><td><code>Merge branch 'libatomic_ops' into gcupdate</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82eabaec2123ef6246f2a854a469c7ca3d6d7368\"><code>82eabae</code></a></td><td><code>patch for FreeBSD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/931652aecee2bd1d775ccbd8fcc18aa5d1afb0ee\"><code>931652a</code></a></td><td><code>Merge branch 'u/dimpase/gcupdate' of trac.sagemath.org:sage into gcupdate</code></td></tr></table>\n",
    "created_at": "2017-08-30T14:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357128",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8166e2103f9a9c92cf72fd90ccc192352b859fb4"><code>8166e21</code></a></td><td><code>libatomic_ops 7.6.4 added as standard pkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64da17f2ff0ab29ec2d2d2a80b1c49ee4f054b21"><code>64da17f</code></a></td><td><code>Merge branch 'libatomic_ops' into gcupdate</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82eabaec2123ef6246f2a854a469c7ca3d6d7368"><code>82eabae</code></a></td><td><code>patch for FreeBSD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/931652aecee2bd1d775ccbd8fcc18aa5d1afb0ee"><code>931652a</code></a></td><td><code>Merge branch 'u/dimpase/gcupdate' of trac.sagemath.org:sage into gcupdate</code></td></tr></table>




---

archive/issue_comments_357129.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nOn Linux tests pass, but I can trigger a nasty crash interactively:\n\n```\nsage: from sage.libs.ecl import *\nsage: from sage.interfaces.maxima_lib import <TAB>\n```\nDebian [experimental uses gc 7.4.4](https://people.debian.org/~thansen/debian-sage-status.html), so this would be one to test for this regression, too.",
    "created_at": "2017-09-28T03:51:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357129",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

On Linux tests pass, but I can trigger a nasty crash interactively:

```
sage: from sage.libs.ecl import *
sage: from sage.interfaces.maxima_lib import <TAB>
```
Debian [experimental uses gc 7.4.4](https://people.debian.org/~thansen/debian-sage-status.html), so this would be one to test for this regression, too.



---

archive/issue_events_326636.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-09-28T03:51:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326636"
}
```



---

archive/issue_events_326637.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-09-28T03:51:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326637"
}
```



---

archive/issue_comments_357130.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nWith GC included in ECL (tagged version 7.5.0 in ECL source, although I haven't checked how canonical this is) I do get the crash in comment 11.",
    "created_at": "2017-09-28T08:59:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357130",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

With GC included in ECL (tagged version 7.5.0 in ECL source, although I haven't checked how canonical this is) I do get the crash in comment 11.



---

archive/issue_comments_357131.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9ca58999ad1adb3c71a5be8ae9b14b7d8abbd02\"><code>f9ca589</code></a></td><td><code>Merge branch 'u/dimpase/gcupdate' of trac.sagemath.org:sage into gc76</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e365c32caf4e82cc9f6a43f066d8314313756248\"><code>e365c32</code></a></td><td><code>backported patch for FreeBSD support</code></td></tr></table>\n",
    "created_at": "2017-10-03T10:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357131",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9ca58999ad1adb3c71a5be8ae9b14b7d8abbd02"><code>f9ca589</code></a></td><td><code>Merge branch 'u/dimpase/gcupdate' of trac.sagemath.org:sage into gc76</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e365c32caf4e82cc9f6a43f066d8314313756248"><code>e365c32</code></a></td><td><code>backported patch for FreeBSD support</code></td></tr></table>




---

archive/issue_comments_357132.json:
```json
{
    "body": "Changed commit from **[`931652a`](https://github.com/sagemath/sagetrac-mirror/commit/931652aecee2bd1d775ccbd8fcc18aa5d1afb0ee)** to **[`e365c32`](https://github.com/sagemath/sagetrac-mirror/commit/e365c32caf4e82cc9f6a43f066d8314313756248)**",
    "created_at": "2017-10-03T10:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357132",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`931652a`](https://github.com/sagemath/sagetrac-mirror/commit/931652aecee2bd1d775ccbd8fcc18aa5d1afb0ee)** to **[`e365c32`](https://github.com/sagemath/sagetrac-mirror/commit/e365c32caf4e82cc9f6a43f066d8314313756248)**



---

archive/issue_events_326638.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-10-03T10:17:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326638"
}
```



---

archive/issue_events_326639.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-10-03T10:17:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326639"
}
```



---

archive/issue_comments_357133.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nTurns out this is still not building properly on Cygwin.  It fails to produce a shared lib at link time:\n\n```\n/bin/sh ./libtool  --tag=CC   --mode=link gcc   -fexceptions -Wall -Wextra -O2 -g  -fno-strict-aliasing  -version-info 1:3:0 -no-undefined -L/home/embray/src/sagemath/sage/local/lib -Wl,-rpath,/home/embray/src/sagemath/sage/local/lib  -o libgc.la -rpath /home/embray/src/sagemath/sage/local/lib allchblk.lo alloc.lo blacklst.lo checksums.lo dbg_mlc.lo dyn_load.lo finalize.lo gc_dlopen.lo gcj_mlc.lo headers.lo mach_dep.lo malloc.lo mallocx.lo mark.lo mark_rts.lo misc.lo new_hblk.lo obj_map.lo os_dep.lo pcr_interface.lo ptr_chck.lo real_malloc.lo reclaim.lo specific.lo stubborn.lo thread_local_alloc.lo typd_mlc.lo win32_threads.lo     fnlz_mlc.lo    -L/home/embray/src/sagemath/sage/local/lib -latomic_ops\nmv -f cord/.deps/libcord_la-cordxtra.Tpo cord/.deps/libcord_la-cordxtra.Plo\n\n*** Warning: linker path does not have real file for library -latomic_ops.\n*** I have the capability to make that library automatically link in when\n*** you link to this library.  But I can only do this if you have a\n*** shared version of the library, which you do not appear to have\n*** because I did check the linker path looking for a file starting\n*** with libatomic_ops and none of the candidates passed a file format test\n*** using a file magic. Last file checked: /home/embray/src/sagemath/sage/local/lib/libatomic_ops.a\n*** The inter-library dependencies that have been dropped here will be\n*** automatically added whenever a program is linked with this library\n*** or is declared to -dlopen it.\n\n*** Since this library must not contain undefined symbols,\n*** because either the platform does not support them or\n*** it was explicitly requested with -no-undefined,\n*** libtool will only create a static version of it.\nlibtool: link: ar cru .libs/libgc.a  allchblk.o alloc.o blacklst.o checksums.o dbg_mlc.o dyn_load.o finalize.o gc_dlopen.o gcj_mlc.o headers.o mach_dep.o malloc.o mallocx.o mark.o mark_rts.o misc.o new_hblk.o obj_map.o os_dep.o pcr_interface.o ptr_chck.o real_malloc.o reclaim.o specific.o stubborn.o thread_local_alloc.o typd_mlc.o win32_threads.o fnlz_mlc.o\nlibtool: link: ranlib .libs/libgc.a\nlibtool: link: ( cd \".libs\" && rm -f \"libgc.la\" && ln -s \"../libgc.la\" \"libgc.la\" )\n/bin/sh ./libtool  --tag=CC   --mode=link gcc   -fexceptions -Wall -Wextra -O2 -g  -fno-strict-aliasing -version-info 1:3:0 -no-undefined -L/home/embray/src/sagemath/sage/local/lib -Wl,-rpath,/home/embray/src/sagemath/sage/local/lib  -o libcord.la -rpath /home/embray/src/sagemath/sage/local/lib cord/libcord_la-cordbscs.lo cord/libcord_la-cordprnt.lo cord/libcord_la-cordxtra.lo ./libgc.la\n\n*** Warning: This system cannot link to static lib archive ./libgc.la.\n*** I have the capability to make that library automatically link in when\n*** you link to this library.  But I can only do this if you have a\n*** shared version of the library, which you do not appear to have.\n\n*** Warning: linker path does not have real file for library -latomic_ops.\n*** I have the capability to make that library automatically link in when\n*** you link to this library.  But I can only do this if you have a\n*** shared version of the library, which you do not appear to have\n*** because I did check the linker path looking for a file starting\n*** with libatomic_ops and none of the candidates passed a file format test\n*** using a file magic. Last file checked: /home/embray/src/sagemath/sage/local/lib/libatomic_ops.a\n*** The inter-library dependencies that have been dropped here will be\n*** automatically added whenever a program is linked with this library\n*** or is declared to -dlopen it.\n\n*** Since this library must not contain undefined symbols,\n*** because either the platform does not support them or\n*** it was explicitly requested with -no-undefined,\n*** libtool will only create a static version of it.\nlibtool: link: ar cru .libs/libcord.a  cord/libcord_la-cordbscs.o cord/libcord_la-cordprnt.o cord/libcord_la-cordxtra.o\nlibtool: link: ranlib .libs/libcord.a\nlibtool: link: ( cd \".libs\" && rm -f \"libcord.la\" && ln -s \"../libcord.la\" \"libcord.la\" )\n```\n\nIt's probably a minor issue with link flag ordering.  I will investigate and provide a solution.",
    "created_at": "2017-10-09T12:04:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357133",
    "user": "https://github.com/embray"
}
```

<div id="comment:15" align="right">comment:15</div>

Turns out this is still not building properly on Cygwin.  It fails to produce a shared lib at link time:

```
/bin/sh ./libtool  --tag=CC   --mode=link gcc   -fexceptions -Wall -Wextra -O2 -g  -fno-strict-aliasing  -version-info 1:3:0 -no-undefined -L/home/embray/src/sagemath/sage/local/lib -Wl,-rpath,/home/embray/src/sagemath/sage/local/lib  -o libgc.la -rpath /home/embray/src/sagemath/sage/local/lib allchblk.lo alloc.lo blacklst.lo checksums.lo dbg_mlc.lo dyn_load.lo finalize.lo gc_dlopen.lo gcj_mlc.lo headers.lo mach_dep.lo malloc.lo mallocx.lo mark.lo mark_rts.lo misc.lo new_hblk.lo obj_map.lo os_dep.lo pcr_interface.lo ptr_chck.lo real_malloc.lo reclaim.lo specific.lo stubborn.lo thread_local_alloc.lo typd_mlc.lo win32_threads.lo     fnlz_mlc.lo    -L/home/embray/src/sagemath/sage/local/lib -latomic_ops
mv -f cord/.deps/libcord_la-cordxtra.Tpo cord/.deps/libcord_la-cordxtra.Plo

*** Warning: linker path does not have real file for library -latomic_ops.
*** I have the capability to make that library automatically link in when
*** you link to this library.  But I can only do this if you have a
*** shared version of the library, which you do not appear to have
*** because I did check the linker path looking for a file starting
*** with libatomic_ops and none of the candidates passed a file format test
*** using a file magic. Last file checked: /home/embray/src/sagemath/sage/local/lib/libatomic_ops.a
*** The inter-library dependencies that have been dropped here will be
*** automatically added whenever a program is linked with this library
*** or is declared to -dlopen it.

*** Since this library must not contain undefined symbols,
*** because either the platform does not support them or
*** it was explicitly requested with -no-undefined,
*** libtool will only create a static version of it.
libtool: link: ar cru .libs/libgc.a  allchblk.o alloc.o blacklst.o checksums.o dbg_mlc.o dyn_load.o finalize.o gc_dlopen.o gcj_mlc.o headers.o mach_dep.o malloc.o mallocx.o mark.o mark_rts.o misc.o new_hblk.o obj_map.o os_dep.o pcr_interface.o ptr_chck.o real_malloc.o reclaim.o specific.o stubborn.o thread_local_alloc.o typd_mlc.o win32_threads.o fnlz_mlc.o
libtool: link: ranlib .libs/libgc.a
libtool: link: ( cd ".libs" && rm -f "libgc.la" && ln -s "../libgc.la" "libgc.la" )
/bin/sh ./libtool  --tag=CC   --mode=link gcc   -fexceptions -Wall -Wextra -O2 -g  -fno-strict-aliasing -version-info 1:3:0 -no-undefined -L/home/embray/src/sagemath/sage/local/lib -Wl,-rpath,/home/embray/src/sagemath/sage/local/lib  -o libcord.la -rpath /home/embray/src/sagemath/sage/local/lib cord/libcord_la-cordbscs.lo cord/libcord_la-cordprnt.lo cord/libcord_la-cordxtra.lo ./libgc.la

*** Warning: This system cannot link to static lib archive ./libgc.la.
*** I have the capability to make that library automatically link in when
*** you link to this library.  But I can only do this if you have a
*** shared version of the library, which you do not appear to have.

*** Warning: linker path does not have real file for library -latomic_ops.
*** I have the capability to make that library automatically link in when
*** you link to this library.  But I can only do this if you have a
*** shared version of the library, which you do not appear to have
*** because I did check the linker path looking for a file starting
*** with libatomic_ops and none of the candidates passed a file format test
*** using a file magic. Last file checked: /home/embray/src/sagemath/sage/local/lib/libatomic_ops.a
*** The inter-library dependencies that have been dropped here will be
*** automatically added whenever a program is linked with this library
*** or is declared to -dlopen it.

*** Since this library must not contain undefined symbols,
*** because either the platform does not support them or
*** it was explicitly requested with -no-undefined,
*** libtool will only create a static version of it.
libtool: link: ar cru .libs/libcord.a  cord/libcord_la-cordbscs.o cord/libcord_la-cordprnt.o cord/libcord_la-cordxtra.o
libtool: link: ranlib .libs/libcord.a
libtool: link: ( cd ".libs" && rm -f "libcord.la" && ln -s "../libcord.la" "libcord.la" )
```

It's probably a minor issue with link flag ordering.  I will investigate and provide a solution.



---

archive/issue_events_326640.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-10-09T12:04:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326640"
}
```



---

archive/issue_events_326641.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-10-09T12:04:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326641"
}
```



---

archive/issue_comments_357134.json:
```json
{
    "body": "Changed commit from **[`e365c32`](https://github.com/sagemath/sagetrac-mirror/commit/e365c32caf4e82cc9f6a43f066d8314313756248)** to **[`32b8eeb`](https://github.com/sagemath/sagetrac-mirror/commit/32b8eeba01a780943c24e58e8108582babeec8b7)**",
    "created_at": "2017-10-09T14:09:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357134",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e365c32`](https://github.com/sagemath/sagetrac-mirror/commit/e365c32caf4e82cc9f6a43f066d8314313756248)** to **[`32b8eeb`](https://github.com/sagemath/sagetrac-mirror/commit/32b8eeba01a780943c24e58e8108582babeec8b7)**



---

archive/issue_comments_357135.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b0f626d206ef4b53befb3f15002b11876b850c2\"><code>7b0f626</code></a></td><td><code>Merge branch 'u/dimpase/libatomic_ops' of trac.sagemath.org:sage into laup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c5d8f6c84a0a0b00c8c924a881adc20051d6528\"><code>5c5d8f6</code></a></td><td><code>remove meaningless flags</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32b8eeba01a780943c24e58e8108582babeec8b7\"><code>32b8eeb</code></a></td><td><code>Merge branch 'u/dimpase/gcupdate' of trac.sagemath.org:sage into laup</code></td></tr></table>\n",
    "created_at": "2017-10-09T14:09:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357135",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b0f626d206ef4b53befb3f15002b11876b850c2"><code>7b0f626</code></a></td><td><code>Merge branch 'u/dimpase/libatomic_ops' of trac.sagemath.org:sage into laup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c5d8f6c84a0a0b00c8c924a881adc20051d6528"><code>5c5d8f6</code></a></td><td><code>remove meaningless flags</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32b8eeba01a780943c24e58e8108582babeec8b7"><code>32b8eeb</code></a></td><td><code>Merge branch 'u/dimpase/gcupdate' of trac.sagemath.org:sage into laup</code></td></tr></table>




---

archive/issue_comments_357136.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nupdated the branch to take into account update on #23701",
    "created_at": "2017-10-09T14:10:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357136",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

updated the branch to take into account update on #23701



---

archive/issue_comments_357137.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n-An update to gc is needed to support arm64/aarch64, see #23687.\n+An update to gc is needed to support arm64/aarch64, see #23687,\n+as well as for FreeBSD support, see #22679.\n \n The source is here: http://www.hboehm.info/gc/gc_source/gc-7.6.0.tar.gz\n \n``````\n",
    "created_at": "2017-10-09T14:11:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357137",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,5 @@
-An update to gc is needed to support arm64/aarch64, see #23687.
+An update to gc is needed to support arm64/aarch64, see #23687,
+as well as for FreeBSD support, see #22679.
 
 The source is here: http://www.hboehm.info/gc/gc_source/gc-7.6.0.tar.gz
 
``````




---

archive/issue_comments_357138.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAh, I should have warned you, I'm about to propose another needed change for #23701.",
    "created_at": "2017-10-09T14:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357138",
    "user": "https://github.com/embray"
}
```

<div id="comment:19" align="right">comment:19</div>

Ah, I should have warned you, I'm about to propose another needed change for #23701.



---

archive/issue_comments_357139.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nWe should go for 7.6.2:\nhttps://github.com/ivmai/bdwgc/releases/tag/v7.6.2\nIn particular, this includes the patches needed by the FreeBSD port.\nI will update this accordingly.",
    "created_at": "2018-01-06T00:22:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357139",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

We should go for 7.6.2:
https://github.com/ivmai/bdwgc/releases/tag/v7.6.2
In particular, this includes the patches needed by the FreeBSD port.
I will update this accordingly.



---

archive/issue_comments_357140.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54e1da7be205dda93525f2c5b4c57f28ce5bd47c\"><code>54e1da7</code></a></td><td><code>Merge branch 'develop' into libatomic_ops</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a024f8d8183ff46dee1b34a73887885bb206dda9\"><code>a024f8d</code></a></td><td><code>7.6.2 is the current version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7db1b1444d1dbb2829f06a78585c8bb40bca5855\"><code>7db1b14</code></a></td><td><code>Merge 'libatomic_ops' -> gcupdate, update to 7.6.2</code></td></tr></table>\n",
    "created_at": "2018-01-06T01:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357140",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54e1da7be205dda93525f2c5b4c57f28ce5bd47c"><code>54e1da7</code></a></td><td><code>Merge branch 'develop' into libatomic_ops</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a024f8d8183ff46dee1b34a73887885bb206dda9"><code>a024f8d</code></a></td><td><code>7.6.2 is the current version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7db1b1444d1dbb2829f06a78585c8bb40bca5855"><code>7db1b14</code></a></td><td><code>Merge 'libatomic_ops' -> gcupdate, update to 7.6.2</code></td></tr></table>




---

archive/issue_comments_357141.json:
```json
{
    "body": "Changed commit from **[`32b8eeb`](https://github.com/sagemath/sagetrac-mirror/commit/32b8eeba01a780943c24e58e8108582babeec8b7)** to **[`7db1b14`](https://github.com/sagemath/sagetrac-mirror/commit/7db1b1444d1dbb2829f06a78585c8bb40bca5855)**",
    "created_at": "2018-01-06T01:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357141",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`32b8eeb`](https://github.com/sagemath/sagetrac-mirror/commit/32b8eeba01a780943c24e58e8108582babeec8b7)** to **[`7db1b14`](https://github.com/sagemath/sagetrac-mirror/commit/7db1b1444d1dbb2829f06a78585c8bb40bca5855)**



---

archive/issue_events_326642.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-01-06T01:30:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326642"
}
```



---

archive/issue_events_326643.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-01-06T01:30:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326643"
}
```



---

archive/issue_comments_357142.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n An update to gc is needed to support arm64/aarch64, see #23687,\n as well as for FreeBSD support, see #22679.\n \n-The source is here: http://www.hboehm.info/gc/gc_source/gc-7.6.0.tar.gz\n+The source is here: https://github.com/ivmai/bdwgc/releases/download/v7.6.2/gc-7.6.2.tar.gz\n \n On some platforms this new version also needs libatomic_ops, see #23701\n``````\n",
    "created_at": "2018-01-06T01:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357142",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 An update to gc is needed to support arm64/aarch64, see #23687,
 as well as for FreeBSD support, see #22679.
 
-The source is here: http://www.hboehm.info/gc/gc_source/gc-7.6.0.tar.gz
+The source is here: https://github.com/ivmai/bdwgc/releases/download/v7.6.2/gc-7.6.2.tar.gz
 
 On some platforms this new version also needs libatomic_ops, see #23701
``````




---

archive/issue_comments_357143.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b97bf993652a49c9dbc14dd40e2bed2090e70465\"><code>b97bf99</code></a></td><td><code>removing already included patches</code></td></tr></table>\n",
    "created_at": "2018-01-06T01:45:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357143",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b97bf993652a49c9dbc14dd40e2bed2090e70465"><code>b97bf99</code></a></td><td><code>removing already included patches</code></td></tr></table>




---

archive/issue_comments_357144.json:
```json
{
    "body": "Changed commit from **[`7db1b14`](https://github.com/sagemath/sagetrac-mirror/commit/7db1b1444d1dbb2829f06a78585c8bb40bca5855)** to **[`b97bf99`](https://github.com/sagemath/sagetrac-mirror/commit/b97bf993652a49c9dbc14dd40e2bed2090e70465)**",
    "created_at": "2018-01-06T01:45:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357144",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7db1b14`](https://github.com/sagemath/sagetrac-mirror/commit/7db1b1444d1dbb2829f06a78585c8bb40bca5855)** to **[`b97bf99`](https://github.com/sagemath/sagetrac-mirror/commit/b97bf993652a49c9dbc14dd40e2bed2090e70465)**



---

archive/issue_comments_357145.json:
```json
{
    "body": "Changed commit from **[`b97bf99`](https://github.com/sagemath/sagetrac-mirror/commit/b97bf993652a49c9dbc14dd40e2bed2090e70465)** to **[`e790e65`](https://github.com/sagemath/sagetrac-mirror/commit/e790e65e44e0ff74a9b58ee8366348f3f2ca9a5d)**",
    "created_at": "2018-01-08T14:31:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357145",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b97bf99`](https://github.com/sagemath/sagetrac-mirror/commit/b97bf993652a49c9dbc14dd40e2bed2090e70465)** to **[`e790e65`](https://github.com/sagemath/sagetrac-mirror/commit/e790e65e44e0ff74a9b58ee8366348f3f2ca9a5d)**



---

archive/issue_comments_357146.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e790e65e44e0ff74a9b58ee8366348f3f2ca9a5d\"><code>e790e65</code></a></td><td><code>removing already included patches</code></td></tr></table>\n",
    "created_at": "2018-01-08T14:31:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357146",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e790e65e44e0ff74a9b58ee8366348f3f2ca9a5d"><code>e790e65</code></a></td><td><code>removing already included patches</code></td></tr></table>




---

archive/issue_events_326644.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-01-08T14:33:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326644"
}
```



---

archive/issue_events_326645.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-01-08T14:33:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326645"
}
```



---

archive/issue_comments_357147.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nOK, another advantage is that all our patches are now upstream!",
    "created_at": "2018-01-08T14:33:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357147",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:25" align="right">comment:25</div>

OK, another advantage is that all our patches are now upstream!



---

archive/issue_comments_357148.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI'm trying to get this built on Cygwin--will report back with any findings.",
    "created_at": "2018-01-10T11:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357148",
    "user": "https://github.com/embray"
}
```

<div id="comment:26" align="right">comment:26</div>

I'm trying to get this built on Cygwin--will report back with any findings.



---

archive/issue_comments_357149.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nIIRC I had some trouble with this on Cygwin (specifically with libatomic_ops), but that was a while ago and I got distracted.  Going to give it another try.",
    "created_at": "2018-02-02T14:50:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357149",
    "user": "https://github.com/embray"
}
```

<div id="comment:27" align="right">comment:27</div>

IIRC I had some trouble with this on Cygwin (specifically with libatomic_ops), but that was a while ago and I got distracted.  Going to give it another try.



---

archive/issue_comments_357150.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nLikewise with [#23701 comment:15](https://github.com/sagemath/sage/issues/23701#comment:15) would you accept a small update to this for Cygwin?",
    "created_at": "2018-02-02T16:05:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357150",
    "user": "https://github.com/embray"
}
```

<div id="comment:28" align="right">comment:28</div>

Likewise with [#23701 comment:15](https://github.com/sagemath/sage/issues/23701#comment:15) would you accept a small update to this for Cygwin?



---

archive/issue_comments_357151.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nsure",
    "created_at": "2018-02-02T16:29:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357151",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

sure



---

archive/issue_comments_357152.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nRebased on top of my updates to #23701 and incorporated a minor change for Cygwin.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7135b2f0438f7ff6021d72a02e75fabee80ccecd\"><code>7135b2f</code></a></td><td><code>On Cygwin install libatomic_ops as a shared lib only; this is inline with what the official Cygwin package does</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18813a24286e40c935400688e514a989fe5e20a6\"><code>18813a2</code></a></td><td><code>Convert libatomic_ops to use sage-dist-helpers</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e57cfc40bbcefe56ec0b4e009e525dcb457b08b4\"><code>e57cfc4</code></a></td><td><code>update to 7.6.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/897c09181e2fc23d1517850e3f981f1d05cd2fac\"><code>897c091</code></a></td><td><code>patch for FreeBSD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d923f2667c636e1e760a56124e72e4c2ed7d6c3\"><code>2d923f2</code></a></td><td><code>backported patch for FreeBSD support</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/822cc06cfcd46bbb9d567c38f2963865a7f91ae5\"><code>822cc06</code></a></td><td><code>removing already included patches</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6fd533444925c55efe2da905362159f5006806e\"><code>f6fd533</code></a></td><td><code>update gc to 7.6.2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2eb88c41a904432f8f6e81a6f462ed01f909ee0\"><code>c2eb88c</code></a></td><td><code>For Cygwin only builds shared libraries</code></td></tr></table>\n",
    "created_at": "2018-02-05T09:56:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357152",
    "user": "https://github.com/embray"
}
```

<div id="comment:30" align="right">comment:30</div>

Rebased on top of my updates to #23701 and incorporated a minor change for Cygwin.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7135b2f0438f7ff6021d72a02e75fabee80ccecd"><code>7135b2f</code></a></td><td><code>On Cygwin install libatomic_ops as a shared lib only; this is inline with what the official Cygwin package does</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18813a24286e40c935400688e514a989fe5e20a6"><code>18813a2</code></a></td><td><code>Convert libatomic_ops to use sage-dist-helpers</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e57cfc40bbcefe56ec0b4e009e525dcb457b08b4"><code>e57cfc4</code></a></td><td><code>update to 7.6.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/897c09181e2fc23d1517850e3f981f1d05cd2fac"><code>897c091</code></a></td><td><code>patch for FreeBSD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d923f2667c636e1e760a56124e72e4c2ed7d6c3"><code>2d923f2</code></a></td><td><code>backported patch for FreeBSD support</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/822cc06cfcd46bbb9d567c38f2963865a7f91ae5"><code>822cc06</code></a></td><td><code>removing already included patches</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6fd533444925c55efe2da905362159f5006806e"><code>f6fd533</code></a></td><td><code>update gc to 7.6.2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2eb88c41a904432f8f6e81a6f462ed01f909ee0"><code>c2eb88c</code></a></td><td><code>For Cygwin only builds shared libraries</code></td></tr></table>




---

archive/issue_comments_357153.json:
```json
{
    "body": "Changed branch from **[u/dimpase/gcupdate](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/gcupdate)** to **[public/ticket-23700](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-23700)**",
    "created_at": "2018-02-05T09:56:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357153",
    "user": "https://github.com/embray"
}
```

Changed branch from **[u/dimpase/gcupdate](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/gcupdate)** to **[public/ticket-23700](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-23700)**



---

archive/issue_comments_357154.json:
```json
{
    "body": "Changed commit from **[`e790e65`](https://github.com/sagemath/sagetrac-mirror/commit/e790e65e44e0ff74a9b58ee8366348f3f2ca9a5d)** to **[`c2eb88c`](https://github.com/sagemath/sagetrac-mirror/commit/c2eb88c41a904432f8f6e81a6f462ed01f909ee0)**",
    "created_at": "2018-02-05T09:56:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357154",
    "user": "https://github.com/embray"
}
```

Changed commit from **[`e790e65`](https://github.com/sagemath/sagetrac-mirror/commit/e790e65e44e0ff74a9b58ee8366348f3f2ca9a5d)** to **[`c2eb88c`](https://github.com/sagemath/sagetrac-mirror/commit/c2eb88c41a904432f8f6e81a6f462ed01f909ee0)**



---

archive/issue_comments_357155.json:
```json
{
    "body": "Reviewer: **Erik Bray**",
    "created_at": "2018-02-05T09:56:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357155",
    "user": "https://github.com/embray"
}
```

Reviewer: **Erik Bray**



---

archive/issue_comments_357156.json:
```json
{
    "body": "Changed reviewer from **Erik Bray** to **Erik Bray, Dima Pasechnik**",
    "created_at": "2018-02-20T16:11:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357156",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **Erik Bray** to **Erik Bray, Dima Pasechnik**



---

archive/issue_comments_357157.json:
```json
{
    "body": "Changed author from **Dima Pasechnik** to **Dima Pasechnik, Erik Bray**",
    "created_at": "2018-02-20T16:11:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357157",
    "user": "https://github.com/dimpase"
}
```

Changed author from **Dima Pasechnik** to **Dima Pasechnik, Erik Bray**



---

archive/issue_events_326646.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-20T16:11:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326646"
}
```



---

archive/issue_events_326647.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-20T16:11:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326647"
}
```



---

archive/issue_comments_357158.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n\n```\nFound local metadata for gc-7.6.2\nUsing cached file /mnt/disk/home/release/Sage/upstream/gc-7.6.2.tar.gz\ngc-7.6.2\n====================================================\nSetting up build directory for gc-7.6.2\nFinished extraction\nApplying patches from ../patches...\nApplying ../patches/0001-On-Cygwin-use-mprotect-instead-of-mmap-to-set-PROT_N.patch\npatching file os_dep.c\nHunk #1 FAILED at 698.\nHunk #2 FAILED at 2404.\nHunk #3 FAILED at 2515.\n3 out of 3 hunks FAILED -- saving rejects to file os_dep.c.rej\nError applying '../patches/0001-On-Cygwin-use-mprotect-instead-of-mmap-to-set-PROT_N.patch'\n************************************************************************\nError applying patches\n************************************************************************\nPlease email sage-devel (http://groups.google.com/group/sage-devel)\nexplaining the problem and including the log file\n  /mnt/disk/home/release/Sage/logs/pkgs/gc-7.6.2.log\nDescribe your computer, operating system, etc.\n************************************************************************\n```",
    "created_at": "2018-02-21T19:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357158",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:32" align="right">comment:32</div>


```
Found local metadata for gc-7.6.2
Using cached file /mnt/disk/home/release/Sage/upstream/gc-7.6.2.tar.gz
gc-7.6.2
====================================================
Setting up build directory for gc-7.6.2
Finished extraction
Applying patches from ../patches...
Applying ../patches/0001-On-Cygwin-use-mprotect-instead-of-mmap-to-set-PROT_N.patch
patching file os_dep.c
Hunk #1 FAILED at 698.
Hunk #2 FAILED at 2404.
Hunk #3 FAILED at 2515.
3 out of 3 hunks FAILED -- saving rejects to file os_dep.c.rej
Error applying '../patches/0001-On-Cygwin-use-mprotect-instead-of-mmap-to-set-PROT_N.patch'
************************************************************************
Error applying patches
************************************************************************
Please email sage-devel (http://groups.google.com/group/sage-devel)
explaining the problem and including the log file
  /mnt/disk/home/release/Sage/logs/pkgs/gc-7.6.2.log
Describe your computer, operating system, etc.
************************************************************************
```



---

archive/issue_events_326648.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-02-21T19:36:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326648"
}
```



---

archive/issue_events_326649.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-02-21T19:36:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326649"
}
```



---

archive/issue_comments_357159.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nfacepalm...\nwe should bump it up to 7.6.4 anyway.",
    "created_at": "2018-02-21T20:19:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357159",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:33" align="right">comment:33</div>

facepalm...
we should bump it up to 7.6.4 anyway.



---

archive/issue_comments_357160.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nI believe that the failing patch is already in 7.6.4, see\nhttps://github.com/ivmai/bdwgc/commit/be148f4141ab5d6812928a7bceeb2617384e7fe7",
    "created_at": "2018-02-21T23:21:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357160",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">comment:34</div>

I believe that the failing patch is already in 7.6.4, see
https://github.com/ivmai/bdwgc/commit/be148f4141ab5d6812928a7bceeb2617384e7fe7



---

archive/issue_comments_357161.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,7 @@\n An update to gc is needed to support arm64/aarch64, see #23687,\n as well as for FreeBSD support, see #22679.\n \n-The source is here: https://github.com/ivmai/bdwgc/releases/download/v7.6.2/gc-7.6.2.tar.gz\n+The source is here:\n+https://github.com/ivmai/bdwgc/releases/download/v7.6.4/gc-7.6.4.tar.gz\n \n On some platforms this new version also needs libatomic_ops, see #23701\n``````\n",
    "created_at": "2018-02-21T23:21:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357161",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,7 @@
 An update to gc is needed to support arm64/aarch64, see #23687,
 as well as for FreeBSD support, see #22679.
 
-The source is here: https://github.com/ivmai/bdwgc/releases/download/v7.6.2/gc-7.6.2.tar.gz
+The source is here:
+https://github.com/ivmai/bdwgc/releases/download/v7.6.4/gc-7.6.4.tar.gz
 
 On some platforms this new version also needs libatomic_ops, see #23701
``````




---

archive/issue_comments_357162.json:
```json
{
    "body": "Changed commit from **[`c2eb88c`](https://github.com/sagemath/sagetrac-mirror/commit/c2eb88c41a904432f8f6e81a6f462ed01f909ee0)** to **[`0263add`](https://github.com/sagemath/sagetrac-mirror/commit/0263addf139baf3f62fda637bb220a7491af2f18)**",
    "created_at": "2018-02-21T23:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357162",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`c2eb88c`](https://github.com/sagemath/sagetrac-mirror/commit/c2eb88c41a904432f8f6e81a6f462ed01f909ee0)** to **[`0263add`](https://github.com/sagemath/sagetrac-mirror/commit/0263addf139baf3f62fda637bb220a7491af2f18)**



---

archive/issue_comments_357163.json:
```json
{
    "body": "Changed branch from **[public/ticket-23700](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-23700)** to **[u/dimpase/gc764](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/gc764)**",
    "created_at": "2018-02-21T23:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357163",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[public/ticket-23700](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-23700)** to **[u/dimpase/gc764](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/gc764)**



---

archive/issue_comments_357164.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/871bc6a620810fad44f76a6b953d13f74e6aca51\"><code>871bc6a</code></a></td><td><code>7.6.2 is the current version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71e46a4413ebf5e5f2de9ed407f0b8318f68c3bf\"><code>71e46a4</code></a></td><td><code>On Cygwin install libatomic_ops as a shared lib only; this is inline with what the official Cygwin package does</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/030804598976d16009b191b517703f7effff3d9e\"><code>0308045</code></a></td><td><code>Convert libatomic_ops to use sage-dist-helpers</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c47a8aaabf1a4a702043b6899f82b34c4fc57b6\"><code>8c47a8a</code></a></td><td><code>update to 7.6.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6148efdd0ed81cea1e61030986e0ab63d82a6152\"><code>6148efd</code></a></td><td><code>patch for FreeBSD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7496a689c007de7ba0b9fda2a3b81413b4944bfb\"><code>7496a68</code></a></td><td><code>backported patch for FreeBSD support</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/674a6d68b99c77465238282321ecbdc7354b457e\"><code>674a6d6</code></a></td><td><code>removing already included patches</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48766dd68e6c0e17c094ddd60c93a60228a8702a\"><code>48766dd</code></a></td><td><code>update gc to 7.6.2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdb00d45ec1653366451f0636939b9df62bf8adb\"><code>cdb00d4</code></a></td><td><code>For Cygwin only builds shared libraries</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0263addf139baf3f62fda637bb220a7491af2f18\"><code>0263add</code></a></td><td><code>updated to 7.6.4 and removed patch</code></td></tr></table>\n",
    "created_at": "2018-02-21T23:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357164",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:35"></div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/871bc6a620810fad44f76a6b953d13f74e6aca51"><code>871bc6a</code></a></td><td><code>7.6.2 is the current version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71e46a4413ebf5e5f2de9ed407f0b8318f68c3bf"><code>71e46a4</code></a></td><td><code>On Cygwin install libatomic_ops as a shared lib only; this is inline with what the official Cygwin package does</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/030804598976d16009b191b517703f7effff3d9e"><code>0308045</code></a></td><td><code>Convert libatomic_ops to use sage-dist-helpers</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c47a8aaabf1a4a702043b6899f82b34c4fc57b6"><code>8c47a8a</code></a></td><td><code>update to 7.6.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6148efdd0ed81cea1e61030986e0ab63d82a6152"><code>6148efd</code></a></td><td><code>patch for FreeBSD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7496a689c007de7ba0b9fda2a3b81413b4944bfb"><code>7496a68</code></a></td><td><code>backported patch for FreeBSD support</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/674a6d68b99c77465238282321ecbdc7354b457e"><code>674a6d6</code></a></td><td><code>removing already included patches</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48766dd68e6c0e17c094ddd60c93a60228a8702a"><code>48766dd</code></a></td><td><code>update gc to 7.6.2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdb00d45ec1653366451f0636939b9df62bf8adb"><code>cdb00d4</code></a></td><td><code>For Cygwin only builds shared libraries</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0263addf139baf3f62fda637bb220a7491af2f18"><code>0263add</code></a></td><td><code>updated to 7.6.4 and removed patch</code></td></tr></table>




---

archive/issue_events_326650.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-21T23:55:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326650"
}
```



---

archive/issue_events_326651.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-21T23:55:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326651"
}
```



---

archive/issue_comments_357165.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n An update to gc is needed to support arm64/aarch64, see #23687,\n as well as for FreeBSD support, see #22679.\n+It also appears to be good to be in sync with Linux boxes that ship make with guile extension (the latter depends on gc, and causes interesting errors, see #24575).\n \n The source is here:\n https://github.com/ivmai/bdwgc/releases/download/v7.6.4/gc-7.6.4.tar.gz\n``````\n",
    "created_at": "2018-02-22T00:01:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357165",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 An update to gc is needed to support arm64/aarch64, see #23687,
 as well as for FreeBSD support, see #22679.
+It also appears to be good to be in sync with Linux boxes that ship make with guile extension (the latter depends on gc, and causes interesting errors, see #24575).
 
 The source is here:
 https://github.com/ivmai/bdwgc/releases/download/v7.6.4/gc-7.6.4.tar.gz
``````




---

archive/issue_events_326652.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-27T09:08:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326652"
}
```



---

archive/issue_events_326653.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-27T09:08:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326653"
}
```



---

archive/issue_comments_357166.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\n1. `build/pkgs/libatomic_ops/spkg-install`: you are wrongly using \"BoehmGC\".\n\n2. `build/pkgs/libatomic_ops/spkg-install`: instead of a generic variable like `CONFIGURE_FLAGS`, please use `LIBATOMIC_OPS_CONFIGURE` to be more consistent with other packages.\n\n3. `build/pkgs/libatomic_ops/spkg-check`: there is no longer need for the `if [ -z \"$SAGE_LOCAL\" ]; then` boilerplate.",
    "created_at": "2018-02-27T09:08:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357166",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:37" align="right">comment:37</div>

1. `build/pkgs/libatomic_ops/spkg-install`: you are wrongly using "BoehmGC".

2. `build/pkgs/libatomic_ops/spkg-install`: instead of a generic variable like `CONFIGURE_FLAGS`, please use `LIBATOMIC_OPS_CONFIGURE` to be more consistent with other packages.

3. `build/pkgs/libatomic_ops/spkg-check`: there is no longer need for the `if [ -z "$SAGE_LOCAL" ]; then` boilerplate.



---

archive/issue_events_326654.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-27T09:30:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326654"
}
```



---

archive/issue_events_326655.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-27T09:30:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326655"
}
```



---

archive/issue_comments_357167.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nJeroen, `libatomic_ops` has nothing to do with this ticket. It was #23701.\nIf you think #23701 needs an improvement please open another ticket.",
    "created_at": "2018-02-27T09:30:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357167",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:38" align="right">comment:38</div>

Jeroen, `libatomic_ops` has nothing to do with this ticket. It was #23701.
If you think #23701 needs an improvement please open another ticket.



---

archive/issue_comments_357168.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nThey were just minor comments, nothing serious.",
    "created_at": "2018-02-27T09:54:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357168",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:39" align="right">comment:39</div>

They were just minor comments, nothing serious.



---

archive/issue_comments_357169.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@dimpase](#comment%3A38):\n> Jeroen, `libatomic_ops` has nothing to do with this ticket. It was #23701.\n> If you think #23701 needs an improvement please open another ticket.\n\nTo be very precise, the commits which are supposedly from #23701 do not actually appear on the branch at #23701. So this ticket needs to be rebased.",
    "created_at": "2018-02-27T10:46:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357169",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@dimpase](#comment%3A38):
> Jeroen, `libatomic_ops` has nothing to do with this ticket. It was #23701.
> If you think #23701 needs an improvement please open another ticket.

To be very precise, the commits which are supposedly from #23701 do not actually appear on the branch at #23701. So this ticket needs to be rebased.



---

archive/issue_events_326656.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-27T10:46:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326656"
}
```



---

archive/issue_events_326657.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-27T10:46:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326657"
}
```



---

archive/issue_comments_357170.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nThere is also the obvious missing dependency\n\n```\n[gc-7.6.4] checking for atomic_ops... no\n[gc-7.6.4] checking atomic_ops.h usability... no\n[gc-7.6.4] checking atomic_ops.h presence... no\n[gc-7.6.4] checking for atomic_ops.h... no\n[gc-7.6.4] configure: error: libatomic_ops is required.  You can either install it on\n[gc-7.6.4]                   your system, or fetch and unpack a recent version into the\n[gc-7.6.4]                   source directory and link or rename it to libatomic_ops.\n[gc-7.6.4] Error configuring BoehmGC.\n```",
    "created_at": "2018-02-27T10:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357170",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:41" align="right">comment:41</div>

There is also the obvious missing dependency

```
[gc-7.6.4] checking for atomic_ops... no
[gc-7.6.4] checking atomic_ops.h usability... no
[gc-7.6.4] checking atomic_ops.h presence... no
[gc-7.6.4] checking for atomic_ops.h... no
[gc-7.6.4] configure: error: libatomic_ops is required.  You can either install it on
[gc-7.6.4]                   your system, or fetch and unpack a recent version into the
[gc-7.6.4]                   source directory and link or rename it to libatomic_ops.
[gc-7.6.4] Error configuring BoehmGC.
```



---

archive/issue_comments_357171.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@jdemeyer](#comment%3A41):\n> There is also the obvious missing dependency\n> \n> ```\n> [gc-7.6.4] checking for atomic_ops... no\n> [gc-7.6.4] checking atomic_ops.h usability... no\n> [gc-7.6.4] checking atomic_ops.h presence... no\n> [gc-7.6.4] checking for atomic_ops.h... no\n> [gc-7.6.4] configure: error: libatomic_ops is required.  You can either install it on\n> [gc-7.6.4]                   your system, or fetch and unpack a recent version into the\n> [gc-7.6.4]                   source directory and link or rename it to libatomic_ops.\n> [gc-7.6.4] Error configuring BoehmGC.\n> ```\n\ngood catch, but how do you get this? OS/compiler?",
    "created_at": "2018-02-27T11:07:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357171",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@jdemeyer](#comment%3A41):
> There is also the obvious missing dependency
> 
> ```
> [gc-7.6.4] checking for atomic_ops... no
> [gc-7.6.4] checking atomic_ops.h usability... no
> [gc-7.6.4] checking atomic_ops.h presence... no
> [gc-7.6.4] checking for atomic_ops.h... no
> [gc-7.6.4] configure: error: libatomic_ops is required.  You can either install it on
> [gc-7.6.4]                   your system, or fetch and unpack a recent version into the
> [gc-7.6.4]                   source directory and link or rename it to libatomic_ops.
> [gc-7.6.4] Error configuring BoehmGC.
> ```

good catch, but how do you get this? OS/compiler?



---

archive/issue_comments_357172.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@dimpase](#comment%3A42):\n> OS/compiler?\n\nDoesn't matter. Any OS, any compiler.",
    "created_at": "2018-02-27T11:17:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357172",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@dimpase](#comment%3A42):
> OS/compiler?

Doesn't matter. Any OS, any compiler.



---

archive/issue_comments_357173.json:
```json
{
    "body": "Changed commit from **[`0263add`](https://github.com/sagemath/sagetrac-mirror/commit/0263addf139baf3f62fda637bb220a7491af2f18)** to **[`4d6eee3`](https://github.com/sagemath/sagetrac-mirror/commit/4d6eee33939ae419776f36b4cd08406e8212d663)**",
    "created_at": "2018-02-27T11:57:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357173",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0263add`](https://github.com/sagemath/sagetrac-mirror/commit/0263addf139baf3f62fda637bb220a7491af2f18)** to **[`4d6eee3`](https://github.com/sagemath/sagetrac-mirror/commit/4d6eee33939ae419776f36b4cd08406e8212d663)**



---

archive/issue_comments_357174.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d6eee33939ae419776f36b4cd08406e8212d663\"><code>4d6eee3</code></a></td><td><code>added deps; addressed reviewer comments: #23700:37</code></td></tr></table>\n",
    "created_at": "2018-02-27T11:57:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357174",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d6eee33939ae419776f36b4cd08406e8212d663"><code>4d6eee3</code></a></td><td><code>added deps; addressed reviewer comments: #23700:37</code></td></tr></table>




---

archive/issue_events_326658.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-27T11:57:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326658"
}
```



---

archive/issue_events_326659.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-27T11:57:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326659"
}
```



---

archive/issue_comments_357175.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nall fixed, hopefully.",
    "created_at": "2018-02-27T11:57:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357175",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:45" align="right">comment:45</div>

all fixed, hopefully.



---

archive/issue_events_326660.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-27T14:25:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326660"
}
```



---

archive/issue_events_326661.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-27T14:25:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326661"
}
```



---

archive/issue_comments_357176.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\n1. This branch still needs to be rebased to the branch at #23701.\n\n2. You should replace `CONFIGURE_FLAGS` -> `LIBATOMIC_OPS_CONFIGURE` everywhere in `build/pkgs/libatomic_ops/spkg-install`",
    "created_at": "2018-02-27T14:25:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357176",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:46" align="right">comment:46</div>

1. This branch still needs to be rebased to the branch at #23701.

2. You should replace `CONFIGURE_FLAGS` -> `LIBATOMIC_OPS_CONFIGURE` everywhere in `build/pkgs/libatomic_ops/spkg-install`



---

archive/issue_comments_357177.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d5bbd03ee8762042cde99740e821169c3d3a579\"><code>4d5bbd0</code></a></td><td><code>libatomic_ops 7.4.6 added as standard pkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b0f626d206ef4b53befb3f15002b11876b850c2\"><code>7b0f626</code></a></td><td><code>Merge branch 'u/dimpase/libatomic_ops' of trac.sagemath.org:sage into laup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c5d8f6c84a0a0b00c8c924a881adc20051d6528\"><code>5c5d8f6</code></a></td><td><code>remove meaningless flags</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54e1da7be205dda93525f2c5b4c57f28ce5bd47c\"><code>54e1da7</code></a></td><td><code>Merge branch 'develop' into libatomic_ops</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a024f8d8183ff46dee1b34a73887885bb206dda9\"><code>a024f8d</code></a></td><td><code>7.6.2 is the current version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7135b2f0438f7ff6021d72a02e75fabee80ccecd\"><code>7135b2f</code></a></td><td><code>On Cygwin install libatomic_ops as a shared lib only; this is inline with what the official Cygwin package does</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18813a24286e40c935400688e514a989fe5e20a6\"><code>18813a2</code></a></td><td><code>Convert libatomic_ops to use sage-dist-helpers</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d05b7031e8a557f774dcdab21b9ab8dcc44521e\"><code>8d05b70</code></a></td><td><code>Merge branch 'atomic762' into gc764</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd63b82e0d58ecd4961a22e084c6d43af667c7bc\"><code>cd63b82</code></a></td><td><code>LIBATOMIC_OPS_CONFIGURE throughout</code></td></tr></table>\n",
    "created_at": "2018-02-27T18:00:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357177",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d5bbd03ee8762042cde99740e821169c3d3a579"><code>4d5bbd0</code></a></td><td><code>libatomic_ops 7.4.6 added as standard pkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b0f626d206ef4b53befb3f15002b11876b850c2"><code>7b0f626</code></a></td><td><code>Merge branch 'u/dimpase/libatomic_ops' of trac.sagemath.org:sage into laup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c5d8f6c84a0a0b00c8c924a881adc20051d6528"><code>5c5d8f6</code></a></td><td><code>remove meaningless flags</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54e1da7be205dda93525f2c5b4c57f28ce5bd47c"><code>54e1da7</code></a></td><td><code>Merge branch 'develop' into libatomic_ops</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a024f8d8183ff46dee1b34a73887885bb206dda9"><code>a024f8d</code></a></td><td><code>7.6.2 is the current version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7135b2f0438f7ff6021d72a02e75fabee80ccecd"><code>7135b2f</code></a></td><td><code>On Cygwin install libatomic_ops as a shared lib only; this is inline with what the official Cygwin package does</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18813a24286e40c935400688e514a989fe5e20a6"><code>18813a2</code></a></td><td><code>Convert libatomic_ops to use sage-dist-helpers</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d05b7031e8a557f774dcdab21b9ab8dcc44521e"><code>8d05b70</code></a></td><td><code>Merge branch 'atomic762' into gc764</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd63b82e0d58ecd4961a22e084c6d43af667c7bc"><code>cd63b82</code></a></td><td><code>LIBATOMIC_OPS_CONFIGURE throughout</code></td></tr></table>




---

archive/issue_comments_357178.json:
```json
{
    "body": "Changed commit from **[`4d6eee3`](https://github.com/sagemath/sagetrac-mirror/commit/4d6eee33939ae419776f36b4cd08406e8212d663)** to **[`cd63b82`](https://github.com/sagemath/sagetrac-mirror/commit/cd63b82e0d58ecd4961a22e084c6d43af667c7bc)**",
    "created_at": "2018-02-27T18:00:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357178",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4d6eee3`](https://github.com/sagemath/sagetrac-mirror/commit/4d6eee33939ae419776f36b4cd08406e8212d663)** to **[`cd63b82`](https://github.com/sagemath/sagetrac-mirror/commit/cd63b82e0d58ecd4961a22e084c6d43af667c7bc)**



---

archive/issue_comments_357179.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nI've addressed the comment 46.",
    "created_at": "2018-02-27T18:03:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357179",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:48" align="right">comment:48</div>

I've addressed the comment 46.



---

archive/issue_events_326662.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-27T18:03:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326662"
}
```



---

archive/issue_events_326663.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-27T18:03:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326663"
}
```



---

archive/issue_comments_357180.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nThe git history is a total mess now... at least messy enough that I'd like to see it merged with the next beta before considering to review it.",
    "created_at": "2018-02-27T19:41:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357180",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:49" align="right">comment:49</div>

The git history is a total mess now... at least messy enough that I'd like to see it merged with the next beta before considering to review it.



---

archive/issue_comments_357181.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nwell, yes, I tried to rebase, and it was really doing weird stuff, such as creating `LICENSE` file and changing `.gitignore`, so I merged instead.",
    "created_at": "2018-02-27T19:44:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357181",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:50" align="right">comment:50</div>

well, yes, I tried to rebase, and it was really doing weird stuff, such as creating `LICENSE` file and changing `.gitignore`, so I merged instead.



---

archive/issue_comments_357182.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nPerhaps I could try to clean it up?",
    "created_at": "2018-03-02T10:27:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357182",
    "user": "https://github.com/embray"
}
```

<div id="comment:51" align="right">comment:51</div>

Perhaps I could try to clean it up?



---

archive/issue_comments_357183.json:
```json
{
    "body": "Changed dependencies from **#23701** to none",
    "created_at": "2018-03-05T05:43:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357183",
    "user": "https://github.com/dimpase"
}
```

Changed dependencies from **#23701** to none



---

archive/issue_comments_357184.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nHopefully it is clean enough now, as the merge of #23701 has happened.",
    "created_at": "2018-03-05T05:43:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357184",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:52" align="right">comment:52</div>

Hopefully it is clean enough now, as the merge of #23701 has happened.



---

archive/issue_comments_357185.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@dimpase](#comment%3A52):\n> Hopefully it is clean enough now\n\nIt's not cleaner than before since the branch didn't change. The fact that #23701 was merged does mean that the diff is easier to read on Trac.",
    "created_at": "2018-03-06T16:14:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357185",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@dimpase](#comment%3A52):
> Hopefully it is clean enough now

It's not cleaner than before since the branch didn't change. The fact that #23701 was merged does mean that the diff is easier to read on Trac.



---

archive/issue_comments_357186.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nThe diff is pretty small now: there are largish patches removed, and the rest it really \"admin\".\n\nErik, does the branch work on Cygwin for you now? (You never answered comment 34 above).\nThe commit in the upstream repo seems to do the same job and is authored by you, but it looks differently---hopefully it does the same thing.",
    "created_at": "2018-03-06T17:45:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357186",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:54" align="right">comment:54</div>

The diff is pretty small now: there are largish patches removed, and the rest it really "admin".

Erik, does the branch work on Cygwin for you now? (You never answered comment 34 above).
The commit in the upstream repo seems to do the same job and is authored by you, but it looks differently---hopefully it does the same thing.



---

archive/issue_events_326664.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-06T19:32:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326664"
}
```



---

archive/issue_events_326665.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-06T19:32:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326665"
}
```



---

archive/issue_comments_357187.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nReplying to [@dimpase](#comment%3A54):\n> The diff is pretty small now\n\nYes, the diff is small but the history remains ugly: there are several commits on this branch which are really duplicates of commits from #23701.\n\nNow, all that doesn't really matter.",
    "created_at": "2018-03-06T19:32:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357187",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:55" align="right">comment:55</div>

Replying to [@dimpase](#comment%3A54):
> The diff is pretty small now

Yes, the diff is small but the history remains ugly: there are several commits on this branch which are really duplicates of commits from #23701.

Now, all that doesn't really matter.



---

archive/issue_comments_357188.json:
```json
{
    "body": "Changed reviewer from **Erik Bray, Dima Pasechnik** to **Erik Bray, Dima Pasechnik, Jeroen Demeyer**",
    "created_at": "2018-03-06T19:32:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357188",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Erik Bray, Dima Pasechnik** to **Erik Bray, Dima Pasechnik, Jeroen Demeyer**



---

archive/issue_comments_357189.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nLGTM. My offer still stands to clean up the commit history if desired, but otherwise I'll let it be.",
    "created_at": "2018-03-07T09:48:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357189",
    "user": "https://github.com/embray"
}
```

<div id="comment:57" align="right">comment:57</div>

LGTM. My offer still stands to clean up the commit history if desired, but otherwise I'll let it be.



---

archive/issue_events_326666.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-08T00:02:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326666"
}
```



---

archive/issue_events_326667.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4f2874af3c2bfabfad2aba81f8e2479fd0ff24c8",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-03-08T00:02:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23700#event-326667"
}
```



---

archive/issue_comments_357190.json:
```json
{
    "body": "Changed branch from **[u/dimpase/gc764](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/gc764)** to **[`cd63b82`](https://github.com/sagemath/sagetrac-mirror/commit/cd63b82e0d58ecd4961a22e084c6d43af667c7bc)**",
    "created_at": "2018-03-08T00:02:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23700",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23700#issuecomment-357190",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/gc764](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/gc764)** to **[`cd63b82`](https://github.com/sagemath/sagetrac-mirror/commit/cd63b82e0d58ecd4961a22e084c6d43af667c7bc)**
