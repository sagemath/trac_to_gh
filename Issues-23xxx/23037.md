# Issue 23037: Implement representations for Virasoro algebra

archive/issues_022800.json:
```json
{
    "body": "We implement the chargeless representations and Verma modules for the Virasoro algebra. Along the way, we also add `witt` to the catalog and change the bracket convention for the Witt and Virasoro algebras.\n\nA note on the change to the bracket convention: Our current bracket convention is non-standard with the rest of the literature and causes formulas to change in subtle ways. So the easiest thing to do is change it, and I think this will be better in the long run.\n\nCC:  sage-combinat @darijgr\n\nKeywords: lie algebras\n\nBranch/Commit: 999dcfba45b3b896f74aaa63f2300fde6532f7d4\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Travis Scrimshaw\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23037\n\n",
    "closed_at": "2018-01-18T18:09:31Z",
    "created_at": "2017-05-20T07:18:20Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Implement representations for Virasoro algebra",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23037",
    "user": "https://github.com/tscrim"
}
```
We implement the chargeless representations and Verma modules for the Virasoro algebra. Along the way, we also add `witt` to the catalog and change the bracket convention for the Witt and Virasoro algebras.

A note on the change to the bracket convention: Our current bracket convention is non-standard with the rest of the literature and causes formulas to change in subtle ways. So the easiest thing to do is change it, and I think this will be better in the long run.

CC:  sage-combinat @darijgr

Keywords: lie algebras

Branch/Commit: 999dcfba45b3b896f74aaa63f2300fde6532f7d4

Reviewer: Frédéric Chapoton

Author: Travis Scrimshaw

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23037





---

archive/issue_comments_431777.json:
```json
{
    "body": "Changing branch from \"\" to \"public/lie_algebras/reprs_virasoro-23037\"",
    "created_at": "2017-05-20T07:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431777",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "" to "public/lie_algebras/reprs_virasoro-23037"



---

archive/issue_comments_431778.json:
```json
{
    "body": "Changing commit from \"\" to \"8069b1838180e4c3aac306d8ac93af1f88efb21b\"",
    "created_at": "2017-05-20T07:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431778",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "" to "8069b1838180e4c3aac306d8ac93af1f88efb21b"



---

archive/issue_comments_431779.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2017-05-20T07:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431779",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_431780.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-20T07:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431780",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_431781.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-20T15:06:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431781",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_431782.json:
```json
{
    "body": "Changing commit from \"8069b1838180e4c3aac306d8ac93af1f88efb21b\" to \"aaeb1c9a7258a17d66391260ed05d299360ebfaf\"",
    "created_at": "2017-05-20T15:06:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431782",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8069b1838180e4c3aac306d8ac93af1f88efb21b" to "aaeb1c9a7258a17d66391260ed05d299360ebfaf"



---

archive/issue_comments_431783.json:
```json
{
    "body": "Changing commit from \"aaeb1c9a7258a17d66391260ed05d299360ebfaf\" to \"4c17c8cbaac586a2c085acf273da19e61829028f\"",
    "created_at": "2018-01-11T19:55:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431783",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "aaeb1c9a7258a17d66391260ed05d299360ebfaf" to "4c17c8cbaac586a2c085acf273da19e61829028f"



---

archive/issue_comments_431784.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-11T19:55:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431784",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_431785.json:
```json
{
    "body": "<a id='comment:4'></a>There is one `it.next` that should be `next(it)` for py3 sake, no ?\n\nand doc does not build, probably because of\n\n```\n+    this for `\\{d_i \\mid -10 \\leq i < 10\\}::\n```\n\nEDIT: typo \"+    REFERNCES::\"",
    "created_at": "2018-01-15T16:29:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431785",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>There is one `it.next` that should be `next(it)` for py3 sake, no ?

and doc does not build, probably because of

```
+    this for `\{d_i \mid -10 \leq i < 10\}::
```

EDIT: typo "+    REFERNCES::"



---

archive/issue_comments_431786.json:
```json
{
    "body": "Changing commit from \"4c17c8cbaac586a2c085acf273da19e61829028f\" to \"2fdd3e46baa3ac120646c86d0edbdc4701ad8c6f\"",
    "created_at": "2018-01-15T16:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431786",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4c17c8cbaac586a2c085acf273da19e61829028f" to "2fdd3e46baa3ac120646c86d0edbdc4701ad8c6f"



---

archive/issue_comments_431787.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-15T16:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431787",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_431788.json:
```json
{
    "body": "<a id='comment:6'></a>Yes, thanks. Fixed.",
    "created_at": "2018-01-15T16:49:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431788",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>Yes, thanks. Fixed.



---

archive/issue_comments_431789.json:
```json
{
    "body": "<a id='comment:7'></a>another issue here:\n\n```\n+    REFERENCES::\n```\nhas too many colons",
    "created_at": "2018-01-15T19:08:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431789",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>another issue here:

```
+    REFERENCES::
```
has too many colons



---

archive/issue_comments_431790.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-16T02:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431790",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_431791.json:
```json
{
    "body": "Changing commit from \"2fdd3e46baa3ac120646c86d0edbdc4701ad8c6f\" to \"4b9ef9413c64d2c081977d1266b24e451d7d5aa7\"",
    "created_at": "2018-01-16T02:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431791",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2fdd3e46baa3ac120646c86d0edbdc4701ad8c6f" to "4b9ef9413c64d2c081977d1266b24e451d7d5aa7"



---

archive/issue_comments_431792.json:
```json
{
    "body": "<a id='comment:9'></a>Good catch. Fixed.",
    "created_at": "2018-01-16T02:47:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431792",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>Good catch. Fixed.



---

archive/issue_comments_431793.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-We implement the chargeless representations and Verma modules for the Virasoro algebra. Along the way, we also add `witt` to the catalog, fix an issue with actions for Lie algebra elements, and change the bracket convention for the Witt and Virasoro algebras.\n+We implement the chargeless representations and Verma modules for the Virasoro algebra. Along the way, we also add `witt` to the catalog and change the bracket convention for the Witt and Virasoro algebras.\n \n A note on the change to the bracket convention: Our current bracket convention is non-standard with the rest of the literature and causes formulas to change in subtle ways. So the easiest thing to do is change it, and I think this will be better in the long run.\n``````\n",
    "created_at": "2018-01-16T02:48:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431793",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-We implement the chargeless representations and Verma modules for the Virasoro algebra. Along the way, we also add `witt` to the catalog, fix an issue with actions for Lie algebra elements, and change the bracket convention for the Witt and Virasoro algebras.
+We implement the chargeless representations and Verma modules for the Virasoro algebra. Along the way, we also add `witt` to the catalog and change the bracket convention for the Witt and Virasoro algebras.
 
 A note on the change to the bracket convention: Our current bracket convention is non-standard with the rest of the literature and causes formulas to change in subtle ways. So the easiest thing to do is change it, and I think this will be better in the long run.
``````




---

archive/issue_comments_431794.json:
```json
{
    "body": "<a id='comment:11'></a>A strange sentence here in Verma modules:\n\n```\n+    The Virasoro algebra admits a triangle decomposition of\n```\nMaybe you mean `of the shape` ?\n\nOtherwise, looks good.",
    "created_at": "2018-01-16T07:12:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431794",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>A strange sentence here in Verma modules:

```
+    The Virasoro algebra admits a triangle decomposition of
```
Maybe you mean `of the shape` ?

Otherwise, looks good.



---

archive/issue_comments_431795.json:
```json
{
    "body": "Changing commit from \"4b9ef9413c64d2c081977d1266b24e451d7d5aa7\" to \"8dfb361968ed8d631bdd8f5ede5387e7fb7a1500\"",
    "created_at": "2018-01-16T08:09:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431795",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4b9ef9413c64d2c081977d1266b24e451d7d5aa7" to "8dfb361968ed8d631bdd8f5ede5387e7fb7a1500"



---

archive/issue_comments_431796.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-16T08:09:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431796",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_431797.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [chapoton](#comment%3A11):\n> A strange sentence here in Verma modules:\n> \n> ```\n> +    The Virasoro algebra admits a triangle decomposition of\n> ```\n> Maybe you mean `of the shape` ?\n\n\nNo, it is a triangular decomposition in the same way of simple Lie algebras or Lie groups by the root system (positive, negative, and 0 parts). I made some tweaks to the documentation; they probably don't help much, but maybe they do.\n\n> Otherwise, looks good.\n\n\nThank you very much for looking at this.",
    "created_at": "2018-01-16T08:11:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431797",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>Replying to [chapoton](#comment%3A11):
> A strange sentence here in Verma modules:
> 
> ```
> +    The Virasoro algebra admits a triangle decomposition of
> ```
> Maybe you mean `of the shape` ?


No, it is a triangular decomposition in the same way of simple Lie algebras or Lie groups by the root system (positive, negative, and 0 parts). I made some tweaks to the documentation; they probably don't help much, but maybe they do.

> Otherwise, looks good.


Thank you very much for looking at this.



---

archive/issue_events_059654.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-01-16T08:11:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23037#event-59654"
}
```



---

archive/issue_comments_431798.json:
```json
{
    "body": "<a id='comment:14'></a>I understand the triangular decomposition, sure.\n\nYou introduced a typo : \"trianglar\"\n\nI would simply remove the \"of\"",
    "created_at": "2018-01-16T10:01:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431798",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>I understand the triangular decomposition, sure.

You introduced a typo : "trianglar"

I would simply remove the "of"



---

archive/issue_comments_431799.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-16T15:30:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431799",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_431800.json:
```json
{
    "body": "Changing commit from \"8dfb361968ed8d631bdd8f5ede5387e7fb7a1500\" to \"999dcfba45b3b896f74aaa63f2300fde6532f7d4\"",
    "created_at": "2018-01-16T15:30:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431800",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8dfb361968ed8d631bdd8f5ede5387e7fb7a1500" to "999dcfba45b3b896f74aaa63f2300fde6532f7d4"



---

archive/issue_comments_431801.json:
```json
{
    "body": "<a id='comment:16'></a>Ah, sorry, I misunderstood your[comment:11](#comment%3A11). Here is the fix from[comment:14](#comment%3A14).",
    "created_at": "2018-01-16T15:33:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431801",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>Ah, sorry, I misunderstood your[comment:11](#comment%3A11). Here is the fix from[comment:14](#comment%3A14).



---

archive/issue_comments_431802.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2018-01-16T15:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431802",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_431803.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-01-16T15:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431803",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_431804.json:
```json
{
    "body": "<a id='comment:17'></a>Thanks. Then good to go.",
    "created_at": "2018-01-16T15:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431804",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>Thanks. Then good to go.



---

archive/issue_comments_431805.json:
```json
{
    "body": "<a id='comment:18'></a>Thank you again very much for the review!",
    "created_at": "2018-01-16T15:41:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431805",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>Thank you again very much for the review!



---

archive/issue_events_059655.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-01-18T18:09:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23037#event-59655"
}
```



---

archive/issue_comments_431806.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-01-18T18:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431806",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_431807.json:
```json
{
    "body": "Changing branch from \"public/lie_algebras/reprs_virasoro-23037\" to \"999dcfba45b3b896f74aaa63f2300fde6532f7d4\"",
    "created_at": "2018-01-18T18:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23037",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23037#issuecomment-431807",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/lie_algebras/reprs_virasoro-23037" to "999dcfba45b3b896f74aaa63f2300fde6532f7d4"
