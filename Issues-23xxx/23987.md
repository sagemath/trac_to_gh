# Issue 23987: minimal implementation of FQSYM

archive/issues_023750.json:
```json
{
    "body": "FQSym is also know as Malvenuto-Reutenauer Hopf algebra\n\nbecause #19278 has rotten\n\n**CC:**  @tscrim @darijgr amypang\n\n**Branch/Commit:** [5707cb4176ffd22888f8010837e01a94ace8a78d](https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton, Darij Grinberg\n\nIssue created by migration from https://trac.sagemath.org/ticket/23987\n\n",
    "closed_at": "2017-12-11T01:03:33Z",
    "created_at": "2017-10-08T09:07:31Z",
    "labels": [
        "component: combinatorics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "title": "minimal implementation of FQSYM",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/23987",
    "user": "https://github.com/fchapoton"
}
```
FQSym is also know as Malvenuto-Reutenauer Hopf algebra

because #19278 has rotten

**CC:**  @tscrim @darijgr amypang

**Branch/Commit:** [5707cb4176ffd22888f8010837e01a94ace8a78d](https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d)

**Reviewer:** Travis Scrimshaw

**Author:** Frédéric Chapoton, Darij Grinberg

Issue created by migration from https://trac.sagemath.org/ticket/23987





---

archive/issue_comments_364901.json:
```json
{
    "body": "**Author:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2017-10-08T09:08:06Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364901",
    "user": "https://github.com/fchapoton"
}
```

**Author:** Frédéric Chapoton



---

archive/issue_comments_364902.json:
```json
{
    "body": "**Commit:** [ccc496e85b8c57c69db82f82b196d94b8efbb39e](https://github.com/sagemath/sagetrac-mirror/commit/ccc496e85b8c57c69db82f82b196d94b8efbb39e)",
    "created_at": "2017-10-08T09:08:06Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364902",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [ccc496e85b8c57c69db82f82b196d94b8efbb39e](https://github.com/sagemath/sagetrac-mirror/commit/ccc496e85b8c57c69db82f82b196d94b8efbb39e)



---

archive/issue_comments_364903.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8728db343c6766166a18dfad3b8585a5cbfb5596\">8728db3</a></td><td><code>free quasi symm functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ccc496e85b8c57c69db82f82b196d94b8efbb39e\">ccc496e</a></td><td><code>fqsym code ok</code></td></tr></table>\n",
    "created_at": "2017-10-08T09:08:06Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364903",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8728db343c6766166a18dfad3b8585a5cbfb5596">8728db3</a></td><td><code>free quasi symm functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ccc496e85b8c57c69db82f82b196d94b8efbb39e">ccc496e</a></td><td><code>fqsym code ok</code></td></tr></table>




---

archive/issue_events_213171.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-10-08T09:08:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-213171"
}
```



---

archive/issue_comments_364904.json:
```json
{
    "body": "**Branch:** [u/chapoton/23987](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23987)",
    "created_at": "2017-10-08T09:08:06Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364904",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/23987](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23987)



---

archive/issue_comments_364905.json:
```json
{
    "body": "<a id='comment:2'></a>\nAll tests pass, but the documentation is still rough.",
    "created_at": "2017-10-08T09:10:35Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364905",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
All tests pass, but the documentation is still rough.



---

archive/issue_events_213172.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-10-08T09:10:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-213172"
}
```



---

archive/issue_events_213173.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-10-08T09:10:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-213173"
}
```



---

archive/issue_comments_364906.json:
```json
{
    "body": "**Changing commit** from \"[ccc496e85b8c57c69db82f82b196d94b8efbb39e](https://github.com/sagemath/sagetrac-mirror/commit/ccc496e85b8c57c69db82f82b196d94b8efbb39e)\" to \"[822619031df21660704acf68d4c3d3333c4635d5](https://github.com/sagemath/sagetrac-mirror/commit/822619031df21660704acf68d4c3d3333c4635d5)\".",
    "created_at": "2017-10-21T07:51:27Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364906",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ccc496e85b8c57c69db82f82b196d94b8efbb39e](https://github.com/sagemath/sagetrac-mirror/commit/ccc496e85b8c57c69db82f82b196d94b8efbb39e)" to "[822619031df21660704acf68d4c3d3333c4635d5](https://github.com/sagemath/sagetrac-mirror/commit/822619031df21660704acf68d4c3d3333c4635d5)".



---

archive/issue_comments_364907.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9fb4d5a796014e29bc67f0af907d3baf0456e93a\">9fb4d5a</a></td><td><code>Merge branch 'u/chapoton/23987' in 8.1.b8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/822619031df21660704acf68d4c3d3333c4635d5\">8226190</a></td><td><code>trac 23987 add ref, cleanup doc</code></td></tr></table>\n",
    "created_at": "2017-10-21T07:51:27Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364907",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9fb4d5a796014e29bc67f0af907d3baf0456e93a">9fb4d5a</a></td><td><code>Merge branch 'u/chapoton/23987' in 8.1.b8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/822619031df21660704acf68d4c3d3333c4635d5">8226190</a></td><td><code>trac 23987 add ref, cleanup doc</code></td></tr></table>




---

archive/issue_comments_364908.json:
```json
{
    "body": "<a id='comment:4'></a>\ncomments welcome, please",
    "created_at": "2017-10-21T07:52:16Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364908",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
comments welcome, please



---

archive/issue_comments_364909.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/842c651dcfde2d98dc5451af5b0fa50caa38386e\">842c651</a></td><td><code>trac 23987 doc polishing</code></td></tr></table>\n",
    "created_at": "2017-10-21T09:05:12Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364909",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/842c651dcfde2d98dc5451af5b0fa50caa38386e">842c651</a></td><td><code>trac 23987 doc polishing</code></td></tr></table>




---

archive/issue_comments_364910.json:
```json
{
    "body": "**Changing commit** from \"[822619031df21660704acf68d4c3d3333c4635d5](https://github.com/sagemath/sagetrac-mirror/commit/822619031df21660704acf68d4c3d3333c4635d5)\" to \"[842c651dcfde2d98dc5451af5b0fa50caa38386e](https://github.com/sagemath/sagetrac-mirror/commit/842c651dcfde2d98dc5451af5b0fa50caa38386e)\".",
    "created_at": "2017-10-21T09:05:12Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364910",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[822619031df21660704acf68d4c3d3333c4635d5](https://github.com/sagemath/sagetrac-mirror/commit/822619031df21660704acf68d4c3d3333c4635d5)" to "[842c651dcfde2d98dc5451af5b0fa50caa38386e](https://github.com/sagemath/sagetrac-mirror/commit/842c651dcfde2d98dc5451af5b0fa50caa38386e)".



---

archive/issue_comments_364911.json:
```json
{
    "body": "<a id='comment:6'></a>\nI mentioned this on one of the other tickets, but what about using `<<` and `>>` as shorthands for `prec` and `succ`? Bit shifting doesn't make sense here and we can (at Python speed) go to the coercion framework. However, they just are just lower precedence than `+`, so `x << y + a << b` gets evaluated as `(x << (y + a)) << b`.",
    "created_at": "2017-10-23T04:04:23Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364911",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
I mentioned this on one of the other tickets, but what about using `<<` and `>>` as shorthands for `prec` and `succ`? Bit shifting doesn't make sense here and we can (at Python speed) go to the coercion framework. However, they just are just lower precedence than `+`, so `x << y + a << b` gets evaluated as `(x << (y + a)) << b`.



---

archive/issue_comments_364912.json:
```json
{
    "body": "<a id='comment:7'></a>\nHow easy would it be to extend this class to a multi-basis (i.e., WithRealizations) Hopf algebra? I am fairly sure that at some point, we will want FQSym to have multiple basis, and not just the two obvious ones that are related by inverting the permutation.\n\nIn other news, sorry for not reviewing this until now. I am not sure whether I'll do it today -- this semester my todo list is growing a lot faster than it is shrinking. But I'll at least take a look and try to fill in the doc if some of it is missing.",
    "created_at": "2017-10-24T18:46:00Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364912",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:7'></a>
How easy would it be to extend this class to a multi-basis (i.e., WithRealizations) Hopf algebra? I am fairly sure that at some point, we will want FQSym to have multiple basis, and not just the two obvious ones that are related by inverting the permutation.

In other news, sorry for not reviewing this until now. I am not sure whether I'll do it today -- this semester my todo list is growing a lot faster than it is shrinking. But I'll at least take a look and try to fill in the doc if some of it is missing.



---

archive/issue_comments_364913.json:
```json
{
    "body": "<a id='comment:8'></a>\nI am confused by the handling of empty permutations in `succ_product_on_basis` and `prec_product_on_basis`. Normally, the output of such methods should be an element of the module (here, FQSym); but in those special cases, it is a list of keys. Does Sage know how to deal with these issues? [EDIT: No, but I've fixed the methods now.]\n\nAlso, I suggest resolving the \"empty \\prec empty\" and \"empty \\succ empty\" indeterminacy in some way, e.g., setting one of them to be empty and the other 0. No, I don't have much of a preference :)\n\nWhere do we put references nowadays? I'd like to cite Grinberg & Reiner Chapter 8.",
    "created_at": "2017-10-24T19:10:10Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364913",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:8'></a>
I am confused by the handling of empty permutations in `succ_product_on_basis` and `prec_product_on_basis`. Normally, the output of such methods should be an element of the module (here, FQSym); but in those special cases, it is a list of keys. Does Sage know how to deal with these issues? [EDIT: No, but I've fixed the methods now.]

Also, I suggest resolving the "empty \prec empty" and "empty \succ empty" indeterminacy in some way, e.g., setting one of them to be empty and the other 0. No, I don't have much of a preference :)

Where do we put references nowadays? I'd like to cite Grinberg & Reiner Chapter 8.



---

archive/issue_comments_364914.json:
```json
{
    "body": "<a id='comment:9'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb5d51c743fab660aa403c78ddcda209cba4caf6\">cb5d51c</a></td><td><code>better class-level doc</code></td></tr></table>\n",
    "created_at": "2017-10-24T19:16:23Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364914",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:9'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb5d51c743fab660aa403c78ddcda209cba4caf6">cb5d51c</a></td><td><code>better class-level doc</code></td></tr></table>




---

archive/issue_comments_364915.json:
```json
{
    "body": "**Changing commit** from \"[842c651dcfde2d98dc5451af5b0fa50caa38386e](https://github.com/sagemath/sagetrac-mirror/commit/842c651dcfde2d98dc5451af5b0fa50caa38386e)\" to \"[cb5d51c743fab660aa403c78ddcda209cba4caf6](https://github.com/sagemath/sagetrac-mirror/commit/cb5d51c743fab660aa403c78ddcda209cba4caf6)\".",
    "created_at": "2017-10-24T19:16:23Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364915",
    "user": "https://github.com/darijgr"
}
```

**Changing commit** from "[842c651dcfde2d98dc5451af5b0fa50caa38386e](https://github.com/sagemath/sagetrac-mirror/commit/842c651dcfde2d98dc5451af5b0fa50caa38386e)" to "[cb5d51c743fab660aa403c78ddcda209cba4caf6](https://github.com/sagemath/sagetrac-mirror/commit/cb5d51c743fab660aa403c78ddcda209cba4caf6)".



---

archive/issue_comments_364916.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/23987](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23987)\" to \"[public/ticket/23987](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/23987)\".",
    "created_at": "2017-10-24T19:16:23Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364916",
    "user": "https://github.com/darijgr"
}
```

**Changing branch** from "[u/chapoton/23987](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23987)" to "[public/ticket/23987](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/23987)".



---

archive/issue_comments_364917.json:
```json
{
    "body": "<a id='comment:10'></a>\nI'll make a commit shortly. It is a review commit, but the following issues remain:\n\n- The shorthand Travis suggested above (comment:6).\n\n- Multi-basis support (comment:7).\n\n- A reference to any source that uses modern notation (e.g., Grinberg/Reiner Chapter 8).\n\n- For reasons of speed: use sum_of_terms or sum_of_monomials instead of sum in the constructors of the three operations?\n\n- For reasons of speed: don't we have lower-level shuffle iterators that avoid the detour through the `Word` class?",
    "created_at": "2017-10-26T21:04:56Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364917",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:10'></a>
I'll make a commit shortly. It is a review commit, but the following issues remain:

- The shorthand Travis suggested above (comment:6).

- Multi-basis support (comment:7).

- A reference to any source that uses modern notation (e.g., Grinberg/Reiner Chapter 8).

- For reasons of speed: use sum_of_terms or sum_of_monomials instead of sum in the constructors of the three operations?

- For reasons of speed: don't we have lower-level shuffle iterators that avoid the detour through the `Word` class?



---

archive/issue_comments_364918.json:
```json
{
    "body": "**Changing commit** from \"[cb5d51c743fab660aa403c78ddcda209cba4caf6](https://github.com/sagemath/sagetrac-mirror/commit/cb5d51c743fab660aa403c78ddcda209cba4caf6)\" to \"[0defdb0835ddbf2e57fb582776c19ee0199ad3f1](https://github.com/sagemath/sagetrac-mirror/commit/0defdb0835ddbf2e57fb582776c19ee0199ad3f1)\".",
    "created_at": "2017-10-26T21:06:22Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364918",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cb5d51c743fab660aa403c78ddcda209cba4caf6](https://github.com/sagemath/sagetrac-mirror/commit/cb5d51c743fab660aa403c78ddcda209cba4caf6)" to "[0defdb0835ddbf2e57fb582776c19ee0199ad3f1](https://github.com/sagemath/sagetrac-mirror/commit/0defdb0835ddbf2e57fb582776c19ee0199ad3f1)".



---

archive/issue_comments_364919.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/185a823b97c26690b4c0a713fe93629f1ce2fdb8\">185a823</a></td><td><code>Merge branch 'public/ticket/23987' of git://trac.sagemath.org/sage into FQS</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0defdb0835ddbf2e57fb582776c19ee0199ad3f1\">0defdb0</a></td><td><code>various corrections; needs someone to run the doctests</code></td></tr></table>\n",
    "created_at": "2017-10-26T21:06:22Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364919",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/185a823b97c26690b4c0a713fe93629f1ce2fdb8">185a823</a></td><td><code>Merge branch 'public/ticket/23987' of git://trac.sagemath.org/sage into FQS</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0defdb0835ddbf2e57fb582776c19ee0199ad3f1">0defdb0</a></td><td><code>various corrections; needs someone to run the doctests</code></td></tr></table>




---

archive/issue_comments_364920.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36f49e14f6a9a008b91d6ffd67a586069ca9e6be\">36f49e1</a></td><td><code>oops! now the doctests succeed</code></td></tr></table>\n",
    "created_at": "2017-10-26T21:15:18Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364920",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36f49e14f6a9a008b91d6ffd67a586069ca9e6be">36f49e1</a></td><td><code>oops! now the doctests succeed</code></td></tr></table>




---

archive/issue_comments_364921.json:
```json
{
    "body": "**Changing commit** from \"[0defdb0835ddbf2e57fb582776c19ee0199ad3f1](https://github.com/sagemath/sagetrac-mirror/commit/0defdb0835ddbf2e57fb582776c19ee0199ad3f1)\" to \"[36f49e14f6a9a008b91d6ffd67a586069ca9e6be](https://github.com/sagemath/sagetrac-mirror/commit/36f49e14f6a9a008b91d6ffd67a586069ca9e6be)\".",
    "created_at": "2017-10-26T21:15:18Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364921",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0defdb0835ddbf2e57fb582776c19ee0199ad3f1](https://github.com/sagemath/sagetrac-mirror/commit/0defdb0835ddbf2e57fb582776c19ee0199ad3f1)" to "[36f49e14f6a9a008b91d6ffd67a586069ca9e6be](https://github.com/sagemath/sagetrac-mirror/commit/36f49e14f6a9a008b91d6ffd67a586069ca9e6be)".



---

archive/issue_comments_364922.json:
```json
{
    "body": "<a id='comment:13'></a>\nFor multi-basis support: maybe Mike Zabrocki's template would be useful? (It's designed to be a template for CHAs in general, but he actually demonstrates it with FQSym.)\n\nhttps://cocalc.com/projects/44ed3873-5f1b-4e40-8f2f-be95581bf080/files/for_Mike_Z/?session=default\n\nThank you everybody for your hard work, really looking forward to having FQSym in Sage.",
    "created_at": "2017-10-27T00:41:49Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364922",
    "user": "https://trac.sagemath.org/admin/accounts/users/amypang"
}
```

<a id='comment:13'></a>
For multi-basis support: maybe Mike Zabrocki's template would be useful? (It's designed to be a template for CHAs in general, but he actually demonstrates it with FQSym.)

https://cocalc.com/projects/44ed3873-5f1b-4e40-8f2f-be95581bf080/files/for_Mike_Z/?session=default

Thank you everybody for your hard work, really looking forward to having FQSym in Sage.



---

archive/issue_comments_364923.json:
```json
{
    "body": "<a id='comment:14'></a>\nThanks, Darij.\n\nI would strongly suggest keeping the multi-basis support for another ticket.",
    "created_at": "2017-10-27T07:19:40Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364923",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
Thanks, Darij.

I would strongly suggest keeping the multi-basis support for another ticket.



---

archive/issue_comments_364924.json:
```json
{
    "body": "<a id='comment:15'></a>\nThe problem is: can it be done without changing the syntax? If not, we need to do it in this ticket, or else the next ticket will essentially be a full deprecation.",
    "created_at": "2017-10-27T07:28:27Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364924",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:15'></a>
The problem is: can it be done without changing the syntax? If not, we need to do it in this ticket, or else the next ticket will essentially be a full deprecation.



---

archive/issue_comments_364925.json:
```json
{
    "body": "**Changing commit** from \"[36f49e14f6a9a008b91d6ffd67a586069ca9e6be](https://github.com/sagemath/sagetrac-mirror/commit/36f49e14f6a9a008b91d6ffd67a586069ca9e6be)\" to \"[a5b7e01dc4d042d8823b8b1dc6db982fd579d465](https://github.com/sagemath/sagetrac-mirror/commit/a5b7e01dc4d042d8823b8b1dc6db982fd579d465)\".",
    "created_at": "2017-11-02T00:13:11Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364925",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[36f49e14f6a9a008b91d6ffd67a586069ca9e6be](https://github.com/sagemath/sagetrac-mirror/commit/36f49e14f6a9a008b91d6ffd67a586069ca9e6be)" to "[a5b7e01dc4d042d8823b8b1dc6db982fd579d465](https://github.com/sagemath/sagetrac-mirror/commit/a5b7e01dc4d042d8823b8b1dc6db982fd579d465)".



---

archive/issue_comments_364926.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5dee64c6a8d64e7dc846185241a212d8c9a1c6c\">c5dee64</a></td><td><code>1st attempt at multiple bases; breaks coercion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84a8aa7f4d96e37274d0fa76362f8e8efcccc3ec\">84a8aa7</a></td><td><code>fix conversion (not a coercion yet)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5b7e01dc4d042d8823b8b1dc6db982fd579d465\">a5b7e01</a></td><td><code>attempt at coercion</code></td></tr></table>\n",
    "created_at": "2017-11-02T00:13:11Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364926",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5dee64c6a8d64e7dc846185241a212d8c9a1c6c">c5dee64</a></td><td><code>1st attempt at multiple bases; breaks coercion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84a8aa7f4d96e37274d0fa76362f8e8efcccc3ec">84a8aa7</a></td><td><code>fix conversion (not a coercion yet)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5b7e01dc4d042d8823b8b1dc6db982fd579d465">a5b7e01</a></td><td><code>attempt at coercion</code></td></tr></table>




---

archive/issue_comments_364927.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8\">57c79e0</a></td><td><code>ABC for FQSym bases and some coercion cleanup in preparation for multiple bases.</code></td></tr></table>\n",
    "created_at": "2017-11-02T00:53:06Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364927",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8">57c79e0</a></td><td><code>ABC for FQSym bases and some coercion cleanup in preparation for multiple bases.</code></td></tr></table>




---

archive/issue_comments_364928.json:
```json
{
    "body": "**Changing commit** from \"[a5b7e01dc4d042d8823b8b1dc6db982fd579d465](https://github.com/sagemath/sagetrac-mirror/commit/a5b7e01dc4d042d8823b8b1dc6db982fd579d465)\" to \"[57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8](https://github.com/sagemath/sagetrac-mirror/commit/57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8)\".",
    "created_at": "2017-11-02T00:53:06Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364928",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a5b7e01dc4d042d8823b8b1dc6db982fd579d465](https://github.com/sagemath/sagetrac-mirror/commit/a5b7e01dc4d042d8823b8b1dc6db982fd579d465)" to "[57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8](https://github.com/sagemath/sagetrac-mirror/commit/57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8)".



---

archive/issue_comments_364929.json:
```json
{
    "body": "<a id='comment:18'></a>\nDarij and I worked on doing the multiple bases support so we do not have to deal with (very tricky) deprecations later on. Darij is going to work on the SGA coercions.\n\nMy only question is do we want the algebra to be `FQSYM` in all caps in `algebras`?",
    "created_at": "2017-11-02T00:55:16Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364929",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>
Darij and I worked on doing the multiple bases support so we do not have to deal with (very tricky) deprecations later on. Darij is going to work on the SGA coercions.

My only question is do we want the algebra to be `FQSYM` in all caps in `algebras`?



---

archive/issue_comments_364930.json:
```json
{
    "body": "**Changing commit** from \"[57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8](https://github.com/sagemath/sagetrac-mirror/commit/57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8)\" to \"[c8783ec0cc4f96d4480902df9fde59c93eb713d9](https://github.com/sagemath/sagetrac-mirror/commit/c8783ec0cc4f96d4480902df9fde59c93eb713d9)\".",
    "created_at": "2017-11-02T01:24:48Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364930",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8](https://github.com/sagemath/sagetrac-mirror/commit/57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8)" to "[c8783ec0cc4f96d4480902df9fde59c93eb713d9](https://github.com/sagemath/sagetrac-mirror/commit/c8783ec0cc4f96d4480902df9fde59c93eb713d9)".



---

archive/issue_comments_364931.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc84beb6e1e0338da899e7f0c4b2449f75b70df6\">fc84beb</a></td><td><code>to and from symmetric group algebra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8783ec0cc4f96d4480902df9fde59c93eb713d9\">c8783ec</a></td><td><code>add a reference</code></td></tr></table>\n",
    "created_at": "2017-11-02T01:24:48Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364931",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc84beb6e1e0338da899e7f0c4b2449f75b70df6">fc84beb</a></td><td><code>to and from symmetric group algebra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8783ec0cc4f96d4480902df9fde59c93eb713d9">c8783ec</a></td><td><code>add a reference</code></td></tr></table>




---

archive/issue_comments_364932.json:
```json
{
    "body": "<a id='comment:20'></a>\nActually, I have another question: [comment:6](#comment%3A6). If you don't want to, it's fine, but just a thought (at least, I don't recall you saying anything about it previous, sorry if you did). Both of these are primarily for Fr\u00e9d\u00e9ric.",
    "created_at": "2017-11-02T08:24:56Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364932",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>
Actually, I have another question: [comment:6](#comment%3A6). If you don't want to, it's fine, but just a thought (at least, I don't recall you saying anything about it previous, sorry if you did). Both of these are primarily for Frédéric.



---

archive/issue_comments_364933.json:
```json
{
    "body": "<a id='comment:21'></a>\nThanks for working on that. I am not very positive about using << and >> for the dendriform operations. I think we must live with the fact that there are too many operations to assign a symbol to each of them.",
    "created_at": "2017-11-03T20:40:27Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364933",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>
Thanks for working on that. I am not very positive about using << and >> for the dendriform operations. I think we must live with the fact that there are too many operations to assign a symbol to each of them.



---

archive/issue_events_213174.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-11-03T20:54:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-213174"
}
```



---

archive/issue_events_213175.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-11-03T20:54:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-213175"
}
```



---

archive/issue_comments_364934.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2017-11-03T20:54:31Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364934",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_364935.json:
```json
{
    "body": "**Changing author** from \"Fr\u00e9d\u00e9ric Chapoton\" to \"Fr\u00e9d\u00e9ric Chapoton, Darij Grinberg\".",
    "created_at": "2017-11-03T20:54:31Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364935",
    "user": "https://github.com/tscrim"
}
```

**Changing author** from "Frédéric Chapoton" to "Frédéric Chapoton, Darij Grinberg".



---

archive/issue_comments_364936.json:
```json
{
    "body": "<a id='comment:22'></a>\nI also feel that the swapped order of operators would likely confuse some people too. So scratch that idea.\n\nThe only other thing left is `algebras.FQSym` vs `algebras.FQSYM`. This is probably bikeshedding, but I don't like the all-caps as it makes it feel like the `Y` and `M` stand for something. I'm also more included to having `FreeQuasiSymmetricFunctions` and in the global namespace in line with our other CHAs in Sage (imported lazily). Moreover, I think we should also have `algebras.MalvenutoReutenauer`.\n\nAt some point we should decide how we want to add the CHAs to `algebras`, if we want to do `algebras.combinatorial_hopf.Foo`, add them `algebras.Foo`, leave some of them in the global namespace, and/or have `combinatorial_hopf_algebras.Foo`. However, that is a separate issue for another ticket that is far easier to do.\n\nThoughts?\n\n(Darij didn't want to set it to needs_info because he felt it was a quagmire; I am to prove him wrong. :P)",
    "created_at": "2017-11-03T20:54:31Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364936",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>
I also feel that the swapped order of operators would likely confuse some people too. So scratch that idea.

The only other thing left is `algebras.FQSym` vs `algebras.FQSYM`. This is probably bikeshedding, but I don't like the all-caps as it makes it feel like the `Y` and `M` stand for something. I'm also more included to having `FreeQuasiSymmetricFunctions` and in the global namespace in line with our other CHAs in Sage (imported lazily). Moreover, I think we should also have `algebras.MalvenutoReutenauer`.

At some point we should decide how we want to add the CHAs to `algebras`, if we want to do `algebras.combinatorial_hopf.Foo`, add them `algebras.Foo`, leave some of them in the global namespace, and/or have `combinatorial_hopf_algebras.Foo`. However, that is a separate issue for another ticket that is far easier to do.

Thoughts?

(Darij didn't want to set it to needs_info because he felt it was a quagmire; I am to prove him wrong. :P)



---

archive/issue_comments_364937.json:
```json
{
    "body": "<a id='comment:23'></a>\nping?",
    "created_at": "2017-11-06T21:27:33Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364937",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:23'></a>
ping?



---

archive/issue_comments_364938.json:
```json
{
    "body": "<a id='comment:24'></a>\nok for algebras.FQSym instead of algebras.FQSYM\n\nok for algebras.MalvenutoReutenauer (but not a strong +1)\n\nok for lazily imported global FreeQuasiSymmetricFunctions (not a strong +1 either)",
    "created_at": "2017-11-07T18:45:52Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364938",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'></a>
ok for algebras.FQSym instead of algebras.FQSYM

ok for algebras.MalvenutoReutenauer (but not a strong +1)

ok for lazily imported global FreeQuasiSymmetricFunctions (not a strong +1 either)



---

archive/issue_comments_364939.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e207e8b84764972d924b3240150dbed98c28421\">9e207e8</a></td><td><code>Some reviewer changes.</code></td></tr></table>\n",
    "created_at": "2017-11-07T22:31:04Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364939",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e207e8b84764972d924b3240150dbed98c28421">9e207e8</a></td><td><code>Some reviewer changes.</code></td></tr></table>




---

archive/issue_comments_364940.json:
```json
{
    "body": "**Changing commit** from \"[c8783ec0cc4f96d4480902df9fde59c93eb713d9](https://github.com/sagemath/sagetrac-mirror/commit/c8783ec0cc4f96d4480902df9fde59c93eb713d9)\" to \"[9e207e8b84764972d924b3240150dbed98c28421](https://github.com/sagemath/sagetrac-mirror/commit/9e207e8b84764972d924b3240150dbed98c28421)\".",
    "created_at": "2017-11-07T22:31:04Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364940",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c8783ec0cc4f96d4480902df9fde59c93eb713d9](https://github.com/sagemath/sagetrac-mirror/commit/c8783ec0cc4f96d4480902df9fde59c93eb713d9)" to "[9e207e8b84764972d924b3240150dbed98c28421](https://github.com/sagemath/sagetrac-mirror/commit/9e207e8b84764972d924b3240150dbed98c28421)".



---

archive/issue_comments_364941.json:
```json
{
    "body": "<a id='comment:26'></a>\nI made a few changes beyond the naming.\n\n- I added Darij to the authors and copyright.\n- I changed the implementation of `to_symmetric_group_algebra` because SGA's form a natural tower of R-algebras. Since this is just a R-linear embedding, it makes perfect sense to use the maximal degree (and the behavior you allowed did not match your doc).\n- Some minor documentation/formatting changes.\n\nIf my changes are good, then positive review.",
    "created_at": "2017-11-07T22:35:42Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364941",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:26'></a>
I made a few changes beyond the naming.

- I added Darij to the authors and copyright.
- I changed the implementation of `to_symmetric_group_algebra` because SGA's form a natural tower of R-algebras. Since this is just a R-linear embedding, it makes perfect sense to use the maximal degree (and the behavior you allowed did not match your doc).
- Some minor documentation/formatting changes.

If my changes are good, then positive review.



---

archive/issue_events_213176.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-11-07T22:35:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-213176"
}
```



---

archive/issue_events_213177.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-11-07T22:35:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-213177"
}
```



---

archive/issue_comments_364942.json:
```json
{
    "body": "<a id='comment:27'></a>\nNice extension of `to_symmetric_group_algebra`, although I'm not sure how useful it will be (it's not an embedding anymore). BUT this part:\n\n```\n+            if not self:\n+                return SymmetricGroupAlgebra(self.base_ring(), 0).zero()\n```\nshould be\n\n```\n            if not self:\n                if n is None:\n                    n = 0\n                return SymmetricGroupAlgebra(self.base_ring(), n).zero()\n```\ninstead.",
    "created_at": "2017-11-08T00:34:04Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364942",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:27'></a>
Nice extension of `to_symmetric_group_algebra`, although I'm not sure how useful it will be (it's not an embedding anymore). BUT this part:

```
+            if not self:
+                return SymmetricGroupAlgebra(self.base_ring(), 0).zero()
```
should be

```
            if not self:
                if n is None:
                    n = 0
                return SymmetricGroupAlgebra(self.base_ring(), n).zero()
```
instead.



---

archive/issue_comments_364943.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a877b6ee160176d22600c6d581d02e05fafbc404\">a877b6e</a></td><td><code>Fixing some details.</code></td></tr></table>\n",
    "created_at": "2017-11-08T00:36:47Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364943",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a877b6ee160176d22600c6d581d02e05fafbc404">a877b6e</a></td><td><code>Fixing some details.</code></td></tr></table>




---

archive/issue_comments_364944.json:
```json
{
    "body": "**Changing commit** from \"[9e207e8b84764972d924b3240150dbed98c28421](https://github.com/sagemath/sagetrac-mirror/commit/9e207e8b84764972d924b3240150dbed98c28421)\" to \"[a877b6ee160176d22600c6d581d02e05fafbc404](https://github.com/sagemath/sagetrac-mirror/commit/a877b6ee160176d22600c6d581d02e05fafbc404)\".",
    "created_at": "2017-11-08T00:36:47Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364944",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9e207e8b84764972d924b3240150dbed98c28421](https://github.com/sagemath/sagetrac-mirror/commit/9e207e8b84764972d924b3240150dbed98c28421)" to "[a877b6ee160176d22600c6d581d02e05fafbc404](https://github.com/sagemath/sagetrac-mirror/commit/a877b6ee160176d22600c6d581d02e05fafbc404)".



---

archive/issue_comments_364945.json:
```json
{
    "body": "<a id='comment:29'></a>\nRight, good point. Fixed. I also changed the error message to be more specific about the cause. I'm not sure how useful the R-linear map to SGA is in general (even restricted to the graded component), but I'm assuming you have a use-case and it is my ignorance about FQSym.",
    "created_at": "2017-11-08T00:39:24Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364945",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:29'></a>
Right, good point. Fixed. I also changed the error message to be more specific about the cause. I'm not sure how useful the R-linear map to SGA is in general (even restricted to the graded component), but I'm assuming you have a use-case and it is my ignorance about FQSym.



---

archive/issue_comments_364946.json:
```json
{
    "body": "<a id='comment:30'></a>\nThanks -- it LGTM now.\n\nMy first use case is studying the Reiner-Saliola-Welker idempotents in the SGAs using Hopf machinery in FQSym (as they are not in the descent algebra). Not sure whether anything will come out of that, but now it can be done easily with Sage, which is some progress.",
    "created_at": "2017-11-08T00:43:13Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364946",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:30'></a>
Thanks -- it LGTM now.

My first use case is studying the Reiner-Saliola-Welker idempotents in the SGAs using Hopf machinery in FQSym (as they are not in the descent algebra). Not sure whether anything will come out of that, but now it can be done easily with Sage, which is some progress.



---

archive/issue_comments_364947.json:
```json
{
    "body": "<a id='comment:31'></a>\nFr\u00e9d\u00e9ric, everything okay with you?\n\n@darijgr thanks for the explanation.",
    "created_at": "2017-11-11T04:12:47Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364947",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:31'></a>
Frédéric, everything okay with you?

@darijgr thanks for the explanation.



---

archive/issue_comments_364948.json:
```json
{
    "body": "<a id='comment:32'></a>\n2 failing doctests, otherwise I'm ok",
    "created_at": "2017-11-11T07:41:56Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364948",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:32'></a>
2 failing doctests, otherwise I'm ok



---

archive/issue_comments_364949.json:
```json
{
    "body": "<a id='comment:33'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d\">5707cb4</a></td><td><code>The object does not have a distinguished basis, we have to choose it.</code></td></tr></table>\n",
    "created_at": "2017-11-11T15:31:26Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364949",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d">5707cb4</a></td><td><code>The object does not have a distinguished basis, we have to choose it.</code></td></tr></table>




---

archive/issue_comments_364950.json:
```json
{
    "body": "**Changing commit** from \"[a877b6ee160176d22600c6d581d02e05fafbc404](https://github.com/sagemath/sagetrac-mirror/commit/a877b6ee160176d22600c6d581d02e05fafbc404)\" to \"[5707cb4176ffd22888f8010837e01a94ace8a78d](https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d)\".",
    "created_at": "2017-11-11T15:31:26Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364950",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a877b6ee160176d22600c6d581d02e05fafbc404](https://github.com/sagemath/sagetrac-mirror/commit/a877b6ee160176d22600c6d581d02e05fafbc404)" to "[5707cb4176ffd22888f8010837e01a94ace8a78d](https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d)".



---

archive/issue_comments_364951.json:
```json
{
    "body": "<a id='comment:34'></a>\nThis fixes the doctest failures because the `FQSym` object does not have a distinguished basis, so it should not have a `WithBasis()` with the category. But the bases need to specify it. Just needs a quick double-check.",
    "created_at": "2017-11-11T15:35:05Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364951",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:34'></a>
This fixes the doctest failures because the `FQSym` object does not have a distinguished basis, so it should not have a `WithBasis()` with the category. But the bases need to specify it. Just needs a quick double-check.



---

archive/issue_comments_364952.json:
```json
{
    "body": "<a id='comment:35'></a>\nIf tests pass, this is a pos_rev. I mistook WithBasis for WithRealizations :)",
    "created_at": "2017-11-11T15:37:53Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364952",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:35'></a>
If tests pass, this is a pos_rev. I mistook WithBasis for WithRealizations :)



---

archive/issue_comments_364953.json:
```json
{
    "body": "<a id='comment:36'></a>\nGreen patchbot. Thank you both for your work on this.",
    "created_at": "2017-11-11T22:52:10Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364953",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:36'></a>
Green patchbot. Thank you both for your work on this.



---

archive/issue_events_213178.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-11-11T22:52:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-213178"
}
```



---

archive/issue_events_213179.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-11-11T22:52:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-213179"
}
```



---

archive/issue_comments_364954.json:
```json
{
    "body": "<a id='comment:37'></a>\nThanks to the two of you, who did most of it!",
    "created_at": "2017-11-11T23:41:51Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364954",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:37'></a>
Thanks to the two of you, who did most of it!



---

archive/issue_comments_364955.json:
```json
{
    "body": "**Changing branch** from \"[public/ticket/23987](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/23987)\" to \"[5707cb4176ffd22888f8010837e01a94ace8a78d](https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d)\".",
    "created_at": "2017-12-11T01:03:33Z",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-364955",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/ticket/23987](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/23987)" to "[5707cb4176ffd22888f8010837e01a94ace8a78d](https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d)".



---

archive/issue_events_213180.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-12-11T01:03:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-213180"
}
```



---

archive/issue_events_213181.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "faf634ebbf0e019968cf76054d32a494e8d003eb",
    "created_at": "2017-12-11T01:03:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-213181"
}
```
