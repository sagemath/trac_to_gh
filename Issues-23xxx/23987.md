# Issue 23987: minimal implementation of FQSYM

archive/issues_023750.json:
```json
{
    "assignees": [],
    "body": "FQSym is also know as Malvenuto-Reutenauer Hopf algebra\n\nbecause #19278 has rotten\n\nCC:  @tscrim @darijgr @amypang\n\nBranch/Commit: **[`5707cb4`](https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton, Darij Grinberg**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23987_\n\n",
    "closed_at": "2017-12-11T01:03:33Z",
    "created_at": "2017-10-08T09:07:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "minimal implementation of FQSYM",
    "type": "issue",
    "updated_at": "2017-12-11T01:03:33Z",
    "url": "https://github.com/sagemath/sage/issues/23987",
    "user": "https://github.com/fchapoton"
}
```
FQSym is also know as Malvenuto-Reutenauer Hopf algebra

because #19278 has rotten

CC:  @tscrim @darijgr @amypang

Branch/Commit: **[`5707cb4`](https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton, Darij Grinberg**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/23987_





---

archive/issue_events_330222.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-10-08T09:07:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330222"
}
```



---

archive/issue_events_330223.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-10-08T09:07:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330223"
}
```



---

archive/issue_events_330224.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-10-08T09:07:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330224"
}
```



---

archive/issue_events_330225.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-10-08T09:07:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330225"
}
```



---

archive/issue_comments_362305.json:
```json
{
    "body": "Author: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2017-10-08T09:08:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362305",
    "user": "https://github.com/fchapoton"
}
```

Author: **Frédéric Chapoton**



---

archive/issue_comments_362306.json:
```json
{
    "body": "Commit: **[`ccc496e`](https://github.com/sagemath/sagetrac-mirror/commit/ccc496e85b8c57c69db82f82b196d94b8efbb39e)**",
    "created_at": "2017-10-08T09:08:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362306",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`ccc496e`](https://github.com/sagemath/sagetrac-mirror/commit/ccc496e85b8c57c69db82f82b196d94b8efbb39e)**



---

archive/issue_comments_362307.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8728db343c6766166a18dfad3b8585a5cbfb5596\"><code>8728db3</code></a></td><td><code>free quasi symm functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ccc496e85b8c57c69db82f82b196d94b8efbb39e\"><code>ccc496e</code></a></td><td><code>fqsym code ok</code></td></tr></table>\n",
    "created_at": "2017-10-08T09:08:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362307",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8728db343c6766166a18dfad3b8585a5cbfb5596"><code>8728db3</code></a></td><td><code>free quasi symm functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ccc496e85b8c57c69db82f82b196d94b8efbb39e"><code>ccc496e</code></a></td><td><code>fqsym code ok</code></td></tr></table>




---

archive/issue_events_330226.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-10-08T09:08:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330226"
}
```



---

archive/issue_comments_362308.json:
```json
{
    "body": "Branch: **[u/chapoton/23987](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23987)**",
    "created_at": "2017-10-08T09:08:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362308",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/23987](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23987)**



---

archive/issue_comments_362309.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nAll tests pass, but the documentation is still rough.",
    "created_at": "2017-10-08T09:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362309",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:2" align="right">comment:2</div>

All tests pass, but the documentation is still rough.



---

archive/issue_events_330227.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-10-08T09:10:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330227"
}
```



---

archive/issue_events_330228.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-10-08T09:10:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330228"
}
```



---

archive/issue_comments_362310.json:
```json
{
    "body": "Changed commit from **[`ccc496e`](https://github.com/sagemath/sagetrac-mirror/commit/ccc496e85b8c57c69db82f82b196d94b8efbb39e)** to **[`8226190`](https://github.com/sagemath/sagetrac-mirror/commit/822619031df21660704acf68d4c3d3333c4635d5)**",
    "created_at": "2017-10-21T07:51:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362310",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ccc496e`](https://github.com/sagemath/sagetrac-mirror/commit/ccc496e85b8c57c69db82f82b196d94b8efbb39e)** to **[`8226190`](https://github.com/sagemath/sagetrac-mirror/commit/822619031df21660704acf68d4c3d3333c4635d5)**



---

archive/issue_comments_362311.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9fb4d5a796014e29bc67f0af907d3baf0456e93a\"><code>9fb4d5a</code></a></td><td><code>Merge branch 'u/chapoton/23987' in 8.1.b8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/822619031df21660704acf68d4c3d3333c4635d5\"><code>8226190</code></a></td><td><code>trac 23987 add ref, cleanup doc</code></td></tr></table>\n",
    "created_at": "2017-10-21T07:51:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362311",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9fb4d5a796014e29bc67f0af907d3baf0456e93a"><code>9fb4d5a</code></a></td><td><code>Merge branch 'u/chapoton/23987' in 8.1.b8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/822619031df21660704acf68d4c3d3333c4635d5"><code>8226190</code></a></td><td><code>trac 23987 add ref, cleanup doc</code></td></tr></table>




---

archive/issue_comments_362312.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\ncomments welcome, please",
    "created_at": "2017-10-21T07:52:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362312",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

comments welcome, please



---

archive/issue_comments_362313.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/842c651dcfde2d98dc5451af5b0fa50caa38386e\"><code>842c651</code></a></td><td><code>trac 23987 doc polishing</code></td></tr></table>\n",
    "created_at": "2017-10-21T09:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362313",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/842c651dcfde2d98dc5451af5b0fa50caa38386e"><code>842c651</code></a></td><td><code>trac 23987 doc polishing</code></td></tr></table>




---

archive/issue_comments_362314.json:
```json
{
    "body": "Changed commit from **[`8226190`](https://github.com/sagemath/sagetrac-mirror/commit/822619031df21660704acf68d4c3d3333c4635d5)** to **[`842c651`](https://github.com/sagemath/sagetrac-mirror/commit/842c651dcfde2d98dc5451af5b0fa50caa38386e)**",
    "created_at": "2017-10-21T09:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362314",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8226190`](https://github.com/sagemath/sagetrac-mirror/commit/822619031df21660704acf68d4c3d3333c4635d5)** to **[`842c651`](https://github.com/sagemath/sagetrac-mirror/commit/842c651dcfde2d98dc5451af5b0fa50caa38386e)**



---

archive/issue_comments_362315.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI mentioned this on one of the other tickets, but what about using `<<` and `>>` as shorthands for `prec` and `succ`? Bit shifting doesn't make sense here and we can (at Python speed) go to the coercion framework. However, they just are just lower precedence than `+`, so `x << y + a << b` gets evaluated as `(x << (y + a)) << b`.",
    "created_at": "2017-10-23T04:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362315",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">comment:6</div>

I mentioned this on one of the other tickets, but what about using `<<` and `>>` as shorthands for `prec` and `succ`? Bit shifting doesn't make sense here and we can (at Python speed) go to the coercion framework. However, they just are just lower precedence than `+`, so `x << y + a << b` gets evaluated as `(x << (y + a)) << b`.



---

archive/issue_comments_362316.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHow easy would it be to extend this class to a multi-basis (i.e., WithRealizations) Hopf algebra? I am fairly sure that at some point, we will want FQSym to have multiple basis, and not just the two obvious ones that are related by inverting the permutation.\n\nIn other news, sorry for not reviewing this until now. I am not sure whether I'll do it today -- this semester my todo list is growing a lot faster than it is shrinking. But I'll at least take a look and try to fill in the doc if some of it is missing.",
    "created_at": "2017-10-24T18:46:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362316",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:7" align="right">comment:7</div>

How easy would it be to extend this class to a multi-basis (i.e., WithRealizations) Hopf algebra? I am fairly sure that at some point, we will want FQSym to have multiple basis, and not just the two obvious ones that are related by inverting the permutation.

In other news, sorry for not reviewing this until now. I am not sure whether I'll do it today -- this semester my todo list is growing a lot faster than it is shrinking. But I'll at least take a look and try to fill in the doc if some of it is missing.



---

archive/issue_comments_362317.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI am confused by the handling of empty permutations in `succ_product_on_basis` and `prec_product_on_basis`. Normally, the output of such methods should be an element of the module (here, FQSym); but in those special cases, it is a list of keys. Does Sage know how to deal with these issues? [EDIT: No, but I've fixed the methods now.]\n\nAlso, I suggest resolving the \"empty \\prec empty\" and \"empty \\succ empty\" indeterminacy in some way, e.g., setting one of them to be empty and the other 0. No, I don't have much of a preference :)\n\nWhere do we put references nowadays? I'd like to cite Grinberg & Reiner Chapter 8.",
    "created_at": "2017-10-24T19:10:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362317",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:8" align="right">comment:8</div>

I am confused by the handling of empty permutations in `succ_product_on_basis` and `prec_product_on_basis`. Normally, the output of such methods should be an element of the module (here, FQSym); but in those special cases, it is a list of keys. Does Sage know how to deal with these issues? [EDIT: No, but I've fixed the methods now.]

Also, I suggest resolving the "empty \prec empty" and "empty \succ empty" indeterminacy in some way, e.g., setting one of them to be empty and the other 0. No, I don't have much of a preference :)

Where do we put references nowadays? I'd like to cite Grinberg & Reiner Chapter 8.



---

archive/issue_comments_362318.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb5d51c743fab660aa403c78ddcda209cba4caf6\"><code>cb5d51c</code></a></td><td><code>better class-level doc</code></td></tr></table>\n",
    "created_at": "2017-10-24T19:16:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362318",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:9"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb5d51c743fab660aa403c78ddcda209cba4caf6"><code>cb5d51c</code></a></td><td><code>better class-level doc</code></td></tr></table>




---

archive/issue_comments_362319.json:
```json
{
    "body": "Changed commit from **[`842c651`](https://github.com/sagemath/sagetrac-mirror/commit/842c651dcfde2d98dc5451af5b0fa50caa38386e)** to **[`cb5d51c`](https://github.com/sagemath/sagetrac-mirror/commit/cb5d51c743fab660aa403c78ddcda209cba4caf6)**",
    "created_at": "2017-10-24T19:16:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362319",
    "user": "https://github.com/darijgr"
}
```

Changed commit from **[`842c651`](https://github.com/sagemath/sagetrac-mirror/commit/842c651dcfde2d98dc5451af5b0fa50caa38386e)** to **[`cb5d51c`](https://github.com/sagemath/sagetrac-mirror/commit/cb5d51c743fab660aa403c78ddcda209cba4caf6)**



---

archive/issue_comments_362320.json:
```json
{
    "body": "Changed branch from **[u/chapoton/23987](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23987)** to **[public/ticket/23987](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/23987)**",
    "created_at": "2017-10-24T19:16:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362320",
    "user": "https://github.com/darijgr"
}
```

Changed branch from **[u/chapoton/23987](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23987)** to **[public/ticket/23987](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/23987)**



---

archive/issue_comments_362321.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI'll make a commit shortly. It is a review commit, but the following issues remain:\n\n- The shorthand Travis suggested above (comment:6).\n\n- Multi-basis support (comment:7).\n\n- A reference to any source that uses modern notation (e.g., Grinberg/Reiner Chapter 8).\n\n- For reasons of speed: use sum_of_terms or sum_of_monomials instead of sum in the constructors of the three operations?\n\n- For reasons of speed: don't we have lower-level shuffle iterators that avoid the detour through the `Word` class?",
    "created_at": "2017-10-26T21:04:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362321",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:10" align="right">comment:10</div>

I'll make a commit shortly. It is a review commit, but the following issues remain:

- The shorthand Travis suggested above (comment:6).

- Multi-basis support (comment:7).

- A reference to any source that uses modern notation (e.g., Grinberg/Reiner Chapter 8).

- For reasons of speed: use sum_of_terms or sum_of_monomials instead of sum in the constructors of the three operations?

- For reasons of speed: don't we have lower-level shuffle iterators that avoid the detour through the `Word` class?



---

archive/issue_comments_362322.json:
```json
{
    "body": "Changed commit from **[`cb5d51c`](https://github.com/sagemath/sagetrac-mirror/commit/cb5d51c743fab660aa403c78ddcda209cba4caf6)** to **[`0defdb0`](https://github.com/sagemath/sagetrac-mirror/commit/0defdb0835ddbf2e57fb582776c19ee0199ad3f1)**",
    "created_at": "2017-10-26T21:06:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362322",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cb5d51c`](https://github.com/sagemath/sagetrac-mirror/commit/cb5d51c743fab660aa403c78ddcda209cba4caf6)** to **[`0defdb0`](https://github.com/sagemath/sagetrac-mirror/commit/0defdb0835ddbf2e57fb582776c19ee0199ad3f1)**



---

archive/issue_comments_362323.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/185a823b97c26690b4c0a713fe93629f1ce2fdb8\"><code>185a823</code></a></td><td><code>Merge branch 'public/ticket/23987' of git://trac.sagemath.org/sage into FQS</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0defdb0835ddbf2e57fb582776c19ee0199ad3f1\"><code>0defdb0</code></a></td><td><code>various corrections; needs someone to run the doctests</code></td></tr></table>\n",
    "created_at": "2017-10-26T21:06:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362323",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/185a823b97c26690b4c0a713fe93629f1ce2fdb8"><code>185a823</code></a></td><td><code>Merge branch 'public/ticket/23987' of git://trac.sagemath.org/sage into FQS</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0defdb0835ddbf2e57fb582776c19ee0199ad3f1"><code>0defdb0</code></a></td><td><code>various corrections; needs someone to run the doctests</code></td></tr></table>




---

archive/issue_comments_362324.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36f49e14f6a9a008b91d6ffd67a586069ca9e6be\"><code>36f49e1</code></a></td><td><code>oops! now the doctests succeed</code></td></tr></table>\n",
    "created_at": "2017-10-26T21:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362324",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36f49e14f6a9a008b91d6ffd67a586069ca9e6be"><code>36f49e1</code></a></td><td><code>oops! now the doctests succeed</code></td></tr></table>




---

archive/issue_comments_362325.json:
```json
{
    "body": "Changed commit from **[`0defdb0`](https://github.com/sagemath/sagetrac-mirror/commit/0defdb0835ddbf2e57fb582776c19ee0199ad3f1)** to **[`36f49e1`](https://github.com/sagemath/sagetrac-mirror/commit/36f49e14f6a9a008b91d6ffd67a586069ca9e6be)**",
    "created_at": "2017-10-26T21:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362325",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0defdb0`](https://github.com/sagemath/sagetrac-mirror/commit/0defdb0835ddbf2e57fb582776c19ee0199ad3f1)** to **[`36f49e1`](https://github.com/sagemath/sagetrac-mirror/commit/36f49e14f6a9a008b91d6ffd67a586069ca9e6be)**



---

archive/issue_comments_362326.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nFor multi-basis support: maybe Mike Zabrocki's template would be useful? (It's designed to be a template for CHAs in general, but he actually demonstrates it with FQSym.)\n\nhttps://cocalc.com/projects/44ed3873-5f1b-4e40-8f2f-be95581bf080/files/for_Mike_Z/?session=default\n\nThank you everybody for your hard work, really looking forward to having FQSym in Sage.",
    "created_at": "2017-10-27T00:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362326",
    "user": "https://github.com/amypang"
}
```

<div id="comment:13" align="right">comment:13</div>

For multi-basis support: maybe Mike Zabrocki's template would be useful? (It's designed to be a template for CHAs in general, but he actually demonstrates it with FQSym.)

https://cocalc.com/projects/44ed3873-5f1b-4e40-8f2f-be95581bf080/files/for_Mike_Z/?session=default

Thank you everybody for your hard work, really looking forward to having FQSym in Sage.



---

archive/issue_comments_362327.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThanks, Darij.\n\nI would strongly suggest keeping the multi-basis support for another ticket.",
    "created_at": "2017-10-27T07:19:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362327",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">comment:14</div>

Thanks, Darij.

I would strongly suggest keeping the multi-basis support for another ticket.



---

archive/issue_comments_362328.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThe problem is: can it be done without changing the syntax? If not, we need to do it in this ticket, or else the next ticket will essentially be a full deprecation.",
    "created_at": "2017-10-27T07:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362328",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:15" align="right">comment:15</div>

The problem is: can it be done without changing the syntax? If not, we need to do it in this ticket, or else the next ticket will essentially be a full deprecation.



---

archive/issue_comments_362329.json:
```json
{
    "body": "Changed commit from **[`36f49e1`](https://github.com/sagemath/sagetrac-mirror/commit/36f49e14f6a9a008b91d6ffd67a586069ca9e6be)** to **[`a5b7e01`](https://github.com/sagemath/sagetrac-mirror/commit/a5b7e01dc4d042d8823b8b1dc6db982fd579d465)**",
    "created_at": "2017-11-02T00:13:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362329",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`36f49e1`](https://github.com/sagemath/sagetrac-mirror/commit/36f49e14f6a9a008b91d6ffd67a586069ca9e6be)** to **[`a5b7e01`](https://github.com/sagemath/sagetrac-mirror/commit/a5b7e01dc4d042d8823b8b1dc6db982fd579d465)**



---

archive/issue_comments_362330.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5dee64c6a8d64e7dc846185241a212d8c9a1c6c\"><code>c5dee64</code></a></td><td><code>1st attempt at multiple bases; breaks coercion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84a8aa7f4d96e37274d0fa76362f8e8efcccc3ec\"><code>84a8aa7</code></a></td><td><code>fix conversion (not a coercion yet)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5b7e01dc4d042d8823b8b1dc6db982fd579d465\"><code>a5b7e01</code></a></td><td><code>attempt at coercion</code></td></tr></table>\n",
    "created_at": "2017-11-02T00:13:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362330",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5dee64c6a8d64e7dc846185241a212d8c9a1c6c"><code>c5dee64</code></a></td><td><code>1st attempt at multiple bases; breaks coercion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84a8aa7f4d96e37274d0fa76362f8e8efcccc3ec"><code>84a8aa7</code></a></td><td><code>fix conversion (not a coercion yet)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5b7e01dc4d042d8823b8b1dc6db982fd579d465"><code>a5b7e01</code></a></td><td><code>attempt at coercion</code></td></tr></table>




---

archive/issue_comments_362331.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8\"><code>57c79e0</code></a></td><td><code>ABC for FQSym bases and some coercion cleanup in preparation for multiple bases.</code></td></tr></table>\n",
    "created_at": "2017-11-02T00:53:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362331",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8"><code>57c79e0</code></a></td><td><code>ABC for FQSym bases and some coercion cleanup in preparation for multiple bases.</code></td></tr></table>




---

archive/issue_comments_362332.json:
```json
{
    "body": "Changed commit from **[`a5b7e01`](https://github.com/sagemath/sagetrac-mirror/commit/a5b7e01dc4d042d8823b8b1dc6db982fd579d465)** to **[`57c79e0`](https://github.com/sagemath/sagetrac-mirror/commit/57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8)**",
    "created_at": "2017-11-02T00:53:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362332",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a5b7e01`](https://github.com/sagemath/sagetrac-mirror/commit/a5b7e01dc4d042d8823b8b1dc6db982fd579d465)** to **[`57c79e0`](https://github.com/sagemath/sagetrac-mirror/commit/57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8)**



---

archive/issue_comments_362333.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nDarij and I worked on doing the multiple bases support so we do not have to deal with (very tricky) deprecations later on. Darij is going to work on the SGA coercions.\n\nMy only question is do we want the algebra to be `FQSYM` in all caps in `algebras`?",
    "created_at": "2017-11-02T00:55:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362333",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">comment:18</div>

Darij and I worked on doing the multiple bases support so we do not have to deal with (very tricky) deprecations later on. Darij is going to work on the SGA coercions.

My only question is do we want the algebra to be `FQSYM` in all caps in `algebras`?



---

archive/issue_comments_362334.json:
```json
{
    "body": "Changed commit from **[`57c79e0`](https://github.com/sagemath/sagetrac-mirror/commit/57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8)** to **[`c8783ec`](https://github.com/sagemath/sagetrac-mirror/commit/c8783ec0cc4f96d4480902df9fde59c93eb713d9)**",
    "created_at": "2017-11-02T01:24:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362334",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`57c79e0`](https://github.com/sagemath/sagetrac-mirror/commit/57c79e00ffdedbdc407e5694a9b1d67b3d00d3f8)** to **[`c8783ec`](https://github.com/sagemath/sagetrac-mirror/commit/c8783ec0cc4f96d4480902df9fde59c93eb713d9)**



---

archive/issue_comments_362335.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc84beb6e1e0338da899e7f0c4b2449f75b70df6\"><code>fc84beb</code></a></td><td><code>to and from symmetric group algebra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8783ec0cc4f96d4480902df9fde59c93eb713d9\"><code>c8783ec</code></a></td><td><code>add a reference</code></td></tr></table>\n",
    "created_at": "2017-11-02T01:24:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362335",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc84beb6e1e0338da899e7f0c4b2449f75b70df6"><code>fc84beb</code></a></td><td><code>to and from symmetric group algebra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8783ec0cc4f96d4480902df9fde59c93eb713d9"><code>c8783ec</code></a></td><td><code>add a reference</code></td></tr></table>




---

archive/issue_comments_362336.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nActually, I have another question: [comment:6](#comment:6). If you don't want to, it's fine, but just a thought (at least, I don't recall you saying anything about it previous, sorry if you did). Both of these are primarily for Fr\u00e9d\u00e9ric.",
    "created_at": "2017-11-02T08:24:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362336",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">comment:20</div>

Actually, I have another question: [comment:6](#comment:6). If you don't want to, it's fine, but just a thought (at least, I don't recall you saying anything about it previous, sorry if you did). Both of these are primarily for Frédéric.



---

archive/issue_comments_362337.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThanks for working on that. I am not very positive about using << and >> for the dendriform operations. I think we must live with the fact that there are too many operations to assign a symbol to each of them.",
    "created_at": "2017-11-03T20:40:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362337",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">comment:21</div>

Thanks for working on that. I am not very positive about using << and >> for the dendriform operations. I think we must live with the fact that there are too many operations to assign a symbol to each of them.



---

archive/issue_events_330229.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-11-03T20:54:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330229"
}
```



---

archive/issue_events_330230.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-11-03T20:54:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330230"
}
```



---

archive/issue_comments_362338.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2017-11-03T20:54:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362338",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_362339.json:
```json
{
    "body": "Changed author from **Fr\u00e9d\u00e9ric Chapoton** to **Fr\u00e9d\u00e9ric Chapoton, Darij Grinberg**",
    "created_at": "2017-11-03T20:54:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362339",
    "user": "https://github.com/tscrim"
}
```

Changed author from **Frédéric Chapoton** to **Frédéric Chapoton, Darij Grinberg**



---

archive/issue_comments_362340.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI also feel that the swapped order of operators would likely confuse some people too. So scratch that idea.\n\nThe only other thing left is `algebras.FQSym` vs `algebras.FQSYM`. This is probably bikeshedding, but I don't like the all-caps as it makes it feel like the `Y` and `M` stand for something. I'm also more included to having `FreeQuasiSymmetricFunctions` and in the global namespace in line with our other CHAs in Sage (imported lazily). Moreover, I think we should also have `algebras.MalvenutoReutenauer`.\n\nAt some point we should decide how we want to add the CHAs to `algebras`, if we want to do `algebras.combinatorial_hopf.Foo`, add them `algebras.Foo`, leave some of them in the global namespace, and/or have `combinatorial_hopf_algebras.Foo`. However, that is a separate issue for another ticket that is far easier to do.\n\nThoughts?\n\n(Darij didn't want to set it to needs_info because he felt it was a quagmire; I am to prove him wrong. :P)",
    "created_at": "2017-11-03T20:54:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362340",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">comment:22</div>

I also feel that the swapped order of operators would likely confuse some people too. So scratch that idea.

The only other thing left is `algebras.FQSym` vs `algebras.FQSYM`. This is probably bikeshedding, but I don't like the all-caps as it makes it feel like the `Y` and `M` stand for something. I'm also more included to having `FreeQuasiSymmetricFunctions` and in the global namespace in line with our other CHAs in Sage (imported lazily). Moreover, I think we should also have `algebras.MalvenutoReutenauer`.

At some point we should decide how we want to add the CHAs to `algebras`, if we want to do `algebras.combinatorial_hopf.Foo`, add them `algebras.Foo`, leave some of them in the global namespace, and/or have `combinatorial_hopf_algebras.Foo`. However, that is a separate issue for another ticket that is far easier to do.

Thoughts?

(Darij didn't want to set it to needs_info because he felt it was a quagmire; I am to prove him wrong. :P)



---

archive/issue_comments_362341.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nping?",
    "created_at": "2017-11-06T21:27:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362341",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">comment:23</div>

ping?



---

archive/issue_comments_362342.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nok for algebras.FQSym instead of algebras.FQSYM\n\nok for algebras.MalvenutoReutenauer (but not a strong +1)\n\nok for lazily imported global FreeQuasiSymmetricFunctions (not a strong +1 either)",
    "created_at": "2017-11-07T18:45:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362342",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">comment:24</div>

ok for algebras.FQSym instead of algebras.FQSYM

ok for algebras.MalvenutoReutenauer (but not a strong +1)

ok for lazily imported global FreeQuasiSymmetricFunctions (not a strong +1 either)



---

archive/issue_comments_362343.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e207e8b84764972d924b3240150dbed98c28421\"><code>9e207e8</code></a></td><td><code>Some reviewer changes.</code></td></tr></table>\n",
    "created_at": "2017-11-07T22:31:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362343",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e207e8b84764972d924b3240150dbed98c28421"><code>9e207e8</code></a></td><td><code>Some reviewer changes.</code></td></tr></table>




---

archive/issue_comments_362344.json:
```json
{
    "body": "Changed commit from **[`c8783ec`](https://github.com/sagemath/sagetrac-mirror/commit/c8783ec0cc4f96d4480902df9fde59c93eb713d9)** to **[`9e207e8`](https://github.com/sagemath/sagetrac-mirror/commit/9e207e8b84764972d924b3240150dbed98c28421)**",
    "created_at": "2017-11-07T22:31:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362344",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c8783ec`](https://github.com/sagemath/sagetrac-mirror/commit/c8783ec0cc4f96d4480902df9fde59c93eb713d9)** to **[`9e207e8`](https://github.com/sagemath/sagetrac-mirror/commit/9e207e8b84764972d924b3240150dbed98c28421)**



---

archive/issue_comments_362345.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI made a few changes beyond the naming.\n\n- I added Darij to the authors and copyright.\n- I changed the implementation of `to_symmetric_group_algebra` because SGA's form a natural tower of R-algebras. Since this is just a R-linear embedding, it makes perfect sense to use the maximal degree (and the behavior you allowed did not match your doc).\n- Some minor documentation/formatting changes.\n\nIf my changes are good, then positive review.",
    "created_at": "2017-11-07T22:35:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362345",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:26" align="right">comment:26</div>

I made a few changes beyond the naming.

- I added Darij to the authors and copyright.
- I changed the implementation of `to_symmetric_group_algebra` because SGA's form a natural tower of R-algebras. Since this is just a R-linear embedding, it makes perfect sense to use the maximal degree (and the behavior you allowed did not match your doc).
- Some minor documentation/formatting changes.

If my changes are good, then positive review.



---

archive/issue_events_330231.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-11-07T22:35:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330231"
}
```



---

archive/issue_events_330232.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-11-07T22:35:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330232"
}
```



---

archive/issue_comments_362346.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nNice extension of `to_symmetric_group_algebra`, although I'm not sure how useful it will be (it's not an embedding anymore). BUT this part:\n\n```\n+            if not self:\n+                return SymmetricGroupAlgebra(self.base_ring(), 0).zero()\n```\nshould be\n\n```\n            if not self:\n                if n is None:\n                    n = 0\n                return SymmetricGroupAlgebra(self.base_ring(), n).zero()\n```\ninstead.",
    "created_at": "2017-11-08T00:34:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362346",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:27" align="right">comment:27</div>

Nice extension of `to_symmetric_group_algebra`, although I'm not sure how useful it will be (it's not an embedding anymore). BUT this part:

```
+            if not self:
+                return SymmetricGroupAlgebra(self.base_ring(), 0).zero()
```
should be

```
            if not self:
                if n is None:
                    n = 0
                return SymmetricGroupAlgebra(self.base_ring(), n).zero()
```
instead.



---

archive/issue_comments_362347.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a877b6ee160176d22600c6d581d02e05fafbc404\"><code>a877b6e</code></a></td><td><code>Fixing some details.</code></td></tr></table>\n",
    "created_at": "2017-11-08T00:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362347",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a877b6ee160176d22600c6d581d02e05fafbc404"><code>a877b6e</code></a></td><td><code>Fixing some details.</code></td></tr></table>




---

archive/issue_comments_362348.json:
```json
{
    "body": "Changed commit from **[`9e207e8`](https://github.com/sagemath/sagetrac-mirror/commit/9e207e8b84764972d924b3240150dbed98c28421)** to **[`a877b6e`](https://github.com/sagemath/sagetrac-mirror/commit/a877b6ee160176d22600c6d581d02e05fafbc404)**",
    "created_at": "2017-11-08T00:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362348",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9e207e8`](https://github.com/sagemath/sagetrac-mirror/commit/9e207e8b84764972d924b3240150dbed98c28421)** to **[`a877b6e`](https://github.com/sagemath/sagetrac-mirror/commit/a877b6ee160176d22600c6d581d02e05fafbc404)**



---

archive/issue_comments_362349.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nRight, good point. Fixed. I also changed the error message to be more specific about the cause. I'm not sure how useful the R-linear map to SGA is in general (even restricted to the graded component), but I'm assuming you have a use-case and it is my ignorance about FQSym.",
    "created_at": "2017-11-08T00:39:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362349",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:29" align="right">comment:29</div>

Right, good point. Fixed. I also changed the error message to be more specific about the cause. I'm not sure how useful the R-linear map to SGA is in general (even restricted to the graded component), but I'm assuming you have a use-case and it is my ignorance about FQSym.



---

archive/issue_comments_362350.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThanks -- it LGTM now.\n\nMy first use case is studying the Reiner-Saliola-Welker idempotents in the SGAs using Hopf machinery in FQSym (as they are not in the descent algebra). Not sure whether anything will come out of that, but now it can be done easily with Sage, which is some progress.",
    "created_at": "2017-11-08T00:43:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362350",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:30" align="right">comment:30</div>

Thanks -- it LGTM now.

My first use case is studying the Reiner-Saliola-Welker idempotents in the SGAs using Hopf machinery in FQSym (as they are not in the descent algebra). Not sure whether anything will come out of that, but now it can be done easily with Sage, which is some progress.



---

archive/issue_comments_362351.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nFr\u00e9d\u00e9ric, everything okay with you?\n\n@darijgr thanks for the explanation.",
    "created_at": "2017-11-11T04:12:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362351",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:31" align="right">comment:31</div>

Frédéric, everything okay with you?

@darijgr thanks for the explanation.



---

archive/issue_comments_362352.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n2 failing doctests, otherwise I'm ok",
    "created_at": "2017-11-11T07:41:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362352",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:32" align="right">comment:32</div>

2 failing doctests, otherwise I'm ok



---

archive/issue_comments_362353.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d\"><code>5707cb4</code></a></td><td><code>The object does not have a distinguished basis, we have to choose it.</code></td></tr></table>\n",
    "created_at": "2017-11-11T15:31:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362353",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d"><code>5707cb4</code></a></td><td><code>The object does not have a distinguished basis, we have to choose it.</code></td></tr></table>




---

archive/issue_comments_362354.json:
```json
{
    "body": "Changed commit from **[`a877b6e`](https://github.com/sagemath/sagetrac-mirror/commit/a877b6ee160176d22600c6d581d02e05fafbc404)** to **[`5707cb4`](https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d)**",
    "created_at": "2017-11-11T15:31:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362354",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a877b6e`](https://github.com/sagemath/sagetrac-mirror/commit/a877b6ee160176d22600c6d581d02e05fafbc404)** to **[`5707cb4`](https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d)**



---

archive/issue_comments_362355.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThis fixes the doctest failures because the `FQSym` object does not have a distinguished basis, so it should not have a `WithBasis()` with the category. But the bases need to specify it. Just needs a quick double-check.",
    "created_at": "2017-11-11T15:35:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362355",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:34" align="right">comment:34</div>

This fixes the doctest failures because the `FQSym` object does not have a distinguished basis, so it should not have a `WithBasis()` with the category. But the bases need to specify it. Just needs a quick double-check.



---

archive/issue_comments_362356.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nIf tests pass, this is a pos_rev. I mistook WithBasis for WithRealizations :)",
    "created_at": "2017-11-11T15:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362356",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:35" align="right">comment:35</div>

If tests pass, this is a pos_rev. I mistook WithBasis for WithRealizations :)



---

archive/issue_comments_362357.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nGreen patchbot. Thank you both for your work on this.",
    "created_at": "2017-11-11T22:52:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362357",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:36" align="right">comment:36</div>

Green patchbot. Thank you both for your work on this.



---

archive/issue_events_330233.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-11-11T22:52:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330233"
}
```



---

archive/issue_events_330234.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-11-11T22:52:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330234"
}
```



---

archive/issue_comments_362358.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nThanks to the two of you, who did most of it!",
    "created_at": "2017-11-11T23:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362358",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:37" align="right">comment:37</div>

Thanks to the two of you, who did most of it!



---

archive/issue_comments_362359.json:
```json
{
    "body": "Changed branch from **[public/ticket/23987](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/23987)** to **[`5707cb4`](https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d)**",
    "created_at": "2017-12-11T01:03:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23987#issuecomment-362359",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/ticket/23987](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/23987)** to **[`5707cb4`](https://github.com/sagemath/sagetrac-mirror/commit/5707cb4176ffd22888f8010837e01a94ace8a78d)**



---

archive/issue_events_330235.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-12-11T01:03:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330235"
}
```



---

archive/issue_events_330236.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "faf634ebbf0e019968cf76054d32a494e8d003eb",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-12-11T01:03:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23987",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23987#event-330236"
}
```
