# Issue 23834: html_use_smartypants is deprecated, so don't use it

archive/issues_023597.json:
```json
{
    "body": "The documentation `ja/a_tour_of_sage` uses `html_use_smartypants`, but this is now deprecated:\n\n```\nRemovedInSphinx17Warning: html_use_smartypants option is deprecated. Smart quotes are on by default; if you want to disable or customize them, use the smart_quotes option in docutils.conf.\n```\nIf I delete the line `html_use_smartypants = False`, there is no difference in the resulting html or latex files.\n\nBranch/Commit: dee62b60ac0f3f269ffc796d4fcac52d5ffc6ae4\n\nReviewer: Fran\u00e7ois Bissey\n\nAuthor: John Palmieri\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23834\n\n",
    "closed_at": "2017-09-24T13:03:46Z",
    "created_at": "2017-09-11T23:00:36Z",
    "labels": [
        "component: documentation",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "html_use_smartypants is deprecated, so don't use it",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23834",
    "user": "https://github.com/jhpalmieri"
}
```
The documentation `ja/a_tour_of_sage` uses `html_use_smartypants`, but this is now deprecated:

```
RemovedInSphinx17Warning: html_use_smartypants option is deprecated. Smart quotes are on by default; if you want to disable or customize them, use the smart_quotes option in docutils.conf.
```
If I delete the line `html_use_smartypants = False`, there is no difference in the resulting html or latex files.

Branch/Commit: dee62b60ac0f3f269ffc796d4fcac52d5ffc6ae4

Reviewer: François Bissey

Author: John Palmieri

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23834





---

archive/issue_comments_452174.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jhpalmieri/smart\"",
    "created_at": "2017-09-11T23:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452174",
    "user": "https://github.com/jhpalmieri"
}
```

Changing branch from "" to "u/jhpalmieri/smart"



---

archive/issue_comments_452175.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-09-11T23:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452175",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_452176.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|\n|[dee62b6](https://github.com/sagemath/sagetrac-mirror/commit/dee62b60ac0f3f269ffc796d4fcac52d5ffc6ae4)|`trac 23834: do not use html_use_smartypants: it has been deprecated.`|",
    "created_at": "2017-09-11T23:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452176",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
|[dee62b6](https://github.com/sagemath/sagetrac-mirror/commit/dee62b60ac0f3f269ffc796d4fcac52d5ffc6ae4)|`trac 23834: do not use html_use_smartypants: it has been deprecated.`|



---

archive/issue_comments_452177.json:
```json
{
    "body": "Changing commit from \"\" to \"dee62b60ac0f3f269ffc796d4fcac52d5ffc6ae4\"",
    "created_at": "2017-09-11T23:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452177",
    "user": "https://github.com/jhpalmieri"
}
```

Changing commit from "" to "dee62b60ac0f3f269ffc796d4fcac52d5ffc6ae4"



---

archive/issue_comments_452178.json:
```json
{
    "body": "<a id='comment:4'></a>\nWe could instead create a file `doc/ja/a_tour_of_sage/docutils.conf` containing\n\n```\n[parsers]\nsmart_quotes = no\n```\nto keep the old behavior, but as far as I can tell, this option is not used anywhere.",
    "created_at": "2017-09-11T23:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452178",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'></a>
We could instead create a file `doc/ja/a_tour_of_sage/docutils.conf` containing

```
[parsers]
smart_quotes = no
```
to keep the old behavior, but as far as I can tell, this option is not used anywhere.



---

archive/issue_comments_452179.json:
```json
{
    "body": "<a id='comment:5'></a>\nI was going to ask if it was related to \n\n```\ndiff --git a/src/sage/misc/sphinxify.py b/src/sage/misc/sphinxify.py\nindex f084a19..4f76d41 100644\n--- a/src/sage/misc/sphinxify.py\n+++ b/src/sage/misc/sphinxify.py\n@@ -80,6 +80,10 @@ def sphinxify(docstring, format='html'):\n     # buildername, confoverrides, status, warning, freshenv).\n     confdir = os.path.join(SAGE_DOC_SRC, 'en', 'introspect')\n \n+    open(os.path.join(srcdir, 'docutils.conf'), 'w').write(r\"\"\"\n+[parsers]\n+smart_quotes = no\n+\"\"\")\n     doctreedir = os.path.join(srcdir, 'doctrees')\n     confoverrides = {'html_context': {}, 'master_doc': 'docstring'}\n```\nCould we use those `conf.py` files instead?",
    "created_at": "2017-09-11T23:09:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452179",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'></a>
I was going to ask if it was related to 

```
diff --git a/src/sage/misc/sphinxify.py b/src/sage/misc/sphinxify.py
index f084a19..4f76d41 100644
--- a/src/sage/misc/sphinxify.py
+++ b/src/sage/misc/sphinxify.py
@@ -80,6 +80,10 @@ def sphinxify(docstring, format='html'):
     # buildername, confoverrides, status, warning, freshenv).
     confdir = os.path.join(SAGE_DOC_SRC, 'en', 'introspect')
 
+    open(os.path.join(srcdir, 'docutils.conf'), 'w').write(r"""
+[parsers]
+smart_quotes = no
+""")
     doctreedir = os.path.join(srcdir, 'doctrees')
     confoverrides = {'html_context': {}, 'master_doc': 'docstring'}
```
Could we use those `conf.py` files instead?



---

archive/issue_comments_452180.json:
```json
{
    "body": "<a id='comment:6'></a>\nI'm not sure I understand what you mean. In any case, I don't know how to use `conf.py` files instead of `docutils.conf` files.",
    "created_at": "2017-09-11T23:18:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452180",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>
I'm not sure I understand what you mean. In any case, I don't know how to use `conf.py` files instead of `docutils.conf` files.



---

archive/issue_comments_452181.json:
```json
{
    "body": "<a id='comment:7'></a>\nMay have been a daft question in any case. I just remembered \"smarty_pants\" from the previous ticket. I think the stuff in sphinxify negates the need for `ja` to have its own `docutils.conf`. I think removal as stated in the commit is the best thing to do.",
    "created_at": "2017-09-11T23:23:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452181",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:7'></a>
May have been a daft question in any case. I just remembered "smarty_pants" from the previous ticket. I think the stuff in sphinxify negates the need for `ja` to have its own `docutils.conf`. I think removal as stated in the commit is the best thing to do.



---

archive/issue_comments_452182.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-09-12T01:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452182",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_452183.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fran\u00e7ois Bissey\"",
    "created_at": "2017-09-12T01:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452183",
    "user": "https://github.com/kiwifb"
}
```

Changing reviewer from "" to "François Bissey"



---

archive/issue_comments_452184.json:
```json
{
    "body": "Changing author from \"\" to \"John Palmieri\"",
    "created_at": "2017-09-12T01:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452184",
    "user": "https://github.com/kiwifb"
}
```

Changing author from "" to "John Palmieri"



---

archive/issue_comments_452185.json:
```json
{
    "body": "<a id='comment:8'></a>\nI am making this positive review, and fill the author field :) before Volker complaints.",
    "created_at": "2017-09-12T01:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452185",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'></a>
I am making this positive review, and fill the author field :) before Volker complaints.



---

archive/issue_comments_452186.json:
```json
{
    "body": "<a id='comment:9'></a>\nThank you, on both counts.",
    "created_at": "2017-09-12T02:31:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452186",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:9'></a>
Thank you, on both counts.



---

archive/issue_events_069072.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-24T13:03:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23834#event-69072"
}
```



---

archive/issue_comments_452187.json:
```json
{
    "body": "Changing branch from \"u/jhpalmieri/smart\" to \"dee62b60ac0f3f269ffc796d4fcac52d5ffc6ae4\"",
    "created_at": "2017-09-24T13:03:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452187",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jhpalmieri/smart" to "dee62b60ac0f3f269ffc796d4fcac52d5ffc6ae4"



---

archive/issue_comments_452188.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-09-24T13:03:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23834",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23834#issuecomment-452188",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
