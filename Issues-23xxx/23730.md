# Issue 23730: InteractiveLPProblem fails to show the typeset dictionary

archive/issues_023493.json:
```json
{
    "body": "`InteractiveLPProblemStandardForm::run_simplex_method()` does not show the typeset dictionaries.\n\nIn terminal,\n\n```\nsage: A = ([1,0],[0,1],[5,5],[6/10, 15/10])\nsage: b = (50,35,300,63)\nsage: c = (200,350)\nsage: P = InteractiveLPProblem(A, b, c, variable_type=\">=\").standard_form()\nsage: view(P.run_simplex_method())\n```\nThe last `view(...)` outputs Latex code directly, instead of typeset dictionaries. See attachment view_run_simplex_method.pdf.\n\nIn Juypter, `P.run_simplex_method()` displays a mixture of LaTex code and the typeset dictionary. \nSee attachments jupyter_run_simplex_method.pdf\n\n**CC:**  @novoselt @mkoeppe\n\n**Keywords:** typeset\n\n**Branch:** [u/novoselt/23730](https://github.com/sagemath/sagetrac-mirror/tree/u/novoselt/23730)\n\n**Commit:** [8a82cef43f8bb098fa0c7871b950289578496b9a](https://github.com/sagemath/sagetrac-mirror/commit/8a82cef43f8bb098fa0c7871b950289578496b9a)\n\nIssue created by migration from https://trac.sagemath.org/ticket/23730\n\n",
    "created_at": "2017-08-27T05:02:32Z",
    "labels": [
        "component: notebook",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "InteractiveLPProblem fails to show the typeset dictionary",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23730",
    "user": "https://github.com/yuan-zhou"
}
```
`InteractiveLPProblemStandardForm::run_simplex_method()` does not show the typeset dictionaries.

In terminal,

```
sage: A = ([1,0],[0,1],[5,5],[6/10, 15/10])
sage: b = (50,35,300,63)
sage: c = (200,350)
sage: P = InteractiveLPProblem(A, b, c, variable_type=">=").standard_form()
sage: view(P.run_simplex_method())
```
The last `view(...)` outputs Latex code directly, instead of typeset dictionaries. See attachment view_run_simplex_method.pdf.

In Juypter, `P.run_simplex_method()` displays a mixture of LaTex code and the typeset dictionary. 
See attachments jupyter_run_simplex_method.pdf

**CC:**  @novoselt @mkoeppe

**Keywords:** typeset

**Branch:** [u/novoselt/23730](https://github.com/sagemath/sagetrac-mirror/tree/u/novoselt/23730)

**Commit:** [8a82cef43f8bb098fa0c7871b950289578496b9a](https://github.com/sagemath/sagetrac-mirror/commit/8a82cef43f8bb098fa0c7871b950289578496b9a)

Issue created by migration from https://trac.sagemath.org/ticket/23730





---

archive/attachments_020968.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "view_run_simplex_method.pdf",
    "asset_url": "tarball://root/attachments/some-uuid/ticket23730/view_run_simplex_method.pdf",
    "created_at": "2017-08-27T05:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23730",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.pdf",
    "user": "https://github.com/yuan-zhou"
}
```



---

archive/issue_comments_360472.json:
```json
{
    "body": "",
    "created_at": "2017-08-27T05:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23730#issuecomment-360472",
    "user": "https://github.com/yuan-zhou"
}
```





---

archive/issue_comments_360473.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n `InteractiveLPProblemStandardForm::run_simplex_method()` does not show the typeset dictionaries.\n+\n+In terminal,\n \n ```\n sage: A = ([1,0],[0,1],[5,5],[6/10, 15/10])\n@@ -7,5 +9,7 @@\n sage: P = InteractiveLPProblem(A, b, c, variable_type=\">=\").standard_form()\n sage: view(P.run_simplex_method())\n ```\n+The last `view(...)` outputs Latex code directly, instead of typeset dictionaries. See attachment view_run_simplex_method.pdf.\n \n-When running`InteractiveLPProblemStandardForm::run_simplex_method()` in Juypter, it displays a mixture of LaTex code and the typeset dictionary. See attachments.\n+In Juypter, `P.run_simplex_method()` displays a mixture of LaTex code and the typeset dictionary. \n+See attachments jupyter_run_simplex_method.pdf\n``````\n",
    "created_at": "2017-08-27T05:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23730#issuecomment-360473",
    "user": "https://github.com/yuan-zhou"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 `InteractiveLPProblemStandardForm::run_simplex_method()` does not show the typeset dictionaries.
+
+In terminal,
 
 ```
 sage: A = ([1,0],[0,1],[5,5],[6/10, 15/10])
@@ -7,5 +9,7 @@
 sage: P = InteractiveLPProblem(A, b, c, variable_type=">=").standard_form()
 sage: view(P.run_simplex_method())
 ```
+The last `view(...)` outputs Latex code directly, instead of typeset dictionaries. See attachment view_run_simplex_method.pdf.
 
-When running`InteractiveLPProblemStandardForm::run_simplex_method()` in Juypter, it displays a mixture of LaTex code and the typeset dictionary. See attachments.
+In Juypter, `P.run_simplex_method()` displays a mixture of LaTex code and the typeset dictionary. 
+See attachments jupyter_run_simplex_method.pdf
``````




---

archive/attachments_020969.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "jupyter_run_simplex_method.pdf",
    "asset_url": "tarball://root/attachments/some-uuid/ticket23730/jupyter_run_simplex_method.pdf",
    "created_at": "2017-08-27T05:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23730",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.pdf",
    "user": "https://github.com/yuan-zhou"
}
```



---

archive/issue_comments_360474.json:
```json
{
    "body": "<a id='comment:1'></a>\n",
    "created_at": "2017-08-27T05:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23730#issuecomment-360474",
    "user": "https://github.com/yuan-zhou"
}
```

<a id='comment:1'></a>




---

archive/issue_comments_360475.json:
```json
{
    "body": "<a id='comment:2'></a>\nNote that the last dictionary in Jupyter is rendered. The problem seems to be with the color command.",
    "created_at": "2017-09-04T00:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23730#issuecomment-360475",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:2'></a>
Note that the last dictionary in Jupyter is rendered. The problem seems to be with the color command.



---

archive/issue_comments_360476.json:
```json
{
    "body": "**Branch:** [u/novoselt/23730](https://github.com/sagemath/sagetrac-mirror/tree/u/novoselt/23730)",
    "created_at": "2017-09-04T02:25:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23730#issuecomment-360476",
    "user": "https://github.com/novoselt"
}
```

**Branch:** [u/novoselt/23730](https://github.com/sagemath/sagetrac-mirror/tree/u/novoselt/23730)



---

archive/issue_comments_360477.json:
```json
{
    "body": "**Commit:** [8a82cef43f8bb098fa0c7871b950289578496b9a](https://github.com/sagemath/sagetrac-mirror/commit/8a82cef43f8bb098fa0c7871b950289578496b9a)",
    "created_at": "2017-09-04T02:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23730#issuecomment-360477",
    "user": "https://github.com/novoselt"
}
```

**Commit:** [8a82cef43f8bb098fa0c7871b950289578496b9a](https://github.com/sagemath/sagetrac-mirror/commit/8a82cef43f8bb098fa0c7871b950289578496b9a)



---

archive/issue_comments_360478.json:
```json
{
    "body": "<a id='comment:4'></a>\nAs for the terminal, I am not sure what the desired output should be. The attached branch will work OK if one does `view(P.run_simplex_method(), tightpage=False)`, but produces no output at all otherwise. Compare it with results for `view([1,2])` with tight page and not.\n\nThe question is in how HTML should be rendered if sent to LaTeX. `P.run_simplex_method()` actually produces valid LaTeX code that can be just dropped normally between `\\begin{document}` and `\\end{document}`, but `view` makes use of some extra packages that make it not working.\n\n\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a82cef43f8bb098fa0c7871b950289578496b9a\">8a82cef</a></td><td><code>Make view aware of HtmlFragment</code></td></tr></table>\n",
    "created_at": "2017-09-04T02:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23730#issuecomment-360478",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:4'></a>
As for the terminal, I am not sure what the desired output should be. The attached branch will work OK if one does `view(P.run_simplex_method(), tightpage=False)`, but produces no output at all otherwise. Compare it with results for `view([1,2])` with tight page and not.

The question is in how HTML should be rendered if sent to LaTeX. `P.run_simplex_method()` actually produces valid LaTeX code that can be just dropped normally between `\begin{document}` and `\end{document}`, but `view` makes use of some extra packages that make it not working.



---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a82cef43f8bb098fa0c7871b950289578496b9a">8a82cef</a></td><td><code>Make view aware of HtmlFragment</code></td></tr></table>




---

archive/issue_comments_360479.json:
```json
{
    "body": "<a id='comment:5'></a>\nThanks a lot for the patch! It works perfectly for me.\nReplying to [novoselt](#comment%3A4):\n> As for the terminal, I am not sure what the desired output should be. The attached branch will work OK if one does `view(P.run_simplex_method(), tightpage=False)`, but produces no output at all otherwise. Compare it with results for `view([1,2])` with tight page and not.\n> \n> The question is in how HTML should be rendered if sent to LaTeX. `P.run_simplex_method()` actually produces valid LaTeX code that can be just dropped normally between `\\begin{document}` and `\\end{document}`, but `view` makes use of some extra packages that make it not working.\n> \n> \n> \n> \n> ---\n> **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a82cef43f8bb098fa0c7871b950289578496b9a\">8a82cef</a></td><td><code>Make view aware of HtmlFragment</code></td></tr></table>\n",
    "created_at": "2017-09-05T06:28:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23730#issuecomment-360479",
    "user": "https://github.com/yuan-zhou"
}
```

<a id='comment:5'></a>
Thanks a lot for the patch! It works perfectly for me.
Replying to [novoselt](#comment%3A4):
> As for the terminal, I am not sure what the desired output should be. The attached branch will work OK if one does `view(P.run_simplex_method(), tightpage=False)`, but produces no output at all otherwise. Compare it with results for `view([1,2])` with tight page and not.
> 
> The question is in how HTML should be rendered if sent to LaTeX. `P.run_simplex_method()` actually produces valid LaTeX code that can be just dropped normally between `\begin{document}` and `\end{document}`, but `view` makes use of some extra packages that make it not working.
> 
> 
> 
> 
> ---
> **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a82cef43f8bb098fa0c7871b950289578496b9a">8a82cef</a></td><td><code>Make view aware of HtmlFragment</code></td></tr></table>




---

archive/issue_comments_360480.json:
```json
{
    "body": "<a id='comment:6'></a>\nWell, the main problem is that it does not work in Jupyter, but I have no idea in what place MathJax extensions are enabled for it and nobody replied to my question on sage-devel so far. All that has to be done is enabling `color.js` as it is done for SageNB and [SageMathCell](SageMathCell).",
    "created_at": "2017-09-05T23:15:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23730#issuecomment-360480",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:6'></a>
Well, the main problem is that it does not work in Jupyter, but I have no idea in what place MathJax extensions are enabled for it and nobody replied to my question on sage-devel so far. All that has to be done is enabling `color.js` as it is done for SageNB and [SageMathCell](SageMathCell).
