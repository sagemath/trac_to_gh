# Issue 23068: py3 more absolute imports in pyx files

archive/issues_022831.json:
```json
{
    "body": "part of #22808\n\n**CC:**  @jdemeyer\n\n**Branch/Commit:** [7113b26fdcc440dbf4c2d6c94c0a08d40d963e42](https://github.com/sagemath/sagetrac-mirror/commit/7113b26fdcc440dbf4c2d6c94c0a08d40d963e42)\n\n**Reviewer:** Jeroen Demeyer, Andr\u00e9 Apitzsch\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23068\n\n",
    "closed_at": "2017-05-27T23:42:24Z",
    "created_at": "2017-05-24T07:13:04Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "py3 more absolute imports in pyx files",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23068",
    "user": "https://github.com/fchapoton"
}
```
part of #22808

**CC:**  @jdemeyer

**Branch/Commit:** [7113b26fdcc440dbf4c2d6c94c0a08d40d963e42](https://github.com/sagemath/sagetrac-mirror/commit/7113b26fdcc440dbf4c2d6c94c0a08d40d963e42)

**Reviewer:** Jeroen Demeyer, André Apitzsch

**Author:** Frédéric Chapoton

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/23068





---

archive/issue_comments_435013.json:
```json
{
    "body": "**Commit:** [030b0b596d1e146858c78c3eb9b6b138823911ae](https://github.com/sagemath/sagetrac-mirror/commit/030b0b596d1e146858c78c3eb9b6b138823911ae)",
    "created_at": "2017-05-24T07:13:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435013",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [030b0b596d1e146858c78c3eb9b6b138823911ae](https://github.com/sagemath/sagetrac-mirror/commit/030b0b596d1e146858c78c3eb9b6b138823911ae)



---

archive/issue_comments_435014.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/030b0b596d1e146858c78c3eb9b6b138823911ae\">030b0b5</a></td><td><code>more absolute imports in pyx files</code></td></tr></table>\n",
    "created_at": "2017-05-24T07:13:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435014",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/030b0b596d1e146858c78c3eb9b6b138823911ae">030b0b5</a></td><td><code>more absolute imports in pyx files</code></td></tr></table>




---

archive/issue_comments_435015.json:
```json
{
    "body": "**Branch:** [u/chapoton/23068](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23068)",
    "created_at": "2017-05-24T07:13:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435015",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/23068](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23068)



---

archive/issue_comments_435016.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7eedc59e8eebaa135b27dd8ed9a78b9ccc24d9e\">b7eedc5</a></td><td><code>trac 23068 typo</code></td></tr></table>\n",
    "created_at": "2017-05-24T11:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435016",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7eedc59e8eebaa135b27dd8ed9a78b9ccc24d9e">b7eedc5</a></td><td><code>trac 23068 typo</code></td></tr></table>




---

archive/issue_comments_435017.json:
```json
{
    "body": "**Changing commit** from \"[030b0b596d1e146858c78c3eb9b6b138823911ae](https://github.com/sagemath/sagetrac-mirror/commit/030b0b596d1e146858c78c3eb9b6b138823911ae)\" to \"[b7eedc59e8eebaa135b27dd8ed9a78b9ccc24d9e](https://github.com/sagemath/sagetrac-mirror/commit/b7eedc59e8eebaa135b27dd8ed9a78b9ccc24d9e)\".",
    "created_at": "2017-05-24T11:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435017",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[030b0b596d1e146858c78c3eb9b6b138823911ae](https://github.com/sagemath/sagetrac-mirror/commit/030b0b596d1e146858c78c3eb9b6b138823911ae)" to "[b7eedc59e8eebaa135b27dd8ed9a78b9ccc24d9e](https://github.com/sagemath/sagetrac-mirror/commit/b7eedc59e8eebaa135b27dd8ed9a78b9ccc24d9e)".



---

archive/issue_comments_435018.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a12d70010393a07196b4b451be1ccc153d33e1b2\">a12d700</a></td><td><code>more absolute imports in pyx files</code></td></tr></table>\n",
    "created_at": "2017-05-24T15:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435018",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a12d70010393a07196b4b451be1ccc153d33e1b2">a12d700</a></td><td><code>more absolute imports in pyx files</code></td></tr></table>




---

archive/issue_comments_435019.json:
```json
{
    "body": "**Changing commit** from \"[b7eedc59e8eebaa135b27dd8ed9a78b9ccc24d9e](https://github.com/sagemath/sagetrac-mirror/commit/b7eedc59e8eebaa135b27dd8ed9a78b9ccc24d9e)\" to \"[a12d70010393a07196b4b451be1ccc153d33e1b2](https://github.com/sagemath/sagetrac-mirror/commit/a12d70010393a07196b4b451be1ccc153d33e1b2)\".",
    "created_at": "2017-05-24T15:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435019",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b7eedc59e8eebaa135b27dd8ed9a78b9ccc24d9e](https://github.com/sagemath/sagetrac-mirror/commit/b7eedc59e8eebaa135b27dd8ed9a78b9ccc24d9e)" to "[a12d70010393a07196b4b451be1ccc153d33e1b2](https://github.com/sagemath/sagetrac-mirror/commit/a12d70010393a07196b4b451be1ccc153d33e1b2)".



---

archive/issue_comments_435020.json:
```json
{
    "body": "**Changing commit** from \"[a12d70010393a07196b4b451be1ccc153d33e1b2](https://github.com/sagemath/sagetrac-mirror/commit/a12d70010393a07196b4b451be1ccc153d33e1b2)\" to \"[59237752defce7bffd861e80591da3246ec32d09](https://github.com/sagemath/sagetrac-mirror/commit/59237752defce7bffd861e80591da3246ec32d09)\".",
    "created_at": "2017-05-24T19:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435020",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a12d70010393a07196b4b451be1ccc153d33e1b2](https://github.com/sagemath/sagetrac-mirror/commit/a12d70010393a07196b4b451be1ccc153d33e1b2)" to "[59237752defce7bffd861e80591da3246ec32d09](https://github.com/sagemath/sagetrac-mirror/commit/59237752defce7bffd861e80591da3246ec32d09)".



---

archive/issue_comments_435021.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59237752defce7bffd861e80591da3246ec32d09\">5923775</a></td><td><code>trac 23068 fixing imports in matrix2</code></td></tr></table>\n",
    "created_at": "2017-05-24T19:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435021",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59237752defce7bffd861e80591da3246ec32d09">5923775</a></td><td><code>trac 23068 fixing imports in matrix2</code></td></tr></table>




---

archive/issue_comments_435022.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2017-05-25T07:03:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435022",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_435023.json:
```json
{
    "body": "<a id='comment:5'></a>\nbot is essentially green, please review",
    "created_at": "2017-05-25T07:03:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435023",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
bot is essentially green, please review



---

archive/issue_comments_435024.json:
```json
{
    "body": "<a id='comment:6'></a>\n1. Why did you change\n\n```\nif self._ncols == 0\n```\nto\n\n```\nif not self._ncols\n```\n\nI find `self._ncols == 0` clearer to understand: it checks for a matrix with zero colomns.\n\n2. It is wrong to write `sage.matrix.matrix_space.MatrixSpace` without importing it. It might work by accident, but it's not good. Either you explicitly `import sage.matrix.matrix_space` or you do something like `from sage.matrix.matrix_space import MatrixSpace` and then use `MatrixSpace`.\n\n3. Same comment for `sage.matrix.constructor`.\n\n4. Same comment for `sage.rings.power_series_ring` in `src/sage/rings/power_series_ring_element.pyx`",
    "created_at": "2017-05-25T08:25:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435024",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
1. Why did you change

```
if self._ncols == 0
```
to

```
if not self._ncols
```

I find `self._ncols == 0` clearer to understand: it checks for a matrix with zero colomns.

2. It is wrong to write `sage.matrix.matrix_space.MatrixSpace` without importing it. It might work by accident, but it's not good. Either you explicitly `import sage.matrix.matrix_space` or you do something like `from sage.matrix.matrix_space import MatrixSpace` and then use `MatrixSpace`.

3. Same comment for `sage.matrix.constructor`.

4. Same comment for `sage.rings.power_series_ring` in `src/sage/rings/power_series_ring_element.pyx`



---

archive/issue_comments_435025.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2017-05-25T08:25:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435025",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_435026.json:
```json
{
    "body": "<a id='comment:7'></a>\nAbout 1, ok\n\nAbout 2,3,4:\n\nI found this solution to break circular imports. If you think you can do better, please do. This ticket is very low on my priority list. If you feel like helping towards python3, I would appreciate any contribution to the discussion on why building with SAGE_PYTHON3 currently fails:\n\nhttps://groups.google.com/forum/#!topic/sage-devel/FqR-37Fu3tY",
    "created_at": "2017-05-25T09:46:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435026",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
About 1, ok

About 2,3,4:

I found this solution to break circular imports. If you think you can do better, please do. This ticket is very low on my priority list. If you feel like helping towards python3, I would appreciate any contribution to the discussion on why building with SAGE_PYTHON3 currently fails:

https://groups.google.com/forum/#!topic/sage-devel/FqR-37Fu3tY



---

archive/issue_comments_435027.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab723dceb94e33cb7b8301046c7980235ef85ed4\">ab723dc</a></td><td><code>Merge branch 'u/chapoton/23068' in 8.0.b8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7113b26fdcc440dbf4c2d6c94c0a08d40d963e42\">7113b26</a></td><td><code>trac 23068 better imports</code></td></tr></table>\n",
    "created_at": "2017-05-25T11:18:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435027",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab723dceb94e33cb7b8301046c7980235ef85ed4">ab723dc</a></td><td><code>Merge branch 'u/chapoton/23068' in 8.0.b8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7113b26fdcc440dbf4c2d6c94c0a08d40d963e42">7113b26</a></td><td><code>trac 23068 better imports</code></td></tr></table>




---

archive/issue_comments_435028.json:
```json
{
    "body": "**Changing commit** from \"[59237752defce7bffd861e80591da3246ec32d09](https://github.com/sagemath/sagetrac-mirror/commit/59237752defce7bffd861e80591da3246ec32d09)\" to \"[7113b26fdcc440dbf4c2d6c94c0a08d40d963e42](https://github.com/sagemath/sagetrac-mirror/commit/7113b26fdcc440dbf4c2d6c94c0a08d40d963e42)\".",
    "created_at": "2017-05-25T11:18:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435028",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[59237752defce7bffd861e80591da3246ec32d09](https://github.com/sagemath/sagetrac-mirror/commit/59237752defce7bffd861e80591da3246ec32d09)" to "[7113b26fdcc440dbf4c2d6c94c0a08d40d963e42](https://github.com/sagemath/sagetrac-mirror/commit/7113b26fdcc440dbf4c2d6c94c0a08d40d963e42)".



---

archive/issue_comments_435029.json:
```json
{
    "body": "<a id='comment:9'></a>\nshould be better now",
    "created_at": "2017-05-25T14:53:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435029",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
should be better now



---

archive/issue_comments_435030.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2017-05-25T14:53:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435030",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_435031.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer, Andr\u00e9 Apitzsch",
    "created_at": "2017-05-27T09:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435031",
    "user": "https://github.com/a-andre"
}
```

**Reviewer:** Jeroen Demeyer, André Apitzsch



---

archive/issue_comments_435032.json:
```json
{
    "body": "<a id='comment:10'></a>\nLGTM.",
    "created_at": "2017-05-27T09:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435032",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:10'></a>
LGTM.



---

archive/issue_comments_435033.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-05-27T09:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435033",
    "user": "https://github.com/a-andre"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_435034.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2017-05-27T23:42:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435034",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_435035.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/23068](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23068)\" to \"[7113b26fdcc440dbf4c2d6c94c0a08d40d963e42](https://github.com/sagemath/sagetrac-mirror/commit/7113b26fdcc440dbf4c2d6c94c0a08d40d963e42)\".",
    "created_at": "2017-05-27T23:42:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23068#issuecomment-435035",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/23068](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23068)" to "[7113b26fdcc440dbf4c2d6c94c0a08d40d963e42](https://github.com/sagemath/sagetrac-mirror/commit/7113b26fdcc440dbf4c2d6c94c0a08d40d963e42)".



---

archive/issue_events_067888.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-27T23:42:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23068",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23068#event-67888"
}
```
