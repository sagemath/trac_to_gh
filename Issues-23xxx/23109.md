# Issue 23109: Move richcmp_by_eq_and_lt to structure/richcmp.pyx

archive/issues_022872.json:
```json
{
    "body": "The function `richcmp_by_eq_and_lt` from `src/sage/rings/asymptotic/misc.py` should be moved to `src/sage/structure/richcmp.pyx`.\n\nI would also like to change the semantics slightly: this would be more useful if the method names (i.e. `_eq_` and `_lt_`) would be an argument like `_richcmp_ = richcmp_by_eq_and_lt(\"_eq_\", \"_lt_\")`. This way, it can also be used with the standard Python methods `__eq__` and `__lt__`.\n\n**CC:**  @fchapoton @dkrenn\n\n**Branch/Commit:** [aa858075bb8dadd839ae5c744b8e81fb82e7f1c3](https://github.com/sagemath/sagetrac-mirror/commit/aa858075bb8dadd839ae5c744b8e81fb82e7f1c3)\n\n**Reviewer:** Daniel Krenn\n\n**Author:** Jeroen Demeyer\n\n**Dependencies:** #23102\n\nIssue created by migration from https://trac.sagemath.org/ticket/23109\n\n",
    "closed_at": "2017-06-22T07:24:26Z",
    "created_at": "2017-05-31T07:38:08Z",
    "labels": [
        "component: misc",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "title": "Move richcmp_by_eq_and_lt to structure/richcmp.pyx",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/23109",
    "user": "https://github.com/jdemeyer"
}
```
The function `richcmp_by_eq_and_lt` from `src/sage/rings/asymptotic/misc.py` should be moved to `src/sage/structure/richcmp.pyx`.

I would also like to change the semantics slightly: this would be more useful if the method names (i.e. `_eq_` and `_lt_`) would be an argument like `_richcmp_ = richcmp_by_eq_and_lt("_eq_", "_lt_")`. This way, it can also be used with the standard Python methods `__eq__` and `__lt__`.

**CC:**  @fchapoton @dkrenn

**Branch/Commit:** [aa858075bb8dadd839ae5c744b8e81fb82e7f1c3](https://github.com/sagemath/sagetrac-mirror/commit/aa858075bb8dadd839ae5c744b8e81fb82e7f1c3)

**Reviewer:** Daniel Krenn

**Author:** Jeroen Demeyer

**Dependencies:** #23102

Issue created by migration from https://trac.sagemath.org/ticket/23109





---

archive/issue_comments_348646.json:
```json
{
    "body": "Replying to [ticket:23109 jdemeyer]:\n> The function `richcmp_by_eq_and_lt` from `src/sage/rings/asymptotic/misc.py` should be moved to `src/sage/structure/richcmp.pyx`.\n\n\n+1 :)",
    "created_at": "2017-05-31T07:40:15Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348646",
    "user": "https://github.com/dkrenn"
}
```

Replying to [ticket:23109 jdemeyer]:
> The function `richcmp_by_eq_and_lt` from `src/sage/rings/asymptotic/misc.py` should be moved to `src/sage/structure/richcmp.pyx`.


+1 :)



---

archive/issue_comments_348647.json:
```json
{
    "body": "<a id='comment:2'></a>\nI think this function should never have been put in `src/sage/rings/asymptotic` in the first place. When you write general functions, they should be put in a general place, not hidden in `src/sage/rings/asymptotic`.",
    "created_at": "2017-05-31T08:00:33Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348647",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>
I think this function should never have been put in `src/sage/rings/asymptotic` in the first place. When you write general functions, they should be put in a general place, not hidden in `src/sage/rings/asymptotic`.



---

archive/issue_comments_348648.json:
```json
{
    "body": "<a id='comment:3'></a>\nFor this reason, most of the contents of `src/sage/rings/asymptotic/misc.py` doesn't belong there. For example, why is `transform_category` not a method of `Category`? Hiding such general functions tends to encourage reinventing the wheel. Maybe people working on a completely different part of Sage need something like `transform_category`. Those people wouldn't know that it exists in `rings/asymptotic`, so they would need to reinvent it. Anyway, I'm not going to deal with that here, only with `richcmp_by_eq_and_lt`.",
    "created_at": "2017-05-31T08:06:19Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348648",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>
For this reason, most of the contents of `src/sage/rings/asymptotic/misc.py` doesn't belong there. For example, why is `transform_category` not a method of `Category`? Hiding such general functions tends to encourage reinventing the wheel. Maybe people working on a completely different part of Sage need something like `transform_category`. Those people wouldn't know that it exists in `rings/asymptotic`, so they would need to reinvent it. Anyway, I'm not going to deal with that here, only with `richcmp_by_eq_and_lt`.



---

archive/issue_comments_348649.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n The function `richcmp_by_eq_and_lt` from `src/sage/rings/asymptotic/misc.py` should be moved to `src/sage/structure/richcmp.pyx`.\n+\n+I would also like to change the semantics slightly: this would be more useful if the method names (i.e. `_eq_` and `_lt_`) would be an argument like `_richcmp_ = richcmp_by_eq_and_lt(\"_eq_\", \"_lt_\")`. This way, it can also be used with the standard Python methods `__eq__` and `__lt__`.\n``````\n",
    "created_at": "2017-05-31T08:11:00Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348649",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 The function `richcmp_by_eq_and_lt` from `src/sage/rings/asymptotic/misc.py` should be moved to `src/sage/structure/richcmp.pyx`.
+
+I would also like to change the semantics slightly: this would be more useful if the method names (i.e. `_eq_` and `_lt_`) would be an argument like `_richcmp_ = richcmp_by_eq_and_lt("_eq_", "_lt_")`. This way, it can also be used with the standard Python methods `__eq__` and `__lt__`.
``````




---

archive/issue_comments_348650.json:
```json
{
    "body": "<a id='comment:5'></a>\nQuestion: do you assume a total order? I am asking because you currently implement `x <= y` as `x == y` or `x < y`. But you could also implement it as `not x > y`. This way, you only need one method call for every comparison.",
    "created_at": "2017-05-31T08:48:02Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348650",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
Question: do you assume a total order? I am asking because you currently implement `x <= y` as `x == y` or `x < y`. But you could also implement it as `not x > y`. This way, you only need one method call for every comparison.



---

archive/issue_comments_348651.json:
```json
{
    "body": "<a id='comment:6'></a>\nAnswering my own question... the example shows that the order is *partial*.",
    "created_at": "2017-05-31T09:09:59Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348651",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
Answering my own question... the example shows that the order is *partial*.



---

archive/issue_comments_348652.json:
```json
{
    "body": "**Changing dependencies** from \"#23103\" to \"#23102\".",
    "created_at": "2017-05-31T09:19:30Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348652",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#23103" to "#23102".



---

archive/issue_comments_348653.json:
```json
{
    "body": "**Branch:** [u/jdemeyer/move_richcmp_by_eq_and_lt_to_structure_richcmp_pyx](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/move_richcmp_by_eq_and_lt_to_structure_richcmp_pyx)",
    "created_at": "2017-05-31T09:36:28Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348653",
    "user": "https://github.com/jdemeyer"
}
```

**Branch:** [u/jdemeyer/move_richcmp_by_eq_and_lt_to_structure_richcmp_pyx](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/move_richcmp_by_eq_and_lt_to_structure_richcmp_pyx)



---

archive/issue_comments_348654.json:
```json
{
    "body": "**Commit:** [98fd0ccb74ec626a0c4f8d07af1d37e8d2841a56](https://github.com/sagemath/sagetrac-mirror/commit/98fd0ccb74ec626a0c4f8d07af1d37e8d2841a56)",
    "created_at": "2017-05-31T10:19:16Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348654",
    "user": "https://github.com/dkrenn"
}
```

**Commit:** [98fd0ccb74ec626a0c4f8d07af1d37e8d2841a56](https://github.com/sagemath/sagetrac-mirror/commit/98fd0ccb74ec626a0c4f8d07af1d37e8d2841a56)



---

archive/issue_comments_348655.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [jdemeyer](#comment%3A8):\n\n```\n            if equal_types:\n                other_eq = getattr(other, eq_attr)\n            if other_eq(self):\n                return rich_to_bool(op, 0)\n```\nWhat is the reason for using `eq_attr` of `other` and never the `eq_attr` attribute of `self`?\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/256bf191ab0472303bb11e105a246106e894c4ec\">256bf19</a></td><td><code>Move richcmp stuff to new file richcmp.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b591b78190f41d6073729a860868edf4ab95a05c\">b591b78</a></td><td><code>Support `__richcmp__` in Python classes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98fd0ccb74ec626a0c4f8d07af1d37e8d2841a56\">98fd0cc</a></td><td><code>Move richcmp_by_eq_and_lt to structure/richcmp.pyx</code></td></tr></table>\n",
    "created_at": "2017-05-31T10:19:16Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348655",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:9'></a>
Replying to [jdemeyer](#comment%3A8):

```
            if equal_types:
                other_eq = getattr(other, eq_attr)
            if other_eq(self):
                return rich_to_bool(op, 0)
```
What is the reason for using `eq_attr` of `other` and never the `eq_attr` attribute of `self`?

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/256bf191ab0472303bb11e105a246106e894c4ec">256bf19</a></td><td><code>Move richcmp stuff to new file richcmp.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b591b78190f41d6073729a860868edf4ab95a05c">b591b78</a></td><td><code>Support `__richcmp__` in Python classes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98fd0ccb74ec626a0c4f8d07af1d37e8d2841a56">98fd0cc</a></td><td><code>Move richcmp_by_eq_and_lt to structure/richcmp.pyx</code></td></tr></table>




---

archive/issue_comments_348656.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [dkrenn](#comment%3A9):\n> What is the reason for using `eq_attr` of `other` and never the `eq_attr` attribute of `self`?\n\n\nIt's only for efficiency. If we already know `other_eq`, it's more efficient to use it instead. Python's implementation of rich comparisons assumes that `a == b` is the same as `b == a`, so it shouldn't hurt.",
    "created_at": "2017-05-31T10:21:57Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348656",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
Replying to [dkrenn](#comment%3A9):
> What is the reason for using `eq_attr` of `other` and never the `eq_attr` attribute of `self`?


It's only for efficiency. If we already know `other_eq`, it's more efficient to use it instead. Python's implementation of rich comparisons assumes that `a == b` is the same as `b == a`, so it shouldn't hurt.



---

archive/issue_comments_348657.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [jdemeyer](#comment%3A10):\n> Replying to [dkrenn](#comment%3A9):\n> > What is the reason for using `eq_attr` of `other` and never the `eq_attr` attribute of `self`?\n\n> \n> It's only for efficiency. If we already know `other_eq`, it's more efficient to use it instead. Python's implementation of rich comparisons assumes that `a == b` is the same as `b == a`, so it shouldn't hurt.\n\n\nOk.",
    "created_at": "2017-05-31T10:54:24Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348657",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:11'></a>
Replying to [jdemeyer](#comment%3A10):
> Replying to [dkrenn](#comment%3A9):
> > What is the reason for using `eq_attr` of `other` and never the `eq_attr` attribute of `self`?

> 
> It's only for efficiency. If we already know `other_eq`, it's more efficient to use it instead. Python's implementation of rich comparisons assumes that `a == b` is the same as `b == a`, so it shouldn't hurt.


Ok.



---

archive/issue_events_205932.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-05-31T11:04:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23109#event-205932"
}
```



---

archive/issue_comments_348658.json:
```json
{
    "body": "<a id='comment:13'></a>\n1. I think the outer parentheses are not needed in\n\n```\n+        cdef bint equal_types = (type(self) is type(other))\n```\n\n2. Is there a reason for using `op_LT` and `Py_LT`?\n\n3. Docstring:\n\n```\n+    - ``other`` -- arbitrary object. If it does have ``eq_attr`` and\n+      ``lt_attr`` methods, those are used for the comparison. Otherwise,\n+      the comparison is undefined.\n```\n`those` vs. `these`. I am not native English speaking, but shoudn't it be the latter?\n\nApart from these comments; the code looks fine. Let's see what the patchbot says.",
    "created_at": "2017-05-31T16:05:52Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348658",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:13'></a>
1. I think the outer parentheses are not needed in

```
+        cdef bint equal_types = (type(self) is type(other))
```

2. Is there a reason for using `op_LT` and `Py_LT`?

3. Docstring:

```
+    - ``other`` -- arbitrary object. If it does have ``eq_attr`` and
+      ``lt_attr`` methods, those are used for the comparison. Otherwise,
+      the comparison is undefined.
```
`those` vs. `these`. I am not native English speaking, but shoudn't it be the latter?

Apart from these comments; the code looks fine. Let's see what the patchbot says.



---

archive/issue_comments_348659.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [jdemeyer](#comment%3A10):\n> Replying to [dkrenn](#comment%3A9):\n> > What is the reason for using `eq_attr` of `other` and never the `eq_attr` attribute of `self`?\n\n> \n> It's only for efficiency. If we already know `other_eq`, it's more efficient to use it instead. Python's implementation of rich comparisons assumes that `a == b` is the same as `b == a`, so it shouldn't hurt.\n\n\nI somehow find it strange that the comparision `a == b` is performed by `b` and not `a`...",
    "created_at": "2017-05-31T16:07:15Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348659",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:14'></a>
Replying to [jdemeyer](#comment%3A10):
> Replying to [dkrenn](#comment%3A9):
> > What is the reason for using `eq_attr` of `other` and never the `eq_attr` attribute of `self`?

> 
> It's only for efficiency. If we already know `other_eq`, it's more efficient to use it instead. Python's implementation of rich comparisons assumes that `a == b` is the same as `b == a`, so it shouldn't hurt.


I somehow find it strange that the comparision `a == b` is performed by `b` and not `a`...



---

archive/issue_comments_348660.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [dkrenn](#comment%3A13):\n> 1. I think the outer parentheses are not needed in\n> \n> ```\n> +        cdef bint equal_types = (type(self) is type(other))\n> ```\n\n\nThey are certainly not needed. It's just a style issue: when assigning the result of a comparison-like operator, I find it clearer with the parentheses.",
    "created_at": "2017-05-31T17:30:53Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348660",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>
Replying to [dkrenn](#comment%3A13):
> 1. I think the outer parentheses are not needed in
> 
> ```
> +        cdef bint equal_types = (type(self) is type(other))
> ```


They are certainly not needed. It's just a style issue: when assigning the result of a comparison-like operator, I find it clearer with the parentheses.



---

archive/issue_comments_348661.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [dkrenn](#comment%3A14):\n> I somehow find it strange that the comparision `a == b` is performed by `b` and not `a`...\n\n\nIt might be strange but it's not wrong. From [PEP 207](https://www.python.org/dev/peps/pep-0207/):\n\n```\n    4 The reflexivity rules *are* assumed by Python.  Thus, the\n      interpreter may swap y>x with x<y, y>=x with x<=y, and may swap\n      the arguments of x==y and x!=y.\n```",
    "created_at": "2017-05-31T17:32:37Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348661",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
Replying to [dkrenn](#comment%3A14):
> I somehow find it strange that the comparision `a == b` is performed by `b` and not `a`...


It might be strange but it's not wrong. From [PEP 207](https://www.python.org/dev/peps/pep-0207/):

```
    4 The reflexivity rules *are* assumed by Python.  Thus, the
      interpreter may swap y>x with x<y, y>=x with x<=y, and may swap
      the arguments of x==y and x!=y.
```



---

archive/issue_events_205933.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-05-31T20:14:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23109#event-205933"
}
```



---

archive/issue_events_205934.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-05-31T20:14:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23109#event-205934"
}
```



---

archive/issue_comments_348662.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [jdemeyer](#comment%3A15):\n> Replying to [dkrenn](#comment%3A13):\n> > 1. I think the outer parentheses are not needed in\n> > \n> > ```\n> > +        cdef bint equal_types = (type(self) is type(other))\n> > ```\n\n> \n> They are certainly not needed. It's just a style issue: when assigning the result of a comparison-like operator, I find it clearer with the parentheses.\n\n\nOk, clearer is always better ;)",
    "created_at": "2017-06-01T09:40:06Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348662",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:18'></a>
Replying to [jdemeyer](#comment%3A15):
> Replying to [dkrenn](#comment%3A13):
> > 1. I think the outer parentheses are not needed in
> > 
> > ```
> > +        cdef bint equal_types = (type(self) is type(other))
> > ```

> 
> They are certainly not needed. It's just a style issue: when assigning the result of a comparison-like operator, I find it clearer with the parentheses.


Ok, clearer is always better ;)



---

archive/issue_comments_348663.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [jdemeyer](#comment%3A16):\n> Replying to [dkrenn](#comment%3A14):\n> > I somehow find it strange that the comparision `a == b` is performed by `b` and not `a`...\n\n> \n> It might be strange but it's not wrong. From [PEP 207](https://www.python.org/dev/peps/pep-0207/):\n> \n> ```\n>     4 The reflexivity rules *are* assumed by Python.  Thus, the\n>       interpreter may swap y>x with x<y, y>=x with x<=y, and may swap\n>       the arguments of x==y and x!=y.\n> ```\n\n\nOk, so let's keep it.",
    "created_at": "2017-06-01T09:40:38Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348663",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:19'></a>
Replying to [jdemeyer](#comment%3A16):
> Replying to [dkrenn](#comment%3A14):
> > I somehow find it strange that the comparision `a == b` is performed by `b` and not `a`...

> 
> It might be strange but it's not wrong. From [PEP 207](https://www.python.org/dev/peps/pep-0207/):
> 
> ```
>     4 The reflexivity rules *are* assumed by Python.  Thus, the
>       interpreter may swap y>x with x<y, y>=x with x<=y, and may swap
>       the arguments of x==y and x!=y.
> ```


Ok, so let's keep it.



---

archive/issue_comments_348664.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e732456a71ad73bbd82bbc9fe9fa8c663d8e43cf\">e732456</a></td><td><code>Use Py_EQ instead of op_EQ in Cython code</code></td></tr></table>\n",
    "created_at": "2017-06-01T09:41:32Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348664",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e732456a71ad73bbd82bbc9fe9fa8c663d8e43cf">e732456</a></td><td><code>Use Py_EQ instead of op_EQ in Cython code</code></td></tr></table>




---

archive/issue_comments_348665.json:
```json
{
    "body": "**Changing commit** from \"[98fd0ccb74ec626a0c4f8d07af1d37e8d2841a56](https://github.com/sagemath/sagetrac-mirror/commit/98fd0ccb74ec626a0c4f8d07af1d37e8d2841a56)\" to \"[e732456a71ad73bbd82bbc9fe9fa8c663d8e43cf](https://github.com/sagemath/sagetrac-mirror/commit/e732456a71ad73bbd82bbc9fe9fa8c663d8e43cf)\".",
    "created_at": "2017-06-01T09:41:32Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348665",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[98fd0ccb74ec626a0c4f8d07af1d37e8d2841a56](https://github.com/sagemath/sagetrac-mirror/commit/98fd0ccb74ec626a0c4f8d07af1d37e8d2841a56)" to "[e732456a71ad73bbd82bbc9fe9fa8c663d8e43cf](https://github.com/sagemath/sagetrac-mirror/commit/e732456a71ad73bbd82bbc9fe9fa8c663d8e43cf)".



---

archive/issue_events_205935.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-01T09:42:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23109#event-205935"
}
```



---

archive/issue_events_205936.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-01T09:42:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23109#event-205936"
}
```



---

archive/issue_comments_348666.json:
```json
{
    "body": "**Changing commit** from \"[e732456a71ad73bbd82bbc9fe9fa8c663d8e43cf](https://github.com/sagemath/sagetrac-mirror/commit/e732456a71ad73bbd82bbc9fe9fa8c663d8e43cf)\" to \"[9db7dccf0be5f0cd93071541556dac147e9cdfeb](https://github.com/sagemath/sagetrac-mirror/commit/9db7dccf0be5f0cd93071541556dac147e9cdfeb)\".",
    "created_at": "2017-06-18T09:27:51Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348666",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e732456a71ad73bbd82bbc9fe9fa8c663d8e43cf](https://github.com/sagemath/sagetrac-mirror/commit/e732456a71ad73bbd82bbc9fe9fa8c663d8e43cf)" to "[9db7dccf0be5f0cd93071541556dac147e9cdfeb](https://github.com/sagemath/sagetrac-mirror/commit/9db7dccf0be5f0cd93071541556dac147e9cdfeb)".



---

archive/issue_comments_348667.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49b6f76c43231e4bf600b187b32fed6b625c6adb\">49b6f76</a></td><td><code>Support `__richcmp__` in Python classes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d343d9d1f1d5c9b7e35f518a1f85604082e51ca0\">d343d9d</a></td><td><code>Implement RealSet comparisons using __richcmp__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3aac3ccf0141d51e4c97ea852942b8c2196b9a13\">3aac3cc</a></td><td><code>Typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86e9fcf87e6d8fea38a73edc3ea6830f6fc17657\">86e9fcf</a></td><td><code>Install slot wrappers for rich comparison methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d1021b1e2ccd1e811549aeb1e451b9a08cc6251\">4d1021b</a></td><td><code>Further fixes and tests for richcmp_method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/604f42354fd64948f69ef6c24d449122236f96b0\">604f423</a></td><td><code>Move richcmp_by_eq_and_lt to structure/richcmp.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9db7dccf0be5f0cd93071541556dac147e9cdfeb\">9db7dcc</a></td><td><code>Use Py_EQ instead of op_EQ in Cython code</code></td></tr></table>\n",
    "created_at": "2017-06-18T09:27:51Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348667",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49b6f76c43231e4bf600b187b32fed6b625c6adb">49b6f76</a></td><td><code>Support `__richcmp__` in Python classes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d343d9d1f1d5c9b7e35f518a1f85604082e51ca0">d343d9d</a></td><td><code>Implement RealSet comparisons using __richcmp__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3aac3ccf0141d51e4c97ea852942b8c2196b9a13">3aac3cc</a></td><td><code>Typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86e9fcf87e6d8fea38a73edc3ea6830f6fc17657">86e9fcf</a></td><td><code>Install slot wrappers for rich comparison methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d1021b1e2ccd1e811549aeb1e451b9a08cc6251">4d1021b</a></td><td><code>Further fixes and tests for richcmp_method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/604f42354fd64948f69ef6c24d449122236f96b0">604f423</a></td><td><code>Move richcmp_by_eq_and_lt to structure/richcmp.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9db7dccf0be5f0cd93071541556dac147e9cdfeb">9db7dcc</a></td><td><code>Use Py_EQ instead of op_EQ in Cython code</code></td></tr></table>




---

archive/issue_events_205937.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-06-20T15:05:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23109#event-205937"
}
```



---

archive/issue_events_205938.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-06-20T15:05:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23109#event-205938"
}
```



---

archive/issue_comments_348668.json:
```json
{
    "body": "**Reviewer:** Daniel Krenn",
    "created_at": "2017-06-20T15:05:34Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348668",
    "user": "https://github.com/dkrenn"
}
```

**Reviewer:** Daniel Krenn



---

archive/issue_comments_348669.json:
```json
{
    "body": "<a id='comment:23'></a>\nPatchbot found failing tests in richcmp.pyx",
    "created_at": "2017-06-20T15:05:34Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348669",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:23'></a>
Patchbot found failing tests in richcmp.pyx



---

archive/issue_comments_348670.json:
```json
{
    "body": "<a id='comment:24'></a>\nRight, this got broken by the recent changes in #23102.",
    "created_at": "2017-06-20T20:28:11Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348670",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'></a>
Right, this got broken by the recent changes in #23102.



---

archive/issue_comments_348671.json:
```json
{
    "body": "**Changing commit** from \"[9db7dccf0be5f0cd93071541556dac147e9cdfeb](https://github.com/sagemath/sagetrac-mirror/commit/9db7dccf0be5f0cd93071541556dac147e9cdfeb)\" to \"[aa858075bb8dadd839ae5c744b8e81fb82e7f1c3](https://github.com/sagemath/sagetrac-mirror/commit/aa858075bb8dadd839ae5c744b8e81fb82e7f1c3)\".",
    "created_at": "2017-06-21T12:18:08Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348671",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9db7dccf0be5f0cd93071541556dac147e9cdfeb](https://github.com/sagemath/sagetrac-mirror/commit/9db7dccf0be5f0cd93071541556dac147e9cdfeb)" to "[aa858075bb8dadd839ae5c744b8e81fb82e7f1c3](https://github.com/sagemath/sagetrac-mirror/commit/aa858075bb8dadd839ae5c744b8e81fb82e7f1c3)".



---

archive/issue_comments_348672.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa858075bb8dadd839ae5c744b8e81fb82e7f1c3\">aa85807</a></td><td><code>Fix richcmp_by_eq_and_lt example</code></td></tr></table>\n",
    "created_at": "2017-06-21T12:18:08Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348672",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa858075bb8dadd839ae5c744b8e81fb82e7f1c3">aa85807</a></td><td><code>Fix richcmp_by_eq_and_lt example</code></td></tr></table>




---

archive/issue_events_205939.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-21T12:32:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23109#event-205939"
}
```



---

archive/issue_events_205940.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-21T12:32:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23109#event-205940"
}
```



---

archive/issue_comments_348673.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [git](#comment%3A25):\n> Branch pushed to git repo; I updated commit sha1. **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa858075bb8dadd839ae5c744b8e81fb82e7f1c3\">aa85807</a></td><td><code>Fix richcmp_by_eq_and_lt example</code></td></tr></table>\n\n\nThank you for fixing this; LGTM. As soon as the patchbot confirms, this is a positive review from my side.",
    "created_at": "2017-06-21T12:47:10Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348673",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:27'></a>
Replying to [git](#comment%3A25):
> Branch pushed to git repo; I updated commit sha1. **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa858075bb8dadd839ae5c744b8e81fb82e7f1c3">aa85807</a></td><td><code>Fix richcmp_by_eq_and_lt example</code></td></tr></table>


Thank you for fixing this; LGTM. As soon as the patchbot confirms, this is a positive review from my side.



---

archive/issue_events_205941.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-21T12:54:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23109#event-205941"
}
```



---

archive/issue_events_205942.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-21T12:54:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23109#event-205942"
}
```



---

archive/issue_comments_348674.json:
```json
{
    "body": "<a id='comment:28'></a>\nThe previous patchbot report only showed failures in `richcmp.pyx`. I fixed those doctests and did not change any code, so it should be fine. Thanks for the review!",
    "created_at": "2017-06-21T12:54:33Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348674",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>
The previous patchbot report only showed failures in `richcmp.pyx`. I fixed those doctests and did not change any code, so it should be fine. Thanks for the review!



---

archive/issue_events_205943.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-22T07:24:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23109#event-205943"
}
```



---

archive/issue_events_205944.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-22T07:24:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23109#event-205944"
}
```



---

archive/issue_comments_348675.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/move_richcmp_by_eq_and_lt_to_structure_richcmp_pyx](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/move_richcmp_by_eq_and_lt_to_structure_richcmp_pyx)\" to \"[aa858075bb8dadd839ae5c744b8e81fb82e7f1c3](https://github.com/sagemath/sagetrac-mirror/commit/aa858075bb8dadd839ae5c744b8e81fb82e7f1c3)\".",
    "created_at": "2017-06-22T07:24:26Z",
    "issue": "https://github.com/sagemath/sage/issues/23109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23109#issuecomment-348675",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/move_richcmp_by_eq_and_lt_to_structure_richcmp_pyx](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/move_richcmp_by_eq_and_lt_to_structure_richcmp_pyx)" to "[aa858075bb8dadd839ae5c744b8e81fb82e7f1c3](https://github.com/sagemath/sagetrac-mirror/commit/aa858075bb8dadd839ae5c744b8e81fb82e7f1c3)".
