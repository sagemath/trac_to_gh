# Issue 23865: disable a very long doctest in omega.py

archive/issues_023628.json:
```json
{
    "body": "Disable the following from `sage/rings/polynomial/omega.py` that takes forever without any justification\n\n```\nsage: from sage.rings.polynomial.omega import Omega_ge\nsage: %time Omega_ge(0, (2, 2, 1, 1, 1, 1, 1, -1, -1))[0].number_of_terms()\nCPU times: user 53.1 s, sys: 66 ms, total: 53.2 s\nWall time: 53.1 s\n27837\n```\n(running the doctests in `omega.py` takes longer than running the doctests in all other files from `sage/rings/polynomial/`)\n\nCC:  @dkrenn\n\nBranch/Commit: 12734e4b684ac9eac6f7484169bb7c7e37ba5d62\n\nReviewer: Daniel Krenn, Vincent Delecroix\n\nAuthor: Daniel Krenn\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23865\n\n",
    "closed_at": "2017-10-05T06:53:51Z",
    "created_at": "2017-09-15T07:31:08Z",
    "labels": [
        "component: documentation",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "disable a very long doctest in omega.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23865",
    "user": "https://github.com/videlec"
}
```
Disable the following from `sage/rings/polynomial/omega.py` that takes forever without any justification

```
sage: from sage.rings.polynomial.omega import Omega_ge
sage: %time Omega_ge(0, (2, 2, 1, 1, 1, 1, 1, -1, -1))[0].number_of_terms()
CPU times: user 53.1 s, sys: 66 ms, total: 53.2 s
Wall time: 53.1 s
27837
```
(running the doctests in `omega.py` takes longer than running the doctests in all other files from `sage/rings/polynomial/`)

CC:  @dkrenn

Branch/Commit: 12734e4b684ac9eac6f7484169bb7c7e37ba5d62

Reviewer: Daniel Krenn, Vincent Delecroix

Author: Daniel Krenn

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23865





---

archive/issue_comments_450369.json:
```json
{
    "body": "Changing branch from \"\" to \"u/vdelecroix/23865\"",
    "created_at": "2017-09-15T07:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450369",
    "user": "https://github.com/videlec"
}
```

Changing branch from "" to "u/vdelecroix/23865"



---

archive/issue_comments_450370.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2017-09-15T07:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450370",
    "user": "https://github.com/videlec"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_450371.json:
```json
{
    "body": "Changing commit from \"\" to \"f62bf2772454a0af69e5ed2723070c5936ecfdc8\"",
    "created_at": "2017-09-15T07:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450371",
    "user": "https://github.com/videlec"
}
```

Changing commit from "" to "f62bf2772454a0af69e5ed2723070c5936ecfdc8"



---

archive/issue_comments_450372.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-09-15T07:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450372",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_450373.json:
```json
{
    "body": "<a id='comment:2'></a>Instead of disabling it, could the test be simplified?",
    "created_at": "2017-09-15T07:40:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450373",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>Instead of disabling it, could the test be simplified?



---

archive/issue_comments_450374.json:
```json
{
    "body": "<a id='comment:3'></a>This is why I put dkrenn in copy! I am not exactly sure what this doctest is meant for.",
    "created_at": "2017-09-15T07:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450374",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>This is why I put dkrenn in copy! I am not exactly sure what this doctest is meant for.



---

archive/issue_comments_450375.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [jdemeyer](#comment%3A2):\n> Instead of disabling it, could the test be simplified?\n\n\nYes, this can be simplified. I'll provide a corrected version in the next days.",
    "created_at": "2017-09-19T12:36:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450375",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:4'></a>Replying to [jdemeyer](#comment%3A2):
> Instead of disabling it, could the test be simplified?


Yes, this can be simplified. I'll provide a corrected version in the next days.



---

archive/issue_comments_450376.json:
```json
{
    "body": "Replying to [ticket:23865 vdelecroix]:\n> Disable the following from `sage/rings/polynomial/omega.py` that takes forever without any justification\n\n\nThe motivation for having this is, that there is a separate computation for the result meaning that the result is somehow verified. I do not recall that it took that long and will investigate.",
    "created_at": "2017-09-19T12:38:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450376",
    "user": "https://github.com/dkrenn"
}
```

Replying to [ticket:23865 vdelecroix]:
> Disable the following from `sage/rings/polynomial/omega.py` that takes forever without any justification


The motivation for having this is, that there is a separate computation for the result meaning that the result is somehow verified. I do not recall that it took that long and will investigate.



---

archive/issue_comments_450377.json:
```json
{
    "body": "<a id='comment:6'></a>Thanks Daniel!",
    "created_at": "2017-09-19T12:45:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450377",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>Thanks Daniel!



---

archive/issue_comments_450378.json:
```json
{
    "body": "Changing branch from \"u/vdelecroix/23865\" to \"u/dkrenn/23865\"",
    "created_at": "2017-09-19T16:27:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450378",
    "user": "https://github.com/dkrenn"
}
```

Changing branch from "u/vdelecroix/23865" to "u/dkrenn/23865"



---

archive/issue_comments_450379.json:
```json
{
    "body": "<a id='comment:8'></a>Small reviewer patch added (`untested` --> `not tested`) and I've added a new, shorter doctest which needs a small cross review. [Good to go from my side.]\n\n---\nNew commits:",
    "created_at": "2017-09-19T16:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450379",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:8'></a>Small reviewer patch added (`untested` --> `not tested`) and I've added a new, shorter doctest which needs a small cross review. [Good to go from my side.]

---
New commits:



---

archive/issue_comments_450380.json:
```json
{
    "body": "Changing author from \"Vincent Delecroix\" to \"Vincent Delecroix, Daniel Krenn\"",
    "created_at": "2017-09-19T16:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450380",
    "user": "https://github.com/dkrenn"
}
```

Changing author from "Vincent Delecroix" to "Vincent Delecroix, Daniel Krenn"



---

archive/issue_comments_450381.json:
```json
{
    "body": "Changing commit from \"f62bf2772454a0af69e5ed2723070c5936ecfdc8\" to \"12734e4b684ac9eac6f7484169bb7c7e37ba5d62\"",
    "created_at": "2017-09-19T16:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450381",
    "user": "https://github.com/dkrenn"
}
```

Changing commit from "f62bf2772454a0af69e5ed2723070c5936ecfdc8" to "12734e4b684ac9eac6f7484169bb7c7e37ba5d62"



---

archive/issue_comments_450382.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Daniel Krenn\"",
    "created_at": "2017-09-19T16:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450382",
    "user": "https://github.com/dkrenn"
}
```

Changing reviewer from "" to "Daniel Krenn"



---

archive/issue_comments_450383.json:
```json
{
    "body": "<a id='comment:9'></a>FYI, all non-long tests in the file now take 1 second; including the long tests 2 seconds.",
    "created_at": "2017-09-19T16:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450383",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:9'></a>FYI, all non-long tests in the file now take 1 second; including the long tests 2 seconds.



---

archive/issue_comments_450384.json:
```json
{
    "body": "Changing author from \"Vincent Delecroix, Daniel Krenn\" to \"Daniel Krenn\"",
    "created_at": "2017-09-19T20:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450384",
    "user": "https://github.com/videlec"
}
```

Changing author from "Vincent Delecroix, Daniel Krenn" to "Daniel Krenn"



---

archive/issue_comments_450385.json:
```json
{
    "body": "<a id='comment:10'></a>Indeed, on the patchbot it is now\n\n```\nsage -t --long src/sage/rings/polynomial/omega.py\n    [127 tests, 1.84 s]\n```\n\nThanks!",
    "created_at": "2017-09-19T20:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450385",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>Indeed, on the patchbot it is now

```
sage -t --long src/sage/rings/polynomial/omega.py
    [127 tests, 1.84 s]
```

Thanks!



---

archive/issue_comments_450386.json:
```json
{
    "body": "Changing reviewer from \"Daniel Krenn\" to \"Daniel Krenn, Vincent Delecroix\"",
    "created_at": "2017-09-19T20:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450386",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "Daniel Krenn" to "Daniel Krenn, Vincent Delecroix"



---

archive/issue_comments_450387.json:
```json
{
    "body": "<a id='comment:11'></a>oups. I forgot to positive review it...",
    "created_at": "2017-10-04T06:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450387",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>oups. I forgot to positive review it...



---

archive/issue_comments_450388.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-04T06:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450388",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_450389.json:
```json
{
    "body": "Changing branch from \"u/dkrenn/23865\" to \"12734e4b684ac9eac6f7484169bb7c7e37ba5d62\"",
    "created_at": "2017-10-05T06:53:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450389",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dkrenn/23865" to "12734e4b684ac9eac6f7484169bb7c7e37ba5d62"



---

archive/issue_comments_450390.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-10-05T06:53:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23865#issuecomment-450390",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_060787.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-05T06:53:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23865",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23865#event-60787"
}
```
