# Issue 23787: py3: richcmp for ideals

archive/issues_023550.json:
```json
{
    "body": "as another small step towards py3\n\nCC:  @jdemeyer @tscrim @jhpalmieri\n\nReviewer: Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw\n\nBranch: b003684f2eead00ca678a8b27db0235a64396d0a\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23787\n\n",
    "closed_at": "2017-11-02T11:06:02Z",
    "created_at": "2017-09-05T19:28:55Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "py3: richcmp for ideals",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23787",
    "user": "https://github.com/fchapoton"
}
```
as another small step towards py3

CC:  @jdemeyer @tscrim @jhpalmieri

Reviewer: Travis Scrimshaw, Frédéric Chapoton

Author: Frédéric Chapoton, Travis Scrimshaw

Branch: b003684f2eead00ca678a8b27db0235a64396d0a

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23787





---

archive/issue_comments_448745.json:
```json
{
    "body": "Changing commit from \"\" to \"f227266892a33010320a9b785dcd096d5b7f5c77\"",
    "created_at": "2017-09-05T19:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448745",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "f227266892a33010320a9b785dcd096d5b7f5c77"



---

archive/issue_comments_448746.json:
```json
{
    "body": "<a id='comment:1'></a>some doctests are failing, needs to be investigated\n\n---\nNew commits:",
    "created_at": "2017-09-05T19:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448746",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>some doctests are failing, needs to be investigated

---
New commits:



---

archive/issue_comments_448747.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/23787\"",
    "created_at": "2017-09-05T19:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448747",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/23787"



---

archive/issue_comments_448748.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2017-09-05T19:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448748",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_448749.json:
```json
{
    "body": "<a id='comment:2'></a>Typically, one would replace `__cmp__` by `__richcmp__`, not `_richcmp_`.",
    "created_at": "2017-09-06T07:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448749",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>Typically, one would replace `__cmp__` by `__richcmp__`, not `_richcmp_`.



---

archive/issue_comments_448750.json:
```json
{
    "body": "<a id='comment:3'></a>This is work in progress.. But one has\n\n```\nclass Ideal_generic(MonoidElement)\n```\nso every ideal is an \"Element\"...",
    "created_at": "2017-09-06T08:02:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448750",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>This is work in progress.. But one has

```
class Ideal_generic(MonoidElement)
```
so every ideal is an "Element"...



---

archive/issue_comments_448751.json:
```json
{
    "body": "<a id='comment:4'></a>It looks like all of the failures are related to the ordering of the ideals. You have introduced at least one behavior change: Principal ideals used to be considered as smaller as non-principal ideals, but now that no longer holds on your branch. So this should fix the test failure in `rings/ideal.py`. I suspect the others are coming from your changes in `rings/number_field/number_field_ideal.py`.",
    "created_at": "2017-09-07T05:49:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448751",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>It looks like all of the failures are related to the ordering of the ideals. You have introduced at least one behavior change: Principal ideals used to be considered as smaller as non-principal ideals, but now that no longer holds on your branch. So this should fix the test failure in `rings/ideal.py`. I suspect the others are coming from your changes in `rings/number_field/number_field_ideal.py`.



---

archive/issue_comments_448752.json:
```json
{
    "body": "<a id='comment:5'></a>PS, this will conflict with changes on #22982. However, I suspect this will be ready first.",
    "created_at": "2017-09-07T05:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448752",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>PS, this will conflict with changes on #22982. However, I suspect this will be ready first.



---

archive/issue_comments_448753.json:
```json
{
    "body": "<a id='comment:6'></a>I suspect that this ticket here will be **hard** to fix. If it was easy, this would not be my third or 4th failing tentative to solve the issue.",
    "created_at": "2017-09-07T08:33:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448753",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>I suspect that this ticket here will be **hard** to fix. If it was easy, this would not be my third or 4th failing tentative to solve the issue.



---

archive/issue_comments_448754.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-12T19:58:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448754",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_448755.json:
```json
{
    "body": "Changing commit from \"f227266892a33010320a9b785dcd096d5b7f5c77\" to \"b0a886665b973d75a1e476860ddc33498d193134\"",
    "created_at": "2017-09-12T19:58:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448755",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f227266892a33010320a9b785dcd096d5b7f5c77" to "b0a886665b973d75a1e476860ddc33498d193134"



---

archive/issue_comments_448756.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2017-09-18T13:43:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448756",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_448757.json:
```json
{
    "body": "<a id='comment:9'></a>This is now the last set of places where cmp is used.",
    "created_at": "2017-09-22T06:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448757",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>This is now the last set of places where cmp is used.



---

archive/issue_comments_448758.json:
```json
{
    "body": "<a id='comment:10'></a>I think you need to decide whether you want `__richcmp__` or `_richcmp_` here. I understand why `_richcmp_` makes sense, but then you should also remove the various `isinstance()` checks that are still there.",
    "created_at": "2017-09-22T07:06:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448758",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>I think you need to decide whether you want `__richcmp__` or `_richcmp_` here. I understand why `_richcmp_` makes sense, but then you should also remove the various `isinstance()` checks that are still there.



---

archive/issue_comments_448759.json:
```json
{
    "body": "<a id='comment:11'></a>In number field ideals, why add `.sage()` to the PARI instances?",
    "created_at": "2017-09-22T07:07:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448759",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>In number field ideals, why add `.sage()` to the PARI instances?



---

archive/issue_comments_448760.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [jdemeyer](#comment%3A11):\n> In number field ideals, why add `.sage()` to the PARI instances?\n\n\nBecause the pari objects could not be compared. If you know a better solution, please go on.",
    "created_at": "2017-09-22T07:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448760",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>Replying to [jdemeyer](#comment%3A11):
> In number field ideals, why add `.sage()` to the PARI instances?


Because the pari objects could not be compared. If you know a better solution, please go on.



---

archive/issue_comments_448761.json:
```json
{
    "body": "<a id='comment:13'></a>Hmm. It seems that MPolynomialIdeal uses two different semantics for `__lt__` and `__gt___` (for inclusion) and `__cmp__`.",
    "created_at": "2017-09-22T11:48:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448761",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>Hmm. It seems that MPolynomialIdeal uses two different semantics for `__lt__` and `__gt___` (for inclusion) and `__cmp__`.



---

archive/issue_comments_448762.json:
```json
{
    "body": "<a id='comment:14'></a>I have split-off #23920",
    "created_at": "2017-09-22T13:03:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448762",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>I have split-off #23920



---

archive/issue_comments_448763.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-19T18:44:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448763",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_448764.json:
```json
{
    "body": "Changing commit from \"b0a886665b973d75a1e476860ddc33498d193134\" to \"5d2c453759ce8cb1f73e5f871b449bdc101153d9\"",
    "created_at": "2017-10-19T18:44:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448764",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b0a886665b973d75a1e476860ddc33498d193134" to "5d2c453759ce8cb1f73e5f871b449bdc101153d9"



---

archive/issue_comments_448765.json:
```json
{
    "body": "<a id='comment:16'></a>Jeroen, is there a way to change the following behaviour (cmp works but not richcmp on cypari Gen objects) ?\n\n```\nsage: from sage.structure.richcmp import *\nsage: K.<a, b> = NumberField([x^2 + 23, x^2 - 7])\nsage: I = K.ideal(2, (a + 2*b + 3)/2)\nsage: J = K.ideal(2, a - b)\nsage: richcmp(I.pari_rhnf(), J.pari_rhnf() , op_LE)\n---------------------------------------------------------------------------\nPariError                                 Traceback (most recent call last)\n<ipython-input-24-c3ae4cea545c> in <module>()\n----> 1 richcmp(I.pari_rhnf(), J.pari_rhnf() , op_LE)\n\n/home/chapoton/sage/src/sage/structure/richcmp.pyx in sage.structure.richcmp.richcmp (build/cythonized/sage/structure/richcmp.c:1361)()\n    103         False\n    104     \"\"\"\n--> 105     return PyObject_RichCompare(x, y, op)\n    106 \n    107 \n\ncypari2/gen.pyx in cypari2.gen.Gen.__richcmp__()\n\ncypari2/handle_error.pyx in cypari2.handle_error._pari_err_handle()\n\nPariError: forbidden comparison t_VEC (2 elts) , t_VEC (2 elts)\nsage: cmp(I.pari_rhnf(), J.pari_rhnf())\n-1\n```",
    "created_at": "2017-10-20T19:21:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448765",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>Jeroen, is there a way to change the following behaviour (cmp works but not richcmp on cypari Gen objects) ?

```
sage: from sage.structure.richcmp import *
sage: K.<a, b> = NumberField([x^2 + 23, x^2 - 7])
sage: I = K.ideal(2, (a + 2*b + 3)/2)
sage: J = K.ideal(2, a - b)
sage: richcmp(I.pari_rhnf(), J.pari_rhnf() , op_LE)
---------------------------------------------------------------------------
PariError                                 Traceback (most recent call last)
<ipython-input-24-c3ae4cea545c> in <module>()
----> 1 richcmp(I.pari_rhnf(), J.pari_rhnf() , op_LE)

/home/chapoton/sage/src/sage/structure/richcmp.pyx in sage.structure.richcmp.richcmp (build/cythonized/sage/structure/richcmp.c:1361)()
    103         False
    104     """
--> 105     return PyObject_RichCompare(x, y, op)
    106 
    107 

cypari2/gen.pyx in cypari2.gen.Gen.__richcmp__()

cypari2/handle_error.pyx in cypari2.handle_error._pari_err_handle()

PariError: forbidden comparison t_VEC (2 elts) , t_VEC (2 elts)
sage: cmp(I.pari_rhnf(), J.pari_rhnf())
-1
```



---

archive/issue_comments_448766.json:
```json
{
    "body": "<a id='comment:17'></a>Jeroen, any idea for my previous question, please ?",
    "created_at": "2017-10-26T18:13:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448766",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>Jeroen, any idea for my previous question, please ?



---

archive/issue_comments_448767.json:
```json
{
    "body": "<a id='comment:18'></a>This ticket (last call to cmp anywhere) seem to be stuck..\n\nThe current branch has only 4 very mild failing doctests, that I have failed to understand and fix.\n\nOpinion required, please. Should I just fix the doctests, or should one try to match absolutely the existing behaviour ?",
    "created_at": "2017-10-30T16:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448767",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>This ticket (last call to cmp anywhere) seem to be stuck..

The current branch has only 4 very mild failing doctests, that I have failed to understand and fix.

Opinion required, please. Should I just fix the doctests, or should one try to match absolutely the existing behaviour ?



---

archive/issue_comments_448768.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [chapoton](#comment%3A18):\n> This ticket (last call to cmp anywhere) seem to be stuck..\n\n\nWow, that is amazing. Thank you for all your work so far. Now to get over this.\n\n> The current branch has only 4 very mild failing doctests, that I have failed to understand and fix.\n\n\nI will look into them today. Although I don't know anything about[comment:16](#comment%3A16).\n\n> Opinion required, please. Should I just fix the doctests, or should one try to match absolutely the existing behaviour ?\n\n\nI think we should try to match the existing behavior, or at least understand why the changes are necessary. The tests that have a different order are not so big IMO, but the `I < J` and `J > I` test failing should be explained.",
    "created_at": "2017-10-30T22:11:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448768",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'></a>Replying to [chapoton](#comment%3A18):
> This ticket (last call to cmp anywhere) seem to be stuck..


Wow, that is amazing. Thank you for all your work so far. Now to get over this.

> The current branch has only 4 very mild failing doctests, that I have failed to understand and fix.


I will look into them today. Although I don't know anything about[comment:16](#comment%3A16).

> Opinion required, please. Should I just fix the doctests, or should one try to match absolutely the existing behaviour ?


I think we should try to match the existing behavior, or at least understand why the changes are necessary. The tests that have a different order are not so big IMO, but the `I < J` and `J > I` test failing should be explained.



---

archive/issue_comments_448769.json:
```json
{
    "body": "<a id='comment:20'></a>The change in the output for the `SUK = UnitGroup(K,S=21); SUK` test comes down to sorting in the `factorization` object.",
    "created_at": "2017-10-30T23:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448769",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>The change in the output for the `SUK = UnitGroup(K,S=21); SUK` test comes down to sorting in the `factorization` object.



---

archive/issue_comments_448770.json:
```json
{
    "body": "<a id='comment:21'></a>The `cmp` calls `Gen.__cmp__` calls PARI's `cmp_universal`, which has no mathematical meaning [according to the docs](https://pari.math.u-bordeaux.fr/dochtml/html-stable/Standard_monadic_or_dyadic_operators.html). So converting back to Sage objects and doing the comparison is a much better comparison IMO. Subsequently that is a test we can simply update.",
    "created_at": "2017-10-30T23:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448770",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:21'></a>The `cmp` calls `Gen.__cmp__` calls PARI's `cmp_universal`, which has no mathematical meaning [according to the docs](https://pari.math.u-bordeaux.fr/dochtml/html-stable/Standard_monadic_or_dyadic_operators.html). So converting back to Sage objects and doing the comparison is a much better comparison IMO. Subsequently that is a test we can simply update.



---

archive/issue_comments_448771.json:
```json
{
    "body": "<a id='comment:22'></a>The test in `Ideal_principal._richcmp_` does not actually test that code:\n\n```\nsage: I.__class__.__mro__\n(<class 'sage.rings.polynomial.multi_polynomial_ideal.MPolynomialIdeal'>,\n <class sage.rings.polynomial.multi_polynomial_ideal.MPolynomialIdeal_singular_repr at 0x7f98c6dbc668>,\n <class sage.rings.polynomial.multi_polynomial_ideal.MPolynomialIdeal_singular_base_repr at 0x7f98c6dbc600>,\n <class sage.rings.polynomial.multi_polynomial_ideal.MPolynomialIdeal_macaulay2_repr at 0x7f98c6dbc6d0>,\n <class sage.rings.polynomial.multi_polynomial_ideal.MPolynomialIdeal_magma_repr at 0x7f98c6dbc598>,\n <class 'sage.rings.ideal.Ideal_generic'>,\n <type 'sage.structure.element.MonoidElement'>,\n <type 'sage.structure.element.Element'>,\n <type 'sage.structure.sage_object.SageObject'>,\n <type 'object'>)\n```\nHowever, all the same, that is not the problem. Something very strange is going on:\n\n```\nsage: [richcmp(I.gens(), J.gens(), val) for val in range(6)]  # Defines the behavior\n[False, False, False, True, True, True]\nsage: [richcmp(I, J, val) for val in range(6)]  # What?\n[True, True, False, True, False, False]\nsage: [I._richcmp_(J, val) for val in range(6)]  # What!?!?!?\n[False, False, False, True, True, True]\n```",
    "created_at": "2017-10-30T23:45:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448771",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>The test in `Ideal_principal._richcmp_` does not actually test that code:

```
sage: I.__class__.__mro__
(<class 'sage.rings.polynomial.multi_polynomial_ideal.MPolynomialIdeal'>,
 <class sage.rings.polynomial.multi_polynomial_ideal.MPolynomialIdeal_singular_repr at 0x7f98c6dbc668>,
 <class sage.rings.polynomial.multi_polynomial_ideal.MPolynomialIdeal_singular_base_repr at 0x7f98c6dbc600>,
 <class sage.rings.polynomial.multi_polynomial_ideal.MPolynomialIdeal_macaulay2_repr at 0x7f98c6dbc6d0>,
 <class sage.rings.polynomial.multi_polynomial_ideal.MPolynomialIdeal_magma_repr at 0x7f98c6dbc598>,
 <class 'sage.rings.ideal.Ideal_generic'>,
 <type 'sage.structure.element.MonoidElement'>,
 <type 'sage.structure.element.Element'>,
 <type 'sage.structure.sage_object.SageObject'>,
 <type 'object'>)
```
However, all the same, that is not the problem. Something very strange is going on:

```
sage: [richcmp(I.gens(), J.gens(), val) for val in range(6)]  # Defines the behavior
[False, False, False, True, True, True]
sage: [richcmp(I, J, val) for val in range(6)]  # What?
[True, True, False, True, False, False]
sage: [I._richcmp_(J, val) for val in range(6)]  # What!?!?!?
[False, False, False, True, True, True]
```



---

archive/issue_comments_448772.json:
```json
{
    "body": "<a id='comment:23'></a>Oh, I know why. Just look at `I.__richcmp__`, which gives the multivariate comparison (using Gr\u00f6bner bases) and never even sees this code path. So I am going to remove the `I > J` and `J < I` tests.",
    "created_at": "2017-10-30T23:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448772",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:23'></a>Oh, I know why. Just look at `I.__richcmp__`, which gives the multivariate comparison (using Gröbner bases) and never even sees this code path. So I am going to remove the `I > J` and `J < I` tests.



---

archive/issue_comments_448773.json:
```json
{
    "body": "<a id='comment:24'></a>Correction, I am going to change the test to not use the multivariate code and actually test that code.",
    "created_at": "2017-10-30T23:53:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448773",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:24'></a>Correction, I am going to change the test to not use the multivariate code and actually test that code.



---

archive/issue_comments_448774.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-10-31T00:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448774",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_448775.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2017-10-31T00:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448775",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw, Frédéric Chapoton"



---

archive/issue_comments_448776.json:
```json
{
    "body": "<a id='comment:25'></a>Okay, I fixed that and a bug along the way now that the code is actually being tested.\n\nThe remaining failure is the same as the other number field because it was using `cmp_universal`. So I just updated the output.\n\nNeeds review.\n\n---\nNew commits:",
    "created_at": "2017-10-31T00:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448776",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>Okay, I fixed that and a bug along the way now that the code is actually being tested.

The remaining failure is the same as the other number field because it was using `cmp_universal`. So I just updated the output.

Needs review.

---
New commits:



---

archive/issue_comments_448777.json:
```json
{
    "body": "Changing commit from \"5d2c453759ce8cb1f73e5f871b449bdc101153d9\" to \"b003684f2eead00ca678a8b27db0235a64396d0a\"",
    "created_at": "2017-10-31T00:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448777",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "5d2c453759ce8cb1f73e5f871b449bdc101153d9" to "b003684f2eead00ca678a8b27db0235a64396d0a"



---

archive/issue_comments_448778.json:
```json
{
    "body": "Changing branch from \"u/chapoton/23787\" to \"public/python3/richcmp_ideals-23787\"",
    "created_at": "2017-10-31T00:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448778",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "u/chapoton/23787" to "public/python3/richcmp_ideals-23787"



---

archive/issue_comments_448779.json:
```json
{
    "body": "Changing author from \"Fr\u00e9d\u00e9ric Chapoton\" to \"Fr\u00e9d\u00e9ric Chapoton, Travis Scrimsaw\"",
    "created_at": "2017-10-31T00:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448779",
    "user": "https://github.com/tscrim"
}
```

Changing author from "Frédéric Chapoton" to "Frédéric Chapoton, Travis Scrimsaw"



---

archive/issue_comments_448780.json:
```json
{
    "body": "<a id='comment:26'></a>Thanks a lot. The bot is morally green, so I am going to set this to positive review.",
    "created_at": "2017-10-31T14:20:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448780",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:26'></a>Thanks a lot. The bot is morally green, so I am going to set this to positive review.



---

archive/issue_comments_448781.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-31T14:20:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448781",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_060663.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-11-02T11:06:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23787#event-60663"
}
```



---

archive/issue_comments_448782.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-11-02T11:06:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448782",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_448783.json:
```json
{
    "body": "Changing branch from \"public/python3/richcmp_ideals-23787\" to \"b003684f2eead00ca678a8b27db0235a64396d0a\"",
    "created_at": "2017-11-02T11:06:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448783",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/python3/richcmp_ideals-23787" to "b003684f2eead00ca678a8b27db0235a64396d0a"



---

archive/issue_comments_448784.json:
```json
{
    "body": "Changing commit from \"b003684f2eead00ca678a8b27db0235a64396d0a\" to \"\"",
    "created_at": "2017-12-08T14:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448784",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "b003684f2eead00ca678a8b27db0235a64396d0a" to ""



---

archive/issue_comments_448785.json:
```json
{
    "body": "Changing author from \"Fr\u00e9d\u00e9ric Chapoton, Travis Scrimsaw\" to \"Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw\"",
    "created_at": "2017-12-08T14:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448785",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "Frédéric Chapoton, Travis Scrimsaw" to "Frédéric Chapoton, Travis Scrimshaw"



---

archive/issue_comments_448786.json:
```json
{
    "body": "<a id='comment:28'></a>Scrimsaw sounds cool though :-)",
    "created_at": "2017-12-08T14:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23787#issuecomment-448786",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>Scrimsaw sounds cool though :-)
