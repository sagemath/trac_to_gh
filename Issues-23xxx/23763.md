# Issue 23763: turning free dendriform algebras into Hopf algebras

archive/issues_023526.json:
```json
{
    "body": "also known as Loday-Ronco Hopf algebras\n\n**CC:**  @tscrim @darijgr\n\n**Branch/Commit:** [01f800850d01d0d61b68e85702e7f0dae2413355](https://github.com/sagemath/sagetrac-mirror/commit/01f800850d01d0d61b68e85702e7f0dae2413355)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/23763\n\n",
    "closed_at": "2017-09-10T11:57:02Z",
    "created_at": "2017-08-31T09:29:50Z",
    "labels": [
        "component: combinatorics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "title": "turning free dendriform algebras into Hopf algebras",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/23763",
    "user": "https://github.com/fchapoton"
}
```
also known as Loday-Ronco Hopf algebras

**CC:**  @tscrim @darijgr

**Branch/Commit:** [01f800850d01d0d61b68e85702e7f0dae2413355](https://github.com/sagemath/sagetrac-mirror/commit/01f800850d01d0d61b68e85702e7f0dae2413355)

**Reviewer:** Travis Scrimshaw

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/23763





---

archive/issue_comments_360996.json:
```json
{
    "body": "**Commit:** [eebc2a44206f8484d6da27b1eb8f8815a7deba45](https://github.com/sagemath/sagetrac-mirror/commit/eebc2a44206f8484d6da27b1eb8f8815a7deba45)",
    "created_at": "2017-08-31T09:30:40Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-360996",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [eebc2a44206f8484d6da27b1eb8f8815a7deba45](https://github.com/sagemath/sagetrac-mirror/commit/eebc2a44206f8484d6da27b1eb8f8815a7deba45)



---

archive/issue_comments_360997.json:
```json
{
    "body": "<a id='comment:1'></a>\nThis was quite easy (if maybe not very efficient)\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eebc2a44206f8484d6da27b1eb8f8815a7deba45\">eebc2a4</a></td><td><code>turning the free dendriform algebras into Hopf algebras</code></td></tr></table>\n",
    "created_at": "2017-08-31T09:30:40Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-360997",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
This was quite easy (if maybe not very efficient)

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eebc2a44206f8484d6da27b1eb8f8815a7deba45">eebc2a4</a></td><td><code>turning the free dendriform algebras into Hopf algebras</code></td></tr></table>




---

archive/issue_events_211235.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-08-31T09:30:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23763#event-211235"
}
```



---

archive/issue_comments_360998.json:
```json
{
    "body": "**Branch:** [u/chapoton/23763](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23763)",
    "created_at": "2017-08-31T09:30:40Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-360998",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/23763](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23763)



---

archive/issue_comments_360999.json:
```json
{
    "body": "<a id='comment:2'></a>\nbot is green",
    "created_at": "2017-08-31T11:49:21Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-360999",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
bot is green



---

archive/issue_events_211236.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-08-31T13:46:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23763#event-211236"
}
```



---

archive/issue_events_211237.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-08-31T13:46:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23763#event-211237"
}
```



---

archive/issue_comments_361000.json:
```json
{
    "body": "<a id='comment:3'></a>\nLGTM. We probably should finish #15578...",
    "created_at": "2017-08-31T13:46:14Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361000",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
LGTM. We probably should finish #15578...



---

archive/issue_comments_361001.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2017-08-31T13:46:14Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361001",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_events_211238.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-08-31T14:01:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23763#event-211238"
}
```



---

archive/issue_events_211239.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-08-31T14:01:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23763#event-211239"
}
```



---

archive/issue_comments_361002.json:
```json
{
    "body": "<a id='comment:4'></a>\nActually, isn't this a connected Hopf algebra? That way you could get an antipode for free (#18675 implemented a default antipode for connected (graded) Hopf algebras).",
    "created_at": "2017-08-31T14:01:14Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361002",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
Actually, isn't this a connected Hopf algebra? That way you could get an antipode for free (#18675 implemented a default antipode for connected (graded) Hopf algebras).



---

archive/issue_comments_361003.json:
```json
{
    "body": "<a id='comment:5'></a>\nYes, it is. Do you know if \"connected\" is an axiom ?",
    "created_at": "2017-08-31T14:02:34Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361003",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
Yes, it is. Do you know if "connected" is an axiom ?



---

archive/issue_comments_361004.json:
```json
{
    "body": "<a id='comment:6'></a>\n\n```\nsage: HopfAlgebras(QQ).WithBasis().Graded().Connected()\nCategory of graded connected hopf algebras with basis over Rational Field\n```",
    "created_at": "2017-08-31T14:03:28Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361004",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>

```
sage: HopfAlgebras(QQ).WithBasis().Graded().Connected()
Category of graded connected hopf algebras with basis over Rational Field
```



---

archive/issue_comments_361005.json:
```json
{
    "body": "**Changing commit** from \"[eebc2a44206f8484d6da27b1eb8f8815a7deba45](https://github.com/sagemath/sagetrac-mirror/commit/eebc2a44206f8484d6da27b1eb8f8815a7deba45)\" to \"[f4aed39c24fac484aaf348175d946e00ae6353e1](https://github.com/sagemath/sagetrac-mirror/commit/f4aed39c24fac484aaf348175d946e00ae6353e1)\".",
    "created_at": "2017-08-31T14:10:07Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361005",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[eebc2a44206f8484d6da27b1eb8f8815a7deba45](https://github.com/sagemath/sagetrac-mirror/commit/eebc2a44206f8484d6da27b1eb8f8815a7deba45)" to "[f4aed39c24fac484aaf348175d946e00ae6353e1](https://github.com/sagemath/sagetrac-mirror/commit/f4aed39c24fac484aaf348175d946e00ae6353e1)".



---

archive/issue_comments_361006.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4aed39c24fac484aaf348175d946e00ae6353e1\">f4aed39</a></td><td><code>trac 23763 now connected and with antipode</code></td></tr></table>\n",
    "created_at": "2017-08-31T14:10:07Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361006",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4aed39c24fac484aaf348175d946e00ae6353e1">f4aed39</a></td><td><code>trac 23763 now connected and with antipode</code></td></tr></table>




---

archive/issue_events_211240.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-08-31T14:12:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23763#event-211240"
}
```



---

archive/issue_events_211241.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-08-31T14:12:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23763#event-211241"
}
```



---

archive/issue_comments_361007.json:
```json
{
    "body": "<a id='comment:8'></a>\nAll done ! Thanks for your precious help, Travis !",
    "created_at": "2017-08-31T14:12:51Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361007",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
All done ! Thanks for your precious help, Travis !



---

archive/issue_comments_361008.json:
```json
{
    "body": "<a id='comment:9'></a>\nNo problem. I didn't even know we had the default implementation done when we added connected Hopf algebras.\n\nOne last detail: you can remove the `one` implementation and use the default (which is cached). Either way you decide, you can set a positive review on my behalf.",
    "created_at": "2017-08-31T14:19:00Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361008",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
No problem. I didn't even know we had the default implementation done when we added connected Hopf algebras.

One last detail: you can remove the `one` implementation and use the default (which is cached). Either way you decide, you can set a positive review on my behalf.



---

archive/issue_comments_361009.json:
```json
{
    "body": "**Changing commit** from \"[f4aed39c24fac484aaf348175d946e00ae6353e1](https://github.com/sagemath/sagetrac-mirror/commit/f4aed39c24fac484aaf348175d946e00ae6353e1)\" to \"[01f800850d01d0d61b68e85702e7f0dae2413355](https://github.com/sagemath/sagetrac-mirror/commit/01f800850d01d0d61b68e85702e7f0dae2413355)\".",
    "created_at": "2017-08-31T14:21:06Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361009",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f4aed39c24fac484aaf348175d946e00ae6353e1](https://github.com/sagemath/sagetrac-mirror/commit/f4aed39c24fac484aaf348175d946e00ae6353e1)" to "[01f800850d01d0d61b68e85702e7f0dae2413355](https://github.com/sagemath/sagetrac-mirror/commit/01f800850d01d0d61b68e85702e7f0dae2413355)".



---

archive/issue_comments_361010.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01f800850d01d0d61b68e85702e7f0dae2413355\">01f8008</a></td><td><code>trac 23763 removing the one method</code></td></tr></table>\n",
    "created_at": "2017-08-31T14:21:06Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361010",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01f800850d01d0d61b68e85702e7f0dae2413355">01f8008</a></td><td><code>trac 23763 removing the one method</code></td></tr></table>




---

archive/issue_events_211242.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-08-31T14:21:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23763#event-211242"
}
```



---

archive/issue_events_211243.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-08-31T14:21:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23763#event-211243"
}
```



---

archive/issue_comments_361011.json:
```json
{
    "body": "<a id='comment:11'></a>\nDone. I am setting to positive.",
    "created_at": "2017-08-31T14:21:35Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361011",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
Done. I am setting to positive.



---

archive/issue_comments_361012.json:
```json
{
    "body": "<a id='comment:12'></a>\nDear Prof Chapoton,\n\nThank you very much for the code, and for notifying us on the other ticket. Is it possible to code the dual algebra too (maybe using some standard code for dualising combinatorial Hopf algebras)?\n\nAlso two questions about using the code:\n1. Is it possible to ask Sage to produce a list of the planar binary trees of degree n (in order to make matrices for the product, coproduct etc.)?\n2. How do I input a particular tree? In your examples I see only \n\n```\n sage: x = RT([], '@')\n```\nwhich creates the element in degree 1.\n\n\nThank you very much.\n\nAmy",
    "created_at": "2017-09-01T06:37:03Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361012",
    "user": "https://trac.sagemath.org/admin/accounts/users/amypang"
}
```

<a id='comment:12'></a>
Dear Prof Chapoton,

Thank you very much for the code, and for notifying us on the other ticket. Is it possible to code the dual algebra too (maybe using some standard code for dualising combinatorial Hopf algebras)?

Also two questions about using the code:
1. Is it possible to ask Sage to produce a list of the planar binary trees of degree n (in order to make matrices for the product, coproduct etc.)?
2. How do I input a particular tree? In your examples I see only 

```
 sage: x = RT([], '@')
```
which creates the element in degree 1.


Thank you very much.

Amy



---

archive/issue_comments_361013.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [amypang](#comment%3A12):\n\n> Thank you very much for the code, and for notifying us on the other ticket. Is it possible to code the dual algebra too (maybe using some standard code for dualising combinatorial Hopf algebras)?\n\n\nMy pleasure. For the dual, I have no idea. \n\n> Also two questions about using the code:\n> 1. Is it possible to ask Sage to produce a list of the planar binary trees of degree n (in order to make matrices for the product, coproduct etc.)?\n\n\n`sage: list(BinaryTrees(4))`\n\nbut beware that you need to use the unlabelled version\n\n`sage: algebras.FreeDendriform(QQ,1)`\n\nWe currently have no way to list the labelled trees.\n\n> 2. How do I input a particular tree? In your examples I see only \n> \n> ```\n>  sage: x = RT([], '@')\n> ```\n> which creates the element in degree 1.\n\n\nThere are many ways. Here is my favorite one:\n\n```\nsage: from sage.combinat.abstract_tree import from_hexacode\nsage: RT = BinaryTrees()\nsage: t = from_hexacode('2022000', RT); t\n[[., .], [[[., .], [., .]], [., .]]]\nsage: %display unicode_art\nsage: t\n\n  __o___\n \u2571      \u2572\no       _o_\n       \u2571   \u2572\n      o     o\n     \u2571 \u2572    \n    o   o   \n```\nThe word given as input is the list of valences of vertices, read in the recursive order (root, word for left subtree, word for right subtree). I hope it's clear ?",
    "created_at": "2017-09-01T06:52:17Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361013",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
Replying to [amypang](#comment%3A12):

> Thank you very much for the code, and for notifying us on the other ticket. Is it possible to code the dual algebra too (maybe using some standard code for dualising combinatorial Hopf algebras)?


My pleasure. For the dual, I have no idea. 

> Also two questions about using the code:
> 1. Is it possible to ask Sage to produce a list of the planar binary trees of degree n (in order to make matrices for the product, coproduct etc.)?


`sage: list(BinaryTrees(4))`

but beware that you need to use the unlabelled version

`sage: algebras.FreeDendriform(QQ,1)`

We currently have no way to list the labelled trees.

> 2. How do I input a particular tree? In your examples I see only 
> 
> ```
>  sage: x = RT([], '@')
> ```
> which creates the element in degree 1.


There are many ways. Here is my favorite one:

```
sage: from sage.combinat.abstract_tree import from_hexacode
sage: RT = BinaryTrees()
sage: t = from_hexacode('2022000', RT); t
[[., .], [[[., .], [., .]], [., .]]]
sage: %display unicode_art
sage: t

  __o___
 ╱      ╲
o       _o_
       ╱   ╲
      o     o
     ╱ ╲    
    o   o   
```
The word given as input is the list of valences of vertices, read in the recursive order (root, word for left subtree, word for right subtree). I hope it's clear ?



---

archive/issue_comments_361014.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/23763](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23763)\" to \"[01f800850d01d0d61b68e85702e7f0dae2413355](https://github.com/sagemath/sagetrac-mirror/commit/01f800850d01d0d61b68e85702e7f0dae2413355)\".",
    "created_at": "2017-09-10T11:57:02Z",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23763#issuecomment-361014",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/23763](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/23763)" to "[01f800850d01d0d61b68e85702e7f0dae2413355](https://github.com/sagemath/sagetrac-mirror/commit/01f800850d01d0d61b68e85702e7f0dae2413355)".



---

archive/issue_events_211244.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-10T11:57:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23763#event-211244"
}
```



---

archive/issue_events_211245.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7c5927c9db2b659182892a8bbd3a574567a580d4",
    "created_at": "2017-09-10T11:57:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23763",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23763#event-211245"
}
```
