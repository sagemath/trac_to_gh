# Issue 23838: Minor errors in integrated curves

archive/issues_023601.json:
```json
{
    "body": "- In method `solve` of class `IntegratedCurve`, the step of integration needs to be evaluated numerically (using `numerical_approx`) before calling any algorithm, in order to allow it to be an expression such as `pi`.\n- In method `solve`, when using Bulirsch-Stoer algorithm ('bsimp'), method `ode_solve` was called in a wrong way.\n- 'Bulirsch' was misspelled in documentation.\n- Minor corrections were made regarding `rk4_maxima` being the default algorithm of method `solve`.\n\n**CC:**  @egourgoulhon mbejger @man74cio @tscrim\n\n**Keywords:** curve, manifold\n\n**Branch/Commit:** [06707693602218e555a9b2ffb154981e17622beb](https://github.com/sagemath/sagetrac-mirror/commit/06707693602218e555a9b2ffb154981e17622beb)\n\n**Reviewer:** Eric Gourgoulhon, Travis Scrimshaw\n\n**Author:** Karim Van Aelst\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23838\n\n",
    "closed_at": "2017-09-18T22:15:16Z",
    "created_at": "2017-09-12T08:26:28Z",
    "labels": [
        "component: geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Minor errors in integrated curves",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23838",
    "user": "https://trac.sagemath.org/admin/accounts/users/karimvanaelst"
}
```
- In method `solve` of class `IntegratedCurve`, the step of integration needs to be evaluated numerically (using `numerical_approx`) before calling any algorithm, in order to allow it to be an expression such as `pi`.
- In method `solve`, when using Bulirsch-Stoer algorithm ('bsimp'), method `ode_solve` was called in a wrong way.
- 'Bulirsch' was misspelled in documentation.
- Minor corrections were made regarding `rk4_maxima` being the default algorithm of method `solve`.

**CC:**  @egourgoulhon mbejger @man74cio @tscrim

**Keywords:** curve, manifold

**Branch/Commit:** [06707693602218e555a9b2ffb154981e17622beb](https://github.com/sagemath/sagetrac-mirror/commit/06707693602218e555a9b2ffb154981e17622beb)

**Reviewer:** Eric Gourgoulhon, Travis Scrimshaw

**Author:** Karim Van Aelst

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/23838





---

archive/issue_comments_452195.json:
```json
{
    "body": "**Commit:** [41e798a80278ec1a14dba73fabe59009708efe1b](https://github.com/sagemath/sagetrac-mirror/commit/41e798a80278ec1a14dba73fabe59009708efe1b)",
    "created_at": "2017-09-12T08:31:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452195",
    "user": "https://trac.sagemath.org/admin/accounts/users/karimvanaelst"
}
```

**Commit:** [41e798a80278ec1a14dba73fabe59009708efe1b](https://github.com/sagemath/sagetrac-mirror/commit/41e798a80278ec1a14dba73fabe59009708efe1b)



---

archive/issue_comments_452196.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c66fd908febeac66a7a04f84a9b2297561325d3\">6c66fd9</a></td><td><code>Merge branch 'public/manifolds/point_comparison-23592' of git://trac.sagemath.org/sage into develop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b65b82ed89d598d69ed99b4c794b1f92f0a9b4a\">3b65b82</a></td><td><code>Merge branch 'develop' of https://github.com/sagemath/sage into develop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/735915823d7f99bc545a031faef9c43a9d3359e2\">7359158</a></td><td><code>Merge branch 'public/manifolds/is_trivial_zero' of git://trac.sagemath.org/sage into develop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41e798a80278ec1a14dba73fabe59009708efe1b\">41e798a</a></td><td><code>Fix minor errors in method solve of integrated curves</code></td></tr></table>\n",
    "created_at": "2017-09-12T08:31:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452196",
    "user": "https://trac.sagemath.org/admin/accounts/users/karimvanaelst"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c66fd908febeac66a7a04f84a9b2297561325d3">6c66fd9</a></td><td><code>Merge branch 'public/manifolds/point_comparison-23592' of git://trac.sagemath.org/sage into develop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b65b82ed89d598d69ed99b4c794b1f92f0a9b4a">3b65b82</a></td><td><code>Merge branch 'develop' of https://github.com/sagemath/sage into develop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/735915823d7f99bc545a031faef9c43a9d3359e2">7359158</a></td><td><code>Merge branch 'public/manifolds/is_trivial_zero' of git://trac.sagemath.org/sage into develop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41e798a80278ec1a14dba73fabe59009708efe1b">41e798a</a></td><td><code>Fix minor errors in method solve of integrated curves</code></td></tr></table>




---

archive/issue_comments_452197.json:
```json
{
    "body": "**Changing branch** from \"[41e798a80278ec1a14dba73fabe59009708efe1b](https://github.com/sagemath/sagetrac-mirror/commit/41e798a80278ec1a14dba73fabe59009708efe1b)\" to \"[public/manifolds/fix_solve_integrated_curve](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/fix_solve_integrated_curve)\".",
    "created_at": "2017-09-12T08:31:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452197",
    "user": "https://trac.sagemath.org/admin/accounts/users/karimvanaelst"
}
```

**Changing branch** from "[41e798a80278ec1a14dba73fabe59009708efe1b](https://github.com/sagemath/sagetrac-mirror/commit/41e798a80278ec1a14dba73fabe59009708efe1b)" to "[public/manifolds/fix_solve_integrated_curve](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/fix_solve_integrated_curve)".



---

archive/issue_comments_452198.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2017-09-12T08:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452198",
    "user": "https://trac.sagemath.org/admin/accounts/users/karimvanaelst"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_452199.json:
```json
{
    "body": "<a id='comment:3'></a>\nI feel like the fact that the corresponding `solve` function does not numerically evaluate such expressions is a bug that deserves its own ticket and (independent) fix. Subsequently, I would remove those changes that work around it.\n\nI cannot comment on the second point, so someone else will have to review that.",
    "created_at": "2017-09-12T13:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452199",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
I feel like the fact that the corresponding `solve` function does not numerically evaluate such expressions is a bug that deserves its own ticket and (independent) fix. Subsequently, I would remove those changes that work around it.

I cannot comment on the second point, so someone else will have to review that.



---

archive/issue_comments_452200.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe changes look good to me and I agree with[comment:3](#comment%3A3). \n\nBesides, in the documentation of `IntegratedCurve.solve`, shouldn't it be mentioned that the default method (corresponding to `method=None`) is `rk4_maxima`?",
    "created_at": "2017-09-13T08:53:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452200",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:4'></a>
The changes look good to me and I agree with[comment:3](#comment%3A3). 

Besides, in the documentation of `IntegratedCurve.solve`, shouldn't it be mentioned that the default method (corresponding to `method=None`) is `rk4_maxima`?



---

archive/issue_comments_452201.json:
```json
{
    "body": "**Changing commit** from \"[41e798a80278ec1a14dba73fabe59009708efe1b](https://github.com/sagemath/sagetrac-mirror/commit/41e798a80278ec1a14dba73fabe59009708efe1b)\" to \"[06707693602218e555a9b2ffb154981e17622beb](https://github.com/sagemath/sagetrac-mirror/commit/06707693602218e555a9b2ffb154981e17622beb)\".",
    "created_at": "2017-09-13T11:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452201",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[41e798a80278ec1a14dba73fabe59009708efe1b](https://github.com/sagemath/sagetrac-mirror/commit/41e798a80278ec1a14dba73fabe59009708efe1b)" to "[06707693602218e555a9b2ffb154981e17622beb](https://github.com/sagemath/sagetrac-mirror/commit/06707693602218e555a9b2ffb154981e17622beb)".



---

archive/issue_comments_452202.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02e92a3afa94645aedaf5db299e2034be4fbd415\">02e92a3</a></td><td><code>Merge branch 'develop' of https://github.com/sagemath/sage into develop to get latest development sources.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06707693602218e555a9b2ffb154981e17622beb\">0670769</a></td><td><code>Corrections regarding 'rk4_maxima' being the default algorithm of method 'solve'</code></td></tr></table>\n",
    "created_at": "2017-09-13T11:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452202",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02e92a3afa94645aedaf5db299e2034be4fbd415">02e92a3</a></td><td><code>Merge branch 'develop' of https://github.com/sagemath/sage into develop to get latest development sources.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06707693602218e555a9b2ffb154981e17622beb">0670769</a></td><td><code>Corrections regarding 'rk4_maxima' being the default algorithm of method 'solve'</code></td></tr></table>




---

archive/issue_comments_452203.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [git](#comment%3A5):\n\nThank you for your comments.\nCorrections did have to be made about `rk4_maxima` being the default algorithm of method `solve`, and the numerical evaluation of the step is then maintained until another ticket allows to remove it.",
    "created_at": "2017-09-13T11:25:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452203",
    "user": "https://trac.sagemath.org/admin/accounts/users/karimvanaelst"
}
```

<a id='comment:6'></a>
Replying to [git](#comment%3A5):

Thank you for your comments.
Corrections did have to be made about `rk4_maxima` being the default algorithm of method `solve`, and the numerical evaluation of the step is then maintained until another ticket allows to remove it.



---

archive/issue_comments_452204.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n - In method `solve` of class `IntegratedCurve`, the step of integration needs to be evaluated numerically (using `numerical_approx`) before calling any algorithm, in order to allow it to be an expression such as `pi`.\n - In method `solve`, when using Bulirsch-Stoer algorithm ('bsimp'), method `ode_solve` was called in a wrong way.\n - 'Bulirsch' was misspelled in documentation.\n+- Minor corrections were made regarding `rk4_maxima` being the default algorithm of method `solve`.\n``````\n",
    "created_at": "2017-09-13T11:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452204",
    "user": "https://trac.sagemath.org/admin/accounts/users/karimvanaelst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
 - In method `solve` of class `IntegratedCurve`, the step of integration needs to be evaluated numerically (using `numerical_approx`) before calling any algorithm, in order to allow it to be an expression such as `pi`.
 - In method `solve`, when using Bulirsch-Stoer algorithm ('bsimp'), method `ode_solve` was called in a wrong way.
 - 'Bulirsch' was misspelled in documentation.
+- Minor corrections were made regarding `rk4_maxima` being the default algorithm of method `solve`.
``````




---

archive/issue_comments_452205.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-09-13T12:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452205",
    "user": "https://github.com/egourgoulhon"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_452206.json:
```json
{
    "body": "**Reviewer:** Eric Gourgoulhon, Travis Scrimshaw",
    "created_at": "2017-09-13T12:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452206",
    "user": "https://github.com/egourgoulhon"
}
```

**Reviewer:** Eric Gourgoulhon, Travis Scrimshaw



---

archive/issue_comments_452207.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [karimvanaelst](#comment%3A6):\n> Replying to [git](#comment%3A5):\n> \n> Thank you for your comments.\n> Corrections did have to be made about `rk4_maxima` being the default algorithm of method `solve`, and the numerical evaluation of the step is then maintained until another ticket allows to remove it.\n\n\nThanks!",
    "created_at": "2017-09-13T12:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452207",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:8'></a>
Replying to [karimvanaelst](#comment%3A6):
> Replying to [git](#comment%3A5):
> 
> Thank you for your comments.
> Corrections did have to be made about `rk4_maxima` being the default algorithm of method `solve`, and the numerical evaluation of the step is then maintained until another ticket allows to remove it.


Thanks!



---

archive/issue_events_069079.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-18T22:15:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23838#event-69079"
}
```



---

archive/issue_comments_452208.json:
```json
{
    "body": "**Changing branch** from \"[public/manifolds/fix_solve_integrated_curve](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/fix_solve_integrated_curve)\" to \"[06707693602218e555a9b2ffb154981e17622beb](https://github.com/sagemath/sagetrac-mirror/commit/06707693602218e555a9b2ffb154981e17622beb)\".",
    "created_at": "2017-09-18T22:15:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452208",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/manifolds/fix_solve_integrated_curve](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/fix_solve_integrated_curve)" to "[06707693602218e555a9b2ffb154981e17622beb](https://github.com/sagemath/sagetrac-mirror/commit/06707693602218e555a9b2ffb154981e17622beb)".



---

archive/issue_comments_452209.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2017-09-18T22:15:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452209",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed
