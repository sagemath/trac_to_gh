# Issue 23838: Minor errors in integrated curves

archive/issues_023601.json:
```json
{
    "body": "- In method `solve` of class `IntegratedCurve`, the step of integration needs to be evaluated numerically (using `numerical_approx`) before calling any algorithm, in order to allow it to be an expression such as `pi`.\n- In method `solve`, when using Bulirsch-Stoer algorithm ('bsimp'), method `ode_solve` was called in a wrong way.\n- 'Bulirsch' was misspelled in documentation.\n- Minor corrections were made regarding `rk4_maxima` being the default algorithm of method `solve`.\n\nCC:  @egourgoulhon mbejger @man74cio @tscrim\n\nKeywords: curve, manifold\n\nBranch/Commit: [06707693602218e555a9b2ffb154981e17622beb](https://github.com/sagemath/sagetrac-mirror/commit/06707693602218e555a9b2ffb154981e17622beb)\n\nReviewer: Eric Gourgoulhon, Travis Scrimshaw\n\nAuthor: Karim Van Aelst\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23838\n\n",
    "closed_at": "2017-09-18T22:15:16Z",
    "created_at": "2017-09-12T08:26:28Z",
    "labels": [
        "component: geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Minor errors in integrated curves",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23838",
    "user": "https://trac.sagemath.org/admin/accounts/users/karimvanaelst"
}
```
- In method `solve` of class `IntegratedCurve`, the step of integration needs to be evaluated numerically (using `numerical_approx`) before calling any algorithm, in order to allow it to be an expression such as `pi`.
- In method `solve`, when using Bulirsch-Stoer algorithm ('bsimp'), method `ode_solve` was called in a wrong way.
- 'Bulirsch' was misspelled in documentation.
- Minor corrections were made regarding `rk4_maxima` being the default algorithm of method `solve`.

CC:  @egourgoulhon mbejger @man74cio @tscrim

Keywords: curve, manifold

Branch/Commit: [06707693602218e555a9b2ffb154981e17622beb](https://github.com/sagemath/sagetrac-mirror/commit/06707693602218e555a9b2ffb154981e17622beb)

Reviewer: Eric Gourgoulhon, Travis Scrimshaw

Author: Karim Van Aelst

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23838





---

archive/issue_comments_452221.json:
```json
{
    "body": "Changing commit from \"\" to \"41e798a80278ec1a14dba73fabe59009708efe1b\"",
    "created_at": "2017-09-12T08:31:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452221",
    "user": "https://trac.sagemath.org/admin/accounts/users/karimvanaelst"
}
```

Changing commit from "" to "41e798a80278ec1a14dba73fabe59009708efe1b"



---

archive/issue_comments_452222.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                                                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|\n|[6c66fd9](https://github.com/sagemath/sagetrac-mirror/commit/6c66fd908febeac66a7a04f84a9b2297561325d3)|`Merge branch 'public/manifolds/point_comparison-23592' of git://trac.sagemath.org/sage into develop`|\n|[3b65b82](https://github.com/sagemath/sagetrac-mirror/commit/3b65b82ed89d598d69ed99b4c794b1f92f0a9b4a)|`Merge branch 'develop' of https://github.com/sagemath/sage into develop`|\n|[7359158](https://github.com/sagemath/sagetrac-mirror/commit/735915823d7f99bc545a031faef9c43a9d3359e2)|`Merge branch 'public/manifolds/is_trivial_zero' of git://trac.sagemath.org/sage into develop`|\n|[41e798a](https://github.com/sagemath/sagetrac-mirror/commit/41e798a80278ec1a14dba73fabe59009708efe1b)|`Fix minor errors in method solve of integrated curves`|",
    "created_at": "2017-09-12T08:31:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452222",
    "user": "https://trac.sagemath.org/admin/accounts/users/karimvanaelst"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
|[6c66fd9](https://github.com/sagemath/sagetrac-mirror/commit/6c66fd908febeac66a7a04f84a9b2297561325d3)|`Merge branch 'public/manifolds/point_comparison-23592' of git://trac.sagemath.org/sage into develop`|
|[3b65b82](https://github.com/sagemath/sagetrac-mirror/commit/3b65b82ed89d598d69ed99b4c794b1f92f0a9b4a)|`Merge branch 'develop' of https://github.com/sagemath/sage into develop`|
|[7359158](https://github.com/sagemath/sagetrac-mirror/commit/735915823d7f99bc545a031faef9c43a9d3359e2)|`Merge branch 'public/manifolds/is_trivial_zero' of git://trac.sagemath.org/sage into develop`|
|[41e798a](https://github.com/sagemath/sagetrac-mirror/commit/41e798a80278ec1a14dba73fabe59009708efe1b)|`Fix minor errors in method solve of integrated curves`|



---

archive/issue_comments_452223.json:
```json
{
    "body": "Changing branch from \"41e798a80278ec1a14dba73fabe59009708efe1b\" to \"public/manifolds/fix_solve_integrated_curve\"",
    "created_at": "2017-09-12T08:31:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452223",
    "user": "https://trac.sagemath.org/admin/accounts/users/karimvanaelst"
}
```

Changing branch from "41e798a80278ec1a14dba73fabe59009708efe1b" to "public/manifolds/fix_solve_integrated_curve"



---

archive/issue_comments_452224.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-09-12T08:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452224",
    "user": "https://trac.sagemath.org/admin/accounts/users/karimvanaelst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_452225.json:
```json
{
    "body": "<a id='comment:3'></a>\nI feel like the fact that the corresponding `solve` function does not numerically evaluate such expressions is a bug that deserves its own ticket and (independent) fix. Subsequently, I would remove those changes that work around it.\n\nI cannot comment on the second point, so someone else will have to review that.",
    "created_at": "2017-09-12T13:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452225",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
I feel like the fact that the corresponding `solve` function does not numerically evaluate such expressions is a bug that deserves its own ticket and (independent) fix. Subsequently, I would remove those changes that work around it.

I cannot comment on the second point, so someone else will have to review that.



---

archive/issue_comments_452226.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe changes look good to me and I agree with[comment:3](#comment%3A3). \n\nBesides, in the documentation of `IntegratedCurve.solve`, shouldn't it be mentioned that the default method (corresponding to `method=None`) is `rk4_maxima`?",
    "created_at": "2017-09-13T08:53:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452226",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:4'></a>
The changes look good to me and I agree with[comment:3](#comment%3A3). 

Besides, in the documentation of `IntegratedCurve.solve`, shouldn't it be mentioned that the default method (corresponding to `method=None`) is `rk4_maxima`?



---

archive/issue_comments_452227.json:
```json
{
    "body": "Changing commit from \"41e798a80278ec1a14dba73fabe59009708efe1b\" to \"06707693602218e555a9b2ffb154981e17622beb\"",
    "created_at": "2017-09-13T11:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452227",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "41e798a80278ec1a14dba73fabe59009708efe1b" to "06707693602218e555a9b2ffb154981e17622beb"



---

archive/issue_comments_452228.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|\n|[02e92a3](https://github.com/sagemath/sagetrac-mirror/commit/02e92a3afa94645aedaf5db299e2034be4fbd415)|`Merge branch 'develop' of https://github.com/sagemath/sage into develop to get latest development sources.`|\n|[0670769](https://github.com/sagemath/sagetrac-mirror/commit/06707693602218e555a9b2ffb154981e17622beb)|`Corrections regarding 'rk4_maxima' being the default algorithm of method 'solve'`|",
    "created_at": "2017-09-13T11:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452228",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|
|[02e92a3](https://github.com/sagemath/sagetrac-mirror/commit/02e92a3afa94645aedaf5db299e2034be4fbd415)|`Merge branch 'develop' of https://github.com/sagemath/sage into develop to get latest development sources.`|
|[0670769](https://github.com/sagemath/sagetrac-mirror/commit/06707693602218e555a9b2ffb154981e17622beb)|`Corrections regarding 'rk4_maxima' being the default algorithm of method 'solve'`|



---

archive/issue_comments_452229.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [git](#comment%3A5):\n\nThank you for your comments.\nCorrections did have to be made about `rk4_maxima` being the default algorithm of method `solve`, and the numerical evaluation of the step is then maintained until another ticket allows to remove it.",
    "created_at": "2017-09-13T11:25:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452229",
    "user": "https://trac.sagemath.org/admin/accounts/users/karimvanaelst"
}
```

<a id='comment:6'></a>
Replying to [git](#comment%3A5):

Thank you for your comments.
Corrections did have to be made about `rk4_maxima` being the default algorithm of method `solve`, and the numerical evaluation of the step is then maintained until another ticket allows to remove it.



---

archive/issue_comments_452230.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n - In method `solve` of class `IntegratedCurve`, the step of integration needs to be evaluated numerically (using `numerical_approx`) before calling any algorithm, in order to allow it to be an expression such as `pi`.\n - In method `solve`, when using Bulirsch-Stoer algorithm ('bsimp'), method `ode_solve` was called in a wrong way.\n - 'Bulirsch' was misspelled in documentation.\n+- Minor corrections were made regarding `rk4_maxima` being the default algorithm of method `solve`.\n``````\n",
    "created_at": "2017-09-13T11:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452230",
    "user": "https://trac.sagemath.org/admin/accounts/users/karimvanaelst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
 - In method `solve` of class `IntegratedCurve`, the step of integration needs to be evaluated numerically (using `numerical_approx`) before calling any algorithm, in order to allow it to be an expression such as `pi`.
 - In method `solve`, when using Bulirsch-Stoer algorithm ('bsimp'), method `ode_solve` was called in a wrong way.
 - 'Bulirsch' was misspelled in documentation.
+- Minor corrections were made regarding `rk4_maxima` being the default algorithm of method `solve`.
``````




---

archive/issue_comments_452231.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-09-13T12:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452231",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_452232.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Eric Gourgoulhon, Travis Scrimshaw\"",
    "created_at": "2017-09-13T12:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452232",
    "user": "https://github.com/egourgoulhon"
}
```

Changing reviewer from "" to "Eric Gourgoulhon, Travis Scrimshaw"



---

archive/issue_comments_452233.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [karimvanaelst](#comment%3A6):\n> Replying to [git](#comment%3A5):\n> \n> Thank you for your comments.\n> Corrections did have to be made about `rk4_maxima` being the default algorithm of method `solve`, and the numerical evaluation of the step is then maintained until another ticket allows to remove it.\n\n\nThanks!",
    "created_at": "2017-09-13T12:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452233",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:8'></a>
Replying to [karimvanaelst](#comment%3A6):
> Replying to [git](#comment%3A5):
> 
> Thank you for your comments.
> Corrections did have to be made about `rk4_maxima` being the default algorithm of method `solve`, and the numerical evaluation of the step is then maintained until another ticket allows to remove it.


Thanks!



---

archive/issue_events_069079.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-18T22:15:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23838#event-69079"
}
```



---

archive/issue_comments_452234.json:
```json
{
    "body": "Changing branch from \"public/manifolds/fix_solve_integrated_curve\" to \"06707693602218e555a9b2ffb154981e17622beb\"",
    "created_at": "2017-09-18T22:15:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452234",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/manifolds/fix_solve_integrated_curve" to "06707693602218e555a9b2ffb154981e17622beb"



---

archive/issue_comments_452235.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-09-18T22:15:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23838#issuecomment-452235",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
