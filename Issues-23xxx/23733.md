# Issue 23733: Stop supporting SAGE64 and CFLAG64

archive/issues_023496.json:
```json
{
    "assignees": [],
    "body": "I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, `SAGE64` should simply be replaced by adding `-m64` in `$CC` or `$CFLAGS` and maybe setting `ABI=64`. See #24596.\n\nSince `CFLAG64` is only used to support `SAGE64`, this implies that `CFLAG64` is no longer used either.\n\nCC:  @dimpase\n\nBranch/Commit: **[905e4d4](https://github.com/sagemath/sagetrac-mirror/commit/905e4d44a3da6d0265c9d2ae24d19691f40c0458)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **John Palmieri, Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23733_\n\n",
    "closed_at": "2018-05-08T17:27:12Z",
    "created_at": "2017-08-28T03:25:44Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Stop supporting SAGE64 and CFLAG64",
    "type": "issue",
    "updated_at": "2018-05-08T17:27:12Z",
    "url": "https://github.com/sagemath/sage/issues/23733",
    "user": "https://github.com/mkoeppe"
}
```
I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, `SAGE64` should simply be replaced by adding `-m64` in `$CC` or `$CFLAGS` and maybe setting `ABI=64`. See #24596.

Since `CFLAG64` is only used to support `SAGE64`, this implies that `CFLAG64` is no longer used either.

CC:  @dimpase

Branch/Commit: **[905e4d4](https://github.com/sagemath/sagetrac-mirror/commit/905e4d44a3da6d0265c9d2ae24d19691f40c0458)**

Reviewer: **Dima Pasechnik**

Author: **John Palmieri, Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/23733_





---

archive/issue_events_311930.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-08-28T03:25:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311930"
}
```



---

archive/issue_events_311931.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-08-28T03:25:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311931"
}
```



---

archive/issue_events_311932.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-08-28T03:25:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311932"
}
```



---

archive/issue_events_311933.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-08-28T03:25:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311933"
}
```



---

archive/issue_comments_360666.json:
```json
{
    "body": "Replying to [ticket:23733 mkoeppe]:\n> Instead, SAGE64 should become a configure option (see #23570).\n\nIs anybody actually using that option? I would go for deprecating it and getting rid of it eventually.",
    "created_at": "2017-08-28T10:40:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360666",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:23733 mkoeppe]:
> Instead, SAGE64 should become a configure option (see #23570).

Is anybody actually using that option? I would go for deprecating it and getting rid of it eventually.



---

archive/issue_comments_360667.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nReplying to [@jdemeyer](#comment%3A1):\n> Is anybody actually using that option? I would go for deprecating it and getting rid of it eventually.\n\nGood idea. Should as well get rid of it in the installation manual eventually (it mentions some ancient Mac OS versions, for which probably no working build infrastructure exists any more anyway).",
    "created_at": "2017-08-29T18:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360667",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'>Comment 2:</a>
Replying to [@jdemeyer](#comment%3A1):
> Is anybody actually using that option? I would go for deprecating it and getting rid of it eventually.

Good idea. Should as well get rid of it in the installation manual eventually (it mentions some ancient Mac OS versions, for which probably no working build infrastructure exists any more anyway).



---

archive/issue_comments_360668.json:
```json
{
    "body": "Branch: **[u/jhpalmieri/no-sage64](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/no-sage64)**",
    "created_at": "2017-09-01T22:34:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360668",
    "user": "https://github.com/jhpalmieri"
}
```

Branch: **[u/jhpalmieri/no-sage64](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/no-sage64)**



---

archive/issue_comments_360669.json:
```json
{
    "body": "Commit: **[9b58204](https://github.com/sagemath/sagetrac-mirror/commit/9b58204f1c96dabb69b8b7424ce9f69b283cadfb)**",
    "created_at": "2017-09-01T22:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360669",
    "user": "https://github.com/jhpalmieri"
}
```

Commit: **[9b58204](https://github.com/sagemath/sagetrac-mirror/commit/9b58204f1c96dabb69b8b7424ce9f69b283cadfb)**



---

archive/issue_comments_360670.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nI added two deprecation warnings: once at the beginning and once at the end of the file `build/make/install`: at the beginning so that it appears near the start and is there if someone interrupts the build with ctrl-C, and at the end so that it is clearly displayed. (If I put it in `sage-arch-env` instead, it gets buried with all of the other build messages.) I tested with `SAGE64=yes make`.\n\nI asked on sage-devel whether anyone is using this. Let's wait a bit for responses.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b58204f1c96dabb69b8b7424ce9f69b283cadfb\">9b58204</a></td><td><code>trac 23733: deprecate SAGE64 and CFLAG64</code></td></tr></table>\n",
    "created_at": "2017-09-01T22:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360670",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'>Comment 4:</a>
I added two deprecation warnings: once at the beginning and once at the end of the file `build/make/install`: at the beginning so that it appears near the start and is there if someone interrupts the build with ctrl-C, and at the end so that it is clearly displayed. (If I put it in `sage-arch-env` instead, it gets buried with all of the other build messages.) I tested with `SAGE64=yes make`.

I asked on sage-devel whether anyone is using this. Let's wait a bit for responses.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b58204f1c96dabb69b8b7424ce9f69b283cadfb">9b58204</a></td><td><code>trac 23733: deprecate SAGE64 and CFLAG64</code></td></tr></table>




---

archive/issue_comments_360671.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nFrom the few responses on sage-devel so far, I think that SAGE64 is only useful on Solaris. Do we keep the variable? (Do we keep \"supporting\" Solaris?) Can it be merged into some configure option, in which the system type is detected and `-m64` is added to the appropriate flags automatically?",
    "created_at": "2017-09-02T20:52:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360671",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'>Comment 5:</a>
From the few responses on sage-devel so far, I think that SAGE64 is only useful on Solaris. Do we keep the variable? (Do we keep "supporting" Solaris?) Can it be merged into some configure option, in which the system type is detected and `-m64` is added to the appropriate flags automatically?



---

archive/issue_comments_360672.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nI don't believe that SAGE64 only adds -m64, as if that had been the case, there are obviously easier ways to do it. Adding -m64 is the case in some packages, but not all of them. \n\nDave",
    "created_at": "2017-09-11T13:54:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360672",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:6'>Comment 6:</a>
I don't believe that SAGE64 only adds -m64, as if that had been the case, there are obviously easier ways to do it. Adding -m64 is the case in some packages, but not all of them. 

Dave



---

archive/issue_comments_360673.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nWe now have access to a SPARC T4 running Solaris 11, things don't look too bad for Solaris at the moment. I've opened #24596 to track this.",
    "created_at": "2018-01-26T14:59:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360673",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'>Comment 7:</a>
We now have access to a SPARC T4 running Solaris 11, things don't look too bad for Solaris at the moment. I've opened #24596 to track this.



---

archive/issue_events_311934.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-30T11:36:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311934"
}
```



---

archive/issue_events_311935.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-30T11:36:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311935"
}
```



---

archive/issue_events_311936.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-30T11:36:11Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "title_is": "Stop supporting SAGE64",
    "title_was": "Get rid of src/bin/sage-arch-env, SAGE_LOCAL/etc/sage-64.txt",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311936"
}
```



---

archive/issue_comments_360674.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1 @@\n-I propose to get rid of src/bin/sage-arch-env, SAGE_LOCAL/etc/sage-64.txt, \n-which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL.\n-Instead, SAGE64 should become a configure option (see #23570).\n-\n-\n+I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, SAGE64 should simply be replaced by adding `-m64` in `$CFLAGS`. See #24596.\n``````\n",
    "created_at": "2018-01-30T11:36:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360674",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1 @@
-I propose to get rid of src/bin/sage-arch-env, SAGE_LOCAL/etc/sage-64.txt, 
-which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL.
-Instead, SAGE64 should become a configure option (see #23570).
-
-
+I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, SAGE64 should simply be replaced by adding `-m64` in `$CFLAGS`. See #24596.
``````




---

archive/issue_comments_360675.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, SAGE64 should simply be replaced by adding `-m64` in `$CFLAGS`. See #24596.\n+I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, SAGE64 should simply be replaced by adding `-m64` in `$CFLAGS` and maybe setting `ABI=64`. See #24596.\n``````\n",
    "created_at": "2018-01-30T14:20:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360675",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, SAGE64 should simply be replaced by adding `-m64` in `$CFLAGS`. See #24596.
+I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, SAGE64 should simply be replaced by adding `-m64` in `$CFLAGS` and maybe setting `ABI=64`. See #24596.
``````




---

archive/issue_comments_360676.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2018-01-30T14:20:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360676",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_360677.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/no-sage64](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/no-sage64)** to **[u/jdemeyer/no-sage64](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/no-sage64)**",
    "created_at": "2018-01-30T14:23:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360677",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/jhpalmieri/no-sage64](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/no-sage64)** to **[u/jdemeyer/no-sage64](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/no-sage64)**



---

archive/issue_comments_360678.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, SAGE64 should simply be replaced by adding `-m64` in `$CFLAGS` and maybe setting `ABI=64`. See #24596.\n+I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, SAGE64 should simply be replaced by adding `-m64` in `$CC` or `$CFLAGS` and maybe setting `ABI=64`. See #24596.\n``````\n",
    "created_at": "2018-01-30T14:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360678",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, SAGE64 should simply be replaced by adding `-m64` in `$CFLAGS` and maybe setting `ABI=64`. See #24596.
+I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, SAGE64 should simply be replaced by adding `-m64` in `$CC` or `$CFLAGS` and maybe setting `ABI=64`. See #24596.
``````




---

archive/issue_comments_360679.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6eeec43e79c4727004140460e73bdb493ab70cc5\">6eeec43</a></td><td><code>trac 23733: deprecate SAGE64 and CFLAG64</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ad41abda20e2c5fac12e2f78a12e66ac10f6d1b\">0ad41ab</a></td><td><code>Stop supporting SAGE64</code></td></tr></table>\n",
    "created_at": "2018-01-30T14:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360679",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'>Comment 11:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6eeec43e79c4727004140460e73bdb493ab70cc5">6eeec43</a></td><td><code>trac 23733: deprecate SAGE64 and CFLAG64</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ad41abda20e2c5fac12e2f78a12e66ac10f6d1b">0ad41ab</a></td><td><code>Stop supporting SAGE64</code></td></tr></table>




---

archive/issue_comments_360680.json:
```json
{
    "body": "Changed commit from **[9b58204](https://github.com/sagemath/sagetrac-mirror/commit/9b58204f1c96dabb69b8b7424ce9f69b283cadfb)** to **[0ad41ab](https://github.com/sagemath/sagetrac-mirror/commit/0ad41abda20e2c5fac12e2f78a12e66ac10f6d1b)**",
    "created_at": "2018-01-30T14:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360680",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[9b58204](https://github.com/sagemath/sagetrac-mirror/commit/9b58204f1c96dabb69b8b7424ce9f69b283cadfb)** to **[0ad41ab](https://github.com/sagemath/sagetrac-mirror/commit/0ad41abda20e2c5fac12e2f78a12e66ac10f6d1b)**



---

archive/issue_comments_360681.json:
```json
{
    "body": "Changed commit from **[0ad41ab](https://github.com/sagemath/sagetrac-mirror/commit/0ad41abda20e2c5fac12e2f78a12e66ac10f6d1b)** to **[fbd7fee](https://github.com/sagemath/sagetrac-mirror/commit/fbd7feeb6a6346d5d57cd8a741ef6730ff791686)**",
    "created_at": "2018-01-30T18:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360681",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0ad41ab](https://github.com/sagemath/sagetrac-mirror/commit/0ad41abda20e2c5fac12e2f78a12e66ac10f6d1b)** to **[fbd7fee](https://github.com/sagemath/sagetrac-mirror/commit/fbd7feeb6a6346d5d57cd8a741ef6730ff791686)**



---

archive/issue_comments_360682.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbd7feeb6a6346d5d57cd8a741ef6730ff791686\">fbd7fee</a></td><td><code>Stop supporting SAGE64</code></td></tr></table>\n",
    "created_at": "2018-01-30T18:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360682",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>Comment 12:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbd7feeb6a6346d5d57cd8a741ef6730ff791686">fbd7fee</a></td><td><code>Stop supporting SAGE64</code></td></tr></table>




---

archive/issue_comments_360683.json:
```json
{
    "body": "Changed author from **Jeroen Demeyer** to **John Palmieri, Jeroen Demeyer**",
    "created_at": "2018-01-31T06:33:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360683",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Jeroen Demeyer** to **John Palmieri, Jeroen Demeyer**



---

archive/issue_events_311937.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-01-31T06:33:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311937"
}
```



---

archive/issue_comments_360684.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nDo we need ABI=64 set on Solaris 64-bit, or not?",
    "created_at": "2018-01-31T12:59:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360684",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'>Comment 14:</a>
Do we need ABI=64 set on Solaris 64-bit, or not?



---

archive/issue_comments_360685.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nReplying to [@dimpase](#comment%3A14):\n> Do we need ABI=64 set on Solaris 64-bit, or not?\n\nNo idea. So far I have *not* been setting it and it seems to work like that.",
    "created_at": "2018-01-31T13:41:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360685",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'>Comment 15:</a>
Replying to [@dimpase](#comment%3A14):
> Do we need ABI=64 set on Solaris 64-bit, or not?

No idea. So far I have *not* been setting it and it seems to work like that.



---

archive/issue_comments_360686.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, SAGE64 should simply be replaced by adding `-m64` in `$CC` or `$CFLAGS` and maybe setting `ABI=64`. See #24596.\n+I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, `SAGE64` should simply be replaced by adding `-m64` in `$CC` or `$CFLAGS` and maybe setting `ABI=64`. See #24596.\n``````\n",
    "created_at": "2018-02-03T19:58:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360686",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, SAGE64 should simply be replaced by adding `-m64` in `$CC` or `$CFLAGS` and maybe setting `ABI=64`. See #24596.
+I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, `SAGE64` should simply be replaced by adding `-m64` in `$CC` or `$CFLAGS` and maybe setting `ABI=64`. See #24596.
``````




---

archive/issue_comments_360687.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\n(Disclaimer: Last time I used Solaris was 10 years ago.)  The only time that I remember using the ABI environment variable was for configuring GMP if one wants to do a 32-bit build on 64-bit hardware - a quirk of GMP's configuration scripts. I don't think it's a standard variable at all.",
    "created_at": "2018-02-03T20:41:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360687",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'>Comment 17:</a>
(Disclaimer: Last time I used Solaris was 10 years ago.)  The only time that I remember using the ABI environment variable was for configuring GMP if one wants to do a 32-bit build on 64-bit hardware - a quirk of GMP's configuration scripts. I don't think it's a standard variable at all.



---

archive/issue_comments_360688.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nA proper way to do this is to allow something like `--abi=32/64` (or `ABI=32/64`) to `./configure`, and\nnot doing dodgy and error-prone setting of  `CFLAGS`, `CXXFLAGS`, `FCFLAGS`, `FFLAGS`, `LDFLAGS`, etc etc\nto take `-m64/32`.\n\nIn particular, ABI and `-m64` should persist, i.e. written by `./configure` to the Makefile or something like this.",
    "created_at": "2018-02-03T23:06:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360688",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'>Comment 18:</a>
A proper way to do this is to allow something like `--abi=32/64` (or `ABI=32/64`) to `./configure`, and
not doing dodgy and error-prone setting of  `CFLAGS`, `CXXFLAGS`, `FCFLAGS`, `FFLAGS`, `LDFLAGS`, etc etc
to take `-m64/32`.

In particular, ABI and `-m64` should persist, i.e. written by `./configure` to the Makefile or something like this.



---

archive/issue_comments_360689.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nAs well, numpy's (and all the other packages that like to test stuff without `CFLAGS` etc set to non-empty values) spkg-install will break, as `-m64` won't be passed. \nThe current version of this spkg-install modifies `CC` to include the flag.\n\nWe cannot and should not modify `CC` globally to have flags in them, as there might be places where `CC` is assumed not to have spaces (GAP is one such place, I think).",
    "created_at": "2018-02-03T23:26:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360689",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'>Comment 19:</a>
As well, numpy's (and all the other packages that like to test stuff without `CFLAGS` etc set to non-empty values) spkg-install will break, as `-m64` won't be passed. 
The current version of this spkg-install modifies `CC` to include the flag.

We cannot and should not modify `CC` globally to have flags in them, as there might be places where `CC` is assumed not to have spaces (GAP is one such place, I think).



---

archive/issue_comments_360690.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2018-02-03T23:28:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360690",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_311938.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-03T23:28:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311938"
}
```



---

archive/issue_events_311939.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-02-03T23:28:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311939"
}
```



---

archive/issue_comments_360691.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReplying to [@dimpase](#comment%3A18):\n> dodgy and error-prone setting of  `CFLAGS`, `CXXFLAGS`, `FCFLAGS`, `FFLAGS`, `LDFLAGS`, etc etc to take `-m64/32`.\n\nThese are very standard flags. Setting them is a normal thing.",
    "created_at": "2018-02-04T12:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360691",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'>Comment 21:</a>
Replying to [@dimpase](#comment%3A18):
> dodgy and error-prone setting of  `CFLAGS`, `CXXFLAGS`, `FCFLAGS`, `FFLAGS`, `LDFLAGS`, etc etc to take `-m64/32`.

These are very standard flags. Setting them is a normal thing.



---

archive/issue_comments_360692.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nReplying to [@dimpase](#comment%3A18):\n> A proper way to do this is to allow something like `--abi=32/64` (or `ABI=32/64`) to `./configure`\n> \n> In particular, ABI and `-m64` should persist, i.e. written by `./configure` to the Makefile or something like this.\n\nOf course. But adding `./configure` options is outside the scope of this ticket. This ticket is about removing something which is unmaintained and almost certainly broken.",
    "created_at": "2018-02-04T12:15:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360692",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'>Comment 22:</a>
Replying to [@dimpase](#comment%3A18):
> A proper way to do this is to allow something like `--abi=32/64` (or `ABI=32/64`) to `./configure`
> 
> In particular, ABI and `-m64` should persist, i.e. written by `./configure` to the Makefile or something like this.

Of course. But adding `./configure` options is outside the scope of this ticket. This ticket is about removing something which is unmaintained and almost certainly broken.



---

archive/issue_events_311940.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-04T12:15:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311940"
}
```



---

archive/issue_events_311941.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-04T12:15:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311941"
}
```



---

archive/issue_comments_360693.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nReplying to [@dimpase](#comment%3A19):\n> As well, numpy's (and all the other packages that like to test stuff without `CFLAGS` etc set to non-empty values) spkg-install will break, as `-m64` won't be passed. \n> The current version of this spkg-install modifies `CC` to include the flag.\n> \n> We cannot and should not modify `CC` globally to have flags in them, as there might be places where `CC` is assumed not to have spaces (GAP is one such place, I think).  \n\nI would argue that it's simply better to build/use a GCC version which has the correct flags *by default*.",
    "created_at": "2018-02-04T12:28:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360693",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'>Comment 23:</a>
Replying to [@dimpase](#comment%3A19):
> As well, numpy's (and all the other packages that like to test stuff without `CFLAGS` etc set to non-empty values) spkg-install will break, as `-m64` won't be passed. 
> The current version of this spkg-install modifies `CC` to include the flag.
> 
> We cannot and should not modify `CC` globally to have flags in them, as there might be places where `CC` is assumed not to have spaces (GAP is one such place, I think).  

I would argue that it's simply better to build/use a GCC version which has the correct flags *by default*.



---

archive/issue_comments_360694.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nthis patch makes it impossible to build Sage in one go. I  have already explained why, cause you cannot set CC to `gcc -m64` as this will break GAP, but otherwise you will break numpy...",
    "created_at": "2018-02-04T12:44:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360694",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'>Comment 24:</a>
this patch makes it impossible to build Sage in one go. I  have already explained why, cause you cannot set CC to `gcc -m64` as this will break GAP, but otherwise you will break numpy...



---

archive/issue_comments_360695.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nReplying to [@dimpase](#comment%3A24):\n> this patch makes it impossible to build Sage in one go.\n\nFirst of all, I don't know what you mean with \"build Sage in one go\".\n\nSecond, regardless of what you mean: is it a regression? Suppose that the following are true:\n\n(A) It is impossible to build Sage in one go *without* this patch.\n\n(B) It is impossible to build Sage in one go *with* this patch.\n\nIn these are both true (since I don't know what you mean, I can't say whether that is the case), then your complaint is not meaningful.",
    "created_at": "2018-02-04T13:36:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360695",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'>Comment 25:</a>
Replying to [@dimpase](#comment%3A24):
> this patch makes it impossible to build Sage in one go.

First of all, I don't know what you mean with "build Sage in one go".

Second, regardless of what you mean: is it a regression? Suppose that the following are true:

(A) It is impossible to build Sage in one go *without* this patch.

(B) It is impossible to build Sage in one go *with* this patch.

In these are both true (since I don't know what you mean, I can't say whether that is the case), then your complaint is not meaningful.



---

archive/issue_comments_360696.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nI am saying that with this patch on a platform that needs SAGE64 set one will not be able to get Sage built by running configure+make.\n\n\nThe build will break, at some point you will need to build individual packages with adjusted flags.",
    "created_at": "2018-02-04T15:50:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360696",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'>Comment 26:</a>
I am saying that with this patch on a platform that needs SAGE64 set one will not be able to get Sage built by running configure+make.


The build will break, at some point you will need to build individual packages with adjusted flags.



---

archive/issue_comments_360697.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nReplying to [@dimpase](#comment%3A26):\n> I am saying that with this patch on a platform that needs SAGE64 set one will not be able to get Sage built by running configure+make.\n\nOK. I am saying that **without this patch** on a platform that needs `SAGE64` set one will not be able to get Sage built by running configure+make. So, this patch doesn't break anything that wasn't already broken before.",
    "created_at": "2018-02-05T07:58:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360697",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'>Comment 27:</a>
Replying to [@dimpase](#comment%3A26):
> I am saying that with this patch on a platform that needs SAGE64 set one will not be able to get Sage built by running configure+make.

OK. I am saying that **without this patch** on a platform that needs `SAGE64` set one will not be able to get Sage built by running configure+make. So, this patch doesn't break anything that wasn't already broken before.



---

archive/issue_comments_360698.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nI am saying that it breaks more than it fixes, e.g. it removes all the traces of the fact that numpy needs a special treatment.",
    "created_at": "2018-02-05T08:02:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360698",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'>Comment 28:</a>
I am saying that it breaks more than it fixes, e.g. it removes all the traces of the fact that numpy needs a special treatment.



---

archive/issue_comments_360699.json:
```json
{
    "body": "Changed commit from **[fbd7fee](https://github.com/sagemath/sagetrac-mirror/commit/fbd7feeb6a6346d5d57cd8a741ef6730ff791686)** to **[9f5a57f](https://github.com/sagemath/sagetrac-mirror/commit/9f5a57fe906f1ddd7bcf6ed0bf57263824f3265e)**",
    "created_at": "2018-02-05T08:19:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360699",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fbd7fee](https://github.com/sagemath/sagetrac-mirror/commit/fbd7feeb6a6346d5d57cd8a741ef6730ff791686)** to **[9f5a57f](https://github.com/sagemath/sagetrac-mirror/commit/9f5a57fe906f1ddd7bcf6ed0bf57263824f3265e)**



---

archive/issue_comments_360700.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f5a57fe906f1ddd7bcf6ed0bf57263824f3265e\">9f5a57f</a></td><td><code>Keep SAGE64 for numpy</code></td></tr></table>\n",
    "created_at": "2018-02-05T08:19:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360700",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:29'>Comment 29:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f5a57fe906f1ddd7bcf6ed0bf57263824f3265e">9f5a57f</a></td><td><code>Keep SAGE64 for numpy</code></td></tr></table>




---

archive/issue_comments_360701.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nOK fine. I've kept the special-casing for numpy.",
    "created_at": "2018-02-05T08:19:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360701",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'>Comment 30:</a>
OK fine. I've kept the special-casing for numpy.



---

archive/issue_comments_360702.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nIn Atlas configuration you did the following:\n\n```\n-conf['32bit?'] = not conf['64bit?']\n+conf['64bit?'] = (conf['bits'] == '64bit')\n+conf['32bit?'] = (conf['bits'] == '32bit')\n```\nThis is a different logic for `conf['32bit?']` vs. the originally intended one.\nBy right, you should have just done\n\n```\n+conf['64bit?'] = (conf['bits'] == '64bit')\nconf['32bit?'] = not conf['64bit?']\n...\n\n```",
    "created_at": "2018-02-05T10:59:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360702",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'>Comment 31:</a>
In Atlas configuration you did the following:

```
-conf['32bit?'] = not conf['64bit?']
+conf['64bit?'] = (conf['bits'] == '64bit')
+conf['32bit?'] = (conf['bits'] == '32bit')
```
This is a different logic for `conf['32bit?']` vs. the originally intended one.
By right, you should have just done

```
+conf['64bit?'] = (conf['bits'] == '64bit')
conf['32bit?'] = not conf['64bit?']
...

```



---

archive/issue_comments_360703.json:
```json
{
    "body": "Changed commit from **[9f5a57f](https://github.com/sagemath/sagetrac-mirror/commit/9f5a57fe906f1ddd7bcf6ed0bf57263824f3265e)** to **[a66a32e](https://github.com/sagemath/sagetrac-mirror/commit/a66a32e9acf36ab6038491a29aeb4690e6c793af)**",
    "created_at": "2018-02-05T11:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360703",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9f5a57f](https://github.com/sagemath/sagetrac-mirror/commit/9f5a57fe906f1ddd7bcf6ed0bf57263824f3265e)** to **[a66a32e](https://github.com/sagemath/sagetrac-mirror/commit/a66a32e9acf36ab6038491a29aeb4690e6c793af)**



---

archive/issue_comments_360704.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a66a32e9acf36ab6038491a29aeb4690e6c793af\">a66a32e</a></td><td><code>Revert 32bit configuration</code></td></tr></table>\n",
    "created_at": "2018-02-05T11:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360704",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'>Comment 32:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a66a32e9acf36ab6038491a29aeb4690e6c793af">a66a32e</a></td><td><code>Revert 32bit configuration</code></td></tr></table>




---

archive/issue_comments_360705.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nThis reverts the ATLAS logic.",
    "created_at": "2018-02-05T11:03:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360705",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:33'>Comment 33:</a>
This reverts the ATLAS logic.



---

archive/issue_comments_360706.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nWhat does this patch do to CFLAG64? (which is a documented Sage variable after all).\n\nIt's not clear. The ticket description does not mention it, but in several places\nyou remove special-casing for it.",
    "created_at": "2018-02-05T11:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360706",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:34'>Comment 34:</a>
What does this patch do to CFLAG64? (which is a documented Sage variable after all).

It's not clear. The ticket description does not mention it, but in several places
you remove special-casing for it.



---

archive/issue_events_311942.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-05T11:09:35Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "title_is": "Stop supporting SAGE64 and CFLAG64",
    "title_was": "Stop supporting SAGE64",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311942"
}
```



---

archive/issue_comments_360707.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, `SAGE64` should simply be replaced by adding `-m64` in `$CC` or `$CFLAGS` and maybe setting `ABI=64`. See #24596.\n+\n+Since `CFLAG64` is only used to support `SAGE64`, this implies that `CFLAG64` is no longer used either.\n``````\n",
    "created_at": "2018-02-05T11:18:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360707",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 I propose to get rid of `src/bin/sage-arch-env` and `$SAGE_LOCAL/etc/sage-64.txt`, which is a very specialized mechanism of storing a bit of configuration in SAGE_LOCAL. Instead, `SAGE64` should simply be replaced by adding `-m64` in `$CC` or `$CFLAGS` and maybe setting `ABI=64`. See #24596.
+
+Since `CFLAG64` is only used to support `SAGE64`, this implies that `CFLAG64` is no longer used either.
``````




---

archive/issue_comments_360708.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a662f7553a8f9d6565501919fb3d10517a19482\">9a662f7</a></td><td><code>trac 23733: deprecate SAGE64 and CFLAG64</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ded617f86815657dded89ab7e5801d383cf67ecf\">ded617f</a></td><td><code>Stop supporting SAGE64 except in Numpy</code></td></tr></table>\n",
    "created_at": "2018-02-06T11:40:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360708",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:37'>Comment 37:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a662f7553a8f9d6565501919fb3d10517a19482">9a662f7</a></td><td><code>trac 23733: deprecate SAGE64 and CFLAG64</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ded617f86815657dded89ab7e5801d383cf67ecf">ded617f</a></td><td><code>Stop supporting SAGE64 except in Numpy</code></td></tr></table>




---

archive/issue_comments_360709.json:
```json
{
    "body": "Changed commit from **[a66a32e](https://github.com/sagemath/sagetrac-mirror/commit/a66a32e9acf36ab6038491a29aeb4690e6c793af)** to **[ded617f](https://github.com/sagemath/sagetrac-mirror/commit/ded617f86815657dded89ab7e5801d383cf67ecf)**",
    "created_at": "2018-02-06T11:40:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360709",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a66a32e](https://github.com/sagemath/sagetrac-mirror/commit/a66a32e9acf36ab6038491a29aeb4690e6c793af)** to **[ded617f](https://github.com/sagemath/sagetrac-mirror/commit/ded617f86815657dded89ab7e5801d383cf67ecf)**



---

archive/issue_comments_360710.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nReplying to [@dimpase](#comment%3A18):\n> A proper way to do this is to allow something like `--abi=32/64` (or `ABI=32/64`) to `./configure`\n\nI created #24672 for that.",
    "created_at": "2018-02-06T16:15:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360710",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:38'>Comment 38:</a>
Replying to [@dimpase](#comment%3A18):
> A proper way to do this is to allow something like `--abi=32/64` (or `ABI=32/64`) to `./configure`

I created #24672 for that.



---

archive/issue_comments_360711.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nSince the work I'm doing in #24024 will likely conflict heavily with this, I'm trying to remove SAGE64 support from individual packages as I go.  So that work can basically merged with this.  I'll try to pay attention to what changes this is making to the relevant packages.\n\nAlternatively we merge this now, and I rebase everything on top of this.",
    "created_at": "2018-03-28T10:01:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360711",
    "user": "https://github.com/embray"
}
```

<a id='comment:39'>Comment 39:</a>
Since the work I'm doing in #24024 will likely conflict heavily with this, I'm trying to remove SAGE64 support from individual packages as I go.  So that work can basically merged with this.  I'll try to pay attention to what changes this is making to the relevant packages.

Alternatively we merge this now, and I rebase everything on top of this.



---

archive/issue_comments_360712.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nAlso, if you would prefer to just do the latter, then positive review from me.",
    "created_at": "2018-03-28T10:25:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360712",
    "user": "https://github.com/embray"
}
```

<a id='comment:40'>Comment 40:</a>
Also, if you would prefer to just do the latter, then positive review from me.



---

archive/issue_comments_360713.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nI suppose this needs a bit more testing. Should we try to put together a new branch for Solaris and try this out there?",
    "created_at": "2018-03-28T11:11:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360713",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:41'>Comment 41:</a>
I suppose this needs a bit more testing. Should we try to put together a new branch for Solaris and try this out there?



---

archive/issue_comments_360714.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4ecda96068fe21d37277e36d631af3b4ee20ea0\">b4ecda9</a></td><td><code>trac 23733: deprecate SAGE64 and CFLAG64</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/905e4d44a3da6d0265c9d2ae24d19691f40c0458\">905e4d4</a></td><td><code>Stop supporting SAGE64 except in Numpy</code></td></tr></table>\n",
    "created_at": "2018-03-29T12:34:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360714",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:42'>Comment 42:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4ecda96068fe21d37277e36d631af3b4ee20ea0">b4ecda9</a></td><td><code>trac 23733: deprecate SAGE64 and CFLAG64</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/905e4d44a3da6d0265c9d2ae24d19691f40c0458">905e4d4</a></td><td><code>Stop supporting SAGE64 except in Numpy</code></td></tr></table>




---

archive/issue_comments_360715.json:
```json
{
    "body": "Changed commit from **[ded617f](https://github.com/sagemath/sagetrac-mirror/commit/ded617f86815657dded89ab7e5801d383cf67ecf)** to **[905e4d4](https://github.com/sagemath/sagetrac-mirror/commit/905e4d44a3da6d0265c9d2ae24d19691f40c0458)**",
    "created_at": "2018-03-29T12:34:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360715",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ded617f](https://github.com/sagemath/sagetrac-mirror/commit/ded617f86815657dded89ab7e5801d383cf67ecf)** to **[905e4d4](https://github.com/sagemath/sagetrac-mirror/commit/905e4d44a3da6d0265c9d2ae24d19691f40c0458)**



---

archive/issue_comments_360716.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nReplying to [@dimpase](#comment%3A41):\n> I suppose this needs a bit more testing. Should we try to put together a new branch for Solaris and try this out there?\n\nFine, I just rebased it to 8.2.rc0.",
    "created_at": "2018-03-29T12:35:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360716",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:43'>Comment 43:</a>
Replying to [@dimpase](#comment%3A41):
> I suppose this needs a bit more testing. Should we try to put together a new branch for Solaris and try this out there?

Fine, I just rebased it to 8.2.rc0.



---

archive/issue_comments_360717.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nOK, this works on 64-bit SPARC Solaris.",
    "created_at": "2018-03-31T19:42:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360717",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:44'>Comment 44:</a>
OK, this works on 64-bit SPARC Solaris.



---

archive/issue_events_311943.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-03-31T19:42:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311943"
}
```



---

archive/issue_events_311944.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-03-31T19:42:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311944"
}
```



---

archive/issue_comments_360718.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nJust as a note, this will currently conflict with most of the tickets listed under\n\n[This is the Trac macro *TicketQuery* that was inherited from the migration called with arguments (keywords~=destdir))](https://trac.sagemath.org/wiki/WikiMacros#TicketQuery-macro)\n\nHowever, I will merge this branch into those tickets and add this ticket as a dependency.  This one should definitely be merged first though.",
    "created_at": "2018-04-04T08:02:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360718",
    "user": "https://github.com/embray"
}
```

<a id='comment:45'>Comment 45:</a>
Just as a note, this will currently conflict with most of the tickets listed under

[This is the Trac macro *TicketQuery* that was inherited from the migration called with arguments (keywords~=destdir))](https://trac.sagemath.org/wiki/WikiMacros#TicketQuery-macro)

However, I will merge this branch into those tickets and add this ticket as a dependency.  This one should definitely be merged first though.



---

archive/issue_comments_360719.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/no-sage64](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/no-sage64)** to **[905e4d4](https://github.com/sagemath/sagetrac-mirror/commit/905e4d44a3da6d0265c9d2ae24d19691f40c0458)**",
    "created_at": "2018-05-08T17:27:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23733#issuecomment-360719",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/no-sage64](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/no-sage64)** to **[905e4d4](https://github.com/sagemath/sagetrac-mirror/commit/905e4d44a3da6d0265c9d2ae24d19691f40c0458)**



---

archive/issue_events_311945.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:27:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311945"
}
```



---

archive/issue_events_311946.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b3ce0ca72f840f6f6fdc96f1bde21cdef4a413e4",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-08T17:27:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23733",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23733#event-311946"
}
```
