# Issue 23765: Connected filtered Hopf algebras have a default antipode

archive/issues_023528.json:
```json
{
    "body": "We move it up from the connected graded Hopf algebras.\n\n**CC:**  sage-combinat @darijgr @fchapoton\n\n**Keywords:** Hopf algebras\n\n**Branch/Commit:** [99d812771a78de19f4dbf096035f145f28cff248](https://github.com/sagemath/sagetrac-mirror/commit/99d812771a78de19f4dbf096035f145f28cff248)\n\n**Reviewer:** Darij Grinberg\n\n**Author:** Travis Scrimshaw\n\nIssue created by migration from https://trac.sagemath.org/ticket/23765\n\n",
    "closed_at": "2017-09-20T22:26:38Z",
    "created_at": "2017-08-31T14:47:23Z",
    "labels": [
        "component: categories",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Connected filtered Hopf algebras have a default antipode",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23765",
    "user": "https://github.com/tscrim"
}
```
We move it up from the connected graded Hopf algebras.

**CC:**  sage-combinat @darijgr @fchapoton

**Keywords:** Hopf algebras

**Branch/Commit:** [99d812771a78de19f4dbf096035f145f28cff248](https://github.com/sagemath/sagetrac-mirror/commit/99d812771a78de19f4dbf096035f145f28cff248)

**Reviewer:** Darij Grinberg

**Author:** Travis Scrimshaw

Issue created by migration from https://trac.sagemath.org/ticket/23765





---

archive/issue_comments_428578.json:
```json
{
    "body": "**Branch:** [public/categories/filtered_connected_hopf_algebras-23765](https://github.com/sagemath/sagetrac-mirror/tree/public/categories/filtered_connected_hopf_algebras-23765)",
    "created_at": "2017-08-31T14:48:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428578",
    "user": "https://github.com/tscrim"
}
```

**Branch:** [public/categories/filtered_connected_hopf_algebras-23765](https://github.com/sagemath/sagetrac-mirror/tree/public/categories/filtered_connected_hopf_algebras-23765)



---

archive/issue_comments_428579.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2017-08-31T14:48:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428579",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_428580.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af4c1f169a02eb9fca49fc1caef7139f3f981cef\">af4c1f1</a></td><td><code>Connected filtered Hopf algebras can use the default antipode.</code></td></tr></table>\n",
    "created_at": "2017-08-31T14:48:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428580",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af4c1f169a02eb9fca49fc1caef7139f3f981cef">af4c1f1</a></td><td><code>Connected filtered Hopf algebras can use the default antipode.</code></td></tr></table>




---

archive/issue_comments_428581.json:
```json
{
    "body": "**Commit:** [af4c1f169a02eb9fca49fc1caef7139f3f981cef](https://github.com/sagemath/sagetrac-mirror/commit/af4c1f169a02eb9fca49fc1caef7139f3f981cef)",
    "created_at": "2017-08-31T14:48:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428581",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [af4c1f169a02eb9fca49fc1caef7139f3f981cef](https://github.com/sagemath/sagetrac-mirror/commit/af4c1f169a02eb9fca49fc1caef7139f3f981cef)



---

archive/issue_comments_428582.json:
```json
{
    "body": "**Changing commit** from \"[af4c1f169a02eb9fca49fc1caef7139f3f981cef](https://github.com/sagemath/sagetrac-mirror/commit/af4c1f169a02eb9fca49fc1caef7139f3f981cef)\" to \"[0426f3e643ba35cb76a13c406b700721a709a27c](https://github.com/sagemath/sagetrac-mirror/commit/0426f3e643ba35cb76a13c406b700721a709a27c)\".",
    "created_at": "2017-08-31T14:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428582",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[af4c1f169a02eb9fca49fc1caef7139f3f981cef](https://github.com/sagemath/sagetrac-mirror/commit/af4c1f169a02eb9fca49fc1caef7139f3f981cef)" to "[0426f3e643ba35cb76a13c406b700721a709a27c](https://github.com/sagemath/sagetrac-mirror/commit/0426f3e643ba35cb76a13c406b700721a709a27c)".



---

archive/issue_comments_428583.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0426f3e643ba35cb76a13c406b700721a709a27c\">0426f3e</a></td><td><code>Connected filtered Hopf algebras can use the default antipode.</code></td></tr></table>\n",
    "created_at": "2017-08-31T14:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428583",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0426f3e643ba35cb76a13c406b700721a709a27c">0426f3e</a></td><td><code>Connected filtered Hopf algebras can use the default antipode.</code></td></tr></table>




---

archive/issue_comments_428584.json:
```json
{
    "body": "<a id='comment:4'></a>\nWhat do you require of the basis? If the basis is just required to play well with the filtration, then `counit_on_basis` is wrong since any basis element of any degree might have a nonzero counit.\n\nEDIT: Similarly, `antipode_on_basis` also assumes that any nontrivial basis element has zero counit (in this case, it's fine). This shouldn't be hard to fix.",
    "created_at": "2017-08-31T16:09:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428584",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:4'></a>
What do you require of the basis? If the basis is just required to play well with the filtration, then `counit_on_basis` is wrong since any basis element of any degree might have a nonzero counit.

EDIT: Similarly, `antipode_on_basis` also assumes that any nontrivial basis element has zero counit (in this case, it's fine). This shouldn't be hard to fix.



---

archive/issue_comments_428585.json:
```json
{
    "body": "<a id='comment:5'></a>\nEach basis element should be contained in a homogeneous degree component (i.e. A<sub>i</sub> - A,,i - 1,,). Other than that, I don't think there is any requirements.",
    "created_at": "2017-08-31T17:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428585",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>
Each basis element should be contained in a homogeneous degree component (i.e. A<sub>i</sub> - A,,i - 1,,). Other than that, I don't think there is any requirements.



---

archive/issue_comments_428586.json:
```json
{
    "body": "<a id='comment:6'></a>\nI can't ssh to UMN now, and I have uninstalled my virtualbox from this laptop already (planning to get a new one when I'm back to Minneapolis). Meanwhile, can you please do the following?\n\n1. Remove the `counit_on_basis` method. Or, if you feel like making things more interesting, keep it in, but only if a keyword argument `augmented_basis` has been set to `True` when instantiating the class. (\"Augmented basis\" means that the basis has the property that only the element 1 has nonzero counit.)\n\n2. In `antipode_on_basis`, replace\n\n```\n+                return -x__S_Id(self.monomial(index).coproduct()\n+                                - tensor([self.monomial(index), self.one()])\n+                               )\n```\nby\n\n```\n+                smi = self.monomial(index)\n+                return -x__S_Id(smi.coproduct()\n+                                - tensor([smi, self.one()])\n+                               ) + smi.counit()\n```\n\n3. Bonus: Those weird non-graded bases of Sym corresponding to the symplectic(?) groups should now properly work without hacks...",
    "created_at": "2017-09-01T11:45:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428586",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:6'></a>
I can't ssh to UMN now, and I have uninstalled my virtualbox from this laptop already (planning to get a new one when I'm back to Minneapolis). Meanwhile, can you please do the following?

1. Remove the `counit_on_basis` method. Or, if you feel like making things more interesting, keep it in, but only if a keyword argument `augmented_basis` has been set to `True` when instantiating the class. ("Augmented basis" means that the basis has the property that only the element 1 has nonzero counit.)

2. In `antipode_on_basis`, replace

```
+                return -x__S_Id(self.monomial(index).coproduct()
+                                - tensor([self.monomial(index), self.one()])
+                               )
```
by

```
+                smi = self.monomial(index)
+                return -x__S_Id(smi.coproduct()
+                                - tensor([smi, self.one()])
+                               ) + smi.counit()
```

3. Bonus: Those weird non-graded bases of Sym corresponding to the symplectic(?) groups should now properly work without hacks...



---

archive/issue_comments_428587.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [darij](#comment%3A6):\n> I can't ssh to UMN now, and I have uninstalled my virtualbox from this laptop already (planning to get a new one when I'm back to Minneapolis). Meanwhile, can you please do the following?\n\n\nSure, I will push the changes.\n\n> 1. Remove the `counit_on_basis` method. Or, if you feel like making things more interesting, keep it in, but only if a keyword argument `augmented_basis` has been set to `True` when instantiating the class. (\"Augmented basis\" means that the basis has the property that only the element 1 has nonzero counit.)\n\n\nQuestion before I do that: This would not be correct in general in the graded case as well, right?",
    "created_at": "2017-09-01T14:51:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428587",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Replying to [darij](#comment%3A6):
> I can't ssh to UMN now, and I have uninstalled my virtualbox from this laptop already (planning to get a new one when I'm back to Minneapolis). Meanwhile, can you please do the following?


Sure, I will push the changes.

> 1. Remove the `counit_on_basis` method. Or, if you feel like making things more interesting, keep it in, but only if a keyword argument `augmented_basis` has been set to `True` when instantiating the class. ("Augmented basis" means that the basis has the property that only the element 1 has nonzero counit.)


Question before I do that: This would not be correct in general in the graded case as well, right?



---

archive/issue_comments_428588.json:
```json
{
    "body": "<a id='comment:8'></a>\nOops, I've just realized that a graded basis of a connected graded module as we define it is *automatically* augmented. So the stuff you removed from the Graded().Category() class should probably go back.\n\nBUT a graded module can have a filtered basis that is not graded and not augmented. (Stable dual Grothendieck polynomials for Sym are an example of a filtered basis that is not graded, but augmented. One of your symplectic bases, I think, is neither.) I am wondering whether we have the tools for this. Ideally, it should be in the category\n\n```\nHopfAlgebras().Filtered().Connected().WithBasis()\n```\nand in the category\n\n```\nHopfAlgebras().Graded().Connected()\n```\nbut NOT in the category\n\n```\nHopfAlgebras().Graded().Connected().WithBasis()\n```\nI never understood the category framework well enough to tell if this works natively.",
    "created_at": "2017-09-01T14:54:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428588",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:8'></a>
Oops, I've just realized that a graded basis of a connected graded module as we define it is *automatically* augmented. So the stuff you removed from the Graded().Category() class should probably go back.

BUT a graded module can have a filtered basis that is not graded and not augmented. (Stable dual Grothendieck polynomials for Sym are an example of a filtered basis that is not graded, but augmented. One of your symplectic bases, I think, is neither.) I am wondering whether we have the tools for this. Ideally, it should be in the category

```
HopfAlgebras().Filtered().Connected().WithBasis()
```
and in the category

```
HopfAlgebras().Graded().Connected()
```
but NOT in the category

```
HopfAlgebras().Graded().Connected().WithBasis()
```
I never understood the category framework well enough to tell if this works natively.



---

archive/issue_comments_428589.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54d31378f4a51d72960892456c013a3643861b06\">54d3137</a></td><td><code>Addressing Darij's comments.</code></td></tr></table>\n",
    "created_at": "2017-09-01T15:18:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428589",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54d31378f4a51d72960892456c013a3643861b06">54d3137</a></td><td><code>Addressing Darij's comments.</code></td></tr></table>




---

archive/issue_comments_428590.json:
```json
{
    "body": "**Changing commit** from \"[0426f3e643ba35cb76a13c406b700721a709a27c](https://github.com/sagemath/sagetrac-mirror/commit/0426f3e643ba35cb76a13c406b700721a709a27c)\" to \"[54d31378f4a51d72960892456c013a3643861b06](https://github.com/sagemath/sagetrac-mirror/commit/54d31378f4a51d72960892456c013a3643861b06)\".",
    "created_at": "2017-09-01T15:18:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428590",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0426f3e643ba35cb76a13c406b700721a709a27c](https://github.com/sagemath/sagetrac-mirror/commit/0426f3e643ba35cb76a13c406b700721a709a27c)" to "[54d31378f4a51d72960892456c013a3643861b06](https://github.com/sagemath/sagetrac-mirror/commit/54d31378f4a51d72960892456c013a3643861b06)".



---

archive/issue_comments_428591.json:
```json
{
    "body": "<a id='comment:10'></a>\nDone all related to this ticket.\n\nIf you do\n\n```\nHopfAlgebras(QQ).Graded().WithBasis()\n```\nyou are saying the Hopf algebra is graded, but your basis does not necessarily respect that grading, in contrast with\n\n```\nHopfAlgebras(QQ).WithBasis().Graded()\n```\nwhere you are specifying the basis is graded. You can see the difference here:\n\n```\nsage: HopfAlgebras(QQ).Graded().WithBasis()\nJoin of Category of hopf algebras with basis over Rational Field and Category of graded algebras over Rational Field\nsage: type(HopfAlgebras(QQ).Graded().WithBasis())\n<class 'sage.categories.category.JoinCategory_with_category'>\nsage: HopfAlgebras(QQ).WithBasis().Graded()\nCategory of graded hopf algebras with basis over Rational Field\nsage: type(HopfAlgebras(QQ).WithBasis().Graded())\n<class 'sage.categories.graded_hopf_algebras_with_basis.GradedHopfAlgebrasWithBasis_with_category'>\n```\nHowever, the Sym issue is a separate ticket IMO.",
    "created_at": "2017-09-01T15:23:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428591",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
Done all related to this ticket.

If you do

```
HopfAlgebras(QQ).Graded().WithBasis()
```
you are saying the Hopf algebra is graded, but your basis does not necessarily respect that grading, in contrast with

```
HopfAlgebras(QQ).WithBasis().Graded()
```
where you are specifying the basis is graded. You can see the difference here:

```
sage: HopfAlgebras(QQ).Graded().WithBasis()
Join of Category of hopf algebras with basis over Rational Field and Category of graded algebras over Rational Field
sage: type(HopfAlgebras(QQ).Graded().WithBasis())
<class 'sage.categories.category.JoinCategory_with_category'>
sage: HopfAlgebras(QQ).WithBasis().Graded()
Category of graded hopf algebras with basis over Rational Field
sage: type(HopfAlgebras(QQ).WithBasis().Graded())
<class 'sage.categories.graded_hopf_algebras_with_basis.GradedHopfAlgebrasWithBasis_with_category'>
```
However, the Sym issue is a separate ticket IMO.



---

archive/issue_comments_428592.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69fe5291fece5c68cbc19466596c5a6f2f48fe42\">69fe529</a></td><td><code>Fixing some doctests.</code></td></tr></table>\n",
    "created_at": "2017-09-02T15:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428592",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69fe5291fece5c68cbc19466596c5a6f2f48fe42">69fe529</a></td><td><code>Fixing some doctests.</code></td></tr></table>




---

archive/issue_comments_428593.json:
```json
{
    "body": "**Changing commit** from \"[54d31378f4a51d72960892456c013a3643861b06](https://github.com/sagemath/sagetrac-mirror/commit/54d31378f4a51d72960892456c013a3643861b06)\" to \"[69fe5291fece5c68cbc19466596c5a6f2f48fe42](https://github.com/sagemath/sagetrac-mirror/commit/69fe5291fece5c68cbc19466596c5a6f2f48fe42)\".",
    "created_at": "2017-09-02T15:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428593",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[54d31378f4a51d72960892456c013a3643861b06](https://github.com/sagemath/sagetrac-mirror/commit/54d31378f4a51d72960892456c013a3643861b06)" to "[69fe5291fece5c68cbc19466596c5a6f2f48fe42](https://github.com/sagemath/sagetrac-mirror/commit/69fe5291fece5c68cbc19466596c5a6f2f48fe42)".



---

archive/issue_comments_428594.json:
```json
{
    "body": "<a id='comment:12'></a>\n*ping*",
    "created_at": "2017-09-16T14:43:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428594",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
*ping*



---

archive/issue_comments_428595.json:
```json
{
    "body": "**Changing commit** from \"[69fe5291fece5c68cbc19466596c5a6f2f48fe42](https://github.com/sagemath/sagetrac-mirror/commit/69fe5291fece5c68cbc19466596c5a6f2f48fe42)\" to \"[bd4dd22a886f1a0326b1b93d5029a41b8e8b551c](https://github.com/sagemath/sagetrac-mirror/commit/bd4dd22a886f1a0326b1b93d5029a41b8e8b551c)\".",
    "created_at": "2017-09-16T15:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428595",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[69fe5291fece5c68cbc19466596c5a6f2f48fe42](https://github.com/sagemath/sagetrac-mirror/commit/69fe5291fece5c68cbc19466596c5a6f2f48fe42)" to "[bd4dd22a886f1a0326b1b93d5029a41b8e8b551c](https://github.com/sagemath/sagetrac-mirror/commit/bd4dd22a886f1a0326b1b93d5029a41b8e8b551c)".



---

archive/issue_comments_428596.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/019f005e270bd3e7bdf2a5991dc73a1cae59efab\">019f005</a></td><td><code>Merge branch 'public/categories/filtered_connected_hopf_algebras-23765' of git://trac.sagemath.org/sage into cfh</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd4dd22a886f1a0326b1b93d5029a41b8e8b551c\">bd4dd22</a></td><td><code>document requirements on basis</code></td></tr></table>\n",
    "created_at": "2017-09-16T15:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428596",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/019f005e270bd3e7bdf2a5991dc73a1cae59efab">019f005</a></td><td><code>Merge branch 'public/categories/filtered_connected_hopf_algebras-23765' of git://trac.sagemath.org/sage into cfh</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd4dd22a886f1a0326b1b93d5029a41b8e8b551c">bd4dd22</a></td><td><code>document requirements on basis</code></td></tr></table>




---

archive/issue_comments_428597.json:
```json
{
    "body": "<a id='comment:14'></a>\nJust got my Sage running again yesterday, now compiling some months worth of updates; so this will take a while. Should be done today though.\n\nQuick question: Why is `HopfAlgebrasWithBasis` not a parent category of this? Would this lead to the incorrect conclusion that `FilteredHopfAlgebrasWithBasis == HopfAlgebras.Filtered.WithBasis`?",
    "created_at": "2017-09-16T15:03:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428597",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:14'></a>
Just got my Sage running again yesterday, now compiling some months worth of updates; so this will take a while. Should be done today though.

Quick question: Why is `HopfAlgebrasWithBasis` not a parent category of this? Would this lead to the incorrect conclusion that `FilteredHopfAlgebrasWithBasis == HopfAlgebras.Filtered.WithBasis`?



---

archive/issue_comments_428598.json:
```json
{
    "body": "**Changing commit** from \"[bd4dd22a886f1a0326b1b93d5029a41b8e8b551c](https://github.com/sagemath/sagetrac-mirror/commit/bd4dd22a886f1a0326b1b93d5029a41b8e8b551c)\" to \"[7a024ae8a5635e0d49d66cfdff50960c3b9068b9](https://github.com/sagemath/sagetrac-mirror/commit/7a024ae8a5635e0d49d66cfdff50960c3b9068b9)\".",
    "created_at": "2017-09-16T15:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428598",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bd4dd22a886f1a0326b1b93d5029a41b8e8b551c](https://github.com/sagemath/sagetrac-mirror/commit/bd4dd22a886f1a0326b1b93d5029a41b8e8b551c)" to "[7a024ae8a5635e0d49d66cfdff50960c3b9068b9](https://github.com/sagemath/sagetrac-mirror/commit/7a024ae8a5635e0d49d66cfdff50960c3b9068b9)".



---

archive/issue_comments_428599.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e6949ce0c1becafa558604450cb09141f4710a9\">7e6949c</a></td><td><code>Small fixes to Darij's push.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a024ae8a5635e0d49d66cfdff50960c3b9068b9\">7a024ae</a></td><td><code>Removing requirements as it comes from being a subcategory of FilteredModulesWithBasis.</code></td></tr></table>\n",
    "created_at": "2017-09-16T15:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428599",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e6949ce0c1becafa558604450cb09141f4710a9">7e6949c</a></td><td><code>Small fixes to Darij's push.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a024ae8a5635e0d49d66cfdff50960c3b9068b9">7a024ae</a></td><td><code>Removing requirements as it comes from being a subcategory of FilteredModulesWithBasis.</code></td></tr></table>




---

archive/issue_comments_428600.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [darij](#comment%3A14):\n> Just got my Sage running again yesterday, now compiling some months worth of updates; so this will take a while. Should be done today though.\n\n\nYay.\n\n> Quick question: Why is `HopfAlgebrasWithBasis` not a parent category of this? Would this lead to the incorrect conclusion that `FilteredHopfAlgebrasWithBasis == HopfAlgebras.Filtered.WithBasis`?\n\n\nI don't understand. We have this:\n\n```\nsage: from sage.categories.filtered_hopf_algebras_with_basis import FilteredHopfAlgebrasWithBasis\nsage: FilteredHopfAlgebrasWithBasis(QQ).super_categories()\n[Category of hopf algebras with basis over Rational Field,\n Category of filtered algebras with basis over Rational Field]\n```\n\nI also removed your requirements as this is a subcategory of `FilteredModulesWithBasis`, so it has to respect them.",
    "created_at": "2017-09-16T15:18:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428600",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
Replying to [darij](#comment%3A14):
> Just got my Sage running again yesterday, now compiling some months worth of updates; so this will take a while. Should be done today though.


Yay.

> Quick question: Why is `HopfAlgebrasWithBasis` not a parent category of this? Would this lead to the incorrect conclusion that `FilteredHopfAlgebrasWithBasis == HopfAlgebras.Filtered.WithBasis`?


I don't understand. We have this:

```
sage: from sage.categories.filtered_hopf_algebras_with_basis import FilteredHopfAlgebrasWithBasis
sage: FilteredHopfAlgebrasWithBasis(QQ).super_categories()
[Category of hopf algebras with basis over Rational Field,
 Category of filtered algebras with basis over Rational Field]
```

I also removed your requirements as this is a subcategory of `FilteredModulesWithBasis`, so it has to respect them.



---

archive/issue_comments_428601.json:
```json
{
    "body": "<a id='comment:17'></a>\nOh, I should learn reading.\n\nI wouldn't get rid of the requirements, though. Maybe replace them by something like this:\n\n```\n    A filtered Hopf algebra with basis over a commutative ring `R`\n    is a filtered Hopf algebra over `R` endowed with the structure\n    of a filtered module with basis (with the same underlying\n    filtered-module structure).\n    A filtered Hopf algebra over `R` means a Hopf algebra equipped\n    with a module filtration such that all structure maps of the\n    Hopf algebra respect the filtration. See\n    :class:`~sage.categories.filtered_modules_with_basis.FilteredModulesWithBasis`\n    for the notion of a filtered module.\n```\n(Something similar is done in `filtered_algebras_with_basis.py`.)",
    "created_at": "2017-09-16T15:29:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428601",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:17'></a>
Oh, I should learn reading.

I wouldn't get rid of the requirements, though. Maybe replace them by something like this:

```
    A filtered Hopf algebra with basis over a commutative ring `R`
    is a filtered Hopf algebra over `R` endowed with the structure
    of a filtered module with basis (with the same underlying
    filtered-module structure).
    A filtered Hopf algebra over `R` means a Hopf algebra equipped
    with a module filtration such that all structure maps of the
    Hopf algebra respect the filtration. See
    :class:`~sage.categories.filtered_modules_with_basis.FilteredModulesWithBasis`
    for the notion of a filtered module.
```
(Something similar is done in `filtered_algebras_with_basis.py`.)



---

archive/issue_comments_428602.json:
```json
{
    "body": "**Changing commit** from \"[7a024ae8a5635e0d49d66cfdff50960c3b9068b9](https://github.com/sagemath/sagetrac-mirror/commit/7a024ae8a5635e0d49d66cfdff50960c3b9068b9)\" to \"[a079ae932dd3bc92a77d563739fdd8706e9fc595](https://github.com/sagemath/sagetrac-mirror/commit/a079ae932dd3bc92a77d563739fdd8706e9fc595)\".",
    "created_at": "2017-09-16T16:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428602",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7a024ae8a5635e0d49d66cfdff50960c3b9068b9](https://github.com/sagemath/sagetrac-mirror/commit/7a024ae8a5635e0d49d66cfdff50960c3b9068b9)" to "[a079ae932dd3bc92a77d563739fdd8706e9fc595](https://github.com/sagemath/sagetrac-mirror/commit/a079ae932dd3bc92a77d563739fdd8706e9fc595)".



---

archive/issue_comments_428603.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a079ae932dd3bc92a77d563739fdd8706e9fc595\">a079ae9</a></td><td><code>Adding Darij's description.</code></td></tr></table>\n",
    "created_at": "2017-09-16T16:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428603",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a079ae932dd3bc92a77d563739fdd8706e9fc595">a079ae9</a></td><td><code>Adding Darij's description.</code></td></tr></table>




---

archive/issue_comments_428604.json:
```json
{
    "body": "<a id='comment:19'></a>\nI can live with that (although it feels a little verbose and superfluous).",
    "created_at": "2017-09-16T16:24:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428604",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'></a>
I can live with that (although it feels a little verbose and superfluous).



---

archive/issue_comments_428605.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2a04461b7c3dd5a9c2a7340c66105afc5c92afa\">a2a0446</a></td><td><code>improve docs</code></td></tr></table>\n",
    "created_at": "2017-09-16T18:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428605",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2a04461b7c3dd5a9c2a7340c66105afc5c92afa">a2a0446</a></td><td><code>improve docs</code></td></tr></table>




---

archive/issue_comments_428606.json:
```json
{
    "body": "**Changing commit** from \"[a079ae932dd3bc92a77d563739fdd8706e9fc595](https://github.com/sagemath/sagetrac-mirror/commit/a079ae932dd3bc92a77d563739fdd8706e9fc595)\" to \"[a2a04461b7c3dd5a9c2a7340c66105afc5c92afa](https://github.com/sagemath/sagetrac-mirror/commit/a2a04461b7c3dd5a9c2a7340c66105afc5c92afa)\".",
    "created_at": "2017-09-16T18:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428606",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a079ae932dd3bc92a77d563739fdd8706e9fc595](https://github.com/sagemath/sagetrac-mirror/commit/a079ae932dd3bc92a77d563739fdd8706e9fc595)" to "[a2a04461b7c3dd5a9c2a7340c66105afc5c92afa](https://github.com/sagemath/sagetrac-mirror/commit/a2a04461b7c3dd5a9c2a7340c66105afc5c92afa)".



---

archive/issue_comments_428607.json:
```json
{
    "body": "<a id='comment:21'></a>\nYeah, that was an awkward formulation. Let me know if the new one is better. Positive_review if you are OK with my changes.\n\nSorry for how long this took!\n\n(Rationale for my other changes: Theoretically, a basis of a connected graded Hopf algebra might contain, say, -1 instead of 1. Thus, the claim that the counit of $i$ is \"1 & \\hbox{if $i$ is the unique element of degree $0$}\" is false. Also, the recursive formula for S(x) in the graded case was not true for degree 0, so I replaced \"in general\" by \"when `|x| > 0`\".)",
    "created_at": "2017-09-16T18:16:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428607",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:21'></a>
Yeah, that was an awkward formulation. Let me know if the new one is better. Positive_review if you are OK with my changes.

Sorry for how long this took!

(Rationale for my other changes: Theoretically, a basis of a connected graded Hopf algebra might contain, say, -1 instead of 1. Thus, the claim that the counit of $i$ is "1 & \hbox{if $i$ is the unique element of degree $0$}" is false. Also, the recursive formula for S(x) in the graded case was not true for degree 0, so I replaced "in general" by "when `|x| > 0`".)



---

archive/issue_comments_428608.json:
```json
{
    "body": "<a id='comment:22'></a>\nI know this is basically bikeshedding, but I do not want the word \"requirement\" to appear. It feels too much like exposing implementation details (or maybe instructions to [future] authors) to the casual user. So could you revert this part:\n\n```diff\n-    for the notion of a filtered module.\n+    for the meaning of the latter requirement).\n```\n(with adding the `)` of course). You can set a positive review on my behalf when done.\n\nThank you for doing the review.",
    "created_at": "2017-09-16T18:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428608",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>
I know this is basically bikeshedding, but I do not want the word "requirement" to appear. It feels too much like exposing implementation details (or maybe instructions to [future] authors) to the casual user. So could you revert this part:

```diff
-    for the notion of a filtered module.
+    for the meaning of the latter requirement).
```
(with adding the `)` of course). You can set a positive review on my behalf when done.

Thank you for doing the review.



---

archive/issue_comments_428609.json:
```json
{
    "body": "**Reviewer:** Darij Grinberg",
    "created_at": "2017-09-16T18:27:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428609",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Darij Grinberg



---

archive/issue_comments_428610.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99d812771a78de19f4dbf096035f145f28cff248\">99d8127</a></td><td><code>polish the doc a little bit more (Travis's suggestion)</code></td></tr></table>\n",
    "created_at": "2017-09-16T18:43:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428610",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99d812771a78de19f4dbf096035f145f28cff248">99d8127</a></td><td><code>polish the doc a little bit more (Travis's suggestion)</code></td></tr></table>




---

archive/issue_comments_428611.json:
```json
{
    "body": "**Changing commit** from \"[a2a04461b7c3dd5a9c2a7340c66105afc5c92afa](https://github.com/sagemath/sagetrac-mirror/commit/a2a04461b7c3dd5a9c2a7340c66105afc5c92afa)\" to \"[99d812771a78de19f4dbf096035f145f28cff248](https://github.com/sagemath/sagetrac-mirror/commit/99d812771a78de19f4dbf096035f145f28cff248)\".",
    "created_at": "2017-09-16T18:43:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428611",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a2a04461b7c3dd5a9c2a7340c66105afc5c92afa](https://github.com/sagemath/sagetrac-mirror/commit/a2a04461b7c3dd5a9c2a7340c66105afc5c92afa)" to "[99d812771a78de19f4dbf096035f145f28cff248](https://github.com/sagemath/sagetrac-mirror/commit/99d812771a78de19f4dbf096035f145f28cff248)".



---

archive/issue_comments_428612.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-09-16T18:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428612",
    "user": "https://github.com/darijgr"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_428613.json:
```json
{
    "body": "<a id='comment:25'></a>\nPerfect! (I've added \"with basis\", though, as I had forgotten it.)",
    "created_at": "2017-09-16T18:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428613",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:25'></a>
Perfect! (I've added "with basis", though, as I had forgotten it.)



---

archive/issue_comments_428614.json:
```json
{
    "body": "**Changing branch** from \"[public/categories/filtered_connected_hopf_algebras-23765](https://github.com/sagemath/sagetrac-mirror/tree/public/categories/filtered_connected_hopf_algebras-23765)\" to \"[99d812771a78de19f4dbf096035f145f28cff248](https://github.com/sagemath/sagetrac-mirror/commit/99d812771a78de19f4dbf096035f145f28cff248)\".",
    "created_at": "2017-09-20T22:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23765#issuecomment-428614",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/categories/filtered_connected_hopf_algebras-23765](https://github.com/sagemath/sagetrac-mirror/tree/public/categories/filtered_connected_hopf_algebras-23765)" to "[99d812771a78de19f4dbf096035f145f28cff248](https://github.com/sagemath/sagetrac-mirror/commit/99d812771a78de19f4dbf096035f145f28cff248)".



---

archive/issue_events_069260.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-20T22:26:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23765",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23765#event-69260"
}
```
