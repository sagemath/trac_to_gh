# Issue 23619: Helper functions for polynomial matrices

archive/issues_023382.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nFunctions:\n- degree,\n- `row_degrees`, `column_degrees`,\n- `row_pivots`, `column_pivots`,\n- `degree_matrix`,\n- `row_leading_matrix`, `column_leading_matrix`,\n- `is_popov`  (row/column),\n- `is_reduced` (row/column).\n\nCC:  @johanrosenkilde @romainlebreton @bgrenet\n\nComponent: **algebra**\n\nKeywords: **matrix**\n\nAuthor: **Vincent Neiger**\n\nBranch/Commit: **[`5fc5fd6`](https://github.com/sagemath/sagetrac-mirror/commit/5fc5fd6ce0d4ef3871f08c90131d93bb0a9adc61)**\n\nReviewer: **Johan Rosenkilde, Romain Lebreton, Pascal Giorgi, Bruno Grenet**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23619_\n\n",
    "closed_at": "2018-06-20T18:06:33Z",
    "created_at": "2017-08-14T08:57:59Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Helper functions for polynomial matrices",
    "type": "issue",
    "updated_at": "2018-06-20T18:06:33Z",
    "url": "https://github.com/sagemath/sage/issues/23619",
    "user": "https://github.com/vneiger"
}
```
<div id="comment:0"></div>

Functions:
- degree,
- `row_degrees`, `column_degrees`,
- `row_pivots`, `column_pivots`,
- `degree_matrix`,
- `row_leading_matrix`, `column_leading_matrix`,
- `is_popov`  (row/column),
- `is_reduced` (row/column).

CC:  @johanrosenkilde @romainlebreton @bgrenet

Component: **algebra**

Keywords: **matrix**

Author: **Vincent Neiger**

Branch/Commit: **[`5fc5fd6`](https://github.com/sagemath/sagetrac-mirror/commit/5fc5fd6ce0d4ef3871f08c90131d93bb0a9adc61)**

Reviewer: **Johan Rosenkilde, Romain Lebreton, Pascal Giorgi, Bruno Grenet**

_Issue created by migration from https://trac.sagemath.org/ticket/23619_





---

archive/issue_events_325670.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2017-08-14T08:57:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325670"
}
```



---

archive/issue_events_325671.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2017-08-14T08:57:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325671"
}
```



---

archive/issue_events_325672.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2017-08-14T08:57:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325672"
}
```



---

archive/issue_events_325673.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2017-08-14T08:57:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325673"
}
```



---

archive/issue_comments_355389.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n Functions:\n - row/column degree,\n+- pivot (row/column),\n - degree matrix,\n - leading matrix (row/column),\n - is_popov  (row/column),\n``````\n",
    "created_at": "2017-08-14T09:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355389",
    "user": "https://github.com/vneiger"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 Functions:
 - row/column degree,
+- pivot (row/column),
 - degree matrix,
 - leading matrix (row/column),
 - is_popov  (row/column),
``````




---

archive/issue_comments_355390.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n Functions:\n+- degree,\n - row/column degree,\n - pivot (row/column),\n - degree matrix,\n``````\n",
    "created_at": "2017-08-14T09:59:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355390",
    "user": "https://github.com/vneiger"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,5 @@
 Functions:
+- degree,
 - row/column degree,
 - pivot (row/column),
 - degree matrix,
``````




---

archive/issue_comments_355391.json:
```json
{
    "body": "Branch: **[u/vneiger/23619_polmat_helper](https://github.com/sagemath/sagetrac-mirror/tree/u/vneiger/23619_polmat_helper)**",
    "created_at": "2017-08-14T11:14:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355391",
    "user": "https://github.com/vneiger"
}
```

Branch: **[u/vneiger/23619_polmat_helper](https://github.com/sagemath/sagetrac-mirror/tree/u/vneiger/23619_polmat_helper)**



---

archive/issue_comments_355392.json:
```json
{
    "body": "Commit: **[`ec172a4`](https://github.com/sagemath/sagetrac-mirror/commit/ec172a430570bce97ff58ee520248ac9d5582145)**",
    "created_at": "2017-08-14T11:16:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355392",
    "user": "https://github.com/vneiger"
}
```

Commit: **[`ec172a4`](https://github.com/sagemath/sagetrac-mirror/commit/ec172a430570bce97ff58ee520248ac9d5582145)**



---

archive/issue_comments_355393.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nPushed the first function. Not ready for review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec172a430570bce97ff58ee520248ac9d5582145\"><code>ec172a4</code></a></td><td><code>degree matrix function working</code></td></tr></table>\n",
    "created_at": "2017-08-14T11:16:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355393",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:4" align="right">comment:4</div>

Pushed the first function. Not ready for review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec172a430570bce97ff58ee520248ac9d5582145"><code>ec172a4</code></a></td><td><code>degree matrix function working</code></td></tr></table>




---

archive/issue_comments_355394.json:
```json
{
    "body": "Changed commit from **[`ec172a4`](https://github.com/sagemath/sagetrac-mirror/commit/ec172a430570bce97ff58ee520248ac9d5582145)** to **[`4aa4338`](https://github.com/sagemath/sagetrac-mirror/commit/4aa4338638fc25cf0dfb2824ae0feb4bd82b0325)**",
    "created_at": "2017-08-14T12:35:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355394",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ec172a4`](https://github.com/sagemath/sagetrac-mirror/commit/ec172a430570bce97ff58ee520248ac9d5582145)** to **[`4aa4338`](https://github.com/sagemath/sagetrac-mirror/commit/4aa4338638fc25cf0dfb2824ae0feb4bd82b0325)**



---

archive/issue_comments_355395.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4aa4338638fc25cf0dfb2824ae0feb4bd82b0325\"><code>4aa4338</code></a></td><td><code>improved degree_matrix documentation</code></td></tr></table>\n",
    "created_at": "2017-08-14T12:35:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355395",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4aa4338638fc25cf0dfb2824ae0feb4bd82b0325"><code>4aa4338</code></a></td><td><code>improved degree_matrix documentation</code></td></tr></table>




---

archive/issue_comments_355396.json:
```json
{
    "body": "Changed commit from **[`4aa4338`](https://github.com/sagemath/sagetrac-mirror/commit/4aa4338638fc25cf0dfb2824ae0feb4bd82b0325)** to **[`10be03d`](https://github.com/sagemath/sagetrac-mirror/commit/10be03dd10e85f406f9406823bdc365cd41c1c95)**",
    "created_at": "2017-08-14T12:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355396",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4aa4338`](https://github.com/sagemath/sagetrac-mirror/commit/4aa4338638fc25cf0dfb2824ae0feb4bd82b0325)** to **[`10be03d`](https://github.com/sagemath/sagetrac-mirror/commit/10be03dd10e85f406f9406823bdc365cd41c1c95)**



---

archive/issue_comments_355397.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10be03dd10e85f406f9406823bdc365cd41c1c95\"><code>10be03d</code></a></td><td><code>function and doc degree of a matrix</code></td></tr></table>\n",
    "created_at": "2017-08-14T12:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355397",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10be03dd10e85f406f9406823bdc365cd41c1c95"><code>10be03d</code></a></td><td><code>function and doc degree of a matrix</code></td></tr></table>




---

archive/issue_comments_355398.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nCleaned documentation for the (shifted) degree matrix, and wrote function/doc for degree of a matrix. Not ready for review.",
    "created_at": "2017-08-14T12:52:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355398",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:7" align="right">comment:7</div>

Cleaned documentation for the (shifted) degree matrix, and wrote function/doc for degree of a matrix. Not ready for review.



---

archive/issue_comments_355399.json:
```json
{
    "body": "Changed commit from **[`10be03d`](https://github.com/sagemath/sagetrac-mirror/commit/10be03dd10e85f406f9406823bdc365cd41c1c95)** to **[`68de063`](https://github.com/sagemath/sagetrac-mirror/commit/68de063497c111a12313d396361ebdb5db9fd963)**",
    "created_at": "2017-08-14T15:12:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355399",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`10be03d`](https://github.com/sagemath/sagetrac-mirror/commit/10be03dd10e85f406f9406823bdc365cd41c1c95)** to **[`68de063`](https://github.com/sagemath/sagetrac-mirror/commit/68de063497c111a12313d396361ebdb5db9fd963)**



---

archive/issue_comments_355400.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fd8340438cdd1981aaa8905fdd1404af72039b3\"><code>0fd8340</code></a></td><td><code>function and doc for column degree and row degree</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68de063497c111a12313d396361ebdb5db9fd963\"><code>68de063</code></a></td><td><code>function and documentation for leading matrix, row wise and column wise</code></td></tr></table>\n",
    "created_at": "2017-08-14T15:12:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355400",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fd8340438cdd1981aaa8905fdd1404af72039b3"><code>0fd8340</code></a></td><td><code>function and doc for column degree and row degree</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68de063497c111a12313d396361ebdb5db9fd963"><code>68de063</code></a></td><td><code>function and documentation for leading matrix, row wise and column wise</code></td></tr></table>




---

archive/issue_comments_355401.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af59287329f6c097a4d4b21f2c559912b5e2b2e8\"><code>af59287</code></a></td><td><code>function and doc for is_reduced</code></td></tr></table>\n",
    "created_at": "2017-08-14T21:27:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355401",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af59287329f6c097a4d4b21f2c559912b5e2b2e8"><code>af59287</code></a></td><td><code>function and doc for is_reduced</code></td></tr></table>




---

archive/issue_comments_355402.json:
```json
{
    "body": "Changed commit from **[`68de063`](https://github.com/sagemath/sagetrac-mirror/commit/68de063497c111a12313d396361ebdb5db9fd963)** to **[`af59287`](https://github.com/sagemath/sagetrac-mirror/commit/af59287329f6c097a4d4b21f2c559912b5e2b2e8)**",
    "created_at": "2017-08-14T21:27:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355402",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`68de063`](https://github.com/sagemath/sagetrac-mirror/commit/68de063497c111a12313d396361ebdb5db9fd963)** to **[`af59287`](https://github.com/sagemath/sagetrac-mirror/commit/af59287329f6c097a4d4b21f2c559912b5e2b2e8)**



---

archive/issue_comments_355403.json:
```json
{
    "body": "Changed commit from **[`af59287`](https://github.com/sagemath/sagetrac-mirror/commit/af59287329f6c097a4d4b21f2c559912b5e2b2e8)** to **[`205e188`](https://github.com/sagemath/sagetrac-mirror/commit/205e188377dccab4ce96a999a2b1372eca75cc56)**",
    "created_at": "2017-08-15T15:03:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355403",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`af59287`](https://github.com/sagemath/sagetrac-mirror/commit/af59287329f6c097a4d4b21f2c559912b5e2b2e8)** to **[`205e188`](https://github.com/sagemath/sagetrac-mirror/commit/205e188377dccab4ce96a999a2b1372eca75cc56)**



---

archive/issue_comments_355404.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/baab67f8f1a7f22acf53bd3ae56764e3ec2e59f8\"><code>baab67f</code></a></td><td><code>small correction for degree: case of empty matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96c7e5ac61c3bfd662fd23c6ecffd92f83cb3399\"><code>96c7e5a</code></a></td><td><code>testing corner cases with <<empty>> matrices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/205e188377dccab4ce96a999a2b1372eca75cc56\"><code>205e188</code></a></td><td><code>is_popov and is_ordered_weak_popov are in good state now; missing examples in the latter</code></td></tr></table>\n",
    "created_at": "2017-08-15T15:03:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355404",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/baab67f8f1a7f22acf53bd3ae56764e3ec2e59f8"><code>baab67f</code></a></td><td><code>small correction for degree: case of empty matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96c7e5ac61c3bfd662fd23c6ecffd92f83cb3399"><code>96c7e5a</code></a></td><td><code>testing corner cases with <<empty>> matrices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/205e188377dccab4ce96a999a2b1372eca75cc56"><code>205e188</code></a></td><td><code>is_popov and is_ordered_weak_popov are in good state now; missing examples in the latter</code></td></tr></table>




---

archive/issue_comments_355405.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c42794798eeb2e1e6d34c83c039cc32e48fb53f5\"><code>c427947</code></a></td><td><code>class document, and cleaner documentation for methods</code></td></tr></table>\n",
    "created_at": "2017-08-16T12:50:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355405",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c42794798eeb2e1e6d34c83c039cc32e48fb53f5"><code>c427947</code></a></td><td><code>class document, and cleaner documentation for methods</code></td></tr></table>




---

archive/issue_comments_355406.json:
```json
{
    "body": "Changed commit from **[`205e188`](https://github.com/sagemath/sagetrac-mirror/commit/205e188377dccab4ce96a999a2b1372eca75cc56)** to **[`c427947`](https://github.com/sagemath/sagetrac-mirror/commit/c42794798eeb2e1e6d34c83c039cc32e48fb53f5)**",
    "created_at": "2017-08-16T12:50:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355406",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`205e188`](https://github.com/sagemath/sagetrac-mirror/commit/205e188377dccab4ce96a999a2b1372eca75cc56)** to **[`c427947`](https://github.com/sagemath/sagetrac-mirror/commit/c42794798eeb2e1e6d34c83c039cc32e48fb53f5)**



---

archive/issue_comments_355407.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThe ticket is coming along very nicely. Some preliminary comments.\n\n- In docs, prefer \"Return the ...\" over \"Returns the ...\". I personally prefer \"this matrix\" over the less specific \"the matrix\" when talking about `self`. I would even use `this polynomial matrix` if I need to set it apart from e.g. an integer or scalar matrix.\n\n- `degree`, doc: \"If the matrix is zero, this is a nonnegative integer\" - do you mean \"this is `-\\infty`\"?.\n\n- `degree`: why does the 0x0 matrix have degree `None`? Such a matrix has e.g. rank 0 and characteristic polynomial 1. Similar question for `row-degree`.\n\n- `degree_matrix`: I would prefer that you add a parameter check that the shift is a list of the right length. One could interpret the doc text as expecting the shift to be a vector of integers - is this a problem?\n\n- `degree_matrix`, examples: a long line needs wrapping.\n\n- About references: we don't have as high standards wrt. completeness of referencing all previous history as in journal publications. In fact, for a concept like `row_degree` I think Sage rarely has references - they are mostly used for algorithms. So I think 1 reference is plenty sufficient. I like your intention of drawing the reader to the related concept of `defect` but this maybe has most value if properly explained?\n\n  In any case, references have to be entered in the special file `$SAGE/src/doc/en/reference/references/index.rst` and referred to using the syntax `[Kai80]`.\n \n- `leading_matrix`, doc: Could you make a shorter explanation for the unshifted case first? I then prefer to define `LM_s(M) := LM(M diag(x<sup>{s_1},...,x</sup>{s_n})` which I find easier to parse.\n\n- `leading_matrix`: I don't think the `self[i,j] == 0 or` requirements are necessary in each of the four cases.\n\n- `is_reduced` doc: first line, consider putting parentheses around \"shifted\". And later: \"Equivalently, when considering ... left-multiplying\", add \"(resp. right-multiplying)\".\n\n- `pivot`: should the pivot degrees only be returned if the user wishes it (by setting a flag `return_degree=False`)?\n\n- `is_ordered_weak_popov`: should this be merged with `is_weak_popov` by giving the latter an optional flag `ordered`?",
    "created_at": "2017-08-16T13:18:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355407",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:12" align="right">comment:12</div>

The ticket is coming along very nicely. Some preliminary comments.

- In docs, prefer "Return the ..." over "Returns the ...". I personally prefer "this matrix" over the less specific "the matrix" when talking about `self`. I would even use `this polynomial matrix` if I need to set it apart from e.g. an integer or scalar matrix.

- `degree`, doc: "If the matrix is zero, this is a nonnegative integer" - do you mean "this is `-\infty`"?.

- `degree`: why does the 0x0 matrix have degree `None`? Such a matrix has e.g. rank 0 and characteristic polynomial 1. Similar question for `row-degree`.

- `degree_matrix`: I would prefer that you add a parameter check that the shift is a list of the right length. One could interpret the doc text as expecting the shift to be a vector of integers - is this a problem?

- `degree_matrix`, examples: a long line needs wrapping.

- About references: we don't have as high standards wrt. completeness of referencing all previous history as in journal publications. In fact, for a concept like `row_degree` I think Sage rarely has references - they are mostly used for algorithms. So I think 1 reference is plenty sufficient. I like your intention of drawing the reader to the related concept of `defect` but this maybe has most value if properly explained?

  In any case, references have to be entered in the special file `$SAGE/src/doc/en/reference/references/index.rst` and referred to using the syntax `[Kai80]`.
 
- `leading_matrix`, doc: Could you make a shorter explanation for the unshifted case first? I then prefer to define `LM_s(M) := LM(M diag(x<sup>{s_1},...,x</sup>{s_n})` which I find easier to parse.

- `leading_matrix`: I don't think the `self[i,j] == 0 or` requirements are necessary in each of the four cases.

- `is_reduced` doc: first line, consider putting parentheses around "shifted". And later: "Equivalently, when considering ... left-multiplying", add "(resp. right-multiplying)".

- `pivot`: should the pivot degrees only be returned if the user wishes it (by setting a flag `return_degree=False`)?

- `is_ordered_weak_popov`: should this be merged with `is_weak_popov` by giving the latter an optional flag `ordered`?



---

archive/issue_comments_355408.json:
```json
{
    "body": "Changed commit from **[`c427947`](https://github.com/sagemath/sagetrac-mirror/commit/c42794798eeb2e1e6d34c83c039cc32e48fb53f5)** to **[`fff979b`](https://github.com/sagemath/sagetrac-mirror/commit/fff979b9365a34a650652c542b9e19644e834d28)**",
    "created_at": "2017-08-16T20:34:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355408",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c427947`](https://github.com/sagemath/sagetrac-mirror/commit/c42794798eeb2e1e6d34c83c039cc32e48fb53f5)** to **[`fff979b`](https://github.com/sagemath/sagetrac-mirror/commit/fff979b9365a34a650652c542b9e19644e834d28)**



---

archive/issue_comments_355409.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e0f5e8ec5b6c6b3c31c4bee72e4bf9c11b74ff1\"><code>7e0f5e8</code></a></td><td><code>added examples for is_ordered_weak_popov</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fff979b9365a34a650652c542b9e19644e834d28\"><code>fff979b</code></a></td><td><code>Johan's comments and cleaner doc</code></td></tr></table>\n",
    "created_at": "2017-08-16T20:34:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355409",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e0f5e8ec5b6c6b3c31c4bee72e4bf9c11b74ff1"><code>7e0f5e8</code></a></td><td><code>added examples for is_ordered_weak_popov</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fff979b9365a34a650652c542b9e19644e834d28"><code>fff979b</code></a></td><td><code>Johan's comments and cleaner doc</code></td></tr></table>




---

archive/issue_comments_355410.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThank you for your numerous comments.\n\nAll that is not commented below was taken into account in the last revision.\n\nReplying to [@johanrosenkilde](#comment%3A12):\n> - `degree`: why does the 0x0 matrix have degree `None`? Such a matrix has e.g. rank 0 and characteristic polynomial 1. Similar question for `row-degree`.\n\nThis is a good question and I have no answer. Another choice would be `-1`, but so far I see no reason to prefer one or the other. Do you?\n\n> - `degree_matrix`: I would prefer that you add a parameter check that the shift is a list of the right length.\n\nI was hesitating about such a parameter check. If we put one here, then we should do it for every method involving a shift, right?\n\n> One could interpret the doc text as expecting the shift to be a vector of integers - is this a problem?\n\nI don't think this is a problem (if I understand well your question): we can input a vector (1,2,3) or a list [1,2,3], both will work.",
    "created_at": "2017-08-16T21:38:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355410",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:14" align="right">comment:14</div>

Thank you for your numerous comments.

All that is not commented below was taken into account in the last revision.

Replying to [@johanrosenkilde](#comment%3A12):
> - `degree`: why does the 0x0 matrix have degree `None`? Such a matrix has e.g. rank 0 and characteristic polynomial 1. Similar question for `row-degree`.

This is a good question and I have no answer. Another choice would be `-1`, but so far I see no reason to prefer one or the other. Do you?

> - `degree_matrix`: I would prefer that you add a parameter check that the shift is a list of the right length.

I was hesitating about such a parameter check. If we put one here, then we should do it for every method involving a shift, right?

> One could interpret the doc text as expecting the shift to be a vector of integers - is this a problem?

I don't think this is a problem (if I understand well your question): we can input a vector (1,2,3) or a list [1,2,3], both will work.



---

archive/issue_comments_355411.json:
```json
{
    "body": "Changed commit from **[`fff979b`](https://github.com/sagemath/sagetrac-mirror/commit/fff979b9365a34a650652c542b9e19644e834d28)** to **[`817b81c`](https://github.com/sagemath/sagetrac-mirror/commit/817b81c6d4bc570ff5107c45501d63b14cf32919)**",
    "created_at": "2017-08-18T11:55:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355411",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fff979b`](https://github.com/sagemath/sagetrac-mirror/commit/fff979b9365a34a650652c542b9e19644e834d28)** to **[`817b81c`](https://github.com/sagemath/sagetrac-mirror/commit/817b81c6d4bc570ff5107c45501d63b14cf32919)**



---

archive/issue_comments_355412.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d5797dfc1886ef2e2fd6b2d0ba9768a725b394e\"><code>3d5797d</code></a></td><td><code>shifts as list/vector: ok now</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/817b81c6d4bc570ff5107c45501d63b14cf32919\"><code>817b81c</code></a></td><td><code>todo</code></td></tr></table>\n",
    "created_at": "2017-08-18T11:55:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355412",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d5797dfc1886ef2e2fd6b2d0ba9768a725b394e"><code>3d5797d</code></a></td><td><code>shifts as list/vector: ok now</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/817b81c6d4bc570ff5107c45501d63b14cf32919"><code>817b81c</code></a></td><td><code>todo</code></td></tr></table>




---

archive/issue_comments_355413.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nHi, looking better and better :-)\n\n- `leading_matrix`, perhaps elsewhere: Don't put parentheses around the condition of an if-statement\n- Prefer `a is None` compared to `a == None`.\n- Class doc: forget `:meth:` for `leading_matrix` reference.\n\nThings we discussed face2face:\n- pivot -> leading_positions\n- add order_by_degree and order_by_leading_position\n- Raise ValueError on zero-row or zero-column matrices\n- Check lengths of shifts everywhere",
    "created_at": "2017-08-18T13:26:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355413",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:16" align="right">comment:16</div>

Hi, looking better and better :-)

- `leading_matrix`, perhaps elsewhere: Don't put parentheses around the condition of an if-statement
- Prefer `a is None` compared to `a == None`.
- Class doc: forget `:meth:` for `leading_matrix` reference.

Things we discussed face2face:
- pivot -> leading_positions
- add order_by_degree and order_by_leading_position
- Raise ValueError on zero-row or zero-column matrices
- Check lengths of shifts everywhere



---

archive/issue_comments_355414.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe37dee3f9340582121f6ad529a7b6cdf7fea676\"><code>fe37dee</code></a></td><td><code>row_reduced --> reduced, deprecation warning</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91db615bea2ccfbd7e1ab90015387bfd584c1c20\"><code>91db615</code></a></td><td><code>check shift length</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05457236887d0ecf4d0f9c8976eff3e68bd73a25\"><code>0545723</code></a></td><td><code>check shift length</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3064b0a064953f1c943a45bc6a43a0bad764458\"><code>e3064b0</code></a></td><td><code>pivot index --> leading positions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee2f99934a9ca5e19c3bbe5d48a9fc6c8ae2b262\"><code>ee2f999</code></a></td><td><code>some small fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7d646fb2ab48ddbd8b5d3484e351580d0a25d9a\"><code>e7d646f</code></a></td><td><code>pivot index --> leading positions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/660ab43b9fc8cda4a74f0a10457b00b64c33006e\"><code>660ab43</code></a></td><td><code>degrees and leading positions for empty matrices</code></td></tr></table>\n",
    "created_at": "2017-08-18T13:44:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355414",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe37dee3f9340582121f6ad529a7b6cdf7fea676"><code>fe37dee</code></a></td><td><code>row_reduced --> reduced, deprecation warning</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91db615bea2ccfbd7e1ab90015387bfd584c1c20"><code>91db615</code></a></td><td><code>check shift length</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05457236887d0ecf4d0f9c8976eff3e68bd73a25"><code>0545723</code></a></td><td><code>check shift length</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3064b0a064953f1c943a45bc6a43a0bad764458"><code>e3064b0</code></a></td><td><code>pivot index --> leading positions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee2f99934a9ca5e19c3bbe5d48a9fc6c8ae2b262"><code>ee2f999</code></a></td><td><code>some small fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7d646fb2ab48ddbd8b5d3484e351580d0a25d9a"><code>e7d646f</code></a></td><td><code>pivot index --> leading positions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/660ab43b9fc8cda4a74f0a10457b00b64c33006e"><code>660ab43</code></a></td><td><code>degrees and leading positions for empty matrices</code></td></tr></table>




---

archive/issue_comments_355415.json:
```json
{
    "body": "Changed commit from **[`817b81c`](https://github.com/sagemath/sagetrac-mirror/commit/817b81c6d4bc570ff5107c45501d63b14cf32919)** to **[`660ab43`](https://github.com/sagemath/sagetrac-mirror/commit/660ab43b9fc8cda4a74f0a10457b00b64c33006e)**",
    "created_at": "2017-08-18T13:44:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355415",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`817b81c`](https://github.com/sagemath/sagetrac-mirror/commit/817b81c6d4bc570ff5107c45501d63b14cf32919)** to **[`660ab43`](https://github.com/sagemath/sagetrac-mirror/commit/660ab43b9fc8cda4a74f0a10457b00b64c33006e)**



---

archive/issue_comments_355416.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n Functions:\n - degree,\n-- row/column degree,\n-- pivot (row/column),\n-- degree matrix,\n-- leading matrix (row/column),\n-- is_popov  (row/column),\n-- is_reduced (row/column).\n+- `row_degree`, `column_degree`,\n+- `row_pivots`, `column_pivots`,\n+- `degree_matrix`,\n+- `row_leading_matrix`, `column_leading_matrix`,\n+- `is_popov`  (row/column),\n+- `is_reduced` (row/column).\n``````\n",
    "created_at": "2017-08-21T12:10:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355416",
    "user": "https://github.com/johanrosenkilde"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
 Functions:
 - degree,
-- row/column degree,
-- pivot (row/column),
-- degree matrix,
-- leading matrix (row/column),
-- is_popov  (row/column),
-- is_reduced (row/column).
+- `row_degree`, `column_degree`,
+- `row_pivots`, `column_pivots`,
+- `degree_matrix`,
+- `row_leading_matrix`, `column_leading_matrix`,
+- `is_popov`  (row/column),
+- `is_reduced` (row/column).
``````




---

archive/issue_comments_355417.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nChanged some names in the description, as discussed f2f. The code still needs to be updated.",
    "created_at": "2017-08-21T12:10:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355417",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:18" align="right">comment:18</div>

Changed some names in the description, as discussed f2f. The code still needs to be updated.



---

archive/issue_comments_355418.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Functions:\n - degree,\n-- `row_degree`, `column_degree`,\n+- `row_degrees`, `column_degrees`,\n - `row_pivots`, `column_pivots`,\n - `degree_matrix`,\n - `row_leading_matrix`, `column_leading_matrix`,\n``````\n",
    "created_at": "2017-08-21T12:10:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355418",
    "user": "https://github.com/johanrosenkilde"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Functions:
 - degree,
-- `row_degree`, `column_degree`,
+- `row_degrees`, `column_degrees`,
 - `row_pivots`, `column_pivots`,
 - `degree_matrix`,
 - `row_leading_matrix`, `column_leading_matrix`,
``````




---

archive/issue_comments_355419.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nLet's go plural.",
    "created_at": "2017-08-21T12:10:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355419",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:19" align="right">comment:19</div>

Let's go plural.



---

archive/issue_comments_355420.json:
```json
{
    "body": "Changed commit from **[`660ab43`](https://github.com/sagemath/sagetrac-mirror/commit/660ab43b9fc8cda4a74f0a10457b00b64c33006e)** to **[`72fe310`](https://github.com/sagemath/sagetrac-mirror/commit/72fe310d3d7ecb10c9ed052a2d2f6ded4beae327)**",
    "created_at": "2018-03-01T23:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355420",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`660ab43`](https://github.com/sagemath/sagetrac-mirror/commit/660ab43b9fc8cda4a74f0a10457b00b64c33006e)** to **[`72fe310`](https://github.com/sagemath/sagetrac-mirror/commit/72fe310d3d7ecb10c9ed052a2d2f6ded4beae327)**



---

archive/issue_comments_355421.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6da217afcc88f34771c65fc145a67f434b66c2a\"><code>c6da217</code></a></td><td><code>plural for row degree / column degree</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72fe310d3d7ecb10c9ed052a2d2f6ded4beae327\"><code>72fe310</code></a></td><td><code>now is_reduced accepts zero rows/columns</code></td></tr></table>\n",
    "created_at": "2018-03-01T23:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355421",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6da217afcc88f34771c65fc145a67f434b66c2a"><code>c6da217</code></a></td><td><code>plural for row degree / column degree</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72fe310d3d7ecb10c9ed052a2d2f6ded4beae327"><code>72fe310</code></a></td><td><code>now is_reduced accepts zero rows/columns</code></td></tr></table>




---

archive/issue_comments_355422.json:
```json
{
    "body": "Changed commit from **[`72fe310`](https://github.com/sagemath/sagetrac-mirror/commit/72fe310d3d7ecb10c9ed052a2d2f6ded4beae327)** to **[`7f6e36e`](https://github.com/sagemath/sagetrac-mirror/commit/7f6e36ebdb652d41dd343ff54697a93e4c7be5f2)**",
    "created_at": "2018-03-02T12:58:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355422",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`72fe310`](https://github.com/sagemath/sagetrac-mirror/commit/72fe310d3d7ecb10c9ed052a2d2f6ded4beae327)** to **[`7f6e36e`](https://github.com/sagemath/sagetrac-mirror/commit/7f6e36ebdb652d41dd343ff54697a93e4c7be5f2)**



---

archive/issue_comments_355423.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5aa3da2e4e3979d45671b4b264887e15069815f\"><code>b5aa3da</code></a></td><td><code> is_weak_popov now accepts zero rows / columns</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8064d7bc584938f592dc8913f12878724fccb9d1\"><code>8064d7b</code></a></td><td><code>is_popov now accepts zero rows + option for up-to-permutation test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/489344ad3cfb0d9d5743ff3040613e4b642d31bc\"><code>489344a</code></a></td><td><code>remove old code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f6e36ebdb652d41dd343ff54697a93e4c7be5f2\"><code>7f6e36e</code></a></td><td><code>small code simplification</code></td></tr></table>\n",
    "created_at": "2018-03-02T12:58:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355423",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5aa3da2e4e3979d45671b4b264887e15069815f"><code>b5aa3da</code></a></td><td><code> is_weak_popov now accepts zero rows / columns</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8064d7bc584938f592dc8913f12878724fccb9d1"><code>8064d7b</code></a></td><td><code>is_popov now accepts zero rows + option for up-to-permutation test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/489344ad3cfb0d9d5743ff3040613e4b642d31bc"><code>489344a</code></a></td><td><code>remove old code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f6e36ebdb652d41dd343ff54697a93e4c7be5f2"><code>7f6e36e</code></a></td><td><code>small code simplification</code></td></tr></table>




---

archive/issue_comments_355424.json:
```json
{
    "body": "Changed commit from **[`7f6e36e`](https://github.com/sagemath/sagetrac-mirror/commit/7f6e36ebdb652d41dd343ff54697a93e4c7be5f2)** to **[`9ed9b40`](https://github.com/sagemath/sagetrac-mirror/commit/9ed9b400de4dc9586112ba7091788cc586880b31)**",
    "created_at": "2018-03-12T16:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355424",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7f6e36e`](https://github.com/sagemath/sagetrac-mirror/commit/7f6e36ebdb652d41dd343ff54697a93e4c7be5f2)** to **[`9ed9b40`](https://github.com/sagemath/sagetrac-mirror/commit/9ed9b400de4dc9586112ba7091788cc586880b31)**



---

archive/issue_comments_355425.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a336c9b8ba026489a31bca0e3a84985e5f25a2c\"><code>3a336c9</code></a></td><td><code>working on is_hermite</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a266d9954044205c108a135dd40b50fcd26a4953\"><code>a266d99</code></a></td><td><code>now, in ordered weak Popov and in Popov the zero rows must appear at the end (bottom if row-wise, right-hand side if column-wise)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd920d4faf2c5b9f99dbe249dd01ba3077f3f6ed\"><code>dd920d4</code></a></td><td><code>is_hermite now works, it simply calls is_popov with the right shift</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92356cb185242f833536940a0d4bcb9d72ed9b87\"><code>92356cb</code></a></td><td><code>is_hermite cleaned, lower_echelon option correct now</code></td></tr><tr><td><code>[de58683](https://github.com/sagemath/sagetrac-mirror/commit/de586834ad754e3d23ab1275e2fcf680ef812a12)</code></td><td><code>`add test to support empty matrices in is_{hermite,popov,weak_popov,reduced`}</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ed9b400de4dc9586112ba7091788cc586880b31\"><code>9ed9b40</code></a></td><td><code>added some SEEALSO blocks</code></td></tr></table>\n",
    "created_at": "2018-03-12T16:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355425",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a336c9b8ba026489a31bca0e3a84985e5f25a2c"><code>3a336c9</code></a></td><td><code>working on is_hermite</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a266d9954044205c108a135dd40b50fcd26a4953"><code>a266d99</code></a></td><td><code>now, in ordered weak Popov and in Popov the zero rows must appear at the end (bottom if row-wise, right-hand side if column-wise)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd920d4faf2c5b9f99dbe249dd01ba3077f3f6ed"><code>dd920d4</code></a></td><td><code>is_hermite now works, it simply calls is_popov with the right shift</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92356cb185242f833536940a0d4bcb9d72ed9b87"><code>92356cb</code></a></td><td><code>is_hermite cleaned, lower_echelon option correct now</code></td></tr><tr><td><code>[de58683](https://github.com/sagemath/sagetrac-mirror/commit/de586834ad754e3d23ab1275e2fcf680ef812a12)</code></td><td><code>`add test to support empty matrices in is_{hermite,popov,weak_popov,reduced`}</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ed9b400de4dc9586112ba7091788cc586880b31"><code>9ed9b40</code></a></td><td><code>added some SEEALSO blocks</code></td></tr></table>




---

archive/issue_comments_355426.json:
```json
{
    "body": "Changed branch from **[u/vneiger/23619_polmat_helper](https://github.com/sagemath/sagetrac-mirror/tree/u/vneiger/23619_polmat_helper)** to **[u/jsrn/23619_polmat_helper](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/23619_polmat_helper)**",
    "created_at": "2018-03-13T14:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355426",
    "user": "https://github.com/johanrosenkilde"
}
```

Changed branch from **[u/vneiger/23619_polmat_helper](https://github.com/sagemath/sagetrac-mirror/tree/u/vneiger/23619_polmat_helper)** to **[u/jsrn/23619_polmat_helper](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/23619_polmat_helper)**



---

archive/issue_comments_355427.json:
```json
{
    "body": "Changed commit from **[`9ed9b40`](https://github.com/sagemath/sagetrac-mirror/commit/9ed9b400de4dc9586112ba7091788cc586880b31)** to **[`7af4cca`](https://github.com/sagemath/sagetrac-mirror/commit/7af4cca233718feaf727265e7cde9114ce505d4d)**",
    "created_at": "2018-03-13T14:37:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355427",
    "user": "https://github.com/johanrosenkilde"
}
```

Changed commit from **[`9ed9b40`](https://github.com/sagemath/sagetrac-mirror/commit/9ed9b400de4dc9586112ba7091788cc586880b31)** to **[`7af4cca`](https://github.com/sagemath/sagetrac-mirror/commit/7af4cca233718feaf727265e7cde9114ce505d4d)**



---

archive/issue_events_325674.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2018-03-13T14:37:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325674"
}
```



---

archive/issue_comments_355428.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nAuthor forgot to set `needs_review` (but said so in private conversation)\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c44832e87444d3911cc5ae1882277bba394638e2\"><code>c44832e</code></a></td><td><code>Fixed some doc-tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d5635141ce76afd4bb34d3329acd83e2b6e0a69\"><code>5d56351</code></a></td><td><code>Classical Reed-Solomon codes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19ba6f52c1323047a5315b6ec3ec58e6e2ce4760\"><code>19ba6f5</code></a></td><td><code>Fixed small doc-test failure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37515a079dc3240e8b33c8caad8711541d898d10\"><code>37515a0</code></a></td><td><code>Merge branch 'u/vneiger/23619_polmat_helper' of git://trac.sagemath.org/sage into 23619_polmat_helper</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c67c7a3e0904ba01e290ef1bec28637076c6e905\"><code>c67c7a3</code></a></td><td><code>Spaces around operators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/805ecd7535944c45d4a7e539cf08bad823a1e65a\"><code>805ecd7</code></a></td><td><code>Plural row/col degrees in various doc text</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb7f3a665821f9dbfd37725c94cfbfa00124c352\"><code>bb7f3a6</code></a></td><td><code>Fixed a SEEALSO</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03cf1a81eb48d33d66a237c45f901d429a057862\"><code>03cf1a8</code></a></td><td><code>Simplified some logic in is_reduced</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a03af488a026841e1cac0efbd71a6ea31c5bc03\"><code>3a03af4</code></a></td><td><code>Improved reduced_form doc to conform to the rest of the file. A few other small fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7af4cca233718feaf727265e7cde9114ce505d4d\"><code>7af4cca</code></a></td><td><code>Improved doc and examples of weak_popov_form</code></td></tr></table>\n",
    "created_at": "2018-03-13T14:37:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355428",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:24" align="right">comment:24</div>

Author forgot to set `needs_review` (but said so in private conversation)

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c44832e87444d3911cc5ae1882277bba394638e2"><code>c44832e</code></a></td><td><code>Fixed some doc-tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d5635141ce76afd4bb34d3329acd83e2b6e0a69"><code>5d56351</code></a></td><td><code>Classical Reed-Solomon codes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19ba6f52c1323047a5315b6ec3ec58e6e2ce4760"><code>19ba6f5</code></a></td><td><code>Fixed small doc-test failure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37515a079dc3240e8b33c8caad8711541d898d10"><code>37515a0</code></a></td><td><code>Merge branch 'u/vneiger/23619_polmat_helper' of git://trac.sagemath.org/sage into 23619_polmat_helper</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c67c7a3e0904ba01e290ef1bec28637076c6e905"><code>c67c7a3</code></a></td><td><code>Spaces around operators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/805ecd7535944c45d4a7e539cf08bad823a1e65a"><code>805ecd7</code></a></td><td><code>Plural row/col degrees in various doc text</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb7f3a665821f9dbfd37725c94cfbfa00124c352"><code>bb7f3a6</code></a></td><td><code>Fixed a SEEALSO</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03cf1a81eb48d33d66a237c45f901d429a057862"><code>03cf1a8</code></a></td><td><code>Simplified some logic in is_reduced</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a03af488a026841e1cac0efbd71a6ea31c5bc03"><code>3a03af4</code></a></td><td><code>Improved reduced_form doc to conform to the rest of the file. A few other small fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7af4cca233718feaf727265e7cde9114ce505d4d"><code>7af4cca</code></a></td><td><code>Improved doc and examples of weak_popov_form</code></td></tr></table>




---

archive/issue_comments_355429.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nHi Vincent,\n\nI've carefully gone over the entire file now and I like it - we're almost there. I took the liberty to implement directly some smaller fixes, and also to use this ticket to include some improvements to existing docs and examples in that file. Please review these changes.\n\nAs to your changes, I'm ready to green light everything except for the following comments:\n\n- What's the point of `is_empty_popov`? Why not just implement the empty case in `is_*_popov`? If you only have the method for this reason, then the function shoulde be hidden (i.e. start with an underscore). Besides, I find the convention strange: a 2*n matrix can be in Popov form for any n>0 (if n=1 then the second row must be zero for it to be in Popov form). Why disallow 2*0 matrices to be in Popov form?\n\n- I'm thinking that the `is_hermite` argument `lower_echelon` is overkill. I'm\n  not firm on this point since you already implemented it, but is it really\n  useful? Just because not all papers ever agreed on this minor point doesn't\n  mean we should support it everywhere. If the user really wants to, he can\n  easily flip all the rows himself by\n  `M.permute_rows(Permutation(range(M.nrows(),0,-1)))`.\n\n- If you keep `lower_echelon=True`, there should be an example using it where\n  the answer is `True`.\n\nAlso, I like your fix for allowing other row orderings in `is_popov`!\n\nBest,\nJohan",
    "created_at": "2018-03-13T14:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355429",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:25" align="right">comment:25</div>

Hi Vincent,

I've carefully gone over the entire file now and I like it - we're almost there. I took the liberty to implement directly some smaller fixes, and also to use this ticket to include some improvements to existing docs and examples in that file. Please review these changes.

As to your changes, I'm ready to green light everything except for the following comments:

- What's the point of `is_empty_popov`? Why not just implement the empty case in `is_*_popov`? If you only have the method for this reason, then the function shoulde be hidden (i.e. start with an underscore). Besides, I find the convention strange: a 2*n matrix can be in Popov form for any n>0 (if n=1 then the second row must be zero for it to be in Popov form). Why disallow 2*0 matrices to be in Popov form?

- I'm thinking that the `is_hermite` argument `lower_echelon` is overkill. I'm
  not firm on this point since you already implemented it, but is it really
  useful? Just because not all papers ever agreed on this minor point doesn't
  mean we should support it everywhere. If the user really wants to, he can
  easily flip all the rows himself by
  `M.permute_rows(Permutation(range(M.nrows(),0,-1)))`.

- If you keep `lower_echelon=True`, there should be an example using it where
  the answer is `True`.

Also, I like your fix for allowing other row orderings in `is_popov`!

Best,
Johan



---

archive/issue_comments_355430.json:
```json
{
    "body": "Reviewer: **Johan Rosenkilde**",
    "created_at": "2018-03-13T14:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355430",
    "user": "https://github.com/johanrosenkilde"
}
```

Reviewer: **Johan Rosenkilde**



---

archive/issue_events_325675.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2018-03-13T14:40:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325675"
}
```



---

archive/issue_events_325676.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2018-03-13T14:40:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325676"
}
```



---

archive/issue_comments_355431.json:
```json
{
    "body": "Author: **Vincent Neiger**",
    "created_at": "2018-03-13T14:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355431",
    "user": "https://github.com/johanrosenkilde"
}
```

Author: **Vincent Neiger**



---

archive/issue_comments_355432.json:
```json
{
    "body": "Dependencies: **24640**",
    "created_at": "2018-03-13T14:42:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355432",
    "user": "https://github.com/johanrosenkilde"
}
```

Dependencies: **24640**



---

archive/issue_comments_355433.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nOh yeah, I also merged in 24640 since I was worried about a conflict. There seems to have been no conflict with 24640 itself, so technically, I should remove that merge, but there was a conflict with some other parts of rebasing this patch to a newer version of Sage.",
    "created_at": "2018-03-13T14:42:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355433",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:26" align="right">comment:26</div>

Oh yeah, I also merged in 24640 since I was worried about a conflict. There seems to have been no conflict with 24640 itself, so technically, I should remove that merge, but there was a conflict with some other parts of rebasing this patch to a newer version of Sage.



---

archive/issue_comments_355434.json:
```json
{
    "body": "Changed commit from **[`7af4cca`](https://github.com/sagemath/sagetrac-mirror/commit/7af4cca233718feaf727265e7cde9114ce505d4d)** to **[`4830af1`](https://github.com/sagemath/sagetrac-mirror/commit/4830af1400ff1f18c436fdefb1851072d05150f5)**",
    "created_at": "2018-03-14T08:19:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355434",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7af4cca`](https://github.com/sagemath/sagetrac-mirror/commit/7af4cca233718feaf727265e7cde9114ce505d4d)** to **[`4830af1`](https://github.com/sagemath/sagetrac-mirror/commit/4830af1400ff1f18c436fdefb1851072d05150f5)**



---

archive/issue_comments_355435.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/129aa97ed6793bd5d49242639aff1c754bac67ca\"><code>129aa97</code></a></td><td><code>Merge commit '9ed9b40' into 23619_polmat_helper_nodep</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b51228c0e8498237447a695d1ee8cbdc353cf92\"><code>7b51228</code></a></td><td><code>Plural row/col degrees in various doc text</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b70bb386393ce3fe65a267b2a8892742dafe9f1e\"><code>b70bb38</code></a></td><td><code>Fixed a SEEALSO</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/376759f12d3cd9511fe63990d1fc66f36b273dce\"><code>376759f</code></a></td><td><code>Simplified some logic in is_reduced</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a142286161418bbc4a215e32777a844e8aae63f\"><code>0a14228</code></a></td><td><code>Improved reduced_form doc to conform to the rest of the file. A few other small fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4830af1400ff1f18c436fdefb1851072d05150f5\"><code>4830af1</code></a></td><td><code>Improved doc and examples of weak_popov_form</code></td></tr></table>\n",
    "created_at": "2018-03-14T08:19:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355435",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/129aa97ed6793bd5d49242639aff1c754bac67ca"><code>129aa97</code></a></td><td><code>Merge commit '9ed9b40' into 23619_polmat_helper_nodep</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b51228c0e8498237447a695d1ee8cbdc353cf92"><code>7b51228</code></a></td><td><code>Plural row/col degrees in various doc text</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b70bb386393ce3fe65a267b2a8892742dafe9f1e"><code>b70bb38</code></a></td><td><code>Fixed a SEEALSO</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/376759f12d3cd9511fe63990d1fc66f36b273dce"><code>376759f</code></a></td><td><code>Simplified some logic in is_reduced</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a142286161418bbc4a215e32777a844e8aae63f"><code>0a14228</code></a></td><td><code>Improved reduced_form doc to conform to the rest of the file. A few other small fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4830af1400ff1f18c436fdefb1851072d05150f5"><code>4830af1</code></a></td><td><code>Improved doc and examples of weak_popov_form</code></td></tr></table>




---

archive/issue_comments_355436.json:
```json
{
    "body": "Changed commit from **[`4830af1`](https://github.com/sagemath/sagetrac-mirror/commit/4830af1400ff1f18c436fdefb1851072d05150f5)** to **[`9eaf1f5`](https://github.com/sagemath/sagetrac-mirror/commit/9eaf1f558d8fe16c91f61ca04a994ccce3735621)**",
    "created_at": "2018-03-14T08:22:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355436",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4830af1`](https://github.com/sagemath/sagetrac-mirror/commit/4830af1400ff1f18c436fdefb1851072d05150f5)** to **[`9eaf1f5`](https://github.com/sagemath/sagetrac-mirror/commit/9eaf1f558d8fe16c91f61ca04a994ccce3735621)**



---

archive/issue_comments_355437.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9eaf1f558d8fe16c91f61ca04a994ccce3735621\"><code>9eaf1f5</code></a></td><td><code>Spaces around operators</code></td></tr></table>\n",
    "created_at": "2018-03-14T08:22:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355437",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9eaf1f558d8fe16c91f61ca04a994ccce3735621"><code>9eaf1f5</code></a></td><td><code>Spaces around operators</code></td></tr></table>




---

archive/issue_comments_355438.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nYay to rewriting history! So I decided to untangle the dependency on #24640 after all, and this was not difficult at all (make new branch off `develop`, merge in your last commit, cherry-pick my commits). Except that I screwed up and cherry-picked one commit too little (doing `git cherry-pick <commitA>..<commitB>` does **not** include `<commitA>`!) and so ended up adding that after the others. Then `git push --force` and all is well :-) Now we also know that the patch merges on the latest `develop`.",
    "created_at": "2018-03-14T08:26:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355438",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:29" align="right">comment:29</div>

Yay to rewriting history! So I decided to untangle the dependency on #24640 after all, and this was not difficult at all (make new branch off `develop`, merge in your last commit, cherry-pick my commits). Except that I screwed up and cherry-picked one commit too little (doing `git cherry-pick <commitA>..<commitB>` does **not** include `<commitA>`!) and so ended up adding that after the others. Then `git push --force` and all is well :-) Now we also know that the patch merges on the latest `develop`.



---

archive/issue_comments_355439.json:
```json
{
    "body": "Changed dependencies from **24640** to none",
    "created_at": "2018-03-14T08:26:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355439",
    "user": "https://github.com/johanrosenkilde"
}
```

Changed dependencies from **24640** to none



---

archive/issue_comments_355440.json:
```json
{
    "body": "Changed branch from **[u/jsrn/23619_polmat_helper](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/23619_polmat_helper)** to **[u/vneiger/23619_polmat_helper](https://github.com/sagemath/sagetrac-mirror/tree/u/vneiger/23619_polmat_helper)**",
    "created_at": "2018-03-14T08:33:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355440",
    "user": "https://github.com/vneiger"
}
```

Changed branch from **[u/jsrn/23619_polmat_helper](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/23619_polmat_helper)** to **[u/vneiger/23619_polmat_helper](https://github.com/sagemath/sagetrac-mirror/tree/u/vneiger/23619_polmat_helper)**



---

archive/issue_comments_355441.json:
```json
{
    "body": "Changed commit from **[`9eaf1f5`](https://github.com/sagemath/sagetrac-mirror/commit/9eaf1f558d8fe16c91f61ca04a994ccce3735621)** to **[`cfac2e4`](https://github.com/sagemath/sagetrac-mirror/commit/cfac2e494b315b1ca507b6d0cdd5c97ac265312a)**",
    "created_at": "2018-03-14T08:37:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355441",
    "user": "https://github.com/vneiger"
}
```

Changed commit from **[`9eaf1f5`](https://github.com/sagemath/sagetrac-mirror/commit/9eaf1f558d8fe16c91f61ca04a994ccce3735621)** to **[`cfac2e4`](https://github.com/sagemath/sagetrac-mirror/commit/cfac2e494b315b1ca507b6d0cdd5c97ac265312a)**



---

archive/issue_comments_355442.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nOops, I just did \"git trac push\" just before reading your email. I hope I did not break everything...\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d5635141ce76afd4bb34d3329acd83e2b6e0a69\"><code>5d56351</code></a></td><td><code>Classical Reed-Solomon codes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19ba6f52c1323047a5315b6ec3ec58e6e2ce4760\"><code>19ba6f5</code></a></td><td><code>Fixed small doc-test failure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37515a079dc3240e8b33c8caad8711541d898d10\"><code>37515a0</code></a></td><td><code>Merge branch 'u/vneiger/23619_polmat_helper' of git://trac.sagemath.org/sage into 23619_polmat_helper</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c67c7a3e0904ba01e290ef1bec28637076c6e905\"><code>c67c7a3</code></a></td><td><code>Spaces around operators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/805ecd7535944c45d4a7e539cf08bad823a1e65a\"><code>805ecd7</code></a></td><td><code>Plural row/col degrees in various doc text</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb7f3a665821f9dbfd37725c94cfbfa00124c352\"><code>bb7f3a6</code></a></td><td><code>Fixed a SEEALSO</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03cf1a81eb48d33d66a237c45f901d429a057862\"><code>03cf1a8</code></a></td><td><code>Simplified some logic in is_reduced</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a03af488a026841e1cac0efbd71a6ea31c5bc03\"><code>3a03af4</code></a></td><td><code>Improved reduced_form doc to conform to the rest of the file. A few other small fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7af4cca233718feaf727265e7cde9114ce505d4d\"><code>7af4cca</code></a></td><td><code>Improved doc and examples of weak_popov_form</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfac2e494b315b1ca507b6d0cdd5c97ac265312a\"><code>cfac2e4</code></a></td><td><code>some fixes + is_empty_popov now hidden</code></td></tr></table>\n",
    "created_at": "2018-03-14T08:37:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355442",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:31" align="right">comment:31</div>

Oops, I just did "git trac push" just before reading your email. I hope I did not break everything...

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d5635141ce76afd4bb34d3329acd83e2b6e0a69"><code>5d56351</code></a></td><td><code>Classical Reed-Solomon codes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19ba6f52c1323047a5315b6ec3ec58e6e2ce4760"><code>19ba6f5</code></a></td><td><code>Fixed small doc-test failure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37515a079dc3240e8b33c8caad8711541d898d10"><code>37515a0</code></a></td><td><code>Merge branch 'u/vneiger/23619_polmat_helper' of git://trac.sagemath.org/sage into 23619_polmat_helper</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c67c7a3e0904ba01e290ef1bec28637076c6e905"><code>c67c7a3</code></a></td><td><code>Spaces around operators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/805ecd7535944c45d4a7e539cf08bad823a1e65a"><code>805ecd7</code></a></td><td><code>Plural row/col degrees in various doc text</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb7f3a665821f9dbfd37725c94cfbfa00124c352"><code>bb7f3a6</code></a></td><td><code>Fixed a SEEALSO</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03cf1a81eb48d33d66a237c45f901d429a057862"><code>03cf1a8</code></a></td><td><code>Simplified some logic in is_reduced</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a03af488a026841e1cac0efbd71a6ea31c5bc03"><code>3a03af4</code></a></td><td><code>Improved reduced_form doc to conform to the rest of the file. A few other small fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7af4cca233718feaf727265e7cde9114ce505d4d"><code>7af4cca</code></a></td><td><code>Improved doc and examples of weak_popov_form</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfac2e494b315b1ca507b6d0cdd5c97ac265312a"><code>cfac2e4</code></a></td><td><code>some fixes + is_empty_popov now hidden</code></td></tr></table>




---

archive/issue_comments_355443.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@johanrosenkilde](#comment%3A25):\n> Hi Vincent,\n> \n> I've carefully gone over the entire file now and I like it - we're almost there. I took the liberty to implement directly some smaller fixes, and also to use this ticket to include some improvements to existing docs and examples in that file. Please review these changes.\n\nI have checked all changes in the diff, and everything is good. Thank you for fixing this previously existing code (I was unsure if that needed a separate ticket... still learning :-) ).\n\n> - What's the point of `is_empty_popov`? Why not just implement the empty case in `is_*_popov`? If you only have the method for this reason, then the function shoulde be hidden (i.e. start with an underscore). Besides, I find the convention strange: a 2*n matrix can be in Popov form for any n>0 (if n=1 then the second row must be zero for it to be in Popov form). Why disallow 2*0 matrices to be in Popov form?\n\nIt is indeed used in is_reduced, is_weak_popov, and is_popov. So I wrote it only once. Now it is hidden (and it does not check anymore that the input is indeed empty).\nYou are right that there were problems with some matrices; to make it behave like other is_* functions, I added a parameter \"include_zero_vectors\" (True by default, in which case any empty matrix is in shifted Popov form for any shift) and updated the code to reflect this. When one does not want zero rows/vectors in Popov forms, I still think that we should require the number of rows to be at most the number of columns even when the matrix is empty.\n\n> - I'm thinking that the `is_hermite` argument `lower_echelon` is overkill. I'm\n>   not firm on this point since you already implemented it, but is it really\n>   useful? Just because not all papers ever agreed on this minor point doesn't\n>   mean we should support it everywhere. If the user really wants to, he can\n>   easily flip all the rows himself by\n>   `M.permute_rows(Permutation(range(M.nrows(),0,-1)))`.\n\nIt is in fact more complicated than this; it is not just a permutation, the two forms are actually quite different and can have very different degree profiles. Since both are in the literature and both seem to be used frequently, I really prefer keeping this optional argument.\n \n> - If you keep `lower_echelon=True`, there should be an example using it where\n>   the answer is `True`.\n\nDone!\n\nThis made me realise that there is a bug with zero rows in is_weak_popov. I will fix this today.\n\nBest,\n \n      Vincent",
    "created_at": "2018-03-14T08:44:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355443",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@johanrosenkilde](#comment%3A25):
> Hi Vincent,
> 
> I've carefully gone over the entire file now and I like it - we're almost there. I took the liberty to implement directly some smaller fixes, and also to use this ticket to include some improvements to existing docs and examples in that file. Please review these changes.

I have checked all changes in the diff, and everything is good. Thank you for fixing this previously existing code (I was unsure if that needed a separate ticket... still learning :-) ).

> - What's the point of `is_empty_popov`? Why not just implement the empty case in `is_*_popov`? If you only have the method for this reason, then the function shoulde be hidden (i.e. start with an underscore). Besides, I find the convention strange: a 2*n matrix can be in Popov form for any n>0 (if n=1 then the second row must be zero for it to be in Popov form). Why disallow 2*0 matrices to be in Popov form?

It is indeed used in is_reduced, is_weak_popov, and is_popov. So I wrote it only once. Now it is hidden (and it does not check anymore that the input is indeed empty).
You are right that there were problems with some matrices; to make it behave like other is_* functions, I added a parameter "include_zero_vectors" (True by default, in which case any empty matrix is in shifted Popov form for any shift) and updated the code to reflect this. When one does not want zero rows/vectors in Popov forms, I still think that we should require the number of rows to be at most the number of columns even when the matrix is empty.

> - I'm thinking that the `is_hermite` argument `lower_echelon` is overkill. I'm
>   not firm on this point since you already implemented it, but is it really
>   useful? Just because not all papers ever agreed on this minor point doesn't
>   mean we should support it everywhere. If the user really wants to, he can
>   easily flip all the rows himself by
>   `M.permute_rows(Permutation(range(M.nrows(),0,-1)))`.

It is in fact more complicated than this; it is not just a permutation, the two forms are actually quite different and can have very different degree profiles. Since both are in the literature and both seem to be used frequently, I really prefer keeping this optional argument.
 
> - If you keep `lower_echelon=True`, there should be an example using it where
>   the answer is `True`.

Done!

This made me realise that there is a bug with zero rows in is_weak_popov. I will fix this today.

Best,
 
      Vincent



---

archive/issue_comments_355444.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nHi Vincent,\n\nI think you did just bulldoze over my git magic. I'll try to redo it later, but I don't have time right now.\n\n> > - What's the point of `is_empty_popov`? Why not just implement the empty case in `is_*_popov`? If you only have the method for this reason, then the function shoulde be hidden (i.e. start with an underscore). Besides, I find the convention strange: a 2*n matrix can be in Popov form for any n>0 (if n=1 then the second row must be zero for it to be in Popov form). Why disallow 2*0 matrices to be in Popov form?\n> \n> It is indeed used in is_reduced, is_weak_popov, and is_popov. So I wrote it only once. Now it is hidden (and it does not check anymore that the input is indeed empty).\n> You are right that there were problems with some matrices; to make it behave like other is_* functions, I added a parameter \"include_zero_vectors\" (True by default, in which case any empty matrix is in shifted Popov form for any shift) and updated the code to reflect this. When one does not want zero rows/vectors in Popov forms, I still think that we should require the number of rows to be at most the number of columns even when the matrix is empty.\n\nOK, I can agree to this.\n\n> > - I'm thinking that the `is_hermite` argument `lower_echelon` is overkill. I'm\n> >   not firm on this point since you already implemented it, but is it really\n> >   useful? Just because not all papers ever agreed on this minor point doesn't\n> >   mean we should support it everywhere. If the user really wants to, he can\n> >   easily flip all the rows himself by\n> >   `M.permute_rows(Permutation(range(M.nrows(),0,-1)))`.\n> \n> \n> It is in fact more complicated than this; it is not just a permutation, the two forms are actually quite different and can have very different degree profiles. Since both are in the literature and both seem to be used frequently, I really prefer keeping this optional argument.\n\nAh, yes I see I was mistaken. But isn't it true that `H` is in upper-echelon Hermite form exactly when `JHJ` is in lower-echelon Hermite form, where `J` is the anti-diagonal unit matrix (i.e. `JHJ` is `H` with both columns and rows reversed). Equivalently, the upper-echelon Hermite form of `M` should be `JHJ` where `H` is the lower-echelon Hermite form of `JMJ`.\n\nNote also that our current `hermite_form` algorithm does not support computing the upper-echelon variant. Are you planning to add that? (even if you're not, I'm not against keeping `lower_echelon` in `is_hermite`).\n\nBest,\nJohan",
    "created_at": "2018-03-14T10:31:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355444",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:33" align="right">comment:33</div>

Hi Vincent,

I think you did just bulldoze over my git magic. I'll try to redo it later, but I don't have time right now.

> > - What's the point of `is_empty_popov`? Why not just implement the empty case in `is_*_popov`? If you only have the method for this reason, then the function shoulde be hidden (i.e. start with an underscore). Besides, I find the convention strange: a 2*n matrix can be in Popov form for any n>0 (if n=1 then the second row must be zero for it to be in Popov form). Why disallow 2*0 matrices to be in Popov form?
> 
> It is indeed used in is_reduced, is_weak_popov, and is_popov. So I wrote it only once. Now it is hidden (and it does not check anymore that the input is indeed empty).
> You are right that there were problems with some matrices; to make it behave like other is_* functions, I added a parameter "include_zero_vectors" (True by default, in which case any empty matrix is in shifted Popov form for any shift) and updated the code to reflect this. When one does not want zero rows/vectors in Popov forms, I still think that we should require the number of rows to be at most the number of columns even when the matrix is empty.

OK, I can agree to this.

> > - I'm thinking that the `is_hermite` argument `lower_echelon` is overkill. I'm
> >   not firm on this point since you already implemented it, but is it really
> >   useful? Just because not all papers ever agreed on this minor point doesn't
> >   mean we should support it everywhere. If the user really wants to, he can
> >   easily flip all the rows himself by
> >   `M.permute_rows(Permutation(range(M.nrows(),0,-1)))`.
> 
> 
> It is in fact more complicated than this; it is not just a permutation, the two forms are actually quite different and can have very different degree profiles. Since both are in the literature and both seem to be used frequently, I really prefer keeping this optional argument.

Ah, yes I see I was mistaken. But isn't it true that `H` is in upper-echelon Hermite form exactly when `JHJ` is in lower-echelon Hermite form, where `J` is the anti-diagonal unit matrix (i.e. `JHJ` is `H` with both columns and rows reversed). Equivalently, the upper-echelon Hermite form of `M` should be `JHJ` where `H` is the lower-echelon Hermite form of `JMJ`.

Note also that our current `hermite_form` algorithm does not support computing the upper-echelon variant. Are you planning to add that? (even if you're not, I'm not against keeping `lower_echelon` in `is_hermite`).

Best,
Johan



---

archive/issue_comments_355445.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@johanrosenkilde](#comment%3A33):\n> Hi Vincent,\n> \n> I think you did just bulldoze over my git magic. I'll try to redo it later, but I don't have time right now.\n\nArgh... sorry.\n\n>isn't it true that `H` is in upper-echelon Hermite form exactly when `JHJ` is in lower-echelon Hermite form, where `J` is the anti-diagonal unit matrix (i.e. `JHJ` is `H` with both columns and rows reversed). Equivalently, the upper-echelon Hermite form of `M` should be `JHJ` where `H` is the lower-echelon Hermite form of `JMJ`.\n\nYes, I agree, this seems correct.\n\n> Note also that our current `hermite_form` algorithm does not support computing the upper-echelon variant. Are you planning to add that? (even if you're not, I'm not against keeping `lower_echelon` in `is_hermite`).\n\nIn fact the current code computes the upper echelon and not the lower, and I am among the ones preferring the lower, this is what led me to put this option in is_hermite despite the existing code.\n\nSo I am considering adding support for lower echelon in `hermite_form`, simply by making sure your remark above is correct and using it in the straightforward way (if lower echelon, then start by replacing M by JMJ, run the current code, and then finish by replacing H by JHJ).\nDoes this sound ok?\n\nBest,\nVincent",
    "created_at": "2018-03-14T10:48:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355445",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@johanrosenkilde](#comment%3A33):
> Hi Vincent,
> 
> I think you did just bulldoze over my git magic. I'll try to redo it later, but I don't have time right now.

Argh... sorry.

>isn't it true that `H` is in upper-echelon Hermite form exactly when `JHJ` is in lower-echelon Hermite form, where `J` is the anti-diagonal unit matrix (i.e. `JHJ` is `H` with both columns and rows reversed). Equivalently, the upper-echelon Hermite form of `M` should be `JHJ` where `H` is the lower-echelon Hermite form of `JMJ`.

Yes, I agree, this seems correct.

> Note also that our current `hermite_form` algorithm does not support computing the upper-echelon variant. Are you planning to add that? (even if you're not, I'm not against keeping `lower_echelon` in `is_hermite`).

In fact the current code computes the upper echelon and not the lower, and I am among the ones preferring the lower, this is what led me to put this option in is_hermite despite the existing code.

So I am considering adding support for lower echelon in `hermite_form`, simply by making sure your remark above is correct and using it in the straightforward way (if lower echelon, then start by replacing M by JMJ, run the current code, and then finish by replacing H by JHJ).
Does this sound ok?

Best,
Vincent



---

archive/issue_comments_355446.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5d4b4726b360343da9ff3f0082df77794d4af6c\"><code>a5d4b47</code></a></td><td><code>fixed bug in is_weak_popov</code></td></tr></table>\n",
    "created_at": "2018-03-14T14:14:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355446",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5d4b4726b360343da9ff3f0082df77794d4af6c"><code>a5d4b47</code></a></td><td><code>fixed bug in is_weak_popov</code></td></tr></table>




---

archive/issue_comments_355447.json:
```json
{
    "body": "Changed commit from **[`cfac2e4`](https://github.com/sagemath/sagetrac-mirror/commit/cfac2e494b315b1ca507b6d0cdd5c97ac265312a)** to **[`a5d4b47`](https://github.com/sagemath/sagetrac-mirror/commit/a5d4b4726b360343da9ff3f0082df77794d4af6c)**",
    "created_at": "2018-03-14T14:14:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355447",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cfac2e4`](https://github.com/sagemath/sagetrac-mirror/commit/cfac2e494b315b1ca507b6d0cdd5c97ac265312a)** to **[`a5d4b47`](https://github.com/sagemath/sagetrac-mirror/commit/a5d4b4726b360343da9ff3f0082df77794d4af6c)**



---

archive/issue_comments_355448.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nOk, the bug is fixed. All seems to work fine now.\n\nThere could be a line of work around making previously existing functions work with options in a more unified way: include-zero-vectors and row-wise options for Hermite form, reduced form, weak Popov form, lower-echelon option for Hermite form, etc.\n\nIn my opinion this could be a separate ticket about these computations of matrix forms, where we should also consider implementing Popov form computation (probably with Mulders-Storjohann algorithm, starting from a weak Popov matrix).\n\nWhat do you think?\n\nBest,  -- Vincent",
    "created_at": "2018-03-14T14:54:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355448",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:36" align="right">comment:36</div>

Ok, the bug is fixed. All seems to work fine now.

There could be a line of work around making previously existing functions work with options in a more unified way: include-zero-vectors and row-wise options for Hermite form, reduced form, weak Popov form, lower-echelon option for Hermite form, etc.

In my opinion this could be a separate ticket about these computations of matrix forms, where we should also consider implementing Popov form computation (probably with Mulders-Storjohann algorithm, starting from a weak Popov matrix).

What do you think?

Best,  -- Vincent



---

archive/issue_events_325677.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2018-05-19T08:12:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325677"
}
```



---

archive/issue_events_325678.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2018-05-19T08:12:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325678"
}
```



---

archive/issue_comments_355449.json:
```json
{
    "body": "Changed reviewer from **Johan Rosenkilde** to **Johan Rosenkilde, Romain Lebreton, Pascal Giorgi**",
    "created_at": "2018-05-19T08:12:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355449",
    "user": "https://github.com/vneiger"
}
```

Changed reviewer from **Johan Rosenkilde** to **Johan Rosenkilde, Romain Lebreton, Pascal Giorgi**



---

archive/issue_comments_355450.json:
```json
{
    "body": "Changed reviewer from **Johan Rosenkilde, Romain Lebreton, Pascal Giorgi** to **Johan Rosenkilde, Romain Lebreton, Pascal Giorgi, Bruno Grenet**",
    "created_at": "2018-06-07T14:32:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355450",
    "user": "https://github.com/romainlebreton"
}
```

Changed reviewer from **Johan Rosenkilde, Romain Lebreton, Pascal Giorgi** to **Johan Rosenkilde, Romain Lebreton, Pascal Giorgi, Bruno Grenet**



---

archive/issue_comments_355451.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nHey Vincent,\n\nI have started to review your code and I want to give you my first comment since I don't know when I will have time to continue the review.\nFirst of all, your code is really nice to read, so thank you for your contribution\n\n## General Comments\n\nAdd your name as author ?\n\nYou should have created multiple small tickets, possibly one by small group of\nfunctions\n\nWhy import `from sage.matrix.matrix2 cimport Matrix` if `sage.matrix.matrix2.Matrix` is never used ?\nHowever, it may be faster to call directly `sage.matrix.matrix2.Matrix` instead of \n`sage.matrix.constructor.Matrix`.\n\nTests fail (see Continuous integration) in src/sage/coding/ because of deprecated row_reduced_form\n\n```\nsage -t src/sage/coding/extended_code.py  # 1 doctest failed\nsage -t src/sage/coding/guruswami_sudan/gs_decoder.py  # 1 doctest failed\nsage -t src/sage/coding/guruswami_sudan/interpolation.py  # 1 doctest failed\nsage -t src/sage/coding/bch.py  # 1 doctest failed\n```\n\n## _check_shift_dimension\n\nWhat is the point of argument 'shifts' being optional ? If you check shifts\ndimension, you should provide shifts.\n\n## column_degrees\n\nYou should have a code closer to row_degrees, which is cleaner. In particular, please remove \n`if self.nrows() == 0: ...` on line 354\n\n## leading_matrix\n\nSuggestion:\nI am not sure that the part \"Going over the Laurent polynomials\" is useful to\nunderstand the behavior of the function. It is important scientifically to\nmanipulate leading matrices, in particular for understanding the leading matrix\nof the product, but not so much for its definition.\n\n## reduced_form\nYou should add documentation about option \"row_wise\"\n\nBest, Romain",
    "created_at": "2018-06-08T16:30:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355451",
    "user": "https://github.com/romainlebreton"
}
```

<div id="comment:40" align="right">comment:40</div>

Hey Vincent,

I have started to review your code and I want to give you my first comment since I don't know when I will have time to continue the review.
First of all, your code is really nice to read, so thank you for your contribution

## General Comments

Add your name as author ?

You should have created multiple small tickets, possibly one by small group of
functions

Why import `from sage.matrix.matrix2 cimport Matrix` if `sage.matrix.matrix2.Matrix` is never used ?
However, it may be faster to call directly `sage.matrix.matrix2.Matrix` instead of 
`sage.matrix.constructor.Matrix`.

Tests fail (see Continuous integration) in src/sage/coding/ because of deprecated row_reduced_form

```
sage -t src/sage/coding/extended_code.py  # 1 doctest failed
sage -t src/sage/coding/guruswami_sudan/gs_decoder.py  # 1 doctest failed
sage -t src/sage/coding/guruswami_sudan/interpolation.py  # 1 doctest failed
sage -t src/sage/coding/bch.py  # 1 doctest failed
```

## _check_shift_dimension

What is the point of argument 'shifts' being optional ? If you check shifts
dimension, you should provide shifts.

## column_degrees

You should have a code closer to row_degrees, which is cleaner. In particular, please remove 
`if self.nrows() == 0: ...` on line 354

## leading_matrix

Suggestion:
I am not sure that the part "Going over the Laurent polynomials" is useful to
understand the behavior of the function. It is important scientifically to
manipulate leading matrices, in particular for understanding the leading matrix
of the product, but not so much for its definition.

## reduced_form
You should add documentation about option "row_wise"

Best, Romain



---

archive/issue_comments_355452.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nSide remark: error message should start with lower case and not have punctuation similarly to\n\n```\nsage: l = []\nsage: l[1]\nTraceback (most recent call last):\n...\nIndexError: list index out of range\n```",
    "created_at": "2018-06-08T17:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355452",
    "user": "https://github.com/videlec"
}
```

<div id="comment:41" align="right">comment:41</div>

Side remark: error message should start with lower case and not have punctuation similarly to

```
sage: l = []
sage: l[1]
Traceback (most recent call last):
...
IndexError: list index out of range
```



---

archive/issue_comments_355453.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nHey Vincent,\n\nhere is the second and final part of my review. I really like your contribution and I appreciate the effort that you have put into it !\n\nHere are my comments suggestions\n\n## _is_empty_popov\n\nl501\n\n```\nif not include_zero_vectors:\n   return True\n```\nshould be\n\n```\nif include_zero_vectors:\n   return True\n```\n\nAlso your tests should capture this behavior.\n\n## is_reduced\n\n* l518 with $k \\leq n$ -> with $k \\leq m$ ?\n* l525 with $k \\leq m$ -> with $k \\leq n$ ?\n\n* l578 `return self._is_empty_popov(row_wise)`\n\n  I'm not able to tell if it is correct or if it should be \n  `return self._is_empty_popov(row_wise,include_zero_vectors)`\n\n* l609 \"The definition is similar if working column-wise\"\n\n  It would be nice to mention here too that \"we choose bottommost entry in case of\n  degree equality\"\n\n\n## leading_positions\n\n* l594 \"(also known as the pivot index)\" -> pivot indices\n \n* l594 pivot degree ->  pivot degrees\n\n* idem l772\n\n* l602 \"Then the pivot degree of the vector is the degree $\\deg(p_j)$\"\n\n  Is it really $\\deg(p_j)$ or should it be $\\deg(p_j) + s_j$ instead ?\n\n## is_weak_popov\n\nl772 pivot index -> pivot indices\n\n## is_popov\n\nl957  `not up_to_permutation,`\n\nI don't understand why you negate up_to_permutation here. Can you please check ?\n\n## is_hermite\n\nMaybe copy the sentence at l74 \"In fact, if $d$ is the largest degree ...\"\nrelating Popov and Hermite at the end of the comments of the function\n\nIs the \"+ 1\" in lines 1071 and 1073 really necessary ?\n\n## weak_popov_form==\n\nl1096 If this **is** ``True``\n\nIs there a good reason to not implement option row_wise here ?\n\n## reduced_form==\n\nShould add documentation about option \"row_wise\"\n\nl1291 <code>If this **is** \\`\\`True\\`\\`</code>\n\nBest,\n\nRomain",
    "created_at": "2018-06-12T16:35:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355453",
    "user": "https://github.com/romainlebreton"
}
```

<div id="comment:42" align="right">comment:42</div>

Hey Vincent,

here is the second and final part of my review. I really like your contribution and I appreciate the effort that you have put into it !

Here are my comments suggestions

## _is_empty_popov

l501

```
if not include_zero_vectors:
   return True
```
should be

```
if include_zero_vectors:
   return True
```

Also your tests should capture this behavior.

## is_reduced

* l518 with $k \leq n$ -> with $k \leq m$ ?
* l525 with $k \leq m$ -> with $k \leq n$ ?

* l578 `return self._is_empty_popov(row_wise)`

  I'm not able to tell if it is correct or if it should be 
  `return self._is_empty_popov(row_wise,include_zero_vectors)`

* l609 "The definition is similar if working column-wise"

  It would be nice to mention here too that "we choose bottommost entry in case of
  degree equality"


## leading_positions

* l594 "(also known as the pivot index)" -> pivot indices
 
* l594 pivot degree ->  pivot degrees

* idem l772

* l602 "Then the pivot degree of the vector is the degree $\deg(p_j)$"

  Is it really $\deg(p_j)$ or should it be $\deg(p_j) + s_j$ instead ?

## is_weak_popov

l772 pivot index -> pivot indices

## is_popov

l957  `not up_to_permutation,`

I don't understand why you negate up_to_permutation here. Can you please check ?

## is_hermite

Maybe copy the sentence at l74 "In fact, if $d$ is the largest degree ..."
relating Popov and Hermite at the end of the comments of the function

Is the "+ 1" in lines 1071 and 1073 really necessary ?

## weak_popov_form==

l1096 If this **is** ``True``

Is there a good reason to not implement option row_wise here ?

## reduced_form==

Should add documentation about option "row_wise"

l1291 <code>If this **is** \`\`True\`\`</code>

Best,

Romain



---

archive/issue_events_325679.json:
```json
{
    "actor": "https://github.com/romainlebreton",
    "created_at": "2018-06-12T16:38:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325679"
}
```



---

archive/issue_events_325680.json:
```json
{
    "actor": "https://github.com/romainlebreton",
    "created_at": "2018-06-12T16:38:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325680"
}
```



---

archive/issue_comments_355454.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nHi Romain,\n\nThank you very much for your careful review. I have worked on correcting/updating the code, and here are below some answers to specific points.\n\nReplying to [@romainlebreton](#comment%3A40):\n> ## General Comments\n> Add your name as author ?\n\nDone.\n\n> Why import `from sage.matrix.matrix2 cimport Matrix` if `sage.matrix.matrix2.Matrix` is never used ?\n> However, it may be faster to call directly `sage.matrix.matrix2.Matrix` instead of \n> `sage.matrix.constructor.Matrix`.\n\nI am not familiar with this: this was already imported in this file prior to that ticket. To avoid breaking something that others wrote, I prefer leaving it as is... but please advise me if you are certain of a solution to make this point cleaner.\n> \n> Tests fail (see Continuous integration) in src/sage/coding/ because of deprecated row_reduced_form\n> \n> ```\n> sage -t src/sage/coding/extended_code.py  # 1 doctest failed\n> sage -t src/sage/coding/guruswami_sudan/gs_decoder.py  # 1 doctest failed\n> sage -t src/sage/coding/guruswami_sudan/interpolation.py  # 1 doctest failed\n> sage -t src/sage/coding/bch.py  # 1 doctest failed\n> ```\n\nI have modified these files to use the new function name, thank you.\n \n> ## _check_shift_dimension\n> \n> What is the point of argument 'shifts' being optional ? If you check shifts\n> dimension, you should provide shifts.\n\nThis was corrected, thank you. Now, 'shifts' must be given, and is still allowed to be 'None' because this happens to be convenient in other functions.\n \n> ## column_degrees\n> \n> You should have a code closer to row_degrees, which is cleaner. In particular, please remove \n> `if self.nrows() == 0: ...` on line 354\n\nThis has been done. Thank you.\n\n> ## leading_matrix\n> \n> Suggestion:\n> I am not sure that the part \"Going over the Laurent polynomials\" is useful to\n> understand the behavior of the function. It is important scientifically to\n> manipulate leading matrices, in particular for understanding the leading matrix\n> of the product, but not so much for its definition.\n\nThank you for the suggestion; I agree that this is not essential here and does not add much to the first definition given in the documentation. To make the documentation easier to follow, I removed this remark.\n\n> ## reduced_form\n> You should add documentation about option \"row_wise\"\n\nDone, thank you for noticing.\n\nI'll continue right now with your other batch of remarks.\n\n      Vincent",
    "created_at": "2018-06-13T09:37:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355454",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:44" align="right">comment:44</div>

Hi Romain,

Thank you very much for your careful review. I have worked on correcting/updating the code, and here are below some answers to specific points.

Replying to [@romainlebreton](#comment%3A40):
> ## General Comments
> Add your name as author ?

Done.

> Why import `from sage.matrix.matrix2 cimport Matrix` if `sage.matrix.matrix2.Matrix` is never used ?
> However, it may be faster to call directly `sage.matrix.matrix2.Matrix` instead of 
> `sage.matrix.constructor.Matrix`.

I am not familiar with this: this was already imported in this file prior to that ticket. To avoid breaking something that others wrote, I prefer leaving it as is... but please advise me if you are certain of a solution to make this point cleaner.
> 
> Tests fail (see Continuous integration) in src/sage/coding/ because of deprecated row_reduced_form
> 
> ```
> sage -t src/sage/coding/extended_code.py  # 1 doctest failed
> sage -t src/sage/coding/guruswami_sudan/gs_decoder.py  # 1 doctest failed
> sage -t src/sage/coding/guruswami_sudan/interpolation.py  # 1 doctest failed
> sage -t src/sage/coding/bch.py  # 1 doctest failed
> ```

I have modified these files to use the new function name, thank you.
 
> ## _check_shift_dimension
> 
> What is the point of argument 'shifts' being optional ? If you check shifts
> dimension, you should provide shifts.

This was corrected, thank you. Now, 'shifts' must be given, and is still allowed to be 'None' because this happens to be convenient in other functions.
 
> ## column_degrees
> 
> You should have a code closer to row_degrees, which is cleaner. In particular, please remove 
> `if self.nrows() == 0: ...` on line 354

This has been done. Thank you.

> ## leading_matrix
> 
> Suggestion:
> I am not sure that the part "Going over the Laurent polynomials" is useful to
> understand the behavior of the function. It is important scientifically to
> manipulate leading matrices, in particular for understanding the leading matrix
> of the product, but not so much for its definition.

Thank you for the suggestion; I agree that this is not essential here and does not add much to the first definition given in the documentation. To make the documentation easier to follow, I removed this remark.

> ## reduced_form
> You should add documentation about option "row_wise"

Done, thank you for noticing.

I'll continue right now with your other batch of remarks.

      Vincent



---

archive/issue_comments_355455.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a6282609e1660251ba329d4340c8016eaae5938\"><code>3a62826</code></a></td><td><code>add author name</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56a1427d4e679dd404e000b1df70f8780093f99e\"><code>56a1427</code></a></td><td><code>updated author + corrected check_shifts + corrected column_degree</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38c2a94d7c73ef6f07bb1ed650d802364aeb7e82\"><code>38c2a94</code></a></td><td><code>simplified documentation of leading_matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b4944c7378be2d4d4f760a8089558eaca4da435\"><code>7b4944c</code></a></td><td><code>added row wise in input in documentation of row_reduced</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bf254ebc97e6d716161a047f0f5549a11e9a235\"><code>1bf254e</code></a></td><td><code>updating code with new function name</code></td></tr></table>\n",
    "created_at": "2018-06-13T09:38:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355455",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a6282609e1660251ba329d4340c8016eaae5938"><code>3a62826</code></a></td><td><code>add author name</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56a1427d4e679dd404e000b1df70f8780093f99e"><code>56a1427</code></a></td><td><code>updated author + corrected check_shifts + corrected column_degree</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38c2a94d7c73ef6f07bb1ed650d802364aeb7e82"><code>38c2a94</code></a></td><td><code>simplified documentation of leading_matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b4944c7378be2d4d4f760a8089558eaca4da435"><code>7b4944c</code></a></td><td><code>added row wise in input in documentation of row_reduced</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bf254ebc97e6d716161a047f0f5549a11e9a235"><code>1bf254e</code></a></td><td><code>updating code with new function name</code></td></tr></table>




---

archive/issue_comments_355456.json:
```json
{
    "body": "Changed commit from **[`a5d4b47`](https://github.com/sagemath/sagetrac-mirror/commit/a5d4b4726b360343da9ff3f0082df77794d4af6c)** to **[`1bf254e`](https://github.com/sagemath/sagetrac-mirror/commit/1bf254ebc97e6d716161a047f0f5549a11e9a235)**",
    "created_at": "2018-06-13T09:38:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355456",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a5d4b47`](https://github.com/sagemath/sagetrac-mirror/commit/a5d4b4726b360343da9ff3f0082df77794d4af6c)** to **[`1bf254e`](https://github.com/sagemath/sagetrac-mirror/commit/1bf254ebc97e6d716161a047f0f5549a11e9a235)**



---

archive/issue_comments_355457.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/386ce509266cf6ae60fb14c30d29801519ece49a\"><code>386ce50</code></a></td><td><code>format of error messages</code></td></tr></table>\n",
    "created_at": "2018-06-13T09:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355457",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/386ce509266cf6ae60fb14c30d29801519ece49a"><code>386ce50</code></a></td><td><code>format of error messages</code></td></tr></table>




---

archive/issue_comments_355458.json:
```json
{
    "body": "Changed commit from **[`1bf254e`](https://github.com/sagemath/sagetrac-mirror/commit/1bf254ebc97e6d716161a047f0f5549a11e9a235)** to **[`386ce50`](https://github.com/sagemath/sagetrac-mirror/commit/386ce509266cf6ae60fb14c30d29801519ece49a)**",
    "created_at": "2018-06-13T09:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355458",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1bf254e`](https://github.com/sagemath/sagetrac-mirror/commit/1bf254ebc97e6d716161a047f0f5549a11e9a235)** to **[`386ce50`](https://github.com/sagemath/sagetrac-mirror/commit/386ce509266cf6ae60fb14c30d29801519ece49a)**



---

archive/issue_comments_355459.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@videlec](#comment%3A41):\n> Side remark: error message should start with lower case and not have punctuation similarly to\n> ...\n\nDear Vincent,\n\nThank you very much, this has been corrected.\n\nBest,\n    Vincent",
    "created_at": "2018-06-13T09:44:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355459",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@videlec](#comment%3A41):
> Side remark: error message should start with lower case and not have punctuation similarly to
> ...

Dear Vincent,

Thank you very much, this has been corrected.

Best,
    Vincent



---

archive/issue_comments_355460.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@romainlebreton](#comment%3A42):\n> here is the second and final part of my review. I really like your contribution and I appreciate the effort that you have put into it !\n\nThank you :-)  And I greatly appreciate your very careful and useful reviewing work.\n\n> ## _is_empty_popov\n> \n> l501\n> \n> ```\n> if not include_zero_vectors:\n>    return True\n> ```\n> should be\n> \n> ```\n> if include_zero_vectors:\n>    return True\n> ```\n> \n> Also your tests should capture this behavior.\n\nOh, big mistake, now corrected. Thank you for noticing.\n \n> ## is_reduced\n> \n> * l518 with $k \\leq n$ -> with $k \\leq m$ ?\n> * l525 with $k \\leq m$ -> with $k \\leq n$ ?\n\nI think what is written is correct. What you suggest is correct too (the number of nonzero rows is obviously at most m). The fact that the number of nonzero rows must be at most the number n of columns is because a row reduced matrix represents a basis of some submodule of length-n polynomial vectors (such a submodule is free and its basis has at most n elements). In some papers the definition of reduced does not require this, but then it becomes relatively more complicated and makes it more difficult to manipulate reduced forms, while it is not clear to me what advantages this more general definition could bring except possibly in very particular cases.\n\n> * l578 `return self._is_empty_popov(row_wise)`\n> \n>   I'm not able to tell if it is correct or if it should be \n>   `return self._is_empty_popov(row_wise,include_zero_vectors)`\n\nThis should be the latter version indeed, thank you.\n \n> * l609 \"The definition is similar if working column-wise\"\n> \n>   It would be nice to mention here too that \"we choose bottommost entry in case of\n>   degree equality\"\n\nDone.\n\n> ## leading_positions\n> \n> * l594 \"(also known as the pivot index)\" -> pivot indices\n>  \n> * l594 pivot degree ->  pivot degrees\n> \n> * idem l772\n\nThere has been a small discussion with Johan on this; in the literature there is a mix of singular and plural. The 'pivot degree' is a tuple of pivot degrees... anyway, for me both are fine, and since we used plural for 'positions' I suppose we should use plural for indices/degrees.\n\n> * l602 \"Then the pivot degree of the vector is the degree $\\deg(p_j)$\"\n> \n>   Is it really $\\deg(p_j)$ or should it be $\\deg(p_j) + s_j$ instead ?\n\nThe pivot degree is the actual degree of the polynomial, and if you add the shift this would be the (shifted) row degree. Both are useful.\n\n> ## is_popov\n> \n> l957  `not up_to_permutation,`\n> \n> I don't understand why you negate up_to_permutation here. Can you please check ?\n\nThe argument `ordered` of `is_weak_popov` will require that the leading positions are strictly increasing; so it should be false when we are testing that the matrix is in Popov form up to row permutation (and true otherwise).\n\n> ## is_hermite\n> \n> Maybe copy the sentence at l74 \"In fact, if $d$ is the largest degree ...\"\n> relating Popov and Hermite at the end of the comments of the function\n\nI incorporated this remark, than you for the suggestion.\n \n> Is the \"+ 1\" in lines 1071 and 1073 really necessary ?\n\nYes, because of the way we choose leading positions (rightmost nonzero), and because there is an option to have the upper triangular row-wise Hermite form. For example, working row-wise and with upper-triangular Hermite, a 2x2 matrix with rows `[X  X]` and `[1  X^2]` is (2,0)-Popov but not Hermite; so if we used this shift (2,0) instead of (2+1,0) (where 2 is the degree of the matrix), the Hermite test relying on (2,0)-Popov form would give a wrong answer.\n> \n> ## weak_popov_form==\n> \n> l1096 If this **is** ``True``\n\nCorrected, thank you! \n> Is there a good reason to not implement option row_wise here ?\n\nThis was considered out of the scope of this ticket, since there is anyway some work to be done on these reduction functions (adding Popov form, cleaning existing code using the new functions...).\n> \n> ## reduced_form==\n> \n> Should add documentation about option \"row_wise\"\n> \n> l1291 <code>If this **is** \\`\\`True\\`\\`</code>\n\nCorrected, thank you!\n\nPlease let me know if you have further suggestions for improvements.\n\nBest,\n\n     Vincent",
    "created_at": "2018-06-13T10:51:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355460",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@romainlebreton](#comment%3A42):
> here is the second and final part of my review. I really like your contribution and I appreciate the effort that you have put into it !

Thank you :-)  And I greatly appreciate your very careful and useful reviewing work.

> ## _is_empty_popov
> 
> l501
> 
> ```
> if not include_zero_vectors:
>    return True
> ```
> should be
> 
> ```
> if include_zero_vectors:
>    return True
> ```
> 
> Also your tests should capture this behavior.

Oh, big mistake, now corrected. Thank you for noticing.
 
> ## is_reduced
> 
> * l518 with $k \leq n$ -> with $k \leq m$ ?
> * l525 with $k \leq m$ -> with $k \leq n$ ?

I think what is written is correct. What you suggest is correct too (the number of nonzero rows is obviously at most m). The fact that the number of nonzero rows must be at most the number n of columns is because a row reduced matrix represents a basis of some submodule of length-n polynomial vectors (such a submodule is free and its basis has at most n elements). In some papers the definition of reduced does not require this, but then it becomes relatively more complicated and makes it more difficult to manipulate reduced forms, while it is not clear to me what advantages this more general definition could bring except possibly in very particular cases.

> * l578 `return self._is_empty_popov(row_wise)`
> 
>   I'm not able to tell if it is correct or if it should be 
>   `return self._is_empty_popov(row_wise,include_zero_vectors)`

This should be the latter version indeed, thank you.
 
> * l609 "The definition is similar if working column-wise"
> 
>   It would be nice to mention here too that "we choose bottommost entry in case of
>   degree equality"

Done.

> ## leading_positions
> 
> * l594 "(also known as the pivot index)" -> pivot indices
>  
> * l594 pivot degree ->  pivot degrees
> 
> * idem l772

There has been a small discussion with Johan on this; in the literature there is a mix of singular and plural. The 'pivot degree' is a tuple of pivot degrees... anyway, for me both are fine, and since we used plural for 'positions' I suppose we should use plural for indices/degrees.

> * l602 "Then the pivot degree of the vector is the degree $\deg(p_j)$"
> 
>   Is it really $\deg(p_j)$ or should it be $\deg(p_j) + s_j$ instead ?

The pivot degree is the actual degree of the polynomial, and if you add the shift this would be the (shifted) row degree. Both are useful.

> ## is_popov
> 
> l957  `not up_to_permutation,`
> 
> I don't understand why you negate up_to_permutation here. Can you please check ?

The argument `ordered` of `is_weak_popov` will require that the leading positions are strictly increasing; so it should be false when we are testing that the matrix is in Popov form up to row permutation (and true otherwise).

> ## is_hermite
> 
> Maybe copy the sentence at l74 "In fact, if $d$ is the largest degree ..."
> relating Popov and Hermite at the end of the comments of the function

I incorporated this remark, than you for the suggestion.
 
> Is the "+ 1" in lines 1071 and 1073 really necessary ?

Yes, because of the way we choose leading positions (rightmost nonzero), and because there is an option to have the upper triangular row-wise Hermite form. For example, working row-wise and with upper-triangular Hermite, a 2x2 matrix with rows `[X  X]` and `[1  X^2]` is (2,0)-Popov but not Hermite; so if we used this shift (2,0) instead of (2+1,0) (where 2 is the degree of the matrix), the Hermite test relying on (2,0)-Popov form would give a wrong answer.
> 
> ## weak_popov_form==
> 
> l1096 If this **is** ``True``

Corrected, thank you! 
> Is there a good reason to not implement option row_wise here ?

This was considered out of the scope of this ticket, since there is anyway some work to be done on these reduction functions (adding Popov form, cleaning existing code using the new functions...).
> 
> ## reduced_form==
> 
> Should add documentation about option "row_wise"
> 
> l1291 <code>If this **is** \`\`True\`\`</code>

Corrected, thank you!

Please let me know if you have further suggestions for improvements.

Best,

     Vincent



---

archive/issue_comments_355461.json:
```json
{
    "body": "Changed commit from **[`386ce50`](https://github.com/sagemath/sagetrac-mirror/commit/386ce509266cf6ae60fb14c30d29801519ece49a)** to **[`c0ffff7`](https://github.com/sagemath/sagetrac-mirror/commit/c0ffff7f5acfea11709a7647052aa2faa0cb0efa)**",
    "created_at": "2018-06-13T10:51:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355461",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`386ce50`](https://github.com/sagemath/sagetrac-mirror/commit/386ce509266cf6ae60fb14c30d29801519ece49a)** to **[`c0ffff7`](https://github.com/sagemath/sagetrac-mirror/commit/c0ffff7f5acfea11709a7647052aa2faa0cb0efa)**



---

archive/issue_comments_355462.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d85794d1f410c253f9b994993cc64b8c6d17aa9\"><code>2d85794</code></a></td><td><code>update doc to reflect updated error messages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f05f3e39811197512e6bdee4ab909dcb67fced21\"><code>f05f3e3</code></a></td><td><code>corrected is_empty_popov</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6078e8e995ca59cf9a3d0dc2b9efea09dc8ad2e8\"><code>6078e8e</code></a></td><td><code>corrected pivot index / leading positions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1337eae56f98c003f648b9120bd7e4d9654321ba\"><code>1337eae</code></a></td><td><code>typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0ffff7f5acfea11709a7647052aa2faa0cb0efa\"><code>c0ffff7</code></a></td><td><code>typo</code></td></tr></table>\n",
    "created_at": "2018-06-13T10:51:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355462",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d85794d1f410c253f9b994993cc64b8c6d17aa9"><code>2d85794</code></a></td><td><code>update doc to reflect updated error messages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f05f3e39811197512e6bdee4ab909dcb67fced21"><code>f05f3e3</code></a></td><td><code>corrected is_empty_popov</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6078e8e995ca59cf9a3d0dc2b9efea09dc8ad2e8"><code>6078e8e</code></a></td><td><code>corrected pivot index / leading positions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1337eae56f98c003f648b9120bd7e4d9654321ba"><code>1337eae</code></a></td><td><code>typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0ffff7f5acfea11709a7647052aa2faa0cb0efa"><code>c0ffff7</code></a></td><td><code>typo</code></td></tr></table>




---

archive/issue_events_325681.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2018-06-13T10:54:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325681"
}
```



---

archive/issue_events_325682.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2018-06-13T10:54:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325682"
}
```



---

archive/issue_comments_355463.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@vneiger](#comment%3A44):\n> > Why import `from sage.matrix.matrix2 cimport Matrix` if `sage.matrix.matrix2.Matrix` is never used ?\n> > However, it may be faster to call directly `sage.matrix.matrix2.Matrix` instead of \n> > `sage.matrix.constructor.Matrix`.\n> \n> I am not familiar with this: this was already imported in this file prior to that ticket. To avoid breaking something that others wrote, I prefer leaving it as is... but please advise me if you are certain of a solution to make this point cleaner.\n\nIt is actually used (the `Matrix` from `sage.matrix.matrix2`) at lines 1199-1200, so it ~~should~~ must be imported. You could also import `Matrix` from `sage.matrix.constructor` at the beginning of the file using another name for it as follows: `from sage.matrix.constructor import Matrix as Matrix_constructor`. I do not know which one is better...\n\nAnother point: I read that the renaming of `row_reduced_form` to `reduced_form` what discussed between Johan and you. What is the rationale?",
    "created_at": "2018-06-13T14:43:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355463",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@vneiger](#comment%3A44):
> > Why import `from sage.matrix.matrix2 cimport Matrix` if `sage.matrix.matrix2.Matrix` is never used ?
> > However, it may be faster to call directly `sage.matrix.matrix2.Matrix` instead of 
> > `sage.matrix.constructor.Matrix`.
> 
> I am not familiar with this: this was already imported in this file prior to that ticket. To avoid breaking something that others wrote, I prefer leaving it as is... but please advise me if you are certain of a solution to make this point cleaner.

It is actually used (the `Matrix` from `sage.matrix.matrix2`) at lines 1199-1200, so it ~~should~~ must be imported. You could also import `Matrix` from `sage.matrix.constructor` at the beginning of the file using another name for it as follows: `from sage.matrix.constructor import Matrix as Matrix_constructor`. I do not know which one is better...

Another point: I read that the renaming of `row_reduced_form` to `reduced_form` what discussed between Johan and you. What is the rationale?



---

archive/issue_comments_355464.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nHi Bruno,\n\nReplying to [@bgrenet](#comment%3A51):\n> Replying to [@vneiger](#comment%3A44):\n> > > Why import `from sage.matrix.matrix2 cimport Matrix` if `sage.matrix.matrix2.Matrix` is never used ?\n> > > However, it may be faster to call directly `sage.matrix.matrix2.Matrix` instead of \n> > > `sage.matrix.constructor.Matrix`.\n> > \n> > I am not familiar with this: this was already imported in this file prior to that ticket. To avoid breaking something that others wrote, I prefer leaving it as is... but please advise me if you are certain of a solution to make this point cleaner.\n> \n> \n> It is actually used (the `Matrix` from `sage.matrix.matrix2`) at lines 1199-1200, so it ~~should~~ must be imported. You could also import `Matrix` from `sage.matrix.constructor` at the beginning of the file using another name for it as follows: `from sage.matrix.constructor import Matrix as Matrix_constructor`. I do not know which one is better...\n\nMe neither..\n \n> Another point: I read that the renaming of `row_reduced_form` to `reduced_form` what discussed between Johan and you. What is the rationale?\n\nNow, the function computes either a row reduced form or a column reduced form, depending on the optional parameter `row_wise` (default: true). Most other functions are like this in this file; it seemed better and more compact than always having two extremely similar functions named `row_X` and `column_X` . There might be other solutions we did not think of...\n\n      Vincent",
    "created_at": "2018-06-13T14:48:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355464",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:52" align="right">comment:52</div>

Hi Bruno,

Replying to [@bgrenet](#comment%3A51):
> Replying to [@vneiger](#comment%3A44):
> > > Why import `from sage.matrix.matrix2 cimport Matrix` if `sage.matrix.matrix2.Matrix` is never used ?
> > > However, it may be faster to call directly `sage.matrix.matrix2.Matrix` instead of 
> > > `sage.matrix.constructor.Matrix`.
> > 
> > I am not familiar with this: this was already imported in this file prior to that ticket. To avoid breaking something that others wrote, I prefer leaving it as is... but please advise me if you are certain of a solution to make this point cleaner.
> 
> 
> It is actually used (the `Matrix` from `sage.matrix.matrix2`) at lines 1199-1200, so it ~~should~~ must be imported. You could also import `Matrix` from `sage.matrix.constructor` at the beginning of the file using another name for it as follows: `from sage.matrix.constructor import Matrix as Matrix_constructor`. I do not know which one is better...

Me neither..
 
> Another point: I read that the renaming of `row_reduced_form` to `reduced_form` what discussed between Johan and you. What is the rationale?

Now, the function computes either a row reduced form or a column reduced form, depending on the optional parameter `row_wise` (default: true). Most other functions are like this in this file; it seemed better and more compact than always having two extremely similar functions named `row_X` and `column_X` . There might be other solutions we did not think of...

      Vincent



---

archive/issue_comments_355465.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\n> > Another point: I read that the renaming of `row_reduced_form` to `reduced_form` what discussed between Johan and you. What is the rationale?\n> \n> \n> Now, the function computes either a row reduced form or a column reduced form, depending on the optional parameter `row_wise` (default: true). Most other functions are like this in this file; it seemed better and more compact than always having two extremely similar functions named `row_X` and `column_X` . There might be other solutions we did not think of...\n\nThat's fine, but shouldn't the documentation reflect this? I now says `Return a row reduced form of this matrix` (and \"row reduced\" is used several other times in the doc).",
    "created_at": "2018-06-13T16:23:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355465",
    "user": "https://github.com/bgrenet"
}
```

<div id="comment:53" align="right">comment:53</div>

> > Another point: I read that the renaming of `row_reduced_form` to `reduced_form` what discussed between Johan and you. What is the rationale?
> 
> 
> Now, the function computes either a row reduced form or a column reduced form, depending on the optional parameter `row_wise` (default: true). Most other functions are like this in this file; it seemed better and more compact than always having two extremely similar functions named `row_X` and `column_X` . There might be other solutions we did not think of...

That's fine, but shouldn't the documentation reflect this? I now says `Return a row reduced form of this matrix` (and "row reduced" is used several other times in the doc).



---

archive/issue_comments_355466.json:
```json
{
    "body": "Changed commit from **[`c0ffff7`](https://github.com/sagemath/sagetrac-mirror/commit/c0ffff7f5acfea11709a7647052aa2faa0cb0efa)** to **[`eb335fc`](https://github.com/sagemath/sagetrac-mirror/commit/eb335fcdf824324d37aaf35565288e350d60a580)**",
    "created_at": "2018-06-13T17:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355466",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c0ffff7`](https://github.com/sagemath/sagetrac-mirror/commit/c0ffff7f5acfea11709a7647052aa2faa0cb0efa)** to **[`eb335fc`](https://github.com/sagemath/sagetrac-mirror/commit/eb335fcdf824324d37aaf35565288e350d60a580)**



---

archive/issue_comments_355467.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb335fcdf824324d37aaf35565288e350d60a580\"><code>eb335fc</code></a></td><td><code>improve doc of reduced_form</code></td></tr></table>\n",
    "created_at": "2018-06-13T17:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355467",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb335fcdf824324d37aaf35565288e350d60a580"><code>eb335fc</code></a></td><td><code>improve doc of reduced_form</code></td></tr></table>




---

archive/issue_comments_355468.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nReplying to [@bgrenet](#comment%3A53):\n> \n> > > Another point: I read that the renaming of `row_reduced_form` to `reduced_form` what discussed between Johan and you. What is the rationale?\n> > \n> > \n> > Now, the function computes either a row reduced form or a column reduced form, depending on the optional parameter `row_wise` (default: true). Most other functions are like this in this file; it seemed better and more compact than always having two extremely similar functions named `row_X` and `column_X` . There might be other solutions we did not think of...\n> \n> \n> That's fine, but shouldn't the documentation reflect this? I now says `Return a row reduced form of this matrix` (and \"row reduced\" is used several other times in the doc). \n\nIndeed, for this method the doc was not well written. I have made an attempt at improving it. For the other methods, \"row reduced\" is indeed used but with the explicit mention \"if working row-wise\", and with a word about how things differ (or don't) if working column-wise.",
    "created_at": "2018-06-13T17:33:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355468",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:55" align="right">comment:55</div>

Replying to [@bgrenet](#comment%3A53):
> 
> > > Another point: I read that the renaming of `row_reduced_form` to `reduced_form` what discussed between Johan and you. What is the rationale?
> > 
> > 
> > Now, the function computes either a row reduced form or a column reduced form, depending on the optional parameter `row_wise` (default: true). Most other functions are like this in this file; it seemed better and more compact than always having two extremely similar functions named `row_X` and `column_X` . There might be other solutions we did not think of...
> 
> 
> That's fine, but shouldn't the documentation reflect this? I now says `Return a row reduced form of this matrix` (and "row reduced" is used several other times in the doc). 

Indeed, for this method the doc was not well written. I have made an attempt at improving it. For the other methods, "row reduced" is indeed used but with the explicit mention "if working row-wise", and with a word about how things differ (or don't) if working column-wise.



---

archive/issue_comments_355469.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nReplying to [@vneiger](#comment%3A48):\n> Replying to [@romainlebreton](#comment%3A42):\n> > Is the \"+ 1\" in lines 1071 and 1073 really necessary ?\n> \n> Yes, because of the way we choose leading positions (rightmost nonzero), and because there is an option to have the upper triangular row-wise Hermite form. For example, working row-wise and with upper-triangular Hermite, a 2x2 matrix with rows `[X  X]` and `[1  X^2]` is (2,0)-Popov but not Hermite; so if we used this shift (2,0) instead of (2+1,0) (where 2 is the degree of the matrix), the Hermite test relying on (2,0)-Popov form would give a wrong answer.\n\nI think that your comment on line 992 had me confused:\n\n\"Note that, if $d$ is the largest degree appearing in the Hermite form, then the Hermite form coincide with the shifted Popov form with the shifts $(0,d,2d,\\ldots,(n-1)d)$, where $n$ is the column dimension.\"\n\nIs it really $d$ or should it be $d+1$ in this comment ?",
    "created_at": "2018-06-18T09:55:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355469",
    "user": "https://github.com/romainlebreton"
}
```

<div id="comment:56" align="right">comment:56</div>

Replying to [@vneiger](#comment%3A48):
> Replying to [@romainlebreton](#comment%3A42):
> > Is the "+ 1" in lines 1071 and 1073 really necessary ?
> 
> Yes, because of the way we choose leading positions (rightmost nonzero), and because there is an option to have the upper triangular row-wise Hermite form. For example, working row-wise and with upper-triangular Hermite, a 2x2 matrix with rows `[X  X]` and `[1  X^2]` is (2,0)-Popov but not Hermite; so if we used this shift (2,0) instead of (2+1,0) (where 2 is the degree of the matrix), the Hermite test relying on (2,0)-Popov form would give a wrong answer.

I think that your comment on line 992 had me confused:

"Note that, if $d$ is the largest degree appearing in the Hermite form, then the Hermite form coincide with the shifted Popov form with the shifts $(0,d,2d,\ldots,(n-1)d)$, where $n$ is the column dimension."

Is it really $d$ or should it be $d+1$ in this comment ?



---

archive/issue_comments_355470.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nReplying to [@romainlebreton](#comment%3A56):\n> Replying to [@vneiger](#comment%3A48):\n> > Replying to [@romainlebreton](#comment%3A42):\n> > > Is the \"+ 1\" in lines 1071 and 1073 really necessary ?\n> > \n> > Yes, because of the way we choose leading positions (rightmost nonzero), and because there is an option to have the upper triangular row-wise Hermite form. For example, working row-wise and with upper-triangular Hermite, a 2x2 matrix with rows `[X  X]` and `[1  X^2]` is (2,0)-Popov but not Hermite; so if we used this shift (2,0) instead of (2+1,0) (where 2 is the degree of the matrix), the Hermite test relying on (2,0)-Popov form would give a wrong answer.\n> \n> \n> I think that your comment on line 992 had me confused:\n> \n> \"Note that, if $d$ is the largest degree appearing in the Hermite form, then the Hermite form coincide with the shifted Popov form with the shifts $(0,d,2d,\\ldots,(n-1)d)$, where $n$ is the column dimension.\"\n> \n> Is it really $d$ or should it be $d+1$ in this comment ?\n\nI see: in this comment, the \"shifted Popov form\" is understood as the lower triangular row-wise one, or as the upper triangular column-wise one. For the two others (upper triangular row-wise and lower triangular column-wise), these forms do not coincide anymore as showed by the example in my previous answer; the difference comes from the way pivots are chosen (rightmost nonzero for row-wise, bottommost nonzero for column-wise).\n\nMy suggestion is to make this more clear on line 992, as follows:\n\"Note that, working row-wise, if $d$ is the largest degree appearing in the Hermite form, then the Hermite form coincides with the shifted Popov form with the shifts $(0,d,2d,\\ldots,(n-1)d)$, where $n$ is the column dimension. (This is valid with lower triangular Hermite forms; if working row-wise but with upper triangular Hermite forms, one would need to take $d+1$ in the shifts instead of $d$.)\"\n\nWould this remove any confusion?\n \n      Vincent",
    "created_at": "2018-06-18T10:06:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355470",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:57" align="right">comment:57</div>

Replying to [@romainlebreton](#comment%3A56):
> Replying to [@vneiger](#comment%3A48):
> > Replying to [@romainlebreton](#comment%3A42):
> > > Is the "+ 1" in lines 1071 and 1073 really necessary ?
> > 
> > Yes, because of the way we choose leading positions (rightmost nonzero), and because there is an option to have the upper triangular row-wise Hermite form. For example, working row-wise and with upper-triangular Hermite, a 2x2 matrix with rows `[X  X]` and `[1  X^2]` is (2,0)-Popov but not Hermite; so if we used this shift (2,0) instead of (2+1,0) (where 2 is the degree of the matrix), the Hermite test relying on (2,0)-Popov form would give a wrong answer.
> 
> 
> I think that your comment on line 992 had me confused:
> 
> "Note that, if $d$ is the largest degree appearing in the Hermite form, then the Hermite form coincide with the shifted Popov form with the shifts $(0,d,2d,\ldots,(n-1)d)$, where $n$ is the column dimension."
> 
> Is it really $d$ or should it be $d+1$ in this comment ?

I see: in this comment, the "shifted Popov form" is understood as the lower triangular row-wise one, or as the upper triangular column-wise one. For the two others (upper triangular row-wise and lower triangular column-wise), these forms do not coincide anymore as showed by the example in my previous answer; the difference comes from the way pivots are chosen (rightmost nonzero for row-wise, bottommost nonzero for column-wise).

My suggestion is to make this more clear on line 992, as follows:
"Note that, working row-wise, if $d$ is the largest degree appearing in the Hermite form, then the Hermite form coincides with the shifted Popov form with the shifts $(0,d,2d,\ldots,(n-1)d)$, where $n$ is the column dimension. (This is valid with lower triangular Hermite forms; if working row-wise but with upper triangular Hermite forms, one would need to take $d+1$ in the shifts instead of $d$.)"

Would this remove any confusion?
 
      Vincent



---

archive/issue_comments_355471.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nReplying to [@vneiger](#comment%3A57):\n> I see: in this comment, the \"shifted Popov form\" is understood as the lower triangular row-wise one, or as the upper triangular column-wise one. For the two others (upper triangular row-wise and lower triangular column-wise), these forms do not coincide anymore as showed by the example in my previous answer; the difference comes from the way pivots are chosen (rightmost nonzero for row-wise, bottommost nonzero for column-wise).\n> \n> My suggestion is to make this more clear on line 992, as follows:\n> \"Note that, working row-wise, if $d$ is the largest degree appearing in the Hermite form, then the Hermite form coincides with the shifted Popov form with the shifts $(0,d,2d,\\ldots,(n-1)d)$, where $n$ is the column dimension. (This is valid with lower triangular Hermite forms; if working row-wise but with upper triangular Hermite forms, one would need to take $d+1$ in the shifts instead of $d$.)\"\n> \n> Would this remove any confusion?\n\nHi Vincent, thank you for the explanation, it is now clear for me. I would suggest that you keep it simple in the comments : take $d$ (strictly) greater than all degrees in the matrix (so d would be \"d+1\") and shifts $(0,d,2d,\\ldots,(n-1)d)$.\n\nBest,\n\nR.",
    "created_at": "2018-06-18T12:56:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355471",
    "user": "https://github.com/romainlebreton"
}
```

<div id="comment:58" align="right">comment:58</div>

Replying to [@vneiger](#comment%3A57):
> I see: in this comment, the "shifted Popov form" is understood as the lower triangular row-wise one, or as the upper triangular column-wise one. For the two others (upper triangular row-wise and lower triangular column-wise), these forms do not coincide anymore as showed by the example in my previous answer; the difference comes from the way pivots are chosen (rightmost nonzero for row-wise, bottommost nonzero for column-wise).
> 
> My suggestion is to make this more clear on line 992, as follows:
> "Note that, working row-wise, if $d$ is the largest degree appearing in the Hermite form, then the Hermite form coincides with the shifted Popov form with the shifts $(0,d,2d,\ldots,(n-1)d)$, where $n$ is the column dimension. (This is valid with lower triangular Hermite forms; if working row-wise but with upper triangular Hermite forms, one would need to take $d+1$ in the shifts instead of $d$.)"
> 
> Would this remove any confusion?

Hi Vincent, thank you for the explanation, it is now clear for me. I would suggest that you keep it simple in the comments : take $d$ (strictly) greater than all degrees in the matrix (so d would be "d+1") and shifts $(0,d,2d,\ldots,(n-1)d)$.

Best,

R.



---

archive/issue_comments_355472.json:
```json
{
    "body": "Changed commit from **[`eb335fc`](https://github.com/sagemath/sagetrac-mirror/commit/eb335fcdf824324d37aaf35565288e350d60a580)** to **[`b677052`](https://github.com/sagemath/sagetrac-mirror/commit/b67705257dc8f6c8bb15e0baca2fa85e7aef07ca)**",
    "created_at": "2018-06-18T14:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355472",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`eb335fc`](https://github.com/sagemath/sagetrac-mirror/commit/eb335fcdf824324d37aaf35565288e350d60a580)** to **[`b677052`](https://github.com/sagemath/sagetrac-mirror/commit/b67705257dc8f6c8bb15e0baca2fa85e7aef07ca)**



---

archive/issue_comments_355473.json:
```json
{
    "body": "<div id=\"comment:59\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b67705257dc8f6c8bb15e0baca2fa85e7aef07ca\"><code>b677052</code></a></td><td><code>right shift for Hermite form (d > deg(H))</code></td></tr></table>\n",
    "created_at": "2018-06-18T14:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355473",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:59"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b67705257dc8f6c8bb15e0baca2fa85e7aef07ca"><code>b677052</code></a></td><td><code>right shift for Hermite form (d > deg(H))</code></td></tr></table>




---

archive/issue_comments_355474.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nReplying to [@romainlebreton](#comment%3A58):\n> Replying to [@vneiger](#comment%3A57):\n> > I see: in this comment, the \"shifted Popov form\" is understood as the lower triangular row-wise one, or as the upper triangular column-wise one. For the two others (upper triangular row-wise and lower triangular column-wise), these forms do not coincide anymore as showed by the example in my previous answer; the difference comes from the way pivots are chosen (rightmost nonzero for row-wise, bottommost nonzero for column-wise).\n> > \n> > My suggestion is to make this more clear on line 992, as follows:\n> > \"Note that, working row-wise, if $d$ is the largest degree appearing in the Hermite form, then the Hermite form coincides with the shifted Popov form with the shifts $(0,d,2d,\\ldots,(n-1)d)$, where $n$ is the column dimension. (This is valid with lower triangular Hermite forms; if working row-wise but with upper triangular Hermite forms, one would need to take $d+1$ in the shifts instead of $d$.)\"\n> > \n> > Would this remove any confusion?\n> \n> \n> Hi Vincent, thank you for the explanation, it is now clear for me. I would suggest that you keep it simple in the comments : take $d$ (strictly) greater than all degrees in the matrix (so d would be \"d+1\") and shifts $(0,d,2d,\\ldots,(n-1)d)$.\n> \n> Best,\n> \n> R.\n\nOk, I have chosen this solution which is indeed simpler.\n\n     Vincent\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b67705257dc8f6c8bb15e0baca2fa85e7aef07ca\"><code>b677052</code></a></td><td><code>right shift for Hermite form (d > deg(H))</code></td></tr></table>\n",
    "created_at": "2018-06-18T14:00:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355474",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:60" align="right">comment:60</div>

Replying to [@romainlebreton](#comment%3A58):
> Replying to [@vneiger](#comment%3A57):
> > I see: in this comment, the "shifted Popov form" is understood as the lower triangular row-wise one, or as the upper triangular column-wise one. For the two others (upper triangular row-wise and lower triangular column-wise), these forms do not coincide anymore as showed by the example in my previous answer; the difference comes from the way pivots are chosen (rightmost nonzero for row-wise, bottommost nonzero for column-wise).
> > 
> > My suggestion is to make this more clear on line 992, as follows:
> > "Note that, working row-wise, if $d$ is the largest degree appearing in the Hermite form, then the Hermite form coincides with the shifted Popov form with the shifts $(0,d,2d,\ldots,(n-1)d)$, where $n$ is the column dimension. (This is valid with lower triangular Hermite forms; if working row-wise but with upper triangular Hermite forms, one would need to take $d+1$ in the shifts instead of $d$.)"
> > 
> > Would this remove any confusion?
> 
> 
> Hi Vincent, thank you for the explanation, it is now clear for me. I would suggest that you keep it simple in the comments : take $d$ (strictly) greater than all degrees in the matrix (so d would be "d+1") and shifts $(0,d,2d,\ldots,(n-1)d)$.
> 
> Best,
> 
> R.

Ok, I have chosen this solution which is indeed simpler.

     Vincent

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b67705257dc8f6c8bb15e0baca2fa85e7aef07ca"><code>b677052</code></a></td><td><code>right shift for Hermite form (d > deg(H))</code></td></tr></table>




---

archive/issue_comments_355475.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nReplying to [@vneiger](#comment%3A60):\n> Ok, I have chosen this solution which is indeed simpler.\n\nGreat!\nHowever I am still unsure about line 1070\n\n` shift = [j*self.degree() + 1 for j in range(self.ncols())] `\n\nwhich gives [1, d + 1, 2*d + 1, 3*d + 1, ...] with d the degree. It does not seem coherent with what we said ; I seems to me that it should be \n\n` shift = [j*(self.degree() + 1) for j in range(self.ncols())] `\n\nR.",
    "created_at": "2018-06-18T14:07:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355475",
    "user": "https://github.com/romainlebreton"
}
```

<div id="comment:61" align="right">comment:61</div>

Replying to [@vneiger](#comment%3A60):
> Ok, I have chosen this solution which is indeed simpler.

Great!
However I am still unsure about line 1070

` shift = [j*self.degree() + 1 for j in range(self.ncols())] `

which gives [1, d + 1, 2*d + 1, 3*d + 1, ...] with d the degree. It does not seem coherent with what we said ; I seems to me that it should be 

` shift = [j*(self.degree() + 1) for j in range(self.ncols())] `

R.



---

archive/issue_comments_355476.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nReplying to [@romainlebreton](#comment%3A61):\n> Replying to [@vneiger](#comment%3A60):\n> > Ok, I have chosen this solution which is indeed simpler.\n> \n> \n> Great!\n> However I am still unsure about line 1070\n> \n> ` shift = [j*self.degree() + 1 for j in range(self.ncols())] `\n> \n> which gives [1, d + 1, 2*d + 1, 3*d + 1, ...] with d the degree. It does not seem coherent with what we said ; I seems to me that it should be \n> \n> ` shift = [j*(self.degree() + 1) for j in range(self.ncols())] `\n> \n> R.\n\nOh... you are totally right. This is a bug, thank you for noticing. Adding 1 to all entries of the shift is useless concerning normal forms and so this shift is equivalent to (0,d,2d,...). Which is not right: I have just actually tested my example above, of a matrix which is not even triangular, and it does wrongly return `True` :\n\n```\nsage: pR.<x> = GF(7)[]\nsage: M = Matrix(pR,2,2,[[x,x],[1,x^2]])\nsage: M\n[  x   x]\n[  1 x^2]\nsage: M.is_popov(shifts=[2,0])\nTrue\nsage: M.is_hermite()  # defaut is row-wise upper triangular\nTrue\n```\nThe shift in this example should of course be (d+1,0) = (3,0), while the current code uses (d+1,1) = (3,1), which is equivalent to (2,0) and not the right one as we discussed above.\n\nI'm going to fix this in a commit in a few seconds.\n\nThank you again.\n\n      Vincent",
    "created_at": "2018-06-18T14:20:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355476",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:62" align="right">comment:62</div>

Replying to [@romainlebreton](#comment%3A61):
> Replying to [@vneiger](#comment%3A60):
> > Ok, I have chosen this solution which is indeed simpler.
> 
> 
> Great!
> However I am still unsure about line 1070
> 
> ` shift = [j*self.degree() + 1 for j in range(self.ncols())] `
> 
> which gives [1, d + 1, 2*d + 1, 3*d + 1, ...] with d the degree. It does not seem coherent with what we said ; I seems to me that it should be 
> 
> ` shift = [j*(self.degree() + 1) for j in range(self.ncols())] `
> 
> R.

Oh... you are totally right. This is a bug, thank you for noticing. Adding 1 to all entries of the shift is useless concerning normal forms and so this shift is equivalent to (0,d,2d,...). Which is not right: I have just actually tested my example above, of a matrix which is not even triangular, and it does wrongly return `True` :

```
sage: pR.<x> = GF(7)[]
sage: M = Matrix(pR,2,2,[[x,x],[1,x^2]])
sage: M
[  x   x]
[  1 x^2]
sage: M.is_popov(shifts=[2,0])
True
sage: M.is_hermite()  # defaut is row-wise upper triangular
True
```
The shift in this example should of course be (d+1,0) = (3,0), while the current code uses (d+1,1) = (3,1), which is equivalent to (2,0) and not the right one as we discussed above.

I'm going to fix this in a commit in a few seconds.

Thank you again.

      Vincent



---

archive/issue_comments_355477.json:
```json
{
    "body": "<div id=\"comment:63\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17b068c976c976b0035135f9740c0f21ca7990fd\"><code>17b068c</code></a></td><td><code>corrected shift used for is_hermite test</code></td></tr></table>\n",
    "created_at": "2018-06-18T14:26:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355477",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:63"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17b068c976c976b0035135f9740c0f21ca7990fd"><code>17b068c</code></a></td><td><code>corrected shift used for is_hermite test</code></td></tr></table>




---

archive/issue_comments_355478.json:
```json
{
    "body": "Changed commit from **[`b677052`](https://github.com/sagemath/sagetrac-mirror/commit/b67705257dc8f6c8bb15e0baca2fa85e7aef07ca)** to **[`17b068c`](https://github.com/sagemath/sagetrac-mirror/commit/17b068c976c976b0035135f9740c0f21ca7990fd)**",
    "created_at": "2018-06-18T14:26:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355478",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b677052`](https://github.com/sagemath/sagetrac-mirror/commit/b67705257dc8f6c8bb15e0baca2fa85e7aef07ca)** to **[`17b068c`](https://github.com/sagemath/sagetrac-mirror/commit/17b068c976c976b0035135f9740c0f21ca7990fd)**



---

archive/issue_events_325683.json:
```json
{
    "actor": "https://github.com/romainlebreton",
    "created_at": "2018-06-19T07:20:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325683"
}
```



---

archive/issue_events_325684.json:
```json
{
    "actor": "https://github.com/romainlebreton",
    "created_at": "2018-06-19T07:20:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325684"
}
```



---

archive/issue_events_325685.json:
```json
{
    "actor": "https://github.com/romainlebreton",
    "created_at": "2018-06-19T07:44:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325685"
}
```



---

archive/issue_events_325686.json:
```json
{
    "actor": "https://github.com/romainlebreton",
    "created_at": "2018-06-19T07:44:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325686"
}
```



---

archive/issue_comments_355479.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nIn is_hermite, the block SEEALSO requires :: at the end",
    "created_at": "2018-06-19T07:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355479",
    "user": "https://github.com/romainlebreton"
}
```

<div id="comment:65" align="right">comment:65</div>

In is_hermite, the block SEEALSO requires :: at the end



---

archive/issue_comments_355480.json:
```json
{
    "body": "Changed commit from **[`17b068c`](https://github.com/sagemath/sagetrac-mirror/commit/17b068c976c976b0035135f9740c0f21ca7990fd)** to **[`5fc5fd6`](https://github.com/sagemath/sagetrac-mirror/commit/5fc5fd6ce0d4ef3871f08c90131d93bb0a9adc61)**",
    "created_at": "2018-06-19T08:04:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355480",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`17b068c`](https://github.com/sagemath/sagetrac-mirror/commit/17b068c976c976b0035135f9740c0f21ca7990fd)** to **[`5fc5fd6`](https://github.com/sagemath/sagetrac-mirror/commit/5fc5fd6ce0d4ef3871f08c90131d93bb0a9adc61)**



---

archive/issue_comments_355481.json:
```json
{
    "body": "<div id=\"comment:66\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5fc5fd6ce0d4ef3871f08c90131d93bb0a9adc61\"><code>5fc5fd6</code></a></td><td><code>colon SEEALSO::</code></td></tr></table>\n",
    "created_at": "2018-06-19T08:04:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355481",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5fc5fd6ce0d4ef3871f08c90131d93bb0a9adc61"><code>5fc5fd6</code></a></td><td><code>colon SEEALSO::</code></td></tr></table>




---

archive/issue_comments_355482.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nReplying to [@romainlebreton](#comment%3A65):\n> In is_hermite, the block SEEALSO requires :: at the end\n\nHi Romain,\nThank you for noticing this. This is fixed.\n\nBest,\n    Vincent",
    "created_at": "2018-06-19T08:05:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355482",
    "user": "https://github.com/vneiger"
}
```

<div id="comment:67" align="right">comment:67</div>

Replying to [@romainlebreton](#comment%3A65):
> In is_hermite, the block SEEALSO requires :: at the end

Hi Romain,
Thank you for noticing this. This is fixed.

Best,
    Vincent



---

archive/issue_comments_355483.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nLooks good to me :-)",
    "created_at": "2018-06-19T09:18:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355483",
    "user": "https://github.com/romainlebreton"
}
```

<div id="comment:68" align="right">comment:68</div>

Looks good to me :-)



---

archive/issue_events_325687.json:
```json
{
    "actor": "https://github.com/romainlebreton",
    "created_at": "2018-06-19T09:18:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325687"
}
```



---

archive/issue_events_325688.json:
```json
{
    "actor": "https://github.com/romainlebreton",
    "created_at": "2018-06-19T09:18:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325688"
}
```



---

archive/issue_events_325689.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-20T18:06:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325689"
}
```



---

archive/issue_events_325690.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3a67990944dc18c8d027c2125700286fca54eeca",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-06-20T18:06:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23619#event-325690"
}
```



---

archive/issue_comments_355484.json:
```json
{
    "body": "Changed branch from **[u/vneiger/23619_polmat_helper](https://github.com/sagemath/sagetrac-mirror/tree/u/vneiger/23619_polmat_helper)** to **[`5fc5fd6`](https://github.com/sagemath/sagetrac-mirror/commit/5fc5fd6ce0d4ef3871f08c90131d93bb0a9adc61)**",
    "created_at": "2018-06-20T18:06:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23619#issuecomment-355484",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vneiger/23619_polmat_helper](https://github.com/sagemath/sagetrac-mirror/tree/u/vneiger/23619_polmat_helper)** to **[`5fc5fd6`](https://github.com/sagemath/sagetrac-mirror/commit/5fc5fd6ce0d4ef3871f08c90131d93bb0a9adc61)**
