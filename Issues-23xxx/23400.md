# Issue 23400: Cleanup of matrix_gfpn_dense

archive/issues_023163.json:
```json
{
    "assignees": [],
    "body": "Ticket #21437 is supposed to be split into smaller chunks, and this is one of them: Make the code Python 3 compliant, use sig_on/sig_check/sig_off with more care, use the `for i in range(bla)` instead of `for i from 0<=i<bla`.\n\nDepends on #21437\nDepends on #23411\n\nBranch/Commit: **[c0fd902](https://github.com/sagemath/sagetrac-mirror/commit/c0fd902e57aa97eb1be16e03e786b7c0615ce09a)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Simon King**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23400_\n\n",
    "closed_at": "2017-10-29T10:32:09Z",
    "created_at": "2017-07-10T19:50:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Cleanup of matrix_gfpn_dense",
    "type": "issue",
    "updated_at": "2017-10-29T10:32:09Z",
    "url": "https://github.com/sagemath/sage/issues/23400",
    "user": "https://github.com/simon-king-jena"
}
```
Ticket #21437 is supposed to be split into smaller chunks, and this is one of them: Make the code Python 3 compliant, use sig_on/sig_check/sig_off with more care, use the `for i in range(bla)` instead of `for i from 0<=i<bla`.

Depends on #21437
Depends on #23411

Branch/Commit: **[c0fd902](https://github.com/sagemath/sagetrac-mirror/commit/c0fd902e57aa97eb1be16e03e786b7c0615ce09a)**

Reviewer: **Travis Scrimshaw**

Author: **Simon King**

_Issue created by migration from https://trac.sagemath.org/ticket/23400_





---

archive/issue_events_296644.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2017-07-10T19:50:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296644"
}
```



---

archive/issue_events_296645.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2017-07-10T19:50:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296645"
}
```



---

archive/issue_events_296646.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2017-07-10T19:50:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296646"
}
```



---

archive/issue_events_296647.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2017-07-10T19:50:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296647"
}
```



---

archive/issue_comments_354042.json:
```json
{
    "body": "Branch: **[u/SimonKing/cleanup_of_matrix_gfpn_dense](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cleanup_of_matrix_gfpn_dense)**",
    "created_at": "2017-07-10T21:10:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354042",
    "user": "https://github.com/simon-king-jena"
}
```

Branch: **[u/SimonKing/cleanup_of_matrix_gfpn_dense](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cleanup_of_matrix_gfpn_dense)**



---

archive/issue_events_296648.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2017-07-10T21:19:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296648"
}
```



---

archive/issue_comments_354043.json:
```json
{
    "body": "Author: **Simon King**",
    "created_at": "2017-07-10T21:19:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354043",
    "user": "https://github.com/simon-king-jena"
}
```

Author: **Simon King**



---

archive/issue_comments_354044.json:
```json
{
    "body": "Commit: **[4cf1d50](https://github.com/sagemath/sagetrac-mirror/commit/4cf1d50409eb1c8557eb6f77f58a95a6330904e4)**",
    "created_at": "2017-07-10T21:19:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354044",
    "user": "https://github.com/simon-king-jena"
}
```

Commit: **[4cf1d50](https://github.com/sagemath/sagetrac-mirror/commit/4cf1d50409eb1c8557eb6f77f58a95a6330904e4)**



---

archive/issue_comments_354045.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nI suppose it is not needed to add a merge with the one commit from #23352 that is not already included in the branch from here.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1aef56c4a1cf9e127ad3ae80b6350719edfe49f\">b1aef56</a></td><td><code>Add MeatAxe patch that ensures correct value of FfCurrentRowSizeIo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a44a58a597e8a10e8de174eb1c61c5c6be9ac8cf\">a44a58a</a></td><td><code>Fix reading mtx-matrix from non-existent file</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91ac93fb302bcbd8380371f57bdbaa7716575bcb\">91ac93f</a></td><td><code>Make pickling machine independent</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/225afe1afa8dfa4ab700d3d91d3dca956e2b6ce0\">225afe1</a></td><td><code>Properly fill the last few columns of random meataxe matrices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6722bef6c52dba8c4c23c610f4ca423bdbca6ed\">f6722be</a></td><td><code>Add c(p)def functions to get/set horizontal matrix slices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f7caf9ced1e3afdcf316b557b5ed9dc3388c464\">6f7caf9</a></td><td><code>Document and test _rowlist_()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ebc4a676f072c4aa08563526e812a7a79025c1c\">8ebc4a6</a></td><td><code>Replace 'for...from' by '...in range()'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30e87932581b1edeae48472f056e35b3a22768cf\">30e8793</a></td><td><code>Change some str into bytes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4cf1d50409eb1c8557eb6f77f58a95a6330904e4\">4cf1d50</a></td><td><code>Improve use of sig_check/on/off</code></td></tr></table>\n",
    "created_at": "2017-07-10T21:19:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354045",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:2'>Comment 2:</a>
I suppose it is not needed to add a merge with the one commit from #23352 that is not already included in the branch from here.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1aef56c4a1cf9e127ad3ae80b6350719edfe49f">b1aef56</a></td><td><code>Add MeatAxe patch that ensures correct value of FfCurrentRowSizeIo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a44a58a597e8a10e8de174eb1c61c5c6be9ac8cf">a44a58a</a></td><td><code>Fix reading mtx-matrix from non-existent file</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91ac93fb302bcbd8380371f57bdbaa7716575bcb">91ac93f</a></td><td><code>Make pickling machine independent</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/225afe1afa8dfa4ab700d3d91d3dca956e2b6ce0">225afe1</a></td><td><code>Properly fill the last few columns of random meataxe matrices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6722bef6c52dba8c4c23c610f4ca423bdbca6ed">f6722be</a></td><td><code>Add c(p)def functions to get/set horizontal matrix slices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f7caf9ced1e3afdcf316b557b5ed9dc3388c464">6f7caf9</a></td><td><code>Document and test _rowlist_()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ebc4a676f072c4aa08563526e812a7a79025c1c">8ebc4a6</a></td><td><code>Replace 'for...from' by '...in range()'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30e87932581b1edeae48472f056e35b3a22768cf">30e8793</a></td><td><code>Change some str into bytes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4cf1d50409eb1c8557eb6f77f58a95a6330904e4">4cf1d50</a></td><td><code>Improve use of sig_check/on/off</code></td></tr></table>




---

archive/issue_comments_354046.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nI really really really hate git's merging incapabilities.",
    "created_at": "2017-07-11T08:59:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354046",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:3'>Comment 3:</a>
I really really really hate git's merging incapabilities.



---

archive/issue_events_296649.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2017-07-11T08:59:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296649"
}
```



---

archive/issue_events_296650.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2017-07-11T08:59:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296650"
}
```



---

archive/issue_comments_354047.json:
```json
{
    "body": "Work Issues: **rebase on top of #23399**",
    "created_at": "2017-07-11T08:59:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354047",
    "user": "https://github.com/simon-king-jena"
}
```

Work Issues: **rebase on top of #23399**



---

archive/issue_comments_354048.json:
```json
{
    "body": "Changed commit from **[4cf1d50](https://github.com/sagemath/sagetrac-mirror/commit/4cf1d50409eb1c8557eb6f77f58a95a6330904e4)** to **[0fb429b](https://github.com/sagemath/sagetrac-mirror/commit/0fb429bfed28cb510aa51376f44fd634e52bbe33)**",
    "created_at": "2017-07-11T09:26:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354048",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4cf1d50](https://github.com/sagemath/sagetrac-mirror/commit/4cf1d50409eb1c8557eb6f77f58a95a6330904e4)** to **[0fb429b](https://github.com/sagemath/sagetrac-mirror/commit/0fb429bfed28cb510aa51376f44fd634e52bbe33)**



---

archive/issue_comments_354049.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd1f3f13c7a5a5a2af51dd2b19f976515b0f3fd9\">bd1f3f1</a></td><td><code>Fix ticket number in deprecation warning</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35b4ee7648f0c100ba0766ecc124713edc883ca7\">35b4ee7</a></td><td><code>Merge branch 't/23352/meataxe_fixes' into t/23399/some_additions_to_matrix_mod_gfpn_dense</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dac9f373db657dfd4265c7756b0689ba8f2039a9\">dac9f37</a></td><td><code>Replace 'for...from' by '...in range()'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b97839c7b564aea9378767157a2f5a5eba695f9e\">b97839c</a></td><td><code>Change some str into bytes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b6642ce167f028492720d58a0f91e581d5aaadd\">6b6642c</a></td><td><code>Improve use of sig_check/on/off</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fb429bfed28cb510aa51376f44fd634e52bbe33\">0fb429b</a></td><td><code>Make matrix_gfpn_dense Python 3 compliant</code></td></tr></table>\n",
    "created_at": "2017-07-11T09:26:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354049",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd1f3f13c7a5a5a2af51dd2b19f976515b0f3fd9">bd1f3f1</a></td><td><code>Fix ticket number in deprecation warning</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35b4ee7648f0c100ba0766ecc124713edc883ca7">35b4ee7</a></td><td><code>Merge branch 't/23352/meataxe_fixes' into t/23399/some_additions_to_matrix_mod_gfpn_dense</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dac9f373db657dfd4265c7756b0689ba8f2039a9">dac9f37</a></td><td><code>Replace 'for...from' by '...in range()'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b97839c7b564aea9378767157a2f5a5eba695f9e">b97839c</a></td><td><code>Change some str into bytes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b6642ce167f028492720d58a0f91e581d5aaadd">6b6642c</a></td><td><code>Improve use of sig_check/on/off</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fb429bfed28cb510aa51376f44fd634e52bbe33">0fb429b</a></td><td><code>Make matrix_gfpn_dense Python 3 compliant</code></td></tr></table>




---

archive/issue_comments_354050.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nSince git wasn't able to merge the commit \"Fix ticket number in deprecation warning\", that merely replaces one number by another number in a single line, without touching anything else, I had to manually merge and subsequently rebase the branch.\n\nI don't know if it is just me. Is there really no way to avoid dull manual work when all what I want to achieve is having a simple change in a single line?",
    "created_at": "2017-07-11T09:30:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354050",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:5'>Comment 5:</a>
Since git wasn't able to merge the commit "Fix ticket number in deprecation warning", that merely replaces one number by another number in a single line, without touching anything else, I had to manually merge and subsequently rebase the branch.

I don't know if it is just me. Is there really no way to avoid dull manual work when all what I want to achieve is having a simple change in a single line?



---

archive/issue_events_296651.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2017-07-11T09:31:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296651"
}
```



---

archive/issue_events_296652.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2017-07-11T09:31:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296652"
}
```



---

archive/issue_comments_354051.json:
```json
{
    "body": "Changed work issues from **rebase on top of #23399** to none",
    "created_at": "2017-07-11T09:31:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354051",
    "user": "https://github.com/simon-king-jena"
}
```

Changed work issues from **rebase on top of #23399** to none



---

archive/issue_comments_354052.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@simon-king-jena](#comment%3A5):\n> Since git wasn't able to merge the commit \"Fix ticket number in deprecation warning\", that merely replaces one number by another number in a single line, without touching anything else, I had to manually merge and subsequently rebase the branch.\n> \n> I don't know if it is just me. Is there really no way to avoid dull manual work when all what I want to achieve is having a simple change in a single line?\n\nIt sounds like you have two branches that have the \"equivalent\" commits but are based off two different branches. So they are not the *same* commits and git then has to deal with these conflicts. If the one particular commit with the change is what you wanted and are having these troubles, then you might want to cherry-pick the commit in.\n\nDon't forget to also do `git merge --abort` when you want to stop doing a merge, but I think git is usually smart enough not to let you do really anything else in that state (although do not rely on this). Feel free to e-mail me if you have any git questions or want me to do something git related if you're having trouble too.",
    "created_at": "2017-07-11T14:04:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354052",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@simon-king-jena](#comment%3A5):
> Since git wasn't able to merge the commit "Fix ticket number in deprecation warning", that merely replaces one number by another number in a single line, without touching anything else, I had to manually merge and subsequently rebase the branch.
> 
> I don't know if it is just me. Is there really no way to avoid dull manual work when all what I want to achieve is having a simple change in a single line?

It sounds like you have two branches that have the "equivalent" commits but are based off two different branches. So they are not the *same* commits and git then has to deal with these conflicts. If the one particular commit with the change is what you wanted and are having these troubles, then you might want to cherry-pick the commit in.

Don't forget to also do `git merge --abort` when you want to stop doing a merge, but I think git is usually smart enough not to let you do really anything else in that state (although do not rely on this). Feel free to e-mail me if you have any git questions or want me to do something git related if you're having trouble too.



---

archive/issue_comments_354053.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [@tscrim](#comment%3A7):\n> It sounds like you have two branches that have the \"equivalent\" commits but are based off two different branches. So they are not the *same* commits and git then has to deal with these conflicts. If the one particular commit with the change is what you wanted and are having these troubles, then you might want to cherry-pick the commit in.\n\nNo, this is not what my problem came from. And I did cherry-pick. See example below.\n\n> Don't forget to also do `git merge --abort` when you want to stop doing a merge, \n\nI did.\n\nJust for testing git, I created the following toy example:\n- git init in some folder.\n- create `my_file`, that contains the alphabet, one lower-case letter in each line. Add that file and commit. That's the starting point.\n- create two branches A and B.\n- In branch A, change the letter j in my_file to J (upper-case) and commit. Let's call this \"commit xyz\".\n- In branch B, change all vowels to upper-case letters, and commit.\n\nNow I am on branch B, and I want to apply the changeset from xyz. This could be tried by either \"git merge A\" or by \"git cherry-pick xyz\"; it turns out that the resulting problem is the same.\n\nOf course the changeset from xyz cannot be applied, as the changeset's context contains one line with the lower-case letter i, but is being applied to a file where there is an upper-case letter I. So, of course, there is a conflict.\n\nTherefore, after \"git merge\" resp. \"git cherry-pick\", we do \"git mergetool\". Result: meld opens with three versions of my_file. The left column is from branch B (vowels are upper-case, j is lower case). The middle column, which will eventually contain the result of the merge, is the common ancestor of A and B (*all* letters are lower-case). The right column is from branch A (only J is upper-case, the rest is lower-case).\n\nConsequently, in order to merge, I need to *manually* change all vowels in the middle column to upper-case, and also change j to upper-case. In other words, I need to manually apply all changes.\n\nAnd I really wonder why git makes me do 6 changes (5 vowels plus j), when 4 of these changes (namely the vowels a,e,o,u) are outside of the changeset.\n\nTo me, it seems obvious that in the middle column we should start with B (perhaps even after applying the hunks from the changeset that cleanly apply), because that's what we want to apply the changeset to. And then, we can solve the problem by focusing on the changeset: Change i into I and j into J. Done.\n\nSo, what is git's rationale for not doing the obvious? How to do better?",
    "created_at": "2017-07-11T14:33:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354053",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [@tscrim](#comment%3A7):
> It sounds like you have two branches that have the "equivalent" commits but are based off two different branches. So they are not the *same* commits and git then has to deal with these conflicts. If the one particular commit with the change is what you wanted and are having these troubles, then you might want to cherry-pick the commit in.

No, this is not what my problem came from. And I did cherry-pick. See example below.

> Don't forget to also do `git merge --abort` when you want to stop doing a merge, 

I did.

Just for testing git, I created the following toy example:
- git init in some folder.
- create `my_file`, that contains the alphabet, one lower-case letter in each line. Add that file and commit. That's the starting point.
- create two branches A and B.
- In branch A, change the letter j in my_file to J (upper-case) and commit. Let's call this "commit xyz".
- In branch B, change all vowels to upper-case letters, and commit.

Now I am on branch B, and I want to apply the changeset from xyz. This could be tried by either "git merge A" or by "git cherry-pick xyz"; it turns out that the resulting problem is the same.

Of course the changeset from xyz cannot be applied, as the changeset's context contains one line with the lower-case letter i, but is being applied to a file where there is an upper-case letter I. So, of course, there is a conflict.

Therefore, after "git merge" resp. "git cherry-pick", we do "git mergetool". Result: meld opens with three versions of my_file. The left column is from branch B (vowels are upper-case, j is lower case). The middle column, which will eventually contain the result of the merge, is the common ancestor of A and B (*all* letters are lower-case). The right column is from branch A (only J is upper-case, the rest is lower-case).

Consequently, in order to merge, I need to *manually* change all vowels in the middle column to upper-case, and also change j to upper-case. In other words, I need to manually apply all changes.

And I really wonder why git makes me do 6 changes (5 vowels plus j), when 4 of these changes (namely the vowels a,e,o,u) are outside of the changeset.

To me, it seems obvious that in the middle column we should start with B (perhaps even after applying the hunks from the changeset that cleanly apply), because that's what we want to apply the changeset to. And then, we can solve the problem by focusing on the changeset: Change i into I and j into J. Done.

So, what is git's rationale for not doing the obvious? How to do better?



---

archive/issue_comments_354054.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nThis is not git but the mergetool (which one are you using?). If you look at the actual file manually, you should see\n\n```\n<<<<<<< HEAD\nI\nj\n=======\ni\nJ\n>>>>>>> A\n```\n(where `A` was the branch I was merging in) indicating that this was the only conflict git noticed. You can manually resolve the conflict, then run `git add file` and `git commit` to indicate you have resolved the merge.\n\nNow my default mergetool `meld` does display the entire diff between the two files. However, it has an option to merge all non-confliciting changes, and I have to resolve manually the actual conflicts. It took me a little while to learn my mergetool, but now I am pretty good at it. However, git does do the conflict as you are expecting it to.",
    "created_at": "2017-07-11T14:47:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354054",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'>Comment 9:</a>
This is not git but the mergetool (which one are you using?). If you look at the actual file manually, you should see

```
<<<<<<< HEAD
I
j
=======
i
J
>>>>>>> A
```
(where `A` was the branch I was merging in) indicating that this was the only conflict git noticed. You can manually resolve the conflict, then run `git add file` and `git commit` to indicate you have resolved the merge.

Now my default mergetool `meld` does display the entire diff between the two files. However, it has an option to merge all non-confliciting changes, and I have to resolve manually the actual conflicts. It took me a little while to learn my mergetool, but now I am pretty good at it. However, git does do the conflict as you are expecting it to.



---

archive/issue_comments_354055.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [@tscrim](#comment%3A9):\n> This is not git but the mergetool (which one are you using?). If you look at the actual file manually, you should see\n> \n> ```\n> <<<<<<< HEAD\n> I\n> j\n> =======\n> i\n> J\n> >>>>>>> A\n> ```\n\nI see. For me, it is\n\n```\nh\n<<<<<<< HEAD\nI\nj\n||||||| merged common ancestors\ni\nj\n=======\ni\nJ\n>>>>>>> A\nk\n```\nbecause I have this in my .gitconfig:\n\n```\n[merge]\n        tool = meld\n        log = true\n        conflictstyle = diff3\n```\nWhen I remove the conflictstyle option, I get the same as you. \n\n> Now my default mergetool `meld` does display the entire diff between the two files. However, it has an option to merge all non-confliciting changes, and I have to resolve manually the actual conflicts. It took me a little while to learn my mergetool, but now I am pretty good at it. However, git does do the conflict as you are expecting it to.\n\nPart of the problem may be this: I tried to replace meld with kdiff3. However, if I have this in .gitconfig\n\n```\n[merge]\n        tool = kdiff3\n        log = true\n```\nand do \"git mergetool\", then simply kdiff3 doesn't open. Do you know why?",
    "created_at": "2017-07-11T14:56:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354055",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [@tscrim](#comment%3A9):
> This is not git but the mergetool (which one are you using?). If you look at the actual file manually, you should see
> 
> ```
> <<<<<<< HEAD
> I
> j
> =======
> i
> J
> >>>>>>> A
> ```

I see. For me, it is

```
h
<<<<<<< HEAD
I
j
||||||| merged common ancestors
i
j
=======
i
J
>>>>>>> A
k
```
because I have this in my .gitconfig:

```
[merge]
        tool = meld
        log = true
        conflictstyle = diff3
```
When I remove the conflictstyle option, I get the same as you. 

> Now my default mergetool `meld` does display the entire diff between the two files. However, it has an option to merge all non-confliciting changes, and I have to resolve manually the actual conflicts. It took me a little while to learn my mergetool, but now I am pretty good at it. However, git does do the conflict as you are expecting it to.

Part of the problem may be this: I tried to replace meld with kdiff3. However, if I have this in .gitconfig

```
[merge]
        tool = kdiff3
        log = true
```
and do "git mergetool", then simply kdiff3 doesn't open. Do you know why?



---

archive/issue_comments_354056.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nAha! I found why kdiff3 didn't open: It silently did the job! See [here](https://stackoverflow.com/questions/15321472/how-could-i-force-mergetool-gui-kdiff3-to-be-always-shown/15813064#15813064)\n\nSo, with the other configuration, \"git mergetool\" triggered kdiff3 to resolve the conflict automatically and save the result. So, I didn't need any manual intervention at all!\n\nI will change to kdiff3, then...",
    "created_at": "2017-07-11T15:01:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354056",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:11'>Comment 11:</a>
Aha! I found why kdiff3 didn't open: It silently did the job! See [here](https://stackoverflow.com/questions/15321472/how-could-i-force-mergetool-gui-kdiff3-to-be-always-shown/15813064#15813064)

So, with the other configuration, "git mergetool" triggered kdiff3 to resolve the conflict automatically and save the result. So, I didn't need any manual intervention at all!

I will change to kdiff3, then...



---

archive/issue_comments_354057.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nArgh.\n\nAfter kdiff3's successful automatic merge, I did \"git commit\". To be on the safe side, I wanted to repeat the test. So, I did \"git reset --hard HEAD~\".\n\nThen, the following happened when retrying:\n\n```\n$ git merge A\nAuto-merging my_file\nCONFLICT (content): Merge conflict in my_file\nResolved 'my_file' using previous resolution.\nAutomatic merge failed; fix conflicts and then commit the result.\n```\nThese are conflicting messages: It says the it resolved the problem using previous resolution, but also stated that the automatic merge failed.\n\nTherefore, I had a look at my_file, which looked fine: The conflict was correctly resolved. However, \"git log\" showed that the commit from A has in fact not been merged.\n\nTherefore, I tried \"git commit\". Result:\n\n```\n$ git commit \nU\tmy_file\nerror: commit is not possible because you have unmerged files.\nhint: Fix them up in the work tree, and then use 'git add/rm <file>'\nhint: as appropriate to mark resolution and make a commit.\nfatal: Exiting because of an unresolved conflict.\n```\n\nSince there seem to be unresolved conflicts, I did\n\n```\n$ git mergetool \nNo files need merging\n```\nWTF? There are unresolved conflicts, thus, I cannot commit, but no files need merging? Let's see the status:\n\n```\nOn branch B\nYou have unmerged paths.\n  (fix conflicts and run \"git commit\")\n\nUnmerged paths:\n  (use \"git add <file>...\" to mark resolution)\n\n\tboth modified:   my_file\n\nUntracked files:\n  (use \"git add <file>...\" to include in what will be committed)\n\n\tmy_file.orig\n```\nHm. Very very strange (to me, at least). Can you explain what is happening here?",
    "created_at": "2017-07-11T15:12:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354057",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:12'>Comment 12:</a>
Argh.

After kdiff3's successful automatic merge, I did "git commit". To be on the safe side, I wanted to repeat the test. So, I did "git reset --hard HEAD~".

Then, the following happened when retrying:

```
$ git merge A
Auto-merging my_file
CONFLICT (content): Merge conflict in my_file
Resolved 'my_file' using previous resolution.
Automatic merge failed; fix conflicts and then commit the result.
```
These are conflicting messages: It says the it resolved the problem using previous resolution, but also stated that the automatic merge failed.

Therefore, I had a look at my_file, which looked fine: The conflict was correctly resolved. However, "git log" showed that the commit from A has in fact not been merged.

Therefore, I tried "git commit". Result:

```
$ git commit 
U	my_file
error: commit is not possible because you have unmerged files.
hint: Fix them up in the work tree, and then use 'git add/rm <file>'
hint: as appropriate to mark resolution and make a commit.
fatal: Exiting because of an unresolved conflict.
```

Since there seem to be unresolved conflicts, I did

```
$ git mergetool 
No files need merging
```
WTF? There are unresolved conflicts, thus, I cannot commit, but no files need merging? Let's see the status:

```
On branch B
You have unmerged paths.
  (fix conflicts and run "git commit")

Unmerged paths:
  (use "git add <file>..." to mark resolution)

	both modified:   my_file

Untracked files:
  (use "git add <file>..." to include in what will be committed)

	my_file.orig
```
Hm. Very very strange (to me, at least). Can you explain what is happening here?



---

archive/issue_comments_354058.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nI think what had happened is `kdiff3` did not run `git add file`, which indicates to git that you have resolved the conflict, before you did your `git commit`. So I think that is how you ended up in this state. Try running\n\n```\n$ git add my_file\n$ git commit\n```",
    "created_at": "2017-07-11T15:15:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354058",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'>Comment 13:</a>
I think what had happened is `kdiff3` did not run `git add file`, which indicates to git that you have resolved the conflict, before you did your `git commit`. So I think that is how you ended up in this state. Try running

```
$ git add my_file
$ git commit
```



---

archive/issue_comments_354059.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [@tscrim](#comment%3A13):\n> I think what had happened is `kdiff3` did not run `git add file`, which indicates to git that you have resolved the conflict, before you did your `git commit`. So I think that is how you ended up in this state. Try running\n> \n> ```\n> $ git add my_file\n> $ git commit\n> ```\n\nThank you! Yes, that did the trick.\n\nOK. In future I will use kdiff3 instead of meld. Would you recommend to add \"conflictstyle = diff3\" to my .gitconfig, or better not use it?",
    "created_at": "2017-07-11T15:21:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354059",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [@tscrim](#comment%3A13):
> I think what had happened is `kdiff3` did not run `git add file`, which indicates to git that you have resolved the conflict, before you did your `git commit`. So I think that is how you ended up in this state. Try running
> 
> ```
> $ git add my_file
> $ git commit
> ```

Thank you! Yes, that did the trick.

OK. In future I will use kdiff3 instead of meld. Would you recommend to add "conflictstyle = diff3" to my .gitconfig, or better not use it?



---

archive/issue_comments_354060.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nReplying to [@simon-king-jena](#comment%3A14):\n> Replying to [@tscrim](#comment%3A13):\n> > I think what had happened is `kdiff3` did not run `git add file`, which indicates to git that you have resolved the conflict, before you did your `git commit`. So I think that is how you ended up in this state. Try running\n> > \n> > ```\n> > $ git add my_file\n> > $ git commit\n> > ```\n\n> \n> Thank you! Yes, that did the trick.\n\nNo problem.\n\n> OK. In future I will use kdiff3 instead of meld. Would you recommend to add \"conflictstyle = diff3\" to my .gitconfig, or better not use it?\n\nI don't use it for my workflow, but I would say it depends on what works best for you.",
    "created_at": "2017-07-11T15:23:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354060",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'>Comment 15:</a>
Replying to [@simon-king-jena](#comment%3A14):
> Replying to [@tscrim](#comment%3A13):
> > I think what had happened is `kdiff3` did not run `git add file`, which indicates to git that you have resolved the conflict, before you did your `git commit`. So I think that is how you ended up in this state. Try running
> > 
> > ```
> > $ git add my_file
> > $ git commit
> > ```

> 
> Thank you! Yes, that did the trick.

No problem.

> OK. In future I will use kdiff3 instead of meld. Would you recommend to add "conflictstyle = diff3" to my .gitconfig, or better not use it?

I don't use it for my workflow, but I would say it depends on what works best for you.



---

archive/issue_events_296653.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2017-07-12T16:06:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296653"
}
```



---

archive/issue_events_296654.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2017-07-12T16:06:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296654"
}
```



---

archive/issue_comments_354061.json:
```json
{
    "body": "Work Issues: **refactor a couple of tickets**",
    "created_at": "2017-07-12T16:06:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354061",
    "user": "https://github.com/simon-king-jena"
}
```

Work Issues: **refactor a couple of tickets**



---

archive/issue_comments_354062.json:
```json
{
    "body": "Changed dependencies from **#23399** to **#**",
    "created_at": "2017-07-15T11:15:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354062",
    "user": "https://github.com/simon-king-jena"
}
```

Changed dependencies from **#23399** to **#**



---

archive/issue_comments_354063.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nI believe #23411, #23352 and #21437 should be stable now (although they still need a review), since the touched code should be clean. Thus, I am rebasing this ticket on top of the aforementioned (unless someone tells me to wait). Furthermore, I think #23399 (with further additions to meataxe) should be based on clean code, i.e., should be based on this ticket.",
    "created_at": "2017-07-15T11:15:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354063",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:17'>Comment 17:</a>
I believe #23411, #23352 and #21437 should be stable now (although they still need a review), since the touched code should be clean. Thus, I am rebasing this ticket on top of the aforementioned (unless someone tells me to wait). Furthermore, I think #23399 (with further additions to meataxe) should be based on clean code, i.e., should be based on this ticket.



---

archive/issue_comments_354064.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nOops, #23411 needs work. Anyway, this ticket should be based on the others...",
    "created_at": "2017-07-15T11:17:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354064",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:18'>Comment 18:</a>
Oops, #23411 needs work. Anyway, this ticket should be based on the others...



---

archive/issue_comments_354065.json:
```json
{
    "body": "Changed dependencies from **#** to **#23411 #23352  #21437**",
    "created_at": "2017-07-15T11:19:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354065",
    "user": "https://github.com/simon-king-jena"
}
```

Changed dependencies from **#** to **#23411 #23352  #21437**



---

archive/issue_comments_354066.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nSince #21437 depends on #23410, #23411 and #23352 anyway, I'm shortening the list of dependencies here. And then I'll resume work, as I believe that the dependencies should be more or less stable now.",
    "created_at": "2017-07-16T12:58:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354066",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:20'>Comment 20:</a>
Since #21437 depends on #23410, #23411 and #23352 anyway, I'm shortening the list of dependencies here. And then I'll resume work, as I believe that the dependencies should be more or less stable now.



---

archive/issue_comments_354067.json:
```json
{
    "body": "Changed dependencies from **#23411 #23352  #21437** to **#21437 #23411**",
    "created_at": "2017-07-16T12:58:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354067",
    "user": "https://github.com/simon-king-jena"
}
```

Changed dependencies from **#23411 #23352  #21437** to **#21437 #23411**



---

archive/issue_comments_354068.json:
```json
{
    "body": "Changed dependencies from **#21437 #23411** to **#21437**",
    "created_at": "2017-07-16T13:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354068",
    "user": "https://github.com/simon-king-jena"
}
```

Changed dependencies from **#21437 #23411** to **#21437**



---

archive/issue_comments_354069.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nI don't know the policy about dependencies. #23411 is a dependency of #21437 and merges cleanly into #21437; however, the branch from #21437 doesn't contain all of #23411. Should it?\n\nIn any case, I believe the branch here *should* contain #23411. So, I'll start on top of #21437 with #23411 merged.",
    "created_at": "2017-07-16T13:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354069",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:22'>Comment 22:</a>
I don't know the policy about dependencies. #23411 is a dependency of #21437 and merges cleanly into #21437; however, the branch from #21437 doesn't contain all of #23411. Should it?

In any case, I believe the branch here *should* contain #23411. So, I'll start on top of #21437 with #23411 merged.



---

archive/issue_comments_354070.json:
```json
{
    "body": "Changed dependencies from **#21437** to **#21437 #23411**",
    "created_at": "2017-07-16T13:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354070",
    "user": "https://github.com/simon-king-jena"
}
```

Changed dependencies from **#21437** to **#21437 #23411**



---

archive/issue_comments_354071.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nIMO, it is easier for the reviewer to have all of the dependencies merged in. Although it does make it harder for looking at the diff. We do not have any concrete policy on the IIRC.",
    "created_at": "2017-07-16T13:37:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354071",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:23'>Comment 23:</a>
IMO, it is easier for the reviewer to have all of the dependencies merged in. Although it does make it harder for looking at the diff. We do not have any concrete policy on the IIRC.



---

archive/issue_comments_354072.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e477948bb0a393997082fffea411e1724517ecaa\">e477948</a></td><td><code>Test meataxe unpickling being machine independent</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01e2c0dcbcf05ef8dbe4b1f83b8334873ebd6f5a\">01e2c0d</a></td><td><code>Mark new meataxe test 'optional'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1748351fe1ab0201647ce98b83c29188534a2ea\">d174835</a></td><td><code>Check bounds when unpickling meataxe matrices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8873330db79f5aa72de43f9be0e7babba07b05dd\">8873330</a></td><td><code>Mark further meataxe tests optional; fix potential zero division</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a1ed5adf98cdbfbc4300205faa584df83728766\">7a1ed5a</a></td><td><code>Meataxe unpickling: Further consistency checks</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c0dcd52f7169847287141c17c15dc1cc91a42d3\">1c0dcd5</a></td><td><code>Merge branch 't/23411/fix_pickling_of_matrix_gfpn_dense' into t/23400/cleanup_of_matrix_gfpn_dense</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71abd443f2690b8fa20dfc3d177dec03155a7264\">71abd44</a></td><td><code>Speedup meataxe matrix randomisation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e68140e57f5eb45d7482bd50533ce2d58f99fad6\">e68140e</a></td><td><code>Replace sig_on/off by sig_check in meataxe matrix randomisation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82394bcc093175df3c08e155513fc205a2aa24b6\">82394bc</a></td><td><code>Merge branch 't/23352/fix_random_matrix_gfpn_dense' into t/23400/cleanup_of_matrix_gfpn_dense</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef9cfd315fac8e879163b58192c2bc8b6665c8b6\">ef9cfd3</a></td><td><code>matrix_gfpn_dense: Replace for...from by range(), cleanup use of sig_on/off/check, be Python3 compliant</code></td></tr></table>\n",
    "created_at": "2017-07-16T13:59:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354072",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'>Comment 24:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e477948bb0a393997082fffea411e1724517ecaa">e477948</a></td><td><code>Test meataxe unpickling being machine independent</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01e2c0dcbcf05ef8dbe4b1f83b8334873ebd6f5a">01e2c0d</a></td><td><code>Mark new meataxe test 'optional'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1748351fe1ab0201647ce98b83c29188534a2ea">d174835</a></td><td><code>Check bounds when unpickling meataxe matrices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8873330db79f5aa72de43f9be0e7babba07b05dd">8873330</a></td><td><code>Mark further meataxe tests optional; fix potential zero division</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a1ed5adf98cdbfbc4300205faa584df83728766">7a1ed5a</a></td><td><code>Meataxe unpickling: Further consistency checks</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c0dcd52f7169847287141c17c15dc1cc91a42d3">1c0dcd5</a></td><td><code>Merge branch 't/23411/fix_pickling_of_matrix_gfpn_dense' into t/23400/cleanup_of_matrix_gfpn_dense</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71abd443f2690b8fa20dfc3d177dec03155a7264">71abd44</a></td><td><code>Speedup meataxe matrix randomisation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e68140e57f5eb45d7482bd50533ce2d58f99fad6">e68140e</a></td><td><code>Replace sig_on/off by sig_check in meataxe matrix randomisation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82394bcc093175df3c08e155513fc205a2aa24b6">82394bc</a></td><td><code>Merge branch 't/23352/fix_random_matrix_gfpn_dense' into t/23400/cleanup_of_matrix_gfpn_dense</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef9cfd315fac8e879163b58192c2bc8b6665c8b6">ef9cfd3</a></td><td><code>matrix_gfpn_dense: Replace for...from by range(), cleanup use of sig_on/off/check, be Python3 compliant</code></td></tr></table>




---

archive/issue_comments_354073.json:
```json
{
    "body": "Changed commit from **[0fb429b](https://github.com/sagemath/sagetrac-mirror/commit/0fb429bfed28cb510aa51376f44fd634e52bbe33)** to **[ef9cfd3](https://github.com/sagemath/sagetrac-mirror/commit/ef9cfd315fac8e879163b58192c2bc8b6665c8b6)**",
    "created_at": "2017-07-16T13:59:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354073",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0fb429b](https://github.com/sagemath/sagetrac-mirror/commit/0fb429bfed28cb510aa51376f44fd634e52bbe33)** to **[ef9cfd3](https://github.com/sagemath/sagetrac-mirror/commit/ef9cfd315fac8e879163b58192c2bc8b6665c8b6)**



---

archive/issue_events_296655.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2017-07-16T14:00:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296655"
}
```



---

archive/issue_events_296656.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2017-07-16T14:00:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296656"
}
```



---

archive/issue_comments_354074.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nThe refactoring of meataxe tickets is now almost accomplished: Only #23399 (for the addition of new functionality) is left.",
    "created_at": "2017-07-16T14:00:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354074",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:25'>Comment 25:</a>
The refactoring of meataxe tickets is now almost accomplished: Only #23399 (for the addition of new functionality) is left.



---

archive/issue_comments_354075.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nReplying to [@tscrim](#comment%3A23):\n> IMO, it is easier for the reviewer to have all of the dependencies merged in. Although it does make it harder for looking at the diff. We do not have any concrete policy on the IIRC.\n\nThank you. Here, I got a merge conflict (with #23352, not with #23411), and thus an explicit merge commit was needed anyway.",
    "created_at": "2017-07-16T14:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354075",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:26'>Comment 26:</a>
Replying to [@tscrim](#comment%3A23):
> IMO, it is easier for the reviewer to have all of the dependencies merged in. Although it does make it harder for looking at the diff. We do not have any concrete policy on the IIRC.

Thank you. Here, I got a merge conflict (with #23352, not with #23411), and thus an explicit merge commit was needed anyway.



---

archive/issue_comments_354076.json:
```json
{
    "body": "Changed branch from **[u/SimonKing/cleanup_of_matrix_gfpn_dense](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cleanup_of_matrix_gfpn_dense)** to **[public/optional/cleanup_matrix_gfpn_dense-23400](https://github.com/sagemath/sagetrac-mirror/tree/public/optional/cleanup_matrix_gfpn_dense-23400)**",
    "created_at": "2017-10-26T04:11:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354076",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/SimonKing/cleanup_of_matrix_gfpn_dense](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cleanup_of_matrix_gfpn_dense)** to **[public/optional/cleanup_matrix_gfpn_dense-23400](https://github.com/sagemath/sagetrac-mirror/tree/public/optional/cleanup_matrix_gfpn_dense-23400)**



---

archive/issue_comments_354077.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nLGTM. I did a trivial rebase, so I'm allowing myself to set a positive review.\n  \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0fd902e57aa97eb1be16e03e786b7c0615ce09a\">c0fd902</a></td><td><code>Merge branch 'u/SimonKing/cleanup_of_matrix_gfpn_dense' of git://trac.sagemath.org/sage into public/optional/cleanup_matrix_gfpn_dense-23400</code></td></tr></table>\n",
    "created_at": "2017-10-26T04:11:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354077",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:27'>Comment 27:</a>
LGTM. I did a trivial rebase, so I'm allowing myself to set a positive review.
  
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0fd902e57aa97eb1be16e03e786b7c0615ce09a">c0fd902</a></td><td><code>Merge branch 'u/SimonKing/cleanup_of_matrix_gfpn_dense' of git://trac.sagemath.org/sage into public/optional/cleanup_matrix_gfpn_dense-23400</code></td></tr></table>




---

archive/issue_comments_354078.json:
```json
{
    "body": "Changed commit from **[ef9cfd3](https://github.com/sagemath/sagetrac-mirror/commit/ef9cfd315fac8e879163b58192c2bc8b6665c8b6)** to **[c0fd902](https://github.com/sagemath/sagetrac-mirror/commit/c0fd902e57aa97eb1be16e03e786b7c0615ce09a)**",
    "created_at": "2017-10-26T04:11:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354078",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[ef9cfd3](https://github.com/sagemath/sagetrac-mirror/commit/ef9cfd315fac8e879163b58192c2bc8b6665c8b6)** to **[c0fd902](https://github.com/sagemath/sagetrac-mirror/commit/c0fd902e57aa97eb1be16e03e786b7c0615ce09a)**



---

archive/issue_comments_354079.json:
```json
{
    "body": "Changed work issues from **refactor a couple of tickets** to none",
    "created_at": "2017-10-26T04:11:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354079",
    "user": "https://github.com/tscrim"
}
```

Changed work issues from **refactor a couple of tickets** to none



---

archive/issue_events_296657.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-10-26T04:11:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296657"
}
```



---

archive/issue_events_296658.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-10-26T04:11:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296658"
}
```



---

archive/issue_comments_354080.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2017-10-26T04:11:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354080",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_296659.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-10-26T04:11:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296659"
}
```



---

archive/issue_events_296660.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-10-26T04:11:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296660"
}
```



---

archive/issue_comments_354081.json:
```json
{
    "body": "Changed branch from **[public/optional/cleanup_matrix_gfpn_dense-23400](https://github.com/sagemath/sagetrac-mirror/tree/public/optional/cleanup_matrix_gfpn_dense-23400)** to **[c0fd902](https://github.com/sagemath/sagetrac-mirror/commit/c0fd902e57aa97eb1be16e03e786b7c0615ce09a)**",
    "created_at": "2017-10-29T10:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23400#issuecomment-354081",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/optional/cleanup_matrix_gfpn_dense-23400](https://github.com/sagemath/sagetrac-mirror/tree/public/optional/cleanup_matrix_gfpn_dense-23400)** to **[c0fd902](https://github.com/sagemath/sagetrac-mirror/commit/c0fd902e57aa97eb1be16e03e786b7c0615ce09a)**



---

archive/issue_events_296661.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-29T10:32:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296661"
}
```



---

archive/issue_events_296662.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7c41260607005a5cbdd208b4c233756a65d35186",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-10-29T10:32:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23400",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23400#event-296662"
}
```
