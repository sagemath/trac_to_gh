# Issue 23218: Ramified extensions of general p-adic rings and fields

archive/issues_022981.json:
```json
{
    "body": "We should have support for relative extensions of p-adic rings and fields.  This is particularly useful for totally ramified extensions of unramified extensions of Qp, which will represent a general absolute extension of Qp.\n\nCC:  @saraedum swewers @xcaruso\n\nKeywords: sd87, padicIMA\n\nBranch/Commit: 319f6d49427c7a138aaf2ef31628c5ccb571be19\n\nReviewer: Julian R\u00fcth, Xavier Caruso, David Roe\n\nAuthor: David Roe, Julian R\u00fcth, Xavier Caruso\n\nDependencies: #23221, #23228, #23471, #25908, #21994\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23218\n\n",
    "closed_at": "2018-08-09T21:28:03Z",
    "created_at": "2017-06-11T18:44:52Z",
    "labels": [
        "component: padics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Ramified extensions of general p-adic rings and fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23218",
    "user": "https://github.com/roed314"
}
```
We should have support for relative extensions of p-adic rings and fields.  This is particularly useful for totally ramified extensions of unramified extensions of Qp, which will represent a general absolute extension of Qp.

CC:  @saraedum swewers @xcaruso

Keywords: sd87, padicIMA

Branch/Commit: 319f6d49427c7a138aaf2ef31628c5ccb571be19

Reviewer: Julian Rüth, Xavier Caruso, David Roe

Author: David Roe, Julian Rüth, Xavier Caruso

Dependencies: #23221, #23228, #23471, #25908, #21994

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23218





---

archive/issue_comments_342363.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2017-06-11T19:21:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342363",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_342364.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-12T01:49:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342364",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342365.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-12T02:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342365",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342366.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-12T07:03:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342366",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342367.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-13T06:07:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342367",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342368.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-13T09:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342368",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342369.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-13T20:26:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342369",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342370.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-13T23:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342370",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342371.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-13T23:49:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342371",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342372.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-14T09:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342372",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342373.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-15T06:13:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342373",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342374.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-15T20:09:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342374",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342375.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-17T06:08:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342375",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342376.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2017-07-20T19:59:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342376",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_342377.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-20T21:32:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342377",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342378.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-21T07:02:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342378",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342379.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-21T08:26:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342379",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342380.json:
```json
{
    "body": "<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-21T18:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342380",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342381.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-22T22:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342381",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342382.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2017-08-03T02:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342382",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_342383.json:
```json
{
    "body": "Diff against #23471",
    "created_at": "2017-08-03T05:27:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342383",
    "user": "https://github.com/roed314"
}
```

Diff against #23471



---

archive/issue_comments_342384.json:
```json
{
    "body": "<a id='comment:33'></a>Attachment [23218_over_23471.diff](tarball://root/attachments/some-uuid/ticket23218/23218_over_23471.diff) by git created at 2017-08-03 05:43:35\n\nBranch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-03T05:43:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342384",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Attachment [23218_over_23471.diff](tarball://root/attachments/some-uuid/ticket23218/23218_over_23471.diff) by git created at 2017-08-03 05:43:35

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342385.json:
```json
{
    "body": "<a id='comment:34'></a>Update dependency chain: #23471 depends on #14825, which depends on #20310.",
    "created_at": "2017-08-03T21:43:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342385",
    "user": "https://github.com/roed314"
}
```

<a id='comment:34'></a>Update dependency chain: #23471 depends on #14825, which depends on #20310.



---

archive/issue_comments_342386.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2017-08-21T04:22:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342386",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_342387.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2017-09-22T21:05:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342387",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_342388.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-04T00:13:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342388",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342389.json:
```json
{
    "body": "<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2017-11-05T08:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342389",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_342390.json:
```json
{
    "body": "<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-15T23:25:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342390",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342391.json:
```json
{
    "body": "<a id='comment:40'></a>It seems that I have found a problem with this ticket. Here is my example:\n\n\n```\nsage: R=Zq(2^10)\nsage: P.<alpha>=R[]\nsage: R1.<t>=R.ext(alpha^2+2*alpha+2)\nsage: M1=matrix(R1, 2, 2)\n---------------------------------------------------------------------------\nNotImplementedError                       Traceback (most recent call last)\n```",
    "created_at": "2017-12-16T19:18:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342391",
    "user": "https://github.com/dlubicz"
}
```

<a id='comment:40'></a>It seems that I have found a problem with this ticket. Here is my example:


```
sage: R=Zq(2^10)
sage: P.<alpha>=R[]
sage: R1.<t>=R.ext(alpha^2+2*alpha+2)
sage: M1=matrix(R1, 2, 2)
---------------------------------------------------------------------------
NotImplementedError                       Traceback (most recent call last)
```



---

archive/issue_comments_342392.json:
```json
{
    "body": "<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-01T15:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342392",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_342393.json:
```json
{
    "body": "<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2018-03-01T15:46:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342393",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_342394.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-03-01T15:52:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342394",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_342395.json:
```json
{
    "body": "<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2018-03-01T16:04:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342395",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_342396.json:
```json
{
    "body": "<a id='comment:45'></a>Sorry for the weird force pushes.  Things got confused with #23344.  It should be okay now, and a fast-forward of the branch from an hour ago.",
    "created_at": "2018-03-01T16:05:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342396",
    "user": "https://github.com/roed314"
}
```

<a id='comment:45'></a>Sorry for the weird force pushes.  Things got confused with #23344.  It should be okay now, and a fast-forward of the branch from an hour ago.



---

archive/issue_comments_342397.json:
```json
{
    "body": "<a id='comment:48'></a>Here are a series of bugs/remarks (see also discussion on Zulip):\n\n- the printing of the parent is not optimal\n- there is an issue with precision with the computation of `x^p`\n- the methods `zero` and `one` (of the parent) are not implemented\n- the method `expansion` is broken\n- coercion from `QQ` to a p-adic field does not always work (might be related to the previous item)\n- the method `polynomial` is broken\n \n---\nNew commits:",
    "created_at": "2018-05-17T19:44:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342397",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:48'></a>Here are a series of bugs/remarks (see also discussion on Zulip):

- the printing of the parent is not optimal
- there is an issue with precision with the computation of `x^p`
- the methods `zero` and `one` (of the parent) are not implemented
- the method `expansion` is broken
- coercion from `QQ` to a p-adic field does not always work (might be related to the previous item)
- the method `polynomial` is broken
 
---
New commits:



---

archive/issue_comments_342398.json:
```json
{
    "body": "Changing keywords from \"sd87\" to \"sd87, padicIMA\".",
    "created_at": "2018-07-22T20:27:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342398",
    "user": "https://github.com/roed314"
}
```

Changing keywords from "sd87" to "sd87, padicIMA".



---

archive/issue_comments_342399.json:
```json
{
    "body": "<a id='comment:50'></a>_test_add, _test_elements, _test_log, _test_sub failed when running TestSuite on the following 5-adic Eisenstein field.\n\n```\nsage: K.<a> = Qq(125)\nsage: R.<x> = K[]\nsage: W.<w> = K.extension(x^3 + 25*x^2 - 5*a*x + 5*(1+a^2))\nsage: TestSuite(W).run()\n```\n\nFor _test_add, the line\n\n```\ntester.assertTrue(y.is_equal_to(z-x,zprec))\n```\nfails. Even though the expressions z-(x+y) and x+y-z were fine, the expression z-x-y is not. (In my particular failure, they all had relative precision 60, x and z had absolute precision 60, y had absolute precision 63.)",
    "created_at": "2018-07-23T16:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342399",
    "user": "https://trac.sagemath.org/admin/accounts/users/varul"
}
```

<a id='comment:50'></a>_test_add, _test_elements, _test_log, _test_sub failed when running TestSuite on the following 5-adic Eisenstein field.

```
sage: K.<a> = Qq(125)
sage: R.<x> = K[]
sage: W.<w> = K.extension(x^3 + 25*x^2 - 5*a*x + 5*(1+a^2))
sage: TestSuite(W).run()
```

For _test_add, the line

```
tester.assertTrue(y.is_equal_to(z-x,zprec))
```
fails. Even though the expressions z-(x+y) and x+y-z were fine, the expression z-x-y is not. (In my particular failure, they all had relative precision 60, x and z had absolute precision 60, y had absolute precision 63.)



---

archive/issue_comments_342400.json:
```json
{
    "body": "<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-23T16:51:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342400",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342401.json:
```json
{
    "body": "<a id='comment:52'></a>random_element fails because multiplying by an element in the base field with negative valuation throws a \"ValueError: negative valuation\"\n\n```\nsage: K.<a> = Qq(125)\nsage: R.<t> = K[]\nsage: W.<w> = K.extension(t^3 + 5*(5*t^2 + (13*a-a^2)*t + a))\nsage: K(1/5)*w\nValueError: negative valuation\n```",
    "created_at": "2018-07-23T19:55:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342401",
    "user": "https://trac.sagemath.org/admin/accounts/users/varul"
}
```

<a id='comment:52'></a>random_element fails because multiplying by an element in the base field with negative valuation throws a "ValueError: negative valuation"

```
sage: K.<a> = Qq(125)
sage: R.<t> = K[]
sage: W.<w> = K.extension(t^3 + 5*(5*t^2 + (13*a-a^2)*t + a))
sage: K(1/5)*w
ValueError: negative valuation
```



---

archive/issue_comments_342402.json:
```json
{
    "body": "<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-23T20:57:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342402",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342403.json:
```json
{
    "body": "<a id='comment:56'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-23T21:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342403",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:56'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342404.json:
```json
{
    "body": "<a id='comment:57'></a>Here is another bug:\n\n```\nsage: K.<a> = Qq(2^10, 10)\nsage: S.<X> = K[]\nsage: L.<pi> = K.extension(X^2 - 16*X + 2)\nsage: L(2,absprec=3)\n<repr(<sage.rings.padics.relative_ramified_CR.RelativeRamifiedCappedRelativeElement at 0x7febfb11d4d0>) failed: RuntimeError: repr_spec called on zero>\n```\n\n---\nNew commits:",
    "created_at": "2018-07-23T22:22:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342404",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:57'></a>Here is another bug:

```
sage: K.<a> = Qq(2^10, 10)
sage: S.<X> = K[]
sage: L.<pi> = K.extension(X^2 - 16*X + 2)
sage: L(2,absprec=3)
<repr(<sage.rings.padics.relative_ramified_CR.RelativeRamifiedCappedRelativeElement at 0x7febfb11d4d0>) failed: RuntimeError: repr_spec called on zero>
```

---
New commits:



---

archive/issue_comments_342405.json:
```json
{
    "body": "<a id='comment:58'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-23T22:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342405",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342406.json:
```json
{
    "body": "<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-23T23:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342406",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342407.json:
```json
{
    "body": "<a id='comment:68'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-24T23:30:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342407",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:68'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342408.json:
```json
{
    "body": "<a id='comment:70'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-24T23:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342408",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:70'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342409.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-07-25T00:00:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342409",
    "user": "https://github.com/roed314"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_342410.json:
```json
{
    "body": "<a id='comment:71'></a>All tests pass on our machines.  Sending it to the patchbots.",
    "created_at": "2018-07-25T00:00:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342410",
    "user": "https://github.com/roed314"
}
```

<a id='comment:71'></a>All tests pass on our machines.  Sending it to the patchbots.



---

archive/issue_comments_342411.json:
```json
{
    "body": "<a id='comment:72'></a>There's still a bug with shifting:\n\n```\nsage: W.<a> = Zq(2^10,3)\nsage: S.<x> = W[]\nsage: OL.<pi> = W.extension(x^2 - 2*a*x + 2)\nsage: OL(1) >> 1\na + pi + pi^3 + a*pi^4 + O(pi^5)\n```\n\nThe last answer should be `0`, I guess.\n\nIn any case, results are not coherent:\n\n```\nsage: (OL(1) >> 1) >> 1\n(a^2 + 1) + a*pi + pi^2 + O(pi^4)\nsage: OL(1) >> 2\nO(pi^4)\n```",
    "created_at": "2018-07-25T12:32:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342411",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:72'></a>There's still a bug with shifting:

```
sage: W.<a> = Zq(2^10,3)
sage: S.<x> = W[]
sage: OL.<pi> = W.extension(x^2 - 2*a*x + 2)
sage: OL(1) >> 1
a + pi + pi^3 + a*pi^4 + O(pi^5)
```

The last answer should be `0`, I guess.

In any case, results are not coherent:

```
sage: (OL(1) >> 1) >> 1
(a^2 + 1) + a*pi + pi^2 + O(pi^4)
sage: OL(1) >> 2
O(pi^4)
```



---

archive/issue_comments_342412.json:
```json
{
    "body": "<a id='comment:74'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-25T13:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342412",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:74'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342413.json:
```json
{
    "body": "<a id='comment:75'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-25T13:47:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342413",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:75'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342414.json:
```json
{
    "body": "<a id='comment:78'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-25T19:10:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342414",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:78'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342415.json:
```json
{
    "body": "<a id='comment:81'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-26T05:56:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342415",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:81'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342416.json:
```json
{
    "body": "<a id='comment:85'></a>I've found--and fixed--some bugs.\n\nI'm not satisfied with this ticket. Positive review for me when patchbot is happy.\n\n---\nLast 10 new commits:",
    "created_at": "2018-07-26T21:52:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342416",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:85'></a>I've found--and fixed--some bugs.

I'm not satisfied with this ticket. Positive review for me when patchbot is happy.

---
Last 10 new commits:



---

archive/issue_comments_342417.json:
```json
{
    "body": "<a id='comment:87'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-26T22:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342417",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:87'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342418.json:
```json
{
    "body": "<a id='comment:88'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-26T22:42:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342418",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:88'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342419.json:
```json
{
    "body": "<a id='comment:89'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-26T22:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342419",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:89'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342420.json:
```json
{
    "body": "<a id='comment:90'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-27T03:15:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342420",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:90'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342421.json:
```json
{
    "body": "<a id='comment:97'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-27T16:38:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342421",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:97'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342422.json:
```json
{
    "body": "<a id='comment:98'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-27T17:33:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342422",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:98'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342423.json:
```json
{
    "body": "<a id='comment:0'></a>All tests pass! (But several plugins failed.)\n\nWe're almost done!\n\n---\nNew commits:",
    "created_at": "2018-07-28T00:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342423",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:0'></a>All tests pass! (But several plugins failed.)

We're almost done!

---
New commits:



---

archive/issue_comments_342424.json:
```json
{
    "body": "<a id='comment:1'></a>I think we're planning on ignoring the pyflakes plugin; that's a task for another ticket.\n\nWe did leave in the `_unit` debugging method for `relative_ramified_FP.pyx`.  That should either get removed or documented.\n\nI can finish this off in the next few days if you don't get a chance before your flight.",
    "created_at": "2018-07-28T05:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342424",
    "user": "https://github.com/roed314"
}
```

<a id='comment:1'></a>I think we're planning on ignoring the pyflakes plugin; that's a task for another ticket.

We did leave in the `_unit` debugging method for `relative_ramified_FP.pyx`.  That should either get removed or documented.

I can finish this off in the next few days if you don't get a chance before your flight.



---

archive/issue_comments_342425.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-28T08:59:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342425",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342426.json:
```json
{
    "body": "<a id='comment:3'></a>I removed the method `_unit`.\n\nThe plugin `startup_module` says:\n\n```\nstartup_modules Failed\nstartup_modules -- 3 seconds\n```\nbut I don't understand what's the problem.\n\n---\nNew commits:",
    "created_at": "2018-07-28T09:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342426",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:3'></a>I removed the method `_unit`.

The plugin `startup_module` says:

```
startup_modules Failed
startup_modules -- 3 seconds
```
but I don't understand what's the problem.

---
New commits:



---

archive/issue_comments_342427.json:
```json
{
    "body": "<a id='comment:4'></a>The latest patchbot report reports failures, but I think that they are not related to this ticket. Do you agree?",
    "created_at": "2018-07-29T15:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342427",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:4'></a>The latest patchbot report reports failures, but I think that they are not related to this ticket. Do you agree?



---

archive/issue_comments_342428.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-29T17:21:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342428",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_342429.json:
```json
{
    "body": "<a id='comment:5'></a>I agree.  And the startup_module is just checking that new modules aren't unintentionally added to Sage when they shouldn't be.  Since we're intending to, it's no problem.\n\nI think we're all set!",
    "created_at": "2018-07-29T17:21:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342429",
    "user": "https://github.com/roed314"
}
```

<a id='comment:5'></a>I agree.  And the startup_module is just checking that new modules aren't unintentionally added to Sage when they shouldn't be.  Since we're intending to, it's no problem.

I think we're all set!



---

archive/issue_events_059909.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-08-09T15:28:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23218#event-59909"
}
```



---

archive/issue_events_059910.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-09T21:28:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23218#event-59910"
}
```



---

archive/issue_comments_342430.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-08-09T21:28:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23218#issuecomment-342430",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
