# Issue 23115: Spanning tree method for DiGraph

archive/issues_022878.json:
```json
{
    "assignees": [
        "https://github.com/vipul79321"
    ],
    "body": "Add the method spanning_trees to the digraph class.\n\nThe method iterates through every spanning trees.\nEach tree is rooted in a given vertex v and directed from v to leaves\n\nCC:  @sagetrac-tmonteil @sagetrac-cchretien @dcoudert\n\nKeywords: **spanning tree digraph**\n\nBranch: **[`e2f9d69`](https://github.com/sagemath/sagetrac-mirror/commit/e2f9d69c761493ab93e353c6c451d1072467a7b9)**\n\nReviewer: **David Coudert, Travis Scrimshaw**\n\nAuthor: **Cl\u00e9ment Chr\u00e9tien, Thomas Petiteau, Vipul Gupta**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23115_\n\n",
    "closed_at": "2020-02-23T16:51:32Z",
    "created_at": "2017-05-31T13:14:58Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Spanning tree method for DiGraph",
    "type": "issue",
    "updated_at": "2020-06-06T23:24:09Z",
    "url": "https://github.com/sagemath/sage/issues/23115",
    "user": "https://github.com/sagetrac-tpetiteau"
}
```
Add the method spanning_trees to the digraph class.

The method iterates through every spanning trees.
Each tree is rooted in a given vertex v and directed from v to leaves

CC:  @sagetrac-tmonteil @sagetrac-cchretien @dcoudert

Keywords: **spanning tree digraph**

Branch: **[`e2f9d69`](https://github.com/sagemath/sagetrac-mirror/commit/e2f9d69c761493ab93e353c6c451d1072467a7b9)**

Reviewer: **David Coudert, Travis Scrimshaw**

Author: **Clément Chrétien, Thomas Petiteau, Vipul Gupta**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/23115_





---

archive/issue_events_322258.json:
```json
{
    "actor": "https://github.com/sagetrac-tpetiteau",
    "created_at": "2017-05-31T13:14:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322258"
}
```



---

archive/issue_events_322259.json:
```json
{
    "actor": "https://github.com/sagetrac-tpetiteau",
    "created_at": "2017-05-31T13:14:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322259"
}
```



---

archive/issue_events_322260.json:
```json
{
    "actor": "https://github.com/sagetrac-tpetiteau",
    "created_at": "2017-05-31T13:14:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322260"
}
```



---

archive/issue_comments_346387.json:
```json
{
    "body": "Branch: **[u/tpetiteau/spanning_tree_method_for_digraph](https://github.com/sagemath/sagetrac-mirror/tree/u/tpetiteau/spanning_tree_method_for_digraph)**",
    "created_at": "2017-06-01T06:27:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346387",
    "user": "https://github.com/sagetrac-tpetiteau"
}
```

Branch: **[u/tpetiteau/spanning_tree_method_for_digraph](https://github.com/sagemath/sagetrac-mirror/tree/u/tpetiteau/spanning_tree_method_for_digraph)**



---

archive/issue_comments_346388.json:
```json
{
    "body": "Commit: **[`72c632a`](https://github.com/sagemath/sagetrac-mirror/commit/72c632a988072d9ff1a79400a7cbff753040df54)**",
    "created_at": "2017-06-01T07:55:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346388",
    "user": "https://github.com/sagetrac-tpetiteau"
}
```

Commit: **[`72c632a`](https://github.com/sagemath/sagetrac-mirror/commit/72c632a988072d9ff1a79400a7cbff753040df54)**



---

archive/issue_events_322261.json:
```json
{
    "actor": "https://github.com/sagetrac-tpetiteau",
    "created_at": "2017-06-01T07:55:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322261"
}
```



---

archive/issue_comments_346389.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72c632a988072d9ff1a79400a7cbff753040df54\"><code>72c632a</code></a></td><td><code>#23115: add the method spanning_trees</code></td></tr></table>\n",
    "created_at": "2017-06-01T07:55:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346389",
    "user": "https://github.com/sagetrac-tpetiteau"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72c632a988072d9ff1a79400a7cbff753040df54"><code>72c632a</code></a></td><td><code>#23115: add the method spanning_trees</code></td></tr></table>




---

archive/issue_comments_346390.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHello,\n\nI'm not sure that the term `spanning tree` is the best choice. A rooted directed spanning tree is usually called an `out-branching` in digraph theory.\n\nI have several comments, but not enough time today. Only a few below.\n\nTo test if we can reach every other vertex from the source, you can simply do:\n\n```\nif len(list(self.depth_first_search(source))) < self.order():\n    return\n```\n\n\nFor initialization of `list_of_edges_to_keep` (and same idea in other places)\n\n```\nfor i,(u,v) in enumerate(list_of_edges):\n    if v != source and u != v:\n        list_of_edges_to_keep.append((u, v, [i]))\n```\n\nDon't use `xrange` but `range`.\n\netc.",
    "created_at": "2017-06-01T10:09:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346390",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:4" align="right">comment:4</div>

Hello,

I'm not sure that the term `spanning tree` is the best choice. A rooted directed spanning tree is usually called an `out-branching` in digraph theory.

I have several comments, but not enough time today. Only a few below.

To test if we can reach every other vertex from the source, you can simply do:

```
if len(list(self.depth_first_search(source))) < self.order():
    return
```


For initialization of `list_of_edges_to_keep` (and same idea in other places)

```
for i,(u,v) in enumerate(list_of_edges):
    if v != source and u != v:
        list_of_edges_to_keep.append((u, v, [i]))
```

Don't use `xrange` but `range`.

etc.



---

archive/issue_events_322262.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2017-06-01T10:09:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322262"
}
```



---

archive/issue_events_322263.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2017-06-01T10:09:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322263"
}
```



---

archive/issue_events_322264.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2017-06-01T10:10:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322264"
}
```



---

archive/issue_comments_346391.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI think that the following solution is much better.\n\n```\ndef arborescence_iterator(self, source):\n    r\"\"\"\n    Return an iterator over the rooted arborescences of the current ``DiGraph``.\n    \"\"\"\n    from copy import deepcopy\n    from itertools import product\n    from sage.graphs.digraph import DiGraph\n    \n    def _arborescence_rec(D, arborescence):\n        \"\"\"\n        \"\"\"\n        if arborescence.size() == self.order() - 1:\n            # We have the shape of the arborescence. We iterate over the\n            # combinations of labels of the multiple edges (if any).\n            if multiple_edges:\n                L = [[(u, v, l) for l in labels] for u,v,labels in arborescence.edges()]\n                for edges in product(*L):\n                    yield DiGraph(deepcopy(edges), format='list_of_edges')\n            else:\n                yield DiGraph(deepcopy(arborescence.edges()), format='list_of_edges')\n\n        else:\n            # 1) Pick an edge e in the out boundary of the current arborescence\n            e = D.edge_boundary(arborescence.vertices())[0]\n\n            # 2) Find all arborescences that do not contain e\n            D.delete_edge(e)\n            if len(list(D.depth_first_search(arborescence.vertices()))) == D.order():\n                for tree in _arborescence_rec(D, arborescence): \n                    yield tree\n            D.add_edge(e)\n        \n            # 3) Find all arborescences that do contain e\n            arborescence.add_edge(e)\n            for tree in _arborescence_rec(D, arborescence): \n                yield tree\n            # We remove edge e and its target\n            arborescence.delete_vertex(e[1])\n\n\n    if not self.has_vertex(source):\n        return\n\n    # Test if the source can access to every other vertex\n    if len(list(self.depth_first_search(source))) < self.order():\n        return\n\n    # We build a digraph without loops nor multiple edges, and we store the\n    # labels of multiple edges.\n    D = self.to_simple(to_undirected=False)\n    D.delete_edges(D.incoming_edges(source))\n\n    multiple_edges = self.has_multiple_edges()\n    if multiple_edges:\n        for u,v in D.edge_iterator(labels=0):\n            D.set_edge_label(u, v, self.edge_label(u,v))\n    \n    arborescence = DiGraph()\n    arborescence.add_vertex(source)\n    \n    return _arborescence_rec(D, arborescence)\n```",
    "created_at": "2017-06-04T18:58:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346391",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:6" align="right">comment:6</div>

I think that the following solution is much better.

```
def arborescence_iterator(self, source):
    r"""
    Return an iterator over the rooted arborescences of the current ``DiGraph``.
    """
    from copy import deepcopy
    from itertools import product
    from sage.graphs.digraph import DiGraph
    
    def _arborescence_rec(D, arborescence):
        """
        """
        if arborescence.size() == self.order() - 1:
            # We have the shape of the arborescence. We iterate over the
            # combinations of labels of the multiple edges (if any).
            if multiple_edges:
                L = [[(u, v, l) for l in labels] for u,v,labels in arborescence.edges()]
                for edges in product(*L):
                    yield DiGraph(deepcopy(edges), format='list_of_edges')
            else:
                yield DiGraph(deepcopy(arborescence.edges()), format='list_of_edges')

        else:
            # 1) Pick an edge e in the out boundary of the current arborescence
            e = D.edge_boundary(arborescence.vertices())[0]

            # 2) Find all arborescences that do not contain e
            D.delete_edge(e)
            if len(list(D.depth_first_search(arborescence.vertices()))) == D.order():
                for tree in _arborescence_rec(D, arborescence): 
                    yield tree
            D.add_edge(e)
        
            # 3) Find all arborescences that do contain e
            arborescence.add_edge(e)
            for tree in _arborescence_rec(D, arborescence): 
                yield tree
            # We remove edge e and its target
            arborescence.delete_vertex(e[1])


    if not self.has_vertex(source):
        return

    # Test if the source can access to every other vertex
    if len(list(self.depth_first_search(source))) < self.order():
        return

    # We build a digraph without loops nor multiple edges, and we store the
    # labels of multiple edges.
    D = self.to_simple(to_undirected=False)
    D.delete_edges(D.incoming_edges(source))

    multiple_edges = self.has_multiple_edges()
    if multiple_edges:
        for u,v in D.edge_iterator(labels=0):
            D.set_edge_label(u, v, self.edge_label(u,v))
    
    arborescence = DiGraph()
    arborescence.add_vertex(source)
    
    return _arborescence_rec(D, arborescence)
```



---

archive/issue_comments_346392.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI pushed a proposal for this method in `public/23115`. It allows to iterate over both in and out arborescences (or branchings or directed rooted trees) [1]. If you like it you can change the branch name in this ticket.\nSince the branch is in public, you are allowed to modify it if needed.\n\n---\n[1] https://en.wikipedia.org/wiki/Arborescence_(graph_theory)",
    "created_at": "2017-06-05T11:26:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346392",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:7" align="right">comment:7</div>

I pushed a proposal for this method in `public/23115`. It allows to iterate over both in and out arborescences (or branchings or directed rooted trees) [1]. If you like it you can change the branch name in this ticket.
Since the branch is in public, you are allowed to modify it if needed.

---
[1] https://en.wikipedia.org/wiki/Arborescence_(graph_theory)



---

archive/issue_comments_346393.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nLet's go back to what you have proposed.\n\nIn your code, you have a complex use of indexes to cope with multi edges.\n\nActually, what you are doing, and this is the correct approach, is:\n1. find an out-branching T in the digraph without labels\n2. enumerate all possible out-branching that you can obtain from T using combinations of labels\n3. goto step 1\n\nTo ease the readability of your code, I propose to proceed as follows:\n1. build a data structure (a dictionary) keyed by pairs (u,v), so without labels, containing the list of labeled edges. That is, `dico[u,v] = [(u, v, label1), (u, v, label2)]`\n2. find out-branchings T without labels. \n3. When you have an out-branching, enumerate all labeled out-branchings using the `product` operator and the dictionary `edge without label -> list of labeled edges`\n\n\nNote that the out-branching without labels is exactly the list of the edges you have contracted.\n\n\nIn your code, you have chosen to contract edges. Clearly it eases the selection of the next edge to consider (you can use `graph.outgoing_edge_iterator(source)`). The drawback is that you may create loops or multiple edges, and that you have to perform many operations to deal with those edges and also undo the contractions.\nYou could instead maintain 2 graphs:\n* The first one, G, is a copy of ``self`` without loops/multiedges/labels. On this graph you can only remove and put back the current edge\n* The second one, T, is the current out-branching. So you add in it the current edge and later remove that edge.\nSo doing, the maintenance is much easier. You can use `G.edge_boundary(T.vertices())` to find the next edge.\n\nLet me know if you have questions.",
    "created_at": "2017-06-06T09:57:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346393",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:8" align="right">comment:8</div>

Let's go back to what you have proposed.

In your code, you have a complex use of indexes to cope with multi edges.

Actually, what you are doing, and this is the correct approach, is:
1. find an out-branching T in the digraph without labels
2. enumerate all possible out-branching that you can obtain from T using combinations of labels
3. goto step 1

To ease the readability of your code, I propose to proceed as follows:
1. build a data structure (a dictionary) keyed by pairs (u,v), so without labels, containing the list of labeled edges. That is, `dico[u,v] = [(u, v, label1), (u, v, label2)]`
2. find out-branchings T without labels. 
3. When you have an out-branching, enumerate all labeled out-branchings using the `product` operator and the dictionary `edge without label -> list of labeled edges`


Note that the out-branching without labels is exactly the list of the edges you have contracted.


In your code, you have chosen to contract edges. Clearly it eases the selection of the next edge to consider (you can use `graph.outgoing_edge_iterator(source)`). The drawback is that you may create loops or multiple edges, and that you have to perform many operations to deal with those edges and also undo the contractions.
You could instead maintain 2 graphs:
* The first one, G, is a copy of ``self`` without loops/multiedges/labels. On this graph you can only remove and put back the current edge
* The second one, T, is the current out-branching. So you add in it the current edge and later remove that edge.
So doing, the maintenance is much easier. You can use `G.edge_boundary(T.vertices())` to find the next edge.

Let me know if you have questions.



---

archive/issue_comments_346394.json:
```json
{
    "body": "Changed commit from **[`72c632a`](https://github.com/sagemath/sagetrac-mirror/commit/72c632a988072d9ff1a79400a7cbff753040df54)** to **[`a1a3bef`](https://github.com/sagemath/sagetrac-mirror/commit/a1a3bef9554a3932c0ec74c2df74009559b02c4b)**",
    "created_at": "2017-06-15T16:08:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346394",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`72c632a`](https://github.com/sagemath/sagetrac-mirror/commit/72c632a988072d9ff1a79400a7cbff753040df54)** to **[`a1a3bef`](https://github.com/sagemath/sagetrac-mirror/commit/a1a3bef9554a3932c0ec74c2df74009559b02c4b)**



---

archive/issue_comments_346395.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7494900627bf9b1ecb87c40a0017f85f38b13960\"><code>7494900</code></a></td><td><code>Merge branch 'u/tpetiteau/spanning_tree_method_for_digraph' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1a3bef9554a3932c0ec74c2df74009559b02c4b\"><code>a1a3bef</code></a></td><td><code>update methode based on comments 4, 6 and 8</code></td></tr></table>\n",
    "created_at": "2017-06-15T16:08:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346395",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7494900627bf9b1ecb87c40a0017f85f38b13960"><code>7494900</code></a></td><td><code>Merge branch 'u/tpetiteau/spanning_tree_method_for_digraph' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1a3bef9554a3932c0ec74c2df74009559b02c4b"><code>a1a3bef</code></a></td><td><code>update methode based on comments 4, 6 and 8</code></td></tr></table>




---

archive/issue_comments_346396.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nFirst of all thank you for the feedback !\n\\\\\n\\\\\nWe implemented the recommendations you made on comment 4 and stole some ideas from your solution that improved our algorithm a lot.\n\\\\\n\\\\\nWe took some time before answering because we wanted to compare both algorithms.\n \nWe then made some tests with different graphs (based on the following code)\n\n\n```\nfrom contextlib import contextmanager\nfrom timeit import default_timer\n\n@contextmanager\ndef elapsed_timer():\n    start = default_timer()\n    elapser = lambda: default_timer() - start\n    yield lambda: elapser()\n    end = default_timer()\n    elapser = lambda: end-start\n\nD = digraphs.RandomDirectedGNP(50, .08)\n\nx = D.arborescence_iterator(0)\nwith elapsed_timer() as e:\n    for eee in range(100000):\n        x.next().size(),\nprint e()\n\nx = D.spanning_trees(0)\nwith elapsed_timer() as e:\n    for eee in range(100000):\n        x.next().size(),\nprint e()\n```\n\nThis test gives us 185 seconds for your solution and 107 seconds for ours.\n\nSo we think that the last committed version might be more suitable than your solution or the previous one.\n\nConcerning the name of our algorithm we found a lot of article using the term \"spanning tree\" while other use \"arborescence\"; therefore we do not think it is necessary to change it.\n\nAnyway, thanks again for your feedback it helped us a lot.",
    "created_at": "2017-06-15T16:31:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346396",
    "user": "https://github.com/sagetrac-tpetiteau"
}
```

<div id="comment:10" align="right">comment:10</div>

First of all thank you for the feedback !
\\
\\
We implemented the recommendations you made on comment 4 and stole some ideas from your solution that improved our algorithm a lot.
\\
\\
We took some time before answering because we wanted to compare both algorithms.
 
We then made some tests with different graphs (based on the following code)


```
from contextlib import contextmanager
from timeit import default_timer

@contextmanager
def elapsed_timer():
    start = default_timer()
    elapser = lambda: default_timer() - start
    yield lambda: elapser()
    end = default_timer()
    elapser = lambda: end-start

D = digraphs.RandomDirectedGNP(50, .08)

x = D.arborescence_iterator(0)
with elapsed_timer() as e:
    for eee in range(100000):
        x.next().size(),
print e()

x = D.spanning_trees(0)
with elapsed_timer() as e:
    for eee in range(100000):
        x.next().size(),
print e()
```

This test gives us 185 seconds for your solution and 107 seconds for ours.

So we think that the last committed version might be more suitable than your solution or the previous one.

Concerning the name of our algorithm we found a lot of article using the term "spanning tree" while other use "arborescence"; therefore we do not think it is necessary to change it.

Anyway, thanks again for your feedback it helped us a lot.



---

archive/issue_events_322265.json:
```json
{
    "actor": "https://github.com/sagetrac-tpetiteau",
    "created_at": "2017-06-15T16:31:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322265"
}
```



---

archive/issue_events_322266.json:
```json
{
    "actor": "https://github.com/sagetrac-tpetiteau",
    "created_at": "2017-06-15T16:31:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322266"
}
```



---

archive/issue_comments_346397.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nA first round of unordered comments:\n* do not use `D.outgoing_edge_iterator(source).next()` but `next(D.outgoing_edge_iterator(source))`\n* Add some details to clarify how you play with labels. It is not obvious at all\n* ensure that comments are formtted in 80 columns mode. This is easy to do with some editors like emacs\n* instead of using 3 lists to store edges (`out_source`, etc.), you could use a single `saved_edges` list\n* to ease termination test, you could pass an argument (depth) to the `_rec_spanning_trees` method so that the final test becomes `if depth == 0:`",
    "created_at": "2017-06-16T09:46:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346397",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:12" align="right">comment:12</div>

A first round of unordered comments:
* do not use `D.outgoing_edge_iterator(source).next()` but `next(D.outgoing_edge_iterator(source))`
* Add some details to clarify how you play with labels. It is not obvious at all
* ensure that comments are formtted in 80 columns mode. This is easy to do with some editors like emacs
* instead of using 3 lists to store edges (`out_source`, etc.), you could use a single `saved_edges` list
* to ease termination test, you could pass an argument (depth) to the `_rec_spanning_trees` method so that the final test becomes `if depth == 0:`



---

archive/issue_events_322267.json:
```json
{
    "actor": "https://github.com/sagetrac-tpetiteau",
    "created_at": "2017-06-16T09:52:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322267"
}
```



---

archive/issue_events_322268.json:
```json
{
    "actor": "https://github.com/sagetrac-tpetiteau",
    "created_at": "2017-06-16T09:52:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322268"
}
```



---

archive/issue_comments_346398.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nWe will make sure to apply the modifications you suggest.\n\nBut we are not sure that we fully understand what you mean by :\n\n- to ease termination test, you could pass an argument (depth) to the `_rec_spanning_trees` method so that the final test becomes `if depth == 0`:\n\nDo you want to replace `if(len(list_merged_edges)) == self.order()-1` by a test on a parameter `depth` gave to `_rec_spanning_trees` method ?",
    "created_at": "2017-06-16T09:57:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346398",
    "user": "https://github.com/sagetrac-tpetiteau"
}
```

<div id="comment:14" align="right">comment:14</div>

We will make sure to apply the modifications you suggest.

But we are not sure that we fully understand what you mean by :

- to ease termination test, you could pass an argument (depth) to the `_rec_spanning_trees` method so that the final test becomes `if depth == 0`:

Do you want to replace `if(len(list_merged_edges)) == self.order()-1` by a test on a parameter `depth` gave to `_rec_spanning_trees` method ?



---

archive/issue_comments_346399.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@sagetrac-tpetiteau](#comment:14):\n> We will make sure to apply the modifications you suggest.\n> \n> But we are not sure that we fully understand what you mean by :\n> \n> - to ease termination test, you could pass an argument (depth) to the `_rec_spanning_trees` method so that the final test becomes `if depth == 0`:\n> \n> Do you want to replace `if(len(list_merged_edges)) == self.order()-1` by a test on a parameter `depth` gave to `_rec_spanning_trees` method ?\n\nExactly. The first call is with `self.order()-1` and then each recursive call is with `depth-1` (or a more suitable name).",
    "created_at": "2017-06-16T10:00:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346399",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@sagetrac-tpetiteau](#comment:14):
> We will make sure to apply the modifications you suggest.
> 
> But we are not sure that we fully understand what you mean by :
> 
> - to ease termination test, you could pass an argument (depth) to the `_rec_spanning_trees` method so that the final test becomes `if depth == 0`:
> 
> Do you want to replace `if(len(list_merged_edges)) == self.order()-1` by a test on a parameter `depth` gave to `_rec_spanning_trees` method ?

Exactly. The first call is with `self.order()-1` and then each recursive call is with `depth-1` (or a more suitable name).



---

archive/issue_events_322269.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2017-10-21T08:55:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322269"
}
```



---

archive/issue_events_322270.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2017-10-21T08:55:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322270"
}
```



---

archive/issue_comments_346400.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nany update ?",
    "created_at": "2017-10-21T08:55:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346400",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:16" align="right">comment:16</div>

any update ?



---

archive/issue_comments_346401.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nUpdate is coming, I got caught in personal problem and crashed my computer.\n\nI should get time this week end to upload the last modification.",
    "created_at": "2017-10-26T16:57:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346401",
    "user": "https://github.com/sagetrac-tpetiteau"
}
```

<div id="comment:17" align="right">comment:17</div>

Update is coming, I got caught in personal problem and crashed my computer.

I should get time this week end to upload the last modification.



---

archive/issue_comments_346402.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nping :)",
    "created_at": "2018-02-04T16:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346402",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:18" align="right">comment:18</div>

ping :)



---

archive/issue_comments_346403.json:
```json
{
    "body": "Changed branch from **[u/tpetiteau/spanning_tree_method_for_digraph](https://github.com/sagemath/sagetrac-mirror/tree/u/tpetiteau/spanning_tree_method_for_digraph)** to **[u/gh-vipul79321/ticket23115](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vipul79321/ticket23115)**",
    "created_at": "2020-02-13T13:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346403",
    "user": "https://github.com/vipul79321"
}
```

Changed branch from **[u/tpetiteau/spanning_tree_method_for_digraph](https://github.com/sagemath/sagetrac-mirror/tree/u/tpetiteau/spanning_tree_method_for_digraph)** to **[u/gh-vipul79321/ticket23115](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vipul79321/ticket23115)**



---

archive/issue_comments_346404.json:
```json
{
    "body": "Changed commit from **[`a1a3bef`](https://github.com/sagemath/sagetrac-mirror/commit/a1a3bef9554a3932c0ec74c2df74009559b02c4b)** to none",
    "created_at": "2020-02-13T13:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346404",
    "user": "https://github.com/vipul79321"
}
```

Changed commit from **[`a1a3bef`](https://github.com/sagemath/sagetrac-mirror/commit/a1a3bef9554a3932c0ec74c2df74009559b02c4b)** to none



---

archive/issue_comments_346405.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-13T13:56:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346405",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_346406.json:
```json
{
    "body": "Commit: **[`2cbd93e`](https://github.com/sagemath/sagetrac-mirror/commit/2cbd93e0b78dec701f4b7ad9271d3b1e967bcd6c)**",
    "created_at": "2020-02-13T13:56:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346406",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`2cbd93e`](https://github.com/sagemath/sagetrac-mirror/commit/2cbd93e0b78dec701f4b7ad9271d3b1e967bcd6c)**



---

archive/issue_comments_346407.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ddcb510e992885cc42fd80dd430dbd566ddb2095\"><code>ddcb510</code></a></td><td><code>updated according to comment 12</code></td></tr></table>\n",
    "created_at": "2020-02-13T13:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346407",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ddcb510e992885cc42fd80dd430dbd566ddb2095"><code>ddcb510</code></a></td><td><code>updated according to comment 12</code></td></tr></table>




---

archive/issue_comments_346408.json:
```json
{
    "body": "Changed commit from **[`2cbd93e`](https://github.com/sagemath/sagetrac-mirror/commit/2cbd93e0b78dec701f4b7ad9271d3b1e967bcd6c)** to **[`ddcb510`](https://github.com/sagemath/sagetrac-mirror/commit/ddcb510e992885cc42fd80dd430dbd566ddb2095)**",
    "created_at": "2020-02-13T13:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346408",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2cbd93e`](https://github.com/sagemath/sagetrac-mirror/commit/2cbd93e0b78dec701f4b7ad9271d3b1e967bcd6c)** to **[`ddcb510`](https://github.com/sagemath/sagetrac-mirror/commit/ddcb510e992885cc42fd80dd430dbd566ddb2095)**



---

archive/issue_events_322271.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-02-13T14:05:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322271"
}
```



---

archive/issue_events_322272.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-02-13T14:05:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322272"
}
```



---

archive/issue_events_322273.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-02-13T14:10:47Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "subject": "https://github.com/vipul79321",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322273"
}
```



---

archive/issue_events_322274.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-02-14T03:56:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322274"
}
```



---

archive/issue_events_322275.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-02-14T03:56:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322275"
}
```



---

archive/issue_events_322276.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-02-14T12:41:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322276"
}
```



---

archive/issue_events_322277.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-02-14T12:41:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322277"
}
```



---

archive/issue_comments_346409.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\n**General comments:**\n\n- All comments must be formatted in 80 columns mode. You can certainly configure your editor for that\n- `The spanning trees are rooted in the vertex source and directed from source to leaves.` -> <code>The spanning trees are rooted at  vertex \\`\\`source\\`\\` and edges are directed from source to leaves.</code>\n\n```diff\n-            - :meth:`~sage.graphs.generic_graph.GenericGraph.spanning_trees_count`$\n+            - :meth:`~sage.graphs.generic_graph.GenericGraph.spanning_trees_count`\n```\n\n```diff\n-        A simple Graph: a square with edges in both directions\n-\n-        ::\n+        A bidirectional 4-cycle::\n```\n\n```diff\n-        With the Petersen graph turned into a directed graph\n-\n-        ::\n+        With the Petersen graph turned into a symmetric directed graph::\n```\n\n- In tests and examples, avoid empty lines before `::`. Can be placed directly at the end of the line\n\n- we can avoid calling twice method `outgoing_edge_iterator` as follows\n\n```diff\n-            # 2) Pick an edge e outgoing from the source\n-            if(len(D.outgoing_edges(source))==0):\n-                return\n-            s, x, l = next(D.outgoing_edge_iterator(source))\n+            # 2) Pick an edge e outgoing from the source\n+            try:\n+                s, x, l = next(D.outgoing_edge_iterator(source))\n+            except:\n+                return\n```\n\n- Prefer `(u, v, l)` to `(u,v,l)`, `self.order() - 1` to `self.order()-1`,  `D.add_edge(u, v, (i,))` to `D.add_edge(u,v,(i,))`, \n\n\n**Terminology:**\n\nI understand the use of spanning trees in this context and it is a counter part of the method for undirected graphes. However, I don't think it is the correct terminology in directed graphs. More precisely, [1] defines out-branchings as trees rooted at a vertex u with all vertices of in-degree 1 (so all edges directed from source to leaves) and similarly in-branchings. Such a branching is not necessarily spanning, and so we can use the term `spanning out branching`.\n\n[1] J\u00f8rgen Bang-Jensen, Gregory Z. Gutin: Digraphs - Theory, Algorithms and Applications, Second Edition. Springer Monographs in Mathematics, Springer 2009, ISBN 978-1-84800-997-4, pp. I-XXII, 1-795  \n[2] https://en.wikipedia.org/wiki/Arborescence_(graph_theory)\n\n\n**Todo:**\n- The current code iterates over spanning out branchings. Why not also iterating over spanning in branchings ?\n- add iterator over in and out branchings",
    "created_at": "2020-02-14T12:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346409",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:25" align="right">comment:25</div>

**General comments:**

- All comments must be formatted in 80 columns mode. You can certainly configure your editor for that
- `The spanning trees are rooted in the vertex source and directed from source to leaves.` -> <code>The spanning trees are rooted at  vertex \`\`source\`\` and edges are directed from source to leaves.</code>

```diff
-            - :meth:`~sage.graphs.generic_graph.GenericGraph.spanning_trees_count`$
+            - :meth:`~sage.graphs.generic_graph.GenericGraph.spanning_trees_count`
```

```diff
-        A simple Graph: a square with edges in both directions
-
-        ::
+        A bidirectional 4-cycle::
```

```diff
-        With the Petersen graph turned into a directed graph
-
-        ::
+        With the Petersen graph turned into a symmetric directed graph::
```

- In tests and examples, avoid empty lines before `::`. Can be placed directly at the end of the line

- we can avoid calling twice method `outgoing_edge_iterator` as follows

```diff
-            # 2) Pick an edge e outgoing from the source
-            if(len(D.outgoing_edges(source))==0):
-                return
-            s, x, l = next(D.outgoing_edge_iterator(source))
+            # 2) Pick an edge e outgoing from the source
+            try:
+                s, x, l = next(D.outgoing_edge_iterator(source))
+            except:
+                return
```

- Prefer `(u, v, l)` to `(u,v,l)`, `self.order() - 1` to `self.order()-1`,  `D.add_edge(u, v, (i,))` to `D.add_edge(u,v,(i,))`, 


**Terminology:**

I understand the use of spanning trees in this context and it is a counter part of the method for undirected graphes. However, I don't think it is the correct terminology in directed graphs. More precisely, [1] defines out-branchings as trees rooted at a vertex u with all vertices of in-degree 1 (so all edges directed from source to leaves) and similarly in-branchings. Such a branching is not necessarily spanning, and so we can use the term `spanning out branching`.

[1] Jørgen Bang-Jensen, Gregory Z. Gutin: Digraphs - Theory, Algorithms and Applications, Second Edition. Springer Monographs in Mathematics, Springer 2009, ISBN 978-1-84800-997-4, pp. I-XXII, 1-795  
[2] https://en.wikipedia.org/wiki/Arborescence_(graph_theory)


**Todo:**
- The current code iterates over spanning out branchings. Why not also iterating over spanning in branchings ?
- add iterator over in and out branchings



---

archive/issue_comments_346410.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@dcoudert](#comment:25):\n> \n> **General comments:**\n> \n> - All comments must be formatted in 80 columns mode. You can certainly configure your editor for that\n> - `The spanning trees are rooted in the vertex source and directed from source to leaves.` -> <code>The spanning trees are rooted at  vertex \\`\\`source\\`\\` and edges are directed from source to leaves.</code>\n> \n\n\n> ```diff\n> -            - :meth:`~sage.graphs.generic_graph.GenericGraph.spanning_trees_count`$\n> +            - :meth:`~sage.graphs.generic_graph.GenericGraph.spanning_trees_count`\n> ```\n> \n> ```diff\n> -        A simple Graph: a square with edges in both directions\n> -\n> -        ::\n> +        A bidirectional 4-cycle::\n> ```\n> \n> ```diff\n> -        With the Petersen graph turned into a directed graph\n> -\n> -        ::\n> +        With the Petersen graph turned into a symmetric directed graph::\n> ```\n> \n> - In tests and examples, avoid empty lines before `::`. Can be placed directly at the end of the line\n> \n> - we can avoid calling twice method `outgoing_edge_iterator` as follows\n> \n> ```diff\n> -            # 2) Pick an edge e outgoing from the source\n> -            if(len(D.outgoing_edges(source))==0):\n> -                return\n> -            s, x, l = next(D.outgoing_edge_iterator(source))\n> +            # 2) Pick an edge e outgoing from the source\n> +            try:\n> +                s, x, l = next(D.outgoing_edge_iterator(source))\n> +            except:\n> +                return\n> ```\n> \n> - Prefer `(u, v, l)` to `(u,v,l)`, `self.order() - 1` to `self.order()-1`,  `D.add_edge(u, v, (i,))` to `D.add_edge(u,v,(i,))`, \n> \n> \n\nOk\nI will apply all the modifications you suggested.\n> **Terminology:**\n> \n> I understand the use of spanning trees in this context and it is a counter part of the method for undirected graphes. However, I don't think it is the correct terminology in directed graphs. More precisely, [1] defines out-branchings as trees rooted at a vertex u with all vertices of in-degree 1 (so all edges directed from source to leaves) and similarly in-branchings. Such a branching is not necessarily spanning, and so we can use the term `spanning out branching`.\n> \n> [1] J\u00f8rgen Bang-Jensen, Gregory Z. Gutin: Digraphs - Theory, Algorithms and Applications, Second Edition. Springer Monographs in Mathematics, Springer 2009, ISBN 978-1-84800-997-4, pp. I-XXII, 1-795  \n> [2] https://en.wikipedia.org/wiki/Arborescence_(graph_theory)\n> \n> \n\nYes, We can use the term `spanning_out_branching` instead of `spanning_trees`.\n> **Todo:**\n> - The current code iterates over spanning out branchings. Why not also iterating over spanning in branchings ?\n> - add iterator over in and out branchings\n> \n\nThis part is quite unclear to me.\nAre you suggesting that we should write another method `spanning_in_branching`, which will return a directed tree in which there is path from each vertex to source?\n> \n\n>",
    "created_at": "2020-02-14T13:10:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346410",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@dcoudert](#comment:25):
> 
> **General comments:**
> 
> - All comments must be formatted in 80 columns mode. You can certainly configure your editor for that
> - `The spanning trees are rooted in the vertex source and directed from source to leaves.` -> <code>The spanning trees are rooted at  vertex \`\`source\`\` and edges are directed from source to leaves.</code>
> 


> ```diff
> -            - :meth:`~sage.graphs.generic_graph.GenericGraph.spanning_trees_count`$
> +            - :meth:`~sage.graphs.generic_graph.GenericGraph.spanning_trees_count`
> ```
> 
> ```diff
> -        A simple Graph: a square with edges in both directions
> -
> -        ::
> +        A bidirectional 4-cycle::
> ```
> 
> ```diff
> -        With the Petersen graph turned into a directed graph
> -
> -        ::
> +        With the Petersen graph turned into a symmetric directed graph::
> ```
> 
> - In tests and examples, avoid empty lines before `::`. Can be placed directly at the end of the line
> 
> - we can avoid calling twice method `outgoing_edge_iterator` as follows
> 
> ```diff
> -            # 2) Pick an edge e outgoing from the source
> -            if(len(D.outgoing_edges(source))==0):
> -                return
> -            s, x, l = next(D.outgoing_edge_iterator(source))
> +            # 2) Pick an edge e outgoing from the source
> +            try:
> +                s, x, l = next(D.outgoing_edge_iterator(source))
> +            except:
> +                return
> ```
> 
> - Prefer `(u, v, l)` to `(u,v,l)`, `self.order() - 1` to `self.order()-1`,  `D.add_edge(u, v, (i,))` to `D.add_edge(u,v,(i,))`, 
> 
> 

Ok
I will apply all the modifications you suggested.
> **Terminology:**
> 
> I understand the use of spanning trees in this context and it is a counter part of the method for undirected graphes. However, I don't think it is the correct terminology in directed graphs. More precisely, [1] defines out-branchings as trees rooted at a vertex u with all vertices of in-degree 1 (so all edges directed from source to leaves) and similarly in-branchings. Such a branching is not necessarily spanning, and so we can use the term `spanning out branching`.
> 
> [1] Jørgen Bang-Jensen, Gregory Z. Gutin: Digraphs - Theory, Algorithms and Applications, Second Edition. Springer Monographs in Mathematics, Springer 2009, ISBN 978-1-84800-997-4, pp. I-XXII, 1-795  
> [2] https://en.wikipedia.org/wiki/Arborescence_(graph_theory)
> 
> 

Yes, We can use the term `spanning_out_branching` instead of `spanning_trees`.
> **Todo:**
> - The current code iterates over spanning out branchings. Why not also iterating over spanning in branchings ?
> - add iterator over in and out branchings
> 

This part is quite unclear to me.
Are you suggesting that we should write another method `spanning_in_branching`, which will return a directed tree in which there is path from each vertex to source?
> 

>



---

archive/issue_comments_346411.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\n> Yes, We can use the term `spanning_out_branching` instead of `spanning_trees`.\n> > **Todo:**\n> > - The current code iterates over spanning out branchings. Why not also iterating over spanning in branchings ?\n> > - add iterator over in and out branchings\n> > \n\n> This part is quite unclear to me.\n> Are you suggesting that we should write another method `spanning_in_branching`, which will return a directed tree in which there is path from each vertex to source?\n\nExactly. Observe that in such branching, each vertex except the source (in fact a target) has out degree 1.",
    "created_at": "2020-02-14T13:15:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346411",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:27" align="right">comment:27</div>

> Yes, We can use the term `spanning_out_branching` instead of `spanning_trees`.
> > **Todo:**
> > - The current code iterates over spanning out branchings. Why not also iterating over spanning in branchings ?
> > - add iterator over in and out branchings
> > 

> This part is quite unclear to me.
> Are you suggesting that we should write another method `spanning_in_branching`, which will return a directed tree in which there is path from each vertex to source?

Exactly. Observe that in such branching, each vertex except the source (in fact a target) has out degree 1.



---

archive/issue_comments_346412.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@dcoudert](#comment:27):\n> > Yes, We can use the term `spanning_out_branching` instead of `spanning_trees`.\n> > > **Todo:**\n> > > - The current code iterates over spanning out branchings. Why not also iterating over spanning in branchings ?\n> > > - add iterator over in and out branchings\n> > > \n\n> > This part is quite unclear to me.\n> > Are you suggesting that we should write another method `spanning_in_branching`, which will return a directed tree in which there is path from each vertex to source?\n\n> \n> Exactly. Observe that in such branching, each vertex except the source (in fact a target) has out degree 1.\n\nOk, I got it now.\nBut how do you propose to check whether source is accesible from each vertex?\nEither we can check the following condition `len(list(self.reverse().depth_first_search(source))==self.order())`\nor \nwe can implement modified version of DFS in our method specifically for this purpose.",
    "created_at": "2020-02-14T14:09:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346412",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@dcoudert](#comment:27):
> > Yes, We can use the term `spanning_out_branching` instead of `spanning_trees`.
> > > **Todo:**
> > > - The current code iterates over spanning out branchings. Why not also iterating over spanning in branchings ?
> > > - add iterator over in and out branchings
> > > 

> > This part is quite unclear to me.
> > Are you suggesting that we should write another method `spanning_in_branching`, which will return a directed tree in which there is path from each vertex to source?

> 
> Exactly. Observe that in such branching, each vertex except the source (in fact a target) has out degree 1.

Ok, I got it now.
But how do you propose to check whether source is accesible from each vertex?
Either we can check the following condition `len(list(self.reverse().depth_first_search(source))==self.order())`
or 
we can implement modified version of DFS in our method specifically for this purpose.



---

archive/issue_comments_346413.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nGenerally, ready the documentation of methods helps a lot:\n\n```\nsage: G = digraphs.Path(5)\nsage: G.depth_first_search??\nsage: list(G.depth_first_search(2, neighbors=G.neighbor_in_iterator))\n[2, 1, 0]\nsage: list(G.depth_first_search(2, neighbors=G.neighbor_out_iterator))\n[2, 3, 4]\n```",
    "created_at": "2020-02-14T14:51:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346413",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:29" align="right">comment:29</div>

Generally, ready the documentation of methods helps a lot:

```
sage: G = digraphs.Path(5)
sage: G.depth_first_search??
sage: list(G.depth_first_search(2, neighbors=G.neighbor_in_iterator))
[2, 1, 0]
sage: list(G.depth_first_search(2, neighbors=G.neighbor_out_iterator))
[2, 3, 4]
```



---

archive/issue_comments_346414.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15267eabe3a6e9487f334b2fbaf1f96502c2c4c7\"><code>15267ea</code></a></td><td><code>method spanning_in_branching added</code></td></tr></table>\n",
    "created_at": "2020-02-14T16:45:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346414",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15267eabe3a6e9487f334b2fbaf1f96502c2c4c7"><code>15267ea</code></a></td><td><code>method spanning_in_branching added</code></td></tr></table>




---

archive/issue_comments_346415.json:
```json
{
    "body": "Changed commit from **[`ddcb510`](https://github.com/sagemath/sagetrac-mirror/commit/ddcb510e992885cc42fd80dd430dbd566ddb2095)** to **[`15267ea`](https://github.com/sagemath/sagetrac-mirror/commit/15267eabe3a6e9487f334b2fbaf1f96502c2c4c7)**",
    "created_at": "2020-02-14T16:45:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346415",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ddcb510`](https://github.com/sagemath/sagetrac-mirror/commit/ddcb510e992885cc42fd80dd430dbd566ddb2095)** to **[`15267ea`](https://github.com/sagemath/sagetrac-mirror/commit/15267eabe3a6e9487f334b2fbaf1f96502c2c4c7)**



---

archive/issue_comments_346416.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed46a585bb4186b55267b149d478b8c939a7f683\"><code>ed46a58</code></a></td><td><code>Removed all the changes from graph.py</code></td></tr></table>\n",
    "created_at": "2020-02-14T16:54:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346416",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed46a585bb4186b55267b149d478b8c939a7f683"><code>ed46a58</code></a></td><td><code>Removed all the changes from graph.py</code></td></tr></table>




---

archive/issue_comments_346417.json:
```json
{
    "body": "Changed commit from **[`15267ea`](https://github.com/sagemath/sagetrac-mirror/commit/15267eabe3a6e9487f334b2fbaf1f96502c2c4c7)** to **[`ed46a58`](https://github.com/sagemath/sagetrac-mirror/commit/ed46a585bb4186b55267b149d478b8c939a7f683)**",
    "created_at": "2020-02-14T16:54:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346417",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`15267ea`](https://github.com/sagemath/sagetrac-mirror/commit/15267eabe3a6e9487f334b2fbaf1f96502c2c4c7)** to **[`ed46a58`](https://github.com/sagemath/sagetrac-mirror/commit/ed46a585bb4186b55267b149d478b8c939a7f683)**



---

archive/issue_comments_346418.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4749fa073c7e6e0f279f054b0ec9c3a07844345\"><code>c4749fa</code></a></td><td><code>minor changes removed from graph.py</code></td></tr></table>\n",
    "created_at": "2020-02-14T16:57:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346418",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4749fa073c7e6e0f279f054b0ec9c3a07844345"><code>c4749fa</code></a></td><td><code>minor changes removed from graph.py</code></td></tr></table>




---

archive/issue_comments_346419.json:
```json
{
    "body": "Changed commit from **[`ed46a58`](https://github.com/sagemath/sagetrac-mirror/commit/ed46a585bb4186b55267b149d478b8c939a7f683)** to **[`c4749fa`](https://github.com/sagemath/sagetrac-mirror/commit/c4749fa073c7e6e0f279f054b0ec9c3a07844345)**",
    "created_at": "2020-02-14T16:57:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346419",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ed46a58`](https://github.com/sagemath/sagetrac-mirror/commit/ed46a585bb4186b55267b149d478b8c939a7f683)** to **[`c4749fa`](https://github.com/sagemath/sagetrac-mirror/commit/c4749fa073c7e6e0f279f054b0ec9c3a07844345)**



---

archive/issue_comments_346420.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@sagetrac-git](#comment:30):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n\n|                                                                                                                                                 |                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[15267ea](https://github.com/sagemath/sagetrac-mirror/commit/15267eabe3a6e9487f334b2fbaf1f96502c2c4c7)|`method spanning_in_branching added`|\nI mistakenly made some changes in graph.py file. Those changes are removed in the next two commits.\nI have made all the modifications suggested in comment 25 and added method `spanning_in_branching` in digraph.py",
    "created_at": "2020-02-14T17:00:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346420",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@sagetrac-git](#comment:30):
> Branch pushed to git repo; I updated commit sha1. New commits:

|                                                                                                                                                 |                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[15267ea](https://github.com/sagemath/sagetrac-mirror/commit/15267eabe3a6e9487f334b2fbaf1f96502c2c4c7)|`method spanning_in_branching added`|
I mistakenly made some changes in graph.py file. Those changes are removed in the next two commits.
I have made all the modifications suggested in comment 25 and added method `spanning_in_branching` in digraph.py



---

archive/issue_events_322278.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-02-14T17:00:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322278"
}
```



---

archive/issue_events_322279.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-02-14T17:00:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322279"
}
```



---

archive/issue_comments_346421.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\n- the patchbot reports a pyflakes error as itertools.chain is not used\n\n```diff\n-from itertools import product, chain\n+from itertools import product\n```\n\n- Format all documentation and comments of your methods in 80 columns mode\n\n- We can improve the definition\n\n```diff\n-        The spanning out branching are rooted in the vertex ``source`` and directed from source to leaves.\n+        An out-branching is a directed tree rooted at ``source`` whose arcs are directed from source to\n+        leaves. An out-branching is spanning if it contains all vertices of the digraph. \n``` \n\n- and also\n\n```diff\n-        If no spanning out branching exist, return nothing.\n+        If no spanning out branching rooted at ``source`` exist, return nothing.\n```\n\n- `spanning out branches` -> `spanning out branchings`\n\n- We try to comply with the PEP8 style guide for Python code [https://www.python.org/dev/peps/pep-0008/ ]. So,\n  - `D.delete_edge(u,v,l)` -> `D.delete_edge(u, v, l)`\n  - `(u,v)` -> `(u, v)`\n\n- instead of `depth -= 1` and later `depth += 1`, you can change the call to `_rec_spanning_out_branchings(depth - 1)`\n\n- Instead of returning nothing if the source is not a vertex of the digraph, we should raise an error and adapt doctests accordingly. \n\n```\n    if not self.has_vertex(source):\n        raise ValueError(\"vertex ({0}) is not a vertex of the digraph\".format(source))\n```\n\n\n- I propose the following simpler code\n\n```diff\n-        # We build a copy of the current Digraph removing loops and edges \n-        # coming in sources\n-        # We give to every edge a label corresponding to its index in the list \n-        # of edges of the current digraph\n-        D = DiGraph(multiedges=True, loops=True)\n-        list_edges = self.edges()\n-        depth = self.order() - 1\n-        # Adding edges in D with label corresponding to index of that edge in\n-        # self.edges()\n-        for i,(u, v, _) in enumerate(list_edges):\n-            if u != v and v != source:\n-                D.add_edge(u, v, (i,))\n-        list_merged_edges = set()\n-        return _rec_spanning_out_branchings(depth)\n+       # We build a copy of self in which each edge has a distinct label.\n+       # On the way, we remove loops and edges incoming to source.\n+        D = DiGraph(multiedges=True, loops=True)\n+        for i, (u, v) in enumerate(self.edges(labels=False, sort=False)):\n+            if u != v and v != source:\n+                D.add_edge(u, v, (i,))\n+        list_merged_edges = set()\n+        return _rec_spanning_out_branchings(self.order() - 1)\n```\n\n\n- similar changes have to be done for `spanning_in_branching`.\n\n- don't forget to add the methods to the top tables of the file.\n- Also, check that the documentation builds well and displays properly.",
    "created_at": "2020-02-15T12:00:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346421",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:35" align="right">comment:35</div>

- the patchbot reports a pyflakes error as itertools.chain is not used

```diff
-from itertools import product, chain
+from itertools import product
```

- Format all documentation and comments of your methods in 80 columns mode

- We can improve the definition

```diff
-        The spanning out branching are rooted in the vertex ``source`` and directed from source to leaves.
+        An out-branching is a directed tree rooted at ``source`` whose arcs are directed from source to
+        leaves. An out-branching is spanning if it contains all vertices of the digraph. 
``` 

- and also

```diff
-        If no spanning out branching exist, return nothing.
+        If no spanning out branching rooted at ``source`` exist, return nothing.
```

- `spanning out branches` -> `spanning out branchings`

- We try to comply with the PEP8 style guide for Python code [https://www.python.org/dev/peps/pep-0008/ ]. So,
  - `D.delete_edge(u,v,l)` -> `D.delete_edge(u, v, l)`
  - `(u,v)` -> `(u, v)`

- instead of `depth -= 1` and later `depth += 1`, you can change the call to `_rec_spanning_out_branchings(depth - 1)`

- Instead of returning nothing if the source is not a vertex of the digraph, we should raise an error and adapt doctests accordingly. 

```
    if not self.has_vertex(source):
        raise ValueError("vertex ({0}) is not a vertex of the digraph".format(source))
```


- I propose the following simpler code

```diff
-        # We build a copy of the current Digraph removing loops and edges 
-        # coming in sources
-        # We give to every edge a label corresponding to its index in the list 
-        # of edges of the current digraph
-        D = DiGraph(multiedges=True, loops=True)
-        list_edges = self.edges()
-        depth = self.order() - 1
-        # Adding edges in D with label corresponding to index of that edge in
-        # self.edges()
-        for i,(u, v, _) in enumerate(list_edges):
-            if u != v and v != source:
-                D.add_edge(u, v, (i,))
-        list_merged_edges = set()
-        return _rec_spanning_out_branchings(depth)
+       # We build a copy of self in which each edge has a distinct label.
+       # On the way, we remove loops and edges incoming to source.
+        D = DiGraph(multiedges=True, loops=True)
+        for i, (u, v) in enumerate(self.edges(labels=False, sort=False)):
+            if u != v and v != source:
+                D.add_edge(u, v, (i,))
+        list_merged_edges = set()
+        return _rec_spanning_out_branchings(self.order() - 1)
```


- similar changes have to be done for `spanning_in_branching`.

- don't forget to add the methods to the top tables of the file.
- Also, check that the documentation builds well and displays properly.



---

archive/issue_comments_346422.json:
```json
{
    "body": "Changed commit from **[`c4749fa`](https://github.com/sagemath/sagetrac-mirror/commit/c4749fa073c7e6e0f279f054b0ec9c3a07844345)** to **[`6858643`](https://github.com/sagemath/sagetrac-mirror/commit/6858643ac28074e1dd8a8cda58a02a3343e47ba0)**",
    "created_at": "2020-02-16T05:12:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346422",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c4749fa`](https://github.com/sagemath/sagetrac-mirror/commit/c4749fa073c7e6e0f279f054b0ec9c3a07844345)** to **[`6858643`](https://github.com/sagemath/sagetrac-mirror/commit/6858643ac28074e1dd8a8cda58a02a3343e47ba0)**



---

archive/issue_comments_346423.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6858643ac28074e1dd8a8cda58a02a3343e47ba0\"><code>6858643</code></a></td><td><code>updated according to comment35</code></td></tr></table>\n",
    "created_at": "2020-02-16T05:12:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346423",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6858643ac28074e1dd8a8cda58a02a3343e47ba0"><code>6858643</code></a></td><td><code>updated according to comment35</code></td></tr></table>




---

archive/issue_comments_346424.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\n- alignment\n\n```diff\n-        - ``source`` -- vertex used as the source for all spanning out \n-        branchings.\n+        - ``source`` -- vertex used as the source for all spanning out \n+          branchings.\n```\n\n- I did a mistake in last review when I proposed to remove `list_edges` It is effectively needed and more efficient. Indeed, now `.edges` returns a `EdgesView` and asking for the `i`-th edge takes time `O(i)` instead of constant time with a list. So, you have to do:\n\n```diff\n-                    yield DiGraph([self.edges(sort=False)\n-                                     [index] for index in indexes],\n-                                      format='list_of_edges',\n-                                      pos=self.get_pos())\n+                    yield DiGraph([list_edges[index] for index in indexes],\n+                                     format='list_of_edges',\n+                                     pos=self.get_pos())\n```\n  and\n\n```diff\n-        for i, (u, v) in enumerate(self.edges(labels=False, sort=False)):\n+        list_edges = list(self.edges(labels=False, sort=False))\n+        for i, (u, v) in enumerate(list_edges):\n```\n\n- FYI: you can write `merged_multiple_edges[(u, v)]` or `merged_multiple_edges[u, v]`\n\n- The 80 columns mode is mandatory for documentation, not for the code. \n\n```diff\n-                D.add_edges([(u, v, l)\n-                                for (u, v),l in merged_multiple_edges.items()])\n+                D.add_edges([(u, v, l) for (u, v),l in merged_multiple_edges.items()])\n```\n\n```diff\n-            raise ValueError(\"vertex ({0}) is not a vertex of the digraph\"\\\n-                .format(source))\n+            raise ValueError(\"vertex ({0}) is not a vertex of the digraph\".format(source))\n```\n\n\n- Same comments for the second method.\n\nNote also that I'm currently unable to build the documentation, at least due to the first bullet above.",
    "created_at": "2020-02-16T10:17:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346424",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:37" align="right">comment:37</div>

- alignment

```diff
-        - ``source`` -- vertex used as the source for all spanning out 
-        branchings.
+        - ``source`` -- vertex used as the source for all spanning out 
+          branchings.
```

- I did a mistake in last review when I proposed to remove `list_edges` It is effectively needed and more efficient. Indeed, now `.edges` returns a `EdgesView` and asking for the `i`-th edge takes time `O(i)` instead of constant time with a list. So, you have to do:

```diff
-                    yield DiGraph([self.edges(sort=False)
-                                     [index] for index in indexes],
-                                      format='list_of_edges',
-                                      pos=self.get_pos())
+                    yield DiGraph([list_edges[index] for index in indexes],
+                                     format='list_of_edges',
+                                     pos=self.get_pos())
```
  and

```diff
-        for i, (u, v) in enumerate(self.edges(labels=False, sort=False)):
+        list_edges = list(self.edges(labels=False, sort=False))
+        for i, (u, v) in enumerate(list_edges):
```

- FYI: you can write `merged_multiple_edges[(u, v)]` or `merged_multiple_edges[u, v]`

- The 80 columns mode is mandatory for documentation, not for the code. 

```diff
-                D.add_edges([(u, v, l)
-                                for (u, v),l in merged_multiple_edges.items()])
+                D.add_edges([(u, v, l) for (u, v),l in merged_multiple_edges.items()])
```

```diff
-            raise ValueError("vertex ({0}) is not a vertex of the digraph"\
-                .format(source))
+            raise ValueError("vertex ({0}) is not a vertex of the digraph".format(source))
```


- Same comments for the second method.

Note also that I'm currently unable to build the documentation, at least due to the first bullet above.



---

archive/issue_comments_346425.json:
```json
{
    "body": "Changed commit from **[`6858643`](https://github.com/sagemath/sagetrac-mirror/commit/6858643ac28074e1dd8a8cda58a02a3343e47ba0)** to **[`78a4ad4`](https://github.com/sagemath/sagetrac-mirror/commit/78a4ad45da18d58acc030961945a9e0cf3dd20f3)**",
    "created_at": "2020-02-16T13:46:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346425",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6858643`](https://github.com/sagemath/sagetrac-mirror/commit/6858643ac28074e1dd8a8cda58a02a3343e47ba0)** to **[`78a4ad4`](https://github.com/sagemath/sagetrac-mirror/commit/78a4ad45da18d58acc030961945a9e0cf3dd20f3)**



---

archive/issue_comments_346426.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78a4ad45da18d58acc030961945a9e0cf3dd20f3\"><code>78a4ad4</code></a></td><td><code>Made suggested changes and Documentation builds successfully</code></td></tr></table>\n",
    "created_at": "2020-02-16T13:46:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346426",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78a4ad45da18d58acc030961945a9e0cf3dd20f3"><code>78a4ad4</code></a></td><td><code>Made suggested changes and Documentation builds successfully</code></td></tr></table>




---

archive/issue_comments_346427.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nthe doc builds but does not display well. After some trials and a look at relevant documentation [http://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html](http://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html), I got good result with\n\n```diff\n-        At each step:\n-            #.0) clean the graph (see below) \n-            #.1) pick an edge e out of source\n-            #.2) find all spanning out branchings that do not contain e by first \n-            removing it\n-            #.3) find all spanning out branchings that do contain e by first \n-            merging the end vertices of e\n+        At each step:\n+\n+        0. clean the graph (see below)\n+        1. pick an edge e out of source\n+        2. find all spanning out branchings that do not contain e by first\n+           removing it\n+        3. find all spanning out branchings that do contain e by first merging\n+           the end vertices of e\n```\n\nBeware to not introduce trailing whitespaces (useless spaces at the end of lines).",
    "created_at": "2020-02-16T14:22:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346427",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:39" align="right">comment:39</div>

the doc builds but does not display well. After some trials and a look at relevant documentation [http://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html](http://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html), I got good result with

```diff
-        At each step:
-            #.0) clean the graph (see below) 
-            #.1) pick an edge e out of source
-            #.2) find all spanning out branchings that do not contain e by first 
-            removing it
-            #.3) find all spanning out branchings that do contain e by first 
-            merging the end vertices of e
+        At each step:
+
+        0. clean the graph (see below)
+        1. pick an edge e out of source
+        2. find all spanning out branchings that do not contain e by first
+           removing it
+        3. find all spanning out branchings that do contain e by first merging
+           the end vertices of e
```

Beware to not introduce trailing whitespaces (useless spaces at the end of lines).



---

archive/issue_comments_346428.json:
```json
{
    "body": "Changed commit from **[`78a4ad4`](https://github.com/sagemath/sagetrac-mirror/commit/78a4ad45da18d58acc030961945a9e0cf3dd20f3)** to **[`e1f4549`](https://github.com/sagemath/sagetrac-mirror/commit/e1f4549438b9f1ad088f6022a8dc47cb15ec54db)**",
    "created_at": "2020-02-17T05:13:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346428",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`78a4ad4`](https://github.com/sagemath/sagetrac-mirror/commit/78a4ad45da18d58acc030961945a9e0cf3dd20f3)** to **[`e1f4549`](https://github.com/sagemath/sagetrac-mirror/commit/e1f4549438b9f1ad088f6022a8dc47cb15ec54db)**



---

archive/issue_comments_346429.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1f4549438b9f1ad088f6022a8dc47cb15ec54db\"><code>e1f4549</code></a></td><td><code>updated according to comment39</code></td></tr></table>\n",
    "created_at": "2020-02-17T05:13:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346429",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1f4549438b9f1ad088f6022a8dc47cb15ec54db"><code>e1f4549</code></a></td><td><code>updated according to comment39</code></td></tr></table>




---

archive/issue_comments_346430.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nYou forgot the blank line between the numbering an the previous line. `;)`\n\nAlso, are we sure the multiedge code works correctly? I am a little dubious of this:\n\n```\nmerged_multiple_edges[(u, v)] += l\n```\nas I feel it actually adds the labels rather than concatenates them. I think you should wrap the labels in a `str(l)` (including for the first one). In particular, try a mutliedge digraph with a string and an integer label.",
    "created_at": "2020-02-17T07:26:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346430",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:41" align="right">comment:41</div>

You forgot the blank line between the numbering an the previous line. `;)`

Also, are we sure the multiedge code works correctly? I am a little dubious of this:

```
merged_multiple_edges[(u, v)] += l
```
as I feel it actually adds the labels rather than concatenates them. I think you should wrap the labels in a `str(l)` (including for the first one). In particular, try a mutliedge digraph with a string and an integer label.



---

archive/issue_comments_346431.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@tscrim](#comment:41):\n> You forgot the blank line between the numbering an the previous line. `;)`\n> \n\nI am not sure what are you saying. Can you please clarify?\n> Also, are we sure the multiedge code works correctly? I am a little dubious of this:\n> \n> ```\n> merged_multiple_edges[(u, v)] += l\n> ```\n> as I feel it actually adds the labels rather than concatenates them. I think you should wrap the labels in a `str(l)` (including for the first one). In particular, try a mutliedge digraph with a string and an integer label.\n\nYeah, Code works fine with digraph of multiple edges. Because in code, while making a copy of `self` in digraph D we are adding edges with label `(i,)` where i is index of that edge in `self.edges()` and since `(i,)` is a tuple object so multiple labels will concatenate.",
    "created_at": "2020-02-17T07:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346431",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@tscrim](#comment:41):
> You forgot the blank line between the numbering an the previous line. `;)`
> 

I am not sure what are you saying. Can you please clarify?
> Also, are we sure the multiedge code works correctly? I am a little dubious of this:
> 
> ```
> merged_multiple_edges[(u, v)] += l
> ```
> as I feel it actually adds the labels rather than concatenates them. I think you should wrap the labels in a `str(l)` (including for the first one). In particular, try a mutliedge digraph with a string and an integer label.

Yeah, Code works fine with digraph of multiple edges. Because in code, while making a copy of `self` in digraph D we are adding edges with label `(i,)` where i is index of that edge in `self.edges()` and since `(i,)` is a tuple object so multiple labels will concatenate.



---

archive/issue_comments_346432.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@vipul79321](#comment:42):\n> Replying to [@tscrim](#comment:41):\n> > You forgot the blank line between the numbering an the previous line. `;)`\n> > \n\n> I am not sure what are you saying. Can you please clarify?\n\n```diff\n         At each step:\n+\n         0. clean the graph (see below)\n```\n\n> > Also, are we sure the multiedge code works correctly? I am a little dubious of this:\n> > \n> > ```\n> > merged_multiple_edges[(u, v)] += l\n> > ```\n> > as I feel it actually adds the labels rather than concatenates them. I think you should wrap the labels in a `str(l)` (including for the first one). In particular, try a mutliedge digraph with a string and an integer label.\n\n> \n> Yeah, Code works fine with digraph of multiple edges. Because in code, while making a copy of `self` in digraph D we are adding edges with label `(i,)` where i is index of that edge in `self.edges()` and since `(i,)` is a tuple object so multiple labels will concatenate.\n\nAh, I see. I didn't look closely enough at what the code was doing. Could you add such a test though to make sure it stays working?\n\nAlso, I feel it would be faster to make a full (mutable) copy of the digraph and then just modify its labels. It wouldn't require two copies of the edges. Although maybe iterating over the edges in a multiedge diagraph and changing the labels is not so good? Actually, are there any problems if the digraph has a singleton vertex?",
    "created_at": "2020-02-17T08:05:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346432",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@vipul79321](#comment:42):
> Replying to [@tscrim](#comment:41):
> > You forgot the blank line between the numbering an the previous line. `;)`
> > 

> I am not sure what are you saying. Can you please clarify?

```diff
         At each step:
+
         0. clean the graph (see below)
```

> > Also, are we sure the multiedge code works correctly? I am a little dubious of this:
> > 
> > ```
> > merged_multiple_edges[(u, v)] += l
> > ```
> > as I feel it actually adds the labels rather than concatenates them. I think you should wrap the labels in a `str(l)` (including for the first one). In particular, try a mutliedge digraph with a string and an integer label.

> 
> Yeah, Code works fine with digraph of multiple edges. Because in code, while making a copy of `self` in digraph D we are adding edges with label `(i,)` where i is index of that edge in `self.edges()` and since `(i,)` is a tuple object so multiple labels will concatenate.

Ah, I see. I didn't look closely enough at what the code was doing. Could you add such a test though to make sure it stays working?

Also, I feel it would be faster to make a full (mutable) copy of the digraph and then just modify its labels. It wouldn't require two copies of the edges. Although maybe iterating over the edges in a multiedge diagraph and changing the labels is not so good? Actually, are there any problems if the digraph has a singleton vertex?



---

archive/issue_comments_346433.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50b57554f1f122099a5b1f4657081833cd86fd7c\"><code>50b5755</code></a></td><td><code>Fixed for digraph having single vertex</code></td></tr></table>\n",
    "created_at": "2020-02-17T13:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346433",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50b57554f1f122099a5b1f4657081833cd86fd7c"><code>50b5755</code></a></td><td><code>Fixed for digraph having single vertex</code></td></tr></table>




---

archive/issue_comments_346434.json:
```json
{
    "body": "Changed commit from **[`e1f4549`](https://github.com/sagemath/sagetrac-mirror/commit/e1f4549438b9f1ad088f6022a8dc47cb15ec54db)** to **[`50b5755`](https://github.com/sagemath/sagetrac-mirror/commit/50b57554f1f122099a5b1f4657081833cd86fd7c)**",
    "created_at": "2020-02-17T13:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346434",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e1f4549`](https://github.com/sagemath/sagetrac-mirror/commit/e1f4549438b9f1ad088f6022a8dc47cb15ec54db)** to **[`50b5755`](https://github.com/sagemath/sagetrac-mirror/commit/50b57554f1f122099a5b1f4657081833cd86fd7c)**



---

archive/issue_comments_346435.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@tscrim](#comment:43):\n> Replying to [@vipul79321](#comment:42):\n> > Replying to [@tscrim](#comment:41):\n> > > You forgot the blank line between the numbering an the previous line. `;)`\n> > > \n\n> > I am not sure what are you saying. Can you please clarify?\n\n> \n> ```diff\n>          At each step:\n> +\n>          0. clean the graph (see below)\n> ```\n> \n> > > Also, are we sure the multiedge code works correctly? I am a little dubious of this:\n> > > \n> > > ```\n> > > merged_multiple_edges[(u, v)] += l\n> > > ```\n> > > as I feel it actually adds the labels rather than concatenates them. I think you should wrap the labels in a `str(l)` (including for the first one). In particular, try a mutliedge digraph with a string and an integer label.\n\n> > \n> > Yeah, Code works fine with digraph of multiple edges. Because in code, while making a copy of `self` in digraph D we are adding edges with label `(i,)` where i is index of that edge in `self.edges()` and since `(i,)` is a tuple object so multiple labels will concatenate.\n\n> \n> Ah, I see. I didn't look closely enough at what the code was doing. Could you add such a test though to make sure it stays working?\n> \n> Also, I feel it would be faster to make a full (mutable) copy of the digraph and then just modify its labels. It wouldn't require two copies of the edges. Although maybe iterating over the edges in a multiedge diagraph and changing the labels is not so good? Actually, are there any problems if the digraph has a singleton vertex?\n\nThanks for pointing that out. It was returning an empty digraph for Digraph with singleton vertex.\nI have fixed that. But, now it is returning a Digraph containing that vertex and not a generator object.\nCan you suggest me something for that purpose?",
    "created_at": "2020-02-17T13:40:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346435",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@tscrim](#comment:43):
> Replying to [@vipul79321](#comment:42):
> > Replying to [@tscrim](#comment:41):
> > > You forgot the blank line between the numbering an the previous line. `;)`
> > > 

> > I am not sure what are you saying. Can you please clarify?

> 
> ```diff
>          At each step:
> +
>          0. clean the graph (see below)
> ```
> 
> > > Also, are we sure the multiedge code works correctly? I am a little dubious of this:
> > > 
> > > ```
> > > merged_multiple_edges[(u, v)] += l
> > > ```
> > > as I feel it actually adds the labels rather than concatenates them. I think you should wrap the labels in a `str(l)` (including for the first one). In particular, try a mutliedge digraph with a string and an integer label.

> > 
> > Yeah, Code works fine with digraph of multiple edges. Because in code, while making a copy of `self` in digraph D we are adding edges with label `(i,)` where i is index of that edge in `self.edges()` and since `(i,)` is a tuple object so multiple labels will concatenate.

> 
> Ah, I see. I didn't look closely enough at what the code was doing. Could you add such a test though to make sure it stays working?
> 
> Also, I feel it would be faster to make a full (mutable) copy of the digraph and then just modify its labels. It wouldn't require two copies of the edges. Although maybe iterating over the edges in a multiedge diagraph and changing the labels is not so good? Actually, are there any problems if the digraph has a singleton vertex?

Thanks for pointing that out. It was returning an empty digraph for Digraph with singleton vertex.
I have fixed that. But, now it is returning a Digraph containing that vertex and not a generator object.
Can you suggest me something for that purpose?



---

archive/issue_comments_346436.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nThis will do the job\n\n```diff\n-            return D\n+            yield D\n+            return\n```",
    "created_at": "2020-02-17T17:09:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346436",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:46" align="right">comment:46</div>

This will do the job

```diff
-            return D
+            yield D
+            return
```



---

archive/issue_comments_346437.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@dcoudert](#comment:46):\n> This will do the job\n> \n> ```diff\n> -            return D\n> +            yield D\n> +            return\n> ```\n\nOn doing this, test of empty Digraph fails.\n\n```\nsage: G = DiGraph()\nsage: G.order()\n0\nsage: G.spanning_out_branching(0)\n<generator object DiGraph.spanning_out_branching at 0x7f9a4892c4f8>\n```\nIt should have thrown error here instead.\n\n```\nsage: list(G.spanning_out_branching(0))\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-14-3a617b5469bd> in <module>()\n----> 1 list(G.spanning_out_branching(Integer(0)))\n\n/home/vipul/sage/local/lib/python3.7/site-packages/sage/graphs/digraph.py in spanning_out_branching(self, source)\n   3395 \n   3396         if not self.has_vertex(source):\n-> 3397             raise ValueError(\"vertex ({0}) is not a vertex of the digraph\".format(source))\n   3398 \n   3399         # check if the source can access to every other vertex\n\nValueError: vertex (0) is not a vertex of the digraph\n\n```\nAnd this throws error. \nI am unable to understand this behavior. Any suggestions will be helpful.",
    "created_at": "2020-02-17T17:46:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346437",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@dcoudert](#comment:46):
> This will do the job
> 
> ```diff
> -            return D
> +            yield D
> +            return
> ```

On doing this, test of empty Digraph fails.

```
sage: G = DiGraph()
sage: G.order()
0
sage: G.spanning_out_branching(0)
<generator object DiGraph.spanning_out_branching at 0x7f9a4892c4f8>
```
It should have thrown error here instead.

```
sage: list(G.spanning_out_branching(0))
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-14-3a617b5469bd> in <module>()
----> 1 list(G.spanning_out_branching(Integer(0)))

/home/vipul/sage/local/lib/python3.7/site-packages/sage/graphs/digraph.py in spanning_out_branching(self, source)
   3395 
   3396         if not self.has_vertex(source):
-> 3397             raise ValueError("vertex ({0}) is not a vertex of the digraph".format(source))
   3398 
   3399         # check if the source can access to every other vertex

ValueError: vertex (0) is not a vertex of the digraph

```
And this throws error. 
I am unable to understand this behavior. Any suggestions will be helpful.



---

archive/issue_comments_346438.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nHow about passing the vertices to the `DiGraph` on its construction? I would still advocate for just using the internal `DiGraph.copy()` and then relabeling/mutating. You may need to special case the empty digraph too.",
    "created_at": "2020-02-17T23:02:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346438",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:48" align="right">comment:48</div>

How about passing the vertices to the `DiGraph` on its construction? I would still advocate for just using the internal `DiGraph.copy()` and then relabeling/mutating. You may need to special case the empty digraph too.



---

archive/issue_comments_346439.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7afd10cf7a6d38f6079400af7c27757450e77023\"><code>7afd10c</code></a></td><td><code>Fixed for singleton digraph, added tests for multiple edges</code></td></tr></table>\n",
    "created_at": "2020-02-18T04:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346439",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7afd10cf7a6d38f6079400af7c27757450e77023"><code>7afd10c</code></a></td><td><code>Fixed for singleton digraph, added tests for multiple edges</code></td></tr></table>




---

archive/issue_comments_346440.json:
```json
{
    "body": "Changed commit from **[`50b5755`](https://github.com/sagemath/sagetrac-mirror/commit/50b57554f1f122099a5b1f4657081833cd86fd7c)** to **[`7afd10c`](https://github.com/sagemath/sagetrac-mirror/commit/7afd10cf7a6d38f6079400af7c27757450e77023)**",
    "created_at": "2020-02-18T04:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346440",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`50b5755`](https://github.com/sagemath/sagetrac-mirror/commit/50b57554f1f122099a5b1f4657081833cd86fd7c)** to **[`7afd10c`](https://github.com/sagemath/sagetrac-mirror/commit/7afd10cf7a6d38f6079400af7c27757450e77023)**



---

archive/issue_comments_346441.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nReplying to [@sagetrac-git](#comment:49):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n\n|                                                                                                                                                 |                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[7afd10c](https://github.com/sagemath/sagetrac-mirror/commit/7afd10cf7a6d38f6079400af7c27757450e77023)|`Fixed for singleton digraph, added tests for multiple edges`|\nI have added a small function which will be called only for digraph with a singleton vertex.\nNow the code works fine.",
    "created_at": "2020-02-18T04:03:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346441",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:50" align="right">comment:50</div>

Replying to [@sagetrac-git](#comment:49):
> Branch pushed to git repo; I updated commit sha1. New commits:

|                                                                                                                                                 |                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[7afd10c](https://github.com/sagemath/sagetrac-mirror/commit/7afd10cf7a6d38f6079400af7c27757450e77023)|`Fixed for singleton digraph, added tests for multiple edges`|
I have added a small function which will be called only for digraph with a singleton vertex.
Now the code works fine.



---

archive/issue_comments_346442.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@tscrim](#comment:48):\n> How about passing the vertices to the `DiGraph` on its construction? I would still advocate for just using the internal `DiGraph.copy()` and then relabeling/mutating. You may need to special case the empty digraph too.\n\nI think it will consume more time, firstly making copy of `self` then relabelling that copy.\nAlso, I have fixed the current method. You can have a look at it and tell me if there are any suggestions.",
    "created_at": "2020-02-18T04:10:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346442",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@tscrim](#comment:48):
> How about passing the vertices to the `DiGraph` on its construction? I would still advocate for just using the internal `DiGraph.copy()` and then relabeling/mutating. You may need to special case the empty digraph too.

I think it will consume more time, firstly making copy of `self` then relabelling that copy.
Also, I have fixed the current method. You can have a look at it and tell me if there are any suggestions.



---

archive/issue_comments_346443.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nReplying to [@vipul79321](#comment:51):\n> Replying to [@tscrim](#comment:48):\n> > How about passing the vertices to the `DiGraph` on its construction? I would still advocate for just using the internal `DiGraph.copy()` and then relabeling/mutating. You may need to special case the empty digraph too.\n\n> I think it will consume more time, firstly making copy of `self` then relabelling that copy.\n\nI would be a bit surprised by this because it is just copying memory, not rebuilding itself (at least, if it is a good copy method). Whereas rebuilding the digraph with the modified edges would require the internal structure to be manipulated, especially since this is done in Python. It might be worthwhile to try both methods and compare the timings.\n\n> Also, I have fixed the current method. You can have a look at it and tell me if there are any suggestions.  \n\nI don't see why `_singleton_spanning` needs to be a separate function. It is equivalent to the change resulting in\n\n```\nyield D\nreturn\n```\nas David indicated in [comment:46](#comment:46).",
    "created_at": "2020-02-18T05:11:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346443",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:52" align="right">comment:52</div>

Replying to [@vipul79321](#comment:51):
> Replying to [@tscrim](#comment:48):
> > How about passing the vertices to the `DiGraph` on its construction? I would still advocate for just using the internal `DiGraph.copy()` and then relabeling/mutating. You may need to special case the empty digraph too.

> I think it will consume more time, firstly making copy of `self` then relabelling that copy.

I would be a bit surprised by this because it is just copying memory, not rebuilding itself (at least, if it is a good copy method). Whereas rebuilding the digraph with the modified edges would require the internal structure to be manipulated, especially since this is done in Python. It might be worthwhile to try both methods and compare the timings.

> Also, I have fixed the current method. You can have a look at it and tell me if there are any suggestions.  

I don't see why `_singleton_spanning` needs to be a separate function. It is equivalent to the change resulting in

```
yield D
return
```
as David indicated in [comment:46](#comment:46).



---

archive/issue_comments_346444.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@tscrim](#comment:52):\n> Replying to [@vipul79321](#comment:51):\n> > Replying to [@tscrim](#comment:48):\n> > > How about passing the vertices to the `DiGraph` on its construction? I would still advocate for just using the internal `DiGraph.copy()` and then relabeling/mutating. You may need to special case the empty digraph too.\n\n> > I think it will consume more time, firstly making copy of `self` then relabelling that copy.\n\n> \n> I would be a bit surprised by this because it is just copying memory, not rebuilding itself (at least, if it is a good copy method). Whereas rebuilding the digraph with the modified edges would require the internal structure to be manipulated, especially since this is done in Python. It might be worthwhile to try both methods and compare the timings.\n\n>\n\nOk, I will give it a try.\n> > Also, I have fixed the current method. You can have a look at it and tell me if there are any suggestions.  \n\n> \n> I don't see why `_singleton_spanning` needs to be a separate function. It is equivalent to the change resulting in\n> \n> ```\n> yield D\n> return\n> ```\n> as David indicated in [comment:46](#comment:46).\n\nYeah, that bugs me too.",
    "created_at": "2020-02-18T05:20:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346444",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@tscrim](#comment:52):
> Replying to [@vipul79321](#comment:51):
> > Replying to [@tscrim](#comment:48):
> > > How about passing the vertices to the `DiGraph` on its construction? I would still advocate for just using the internal `DiGraph.copy()` and then relabeling/mutating. You may need to special case the empty digraph too.

> > I think it will consume more time, firstly making copy of `self` then relabelling that copy.

> 
> I would be a bit surprised by this because it is just copying memory, not rebuilding itself (at least, if it is a good copy method). Whereas rebuilding the digraph with the modified edges would require the internal structure to be manipulated, especially since this is done in Python. It might be worthwhile to try both methods and compare the timings.

>

Ok, I will give it a try.
> > Also, I have fixed the current method. You can have a look at it and tell me if there are any suggestions.  

> 
> I don't see why `_singleton_spanning` needs to be a separate function. It is equivalent to the change resulting in
> 
> ```
> yield D
> return
> ```
> as David indicated in [comment:46](#comment:46).

Yeah, that bugs me too.



---

archive/issue_comments_346445.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nReplying to [@tscrim](#comment:48):\n> How about passing the vertices to the `DiGraph` on its construction? I would still advocate for just using the internal `DiGraph.copy()` and then relabeling/mutating. You may need to special case the empty digraph too.\n\nI am having trouble in relabeling multiedges since our code needs edge label to be of tuple (or any other type allowing concatenation).\nHere is a link regarding same problem [https://ask.sagemath.org/question/25659/how-do-i-set-label-of-multiedges-graph/](https://ask.sagemath.org/question/25659/how-do-i-set-label-of-multiedges-graph/)\nCan you help me out here?",
    "created_at": "2020-02-18T06:15:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346445",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:54" align="right">comment:54</div>

Replying to [@tscrim](#comment:48):
> How about passing the vertices to the `DiGraph` on its construction? I would still advocate for just using the internal `DiGraph.copy()` and then relabeling/mutating. You may need to special case the empty digraph too.

I am having trouble in relabeling multiedges since our code needs edge label to be of tuple (or any other type allowing concatenation).
Here is a link regarding same problem [https://ask.sagemath.org/question/25659/how-do-i-set-label-of-multiedges-graph/](https://ask.sagemath.org/question/25659/how-do-i-set-label-of-multiedges-graph/)
Can you help me out here?



---

archive/issue_comments_346446.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nReplying to [@vipul79321](#comment:54):\n> Replying to [@tscrim](#comment:48):\n> > How about passing the vertices to the `DiGraph` on its construction? I would still advocate for just using the internal `DiGraph.copy()` and then relabeling/mutating. You may need to special case the empty digraph too.\n\n> I am having trouble in relabeling multiedges since our code needs edge label to be of tuple (or any other type allowing concatenation).\n> Here is a link regarding same problem [https://ask.sagemath.org/question/25659/how-do-i-set-label-of-multiedges-graph/](https://ask.sagemath.org/question/25659/how-do-i-set-label-of-multiedges-graph/)\n> Can you help me out here?\n\nHmm...that is a problem. Perhaps then the thing to do would be to separate out the multiedge case during the initial construction rather than in the helper functions `_rec_*`? In that case you just have to build the new (merged) digraph. This also has the benefit of when you start the recursion, you know you have a non-multiedge-diagraph.",
    "created_at": "2020-02-18T06:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346446",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:55" align="right">comment:55</div>

Replying to [@vipul79321](#comment:54):
> Replying to [@tscrim](#comment:48):
> > How about passing the vertices to the `DiGraph` on its construction? I would still advocate for just using the internal `DiGraph.copy()` and then relabeling/mutating. You may need to special case the empty digraph too.

> I am having trouble in relabeling multiedges since our code needs edge label to be of tuple (or any other type allowing concatenation).
> Here is a link regarding same problem [https://ask.sagemath.org/question/25659/how-do-i-set-label-of-multiedges-graph/](https://ask.sagemath.org/question/25659/how-do-i-set-label-of-multiedges-graph/)
> Can you help me out here?

Hmm...that is a problem. Perhaps then the thing to do would be to separate out the multiedge case during the initial construction rather than in the helper functions `_rec_*`? In that case you just have to build the new (merged) digraph. This also has the benefit of when you start the recursion, you know you have a non-multiedge-diagraph.



---

archive/issue_comments_346447.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nReplying to [@tscrim](#comment:55):\n> Replying to [@vipul79321](#comment:54):\n> > Replying to [@tscrim](#comment:48):\n> > > How about passing the vertices to the `DiGraph` on its construction? I would still advocate for just using the internal `DiGraph.copy()` and then relabeling/mutating. You may need to special case the empty digraph too.\n\n> > I am having trouble in relabeling multiedges since our code needs edge label to be of tuple (or any other type allowing concatenation).\n> > Here is a link regarding same problem [https://ask.sagemath.org/question/25659/how-do-i-set-label-of-multiedges-graph/](https://ask.sagemath.org/question/25659/how-do-i-set-label-of-multiedges-graph/)\n> > Can you help me out here?\n\n> \n> Hmm...that is a problem. Perhaps then the thing to do would be to separate out the multiedge case during the initial construction rather than in the helper functions `_rec_*`? In that case you just have to build the new (merged) digraph. This also has the benefit of when you start the recursion, you know you have a non-multiedge-diagraph.\n\nSeparating out multiedge during initial construction won't work because during recursion it might be possible that graph formed by merging vertices have multiedges.",
    "created_at": "2020-02-18T08:19:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346447",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:56" align="right">comment:56</div>

Replying to [@tscrim](#comment:55):
> Replying to [@vipul79321](#comment:54):
> > Replying to [@tscrim](#comment:48):
> > > How about passing the vertices to the `DiGraph` on its construction? I would still advocate for just using the internal `DiGraph.copy()` and then relabeling/mutating. You may need to special case the empty digraph too.

> > I am having trouble in relabeling multiedges since our code needs edge label to be of tuple (or any other type allowing concatenation).
> > Here is a link regarding same problem [https://ask.sagemath.org/question/25659/how-do-i-set-label-of-multiedges-graph/](https://ask.sagemath.org/question/25659/how-do-i-set-label-of-multiedges-graph/)
> > Can you help me out here?

> 
> Hmm...that is a problem. Perhaps then the thing to do would be to separate out the multiedge case during the initial construction rather than in the helper functions `_rec_*`? In that case you just have to build the new (merged) digraph. This also has the benefit of when you start the recursion, you know you have a non-multiedge-diagraph.

Separating out multiedge during initial construction won't work because during recursion it might be possible that graph formed by merging vertices have multiedges.



---

archive/issue_comments_346448.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nFirst of all, the flow of operations should be something like:\n1. deal with empty graph -> return nothing\n2. check that the source is in the graph. If not, raise error\n3. Deal with graphs of order 1 (singleton)\n4. check that all vertices can be reached. If not, raise error\n5. call recursive method\n\nConcerning the idea of making a copy of the graph.\n- It can hardly be done inside the recursive method due to the creation of new multi-edges when merging vertices\n- However, if the input graph has multiple edges, we could make a simple copy of it (without loops / multi edges), then call the recursive method, and on the way back yield all possible labelings of edges that are based on the same graph.\n\nAnother idea, to make the method more general is to add it an optional parameter `spanning` default to `True`, so that the method can also yield non spanning out branchings. Then, when this parameter is true, we check that all vertices can be reached. Otherwise, we initialize the `depth` parameter with the number of vertices that can be reached and possibly work only on the subgraph containing only these vertices.",
    "created_at": "2020-02-18T09:48:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346448",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:57" align="right">comment:57</div>

First of all, the flow of operations should be something like:
1. deal with empty graph -> return nothing
2. check that the source is in the graph. If not, raise error
3. Deal with graphs of order 1 (singleton)
4. check that all vertices can be reached. If not, raise error
5. call recursive method

Concerning the idea of making a copy of the graph.
- It can hardly be done inside the recursive method due to the creation of new multi-edges when merging vertices
- However, if the input graph has multiple edges, we could make a simple copy of it (without loops / multi edges), then call the recursive method, and on the way back yield all possible labelings of edges that are based on the same graph.

Another idea, to make the method more general is to add it an optional parameter `spanning` default to `True`, so that the method can also yield non spanning out branchings. Then, when this parameter is true, we check that all vertices can be reached. Otherwise, we initialize the `depth` parameter with the number of vertices that can be reached and possibly work only on the subgraph containing only these vertices.



---

archive/issue_comments_346449.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce6f14d698f5eed0ca6770459875ea7da5f1c401\"><code>ce6f14d</code></a></td><td><code>Flow of operation updated</code></td></tr></table>\n",
    "created_at": "2020-02-18T13:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346449",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce6f14d698f5eed0ca6770459875ea7da5f1c401"><code>ce6f14d</code></a></td><td><code>Flow of operation updated</code></td></tr></table>




---

archive/issue_comments_346450.json:
```json
{
    "body": "Changed commit from **[`7afd10c`](https://github.com/sagemath/sagetrac-mirror/commit/7afd10cf7a6d38f6079400af7c27757450e77023)** to **[`ce6f14d`](https://github.com/sagemath/sagetrac-mirror/commit/ce6f14d698f5eed0ca6770459875ea7da5f1c401)**",
    "created_at": "2020-02-18T13:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346450",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7afd10c`](https://github.com/sagemath/sagetrac-mirror/commit/7afd10cf7a6d38f6079400af7c27757450e77023)** to **[`ce6f14d`](https://github.com/sagemath/sagetrac-mirror/commit/ce6f14d698f5eed0ca6770459875ea7da5f1c401)**



---

archive/issue_comments_346451.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nWhen you check if the order is 1, there is no need to check if the graph has the vertex. Already done before.\nAnd there is no need for a specific method. It can be done in the else part.\n\nYou don't check if the graph is empty and actually there is no need for it as the empty graph cannot have the source vertex.",
    "created_at": "2020-02-18T13:45:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346451",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:59" align="right">comment:59</div>

When you check if the order is 1, there is no need to check if the graph has the vertex. Already done before.
And there is no need for a specific method. It can be done in the else part.

You don't check if the graph is empty and actually there is no need for it as the empty graph cannot have the source vertex.



---

archive/issue_comments_346452.json:
```json
{
    "body": "<div id=\"comment:60\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/431480776bdfe25f5666352a5a0e7acf3f2105da\"><code>4314807</code></a></td><td><code>optional parameter spanning added</code></td></tr></table>\n",
    "created_at": "2020-02-18T14:33:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346452",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:60"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/431480776bdfe25f5666352a5a0e7acf3f2105da"><code>4314807</code></a></td><td><code>optional parameter spanning added</code></td></tr></table>




---

archive/issue_comments_346453.json:
```json
{
    "body": "Changed commit from **[`ce6f14d`](https://github.com/sagemath/sagetrac-mirror/commit/ce6f14d698f5eed0ca6770459875ea7da5f1c401)** to **[`4314807`](https://github.com/sagemath/sagetrac-mirror/commit/431480776bdfe25f5666352a5a0e7acf3f2105da)**",
    "created_at": "2020-02-18T14:33:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346453",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ce6f14d`](https://github.com/sagemath/sagetrac-mirror/commit/ce6f14d698f5eed0ca6770459875ea7da5f1c401)** to **[`4314807`](https://github.com/sagemath/sagetrac-mirror/commit/431480776bdfe25f5666352a5a0e7acf3f2105da)**



---

archive/issue_comments_346454.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nReplying to [@dcoudert](#comment:59):\n> When you check if the order is 1, there is no need to check if the graph has the vertex. Already done before.\n> And there is no need for a specific method. It can be done in the else part.\n> \n\nI tried this but the same problem arises again.",
    "created_at": "2020-02-18T14:34:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346454",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:61" align="right">comment:61</div>

Replying to [@dcoudert](#comment:59):
> When you check if the order is 1, there is no need to check if the graph has the vertex. Already done before.
> And there is no need for a specific method. It can be done in the else part.
> 

I tried this but the same problem arises again.



---

archive/issue_comments_346455.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nOne solution is to decide if an out-branching can be a single vertex.\n\n@tscrim: what do you think ?\n\n\nSince we now have parameter `spanning`,  we can remove `spanning_` from method names.",
    "created_at": "2020-02-19T09:00:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346455",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:62" align="right">comment:62</div>

One solution is to decide if an out-branching can be a single vertex.

@tscrim: what do you think ?


Since we now have parameter `spanning`,  we can remove `spanning_` from method names.



---

archive/issue_comments_346456.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nReplying to [@dcoudert](#comment:62):\n> One solution is to decide if an out-branching can be a single vertex.\n> \n> @tscrim: what do you think ?\n\nI don't have a strong opinion on the matter, but I would na\u00efvely expect it to be one.",
    "created_at": "2020-02-19T09:51:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346456",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:63" align="right">comment:63</div>

Replying to [@dcoudert](#comment:62):
> One solution is to decide if an out-branching can be a single vertex.
> 
> @tscrim: what do you think ?

I don't have a strong opinion on the matter, but I would naïvely expect it to be one.



---

archive/issue_comments_346457.json:
```json
{
    "body": "Changed commit from **[`4314807`](https://github.com/sagemath/sagetrac-mirror/commit/431480776bdfe25f5666352a5a0e7acf3f2105da)** to **[`27c06b2`](https://github.com/sagemath/sagetrac-mirror/commit/27c06b24d60f63adc40d0137a01e1826e7a96e16)**",
    "created_at": "2020-02-19T10:49:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346457",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4314807`](https://github.com/sagemath/sagetrac-mirror/commit/431480776bdfe25f5666352a5a0e7acf3f2105da)** to **[`27c06b2`](https://github.com/sagemath/sagetrac-mirror/commit/27c06b24d60f63adc40d0137a01e1826e7a96e16)**



---

archive/issue_comments_346458.json:
```json
{
    "body": "<div id=\"comment:64\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27c06b24d60f63adc40d0137a01e1826e7a96e16\"><code>27c06b2</code></a></td><td><code>names of method updated and non spanning branching for isolated vertex added</code></td></tr></table>\n",
    "created_at": "2020-02-19T10:49:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346458",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:64"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27c06b24d60f63adc40d0137a01e1826e7a96e16"><code>27c06b2</code></a></td><td><code>names of method updated and non spanning branching for isolated vertex added</code></td></tr></table>




---

archive/issue_comments_346459.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nReplying to [@sagetrac-git](#comment:64):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n\n|                                                                                                                                                 |                                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|\n|[27c06b2](https://github.com/sagemath/sagetrac-mirror/commit/27c06b24d60f63adc40d0137a01e1826e7a96e16)|`names of method updated and non spanning branching for isolated vertex added`|\nFor isolated source and `spanning=False` it was returning an empty generator object. I have corrected that",
    "created_at": "2020-02-19T11:07:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346459",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:65" align="right">comment:65</div>

Replying to [@sagetrac-git](#comment:64):
> Branch pushed to git repo; I updated commit sha1. New commits:

|                                                                                                                                                 |                                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
|[27c06b2](https://github.com/sagemath/sagetrac-mirror/commit/27c06b24d60f63adc40d0137a01e1826e7a96e16)|`names of method updated and non spanning branching for isolated vertex added`|
For isolated source and `spanning=False` it was returning an empty generator object. I have corrected that



---

archive/issue_comments_346460.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nCan you update the first line of documentation (also in top table) to clarify that the method returns an out-branchin. That is remove the term spanning. Same for in-branching.\n\nYou also have to add adjust the examples (distinguish calls with `spanning=True` and `False`), and may be add other examples if needed.\n\nAlmost done.",
    "created_at": "2020-02-19T15:42:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346460",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:66" align="right">comment:66</div>

Can you update the first line of documentation (also in top table) to clarify that the method returns an out-branchin. That is remove the term spanning. Same for in-branching.

You also have to add adjust the examples (distinguish calls with `spanning=True` and `False`), and may be add other examples if needed.

Almost done.



---

archive/issue_comments_346461.json:
```json
{
    "body": "Changed commit from **[`27c06b2`](https://github.com/sagemath/sagetrac-mirror/commit/27c06b24d60f63adc40d0137a01e1826e7a96e16)** to **[`473a262`](https://github.com/sagemath/sagetrac-mirror/commit/473a26230bc234395c7181d35059d23814715d87)**",
    "created_at": "2020-02-19T16:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346461",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`27c06b2`](https://github.com/sagemath/sagetrac-mirror/commit/27c06b24d60f63adc40d0137a01e1826e7a96e16)** to **[`473a262`](https://github.com/sagemath/sagetrac-mirror/commit/473a26230bc234395c7181d35059d23814715d87)**



---

archive/issue_comments_346462.json:
```json
{
    "body": "<div id=\"comment:67\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/473a26230bc234395c7181d35059d23814715d87\"><code>473a262</code></a></td><td><code>Documentation corrected</code></td></tr></table>\n",
    "created_at": "2020-02-19T16:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346462",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:67"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/473a26230bc234395c7181d35059d23814715d87"><code>473a262</code></a></td><td><code>Documentation corrected</code></td></tr></table>




---

archive/issue_comments_346463.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nReplying to [@dcoudert](#comment:66):\n> Can you update the first line of documentation (also in top table) to clarify that the method returns an out-branchin. That is remove the term spanning. Same for in-branching.\n> \n> You also have to add adjust the examples (distinguish calls with `spanning=True` and `False`), and may be add other examples if needed.\n> \n> Almost done.\n\nI have ordered the examples for `spanning=True` and `False`. \nAnd removed the term `spanning` wherever it was unnecessary.",
    "created_at": "2020-02-19T16:07:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346463",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:68" align="right">comment:68</div>

Replying to [@dcoudert](#comment:66):
> Can you update the first line of documentation (also in top table) to clarify that the method returns an out-branchin. That is remove the term spanning. Same for in-branching.
> 
> You also have to add adjust the examples (distinguish calls with `spanning=True` and `False`), and may be add other examples if needed.
> 
> Almost done.

I have ordered the examples for `spanning=True` and `False`. 
And removed the term `spanning` wherever it was unnecessary.



---

archive/issue_comments_346464.json:
```json
{
    "body": "Changed author from **Cl\u00e9ment Chr\u00e9tien; Thomas Petiteau** to **Cl\u00e9ment Chr\u00e9tien; Thomas Petiteau; Vipul Gupta**",
    "created_at": "2020-02-20T14:52:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346464",
    "user": "https://github.com/vipul79321"
}
```

Changed author from **Clément Chrétien; Thomas Petiteau** to **Clément Chrétien; Thomas Petiteau; Vipul Gupta**



---

archive/issue_comments_346465.json:
```json
{
    "body": "Reviewer: **David Coudert, Travis Scrimshaw**",
    "created_at": "2020-02-21T02:03:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346465",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **David Coudert, Travis Scrimshaw**



---

archive/issue_comments_346466.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nI have no additional comments.",
    "created_at": "2020-02-21T02:03:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346466",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:70" align="right">comment:70</div>

I have no additional comments.



---

archive/issue_comments_346467.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\njust a minor remark: a branching is by definition directed, so we can simply\n\n```diff\n-        Return an iterator over directed out branching of the current\n-        ``DiGraph``.\n+        Return an iterator over the out branchings of this digraph.\n```\n\nI will do more tests asap.",
    "created_at": "2020-02-21T12:36:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346467",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:71" align="right">comment:71</div>

just a minor remark: a branching is by definition directed, so we can simply

```diff
-        Return an iterator over directed out branching of the current
-        ``DiGraph``.
+        Return an iterator over the out branchings of this digraph.
```

I will do more tests asap.



---

archive/issue_comments_346468.json:
```json
{
    "body": "Changed commit from **[`473a262`](https://github.com/sagemath/sagetrac-mirror/commit/473a26230bc234395c7181d35059d23814715d87)** to **[`03f6316`](https://github.com/sagemath/sagetrac-mirror/commit/03f631664842d33103690f9f5595f28192b46ec2)**",
    "created_at": "2020-02-21T12:53:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346468",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`473a262`](https://github.com/sagemath/sagetrac-mirror/commit/473a26230bc234395c7181d35059d23814715d87)** to **[`03f6316`](https://github.com/sagemath/sagetrac-mirror/commit/03f631664842d33103690f9f5595f28192b46ec2)**



---

archive/issue_comments_346469.json:
```json
{
    "body": "<div id=\"comment:72\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03f631664842d33103690f9f5595f28192b46ec2\"><code>03f6316</code></a></td><td><code>updated</code></td></tr></table>\n",
    "created_at": "2020-02-21T12:53:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346469",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:72"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03f631664842d33103690f9f5595f28192b46ec2"><code>03f6316</code></a></td><td><code>updated</code></td></tr></table>




---

archive/issue_comments_346470.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nI pushed a new branch with few review edits. The branch is in `public/` so you can modify it if needed. \n\nI have renamed the methods `out_branchings` and `in_branchings`.\n\nIf you agree with the current branch, I will then set it to positive review. Let me know.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d09ee74d16da2f3ce15b16394ff14e98ccefe82d\"><code>d09ee74</code></a></td><td><code>trac #23115: Merged with 9.1.beta5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2f9d69c761493ab93e353c6c451d1072467a7b9\"><code>e2f9d69</code></a></td><td><code>trac #23115: review edit</code></td></tr></table>\n",
    "created_at": "2020-02-22T18:32:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346470",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:73" align="right">comment:73</div>

I pushed a new branch with few review edits. The branch is in `public/` so you can modify it if needed. 

I have renamed the methods `out_branchings` and `in_branchings`.

If you agree with the current branch, I will then set it to positive review. Let me know.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d09ee74d16da2f3ce15b16394ff14e98ccefe82d"><code>d09ee74</code></a></td><td><code>trac #23115: Merged with 9.1.beta5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2f9d69c761493ab93e353c6c451d1072467a7b9"><code>e2f9d69</code></a></td><td><code>trac #23115: review edit</code></td></tr></table>




---

archive/issue_comments_346471.json:
```json
{
    "body": "Changed commit from **[`03f6316`](https://github.com/sagemath/sagetrac-mirror/commit/03f631664842d33103690f9f5595f28192b46ec2)** to **[`e2f9d69`](https://github.com/sagemath/sagetrac-mirror/commit/e2f9d69c761493ab93e353c6c451d1072467a7b9)**",
    "created_at": "2020-02-22T18:32:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346471",
    "user": "https://github.com/dcoudert"
}
```

Changed commit from **[`03f6316`](https://github.com/sagemath/sagetrac-mirror/commit/03f631664842d33103690f9f5595f28192b46ec2)** to **[`e2f9d69`](https://github.com/sagemath/sagetrac-mirror/commit/e2f9d69c761493ab93e353c6c451d1072467a7b9)**



---

archive/issue_comments_346472.json:
```json
{
    "body": "Changed branch from **[u/gh-vipul79321/ticket23115](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vipul79321/ticket23115)** to **[public/graphs/23115_branchings](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/23115_branchings)**",
    "created_at": "2020-02-22T18:32:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346472",
    "user": "https://github.com/dcoudert"
}
```

Changed branch from **[u/gh-vipul79321/ticket23115](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vipul79321/ticket23115)** to **[public/graphs/23115_branchings](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/23115_branchings)**



---

archive/issue_comments_346473.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nReplying to [@dcoudert](#comment:73):\n> I pushed a new branch with few review edits. The branch is in `public/` so you can modify it if needed. \n> \n> I have renamed the methods `out_branchings` and `in_branchings`.\n> \n> If you agree with the current branch, I will then set it to positive review. Let me know.\n\nYeah, It looks fine to me. \n> \n> ---\n> New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d09ee74d16da2f3ce15b16394ff14e98ccefe82d\"><code>d09ee74</code></a></td><td><code>trac #23115: Merged with 9.1.beta5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2f9d69c761493ab93e353c6c451d1072467a7b9\"><code>e2f9d69</code></a></td><td><code>trac #23115: review edit</code></td></tr></table>\n",
    "created_at": "2020-02-22T19:17:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346473",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:74" align="right">comment:74</div>

Replying to [@dcoudert](#comment:73):
> I pushed a new branch with few review edits. The branch is in `public/` so you can modify it if needed. 
> 
> I have renamed the methods `out_branchings` and `in_branchings`.
> 
> If you agree with the current branch, I will then set it to positive review. Let me know.

Yeah, It looks fine to me. 
> 
> ---
> New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d09ee74d16da2f3ce15b16394ff14e98ccefe82d"><code>d09ee74</code></a></td><td><code>trac #23115: Merged with 9.1.beta5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2f9d69c761493ab93e353c6c451d1072467a7b9"><code>e2f9d69</code></a></td><td><code>trac #23115: review edit</code></td></tr></table>




---

archive/issue_events_322280.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-02-22T23:26:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322280"
}
```



---

archive/issue_events_322281.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-02-22T23:26:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322281"
}
```



---

archive/issue_comments_346474.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nGood.",
    "created_at": "2020-02-22T23:26:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346474",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:75" align="right">comment:75</div>

Good.



---

archive/issue_comments_346475.json:
```json
{
    "body": "Changed branch from **[public/graphs/23115_branchings](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/23115_branchings)** to **[`e2f9d69`](https://github.com/sagemath/sagetrac-mirror/commit/e2f9d69c761493ab93e353c6c451d1072467a7b9)**",
    "created_at": "2020-02-23T16:51:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346475",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/graphs/23115_branchings](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/23115_branchings)** to **[`e2f9d69`](https://github.com/sagemath/sagetrac-mirror/commit/e2f9d69c761493ab93e353c6c451d1072467a7b9)**



---

archive/issue_events_322282.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-02-23T16:51:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322282"
}
```



---

archive/issue_events_322283.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b7e1a921ca3740235565751284e18dde027d5df1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-02-23T16:51:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23115#event-322283"
}
```



---

archive/issue_comments_346476.json:
```json
{
    "body": "Changed author from **Cl\u00e9ment Chr\u00e9tien; Thomas Petiteau; Vipul Gupta** to **Cl\u00e9ment Chr\u00e9tien, Thomas Petiteau, Vipul Gupta**",
    "created_at": "2020-06-06T23:24:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346476",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Clément Chrétien; Thomas Petiteau; Vipul Gupta** to **Clément Chrétien, Thomas Petiteau, Vipul Gupta**



---

archive/issue_comments_346477.json:
```json
{
    "body": "Changed commit from **[`e2f9d69`](https://github.com/sagemath/sagetrac-mirror/commit/e2f9d69c761493ab93e353c6c451d1072467a7b9)** to none",
    "created_at": "2020-06-06T23:24:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23115#issuecomment-346477",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`e2f9d69`](https://github.com/sagemath/sagetrac-mirror/commit/e2f9d69c761493ab93e353c6c451d1072467a7b9)** to none
