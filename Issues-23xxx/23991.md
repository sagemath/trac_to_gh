# Issue 23991: Update curl to 7.56.1

archive/issues_023754.json:
```json
{
    "body": "**Tarball**: https://curl.haxx.se/download/curl-7.56.1.tar.bz2\n\n\n**Branch/Commit:** [2f1c87b1be6f94ccd5de1273ad89680464c26c47](https://github.com/sagemath/sagetrac-mirror/commit/2f1c87b1be6f94ccd5de1273ad89680464c26c47)\n\n**Reviewer:** Jeroen Demeyer\n\n**Author:** John Palmieri\n\nIssue created by migration from https://trac.sagemath.org/ticket/23991\n\n",
    "closed_at": "2017-11-02T11:06:00Z",
    "created_at": "2017-10-08T16:54:27Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "title": "Update curl to 7.56.1",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/23991",
    "user": "https://github.com/jhpalmieri"
}
```
**Tarball**: https://curl.haxx.se/download/curl-7.56.1.tar.bz2


**Branch/Commit:** [2f1c87b1be6f94ccd5de1273ad89680464c26c47](https://github.com/sagemath/sagetrac-mirror/commit/2f1c87b1be6f94ccd5de1273ad89680464c26c47)

**Reviewer:** Jeroen Demeyer

**Author:** John Palmieri

Issue created by migration from https://trac.sagemath.org/ticket/23991





---

archive/issue_comments_365010.json:
```json
{
    "body": "**Branch:** [u/jhpalmieri/curl7.56](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/curl7.56)",
    "created_at": "2017-10-08T16:55:00Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365010",
    "user": "https://github.com/jhpalmieri"
}
```

**Branch:** [u/jhpalmieri/curl7.56](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/curl7.56)



---

archive/issue_events_213214.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2017-10-08T16:55:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23991#event-213214"
}
```



---

archive/issue_comments_365011.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f92e31786e5408603ce01712dce700465894c6b\">4f92e31</a></td><td><code>trac 23991: update curl to 7.56.0</code></td></tr></table>\n",
    "created_at": "2017-10-08T16:55:20Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365011",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f92e31786e5408603ce01712dce700465894c6b">4f92e31</a></td><td><code>trac 23991: update curl to 7.56.0</code></td></tr></table>




---

archive/issue_comments_365012.json:
```json
{
    "body": "**Commit:** [4f92e31786e5408603ce01712dce700465894c6b](https://github.com/sagemath/sagetrac-mirror/commit/4f92e31786e5408603ce01712dce700465894c6b)",
    "created_at": "2017-10-08T16:55:20Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365012",
    "user": "https://github.com/jhpalmieri"
}
```

**Commit:** [4f92e31786e5408603ce01712dce700465894c6b](https://github.com/sagemath/sagetrac-mirror/commit/4f92e31786e5408603ce01712dce700465894c6b)



---

archive/issue_comments_365013.json:
```json
{
    "body": "<a id='comment:3'></a>\nOne test in the testsuite fails for me:\n\n```\n[curl-7.56.0] test 1014...Mismatch in features lists:\n[curl-7.56.0] curl:        asynchdns ipv6 libz multissl ntlm ntlm_wb ssl tls-srp unixsockets\n[curl-7.56.0] curl-config: asynchdns https-proxy ipv6 libz multissl ntlm ntlm_wb ssl tls-srp unixsockets\n[curl-7.56.0]  postcheck FAILED\n```\nBut the testsuite has failed in the past for OS X: see #22686. So I don't think this should be an obstacle.",
    "created_at": "2017-10-08T16:56:37Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365013",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'></a>
One test in the testsuite fails for me:

```
[curl-7.56.0] test 1014...Mismatch in features lists:
[curl-7.56.0] curl:        asynchdns ipv6 libz multissl ntlm ntlm_wb ssl tls-srp unixsockets
[curl-7.56.0] curl-config: asynchdns https-proxy ipv6 libz multissl ntlm ntlm_wb ssl tls-srp unixsockets
[curl-7.56.0]  postcheck FAILED
```
But the testsuite has failed in the past for OS X: see #22686. So I don't think this should be an obstacle.



---

archive/issue_comments_365014.json:
```json
{
    "body": "<a id='comment:4'></a>\nOn another machine the test suite passes, so maybe it's because I installed the Sage `openssl` package that is causing the failure.",
    "created_at": "2017-10-08T18:12:34Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365014",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'></a>
On another machine the test suite passes, so maybe it's because I installed the Sage `openssl` package that is causing the failure.



---

archive/issue_comments_365015.json:
```json
{
    "body": "<a id='comment:5'></a>\nSorry if this is a newbie question. I'm trying to install patch #23898 on OSX High Sierra. Curl-7.53.1 fails for me too. I deleted the old version and downloaded curl-7.56.0 in the upstream folder and reran \n\n```\nSAGE_INSTALL_GCC=yes make ptestlong\n```\nbut it again downloaded curl-7.53.1 and gave the same error. What should I do to avoid this?\nThanks.",
    "created_at": "2017-10-17T06:11:05Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365015",
    "user": "https://github.com/ayyer"
}
```

<a id='comment:5'></a>
Sorry if this is a newbie question. I'm trying to install patch #23898 on OSX High Sierra. Curl-7.53.1 fails for me too. I deleted the old version and downloaded curl-7.56.0 in the upstream folder and reran 

```
SAGE_INSTALL_GCC=yes make ptestlong
```
but it again downloaded curl-7.53.1 and gave the same error. What should I do to avoid this?
Thanks.



---

archive/issue_comments_365016.json:
```json
{
    "body": "<a id='comment:6'></a>\n> but it again downloaded curl-7.53.1 and gave the same error. What should I do to avoid this?\n\n\nI got this working by manually changing the two files as described in the ticket. Sorry for polluting the discussion.",
    "created_at": "2017-10-17T08:22:25Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365016",
    "user": "https://github.com/ayyer"
}
```

<a id='comment:6'></a>
> but it again downloaded curl-7.53.1 and gave the same error. What should I do to avoid this?


I got this working by manually changing the two files as described in the ticket. Sorry for polluting the discussion.



---

archive/issue_comments_365017.json:
```json
{
    "body": "<a id='comment:7'></a>\nWhy do we need to build curl on OSX, is there a reason?\n\nIsn't curl is in the set of command-line tools which are shipped by default, even without Xcode installed?",
    "created_at": "2017-10-18T08:53:21Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365017",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>
Why do we need to build curl on OSX, is there a reason?

Isn't curl is in the set of command-line tools which are shipped by default, even without Xcode installed?



---

archive/issue_comments_365018.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [dimpase](#comment%3A7):\n> Why do we need to build curl on OSX, is there a reason?\n> \n> Isn't curl is in the set of command-line tools which are shipped by default, even without Xcode installed?\n\n\ncurl isn't just a command-line program. Probably the other curl stuff (in particular the header files) isn't installed by default.",
    "created_at": "2017-10-18T09:14:41Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365018",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>
Replying to [dimpase](#comment%3A7):
> Why do we need to build curl on OSX, is there a reason?
> 
> Isn't curl is in the set of command-line tools which are shipped by default, even without Xcode installed?


curl isn't just a command-line program. Probably the other curl stuff (in particular the header files) isn't installed by default.



---

archive/issue_comments_365019.json:
```json
{
    "body": "<a id='comment:9'></a>\nOh, you are right. Sorry for noise.",
    "created_at": "2017-10-18T09:25:23Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365019",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
Oh, you are right. Sorry for noise.



---

archive/issue_comments_365020.json:
```json
{
    "body": "<a id='comment:10'></a>\n`/usr/include` is not present without Xcode and/or the command line tools. On a machine on which I've installed Xcode and the command line tools, I have `/usr/lib/libcurl.4.dylib` and a directory `/usr/include/curl` with various header files, so this might be good enough for what Sage needs. But we can think about that on another ticket.",
    "created_at": "2017-10-18T14:48:21Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365020",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:10'></a>
`/usr/include` is not present without Xcode and/or the command line tools. On a machine on which I've installed Xcode and the command line tools, I have `/usr/lib/libcurl.4.dylib` and a directory `/usr/include/curl` with various header files, so this might be good enough for what Sage needs. But we can think about that on another ticket.



---

archive/issue_comments_365021.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [jhpalmieri](#comment%3A10):\n> On a machine on which I've installed Xcode and the command line tools\n\n\n...which you need anyway if you build Sage from source. That's good to know because it means that we can assume that those headers exist on OS X.",
    "created_at": "2017-10-18T15:03:56Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365021",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Replying to [jhpalmieri](#comment%3A10):
> On a machine on which I've installed Xcode and the command line tools


...which you need anyway if you build Sage from source. That's good to know because it means that we can assume that those headers exist on OS X.



---

archive/issue_comments_365022.json:
```json
{
    "body": "<a id='comment:12'></a>\nOh, it is also curl version 7.54.0, which is not that old.",
    "created_at": "2017-10-18T15:57:46Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365022",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:12'></a>
Oh, it is also curl version 7.54.0, which is not that old.



---

archive/issue_comments_365023.json:
```json
{
    "body": "<a id='comment:13'></a>\nSee #24081.",
    "created_at": "2017-10-20T18:12:05Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365023",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:13'></a>
See #24081.



---

archive/issue_comments_365024.json:
```json
{
    "body": "<a id='comment:14'></a>\n(Let's keep this open because it might be worth upgrading curl anyway.)",
    "created_at": "2017-10-20T18:12:30Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365024",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:14'></a>
(Let's keep this open because it might be worth upgrading curl anyway.)



---

archive/issue_events_213215.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-31T10:59:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23991#event-213215"
}
```



---

archive/issue_events_213216.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-31T10:59:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23991#event-213216"
}
```



---

archive/issue_events_213217.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-31T10:59:33Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "rename": {
        "from": "Update curl to 7.56.0",
        "to": "Update curl to 7.56.1"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23991#event-213217"
}
```



---

archive/issue_events_213218.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-31T10:59:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23991#event-213218"
}
```



---

archive/issue_comments_365025.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,2 @@\n-On at least one OS X High Sierra machine, Sage's current version of curl (7.53.1) does not build, while 7.56.0 does. So let's upgrade.\n+**Tarball**: https://curl.haxx.se/download/curl-7.56.1.tar.bz2\n \n-Tarball: https://curl.haxx.se/download/curl-7.56.0.tar.bz2\n-\n``````\n",
    "created_at": "2017-10-31T10:59:33Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365025",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,2 @@
-On at least one OS X High Sierra machine, Sage's current version of curl (7.53.1) does not build, while 7.56.0 does. So let's upgrade.
+**Tarball**: https://curl.haxx.se/download/curl-7.56.1.tar.bz2
 
-Tarball: https://curl.haxx.se/download/curl-7.56.0.tar.bz2
-
``````




---

archive/issue_comments_365026.json:
```json
{
    "body": "**Changing branch** from \"[u/jhpalmieri/curl7.56](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/curl7.56)\" to \"[u/jdemeyer/curl7.56](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/curl7.56)\".",
    "created_at": "2017-10-31T11:00:43Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365026",
    "user": "https://github.com/jdemeyer"
}
```

**Changing branch** from "[u/jhpalmieri/curl7.56](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/curl7.56)" to "[u/jdemeyer/curl7.56](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/curl7.56)".



---

archive/issue_comments_365027.json:
```json
{
    "body": "<a id='comment:17'></a>\n7.56.0 -> 7.56.1\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f1c87b1be6f94ccd5de1273ad89680464c26c47\">2f1c87b</a></td><td><code>Trac #23991: update curl to 7.56.1</code></td></tr></table>\n",
    "created_at": "2017-10-31T11:09:47Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365027",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
7.56.0 -> 7.56.1

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f1c87b1be6f94ccd5de1273ad89680464c26c47">2f1c87b</a></td><td><code>Trac #23991: update curl to 7.56.1</code></td></tr></table>




---

archive/issue_comments_365028.json:
```json
{
    "body": "**Changing commit** from \"[4f92e31786e5408603ce01712dce700465894c6b](https://github.com/sagemath/sagetrac-mirror/commit/4f92e31786e5408603ce01712dce700465894c6b)\" to \"[2f1c87b1be6f94ccd5de1273ad89680464c26c47](https://github.com/sagemath/sagetrac-mirror/commit/2f1c87b1be6f94ccd5de1273ad89680464c26c47)\".",
    "created_at": "2017-10-31T11:09:47Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365028",
    "user": "https://github.com/jdemeyer"
}
```

**Changing commit** from "[4f92e31786e5408603ce01712dce700465894c6b](https://github.com/sagemath/sagetrac-mirror/commit/4f92e31786e5408603ce01712dce700465894c6b)" to "[2f1c87b1be6f94ccd5de1273ad89680464c26c47](https://github.com/sagemath/sagetrac-mirror/commit/2f1c87b1be6f94ccd5de1273ad89680464c26c47)".



---

archive/issue_events_213219.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-31T11:09:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23991#event-213219"
}
```



---

archive/issue_events_213220.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-31T11:09:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23991#event-213220"
}
```



---

archive/issue_comments_365029.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer",
    "created_at": "2017-10-31T11:09:47Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365029",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Jeroen Demeyer



---

archive/issue_comments_365030.json:
```json
{
    "body": "<a id='comment:18'></a>\nSeems to work. John, I'll let you set positive_review if you agree.",
    "created_at": "2017-10-31T11:12:37Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365030",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>
Seems to work. John, I'll let you set positive_review if you agree.



---

archive/issue_events_213221.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2017-10-31T14:40:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23991#event-213221"
}
```



---

archive/issue_events_213222.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2017-10-31T14:40:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23991#event-213222"
}
```



---

archive/issue_comments_365031.json:
```json
{
    "body": "<a id='comment:19'></a>\nBuilds and passes its test-suite.",
    "created_at": "2017-10-31T14:40:08Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365031",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:19'></a>
Builds and passes its test-suite.



---

archive/issue_comments_365032.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/curl7.56](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/curl7.56)\" to \"[2f1c87b1be6f94ccd5de1273ad89680464c26c47](https://github.com/sagemath/sagetrac-mirror/commit/2f1c87b1be6f94ccd5de1273ad89680464c26c47)\".",
    "created_at": "2017-11-02T11:06:00Z",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23991#issuecomment-365032",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/curl7.56](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/curl7.56)" to "[2f1c87b1be6f94ccd5de1273ad89680464c26c47](https://github.com/sagemath/sagetrac-mirror/commit/2f1c87b1be6f94ccd5de1273ad89680464c26c47)".



---

archive/issue_events_213223.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-11-02T11:06:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23991#event-213223"
}
```



---

archive/issue_events_213224.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-11-02T11:06:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23991",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23991#event-213224"
}
```
