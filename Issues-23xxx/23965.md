# Issue 23965: Coercion to fraction field is injective

archive/issues_023728.json:
```json
{
    "body": "Currently this coercion is not detected as being injective:\n\n```\nsage: R=ZpFM(3)\nsage: K=R.fraction_field()\nsage: K.coerce_map_from(R).is_injective()\nNotImplementedError\n```\n\nBranch/Commit: a4d9ad6429371fc8cca4b60353642bb36cf1402a\n\nReviewer: David Roe\n\nAuthor: Julian R\u00fcth\n\nDependencies: #23510\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23965\n\n",
    "closed_at": "2017-10-15T09:22:16Z",
    "created_at": "2017-10-05T06:31:10Z",
    "labels": [
        "component: padics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Coercion to fraction field is injective",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23965",
    "user": "https://github.com/saraedum"
}
```
Currently this coercion is not detected as being injective:

```
sage: R=ZpFM(3)
sage: K=R.fraction_field()
sage: K.coerce_map_from(R).is_injective()
NotImplementedError
```

Branch/Commit: a4d9ad6429371fc8cca4b60353642bb36cf1402a

Reviewer: David Roe

Author: Julian Rüth

Dependencies: #23510

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23965





---

archive/issue_comments_452623.json:
```json
{
    "body": "Changing branch from \"\" to \"u/saraedum/coercion_to_fraction_field_is_injective\"",
    "created_at": "2017-10-05T06:49:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452623",
    "user": "https://github.com/saraedum"
}
```

Changing branch from "" to "u/saraedum/coercion_to_fraction_field_is_injective"



---

archive/issue_comments_452624.json:
```json
{
    "body": "Changing commit from \"\" to \"55b33e4ecbe79e0731d6f14a2f39afeb5f668689\"",
    "created_at": "2017-10-05T06:50:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452624",
    "user": "https://github.com/saraedum"
}
```

Changing commit from "" to "55b33e4ecbe79e0731d6f14a2f39afeb5f668689"



---

archive/issue_comments_452625.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n+Currently this coercion is not detected as being injective:\n \n ```\n sage: R=ZpFM(3)\n``````\n",
    "created_at": "2017-10-05T06:50:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452625",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
+Currently this coercion is not detected as being injective:
 
 ```
 sage: R=ZpFM(3)
``````




---

archive/issue_comments_452626.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[55b33e4](https://git.sagemath.org/sage.git/commit?id=55b33e4ecbe79e0731d6f14a2f39afeb5f668689)|`Coercions to the fraction field are injective`|",
    "created_at": "2017-10-05T06:50:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452626",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[55b33e4](https://git.sagemath.org/sage.git/commit?id=55b33e4ecbe79e0731d6f14a2f39afeb5f668689)|`Coercions to the fraction field are injective`|



---

archive/issue_comments_452627.json:
```json
{
    "body": "Changing author from \"\" to \"Julian R\u00fcth\"",
    "created_at": "2017-10-05T06:51:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452627",
    "user": "https://github.com/saraedum"
}
```

Changing author from "" to "Julian Rüth"



---

archive/issue_comments_452628.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-10-05T07:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452628",
    "user": "https://github.com/saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_452629.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#23510\"",
    "created_at": "2017-10-05T07:10:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452629",
    "user": "https://github.com/saraedum"
}
```

Changing dependencies from "" to "#23510"



---

archive/issue_comments_452630.json:
```json
{
    "body": "Changing branch from \"u/saraedum/coercion_to_fraction_field_is_injective\" to \"u/roed/coercion_to_fraction_field_is_injective\"",
    "created_at": "2017-10-05T23:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452630",
    "user": "https://github.com/roed314"
}
```

Changing branch from "u/saraedum/coercion_to_fraction_field_is_injective" to "u/roed/coercion_to_fraction_field_is_injective"



---

archive/issue_comments_452631.json:
```json
{
    "body": "Changing commit from \"55b33e4ecbe79e0731d6f14a2f39afeb5f668689\" to \"a4d9ad6429371fc8cca4b60353642bb36cf1402a\"",
    "created_at": "2017-10-05T23:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452631",
    "user": "https://github.com/roed314"
}
```

Changing commit from "55b33e4ecbe79e0731d6f14a2f39afeb5f668689" to "a4d9ad6429371fc8cca4b60353642bb36cf1402a"



---

archive/issue_comments_452632.json:
```json
{
    "body": "<a id='comment:7'></a>\nI merged in #23510 and added a try/except block around the call to `fraction_field()`, since this can raise a `TypeError`.  If you're happy with this change, positive review once tests pass.\n\n---\nLast 10 new commits:\n|                                                                                                                                          |                                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|\n|[cb882fd](https://git.sagemath.org/sage.git/commit?id=cb882fda2eb6a055b0176b8df5bf8cffd6c62be6)|`Update add_bigoh to account for fixed-mod having a fraction field`|\n|[a826978](https://git.sagemath.org/sage.git/commit?id=a82697895556d4acda681ea0ca9f8fac8f0c51d1)|`Fix _tester_add_bigoh`|\n|[883e6b5](https://git.sagemath.org/sage.git/commit?id=883e6b5fe81e5c2741ef8fb3521039ac6470fd0b)|`Fix doctest in local_generic_element.pyx`|\n|[52cbd2a](https://git.sagemath.org/sage.git/commit?id=52cbd2a0ed1c9154fa25ef340274ed985da84543)|`Merge branch 'u/roed/fixed_mod_frac_field' of git://trac.sagemath.org/sage into t/23510/fixed_mod_frac_field`|\n|[bc59ffa](https://git.sagemath.org/sage.git/commit?id=bc59ffa25440c16729beeffcdc05bddb8081c5e2)|`Merge branch 't/14825/polynomial_representation_of_a_padic_number' into t/23510/fixed_mod_frac_field`|\n|[3292259](https://git.sagemath.org/sage.git/commit?id=329225966f26609551ffcf07374409c9f3149ce2)|`Merge branch 'u/saraedum/fixed_mod_frac_field' of git://trac.sagemath.org/sage into t/23510/fixed_mod_frac_field`|\n|[dad02c7](https://git.sagemath.org/sage.git/commit?id=dad02c7fcb3e8df67378259e19847e8c15424acf)|`Merge branch 'u/saraedum/fixed_mod_frac_field' of git://trac.sagemath.org/sage into t/23510/fixed_mod_frac_field`|\n|[189ac2b](https://git.sagemath.org/sage.git/commit?id=189ac2b4a6b37dbe49ea70ab09e6e68b8b091d59)|`Add _test_fraction_field to the coercion tutorial`|\n|[df62c48](https://git.sagemath.org/sage.git/commit?id=df62c482abbb4841bf8d6895515c653aed83e5fa)|`Merge branch 'u/roed/fixed_mod_frac_field' of git://trac.sagemath.org/sage into t/23965/fracfield_coercion_injective`|\n|[a4d9ad6](https://git.sagemath.org/sage.git/commit?id=a4d9ad6429371fc8cca4b60353642bb36cf1402a)|`Catch exceptions raised by attempting to find fraction field`|",
    "created_at": "2017-10-05T23:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452632",
    "user": "https://github.com/roed314"
}
```

<a id='comment:7'></a>
I merged in #23510 and added a try/except block around the call to `fraction_field()`, since this can raise a `TypeError`.  If you're happy with this change, positive review once tests pass.

---
Last 10 new commits:
|                                                                                                                                          |                                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
|[cb882fd](https://git.sagemath.org/sage.git/commit?id=cb882fda2eb6a055b0176b8df5bf8cffd6c62be6)|`Update add_bigoh to account for fixed-mod having a fraction field`|
|[a826978](https://git.sagemath.org/sage.git/commit?id=a82697895556d4acda681ea0ca9f8fac8f0c51d1)|`Fix _tester_add_bigoh`|
|[883e6b5](https://git.sagemath.org/sage.git/commit?id=883e6b5fe81e5c2741ef8fb3521039ac6470fd0b)|`Fix doctest in local_generic_element.pyx`|
|[52cbd2a](https://git.sagemath.org/sage.git/commit?id=52cbd2a0ed1c9154fa25ef340274ed985da84543)|`Merge branch 'u/roed/fixed_mod_frac_field' of git://trac.sagemath.org/sage into t/23510/fixed_mod_frac_field`|
|[bc59ffa](https://git.sagemath.org/sage.git/commit?id=bc59ffa25440c16729beeffcdc05bddb8081c5e2)|`Merge branch 't/14825/polynomial_representation_of_a_padic_number' into t/23510/fixed_mod_frac_field`|
|[3292259](https://git.sagemath.org/sage.git/commit?id=329225966f26609551ffcf07374409c9f3149ce2)|`Merge branch 'u/saraedum/fixed_mod_frac_field' of git://trac.sagemath.org/sage into t/23510/fixed_mod_frac_field`|
|[dad02c7](https://git.sagemath.org/sage.git/commit?id=dad02c7fcb3e8df67378259e19847e8c15424acf)|`Merge branch 'u/saraedum/fixed_mod_frac_field' of git://trac.sagemath.org/sage into t/23510/fixed_mod_frac_field`|
|[189ac2b](https://git.sagemath.org/sage.git/commit?id=189ac2b4a6b37dbe49ea70ab09e6e68b8b091d59)|`Add _test_fraction_field to the coercion tutorial`|
|[df62c48](https://git.sagemath.org/sage.git/commit?id=df62c482abbb4841bf8d6895515c653aed83e5fa)|`Merge branch 'u/roed/fixed_mod_frac_field' of git://trac.sagemath.org/sage into t/23965/fracfield_coercion_injective`|
|[a4d9ad6](https://git.sagemath.org/sage.git/commit?id=a4d9ad6429371fc8cca4b60353642bb36cf1402a)|`Catch exceptions raised by attempting to find fraction field`|



---

archive/issue_comments_452633.json:
```json
{
    "body": "Changing reviewer from \"\" to \"David Roe\"",
    "created_at": "2017-10-06T00:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452633",
    "user": "https://github.com/saraedum"
}
```

Changing reviewer from "" to "David Roe"



---

archive/issue_comments_452634.json:
```json
{
    "body": "Changing work_issues from \"\" to \"doctests pass \u21d2 positive review\"",
    "created_at": "2017-10-06T00:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452634",
    "user": "https://github.com/saraedum"
}
```

Changing work_issues from "" to "doctests pass ⇒ positive review"



---

archive/issue_comments_452635.json:
```json
{
    "body": "Changing work_issues from \"doctests pass \u21d2 positive review\" to \"\"",
    "created_at": "2017-10-06T02:26:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452635",
    "user": "https://github.com/roed314"
}
```

Changing work_issues from "doctests pass ⇒ positive review" to ""



---

archive/issue_comments_452636.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-06T02:26:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452636",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_452637.json:
```json
{
    "body": "<a id='comment:9'></a>\nTests pass.",
    "created_at": "2017-10-06T02:26:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452637",
    "user": "https://github.com/roed314"
}
```

<a id='comment:9'></a>
Tests pass.



---

archive/issue_comments_452638.json:
```json
{
    "body": "Changing branch from \"u/roed/coercion_to_fraction_field_is_injective\" to \"a4d9ad6429371fc8cca4b60353642bb36cf1402a\"",
    "created_at": "2017-10-15T09:22:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452638",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/roed/coercion_to_fraction_field_is_injective" to "a4d9ad6429371fc8cca4b60353642bb36cf1402a"



---

archive/issue_events_060974.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-15T09:22:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23965#event-60974"
}
```



---

archive/issue_comments_452639.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-10-15T09:22:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23965",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23965#issuecomment-452639",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
