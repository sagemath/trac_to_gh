# Issue 23198: Don't delete sage-env-config in make misc-clean

archive/issues_022961.json:
```json
{
    "body": "When `src/bin/sage-env-config` was added, the `make misc-clean` target was modified to remove it.  However, this breaks an otherwise working Sage install.  Most of the other files removed by `make misc-clean` is build/configure cruft not needed at runtime, whereas `src/bin/sage-env-config` is needed to set `$SAGE_LOCAL` properly in the `sage` script.\n\nThis broke building the Docker images.\n\nBranch/Commit: 86d978e961a50dbd5fcf175d46acdb95ac57c5f4\n\nReviewer: Jeroen Demeyer\n\nAuthor: Erik Bray\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23198\n\n",
    "closed_at": "2017-06-22T07:24:19Z",
    "created_at": "2017-06-09T12:50:03Z",
    "labels": [
        "component: build",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Don't delete sage-env-config in make misc-clean",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23198",
    "user": "https://github.com/embray"
}
```
When `src/bin/sage-env-config` was added, the `make misc-clean` target was modified to remove it.  However, this breaks an otherwise working Sage install.  Most of the other files removed by `make misc-clean` is build/configure cruft not needed at runtime, whereas `src/bin/sage-env-config` is needed to set `$SAGE_LOCAL` properly in the `sage` script.

This broke building the Docker images.

Branch/Commit: 86d978e961a50dbd5fcf175d46acdb95ac57c5f4

Reviewer: Jeroen Demeyer

Author: Erik Bray

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23198





---

archive/issue_comments_438070.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-06-09T12:51:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23198#issuecomment-438070",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_438071.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[86d978e](https://github.com/sagemath/sagetrac-mirror/commit/86d978e961a50dbd5fcf175d46acdb95ac57c5f4)|`Don't delete src/bin/sage-env-config in make misc-clean`|",
    "created_at": "2017-06-09T12:51:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23198#issuecomment-438071",
    "user": "https://github.com/embray"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[86d978e](https://github.com/sagemath/sagetrac-mirror/commit/86d978e961a50dbd5fcf175d46acdb95ac57c5f4)|`Don't delete src/bin/sage-env-config in make misc-clean`|



---

archive/issue_comments_438072.json:
```json
{
    "body": "Changing commit from \"\" to \"86d978e961a50dbd5fcf175d46acdb95ac57c5f4\"",
    "created_at": "2017-06-09T12:51:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23198#issuecomment-438072",
    "user": "https://github.com/embray"
}
```

Changing commit from "" to "86d978e961a50dbd5fcf175d46acdb95ac57c5f4"



---

archive/issue_comments_438073.json:
```json
{
    "body": "Changing branch from \"\" to \"u/embray/build/ticket-23198\"",
    "created_at": "2017-06-09T12:51:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23198#issuecomment-438073",
    "user": "https://github.com/embray"
}
```

Changing branch from "" to "u/embray/build/ticket-23198"



---

archive/issue_comments_438074.json:
```json
{
    "body": "Changing author from \"\" to \"Erik Bray\"",
    "created_at": "2017-06-09T12:51:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23198#issuecomment-438074",
    "user": "https://github.com/embray"
}
```

Changing author from "" to "Erik Bray"



---

archive/issue_comments_438075.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2017-06-20T17:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23198#issuecomment-438075",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_438076.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-20T17:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23198#issuecomment-438076",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_438077.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-06-22T07:24:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23198#issuecomment-438077",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_068092.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-22T07:24:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23198",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23198#event-68092"
}
```



---

archive/issue_comments_438078.json:
```json
{
    "body": "Changing branch from \"u/embray/build/ticket-23198\" to \"86d978e961a50dbd5fcf175d46acdb95ac57c5f4\"",
    "created_at": "2017-06-22T07:24:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23198#issuecomment-438078",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/embray/build/ticket-23198" to "86d978e961a50dbd5fcf175d46acdb95ac57c5f4"
