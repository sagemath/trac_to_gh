# Issue 23153: Bug in finite field element GAP-to-Sage conversion when explicit field is specified

archive/issues_022916.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-ibookstein"
    ],
    "body": "As [reported](https://groups.google.com/d/msg/sage-devel/1VHx3laSU_U/wFxF2JsABwAJ) on sage-devel\n\n```\nS = GF(2^4, 'a')\na = S.gen()\n\nG = SL(2, S)\n\ng1 = G([a**2, a**3 + a**2 + a, a + 1, 0])\ng2 = G([a, 0, 0, a**3 + 1])\n\n# prints True True\nprint g1 in G, g2 in G\n\n# Throws a ValueError\nprint g1 * g2\n```\nSpecifically, one gets\n\n```\nValueError: the given finite field has incompatible size\n```\n\nThe actual underlying bug is the fact that the `GapElement_FiniteField.sage` method malfunctions when an explicit `ring` argument is specified and the element lies in a subfield of the field passed in that argument (note that GAP performs such reductions automatically).\nOne would reasonably expect this to work, but a `ValueError` is thrown on the last line:\n\n```\nsage: n = libgap.eval('Z(2^4)^2 + Z(2^4)^1 + Z(2^4)^0')\nsage: n\nZ(2^2)^2\nsage: n.sage(ring=GF(2^4))\nValueError: the given finite field has incompatible size\n```\n\nCC:  @vbraun\n\nBranch/Commit: **[`117599e`](https://github.com/sagemath/sagetrac-mirror/commit/117599e0987414baec6169a1b7dd337b7e681b23)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Itay Bookstein**\n\nComponent: **group theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23153_\n\n",
    "closed_at": "2017-07-26T22:13:52Z",
    "created_at": "2017-06-06T22:19:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Bug in finite field element GAP-to-Sage conversion when explicit field is specified",
    "type": "issue",
    "updated_at": "2017-07-26T22:13:52Z",
    "url": "https://github.com/sagemath/sage/issues/23153",
    "user": "https://github.com/dimpase"
}
```
As [reported](https://groups.google.com/d/msg/sage-devel/1VHx3laSU_U/wFxF2JsABwAJ) on sage-devel

```
S = GF(2^4, 'a')
a = S.gen()

G = SL(2, S)

g1 = G([a**2, a**3 + a**2 + a, a + 1, 0])
g2 = G([a, 0, 0, a**3 + 1])

# prints True True
print g1 in G, g2 in G

# Throws a ValueError
print g1 * g2
```
Specifically, one gets

```
ValueError: the given finite field has incompatible size
```

The actual underlying bug is the fact that the `GapElement_FiniteField.sage` method malfunctions when an explicit `ring` argument is specified and the element lies in a subfield of the field passed in that argument (note that GAP performs such reductions automatically).
One would reasonably expect this to work, but a `ValueError` is thrown on the last line:

```
sage: n = libgap.eval('Z(2^4)^2 + Z(2^4)^1 + Z(2^4)^0')
sage: n
Z(2^2)^2
sage: n.sage(ring=GF(2^4))
ValueError: the given finite field has incompatible size
```

CC:  @vbraun

Branch/Commit: **[`117599e`](https://github.com/sagemath/sagetrac-mirror/commit/117599e0987414baec6169a1b7dd337b7e681b23)**

Reviewer: **Dima Pasechnik**

Author: **Itay Bookstein**

Component: **group theory**

_Issue created by migration from https://trac.sagemath.org/ticket/23153_





---

archive/issue_events_319911.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-06-06T22:19:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23153#event-319911"
}
```



---

archive/issue_events_319912.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-06-06T22:19:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
    "label_color": "0000ff",
    "label_name": "c: group theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23153#event-319912"
}
```



---

archive/issue_events_319913.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-06-06T22:19:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23153#event-319913"
}
```



---

archive/issue_events_319914.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-06-06T22:19:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23153#event-319914"
}
```



---

archive/issue_comments_347065.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nnamely\n\n```\n---> 13 print g1*g2\n\n/home/dima/Sage/sage-dev/src/sage/structure/sage_object.pyx in sage.structure.sage_object.SageObject.__repr__ (build/cythonized/sage/structure/sage_object.c:2712)()\n    190             return str(type(self))\n    191         else:\n--> 192             result = repr_func()\n    193             if isinstance(result, unicode):\n    194                 # Py3 compatibility: allow _repr_ to return unicode\n\n/home/dima/Sage/sage-dev/src/sage/groups/matrix_gps/group_element.pyx in sage.groups.matrix_gps.group_element.MatrixGroupElement_gap._repr_ (build/cythonized/sage/groups/matrix_gps/group_element.c:6700)()\n    490             '[1 1]\\n[0 1]'\n    491         \"\"\"\n--> 492         return str(self.matrix())\n    493 \n    494     def _latex_(self):\n\n/home/dima/Sage/sage-dev/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:13462)()\n   2399         if self.cache is None:\n   2400             f = self.f\n-> 2401             self.cache = f(self._instance)\n   2402         return self.cache\n   2403 \n\n/home/dima/Sage/sage-dev/src/sage/groups/matrix_gps/group_element.pyx in sage.groups.matrix_gps.group_element.MatrixGroupElement_gap.matrix (build/cythonized/sage/groups/matrix_gps/group_element.c:7760)()\n    585         MS = self.parent().matrix_space()\n    586         ring = MS.base_ring()\n--> 587         m = MS([x.sage(ring=ring) for x in entries])\n    588         m.set_immutable()\n    589         return m\n\n/home/dima/Sage/sage-dev/src/sage/libs/gap/element.pyx in sage.libs.gap.element.GapElement_FiniteField.sage (build/cythonized/sage/libs/gap/element.c:12711)()\n   1386             field = self.DefaultField()\n   1387             if field.Size().sage() != ring.cardinality():\n-> 1388                 raise ValueError('the given finite field has incompatible size')\n   1389             root = self.DefaultField().PrimitiveRoot()\n   1390             exp = self.LogFFE(root)\n\nValueError: the given finite field has incompatible size\n```\nand in this case one has\n`field.Size().sage() = 4` and `ring.cardinality() = 16`",
    "created_at": "2017-06-06T22:27:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347065",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:1" align="right">comment:1</div>

namely

```
---> 13 print g1*g2

/home/dima/Sage/sage-dev/src/sage/structure/sage_object.pyx in sage.structure.sage_object.SageObject.__repr__ (build/cythonized/sage/structure/sage_object.c:2712)()
    190             return str(type(self))
    191         else:
--> 192             result = repr_func()
    193             if isinstance(result, unicode):
    194                 # Py3 compatibility: allow _repr_ to return unicode

/home/dima/Sage/sage-dev/src/sage/groups/matrix_gps/group_element.pyx in sage.groups.matrix_gps.group_element.MatrixGroupElement_gap._repr_ (build/cythonized/sage/groups/matrix_gps/group_element.c:6700)()
    490             '[1 1]\n[0 1]'
    491         """
--> 492         return str(self.matrix())
    493 
    494     def _latex_(self):

/home/dima/Sage/sage-dev/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:13462)()
   2399         if self.cache is None:
   2400             f = self.f
-> 2401             self.cache = f(self._instance)
   2402         return self.cache
   2403 

/home/dima/Sage/sage-dev/src/sage/groups/matrix_gps/group_element.pyx in sage.groups.matrix_gps.group_element.MatrixGroupElement_gap.matrix (build/cythonized/sage/groups/matrix_gps/group_element.c:7760)()
    585         MS = self.parent().matrix_space()
    586         ring = MS.base_ring()
--> 587         m = MS([x.sage(ring=ring) for x in entries])
    588         m.set_immutable()
    589         return m

/home/dima/Sage/sage-dev/src/sage/libs/gap/element.pyx in sage.libs.gap.element.GapElement_FiniteField.sage (build/cythonized/sage/libs/gap/element.c:12711)()
   1386             field = self.DefaultField()
   1387             if field.Size().sage() != ring.cardinality():
-> 1388                 raise ValueError('the given finite field has incompatible size')
   1389             root = self.DefaultField().PrimitiveRoot()
   1390             exp = self.LogFFE(root)

ValueError: the given finite field has incompatible size
```
and in this case one has
`field.Size().sage() = 4` and `ring.cardinality() = 16`



---

archive/issue_comments_347066.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nIndeed, different entries of a matrix might belong to different subfields of the field of definition; this test is simply wrong here (there is an element from the order 4 subfield in one of these matrices).",
    "created_at": "2017-06-06T22:42:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347066",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:2" align="right">comment:2</div>

Indeed, different entries of a matrix might belong to different subfields of the field of definition; this test is simply wrong here (there is an element from the order 4 subfield in one of these matrices).



---

archive/issue_comments_347067.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAmending this to reflect the real underlying bug: \nWhen an explicit ring (field) argument is specified to the GapElement_FiniteField.sage method, and the finite field element lies in a subfield of that field, the conversion as it currently works fails because GAP reduces the representation to that of the subfield.",
    "created_at": "2017-07-13T17:21:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347067",
    "user": "https://github.com/sagetrac-ibookstein"
}
```

<div id="comment:3" align="right">comment:3</div>

Amending this to reflect the real underlying bug: 
When an explicit ring (field) argument is specified to the GapElement_FiniteField.sage method, and the finite field element lies in a subfield of that field, the conversion as it currently works fails because GAP reduces the representation to that of the subfield.



---

archive/issue_events_319915.json:
```json
{
    "actor": "https://github.com/sagetrac-ibookstein",
    "created_at": "2017-07-13T18:42:37Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "subject": "https://github.com/sagetrac-ibookstein",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23153#event-319915"
}
```



---

archive/issue_comments_347068.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -20,3 +20,14 @@\n ```\n ValueError: the given finite field has incompatible size\n ```\n+\n+The actual underlying bug is the fact that the `GapElement_FiniteField.sage` method malfunctions when an explicit `ring` argument is specified and the element lies in a subfield of the field passed in that argument (note that GAP performs such reductions automatically).\n+One would reasonably expect this to work, but a ValueError is thrown on the last line:\n+\n+```\n+sage: n = libgap.eval('Z(2^4)^2 + Z(2^4)^1 + Z(2^4)^0')\n+sage: n\n+Z(2^2)^2\n+sage: n.sage(ring=GF(2^4))\n+ValueError: the given finite field has incompatible size\n+```\n``````\n",
    "created_at": "2017-07-13T18:42:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347068",
    "user": "https://github.com/sagetrac-ibookstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -20,3 +20,14 @@
 ```
 ValueError: the given finite field has incompatible size
 ```
+
+The actual underlying bug is the fact that the `GapElement_FiniteField.sage` method malfunctions when an explicit `ring` argument is specified and the element lies in a subfield of the field passed in that argument (note that GAP performs such reductions automatically).
+One would reasonably expect this to work, but a ValueError is thrown on the last line:
+
+```
+sage: n = libgap.eval('Z(2^4)^2 + Z(2^4)^1 + Z(2^4)^0')
+sage: n
+Z(2^2)^2
+sage: n.sage(ring=GF(2^4))
+ValueError: the given finite field has incompatible size
+```
``````




---

archive/issue_comments_347069.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,7 +22,7 @@\n ```\n \n The actual underlying bug is the fact that the `GapElement_FiniteField.sage` method malfunctions when an explicit `ring` argument is specified and the element lies in a subfield of the field passed in that argument (note that GAP performs such reductions automatically).\n-One would reasonably expect this to work, but a ValueError is thrown on the last line:\n+One would reasonably expect this to work, but a `ValueError` is thrown on the last line:\n \n ```\n sage: n = libgap.eval('Z(2^4)^2 + Z(2^4)^1 + Z(2^4)^0')\n``````\n",
    "created_at": "2017-07-13T18:45:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347069",
    "user": "https://github.com/sagetrac-ibookstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,7 +22,7 @@
 ```
 
 The actual underlying bug is the fact that the `GapElement_FiniteField.sage` method malfunctions when an explicit `ring` argument is specified and the element lies in a subfield of the field passed in that argument (note that GAP performs such reductions automatically).
-One would reasonably expect this to work, but a ValueError is thrown on the last line:
+One would reasonably expect this to work, but a `ValueError` is thrown on the last line:
 
 ```
 sage: n = libgap.eval('Z(2^4)^2 + Z(2^4)^1 + Z(2^4)^0')
``````




---

archive/issue_events_319916.json:
```json
{
    "actor": "https://github.com/sagetrac-ibookstein",
    "created_at": "2017-07-13T18:45:47Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "title_is": "Bug in finite field element GAP-to-Sage conversion when explicit field is specified",
    "title_was": "bug in SL(2,GF(q)) multiplication",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23153#event-319916"
}
```



---

archive/issue_comments_347070.json:
```json
{
    "body": "Branch: **[u/ibookstein/gap_to_sage_ffe_conversion_bugfix](https://github.com/sagemath/sagetrac-mirror/tree/u/ibookstein/gap_to_sage_ffe_conversion_bugfix)**",
    "created_at": "2017-07-13T19:28:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347070",
    "user": "https://github.com/sagetrac-ibookstein"
}
```

Branch: **[u/ibookstein/gap_to_sage_ffe_conversion_bugfix](https://github.com/sagemath/sagetrac-mirror/tree/u/ibookstein/gap_to_sage_ffe_conversion_bugfix)**



---

archive/issue_comments_347071.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-13T19:30:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347071",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_347072.json:
```json
{
    "body": "Commit: **[`c522ced`](https://github.com/sagemath/sagetrac-mirror/commit/c522ced2719d9e701a85825f0662e73a1185145a)**",
    "created_at": "2017-07-13T19:30:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347072",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`c522ced`](https://github.com/sagemath/sagetrac-mirror/commit/c522ced2719d9e701a85825f0662e73a1185145a)**



---

archive/issue_comments_347073.json:
```json
{
    "body": "Changed commit from **[`c522ced`](https://github.com/sagemath/sagetrac-mirror/commit/c522ced2719d9e701a85825f0662e73a1185145a)** to **[`e1f598c`](https://github.com/sagemath/sagetrac-mirror/commit/e1f598c44b47c6408d632570910e952a009f0543)**",
    "created_at": "2017-07-13T19:36:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347073",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c522ced`](https://github.com/sagemath/sagetrac-mirror/commit/c522ced2719d9e701a85825f0662e73a1185145a)** to **[`e1f598c`](https://github.com/sagemath/sagetrac-mirror/commit/e1f598c44b47c6408d632570910e952a009f0543)**



---

archive/issue_comments_347074.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1f598c44b47c6408d632570910e952a009f0543\"><code>e1f598c</code></a></td><td><code>Implemented a fix to the bug, added some doctests</code></td></tr></table>\n",
    "created_at": "2017-07-13T19:36:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347074",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1f598c44b47c6408d632570910e952a009f0543"><code>e1f598c</code></a></td><td><code>Implemented a fix to the bug, added some doctests</code></td></tr></table>




---

archive/issue_comments_347075.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThis fix looks as if it might lead to a huge slowdown.\nWould it be possible to avoid this test and creation of a field completely?",
    "created_at": "2017-07-14T07:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347075",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">comment:9</div>

This fix looks as if it might lead to a huge slowdown.
Would it be possible to avoid this test and creation of a field completely?



---

archive/issue_comments_347076.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI also do not understand how libGAP handles finite fields obtained by specifying an explicit irreducible polynomial, e.g.\n\n```\ngap> poly:=RandomPrimitivePolynomial(GF(2),20);\nx_1^20+x_1^17+x_1^16+x_1^12+x_1^9+x_1^6+Z(2)^0\ngap> f220:=GF(GF(2),poly);\n<algebra-with-one of dimension 20 over GF(2)>\n```",
    "created_at": "2017-07-14T08:17:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347076",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

I also do not understand how libGAP handles finite fields obtained by specifying an explicit irreducible polynomial, e.g.

```
gap> poly:=RandomPrimitivePolynomial(GF(2),20);
x_1^20+x_1^17+x_1^16+x_1^12+x_1^9+x_1^6+Z(2)^0
gap> f220:=GF(GF(2),poly);
<algebra-with-one of dimension 20 over GF(2)>
```



---

archive/issue_comments_347077.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ee98ae1a8b30a63a1918d22956d25a2fb88cf65\"><code>4ee98ae</code></a></td><td><code>Added validations for explicit ring argument, added tests</code></td></tr></table>\n",
    "created_at": "2017-07-14T12:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347077",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ee98ae1a8b30a63a1918d22956d25a2fb88cf65"><code>4ee98ae</code></a></td><td><code>Added validations for explicit ring argument, added tests</code></td></tr></table>




---

archive/issue_comments_347078.json:
```json
{
    "body": "Changed commit from **[`e1f598c`](https://github.com/sagemath/sagetrac-mirror/commit/e1f598c44b47c6408d632570910e952a009f0543)** to **[`4ee98ae`](https://github.com/sagemath/sagetrac-mirror/commit/4ee98ae1a8b30a63a1918d22956d25a2fb88cf65)**",
    "created_at": "2017-07-14T12:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347078",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e1f598c`](https://github.com/sagemath/sagetrac-mirror/commit/e1f598c44b47c6408d632570910e952a009f0543)** to **[`4ee98ae`](https://github.com/sagemath/sagetrac-mirror/commit/4ee98ae1a8b30a63a1918d22956d25a2fb88cf65)**



---

archive/issue_comments_347079.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+Authors: Itay Bookstein\n+\n As [reported](https://groups.google.com/d/msg/sage-devel/1VHx3laSU_U/wFxF2JsABwAJ) on sage-devel\n \n ```\n``````\n",
    "created_at": "2017-07-14T12:29:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347079",
    "user": "https://github.com/sagetrac-ibookstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+Authors: Itay Bookstein
+
 As [reported](https://groups.google.com/d/msg/sage-devel/1VHx3laSU_U/wFxF2JsABwAJ) on sage-devel
 
 ```
``````




---

archive/issue_events_319917.json:
```json
{
    "actor": "https://github.com/sagetrac-ibookstein",
    "created_at": "2017-07-14T12:29:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23153#event-319917"
}
```



---

archive/issue_comments_347080.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n-Authors: Itay Bookstein\n-\n As [reported](https://groups.google.com/d/msg/sage-devel/1VHx3laSU_U/wFxF2JsABwAJ) on sage-devel\n \n ```\n``````\n",
    "created_at": "2017-07-14T12:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347080",
    "user": "https://github.com/sagetrac-ibookstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
-Authors: Itay Bookstein
-
 As [reported](https://groups.google.com/d/msg/sage-devel/1VHx3laSU_U/wFxF2JsABwAJ) on sage-devel
 
 ```
``````




---

archive/issue_comments_347081.json:
```json
{
    "body": "Author: **Itay Bookstein**",
    "created_at": "2017-07-14T12:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347081",
    "user": "https://github.com/sagetrac-ibookstein"
}
```

Author: **Itay Bookstein**



---

archive/issue_comments_347082.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nSorry, missed your comments before I wrapped it all up and submitted it for review, assumed such comments would be part of the review.\n\n* Should I revert the ticket's status?\n* Regarding the slowdown resulting from the test and creation of a field: \n  * What test are you referring to? The modulus?\n  * I'm not sure what to replace the field creation with and what's considered cheap/expensive in Sage/GAP. What would you recommend? We could cut straight to the `PrimitiveRoot` for example by using GAP's `Z(...)` and plugging in the desired field's size, but I know nothing about GAP's implementation details and whether it creates the parent field anyway.\n* Regarding the finite fields with non-default (non-Conway) modulus polynomial:\n  * I actually looked into this as a separate issue/bug as part of researching a fix for this ticket, but I haven't submitted anything yet.\n  * The `_gap_init_()` string for Sage fields completely ignores the modulus polynomial - the conversion is lossy, and you get `F.<x> = GF(2)['x']; libgap(GF(2^18, 'x')) == libgap(GF(2^18, 'x', modulus=x**18 + x**16 + x**11 + x**4 + 1))` printing `True`",
    "created_at": "2017-07-14T12:56:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347082",
    "user": "https://github.com/sagetrac-ibookstein"
}
```

<div id="comment:14" align="right">comment:14</div>

Sorry, missed your comments before I wrapped it all up and submitted it for review, assumed such comments would be part of the review.

* Should I revert the ticket's status?
* Regarding the slowdown resulting from the test and creation of a field: 
  * What test are you referring to? The modulus?
  * I'm not sure what to replace the field creation with and what's considered cheap/expensive in Sage/GAP. What would you recommend? We could cut straight to the `PrimitiveRoot` for example by using GAP's `Z(...)` and plugging in the desired field's size, but I know nothing about GAP's implementation details and whether it creates the parent field anyway.
* Regarding the finite fields with non-default (non-Conway) modulus polynomial:
  * I actually looked into this as a separate issue/bug as part of researching a fix for this ticket, but I haven't submitted anything yet.
  * The `_gap_init_()` string for Sage fields completely ignores the modulus polynomial - the conversion is lossy, and you get `F.<x> = GF(2)['x']; libgap(GF(2^18, 'x')) == libgap(GF(2^18, 'x', modulus=x**18 + x**16 + x**11 + x**4 + 1))` printing `True`



---

archive/issue_comments_347083.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nA comment about your code; you create a lot of temporary variables without a reason; one does not need `compatible`, `gap_field_obj`, and `gap_field`, right?\nCould you get rid of them?\n\nOtherwise, your patch looks good; I now realise that because we deal with only \"standard\" finite fields here, for them `PrimitiveRoot` is instant.\n(this would not be true for extensions specified by arbitrary primitive polynomials).\n\nRegarding the latter (finite fields with non-default (non-Conway) modulus polynomial); so you think they are not handled in libGAP? If so, could you please open a ticket to deal with this?",
    "created_at": "2017-07-14T15:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347083",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

A comment about your code; you create a lot of temporary variables without a reason; one does not need `compatible`, `gap_field_obj`, and `gap_field`, right?
Could you get rid of them?

Otherwise, your patch looks good; I now realise that because we deal with only "standard" finite fields here, for them `PrimitiveRoot` is instant.
(this would not be true for extensions specified by arbitrary primitive polynomials).

Regarding the latter (finite fields with non-default (non-Conway) modulus polynomial); so you think they are not handled in libGAP? If so, could you please open a ticket to deal with this?



---

archive/issue_comments_347084.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2017-07-14T15:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347084",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_347085.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nNo problem getting rid of them, just thought they make the code more readable (are these temporaries a performance concern?).\nI mean, in principal one could inline the entire second `else` clause to a huge one-liner, but that would be rather unreadable :)\n\nI was under the impression that the field creation within GAP might be performance issue, not the `PrimitiveRoot` lookup (which, by the way, was there before the patch).\nWe could also cut straight to `root = make_GapElement_FiniteField(self.parent(), gap_eval(ring.multiplicative_generator()._gap_init_()))`, but it may be worse.\n\nRegarding the finite fields with non-default (non-Conway) modulus polynomials, see `src/sage/rings/finite_rings/finite_field_base.pyx`, method `FiniteField._gap_init_`.\nAdding such support would be lengthier, as we may need to audit all Sage-finite-field-to-GAP-finite-field bridges and make sure they make no assumptions about the modulus being non-default, e.g. `src/sage/rings/finite_rings/element_ntl_gf2e.pyx` method `FiniteField_ntl_gf2eElement._gap_init_` (where it is *explicitly blocked*).",
    "created_at": "2017-07-14T15:48:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347085",
    "user": "https://github.com/sagetrac-ibookstein"
}
```

<div id="comment:16" align="right">comment:16</div>

No problem getting rid of them, just thought they make the code more readable (are these temporaries a performance concern?).
I mean, in principal one could inline the entire second `else` clause to a huge one-liner, but that would be rather unreadable :)

I was under the impression that the field creation within GAP might be performance issue, not the `PrimitiveRoot` lookup (which, by the way, was there before the patch).
We could also cut straight to `root = make_GapElement_FiniteField(self.parent(), gap_eval(ring.multiplicative_generator()._gap_init_()))`, but it may be worse.

Regarding the finite fields with non-default (non-Conway) modulus polynomials, see `src/sage/rings/finite_rings/finite_field_base.pyx`, method `FiniteField._gap_init_`.
Adding such support would be lengthier, as we may need to audit all Sage-finite-field-to-GAP-finite-field bridges and make sure they make no assumptions about the modulus being non-default, e.g. `src/sage/rings/finite_rings/element_ntl_gf2e.pyx` method `FiniteField_ntl_gf2eElement._gap_init_` (where it is *explicitly blocked*).



---

archive/issue_comments_347086.json:
```json
{
    "body": "Changed commit from **[`4ee98ae`](https://github.com/sagemath/sagetrac-mirror/commit/4ee98ae1a8b30a63a1918d22956d25a2fb88cf65)** to **[`117599e`](https://github.com/sagemath/sagetrac-mirror/commit/117599e0987414baec6169a1b7dd337b7e681b23)**",
    "created_at": "2017-07-14T16:13:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347086",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4ee98ae`](https://github.com/sagemath/sagetrac-mirror/commit/4ee98ae1a8b30a63a1918d22956d25a2fb88cf65)** to **[`117599e`](https://github.com/sagemath/sagetrac-mirror/commit/117599e0987414baec6169a1b7dd337b7e681b23)**



---

archive/issue_comments_347087.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/117599e0987414baec6169a1b7dd337b7e681b23\"><code>117599e</code></a></td><td><code>Inlined some temporaries</code></td></tr></table>\n",
    "created_at": "2017-07-14T16:13:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347087",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/117599e0987414baec6169a1b7dd337b7e681b23"><code>117599e</code></a></td><td><code>Inlined some temporaries</code></td></tr></table>




---

archive/issue_comments_347088.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nOK, this looks good enough. \n\nRegarding the non-Conway irreducible polynomials for GFs, I have opened #23452.",
    "created_at": "2017-07-18T07:01:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347088",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:18" align="right">comment:18</div>

OK, this looks good enough. 

Regarding the non-Conway irreducible polynomials for GFs, I have opened #23452.



---

archive/issue_events_319918.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-07-18T07:01:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23153#event-319918"
}
```



---

archive/issue_events_319919.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-07-18T07:01:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23153#event-319919"
}
```



---

archive/issue_comments_347089.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nShould we also open tickets about the following two enhancements?\n* Adding support for GAP fields whose size is larger than `2^16` in both conversion directions? I actually tried hacking in a GAP-to-Sage conversion for this case (under `make_any_gap_element`'s `libGAP_T_POSOBJ` case if `result.IsFFE()` is true) and found out that the current GAP-to-sage conversion after my editing is extremely slow because of the `LogFFE` call (it's slow when GAP doesn't use the efficient internal representation, which happens precisely when the size is over `2^16`).\n* Adding support for algebraic extensions of non-prime fields via GAP's functionality? Maybe that's a bit much, I don't know.",
    "created_at": "2017-07-18T15:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347089",
    "user": "https://github.com/sagetrac-ibookstein"
}
```

<div id="comment:19" align="right">comment:19</div>

Should we also open tickets about the following two enhancements?
* Adding support for GAP fields whose size is larger than `2^16` in both conversion directions? I actually tried hacking in a GAP-to-Sage conversion for this case (under `make_any_gap_element`'s `libGAP_T_POSOBJ` case if `result.IsFFE()` is true) and found out that the current GAP-to-sage conversion after my editing is extremely slow because of the `LogFFE` call (it's slow when GAP doesn't use the efficient internal representation, which happens precisely when the size is over `2^16`).
* Adding support for algebraic extensions of non-prime fields via GAP's functionality? Maybe that's a bit much, I don't know.



---

archive/issue_comments_347090.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nIMHO Sage's support for GF(q) with large q is much better than in GAP - in particular for q=2<sup>k</sup>, where `gf2x` is used.\n\nAnyhow, why does one even need to call `LogFFE()`? Both GAP and Sage represent finite field elements as polynomials in the primitive element, can't one just rewrite these polynomials?",
    "created_at": "2017-07-19T08:03:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347090",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

IMHO Sage's support for GF(q) with large q is much better than in GAP - in particular for q=2<sup>k</sup>, where `gf2x` is used.

Anyhow, why does one even need to call `LogFFE()`? Both GAP and Sage represent finite field elements as polynomials in the primitive element, can't one just rewrite these polynomials?



---

archive/issue_comments_347091.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nRegarding the `GF(p^n)` support - yes, but when I want to use a matrix group over a large field (`SL(2, 2^32)`, for instance, I'm completely unable to do that within Sage because Sage uses GAP for matrix group implementations and the Sage-GAP bridge doesn't support large fields.\nPerhaps this warrants abandoning GAP's matrix group implementations and having Sage implementations, I don't know.\n\nRegarding the `LogFFE()` call - I was wondering about that myself. Doing the conversion based on the polynomial representation should be pretty simple to implement. I guess the exponentiation implementation was easier and shorter to implement (see `src/sage/rings/finite_rings/element_givaro.pyx`, method `FiniteField_givaroElement._gap_init_` for example, where to do the conversion you just format the field's size and the exponent into a string).",
    "created_at": "2017-07-19T16:12:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347091",
    "user": "https://github.com/sagetrac-ibookstein"
}
```

<div id="comment:21" align="right">comment:21</div>

Regarding the `GF(p^n)` support - yes, but when I want to use a matrix group over a large field (`SL(2, 2^32)`, for instance, I'm completely unable to do that within Sage because Sage uses GAP for matrix group implementations and the Sage-GAP bridge doesn't support large fields.
Perhaps this warrants abandoning GAP's matrix group implementations and having Sage implementations, I don't know.

Regarding the `LogFFE()` call - I was wondering about that myself. Doing the conversion based on the polynomial representation should be pretty simple to implement. I guess the exponentiation implementation was easier and shorter to implement (see `src/sage/rings/finite_rings/element_givaro.pyx`, method `FiniteField_givaroElement._gap_init_` for example, where to do the conversion you just format the field's size and the exponent into a string).



---

archive/issue_comments_347092.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nUnless I miss something, for sufficiently big q GF(q) in Sage is implemented using NTL.",
    "created_at": "2017-07-19T16:47:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347092",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

Unless I miss something, for sufficiently big q GF(q) in Sage is implemented using NTL.



---

archive/issue_comments_347093.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThey are, but once you try doing things in e.g. `SL(2, F)` the field elements are coerced back and forth (GAP-to-NTL and vice versa):\n\n```\nsage: G = SL(2, 2**24)\nsage: G.generators()\n...\nTypeError: sage() takes no keyword arguments\n```\n\nThis is because the objects being coerced are deduced as generic `GapElement`s instead of FFEs.\nPerhaps I should move this discussion to sage-devel.",
    "created_at": "2017-07-19T17:16:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347093",
    "user": "https://github.com/sagetrac-ibookstein"
}
```

<div id="comment:23" align="right">comment:23</div>

They are, but once you try doing things in e.g. `SL(2, F)` the field elements are coerced back and forth (GAP-to-NTL and vice versa):

```
sage: G = SL(2, 2**24)
sage: G.generators()
...
TypeError: sage() takes no keyword arguments
```

This is because the objects being coerced are deduced as generic `GapElement`s instead of FFEs.
Perhaps I should move this discussion to sage-devel.



---

archive/issue_comments_347094.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI'm not very well acquainted with the development cycle (and didn't see anything about it on the developer guide), am I supposed to merge it to develop or is that on one of the admins?",
    "created_at": "2017-07-23T19:20:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347094",
    "user": "https://github.com/sagetrac-ibookstein"
}
```

<div id="comment:24" align="right">comment:24</div>

I'm not very well acquainted with the development cycle (and didn't see anything about it on the developer guide), am I supposed to merge it to develop or is that on one of the admins?



---

archive/issue_events_319920.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-07-23T19:34:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23153#event-319920"
}
```



---

archive/issue_events_319921.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-07-23T19:34:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23153#event-319921"
}
```



---

archive/issue_comments_347095.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@sagetrac-ibookstein](#comment:24):\n> I'm not very well acquainted with the development cycle (and didn't see anything about it on the developer guide), am I supposed to merge it to develop or is that on one of the admins?\n\nthe rest is normally done by the release manager, no need to do anything at this point on your side.",
    "created_at": "2017-07-23T19:34:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347095",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@sagetrac-ibookstein](#comment:24):
> I'm not very well acquainted with the development cycle (and didn't see anything about it on the developer guide), am I supposed to merge it to develop or is that on one of the admins?

the rest is normally done by the release manager, no need to do anything at this point on your side.



---

archive/issue_events_319922.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-07-26T22:13:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23153#event-319922"
}
```



---

archive/issue_events_319923.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "823a4d2cb81a8cf79cdc154bb16734375b3df7e0",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-07-26T22:13:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23153#event-319923"
}
```



---

archive/issue_comments_347096.json:
```json
{
    "body": "Changed branch from **[u/ibookstein/gap_to_sage_ffe_conversion_bugfix](https://github.com/sagemath/sagetrac-mirror/tree/u/ibookstein/gap_to_sage_ffe_conversion_bugfix)** to **[`117599e`](https://github.com/sagemath/sagetrac-mirror/commit/117599e0987414baec6169a1b7dd337b7e681b23)**",
    "created_at": "2017-07-26T22:13:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23153#issuecomment-347096",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/ibookstein/gap_to_sage_ffe_conversion_bugfix](https://github.com/sagemath/sagetrac-mirror/tree/u/ibookstein/gap_to_sage_ffe_conversion_bugfix)** to **[`117599e`](https://github.com/sagemath/sagetrac-mirror/commit/117599e0987414baec6169a1b7dd337b7e681b23)**
