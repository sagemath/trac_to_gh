# Issue 23512: Update Dokchitser's L-function script

archive/issues_023275.json:
```json
{
    "body": "The version of Tim Dokchitser's computel script is older than the one on his website.\nThis ticket updates to the latest version.\n\nThe only change is the fix of an inequality.\n\n**Keywords:** sd87, dokchister\n\n**Branch:** [e72abf286ca4c2ab252abeb61ea8f54eda31bef4](https://github.com/sagemath/sagetrac-mirror/commit/e72abf286ca4c2ab252abeb61ea8f54eda31bef4)\n\n**Reviewer:** Edgar Costa, Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** Alex J. Best\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23512\n\n",
    "closed_at": "2017-08-05T23:27:20Z",
    "created_at": "2017-07-21T22:01:07Z",
    "labels": [
        "component: scripts",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Update Dokchitser's L-function script",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23512",
    "user": "https://github.com/alexjbest"
}
```
The version of Tim Dokchitser's computel script is older than the one on his website.
This ticket updates to the latest version.

The only change is the fix of an inequality.

**Keywords:** sd87, dokchister

**Branch:** [e72abf286ca4c2ab252abeb61ea8f54eda31bef4](https://github.com/sagemath/sagetrac-mirror/commit/e72abf286ca4c2ab252abeb61ea8f54eda31bef4)

**Reviewer:** Edgar Costa, Frédéric Chapoton

**Author:** Alex J. Best

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/23512





---

archive/issue_comments_444899.json:
```json
{
    "body": "**Branch:** [u/alexjbest/dokchitserupdate](https://github.com/sagemath/sagetrac-mirror/tree/u/alexjbest/dokchitserupdate)",
    "created_at": "2017-07-21T22:01:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444899",
    "user": "https://github.com/alexjbest"
}
```


**Branch:** [u/alexjbest/dokchitserupdate](https://github.com/sagemath/sagetrac-mirror/tree/u/alexjbest/dokchitserupdate)



---

archive/issue_comments_444900.json:
```json
{
    "body": "**Commit:** [bfc11dff7141ac967f07b574589c0c9f7026ed6d](https://github.com/sagemath/sagetrac-mirror/commit/bfc11dff7141ac967f07b574589c0c9f7026ed6d)",
    "created_at": "2017-07-21T22:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444900",
    "user": "https://github.com/alexjbest"
}
```


**Commit:** [bfc11dff7141ac967f07b574589c0c9f7026ed6d](https://github.com/sagemath/sagetrac-mirror/commit/bfc11dff7141ac967f07b574589c0c9f7026ed6d)



---

archive/issue_comments_444901.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2017-07-21T22:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444901",
    "user": "https://github.com/alexjbest"
}
```


**Changing status** from new to needs_review.



---

archive/issue_comments_444902.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfc11dff7141ac967f07b574589c0c9f7026ed6d\">bfc11df</a></td><td><code>Update dokchitser's computel script</code></td></tr></table>\n",
    "created_at": "2017-07-21T22:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444902",
    "user": "https://github.com/alexjbest"
}
```


<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfc11dff7141ac967f07b574589c0c9f7026ed6d">bfc11df</a></td><td><code>Update dokchitser's computel script</code></td></tr></table>




---

archive/issue_comments_444903.json:
```json
{
    "body": "<a id='comment:3'></a>\nI think you should add doctests showing the impact of this update",
    "created_at": "2017-07-21T22:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444903",
    "user": "https://github.com/xcaruso"
}
```


<a id='comment:3'></a>
I think you should add doctests showing the impact of this update



---

archive/issue_comments_444904.json:
```json
{
    "body": "**Reviewer:** Edgar Costa",
    "created_at": "2017-07-22T06:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444904",
    "user": "https://github.com/edgarcosta"
}
```


**Reviewer:** Edgar Costa



---

archive/issue_comments_444905.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-07-22T06:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444905",
    "user": "https://github.com/edgarcosta"
}
```


**Changing status** from needs_review to positive_review.



---

archive/issue_comments_444906.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe only difference is that the inequality\n\n```\nres > err\n```\nis replaced by \n\n```\nabs(res)>err\n```\n\n\nThe old version didn't account for the res being negative.",
    "created_at": "2017-07-22T06:28:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444906",
    "user": "https://github.com/edgarcosta"
}
```


<a id='comment:5'></a>
The only difference is that the inequality

```
res > err
```
is replaced by 

```
abs(res)>err
```


The old version didn't account for the res being negative.



---

archive/issue_comments_444907.json:
```json
{
    "body": "<a id='comment:6'></a>\nYes, I saw.\nNevertheless, I guess that you should add a doctest demonstrating that the bug this ticket is supposed to fix is indeed fixed (as far as I understand, each ticket needs to include a doctest showing its benefit). You can add it in the section TESTS like this\n\n```\n    TESTS:\n\n    Check that `trac`:23512 is fixed::\n\n        ...\n```",
    "created_at": "2017-07-22T12:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444907",
    "user": "https://github.com/xcaruso"
}
```


<a id='comment:6'></a>
Yes, I saw.
Nevertheless, I guess that you should add a doctest demonstrating that the bug this ticket is supposed to fix is indeed fixed (as far as I understand, each ticket needs to include a doctest showing its benefit). You can add it in the section TESTS like this

```
    TESTS:

    Check that `trac`:23512 is fixed::

        ...
```



---

archive/issue_comments_444908.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2017-07-22T12:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444908",
    "user": "https://github.com/xcaruso"
}
```


**Changing status** from positive_review to needs_work.



---

archive/issue_comments_444909.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ab81230f814b7e24d8f71a6abf3a85b24eb9796\">9ab8123</a></td><td><code>added doctest for dokchitser update 1.3.3->1.3.4, num_coeffs now works when spectral parameters have non-zero imaginary part, e.g. for maass forms</code></td></tr></table>\n",
    "created_at": "2017-07-23T04:46:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444909",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ab81230f814b7e24d8f71a6abf3a85b24eb9796">9ab8123</a></td><td><code>added doctest for dokchitser update 1.3.3->1.3.4, num_coeffs now works when spectral parameters have non-zero imaginary part, e.g. for maass forms</code></td></tr></table>




---

archive/issue_comments_444910.json:
```json
{
    "body": "**Changing commit** from \"[bfc11dff7141ac967f07b574589c0c9f7026ed6d](https://github.com/sagemath/sagetrac-mirror/commit/bfc11dff7141ac967f07b574589c0c9f7026ed6d)\" to \"[9ab81230f814b7e24d8f71a6abf3a85b24eb9796](https://github.com/sagemath/sagetrac-mirror/commit/9ab81230f814b7e24d8f71a6abf3a85b24eb9796)\".",
    "created_at": "2017-07-23T04:46:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444910",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[bfc11dff7141ac967f07b574589c0c9f7026ed6d](https://github.com/sagemath/sagetrac-mirror/commit/bfc11dff7141ac967f07b574589c0c9f7026ed6d)" to "[9ab81230f814b7e24d8f71a6abf3a85b24eb9796](https://github.com/sagemath/sagetrac-mirror/commit/9ab81230f814b7e24d8f71a6abf3a85b24eb9796)".



---

archive/issue_comments_444911.json:
```json
{
    "body": "<a id='comment:8'></a>\nI agree that an example is a good idea, but I couldn't find one originally!\n\nThanks to some hints from Tim Dokchitser I have now added an example that failed previous to this change:\nThe issue was with complex entries in gammaV which occur for L-functions of maass forms for example http://www.lmfdb.org/L/ModularForm/GL2/Q/Maass/4f4bf1c388aece438d000000/ , the lack of abs caused the cflength function to crash when it tried to check an inequality with a complex number.",
    "created_at": "2017-07-23T04:51:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444911",
    "user": "https://github.com/alexjbest"
}
```


<a id='comment:8'></a>
I agree that an example is a good idea, but I couldn't find one originally!

Thanks to some hints from Tim Dokchitser I have now added an example that failed previous to this change:
The issue was with complex entries in gammaV which occur for L-functions of maass forms for example http://www.lmfdb.org/L/ModularForm/GL2/Q/Maass/4f4bf1c388aece438d000000/ , the lack of abs caused the cflength function to crash when it tried to check an inequality with a complex number.



---

archive/issue_comments_444912.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2017-07-23T04:51:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444912",
    "user": "https://github.com/alexjbest"
}
```


**Changing status** from needs_work to needs_review.



---

archive/issue_comments_444913.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe added example is missing the final `::` (and this line is too long and should be broken in 2 lines)",
    "created_at": "2017-07-23T07:36:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444913",
    "user": "https://github.com/fchapoton"
}
```


<a id='comment:9'></a>
The added example is missing the final `::` (and this line is too long and should be broken in 2 lines)



---

archive/issue_comments_444914.json:
```json
{
    "body": "**Changing dependencies** from \"#22746\" to \"\".",
    "created_at": "2017-07-23T09:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444914",
    "user": "https://github.com/fchapoton"
}
```


**Changing dependencies** from "#22746" to "".



---

archive/issue_events_068556.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-07-23T09:07:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23512#event-68556"
}
```




---

archive/issue_comments_444915.json:
```json
{
    "body": "**Changing keywords** from \"sd87\" to \"sd87, dokchister\".",
    "created_at": "2017-07-23T09:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444915",
    "user": "https://github.com/fchapoton"
}
```


**Changing keywords** from "sd87" to "sd87, dokchister".



---

archive/issue_comments_444916.json:
```json
{
    "body": "<a id='comment:11'></a>\nok, I did the little changes in doc. Setting to positive.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7f14033f85cbad3d652d5c6c3774de85f753f5d\">b7f1403</a></td><td><code>Merge branch 'u/alexjbest/dokchitserupdate' into 8.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e72abf286ca4c2ab252abeb61ea8f54eda31bef4\">e72abf2</a></td><td><code>trac 23512 doc details</code></td></tr></table>\n",
    "created_at": "2017-07-23T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444916",
    "user": "https://github.com/fchapoton"
}
```


<a id='comment:11'></a>
ok, I did the little changes in doc. Setting to positive.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7f14033f85cbad3d652d5c6c3774de85f753f5d">b7f1403</a></td><td><code>Merge branch 'u/alexjbest/dokchitserupdate' into 8.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e72abf286ca4c2ab252abeb61ea8f54eda31bef4">e72abf2</a></td><td><code>trac 23512 doc details</code></td></tr></table>




---

archive/issue_comments_444917.json:
```json
{
    "body": "**Changing reviewer** from \"Edgar Costa\" to \"Fr\u00e9d\u00e9ric Chapoton\".",
    "created_at": "2017-07-23T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444917",
    "user": "https://github.com/fchapoton"
}
```


**Changing reviewer** from "Edgar Costa" to "Frédéric Chapoton".



---

archive/issue_comments_444918.json:
```json
{
    "body": "**Author:** Edgar Costa",
    "created_at": "2017-07-23T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444918",
    "user": "https://github.com/fchapoton"
}
```


**Author:** Edgar Costa



---

archive/issue_comments_444919.json:
```json
{
    "body": "**Changing branch** from \"[u/alexjbest/dokchitserupdate](https://github.com/sagemath/sagetrac-mirror/tree/u/alexjbest/dokchitserupdate)\" to \"[public/23512](https://github.com/sagemath/sagetrac-mirror/tree/public/23512)\".",
    "created_at": "2017-07-23T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444919",
    "user": "https://github.com/fchapoton"
}
```


**Changing branch** from "[u/alexjbest/dokchitserupdate](https://github.com/sagemath/sagetrac-mirror/tree/u/alexjbest/dokchitserupdate)" to "[public/23512](https://github.com/sagemath/sagetrac-mirror/tree/public/23512)".



---

archive/issue_comments_444920.json:
```json
{
    "body": "**Changing commit** from \"[9ab81230f814b7e24d8f71a6abf3a85b24eb9796](https://github.com/sagemath/sagetrac-mirror/commit/9ab81230f814b7e24d8f71a6abf3a85b24eb9796)\" to \"[e72abf286ca4c2ab252abeb61ea8f54eda31bef4](https://github.com/sagemath/sagetrac-mirror/commit/e72abf286ca4c2ab252abeb61ea8f54eda31bef4)\".",
    "created_at": "2017-07-23T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444920",
    "user": "https://github.com/fchapoton"
}
```


**Changing commit** from "[9ab81230f814b7e24d8f71a6abf3a85b24eb9796](https://github.com/sagemath/sagetrac-mirror/commit/9ab81230f814b7e24d8f71a6abf3a85b24eb9796)" to "[e72abf286ca4c2ab252abeb61ea8f54eda31bef4](https://github.com/sagemath/sagetrac-mirror/commit/e72abf286ca4c2ab252abeb61ea8f54eda31bef4)".



---

archive/issue_comments_444921.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-07-23T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444921",
    "user": "https://github.com/fchapoton"
}
```


**Changing status** from needs_review to positive_review.



---

archive/issue_comments_444922.json:
```json
{
    "body": "**Changing reviewer** from \"Fr\u00e9d\u00e9ric Chapoton\" to \"Edgar Costa, Fr\u00e9d\u00e9ric Chapoton\".",
    "created_at": "2017-07-23T19:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444922",
    "user": "https://github.com/fchapoton"
}
```


**Changing reviewer** from "Frédéric Chapoton" to "Edgar Costa, Frédéric Chapoton".



---

archive/issue_comments_444923.json:
```json
{
    "body": "**Changing author** from \"Edgar Costa\" to \"Alexander Best\".",
    "created_at": "2017-07-23T19:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444923",
    "user": "https://github.com/fchapoton"
}
```


**Changing author** from "Edgar Costa" to "Alexander Best".



---

archive/issue_events_068557.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-05T23:27:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23512#event-68557"
}
```




---

archive/issue_comments_444924.json:
```json
{
    "body": "**Changing branch** from \"[public/23512](https://github.com/sagemath/sagetrac-mirror/tree/public/23512)\" to \"[e72abf286ca4c2ab252abeb61ea8f54eda31bef4](https://github.com/sagemath/sagetrac-mirror/commit/e72abf286ca4c2ab252abeb61ea8f54eda31bef4)\".",
    "created_at": "2017-08-05T23:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444924",
    "user": "https://github.com/vbraun"
}
```


**Changing branch** from "[public/23512](https://github.com/sagemath/sagetrac-mirror/tree/public/23512)" to "[e72abf286ca4c2ab252abeb61ea8f54eda31bef4](https://github.com/sagemath/sagetrac-mirror/commit/e72abf286ca4c2ab252abeb61ea8f54eda31bef4)".



---

archive/issue_comments_444925.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2017-08-05T23:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444925",
    "user": "https://github.com/vbraun"
}
```


**Resolution:** fixed



---

archive/issue_comments_444926.json:
```json
{
    "body": "**Changing author** from \"Alexander Best\" to \"Alex J. Best\".",
    "created_at": "2017-12-08T14:49:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444926",
    "user": "https://github.com/jdemeyer"
}
```


**Changing author** from "Alexander Best" to "Alex J. Best".



---

archive/issue_comments_444927.json:
```json
{
    "body": "**Changing commit** from \"[e72abf286ca4c2ab252abeb61ea8f54eda31bef4](https://github.com/sagemath/sagetrac-mirror/commit/e72abf286ca4c2ab252abeb61ea8f54eda31bef4)\" to \"\".",
    "created_at": "2017-12-08T14:49:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-444927",
    "user": "https://github.com/jdemeyer"
}
```


**Changing commit** from "[e72abf286ca4c2ab252abeb61ea8f54eda31bef4](https://github.com/sagemath/sagetrac-mirror/commit/e72abf286ca4c2ab252abeb61ea8f54eda31bef4)" to "".
