# Issue 23512: Update Dokchitser's L-function script

archive/issues_023275.json:
```json
{
    "body": "Keywords: sd87, dokchister\n\nThe version of Tim Dokchitser's computel script is older than the one on his website.\nThis ticket updates to the latest version.\n\nThe only change is the fix of an inequality.\n\nIssue created by migration from https://trac.sagemath.org/ticket/23512\n\n",
    "closed_at": "2017-08-05T23:27:20Z",
    "created_at": "2017-07-21T22:01:07Z",
    "labels": [
        "component: scripts",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Update Dokchitser's L-function script",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23512",
    "user": "https://github.com/alexjbest"
}
```
Keywords: sd87, dokchister

The version of Tim Dokchitser's computel script is older than the one on his website.
This ticket updates to the latest version.

The only change is the fix of an inequality.

Issue created by migration from https://trac.sagemath.org/ticket/23512





---

archive/issue_comments_325357.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-07-21T22:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325357",
    "user": "https://github.com/alexjbest"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_325358.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-21T22:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325358",
    "user": "https://github.com/alexjbest"
}
```

New commits:



---

archive/issue_comments_325359.json:
```json
{
    "body": "I think you should add doctests showing the impact of this update",
    "created_at": "2017-07-21T22:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325359",
    "user": "https://github.com/xcaruso"
}
```

I think you should add doctests showing the impact of this update



---

archive/issue_comments_325360.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-07-22T06:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325360",
    "user": "https://github.com/edgarcosta"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_325361.json:
```json
{
    "body": "The only difference is that the inequality\n\n```\nres > err\n```\nis replaced by \n\n```\nabs(res)>err\n```\n\n\nThe old version didn't account for the res being negative.",
    "created_at": "2017-07-22T06:28:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325361",
    "user": "https://github.com/edgarcosta"
}
```

The only difference is that the inequality

```
res > err
```
is replaced by 

```
abs(res)>err
```


The old version didn't account for the res being negative.



---

archive/issue_comments_325362.json:
```json
{
    "body": "Yes, I saw.\nNevertheless, I guess that you should add a doctest demonstrating that the bug this ticket is supposed to fix is indeed fixed (as far as I understand, each ticket needs to include a doctest showing its benefit). You can add it in the section TESTS like this\n\n```\n    TESTS:\n\n    Check that `trac`:23512 is fixed::\n\n        ...\n```",
    "created_at": "2017-07-22T12:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325362",
    "user": "https://github.com/xcaruso"
}
```

Yes, I saw.
Nevertheless, I guess that you should add a doctest demonstrating that the bug this ticket is supposed to fix is indeed fixed (as far as I understand, each ticket needs to include a doctest showing its benefit). You can add it in the section TESTS like this

```
    TESTS:

    Check that `trac`:23512 is fixed::

        ...
```



---

archive/issue_comments_325363.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-07-22T12:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325363",
    "user": "https://github.com/xcaruso"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_325364.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-23T04:46:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325364",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_325365.json:
```json
{
    "body": "I agree that an example is a good idea, but I couldn't find one originally!\n\nThanks to some hints from Tim Dokchitser I have now added an example that failed previous to this change:\nThe issue was with complex entries in gammaV which occur for L-functions of maass forms for example http://www.lmfdb.org/L/ModularForm/GL2/Q/Maass/4f4bf1c388aece438d000000/ , the lack of abs caused the cflength function to crash when it tried to check an inequality with a complex number.",
    "created_at": "2017-07-23T04:51:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325365",
    "user": "https://github.com/alexjbest"
}
```

I agree that an example is a good idea, but I couldn't find one originally!

Thanks to some hints from Tim Dokchitser I have now added an example that failed previous to this change:
The issue was with complex entries in gammaV which occur for L-functions of maass forms for example http://www.lmfdb.org/L/ModularForm/GL2/Q/Maass/4f4bf1c388aece438d000000/ , the lack of abs caused the cflength function to crash when it tried to check an inequality with a complex number.



---

archive/issue_comments_325366.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-07-23T04:51:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325366",
    "user": "https://github.com/alexjbest"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_325367.json:
```json
{
    "body": "The added example is missing the final `::` (and this line is too long and should be broken in 2 lines)",
    "created_at": "2017-07-23T07:36:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325367",
    "user": "https://github.com/fchapoton"
}
```

The added example is missing the final `::` (and this line is too long and should be broken in 2 lines)



---

archive/issue_events_060289.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-07-23T09:07:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23512#event-60289"
}
```



---

archive/issue_comments_325368.json:
```json
{
    "body": "Changing keywords from \"sd87\" to \"sd87, dokchister\".",
    "created_at": "2017-07-23T09:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325368",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "sd87" to "sd87, dokchister".



---

archive/issue_comments_325369.json:
```json
{
    "body": "ok, I did the little changes in doc. Setting to positive.\n\n---\nNew commits:",
    "created_at": "2017-07-23T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325369",
    "user": "https://github.com/fchapoton"
}
```

ok, I did the little changes in doc. Setting to positive.

---
New commits:



---

archive/issue_comments_325370.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-07-23T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325370",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_060290.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-05T23:27:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23512#event-60290"
}
```



---

archive/issue_comments_325371.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-08-05T23:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-325371",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
