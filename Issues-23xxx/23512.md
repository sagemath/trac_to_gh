# Issue 23512: Update Dokchitser's L-function script

archive/issues_023275.json:
```json
{
    "body": "The version of Tim Dokchitser's computel script is older than the one on his website.\nThis ticket updates to the latest version.\n\nThe only change is the fix of an inequality.\n\nKeywords: sd87, dokchister\n\nReviewer: Edgar Costa, Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Alex J. Best\n\nBranch: e72abf286ca4c2ab252abeb61ea8f54eda31bef4\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23512\n\n",
    "closed_at": "2017-08-05T23:27:20Z",
    "created_at": "2017-07-21T22:01:07Z",
    "labels": [
        "component: scripts",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Update Dokchitser's L-function script",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23512",
    "user": "https://github.com/alexjbest"
}
```
The version of Tim Dokchitser's computel script is older than the one on his website.
This ticket updates to the latest version.

The only change is the fix of an inequality.

Keywords: sd87, dokchister

Reviewer: Edgar Costa, Frédéric Chapoton

Author: Alex J. Best

Branch: e72abf286ca4c2ab252abeb61ea8f54eda31bef4

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23512





---

archive/issue_comments_442489.json:
```json
{
    "body": "Changing branch from \"\" to \"u/alexjbest/dokchitserupdate\"",
    "created_at": "2017-07-21T22:01:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442489",
    "user": "https://github.com/alexjbest"
}
```

Changing branch from "" to "u/alexjbest/dokchitserupdate"



---

archive/issue_comments_442490.json:
```json
{
    "body": "Changing commit from \"\" to \"bfc11dff7141ac967f07b574589c0c9f7026ed6d\"",
    "created_at": "2017-07-21T22:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442490",
    "user": "https://github.com/alexjbest"
}
```

Changing commit from "" to "bfc11dff7141ac967f07b574589c0c9f7026ed6d"



---

archive/issue_comments_442491.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-07-21T22:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442491",
    "user": "https://github.com/alexjbest"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_442492.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[bfc11df](https://git.sagemath.org/sage.git/commit?id=bfc11dff7141ac967f07b574589c0c9f7026ed6d)|`Update dokchitser's computel script`|",
    "created_at": "2017-07-21T22:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442492",
    "user": "https://github.com/alexjbest"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[bfc11df](https://git.sagemath.org/sage.git/commit?id=bfc11dff7141ac967f07b574589c0c9f7026ed6d)|`Update dokchitser's computel script`|



---

archive/issue_comments_442493.json:
```json
{
    "body": "<a id='comment:3'></a>\nI think you should add doctests showing the impact of this update",
    "created_at": "2017-07-21T22:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442493",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:3'></a>
I think you should add doctests showing the impact of this update



---

archive/issue_comments_442494.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Edgar Costa\"",
    "created_at": "2017-07-22T06:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442494",
    "user": "https://github.com/edgarcosta"
}
```

Changing reviewer from "" to "Edgar Costa"



---

archive/issue_comments_442495.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-07-22T06:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442495",
    "user": "https://github.com/edgarcosta"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_442496.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe only difference is that the inequality\n\n```\nres > err\n```\nis replaced by \n\n```\nabs(res)>err\n```\n\n\nThe old version didn't account for the res being negative.",
    "created_at": "2017-07-22T06:28:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442496",
    "user": "https://github.com/edgarcosta"
}
```

<a id='comment:5'></a>
The only difference is that the inequality

```
res > err
```
is replaced by 

```
abs(res)>err
```


The old version didn't account for the res being negative.



---

archive/issue_comments_442497.json:
```json
{
    "body": "<a id='comment:6'></a>\nYes, I saw.\nNevertheless, I guess that you should add a doctest demonstrating that the bug this ticket is supposed to fix is indeed fixed (as far as I understand, each ticket needs to include a doctest showing its benefit). You can add it in the section TESTS like this\n\n```\n    TESTS:\n\n    Check that `trac`:23512 is fixed::\n\n        ...\n```",
    "created_at": "2017-07-22T12:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442497",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:6'></a>
Yes, I saw.
Nevertheless, I guess that you should add a doctest demonstrating that the bug this ticket is supposed to fix is indeed fixed (as far as I understand, each ticket needs to include a doctest showing its benefit). You can add it in the section TESTS like this

```
    TESTS:

    Check that `trac`:23512 is fixed::

        ...
```



---

archive/issue_comments_442498.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-07-22T12:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442498",
    "user": "https://github.com/xcaruso"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_442499.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|\n|[9ab8123](https://git.sagemath.org/sage.git/commit/?id=9ab81230f814b7e24d8f71a6abf3a85b24eb9796)|`added doctest for dokchitser update 1.3.3->1.3.4, num_coeffs now works when spectral parameters have non-zero imaginary part, e.g. for maass forms`|",
    "created_at": "2017-07-23T04:46:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442499",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|
|[9ab8123](https://git.sagemath.org/sage.git/commit/?id=9ab81230f814b7e24d8f71a6abf3a85b24eb9796)|`added doctest for dokchitser update 1.3.3->1.3.4, num_coeffs now works when spectral parameters have non-zero imaginary part, e.g. for maass forms`|



---

archive/issue_comments_442500.json:
```json
{
    "body": "Changing commit from \"bfc11dff7141ac967f07b574589c0c9f7026ed6d\" to \"9ab81230f814b7e24d8f71a6abf3a85b24eb9796\"",
    "created_at": "2017-07-23T04:46:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442500",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bfc11dff7141ac967f07b574589c0c9f7026ed6d" to "9ab81230f814b7e24d8f71a6abf3a85b24eb9796"



---

archive/issue_comments_442501.json:
```json
{
    "body": "<a id='comment:8'></a>\nI agree that an example is a good idea, but I couldn't find one originally!\n\nThanks to some hints from Tim Dokchitser I have now added an example that failed previous to this change:\nThe issue was with complex entries in gammaV which occur for L-functions of maass forms for example http://www.lmfdb.org/L/ModularForm/GL2/Q/Maass/4f4bf1c388aece438d000000/ , the lack of abs caused the cflength function to crash when it tried to check an inequality with a complex number.",
    "created_at": "2017-07-23T04:51:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442501",
    "user": "https://github.com/alexjbest"
}
```

<a id='comment:8'></a>
I agree that an example is a good idea, but I couldn't find one originally!

Thanks to some hints from Tim Dokchitser I have now added an example that failed previous to this change:
The issue was with complex entries in gammaV which occur for L-functions of maass forms for example http://www.lmfdb.org/L/ModularForm/GL2/Q/Maass/4f4bf1c388aece438d000000/ , the lack of abs caused the cflength function to crash when it tried to check an inequality with a complex number.



---

archive/issue_comments_442502.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-07-23T04:51:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442502",
    "user": "https://github.com/alexjbest"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_442503.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe added example is missing the final `::` (and this line is too long and should be broken in 2 lines)",
    "created_at": "2017-07-23T07:36:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442503",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
The added example is missing the final `::` (and this line is too long and should be broken in 2 lines)



---

archive/issue_comments_442504.json:
```json
{
    "body": "Changing dependencies from \"#22746\" to \"\"",
    "created_at": "2017-07-23T09:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442504",
    "user": "https://github.com/fchapoton"
}
```

Changing dependencies from "#22746" to ""



---

archive/issue_events_060289.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-07-23T09:07:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23512#event-60289"
}
```



---

archive/issue_comments_442505.json:
```json
{
    "body": "Changing keywords from \"sd87\" to \"sd87, dokchister\".",
    "created_at": "2017-07-23T09:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442505",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "sd87" to "sd87, dokchister".



---

archive/issue_comments_442506.json:
```json
{
    "body": "<a id='comment:11'></a>\nok, I did the little changes in doc. Setting to positive.\n\n---\nNew commits:\n|                                                                                                                                          |                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[b7f1403](https://git.sagemath.org/sage.git/commit?id=b7f14033f85cbad3d652d5c6c3774de85f753f5d)|`Merge branch 'u/alexjbest/dokchitserupdate' into 8.0`|\n|[e72abf2](https://git.sagemath.org/sage.git/commit?id=e72abf286ca4c2ab252abeb61ea8f54eda31bef4)|`trac 23512 doc details`|",
    "created_at": "2017-07-23T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442506",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
ok, I did the little changes in doc. Setting to positive.

---
New commits:
|                                                                                                                                          |                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[b7f1403](https://git.sagemath.org/sage.git/commit?id=b7f14033f85cbad3d652d5c6c3774de85f753f5d)|`Merge branch 'u/alexjbest/dokchitserupdate' into 8.0`|
|[e72abf2](https://git.sagemath.org/sage.git/commit?id=e72abf286ca4c2ab252abeb61ea8f54eda31bef4)|`trac 23512 doc details`|



---

archive/issue_comments_442507.json:
```json
{
    "body": "Changing reviewer from \"Edgar Costa\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2017-07-23T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442507",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "Edgar Costa" to "Frédéric Chapoton"



---

archive/issue_comments_442508.json:
```json
{
    "body": "Changing author from \"\" to \"Edgar Costa\"",
    "created_at": "2017-07-23T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442508",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "" to "Edgar Costa"



---

archive/issue_comments_442509.json:
```json
{
    "body": "Changing branch from \"u/alexjbest/dokchitserupdate\" to \"public/23512\"",
    "created_at": "2017-07-23T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442509",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "u/alexjbest/dokchitserupdate" to "public/23512"



---

archive/issue_comments_442510.json:
```json
{
    "body": "Changing commit from \"9ab81230f814b7e24d8f71a6abf3a85b24eb9796\" to \"e72abf286ca4c2ab252abeb61ea8f54eda31bef4\"",
    "created_at": "2017-07-23T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442510",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "9ab81230f814b7e24d8f71a6abf3a85b24eb9796" to "e72abf286ca4c2ab252abeb61ea8f54eda31bef4"



---

archive/issue_comments_442511.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-07-23T19:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442511",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_442512.json:
```json
{
    "body": "Changing reviewer from \"Fr\u00e9d\u00e9ric Chapoton\" to \"Edgar Costa, Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2017-07-23T19:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442512",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "Frédéric Chapoton" to "Edgar Costa, Frédéric Chapoton"



---

archive/issue_comments_442513.json:
```json
{
    "body": "Changing author from \"Edgar Costa\" to \"Alexander Best\"",
    "created_at": "2017-07-23T19:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442513",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "Edgar Costa" to "Alexander Best"



---

archive/issue_events_060290.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-05T23:27:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23512#event-60290"
}
```



---

archive/issue_comments_442514.json:
```json
{
    "body": "Changing branch from \"public/23512\" to \"e72abf286ca4c2ab252abeb61ea8f54eda31bef4\"",
    "created_at": "2017-08-05T23:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442514",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/23512" to "e72abf286ca4c2ab252abeb61ea8f54eda31bef4"



---

archive/issue_comments_442515.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-08-05T23:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442515",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_442516.json:
```json
{
    "body": "Changing author from \"Alexander Best\" to \"Alex J. Best\"",
    "created_at": "2017-12-08T14:49:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442516",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "Alexander Best" to "Alex J. Best"



---

archive/issue_comments_442517.json:
```json
{
    "body": "Changing commit from \"e72abf286ca4c2ab252abeb61ea8f54eda31bef4\" to \"\"",
    "created_at": "2017-12-08T14:49:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23512#issuecomment-442517",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "e72abf286ca4c2ab252abeb61ea8f54eda31bef4" to ""
