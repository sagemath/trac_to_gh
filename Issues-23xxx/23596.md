# Issue 23596: Update GLPK to 4.63

archive/issues_023359.json:
```json
{
    "body": "Routine upgrade glpk 4.61 and over break a debugging doctest as a source file has changed location and name.\n\ntarball: [http://sagetrac.lipn.univ-paris13.fr/sage/glpk-4.63.tar.bz2](http://sagetrac.lipn.univ-paris13.fr/sage/glpk-4.63.tar.bz2)\n\nCC:  @dcoudert\n\nBranch/Commit: a6e1d232142c8e7c6a2746ec64c04793b9e763ec\n\nReviewer: Jeroen Demeyer\n\nAuthor: Fran\u00e7ois Bissey\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23596\n\n",
    "closed_at": "2017-09-10T22:06:08Z",
    "created_at": "2017-08-08T01:56:38Z",
    "labels": [
        "component: packages: standard",
        "blocker"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Update GLPK to 4.63",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23596",
    "user": "https://github.com/kiwifb"
}
```
Routine upgrade glpk 4.61 and over break a debugging doctest as a source file has changed location and name.

tarball: [http://sagetrac.lipn.univ-paris13.fr/sage/glpk-4.63.tar.bz2](http://sagetrac.lipn.univ-paris13.fr/sage/glpk-4.63.tar.bz2)

CC:  @dcoudert

Branch/Commit: a6e1d232142c8e7c6a2746ec64c04793b9e763ec

Reviewer: Jeroen Demeyer

Author: Fran√ßois Bissey

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23596





---

archive/issue_comments_347985.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2017-08-08T02:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347985",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_347986.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-08-08T02:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347986",
    "user": "https://github.com/kiwifb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_347987.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Routine upgrade glpk 4.61 and over break a debugging doctest as a source file has changed location and name.\n \n-tarball: [https://ftp.gnu.org/gnu/glpk/glpk-4.63.tar.gz](https://ftp.gnu.org/gnu/glpk/glpk-4.63.tar.gz)\n+tarball: [http://sagetrac.lipn.univ-paris13.fr/sage/glpk-4.63.tar.bz2](http://sagetrac.lipn.univ-paris13.fr/sage/glpk-4.63.tar.bz2)\n \n Comment: 1\n \n``````\n",
    "created_at": "2017-08-08T02:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347987",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Routine upgrade glpk 4.61 and over break a debugging doctest as a source file has changed location and name.
 
-tarball: [https://ftp.gnu.org/gnu/glpk/glpk-4.63.tar.gz](https://ftp.gnu.org/gnu/glpk/glpk-4.63.tar.gz)
+tarball: [http://sagetrac.lipn.univ-paris13.fr/sage/glpk-4.63.tar.bz2](http://sagetrac.lipn.univ-paris13.fr/sage/glpk-4.63.tar.bz2)
 
 Comment: 1
 
``````




---

archive/issue_comments_347988.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-08T19:50:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347988",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_347989.json:
```json
{
    "body": "<a id='comment:4'></a>There is something strange happening when re-installing GLPK 4.60 (the current version in Sage) after installing 4.63. The libraries look like this:\n\n```\nlrwxrwxrwx 1 jdemeyer jdemeyer      17 Aug 11 14:19 local/lib/libglpk.so -> libglpk.so.40.1.0\nlrwxrwxrwx 1 jdemeyer jdemeyer      17 Aug 11 14:19 local/lib/libglpk.so.40 -> libglpk.so.40.2.2\n-rwxr-xr-x 1 jdemeyer jdemeyer 3592384 Aug 11 14:19 local/lib/libglpk.so.40.1.0\n-rwxr-xr-x 1 jdemeyer jdemeyer 3626448 Aug  8 20:45 local/lib/libglpk.so.40.2.2\n```\nNote how both versions are installed and how `local/lib/libglpk.so.40` points to the *new* version instead of the old.\n\nThis leads to doctest failures because the *new* version is still used by Sage.\n\nSince this might mask other problems, I am unsetting positive_review until this is clarified.",
    "created_at": "2017-08-11T13:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347989",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>There is something strange happening when re-installing GLPK 4.60 (the current version in Sage) after installing 4.63. The libraries look like this:

```
lrwxrwxrwx 1 jdemeyer jdemeyer      17 Aug 11 14:19 local/lib/libglpk.so -> libglpk.so.40.1.0
lrwxrwxrwx 1 jdemeyer jdemeyer      17 Aug 11 14:19 local/lib/libglpk.so.40 -> libglpk.so.40.2.2
-rwxr-xr-x 1 jdemeyer jdemeyer 3592384 Aug 11 14:19 local/lib/libglpk.so.40.1.0
-rwxr-xr-x 1 jdemeyer jdemeyer 3626448 Aug  8 20:45 local/lib/libglpk.so.40.2.2
```
Note how both versions are installed and how `local/lib/libglpk.so.40` points to the *new* version instead of the old.

This leads to doctest failures because the *new* version is still used by Sage.

Since this might mask other problems, I am unsetting positive_review until this is clarified.



---

archive/issue_comments_347990.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2017-08-11T13:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347990",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_347991.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-08-11T18:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347991",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_060443.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-11T18:17:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23596#event-60443"
}
```



---

archive/issue_comments_347992.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2017-08-11T18:19:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347992",
    "user": "https://github.com/vbraun"
}
```

Changing status from closed to new.



---

archive/issue_events_060444.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-11T18:19:27Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23596#event-60444"
}
```



---

archive/issue_comments_347993.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2017-08-11T18:19:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347993",
    "user": "https://github.com/vbraun"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_347994.json:
```json
{
    "body": "<a id='comment:7'></a>Yes, this is curious. Is there anything interesting in your log of glpk-4.60 when you downgrade? It may be a quirk from libtool, but we can deal with that with a removal of old libraries first.",
    "created_at": "2017-08-11T20:25:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347994",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:7'></a>Yes, this is curious. Is there anything interesting in your log of glpk-4.60 when you downgrade? It may be a quirk from libtool, but we can deal with that with a removal of old libraries first.



---

archive/issue_comments_347995.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:7 fbissey]:\n> we can deal with that with a removal of old libraries first.\n\n\nNot quite, we cannot retroactively patch the current version of GLPK.",
    "created_at": "2017-08-11T21:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347995",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>Replying to [comment:7 fbissey]:
> we can deal with that with a removal of old libraries first.


Not quite, we cannot retroactively patch the current version of GLPK.



---

archive/issue_comments_347996.json:
```json
{
    "body": "<a id='comment:9'></a>We don't really make any promises about downgrades, so I wouldn't be overly concerned...",
    "created_at": "2017-08-11T22:11:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347996",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:9'></a>We don't really make any promises about downgrades, so I wouldn't be overly concerned...



---

archive/issue_comments_347997.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:8 jdemeyer]:\n> Replying to [comment:7 fbissey]:\n> > we can deal with that with a removal of old libraries first.\n\n> \n> Not quite, we cannot retroactively patch the current version of GLPK.\n\n\nRight. I didn't think of that obviously. Anything interesting in the log saying the linking failed?",
    "created_at": "2017-08-11T22:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347997",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:10'></a>Replying to [comment:8 jdemeyer]:
> Replying to [comment:7 fbissey]:
> > we can deal with that with a removal of old libraries first.

> 
> Not quite, we cannot retroactively patch the current version of GLPK.


Right. I didn't think of that obviously. Anything interesting in the log saying the linking failed?



---

archive/issue_comments_347998.json:
```json
{
    "body": "<a id='comment:11'></a>OK, I can reproduce the issue and it is weird.\n\n```\n[glpk-4.60.p0] libtool: install: (cd /home/fbissey/sandbox/git-fork/sage/local/lib && { ln -s -f libglpk.so.40.1.0 libglpk.so.40 || { rm -f libglpk.so.40 && ln -s libglpk.so.40.1.0 libglpk.so.40; }; })\n[glpk-4.60.p0] libtool: install: (cd /home/fbissey/sandbox/git-fork/sage/local/lib && { ln -s -f libglpk.so.40.1.0 libglpk.so || { rm -f libglpk.so && ln -s libglpk.so.40.1.0 libglpk.so; }; })\n```\nSo the first operation silently fails but the second one succeeds. In fact I would say the first one is not executed.",
    "created_at": "2017-08-14T00:22:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347998",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:11'></a>OK, I can reproduce the issue and it is weird.

```
[glpk-4.60.p0] libtool: install: (cd /home/fbissey/sandbox/git-fork/sage/local/lib && { ln -s -f libglpk.so.40.1.0 libglpk.so.40 || { rm -f libglpk.so.40 && ln -s libglpk.so.40.1.0 libglpk.so.40; }; })
[glpk-4.60.p0] libtool: install: (cd /home/fbissey/sandbox/git-fork/sage/local/lib && { ln -s -f libglpk.so.40.1.0 libglpk.so || { rm -f libglpk.so && ln -s libglpk.so.40.1.0 libglpk.so; }; })
```
So the first operation silently fails but the second one succeeds. In fact I would say the first one is not executed.



---

archive/issue_comments_347999.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:8 jdemeyer]:\n> Replying to [comment:7 fbissey]:\n> > we can deal with that with a removal of old libraries first.\n\n> \n> Not quite, we cannot retroactively patch the current version of GLPK.\n\n\nGoing back to this one. We cannot make `glpk-4.60` behave retro-actively. But we can prevent the problem to happen again in the future.\n\nI have suspicions other libtool packages may behave the same way. Apart from future proofing at the spkg level, Erik's work in #22509 is probably the only thing that will enable a working downgrade path for that case. Again all this is for future improvements.",
    "created_at": "2017-08-14T01:54:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-347999",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'></a>Replying to [comment:8 jdemeyer]:
> Replying to [comment:7 fbissey]:
> > we can deal with that with a removal of old libraries first.

> 
> Not quite, we cannot retroactively patch the current version of GLPK.


Going back to this one. We cannot make `glpk-4.60` behave retro-actively. But we can prevent the problem to happen again in the future.

I have suspicions other libtool packages may behave the same way. Apart from future proofing at the spkg level, Erik's work in #22509 is probably the only thing that will enable a working downgrade path for that case. Again all this is for future improvements.



---

archive/issue_comments_348000.json:
```json
{
    "body": "<a id='comment:13'></a>`@`Jeroen: As I said I don't think we can fix the downgrade to 4.60[1]. I added a commit to remove old libraries, so that problem won't happen after glpk 4.63.\n\n[1] All right, we could push a 4.60.p1 and then upgrade. But I don't think that's worth the extra work.\n\n---\nNew commits:",
    "created_at": "2017-08-20T22:58:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348000",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:13'></a>`@`Jeroen: As I said I don't think we can fix the downgrade to 4.60[1]. I added a commit to remove old libraries, so that problem won't happen after glpk 4.63.

[1] All right, we could push a 4.60.p1 and then upgrade. But I don't think that's worth the extra work.

---
New commits:



---

archive/issue_comments_348001.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-08-20T22:58:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348001",
    "user": "https://github.com/kiwifb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_348002.json:
```json
{
    "body": "<a id='comment:14'></a>I think we can live without going back to 4.60.",
    "created_at": "2017-08-21T16:59:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348002",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:14'></a>I think we can live without going back to 4.60.



---

archive/issue_comments_348003.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-21T16:59:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348003",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_348004.json:
```json
{
    "body": "<a id='comment:15'></a>By the way were our patches ever forwarded upstream?\nI think I tried but don't remember what happened.",
    "created_at": "2017-08-21T17:02:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348004",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:15'></a>By the way were our patches ever forwarded upstream?
I think I tried but don't remember what happened.



---

archive/issue_comments_348005.json:
```json
{
    "body": "<a id='comment:16'></a>Replying to [comment:14 jpflori]:\n> I think we can live without going back to 4.60.\n\n\nOf course. My concern wasn't particularly about 4.60, but there might be a general problem which would occur for every version.",
    "created_at": "2017-08-21T19:25:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348005",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>Replying to [comment:14 jpflori]:
> I think we can live without going back to 4.60.


Of course. My concern wasn't particularly about 4.60, but there might be a general problem which would occur for every version.



---

archive/issue_comments_348006.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [comment:15 jpflori]:\n> By the way were our patches ever forwarded upstream?\n\n\n`error_recovery.patch` was forwarded upstream but rejected.",
    "created_at": "2017-08-21T19:26:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348006",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>Replying to [comment:15 jpflori]:
> By the way were our patches ever forwarded upstream?


`error_recovery.patch` was forwarded upstream but rejected.



---

archive/issue_events_060445.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-26T09:57:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23596#event-60445"
}
```



---

archive/issue_comments_348007.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-08-26T09:57:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348007",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_348008.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2017-09-04T06:07:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348008",
    "user": "https://github.com/vbraun"
}
```

Changing status from closed to new.



---

archive/issue_events_060446.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-04T06:07:52Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23596#event-60446"
}
```



---

archive/issue_comments_348009.json:
```json
{
    "body": "<a id='comment:19'></a>I'm getting crashes on 32-bit...",
    "created_at": "2017-09-04T06:07:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348009",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:19'></a>I'm getting crashes on 32-bit...



---

archive/issue_comments_348010.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2017-09-04T06:07:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348010",
    "user": "https://github.com/vbraun"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_348011.json:
```json
{
    "body": "<a id='comment:20'></a>Also, with SAGE_DEBUG=yes \n\n```\n**********************************************************************\nFile \"src/sage/numerical/backends/glpk_backend.pyx\", line 544, in sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint\nFailed example:\n    q.add_constraint(p.new_variable()[0] <= 1)\nExpected:\n    Traceback (most recent call last):\n    ...\n    GLPKError: glp_set_mat_row: i = 1; len = 1; invalid row length\n    Error detected in file glpapi01.c at line ...\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 515, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 885, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint[10]>\", line 1, in <module>\n        q.add_constraint(p.new_variable()[Integer(0)] <= Integer(1))\n      File \"sage/numerical/mip.pyx\", line 1816, in sage.numerical.mip.MixedIntegerLinearProgram.add_constraint (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/mip.c:13640)\n        self.add_constraint(lhs-rhs, max=0, name=name)\n      File \"sage/numerical/mip.pyx\", line 1804, in sage.numerical.mip.MixedIntegerLinearProgram.add_constraint (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/mip.c:13065)\n        self._backend.add_linear_constraint(constraint.items(), min, max, name)\n      File \"sage/numerical/backends/glpk_backend.pyx\", line 569, in sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/glpk_backend.c:6697)\n        sig_on()\n    GLPKError: glp_set_mat_row: i = 1; len = 1; invalid row length \n    Error detected in file api/prob1.c at line 763\n**********************************************************************\n1 item had failures:\n   1 of  12 in sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint\n    [535 tests, 1 failure, 4.87 s]\n```",
    "created_at": "2017-09-04T06:09:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348011",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:20'></a>Also, with SAGE_DEBUG=yes 

```
**********************************************************************
File "src/sage/numerical/backends/glpk_backend.pyx", line 544, in sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint
Failed example:
    q.add_constraint(p.new_variable()[0] <= 1)
Expected:
    Traceback (most recent call last):
    ...
    GLPKError: glp_set_mat_row: i = 1; len = 1; invalid row length
    Error detected in file glpapi01.c at line ...
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 515, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 885, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint[10]>", line 1, in <module>
        q.add_constraint(p.new_variable()[Integer(0)] <= Integer(1))
      File "sage/numerical/mip.pyx", line 1816, in sage.numerical.mip.MixedIntegerLinearProgram.add_constraint (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/mip.c:13640)
        self.add_constraint(lhs-rhs, max=0, name=name)
      File "sage/numerical/mip.pyx", line 1804, in sage.numerical.mip.MixedIntegerLinearProgram.add_constraint (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/mip.c:13065)
        self._backend.add_linear_constraint(constraint.items(), min, max, name)
      File "sage/numerical/backends/glpk_backend.pyx", line 569, in sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/glpk_backend.c:6697)
        sig_on()
    GLPKError: glp_set_mat_row: i = 1; len = 1; invalid row length 
    Error detected in file api/prob1.c at line 763
**********************************************************************
1 item had failures:
   1 of  12 in sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint
    [535 tests, 1 failure, 4.87 s]
```



---

archive/issue_comments_348012.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:20 vbraun]:\n> Also, with SAGE_DEBUG=yes \n> \n> ```\n> **********************************************************************\n> File \"src/sage/numerical/backends/glpk_backend.pyx\", line 544, in sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint\n> Failed example:\n>     q.add_constraint(p.new_variable()[0] <= 1)\n> Expected:\n>     Traceback (most recent call last):\n>     ...\n>     GLPKError: glp_set_mat_row: i = 1; len = 1; invalid row length\n>     Error detected in file glpapi01.c at line ...\n> Got:\n>     <BLANKLINE>\n>     Traceback (most recent call last):\n>       File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 515, in _run\n>         self.compile_and_execute(example, compiler, test.globs)\n>       File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 885, in compile_and_execute\n>         exec(compiled, globs)\n>       File \"<doctest sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint[10]>\", line 1, in <module>\n>         q.add_constraint(p.new_variable()[Integer(0)] <= Integer(1))\n>       File \"sage/numerical/mip.pyx\", line 1816, in sage.numerical.mip.MixedIntegerLinearProgram.add_constraint (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/mip.c:13640)\n>         self.add_constraint(lhs-rhs, max=0, name=name)\n>       File \"sage/numerical/mip.pyx\", line 1804, in sage.numerical.mip.MixedIntegerLinearProgram.add_constraint (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/mip.c:13065)\n>         self._backend.add_linear_constraint(constraint.items(), min, max, name)\n>       File \"sage/numerical/backends/glpk_backend.pyx\", line 569, in sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/glpk_backend.c:6697)\n>         sig_on()\n>     GLPKError: glp_set_mat_row: i = 1; len = 1; invalid row length \n>     Error detected in file api/prob1.c at line 763\n> **********************************************************************\n> 1 item had failures:\n>    1 of  12 in sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint\n>     [535 tests, 1 failure, 4.87 s]\n> ```\n\n\nThat's the error you would get if the patch to `sage/numerical/backends/glpk_backend.pyx` is not applied. So for that one at least, it looks like something didn't apply cleanly. \n\nCould we have some access to errors on 32bits?",
    "created_at": "2017-09-04T06:39:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348012",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:21'></a>Replying to [comment:20 vbraun]:
> Also, with SAGE_DEBUG=yes 
> 
> ```
> **********************************************************************
> File "src/sage/numerical/backends/glpk_backend.pyx", line 544, in sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint
> Failed example:
>     q.add_constraint(p.new_variable()[0] <= 1)
> Expected:
>     Traceback (most recent call last):
>     ...
>     GLPKError: glp_set_mat_row: i = 1; len = 1; invalid row length
>     Error detected in file glpapi01.c at line ...
> Got:
>     <BLANKLINE>
>     Traceback (most recent call last):
>       File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 515, in _run
>         self.compile_and_execute(example, compiler, test.globs)
>       File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 885, in compile_and_execute
>         exec(compiled, globs)
>       File "<doctest sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint[10]>", line 1, in <module>
>         q.add_constraint(p.new_variable()[Integer(0)] <= Integer(1))
>       File "sage/numerical/mip.pyx", line 1816, in sage.numerical.mip.MixedIntegerLinearProgram.add_constraint (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/mip.c:13640)
>         self.add_constraint(lhs-rhs, max=0, name=name)
>       File "sage/numerical/mip.pyx", line 1804, in sage.numerical.mip.MixedIntegerLinearProgram.add_constraint (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/mip.c:13065)
>         self._backend.add_linear_constraint(constraint.items(), min, max, name)
>       File "sage/numerical/backends/glpk_backend.pyx", line 569, in sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/glpk_backend.c:6697)
>         sig_on()
>     GLPKError: glp_set_mat_row: i = 1; len = 1; invalid row length 
>     Error detected in file api/prob1.c at line 763
> **********************************************************************
> 1 item had failures:
>    1 of  12 in sage.numerical.backends.glpk_backend.GLPKBackend.add_linear_constraint
>     [535 tests, 1 failure, 4.87 s]
> ```


That's the error you would get if the patch to `sage/numerical/backends/glpk_backend.pyx` is not applied. So for that one at least, it looks like something didn't apply cleanly. 

Could we have some access to errors on 32bits?



---

archive/issue_comments_348013.json:
```json
{
    "body": "<a id='comment:22'></a>I'm doing a 32bit build now. But I agree that in [comment:20] something went wrong in applying this branch. Or possibly, you weren't trying to test this branch at all and you are hitting [comment:4].",
    "created_at": "2017-09-04T09:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348013",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>I'm doing a 32bit build now. But I agree that in [comment:20] something went wrong in applying this branch. Or possibly, you weren't trying to test this branch at all and you are hitting [comment:4].



---

archive/issue_comments_348014.json:
```json
{
    "body": "<a id='comment:23'></a>Yes, thats probably whats going on in :comment:20 \n\nBut the 32-issue is real, I just don't have the logs any more as the buildbot ran out of disks space",
    "created_at": "2017-09-04T22:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348014",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'></a>Yes, thats probably whats going on in :comment:20 

But the 32-issue is real, I just don't have the logs any more as the buildbot ran out of disks space



---

archive/issue_comments_348015.json:
```json
{
    "body": "<a id='comment:24'></a>Replying to [comment:23 vbraun]:\n> But the 32-issue is real, I just don't have the logs any more as the buildbot ran out of disks space\n\n\nI cannot reproduce this on `arando` (32-bit Linux). Could you please try again, if you are running out of disk space, maybe that could explain why stuff breaks too.",
    "created_at": "2017-09-05T15:42:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348015",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'></a>Replying to [comment:23 vbraun]:
> But the 32-issue is real, I just don't have the logs any more as the buildbot ran out of disks space


I cannot reproduce this on `arando` (32-bit Linux). Could you please try again, if you are running out of disk space, maybe that could explain why stuff breaks too.



---

archive/issue_comments_348016.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-09-05T15:42:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348016",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_348017.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-09-05T15:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348017",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_348018.json:
```json
{
    "body": "<a id='comment:26'></a>\n```\nsage: g = graphs.CycleGraph(5) ## line 4750 ##\nsage: g.fractional_chromatic_index() ## line 4751 ##\n2.5\nsage: g.fractional_chromatic_index(solver=\"PPL\") ## line 4756 ##\n5/2\nsage: g = graphs.PetersenGraph() ## line 4763 ##\nsage: g.fractional_chromatic_index(solver='GLPK') ## line 4764 ##\n------------------------------------------------------------------------\n/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x44e8)[0xf6acc4e8]\n/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x455f)[0xf6acc55f]\n/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x69a7)[0xf6ace9a7]\n[0xf772ecb0]\n/home/buildbot/slave/sage_git/build/local/lib/libglpk.so.40(+0x20e89)[0xc593ce89]\n/home/buildbot/slave/sage_git/build/local/lib/libglpk.so.40(+0x2914c)[0xc594514c]\n/home/buildbot/slave/sage_git/build/local/lib/libglpk.so.40(+0x29473)[0xc5945473]\n/home/buildbot/slave/sage_git/build/local/lib/libglpk.so.40(+0x295dc)[0xc59455dc]\n/home/buildbot/slave/sage_git/build/local/lib/libglpk.so.40(glp_intopt+0x5f5)[0xc59258a5]\n/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/numerical/backends/glpk_backend.so(+0x127d5)[0xc60c97d5]\n/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/numerical/mip.so(+0xcbf7)[0xcb7e4bf7]\n/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyCFunction_Call+0x109)[0xf75c7299]\n/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x9089)[0xf76357d9]\n/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x7c4)[0xf76360e4]\n/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x8f05)[0xf7635655]\n/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x7c4)[0xf76360e4]\n/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCode+0x63)[0xf7636253]\n/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x78e3)[0xf7634033]\n/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x7c4)[0xf76360e4]\n/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x8f05)[0xf7635655]\n/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x7c4)[0xf76360e4]\n```\n* http://build.sagemath.org/#/builders/64/builds/3/steps/9/logs/stdio\n* http://build.sagemath.org/#/builders/22/builds/3/steps/9/logs/stdio\n* http://build.sagemath.org/#/builders/16/builds/3/steps/9/logs/stdio",
    "created_at": "2017-09-07T06:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348018",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'></a>
```
sage: g = graphs.CycleGraph(5) ## line 4750 ##
sage: g.fractional_chromatic_index() ## line 4751 ##
2.5
sage: g.fractional_chromatic_index(solver="PPL") ## line 4756 ##
5/2
sage: g = graphs.PetersenGraph() ## line 4763 ##
sage: g.fractional_chromatic_index(solver='GLPK') ## line 4764 ##
------------------------------------------------------------------------
/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x44e8)[0xf6acc4e8]
/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x455f)[0xf6acc55f]
/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x69a7)[0xf6ace9a7]
[0xf772ecb0]
/home/buildbot/slave/sage_git/build/local/lib/libglpk.so.40(+0x20e89)[0xc593ce89]
/home/buildbot/slave/sage_git/build/local/lib/libglpk.so.40(+0x2914c)[0xc594514c]
/home/buildbot/slave/sage_git/build/local/lib/libglpk.so.40(+0x29473)[0xc5945473]
/home/buildbot/slave/sage_git/build/local/lib/libglpk.so.40(+0x295dc)[0xc59455dc]
/home/buildbot/slave/sage_git/build/local/lib/libglpk.so.40(glp_intopt+0x5f5)[0xc59258a5]
/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/numerical/backends/glpk_backend.so(+0x127d5)[0xc60c97d5]
/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/numerical/mip.so(+0xcbf7)[0xcb7e4bf7]
/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyCFunction_Call+0x109)[0xf75c7299]
/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x9089)[0xf76357d9]
/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x7c4)[0xf76360e4]
/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x8f05)[0xf7635655]
/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x7c4)[0xf76360e4]
/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCode+0x63)[0xf7636253]
/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x78e3)[0xf7634033]
/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x7c4)[0xf76360e4]
/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x8f05)[0xf7635655]
/home/buildbot/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x7c4)[0xf76360e4]
```
* http://build.sagemath.org/#/builders/64/builds/3/steps/9/logs/stdio
* http://build.sagemath.org/#/builders/22/builds/3/steps/9/logs/stdio
* http://build.sagemath.org/#/builders/16/builds/3/steps/9/logs/stdio



---

archive/issue_comments_348019.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-09-07T06:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348019",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_348020.json:
```json
{
    "body": "<a id='comment:27'></a>Ok, so this it is timing out. `PetersenGraph` that rings a bell, there was something about that recently I think.",
    "created_at": "2017-09-07T07:17:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348020",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:27'></a>Ok, so this it is timing out. `PetersenGraph` that rings a bell, there was something about that recently I think.



---

archive/issue_comments_348021.json:
```json
{
    "body": "<a id='comment:28'></a>It is \"caused\" by #23658 that just got merged in 8.1.beta4.  It seem the test was added to check a similar issue was fixed. Copying David Coudert.",
    "created_at": "2017-09-07T08:20:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348021",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:28'></a>It is "caused" by #23658 that just got merged in 8.1.beta4.  It seem the test was added to check a similar issue was fixed. Copying David Coudert.



---

archive/issue_comments_348022.json:
```json
{
    "body": "<a id='comment:29'></a>Can someone tell me the procedure to test this ticket? I don't know how to do it. Thanks.",
    "created_at": "2017-09-07T09:14:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348022",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:29'></a>Can someone tell me the procedure to test this ticket? I don't know how to do it. Thanks.



---

archive/issue_comments_348023.json:
```json
{
    "body": "<a id='comment:30'></a>Replying to [comment:29 dcoudert]:\n> Can someone tell me the procedure to test this ticket? I don't know how to do it. Thanks.\n> \n\n\nHi David, the problem only seem to be happen on 32bits platforms. You should be able to test it on top of 8.1.beta4 which includes #23658 in which you introduced the test that is now failing. Follow the usual procedure from http://doc.sagemath.org/html/en/developer/manual_git.html#chapter-manual-git . The problem is only with `src/sage/graphs/graph.py` on line 1372.",
    "created_at": "2017-09-07T09:22:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348023",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:30'></a>Replying to [comment:29 dcoudert]:
> Can someone tell me the procedure to test this ticket? I don't know how to do it. Thanks.
> 


Hi David, the problem only seem to be happen on 32bits platforms. You should be able to test it on top of 8.1.beta4 which includes #23658 in which you introduced the test that is now failing. Follow the usual procedure from http://doc.sagemath.org/html/en/developer/manual_git.html#chapter-manual-git . The problem is only with `src/sage/graphs/graph.py` on line 1372.



---

archive/issue_comments_348024.json:
```json
{
    "body": "<a id='comment:31'></a>I follwed the [manual_git.html](http://doc.sagemath.org/html/en/developer/manual_git.html#chapter-manual-git) page and got the following (git is not my friend).\n\n```\nconfetti:sage dcoudert$  git fetch trac 30c496f\nfatal: Couldn't find remote ref 30c496f\nconfetti:sage dcoudert$ git fetch trac 30c496fb7ab510df7b0a88e0ccae3050799ebdc6\nconfetti:sage dcoudert$ git checkout -b my_branch FETCH_HEAD\nfatal: Cannot update paths and switch to branch 'my_branch' at the same time.\nDid you intend to checkout 'FETCH_HEAD' which can not be resolved as commit?\n```\n\nAnyway, I don't have access to a 32bit machine. So I don't know how to test and help solving the issue.",
    "created_at": "2017-09-07T09:52:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348024",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:31'></a>I follwed the [manual_git.html](http://doc.sagemath.org/html/en/developer/manual_git.html#chapter-manual-git) page and got the following (git is not my friend).

```
confetti:sage dcoudert$  git fetch trac 30c496f
fatal: Couldn't find remote ref 30c496f
confetti:sage dcoudert$ git fetch trac 30c496fb7ab510df7b0a88e0ccae3050799ebdc6
confetti:sage dcoudert$ git checkout -b my_branch FETCH_HEAD
fatal: Cannot update paths and switch to branch 'my_branch' at the same time.
Did you intend to checkout 'FETCH_HEAD' which can not be resolved as commit?
```

Anyway, I don't have access to a 32bit machine. So I don't know how to test and help solving the issue.



---

archive/issue_comments_348025.json:
```json
{
    "body": "<a id='comment:33'></a>I marked the problematic test as `# known bug`. This should allow use to move forward with this ticket.\n\n---\nNew commits:",
    "created_at": "2017-09-07T11:52:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348025",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:33'></a>I marked the problematic test as `# known bug`. This should allow use to move forward with this ticket.

---
New commits:



---

archive/issue_comments_348026.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-09-07T11:52:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348026",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_348027.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2017-09-07T11:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348027",
    "user": "https://github.com/jdemeyer"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_348028.json:
```json
{
    "body": "<a id='comment:34'></a>Changing priority to blocker because the patchbots are all posting doctest failures due to the downgrade bug [comment:4].",
    "created_at": "2017-09-07T11:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348028",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:34'></a>Changing priority to blocker because the patchbots are all posting doctest failures due to the downgrade bug [comment:4].



---

archive/issue_comments_348029.json:
```json
{
    "body": "<a id='comment:35'></a>I succeed to install and test the patch (thank you Jeroen for the change in the branch name. It ease my life).\nFor me it's working well, no infinite loop.",
    "created_at": "2017-09-07T13:19:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348029",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:35'></a>I succeed to install and test the patch (thank you Jeroen for the change in the branch name. It ease my life).
For me it's working well, no infinite loop.



---

archive/issue_comments_348030.json:
```json
{
    "body": "<a id='comment:36'></a>This minor change still needs review:\n\nReplying to [comment:33 jdemeyer]:\n> |                                                                                                                                          |                                  |\n> |------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n> |[a6e1d23](https://git.sagemath.org/sage.git/commit?id=a6e1d232142c8e7c6a2746ec64c04793b9e763ec)|`Mark failing test as \"known bug\"`|",
    "created_at": "2017-09-08T09:27:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348030",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:36'></a>This minor change still needs review:

Replying to [comment:33 jdemeyer]:
> |                                                                                                                                          |                                  |
> |------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
> |[a6e1d23](https://git.sagemath.org/sage.git/commit?id=a6e1d232142c8e7c6a2746ec64c04793b9e763ec)|`Mark failing test as "known bug"`|



---

archive/issue_comments_348031.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-09-08T10:02:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348031",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_348032.json:
```json
{
    "body": "<a id='comment:37'></a>Sure, let's get this show back on the road.",
    "created_at": "2017-09-08T10:02:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348032",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:37'></a>Sure, let's get this show back on the road.



---

archive/issue_comments_348033.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-09-10T22:06:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23596#issuecomment-348033",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_060447.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-10T22:06:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23596",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23596#event-60447"
}
```
