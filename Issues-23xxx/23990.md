# Issue 23990: Convert symbolic relations to/from SymPy

archive/issues_023753.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\n\n```\nsage: (x>0)._sympy_()\n...\nNotImplementedError: relation\n```\n\nReversely in SymPy:\n\n```\nIn [9]: x >= 0\nOut[9]: x \u2265 0\n\nIn [10]: _._sage_()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-10-7149a2430cab> in <module>()\n----> 1 _._sage_()\n\nAttributeError: 'GreaterThan' object has no attribute '_sage_'\n\nIn [11]: Eq(x, 3)\nOut[11]: x = 3\n\nIn [12]: _._sage_()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-12-7149a2430cab> in <module>()\n----> 1 _._sage_()\n\nAttributeError: 'Equality' object has no attribute '_sage_'\n```\n\nThis functionality is needed both by #22322 and #23923. Needed is a fix to `SympyConverter` in `expression-conversions.pyx`\n\nThe reverse patch in SymPy is added here, see the PR https://github.com/sympy/sympy/pull/13420\n\nCC:  @mforets\n\nComponent: **interfaces**\n\nAuthor: **Ralf Stephan**\n\nBranch/Commit: **[`479e206`](https://github.com/sagemath/sagetrac-mirror/commit/479e206216ca370a9986d5e9098a912cb7656a9f)**\n\nReviewer: **Emmanuel Charpentier**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23990_\n\n",
    "closed_at": "2017-10-20T09:15:13Z",
    "created_at": "2017-10-08T14:20:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Convert symbolic relations to/from SymPy",
    "type": "issue",
    "updated_at": "2017-10-20T09:15:13Z",
    "url": "https://github.com/sagemath/sage/issues/23990",
    "user": "https://github.com/rwst"
}
```
<div id="comment:0"></div>


```
sage: (x>0)._sympy_()
...
NotImplementedError: relation
```

Reversely in SymPy:

```
In [9]: x >= 0
Out[9]: x ≥ 0

In [10]: _._sage_()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-10-7149a2430cab> in <module>()
----> 1 _._sage_()

AttributeError: 'GreaterThan' object has no attribute '_sage_'

In [11]: Eq(x, 3)
Out[11]: x = 3

In [12]: _._sage_()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-12-7149a2430cab> in <module>()
----> 1 _._sage_()

AttributeError: 'Equality' object has no attribute '_sage_'
```

This functionality is needed both by #22322 and #23923. Needed is a fix to `SympyConverter` in `expression-conversions.pyx`

The reverse patch in SymPy is added here, see the PR https://github.com/sympy/sympy/pull/13420

CC:  @mforets

Component: **interfaces**

Author: **Ralf Stephan**

Branch/Commit: **[`479e206`](https://github.com/sagemath/sagetrac-mirror/commit/479e206216ca370a9986d5e9098a912cb7656a9f)**

Reviewer: **Emmanuel Charpentier**

_Issue created by migration from https://trac.sagemath.org/ticket/23990_





---

archive/issue_events_330259.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-08T14:20:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330259"
}
```



---

archive/issue_events_330260.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-08T14:20:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "c: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330260"
}
```



---

archive/issue_events_330261.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-08T14:20:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330261"
}
```



---

archive/issue_events_330262.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-08T14:20:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330262"
}
```



---

archive/issue_comments_362386.json:
```json
{
    "body": "Branch: **[u/rws/convert_symbolic_relations_to_from__sympy](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/convert_symbolic_relations_to_from__sympy)**",
    "created_at": "2017-10-08T15:16:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362386",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/convert_symbolic_relations_to_from__sympy](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/convert_symbolic_relations_to_from__sympy)**



---

archive/issue_comments_362387.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/946295436e135f8ed5c36ea177e97c9d57f4ef98\"><code>9462954</code></a></td><td><code>23990: Convert symbolic relations to SymPy</code></td></tr></table>\n",
    "created_at": "2017-10-08T15:23:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362387",
    "user": "https://github.com/rwst"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/946295436e135f8ed5c36ea177e97c9d57f4ef98"><code>9462954</code></a></td><td><code>23990: Convert symbolic relations to SymPy</code></td></tr></table>




---

archive/issue_comments_362388.json:
```json
{
    "body": "Commit: **[`9462954`](https://github.com/sagemath/sagetrac-mirror/commit/946295436e135f8ed5c36ea177e97c9d57f4ef98)**",
    "created_at": "2017-10-08T15:23:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362388",
    "user": "https://github.com/rwst"
}
```

Commit: **[`9462954`](https://github.com/sagemath/sagetrac-mirror/commit/946295436e135f8ed5c36ea177e97c9d57f4ef98)**



---

archive/issue_events_330263.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-08T15:23:17Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "title_is": "Convert symbolic relations to/from SymPy",
    "title_was": "Convert symbolic relations to/from !SymPy",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330263"
}
```



---

archive/issue_comments_362389.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,4 +5,30 @@\n NotImplementedError: relation\n ```\n \n+Reversely in SymPy:\n+\n+```\n+In [9]: x >= 0\n+Out[9]: x \u2265 0\n+\n+In [10]: _._sage_()\n+---------------------------------------------------------------------------\n+AttributeError                            Traceback (most recent call last)\n+<ipython-input-10-7149a2430cab> in <module>()\n+----> 1 _._sage_()\n+\n+AttributeError: 'GreaterThan' object has no attribute '_sage_'\n+\n+In [11]: Eq(x, 3)\n+Out[11]: x = 3\n+\n+In [12]: _._sage_()\n+---------------------------------------------------------------------------\n+AttributeError                            Traceback (most recent call last)\n+<ipython-input-12-7149a2430cab> in <module>()\n+----> 1 _._sage_()\n+\n+AttributeError: 'Equality' object has no attribute '_sage_'\n+```\n+\n This functionality is needed both by #22322 and #23923. Needed is a fix to `SympyConverter` in `expression-conversions.pyx`\n``````\n",
    "created_at": "2017-10-08T15:23:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362389",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,4 +5,30 @@
 NotImplementedError: relation
 ```
 
+Reversely in SymPy:
+
+```
+In [9]: x >= 0
+Out[9]: x ≥ 0
+
+In [10]: _._sage_()
+---------------------------------------------------------------------------
+AttributeError                            Traceback (most recent call last)
+<ipython-input-10-7149a2430cab> in <module>()
+----> 1 _._sage_()
+
+AttributeError: 'GreaterThan' object has no attribute '_sage_'
+
+In [11]: Eq(x, 3)
+Out[11]: x = 3
+
+In [12]: _._sage_()
+---------------------------------------------------------------------------
+AttributeError                            Traceback (most recent call last)
+<ipython-input-12-7149a2430cab> in <module>()
+----> 1 _._sage_()
+
+AttributeError: 'Equality' object has no attribute '_sage_'
+```
+
 This functionality is needed both by #22322 and #23923. Needed is a fix to `SympyConverter` in `expression-conversions.pyx`
``````




---

archive/issue_comments_362390.json:
```json
{
    "body": "Changed commit from **[`9462954`](https://github.com/sagemath/sagetrac-mirror/commit/946295436e135f8ed5c36ea177e97c9d57f4ef98)** to **[`07f4744`](https://github.com/sagemath/sagetrac-mirror/commit/07f474458ffef1fc032721ae7e34720820bed1a9)**",
    "created_at": "2017-10-08T15:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362390",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9462954`](https://github.com/sagemath/sagetrac-mirror/commit/946295436e135f8ed5c36ea177e97c9d57f4ef98)** to **[`07f4744`](https://github.com/sagemath/sagetrac-mirror/commit/07f474458ffef1fc032721ae7e34720820bed1a9)**



---

archive/issue_comments_362391.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07f474458ffef1fc032721ae7e34720820bed1a9\"><code>07f4744</code></a></td><td><code>23990: handle unequality</code></td></tr></table>\n",
    "created_at": "2017-10-08T15:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362391",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07f474458ffef1fc032721ae7e34720820bed1a9"><code>07f4744</code></a></td><td><code>23990: handle unequality</code></td></tr></table>




---

archive/issue_comments_362392.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ed659fbff057912ecb93a97cec6b75f4cecd63a\"><code>0ed659f</code></a></td><td><code>23990: do not evaluate</code></td></tr></table>\n",
    "created_at": "2017-10-08T15:55:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362392",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ed659fbff057912ecb93a97cec6b75f4cecd63a"><code>0ed659f</code></a></td><td><code>23990: do not evaluate</code></td></tr></table>




---

archive/issue_comments_362393.json:
```json
{
    "body": "Changed commit from **[`07f4744`](https://github.com/sagemath/sagetrac-mirror/commit/07f474458ffef1fc032721ae7e34720820bed1a9)** to **[`0ed659f`](https://github.com/sagemath/sagetrac-mirror/commit/0ed659fbff057912ecb93a97cec6b75f4cecd63a)**",
    "created_at": "2017-10-08T15:55:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362393",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`07f4744`](https://github.com/sagemath/sagetrac-mirror/commit/07f474458ffef1fc032721ae7e34720820bed1a9)** to **[`0ed659f`](https://github.com/sagemath/sagetrac-mirror/commit/0ed659fbff057912ecb93a97cec6b75f4cecd63a)**



---

archive/issue_comments_362394.json:
```json
{
    "body": "Changed commit from **[`0ed659f`](https://github.com/sagemath/sagetrac-mirror/commit/0ed659fbff057912ecb93a97cec6b75f4cecd63a)** to **[`5f023ea`](https://github.com/sagemath/sagetrac-mirror/commit/5f023eafe9cfb18a38d372fcec486c2c65d15ccc)**",
    "created_at": "2017-10-09T13:07:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362394",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0ed659f`](https://github.com/sagemath/sagetrac-mirror/commit/0ed659fbff057912ecb93a97cec6b75f4cecd63a)** to **[`5f023ea`](https://github.com/sagemath/sagetrac-mirror/commit/5f023eafe9cfb18a38d372fcec486c2c65d15ccc)**



---

archive/issue_comments_362395.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f023eafe9cfb18a38d372fcec486c2c65d15ccc\"><code>5f023ea</code></a></td><td><code>23990: convert relations from SymPy to Sage, with test</code></td></tr></table>\n",
    "created_at": "2017-10-09T13:07:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362395",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f023eafe9cfb18a38d372fcec486c2c65d15ccc"><code>5f023ea</code></a></td><td><code>23990: convert relations from SymPy to Sage, with test</code></td></tr></table>




---

archive/issue_comments_362396.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -32,3 +32,5 @@\n ```\n \n This functionality is needed both by #22322 and #23923. Needed is a fix to `SympyConverter` in `expression-conversions.pyx`\n+\n+The reverse patch in SymPy is added here, see the PR https://github.com/sympy/sympy/pull/13420\n``````\n",
    "created_at": "2017-10-09T13:08:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362396",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -32,3 +32,5 @@
 ```
 
 This functionality is needed both by #22322 and #23923. Needed is a fix to `SympyConverter` in `expression-conversions.pyx`
+
+The reverse patch in SymPy is added here, see the PR https://github.com/sympy/sympy/pull/13420
``````




---

archive/issue_events_330264.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-09T13:08:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330264"
}
```



---

archive/issue_comments_362397.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n8.1.beta7 + #23990 passes `ptestlong` on Debian testing running on core i5 + 8 GB RAM with no error whatsoever.\n\n==>`positive_review`\n\nPS : You need to put your name in \"Authors\"\n\nPPS : Thank you very much ! Solving inequations is a domain where Sage and Maxima are currenty weak. This is a nice step in the right direction.",
    "created_at": "2017-10-09T16:08:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362397",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:7" align="right">comment:7</div>

8.1.beta7 + #23990 passes `ptestlong` on Debian testing running on core i5 + 8 GB RAM with no error whatsoever.

==>`positive_review`

PS : You need to put your name in "Authors"

PPS : Thank you very much ! Solving inequations is a domain where Sage and Maxima are currenty weak. This is a nice step in the right direction.



---

archive/issue_comments_362398.json:
```json
{
    "body": "Reviewer: **Emmanuel Charpentier**",
    "created_at": "2017-10-09T16:08:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362398",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Reviewer: **Emmanuel Charpentier**



---

archive/issue_events_330265.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2017-10-09T16:08:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330265"
}
```



---

archive/issue_events_330266.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2017-10-09T16:08:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330266"
}
```



---

archive/issue_comments_362399.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThanks!",
    "created_at": "2017-10-10T06:26:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362399",
    "user": "https://github.com/rwst"
}
```

<div id="comment:8" align="right">comment:8</div>

Thanks!



---

archive/issue_comments_362400.json:
```json
{
    "body": "Author: **Ralf Stephan**",
    "created_at": "2017-10-10T06:26:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362400",
    "user": "https://github.com/rwst"
}
```

Author: **Ralf Stephan**



---

archive/issue_comments_362401.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nP.S. Don't forget to reinstall SymPy before compiling Sage.",
    "created_at": "2017-10-10T06:29:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362401",
    "user": "https://github.com/rwst"
}
```

<div id="comment:9" align="right">comment:9</div>

P.S. Don't forget to reinstall SymPy before compiling Sage.



---

archive/issue_events_330267.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-10T06:48:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330267"
}
```



---

archive/issue_events_330268.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-10T06:48:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330268"
}
```



---

archive/issue_comments_362402.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nSorry, I forgot to increase the SymPy patchlevel, and the patch does no apply anyway.",
    "created_at": "2017-10-10T06:48:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362402",
    "user": "https://github.com/rwst"
}
```

<div id="comment:10" align="right">comment:10</div>

Sorry, I forgot to increase the SymPy patchlevel, and the patch does no apply anyway.



---

archive/issue_comments_362403.json:
```json
{
    "body": "Changed commit from **[`5f023ea`](https://github.com/sagemath/sagetrac-mirror/commit/5f023eafe9cfb18a38d372fcec486c2c65d15ccc)** to **[`0f596bb`](https://github.com/sagemath/sagetrac-mirror/commit/0f596bbdcb041c95cd846c02fea49bb38b467816)**",
    "created_at": "2017-10-10T07:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362403",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5f023ea`](https://github.com/sagemath/sagetrac-mirror/commit/5f023eafe9cfb18a38d372fcec486c2c65d15ccc)** to **[`0f596bb`](https://github.com/sagemath/sagetrac-mirror/commit/0f596bbdcb041c95cd846c02fea49bb38b467816)**



---

archive/issue_comments_362404.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f596bbdcb041c95cd846c02fea49bb38b467816\"><code>0f596bb</code></a></td><td><code>23990: fix patch</code></td></tr></table>\n",
    "created_at": "2017-10-10T07:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362404",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f596bbdcb041c95cd846c02fea49bb38b467816"><code>0f596bb</code></a></td><td><code>23990: fix patch</code></td></tr></table>




---

archive/issue_events_330269.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-10T07:56:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330269"
}
```



---

archive/issue_events_330270.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-10T07:56:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330270"
}
```



---

archive/issue_comments_362405.json:
```json
{
    "body": "Changed commit from **[`0f596bb`](https://github.com/sagemath/sagetrac-mirror/commit/0f596bbdcb041c95cd846c02fea49bb38b467816)** to **[`479e206`](https://github.com/sagemath/sagetrac-mirror/commit/479e206216ca370a9986d5e9098a912cb7656a9f)**",
    "created_at": "2017-10-10T07:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362405",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0f596bb`](https://github.com/sagemath/sagetrac-mirror/commit/0f596bbdcb041c95cd846c02fea49bb38b467816)** to **[`479e206`](https://github.com/sagemath/sagetrac-mirror/commit/479e206216ca370a9986d5e9098a912cb7656a9f)**



---

archive/issue_comments_362406.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/479e206216ca370a9986d5e9098a912cb7656a9f\"><code>479e206</code></a></td><td><code>23990: sympy patchlevel bump</code></td></tr></table>\n",
    "created_at": "2017-10-10T07:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362406",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/479e206216ca370a9986d5e9098a912cb7656a9f"><code>479e206</code></a></td><td><code>23990: sympy patchlevel bump</code></td></tr></table>




---

archive/issue_events_330271.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-10-10T07:57:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330271"
}
```



---

archive/issue_events_330272.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-10-10T07:57:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330272"
}
```



---

archive/issue_events_330273.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-10T07:57:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330273"
}
```



---

archive/issue_events_330274.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-10T07:57:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330274"
}
```



---

archive/issue_comments_362407.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@rwst](#comment%3A10):\n> Sorry, I forgot to increase the SymPy patchlevel, and the patch does no apply anyway.\n\nAh ! I thought that the reverse conversion (which I saw on the sympy site) was reserved for another Sage patch...",
    "created_at": "2017-10-10T10:50:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362407",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@rwst](#comment%3A10):
> Sorry, I forgot to increase the SymPy patchlevel, and the patch does no apply anyway.

Ah ! I thought that the reverse conversion (which I saw on the sympy site) was reserved for another Sage patch...



---

archive/issue_events_330275.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2017-10-10T11:23:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330275"
}
```



---

archive/issue_events_330276.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2017-10-10T11:23:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330276"
}
```



---

archive/issue_comments_362408.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n\n```\nsage: var(\"a,b\")\n(a, b)\nsage: sympy.sympify(a==b)._sage_()\na == b\nsage: sympy.sympify(a==b).sage()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-14-25de6a4c8f0a> in <module>()\n----> 1 sympy.sympify(a==b).sage()\n\nAttributeError: 'Equality' object has no attribute 'sage'\n```\n\nIs that the intended behaviour ? Or to you plan to overhaul a `.sage()` method for various Sympy objects ?\n\nIt is not obvious to me why (e. g.) Mathematic objects can be converted back to Sage objects via the (exposed) `.sage()` method, whereas one has to use the (unexposed) `._sage_()` methods for Sympy objects...",
    "created_at": "2017-10-10T11:23:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362408",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:16" align="right">comment:16</div>


```
sage: var("a,b")
(a, b)
sage: sympy.sympify(a==b)._sage_()
a == b
sage: sympy.sympify(a==b).sage()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-14-25de6a4c8f0a> in <module>()
----> 1 sympy.sympify(a==b).sage()

AttributeError: 'Equality' object has no attribute 'sage'
```

Is that the intended behaviour ? Or to you plan to overhaul a `.sage()` method for various Sympy objects ?

It is not obvious to me why (e. g.) Mathematic objects can be converted back to Sage objects via the (exposed) `.sage()` method, whereas one has to use the (unexposed) `._sage_()` methods for Sympy objects...



---

archive/issue_comments_362409.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n`_sage_()` is just the SymPy convention, every convertible object has it. They have a lot of other underscore member functions, try `grep 'def _' sympy/*/*/*`. Are Mma objects not Sage objects? Should we enforce coding conventions between projects?\n\nPlease don't forget to set back positive.",
    "created_at": "2017-10-10T13:21:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362409",
    "user": "https://github.com/rwst"
}
```

<div id="comment:17" align="right">comment:17</div>

`_sage_()` is just the SymPy convention, every convertible object has it. They have a lot of other underscore member functions, try `grep 'def _' sympy/*/*/*`. Are Mma objects not Sage objects? Should we enforce coding conventions between projects?

Please don't forget to set back positive.



---

archive/issue_comments_362410.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@rwst](#comment%3A17):\n> `_sage_()` is just the SymPy convention, every convertible object has it. They have a lot of other underscore member functions, try `grep 'def _' sympy/*/*/*`.\n\nIndeed. No quarell here.\n\n> Are Mma objects not Sage objects? \n\nThey are by definition Sage objects, but have no meaning for interacting with Sage \"native\" objects ; a conversion is needed for that.\n\n>Should we enforce coding conventions between projects?\n\nI think that's almost what I was thinking about (syntax consistency rather than coding conventions).\n\nNote that the non-Sympy interfaces are not **that** consistent : compare, for example, interfaces to mathematica, giac, R, maple and fricas... Unifying them would represent a lot of work second-intention consistency is hard...\n\nAnother reason was that, unless I'm mistaken, the docs I read when I was starting to learn Sage (about 2-3 years ago) recommended to \"end users\" to use only \"exposed\" methods, leaving the unexposed ones to internal Sage use. I certainly had this recommendation in mind when I asked my question.\n\nHas this recommendation changed ?\n\n> Please don't forget to set back positive.\n\nOf course ;-).\n\nAnd, BTW, this was only a *question*, not a criticism...",
    "created_at": "2017-10-10T13:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362410",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@rwst](#comment%3A17):
> `_sage_()` is just the SymPy convention, every convertible object has it. They have a lot of other underscore member functions, try `grep 'def _' sympy/*/*/*`.

Indeed. No quarell here.

> Are Mma objects not Sage objects? 

They are by definition Sage objects, but have no meaning for interacting with Sage "native" objects ; a conversion is needed for that.

>Should we enforce coding conventions between projects?

I think that's almost what I was thinking about (syntax consistency rather than coding conventions).

Note that the non-Sympy interfaces are not **that** consistent : compare, for example, interfaces to mathematica, giac, R, maple and fricas... Unifying them would represent a lot of work second-intention consistency is hard...

Another reason was that, unless I'm mistaken, the docs I read when I was starting to learn Sage (about 2-3 years ago) recommended to "end users" to use only "exposed" methods, leaving the unexposed ones to internal Sage use. I certainly had this recommendation in mind when I asked my question.

Has this recommendation changed ?

> Please don't forget to set back positive.

Of course ;-).

And, BTW, this was only a *question*, not a criticism...



---

archive/issue_events_330277.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2017-10-10T13:54:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330277"
}
```



---

archive/issue_events_330278.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2017-10-10T13:54:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330278"
}
```



---

archive/issue_comments_362411.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThe problem is that you seem to want a way to know how to convert a Python object from a different namespace by asking for its methods. But Sage has no control over them because Python does not allow adding methods on-the-fly. It may be an idea to just provide a Sage global function `to_sage(...)` that knows these members and calls them without you having to know. Please open a ticket or a discussion and cite me as much as you want. This ticket has fulfilled its purpose.",
    "created_at": "2017-10-10T14:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362411",
    "user": "https://github.com/rwst"
}
```

<div id="comment:19" align="right">comment:19</div>

The problem is that you seem to want a way to know how to convert a Python object from a different namespace by asking for its methods. But Sage has no control over them because Python does not allow adding methods on-the-fly. It may be an idea to just provide a Sage global function `to_sage(...)` that knows these members and calls them without you having to know. Please open a ticket or a discussion and cite me as much as you want. This ticket has fulfilled its purpose.



---

archive/issue_comments_362412.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@rwst](#comment%3A19):\n> ...because Python does not allow adding methods on-the-fly...\n\nI'm a Python noob. I didn't know about `MethodType`.",
    "created_at": "2017-10-10T14:43:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362412",
    "user": "https://github.com/rwst"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@rwst](#comment%3A19):
> ...because Python does not allow adding methods on-the-fly...

I'm a Python noob. I didn't know about `MethodType`.



---

archive/issue_events_330279.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-20T09:15:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330279"
}
```



---

archive/issue_events_330280.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d3614db9fdddbf66f9f77b293816ca6a1d104050",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-10-20T09:15:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23990#event-330280"
}
```



---

archive/issue_comments_362413.json:
```json
{
    "body": "Changed branch from **[u/rws/convert_symbolic_relations_to_from__sympy](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/convert_symbolic_relations_to_from__sympy)** to **[`479e206`](https://github.com/sagemath/sagetrac-mirror/commit/479e206216ca370a9986d5e9098a912cb7656a9f)**",
    "created_at": "2017-10-20T09:15:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23990#issuecomment-362413",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/rws/convert_symbolic_relations_to_from__sympy](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/convert_symbolic_relations_to_from__sympy)** to **[`479e206`](https://github.com/sagemath/sagetrac-mirror/commit/479e206216ca370a9986d5e9098a912cb7656a9f)**
