# Issue 23416: Provide a "sage -ipynb2rst" command

archive/issues_023179.json:
```json
{
    "assignees": [],
    "body": "With jupyter as the default notebook, we need to easily transform an `.ipynb` notebook back into some source code. This ticket adds a `sage -ipynb2rst` command.\n\nA custom template is created to write code blocks as:\n\n```\n   sage: # blah\n   ....: # blah\n```\n\nand to make mathematics formulas the default role (hence avoiding the clumsy `:math:` notation everywhere). A postprocess script fixes some issues.\n\nNote that reviewers have to run `./configure` before `make` to let this ticket work in order to copy `rst_sage.tpl` and `postprocess.py` into the `local/share/sage/ext/nbconvert/` directory.\n\n\nCC:  @videlec @seblabbe @sagetrac-mlapointe\n\nKeywords: **MathExp2018, days94, thursdaysbdx**\n\nBranch/Commit: **[`6e37aa2`](https://github.com/sagemath/sagetrac-mirror/commit/6e37aa20c1cc19aaaf8648c90ffe42125f462107)**\n\nReviewer: **S\u00e9bastien Labb\u00e9**\n\nAuthor: **Thierry Monteil**\n\nComponent: **notebook**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23416_\n\n",
    "closed_at": "2018-07-08T13:05:34Z",
    "created_at": "2017-07-12T21:51:03Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Provide a \"sage -ipynb2rst\" command",
    "type": "issue",
    "updated_at": "2018-07-08T13:05:34Z",
    "url": "https://github.com/sagemath/sage/issues/23416",
    "user": "https://github.com/sagetrac-tmonteil"
}
```
With jupyter as the default notebook, we need to easily transform an `.ipynb` notebook back into some source code. This ticket adds a `sage -ipynb2rst` command.

A custom template is created to write code blocks as:

```
   sage: # blah
   ....: # blah
```

and to make mathematics formulas the default role (hence avoiding the clumsy `:math:` notation everywhere). A postprocess script fixes some issues.

Note that reviewers have to run `./configure` before `make` to let this ticket work in order to copy `rst_sage.tpl` and `postprocess.py` into the `local/share/sage/ext/nbconvert/` directory.


CC:  @videlec @seblabbe @sagetrac-mlapointe

Keywords: **MathExp2018, days94, thursdaysbdx**

Branch/Commit: **[`6e37aa2`](https://github.com/sagemath/sagetrac-mirror/commit/6e37aa20c1cc19aaaf8648c90ffe42125f462107)**

Reviewer: **Sébastien Labbé**

Author: **Thierry Monteil**

Component: **notebook**

_Issue created by migration from https://trac.sagemath.org/ticket/23416_





---

archive/issue_events_327448.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2017-07-12T21:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327448"
}
```



---

archive/issue_events_327449.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2017-07-12T21:51:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "000080",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327449"
}
```



---

archive/issue_events_327450.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2017-07-12T21:51:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327450"
}
```



---

archive/issue_events_327451.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2017-07-12T21:51:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327451"
}
```



---

archive/issue_comments_351703.json:
```json
{
    "body": "Branch: **[u/tmonteil/provide_a__sage__ipynb2rst__command](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/provide_a__sage__ipynb2rst__command)**",
    "created_at": "2017-07-12T22:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351703",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Branch: **[u/tmonteil/provide_a__sage__ipynb2rst__command](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/provide_a__sage__ipynb2rst__command)**



---

archive/issue_comments_351704.json:
```json
{
    "body": "Commit: **[`c18f853`](https://github.com/sagemath/sagetrac-mirror/commit/c18f853443fbaac1a5bdba14d80ec9267f496a3a)**",
    "created_at": "2017-07-12T22:11:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351704",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Commit: **[`c18f853`](https://github.com/sagemath/sagetrac-mirror/commit/c18f853443fbaac1a5bdba14d80ec9267f496a3a)**



---

archive/issue_events_327452.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2017-07-12T22:11:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327452"
}
```



---

archive/issue_comments_351705.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c18f853443fbaac1a5bdba14d80ec9267f496a3a\"><code>c18f853</code></a></td><td><code>#23416 sage -ipynb2rst command.</code></td></tr></table>\n",
    "created_at": "2017-07-12T22:11:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351705",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c18f853443fbaac1a5bdba14d80ec9267f496a3a"><code>c18f853</code></a></td><td><code>#23416 sage -ipynb2rst command.</code></td></tr></table>




---

archive/issue_comments_351706.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nUsing bash 4.4.12 on Archlinux\n\n```\n$ sage -ipynb2rst measure_simulation.ipynb \n/opt/sage/src/bin/sage-ipynb2rst: ligne 39: erreur de syntaxe pr\u00e8s du symbole inattendu \u00ab ( \u00bb\n/opt/sage/src/bin/sage-ipynb2rst: ligne 39: `        jupyter nbconvert --to rst --RSTExporter.template_path=[\\'$SAGE_EXTCODE/nbconvert/\\'] --RSTExporter.template_file='rst_sage.tpl' --stdout ${1} | sed 's/:math://g' > ${2} ( echo -e '\\n' ; help ) ;;'\n```",
    "created_at": "2017-07-15T09:51:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351706",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">comment:3</div>

Using bash 4.4.12 on Archlinux

```
$ sage -ipynb2rst measure_simulation.ipynb 
/opt/sage/src/bin/sage-ipynb2rst: ligne 39: erreur de syntaxe près du symbole inattendu « ( »
/opt/sage/src/bin/sage-ipynb2rst: ligne 39: `        jupyter nbconvert --to rst --RSTExporter.template_path=[\'$SAGE_EXTCODE/nbconvert/\'] --RSTExporter.template_file='rst_sage.tpl' --stdout ${1} | sed 's/:math://g' > ${2} ( echo -e '\n' ; help ) ;;'
```



---

archive/issue_comments_351707.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ef220d185bfdf9eb8ac2b51e186bd0a65d2ebb7\"><code>2ef220d</code></a></td><td><code>#23416 : typo.</code></td></tr></table>\n",
    "created_at": "2017-07-16T21:14:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351707",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ef220d185bfdf9eb8ac2b51e186bd0a65d2ebb7"><code>2ef220d</code></a></td><td><code>#23416 : typo.</code></td></tr></table>




---

archive/issue_comments_351708.json:
```json
{
    "body": "Changed commit from **[`c18f853`](https://github.com/sagemath/sagetrac-mirror/commit/c18f853443fbaac1a5bdba14d80ec9267f496a3a)** to **[`2ef220d`](https://github.com/sagemath/sagetrac-mirror/commit/2ef220d185bfdf9eb8ac2b51e186bd0a65d2ebb7)**",
    "created_at": "2017-07-16T21:14:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351708",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c18f853`](https://github.com/sagemath/sagetrac-mirror/commit/c18f853443fbaac1a5bdba14d80ec9267f496a3a)** to **[`2ef220d`](https://github.com/sagemath/sagetrac-mirror/commit/2ef220d185bfdf9eb8ac2b51e186bd0a65d2ebb7)**



---

archive/issue_comments_351709.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nHmm, i copy/pasted too fast, sorry for the typo, this should work better now.",
    "created_at": "2017-07-16T21:17:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351709",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:5" align="right">comment:5</div>

Hmm, i copy/pasted too fast, sorry for the typo, this should work better now.



---

archive/issue_comments_351710.json:
```json
{
    "body": "Changed keywords from none to **mathexp2018**",
    "created_at": "2018-05-29T16:58:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351710",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed keywords from none to **mathexp2018**



---

archive/issue_comments_351711.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1edaf5967614283967891b87acd5b550de746bf2\"><code>1edaf59</code></a></td><td><code>Merge branch 'u/tmonteil/provide_a__sage__ipynb2rst__command' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ecef2fd657f5a60281a747213388f603536914f\"><code>4ecef2f</code></a></td><td><code>#23416 : better template (output correctly displayed)</code></td></tr></table>\n",
    "created_at": "2018-05-29T23:10:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351711",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1edaf5967614283967891b87acd5b550de746bf2"><code>1edaf59</code></a></td><td><code>Merge branch 'u/tmonteil/provide_a__sage__ipynb2rst__command' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ecef2fd657f5a60281a747213388f603536914f"><code>4ecef2f</code></a></td><td><code>#23416 : better template (output correctly displayed)</code></td></tr></table>




---

archive/issue_comments_351712.json:
```json
{
    "body": "Changed commit from **[`2ef220d`](https://github.com/sagemath/sagetrac-mirror/commit/2ef220d185bfdf9eb8ac2b51e186bd0a65d2ebb7)** to **[`4ecef2f`](https://github.com/sagemath/sagetrac-mirror/commit/4ecef2fd657f5a60281a747213388f603536914f)**",
    "created_at": "2018-05-29T23:10:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351712",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2ef220d`](https://github.com/sagemath/sagetrac-mirror/commit/2ef220d185bfdf9eb8ac2b51e186bd0a65d2ebb7)** to **[`4ecef2f`](https://github.com/sagemath/sagetrac-mirror/commit/4ecef2fd657f5a60281a747213388f603536914f)**



---

archive/issue_comments_351713.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d22357e8f3907fd43737647552e9f509de7ecd5b\"><code>d22357e</code></a></td><td><code>#23416 : do not start with a blank line</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2af3bfc466c3bcb7e972a991851047571902d199\"><code>2af3bfc</code></a></td><td><code>#23416 : let nbconvert write file and save images</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa75e084f6a0660384cc3d8bb3fd2951963c82c6\"><code>aa75e08</code></a></td><td><code>#23416 : postprocessing</code></td></tr></table>\n",
    "created_at": "2018-06-03T18:14:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351713",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d22357e8f3907fd43737647552e9f509de7ecd5b"><code>d22357e</code></a></td><td><code>#23416 : do not start with a blank line</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2af3bfc466c3bcb7e972a991851047571902d199"><code>2af3bfc</code></a></td><td><code>#23416 : let nbconvert write file and save images</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa75e084f6a0660384cc3d8bb3fd2951963c82c6"><code>aa75e08</code></a></td><td><code>#23416 : postprocessing</code></td></tr></table>




---

archive/issue_comments_351714.json:
```json
{
    "body": "Changed commit from **[`4ecef2f`](https://github.com/sagemath/sagetrac-mirror/commit/4ecef2fd657f5a60281a747213388f603536914f)** to **[`aa75e08`](https://github.com/sagemath/sagetrac-mirror/commit/aa75e084f6a0660384cc3d8bb3fd2951963c82c6)**",
    "created_at": "2018-06-03T18:14:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351714",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4ecef2f`](https://github.com/sagemath/sagetrac-mirror/commit/4ecef2fd657f5a60281a747213388f603536914f)** to **[`aa75e08`](https://github.com/sagemath/sagetrac-mirror/commit/aa75e084f6a0660384cc3d8bb3fd2951963c82c6)**



---

archive/issue_comments_351715.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,7 +7,7 @@\n    ....: # blah\n ```\n \n-and to make mathematics formulas the default role (hence avoiding the clumsy `:math:` notation everywhere).\n+and to make mathematics formulas the default role (hence avoiding the clumsy `:math:` notation everywhere). A postprocess script fixes some issues.\n \n-Note that reviewers have to run `./configure` before `make` to let this ticket work in order to copy `rst_sage.tpl` into the `local/share/sage/ext/nbconvert/` directory.\n+Note that reviewers have to run `./configure` before `make` to let this ticket work in order to copy `rst_sage.tpl` and `postprocess.py` into the `local/share/sage/ext/nbconvert/` directory.\n \n``````\n",
    "created_at": "2018-06-03T18:27:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351715",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,7 +7,7 @@
    ....: # blah
 ```
 
-and to make mathematics formulas the default role (hence avoiding the clumsy `:math:` notation everywhere).
+and to make mathematics formulas the default role (hence avoiding the clumsy `:math:` notation everywhere). A postprocess script fixes some issues.
 
-Note that reviewers have to run `./configure` before `make` to let this ticket work in order to copy `rst_sage.tpl` into the `local/share/sage/ext/nbconvert/` directory.
+Note that reviewers have to run `./configure` before `make` to let this ticket work in order to copy `rst_sage.tpl` and `postprocess.py` into the `local/share/sage/ext/nbconvert/` directory.
 
``````




---

archive/issue_comments_351716.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nWe could always add improvements, but i am fine with the current behavior for a first version.",
    "created_at": "2018-06-03T18:27:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351716",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:9" align="right">comment:9</div>

We could always add improvements, but i am fine with the current behavior for a first version.



---

archive/issue_comments_351717.json:
```json
{
    "body": "Changed keywords from **mathexp2018** to **MathExp2018**",
    "created_at": "2018-06-03T18:38:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351717",
    "user": "https://github.com/videlec"
}
```

Changed keywords from **mathexp2018** to **MathExp2018**



---

archive/issue_events_327453.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-06-03T18:38:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327453"
}
```



---

archive/issue_events_327454.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-06-03T18:38:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327454"
}
```



---

archive/issue_events_327455.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-06-03T19:40:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327455"
}
```



---

archive/issue_events_327456.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-06-03T19:40:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327456"
}
```



---

archive/issue_comments_351718.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThierry, can you add a doctest [here](https://github.com/sagemath/sage/blob/854f9764d14236110b8d7f7b35a7d52017e044f8/src/sage/tests/cmdline.py#L647) in src/sage/tests/cmdline.py please?",
    "created_at": "2018-06-03T19:40:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351718",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:11" align="right">comment:11</div>

Thierry, can you add a doctest [here](https://github.com/sagemath/sage/blob/854f9764d14236110b8d7f7b35a7d52017e044f8/src/sage/tests/cmdline.py#L647) in src/sage/tests/cmdline.py please?



---

archive/issue_comments_351719.json:
```json
{
    "body": "Reviewer: **S\u00e9bastien Labb\u00e9**",
    "created_at": "2018-06-03T19:40:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351719",
    "user": "https://github.com/seblabbe"
}
```

Reviewer: **Sébastien Labbé**



---

archive/issue_comments_351720.json:
```json
{
    "body": "Changed commit from **[`aa75e08`](https://github.com/sagemath/sagetrac-mirror/commit/aa75e084f6a0660384cc3d8bb3fd2951963c82c6)** to **[`0785497`](https://github.com/sagemath/sagetrac-mirror/commit/0785497a620a405b72f45ea602c7136f5006f661)**",
    "created_at": "2018-06-03T22:13:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351720",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`aa75e08`](https://github.com/sagemath/sagetrac-mirror/commit/aa75e084f6a0660384cc3d8bb3fd2951963c82c6)** to **[`0785497`](https://github.com/sagemath/sagetrac-mirror/commit/0785497a620a405b72f45ea602c7136f5006f661)**



---

archive/issue_comments_351721.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03e157cbcee45bd16e5d0ddf9e1a30961e3b2689\"><code>03e157c</code></a></td><td><code>Merge branch 'u/tmonteil/provide_a__sage__ipynb2rst__command' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0785497a620a405b72f45ea602c7136f5006f661\"><code>0785497</code></a></td><td><code>#23416 : command line doctest</code></td></tr></table>\n",
    "created_at": "2018-06-03T22:13:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351721",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03e157cbcee45bd16e5d0ddf9e1a30961e3b2689"><code>03e157c</code></a></td><td><code>Merge branch 'u/tmonteil/provide_a__sage__ipynb2rst__command' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0785497a620a405b72f45ea602c7136f5006f661"><code>0785497</code></a></td><td><code>#23416 : command line doctest</code></td></tr></table>




---

archive/issue_events_327457.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-06-03T22:13:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327457"
}
```



---

archive/issue_events_327458.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-06-03T22:13:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327458"
}
```



---

archive/issue_comments_351722.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nDone.",
    "created_at": "2018-06-03T22:13:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351722",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:13" align="right">comment:13</div>

Done.



---

archive/issue_comments_351723.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nTypo: `the header that define` -> `the header that defines`",
    "created_at": "2018-06-04T06:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351723",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Typo: `the header that define` -> `the header that defines`



---

archive/issue_comments_351724.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI generally don't like checks of the form\n\n```\n# tests if dependencies are available\npandoc -v > /dev/null 2>&1 || fail 'sage -ipynb2rst requires pandoc; please install it on your system.'\n```\nbecause it is not at all obvious that the `jupyter nbconvert` command will correctly execute `pandoc` if and only if that check above works. For example, if the `pandoc` command is configurable (I have no idea whether it is, but it might be), then you are doing the wrong check. Also, maybe `pandoc` fails to run because of a different reason than it not being installed (say, it is missing some library).\n\nSo unless there is a good reason to add that check, I would prefer to remove it.",
    "created_at": "2018-06-04T07:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351724",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

I generally don't like checks of the form

```
# tests if dependencies are available
pandoc -v > /dev/null 2>&1 || fail 'sage -ipynb2rst requires pandoc; please install it on your system.'
```
because it is not at all obvious that the `jupyter nbconvert` command will correctly execute `pandoc` if and only if that check above works. For example, if the `pandoc` command is configurable (I have no idea whether it is, but it might be), then you are doing the wrong check. Also, maybe `pandoc` fails to run because of a different reason than it not being installed (say, it is missing some library).

So unless there is a good reason to add that check, I would prefer to remove it.



---

archive/issue_events_327459.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-04T07:03:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327459"
}
```



---

archive/issue_events_327460.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-04T07:03:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327460"
}
```



---

archive/issue_comments_351725.json:
```json
{
    "body": "Changed commit from **[`0785497`](https://github.com/sagemath/sagetrac-mirror/commit/0785497a620a405b72f45ea602c7136f5006f661)** to **[`5ed5ab1`](https://github.com/sagemath/sagetrac-mirror/commit/5ed5ab10ffc002cbc8b0d9ee23c109e50b585991)**",
    "created_at": "2018-06-04T07:24:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351725",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0785497`](https://github.com/sagemath/sagetrac-mirror/commit/0785497a620a405b72f45ea602c7136f5006f661)** to **[`5ed5ab1`](https://github.com/sagemath/sagetrac-mirror/commit/5ed5ab10ffc002cbc8b0d9ee23c109e50b585991)**



---

archive/issue_comments_351726.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ed5ab10ffc002cbc8b0d9ee23c109e50b585991\"><code>5ed5ab1</code></a></td><td><code>#23416 : remove depedency test to pandoc</code></td></tr></table>\n",
    "created_at": "2018-06-04T07:24:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351726",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ed5ab10ffc002cbc8b0d9ee23c109e50b585991"><code>5ed5ab1</code></a></td><td><code>#23416 : remove depedency test to pandoc</code></td></tr></table>




---

archive/issue_comments_351727.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7897736d7ae2e4b38bee1f6396629982f03be1df\"><code>7897736</code></a></td><td><code>#23416 : typo</code></td></tr></table>\n",
    "created_at": "2018-06-04T07:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351727",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7897736d7ae2e4b38bee1f6396629982f03be1df"><code>7897736</code></a></td><td><code>#23416 : typo</code></td></tr></table>




---

archive/issue_comments_351728.json:
```json
{
    "body": "Changed commit from **[`5ed5ab1`](https://github.com/sagemath/sagetrac-mirror/commit/5ed5ab10ffc002cbc8b0d9ee23c109e50b585991)** to **[`7897736`](https://github.com/sagemath/sagetrac-mirror/commit/7897736d7ae2e4b38bee1f6396629982f03be1df)**",
    "created_at": "2018-06-04T07:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351728",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5ed5ab1`](https://github.com/sagemath/sagetrac-mirror/commit/5ed5ab10ffc002cbc8b0d9ee23c109e50b585991)** to **[`7897736`](https://github.com/sagemath/sagetrac-mirror/commit/7897736d7ae2e4b38bee1f6396629982f03be1df)**



---

archive/issue_events_327461.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-06-04T07:35:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327461"
}
```



---

archive/issue_events_327462.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-06-04T07:35:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327462"
}
```



---

archive/issue_comments_351729.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nDone. Sorry, it seems i cannot refrain to ask for permission ;)",
    "created_at": "2018-06-04T07:35:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351729",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:18" align="right">comment:18</div>

Done. Sorry, it seems i cannot refrain to ask for permission ;)



---

archive/issue_events_327463.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-06-07T21:09:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327463"
}
```



---

archive/issue_events_327464.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-06-07T21:09:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327464"
}
```



---

archive/issue_comments_351730.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n`sage -sws2rst file.sws` puts images into a `file_media` folder. Should we follow the same idea here instead of putting the images in the `.`?",
    "created_at": "2018-06-07T21:09:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351730",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:19" align="right">comment:19</div>

`sage -sws2rst file.sws` puts images into a `file_media` folder. Should we follow the same idea here instead of putting the images in the `.`?



---

archive/issue_comments_351731.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nWhy\n\n\n\n```\n        sage: L = [\"sage\", \"--ipynb2rst\", input, output]\n        sage: try:\n        ....:     _ = test_executable(['pandoc', '--version'])\n        ....: except OSError:\n        ....:     print('True')\n        ....: else:\n        ....:     _ = test_executable(L)\n        ....:     print(open(output, 'r').read() == t)\n        True\n```\n\ninstead of\n\n```\nsage: L = [\"sage\", \"--ipynb2rst\", input, output]\nsage: _ = test_executable(L)                     # optional: pandoc\nsage: print(open(output, 'r').read() == t)       # optional: pandoc\nTrue\n```\n?",
    "created_at": "2018-06-07T21:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351731",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:20" align="right">comment:20</div>

Why



```
        sage: L = ["sage", "--ipynb2rst", input, output]
        sage: try:
        ....:     _ = test_executable(['pandoc', '--version'])
        ....: except OSError:
        ....:     print('True')
        ....: else:
        ....:     _ = test_executable(L)
        ....:     print(open(output, 'r').read() == t)
        True
```

instead of

```
sage: L = ["sage", "--ipynb2rst", input, output]
sage: _ = test_executable(L)                     # optional: pandoc
sage: print(open(output, 'r').read() == t)       # optional: pandoc
True
```
?



---

archive/issue_comments_351732.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@seblabbe](#comment:20):\n> Why\n> \n> \n> \n> ```\n>         sage: L = [\"sage\", \"--ipynb2rst\", input, output]\n>         sage: try:\n>         ....:     _ = test_executable(['pandoc', '--version'])\n>         ....: except OSError:\n>         ....:     print('True')\n>         ....: else:\n>         ....:     _ = test_executable(L)\n>         ....:     print(open(output, 'r').read() == t)\n>         True\n> ```\n> \n> instead of\n> \n> ```\n> sage: L = [\"sage\", \"--ipynb2rst\", input, output]\n> sage: _ = test_executable(L)                     # optional: pandoc\n> sage: print(open(output, 'r').read() == t)       # optional: pandoc\n> True\n> ```\n> ?\n\nBecause pandoc is not an optional package but a system dependency, so the doctest will never be run (unless someone explicitely ask for it).",
    "created_at": "2018-06-07T22:17:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351732",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@seblabbe](#comment:20):
> Why
> 
> 
> 
> ```
>         sage: L = ["sage", "--ipynb2rst", input, output]
>         sage: try:
>         ....:     _ = test_executable(['pandoc', '--version'])
>         ....: except OSError:
>         ....:     print('True')
>         ....: else:
>         ....:     _ = test_executable(L)
>         ....:     print(open(output, 'r').read() == t)
>         True
> ```
> 
> instead of
> 
> ```
> sage: L = ["sage", "--ipynb2rst", input, output]
> sage: _ = test_executable(L)                     # optional: pandoc
> sage: print(open(output, 'r').read() == t)       # optional: pandoc
> True
> ```
> ?

Because pandoc is not an optional package but a system dependency, so the doctest will never be run (unless someone explicitely ask for it).



---

archive/issue_comments_351733.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@sagetrac-tmonteil](#comment:21):\n> Replying to [@seblabbe](#comment:20):\n> > Why\n> > \n> > \n> > \n> > ```\n> >         sage: L = [\"sage\", \"--ipynb2rst\", input, output]\n> >         sage: try:\n> >         ....:     _ = test_executable(['pandoc', '--version'])\n> >         ....: except OSError:\n> >         ....:     print('True')\n> >         ....: else:\n> >         ....:     _ = test_executable(L)\n> >         ....:     print(open(output, 'r').read() == t)\n> >         True\n> > ```\n> > \n> > instead of\n> > \n> > ```\n> > sage: L = [\"sage\", \"--ipynb2rst\", input, output]\n> > sage: _ = test_executable(L)                     # optional: pandoc\n> > sage: print(open(output, 'r').read() == t)       # optional: pandoc\n> > True\n> > ```\n> > ?\n\n> \n> Because pandoc is not an optional package but a system dependency, so the doctest will never be run (unless someone explicitely ask for it).\n\nyou can add `has_pandoc` in `sage.doctest.external` so that it can be properly detected (see also #25305).",
    "created_at": "2018-06-08T15:19:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351733",
    "user": "https://github.com/videlec"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@sagetrac-tmonteil](#comment:21):
> Replying to [@seblabbe](#comment:20):
> > Why
> > 
> > 
> > 
> > ```
> >         sage: L = ["sage", "--ipynb2rst", input, output]
> >         sage: try:
> >         ....:     _ = test_executable(['pandoc', '--version'])
> >         ....: except OSError:
> >         ....:     print('True')
> >         ....: else:
> >         ....:     _ = test_executable(L)
> >         ....:     print(open(output, 'r').read() == t)
> >         True
> > ```
> > 
> > instead of
> > 
> > ```
> > sage: L = ["sage", "--ipynb2rst", input, output]
> > sage: _ = test_executable(L)                     # optional: pandoc
> > sage: print(open(output, 'r').read() == t)       # optional: pandoc
> > True
> > ```
> > ?

> 
> Because pandoc is not an optional package but a system dependency, so the doctest will never be run (unless someone explicitely ask for it).

you can add `has_pandoc` in `sage.doctest.external` so that it can be properly detected (see also #25305).



---

archive/issue_comments_351734.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nWhy not. Then, i will wait the next beta to avoid useless rebasing mess.",
    "created_at": "2018-06-08T18:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351734",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:23" align="right">comment:23</div>

Why not. Then, i will wait the next beta to avoid useless rebasing mess.



---

archive/issue_comments_351735.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30806a273cb4429cfe9a307eba0781cacf7d75af\"><code>30806a2</code></a></td><td><code>Merge branch 'u/tmonteil/provide_a__sage__ipynb2rst__command' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f935b04365e817cd2af37b48a27d8873b2e4892f\"><code>f935b04</code></a></td><td><code>#23416 : has_pandoc doctest function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e37aa20c1cc19aaaf8648c90ffe42125f462107\"><code>6e37aa2</code></a></td><td><code>#23416 : update cmdline doctest</code></td></tr></table>\n",
    "created_at": "2018-07-02T16:25:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351735",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30806a273cb4429cfe9a307eba0781cacf7d75af"><code>30806a2</code></a></td><td><code>Merge branch 'u/tmonteil/provide_a__sage__ipynb2rst__command' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f935b04365e817cd2af37b48a27d8873b2e4892f"><code>f935b04</code></a></td><td><code>#23416 : has_pandoc doctest function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e37aa20c1cc19aaaf8648c90ffe42125f462107"><code>6e37aa2</code></a></td><td><code>#23416 : update cmdline doctest</code></td></tr></table>




---

archive/issue_comments_351736.json:
```json
{
    "body": "Changed commit from **[`7897736`](https://github.com/sagemath/sagetrac-mirror/commit/7897736d7ae2e4b38bee1f6396629982f03be1df)** to **[`6e37aa2`](https://github.com/sagemath/sagetrac-mirror/commit/6e37aa20c1cc19aaaf8648c90ffe42125f462107)**",
    "created_at": "2018-07-02T16:25:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351736",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7897736`](https://github.com/sagemath/sagetrac-mirror/commit/7897736d7ae2e4b38bee1f6396629982f03be1df)** to **[`6e37aa2`](https://github.com/sagemath/sagetrac-mirror/commit/6e37aa20c1cc19aaaf8648c90ffe42125f462107)**



---

archive/issue_comments_351737.json:
```json
{
    "body": "Changed keywords from **MathExp2018** to **MathExp2018, days94**",
    "created_at": "2018-07-02T16:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351737",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed keywords from **MathExp2018** to **MathExp2018, days94**



---

archive/issue_events_327465.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-07-02T16:27:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327465"
}
```



---

archive/issue_events_327466.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-07-02T16:27:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327466"
}
```



---

archive/issue_events_327467.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-07-04T19:44:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327467"
}
```



---

archive/issue_events_327468.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-07-04T19:44:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327468"
}
```



---

archive/issue_comments_351738.json:
```json
{
    "body": "Changed keywords from **MathExp2018, days94** to **MathExp2018, days94, thursdaysbdx**",
    "created_at": "2018-07-05T09:00:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351738",
    "user": "https://github.com/seblabbe"
}
```

Changed keywords from **MathExp2018, days94** to **MathExp2018, days94, thursdaysbdx**



---

archive/issue_comments_351739.json:
```json
{
    "body": "Changed branch from **[u/tmonteil/provide_a__sage__ipynb2rst__command](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/provide_a__sage__ipynb2rst__command)** to **[`6e37aa2`](https://github.com/sagemath/sagetrac-mirror/commit/6e37aa20c1cc19aaaf8648c90ffe42125f462107)**",
    "created_at": "2018-07-08T13:05:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23416#issuecomment-351739",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/tmonteil/provide_a__sage__ipynb2rst__command](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/provide_a__sage__ipynb2rst__command)** to **[`6e37aa2`](https://github.com/sagemath/sagetrac-mirror/commit/6e37aa20c1cc19aaaf8648c90ffe42125f462107)**



---

archive/issue_events_327469.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-07-08T13:05:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327469"
}
```



---

archive/issue_events_327470.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7906ff7f1554876a655b773b8247a05212fb0f5b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-07-08T13:05:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23416",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23416#event-327470"
}
```
