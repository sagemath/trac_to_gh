# Issue 23222: Add test to EllipticCurve.isogeny() to check for validity of kernel polynomials

archive/issues_022985.json:
```json
{
    "body": "In this example\n\n```\nsage: K = GF(47^2)\nsage: E = EllipticCurve([0, K.gen()])\nsage: f = E.division_polynomial(7).factor()[4][0]\nsage: E.is_supersingular()\nTrue\nsage: E.isogeny(f).codomain().is_supersingular()\nFalse\nsage: phi = E.isogeny(E.division_polynomial(7).factor()[8][0])\nsage: phi(E.random_point())\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: Coordinates [16*z2 + 30, 3*z2 + 22, 1] do not define a point on Elliptic Curve defined by y^2 = x^3 + (3*z2+36)*x over Finite Field in z2 of size 47^2\n```\n\nThe factors of the seventh division polynomial are not detected as bad kernel polynomials, and a wrong isogeny is computed instead.\n\nTests to detect these cases are in `.isogenies_prime_degree_general()`. They should be moved to an independent function and called before applying V\u00e9lu's formulas.\n\n**CC:**  @JohnCremona\n\n**Keywords:** isogenies, v\u00e9lu's formulas\n\n**Branch:** [28e369f252fa8339ba379c5619096016afdc4493](https://github.com/sagemath/sagetrac-mirror/commit/28e369f252fa8339ba379c5619096016afdc4493)\n\n**Reviewer:** Luca De Feo, Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** John Cremona\n\nIssue created by migration from https://trac.sagemath.org/ticket/23222\n\n",
    "closed_at": "2019-01-22T12:40:34Z",
    "created_at": "2017-06-12T11:55:31Z",
    "labels": [
        "component: elliptic curves",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "Add test to EllipticCurve.isogeny() to check for validity of kernel polynomials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23222",
    "user": "https://github.com/defeo"
}
```
In this example

```
sage: K = GF(47^2)
sage: E = EllipticCurve([0, K.gen()])
sage: f = E.division_polynomial(7).factor()[4][0]
sage: E.is_supersingular()
True
sage: E.isogeny(f).codomain().is_supersingular()
False
sage: phi = E.isogeny(E.division_polynomial(7).factor()[8][0])
sage: phi(E.random_point())
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: Coordinates [16*z2 + 30, 3*z2 + 22, 1] do not define a point on Elliptic Curve defined by y^2 = x^3 + (3*z2+36)*x over Finite Field in z2 of size 47^2
```

The factors of the seventh division polynomial are not detected as bad kernel polynomials, and a wrong isogeny is computed instead.

Tests to detect these cases are in `.isogenies_prime_degree_general()`. They should be moved to an independent function and called before applying Vélu's formulas.

**CC:**  @JohnCremona

**Keywords:** isogenies, vélu's formulas

**Branch:** [28e369f252fa8339ba379c5619096016afdc4493](https://github.com/sagemath/sagetrac-mirror/commit/28e369f252fa8339ba379c5619096016afdc4493)

**Reviewer:** Luca De Feo, Frédéric Chapoton

**Author:** John Cremona

Issue created by migration from https://trac.sagemath.org/ticket/23222





---

archive/issue_comments_351113.json:
```json
{
    "body": "<a id='comment:1'></a>\nRemember that the Trace of Frobenius is an integer, not an element of the field, so seeing 94 which is 0 mod 47 is ok.\nSecondly, you have omitted the isogeny whose kernel is the product of the 3 linear factors of the 7-division polynomial.\nThirdly, if you want to see the 7-isogenous curves it is better to do\n\n```\nE.isogenies_prime_degree(7)\n```\nsince it is non-trivial to combine the factors of the division polynomial correctly.  In this case there are only two 7-isogenies.  Not that E.isogeny(f) does *not* actually check that f is a valid kernel polynomial even when check=True is give (the default).  It should!  When it was written we did not have code to do that but now we do.  It is slightly buried in the function isogenies_prime_degree_general().",
    "created_at": "2017-06-12T19:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351113",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:1'></a>
Remember that the Trace of Frobenius is an integer, not an element of the field, so seeing 94 which is 0 mod 47 is ok.
Secondly, you have omitted the isogeny whose kernel is the product of the 3 linear factors of the 7-division polynomial.
Thirdly, if you want to see the 7-isogenous curves it is better to do

```
E.isogenies_prime_degree(7)
```
since it is non-trivial to combine the factors of the division polynomial correctly.  In this case there are only two 7-isogenies.  Not that E.isogeny(f) does *not* actually check that f is a valid kernel polynomial even when check=True is give (the default).  It should!  When it was written we did not have code to do that but now we do.  It is slightly buried in the function isogenies_prime_degree_general().



---

archive/issue_comments_351114.json:
```json
{
    "body": "<a id='comment:2'></a>\nReplying to [cremona](#comment%3A1):\n> Remember that the Trace of Frobenius is an integer, not an element of the field, so seeing 94 which is 0 mod 47 is ok.\n\n\nI agree with that, but doesn't Sato-Tate say that two curves are isogenous over a finite field iff they have the **same** trace? As I said, j=0 and j=36 are isogenous over GF(47<sup>2</sup>), but the exact curves in the example are not. And, indeed:\n\n```\nsage: phi = E.isogeny(E.division_polynomial(7).factor()[8][0])\nsage: phi(E.random_point())\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: Coordinates [16*z2 + 30, 3*z2 + 22, 1] do not define a point on Elliptic Curve defined by y^2 = x^3 + (3*z2+36)*x over Finite Field in z2 of size 47^2\n```\n\n> Secondly, you have omitted the isogeny whose kernel is the product of the 3 linear factors of the 7-division polynomial.\n\n\nYes. I just wanted to highlight the bug. One of the buggy factors would have been enough.\n\n> Thirdly, if you want to see the 7-isogenous curves it is better to do\n> \n> ```\n> E.isogenies_prime_degree(7)\n> ```\n> since it is non-trivial to combine the factors of the division polynomial correctly.\n\n\nAbsolutely. However, I found the bug while doing a more general search.\n\n> Not that E.isogeny(f) does *not* actually check that f is a valid kernel polynomial even when check=True is give (the default).  It should!  When it was written we did not have code to do that but now we do.  It is slightly buried in the function isogenies_prime_degree_general().\n\n\nWell, that's not completely correct:\n\n```\nsage: E.isogeny(E.base_field().polynomial_ring().random_element(3))\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n...\nValueError: The polynomial does not define a finite subgroup of the elliptic curve.\n```\n\nSo there are some checks, but they are buggy, at least for j=0,1728, I suspect.\n\nI do not have time to dig this further right now. Hopefully in a couple of weeks I can come up with a fix.",
    "created_at": "2017-06-12T21:15:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351114",
    "user": "https://github.com/defeo"
}
```

<a id='comment:2'></a>
Replying to [cremona](#comment%3A1):
> Remember that the Trace of Frobenius is an integer, not an element of the field, so seeing 94 which is 0 mod 47 is ok.


I agree with that, but doesn't Sato-Tate say that two curves are isogenous over a finite field iff they have the **same** trace? As I said, j=0 and j=36 are isogenous over GF(47<sup>2</sup>), but the exact curves in the example are not. And, indeed:

```
sage: phi = E.isogeny(E.division_polynomial(7).factor()[8][0])
sage: phi(E.random_point())
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: Coordinates [16*z2 + 30, 3*z2 + 22, 1] do not define a point on Elliptic Curve defined by y^2 = x^3 + (3*z2+36)*x over Finite Field in z2 of size 47^2
```

> Secondly, you have omitted the isogeny whose kernel is the product of the 3 linear factors of the 7-division polynomial.


Yes. I just wanted to highlight the bug. One of the buggy factors would have been enough.

> Thirdly, if you want to see the 7-isogenous curves it is better to do
> 
> ```
> E.isogenies_prime_degree(7)
> ```
> since it is non-trivial to combine the factors of the division polynomial correctly.


Absolutely. However, I found the bug while doing a more general search.

> Not that E.isogeny(f) does *not* actually check that f is a valid kernel polynomial even when check=True is give (the default).  It should!  When it was written we did not have code to do that but now we do.  It is slightly buried in the function isogenies_prime_degree_general().


Well, that's not completely correct:

```
sage: E.isogeny(E.base_field().polynomial_ring().random_element(3))
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
...
ValueError: The polynomial does not define a finite subgroup of the elliptic curve.
```

So there are some checks, but they are buggy, at least for j=0,1728, I suspect.

I do not have time to dig this further right now. Hopefully in a couple of weeks I can come up with a fix.



---

archive/issue_comments_351115.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe j-invariant does not determine the trace since it only determines the curve up to twist; in your case there are more than 2 twists as well.\n\nYes, some checking is done for validity of kernel polys, but that is misleading since bad input passes those tests as they are not complete.\n\nWe'll come back to that.",
    "created_at": "2017-06-13T07:30:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351115",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:3'></a>
The j-invariant does not determine the trace since it only determines the curve up to twist; in your case there are more than 2 twists as well.

Yes, some checking is done for validity of kernel polys, but that is misleading since bad input passes those tests as they are not complete.

We'll come back to that.



---

archive/issue_comments_351116.json:
```json
{
    "body": "<a id='comment:4'></a>\nCan we close this as invalid / won't fix?  I just re-read the comments and think that I explained why none of the output which had been thought to be suspect was incorrect.",
    "created_at": "2018-04-13T08:55:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351116",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:4'></a>
Can we close this as invalid / won't fix?  I just re-read the comments and think that I explained why none of the output which had been thought to be suspect was incorrect.



---

archive/issue_comments_351117.json:
```json
{
    "body": "<a id='comment:5'></a>\nI still don't get it. Admittedly, `E.isogeny(f)` does not test that `f` is a valid kernel polynomial. But, why is `f` not a valid kernel polynomial in this example:\n\n```\nsage: f = E.division_polynomial(7).factor()[4][0]\nsage: E.is_supersingular()\nTrue\nsage: E.isogeny(f).codomain().is_supersingular()\nFalse\n```\n\nAlso, the `TypeError` in [comment 2](#comment%3A2) is not nice and would deserve fixing.",
    "created_at": "2018-04-13T13:12:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351117",
    "user": "https://github.com/defeo"
}
```

<a id='comment:5'></a>
I still don't get it. Admittedly, `E.isogeny(f)` does not test that `f` is a valid kernel polynomial. But, why is `f` not a valid kernel polynomial in this example:

```
sage: f = E.division_polynomial(7).factor()[4][0]
sage: E.is_supersingular()
True
sage: E.isogeny(f).codomain().is_supersingular()
False
```

Also, the `TypeError` in [comment 2](#comment%3A2) is not nice and would deserve fixing.



---

archive/issue_comments_351118.json:
```json
{
    "body": "<a id='comment:6'></a>\nThe kernel poly of a 7-isogeny is a degree 3 factor of the 7-division poly but not every degree 3 factor is a kernel poly!  In this case the 3 roots of your degree 3 factor, which all lie in GF(47^6), are the x-coordinates of points in 3 different subgroups of order 7.\n\nIn the function isogenies_prime_degree_general() in sage.schemes.elliptic_curves.isogeny_small_degree, this is implemented properly: factor the l-division poly (here l is an odd prime); keep only factors of degree dividing (l-1)/2;  for each such factor work out whether or not it is an irreducible factor of a kernel poly.\n\nIt would be possible to extract from the code of that function a test for whether a polynomial of degree (l-1)/2 actually is a kernel poly.  Feel free to make a ticket for that!  The relevent theory is in Kimi Tsukazaki's thesis (cited in that file).",
    "created_at": "2018-04-13T13:34:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351118",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:6'></a>
The kernel poly of a 7-isogeny is a degree 3 factor of the 7-division poly but not every degree 3 factor is a kernel poly!  In this case the 3 roots of your degree 3 factor, which all lie in GF(47^6), are the x-coordinates of points in 3 different subgroups of order 7.

In the function isogenies_prime_degree_general() in sage.schemes.elliptic_curves.isogeny_small_degree, this is implemented properly: factor the l-division poly (here l is an odd prime); keep only factors of degree dividing (l-1)/2;  for each such factor work out whether or not it is an irreducible factor of a kernel poly.

It would be possible to extract from the code of that function a test for whether a polynomial of degree (l-1)/2 actually is a kernel poly.  Feel free to make a ticket for that!  The relevent theory is in Kimi Tsukazaki's thesis (cited in that file).



---

archive/issue_comments_351119.json:
```json
{
    "body": "<a id='comment:7'></a>\nOh, right!\n\nCan't we just edit this ticket so that it points to the problem, instead of closing it and opening a new one?",
    "created_at": "2018-04-13T14:16:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351119",
    "user": "https://github.com/defeo"
}
```

<a id='comment:7'></a>
Oh, right!

Can't we just edit this ticket so that it points to the problem, instead of closing it and opening a new one?



---

archive/issue_comments_351120.json:
```json
{
    "body": "<a id='comment:8'></a>\nSure, go ahead.  Once we have a stand-alone function test_kernel_poly(E,f,ell) it is clear where to put a call to it: in place of lines 2450-2454 where now it only tests if the polynomial divides the division poly.  I should have done this ages ago.",
    "created_at": "2018-04-13T14:26:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351120",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:8'></a>
Sure, go ahead.  Once we have a stand-alone function test_kernel_poly(E,f,ell) it is clear where to put a call to it: in place of lines 2450-2454 where now it only tests if the polynomial divides the division poly.  I should have done this ages ago.



---

archive/issue_comments_351121.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,16 +1,21 @@\n-I'm not sure about what's happening here. While playing around with supersingular curves:\n+In this example\n \n ```\n sage: K = GF(47^2)\n-sage: E = EllipticCurve([0,K.gen()])\n-sage: E.trace_of_frobenius()\n--47\n-sage: [E.isogeny(f).codomain().j_invariant() for f,_ in E.division_polynomial(7).factor()[3:]]\n-[0, 24*z2 + 1, 24*z2 + 1, 24*z2 + 1, 36, 36, 36]\n-sage: [E.isogeny(f).codomain().trace_of_frobenius() for f,_ in E.division_polynomial(7).factor()[3:]]\n-[-47, -49, -49, -49, 94, 94, 94]\n+sage: E = EllipticCurve([0, K.gen()])\n+sage: f = E.division_polynomial(7).factor()[4][0]\n+sage: E.is_supersingular()\n+True\n+sage: E.isogeny(f).codomain().is_supersingular()\n+False\n+sage: phi = E.isogeny(E.division_polynomial(7).factor()[8][0])\n+sage: phi(E.random_point())\n+---------------------------------------------------------------------------\n+TypeError                                 Traceback (most recent call last)\n+...\n+TypeError: Coordinates [16*z2 + 30, 3*z2 + 22, 1] do not define a point on Elliptic Curve defined by y^2 = x^3 + (3*z2+36)*x over Finite Field in z2 of size 47^2\n ```\n \n-The first curve is ok. The occurrences of trace 94 are weird, but j=0 and j=36 (1728) are 7-isogenous nevertheless. But trace -49?! That's not even supersingular!\n+The factors of the seventh division polynomial are not detected as bad kernel polynomials, and a wrong isogeny is computed instead.\n \n-What's even more weird is that Magma gives the same results, so I'm starting to doubt of my own sanity.\n+Tests to detect these cases are in `.isogenies_prime_degree_general()`. They should be moved to an independent function and called before applying V\u00e9lu's formulas.\n``````\n",
    "created_at": "2018-04-13T14:52:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351121",
    "user": "https://github.com/defeo"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,16 +1,21 @@
-I'm not sure about what's happening here. While playing around with supersingular curves:
+In this example
 
 ```
 sage: K = GF(47^2)
-sage: E = EllipticCurve([0,K.gen()])
-sage: E.trace_of_frobenius()
--47
-sage: [E.isogeny(f).codomain().j_invariant() for f,_ in E.division_polynomial(7).factor()[3:]]
-[0, 24*z2 + 1, 24*z2 + 1, 24*z2 + 1, 36, 36, 36]
-sage: [E.isogeny(f).codomain().trace_of_frobenius() for f,_ in E.division_polynomial(7).factor()[3:]]
-[-47, -49, -49, -49, 94, 94, 94]
+sage: E = EllipticCurve([0, K.gen()])
+sage: f = E.division_polynomial(7).factor()[4][0]
+sage: E.is_supersingular()
+True
+sage: E.isogeny(f).codomain().is_supersingular()
+False
+sage: phi = E.isogeny(E.division_polynomial(7).factor()[8][0])
+sage: phi(E.random_point())
+---------------------------------------------------------------------------
+TypeError                                 Traceback (most recent call last)
+...
+TypeError: Coordinates [16*z2 + 30, 3*z2 + 22, 1] do not define a point on Elliptic Curve defined by y^2 = x^3 + (3*z2+36)*x over Finite Field in z2 of size 47^2
 ```
 
-The first curve is ok. The occurrences of trace 94 are weird, but j=0 and j=36 (1728) are 7-isogenous nevertheless. But trace -49?! That's not even supersingular!
+The factors of the seventh division polynomial are not detected as bad kernel polynomials, and a wrong isogeny is computed instead.
 
-What's even more weird is that Magma gives the same results, so I'm starting to doubt of my own sanity.
+Tests to detect these cases are in `.isogenies_prime_degree_general()`. They should be moved to an independent function and called before applying Vélu's formulas.
``````




---

archive/issue_events_206884.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2018-04-13T14:52:39Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "rename": {
        "from": "Incorrect output from V\u00e9lu's formulas on j=0?",
        "to": "Add test to EllipticCurve.isogeny() to check for validity of kernel polynomials"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206884"
}
```



---

archive/issue_events_206885.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2018-04-13T14:52:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "bug",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206885"
}
```



---

archive/issue_events_206886.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2018-04-13T14:52:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206886"
}
```



---

archive/issue_comments_351122.json:
```json
{
    "body": "**Changing keywords** from \"isogenies, supersingular\" to \"isogenies, v\u00e9lu's formulas\".",
    "created_at": "2018-04-13T14:52:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351122",
    "user": "https://github.com/defeo"
}
```

**Changing keywords** from "isogenies, supersingular" to "isogenies, vélu's formulas".



---

archive/issue_events_206887.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2018-04-16T11:22:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206887"
}
```



---

archive/issue_events_206888.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2018-04-16T11:22:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "bug",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206888"
}
```



---

archive/issue_comments_351123.json:
```json
{
    "body": "<a id='comment:10'></a>\nWorking on it...",
    "created_at": "2018-04-16T11:22:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351123",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:10'></a>
Working on it...



---

archive/issue_comments_351124.json:
```json
{
    "body": "**Branch:** [u/cremona/23222](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/23222)",
    "created_at": "2018-04-16T14:39:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351124",
    "user": "https://github.com/JohnCremona"
}
```

**Branch:** [u/cremona/23222](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/23222)



---

archive/issue_comments_351125.json:
```json
{
    "body": "<a id='comment:11'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c120af3a0cb8323954bd5994984bc433adadfe8\">0c120af</a></td><td><code>#23222: check validity of isogeny kernel polynomials</code></td></tr></table>\n",
    "created_at": "2018-04-16T14:39:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351125",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:11'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c120af3a0cb8323954bd5994984bc433adadfe8">0c120af</a></td><td><code>#23222: check validity of isogeny kernel polynomials</code></td></tr></table>




---

archive/issue_comments_351126.json:
```json
{
    "body": "**Author:** John Cremona",
    "created_at": "2018-04-16T14:39:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351126",
    "user": "https://github.com/JohnCremona"
}
```

**Author:** John Cremona



---

archive/issue_events_206889.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2018-04-16T14:39:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206889"
}
```



---

archive/issue_events_206890.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2018-04-16T14:39:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206890"
}
```



---

archive/issue_events_206891.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2018-04-16T14:39:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206891"
}
```



---

archive/issue_comments_351127.json:
```json
{
    "body": "**Commit:** [0c120af3a0cb8323954bd5994984bc433adadfe8](https://github.com/sagemath/sagetrac-mirror/commit/0c120af3a0cb8323954bd5994984bc433adadfe8)",
    "created_at": "2018-04-16T14:39:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351127",
    "user": "https://github.com/JohnCremona"
}
```

**Commit:** [0c120af3a0cb8323954bd5994984bc433adadfe8](https://github.com/sagemath/sagetrac-mirror/commit/0c120af3a0cb8323954bd5994984bc433adadfe8)



---

archive/issue_comments_351128.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7518f7da457d7dc25a32a0ba9e92ab58a189b45\">f7518f7</a></td><td><code>#23222: fix docstring formatting error</code></td></tr></table>\n",
    "created_at": "2018-04-16T15:28:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351128",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7518f7da457d7dc25a32a0ba9e92ab58a189b45">f7518f7</a></td><td><code>#23222: fix docstring formatting error</code></td></tr></table>




---

archive/issue_comments_351129.json:
```json
{
    "body": "**Changing commit** from \"[0c120af3a0cb8323954bd5994984bc433adadfe8](https://github.com/sagemath/sagetrac-mirror/commit/0c120af3a0cb8323954bd5994984bc433adadfe8)\" to \"[f7518f7da457d7dc25a32a0ba9e92ab58a189b45](https://github.com/sagemath/sagetrac-mirror/commit/f7518f7da457d7dc25a32a0ba9e92ab58a189b45)\".",
    "created_at": "2018-04-16T15:28:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351129",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0c120af3a0cb8323954bd5994984bc433adadfe8](https://github.com/sagemath/sagetrac-mirror/commit/0c120af3a0cb8323954bd5994984bc433adadfe8)" to "[f7518f7da457d7dc25a32a0ba9e92ab58a189b45](https://github.com/sagemath/sagetrac-mirror/commit/f7518f7da457d7dc25a32a0ba9e92ab58a189b45)".



---

archive/issue_events_206892.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-01T13:42:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206892"
}
```



---

archive/issue_events_206893.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-01T13:42:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206893"
}
```



---

archive/issue_comments_351130.json:
```json
{
    "body": "<a id='comment:13'></a>\nred banch, needs rebasing",
    "created_at": "2018-12-01T13:42:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351130",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
red banch, needs rebasing



---

archive/issue_comments_351131.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [chapoton](#comment%3A13):\n> red branch, needs rebasing\n\nI will rebase it, but it would be good to have a commitment from someone to review it, since the actual work on this was done over 6 months ago.",
    "created_at": "2018-12-01T15:06:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351131",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:14'></a>
Replying to [chapoton](#comment%3A13):
> red branch, needs rebasing

I will rebase it, but it would be good to have a commitment from someone to review it, since the actual work on this was done over 6 months ago.



---

archive/issue_comments_351132.json:
```json
{
    "body": "**Changing commit** from \"[f7518f7da457d7dc25a32a0ba9e92ab58a189b45](https://github.com/sagemath/sagetrac-mirror/commit/f7518f7da457d7dc25a32a0ba9e92ab58a189b45)\" to \"[0683290a5a04626d57eed1e28910bfc9346a6f34](https://github.com/sagemath/sagetrac-mirror/commit/0683290a5a04626d57eed1e28910bfc9346a6f34)\".",
    "created_at": "2018-12-01T20:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351132",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f7518f7da457d7dc25a32a0ba9e92ab58a189b45](https://github.com/sagemath/sagetrac-mirror/commit/f7518f7da457d7dc25a32a0ba9e92ab58a189b45)" to "[0683290a5a04626d57eed1e28910bfc9346a6f34](https://github.com/sagemath/sagetrac-mirror/commit/0683290a5a04626d57eed1e28910bfc9346a6f34)".



---

archive/issue_comments_351133.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0683290a5a04626d57eed1e28910bfc9346a6f34\">0683290</a></td><td><code>Merge branch 'develop' into 23222</code></td></tr></table>\n",
    "created_at": "2018-12-01T20:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351133",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0683290a5a04626d57eed1e28910bfc9346a6f34">0683290</a></td><td><code>Merge branch 'develop' into 23222</code></td></tr></table>




---

archive/issue_events_206894.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2018-12-01T20:28:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206894"
}
```



---

archive/issue_events_206895.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2018-12-01T20:28:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206895"
}
```



---

archive/issue_comments_351134.json:
```json
{
    "body": "<a id='comment:17'></a>\nIt's been in my todo list for 6 months indeed. But I won't have time before Christmas.",
    "created_at": "2018-12-02T09:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351134",
    "user": "https://github.com/defeo"
}
```

<a id='comment:17'></a>
It's been in my todo list for 6 months indeed. But I won't have time before Christmas.



---

archive/issue_comments_351135.json:
```json
{
    "body": "<a id='comment:18'></a>\nI have one doctest failure:\n\n```\nsage -t --long --warn-long 83.4 src/sage/schemes/elliptic_curves/ell_field.py                                                          \n**********************************************************************                                                                 \nFile \"src/sage/schemes/elliptic_curves/ell_field.py\", line 1023, in sage.schemes.elliptic_curves.ell_field.EllipticCurve_field.isogeni$\ns_prime_degree\nFailed example:\n    E.isogenies_prime_degree(5)\nException raised:\n    Traceback (most recent call last):\n      File \"/data/dfl/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 671, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/data/dfl/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1086, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.elliptic_curves.ell_field.EllipticCurve_field.isogenies_prime_degree[28]>\", line 1, in <module>\n        E.isogenies_prime_degree(Integer(5))\n      File \"/data/dfl/sage/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_field.py\", line 1091, in isogenies_prime$\ndegree\n        return sum([isogenies_prime_degree(self, d) for d in L], [])\n      File \"/data/dfl/sage/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/isogeny_small_degree.py\", line 2328, in isog$\nnies_prime_degree\n        return isogenies_prime_degree_general(E,l, minimal_models=minimal_models)\n      File \"/data/dfl/sage/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/isogeny_small_degree.py\", line 2197, in isog$\nnies_prime_degree_general\n        return [E.isogeny(k) for k in ker]\n      File \"/data/dfl/sage/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_field.py\", line 880, in isogeny\n        raise RuntimeError(\"Unable to construct isogeny: %s\" % e)\n    RuntimeError: Unable to construct isogeny: 'sage.rings.fraction_field_FpT.FpTElement' object has no attribute 'divides'\n**********************************************************************\n```\n\n...investigating.",
    "created_at": "2019-01-15T10:26:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351135",
    "user": "https://github.com/defeo"
}
```

<a id='comment:18'></a>
I have one doctest failure:

```
sage -t --long --warn-long 83.4 src/sage/schemes/elliptic_curves/ell_field.py                                                          
**********************************************************************                                                                 
File "src/sage/schemes/elliptic_curves/ell_field.py", line 1023, in sage.schemes.elliptic_curves.ell_field.EllipticCurve_field.isogeni$
s_prime_degree
Failed example:
    E.isogenies_prime_degree(5)
Exception raised:
    Traceback (most recent call last):
      File "/data/dfl/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/data/dfl/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1086, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.elliptic_curves.ell_field.EllipticCurve_field.isogenies_prime_degree[28]>", line 1, in <module>
        E.isogenies_prime_degree(Integer(5))
      File "/data/dfl/sage/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_field.py", line 1091, in isogenies_prime$
degree
        return sum([isogenies_prime_degree(self, d) for d in L], [])
      File "/data/dfl/sage/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/isogeny_small_degree.py", line 2328, in isog$
nies_prime_degree
        return isogenies_prime_degree_general(E,l, minimal_models=minimal_models)
      File "/data/dfl/sage/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/isogeny_small_degree.py", line 2197, in isog$
nies_prime_degree_general
        return [E.isogeny(k) for k in ker]
      File "/data/dfl/sage/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_field.py", line 880, in isogeny
        raise RuntimeError("Unable to construct isogeny: %s" % e)
    RuntimeError: Unable to construct isogeny: 'sage.rings.fraction_field_FpT.FpTElement' object has no attribute 'divides'
**********************************************************************
```

...investigating.



---

archive/issue_comments_351136.json:
```json
{
    "body": "<a id='comment:19'></a>\nThe doctest failure is due to #27064. No issue to be addressed here.",
    "created_at": "2019-01-15T17:30:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351136",
    "user": "https://github.com/defeo"
}
```

<a id='comment:19'></a>
The doctest failure is due to #27064. No issue to be addressed here.



---

archive/issue_comments_351137.json:
```json
{
    "body": "<a id='comment:20'></a>\nIn `is_kernel_polynomial`, there is this test:\n\n```\npsi_m = E.division_polynomial(m)\nif not f.divides(psi_m):\n    return False\n```\n\nisn't it (much) more efficient to do\n\n```\nif E.division_polynomial(m, x=f.parent().quo(f).gen()) != 0:\n    return False\n```",
    "created_at": "2019-01-15T18:13:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351137",
    "user": "https://github.com/defeo"
}
```

<a id='comment:20'></a>
In `is_kernel_polynomial`, there is this test:

```
psi_m = E.division_polynomial(m)
if not f.divides(psi_m):
    return False
```

isn't it (much) more efficient to do

```
if E.division_polynomial(m, x=f.parent().quo(f).gen()) != 0:
    return False
```



---

archive/issue_comments_351138.json:
```json
{
    "body": "<a id='comment:21'></a>\nThe doc still says\n\n```\n   * \"check\" (default: True) does some partial checks that the\n\n        input is valid (e.g., that the kernel polynomial provided is\n        valid); however, invalid input can in some cases still pass,\n        since that the points define a group is not checked.\n```\n\nwhat are the invalid inputs that still pass?",
    "created_at": "2019-01-15T18:34:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351138",
    "user": "https://github.com/defeo"
}
```

<a id='comment:21'></a>
The doc still says

```
   * "check" (default: True) does some partial checks that the

        input is valid (e.g., that the kernel polynomial provided is
        valid); however, invalid input can in some cases still pass,
        since that the points define a group is not checked.
```

what are the invalid inputs that still pass?



---

archive/issue_comments_351139.json:
```json
{
    "body": "<a id='comment:22'></a>\nI will correct the docstring and also avoid using f.divides as suggested.",
    "created_at": "2019-01-17T12:29:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351139",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:22'></a>
I will correct the docstring and also avoid using f.divides as suggested.



---

archive/issue_events_206896.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2019-01-17T12:29:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206896"
}
```



---

archive/issue_events_206897.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2019-01-17T12:29:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206897"
}
```



---

archive/issue_events_206898.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2019-01-17T12:29:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206898"
}
```



---

archive/issue_events_206899.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2019-01-17T12:29:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206899"
}
```



---

archive/issue_comments_351140.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f123620b09a4d8788f1fd2740c7d5b8f4aed9af8\">f123620</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into 23222</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c30e532e3f228a35bc900f5b1357ddfe5e9e8f5\">0c30e53</a></td><td><code>Merge branch 'develop' into 23222</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e7593fb01c48cf7d1d1c35f015462f56dc2aaa9\">7e7593f</a></td><td><code>#23222 small change to avoid #27064, and update docstring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72a61bbd024b6b089b71aa8a3405f07e6fb55ae2\">72a61bb</a></td><td><code>Merge remote-tracking branch 'trac/u/cremona/23222' into 23222</code></td></tr></table>\n",
    "created_at": "2019-01-17T13:03:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351140",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f123620b09a4d8788f1fd2740c7d5b8f4aed9af8">f123620</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into 23222</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c30e532e3f228a35bc900f5b1357ddfe5e9e8f5">0c30e53</a></td><td><code>Merge branch 'develop' into 23222</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e7593fb01c48cf7d1d1c35f015462f56dc2aaa9">7e7593f</a></td><td><code>#23222 small change to avoid #27064, and update docstring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72a61bbd024b6b089b71aa8a3405f07e6fb55ae2">72a61bb</a></td><td><code>Merge remote-tracking branch 'trac/u/cremona/23222' into 23222</code></td></tr></table>




---

archive/issue_comments_351141.json:
```json
{
    "body": "**Changing commit** from \"[0683290a5a04626d57eed1e28910bfc9346a6f34](https://github.com/sagemath/sagetrac-mirror/commit/0683290a5a04626d57eed1e28910bfc9346a6f34)\" to \"[72a61bbd024b6b089b71aa8a3405f07e6fb55ae2](https://github.com/sagemath/sagetrac-mirror/commit/72a61bbd024b6b089b71aa8a3405f07e6fb55ae2)\".",
    "created_at": "2019-01-17T13:03:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351141",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0683290a5a04626d57eed1e28910bfc9346a6f34](https://github.com/sagemath/sagetrac-mirror/commit/0683290a5a04626d57eed1e28910bfc9346a6f34)" to "[72a61bbd024b6b089b71aa8a3405f07e6fb55ae2](https://github.com/sagemath/sagetrac-mirror/commit/72a61bbd024b6b089b71aa8a3405f07e6fb55ae2)".



---

archive/issue_comments_351142.json:
```json
{
    "body": "**Reviewer:** defeo, chapoton",
    "created_at": "2019-01-17T13:03:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351142",
    "user": "https://github.com/JohnCremona"
}
```

**Reviewer:** defeo, chapoton



---

archive/issue_events_206900.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2019-01-17T13:03:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206900"
}
```



---

archive/issue_events_206901.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2019-01-17T13:03:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206901"
}
```



---

archive/issue_comments_351143.json:
```json
{
    "body": "**Changing branch** from \"[u/cremona/23222](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/23222)\" to \"[u/defeo/23222](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/23222)\".",
    "created_at": "2019-01-17T16:04:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351143",
    "user": "https://github.com/defeo"
}
```

**Changing branch** from "[u/cremona/23222](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/23222)" to "[u/defeo/23222](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/23222)".



---

archive/issue_comments_351144.json:
```json
{
    "body": "**Changing commit** from \"[72a61bbd024b6b089b71aa8a3405f07e6fb55ae2](https://github.com/sagemath/sagetrac-mirror/commit/72a61bbd024b6b089b71aa8a3405f07e6fb55ae2)\" to \"[28e369f252fa8339ba379c5619096016afdc4493](https://github.com/sagemath/sagetrac-mirror/commit/28e369f252fa8339ba379c5619096016afdc4493)\".",
    "created_at": "2019-01-17T16:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351144",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[72a61bbd024b6b089b71aa8a3405f07e6fb55ae2](https://github.com/sagemath/sagetrac-mirror/commit/72a61bbd024b6b089b71aa8a3405f07e6fb55ae2)" to "[28e369f252fa8339ba379c5619096016afdc4493](https://github.com/sagemath/sagetrac-mirror/commit/28e369f252fa8339ba379c5619096016afdc4493)".



---

archive/issue_comments_351145.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f123620b09a4d8788f1fd2740c7d5b8f4aed9af8\">f123620</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into 23222</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c30e532e3f228a35bc900f5b1357ddfe5e9e8f5\">0c30e53</a></td><td><code>Merge branch 'develop' into 23222</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e7593fb01c48cf7d1d1c35f015462f56dc2aaa9\">7e7593f</a></td><td><code>#23222 small change to avoid #27064, and update docstring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72a61bbd024b6b089b71aa8a3405f07e6fb55ae2\">72a61bb</a></td><td><code>Merge remote-tracking branch 'trac/u/cremona/23222' into 23222</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28e369f252fa8339ba379c5619096016afdc4493\">28e369f</a></td><td><code>Merge branch 'u/cremona/23222' of git://trac.sagemath.org/sage into t/23222/23222</code></td></tr></table>\n",
    "created_at": "2019-01-17T16:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351145",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f123620b09a4d8788f1fd2740c7d5b8f4aed9af8">f123620</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into 23222</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c30e532e3f228a35bc900f5b1357ddfe5e9e8f5">0c30e53</a></td><td><code>Merge branch 'develop' into 23222</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e7593fb01c48cf7d1d1c35f015462f56dc2aaa9">7e7593f</a></td><td><code>#23222 small change to avoid #27064, and update docstring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72a61bbd024b6b089b71aa8a3405f07e6fb55ae2">72a61bb</a></td><td><code>Merge remote-tracking branch 'trac/u/cremona/23222' into 23222</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28e369f252fa8339ba379c5619096016afdc4493">28e369f</a></td><td><code>Merge branch 'u/cremona/23222' of git://trac.sagemath.org/sage into t/23222/23222</code></td></tr></table>




---

archive/issue_comments_351146.json:
```json
{
    "body": "**Changing reviewer** from \"defeo, chapoton\" to \"Luca De Feo, Fr\u00e9deric Chapoton\".",
    "created_at": "2019-01-17T16:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351146",
    "user": "https://github.com/defeo"
}
```

**Changing reviewer** from "defeo, chapoton" to "Luca De Feo, Fréderic Chapoton".



---

archive/issue_comments_351147.json:
```json
{
    "body": "<a id='comment:27'></a>\nDoctests pass. I just fixed a minor problem in the docstring (`r\"\"\"` instead of `\"\"\"`). Thanks, and sorry for the long time.",
    "created_at": "2019-01-17T16:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351147",
    "user": "https://github.com/defeo"
}
```

<a id='comment:27'></a>
Doctests pass. I just fixed a minor problem in the docstring (`r"""` instead of `"""`). Thanks, and sorry for the long time.



---

archive/issue_events_206902.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2019-01-17T16:24:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206902"
}
```



---

archive/issue_events_206903.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2019-01-17T16:24:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206903"
}
```



---

archive/issue_comments_351148.json:
```json
{
    "body": "<a id='comment:28'></a>\nThanks!",
    "created_at": "2019-01-17T16:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351148",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:28'></a>
Thanks!



---

archive/issue_comments_351149.json:
```json
{
    "body": "**Changing reviewer** from \"Luca De Feo, Fr\u00e9deric Chapoton\" to \"Luca De Feo, Fr\u00e9d\u00e9ric Chapoton\".",
    "created_at": "2019-01-17T16:26:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351149",
    "user": "https://github.com/fchapoton"
}
```

**Changing reviewer** from "Luca De Feo, Fréderic Chapoton" to "Luca De Feo, Frédéric Chapoton".



---

archive/issue_comments_351150.json:
```json
{
    "body": "**Changing branch** from \"[u/defeo/23222](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/23222)\" to \"[28e369f252fa8339ba379c5619096016afdc4493](https://github.com/sagemath/sagetrac-mirror/commit/28e369f252fa8339ba379c5619096016afdc4493)\".",
    "created_at": "2019-01-22T12:40:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351150",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/defeo/23222](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/23222)" to "[28e369f252fa8339ba379c5619096016afdc4493](https://github.com/sagemath/sagetrac-mirror/commit/28e369f252fa8339ba379c5619096016afdc4493)".



---

archive/issue_events_206904.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-22T12:40:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206904"
}
```



---

archive/issue_events_206905.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-22T12:40:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23222#event-206905"
}
```



---

archive/issue_comments_351151.json:
```json
{
    "body": "**Changing commit** from \"[28e369f252fa8339ba379c5619096016afdc4493](https://github.com/sagemath/sagetrac-mirror/commit/28e369f252fa8339ba379c5619096016afdc4493)\" to \"\".",
    "created_at": "2019-01-24T11:00:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351151",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[28e369f252fa8339ba379c5619096016afdc4493](https://github.com/sagemath/sagetrac-mirror/commit/28e369f252fa8339ba379c5619096016afdc4493)" to "".



---

archive/issue_comments_351152.json:
```json
{
    "body": "<a id='comment:31'></a>\none py3-incompatible import was added here ; fix at #27107",
    "created_at": "2019-01-24T11:00:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23222#issuecomment-351152",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'></a>
one py3-incompatible import was added here ; fix at #27107
