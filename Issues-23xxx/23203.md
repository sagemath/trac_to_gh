# Issue 23203: A polynomial ring contains its basering

archive/issues_022966.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nCurrently, this fails\n\n```\nsage: R.<x> = ZZ[]\nsage: S.<y> = R[]\nsage: R.is_subring(S)\nNotImplementedError\n```\n\nDepends on #23204\n\nCC:  @jpflori\n\nComponent: **commutative algebra**\n\nKeywords: **sd86.5, sd87**\n\nAuthor: **Julian R\u00fcth**\n\nBranch/Commit: **[`5f99cf9`](https://github.com/sagemath/sagetrac-mirror/commit/5f99cf980c01783faecf31b1009ee39adea36c69)**\n\nReviewer: **Claire Tomesch**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23203_\n\n",
    "closed_at": "2017-08-03T22:11:29Z",
    "created_at": "2017-06-09T22:37:54Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "A polynomial ring contains its basering",
    "type": "issue",
    "updated_at": "2017-08-03T22:11:29Z",
    "url": "https://github.com/sagemath/sage/issues/23203",
    "user": "https://github.com/saraedum"
}
```
<div id="comment:0"></div>

Currently, this fails

```
sage: R.<x> = ZZ[]
sage: S.<y> = R[]
sage: R.is_subring(S)
NotImplementedError
```

Depends on #23204

CC:  @jpflori

Component: **commutative algebra**

Keywords: **sd86.5, sd87**

Author: **Julian Rüth**

Branch/Commit: **[`5f99cf9`](https://github.com/sagemath/sagetrac-mirror/commit/5f99cf980c01783faecf31b1009ee39adea36c69)**

Reviewer: **Claire Tomesch**

_Issue created by migration from https://trac.sagemath.org/ticket/23203_





---

archive/issue_events_320526.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-09T22:37:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23203#event-320526"
}
```



---

archive/issue_events_320527.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-09T22:37:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
    "label_color": "0000ff",
    "label_name": "c: commutative algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23203#event-320527"
}
```



---

archive/issue_events_320528.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-09T22:37:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23203#event-320528"
}
```



---

archive/issue_events_320529.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-09T22:37:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23203#event-320529"
}
```



---

archive/issue_comments_347967.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Currenty, this fails\n+Currently, this fails\n \n ```\n sage: R.<x> = ZZ[]\n``````\n",
    "created_at": "2017-06-09T22:42:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347967",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Currenty, this fails
+Currently, this fails
 
 ```
 sage: R.<x> = ZZ[]
``````




---

archive/issue_comments_347968.json:
```json
{
    "body": "Dependencies: **#23204**",
    "created_at": "2017-06-09T23:19:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347968",
    "user": "https://github.com/saraedum"
}
```

Dependencies: **#23204**



---

archive/issue_comments_347969.json:
```json
{
    "body": "Branch: **[u/saraedum/a_polynomial_ring_contains_its_basering](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/a_polynomial_ring_contains_its_basering)**",
    "created_at": "2017-06-09T23:26:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347969",
    "user": "https://github.com/saraedum"
}
```

Branch: **[u/saraedum/a_polynomial_ring_contains_its_basering](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/a_polynomial_ring_contains_its_basering)**



---

archive/issue_events_320530.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-09T23:26:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23203#event-320530"
}
```



---

archive/issue_comments_347970.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17b83742312cb70f1021a1949be204f89d0b5d94\"><code>17b8374</code></a></td><td><code>A polynomial ring contains its basering</code></td></tr></table>\n",
    "created_at": "2017-06-09T23:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347970",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17b83742312cb70f1021a1949be204f89d0b5d94"><code>17b8374</code></a></td><td><code>A polynomial ring contains its basering</code></td></tr></table>




---

archive/issue_comments_347971.json:
```json
{
    "body": "Commit: **[`17b8374`](https://github.com/sagemath/sagetrac-mirror/commit/17b83742312cb70f1021a1949be204f89d0b5d94)**",
    "created_at": "2017-06-09T23:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347971",
    "user": "https://github.com/saraedum"
}
```

Commit: **[`17b8374`](https://github.com/sagemath/sagetrac-mirror/commit/17b83742312cb70f1021a1949be204f89d0b5d94)**



---

archive/issue_comments_347972.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\n(needs review: the `is_subring` does not work without #23204.)",
    "created_at": "2017-06-09T23:27:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347972",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:5" align="right">comment:5</div>

(needs review: the `is_subring` does not work without #23204.)



---

archive/issue_comments_347973.json:
```json
{
    "body": "Author: **Julian R\u00fcth**",
    "created_at": "2017-06-10T01:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347973",
    "user": "https://github.com/saraedum"
}
```

Author: **Julian Rüth**



---

archive/issue_comments_347974.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nWhile it is a degenerate case, a polynomial ring could be isomorphic to its base ring:\n\n```\nsage: PolynomialRing(ZZ, [])\nMultivariate Polynomial Ring in no variables over Integer Ring\n```",
    "created_at": "2017-06-23T00:06:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347974",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:8" align="right">comment:8</div>

While it is a degenerate case, a polynomial ring could be isomorphic to its base ring:

```
sage: PolynomialRing(ZZ, [])
Multivariate Polynomial Ring in no variables over Integer Ring
```



---

archive/issue_comments_347975.json:
```json
{
    "body": "Changed keywords from **sd86.5** to **sd86.5, sd87**",
    "created_at": "2017-07-17T17:44:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347975",
    "user": "https://github.com/roed314"
}
```

Changed keywords from **sd86.5** to **sd86.5, sd87**



---

archive/issue_comments_347976.json:
```json
{
    "body": "Changed commit from **[`17b8374`](https://github.com/sagemath/sagetrac-mirror/commit/17b83742312cb70f1021a1949be204f89d0b5d94)** to **[`a9d8b4f`](https://github.com/sagemath/sagetrac-mirror/commit/a9d8b4f440bc74a02bd564e055f287cac25d899b)**",
    "created_at": "2017-07-17T21:18:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347976",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`17b8374`](https://github.com/sagemath/sagetrac-mirror/commit/17b83742312cb70f1021a1949be204f89d0b5d94)** to **[`a9d8b4f`](https://github.com/sagemath/sagetrac-mirror/commit/a9d8b4f440bc74a02bd564e055f287cac25d899b)**



---

archive/issue_comments_347977.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b17dd8d487e2b936b6b5d9daec4046ac26edb5f\"><code>4b17dd8</code></a></td><td><code>Fixing doctest errors from the change to natural_map in ring homsets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80cd0ff96fba27a64a9e4f625487254c5619274a\"><code>80cd0ff</code></a></td><td><code>Merge branch 'develop' into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c7d1b94ccc46e2771a3a46b8345cdac98eacdba\"><code>5c7d1b9</code></a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2043ff3a6b723c7497de9561350a3118f0c096dc\"><code>2043ff3</code></a></td><td><code>Fixing doctest errors</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7eb1797654cc430c60188c8dac6c004e5ea2615\"><code>d7eb179</code></a></td><td><code>Remove RingHomomorphism_coercion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbd5b0d1ae75fbc71ee78ffcfa71e99085071e85\"><code>dbd5b0d</code></a></td><td><code>fix morphism printing in doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f606020c2d3d370330bdbb44fdf3f00cb3e64cf7\"><code>f606020</code></a></td><td><code>Fixed some doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db5cee6d098314aedd80af7f7ac8e18df32c2e20\"><code>db5cee6</code></a></td><td><code>implement zero() for ring homsets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a42ebcf334ac70c16dfdffe052f6968fa643f858\"><code>a42ebcf</code></a></td><td><code>implement `__nonzero__` when there is no zero element</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9d8b4f440bc74a02bd564e055f287cac25d899b\"><code>a9d8b4f</code></a></td><td><code>Merge branch 't/23204/remove_ringhomomorphism_coercion' into t/23203/a_polynomial_ring_contains_its_basering</code></td></tr></table>\n",
    "created_at": "2017-07-17T21:18:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347977",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b17dd8d487e2b936b6b5d9daec4046ac26edb5f"><code>4b17dd8</code></a></td><td><code>Fixing doctest errors from the change to natural_map in ring homsets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80cd0ff96fba27a64a9e4f625487254c5619274a"><code>80cd0ff</code></a></td><td><code>Merge branch 'develop' into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c7d1b94ccc46e2771a3a46b8345cdac98eacdba"><code>5c7d1b9</code></a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/23204/remove_ringhomomorphism_coercion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2043ff3a6b723c7497de9561350a3118f0c096dc"><code>2043ff3</code></a></td><td><code>Fixing doctest errors</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7eb1797654cc430c60188c8dac6c004e5ea2615"><code>d7eb179</code></a></td><td><code>Remove RingHomomorphism_coercion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbd5b0d1ae75fbc71ee78ffcfa71e99085071e85"><code>dbd5b0d</code></a></td><td><code>fix morphism printing in doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f606020c2d3d370330bdbb44fdf3f00cb3e64cf7"><code>f606020</code></a></td><td><code>Fixed some doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db5cee6d098314aedd80af7f7ac8e18df32c2e20"><code>db5cee6</code></a></td><td><code>implement zero() for ring homsets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a42ebcf334ac70c16dfdffe052f6968fa643f858"><code>a42ebcf</code></a></td><td><code>implement `__nonzero__` when there is no zero element</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9d8b4f440bc74a02bd564e055f287cac25d899b"><code>a9d8b4f</code></a></td><td><code>Merge branch 't/23204/remove_ringhomomorphism_coercion' into t/23203/a_polynomial_ring_contains_its_basering</code></td></tr></table>




---

archive/issue_comments_347978.json:
```json
{
    "body": "Changed commit from **[`a9d8b4f`](https://github.com/sagemath/sagetrac-mirror/commit/a9d8b4f440bc74a02bd564e055f287cac25d899b)** to **[`5f99cf9`](https://github.com/sagemath/sagetrac-mirror/commit/5f99cf980c01783faecf31b1009ee39adea36c69)**",
    "created_at": "2017-07-20T18:12:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347978",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a9d8b4f`](https://github.com/sagemath/sagetrac-mirror/commit/a9d8b4f440bc74a02bd564e055f287cac25d899b)** to **[`5f99cf9`](https://github.com/sagemath/sagetrac-mirror/commit/5f99cf980c01783faecf31b1009ee39adea36c69)**



---

archive/issue_comments_347979.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f99cf980c01783faecf31b1009ee39adea36c69\"><code>5f99cf9</code></a></td><td><code>Merge branch 'develop' into t/23203/a_polynomial_ring_contains_its_basering</code></td></tr></table>\n",
    "created_at": "2017-07-20T18:12:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347979",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f99cf980c01783faecf31b1009ee39adea36c69"><code>5f99cf9</code></a></td><td><code>Merge branch 'develop' into t/23203/a_polynomial_ring_contains_its_basering</code></td></tr></table>




---

archive/issue_comments_347980.json:
```json
{
    "body": "Reviewer: **cmt**",
    "created_at": "2017-07-20T20:34:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347980",
    "user": "https://github.com/sagetrac-cmt"
}
```

Reviewer: **cmt**



---

archive/issue_comments_347981.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nFull names in reviewer field please :)",
    "created_at": "2017-07-20T20:52:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347981",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:13" align="right">comment:13</div>

Full names in reviewer field please :)



---

archive/issue_comments_347982.json:
```json
{
    "body": "Changed reviewer from **cmt** to none",
    "created_at": "2017-07-20T20:53:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347982",
    "user": "https://github.com/sagetrac-cmt"
}
```

Changed reviewer from **cmt** to none



---

archive/issue_comments_347983.json:
```json
{
    "body": "Reviewer: **Claire Tomesch**",
    "created_at": "2017-07-21T01:11:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347983",
    "user": "https://github.com/saraedum"
}
```

Reviewer: **Claire Tomesch**



---

archive/issue_comments_347984.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAfter fetching and merging #23204 into my local branch for this ticket, I built sage. I then ran `./sage -coverage <files>` for all the files listed in the diff for this ticket, and compared that to the results of running the same command for the latest build of develop (8.0 rc2). The same number of missing doctests occurred in each build for each file, and although the total number of doctests for `src/sage/rings/morphism.pyx` and `src/sage/rings/polynomial/polynomial_element.pyx` changed between the develop build and this build, this was to be expected given the number of methods deleted (`__nonzero__` and `is_zero`) and the number of trivial methods added (`is_injective` and (`is_surjective`), respectively. So, it appears that functionally the doctest coverage remained the same.\n\nI am still within the (lengthly) process of running `./sage -tp 8 --long src/` now. It has produced some errors, which I will attempt to replicate before posting about them. Running all of the doctests may have been a mistake... I will also retry a more limited set of doctests shortly as well.",
    "created_at": "2017-07-21T18:50:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347984",
    "user": "https://github.com/sagetrac-cmt"
}
```

<div id="comment:16" align="right">comment:16</div>

After fetching and merging #23204 into my local branch for this ticket, I built sage. I then ran `./sage -coverage <files>` for all the files listed in the diff for this ticket, and compared that to the results of running the same command for the latest build of develop (8.0 rc2). The same number of missing doctests occurred in each build for each file, and although the total number of doctests for `src/sage/rings/morphism.pyx` and `src/sage/rings/polynomial/polynomial_element.pyx` changed between the develop build and this build, this was to be expected given the number of methods deleted (`__nonzero__` and `is_zero`) and the number of trivial methods added (`is_injective` and (`is_surjective`), respectively. So, it appears that functionally the doctest coverage remained the same.

I am still within the (lengthly) process of running `./sage -tp 8 --long src/` now. It has produced some errors, which I will attempt to replicate before posting about them. Running all of the doctests may have been a mistake... I will also retry a more limited set of doctests shortly as well.



---

archive/issue_comments_347985.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI just updated #23204 to fix typos in two of the doctest.  If you are getting a two failures, you might try checking out the updated ticket.\n\nReplying to [@sagetrac-cmt](#comment%3A16):\n> After fetching and merging #23204 into my local branch for this ticket, I built sage. I then ran `./sage -coverage <files>` for all the files listed in the diff for this ticket, and compared that to the results of running the same command for the latest build of develop (8.0 rc2). The same number of missing doctests occurred in each build for each file, and although the total number of doctests for `src/sage/rings/morphism.pyx` and `src/sage/rings/polynomial/polynomial_element.pyx` changed between the develop build and this build, this was to be expected given the number of methods deleted (`__nonzero__` and `is_zero`) and the number of trivial methods added (`is_injective` and (`is_surjective`), respectively. So, it appears that functionally the doctest coverage remained the same.\n> \n> I am still within the (lengthly) process of running `./sage -tp 8 --long src/` now. It has produced some errors, which I will attempt to replicate before posting about them. Running all of the doctests may have been a mistake... I will also retry a more limited set of doctests shortly as well.",
    "created_at": "2017-07-21T18:58:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347985",
    "user": "https://github.com/adeines"
}
```

<div id="comment:17" align="right">comment:17</div>

I just updated #23204 to fix typos in two of the doctest.  If you are getting a two failures, you might try checking out the updated ticket.

Replying to [@sagetrac-cmt](#comment%3A16):
> After fetching and merging #23204 into my local branch for this ticket, I built sage. I then ran `./sage -coverage <files>` for all the files listed in the diff for this ticket, and compared that to the results of running the same command for the latest build of develop (8.0 rc2). The same number of missing doctests occurred in each build for each file, and although the total number of doctests for `src/sage/rings/morphism.pyx` and `src/sage/rings/polynomial/polynomial_element.pyx` changed between the develop build and this build, this was to be expected given the number of methods deleted (`__nonzero__` and `is_zero`) and the number of trivial methods added (`is_injective` and (`is_surjective`), respectively. So, it appears that functionally the doctest coverage remained the same.
> 
> I am still within the (lengthly) process of running `./sage -tp 8 --long src/` now. It has produced some errors, which I will attempt to replicate before posting about them. Running all of the doctests may have been a mistake... I will also retry a more limited set of doctests shortly as well.



---

archive/issue_comments_347986.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nOkay, something in my configuration had gotten messed up, so I started over entirely. I just pulled the latest version of this branch (`5f99cf980c`), which has the content of #23204 already merged in, merged in the latest develop branch (`74b03027bc`), and rebuilt. I then ran the following limited set of doctests and got these results:\n\n```bash\nbash-3.2$ ./sage -tp 8 --long src/sage/structure/ src/sage/categories/ src/sage/rings/ src/sage/modular/ src/sage/schemes/\n\ntoo few successful tests, not using stored timings\nRunning doctests with ID 2017-07-21-16-33-34-b8fb451a.\nGit branch: t/23203/a_polynomial_ring_contains_its_basering\nUsing --optional=ccache,mpir,python2,sage\nSorting sources by runtime so that slower doctests are run first....\nDoctesting 883 files using 8 threads.\n\n...\n\nsage -t --long src/sage/schemes/curves/projective_curve.py\n**********************************************************************\nFile \"src/sage/schemes/curves/projective_curve.py\", line 1304, in sage.schemes.curves.projective_curve.ProjectivePlaneCurve.ordinary_model\nFailed example:\n    D = C.ordinary_model(); D # long time (2 seconds)\nException raised:\n    Traceback (most recent call last):\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 509, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 872, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.curves.projective_curve.ProjectivePlaneCurve.ordinary_model[8]>\", line 1, in <module>\n        D = C.ordinary_model(); D # long time (2 seconds)\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/schemes/curves/projective_curve.py\", line 1393, in ordinary_model\n        emb = extension(C.singular_subscheme())\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/schemes/curves/projective_curve.py\", line 1373, in extension\n        pts = self.change_ring(F.embeddings(QQbar)[0]).rational_points()\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/schemes/generic/algebraic_scheme.py\", line 1846, in change_ring\n        I = [f.change_ring(R) for f in self.defining_polynomials()]\n      File \"sage/rings/polynomial/multi_polynomial.pyx\", line 873, in sage.rings.polynomial.multi_polynomial.MPolynomial.change_ring (build/cythonized/sage/rings/polynomial/multi_polynomial.c:13133)\n        return self.parent().change_ring(R)(self)\n      File \"sage/rings/polynomial/multi_polynomial_ring_generic.pyx\", line 985, in sage.rings.polynomial.multi_polynomial_ring_generic.MPolynomialRing_generic.change_ring (build/cythonized/sage/rings/polynomial/multi_polynomial_ring_generic.c:15237)\n        return PolynomialRing(base_ring, self.ngens(), names, order=order)\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.py\", line 438, in PolynomialRing\n        raise TypeError('base_ring must be a ring')\n    TypeError: base_ring must be a ring\n**********************************************************************\nFile \"src/sage/schemes/curves/projective_curve.py\", line 1321, in sage.schemes.curves.projective_curve.ProjectivePlaneCurve.ordinary_model\nFailed example:\n    all([D.codomain().is_ordinary_singularity(Q) for Q in D.codomain().singular_points()]) # long time\nException raised:\n    Traceback (most recent call last):\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 509, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 872, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.curves.projective_curve.ProjectivePlaneCurve.ordinary_model[9]>\", line 1, in <module>\n        all([D.codomain().is_ordinary_singularity(Q) for Q in D.codomain().singular_points()]) # long time\n    NameError: name 'D' is not defined\n**********************************************************************\nFile \"src/sage/schemes/curves/projective_curve.py\", line 1329, in sage.schemes.curves.projective_curve.ProjectivePlaneCurve.ordinary_model\nFailed example:\n    C.ordinary_model() # long time (5 seconds)\nException raised:\n    Traceback (most recent call last):\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 509, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 872, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.curves.projective_curve.ProjectivePlaneCurve.ordinary_model[13]>\", line 1, in <module>\n        C.ordinary_model() # long time (5 seconds)\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/schemes/curves/projective_curve.py\", line 1393, in ordinary_model\n        emb = extension(C.singular_subscheme())\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/schemes/curves/projective_curve.py\", line 1373, in extension\n        pts = self.change_ring(F.embeddings(QQbar)[0]).rational_points()\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/schemes/generic/algebraic_scheme.py\", line 1846, in change_ring\n        I = [f.change_ring(R) for f in self.defining_polynomials()]\n      File \"sage/rings/polynomial/multi_polynomial.pyx\", line 873, in sage.rings.polynomial.multi_polynomial.MPolynomial.change_ring (build/cythonized/sage/rings/polynomial/multi_polynomial.c:13133)\n        return self.parent().change_ring(R)(self)\n      File \"sage/rings/polynomial/multi_polynomial_ring_generic.pyx\", line 985, in sage.rings.polynomial.multi_polynomial_ring_generic.MPolynomialRing_generic.change_ring (build/cythonized/sage/rings/polynomial/multi_polynomial_ring_generic.c:15237)\n        return PolynomialRing(base_ring, self.ngens(), names, order=order)\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.py\", line 438, in PolynomialRing\n        raise TypeError('base_ring must be a ring')\n    TypeError: base_ring must be a ring\n**********************************************************************\n1 item had failures:\n   3 of  15 in sage.schemes.curves.projective_curve.ProjectivePlaneCurve.ordinary_model\n    [328 tests, 3 failures, 65.69 s]\n\n...\n\n----------------------------------------------------------------------\nsage -t --long src/sage/schemes/curves/projective_curve.py  # 3 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 1958.8 seconds\n    cpu time: 6272.7 seconds\n    cumulative wall time: 15257.4 seconds\n```\n\nI also ran the same tests on the latest develop build (`74b03027bc`) and they passed, so it seems like there is still something to fix here. \n\nSince I think someone with fresh eyes should take a look at this ticket the next time it comes up for review, I am taking my name out of the reviewer field.",
    "created_at": "2017-07-21T21:56:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347986",
    "user": "https://github.com/sagetrac-cmt"
}
```

<div id="comment:18" align="right">comment:18</div>

Okay, something in my configuration had gotten messed up, so I started over entirely. I just pulled the latest version of this branch (`5f99cf980c`), which has the content of #23204 already merged in, merged in the latest develop branch (`74b03027bc`), and rebuilt. I then ran the following limited set of doctests and got these results:

```bash
bash-3.2$ ./sage -tp 8 --long src/sage/structure/ src/sage/categories/ src/sage/rings/ src/sage/modular/ src/sage/schemes/

too few successful tests, not using stored timings
Running doctests with ID 2017-07-21-16-33-34-b8fb451a.
Git branch: t/23203/a_polynomial_ring_contains_its_basering
Using --optional=ccache,mpir,python2,sage
Sorting sources by runtime so that slower doctests are run first....
Doctesting 883 files using 8 threads.

...

sage -t --long src/sage/schemes/curves/projective_curve.py
**********************************************************************
File "src/sage/schemes/curves/projective_curve.py", line 1304, in sage.schemes.curves.projective_curve.ProjectivePlaneCurve.ordinary_model
Failed example:
    D = C.ordinary_model(); D # long time (2 seconds)
Exception raised:
    Traceback (most recent call last):
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 509, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 872, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.curves.projective_curve.ProjectivePlaneCurve.ordinary_model[8]>", line 1, in <module>
        D = C.ordinary_model(); D # long time (2 seconds)
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/schemes/curves/projective_curve.py", line 1393, in ordinary_model
        emb = extension(C.singular_subscheme())
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/schemes/curves/projective_curve.py", line 1373, in extension
        pts = self.change_ring(F.embeddings(QQbar)[0]).rational_points()
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/schemes/generic/algebraic_scheme.py", line 1846, in change_ring
        I = [f.change_ring(R) for f in self.defining_polynomials()]
      File "sage/rings/polynomial/multi_polynomial.pyx", line 873, in sage.rings.polynomial.multi_polynomial.MPolynomial.change_ring (build/cythonized/sage/rings/polynomial/multi_polynomial.c:13133)
        return self.parent().change_ring(R)(self)
      File "sage/rings/polynomial/multi_polynomial_ring_generic.pyx", line 985, in sage.rings.polynomial.multi_polynomial_ring_generic.MPolynomialRing_generic.change_ring (build/cythonized/sage/rings/polynomial/multi_polynomial_ring_generic.c:15237)
        return PolynomialRing(base_ring, self.ngens(), names, order=order)
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.py", line 438, in PolynomialRing
        raise TypeError('base_ring must be a ring')
    TypeError: base_ring must be a ring
**********************************************************************
File "src/sage/schemes/curves/projective_curve.py", line 1321, in sage.schemes.curves.projective_curve.ProjectivePlaneCurve.ordinary_model
Failed example:
    all([D.codomain().is_ordinary_singularity(Q) for Q in D.codomain().singular_points()]) # long time
Exception raised:
    Traceback (most recent call last):
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 509, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 872, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.curves.projective_curve.ProjectivePlaneCurve.ordinary_model[9]>", line 1, in <module>
        all([D.codomain().is_ordinary_singularity(Q) for Q in D.codomain().singular_points()]) # long time
    NameError: name 'D' is not defined
**********************************************************************
File "src/sage/schemes/curves/projective_curve.py", line 1329, in sage.schemes.curves.projective_curve.ProjectivePlaneCurve.ordinary_model
Failed example:
    C.ordinary_model() # long time (5 seconds)
Exception raised:
    Traceback (most recent call last):
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 509, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 872, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.curves.projective_curve.ProjectivePlaneCurve.ordinary_model[13]>", line 1, in <module>
        C.ordinary_model() # long time (5 seconds)
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/schemes/curves/projective_curve.py", line 1393, in ordinary_model
        emb = extension(C.singular_subscheme())
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/schemes/curves/projective_curve.py", line 1373, in extension
        pts = self.change_ring(F.embeddings(QQbar)[0]).rational_points()
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/schemes/generic/algebraic_scheme.py", line 1846, in change_ring
        I = [f.change_ring(R) for f in self.defining_polynomials()]
      File "sage/rings/polynomial/multi_polynomial.pyx", line 873, in sage.rings.polynomial.multi_polynomial.MPolynomial.change_ring (build/cythonized/sage/rings/polynomial/multi_polynomial.c:13133)
        return self.parent().change_ring(R)(self)
      File "sage/rings/polynomial/multi_polynomial_ring_generic.pyx", line 985, in sage.rings.polynomial.multi_polynomial_ring_generic.MPolynomialRing_generic.change_ring (build/cythonized/sage/rings/polynomial/multi_polynomial_ring_generic.c:15237)
        return PolynomialRing(base_ring, self.ngens(), names, order=order)
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_ring_constructor.py", line 438, in PolynomialRing
        raise TypeError('base_ring must be a ring')
    TypeError: base_ring must be a ring
**********************************************************************
1 item had failures:
   3 of  15 in sage.schemes.curves.projective_curve.ProjectivePlaneCurve.ordinary_model
    [328 tests, 3 failures, 65.69 s]

...

----------------------------------------------------------------------
sage -t --long src/sage/schemes/curves/projective_curve.py  # 3 doctests failed
----------------------------------------------------------------------
Total time for all tests: 1958.8 seconds
    cpu time: 6272.7 seconds
    cumulative wall time: 15257.4 seconds
```

I also ran the same tests on the latest develop build (`74b03027bc`) and they passed, so it seems like there is still something to fix here. 

Since I think someone with fresh eyes should take a look at this ticket the next time it comes up for review, I am taking my name out of the reviewer field.



---

archive/issue_events_320531.json:
```json
{
    "actor": "https://github.com/sagetrac-cmt",
    "created_at": "2017-07-21T22:05:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23203#event-320531"
}
```



---

archive/issue_events_320532.json:
```json
{
    "actor": "https://github.com/sagetrac-cmt",
    "created_at": "2017-07-21T22:05:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23203#event-320532"
}
```



---

archive/issue_comments_347987.json:
```json
{
    "body": "Changed reviewer from **Claire Tomesch** to none",
    "created_at": "2017-07-21T22:05:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347987",
    "user": "https://github.com/sagetrac-cmt"
}
```

Changed reviewer from **Claire Tomesch** to none



---

archive/issue_comments_347988.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\ncmt: Thanks for pointing this out. This is a problem in #23204. I'll fix it there.",
    "created_at": "2017-07-21T22:31:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347988",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:20" align="right">comment:20</div>

cmt: Thanks for pointing this out. This is a problem in #23204. I'll fix it there.



---

archive/issue_comments_347989.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nFixed in #23204.",
    "created_at": "2017-07-21T22:42:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347989",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:21" align="right">comment:21</div>

Fixed in #23204.



---

archive/issue_events_320533.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-22T02:17:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23203#event-320533"
}
```



---

archive/issue_events_320534.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-22T02:17:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23203#event-320534"
}
```



---

archive/issue_comments_347990.json:
```json
{
    "body": "Reviewer: **Claire Tomesch**",
    "created_at": "2017-07-22T02:17:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347990",
    "user": "https://github.com/saraedum"
}
```

Reviewer: **Claire Tomesch**



---

archive/issue_comments_347991.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nClaire: We usually do not remove people from the Reviewers field, i.e., it is just a list of everybody that had a look at the ticket.",
    "created_at": "2017-07-22T02:18:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347991",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:23" align="right">comment:23</div>

Claire: We usually do not remove people from the Reviewers field, i.e., it is just a list of everybody that had a look at the ticket.



---

archive/issue_comments_347992.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nJulian: Thanks, and my apologies! I didn't realize that was the convention.",
    "created_at": "2017-07-22T14:27:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347992",
    "user": "https://github.com/sagetrac-cmt"
}
```

<div id="comment:24" align="right">comment:24</div>

Julian: Thanks, and my apologies! I didn't realize that was the convention.



---

archive/issue_comments_347993.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI just merged the latest version of #23204 (`382e2d1807`) into the latest version of this ticket (`5f99cf980c`), rebuilt, and reran the same limited set of tests (`./sage -tp 8 --long src/sage/structure/ src/sage/categories/ src/sage/rings/ src/sage/modular/ src/sage/schemes/`) which all passed!\n\nI am now running all doctests.",
    "created_at": "2017-07-22T16:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347993",
    "user": "https://github.com/sagetrac-cmt"
}
```

<div id="comment:25" align="right">comment:25</div>

I just merged the latest version of #23204 (`382e2d1807`) into the latest version of this ticket (`5f99cf980c`), rebuilt, and reran the same limited set of tests (`./sage -tp 8 --long src/sage/structure/ src/sage/categories/ src/sage/rings/ src/sage/modular/ src/sage/schemes/`) which all passed!

I am now running all doctests.



---

archive/issue_comments_347994.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI just ran all tests in `src/sage` and produced only the following weird failed tests:\n\n```bash\n$ ./sage -tp 8 --long src/sage/\ntoo few successful tests, not using stored timings\nRunning doctests with ID 2017-07-22-12-22-47-8f9951fd.\nGit branch: t/23203/a_polynomial_ring_contains_its_basering\nUsing --optional=ccache,mpir,python2,sage\nSorting sources by runtime so that slower doctests are run first....\nDoctesting 2969 files using 8 threads.\n\n...\n\nsage -t --long src/sage/tests/cmdline.py\n**********************************************************************\nFile \"src/sage/tests/cmdline.py\", line 814, in sage.tests.cmdline.test_executable\nFailed example:\n    test_executable([\"sage\", \"--rst2sws\", input, output])\nExpected:\n    ('', '', 0)\nGot:\n    ('',\n     'Traceback (most recent call last):\\n  File \"/Sage/sage/src/bin/sage-rst2sws\", line 131, in <module>\\n    from sagenb.notebook.notebook import Notebook\\n  File \"/Sage/sage/local/lib/python2.7/site-packages/sagenb/notebook/notebook.py\", line 46, in <module>\\n    from . import js           # javascript\\n  File \"/Sage/sage/local/lib/python2.7/site-packages/sagenb/notebook/js.py\", line 34, in <module>\\n    from .compress.JavaScriptCompressor import JavaScriptCompressor\\nImportError: No module named JavaScriptCompressor\\n',\n     1)\n**********************************************************************\nFile \"src/sage/tests/cmdline.py\", line 817, in sage.tests.cmdline.test_executable\nFailed example:\n    f = tarfile.open(output, 'r')\nException raised:\n    Traceback (most recent call last):\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 509, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 872, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.tests.cmdline.test_executable[242]>\", line 1, in <module>\n        f = tarfile.open(output, 'r')\n      File \"/Sage/sage/local/lib/python2.7/tarfile.py\", line 1680, in open\n        raise ReadError(\"file could not be opened successfully\")\n    ReadError: file could not be opened successfully\n**********************************************************************\nFile \"src/sage/tests/cmdline.py\", line 818, in sage.tests.cmdline.test_executable\nFailed example:\n    print(f.extractfile('sage_worksheet/worksheet.html').read())\nException raised:\n    Traceback (most recent call last):\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 509, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 872, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.tests.cmdline.test_executable[243]>\", line 1, in <module>\n        print(f.extractfile('sage_worksheet/worksheet.html').read())\n    AttributeError: 'file' object has no attribute 'extractfile'\n**********************************************************************\nFile \"src/sage/tests/cmdline.py\", line 832, in sage.tests.cmdline.test_executable\nFailed example:\n    print(f.extractfile('sage_worksheet/worksheet.txt').read())\nException raised:\n    Traceback (most recent call last):\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 509, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 872, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.tests.cmdline.test_executable[244]>\", line 1, in <module>\n        print(f.extractfile('sage_worksheet/worksheet.txt').read())\n    AttributeError: 'file' object has no attribute 'extractfile'\n**********************************************************************\n1 item had failures:\n   4 of 246 in sage.tests.cmdline.test_executable\n    [245 tests, 4 failures, 155.43 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/tests/cmdline.py  # 4 doctests failed\n----------------------------------------------------------------------\n```\n\nHowever! When I run these same doctests on my latest build of the develop branch (`74b03027bc`), the exact same tests also fail. \n\nTherefore, I'm going to positively review this ticket -- if others think this is a problem they are welcome to revert the status as they see fit.",
    "created_at": "2017-07-22T18:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347994",
    "user": "https://github.com/sagetrac-cmt"
}
```

<div id="comment:26" align="right">comment:26</div>

I just ran all tests in `src/sage` and produced only the following weird failed tests:

```bash
$ ./sage -tp 8 --long src/sage/
too few successful tests, not using stored timings
Running doctests with ID 2017-07-22-12-22-47-8f9951fd.
Git branch: t/23203/a_polynomial_ring_contains_its_basering
Using --optional=ccache,mpir,python2,sage
Sorting sources by runtime so that slower doctests are run first....
Doctesting 2969 files using 8 threads.

...

sage -t --long src/sage/tests/cmdline.py
**********************************************************************
File "src/sage/tests/cmdline.py", line 814, in sage.tests.cmdline.test_executable
Failed example:
    test_executable(["sage", "--rst2sws", input, output])
Expected:
    ('', '', 0)
Got:
    ('',
     'Traceback (most recent call last):\n  File "/Sage/sage/src/bin/sage-rst2sws", line 131, in <module>\n    from sagenb.notebook.notebook import Notebook\n  File "/Sage/sage/local/lib/python2.7/site-packages/sagenb/notebook/notebook.py", line 46, in <module>\n    from . import js           # javascript\n  File "/Sage/sage/local/lib/python2.7/site-packages/sagenb/notebook/js.py", line 34, in <module>\n    from .compress.JavaScriptCompressor import JavaScriptCompressor\nImportError: No module named JavaScriptCompressor\n',
     1)
**********************************************************************
File "src/sage/tests/cmdline.py", line 817, in sage.tests.cmdline.test_executable
Failed example:
    f = tarfile.open(output, 'r')
Exception raised:
    Traceback (most recent call last):
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 509, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 872, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.tests.cmdline.test_executable[242]>", line 1, in <module>
        f = tarfile.open(output, 'r')
      File "/Sage/sage/local/lib/python2.7/tarfile.py", line 1680, in open
        raise ReadError("file could not be opened successfully")
    ReadError: file could not be opened successfully
**********************************************************************
File "src/sage/tests/cmdline.py", line 818, in sage.tests.cmdline.test_executable
Failed example:
    print(f.extractfile('sage_worksheet/worksheet.html').read())
Exception raised:
    Traceback (most recent call last):
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 509, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 872, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.tests.cmdline.test_executable[243]>", line 1, in <module>
        print(f.extractfile('sage_worksheet/worksheet.html').read())
    AttributeError: 'file' object has no attribute 'extractfile'
**********************************************************************
File "src/sage/tests/cmdline.py", line 832, in sage.tests.cmdline.test_executable
Failed example:
    print(f.extractfile('sage_worksheet/worksheet.txt').read())
Exception raised:
    Traceback (most recent call last):
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 509, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Sage/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 872, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.tests.cmdline.test_executable[244]>", line 1, in <module>
        print(f.extractfile('sage_worksheet/worksheet.txt').read())
    AttributeError: 'file' object has no attribute 'extractfile'
**********************************************************************
1 item had failures:
   4 of 246 in sage.tests.cmdline.test_executable
    [245 tests, 4 failures, 155.43 s]
----------------------------------------------------------------------
sage -t --long src/sage/tests/cmdline.py  # 4 doctests failed
----------------------------------------------------------------------
```

However! When I run these same doctests on my latest build of the develop branch (`74b03027bc`), the exact same tests also fail. 

Therefore, I'm going to positively review this ticket -- if others think this is a problem they are welcome to revert the status as they see fit.



---

archive/issue_events_320535.json:
```json
{
    "actor": "https://github.com/sagetrac-cmt",
    "created_at": "2017-07-22T18:17:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23203#event-320535"
}
```



---

archive/issue_events_320536.json:
```json
{
    "actor": "https://github.com/sagetrac-cmt",
    "created_at": "2017-07-22T18:17:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23203#event-320536"
}
```



---

archive/issue_events_320537.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-03T22:11:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23203#event-320537"
}
```



---

archive/issue_events_320538.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5bdfb52a4fce7a40157b12e29215932078431446",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-08-03T22:11:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23203#event-320538"
}
```



---

archive/issue_comments_347995.json:
```json
{
    "body": "Changed branch from **[u/saraedum/a_polynomial_ring_contains_its_basering](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/a_polynomial_ring_contains_its_basering)** to **[`5f99cf9`](https://github.com/sagemath/sagetrac-mirror/commit/5f99cf980c01783faecf31b1009ee39adea36c69)**",
    "created_at": "2017-08-03T22:11:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23203#issuecomment-347995",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/saraedum/a_polynomial_ring_contains_its_basering](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/a_polynomial_ring_contains_its_basering)** to **[`5f99cf9`](https://github.com/sagemath/sagetrac-mirror/commit/5f99cf980c01783faecf31b1009ee39adea36c69)**
