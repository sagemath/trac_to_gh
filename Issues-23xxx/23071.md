# Issue 23071: White background for edge labels in plot of graph

archive/issues_022834.json:
```json
{
    "body": "When you plot a graph with labels on edges, the label usually appear directly on the edges and it's not very good for readability.\n\nThe objective is to add an option to `Graph.plot()` to specify the background color of the label.\n\nExample (see attach)\n\n```                                                                                                                                                                                                                                                                                                                        \n    sage: Word('001101').suffix_tree().plot()\n```                                                                                      \n                                                                                                    \n\n**CC:**  @thecaligarmo @jm58660\n\n**Keywords:** graph plot, edge label\n\n**Branch/Commit:** [94f5db14f2f0a42eddbe4a3aa6b879385eb24be4](https://github.com/sagemath/sagetrac-mirror/commit/94f5db14f2f0a42eddbe4a3aa6b879385eb24be4)\n\n**Reviewer:** Jori M\u00e4ntysalo\n\n**Author:** \u00c9mile Nadeau\n\nIssue created by migration from https://trac.sagemath.org/ticket/23071\n\n",
    "closed_at": "2017-06-16T16:45:44Z",
    "created_at": "2017-05-24T20:14:26Z",
    "labels": [
        "component: graph theory",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "White background for edge labels in plot of graph",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23071",
    "user": "https://github.com/enadeau"
}
```
When you plot a graph with labels on edges, the label usually appear directly on the edges and it's not very good for readability.

The objective is to add an option to `Graph.plot()` to specify the background color of the label.

Example (see attach)

```                                                                                                                                                                                                                                                                                                                        
    sage: Word('001101').suffix_tree().plot()
```                                                                                      
                                                                                                    

**CC:**  @thecaligarmo @jm58660

**Keywords:** graph plot, edge label

**Branch/Commit:** [94f5db14f2f0a42eddbe4a3aa6b879385eb24be4](https://github.com/sagemath/sagetrac-mirror/commit/94f5db14f2f0a42eddbe4a3aa6b879385eb24be4)

**Reviewer:** Jori Mäntysalo

**Author:** Émile Nadeau

Issue created by migration from https://trac.sagemath.org/ticket/23071





---

archive/attachments_020933.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "before.png",
    "asset_url": "tarball://root/attachments/some-uuid/ticket23071/before.png",
    "created_at": "2017-05-24T20:14:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.png",
    "user": "https://github.com/enadeau"
}
```



---

archive/issue_comments_413497.json:
```json
{
    "body": "",
    "created_at": "2017-05-24T20:14:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413497",
    "user": "https://github.com/enadeau"
}
```





---

archive/issue_comments_413498.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,7 +2,9 @@\n \n The objective is to add an option to `Graph.plot()` to specify the background color of the label.\n \n+Example (see attach)\n \n-{{{                                                                                                                                                                                                                                                                                                                                        sage: Word('001101').suffix_tree().plot()                                                                                                                                                                                           \n-}}}                                                                                      \n+```                                                                                                                                                                                                                                                                                                                        \n+    sage: Word('001101').suffix_tree().plot()                                                                                                                                                                                           \n+```                                                                                      \n                                                                                                     \n``````\n",
    "created_at": "2017-05-24T20:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413498",
    "user": "https://github.com/enadeau"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,7 +2,9 @@
 
 The objective is to add an option to `Graph.plot()` to specify the background color of the label.
 
+Example (see attach)
 
-{{{                                                                                                                                                                                                                                                                                                                                        sage: Word('001101').suffix_tree().plot()                                                                                                                                                                                           
-}}}                                                                                      
+```                                                                                                                                                                                                                                                                                                                        
+    sage: Word('001101').suffix_tree().plot()                                                                                                                                                                                           
+```                                                                                      
                                                                                                     
``````




---

archive/issue_comments_413499.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,6 +5,6 @@\n Example (see attach)\n \n ```                                                                                                                                                                                                                                                                                                                        \n-    sage: Word('001101').suffix_tree().plot()                                                                                                                                                                                           \n+    sage: Word('001101').suffix_tree().plot()\n ```                                                                                      \n                                                                                                     \n``````\n",
    "created_at": "2017-05-24T20:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413499",
    "user": "https://github.com/enadeau"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,6 +5,6 @@
 Example (see attach)
 
 ```                                                                                                                                                                                                                                                                                                                        
-    sage: Word('001101').suffix_tree().plot()                                                                                                                                                                                           
+    sage: Word('001101').suffix_tree().plot()
 ```                                                                                      
                                                                                                     
``````




---

archive/issue_comments_413500.json:
```json
{
    "body": "**Branch:** [u/enadeau/white_background_for_edge_labels_in_plot_of_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/enadeau/white_background_for_edge_labels_in_plot_of_graph)",
    "created_at": "2017-05-26T17:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413500",
    "user": "https://github.com/enadeau"
}
```

**Branch:** [u/enadeau/white_background_for_edge_labels_in_plot_of_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/enadeau/white_background_for_edge_labels_in_plot_of_graph)



---

archive/attachments_020934.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "after.png",
    "asset_url": "tarball://root/attachments/some-uuid/ticket23071/after.png",
    "created_at": "2017-05-26T17:27:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.png",
    "user": "https://github.com/enadeau"
}
```



---

archive/issue_comments_413501.json:
```json
{
    "body": "",
    "created_at": "2017-05-26T17:27:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413501",
    "user": "https://github.com/enadeau"
}
```





---

archive/issue_comments_413502.json:
```json
{
    "body": "<a id='comment:5'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7297d35177666d765e6bb3a726c78c66399dd610\">7297d35</a></td><td><code>Trac #23071: Add the option edge_labels_background. Default is now \"white\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55eb6679fdb11b98055e10cdc0a653e60826262d\">55eb667</a></td><td><code>Trac #23071: Document the new option edge_labels_background</code></td></tr></table>\n",
    "created_at": "2017-05-26T17:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413502",
    "user": "https://github.com/enadeau"
}
```

<a id='comment:5'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7297d35177666d765e6bb3a726c78c66399dd610">7297d35</a></td><td><code>Trac #23071: Add the option edge_labels_background. Default is now "white"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55eb6679fdb11b98055e10cdc0a653e60826262d">55eb667</a></td><td><code>Trac #23071: Document the new option edge_labels_background</code></td></tr></table>




---

archive/issue_comments_413503.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2017-05-26T17:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413503",
    "user": "https://github.com/enadeau"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_413504.json:
```json
{
    "body": "**Commit:** [55eb6679fdb11b98055e10cdc0a653e60826262d](https://github.com/sagemath/sagetrac-mirror/commit/55eb6679fdb11b98055e10cdc0a653e60826262d)",
    "created_at": "2017-05-26T17:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413504",
    "user": "https://github.com/enadeau"
}
```

**Commit:** [55eb6679fdb11b98055e10cdc0a653e60826262d](https://github.com/sagemath/sagetrac-mirror/commit/55eb6679fdb11b98055e10cdc0a653e60826262d)



---

archive/issue_comments_413505.json:
```json
{
    "body": "<a id='comment:6'></a>\nSeems good, but no time for review just now. I'll CC myself because of posets 'plot()` function.",
    "created_at": "2017-05-27T04:53:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413505",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>
Seems good, but no time for review just now. I'll CC myself because of posets 'plot()` function.



---

archive/issue_comments_413506.json:
```json
{
    "body": "<a id='comment:7'></a>\nDid you test `edge_labels_background=None` with or without `dot2tex`? It seems that without that it works incorreclty. I tested with\n\n```\ngraphs.PetersenGraph().show(edge_labels=True, edge_labels_background=None)\n```",
    "created_at": "2017-05-29T06:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413506",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:7'></a>
Did you test `edge_labels_background=None` with or without `dot2tex`? It seems that without that it works incorreclty. I tested with

```
graphs.PetersenGraph().show(edge_labels=True, edge_labels_background=None)
```



---

archive/issue_comments_413507.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [jmantysalo](#comment%3A7):\n> Did you test `edge_labels_background=None` with or without `dot2tex`? It seems that without that it works incorreclty. I tested with\n> \n> ```\n> graphs.PetersenGraph().show(edge_labels=True, edge_labels_background=None)\n> ```\n\n\nYou have to use\n\n```\ngraphs.PetersenGraph().show(edge_labels=True, edge_labels_background=\"None\")\n```\nbecause the parameter must be the string \"None\". I know this is not very intuitive, I'm looking for a way to make it clearer it the documentation if you have any idea.",
    "created_at": "2017-05-29T12:38:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413507",
    "user": "https://github.com/enadeau"
}
```

<a id='comment:8'></a>
Replying to [jmantysalo](#comment%3A7):
> Did you test `edge_labels_background=None` with or without `dot2tex`? It seems that without that it works incorreclty. I tested with
> 
> ```
> graphs.PetersenGraph().show(edge_labels=True, edge_labels_background=None)
> ```


You have to use

```
graphs.PetersenGraph().show(edge_labels=True, edge_labels_background="None")
```
because the parameter must be the string "None". I know this is not very intuitive, I'm looking for a way to make it clearer it the documentation if you have any idea.



---

archive/issue_comments_413508.json:
```json
{
    "body": "<a id='comment:9'></a>\nAh, OK. I think that `edge_labels_background=\"opaque\"` would work better.",
    "created_at": "2017-05-29T12:42:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413508",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:9'></a>
Ah, OK. I think that `edge_labels_background="opaque"` would work better.



---

archive/issue_comments_413509.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [jmantysalo](#comment%3A9):\n> Ah, OK. I think that `edge_labels_background=\"opaque\"` would work better.\n\n\nNope, `src/sage/plot/graphics.py` uses \"transparent\" so better to use the same terminology.",
    "created_at": "2017-05-29T12:55:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413509",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:10'></a>
Replying to [jmantysalo](#comment%3A9):
> Ah, OK. I think that `edge_labels_background="opaque"` would work better.


Nope, `src/sage/plot/graphics.py` uses "transparent" so better to use the same terminology.



---

archive/issue_comments_413510.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94f5db14f2f0a42eddbe4a3aa6b879385eb24be4\">94f5db1</a></td><td><code>Trac #23071: Change the option from \"None\" to \"transparent\" to achieve a</code></td></tr></table>\n",
    "created_at": "2017-05-30T00:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413510",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94f5db14f2f0a42eddbe4a3aa6b879385eb24be4">94f5db1</a></td><td><code>Trac #23071: Change the option from "None" to "transparent" to achieve a</code></td></tr></table>




---

archive/issue_comments_413511.json:
```json
{
    "body": "**Changing commit** from \"[55eb6679fdb11b98055e10cdc0a653e60826262d](https://github.com/sagemath/sagetrac-mirror/commit/55eb6679fdb11b98055e10cdc0a653e60826262d)\" to \"[94f5db14f2f0a42eddbe4a3aa6b879385eb24be4](https://github.com/sagemath/sagetrac-mirror/commit/94f5db14f2f0a42eddbe4a3aa6b879385eb24be4)\".",
    "created_at": "2017-05-30T00:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413511",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[55eb6679fdb11b98055e10cdc0a653e60826262d](https://github.com/sagemath/sagetrac-mirror/commit/55eb6679fdb11b98055e10cdc0a653e60826262d)" to "[94f5db14f2f0a42eddbe4a3aa6b879385eb24be4](https://github.com/sagemath/sagetrac-mirror/commit/94f5db14f2f0a42eddbe4a3aa6b879385eb24be4)".



---

archive/issue_comments_413512.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-05-30T07:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413512",
    "user": "https://github.com/jm58660"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_413513.json:
```json
{
    "body": "<a id='comment:12'></a>\nNow it seems good. Thanks for this.",
    "created_at": "2017-05-30T07:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413513",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:12'></a>
Now it seems good. Thanks for this.



---

archive/issue_comments_413514.json:
```json
{
    "body": "**Reviewer:** Jori M\u00e4ntysalo",
    "created_at": "2017-05-30T07:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413514",
    "user": "https://github.com/jm58660"
}
```

**Reviewer:** Jori Mäntysalo



---

archive/issue_comments_413515.json:
```json
{
    "body": "**Changing branch** from \"[u/enadeau/white_background_for_edge_labels_in_plot_of_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/enadeau/white_background_for_edge_labels_in_plot_of_graph)\" to \"[94f5db14f2f0a42eddbe4a3aa6b879385eb24be4](https://github.com/sagemath/sagetrac-mirror/commit/94f5db14f2f0a42eddbe4a3aa6b879385eb24be4)\".",
    "created_at": "2017-06-16T16:45:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-413515",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/enadeau/white_background_for_edge_labels_in_plot_of_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/enadeau/white_background_for_edge_labels_in_plot_of_graph)" to "[94f5db14f2f0a42eddbe4a3aa6b879385eb24be4](https://github.com/sagemath/sagetrac-mirror/commit/94f5db14f2f0a42eddbe4a3aa6b879385eb24be4)".



---

archive/issue_events_068175.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-16T16:45:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23071#event-68175"
}
```
