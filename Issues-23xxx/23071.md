# Issue 23071: White background for edge labels in plot of graph

archive/issues_022834.json:
```json
{
    "body": "When you plot a graph with labels on edges, the label usually appear directly on the edges and it's not very good for readability.\n\nThe objective is to add an option to `Graph.plot()` to specify the background color of the label.\n\nExample (see attach)\n\n```                                                                                                                                                                                                                                                                                                                        \n    sage: Word('001101').suffix_tree().plot()\n```                                                                                      \n                                                                                                    \n\nCC:  @thecaligarmo @jm58660\n\nKeywords: graph plot, edge label\n\nBranch/Commit: 94f5db14f2f0a42eddbe4a3aa6b879385eb24be4\n\nReviewer: Jori M\u00e4ntysalo\n\nAuthor: \u00c9mile Nadeau\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23071\n\n",
    "closed_at": "2017-06-16T16:45:44Z",
    "created_at": "2017-05-24T20:14:26Z",
    "labels": [
        "component: graph theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "White background for edge labels in plot of graph",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23071",
    "user": "https://github.com/enadeau"
}
```
When you plot a graph with labels on edges, the label usually appear directly on the edges and it's not very good for readability.

The objective is to add an option to `Graph.plot()` to specify the background color of the label.

Example (see attach)

```                                                                                                                                                                                                                                                                                                                        
    sage: Word('001101').suffix_tree().plot()
```                                                                                      
                                                                                                    

CC:  @thecaligarmo @jm58660

Keywords: graph plot, edge label

Branch/Commit: 94f5db14f2f0a42eddbe4a3aa6b879385eb24be4

Reviewer: Jori Mäntysalo

Author: Émile Nadeau

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23071





---

archive/issue_comments_340012.json:
```json
{
    "body": "Attachment [before.png](tarball://root/attachments/some-uuid/ticket23071/before.png) by @enadeau created at 2017-05-24 20:14:44",
    "created_at": "2017-05-24T20:14:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340012",
    "user": "https://github.com/enadeau"
}
```

Attachment [before.png](tarball://root/attachments/some-uuid/ticket23071/before.png) by @enadeau created at 2017-05-24 20:14:44



---

archive/issue_comments_340013.json:
```json
{
    "body": "Changing component from interact to graph theory.",
    "created_at": "2017-05-24T20:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340013",
    "user": "https://github.com/enadeau"
}
```

Changing component from interact to graph theory.



---

archive/issue_comments_340014.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -2,10 +2,12 @@\n \n The objective is to add an option to `Graph.plot()` to specify the background color of the label.\n \n+Example (see attach)\n \n-```\n-                                                                                                                                                                                                                                                                                                                                        sage: Word('001101').suffix_tree().plot()                                                                                                                                                                                           \n-```\n+```                                                                                                                                                                                                                                                                                                                        \n+    sage: Word('001101').suffix_tree().plot()                                                                                                                                                                                           \n+```                                                                                      \n+                                                                                                    \n \n Author: \u00c9mile Nadeau\n \n```\n",
    "created_at": "2017-05-24T20:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340014",
    "user": "https://github.com/enadeau"
}
```

Description changed:
```diff
--- 
+++ 
@@ -2,10 +2,12 @@
 
 The objective is to add an option to `Graph.plot()` to specify the background color of the label.
 
+Example (see attach)
 
-```
-                                                                                                                                                                                                                                                                                                                                        sage: Word('001101').suffix_tree().plot()                                                                                                                                                                                           
-```
+```                                                                                                                                                                                                                                                                                                                        
+    sage: Word('001101').suffix_tree().plot()                                                                                                                                                                                           
+```                                                                                      
+                                                                                                    
 
 Author: Émile Nadeau
 
```




---

archive/issue_comments_340015.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+When you plot a graph with labels on edges, the label usually appear directly on the edges and it's not very good for readability.\n \n+The objective is to add an option to `Graph.plot()` to specify the background color of the label.\n+\n+Example (see attach)\n+\n+```                                                                                                                                                                                                                                                                                                                        \n+    sage: Word('001101').suffix_tree().plot()\n+```                                                                                      \n+                                                                                                    \n \n Author: \u00c9mile Nadeau\n \n```\n",
    "created_at": "2017-05-24T20:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340015",
    "user": "https://github.com/enadeau"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,13 @@
+When you plot a graph with labels on edges, the label usually appear directly on the edges and it's not very good for readability.
 
+The objective is to add an option to `Graph.plot()` to specify the background color of the label.
+
+Example (see attach)
+
+```                                                                                                                                                                                                                                                                                                                        
+    sage: Word('001101').suffix_tree().plot()
+```                                                                                      
+                                                                                                    
 
 Author: Émile Nadeau
 
```




---

archive/issue_comments_340016.json:
```json
{
    "body": "Attachment [after.png](tarball://root/attachments/some-uuid/ticket23071/after.png) by @enadeau created at 2017-05-26 17:27:49",
    "created_at": "2017-05-26T17:27:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340016",
    "user": "https://github.com/enadeau"
}
```

Attachment [after.png](tarball://root/attachments/some-uuid/ticket23071/after.png) by @enadeau created at 2017-05-26 17:27:49



---

archive/issue_comments_340017.json:
```json
{
    "body": "<a id='comment:5'></a>New commits:",
    "created_at": "2017-05-26T17:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340017",
    "user": "https://github.com/enadeau"
}
```

<a id='comment:5'></a>New commits:



---

archive/issue_comments_340018.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-26T17:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340018",
    "user": "https://github.com/enadeau"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_340019.json:
```json
{
    "body": "<a id='comment:6'></a>Seems good, but no time for review just now. I'll CC myself because of posets 'plot()` function.",
    "created_at": "2017-05-27T04:53:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340019",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>Seems good, but no time for review just now. I'll CC myself because of posets 'plot()` function.



---

archive/issue_comments_340020.json:
```json
{
    "body": "<a id='comment:7'></a>Did you test `edge_labels_background=None` with or without `dot2tex`? It seems that without that it works incorreclty. I tested with\n\n```\ngraphs.PetersenGraph().show(edge_labels=True, edge_labels_background=None)\n```",
    "created_at": "2017-05-29T06:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340020",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:7'></a>Did you test `edge_labels_background=None` with or without `dot2tex`? It seems that without that it works incorreclty. I tested with

```
graphs.PetersenGraph().show(edge_labels=True, edge_labels_background=None)
```



---

archive/issue_comments_340021.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:7 jmantysalo]:\n> Did you test `edge_labels_background=None` with or without `dot2tex`? It seems that without that it works incorreclty. I tested with\n> \n> \n> ```\n> graphs.PetersenGraph().show(edge_labels=True, edge_labels_background=None)\n> ```\n\n\nYou have to use\n\n```\ngraphs.PetersenGraph().show(edge_labels=True, edge_labels_background=\"None\")\n```\nbecause the parameter must be the string \"None\". I know this is not very intuitive, I'm looking for a way to make it clearer it the documentation if you have any idea.",
    "created_at": "2017-05-29T12:38:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340021",
    "user": "https://github.com/enadeau"
}
```

<a id='comment:8'></a>Replying to [comment:7 jmantysalo]:
> Did you test `edge_labels_background=None` with or without `dot2tex`? It seems that without that it works incorreclty. I tested with
> 
> 
> ```
> graphs.PetersenGraph().show(edge_labels=True, edge_labels_background=None)
> ```


You have to use

```
graphs.PetersenGraph().show(edge_labels=True, edge_labels_background="None")
```
because the parameter must be the string "None". I know this is not very intuitive, I'm looking for a way to make it clearer it the documentation if you have any idea.



---

archive/issue_comments_340022.json:
```json
{
    "body": "<a id='comment:9'></a>Ah, OK. I think that `edge_labels_background=\"opaque\"` would work better.",
    "created_at": "2017-05-29T12:42:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340022",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:9'></a>Ah, OK. I think that `edge_labels_background="opaque"` would work better.



---

archive/issue_comments_340023.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:9 jmantysalo]:\n> Ah, OK. I think that `edge_labels_background=\"opaque\"` would work better.\n\n\nNope, `src/sage/plot/graphics.py` uses \"transparent\" so better to use the same terminology.",
    "created_at": "2017-05-29T12:55:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340023",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:10'></a>Replying to [comment:9 jmantysalo]:
> Ah, OK. I think that `edge_labels_background="opaque"` would work better.


Nope, `src/sage/plot/graphics.py` uses "transparent" so better to use the same terminology.



---

archive/issue_comments_340024.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-30T00:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340024",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_340025.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-30T07:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340025",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_340026.json:
```json
{
    "body": "<a id='comment:12'></a>Now it seems good. Thanks for this.",
    "created_at": "2017-05-30T07:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340026",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:12'></a>Now it seems good. Thanks for this.



---

archive/issue_events_059699.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-16T16:45:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23071#event-59699"
}
```



---

archive/issue_comments_340027.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-06-16T16:45:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23071",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23071#issuecomment-340027",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
