# Issue 23955: trains() forgets the trains of length one.

archive/issues_023718.json:
```json
{
    "body": "In sage.modules.genera.genus.canonical_2_adic_trains \nforgets the trains of length one.\nMaybe this causes further bugs.\n\nKeywords: sd91\n\nReviewer: David Roe\n\nAuthor: Simon Brandhorst\n\nBranch: d7fa2c47e7e39210e59944c71e10f949bc329999\n\nCommit: d7fa2c47e7e39210e59944c71e10f949bc329999\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23955\n\n",
    "closed_at": "2017-10-20T09:15:23Z",
    "created_at": "2017-10-02T10:47:20Z",
    "labels": [
        "component: quadratic forms",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "trains() forgets the trains of length one.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23955",
    "user": "https://github.com/simonbrandhorst"
}
```
In sage.modules.genera.genus.canonical_2_adic_trains 
forgets the trains of length one.
Maybe this causes further bugs.

Keywords: sd91

Reviewer: David Roe

Author: Simon Brandhorst

Branch: d7fa2c47e7e39210e59944c71e10f949bc329999

Commit: d7fa2c47e7e39210e59944c71e10f949bc329999

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23955





---

archive/issue_comments_331863.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to quadratic forms.",
    "created_at": "2017-10-02T10:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-331863",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing component from PLEASE CHANGE to quadratic forms.



---

archive/issue_comments_331864.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd91\".",
    "created_at": "2017-10-02T10:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-331864",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing keywords from "" to "sd91".



---

archive/issue_comments_331865.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2017-10-02T22:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-331865",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_331866.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-10-02T22:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-331866",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_331867.json:
```json
{
    "body": "<a id='comment:5'></a>Most of my changes were superficial, but I did find what I thought was a typo.  You used to have\n\n```\nif left_neighbor == 1 or symbol[i] == 1 or right_neighbor==1:\n```\nwhich I changed to\n\n```\nif left_neighbor == 1 or symbol[i][3] == 1 or right_neighbor==1:\n```\nbased on context.  If this is correct, you're happy with the rest of my changes, and tests pass, positive review.\n\n---\nNew commits:",
    "created_at": "2017-10-06T23:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-331867",
    "user": "https://github.com/roed314"
}
```

<a id='comment:5'></a>Most of my changes were superficial, but I did find what I thought was a typo.  You used to have

```
if left_neighbor == 1 or symbol[i] == 1 or right_neighbor==1:
```
which I changed to

```
if left_neighbor == 1 or symbol[i][3] == 1 or right_neighbor==1:
```
based on context.  If this is correct, you're happy with the rest of my changes, and tests pass, positive review.

---
New commits:



---

archive/issue_comments_331868.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-09T07:06:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-331868",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_331869.json:
```json
{
    "body": "<a id='comment:6'></a>Thank you for the changes. It is a lot cleaner now. \nTests pass on my machine and the patchbot only complains about long tests in other unrelated components. Seems good.",
    "created_at": "2017-10-09T07:06:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-331869",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:6'></a>Thank you for the changes. It is a lot cleaner now. 
Tests pass on my machine and the patchbot only complains about long tests in other unrelated components. Seems good.



---

archive/issue_comments_331870.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2017-10-09T18:20:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-331870",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_331871.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2017-10-09T18:20:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-331871",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_331872.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-09T18:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-331872",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_331873.json:
```json
{
    "body": "<a id='comment:8'></a>No, that was a real problem in the tests with a TAB character.  I've fixed it now.",
    "created_at": "2017-10-09T18:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-331873",
    "user": "https://github.com/roed314"
}
```

<a id='comment:8'></a>No, that was a real problem in the tests with a TAB character.  I've fixed it now.



---

archive/issue_events_060948.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-20T09:15:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23955#event-60948"
}
```



---

archive/issue_comments_331874.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-10-20T09:15:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-331874",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
