# Issue 23955: trains() forgets the trains of length one.

archive/issues_023718.json:
```json
{
    "body": "In sage.modules.genera.genus.canonical_2_adic_trains \nforgets the trains of length one.\nMaybe this causes further bugs.\n\nKeywords: sd91\n\nBranch/Commit: d7fa2c47e7e39210e59944c71e10f949bc329999\n\nReviewer: David Roe\n\nAuthor: Simon Brandhorst\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/23955\n\n",
    "closed_at": "2017-10-20T09:15:23Z",
    "created_at": "2017-10-02T10:47:20Z",
    "labels": [
        "component: quadratic forms",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "trains() forgets the trains of length one.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23955",
    "user": "https://github.com/simonbrandhorst"
}
```
In sage.modules.genera.genus.canonical_2_adic_trains 
forgets the trains of length one.
Maybe this causes further bugs.

Keywords: sd91

Branch/Commit: d7fa2c47e7e39210e59944c71e10f949bc329999

Reviewer: David Roe

Author: Simon Brandhorst

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/23955





---

archive/issue_comments_353591.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to quadratic forms.",
    "created_at": "2017-10-02T10:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-353591",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing component from PLEASE CHANGE to quadratic forms.



---

archive/issue_comments_353592.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd91\".",
    "created_at": "2017-10-02T10:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-353592",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing keywords from "" to "sd91".



---

archive/issue_comments_353593.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2017-10-02T22:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-353593",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_353594.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-10-02T22:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-353594",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_353595.json:
```json
{
    "body": "<a id='comment:5'></a>Most of my changes were superficial, but I did find what I thought was a typo.  You used to have\n\n```\nif left_neighbor == 1 or symbol[i] == 1 or right_neighbor==1:\n```\nwhich I changed to\n\n```\nif left_neighbor == 1 or symbol[i][3] == 1 or right_neighbor==1:\n```\nbased on context.  If this is correct, you're happy with the rest of my changes, and tests pass, positive review.\n\n---\nNew commits:",
    "created_at": "2017-10-06T23:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-353595",
    "user": "https://github.com/roed314"
}
```

<a id='comment:5'></a>Most of my changes were superficial, but I did find what I thought was a typo.  You used to have

```
if left_neighbor == 1 or symbol[i] == 1 or right_neighbor==1:
```
which I changed to

```
if left_neighbor == 1 or symbol[i][3] == 1 or right_neighbor==1:
```
based on context.  If this is correct, you're happy with the rest of my changes, and tests pass, positive review.

---
New commits:



---

archive/issue_comments_353596.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-09T07:06:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-353596",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_353597.json:
```json
{
    "body": "<a id='comment:6'></a>Thank you for the changes. It is a lot cleaner now. \nTests pass on my machine and the patchbot only complains about long tests in other unrelated components. Seems good.",
    "created_at": "2017-10-09T07:06:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-353597",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:6'></a>Thank you for the changes. It is a lot cleaner now. 
Tests pass on my machine and the patchbot only complains about long tests in other unrelated components. Seems good.



---

archive/issue_comments_353598.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2017-10-09T18:20:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-353598",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_353599.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2017-10-09T18:20:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-353599",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_353600.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-09T18:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-353600",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_353601.json:
```json
{
    "body": "<a id='comment:8'></a>No, that was a real problem in the tests with a TAB character.  I've fixed it now.",
    "created_at": "2017-10-09T18:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-353601",
    "user": "https://github.com/roed314"
}
```

<a id='comment:8'></a>No, that was a real problem in the tests with a TAB character.  I've fixed it now.



---

archive/issue_events_060948.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-20T09:15:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/23955#event-60948"
}
```



---

archive/issue_comments_353602.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-10-20T09:15:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23955",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23955#issuecomment-353602",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
