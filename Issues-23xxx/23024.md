# Issue 23024: Replacement of sage/libs/ppl.pyx by pplpy

archive/issues_022787.json:
```json
{
    "assignees": [],
    "body": "The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://gitlab.com/videlec/pplpy) (Python/Cython compatible). This ticket proposes to replace `src/sage/libs/ppl.pyx` extension with pplpy. For this, we\n\n- create a new standard package pplpy\n- upgrade gmpy2 from optional to standard\n- replace the Sage code calling sage/libs/ppl.pyx to call pplpy\n- make appropriate deprecation for `sage.libs.ppl`\n\n**Tarball** for pplpy: [pplpy-0.8.4.tar.gz](https://files.pythonhosted.org/packages/fe/f4/765628c74624cea90cc6f260d222dcfc1dff520a54e0f8cc5d67c602d638/pplpy-0.8.4.tar.gz)\n\nCC:  @videlec @kiwifb @embray @slel\n\nKeywords: **thursdaysbdx, ppl, pplpy, upgrade**\n\nBranch: **[829317e](https://github.com/sagemath/sagetrac-mirror/commit/829317e5e5dd748e140b849ac0d5d113268278e2)**\n\nUpstream: **Reported upstream. Developers acknowledge bug.**\n\nReviewer: **Dima Pasechnik, Fran\u00e7ois Bissey, Vincent Delecroix, Jeroen Demeyer, Erik Bray**\n\nAuthor: **Vincent Klein**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23024_\n\n",
    "closed_at": "2019-03-02T09:39:27Z",
    "created_at": "2017-05-18T12:30:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Replacement of sage/libs/ppl.pyx by pplpy",
    "type": "issue",
    "updated_at": "2019-04-17T15:35:53Z",
    "url": "https://github.com/sagemath/sage/issues/23024",
    "user": "https://github.com/vinklein"
}
```
The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://gitlab.com/videlec/pplpy) (Python/Cython compatible). This ticket proposes to replace `src/sage/libs/ppl.pyx` extension with pplpy. For this, we

- create a new standard package pplpy
- upgrade gmpy2 from optional to standard
- replace the Sage code calling sage/libs/ppl.pyx to call pplpy
- make appropriate deprecation for `sage.libs.ppl`

**Tarball** for pplpy: [pplpy-0.8.4.tar.gz](https://files.pythonhosted.org/packages/fe/f4/765628c74624cea90cc6f260d222dcfc1dff520a54e0f8cc5d67c602d638/pplpy-0.8.4.tar.gz)

CC:  @videlec @kiwifb @embray @slel

Keywords: **thursdaysbdx, ppl, pplpy, upgrade**

Branch: **[829317e](https://github.com/sagemath/sagetrac-mirror/commit/829317e5e5dd748e140b849ac0d5d113268278e2)**

Upstream: **Reported upstream. Developers acknowledge bug.**

Reviewer: **Dima Pasechnik, François Bissey, Vincent Delecroix, Jeroen Demeyer, Erik Bray**

Author: **Vincent Klein**

_Issue created by migration from https://trac.sagemath.org/ticket/23024_





---

archive/issue_events_303132.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2017-05-18T12:30:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303132"
}
```



---

archive/issue_events_303133.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2017-05-18T12:30:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303133"
}
```



---

archive/issue_events_303134.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2017-05-18T12:30:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303134"
}
```



---

archive/issue_comments_347209.json:
```json
{
    "body": "Changed dependencies from **#229** to **#22928**",
    "created_at": "2017-05-18T12:31:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347209",
    "user": "https://github.com/vinklein"
}
```

Changed dependencies from **#229** to **#22928**



---

archive/issue_events_303135.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2017-05-18T17:51:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303135"
}
```



---

archive/issue_comments_347210.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Remove ppl.pyx extension and replace with pplpy[https://github.com/videlec/pplpy/](https://github.com/videlec/pplpy/) package.\n+The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) is now superseded by the stand alone [pplpy](https://github.com/videlec/pplpy/) (Python/Cython compatible). This ticket proposes to replace `sage/src/libs/ppl.pyx` extension with pplpy.\n \n Some steps :\n - list any ticket proposing to extend ppl functionalities in Sage (if yes, open issues on github with cross links)\n``````\n",
    "created_at": "2017-05-23T14:31:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347210",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Remove ppl.pyx extension and replace with pplpy[https://github.com/videlec/pplpy/](https://github.com/videlec/pplpy/) package.
+The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) is now superseded by the stand alone [pplpy](https://github.com/videlec/pplpy/) (Python/Cython compatible). This ticket proposes to replace `sage/src/libs/ppl.pyx` extension with pplpy.
 
 Some steps :
 - list any ticket proposing to extend ppl functionalities in Sage (if yes, open issues on github with cross links)
``````




---

archive/issue_comments_347211.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) is now superseded by the stand alone [pplpy](https://github.com/videlec/pplpy/) (Python/Cython compatible). This ticket proposes to replace `sage/src/libs/ppl.pyx` extension with pplpy.\n+The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) is now superseded by the stand alone [pplpy](https://github.com/videlec/pplpy/) (!Python/!Cython compatible). This ticket proposes to replace `sage/src/libs/ppl.pyx` extension with pplpy.\n \n Some steps :\n - list any ticket proposing to extend ppl functionalities in Sage (if yes, open issues on github with cross links)\n``````\n",
    "created_at": "2017-05-23T14:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347211",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) is now superseded by the stand alone [pplpy](https://github.com/videlec/pplpy/) (Python/Cython compatible). This ticket proposes to replace `sage/src/libs/ppl.pyx` extension with pplpy.
+The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) is now superseded by the stand alone [pplpy](https://github.com/videlec/pplpy/) (!Python/!Cython compatible). This ticket proposes to replace `sage/src/libs/ppl.pyx` extension with pplpy.
 
 Some steps :
 - list any ticket proposing to extend ppl functionalities in Sage (if yes, open issues on github with cross links)
``````




---

archive/issue_comments_347212.json:
```json
{
    "body": "Branch: **[u/vklein/replacement_of_sage_libs_ppl_pyx_by_pplpy](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/replacement_of_sage_libs_ppl_pyx_by_pplpy)**",
    "created_at": "2017-06-07T07:40:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347212",
    "user": "https://github.com/vinklein"
}
```

Branch: **[u/vklein/replacement_of_sage_libs_ppl_pyx_by_pplpy](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/replacement_of_sage_libs_ppl_pyx_by_pplpy)**



---

archive/issue_comments_347213.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8bf274d0a2477d621f7b8e88b79f2a23196d235\">f8bf274</a></td><td><code>Updating checksum for pplpy pkg</code></td></tr></table>\n",
    "created_at": "2017-06-07T07:41:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347213",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6" align="right">Comment 6</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8bf274d0a2477d621f7b8e88b79f2a23196d235">f8bf274</a></td><td><code>Updating checksum for pplpy pkg</code></td></tr></table>




---

archive/issue_comments_347214.json:
```json
{
    "body": "Commit: **[f8bf274](https://github.com/sagemath/sagetrac-mirror/commit/f8bf274d0a2477d621f7b8e88b79f2a23196d235)**",
    "created_at": "2017-06-07T07:41:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347214",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[f8bf274](https://github.com/sagemath/sagetrac-mirror/commit/f8bf274d0a2477d621f7b8e88b79f2a23196d235)**



---

archive/issue_comments_347215.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nFor testing purpose you can use the following tarball of [pplpy](http://www.labri.fr/perso/vklein/pplpy-0.7.tar.gz) (outdated, use the one in the ticket's description)",
    "created_at": "2017-06-07T07:52:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347215",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:7" align="right">Comment 7</div>

For testing purpose you can use the following tarball of [pplpy](http://www.labri.fr/perso/vklein/pplpy-0.7.tar.gz) (outdated, use the one in the ticket's description)



---

archive/issue_comments_347216.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nSalut Vincent,\n\nYour branch appears in red which means that there are merge issues (possibly trivial). Would be better to rebase it on the latest beta.",
    "created_at": "2017-06-07T10:24:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347216",
    "user": "https://github.com/videlec"
}
```

<div id="comment:8" align="right">Comment 8</div>

Salut Vincent,

Your branch appears in red which means that there are merge issues (possibly trivial). Would be better to rebase it on the latest beta.



---

archive/issue_comments_347217.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\n1) Pickling should be fixed\n\n```diff\n-        sage: TestSuite(Asso).run()\n+        sage: TestSuite(Asso).run(skip='_test_pickling')\n```\nIt works with `pplpy` used from Python\n\n```\n>>> x = ppl.Variable(0)\n>>> y = ppl.Variable(1)\n>>> z = ppl.Variable(2)\n>>> gs.insert(ppl.point(x+y+2*z))\n>>> gs.insert(ppl.point(x-y))\n>>> gs.insert(ppl.point(z))\n>>> P = ppl.C_Polyhedron(gs)\n>>> import pickle\n>>> pickle.loads(pickle.dumps(P)) == P\nTrue\n```\n\n\n2) I don't see the point of the function `mpz_to_sage_integer`. You can just do `[Integer(x) for x in my_mpz_list]`. For example\n\n```\nv_coords = (1,) + tuple(mpz_to_sage_integer(v.coefficients()))\n```\ncan be replaced by\n\n```\nv_coords = (1,) + tuple(Integer(c) for c in v.coefficients())\n```\nMoreover, the name is confusing since the fuction converts a **list** of mpz integers.\n\n3) Some possible simplifications\n\n- In `ppl_backend.pyx`:\n`Integer(g.coefficient(Variable(variable))) / Integer(g.divisor())` -> \n`Rational(g.coefficient(Variable(variable)) / g.divisor())`\n\n- In `ppl_lattice_polytope.py`: `assert Integer(v.divisor()).is_one()` -> `assert v.divisor() == 1`",
    "created_at": "2017-06-07T11:09:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347217",
    "user": "https://github.com/videlec"
}
```

<div id="comment:9" align="right">Comment 9</div>

1) Pickling should be fixed

```diff
-        sage: TestSuite(Asso).run()
+        sage: TestSuite(Asso).run(skip='_test_pickling')
```
It works with `pplpy` used from Python

```
>>> x = ppl.Variable(0)
>>> y = ppl.Variable(1)
>>> z = ppl.Variable(2)
>>> gs.insert(ppl.point(x+y+2*z))
>>> gs.insert(ppl.point(x-y))
>>> gs.insert(ppl.point(z))
>>> P = ppl.C_Polyhedron(gs)
>>> import pickle
>>> pickle.loads(pickle.dumps(P)) == P
True
```


2) I don't see the point of the function `mpz_to_sage_integer`. You can just do `[Integer(x) for x in my_mpz_list]`. For example

```
v_coords = (1,) + tuple(mpz_to_sage_integer(v.coefficients()))
```
can be replaced by

```
v_coords = (1,) + tuple(Integer(c) for c in v.coefficients())
```
Moreover, the name is confusing since the fuction converts a **list** of mpz integers.

3) Some possible simplifications

- In `ppl_backend.pyx`:
`Integer(g.coefficient(Variable(variable))) / Integer(g.divisor())` -> 
`Rational(g.coefficient(Variable(variable)) / g.divisor())`

- In `ppl_lattice_polytope.py`: `assert Integer(v.divisor()).is_one()` -> `assert v.divisor() == 1`



---

archive/issue_comments_347218.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f19f81e60f94b264a6d09e9eb4a4892ae1c9d34b\">f19f81e</a></td><td><code>Integer and rational constructors support gmpy2 params</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd8ef5dbbf43109be121cdb0b12bb4f6cfba236b\">cd8ef5d</a></td><td><code>remove OptionalExtension sage.libs.gmpy2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ced5d31c7107dde51a448597847d7fbe34b4e52\">8ced5d3</a></td><td><code>remove get_gmpy2_path()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/674fe62c4b80ecdcb72c123aa859ef939b4ad771\">674fe62</a></td><td><code>Add few doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ed4f95923c68525f5bec6e18d17badd9dfab122\">2ed4f95</a></td><td><code>Use of MPZ_Check and MPQ_Check functions from gmpy2 C-API</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4f0c2680fd710c02fd90834f67274393d17bf32\">b4f0c26</a></td><td><code>Add pplpy as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/257c330273ad710d476e7e2558163bed401b1a68\">257c330</a></td><td><code>Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/636051fa65de77aa5d80ef1825270ec1e220b085\">636051f</a></td><td><code>Remove sage.libs.ppl extension</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f52b3d40bff380327efa24ba82175fa92b92535b\">f52b3d4</a></td><td><code>Modify associahedron doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dffa134588a520928393ec430bee91d0c2304fa2\">dffa134</a></td><td><code>Updating checksum for pplpy pkg</code></td></tr></table>\n",
    "created_at": "2017-06-07T14:23:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347218",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10" align="right">Comment 10</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f19f81e60f94b264a6d09e9eb4a4892ae1c9d34b">f19f81e</a></td><td><code>Integer and rational constructors support gmpy2 params</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd8ef5dbbf43109be121cdb0b12bb4f6cfba236b">cd8ef5d</a></td><td><code>remove OptionalExtension sage.libs.gmpy2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ced5d31c7107dde51a448597847d7fbe34b4e52">8ced5d3</a></td><td><code>remove get_gmpy2_path()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/674fe62c4b80ecdcb72c123aa859ef939b4ad771">674fe62</a></td><td><code>Add few doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ed4f95923c68525f5bec6e18d17badd9dfab122">2ed4f95</a></td><td><code>Use of MPZ_Check and MPQ_Check functions from gmpy2 C-API</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4f0c2680fd710c02fd90834f67274393d17bf32">b4f0c26</a></td><td><code>Add pplpy as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/257c330273ad710d476e7e2558163bed401b1a68">257c330</a></td><td><code>Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/636051fa65de77aa5d80ef1825270ec1e220b085">636051f</a></td><td><code>Remove sage.libs.ppl extension</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f52b3d40bff380327efa24ba82175fa92b92535b">f52b3d4</a></td><td><code>Modify associahedron doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dffa134588a520928393ec430bee91d0c2304fa2">dffa134</a></td><td><code>Updating checksum for pplpy pkg</code></td></tr></table>




---

archive/issue_comments_347219.json:
```json
{
    "body": "Changed commit from **[f8bf274](https://github.com/sagemath/sagetrac-mirror/commit/f8bf274d0a2477d621f7b8e88b79f2a23196d235)** to **[dffa134](https://github.com/sagemath/sagetrac-mirror/commit/dffa134588a520928393ec430bee91d0c2304fa2)**",
    "created_at": "2017-06-07T14:23:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347219",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f8bf274](https://github.com/sagemath/sagetrac-mirror/commit/f8bf274d0a2477d621f7b8e88b79f2a23196d235)** to **[dffa134](https://github.com/sagemath/sagetrac-mirror/commit/dffa134588a520928393ec430bee91d0c2304fa2)**



---

archive/issue_comments_347220.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nReplying to [@videlec](#comment%3A9):\n> 3) Some possible simplifications\n> \n> - In `ppl_backend.pyx`:\n> `Integer(g.coefficient(Variable(variable))) / Integer(g.divisor())` -> \n> `Rational(g.coefficient(Variable(variable)) / g.divisor())`\n> \n> - In `ppl_lattice_polytope.py`: `assert Integer(v.divisor()).is_one()` -> `assert v.divisor() == 1`\n\nIt will be nice, but coercion for gmpy2 types is required for doing this (#23052).",
    "created_at": "2017-06-07T15:40:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347220",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:11" align="right">Comment 11</div>

Replying to [@videlec](#comment%3A9):
> 3) Some possible simplifications
> 
> - In `ppl_backend.pyx`:
> `Integer(g.coefficient(Variable(variable))) / Integer(g.divisor())` -> 
> `Rational(g.coefficient(Variable(variable)) / g.divisor())`
> 
> - In `ppl_lattice_polytope.py`: `assert Integer(v.divisor()).is_one()` -> `assert v.divisor() == 1`

It will be nice, but coercion for gmpy2 types is required for doing this (#23052).



---

archive/issue_comments_347221.json:
```json
{
    "body": "Changed commit from **[dffa134](https://github.com/sagemath/sagetrac-mirror/commit/dffa134588a520928393ec430bee91d0c2304fa2)** to **[b3563eb](https://github.com/sagemath/sagetrac-mirror/commit/b3563eb6a123d6aef327453061ea141e4fd1317c)**",
    "created_at": "2017-06-07T15:49:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347221",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dffa134](https://github.com/sagemath/sagetrac-mirror/commit/dffa134588a520928393ec430bee91d0c2304fa2)** to **[b3563eb](https://github.com/sagemath/sagetrac-mirror/commit/b3563eb6a123d6aef327453061ea141e4fd1317c)**



---

archive/issue_comments_347222.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3563eb6a123d6aef327453061ea141e4fd1317c\">b3563eb</a></td><td><code>remove mpz_to_sage_integer function</code></td></tr></table>\n",
    "created_at": "2017-06-07T15:49:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347222",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12" align="right">Comment 12</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3563eb6a123d6aef327453061ea141e4fd1317c">b3563eb</a></td><td><code>remove mpz_to_sage_integer function</code></td></tr></table>




---

archive/issue_comments_347223.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nReplying to [@vinklein](#comment%3A11):\n> Replying to [@videlec](#comment%3A9):\n> > 3) Some possible simplifications\n> > \n> > - In `ppl_backend.pyx`:\n> > `Integer(g.coefficient(Variable(variable))) / Integer(g.divisor())` -> \n> > `Rational(g.coefficient(Variable(variable)) / g.divisor())`\n> > \n> > - In `ppl_lattice_polytope.py`: `assert Integer(v.divisor()).is_one()` -> `assert v.divisor() == 1`\n\n> \n> It will be nice, but coercion for gmpy2 types is required for doing this (#23052).\n\nWhere? The first involves a direct call `Rational(mpq_type)` and the second comparison between `mpz` and Python integer. Which operation is mixing gmpy2 types with Sage types?",
    "created_at": "2017-06-07T20:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347223",
    "user": "https://github.com/videlec"
}
```

<div id="comment:13" align="right">Comment 13</div>

Replying to [@vinklein](#comment%3A11):
> Replying to [@videlec](#comment%3A9):
> > 3) Some possible simplifications
> > 
> > - In `ppl_backend.pyx`:
> > `Integer(g.coefficient(Variable(variable))) / Integer(g.divisor())` -> 
> > `Rational(g.coefficient(Variable(variable)) / g.divisor())`
> > 
> > - In `ppl_lattice_polytope.py`: `assert Integer(v.divisor()).is_one()` -> `assert v.divisor() == 1`

> 
> It will be nice, but coercion for gmpy2 types is required for doing this (#23052).

Where? The first involves a direct call `Rational(mpq_type)` and the second comparison between `mpz` and Python integer. Which operation is mixing gmpy2 types with Sage types?



---

archive/issue_comments_347224.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nReplying to [@videlec](#comment%3A13):\n> \n> Where? The first involves a direct call `Rational(mpq_type)` and the second comparison between `mpz` and Python integer. Which operation is mixing gmpy2 types with Sage types?\n\nYou're right, tests failures in ppl_backend.pyx with the suggested code are not coercion related. Forget my previous comment.",
    "created_at": "2017-06-08T08:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347224",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:14" align="right">Comment 14</div>

Replying to [@videlec](#comment%3A13):
> 
> Where? The first involves a direct call `Rational(mpq_type)` and the second comparison between `mpz` and Python integer. Which operation is mixing gmpy2 types with Sage types?

You're right, tests failures in ppl_backend.pyx with the suggested code are not coercion related. Forget my previous comment.



---

archive/issue_comments_347225.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3785bf4b7c757520690d38eb792b775f517dde86\">3785bf4</a></td><td><code>assert simplification ppl_lattice_polytope.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3875e7b6a4f8c87c24896259cc83a922c5c989a\">d3875e7</a></td><td><code>remove skip=('_test_pickling') option for pplpy polyhedron</code></td></tr></table>\n",
    "created_at": "2017-06-08T18:00:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347225",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15" align="right">Comment 15</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3785bf4b7c757520690d38eb792b775f517dde86">3785bf4</a></td><td><code>assert simplification ppl_lattice_polytope.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3875e7b6a4f8c87c24896259cc83a922c5c989a">d3875e7</a></td><td><code>remove skip=('_test_pickling') option for pplpy polyhedron</code></td></tr></table>




---

archive/issue_comments_347226.json:
```json
{
    "body": "Changed commit from **[b3563eb](https://github.com/sagemath/sagetrac-mirror/commit/b3563eb6a123d6aef327453061ea141e4fd1317c)** to **[d3875e7](https://github.com/sagemath/sagetrac-mirror/commit/d3875e7b6a4f8c87c24896259cc83a922c5c989a)**",
    "created_at": "2017-06-08T18:00:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347226",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b3563eb](https://github.com/sagemath/sagetrac-mirror/commit/b3563eb6a123d6aef327453061ea141e4fd1317c)** to **[d3875e7](https://github.com/sagemath/sagetrac-mirror/commit/d3875e7b6a4f8c87c24896259cc83a922c5c989a)**



---

archive/issue_comments_347227.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nAs pplpy has evolved to fix pickling with cPickle download [pplpy](http://www.labri.fr/perso/vklein/pplpy-0.7.tar.gz) again to update your local package.",
    "created_at": "2017-06-08T18:04:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347227",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:16" align="right">Comment 16</div>

As pplpy has evolved to fix pickling with cPickle download [pplpy](http://www.labri.fr/perso/vklein/pplpy-0.7.tar.gz) again to update your local package.



---

archive/issue_comments_347228.json:
```json
{
    "body": "Changed commit from **[d3875e7](https://github.com/sagemath/sagetrac-mirror/commit/d3875e7b6a4f8c87c24896259cc83a922c5c989a)** to **[7ae21f5](https://github.com/sagemath/sagetrac-mirror/commit/7ae21f5900110c74fdb8d925558d9f30282b9630)**",
    "created_at": "2017-06-09T14:04:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347228",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d3875e7](https://github.com/sagemath/sagetrac-mirror/commit/d3875e7b6a4f8c87c24896259cc83a922c5c989a)** to **[7ae21f5](https://github.com/sagemath/sagetrac-mirror/commit/7ae21f5900110c74fdb8d925558d9f30282b9630)**



---

archive/issue_comments_347229.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/700f72c4e47ea980c98e66379717d3a283856123\">700f72c</a></td><td><code>remove sage/libs/ppl from doctree</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ae21f5900110c74fdb8d925558d9f30282b9630\">7ae21f5</a></td><td><code>trac 23024 Bullet list indentation correction</code></td></tr></table>\n",
    "created_at": "2017-06-09T14:04:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347229",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17" align="right">Comment 17</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/700f72c4e47ea980c98e66379717d3a283856123">700f72c</a></td><td><code>remove sage/libs/ppl from doctree</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ae21f5900110c74fdb8d925558d9f30282b9630">7ae21f5</a></td><td><code>trac 23024 Bullet list indentation correction</code></td></tr></table>




---

archive/issue_comments_347230.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08c7a721506fc1c9edf01bd5c3a8670561c21bd8\">08c7a72</a></td><td><code>Add path of gmpy2 in include_dirs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/359a0ff12022c96af72c10c83453dec516d63cda\">359a0ff</a></td><td><code>update checksum and package version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d4fd2ea3e932f6434845d876f4650732b818e70\">0d4fd2e</a></td><td><code>Integer and rational constructors support gmpy2 params</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c66a7c71b07e754d16f174d9cd035b38cc35001\">7c66a7c</a></td><td><code>remove OptionalExtension sage.libs.gmpy2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d143dde32f1caa21b4d5c408dec6b9d2a930218a\">d143dde</a></td><td><code>remove get_gmpy2_path()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c56a3f456a48680e31e44f78e93169fecc1dc96\">2c56a3f</a></td><td><code>Add few doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5264fda96de5f512c6390ba331efe15bb9c240d\">e5264fd</a></td><td><code>Use of MPZ_Check and MPQ_Check functions from gmpy2 C-API</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/504ab68789745112d5695646edb247225378455c\">504ab68</a></td><td><code>Change way of creating a Rational from a mpz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/072a15c0456d864dfacc21c068f7cc6b98432a9c\">072a15c</a></td><td><code>add __mpz__() to Rational</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/858c2e5c6cdd8c3c85655d400c2cd535fc6ae855\">858c2e5</a></td><td><code>trac 23024 update pplpy checksum</code></td></tr></table>\n",
    "created_at": "2017-06-15T12:48:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347230",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18" align="right">Comment 18</div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08c7a721506fc1c9edf01bd5c3a8670561c21bd8">08c7a72</a></td><td><code>Add path of gmpy2 in include_dirs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/359a0ff12022c96af72c10c83453dec516d63cda">359a0ff</a></td><td><code>update checksum and package version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d4fd2ea3e932f6434845d876f4650732b818e70">0d4fd2e</a></td><td><code>Integer and rational constructors support gmpy2 params</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c66a7c71b07e754d16f174d9cd035b38cc35001">7c66a7c</a></td><td><code>remove OptionalExtension sage.libs.gmpy2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d143dde32f1caa21b4d5c408dec6b9d2a930218a">d143dde</a></td><td><code>remove get_gmpy2_path()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c56a3f456a48680e31e44f78e93169fecc1dc96">2c56a3f</a></td><td><code>Add few doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5264fda96de5f512c6390ba331efe15bb9c240d">e5264fd</a></td><td><code>Use of MPZ_Check and MPQ_Check functions from gmpy2 C-API</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/504ab68789745112d5695646edb247225378455c">504ab68</a></td><td><code>Change way of creating a Rational from a mpz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/072a15c0456d864dfacc21c068f7cc6b98432a9c">072a15c</a></td><td><code>add __mpz__() to Rational</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/858c2e5c6cdd8c3c85655d400c2cd535fc6ae855">858c2e5</a></td><td><code>trac 23024 update pplpy checksum</code></td></tr></table>




---

archive/issue_comments_347231.json:
```json
{
    "body": "Changed commit from **[7ae21f5](https://github.com/sagemath/sagetrac-mirror/commit/7ae21f5900110c74fdb8d925558d9f30282b9630)** to **[858c2e5](https://github.com/sagemath/sagetrac-mirror/commit/858c2e5c6cdd8c3c85655d400c2cd535fc6ae855)**",
    "created_at": "2017-06-15T12:48:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347231",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7ae21f5](https://github.com/sagemath/sagetrac-mirror/commit/7ae21f5900110c74fdb8d925558d9f30282b9630)** to **[858c2e5](https://github.com/sagemath/sagetrac-mirror/commit/858c2e5c6cdd8c3c85655d400c2cd535fc6ae855)**



---

archive/issue_comments_347232.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nAs pplpy has evolved to fix pickling with cPickle download \u200bpplpy again to update your local package.",
    "created_at": "2017-06-15T13:02:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347232",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:19" align="right">Comment 19</div>

As pplpy has evolved to fix pickling with cPickle download ​pplpy again to update your local package.



---

archive/issue_comments_347233.json:
```json
{
    "body": "Changed dependencies from **#22928** to **#22928, #23309**",
    "created_at": "2017-11-16T17:03:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347233",
    "user": "https://github.com/vinklein"
}
```

Changed dependencies from **#22928** to **#22928, #23309**



---

archive/issue_comments_347234.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c1b971f7a6d8b82ef4a6b0dd88ebf85b3eb6745\">1c1b971</a></td><td><code>Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a1798e142187591625a080329660a634bb73baa\">2a1798e</a></td><td><code>Remove sage.libs.ppl extension</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1b0b2fc4eca79fbe72bc077c804eb1f1a41f350\">d1b0b2f</a></td><td><code>Modify associahedron doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db21e1d05c8c3a856543465d687cd3e0d28bb056\">db21e1d</a></td><td><code>Updating checksum for pplpy pkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb215c382b37cc6d6d7d2b5aaf9e536582a551d5\">eb215c3</a></td><td><code>remove mpz_to_sage_integer function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53f30f3369dc519c61fd95c7f9df678a3a6e0774\">53f30f3</a></td><td><code>assert simplification ppl_lattice_polytope.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9a64159f51cec54b10133bf5da7917ed332932c\">f9a6415</a></td><td><code>remove skip=('_test_pickling') option for pplpy polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/924984ce77beaddc676682e114f2bc7b6c594d3c\">924984c</a></td><td><code>remove sage/libs/ppl from doctree</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce863ffb71f135293fd70f0ce6b0c01d7fb1f533\">ce863ff</a></td><td><code>update checksum, snapshot version update in setup.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a5812a16a76a78755784292ec2476dac990140d\">7a5812a</a></td><td><code>Add path of gmpy2 in include_dirs</code></td></tr></table>\n",
    "created_at": "2017-11-17T15:31:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347234",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21" align="right">Comment 21</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c1b971f7a6d8b82ef4a6b0dd88ebf85b3eb6745">1c1b971</a></td><td><code>Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a1798e142187591625a080329660a634bb73baa">2a1798e</a></td><td><code>Remove sage.libs.ppl extension</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1b0b2fc4eca79fbe72bc077c804eb1f1a41f350">d1b0b2f</a></td><td><code>Modify associahedron doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db21e1d05c8c3a856543465d687cd3e0d28bb056">db21e1d</a></td><td><code>Updating checksum for pplpy pkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb215c382b37cc6d6d7d2b5aaf9e536582a551d5">eb215c3</a></td><td><code>remove mpz_to_sage_integer function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53f30f3369dc519c61fd95c7f9df678a3a6e0774">53f30f3</a></td><td><code>assert simplification ppl_lattice_polytope.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9a64159f51cec54b10133bf5da7917ed332932c">f9a6415</a></td><td><code>remove skip=('_test_pickling') option for pplpy polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/924984ce77beaddc676682e114f2bc7b6c594d3c">924984c</a></td><td><code>remove sage/libs/ppl from doctree</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce863ffb71f135293fd70f0ce6b0c01d7fb1f533">ce863ff</a></td><td><code>update checksum, snapshot version update in setup.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a5812a16a76a78755784292ec2476dac990140d">7a5812a</a></td><td><code>Add path of gmpy2 in include_dirs</code></td></tr></table>




---

archive/issue_comments_347235.json:
```json
{
    "body": "Changed commit from **[858c2e5](https://github.com/sagemath/sagetrac-mirror/commit/858c2e5c6cdd8c3c85655d400c2cd535fc6ae855)** to **[7a5812a](https://github.com/sagemath/sagetrac-mirror/commit/7a5812a16a76a78755784292ec2476dac990140d)**",
    "created_at": "2017-11-17T15:31:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347235",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[858c2e5](https://github.com/sagemath/sagetrac-mirror/commit/858c2e5c6cdd8c3c85655d400c2cd535fc6ae855)** to **[7a5812a](https://github.com/sagemath/sagetrac-mirror/commit/7a5812a16a76a78755784292ec2476dac990140d)**



---

archive/issue_comments_347236.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,7 @@\n The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) is now superseded by the stand alone [pplpy](https://github.com/videlec/pplpy/) (!Python/!Cython compatible). This ticket proposes to replace `sage/src/libs/ppl.pyx` extension with pplpy.\n \n Some steps :\n+- pplpy and gmpy2 must be standard packages.\n - list any ticket proposing to extend ppl functionalities in Sage (if yes, open issues on github with cross links)\n - see if anybody changed sage/libs/ppl.pyx since the fork (if yes, list the commit and port them into pplpy)\n - prepare a package for pplpy as documented in the developer guide\n``````\n",
    "created_at": "2017-11-24T14:59:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347236",
    "user": "https://github.com/vinklein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,7 @@
 The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) is now superseded by the stand alone [pplpy](https://github.com/videlec/pplpy/) (!Python/!Cython compatible). This ticket proposes to replace `sage/src/libs/ppl.pyx` extension with pplpy.
 
 Some steps :
+- pplpy and gmpy2 must be standard packages.
 - list any ticket proposing to extend ppl functionalities in Sage (if yes, open issues on github with cross links)
 - see if anybody changed sage/libs/ppl.pyx since the fork (if yes, list the commit and port them into pplpy)
 - prepare a package for pplpy as documented in the developer guide
``````




---

archive/issue_comments_347237.json:
```json
{
    "body": "Changed dependencies from **#22928, #23309** to **#22928**",
    "created_at": "2017-11-24T14:59:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347237",
    "user": "https://github.com/vinklein"
}
```

Changed dependencies from **#22928, #23309** to **#22928**



---

archive/issue_comments_347238.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\n[pplpy 0.7](https://pypi.python.org/pypi/pplpy/0.7) is out",
    "created_at": "2017-11-24T18:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347238",
    "user": "https://github.com/videlec"
}
```

<div id="comment:23" align="right">Comment 23</div>

[pplpy 0.7](https://pypi.python.org/pypi/pplpy/0.7) is out



---

archive/issue_events_303136.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2017-11-24T19:06:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303136"
}
```



---

archive/issue_events_303137.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2017-11-24T19:06:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303137"
}
```



---

archive/issue_comments_347239.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/760bbdf64dd8e1b85c74a34fb9f392834400313f\">760bbdf</a></td><td><code>Modify associahedron doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d3345e25146a2c7987cf9939de5f039fcf780b1\">6d3345e</a></td><td><code>Updating checksum for pplpy pkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85cb9fc038410c1725ded669a69b98fce3ad9582\">85cb9fc</a></td><td><code>remove mpz_to_sage_integer function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70177c85f7bc38b10fa1739a6f830039ad4c631b\">70177c8</a></td><td><code>assert simplification ppl_lattice_polytope.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0858a20e874adbe5cb7fd86d156a841300eef15\">b0858a2</a></td><td><code>remove skip=('_test_pickling') option for pplpy polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94c7817c713d49bcd6f7810eea89bb9071251399\">94c7817</a></td><td><code>remove sage/libs/ppl from doctree</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67c8c2e363c4457e95a00585935b7c42ffc7de69\">67c8c2e</a></td><td><code>update checksum, snapshot version update in setup.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50d62ff2e416c545ad4327804a96cb7774d92a92\">50d62ff</a></td><td><code>Add path of gmpy2 in include_dirs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/375fda64f9498362e6803c5c5131926a6cba202e\">375fda6</a></td><td><code>Trac #23024 Fix checksum (pplpy), spkg-install and spkg-check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc37f382de20f4ff5cba86cdd86eaf5100af8f22\">dc37f38</a></td><td><code>Trac #23024 Add new mpz gmpy2 to sage Integer conversion</code></td></tr></table>\n",
    "created_at": "2017-12-19T15:40:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347239",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25" align="right">Comment 25</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/760bbdf64dd8e1b85c74a34fb9f392834400313f">760bbdf</a></td><td><code>Modify associahedron doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d3345e25146a2c7987cf9939de5f039fcf780b1">6d3345e</a></td><td><code>Updating checksum for pplpy pkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85cb9fc038410c1725ded669a69b98fce3ad9582">85cb9fc</a></td><td><code>remove mpz_to_sage_integer function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70177c85f7bc38b10fa1739a6f830039ad4c631b">70177c8</a></td><td><code>assert simplification ppl_lattice_polytope.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0858a20e874adbe5cb7fd86d156a841300eef15">b0858a2</a></td><td><code>remove skip=('_test_pickling') option for pplpy polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94c7817c713d49bcd6f7810eea89bb9071251399">94c7817</a></td><td><code>remove sage/libs/ppl from doctree</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67c8c2e363c4457e95a00585935b7c42ffc7de69">67c8c2e</a></td><td><code>update checksum, snapshot version update in setup.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50d62ff2e416c545ad4327804a96cb7774d92a92">50d62ff</a></td><td><code>Add path of gmpy2 in include_dirs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/375fda64f9498362e6803c5c5131926a6cba202e">375fda6</a></td><td><code>Trac #23024 Fix checksum (pplpy), spkg-install and spkg-check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc37f382de20f4ff5cba86cdd86eaf5100af8f22">dc37f38</a></td><td><code>Trac #23024 Add new mpz gmpy2 to sage Integer conversion</code></td></tr></table>




---

archive/issue_comments_347240.json:
```json
{
    "body": "Changed commit from **[7a5812a](https://github.com/sagemath/sagetrac-mirror/commit/7a5812a16a76a78755784292ec2476dac990140d)** to **[dc37f38](https://github.com/sagemath/sagetrac-mirror/commit/dc37f382de20f4ff5cba86cdd86eaf5100af8f22)**",
    "created_at": "2017-12-19T15:40:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347240",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7a5812a](https://github.com/sagemath/sagetrac-mirror/commit/7a5812a16a76a78755784292ec2476dac990140d)** to **[dc37f38](https://github.com/sagemath/sagetrac-mirror/commit/dc37f382de20f4ff5cba86cdd86eaf5100af8f22)**



---

archive/issue_comments_347241.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nRebase on 22928 (with 22928 based on 8.2.beta0)",
    "created_at": "2017-12-19T15:42:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347241",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:26" align="right">Comment 26</div>

Rebase on 22928 (with 22928 based on 8.2.beta0)



---

archive/issue_comments_347242.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nYou need to provide a link to the pplpy tarball.",
    "created_at": "2017-12-19T21:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347242",
    "user": "https://github.com/videlec"
}
```

<div id="comment:27" align="right">Comment 27</div>

You need to provide a link to the pplpy tarball.



---

archive/issue_comments_347243.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nAnd proper deprecation has to be done for `sage.libs.ppl` so that a user doing\n\n```\nsage: from sage.libs.ppl import whatever\n```\nshould not get an `ImportError` but a warning. See http://doc.sagemath.org/html/en/reference/misc/sage/misc/superseded.htm",
    "created_at": "2017-12-19T21:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347243",
    "user": "https://github.com/videlec"
}
```

<div id="comment:28" align="right">Comment 28</div>

And proper deprecation has to be done for `sage.libs.ppl` so that a user doing

```
sage: from sage.libs.ppl import whatever
```
should not get an `ImportError` but a warning. See http://doc.sagemath.org/html/en/reference/misc/sage/misc/superseded.htm



---

archive/issue_comments_347244.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,6 @@\n-The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) is now superseded by the stand alone [pplpy](https://github.com/videlec/pplpy/) (!Python/!Cython compatible). This ticket proposes to replace `sage/src/libs/ppl.pyx` extension with pplpy.\n+The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://github.com/videlec/pplpy/) (Python/Cython compatible). This ticket proposes to replace `sage/src/libs/ppl.pyx` extension with pplpy. It\n \n-Some steps :\n-- pplpy and gmpy2 must be standard packages.\n-- list any ticket proposing to extend ppl functionalities in Sage (if yes, open issues on github with cross links)\n-- see if anybody changed sage/libs/ppl.pyx since the fork (if yes, list the commit and port them into pplpy)\n-- prepare a package for pplpy as documented in the developer guide\n+- creates a new standard package pplpy\n+- upgrade gmpy2 from optional to standard\n - replace the Sage code calling sage/libs/ppl.pyx to call pplpy\n+- make appropriate deprecation for `sage.libs.ppl`\n``````\n",
    "created_at": "2017-12-19T21:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347244",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,6 @@
-The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) is now superseded by the stand alone [pplpy](https://github.com/videlec/pplpy/) (!Python/!Cython compatible). This ticket proposes to replace `sage/src/libs/ppl.pyx` extension with pplpy.
+The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://github.com/videlec/pplpy/) (Python/Cython compatible). This ticket proposes to replace `sage/src/libs/ppl.pyx` extension with pplpy. It
 
-Some steps :
-- pplpy and gmpy2 must be standard packages.
-- list any ticket proposing to extend ppl functionalities in Sage (if yes, open issues on github with cross links)
-- see if anybody changed sage/libs/ppl.pyx since the fork (if yes, list the commit and port them into pplpy)
-- prepare a package for pplpy as documented in the developer guide
+- creates a new standard package pplpy
+- upgrade gmpy2 from optional to standard
 - replace the Sage code calling sage/libs/ppl.pyx to call pplpy
+- make appropriate deprecation for `sage.libs.ppl`
``````




---

archive/issue_comments_347245.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,5 @@\n - upgrade gmpy2 from optional to standard\n - replace the Sage code calling sage/libs/ppl.pyx to call pplpy\n - make appropriate deprecation for `sage.libs.ppl`\n+\n+pplpy' Tarball : [pplpy-0.7.tar.gz](https://pypi.python.org/packages/ca/d3/1629e95997068c129e3a5235fd32a39e4fc39faca892cf9a2da11f842fb9/pplpy-0.7.tar.gz#md5=89dd6a1e75e06e287adae2ea4dbc143b)\n``````\n",
    "created_at": "2017-12-20T08:07:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347245",
    "user": "https://github.com/vinklein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,5 @@
 - upgrade gmpy2 from optional to standard
 - replace the Sage code calling sage/libs/ppl.pyx to call pplpy
 - make appropriate deprecation for `sage.libs.ppl`
+
+pplpy' Tarball : [pplpy-0.7.tar.gz](https://pypi.python.org/packages/ca/d3/1629e95997068c129e3a5235fd32a39e4fc39faca892cf9a2da11f842fb9/pplpy-0.7.tar.gz#md5=89dd6a1e75e06e287adae2ea4dbc143b)
``````




---

archive/issue_comments_347246.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nAnd by proper deprecation do you mean keeping sage.libs.ppl fully functioning with his doctests ? Or do we prefer to shutdown sage.libs.ppl functionalities (Functions don't do their old work and just return a warning) ?",
    "created_at": "2017-12-20T10:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347246",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:30" align="right">Comment 30</div>

And by proper deprecation do you mean keeping sage.libs.ppl fully functioning with his doctests ? Or do we prefer to shutdown sage.libs.ppl functionalities (Functions don't do their old work and just return a warning) ?



---

archive/issue_comments_347247.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nReplying to [@vinklein](#comment%3A30):\n> And by proper deprecation do you mean keeping sage.libs.ppl fully functioning with his doctests ? Or do we prefer to shutdown sage.libs.ppl functionalities (Functions don't do their old work and just return a warning) ?\n\nThe aim is not to keep `sage.libs.ppl` but to just to have some indirection in the import so that you do not break user's code. As `sage.libs.ppl` will not here anymore I do not expect the full doctesuite to pass as it used to be. But the following kind of things should work (and be doctested)\n\n```\nsage: from sage.libs.ppl import Variable, Constraint_System, C_Polyhedron\nUserWarning: proper deprecation message\nsage: x = Variable(0)\nsage: y = Variable(1)\nsage: cs = Constraint_System()\nsage: cs.insert(x >= 0)\nsage: cs.insert(x <= 3)\nsage: cs.insert(y >= 0)\nsage: cs.insert(y <= 3)\nsage: poly_from_constraints = C_Polyhedron(cs)\n```\nAnd the various objects constructed above are of course from pplpy.\n\nYou can have a look at other places in the sage code and look for \"deprecation\" and \"lazy_import\".",
    "created_at": "2017-12-20T10:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347247",
    "user": "https://github.com/videlec"
}
```

<div id="comment:31" align="right">Comment 31</div>

Replying to [@vinklein](#comment%3A30):
> And by proper deprecation do you mean keeping sage.libs.ppl fully functioning with his doctests ? Or do we prefer to shutdown sage.libs.ppl functionalities (Functions don't do their old work and just return a warning) ?

The aim is not to keep `sage.libs.ppl` but to just to have some indirection in the import so that you do not break user's code. As `sage.libs.ppl` will not here anymore I do not expect the full doctesuite to pass as it used to be. But the following kind of things should work (and be doctested)

```
sage: from sage.libs.ppl import Variable, Constraint_System, C_Polyhedron
UserWarning: proper deprecation message
sage: x = Variable(0)
sage: y = Variable(1)
sage: cs = Constraint_System()
sage: cs.insert(x >= 0)
sage: cs.insert(x <= 3)
sage: cs.insert(y >= 0)
sage: cs.insert(y <= 3)
sage: poly_from_constraints = C_Polyhedron(cs)
```
And the various objects constructed above are of course from pplpy.

You can have a look at other places in the sage code and look for "deprecation" and "lazy_import".



---

archive/issue_comments_347248.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nWell, i spoke with Sebastien L. and if the goal is to let one year for developers to adapt their old code, doing an indirection is not enough. Mainly because pplpy use gmpy2 (some functions return and calls are differents).\n\nTherefore it seems like we should keep `sage.libs.ppl` old code with added warnings.",
    "created_at": "2017-12-20T11:10:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347248",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:32" align="right">Comment 32</div>

Well, i spoke with Sebastien L. and if the goal is to let one year for developers to adapt their old code, doing an indirection is not enough. Mainly because pplpy use gmpy2 (some functions return and calls are differents).

Therefore it seems like we should keep `sage.libs.ppl` old code with added warnings.



---

archive/issue_comments_347249.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nJust a small request can you put upstream's address in SPKG.txt? Of course you are available on pypi but it is not the same as being able to find where to fill bugs and what the current issues are straight away.",
    "created_at": "2017-12-21T01:47:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347249",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:34" align="right">Comment 34</div>

Just a small request can you put upstream's address in SPKG.txt? Of course you are available on pypi but it is not the same as being able to find where to fill bugs and what the current issues are straight away.



---

archive/issue_comments_347250.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d191546377db00ef950b8936895f58b48b25b85\">7d19154</a></td><td><code>Trac #23024 SPKG.txt add upstream contact and licence.</code></td></tr></table>\n",
    "created_at": "2017-12-21T07:57:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347250",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35" align="right">Comment 35</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d191546377db00ef950b8936895f58b48b25b85">7d19154</a></td><td><code>Trac #23024 SPKG.txt add upstream contact and licence.</code></td></tr></table>




---

archive/issue_comments_347251.json:
```json
{
    "body": "Changed commit from **[dc37f38](https://github.com/sagemath/sagetrac-mirror/commit/dc37f382de20f4ff5cba86cdd86eaf5100af8f22)** to **[7d19154](https://github.com/sagemath/sagetrac-mirror/commit/7d191546377db00ef950b8936895f58b48b25b85)**",
    "created_at": "2017-12-21T07:57:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347251",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dc37f38](https://github.com/sagemath/sagetrac-mirror/commit/dc37f382de20f4ff5cba86cdd86eaf5100af8f22)** to **[7d19154](https://github.com/sagemath/sagetrac-mirror/commit/7d191546377db00ef950b8936895f58b48b25b85)**



---

archive/issue_comments_347252.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nDone, thanks for noticing that.",
    "created_at": "2017-12-21T08:01:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347252",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:36" align="right">Comment 36</div>

Done, thanks for noticing that.



---

archive/issue_comments_347253.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01403bd74b0863cc11422a13f95051a84cb9a291\">01403bd</a></td><td><code>Trac #23024 Deprecate sage.libs.ppl</code></td></tr></table>\n",
    "created_at": "2017-12-21T09:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347253",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37" align="right">Comment 37</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01403bd74b0863cc11422a13f95051a84cb9a291">01403bd</a></td><td><code>Trac #23024 Deprecate sage.libs.ppl</code></td></tr></table>




---

archive/issue_comments_347254.json:
```json
{
    "body": "Changed commit from **[7d19154](https://github.com/sagemath/sagetrac-mirror/commit/7d191546377db00ef950b8936895f58b48b25b85)** to **[01403bd](https://github.com/sagemath/sagetrac-mirror/commit/01403bd74b0863cc11422a13f95051a84cb9a291)**",
    "created_at": "2017-12-21T09:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347254",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7d19154](https://github.com/sagemath/sagetrac-mirror/commit/7d191546377db00ef950b8936895f58b48b25b85)** to **[01403bd](https://github.com/sagemath/sagetrac-mirror/commit/01403bd74b0863cc11422a13f95051a84cb9a291)**



---

archive/issue_comments_347255.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nDeprecation of `sage.libs.ppl` added. As the whole module is deprecated i choose to send deprecation warning at import time.",
    "created_at": "2017-12-21T09:45:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347255",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:38" align="right">Comment 38</div>

Deprecation of `sage.libs.ppl` added. As the whole module is deprecated i choose to send deprecation warning at import time.



---

archive/issue_comments_347256.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nReplying to [@vinklein](#comment%3A38):\n> Deprecation of `sage.libs.ppl` added. As the whole module is deprecated i choose to send deprecation warning at import time.\n\nGood solution.\n\nNow, we just need to wait for #22928...",
    "created_at": "2017-12-21T10:05:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347256",
    "user": "https://github.com/videlec"
}
```

<div id="comment:39" align="right">Comment 39</div>

Replying to [@vinklein](#comment%3A38):
> Deprecation of `sage.libs.ppl` added. As the whole module is deprecated i choose to send deprecation warning at import time.

Good solution.

Now, we just need to wait for #22928...



---

archive/issue_comments_347257.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nDid you run the testsuite!?\n\n```\nsage -t src/sage/geometry/lattice_polytope.py\n**********************************************************************\nFile \"src/sage/geometry/lattice_polytope.py\", line 1608, in sage.geometry.lattice_polytope.LatticePolytopeClass.boundary_point_indices\nFailed example:\n    face.points()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 517, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 920, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.lattice_polytope.LatticePolytopeClass.boundary_point_indices[4]>\", line 1, in <module>\n        face.points()\n      File \"/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/geometry/lattice_polytope.py\", line 3680, in points\n        l = gcd(v)\n    NameError: global name 'gcd' is not defined\n```",
    "created_at": "2017-12-21T15:56:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347257",
    "user": "https://github.com/videlec"
}
```

<div id="comment:40" align="right">Comment 40</div>

Did you run the testsuite!?

```
sage -t src/sage/geometry/lattice_polytope.py
**********************************************************************
File "src/sage/geometry/lattice_polytope.py", line 1608, in sage.geometry.lattice_polytope.LatticePolytopeClass.boundary_point_indices
Failed example:
    face.points()
Exception raised:
    Traceback (most recent call last):
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 517, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 920, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.lattice_polytope.LatticePolytopeClass.boundary_point_indices[4]>", line 1, in <module>
        face.points()
      File "/home/vdelecro/sage_patchbot/local/lib/python2.7/site-packages/sage/geometry/lattice_polytope.py", line 3680, in points
        l = gcd(v)
    NameError: global name 'gcd' is not defined
```



---

archive/issue_comments_347258.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e395e0e3cedf27f511e5b5bc5e6ddbd96064c5bc\">e395e0e</a></td><td><code>Trac #23024 Use gmpy2 as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d244109bd7ed07fa1c3cbec2a08f68a2e2730a74\">d244109</a></td><td><code>Trac #23024 Restore import gcd</code></td></tr></table>\n",
    "created_at": "2017-12-21T16:37:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347258",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41" align="right">Comment 41</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e395e0e3cedf27f511e5b5bc5e6ddbd96064c5bc">e395e0e</a></td><td><code>Trac #23024 Use gmpy2 as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d244109bd7ed07fa1c3cbec2a08f68a2e2730a74">d244109</a></td><td><code>Trac #23024 Restore import gcd</code></td></tr></table>




---

archive/issue_comments_347259.json:
```json
{
    "body": "Changed commit from **[01403bd](https://github.com/sagemath/sagetrac-mirror/commit/01403bd74b0863cc11422a13f95051a84cb9a291)** to **[d244109](https://github.com/sagemath/sagetrac-mirror/commit/d244109bd7ed07fa1c3cbec2a08f68a2e2730a74)**",
    "created_at": "2017-12-21T16:37:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347259",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[01403bd](https://github.com/sagemath/sagetrac-mirror/commit/01403bd74b0863cc11422a13f95051a84cb9a291)** to **[d244109](https://github.com/sagemath/sagetrac-mirror/commit/d244109bd7ed07fa1c3cbec2a08f68a2e2730a74)**



---

archive/issue_comments_347260.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nYes i have see this one. \nThe last remaining problem is a SEGFAULT when running ppl_lattice_polytope.py doctests.",
    "created_at": "2017-12-21T16:42:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347260",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:42" align="right">Comment 42</div>

Yes i have see this one. 
The last remaining problem is a SEGFAULT when running ppl_lattice_polytope.py doctests.



---

archive/issue_comments_347261.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nCould you post the log here?",
    "created_at": "2017-12-21T16:46:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347261",
    "user": "https://github.com/videlec"
}
```

<div id="comment:43" align="right">Comment 43</div>

Could you post the log here?



---

archive/issue_comments_347262.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nReplying to [@videlec](#comment%3A43):\n> Could you post the log here?\n\n[segfault_ppl_lattice_polytope.log](http://www.labri.fr/perso/vklein/segfault_ppl_lattice_polytope.log)\n\nShort story is \n\n```\nsage: LatticePolytope_PPL((0,0),(1/2,1))\n```\ncause a Segfault.",
    "created_at": "2017-12-21T16:53:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347262",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:44" align="right">Comment 44</div>

Replying to [@videlec](#comment%3A43):
> Could you post the log here?

[segfault_ppl_lattice_polytope.log](http://www.labri.fr/perso/vklein/segfault_ppl_lattice_polytope.log)

Short story is 

```
sage: LatticePolytope_PPL((0,0),(1/2,1))
```
cause a Segfault.



---

archive/issue_comments_347263.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nIsn't it https://github.com/aleaxit/gmpy/pull/174?",
    "created_at": "2017-12-21T17:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347263",
    "user": "https://github.com/videlec"
}
```

<div id="comment:45" align="right">Comment 45</div>

Isn't it https://github.com/aleaxit/gmpy/pull/174?



---

archive/issue_comments_347264.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\nAt least with the patch applied I got\n\n```\nsage: from sage.geometry.polyhedron.ppl_lattice_polytope import LatticePolytope_PPL\nsage: LatticePolytope_PPL((0,0),(1/2,1))\nTraceback (most recent call last):\n...\nTypeError: rational is not an integer\n```",
    "created_at": "2017-12-21T17:27:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347264",
    "user": "https://github.com/videlec"
}
```

<div id="comment:46" align="right">Comment 46</div>

At least with the patch applied I got

```
sage: from sage.geometry.polyhedron.ppl_lattice_polytope import LatticePolytope_PPL
sage: LatticePolytope_PPL((0,0),(1/2,1))
Traceback (most recent call last):
...
TypeError: rational is not an integer
```



---

archive/issue_comments_347265.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nSee #24417",
    "created_at": "2017-12-21T17:33:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347265",
    "user": "https://github.com/videlec"
}
```

<div id="comment:47" align="right">Comment 47</div>

See #24417



---

archive/issue_comments_347266.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nReplying to [@videlec](#comment%3A45):\n> Isn't it https://github.com/aleaxit/gmpy/pull/174?\n\nYes it is ! Nicely done.",
    "created_at": "2017-12-21T18:27:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347266",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:48" align="right">Comment 48</div>

Replying to [@videlec](#comment%3A45):
> Isn't it https://github.com/aleaxit/gmpy/pull/174?

Yes it is ! Nicely done.



---

archive/issue_comments_347267.json:
```json
{
    "body": "Changed commit from **[d244109](https://github.com/sagemath/sagetrac-mirror/commit/d244109bd7ed07fa1c3cbec2a08f68a2e2730a74)** to **[3cec632](https://github.com/sagemath/sagetrac-mirror/commit/3cec63259adb968dc3b70d4514d21c3e5530842f)**",
    "created_at": "2018-01-31T16:40:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347267",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d244109](https://github.com/sagemath/sagetrac-mirror/commit/d244109bd7ed07fa1c3cbec2a08f68a2e2730a74)** to **[3cec632](https://github.com/sagemath/sagetrac-mirror/commit/3cec63259adb968dc3b70d4514d21c3e5530842f)**



---

archive/issue_comments_347268.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7596cff312578856df4272dec351478c228f06c2\">7596cff</a></td><td><code>remove sage/libs/ppl from doctree</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0cd326c5941d239bce238153aa4a021b78150cc7\">0cd326c</a></td><td><code>update checksum, snapshot version update in setup.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91b5d52b6a09ba6343ac21facdf68703a215cf9e\">91b5d52</a></td><td><code>Add path of gmpy2 in include_dirs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b965a7bc4b6637c41cb744934cb57ddbe486f29\">0b965a7</a></td><td><code>Trac #23024 Fix checksum (pplpy), spkg-install and spkg-check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd886fb5f7474d5691cc9ce93b5eec98564a10db\">dd886fb</a></td><td><code>Trac #23024 Add new mpz gmpy2 to sage Integer conversion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7a5a2180c511b1f9028f2f96b204633b38a9a83\">b7a5a21</a></td><td><code>Trac #23024 SPKG.txt add upstream contact and licence.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96146ca919cce3091904922498fed3b3c207e123\">96146ca</a></td><td><code>Trac #23024 Deprecate sage.libs.ppl</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e85ae5f0201d6ac165605d8bcb1e485c7681e951\">e85ae5f</a></td><td><code>Trac #23024 Use gmpy2 as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da9aa355463fe9b1906b33811dd97bc572ab05d1\">da9aa35</a></td><td><code>Trac #23024 Restore import gcd</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cec63259adb968dc3b70d4514d21c3e5530842f\">3cec632</a></td><td><code>Trac #23024 : merge #22928 ppl.pyx add deprecation warning ...</code></td></tr></table>\n",
    "created_at": "2018-01-31T16:40:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347268",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49" align="right">Comment 49</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7596cff312578856df4272dec351478c228f06c2">7596cff</a></td><td><code>remove sage/libs/ppl from doctree</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0cd326c5941d239bce238153aa4a021b78150cc7">0cd326c</a></td><td><code>update checksum, snapshot version update in setup.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91b5d52b6a09ba6343ac21facdf68703a215cf9e">91b5d52</a></td><td><code>Add path of gmpy2 in include_dirs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b965a7bc4b6637c41cb744934cb57ddbe486f29">0b965a7</a></td><td><code>Trac #23024 Fix checksum (pplpy), spkg-install and spkg-check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd886fb5f7474d5691cc9ce93b5eec98564a10db">dd886fb</a></td><td><code>Trac #23024 Add new mpz gmpy2 to sage Integer conversion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7a5a2180c511b1f9028f2f96b204633b38a9a83">b7a5a21</a></td><td><code>Trac #23024 SPKG.txt add upstream contact and licence.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96146ca919cce3091904922498fed3b3c207e123">96146ca</a></td><td><code>Trac #23024 Deprecate sage.libs.ppl</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e85ae5f0201d6ac165605d8bcb1e485c7681e951">e85ae5f</a></td><td><code>Trac #23024 Use gmpy2 as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da9aa355463fe9b1906b33811dd97bc572ab05d1">da9aa35</a></td><td><code>Trac #23024 Restore import gcd</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cec63259adb968dc3b70d4514d21c3e5530842f">3cec632</a></td><td><code>Trac #23024 : merge #22928 ppl.pyx add deprecation warning ...</code></td></tr></table>




---

archive/issue_comments_347269.json:
```json
{
    "body": "Changed commit from **[3cec632](https://github.com/sagemath/sagetrac-mirror/commit/3cec63259adb968dc3b70d4514d21c3e5530842f)** to **[d206c14](https://github.com/sagemath/sagetrac-mirror/commit/d206c1432ef3bd7f394921de43363fb4bdc84188)**",
    "created_at": "2018-01-31T16:45:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347269",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3cec632](https://github.com/sagemath/sagetrac-mirror/commit/3cec63259adb968dc3b70d4514d21c3e5530842f)** to **[d206c14](https://github.com/sagemath/sagetrac-mirror/commit/d206c1432ef3bd7f394921de43363fb4bdc84188)**



---

archive/issue_comments_347270.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">Comment 50</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d206c1432ef3bd7f394921de43363fb4bdc84188\">d206c14</a></td><td><code>Trac #23024: ppl.pyx add deprecation warning to long doctest</code></td></tr></table>\n",
    "created_at": "2018-01-31T16:45:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347270",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50" align="right">Comment 50</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d206c1432ef3bd7f394921de43363fb4bdc84188">d206c14</a></td><td><code>Trac #23024: ppl.pyx add deprecation warning to long doctest</code></td></tr></table>




---

archive/issue_comments_347271.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">Comment 51</div>\n\nYou are adding `sage.libs.gmpy2` in `7596cff` and removing it in `91b5d52`...",
    "created_at": "2018-01-31T16:56:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347271",
    "user": "https://github.com/videlec"
}
```

<div id="comment:51" align="right">Comment 51</div>

You are adding `sage.libs.gmpy2` in `7596cff` and removing it in `91b5d52`...



---

archive/issue_comments_347272.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">Comment 52</div>\n\nYes adding it was one of our old solutions. Before having a better include in pplpy's `setup.py` if i remember correctly. All of this historical things can be squashed later.",
    "created_at": "2018-01-31T17:01:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347272",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:52" align="right">Comment 52</div>

Yes adding it was one of our old solutions. Before having a better include in pplpy's `setup.py` if i remember correctly. All of this historical things can be squashed later.



---

archive/issue_comments_347273.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">Comment 53</div>\n\nIt's the same for `ppl.pyx` we don't need to show that we deleted it and restore and deprecate later.",
    "created_at": "2018-01-31T17:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347273",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:53" align="right">Comment 53</div>

It's the same for `ppl.pyx` we don't need to show that we deleted it and restore and deprecate later.



---

archive/issue_comments_347274.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">Comment 54</div>\n\nThere are a lot of trailing whitespaces that should be removed.",
    "created_at": "2018-02-01T08:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347274",
    "user": "https://github.com/videlec"
}
```

<div id="comment:54" align="right">Comment 54</div>

There are a lot of trailing whitespaces that should be removed.



---

archive/issue_comments_347275.json:
```json
{
    "body": "Changed commit from **[d206c14](https://github.com/sagemath/sagetrac-mirror/commit/d206c1432ef3bd7f394921de43363fb4bdc84188)** to **[f3e4bcd](https://github.com/sagemath/sagetrac-mirror/commit/f3e4bcd318536643b1b8a4bf6e3560813e0970bd)**",
    "created_at": "2018-02-01T09:45:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347275",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d206c14](https://github.com/sagemath/sagetrac-mirror/commit/d206c1432ef3bd7f394921de43363fb4bdc84188)** to **[f3e4bcd](https://github.com/sagemath/sagetrac-mirror/commit/f3e4bcd318536643b1b8a4bf6e3560813e0970bd)**



---

archive/issue_comments_347276.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">Comment 55</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/886424bf41394e84887f655158dedc5765ac07a3\">886424b</a></td><td><code>Trac 23024: Add pplpy as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6e1cc72879f330eb630f4f552bd867a1524446d\">a6e1cc7</a></td><td><code>Trac 23024: Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3e4bcd318536643b1b8a4bf6e3560813e0970bd\">f3e4bcd</a></td><td><code>Trac #23024: Use gmpy2 as a standard package</code></td></tr></table>\n",
    "created_at": "2018-02-01T09:45:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347276",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:55" align="right">Comment 55</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/886424bf41394e84887f655158dedc5765ac07a3">886424b</a></td><td><code>Trac 23024: Add pplpy as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6e1cc72879f330eb630f4f552bd867a1524446d">a6e1cc7</a></td><td><code>Trac 23024: Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3e4bcd318536643b1b8a4bf6e3560813e0970bd">f3e4bcd</a></td><td><code>Trac #23024: Use gmpy2 as a standard package</code></td></tr></table>




---

archive/issue_comments_347277.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">Comment 56</div>\n\nHistory rewrited. Trailing whitespaces removed in `real_mpfr.pyx`, `complex_mpc.pyx` and `complex_number.pyx` files.",
    "created_at": "2018-02-01T09:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347277",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:56" align="right">Comment 56</div>

History rewrited. Trailing whitespaces removed in `real_mpfr.pyx`, `complex_mpc.pyx` and `complex_number.pyx` files.



---

archive/issue_comments_347278.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">Comment 57</div>\n\nI don't understand why you are modifying `pplpy/SPKG.txt`, `pplpy/checksums.ini`, `pplpy/spkg-check`, etc in both `886424b` and `\u200ba6e1cc7`.",
    "created_at": "2018-02-02T13:49:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347278",
    "user": "https://github.com/videlec"
}
```

<div id="comment:57" align="right">Comment 57</div>

I don't understand why you are modifying `pplpy/SPKG.txt`, `pplpy/checksums.ini`, `pplpy/spkg-check`, etc in both `886424b` and `​a6e1cc7`.



---

archive/issue_comments_347279.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">Comment 58</div>\n\nBuild fine and all tests pass on my computer!",
    "created_at": "2018-02-03T09:47:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347279",
    "user": "https://github.com/videlec"
}
```

<div id="comment:58" align="right">Comment 58</div>

Build fine and all tests pass on my computer!



---

archive/issue_comments_347280.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://github.com/videlec/pplpy/) (Python/Cython compatible). This ticket proposes to replace `sage/src/libs/ppl.pyx` extension with pplpy. It\n+The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://github.com/videlec/pplpy/) (Python/Cython compatible). This ticket proposes to replace `src/sage/libs/ppl.pyx` extension with pplpy. It\n \n - creates a new standard package pplpy\n - upgrade gmpy2 from optional to standard\n``````\n",
    "created_at": "2018-02-05T08:16:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347280",
    "user": "https://github.com/vinklein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://github.com/videlec/pplpy/) (Python/Cython compatible). This ticket proposes to replace `sage/src/libs/ppl.pyx` extension with pplpy. It
+The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://github.com/videlec/pplpy/) (Python/Cython compatible). This ticket proposes to replace `src/sage/libs/ppl.pyx` extension with pplpy. It
 
 - creates a new standard package pplpy
 - upgrade gmpy2 from optional to standard
``````




---

archive/issue_comments_347281.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">Comment 60</div>\n\nUse `sdh_pip_install` instead of `$PIP_INSTALL`",
    "created_at": "2018-02-05T08:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347281",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:60" align="right">Comment 60</div>

Use `sdh_pip_install` instead of `$PIP_INSTALL`



---

archive/issue_comments_347282.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">Comment 61</div>\n\nIs the license of pplpy really `GPL version 3`? Or do you mean `GPL version 3 or later`? The difference is important.",
    "created_at": "2018-02-05T08:52:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347282",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:61" align="right">Comment 61</div>

Is the license of pplpy really `GPL version 3`? Or do you mean `GPL version 3 or later`? The difference is important.



---

archive/issue_comments_347283.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">Comment 62</div>\n\nThis looks like a strange way to check if something is one:\n\n```\nInteger(p.divisor()).is_one()\n```\nWhat's wrong with\n\n```\np.divisor() == 1\n```",
    "created_at": "2018-02-05T08:54:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347283",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:62" align="right">Comment 62</div>

This looks like a strange way to check if something is one:

```
Integer(p.divisor()).is_one()
```
What's wrong with

```
p.divisor() == 1
```



---

archive/issue_comments_347284.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">Comment 63</div>\n\nReplying to [@jdemeyer](#comment%3A61):\n> Is the license of pplpy really `GPL version 3`? Or do you mean `GPL version 3 or later`? The difference is important.\n\nYes the current one is `GPL version 3` (see [LICENSE.txt](https://github.com/videlec/pplpy/blob/master/LICENSE.txt)). Is it better to say `GPL version 3 or later` anyway ?",
    "created_at": "2018-02-05T08:57:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347284",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:63" align="right">Comment 63</div>

Replying to [@jdemeyer](#comment%3A61):
> Is the license of pplpy really `GPL version 3`? Or do you mean `GPL version 3 or later`? The difference is important.

Yes the current one is `GPL version 3` (see [LICENSE.txt](https://github.com/videlec/pplpy/blob/master/LICENSE.txt)). Is it better to say `GPL version 3 or later` anyway ?



---

archive/issue_comments_347285.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">Comment 64</div>\n\nIn `backend_ppl.py` you do `from gmpy2 import mpz` but you're not using it.",
    "created_at": "2018-02-05T09:01:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347285",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:64" align="right">Comment 64</div>

In `backend_ppl.py` you do `from gmpy2 import mpz` but you're not using it.



---

archive/issue_comments_347286.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">Comment 65</div>\n\nReplying to [@vinklein](#comment%3A63):\n> Is it better to say `GPL version 3 or later` anyway ?\n\nSee https://github.com/videlec/pplpy/issues/28",
    "created_at": "2018-02-05T09:04:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347286",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:65" align="right">Comment 65</div>

Replying to [@vinklein](#comment%3A63):
> Is it better to say `GPL version 3 or later` anyway ?

See https://github.com/videlec/pplpy/issues/28



---

archive/issue_comments_347287.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">Comment 66</div>\n\nReplying to [@jdemeyer](#comment%3A62):\n> What's wrong with\n> \n> ```\n> p.divisor() == 1\n> ```\n\np.divisor() return a `gmpy2.mpz`.",
    "created_at": "2018-02-05T10:02:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347287",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:66" align="right">Comment 66</div>

Replying to [@jdemeyer](#comment%3A62):
> What's wrong with
> 
> ```
> p.divisor() == 1
> ```

p.divisor() return a `gmpy2.mpz`.



---

archive/issue_comments_347288.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">Comment 67</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef97c325b862e31856dc63c127c979692d7d31f5\">ef97c32</a></td><td><code>Trac #23024: spkg-install `sdh_pip_install` instead ...</code></td></tr></table>\n",
    "created_at": "2018-02-05T10:16:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347288",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:67" align="right">Comment 67</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef97c325b862e31856dc63c127c979692d7d31f5">ef97c32</a></td><td><code>Trac #23024: spkg-install `sdh_pip_install` instead ...</code></td></tr></table>




---

archive/issue_comments_347289.json:
```json
{
    "body": "Changed commit from **[f3e4bcd](https://github.com/sagemath/sagetrac-mirror/commit/f3e4bcd318536643b1b8a4bf6e3560813e0970bd)** to **[ef97c32](https://github.com/sagemath/sagetrac-mirror/commit/ef97c325b862e31856dc63c127c979692d7d31f5)**",
    "created_at": "2018-02-05T10:16:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347289",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f3e4bcd](https://github.com/sagemath/sagetrac-mirror/commit/f3e4bcd318536643b1b8a4bf6e3560813e0970bd)** to **[ef97c32](https://github.com/sagemath/sagetrac-mirror/commit/ef97c325b862e31856dc63c127c979692d7d31f5)**



---

archive/issue_comments_347290.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">Comment 68</div>\n\nReplying to [@vinklein](#comment%3A66):\n> Replying to [@jdemeyer](#comment%3A62):\n> > What's wrong with\n> > \n> > ```\n> > p.divisor() == 1\n> > ```\n\n> p.divisor() return a `gmpy2.mpz`.\n\nWhat is wrong with\n\n```\n>>> gmpy2.mpz(1) == 1\nTrue\n```",
    "created_at": "2018-02-05T23:00:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347290",
    "user": "https://github.com/videlec"
}
```

<div id="comment:68" align="right">Comment 68</div>

Replying to [@vinklein](#comment%3A66):
> Replying to [@jdemeyer](#comment%3A62):
> > What's wrong with
> > 
> > ```
> > p.divisor() == 1
> > ```

> p.divisor() return a `gmpy2.mpz`.

What is wrong with

```
>>> gmpy2.mpz(1) == 1
True
```



---

archive/issue_comments_347291.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">Comment 69</div>\n\nReplying to [@videlec](#comment%3A68):\n> ...\n> What is wrong with\n> \n> ```\n> >>> gmpy2.mpz(1) == 1\n> True\n> ```\n\n\\\\\n\nIn this case you compare a python `int` with a `gmpy2.mpz`. \\\\\n\nBut with sage's `Integer` : \n\n```\nsage: gmpy2.mpz(1) == 1\nFalse\n```\n\nEdit: Hum ok my bad.",
    "created_at": "2018-02-06T08:10:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347291",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:69" align="right">Comment 69</div>

Replying to [@videlec](#comment%3A68):
> ...
> What is wrong with
> 
> ```
> >>> gmpy2.mpz(1) == 1
> True
> ```

\\

In this case you compare a python `int` with a `gmpy2.mpz`. \\

But with sage's `Integer` : 

```
sage: gmpy2.mpz(1) == 1
False
```

Edit: Hum ok my bad.



---

archive/issue_comments_347292.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">Comment 70</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f98d707835ee148592d341666babec1d79e1419\">2f98d70</a></td><td><code>Trac #23024: Code cleaning</code></td></tr></table>\n",
    "created_at": "2018-02-06T08:40:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347292",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:70" align="right">Comment 70</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f98d707835ee148592d341666babec1d79e1419">2f98d70</a></td><td><code>Trac #23024: Code cleaning</code></td></tr></table>




---

archive/issue_comments_347293.json:
```json
{
    "body": "Changed commit from **[ef97c32](https://github.com/sagemath/sagetrac-mirror/commit/ef97c325b862e31856dc63c127c979692d7d31f5)** to **[2f98d70](https://github.com/sagemath/sagetrac-mirror/commit/2f98d707835ee148592d341666babec1d79e1419)**",
    "created_at": "2018-02-06T08:40:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347293",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ef97c32](https://github.com/sagemath/sagetrac-mirror/commit/ef97c325b862e31856dc63c127c979692d7d31f5)** to **[2f98d70](https://github.com/sagemath/sagetrac-mirror/commit/2f98d707835ee148592d341666babec1d79e1419)**



---

archive/issue_comments_347294.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">Comment 71</div>\n\nself-testing fails:\n\n```\n$ SAGE_CHECK=yes ./sage -f pplpy\n...\n[pplpy-0.7] Successfully installed pplpy-0.7\n[pplpy-0.7] Cleaning up...\n[pplpy-0.7] \n[pplpy-0.7] real\t0m38.345s\n[pplpy-0.7] user\t0m36.490s\n[pplpy-0.7] sys\t0m1.835s\n[pplpy-0.7] Copying package files from temporary location /home/dima/Sage/sage-dev/local/var/tmp/sage/build/pplpy-0.7/inst to /home/dima/Sage/sage-dev/local\n[pplpy-0.7] Running the test suite for pplpy-0.7...\n[pplpy-0.7] running test\n[pplpy-0.7] error: cannot copy tree './tests': not a directory\n[pplpy-0.7] \n```",
    "created_at": "2018-02-06T16:27:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347294",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:71" align="right">Comment 71</div>

self-testing fails:

```
$ SAGE_CHECK=yes ./sage -f pplpy
...
[pplpy-0.7] Successfully installed pplpy-0.7
[pplpy-0.7] Cleaning up...
[pplpy-0.7] 
[pplpy-0.7] real	0m38.345s
[pplpy-0.7] user	0m36.490s
[pplpy-0.7] sys	0m1.835s
[pplpy-0.7] Copying package files from temporary location /home/dima/Sage/sage-dev/local/var/tmp/sage/build/pplpy-0.7/inst to /home/dima/Sage/sage-dev/local
[pplpy-0.7] Running the test suite for pplpy-0.7...
[pplpy-0.7] running test
[pplpy-0.7] error: cannot copy tree './tests': not a directory
[pplpy-0.7] 
```



---

archive/issue_comments_347295.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">Comment 72</div>\n\nIndeed. https://github.com/videlec/pplpy/issues/30",
    "created_at": "2018-02-06T17:09:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347295",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:72" align="right">Comment 72</div>

Indeed. https://github.com/videlec/pplpy/issues/30



---

archive/issue_comments_347296.json:
```json
{
    "body": "Changed dependencies from **#22928** to none",
    "created_at": "2019-01-18T09:25:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347296",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#22928** to none



---

archive/issue_events_303138.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-18T13:11:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303138"
}
```



---

archive/issue_events_303139.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-18T13:11:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303139"
}
```



---

archive/issue_comments_347297.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">Comment 75</div>\n\nThis would still be a good thing to do IMO, in general.",
    "created_at": "2019-01-18T13:11:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347297",
    "user": "https://github.com/embray"
}
```

<div id="comment:75" align="right">Comment 75</div>

This would still be a good thing to do IMO, in general.



---

archive/issue_comments_347298.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,4 +5,4 @@\n - replace the Sage code calling sage/libs/ppl.pyx to call pplpy\n - make appropriate deprecation for `sage.libs.ppl`\n \n-pplpy' Tarball : [pplpy-0.7.tar.gz](https://pypi.python.org/packages/ca/d3/1629e95997068c129e3a5235fd32a39e4fc39faca892cf9a2da11f842fb9/pplpy-0.7.tar.gz#md5=89dd6a1e75e06e287adae2ea4dbc143b)\n+pplpy' Tarball : [pplpy-0.8.tar.gz](https://files.pythonhosted.org/packages/9b/bb/4973d00ec0b02bb5c4a744584a41d29b68bb9fec529407d81808e46adcca/pplpy-0.8.tar.gz)\n``````\n",
    "created_at": "2019-01-18T21:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347298",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,4 +5,4 @@
 - replace the Sage code calling sage/libs/ppl.pyx to call pplpy
 - make appropriate deprecation for `sage.libs.ppl`
 
-pplpy' Tarball : [pplpy-0.7.tar.gz](https://pypi.python.org/packages/ca/d3/1629e95997068c129e3a5235fd32a39e4fc39faca892cf9a2da11f842fb9/pplpy-0.7.tar.gz#md5=89dd6a1e75e06e287adae2ea4dbc143b)
+pplpy' Tarball : [pplpy-0.8.tar.gz](https://files.pythonhosted.org/packages/9b/bb/4973d00ec0b02bb5c4a744584a41d29b68bb9fec529407d81808e46adcca/pplpy-0.8.tar.gz)
``````




---

archive/issue_events_303140.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-18T21:24:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303140"
}
```



---

archive/issue_events_303141.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-18T21:24:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303141"
}
```



---

archive/issue_comments_347299.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://github.com/videlec/pplpy/) (Python/Cython compatible). This ticket proposes to replace `src/sage/libs/ppl.pyx` extension with pplpy. It\n+The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://gitlab.com/videlec/pplpy) (Python/Cython compatible). This ticket proposes to replace `src/sage/libs/ppl.pyx` extension with pplpy. It\n \n - creates a new standard package pplpy\n - upgrade gmpy2 from optional to standard\n``````\n",
    "created_at": "2019-01-18T21:24:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347299",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://github.com/videlec/pplpy/) (Python/Cython compatible). This ticket proposes to replace `src/sage/libs/ppl.pyx` extension with pplpy. It
+The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://gitlab.com/videlec/pplpy) (Python/Cython compatible). This ticket proposes to replace `src/sage/libs/ppl.pyx` extension with pplpy. It
 
 - creates a new standard package pplpy
 - upgrade gmpy2 from optional to standard
``````




---

archive/issue_comments_347300.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">Comment 78</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5b7110ba35bc49a081e0c1798486e2949808ab6\">f5b7110</a></td><td><code>Trac 23024: Add pplpy as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82a5d24044117c132727c2584ae9c11c2c352603\">82a5d24</a></td><td><code>Trac 23024: Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59617e14158e2d7333476c78094df904cd280e34\">59617e1</a></td><td><code>Trac #23024: Use gmpy2 as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f51887ee6d347cc831ec8150768b93188672d24\">8f51887</a></td><td><code>Trac #23024: spkg-install `sdh_pip_install` instead ...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7a67d4bd5cf43ac9b8a8a1820ed43886ae37481\">d7a67d4</a></td><td><code>Trac #23024: Code cleaning</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ea93822d2005f338321e9dbd265dad97aa9958f\">9ea9382</a></td><td><code>Trac #23024: Remove HAVE_GMPY2 from coerce.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55ad161c47d0a901cf9e81d2adeb09b94c66d655\">55ad161</a></td><td><code>Trac #23024: fix ppl_lattice_polytope doctests</code></td></tr></table>\n",
    "created_at": "2019-01-22T17:08:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347300",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:78" align="right">Comment 78</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5b7110ba35bc49a081e0c1798486e2949808ab6">f5b7110</a></td><td><code>Trac 23024: Add pplpy as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82a5d24044117c132727c2584ae9c11c2c352603">82a5d24</a></td><td><code>Trac 23024: Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59617e14158e2d7333476c78094df904cd280e34">59617e1</a></td><td><code>Trac #23024: Use gmpy2 as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f51887ee6d347cc831ec8150768b93188672d24">8f51887</a></td><td><code>Trac #23024: spkg-install `sdh_pip_install` instead ...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7a67d4bd5cf43ac9b8a8a1820ed43886ae37481">d7a67d4</a></td><td><code>Trac #23024: Code cleaning</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ea93822d2005f338321e9dbd265dad97aa9958f">9ea9382</a></td><td><code>Trac #23024: Remove HAVE_GMPY2 from coerce.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55ad161c47d0a901cf9e81d2adeb09b94c66d655">55ad161</a></td><td><code>Trac #23024: fix ppl_lattice_polytope doctests</code></td></tr></table>




---

archive/issue_comments_347301.json:
```json
{
    "body": "Changed commit from **[2f98d70](https://github.com/sagemath/sagetrac-mirror/commit/2f98d707835ee148592d341666babec1d79e1419)** to **[55ad161](https://github.com/sagemath/sagetrac-mirror/commit/55ad161c47d0a901cf9e81d2adeb09b94c66d655)**",
    "created_at": "2019-01-22T17:08:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347301",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2f98d70](https://github.com/sagemath/sagetrac-mirror/commit/2f98d707835ee148592d341666babec1d79e1419)** to **[55ad161](https://github.com/sagemath/sagetrac-mirror/commit/55ad161c47d0a901cf9e81d2adeb09b94c66d655)**



---

archive/issue_comments_347302.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">Comment 79</div>\n\nRebased on sage8.6",
    "created_at": "2019-01-22T17:13:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347302",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:79" align="right">Comment 79</div>

Rebased on sage8.6



---

archive/issue_comments_347303.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,4 +5,4 @@\n - replace the Sage code calling sage/libs/ppl.pyx to call pplpy\n - make appropriate deprecation for `sage.libs.ppl`\n \n-pplpy' Tarball : [pplpy-0.8.tar.gz](https://files.pythonhosted.org/packages/9b/bb/4973d00ec0b02bb5c4a744584a41d29b68bb9fec529407d81808e46adcca/pplpy-0.8.tar.gz)\n+pplpy' Tarball : [pplpy-0.8.1.tar.gz](https://files.pythonhosted.org/packages/b2/90/890f89536a0fdd66d78a07d963152502b4b1af7c94366d8bb16e7ff8e309/pplpy-0.8.1.tar.gz)\n``````\n",
    "created_at": "2019-01-23T18:22:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347303",
    "user": "https://github.com/vinklein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,4 +5,4 @@
 - replace the Sage code calling sage/libs/ppl.pyx to call pplpy
 - make appropriate deprecation for `sage.libs.ppl`
 
-pplpy' Tarball : [pplpy-0.8.tar.gz](https://files.pythonhosted.org/packages/9b/bb/4973d00ec0b02bb5c4a744584a41d29b68bb9fec529407d81808e46adcca/pplpy-0.8.tar.gz)
+pplpy' Tarball : [pplpy-0.8.1.tar.gz](https://files.pythonhosted.org/packages/b2/90/890f89536a0fdd66d78a07d963152502b4b1af7c94366d8bb16e7ff8e309/pplpy-0.8.1.tar.gz)
``````




---

archive/issue_comments_347304.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">Comment 81</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90d999ba1cd6b9fb845275465aa865eeeae56ecb\">90d999b</a></td><td><code>Trac #23024: fix ppl_lattice_polytope doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e90bc7781e0685485908bb781fb6ea78eb28ac10\">e90bc77</a></td><td><code>Trac #23024: upgrade pplpy version to 0.8.1</code></td></tr></table>\n",
    "created_at": "2019-01-23T18:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347304",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:81" align="right">Comment 81</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90d999ba1cd6b9fb845275465aa865eeeae56ecb">90d999b</a></td><td><code>Trac #23024: fix ppl_lattice_polytope doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e90bc7781e0685485908bb781fb6ea78eb28ac10">e90bc77</a></td><td><code>Trac #23024: upgrade pplpy version to 0.8.1</code></td></tr></table>




---

archive/issue_comments_347305.json:
```json
{
    "body": "Changed commit from **[55ad161](https://github.com/sagemath/sagetrac-mirror/commit/55ad161c47d0a901cf9e81d2adeb09b94c66d655)** to **[e90bc77](https://github.com/sagemath/sagetrac-mirror/commit/e90bc7781e0685485908bb781fb6ea78eb28ac10)**",
    "created_at": "2019-01-23T18:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347305",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[55ad161](https://github.com/sagemath/sagetrac-mirror/commit/55ad161c47d0a901cf9e81d2adeb09b94c66d655)** to **[e90bc77](https://github.com/sagemath/sagetrac-mirror/commit/e90bc7781e0685485908bb781fb6ea78eb28ac10)**



---

archive/issue_comments_347306.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">Comment 82</div>\n\nupgrade pplpy to 0.8.1",
    "created_at": "2019-01-23T18:37:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347306",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:82" align="right">Comment 82</div>

upgrade pplpy to 0.8.1



---

archive/issue_events_303142.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-01-23T18:37:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303142"
}
```



---

archive/issue_comments_347307.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">Comment 83</div>\n\nApparently a merge failure with sage 8.7.beta0",
    "created_at": "2019-01-24T07:04:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347307",
    "user": "https://github.com/videlec"
}
```

<div id="comment:83" align="right">Comment 83</div>

Apparently a merge failure with sage 8.7.beta0



---

archive/issue_comments_347308.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">Comment 84</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c37dcb007474b81e12a7e5d68751f7f54c889c74\">c37dcb0</a></td><td><code>Trac 23024: Add pplpy as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f5eed8183987a8b74305c14645770afacdb495f\">3f5eed8</a></td><td><code>Trac 23024: Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26d3d5476f964930b450a1451cec92db17f7a24c\">26d3d54</a></td><td><code>Trac #23024: Use gmpy2 as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a5d7e539291c1c5eaf99085ba8c6b598b574c6e\">1a5d7e5</a></td><td><code>Trac #23024: spkg-install `sdh_pip_install` instead ...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62452d5dda3cb4438b96012609f267ff2754fa07\">62452d5</a></td><td><code>Trac #23024: Code cleaning</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58a0e8a1913dc3035edea1f63225e4cfdb7369d3\">58a0e8a</a></td><td><code>Trac #23024: Remove HAVE_GMPY2 from coerce.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dabd86558c1d49ba186b409bde2908c205b54816\">dabd865</a></td><td><code>Trac #23024: fix ppl_lattice_polytope doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a065413932ab5d11d86789ddf687b471f88f699\">9a06541</a></td><td><code>Trac #23024: upgrade pplpy version to 0.8.1</code></td></tr></table>\n",
    "created_at": "2019-01-24T10:34:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347308",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:84" align="right">Comment 84</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c37dcb007474b81e12a7e5d68751f7f54c889c74">c37dcb0</a></td><td><code>Trac 23024: Add pplpy as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f5eed8183987a8b74305c14645770afacdb495f">3f5eed8</a></td><td><code>Trac 23024: Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26d3d5476f964930b450a1451cec92db17f7a24c">26d3d54</a></td><td><code>Trac #23024: Use gmpy2 as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a5d7e539291c1c5eaf99085ba8c6b598b574c6e">1a5d7e5</a></td><td><code>Trac #23024: spkg-install `sdh_pip_install` instead ...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62452d5dda3cb4438b96012609f267ff2754fa07">62452d5</a></td><td><code>Trac #23024: Code cleaning</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58a0e8a1913dc3035edea1f63225e4cfdb7369d3">58a0e8a</a></td><td><code>Trac #23024: Remove HAVE_GMPY2 from coerce.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dabd86558c1d49ba186b409bde2908c205b54816">dabd865</a></td><td><code>Trac #23024: fix ppl_lattice_polytope doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a065413932ab5d11d86789ddf687b471f88f699">9a06541</a></td><td><code>Trac #23024: upgrade pplpy version to 0.8.1</code></td></tr></table>




---

archive/issue_comments_347309.json:
```json
{
    "body": "Changed commit from **[e90bc77](https://github.com/sagemath/sagetrac-mirror/commit/e90bc7781e0685485908bb781fb6ea78eb28ac10)** to **[9a06541](https://github.com/sagemath/sagetrac-mirror/commit/9a065413932ab5d11d86789ddf687b471f88f699)**",
    "created_at": "2019-01-24T10:34:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347309",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e90bc77](https://github.com/sagemath/sagetrac-mirror/commit/e90bc7781e0685485908bb781fb6ea78eb28ac10)** to **[9a06541](https://github.com/sagemath/sagetrac-mirror/commit/9a065413932ab5d11d86789ddf687b471f88f699)**



---

archive/issue_comments_347310.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">Comment 85</div>\n\nSolve merge failure with sage 8.7.beta0.",
    "created_at": "2019-01-24T10:35:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347310",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:85" align="right">Comment 85</div>

Solve merge failure with sage 8.7.beta0.



---

archive/issue_comments_347311.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">Comment 86</div>\n\n- off-topic - Vincent, please provide info on \nhttps://github.com/OpenDreamKit/OpenDreamKit/issues/281",
    "created_at": "2019-01-24T10:55:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347311",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:86" align="right">Comment 86</div>

- off-topic - Vincent, please provide info on 
https://github.com/OpenDreamKit/OpenDreamKit/issues/281



---

archive/issue_comments_347312.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">Comment 87</div>\n\nYou should set `gmpy2` and `pplpy` as dependencies of the Sage library (otherwise building the Cython code might fail). This is done in `build/make/deps`.",
    "created_at": "2019-01-27T16:57:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347312",
    "user": "https://github.com/videlec"
}
```

<div id="comment:87" align="right">Comment 87</div>

You should set `gmpy2` and `pplpy` as dependencies of the Sage library (otherwise building the Cython code might fail). This is done in `build/make/deps`.



---

archive/issue_events_303143.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-27T16:57:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303143"
}
```



---

archive/issue_events_303144.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-27T16:57:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303144"
}
```



---

archive/issue_comments_347313.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">Comment 88</div>\n\nWhy\n\n```diff\n-            sage: TestSuite(P).run(skip='_test_pickling')\n+            sage: TestSuite(P).run(skip=('_test_pickling'))\n```",
    "created_at": "2019-01-27T16:59:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347313",
    "user": "https://github.com/videlec"
}
```

<div id="comment:88" align="right">Comment 88</div>

Why

```diff
-            sage: TestSuite(P).run(skip='_test_pickling')
+            sage: TestSuite(P).run(skip=('_test_pickling'))
```



---

archive/issue_comments_347314.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">Comment 89</div>\n\nAnd\n\n```diff\n-    def _repr_(self):\n+    def __repr__(self):\n```",
    "created_at": "2019-01-27T17:00:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347314",
    "user": "https://github.com/videlec"
}
```

<div id="comment:89" align="right">Comment 89</div>

And

```diff
-    def _repr_(self):
+    def __repr__(self):
```



---

archive/issue_comments_347315.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">Comment 90</div>\n\nThe links in the documentation <code>:class:\\`ppl.C_Polyhedron\\`</code>, <code>:class:\\`~ppl.Polyhedron\\`</code>, etc are broken. These should not be sphinx links at all.",
    "created_at": "2019-01-27T17:26:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347315",
    "user": "https://github.com/videlec"
}
```

<div id="comment:90" align="right">Comment 90</div>

The links in the documentation <code>:class:\`ppl.C_Polyhedron\`</code>, <code>:class:\`~ppl.Polyhedron\`</code>, etc are broken. These should not be sphinx links at all.



---

archive/issue_comments_347316.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">Comment 91</div>\n\nDoes pplpy build/install its own docs? This kind of setup is used e.g. in cvxopt.",
    "created_at": "2019-01-27T18:07:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347316",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:91" align="right">Comment 91</div>

Does pplpy build/install its own docs? This kind of setup is used e.g. in cvxopt.



---

archive/issue_comments_347317.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">Comment 92</div>\n\nReplying to [@dimpase](#comment%3A91):\n> Does pplpy build/install its own docs? This kind of setup is used e.g. in cvxopt.\n\nIt does build documentation if you ask it to. Tough it does not install anything (perhaps it should?). But even with properly installed documentation, I don't see how to make linking work properly.",
    "created_at": "2019-01-27T18:10:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347317",
    "user": "https://github.com/videlec"
}
```

<div id="comment:92" align="right">Comment 92</div>

Replying to [@dimpase](#comment%3A91):
> Does pplpy build/install its own docs? This kind of setup is used e.g. in cvxopt.

It does build documentation if you ask it to. Tough it does not install anything (perhaps it should?). But even with properly installed documentation, I don't see how to make linking work properly.



---

archive/issue_comments_347318.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">Comment 93</div>\n\nPackages install docs into `$SAGE_LOCAL/share/doc/`. I guess that docs can be linked to docs in Sage code via relative paths, i.e. `../../..`",
    "created_at": "2019-01-27T18:21:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347318",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:93" align="right">Comment 93</div>

Packages install docs into `$SAGE_LOCAL/share/doc/`. I guess that docs can be linked to docs in Sage code via relative paths, i.e. `../../..`



---

archive/issue_comments_347319.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">Comment 94</div>\n\nReplying to [@videlec](#comment%3A89):\n> And\n> \n> ```diff\n> -    def _repr_(self):\n> +    def __repr__(self):\n> ```\n\nThat's because `LatticePolytope_PPL_class` now inherit from pplpy's `C_Polyhedron` and therefore `LatticePolytope_PPL_class` is not a `SageObject`.",
    "created_at": "2019-01-28T16:04:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347319",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:94" align="right">Comment 94</div>

Replying to [@videlec](#comment%3A89):
> And
> 
> ```diff
> -    def _repr_(self):
> +    def __repr__(self):
> ```

That's because `LatticePolytope_PPL_class` now inherit from pplpy's `C_Polyhedron` and therefore `LatticePolytope_PPL_class` is not a `SageObject`.



---

archive/issue_comments_347320.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">Comment 95</div>\n\nReplying to [@dimpase](#comment%3A93):\n> Packages install docs into `$SAGE_LOCAL/share/doc/`. I guess that docs can be linked to docs in Sage code via relative paths, i.e. `../../..` \n\nI can try. \\\\\nBut i can see a potential problem here: most packages seems to install documentation on if `[This is the Trac macro *\"$SAGE_SPKG_INSTALL_DOCS\" = yes * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#\"$SAGE_SPKG_INSTALL_DOCS\" = yes -macro)`. \\\\\nIf we do the same for pplpy, given `$SAGE_SPKG_INSTALL_DOCS` default value is not `yes` that mean that the links will be broken by default.\n\nI think there is many distinct questions :\\\\\n- 1. Should we install a pplpy documentation ?\n- 2. If yes should we install it only if `\"$SAGE_SPKG_INSTALL_DOCS\" = yes` ?\n- 3. If yes to 1. and yes to 2. should we link the sagemaths documentation with pplpy's.",
    "created_at": "2019-01-28T16:58:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347320",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:95" align="right">Comment 95</div>

Replying to [@dimpase](#comment%3A93):
> Packages install docs into `$SAGE_LOCAL/share/doc/`. I guess that docs can be linked to docs in Sage code via relative paths, i.e. `../../..` 

I can try. \\
But i can see a potential problem here: most packages seems to install documentation on if `[This is the Trac macro *"$SAGE_SPKG_INSTALL_DOCS" = yes * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#"$SAGE_SPKG_INSTALL_DOCS" = yes -macro)`. \\
If we do the same for pplpy, given `$SAGE_SPKG_INSTALL_DOCS` default value is not `yes` that mean that the links will be broken by default.

I think there is many distinct questions :\\
- 1. Should we install a pplpy documentation ?
- 2. If yes should we install it only if `"$SAGE_SPKG_INSTALL_DOCS" = yes` ?
- 3. If yes to 1. and yes to 2. should we link the sagemaths documentation with pplpy's.



---

archive/issue_comments_347321.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">Comment 96</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13507e4fc42743661147a4071ef7be95a3871c45\">13507e4</a></td><td><code>Trac #23024: Implement reviewer's comments : add depende...</code></td></tr></table>\n",
    "created_at": "2019-01-28T17:03:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347321",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:96" align="right">Comment 96</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13507e4fc42743661147a4071ef7be95a3871c45">13507e4</a></td><td><code>Trac #23024: Implement reviewer's comments : add depende...</code></td></tr></table>




---

archive/issue_comments_347322.json:
```json
{
    "body": "Changed commit from **[9a06541](https://github.com/sagemath/sagetrac-mirror/commit/9a065413932ab5d11d86789ddf687b471f88f699)** to **[13507e4](https://github.com/sagemath/sagetrac-mirror/commit/13507e4fc42743661147a4071ef7be95a3871c45)**",
    "created_at": "2019-01-28T17:03:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347322",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9a06541](https://github.com/sagemath/sagetrac-mirror/commit/9a065413932ab5d11d86789ddf687b471f88f699)** to **[13507e4](https://github.com/sagemath/sagetrac-mirror/commit/13507e4fc42743661147a4071ef7be95a3871c45)**



---

archive/issue_comments_347323.json:
```json
{
    "body": "<div id=\"comment:97\" align=\"right\">Comment 97</div>\n\nIt is a good practice to have the first line of the commit below 50 characters. More precisely, any commit message should be\n\n```\none line with <= 50 characters\n(optional) linebreak\n(optional) more extensive paragraph with lines <= 72 characters\n```",
    "created_at": "2019-01-29T07:19:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347323",
    "user": "https://github.com/videlec"
}
```

<div id="comment:97" align="right">Comment 97</div>

It is a good practice to have the first line of the commit below 50 characters. More precisely, any commit message should be

```
one line with <= 50 characters
(optional) linebreak
(optional) more extensive paragraph with lines <= 72 characters
```



---

archive/issue_comments_347324.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">Comment 98</div>\n\nReplying to [@vinklein](#comment%3A95):\n> Replying to [@dimpase](#comment%3A93):\n> > Packages install docs into `$SAGE_LOCAL/share/doc/`. I guess that docs can be linked to docs in Sage code via relative paths, i.e. `../../..` \n\n> \n> I can try. \\\\\n> But i can see a potential problem here: most packages seems to install documentation on if `[This is the Trac macro *\"$SAGE_SPKG_INSTALL_DOCS\" = yes * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#\"$SAGE_SPKG_INSTALL_DOCS\" = yes -macro)`. \\\\\n> If we do the same for pplpy, given `$SAGE_SPKG_INSTALL_DOCS` default value is not `yes` that mean that the links will be broken by default.\n> \n> I think there is many distinct questions :\\\\\n> - 1. Should we install a pplpy documentation ?\n> - 2. If yes should we install it only if `\"$SAGE_SPKG_INSTALL_DOCS\" = yes` ?\n> - 3. If yes to 1. and yes to 2. should we link the sagemaths documentation with pplpy's.\n\nI don't know what is the way to proceed. See https://gitlab.com/videlec/pplpy/issues/12\n\nFor now I would say:\n- remove all links in the Sage documentation\n- in each relevant module, make a reference to the pplpy development website (https://gitlab.com/videlec/pplpy) and pplpy documentation website (http://www.labri.fr/perso/vdelecro/pplpy/latest/).",
    "created_at": "2019-01-29T07:59:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347324",
    "user": "https://github.com/videlec"
}
```

<div id="comment:98" align="right">Comment 98</div>

Replying to [@vinklein](#comment%3A95):
> Replying to [@dimpase](#comment%3A93):
> > Packages install docs into `$SAGE_LOCAL/share/doc/`. I guess that docs can be linked to docs in Sage code via relative paths, i.e. `../../..` 

> 
> I can try. \\
> But i can see a potential problem here: most packages seems to install documentation on if `[This is the Trac macro *"$SAGE_SPKG_INSTALL_DOCS" = yes * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#"$SAGE_SPKG_INSTALL_DOCS" = yes -macro)`. \\
> If we do the same for pplpy, given `$SAGE_SPKG_INSTALL_DOCS` default value is not `yes` that mean that the links will be broken by default.
> 
> I think there is many distinct questions :\\
> - 1. Should we install a pplpy documentation ?
> - 2. If yes should we install it only if `"$SAGE_SPKG_INSTALL_DOCS" = yes` ?
> - 3. If yes to 1. and yes to 2. should we link the sagemaths documentation with pplpy's.

I don't know what is the way to proceed. See https://gitlab.com/videlec/pplpy/issues/12

For now I would say:
- remove all links in the Sage documentation
- in each relevant module, make a reference to the pplpy development website (https://gitlab.com/videlec/pplpy) and pplpy documentation website (http://www.labri.fr/perso/vdelecro/pplpy/latest/).



---

archive/issue_comments_347325.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">Comment 99</div>\n\nI've left comments in https://gitlab.com/videlec/pplpy/issues/12\nnamely there appears to be a Sphinx extension to link different projects.\n\nIt's too early to start blindly removing links to docs, probably there is a more intelligent way to preserve what is already there.",
    "created_at": "2019-01-29T09:41:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347325",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:99" align="right">Comment 99</div>

I've left comments in https://gitlab.com/videlec/pplpy/issues/12
namely there appears to be a Sphinx extension to link different projects.

It's too early to start blindly removing links to docs, probably there is a more intelligent way to preserve what is already there.



---

archive/issue_comments_347326.json:
```json
{
    "body": "<div id=\"comment:100\" align=\"right\">Comment 100</div>\n\nReplying to [@vinklein](#comment%3A95):\n> Replying to [@dimpase](#comment%3A93):\n> > Packages install docs into `$SAGE_LOCAL/share/doc/`. I guess that docs can be linked to docs in Sage code via relative paths, i.e. `../../..` \n\n> \n> I can try. \\\\\n> But i can see a potential problem here: most packages seems to install documentation on if `[This is the Trac macro *\"$SAGE_SPKG_INSTALL_DOCS\" = yes * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#\"$SAGE_SPKG_INSTALL_DOCS\" = yes -macro)`. \\\\\n> If we do the same for pplpy, given `$SAGE_SPKG_INSTALL_DOCS` default value is not `yes` that mean that the links will be broken by default.\n> \n> I think there is many distinct questions :\\\\\n> - 1. Should we install a pplpy documentation ?\n\nWe should compile **and** install.\n\n> - 2. If yes should we install it only if `\"$SAGE_SPKG_INSTALL_DOCS\" = yes` ?\n\nI don't know. Where is `SAGE_SPKG_INSTALL_DOCS` documented?\n\n> - 3. If yes to 1. and yes to 2. should we link the sagemaths documentation with pplpy's.\n\nSee #27164.",
    "created_at": "2019-01-29T14:10:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347326",
    "user": "https://github.com/videlec"
}
```

<div id="comment:100" align="right">Comment 100</div>

Replying to [@vinklein](#comment%3A95):
> Replying to [@dimpase](#comment%3A93):
> > Packages install docs into `$SAGE_LOCAL/share/doc/`. I guess that docs can be linked to docs in Sage code via relative paths, i.e. `../../..` 

> 
> I can try. \\
> But i can see a potential problem here: most packages seems to install documentation on if `[This is the Trac macro *"$SAGE_SPKG_INSTALL_DOCS" = yes * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#"$SAGE_SPKG_INSTALL_DOCS" = yes -macro)`. \\
> If we do the same for pplpy, given `$SAGE_SPKG_INSTALL_DOCS` default value is not `yes` that mean that the links will be broken by default.
> 
> I think there is many distinct questions :\\
> - 1. Should we install a pplpy documentation ?

We should compile **and** install.

> - 2. If yes should we install it only if `"$SAGE_SPKG_INSTALL_DOCS" = yes` ?

I don't know. Where is `SAGE_SPKG_INSTALL_DOCS` documented?

> - 3. If yes to 1. and yes to 2. should we link the sagemaths documentation with pplpy's.

See #27164.



---

archive/issue_comments_347327.json:
```json
{
    "body": "<div id=\"comment:101\" align=\"right\">Comment 101</div>\n\nReplying to [@videlec](#comment%3A100):\n> ...\n> > - 2. If yes should we install it only if `\"$SAGE_SPKG_INSTALL_DOCS\" = yes` ?\n\n> \n> I don't know. Where is `SAGE_SPKG_INSTALL_DOCS` documented?\n> \n\nHere http://doc.sagemath.org/html/en/installation/source.html.\n\n\n**SAGE_SPKG_INSTALL_DOCS** - if set to yes, then install package-specific documentation to $SAGE_ROOT/local/share/doc/PACKAGE_NAME/ when an spkg is installed. This option may not be supported by all spkgs. Some spkgs might also assume that certain programs are available on the system (for example, latex or pdflatex).",
    "created_at": "2019-01-29T15:37:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347327",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:101" align="right">Comment 101</div>

Replying to [@videlec](#comment%3A100):
> ...
> > - 2. If yes should we install it only if `"$SAGE_SPKG_INSTALL_DOCS" = yes` ?

> 
> I don't know. Where is `SAGE_SPKG_INSTALL_DOCS` documented?
> 

Here http://doc.sagemath.org/html/en/installation/source.html.


**SAGE_SPKG_INSTALL_DOCS** - if set to yes, then install package-specific documentation to $SAGE_ROOT/local/share/doc/PACKAGE_NAME/ when an spkg is installed. This option may not be supported by all spkgs. Some spkgs might also assume that certain programs are available on the system (for example, latex or pdflatex).



---

archive/issue_comments_347328.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/665419ad8dc012687220cb40ad6c09a943ca9b44\">665419a</a></td><td><code>Trac #23024: Implement reviewer's comments ...</code></td></tr></table>\n",
    "created_at": "2019-01-29T16:25:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347328",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/665419ad8dc012687220cb40ad6c09a943ca9b44">665419a</a></td><td><code>Trac #23024: Implement reviewer's comments ...</code></td></tr></table>




---

archive/issue_comments_347329.json:
```json
{
    "body": "Changed commit from **[13507e4](https://github.com/sagemath/sagetrac-mirror/commit/13507e4fc42743661147a4071ef7be95a3871c45)** to **[665419a](https://github.com/sagemath/sagetrac-mirror/commit/665419ad8dc012687220cb40ad6c09a943ca9b44)**",
    "created_at": "2019-01-29T16:25:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347329",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[13507e4](https://github.com/sagemath/sagetrac-mirror/commit/13507e4fc42743661147a4071ef7be95a3871c45)** to **[665419a](https://github.com/sagemath/sagetrac-mirror/commit/665419ad8dc012687220cb40ad6c09a943ca9b44)**



---

archive/issue_comments_347330.json:
```json
{
    "body": "<div id=\"comment:103\" align=\"right\">Comment 103</div>\n\nReplying to [@vinklein](#comment%3A101):\n> Replying to [@videlec](#comment%3A100):\n> > ...\n> > > - 2. If yes should we install it only if `\"$SAGE_SPKG_INSTALL_DOCS\" = yes` ?\n\n> > \n> > I don't know. Where is `SAGE_SPKG_INSTALL_DOCS` documented?\n> > \n\n> \n> Here http://doc.sagemath.org/html/en/installation/source.html.\n> \n> \n> **SAGE_SPKG_INSTALL_DOCS** - if set to yes, then install package-specific documentation to $SAGE_ROOT/local/share/doc/PACKAGE_NAME/ when an spkg is installed. This option may not be supported by all spkgs. Some spkgs might also assume that certain programs are available on the system (for example, latex or pdflatex).\n\nI believe it has been done that way a long time ago when Sage was not thought modular at all. Some of the package documentation (including pplpy) might be automatically installed unless SAGE_SPKG_INSTALL_DOCS is explicitely set to \"no\".",
    "created_at": "2019-01-29T18:31:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347330",
    "user": "https://github.com/videlec"
}
```

<div id="comment:103" align="right">Comment 103</div>

Replying to [@vinklein](#comment%3A101):
> Replying to [@videlec](#comment%3A100):
> > ...
> > > - 2. If yes should we install it only if `"$SAGE_SPKG_INSTALL_DOCS" = yes` ?

> > 
> > I don't know. Where is `SAGE_SPKG_INSTALL_DOCS` documented?
> > 

> 
> Here http://doc.sagemath.org/html/en/installation/source.html.
> 
> 
> **SAGE_SPKG_INSTALL_DOCS** - if set to yes, then install package-specific documentation to $SAGE_ROOT/local/share/doc/PACKAGE_NAME/ when an spkg is installed. This option may not be supported by all spkgs. Some spkgs might also assume that certain programs are available on the system (for example, latex or pdflatex).

I believe it has been done that way a long time ago when Sage was not thought modular at all. Some of the package documentation (including pplpy) might be automatically installed unless SAGE_SPKG_INSTALL_DOCS is explicitely set to "no".



---

archive/issue_comments_347331.json:
```json
{
    "body": "Changed commit from **[665419a](https://github.com/sagemath/sagetrac-mirror/commit/665419ad8dc012687220cb40ad6c09a943ca9b44)** to **[ef89978](https://github.com/sagemath/sagetrac-mirror/commit/ef8997834f73c34d983260c0ba782041d0966a02)**",
    "created_at": "2019-01-30T15:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347331",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[665419a](https://github.com/sagemath/sagetrac-mirror/commit/665419ad8dc012687220cb40ad6c09a943ca9b44)** to **[ef89978](https://github.com/sagemath/sagetrac-mirror/commit/ef8997834f73c34d983260c0ba782041d0966a02)**



---

archive/issue_comments_347332.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef8997834f73c34d983260c0ba782041d0966a02\">ef89978</a></td><td><code>Trac #23024: Generate and installl doc</code></td></tr></table>\n",
    "created_at": "2019-01-30T15:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347332",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4" align="right">Comment 4</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef8997834f73c34d983260c0ba782041d0966a02">ef89978</a></td><td><code>Trac #23024: Generate and installl doc</code></td></tr></table>




---

archive/issue_comments_347333.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nFor testing purpose use https://www.labri.fr/perso/vklein/pplpy-0.8.2b0.tar.gz with `ef89978`.",
    "created_at": "2019-01-30T15:55:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347333",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:5" align="right">Comment 5</div>

For testing purpose use https://www.labri.fr/perso/vklein/pplpy-0.8.2b0.tar.gz with `ef89978`.



---

archive/issue_comments_347334.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\n`ef89978` Implements the compilation and installation of pplpy's documentation.\n\nThe current implementation drawback is that pplpy is compiled two times (one time for package installation and one time using \"inplace\" build in preparation for sphinx).\n\nTo avoid that i am looking for an elegant and generic way to express `PYTHONPATH=$PYTHONPATH:$SAGE_DESTDIR_LOCAL/lib/python2.7/site-packages`.\n\nI haven't find an environment variable for `lib/python2.7/site-packages` or something equivalent.\n\nAny help is welcomed.",
    "created_at": "2019-01-30T16:03:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347334",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:6" align="right">Comment 6</div>

`ef89978` Implements the compilation and installation of pplpy's documentation.

The current implementation drawback is that pplpy is compiled two times (one time for package installation and one time using "inplace" build in preparation for sphinx).

To avoid that i am looking for an elegant and generic way to express `PYTHONPATH=$PYTHONPATH:$SAGE_DESTDIR_LOCAL/lib/python2.7/site-packages`.

I haven't find an environment variable for `lib/python2.7/site-packages` or something equivalent.

Any help is welcomed.



---

archive/issue_comments_347335.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,4 +5,4 @@\n - replace the Sage code calling sage/libs/ppl.pyx to call pplpy\n - make appropriate deprecation for `sage.libs.ppl`\n \n-pplpy' Tarball : [pplpy-0.8.1.tar.gz](https://files.pythonhosted.org/packages/b2/90/890f89536a0fdd66d78a07d963152502b4b1af7c94366d8bb16e7ff8e309/pplpy-0.8.1.tar.gz)\n+pplpy' Tarball : [pplpy-0.8.2b0.tar.gz](https://www.labri.fr/perso/vklein/pplpy-0.8.2b0.tar.gz)\n``````\n",
    "created_at": "2019-01-30T16:03:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347335",
    "user": "https://github.com/vinklein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,4 +5,4 @@
 - replace the Sage code calling sage/libs/ppl.pyx to call pplpy
 - make appropriate deprecation for `sage.libs.ppl`
 
-pplpy' Tarball : [pplpy-0.8.1.tar.gz](https://files.pythonhosted.org/packages/b2/90/890f89536a0fdd66d78a07d963152502b4b1af7c94366d8bb16e7ff8e309/pplpy-0.8.1.tar.gz)
+pplpy' Tarball : [pplpy-0.8.2b0.tar.gz](https://www.labri.fr/perso/vklein/pplpy-0.8.2b0.tar.gz)
``````




---

archive/issue_comments_347336.json:
```json
{
    "body": "Changed commit from **[ef89978](https://github.com/sagemath/sagetrac-mirror/commit/ef8997834f73c34d983260c0ba782041d0966a02)** to **[d8c41f6](https://github.com/sagemath/sagetrac-mirror/commit/d8c41f665958133b323380f70800a66c6432820a)**",
    "created_at": "2019-01-30T17:15:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347336",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ef89978](https://github.com/sagemath/sagetrac-mirror/commit/ef8997834f73c34d983260c0ba782041d0966a02)** to **[d8c41f6](https://github.com/sagemath/sagetrac-mirror/commit/d8c41f665958133b323380f70800a66c6432820a)**



---

archive/issue_comments_347337.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8c41f665958133b323380f70800a66c6432820a\">d8c41f6</a></td><td><code>Trac #23024: Add intersphinx between sage doc ...</code></td></tr></table>\n",
    "created_at": "2019-01-30T17:15:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347337",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8c41f665958133b323380f70800a66c6432820a">d8c41f6</a></td><td><code>Trac #23024: Add intersphinx between sage doc ...</code></td></tr></table>




---

archive/issue_comments_347338.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\n`d8c41f6` Fix intersphinx question.\n\nI wait for returns for [#comment:106](https://github.com/sagemath/sage/issues/23024#comment:106) and for a new pplpy official version before setting this ticket in need_review.",
    "created_at": "2019-01-30T17:20:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347338",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:8" align="right">Comment 8</div>

`d8c41f6` Fix intersphinx question.

I wait for returns for [#comment:106](https://github.com/sagemath/sage/issues/23024#comment:106) and for a new pplpy official version before setting this ticket in need_review.



---

archive/issue_comments_347339.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nI wonder whether you tried to set up a link to pplpy docs in Sage's reference manual, something that ought to be done for many more packages...",
    "created_at": "2019-01-30T17:39:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347339",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">Comment 9</div>

I wonder whether you tried to set up a link to pplpy docs in Sage's reference manual, something that ought to be done for many more packages...



---

archive/issue_comments_347340.json:
```json
{
    "body": "<div id=\"comment:110\" align=\"right\">Comment 110</div>\n\nReplying to [@dimpase](#comment%3A109):\n> I wonder whether you tried to set up a link to pplpy docs in Sage's reference manual, something that ought to be done for many more packages...\n\n\\\\\n\nI am not sure what is your question about.\\\\\n\nI have think about doing the intersphinx link at reference level yes. But IMHO doing it under common is a better call.\\\\\n\nI haven't tried to do direct html link with relative path.",
    "created_at": "2019-01-30T17:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347340",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:110" align="right">Comment 110</div>

Replying to [@dimpase](#comment%3A109):
> I wonder whether you tried to set up a link to pplpy docs in Sage's reference manual, something that ought to be done for many more packages...

\\

I am not sure what is your question about.\\

I have think about doing the intersphinx link at reference level yes. But IMHO doing it under common is a better call.\\

I haven't tried to do direct html link with relative path.



---

archive/issue_comments_347341.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nI meant to ask whether you managed to replace the docs link to PPL backend\nin the reference manual, such as\nhttp://doc.sagemath.org/html/en/reference/discrete_geometry/sage/geometry/polyhedron/backend_ppl.html\n(its local equivalent would have something else instead of `http://doc.sagemath.org/` part, naturally)\nwith the link to the pplpy docs.",
    "created_at": "2019-01-30T17:58:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347341",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:1" align="right">Comment 1</div>

I meant to ask whether you managed to replace the docs link to PPL backend
in the reference manual, such as
http://doc.sagemath.org/html/en/reference/discrete_geometry/sage/geometry/polyhedron/backend_ppl.html
(its local equivalent would have something else instead of `http://doc.sagemath.org/` part, naturally)
with the link to the pplpy docs.



---

archive/issue_comments_347342.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nCrossed links does not work for me (e.g. the `ppl.C_Polyhedron` in the file `en/reference/discrete_geometry/sage/geometry/polyhedron/ppl_lattice_polytope.html`) ... did you do something special in order to make it work for you?",
    "created_at": "2019-01-30T19:02:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347342",
    "user": "https://github.com/videlec"
}
```

<div id="comment:2" align="right">Comment 2</div>

Crossed links does not work for me (e.g. the `ppl.C_Polyhedron` in the file `en/reference/discrete_geometry/sage/geometry/polyhedron/ppl_lattice_polytope.html`) ... did you do something special in order to make it work for you?



---

archive/issue_comments_347343.json:
```json
{
    "body": "<div id=\"comment:113\" align=\"right\">Comment 113</div>\n\nReplying to [@videlec](#comment%3A112):\n> Crossed links does not work for me (e.g. the `ppl.C_Polyhedron` in the file `en/reference/discrete_geometry/sage/geometry/polyhedron/ppl_lattice_polytope.html`) ... did you do something special in order to make it work for you?\n\nMaybe try a `make doc-clean`. <code>\\`ppl.C_Polyhedron\\`</code> should have been replaced by <code>\\`ppl.polyhedron.C_Polyhedron\\`</code>.",
    "created_at": "2019-01-31T07:45:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347343",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:113" align="right">Comment 113</div>

Replying to [@videlec](#comment%3A112):
> Crossed links does not work for me (e.g. the `ppl.C_Polyhedron` in the file `en/reference/discrete_geometry/sage/geometry/polyhedron/ppl_lattice_polytope.html`) ... did you do something special in order to make it work for you?

Maybe try a `make doc-clean`. <code>\`ppl.C_Polyhedron\`</code> should have been replaced by <code>\`ppl.polyhedron.C_Polyhedron\`</code>.



---

archive/issue_comments_347344.json:
```json
{
    "body": "<div id=\"comment:114\" align=\"right\">Comment 114</div>\n\nReplying to [@vinklein](#comment%3A113):\n> Replying to [@videlec](#comment%3A112):\n> > Crossed links does not work for me (e.g. the `ppl.C_Polyhedron` in the file `en/reference/discrete_geometry/sage/geometry/polyhedron/ppl_lattice_polytope.html`) ... did you do something special in order to make it work for you?\n\n> \n> Maybe try a `make doc-clean`. <code>\\`ppl.C_Polyhedron\\`</code> should have been replaced by <code>\\`ppl.polyhedron.C_Polyhedron\\`</code>.\n\nI did `make doc-clean`, `sage -f pplpy` and `make doc`.",
    "created_at": "2019-01-31T07:51:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347344",
    "user": "https://github.com/videlec"
}
```

<div id="comment:114" align="right">Comment 114</div>

Replying to [@vinklein](#comment%3A113):
> Replying to [@videlec](#comment%3A112):
> > Crossed links does not work for me (e.g. the `ppl.C_Polyhedron` in the file `en/reference/discrete_geometry/sage/geometry/polyhedron/ppl_lattice_polytope.html`) ... did you do something special in order to make it work for you?

> 
> Maybe try a `make doc-clean`. <code>\`ppl.C_Polyhedron\`</code> should have been replaced by <code>\`ppl.polyhedron.C_Polyhedron\`</code>.

I did `make doc-clean`, `sage -f pplpy` and `make doc`.



---

archive/issue_comments_347345.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nI know what I did wrong: I did not pull your last commits... sorry for the noise.",
    "created_at": "2019-01-31T07:53:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347345",
    "user": "https://github.com/videlec"
}
```

<div id="comment:5" align="right">Comment 5</div>

I know what I did wrong: I did not pull your last commits... sorry for the noise.



---

archive/issue_comments_347346.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nIt is working now!",
    "created_at": "2019-01-31T08:12:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347346",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">Comment 6</div>

It is working now!



---

archive/issue_comments_347347.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nI will make a new release of pplpy.\n\nCould you ask about [comment:106] on sage-devel? This is a general problem when a package needs to be installed before being able to build the docs. Perhaps this is a problem with the package itself or in the way our current staged installation works in Sage. But then, it is not clear to me how to solve it.",
    "created_at": "2019-01-31T08:15:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347347",
    "user": "https://github.com/videlec"
}
```

<div id="comment:7" align="right">Comment 7</div>

I will make a new release of pplpy.

Could you ask about [comment:106] on sage-devel? This is a general problem when a package needs to be installed before being able to build the docs. Perhaps this is a problem with the package itself or in the way our current staged installation works in Sage. But then, it is not clear to me how to solve it.



---

archive/issue_comments_347348.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nFor [comment:106](#comment%3A106) : link to the post on sage-devel https://groups.google.com/forum/#!topic/sage-devel/IOn7wneT8xo",
    "created_at": "2019-01-31T08:51:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347348",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:8" align="right">Comment 8</div>

For [comment:106](#comment%3A106) : link to the post on sage-devel https://groups.google.com/forum/#!topic/sage-devel/IOn7wneT8xo



---

archive/issue_comments_347349.json:
```json
{
    "body": "<div id=\"comment:119\" align=\"right\">Comment 119</div>\n\nReplying to [@dimpase](#comment%3A111):\n> I meant to ask whether you managed to replace the docs link to PPL backend\n> in the reference manual, such as\n> http://doc.sagemath.org/html/en/reference/discrete_geometry/sage/geometry/polyhedron/backend_ppl.html\n> (its local equivalent would have something else instead of `http://doc.sagemath.org/` part, naturally)\n> with the link to the pplpy docs.\\\\\n\n\nI managed to replace the doc links of type `sage.libs.ppl.*`. But there is no such kind of doclinks under `backend_ppl.html`. Class like `sage.geometry.polyhedron.base_QQ.Polyhedron_QQ` are still sage classes.",
    "created_at": "2019-01-31T09:07:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347349",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:119" align="right">Comment 119</div>

Replying to [@dimpase](#comment%3A111):
> I meant to ask whether you managed to replace the docs link to PPL backend
> in the reference manual, such as
> http://doc.sagemath.org/html/en/reference/discrete_geometry/sage/geometry/polyhedron/backend_ppl.html
> (its local equivalent would have something else instead of `http://doc.sagemath.org/` part, naturally)
> with the link to the pplpy docs.\\


I managed to replace the doc links of type `sage.libs.ppl.*`. But there is no such kind of doclinks under `backend_ppl.html`. Class like `sage.geometry.polyhedron.base_QQ.Polyhedron_QQ` are still sage classes.



---

archive/issue_comments_347350.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">Comment 0</div>\n\nAlternative: include the compiled doc in the source tarball so that the spkg-install script just need to copy it...",
    "created_at": "2019-01-31T13:12:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347350",
    "user": "https://github.com/videlec"
}
```

<div id="comment:0" align="right">Comment 0</div>

Alternative: include the compiled doc in the source tarball so that the spkg-install script just need to copy it...



---

archive/issue_comments_347351.json:
```json
{
    "body": "<div id=\"comment:121\" align=\"right\">Comment 121</div>\n\nReplying to [@videlec](#comment%3A120):\n> Alternative: include the compiled doc in the source tarball so that the spkg-install script just need to copy it...\n\n \n-1. I'd rather run the installation twice than this.",
    "created_at": "2019-01-31T13:14:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347351",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:121" align="right">Comment 121</div>

Replying to [@videlec](#comment%3A120):
> Alternative: include the compiled doc in the source tarball so that the spkg-install script just need to copy it...

 
-1. I'd rather run the installation twice than this.



---

archive/issue_comments_347352.json:
```json
{
    "body": "<div id=\"comment:122\" align=\"right\">Comment 122</div>\n\nReplying to [@videlec](#comment%3A120):\n> Alternative: include the compiled doc in the source tarball so that the spkg-install script just need to copy it...\n\nWhy not. It will increase the tarball size of something like 200 kbytes.",
    "created_at": "2019-01-31T13:18:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347352",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:122" align="right">Comment 122</div>

Replying to [@videlec](#comment%3A120):
> Alternative: include the compiled doc in the source tarball so that the spkg-install script just need to copy it...

Why not. It will increase the tarball size of something like 200 kbytes.



---

archive/issue_comments_347353.json:
```json
{
    "body": "<div id=\"comment:123\" align=\"right\">Comment 123</div>\n\nReplying to [@dimpase](#comment%3A121):\n> Replying to [@videlec](#comment%3A120):\n> > Alternative: include the compiled doc in the source tarball so that the spkg-install script just need to copy it...\n\n>  \n> -1. I'd rather run the installation twice than this.\n\nWhy ? (I personally have no preferences between the two solutions).",
    "created_at": "2019-01-31T13:23:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347353",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:123" align="right">Comment 123</div>

Replying to [@dimpase](#comment%3A121):
> Replying to [@videlec](#comment%3A120):
> > Alternative: include the compiled doc in the source tarball so that the spkg-install script just need to copy it...

>  
> -1. I'd rather run the installation twice than this.

Why ? (I personally have no preferences between the two solutions).



---

archive/issue_comments_347354.json:
```json
{
    "body": "<div id=\"comment:124\" align=\"right\">Comment 124</div>\n\nReplying to [@vinklein](#comment%3A122):\n> Replying to [@videlec](#comment%3A120):\n> > Alternative: include the compiled doc in the source tarball so that the spkg-install script just need to copy it...\n\n> \n> Why not. It will increase the tarball size of something like 200 kbytes.\n\nThe external tarball can contain extra 200K, sure, but already \"just copying\" has to be done properly, in order not to break package de-installation.\nBesides, there is no guarantee it would look nice enough, so that it matches the current Sage docs style, etc.",
    "created_at": "2019-01-31T13:24:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347354",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:124" align="right">Comment 124</div>

Replying to [@vinklein](#comment%3A122):
> Replying to [@videlec](#comment%3A120):
> > Alternative: include the compiled doc in the source tarball so that the spkg-install script just need to copy it...

> 
> Why not. It will increase the tarball size of something like 200 kbytes.

The external tarball can contain extra 200K, sure, but already "just copying" has to be done properly, in order not to break package de-installation.
Besides, there is no guarantee it would look nice enough, so that it matches the current Sage docs style, etc.



---

archive/issue_comments_347355.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nOk i see. And i agree that having the same sphinx install generating both documentation is a good thing.",
    "created_at": "2019-01-31T13:29:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347355",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:5" align="right">Comment 5</div>

Ok i see. And i agree that having the same sphinx install generating both documentation is a good thing.



---

archive/issue_comments_347356.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41e16e693a75080a6b83560b0614034a8fa9c198\">41e16e6</a></td><td><code>Trac #23024: Use gmpy2 as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68e0e4560ca245f18ea1f59c2c842cd300814f2e\">68e0e45</a></td><td><code>Trac #23024: spkg-install `sdh_pip_install` instead ...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9da630feb0b082204a088b1928ada21d92d12b7a\">9da630f</a></td><td><code>Trac #23024: Code cleaning</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/273b77294ed47bac60db61117d96c75dc7e4a64a\">273b772</a></td><td><code>Trac #23024: Remove HAVE_GMPY2 from coerce.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1365debdd4f802802cbf9c203a4e88e37cf6d12a\">1365deb</a></td><td><code>Trac #23024: fix ppl_lattice_polytope doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3da5acf447b8d15da66db7df2aa82c845ec7e0d2\">3da5acf</a></td><td><code>Trac #23024: upgrade pplpy version to 0.8.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9fed2a3fe0447123c1f75b51ed3071f924737280\">9fed2a3</a></td><td><code>Trac #23024: Implement reviewer's comments ...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33f475994e4a22a90518503438123b989873b5e8\">33f4759</a></td><td><code>Trac #23024: Generate and installl doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cf578caac1b97830dd98fffdb25985c37e96373\">3cf578c</a></td><td><code>Trac #23024: Add intersphinx between sage doc ...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c40f656f7f605435339e33a3ed1d4ac8598852fb\">c40f656</a></td><td><code>Trac #23024: Upgrade to pplpy version 8.2</code></td></tr></table>\n",
    "created_at": "2019-02-01T08:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347356",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6" align="right">Comment 6</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41e16e693a75080a6b83560b0614034a8fa9c198">41e16e6</a></td><td><code>Trac #23024: Use gmpy2 as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68e0e4560ca245f18ea1f59c2c842cd300814f2e">68e0e45</a></td><td><code>Trac #23024: spkg-install `sdh_pip_install` instead ...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9da630feb0b082204a088b1928ada21d92d12b7a">9da630f</a></td><td><code>Trac #23024: Code cleaning</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/273b77294ed47bac60db61117d96c75dc7e4a64a">273b772</a></td><td><code>Trac #23024: Remove HAVE_GMPY2 from coerce.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1365debdd4f802802cbf9c203a4e88e37cf6d12a">1365deb</a></td><td><code>Trac #23024: fix ppl_lattice_polytope doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3da5acf447b8d15da66db7df2aa82c845ec7e0d2">3da5acf</a></td><td><code>Trac #23024: upgrade pplpy version to 0.8.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9fed2a3fe0447123c1f75b51ed3071f924737280">9fed2a3</a></td><td><code>Trac #23024: Implement reviewer's comments ...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33f475994e4a22a90518503438123b989873b5e8">33f4759</a></td><td><code>Trac #23024: Generate and installl doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cf578caac1b97830dd98fffdb25985c37e96373">3cf578c</a></td><td><code>Trac #23024: Add intersphinx between sage doc ...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c40f656f7f605435339e33a3ed1d4ac8598852fb">c40f656</a></td><td><code>Trac #23024: Upgrade to pplpy version 8.2</code></td></tr></table>




---

archive/issue_comments_347357.json:
```json
{
    "body": "Changed commit from **[d8c41f6](https://github.com/sagemath/sagetrac-mirror/commit/d8c41f665958133b323380f70800a66c6432820a)** to **[c40f656](https://github.com/sagemath/sagetrac-mirror/commit/c40f656f7f605435339e33a3ed1d4ac8598852fb)**",
    "created_at": "2019-02-01T08:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347357",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d8c41f6](https://github.com/sagemath/sagetrac-mirror/commit/d8c41f665958133b323380f70800a66c6432820a)** to **[c40f656](https://github.com/sagemath/sagetrac-mirror/commit/c40f656f7f605435339e33a3ed1d4ac8598852fb)**



---

archive/issue_comments_347358.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nUpgrade pplpy to 8.2.\\\\\nRebase on sage 8.7.beta1.\\\\\n\\\\\nFor the doc generation, i think we can go with the double compilation now and switch\\\\\nto a better solution later if we find one.",
    "created_at": "2019-02-01T08:42:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347358",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:7" align="right">Comment 7</div>

Upgrade pplpy to 8.2.\\
Rebase on sage 8.7.beta1.\\
\\
For the doc generation, i think we can go with the double compilation now and switch\\
to a better solution later if we find one.



---

archive/issue_comments_347359.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,4 +5,4 @@\n - replace the Sage code calling sage/libs/ppl.pyx to call pplpy\n - make appropriate deprecation for `sage.libs.ppl`\n \n-pplpy' Tarball : [pplpy-0.8.2b0.tar.gz](https://www.labri.fr/perso/vklein/pplpy-0.8.2b0.tar.gz)\n+pplpy' Tarball : [pplpy-0.8.2.tar.gz](https://files.pythonhosted.org/packages/dd/19/3d385dbbf85df84faaaf3291599b95932a58ef0c5ae7015c3ff890d65fbb/pplpy-0.8.2.tar.gz)\n``````\n",
    "created_at": "2019-02-01T08:42:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347359",
    "user": "https://github.com/vinklein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,4 +5,4 @@
 - replace the Sage code calling sage/libs/ppl.pyx to call pplpy
 - make appropriate deprecation for `sage.libs.ppl`
 
-pplpy' Tarball : [pplpy-0.8.2b0.tar.gz](https://www.labri.fr/perso/vklein/pplpy-0.8.2b0.tar.gz)
+pplpy' Tarball : [pplpy-0.8.2.tar.gz](https://files.pythonhosted.org/packages/dd/19/3d385dbbf85df84faaaf3291599b95932a58ef0c5ae7015c3ff890d65fbb/pplpy-0.8.2.tar.gz)
``````




---

archive/issue_comments_347360.json:
```json
{
    "body": "Changed commit from **[c40f656](https://github.com/sagemath/sagetrac-mirror/commit/c40f656f7f605435339e33a3ed1d4ac8598852fb)** to **[93e0b66](https://github.com/sagemath/sagetrac-mirror/commit/93e0b66d6d76cdb867ec049a7be12c123a2ba769)**",
    "created_at": "2019-02-01T08:55:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347360",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c40f656](https://github.com/sagemath/sagetrac-mirror/commit/c40f656f7f605435339e33a3ed1d4ac8598852fb)** to **[93e0b66](https://github.com/sagemath/sagetrac-mirror/commit/93e0b66d6d76cdb867ec049a7be12c123a2ba769)**



---

archive/issue_comments_347361.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bcb13739f97334500a1bd7f8c2a4962a53451032\">bcb1373</a></td><td><code>Trac #23024: Add pplpy as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1aec1435a8fd5f448d36a97dc1220e991b536df0\">1aec143</a></td><td><code>Trac #23024: Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3231e47dc71ed2eb716f712e4b17c5fe76afc892\">3231e47</a></td><td><code>Trac #23024: Use gmpy2 as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93e0b66d6d76cdb867ec049a7be12c123a2ba769\">93e0b66</a></td><td><code>Trac #23024: Doc and dependencies: ...</code></td></tr></table>\n",
    "created_at": "2019-02-01T08:55:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347361",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8" align="right">Comment 8</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bcb13739f97334500a1bd7f8c2a4962a53451032">bcb1373</a></td><td><code>Trac #23024: Add pplpy as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1aec1435a8fd5f448d36a97dc1220e991b536df0">1aec143</a></td><td><code>Trac #23024: Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3231e47dc71ed2eb716f712e4b17c5fe76afc892">3231e47</a></td><td><code>Trac #23024: Use gmpy2 as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93e0b66d6d76cdb867ec049a7be12c123a2ba769">93e0b66</a></td><td><code>Trac #23024: Doc and dependencies: ...</code></td></tr></table>




---

archive/issue_events_303145.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-01T08:57:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303145"
}
```



---

archive/issue_events_303146.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-01T08:57:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303146"
}
```



---

archive/issue_comments_347362.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nRewrite ticket history.",
    "created_at": "2019-02-01T08:57:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347362",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:9" align="right">Comment 9</div>

Rewrite ticket history.



---

archive/issue_comments_347363.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">Comment 0</div>\n\nTo my mind, a better solution has to be found for\n\n```\n+    # Compile pplpy's documentation\n+    sage-python23 setup.py build_ext --inplace\n+    PYTHONPATH=$PYTHONPATH:$(pwd)\n+    cd docs\n+    $MAKE html\n```",
    "created_at": "2019-02-01T11:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347363",
    "user": "https://github.com/videlec"
}
```

<div id="comment:0" align="right">Comment 0</div>

To my mind, a better solution has to be found for

```
+    # Compile pplpy's documentation
+    sage-python23 setup.py build_ext --inplace
+    PYTHONPATH=$PYTHONPATH:$(pwd)
+    cd docs
+    $MAKE html
```



---

archive/issue_comments_347364.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nAs long as gmpy2 is optional, this package cannot be standard, as it depends on gmpy2.\n\n(Edit - I misread the ticket description, hence the edit). I recall last time there was a discussion about gmpy2 being standard, there were quite a bit of objections. Do they still stand?",
    "created_at": "2019-02-01T12:05:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347364",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:1" align="right">Comment 1</div>

As long as gmpy2 is optional, this package cannot be standard, as it depends on gmpy2.

(Edit - I misread the ticket description, hence the edit). I recall last time there was a discussion about gmpy2 being standard, there were quite a bit of objections. Do they still stand?



---

archive/issue_comments_347365.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nYes, this is the discussion link https://groups.google.com/forum/?#!topic/sage-devel/qoxVng1__0A.\n\nThe discussion/objections where more about what types pplpy should return (Sage numbers or gmpy2 numbers).\n\nThe last 3 messages for gmpy2 solution have never been answered, but rereading the thread it's true that it doesn't mean that we have an explicit consensus.\n\nI put this ticket on hold in wait for better solution for generating documentation.\\\\\n\nI will repost on the discussion thread when this ticket is ready.",
    "created_at": "2019-02-01T16:00:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347365",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:2" align="right">Comment 2</div>

Yes, this is the discussion link https://groups.google.com/forum/?#!topic/sage-devel/qoxVng1__0A.

The discussion/objections where more about what types pplpy should return (Sage numbers or gmpy2 numbers).

The last 3 messages for gmpy2 solution have never been answered, but rereading the thread it's true that it doesn't mean that we have an explicit consensus.

I put this ticket on hold in wait for better solution for generating documentation.\\

I will repost on the discussion thread when this ticket is ready.



---

archive/issue_events_303147.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-01T16:00:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303147"
}
```



---

archive/issue_events_303148.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-01T16:00:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303148"
}
```



---

archive/issue_comments_347366.json:
```json
{
    "body": "<div id=\"comment:133\" align=\"right\">Comment 133</div>\n\nReplying to [@videlec](#comment%3A130):\n> To my mind, a better solution has to be found for\n> \n> ```\n> +    # Compile pplpy's documentation\n> +    sage-python23 setup.py build_ext --inplace\n> +    PYTHONPATH=$PYTHONPATH:$(pwd)\n> +    cd docs\n> +    $MAKE html\n> ```\n\nthe question is - are you prepared to patch pplpy sources?\nComparing their docs/Makefile with https://github.com/sagemath/sagenb/blob/master/doc/Makefile\nseems to say that there are sphinx options one might try to use to do everything in one build, not in two.",
    "created_at": "2019-02-01T23:53:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347366",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:133" align="right">Comment 133</div>

Replying to [@videlec](#comment%3A130):
> To my mind, a better solution has to be found for
> 
> ```
> +    # Compile pplpy's documentation
> +    sage-python23 setup.py build_ext --inplace
> +    PYTHONPATH=$PYTHONPATH:$(pwd)
> +    cd docs
> +    $MAKE html
> ```

the question is - are you prepared to patch pplpy sources?
Comparing their docs/Makefile with https://github.com/sagemath/sagenb/blob/master/doc/Makefile
seems to say that there are sphinx options one might try to use to do everything in one build, not in two.



---

archive/issue_comments_347367.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nI haven't find a decisive difference between the two Makefile. The most obvious one being that pplpy use `sphinx-build -b` and sagenb use `sphinx-build -M`.\\\\\n\\\\\nI have tried with `-M` and get the same result.\\\\\nI think the reason it works with `sagenb` is because it doesn't have cython files and therefore the source directory is enough for the sphinx build to succeed.",
    "created_at": "2019-02-06T10:45:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347367",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:4" align="right">Comment 4</div>

I haven't find a decisive difference between the two Makefile. The most obvious one being that pplpy use `sphinx-build -b` and sagenb use `sphinx-build -M`.\\
\\
I have tried with `-M` and get the same result.\\
I think the reason it works with `sagenb` is because it doesn't have cython files and therefore the source directory is enough for the sphinx build to succeed.



---

archive/issue_comments_347368.json:
```json
{
    "body": "Changed commit from **[93e0b66](https://github.com/sagemath/sagetrac-mirror/commit/93e0b66d6d76cdb867ec049a7be12c123a2ba769)** to **[8d020ea](https://github.com/sagemath/sagetrac-mirror/commit/8d020eac9061705ebe900a4be3ec1b3c66d1eb49)**",
    "created_at": "2019-02-14T14:03:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347368",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[93e0b66](https://github.com/sagemath/sagetrac-mirror/commit/93e0b66d6d76cdb867ec049a7be12c123a2ba769)** to **[8d020ea](https://github.com/sagemath/sagetrac-mirror/commit/8d020eac9061705ebe900a4be3ec1b3c66d1eb49)**



---

archive/issue_comments_347369.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2d3e07ed31f41698845d8c8e671e9a0f9bab41e\">e2d3e07</a></td><td><code>Trac #23024: Add pplpy as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba656ae2370060317838a7daabd71b534064aaf0\">ba656ae</a></td><td><code>Trac #23024: Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ac4d457892d9e4e9c6d388f5cf7ccb73a85e2e8\">5ac4d45</a></td><td><code>Trac #23024: Use gmpy2 as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4a7255d78b8c52d4addc2a43cfc83bd642bf980\">c4a7255</a></td><td><code>Trac #23024: Doc and dependencies: ...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d020eac9061705ebe900a4be3ec1b3c66d1eb49\">8d020ea</a></td><td><code>Trac #23024: Sphinx doc avoid to compile two ...</code></td></tr></table>\n",
    "created_at": "2019-02-14T14:03:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347369",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5" align="right">Comment 5</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2d3e07ed31f41698845d8c8e671e9a0f9bab41e">e2d3e07</a></td><td><code>Trac #23024: Add pplpy as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba656ae2370060317838a7daabd71b534064aaf0">ba656ae</a></td><td><code>Trac #23024: Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ac4d457892d9e4e9c6d388f5cf7ccb73a85e2e8">5ac4d45</a></td><td><code>Trac #23024: Use gmpy2 as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4a7255d78b8c52d4addc2a43cfc83bd642bf980">c4a7255</a></td><td><code>Trac #23024: Doc and dependencies: ...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d020eac9061705ebe900a4be3ec1b3c66d1eb49">8d020ea</a></td><td><code>Trac #23024: Sphinx doc avoid to compile two ...</code></td></tr></table>




---

archive/issue_comments_347370.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nAdd a workaround to avoid two build and rebase on 8.7.beta3.",
    "created_at": "2019-02-14T14:12:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347370",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:6" align="right">Comment 6</div>

Add a workaround to avoid two build and rebase on 8.7.beta3.



---

archive/issue_comments_347371.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nIt is not working for me\n\n```\n[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl'; the following exception was raised:\n[pplpy-0.8.2] No module named ppl\n[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.constraint'; the following exception was raised:\n[pplpy-0.8.2] No module named ppl.constraint\n[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.linear_algebra'; the following exception was raised:\n[pplpy-0.8.2] No module named ppl.linear_algebra\n[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.generator'; the following exception was raised:\n[pplpy-0.8.2] No module named ppl.generator\n[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.polyhedron'; the following exception was raised:\n[pplpy-0.8.2] No module named ppl.polyhedron\n[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.mip_problem'; the following exception was raised:\n[pplpy-0.8.2] No module named ppl.mip_problem\n```",
    "created_at": "2019-02-14T14:25:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347371",
    "user": "https://github.com/videlec"
}
```

<div id="comment:7" align="right">Comment 7</div>

It is not working for me

```
[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl'; the following exception was raised:
[pplpy-0.8.2] No module named ppl
[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.constraint'; the following exception was raised:
[pplpy-0.8.2] No module named ppl.constraint
[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.linear_algebra'; the following exception was raised:
[pplpy-0.8.2] No module named ppl.linear_algebra
[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.generator'; the following exception was raised:
[pplpy-0.8.2] No module named ppl.generator
[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.polyhedron'; the following exception was raised:
[pplpy-0.8.2] No module named ppl.polyhedron
[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.mip_problem'; the following exception was raised:
[pplpy-0.8.2] No module named ppl.mip_problem
```



---

archive/issue_comments_347372.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nAnd shouldn't `python` be `python23`?",
    "created_at": "2019-02-14T14:25:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347372",
    "user": "https://github.com/videlec"
}
```

<div id="comment:8" align="right">Comment 8</div>

And shouldn't `python` be `python23`?



---

archive/issue_comments_347373.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nAnd the command you provided is very suspicious to me. Inside the sage shell\n\n```\n$ python -c \"import site; print(site.getusersitepackages().replace(site.getuserbase(), ''))\"\n/home/vincent/.sage/local/lib/python2.7/site-packages\n```\nAnd using string `replace` is not an option\n\n```\n>>> import site\n>>> site.getusersitepackages()\n'/home/vincent/.sage/local/lib/python2.7/site-packages'\n>>> site.getuserbase()\n'/home/vincent/.sage//local'\n```",
    "created_at": "2019-02-14T14:28:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347373",
    "user": "https://github.com/videlec"
}
```

<div id="comment:9" align="right">Comment 9</div>

And the command you provided is very suspicious to me. Inside the sage shell

```
$ python -c "import site; print(site.getusersitepackages().replace(site.getuserbase(), ''))"
/home/vincent/.sage/local/lib/python2.7/site-packages
```
And using string `replace` is not an option

```
>>> import site
>>> site.getusersitepackages()
'/home/vincent/.sage/local/lib/python2.7/site-packages'
>>> site.getuserbase()
'/home/vincent/.sage//local'
```



---

archive/issue_comments_347374.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">Comment 0</div>\n\nThis already looks more reasonable\n\n```\n>>> import sysconfig\n>>> sysconfig.get_paths(expand=False)\n{'purelib': '{base}/lib/python{py_version_short}/site-packages',\n 'stdlib': '{base}/lib/python{py_version_short}',\n 'scripts': '{base}/bin',\n 'platinclude': '{platbase}/include/python{py_version_short}',\n 'include': '{base}/include/python{py_version_short}',\n 'data': '{base}', 'platstdlib':\n '{platbase}/lib/python{py_version_short}',\n 'platlib': '{platbase}/lib/python{py_version_short}/site-packages'\n}\n```",
    "created_at": "2019-02-14T14:35:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347374",
    "user": "https://github.com/videlec"
}
```

<div id="comment:0" align="right">Comment 0</div>

This already looks more reasonable

```
>>> import sysconfig
>>> sysconfig.get_paths(expand=False)
{'purelib': '{base}/lib/python{py_version_short}/site-packages',
 'stdlib': '{base}/lib/python{py_version_short}',
 'scripts': '{base}/bin',
 'platinclude': '{platbase}/include/python{py_version_short}',
 'include': '{base}/include/python{py_version_short}',
 'data': '{base}', 'platstdlib':
 '{platbase}/lib/python{py_version_short}',
 'platlib': '{platbase}/lib/python{py_version_short}/site-packages'
}
```



---

archive/issue_comments_347375.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nI believe that what you want is\n\n```\n>>> import sysconfig\n>>> py_version_short = sysconfig.get_config_vars()['py_version_short']\n>>> path = sysconfig.get_path('platlib', expand=False)\n>>> path.format(platbase=\"$SAGE_DESTDIR_LOCAL\", py_version_short=py_version_short)\n'$SAGE_DESTDIR_LOCAL/lib/python2.7/site-packages'\n```",
    "created_at": "2019-02-14T14:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347375",
    "user": "https://github.com/videlec"
}
```

<div id="comment:1" align="right">Comment 1</div>

I believe that what you want is

```
>>> import sysconfig
>>> py_version_short = sysconfig.get_config_vars()['py_version_short']
>>> path = sysconfig.get_path('platlib', expand=False)
>>> path.format(platbase="$SAGE_DESTDIR_LOCAL", py_version_short=py_version_short)
'$SAGE_DESTDIR_LOCAL/lib/python2.7/site-packages'
```



---

archive/issue_comments_347376.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nthe site module is already supposed to do the job in a generic way : \n\n```\ndef _get_path(userbase):\n    version = sys.version_info\n\n    if os.name == 'nt':\n        return f'{userbase}\\\\Python{version[0]}{version[1]}\\\\site-packages'\n\n    if sys.platform == 'darwin' and sys._framework:\n        return f'{userbase}/lib/python/site-packages'\n\n    return f'{userbase}/lib/python{version[0]}.{version[1]}/site-packages'\n```\n\nPython version is not always used",
    "created_at": "2019-02-14T15:03:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347376",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:2" align="right">Comment 2</div>

the site module is already supposed to do the job in a generic way : 

```
def _get_path(userbase):
    version = sys.version_info

    if os.name == 'nt':
        return f'{userbase}\\Python{version[0]}{version[1]}\\site-packages'

    if sys.platform == 'darwin' and sys._framework:
        return f'{userbase}/lib/python/site-packages'

    return f'{userbase}/lib/python{version[0]}.{version[1]}/site-packages'
```

Python version is not always used



---

archive/issue_comments_347377.json:
```json
{
    "body": "Changed commit from **[8d020ea](https://github.com/sagemath/sagetrac-mirror/commit/8d020eac9061705ebe900a4be3ec1b3c66d1eb49)** to **[4b462ab](https://github.com/sagemath/sagetrac-mirror/commit/4b462ab0e597aba8d08286b5fdfd97855b9f8e8a)**",
    "created_at": "2019-02-14T15:12:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347377",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8d020ea](https://github.com/sagemath/sagetrac-mirror/commit/8d020eac9061705ebe900a4be3ec1b3c66d1eb49)** to **[4b462ab](https://github.com/sagemath/sagetrac-mirror/commit/4b462ab0e597aba8d08286b5fdfd97855b9f8e8a)**



---

archive/issue_comments_347378.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b462ab0e597aba8d08286b5fdfd97855b9f8e8a\">4b462ab</a></td><td><code>Trac #23024: Sphinx doc avoid to compile two ...</code></td></tr></table>\n",
    "created_at": "2019-02-14T15:12:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347378",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3" align="right">Comment 3</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b462ab0e597aba8d08286b5fdfd97855b9f8e8a">4b462ab</a></td><td><code>Trac #23024: Sphinx doc avoid to compile two ...</code></td></tr></table>




---

archive/issue_comments_347379.json:
```json
{
    "body": "<div id=\"comment:144\" align=\"right\">Comment 144</div>\n\nReplying to [@videlec](#comment%3A138):\n> And shouldn't `python` be `python23`?\n\nYes you are right.\\\\\nWorkaround fixed and enhanced with Erik Bray's help.",
    "created_at": "2019-02-14T15:14:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347379",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:144" align="right">Comment 144</div>

Replying to [@videlec](#comment%3A138):
> And shouldn't `python` be `python23`?

Yes you are right.\\
Workaround fixed and enhanced with Erik Bray's help.



---

archive/issue_comments_347380.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nSame as before\n\n```\n[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl'; the following exception was raised:\n[pplpy-0.8.2] No module named ppl\n[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.constraint'; the following exception was raised:\n[pplpy-0.8.2] No module named ppl.constraint\n[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.linear_algebra'; the following exception was raised:\n[pplpy-0.8.2] No module named ppl.linear_algebra\n[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.generator'; the following exception was raised:\n[pplpy-0.8.2] No module named ppl.generator\n[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.polyhedron'; the following exception was raised:\n[pplpy-0.8.2] No module named ppl.polyhedron\n[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.mip_problem'; the following exception was raised:\n[pplpy-0.8.2] No module named ppl.mip_problem\n```",
    "created_at": "2019-02-14T15:20:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347380",
    "user": "https://github.com/videlec"
}
```

<div id="comment:5" align="right">Comment 5</div>

Same as before

```
[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl'; the following exception was raised:
[pplpy-0.8.2] No module named ppl
[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.constraint'; the following exception was raised:
[pplpy-0.8.2] No module named ppl.constraint
[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.linear_algebra'; the following exception was raised:
[pplpy-0.8.2] No module named ppl.linear_algebra
[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.generator'; the following exception was raised:
[pplpy-0.8.2] No module named ppl.generator
[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.polyhedron'; the following exception was raised:
[pplpy-0.8.2] No module named ppl.polyhedron
[pplpy-0.8.2] WARNING: autodoc: failed to import module u'ppl.mip_problem'; the following exception was raised:
[pplpy-0.8.2] No module named ppl.mip_problem
```



---

archive/issue_comments_347381.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nCan you post or mail me the whole log ?",
    "created_at": "2019-02-14T15:35:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347381",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:6" align="right">Comment 6</div>

Can you post or mail me the whole log ?



---

archive/issue_comments_347382.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nOk i have an obvious bug in my `spgk_install` file",
    "created_at": "2019-02-14T15:53:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347382",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:7" align="right">Comment 7</div>

Ok i have an obvious bug in my `spgk_install` file



---

archive/issue_comments_347383.json:
```json
{
    "body": "Changed commit from **[4b462ab](https://github.com/sagemath/sagetrac-mirror/commit/4b462ab0e597aba8d08286b5fdfd97855b9f8e8a)** to **[f4fe72b](https://github.com/sagemath/sagetrac-mirror/commit/f4fe72be6c56056edf06850640459b2b1986bcea)**",
    "created_at": "2019-02-14T20:46:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347383",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4b462ab](https://github.com/sagemath/sagetrac-mirror/commit/4b462ab0e597aba8d08286b5fdfd97855b9f8e8a)** to **[f4fe72b](https://github.com/sagemath/sagetrac-mirror/commit/f4fe72be6c56056edf06850640459b2b1986bcea)**



---

archive/issue_comments_347384.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4fe72be6c56056edf06850640459b2b1986bcea\">f4fe72b</a></td><td><code>Trac #23024: Sphinx doc avoid to compile two ...</code></td></tr></table>\n",
    "created_at": "2019-02-14T20:46:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347384",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8" align="right">Comment 8</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4fe72be6c56056edf06850640459b2b1986bcea">f4fe72b</a></td><td><code>Trac #23024: Sphinx doc avoid to compile two ...</code></td></tr></table>




---

archive/issue_comments_347385.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nIt's fixed sorry for the previous commit.",
    "created_at": "2019-02-14T20:46:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347385",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:9" align="right">Comment 9</div>

It's fixed sorry for the previous commit.



---

archive/issue_comments_347386.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">Comment 0</div>\n\nWhy does sphinx inventory connect to internet!?\n\n```\n[pplpy-0.8.2] loading intersphinx inventory from http://docs.python.org/objects.inv...\n```",
    "created_at": "2019-02-14T20:59:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347386",
    "user": "https://github.com/videlec"
}
```

<div id="comment:0" align="right">Comment 0</div>

Why does sphinx inventory connect to internet!?

```
[pplpy-0.8.2] loading intersphinx inventory from http://docs.python.org/objects.inv...
```



---

archive/issue_comments_347387.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nI believe because of `pplpy's` `conf.py` last line :\n\n```\n# Example configuration for intersphinx: refer to the Python standard library.\nintersphinx_mapping = {'http://docs.python.org/': None}\n```\n\nThis says pplpy's intersphinx needs python's `objects.inv`.\n\nWich isn't true if i am not wrong ( I don't remember a sphinx link to python documentation in pplpy's documentation)",
    "created_at": "2019-02-14T21:07:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347387",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:1" align="right">Comment 1</div>

I believe because of `pplpy's` `conf.py` last line :

```
# Example configuration for intersphinx: refer to the Python standard library.
intersphinx_mapping = {'http://docs.python.org/': None}
```

This says pplpy's intersphinx needs python's `objects.inv`.

Wich isn't true if i am not wrong ( I don't remember a sphinx link to python documentation in pplpy's documentation)



---

archive/issue_comments_347388.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nnew tarball ready",
    "created_at": "2019-02-14T22:28:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347388",
    "user": "https://github.com/videlec"
}
```

<div id="comment:2" align="right">Comment 2</div>

new tarball ready



---

archive/issue_comments_347389.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,4 +5,4 @@\n - replace the Sage code calling sage/libs/ppl.pyx to call pplpy\n - make appropriate deprecation for `sage.libs.ppl`\n \n-pplpy' Tarball : [pplpy-0.8.2.tar.gz](https://files.pythonhosted.org/packages/dd/19/3d385dbbf85df84faaaf3291599b95932a58ef0c5ae7015c3ff890d65fbb/pplpy-0.8.2.tar.gz)\n+pplpy' Tarball : [pplpy-0.8.3.tar.gz](https://files.pythonhosted.org/packages/34/e8/b374e7b495937eb80d1176cb68098b9cdd6c269c956d995f0accb4e56d18/pplpy-0.8.3.tar.gz)\n``````\n",
    "created_at": "2019-02-14T22:28:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347389",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,4 +5,4 @@
 - replace the Sage code calling sage/libs/ppl.pyx to call pplpy
 - make appropriate deprecation for `sage.libs.ppl`
 
-pplpy' Tarball : [pplpy-0.8.2.tar.gz](https://files.pythonhosted.org/packages/dd/19/3d385dbbf85df84faaaf3291599b95932a58ef0c5ae7015c3ff890d65fbb/pplpy-0.8.2.tar.gz)
+pplpy' Tarball : [pplpy-0.8.3.tar.gz](https://files.pythonhosted.org/packages/34/e8/b374e7b495937eb80d1176cb68098b9cdd6c269c956d995f0accb4e56d18/pplpy-0.8.3.tar.gz)
``````




---

archive/issue_comments_347390.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abaef5ef92cf1d2148602527c350957c76ef7e14\">abaef5e</a></td><td><code>Trac #23024: upgrade pplpy to version 0.8.3</code></td></tr></table>\n",
    "created_at": "2019-02-14T22:54:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347390",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3" align="right">Comment 3</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abaef5ef92cf1d2148602527c350957c76ef7e14">abaef5e</a></td><td><code>Trac #23024: upgrade pplpy to version 0.8.3</code></td></tr></table>




---

archive/issue_comments_347391.json:
```json
{
    "body": "Changed commit from **[f4fe72b](https://github.com/sagemath/sagetrac-mirror/commit/f4fe72be6c56056edf06850640459b2b1986bcea)** to **[abaef5e](https://github.com/sagemath/sagetrac-mirror/commit/abaef5ef92cf1d2148602527c350957c76ef7e14)**",
    "created_at": "2019-02-14T22:54:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347391",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f4fe72b](https://github.com/sagemath/sagetrac-mirror/commit/f4fe72be6c56056edf06850640459b2b1986bcea)** to **[abaef5e](https://github.com/sagemath/sagetrac-mirror/commit/abaef5ef92cf1d2148602527c350957c76ef7e14)**



---

archive/issue_comments_347392.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nTicket ready for review.\n\nDon't set this ticket to positive review right now.\\\\\nWe need to clarify the discussion \nhttps://groups.google.com/forum/?#!topic/sage-devel/qoxVng1__0A first.",
    "created_at": "2019-02-14T23:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347392",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:4" align="right">Comment 4</div>

Ticket ready for review.

Don't set this ticket to positive review right now.\\
We need to clarify the discussion 
https://groups.google.com/forum/?#!topic/sage-devel/qoxVng1__0A first.



---

archive/issue_events_303149.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-14T23:28:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303149"
}
```



---

archive/issue_events_303150.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-14T23:28:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303150"
}
```



---

archive/issue_comments_347393.json:
```json
{
    "body": "<div id=\"comment:155\" align=\"right\">Comment 155</div>\n\nReplying to [@vinklein](#comment%3A154):\n> Don't set this ticket to positive review right now.\\\\\n> We need to clarify the discussion \n> https://groups.google.com/forum/?#!topic/sage-devel/qoxVng1__0A first.\n\nWhat is the status of the discussion now?",
    "created_at": "2019-02-18T10:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347393",
    "user": "https://github.com/videlec"
}
```

<div id="comment:155" align="right">Comment 155</div>

Replying to [@vinklein](#comment%3A154):
> Don't set this ticket to positive review right now.\\
> We need to clarify the discussion 
> https://groups.google.com/forum/?#!topic/sage-devel/qoxVng1__0A first.

What is the status of the discussion now?



---

archive/issue_comments_347394.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nNote: for the documentation build, there is also the possibility to use the `spkg-postinst` script (that is run after the installation in `$SAGE_LOCAL`).",
    "created_at": "2019-02-19T10:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347394",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">Comment 6</div>

Note: for the documentation build, there is also the possibility to use the `spkg-postinst` script (that is run after the installation in `$SAGE_LOCAL`).



---

archive/issue_comments_347395.json:
```json
{
    "body": "<div id=\"comment:157\" align=\"right\">Comment 157</div>\n\nReplying to [@videlec](#comment%3A156):\n> Note: for the documentation build, there is also the possibility to use the `spkg-postinst` script (that is run after the installation in `$SAGE_LOCAL`).\n\nYes that's true. The reason to keep the documentation build in `spkg-inst` is because it's currently the standard way of doing it. Tell me what you prefer.",
    "created_at": "2019-02-19T12:48:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347395",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:157" align="right">Comment 157</div>

Replying to [@videlec](#comment%3A156):
> Note: for the documentation build, there is also the possibility to use the `spkg-postinst` script (that is run after the installation in `$SAGE_LOCAL`).

Yes that's true. The reason to keep the documentation build in `spkg-inst` is because it's currently the standard way of doing it. Tell me what you prefer.



---

archive/issue_comments_347396.json:
```json
{
    "body": "<div id=\"comment:158\" align=\"right\">Comment 158</div>\n\nReplying to [@vinklein](#comment%3A157):\n> Replying to [@videlec](#comment%3A156):\n> > Note: for the documentation build, there is also the possibility to use the `spkg-postinst` script (that is run after the installation in `$SAGE_LOCAL`).\n\n> \n> Yes that's true. The reason to keep the documentation build in `spkg-inst` is because it's currently the standard way of doing it. Tell me what you prefer.\n\nTo my knowledge, no package had this problem before (ie building the doc depending on the library being installed). Everything that would avoid modifying `PYTHONPATH` looks nicer to me. But that is my own feeling.",
    "created_at": "2019-02-19T13:05:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347396",
    "user": "https://github.com/videlec"
}
```

<div id="comment:158" align="right">Comment 158</div>

Replying to [@vinklein](#comment%3A157):
> Replying to [@videlec](#comment%3A156):
> > Note: for the documentation build, there is also the possibility to use the `spkg-postinst` script (that is run after the installation in `$SAGE_LOCAL`).

> 
> Yes that's true. The reason to keep the documentation build in `spkg-inst` is because it's currently the standard way of doing it. Tell me what you prefer.

To my knowledge, no package had this problem before (ie building the doc depending on the library being installed). Everything that would avoid modifying `PYTHONPATH` looks nicer to me. But that is my own feeling.



---

archive/issue_comments_347397.json:
```json
{
    "body": "Changed commit from **[abaef5e](https://github.com/sagemath/sagetrac-mirror/commit/abaef5ef92cf1d2148602527c350957c76ef7e14)** to **[c6d75a9](https://github.com/sagemath/sagetrac-mirror/commit/c6d75a9b610220d7e882a2be9f83591f81fbc480)**",
    "created_at": "2019-02-19T14:12:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347397",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[abaef5e](https://github.com/sagemath/sagetrac-mirror/commit/abaef5ef92cf1d2148602527c350957c76ef7e14)** to **[c6d75a9](https://github.com/sagemath/sagetrac-mirror/commit/c6d75a9b610220d7e882a2be9f83591f81fbc480)**



---

archive/issue_comments_347398.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6d75a9b610220d7e882a2be9f83591f81fbc480\">c6d75a9</a></td><td><code>Trac #23024: Add a spkg-postinst script to man...</code></td></tr></table>\n",
    "created_at": "2019-02-19T14:12:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347398",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9" align="right">Comment 9</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6d75a9b610220d7e882a2be9f83591f81fbc480">c6d75a9</a></td><td><code>Trac #23024: Add a spkg-postinst script to man...</code></td></tr></table>




---

archive/issue_comments_347399.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">Comment 0</div>\n\nOk seems fair. `spkg-postinst` script added.",
    "created_at": "2019-02-19T14:15:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347399",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:0" align="right">Comment 0</div>

Ok seems fair. `spkg-postinst` script added.



---

archive/issue_comments_347400.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nHaving a comment in the `spkg-install` script is good but I think that it would be even nicer with an explanation of why this is moved inside the `spkg-postinst` script.",
    "created_at": "2019-02-19T14:28:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347400",
    "user": "https://github.com/videlec"
}
```

<div id="comment:1" align="right">Comment 1</div>

Having a comment in the `spkg-install` script is good but I think that it would be even nicer with an explanation of why this is moved inside the `spkg-postinst` script.



---

archive/issue_comments_347401.json:
```json
{
    "body": "Changed commit from **[c6d75a9](https://github.com/sagemath/sagetrac-mirror/commit/c6d75a9b610220d7e882a2be9f83591f81fbc480)** to **[794aed8](https://github.com/sagemath/sagetrac-mirror/commit/794aed8c6a61b9397167c7cfe8c2925ae4e90370)**",
    "created_at": "2019-02-19T14:42:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347401",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c6d75a9](https://github.com/sagemath/sagetrac-mirror/commit/c6d75a9b610220d7e882a2be9f83591f81fbc480)** to **[794aed8](https://github.com/sagemath/sagetrac-mirror/commit/794aed8c6a61b9397167c7cfe8c2925ae4e90370)**



---

archive/issue_comments_347402.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/794aed8c6a61b9397167c7cfe8c2925ae4e90370\">794aed8</a></td><td><code>Trac #23024: spkg-install: Document the reason ...</code></td></tr></table>\n",
    "created_at": "2019-02-19T14:42:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347402",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/794aed8c6a61b9397167c7cfe8c2925ae4e90370">794aed8</a></td><td><code>Trac #23024: spkg-install: Document the reason ...</code></td></tr></table>




---

archive/issue_comments_347403.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nOk, explanation added.",
    "created_at": "2019-02-19T14:45:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347403",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:3" align="right">Comment 3</div>

Ok, explanation added.



---

archive/issue_comments_347404.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nThe current status is good for me. Thanks Vincent.\n\nAny comment Dima?",
    "created_at": "2019-02-19T14:50:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347404",
    "user": "https://github.com/videlec"
}
```

<div id="comment:4" align="right">Comment 4</div>

The current status is good for me. Thanks Vincent.

Any comment Dima?



---

archive/issue_comments_347405.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nHow about src/sage/numerical/backends/ppl_backend.pyx ?\nDo you at least have a ticket to work on replacing this with pplpy?",
    "created_at": "2019-02-20T07:54:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347405",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">Comment 5</div>

How about src/sage/numerical/backends/ppl_backend.pyx ?
Do you at least have a ticket to work on replacing this with pplpy?



---

archive/issue_comments_347406.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nppl_backend.pyx is modified in this ticket. This is not replaced but `ppl_backend.pyx` methods use pplpy instead of using sage.lib.ppl.\n\nsee: https://github.com/sagemath/sagetrac-mirror/blob/fed0a135795f8f076d7ffaf69aecc84f2f096b5d/src/sage/numerical/backends/ppl_backend.pyx",
    "created_at": "2019-02-20T08:04:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347406",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:6" align="right">Comment 6</div>

ppl_backend.pyx is modified in this ticket. This is not replaced but `ppl_backend.pyx` methods use pplpy instead of using sage.lib.ppl.

see: https://github.com/sagemath/sagetrac-mirror/blob/fed0a135795f8f076d7ffaf69aecc84f2f096b5d/src/sage/numerical/backends/ppl_backend.pyx



---

archive/issue_comments_347407.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\n@dimpase tell me if you think it's ok or if you think `ppl_backend.pyx` should be reworked in another way.",
    "created_at": "2019-02-20T09:10:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347407",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:7" align="right">Comment 7</div>

@dimpase tell me if you think it's ok or if you think `ppl_backend.pyx` should be reworked in another way.



---

archive/issue_comments_347408.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nI recall that ppl_backend.pyx had a tricky part due to the inability of PPL to work with rationals - everything had to be integer. I don't know whether this is still the case.\nPotentially, if it, or/and pplpy can now work directly with rationals, it might be worthwhile to change, as computing common denominators lead to blowup of coefficients.",
    "created_at": "2019-02-20T09:34:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347408",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:8" align="right">Comment 8</div>

I recall that ppl_backend.pyx had a tricky part due to the inability of PPL to work with rationals - everything had to be integer. I don't know whether this is still the case.
Potentially, if it, or/and pplpy can now work directly with rationals, it might be worthwhile to change, as computing common denominators lead to blowup of coefficients.



---

archive/issue_comments_347409.json:
```json
{
    "body": "<div id=\"comment:169\" align=\"right\">Comment 169</div>\n\nReplying to [@dimpase](#comment%3A168):\n> I recall that ppl_backend.pyx had a tricky part due to the inability of PPL to work with rationals - everything had to be integer. I don't know whether this is still the case.\n> Potentially, if it, or/and pplpy can now work directly with rationals, it might be worthwhile to change, as computing common denominators lead to blowup of coefficients.\n\nThe PPL Coefficient type is hardcoded in the Cython wrapper as\n\n```\nctypedef mpz_class PPL_Coefficient\n```\nThis implies that all computations with pplpy are done with GMP mpz. I agree that PPL supports computations with `mpz_class`, `mpq_class` as well as various native integer types (from `char` to `long long`). Nothing has changed on this side yet. This feature request is disjoint from this ticket which aims to be a simple transition from Sage source code to standalone library.",
    "created_at": "2019-02-20T09:51:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347409",
    "user": "https://github.com/videlec"
}
```

<div id="comment:169" align="right">Comment 169</div>

Replying to [@dimpase](#comment%3A168):
> I recall that ppl_backend.pyx had a tricky part due to the inability of PPL to work with rationals - everything had to be integer. I don't know whether this is still the case.
> Potentially, if it, or/and pplpy can now work directly with rationals, it might be worthwhile to change, as computing common denominators lead to blowup of coefficients.

The PPL Coefficient type is hardcoded in the Cython wrapper as

```
ctypedef mpz_class PPL_Coefficient
```
This implies that all computations with pplpy are done with GMP mpz. I agree that PPL supports computations with `mpz_class`, `mpq_class` as well as various native integer types (from `char` to `long long`). Nothing has changed on this side yet. This feature request is disjoint from this ticket which aims to be a simple transition from Sage source code to standalone library.



---

archive/issue_events_303151.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-20T09:53:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303151"
}
```



---

archive/issue_events_303152.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-20T09:53:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303152"
}
```



---

archive/issue_comments_347410.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">Comment 0</div>\n\nlooks good to me then.",
    "created_at": "2019-02-20T09:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347410",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:0" align="right">Comment 0</div>

looks good to me then.



---

archive/issue_comments_347411.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2019-02-20T09:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347411",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_347412.json:
```json
{
    "body": "<div id=\"comment:171\" align=\"right\">Comment 171</div>\n\nReplying to [@videlec](#comment%3A169):\n> Replying to [@dimpase](#comment%3A168):\n> > I recall that ppl_backend.pyx had a tricky part due to the inability of PPL to work with rationals - everything had to be integer. I don't know whether this is still the case.\n> > Potentially, if it, or/and pplpy can now work directly with rationals, it might be worthwhile to change, as computing common denominators lead to blowup of coefficients.\n\n> \n> The PPL Coefficient type is hardcoded in the Cython wrapper as\n> \n> ```\n> ctypedef mpz_class PPL_Coefficient\n> ```\n> This implies that all computations with pplpy are done with GMP mpz. I agree that PPL supports computations with `mpz_class`, `mpq_class` as well as various native integer types (from `char` to `long long`). Nothing has changed on this side yet. This feature request is disjoint from this ticket which aims to be a simple transition from Sage source code to standalone library.\n\nThis is high priority and I opened an issue: https://gitlab.com/videlec/pplpy/issues/14",
    "created_at": "2019-02-20T09:54:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347412",
    "user": "https://github.com/videlec"
}
```

<div id="comment:171" align="right">Comment 171</div>

Replying to [@videlec](#comment%3A169):
> Replying to [@dimpase](#comment%3A168):
> > I recall that ppl_backend.pyx had a tricky part due to the inability of PPL to work with rationals - everything had to be integer. I don't know whether this is still the case.
> > Potentially, if it, or/and pplpy can now work directly with rationals, it might be worthwhile to change, as computing common denominators lead to blowup of coefficients.

> 
> The PPL Coefficient type is hardcoded in the Cython wrapper as
> 
> ```
> ctypedef mpz_class PPL_Coefficient
> ```
> This implies that all computations with pplpy are done with GMP mpz. I agree that PPL supports computations with `mpz_class`, `mpq_class` as well as various native integer types (from `char` to `long long`). Nothing has changed on this side yet. This feature request is disjoint from this ticket which aims to be a simple transition from Sage source code to standalone library.

This is high priority and I opened an issue: https://gitlab.com/videlec/pplpy/issues/14



---

archive/issue_comments_347413.json:
```json
{
    "body": "Changed reviewer from **Dima Pasechnik** to **Dima Pasechnik, Fran\u00e7ois Bissey, \u200bVincent Delecroix, Jeroen Demeyer**",
    "created_at": "2019-02-20T10:25:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347413",
    "user": "https://github.com/vinklein"
}
```

Changed reviewer from **Dima Pasechnik** to **Dima Pasechnik, François Bissey, ​Vincent Delecroix, Jeroen Demeyer**



---

archive/issue_comments_347414.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nThanks to all reviewers.",
    "created_at": "2019-02-20T10:25:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347414",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:2" align="right">Comment 2</div>

Thanks to all reviewers.



---

archive/issue_comments_347415.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nmerge conflict",
    "created_at": "2019-02-22T23:39:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347415",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:3" align="right">Comment 3</div>

merge conflict



---

archive/issue_events_303153.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-22T23:39:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303153"
}
```



---

archive/issue_events_303154.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-22T23:39:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303154"
}
```



---

archive/issue_comments_347416.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/477a7bef9d639697f689c8351f4abbb63405e914\">477a7be</a></td><td><code>Trac #23024: Add pplpy as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44b61c5c2b6113d944d7cdb95617a8a7d65544dd\">44b61c5</a></td><td><code>Trac #23024: Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4c722cc51596afe78a6fc37aa90a88cf34b644b\">a4c722c</a></td><td><code>Trac #23024: Use gmpy2 as a standard package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/684e10779db003f3539b0490f8ea4092c77203ac\">684e107</a></td><td><code>Trac #23024: Doc and dependencies: ...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b49007ca79464f70c0fba92d74ba4f46fb46641f\">b49007c</a></td><td><code>Trac #23024: Sphinx doc avoid to compile two ...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfc737ad14486574fa88d47b938e341cf8f5d899\">bfc737a</a></td><td><code>Trac #23024: upgrade pplpy to version 0.8.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7e35470d31d3c62c47366be22f08c12b78568d1\">b7e3547</a></td><td><code>Trac #23024: Add a spkg-postinst script to man...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81bf994a34c7f862cfb71d3a76ab4632017607ae\">81bf994</a></td><td><code>Trac #23024: spkg-install: Document the reason ...</code></td></tr></table>\n",
    "created_at": "2019-02-25T09:27:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347416",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4" align="right">Comment 4</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/477a7bef9d639697f689c8351f4abbb63405e914">477a7be</a></td><td><code>Trac #23024: Add pplpy as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44b61c5c2b6113d944d7cdb95617a8a7d65544dd">44b61c5</a></td><td><code>Trac #23024: Replace sage.libs.ppl with pplpy package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4c722cc51596afe78a6fc37aa90a88cf34b644b">a4c722c</a></td><td><code>Trac #23024: Use gmpy2 as a standard package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/684e10779db003f3539b0490f8ea4092c77203ac">684e107</a></td><td><code>Trac #23024: Doc and dependencies: ...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b49007ca79464f70c0fba92d74ba4f46fb46641f">b49007c</a></td><td><code>Trac #23024: Sphinx doc avoid to compile two ...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfc737ad14486574fa88d47b938e341cf8f5d899">bfc737a</a></td><td><code>Trac #23024: upgrade pplpy to version 0.8.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7e35470d31d3c62c47366be22f08c12b78568d1">b7e3547</a></td><td><code>Trac #23024: Add a spkg-postinst script to man...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81bf994a34c7f862cfb71d3a76ab4632017607ae">81bf994</a></td><td><code>Trac #23024: spkg-install: Document the reason ...</code></td></tr></table>




---

archive/issue_comments_347417.json:
```json
{
    "body": "Changed commit from **[794aed8](https://github.com/sagemath/sagetrac-mirror/commit/794aed8c6a61b9397167c7cfe8c2925ae4e90370)** to **[81bf994](https://github.com/sagemath/sagetrac-mirror/commit/81bf994a34c7f862cfb71d3a76ab4632017607ae)**",
    "created_at": "2019-02-25T09:27:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347417",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[794aed8](https://github.com/sagemath/sagetrac-mirror/commit/794aed8c6a61b9397167c7cfe8c2925ae4e90370)** to **[81bf994](https://github.com/sagemath/sagetrac-mirror/commit/81bf994a34c7f862cfb71d3a76ab4632017607ae)**



---

archive/issue_comments_347418.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nRebase on 8.7.beta5",
    "created_at": "2019-02-25T09:29:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347418",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:5" align="right">Comment 5</div>

Rebase on 8.7.beta5



---

archive/issue_events_303155.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-25T09:29:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303155"
}
```



---

archive/issue_events_303156.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-25T09:29:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303156"
}
```



---

archive/issue_events_303157.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-02-25T09:30:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303157"
}
```



---

archive/issue_events_303158.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-02-25T09:30:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303158"
}
```



---

archive/issue_comments_347419.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nLooking at the diff, I have several minor comments:\n\n1. Don't change whitespace in `src/module_list.py` for no good reason.\n\n2. In various places, you use `list(...)`. Why not use a list comprehension instead?\n\n3. In multi-line imports, the preferred style is to use parentheses instead of `\\`.\n\n4. The deprecation message is really strangely formatted: it shouldn't start with a newline and there shouldn't be a huge amount of indentation in the second line. I would probably write it all on one line without any newlines at all.\n\n5. What's the meaning of the `/...` at the start of the deprecation warnings in doctests? I have never seen that.\n\n6. In `_add_rational_constraint`, why do you `cdef Rational rhs`? Since `numerator` and `denominator` are pure Python methods, this is a pessimization.",
    "created_at": "2019-02-25T09:54:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347419",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">Comment 8</div>

Looking at the diff, I have several minor comments:

1. Don't change whitespace in `src/module_list.py` for no good reason.

2. In various places, you use `list(...)`. Why not use a list comprehension instead?

3. In multi-line imports, the preferred style is to use parentheses instead of `\`.

4. The deprecation message is really strangely formatted: it shouldn't start with a newline and there shouldn't be a huge amount of indentation in the second line. I would probably write it all on one line without any newlines at all.

5. What's the meaning of the `/...` at the start of the deprecation warnings in doctests? I have never seen that.

6. In `_add_rational_constraint`, why do you `cdef Rational rhs`? Since `numerator` and `denominator` are pure Python methods, this is a pessimization.



---

archive/issue_events_303159.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-25T09:54:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303159"
}
```



---

archive/issue_events_303160.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-25T09:54:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303160"
}
```



---

archive/issue_comments_347420.json:
```json
{
    "body": "<div id=\"comment:179\" align=\"right\">Comment 179</div>\n\nReplying to [@jdemeyer](#comment%3A178):\n> Looking at the diff, I have several minor comments:\n> 2. In various places, you use `list(...)`. Why not use a list comprehension instead?\n\nI wonder if there shouldn't be something like this mentioned in the developer docs (do we have a style guide)?\n\nThis is a comment I've made in review on dozens of tickets at this point.\n\nShort list comprehensions (it's trickier when they get nested) are *often* clearer than any alternative, and are usually much more efficient from the Python interpreter's standpoint as well.",
    "created_at": "2019-02-25T10:33:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347420",
    "user": "https://github.com/embray"
}
```

<div id="comment:179" align="right">Comment 179</div>

Replying to [@jdemeyer](#comment%3A178):
> Looking at the diff, I have several minor comments:
> 2. In various places, you use `list(...)`. Why not use a list comprehension instead?

I wonder if there shouldn't be something like this mentioned in the developer docs (do we have a style guide)?

This is a comment I've made in review on dozens of tickets at this point.

Short list comprehensions (it's trickier when they get nested) are *often* clearer than any alternative, and are usually much more efficient from the Python interpreter's standpoint as well.



---

archive/issue_comments_347421.json:
```json
{
    "body": "<div id=\"comment:180\" align=\"right\">Comment 180</div>\n\n> 5. What's the meaning of the `/...` at the start of the deprecation warnings in doctests? I have never seen that.\n\nIt means the line begin with `/` then something before `DeprecationWarning...`.\nI think i have done that because the `print(err)` result begin by the path `$SAGE_LOCAL/src/bin/sage-eval`.",
    "created_at": "2019-02-25T10:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347421",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:180" align="right">Comment 180</div>

> 5. What's the meaning of the `/...` at the start of the deprecation warnings in doctests? I have never seen that.

It means the line begin with `/` then something before `DeprecationWarning...`.
I think i have done that because the `print(err)` result begin by the path `$SAGE_LOCAL/src/bin/sage-eval`.



---

archive/issue_comments_347422.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nI see now. Those aren't \"normal\" doctests, they are actually run in a subprocess.",
    "created_at": "2019-02-25T11:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347422",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:1" align="right">Comment 1</div>

I see now. Those aren't "normal" doctests, they are actually run in a subprocess.



---

archive/issue_comments_347423.json:
```json
{
    "body": "Changed commit from **[81bf994](https://github.com/sagemath/sagetrac-mirror/commit/81bf994a34c7f862cfb71d3a76ab4632017607ae)** to **[b25b719](https://github.com/sagemath/sagetrac-mirror/commit/b25b7199b237e4e732fc805ce56e40cf477f7e6d)**",
    "created_at": "2019-02-25T12:57:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347423",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[81bf994](https://github.com/sagemath/sagetrac-mirror/commit/81bf994a34c7f862cfb71d3a76ab4632017607ae)** to **[b25b719](https://github.com/sagemath/sagetrac-mirror/commit/b25b7199b237e4e732fc805ce56e40cf477f7e6d)**



---

archive/issue_comments_347424.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b25b7199b237e4e732fc805ce56e40cf477f7e6d\">b25b719</a></td><td><code>Trac #23024: Implements reviewer's comment :</code></td></tr></table>\n",
    "created_at": "2019-02-25T12:57:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347424",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b25b7199b237e4e732fc805ce56e40cf477f7e6d">b25b719</a></td><td><code>Trac #23024: Implements reviewer's comment :</code></td></tr></table>




---

archive/issue_comments_347425.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nComments 1,2,3,4 and 6 implemented.",
    "created_at": "2019-02-25T12:59:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347425",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:3" align="right">Comment 3</div>

Comments 1,2,3,4 and 6 implemented.



---

archive/issue_events_303161.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-25T12:59:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303161"
}
```



---

archive/issue_events_303162.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-25T12:59:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303162"
}
```



---

archive/issue_events_303163.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-27T07:27:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303163"
}
```



---

archive/issue_events_303164.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-27T07:27:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303164"
}
```



---

archive/issue_comments_347426.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nJeroen?",
    "created_at": "2019-02-27T08:35:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347426",
    "user": "https://github.com/videlec"
}
```

<div id="comment:5" align="right">Comment 5</div>

Jeroen?



---

archive/issue_events_303165.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-27T08:53:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303165"
}
```



---

archive/issue_events_303166.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-27T08:53:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303166"
}
```



---

archive/issue_comments_347427.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nGood for me if this passes doctests (I haven't checked)",
    "created_at": "2019-02-27T08:53:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347427",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">Comment 6</div>

Good for me if this passes doctests (I haven't checked)



---

archive/issue_comments_347428.json:
```json
{
    "body": "<div id=\"comment:187\" align=\"right\">Comment 187</div>\n\nReplying to [@jdemeyer](#comment%3A186):\n> Good for me if this passes doctests (I haven't checked)\n\nThis I did (and I belive Vincent K also)",
    "created_at": "2019-02-27T09:04:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347428",
    "user": "https://github.com/videlec"
}
```

<div id="comment:187" align="right">Comment 187</div>

Replying to [@jdemeyer](#comment%3A186):
> Good for me if this passes doctests (I haven't checked)

This I did (and I belive Vincent K also)



---

archive/issue_comments_347429.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nAfter the last commit i only did tests on all modified files and everything under `sage/geometry`. I will launch a `sage -t -a --long` just to be extra sure.",
    "created_at": "2019-02-27T09:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347429",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:8" align="right">Comment 8</div>

After the last commit i only did tests on all modified files and everything under `sage/geometry`. I will launch a `sage -t -a --long` just to be extra sure.



---

archive/issue_events_303167.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-02-28T13:21:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303167"
}
```



---

archive/issue_events_303168.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-02-28T13:21:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303168"
}
```



---

archive/issue_comments_347430.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nI would like to test this on Windows.  I can do that in a few minutes.",
    "created_at": "2019-02-28T13:21:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347430",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">Comment 9</div>

I would like to test this on Windows.  I can do that in a few minutes.



---

archive/issue_comments_347431.json:
```json
{
    "body": "Assignee: **@embray**",
    "created_at": "2019-02-28T13:22:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347431",
    "user": "https://github.com/embray"
}
```

Assignee: **@embray**



---

archive/issue_comments_347432.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nOne minor comment just looking at the patch: To complement the `pplpy/spkg-postinst` script, it would be good, albeit not strictly necessary, to include a `pplpy/spkg-postrm` script that removes that documentation directory in its entirety, if it was installed.  That way it's a bit tidier if you also remove or upgrade pplpy and its documentation changes.",
    "created_at": "2019-02-28T14:16:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347432",
    "user": "https://github.com/embray"
}
```

<div id="comment:1" align="right">Comment 1</div>

One minor comment just looking at the patch: To complement the `pplpy/spkg-postinst` script, it would be good, albeit not strictly necessary, to include a `pplpy/spkg-postrm` script that removes that documentation directory in its entirety, if it was installed.  That way it's a bit tidier if you also remove or upgrade pplpy and its documentation changes.



---

archive/issue_comments_347433.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nOk, when exactly are `spkg-postrm` scripts called ? `sage -f pkgname` after the uninstall ?\n\nAnyways i will wait for Owner field to be empty before pushing any new commit.",
    "created_at": "2019-02-28T14:28:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347433",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:2" align="right">Comment 2</div>

Ok, when exactly are `spkg-postrm` scripts called ? `sage -f pkgname` after the uninstall ?

Anyways i will wait for Owner field to be empty before pushing any new commit.



---

archive/issue_comments_347434.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nYeah, pplpy doesn't build on Cygwin:\n\n```\n[pplpy-0.8.3]     g++ -shared -Wl,--enable-auto-image-base -L/home/embray/src/sagemath/sage/local/lib -Wl,-rpath,/home/embray/src/sagemath/sage/local/lib -L/home/embray/src/sagemath/sage/local/lib -Wl,-rpath,/home/embray/src/sagemath/sage/local/lib build/temp.cygwin-2.9.0-x86_64-2.7/ppl/bit_arrays.o build/temp.cygwin-2.9.0-x86_64-2.7/ppl/ppl_shim.o -L/home/embray/src/sagemath/sage/local/lib/python2.7/config -L/home/embray/src/sagemath/sage/local/lib -lppl -lm -lpython2.7 -o build/lib.cygwin-2.9.0-x86_64-2.7/ppl/bit_arrays.dll\n[pplpy-0.8.3]     build/temp.cygwin-2.9.0-x86_64-2.7/ppl/bit_arrays.o: In function `Parma_Polyhedra_Library::Bit_Row::clear()':\n[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40661: undefined reference to `__imp___gmpz_set_ui'\n[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40661:(.text+0x14c): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `__imp___gmpz_set_ui'\n[pplpy-0.8.3]     build/temp.cygwin-2.9.0-x86_64-2.7/ppl/bit_arrays.o: In function `Parma_Polyhedra_Library::Bit_Row::~Bit_Row()':\n[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40618: undefined reference to `__imp___gmpz_clear'\n[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40618:(.text+0x235): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `__imp___gmpz_clear'\n[pplpy-0.8.3]     build/temp.cygwin-2.9.0-x86_64-2.7/ppl/bit_arrays.o: In function `__pyx_pf_3ppl_10bit_arrays_7Bit_Row___cinit__':\n[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40588: undefined reference to `__imp___gmpz_init'\n[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40588:(.text+0x2c9): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `__imp___gmpz_init'\n[pplpy-0.8.3]     build/temp.cygwin-2.9.0-x86_64-2.7/ppl/bit_arrays.o: In function `Parma_Polyhedra_Library::Bit_Row::clear_from(unsigned long)':\n[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40639: undefined reference to `__imp___gmpz_tdiv_r_2exp'\n[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40639:(.text+0x1dd0): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `__imp___gmpz_tdiv_r_2exp'\n[pplpy-0.8.3]     build/temp.cygwin-2.9.0-x86_64-2.7/ppl/bit_arrays.o: In function `Parma_Polyhedra_Library::Bit_Row::set(unsigned long)':\n[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40629: undefined reference to `__imp___gmpz_setbit'\n[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40629:(.text+0x239d): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `__imp___gmpz_setbit'\n[pplpy-0.8.3]     collect2: error: ld returned 1 exit status\n[pplpy-0.8.3]     error: command 'g++' failed with exit status 1\n[pplpy-0.8.3]     Running setup.py install for pplpy: finished with status 'error'\n```\n\nThis looks...unsurprising to me. I think I can fix this easily-enough, I hope.",
    "created_at": "2019-02-28T14:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347434",
    "user": "https://github.com/embray"
}
```

<div id="comment:3" align="right">Comment 3</div>

Yeah, pplpy doesn't build on Cygwin:

```
[pplpy-0.8.3]     g++ -shared -Wl,--enable-auto-image-base -L/home/embray/src/sagemath/sage/local/lib -Wl,-rpath,/home/embray/src/sagemath/sage/local/lib -L/home/embray/src/sagemath/sage/local/lib -Wl,-rpath,/home/embray/src/sagemath/sage/local/lib build/temp.cygwin-2.9.0-x86_64-2.7/ppl/bit_arrays.o build/temp.cygwin-2.9.0-x86_64-2.7/ppl/ppl_shim.o -L/home/embray/src/sagemath/sage/local/lib/python2.7/config -L/home/embray/src/sagemath/sage/local/lib -lppl -lm -lpython2.7 -o build/lib.cygwin-2.9.0-x86_64-2.7/ppl/bit_arrays.dll
[pplpy-0.8.3]     build/temp.cygwin-2.9.0-x86_64-2.7/ppl/bit_arrays.o: In function `Parma_Polyhedra_Library::Bit_Row::clear()':
[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40661: undefined reference to `__imp___gmpz_set_ui'
[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40661:(.text+0x14c): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `__imp___gmpz_set_ui'
[pplpy-0.8.3]     build/temp.cygwin-2.9.0-x86_64-2.7/ppl/bit_arrays.o: In function `Parma_Polyhedra_Library::Bit_Row::~Bit_Row()':
[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40618: undefined reference to `__imp___gmpz_clear'
[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40618:(.text+0x235): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `__imp___gmpz_clear'
[pplpy-0.8.3]     build/temp.cygwin-2.9.0-x86_64-2.7/ppl/bit_arrays.o: In function `__pyx_pf_3ppl_10bit_arrays_7Bit_Row___cinit__':
[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40588: undefined reference to `__imp___gmpz_init'
[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40588:(.text+0x2c9): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `__imp___gmpz_init'
[pplpy-0.8.3]     build/temp.cygwin-2.9.0-x86_64-2.7/ppl/bit_arrays.o: In function `Parma_Polyhedra_Library::Bit_Row::clear_from(unsigned long)':
[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40639: undefined reference to `__imp___gmpz_tdiv_r_2exp'
[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40639:(.text+0x1dd0): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `__imp___gmpz_tdiv_r_2exp'
[pplpy-0.8.3]     build/temp.cygwin-2.9.0-x86_64-2.7/ppl/bit_arrays.o: In function `Parma_Polyhedra_Library::Bit_Row::set(unsigned long)':
[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40629: undefined reference to `__imp___gmpz_setbit'
[pplpy-0.8.3]     /home/embray/src/sagemath/sage/local/include/ppl.hh:40629:(.text+0x239d): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `__imp___gmpz_setbit'
[pplpy-0.8.3]     collect2: error: ld returned 1 exit status
[pplpy-0.8.3]     error: command 'g++' failed with exit status 1
[pplpy-0.8.3]     Running setup.py install for pplpy: finished with status 'error'
```

This looks...unsurprising to me. I think I can fix this easily-enough, I hope.



---

archive/issue_comments_347435.json:
```json
{
    "body": "<div id=\"comment:194\" align=\"right\">Comment 194</div>\n\nReplying to [@vinklein](#comment%3A192):\n> Ok, when exactly are `spkg-postrm` scripts called ? `sage -f pkgname` after the uninstall ?\n\nBasically, at the end of `sage-spkg-uninstall` (which is called by `sage -f` among other things).  This is also called when upgrading a package so that's why I thought it might matter eventually, at least in a minor way.",
    "created_at": "2019-02-28T14:46:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347435",
    "user": "https://github.com/embray"
}
```

<div id="comment:194" align="right">Comment 194</div>

Replying to [@vinklein](#comment%3A192):
> Ok, when exactly are `spkg-postrm` scripts called ? `sage -f pkgname` after the uninstall ?

Basically, at the end of `sage-spkg-uninstall` (which is called by `sage -f` among other things).  This is also called when upgrading a package so that's why I thought it might matter eventually, at least in a minor way.



---

archive/issue_comments_347436.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\n**Upstream PR:** https://gitlab.com/videlec/pplpy/merge_requests/6\n\nWe can either see if Vincent wants to make an 0.8.4 release for this fix, or I'm just as happy for now to include this as a patch in the Sage SPKG.",
    "created_at": "2019-02-28T15:08:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347436",
    "user": "https://github.com/embray"
}
```

<div id="comment:5" align="right">Comment 5</div>

**Upstream PR:** https://gitlab.com/videlec/pplpy/merge_requests/6

We can either see if Vincent wants to make an 0.8.4 release for this fix, or I'm just as happy for now to include this as a patch in the Sage SPKG.



---

archive/issue_events_303169.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-02-28T15:08:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303169"
}
```



---

archive/issue_events_303170.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-02-28T15:08:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303170"
}
```



---

archive/issue_comments_347437.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2019-02-28T15:08:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347437",
    "user": "https://github.com/embray"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_347438.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers acknowledge bug.**",
    "created_at": "2019-02-28T15:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347438",
    "user": "https://github.com/videlec"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers acknowledge bug.**



---

archive/issue_comments_347439.json:
```json
{
    "body": "<div id=\"comment:196\" align=\"right\">Comment 196</div>\n\nReplying to [@embray](#comment%3A195):\n> **Upstream PR:** https://gitlab.com/videlec/pplpy/merge_requests/6\n> \n> We can either see if Vincent wants to make an 0.8.4 release for this fix, or I'm just as happy for now to include this as a patch in the Sage SPKG.\n\nLet us do that.",
    "created_at": "2019-02-28T15:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347439",
    "user": "https://github.com/videlec"
}
```

<div id="comment:196" align="right">Comment 196</div>

Replying to [@embray](#comment%3A195):
> **Upstream PR:** https://gitlab.com/videlec/pplpy/merge_requests/6
> 
> We can either see if Vincent wants to make an 0.8.4 release for this fix, or I'm just as happy for now to include this as a patch in the Sage SPKG.

Let us do that.



---

archive/issue_comments_347440.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\n(the release 0.8.4)",
    "created_at": "2019-02-28T15:17:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347440",
    "user": "https://github.com/videlec"
}
```

<div id="comment:7" align="right">Comment 7</div>

(the release 0.8.4)



---

archive/issue_comments_347441.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,4 +5,4 @@\n - replace the Sage code calling sage/libs/ppl.pyx to call pplpy\n - make appropriate deprecation for `sage.libs.ppl`\n \n-pplpy' Tarball : [pplpy-0.8.3.tar.gz](https://files.pythonhosted.org/packages/34/e8/b374e7b495937eb80d1176cb68098b9cdd6c269c956d995f0accb4e56d18/pplpy-0.8.3.tar.gz)\n+pplpy' Tarball : [pplpy-0.8.4.tar.gz](https://files.pythonhosted.org/packages/fe/f4/765628c74624cea90cc6f260d222dcfc1dff520a54e0f8cc5d67c602d638/pplpy-0.8.4.tar.gz)\n``````\n",
    "created_at": "2019-02-28T15:24:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347441",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,4 +5,4 @@
 - replace the Sage code calling sage/libs/ppl.pyx to call pplpy
 - make appropriate deprecation for `sage.libs.ppl`
 
-pplpy' Tarball : [pplpy-0.8.3.tar.gz](https://files.pythonhosted.org/packages/34/e8/b374e7b495937eb80d1176cb68098b9cdd6c269c956d995f0accb4e56d18/pplpy-0.8.3.tar.gz)
+pplpy' Tarball : [pplpy-0.8.4.tar.gz](https://files.pythonhosted.org/packages/fe/f4/765628c74624cea90cc6f260d222dcfc1dff520a54e0f8cc5d67c602d638/pplpy-0.8.4.tar.gz)
``````




---

archive/issue_comments_347442.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nnew release (ticket description updated)",
    "created_at": "2019-02-28T15:24:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347442",
    "user": "https://github.com/videlec"
}
```

<div id="comment:8" align="right">Comment 8</div>

new release (ticket description updated)



---

archive/issue_comments_347443.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nThat was quick, thank you :)\n\nNot sure yet if it's a showstopper, but I'm also having a weird problem with error handling in the gmpy2 in Sage.  This following example should raise a `TypeError` exception:\n\n```\n$ python -c 'import gmpy2;  gmpy2.is_fermat_prp(1234, \"a\")'\nAborted (core dumped)\n```\n\nI also built the latest gmpy2 from source, and when I run it in that source tree I get the correct behavior:\n\n```\n$ python -c 'import gmpy2;  gmpy2.is_fermat_prp(1234, \"a\")'\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\nTypeError: is_fermat_prp() requires 2 integer arguments\n```\n\nPerhaps it was just a bug in gmpy2 that has since been fixed upstream?  Not sure.",
    "created_at": "2019-02-28T15:44:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347443",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">Comment 9</div>

That was quick, thank you :)

Not sure yet if it's a showstopper, but I'm also having a weird problem with error handling in the gmpy2 in Sage.  This following example should raise a `TypeError` exception:

```
$ python -c 'import gmpy2;  gmpy2.is_fermat_prp(1234, "a")'
Aborted (core dumped)
```

I also built the latest gmpy2 from source, and when I run it in that source tree I get the correct behavior:

```
$ python -c 'import gmpy2;  gmpy2.is_fermat_prp(1234, "a")'
Traceback (most recent call last):
  File "<string>", line 1, in <module>
TypeError: is_fermat_prp() requires 2 integer arguments
```

Perhaps it was just a bug in gmpy2 that has since been fixed upstream?  Not sure.



---

archive/issue_comments_347444.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">Comment 0</div>\n\nIndeed, that particular bug was already fixed upstream: https://github.com/aleaxit/gmpy/commit/533a62cf2b2cf3673e1d6b0f3c2d0c64548a3908\n\nI just wanted to make sure.   I think I only hit on it because I was running the tests from gmpy2's current' master branch against our slightly older version, and hit that bug specifically because they added a regression test when they fixed it.  Other than that all `spkg-check` tests pass on Cygwin for gmpy2 and pplpy :)",
    "created_at": "2019-02-28T15:50:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347444",
    "user": "https://github.com/embray"
}
```

<div id="comment:0" align="right">Comment 0</div>

Indeed, that particular bug was already fixed upstream: https://github.com/aleaxit/gmpy/commit/533a62cf2b2cf3673e1d6b0f3c2d0c64548a3908

I just wanted to make sure.   I think I only hit on it because I was running the tests from gmpy2's current' master branch against our slightly older version, and hit that bug specifically because they added a regression test when they fixed it.  Other than that all `spkg-check` tests pass on Cygwin for gmpy2 and pplpy :)



---

archive/issue_comments_347445.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nAll good on my end in terms of Sage doctests, I think.  I'm doing one more full run just to be sure but I can think of no reason it should work differently.\n\nSo just update to the just-released pplpy 0.8.4 and you can set back to postive_review.  The spkg-postrm would be good to have too but I don't consider it a blocker.",
    "created_at": "2019-02-28T15:57:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347445",
    "user": "https://github.com/embray"
}
```

<div id="comment:1" align="right">Comment 1</div>

All good on my end in terms of Sage doctests, I think.  I'm doing one more full run just to be sure but I can think of no reason it should work differently.

So just update to the just-released pplpy 0.8.4 and you can set back to postive_review.  The spkg-postrm would be good to have too but I don't consider it a blocker.



---

archive/issue_comments_347446.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nOk i don't think doing a gmpy2 patch for this commit is worth it. \n\n`@`Erik: Tell me when you're ok and i will update this ticket with `pplpy's` upgrade and `spkg-postrm`.",
    "created_at": "2019-02-28T15:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347446",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:2" align="right">Comment 2</div>

Ok i don't think doing a gmpy2 patch for this commit is worth it. 

`@`Erik: Tell me when you're ok and i will update this ticket with `pplpy's` upgrade and `spkg-postrm`.



---

archive/issue_comments_347447.json:
```json
{
    "body": "Changed assignee from **@embray** to **@vinklein**",
    "created_at": "2019-02-28T16:04:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347447",
    "user": "https://github.com/embray"
}
```

Changed assignee from **@embray** to **@vinklein**



---

archive/issue_comments_347448.json:
```json
{
    "body": "Changed reviewer from **Dima Pasechnik, Fran\u00e7ois Bissey, \u200bVincent Delecroix, Jeroen Demeyer** to **Dima Pasechnik, Fran\u00e7ois Bissey, \u200bVincent Delecroix, Jeroen Demeyer, Erik Bray**",
    "created_at": "2019-02-28T16:04:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347448",
    "user": "https://github.com/embray"
}
```

Changed reviewer from **Dima Pasechnik, François Bissey, ​Vincent Delecroix, Jeroen Demeyer** to **Dima Pasechnik, François Bissey, ​Vincent Delecroix, Jeroen Demeyer, Erik Bray**



---

archive/issue_comments_347449.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nYep. Once you're done with that feel free to set back to positive_review.",
    "created_at": "2019-02-28T16:04:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347449",
    "user": "https://github.com/embray"
}
```

<div id="comment:3" align="right">Comment 3</div>

Yep. Once you're done with that feel free to set back to positive_review.



---

archive/issue_comments_347450.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nOk thank you for your help.",
    "created_at": "2019-02-28T16:20:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347450",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:4" align="right">Comment 4</div>

Ok thank you for your help.



---

archive/issue_comments_347451.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76cfa5f92f839375665393e8e156741356b2b8e2\">76cfa5f</a></td><td><code>Trac #23024: upgrade pplpy to 0.8.4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/829317e5e5dd748e140b849ac0d5d113268278e2\">829317e</a></td><td><code>Trac #23024: add a spkg-postrm script to clean...</code></td></tr></table>\n",
    "created_at": "2019-02-28T16:49:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347451",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5" align="right">Comment 5</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76cfa5f92f839375665393e8e156741356b2b8e2">76cfa5f</a></td><td><code>Trac #23024: upgrade pplpy to 0.8.4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/829317e5e5dd748e140b849ac0d5d113268278e2">829317e</a></td><td><code>Trac #23024: add a spkg-postrm script to clean...</code></td></tr></table>




---

archive/issue_comments_347452.json:
```json
{
    "body": "Changed commit from **[b25b719](https://github.com/sagemath/sagetrac-mirror/commit/b25b7199b237e4e732fc805ce56e40cf477f7e6d)** to **[829317e](https://github.com/sagemath/sagetrac-mirror/commit/829317e5e5dd748e140b849ac0d5d113268278e2)**",
    "created_at": "2019-02-28T16:49:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347452",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b25b719](https://github.com/sagemath/sagetrac-mirror/commit/b25b7199b237e4e732fc805ce56e40cf477f7e6d)** to **[829317e](https://github.com/sagemath/sagetrac-mirror/commit/829317e5e5dd748e140b849ac0d5d113268278e2)**



---

archive/issue_comments_347453.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nUpgrade to pplpy 0.8.4 and add a spkg-postrm script to clean the documentation.\nA reviewer should validate `\u200b829317e` in order to set this ticket in positive review.",
    "created_at": "2019-02-28T16:52:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347453",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:6" align="right">Comment 6</div>

Upgrade to pplpy 0.8.4 and add a spkg-postrm script to clean the documentation.
A reviewer should validate `​829317e` in order to set this ticket in positive review.



---

archive/issue_comments_347454.json:
```json
{
    "body": "Removed assignee **@vinklein**",
    "created_at": "2019-02-28T17:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347454",
    "user": "https://github.com/vinklein"
}
```

Removed assignee **@vinklein**



---

archive/issue_events_303171.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-28T17:04:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303171"
}
```



---

archive/issue_events_303172.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-28T17:04:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303172"
}
```



---

archive/issue_comments_347455.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\ndoing some testing...",
    "created_at": "2019-02-28T17:04:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347455",
    "user": "https://github.com/videlec"
}
```

<div id="comment:9" align="right">Comment 9</div>

doing some testing...



---

archive/issue_events_303173.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-02-28T17:13:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303173"
}
```



---

archive/issue_events_303174.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-02-28T17:13:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303174"
}
```



---

archive/issue_comments_347456.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">Comment 0</div>\n\n`spkg-postrm` works as expected. Thanks Vincent!",
    "created_at": "2019-02-28T17:13:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347456",
    "user": "https://github.com/videlec"
}
```

<div id="comment:0" align="right">Comment 0</div>

`spkg-postrm` works as expected. Thanks Vincent!



---

archive/issue_comments_347457.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nAdding \"upgrade\" to keywords to emphasize the need to upload new tarball to our download mirrors.",
    "created_at": "2019-03-01T20:59:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347457",
    "user": "https://github.com/slel"
}
```

<div id="comment:1" align="right">Comment 1</div>

Adding "upgrade" to keywords to emphasize the need to upload new tarball to our download mirrors.



---

archive/issue_comments_347458.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://gitlab.com/videlec/pplpy) (Python/Cython compatible). This ticket proposes to replace `src/sage/libs/ppl.pyx` extension with pplpy. It\n+The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://gitlab.com/videlec/pplpy) (Python/Cython compatible). This ticket proposes to replace `src/sage/libs/ppl.pyx` extension with pplpy. For this, we\n \n-- creates a new standard package pplpy\n+- create a new standard package pplpy\n - upgrade gmpy2 from optional to standard\n - replace the Sage code calling sage/libs/ppl.pyx to call pplpy\n - make appropriate deprecation for `sage.libs.ppl`\n \n-pplpy' Tarball : [pplpy-0.8.4.tar.gz](https://files.pythonhosted.org/packages/fe/f4/765628c74624cea90cc6f260d222dcfc1dff520a54e0f8cc5d67c602d638/pplpy-0.8.4.tar.gz)\n+**Tarball** for pplpy: [pplpy-0.8.4.tar.gz](https://files.pythonhosted.org/packages/fe/f4/765628c74624cea90cc6f260d222dcfc1dff520a54e0f8cc5d67c602d638/pplpy-0.8.4.tar.gz)\n``````\n",
    "created_at": "2019-03-01T20:59:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347458",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://gitlab.com/videlec/pplpy) (Python/Cython compatible). This ticket proposes to replace `src/sage/libs/ppl.pyx` extension with pplpy. It
+The Sage wrappers around [ppl](http://bugseng.com/products/ppl/) are now superseded by the standalone [pplpy](https://gitlab.com/videlec/pplpy) (Python/Cython compatible). This ticket proposes to replace `src/sage/libs/ppl.pyx` extension with pplpy. For this, we
 
-- creates a new standard package pplpy
+- create a new standard package pplpy
 - upgrade gmpy2 from optional to standard
 - replace the Sage code calling sage/libs/ppl.pyx to call pplpy
 - make appropriate deprecation for `sage.libs.ppl`
 
-pplpy' Tarball : [pplpy-0.8.4.tar.gz](https://files.pythonhosted.org/packages/fe/f4/765628c74624cea90cc6f260d222dcfc1dff520a54e0f8cc5d67c602d638/pplpy-0.8.4.tar.gz)
+**Tarball** for pplpy: [pplpy-0.8.4.tar.gz](https://files.pythonhosted.org/packages/fe/f4/765628c74624cea90cc6f260d222dcfc1dff520a54e0f8cc5d67c602d638/pplpy-0.8.4.tar.gz)
``````




---

archive/issue_comments_347459.json:
```json
{
    "body": "Changed keywords from **thursdaysbdx, ppl, pplpy** to **thursdaysbdx, ppl, pplpy, upgrade**",
    "created_at": "2019-03-01T20:59:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347459",
    "user": "https://github.com/slel"
}
```

Changed keywords from **thursdaysbdx, ppl, pplpy** to **thursdaysbdx, ppl, pplpy, upgrade**



---

archive/issue_comments_347460.json:
```json
{
    "body": "Changed branch from **[u/vklein/replacement_of_sage_libs_ppl_pyx_by_pplpy](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/replacement_of_sage_libs_ppl_pyx_by_pplpy)** to **[829317e](https://github.com/sagemath/sagetrac-mirror/commit/829317e5e5dd748e140b849ac0d5d113268278e2)**",
    "created_at": "2019-03-02T09:39:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347460",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vklein/replacement_of_sage_libs_ppl_pyx_by_pplpy](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/replacement_of_sage_libs_ppl_pyx_by_pplpy)** to **[829317e](https://github.com/sagemath/sagetrac-mirror/commit/829317e5e5dd748e140b849ac0d5d113268278e2)**



---

archive/issue_events_303175.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-02T09:39:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303175"
}
```



---

archive/issue_events_303176.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0218ccfee5f4657951a27a55ea9d0561748a6bb2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-03-02T09:39:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23024#event-303176"
}
```



---

archive/issue_comments_347461.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nThere were several instances of removal similar to `self._PPL_C_Polyhedron.set_immutable()` - is this functionality no longer supported? This was done for objects that are cached and if a user ever modifies the polyhedron, things will get wrong.",
    "created_at": "2019-03-03T04:57:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347461",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:3" align="right">Comment 3</div>

There were several instances of removal similar to `self._PPL_C_Polyhedron.set_immutable()` - is this functionality no longer supported? This was done for objects that are cached and if a user ever modifies the polyhedron, things will get wrong.



---

archive/issue_comments_347462.json:
```json
{
    "body": "Changed commit from **[829317e](https://github.com/sagemath/sagetrac-mirror/commit/829317e5e5dd748e140b849ac0d5d113268278e2)** to none",
    "created_at": "2019-03-03T04:57:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347462",
    "user": "https://github.com/novoselt"
}
```

Changed commit from **[829317e](https://github.com/sagemath/sagetrac-mirror/commit/829317e5e5dd748e140b849ac0d5d113268278e2)** to none



---

archive/issue_comments_347463.json:
```json
{
    "body": "<div id=\"comment:214\" align=\"right\">Comment 214</div>\n\nReplying to [@novoselt](#comment%3A213):\n> There were several instances of removal similar to `self._PPL_C_Polyhedron.set_immutable()` - is this functionality no longer supported? This was done for objects that are cached and if a user ever modifies the polyhedron, things will get wrong.\n\nIndeed, it is not supported anymore. Also you can not cache a `PPL_C_Polyhedron`: https://gitlab.com/videlec/pplpy/blob/master/ppl/polyhedron.pyx#L86-102\n\nIn sage, the pplpy polyhedra are only used as attribute from which the user is not supposed to have direct access (unless she knows very well what she is doing). The higher level `Polyhedron_base` still implements this mutability flag.\n\nCould you give a concrete example of a problematic behavior?",
    "created_at": "2019-03-03T09:54:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347463",
    "user": "https://github.com/videlec"
}
```

<div id="comment:214" align="right">Comment 214</div>

Replying to [@novoselt](#comment%3A213):
> There were several instances of removal similar to `self._PPL_C_Polyhedron.set_immutable()` - is this functionality no longer supported? This was done for objects that are cached and if a user ever modifies the polyhedron, things will get wrong.

Indeed, it is not supported anymore. Also you can not cache a `PPL_C_Polyhedron`: https://gitlab.com/videlec/pplpy/blob/master/ppl/polyhedron.pyx#L86-102

In sage, the pplpy polyhedra are only used as attribute from which the user is not supposed to have direct access (unless she knows very well what she is doing). The higher level `Polyhedron_base` still implements this mutability flag.

Could you give a concrete example of a problematic behavior?



---

archive/issue_comments_347464.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nWell I don't have an example from \"real life\" given that these objects used to be immutable and that I generally knew what I am doing, but the situation I have described is not at all impossible. Although the method returning PPL representation is underscored. There is also a discrepancy with documentation at\nhttps://github.com/sagemath/sage/blob/develop/src/sage/geometry/cone.py#L1373\nwhich claims that supplied polytope will be made immutable.",
    "created_at": "2019-03-04T16:33:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347464",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:5" align="right">Comment 5</div>

Well I don't have an example from "real life" given that these objects used to be immutable and that I generally knew what I am doing, but the situation I have described is not at all impossible. Although the method returning PPL representation is underscored. There is also a discrepancy with documentation at
https://github.com/sagemath/sage/blob/develop/src/sage/geometry/cone.py#L1373
which claims that supplied polytope will be made immutable.



---

archive/issue_comments_347465.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nPlease continue the discussion at #27423 since this ticket is closed.",
    "created_at": "2019-03-04T19:23:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347465",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">Comment 6</div>

Please continue the discussion at #27423 since this ticket is closed.



---

archive/issue_comments_347466.json:
```json
{
    "body": "Changed reviewer from **Dima Pasechnik, Fran\u00e7ois Bissey, \u200bVincent Delecroix, Jeroen Demeyer, Erik Bray** to **Dima Pasechnik, Fran\u00e7ois Bissey, Vincent Delecroix, Jeroen Demeyer, Erik Bray**",
    "created_at": "2019-04-17T15:35:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23024",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23024#issuecomment-347466",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Dima Pasechnik, François Bissey, ​Vincent Delecroix, Jeroen Demeyer, Erik Bray** to **Dima Pasechnik, François Bissey, Vincent Delecroix, Jeroen Demeyer, Erik Bray**
