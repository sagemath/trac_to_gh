# Issue 23450: Smith form of p-adic matrices

archive/issues_023213.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nCurrently Smith form are not implemented over inexact rings.\n\nThis ticket provides a (currently unoptimized) implementation of Smith normal form over complete discrete valuation rings/fields (e.g. p-adic rings/fields).\n\nCC:  @roed314 @saraedum @sagetrac-TristanVaccon @kedlaya\n\nComponent: **padics**\n\nKeywords: **sd87**\n\nAuthor: **Xavier Caruso, Julian R\u00fcth, David Roe**\n\nBranch/Commit: **[`e6f54bb`](https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9)**\n\nReviewer: **Julian R\u00fcth, David Roe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23450_\n\n",
    "closed_at": "2018-05-08T17:27:14Z",
    "created_at": "2017-07-18T04:41:54Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20padics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Smith form of p-adic matrices",
    "type": "issue",
    "updated_at": "2018-05-08T17:27:14Z",
    "url": "https://github.com/sagemath/sage/issues/23450",
    "user": "https://github.com/xcaruso"
}
```
<div id="comment:0"></div>

Currently Smith form are not implemented over inexact rings.

This ticket provides a (currently unoptimized) implementation of Smith normal form over complete discrete valuation rings/fields (e.g. p-adic rings/fields).

CC:  @roed314 @saraedum @sagetrac-TristanVaccon @kedlaya

Component: **padics**

Keywords: **sd87**

Author: **Xavier Caruso, Julian Rüth, David Roe**

Branch/Commit: **[`e6f54bb`](https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9)**

Reviewer: **Julian Rüth, David Roe**

_Issue created by migration from https://trac.sagemath.org/ticket/23450_





---

archive/issue_events_323541.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-07-18T04:41:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323541"
}
```



---

archive/issue_events_323542.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-07-18T04:41:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323542"
}
```



---

archive/issue_events_323543.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-07-18T04:41:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323543"
}
```



---

archive/issue_comments_352264.json:
```json
{
    "body": "Branch: **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)**",
    "created_at": "2017-07-18T04:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352264",
    "user": "https://github.com/xcaruso"
}
```

Branch: **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)**



---

archive/issue_comments_352265.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThis is great. I was hoping that you would implement this for a while ;)\n\nHave you thought about not creating a separate class for this but implementing it in the base ring (or in the category), i.e., provide `_matrix_smith_form` on the ring/category and call it from the generic matrix code if it is defined (otherwise fall back to the generic implementation). In other words, do what is already done for things like polynomial factorization.\n\nAlso, should this code be used for \"exact\" CDVRs such as the ones backed by absolute number fields?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/879f4eb46b700d0d3c4a0779b8293158ea4af298\"><code>879f4eb</code></a></td><td><code>Smith form of a p-adic matrix</code></td></tr></table>\n",
    "created_at": "2017-07-18T06:09:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352265",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:2" align="right">comment:2</div>

This is great. I was hoping that you would implement this for a while ;)

Have you thought about not creating a separate class for this but implementing it in the base ring (or in the category), i.e., provide `_matrix_smith_form` on the ring/category and call it from the generic matrix code if it is defined (otherwise fall back to the generic implementation). In other words, do what is already done for things like polynomial factorization.

Also, should this code be used for "exact" CDVRs such as the ones backed by absolute number fields?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/879f4eb46b700d0d3c4a0779b8293158ea4af298"><code>879f4eb</code></a></td><td><code>Smith form of a p-adic matrix</code></td></tr></table>




---

archive/issue_comments_352266.json:
```json
{
    "body": "Commit: **[`879f4eb`](https://github.com/sagemath/sagetrac-mirror/commit/879f4eb46b700d0d3c4a0779b8293158ea4af298)**",
    "created_at": "2017-07-18T06:09:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352266",
    "user": "https://github.com/saraedum"
}
```

Commit: **[`879f4eb`](https://github.com/sagemath/sagetrac-mirror/commit/879f4eb46b700d0d3c4a0779b8293158ea4af298)**



---

archive/issue_events_323544.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-18T15:11:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20padics",
    "label_color": "0000ff",
    "label_name": "c: padics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323544"
}
```



---

archive/issue_comments_352267.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/595bc117c7becc12c9e6afcefcc372b46320384e\"><code>595bc11</code></a></td><td><code>Code moved into the category</code></td></tr></table>\n",
    "created_at": "2017-07-19T04:57:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352267",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/595bc117c7becc12c9e6afcefcc372b46320384e"><code>595bc11</code></a></td><td><code>Code moved into the category</code></td></tr></table>




---

archive/issue_comments_352268.json:
```json
{
    "body": "Changed commit from **[`879f4eb`](https://github.com/sagemath/sagetrac-mirror/commit/879f4eb46b700d0d3c4a0779b8293158ea4af298)** to **[`595bc11`](https://github.com/sagemath/sagetrac-mirror/commit/595bc117c7becc12c9e6afcefcc372b46320384e)**",
    "created_at": "2017-07-19T04:57:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352268",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`879f4eb`](https://github.com/sagemath/sagetrac-mirror/commit/879f4eb46b700d0d3c4a0779b8293158ea4af298)** to **[`595bc11`](https://github.com/sagemath/sagetrac-mirror/commit/595bc117c7becc12c9e6afcefcc372b46320384e)**



---

archive/issue_events_323545.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-07-19T05:14:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323545"
}
```



---

archive/issue_comments_352269.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Currently Smith form are not implemented over inexact rings.\n \n-This ticket provides a (currently unoptimized) implementation of Smith normal form over complete discrete valuation rings/fields (e.g. p-adic rings/fields), together with a new implementation of the method `determinant` making use of Smith normal form and improving this way its behaviour regarding precision.\n+This ticket provides a (currently unoptimized) implementation of Smith normal form over complete discrete valuation rings/fields (e.g. p-adic rings/fields).\n``````\n",
    "created_at": "2017-07-19T05:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352269",
    "user": "https://github.com/xcaruso"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Currently Smith form are not implemented over inexact rings.
 
-This ticket provides a (currently unoptimized) implementation of Smith normal form over complete discrete valuation rings/fields (e.g. p-adic rings/fields), together with a new implementation of the method `determinant` making use of Smith normal form and improving this way its behaviour regarding precision.
+This ticket provides a (currently unoptimized) implementation of Smith normal form over complete discrete valuation rings/fields (e.g. p-adic rings/fields).
``````




---

archive/issue_comments_352270.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nOk, I've moved the code to the category (CDVF and CDVR) as you suggested.\n\nI've also tried to be more rigourous regarding precision and figured out what is the correct precision on the transformation matrices. (My first implementation was too optimistic.) Actually, it turns out that finding the optimal precision is costly, except in the particular case where the input matrix is given at flat precision (i.e. all the entries are given at the same precision). For this reason, I've overestimated the loss of precision for a general input matrix (by reducing to the case of flat precision).\n\nI've also removed the method that computes the determinant of a matrix because again it only worked for matrices given at flat precision.\n\nThe ticket is ready for review.",
    "created_at": "2017-07-19T05:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352270",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:5" align="right">comment:5</div>

Ok, I've moved the code to the category (CDVF and CDVR) as you suggested.

I've also tried to be more rigourous regarding precision and figured out what is the correct precision on the transformation matrices. (My first implementation was too optimistic.) Actually, it turns out that finding the optimal precision is costly, except in the particular case where the input matrix is given at flat precision (i.e. all the entries are given at the same precision). For this reason, I've overestimated the loss of precision for a general input matrix (by reducing to the case of flat precision).

I've also removed the method that computes the determinant of a matrix because again it only worked for matrices given at flat precision.

The ticket is ready for review.



---

archive/issue_comments_352271.json:
```json
{
    "body": "Changed commit from **[`595bc11`](https://github.com/sagemath/sagetrac-mirror/commit/595bc117c7becc12c9e6afcefcc372b46320384e)** to **[`e2cdd99`](https://github.com/sagemath/sagetrac-mirror/commit/e2cdd995a80e859027ffd5685f1d96cc480d4277)**",
    "created_at": "2017-07-19T20:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352271",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`595bc11`](https://github.com/sagemath/sagetrac-mirror/commit/595bc117c7becc12c9e6afcefcc372b46320384e)** to **[`e2cdd99`](https://github.com/sagemath/sagetrac-mirror/commit/e2cdd995a80e859027ffd5685f1d96cc480d4277)**



---

archive/issue_comments_352272.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1832757b3eaa3f1f01e8a8864ed33e697366025b\"><code>1832757</code></a></td><td><code>Factorisation of code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2cdd995a80e859027ffd5685f1d96cc480d4277\"><code>e2cdd99</code></a></td><td><code>Small fix</code></td></tr></table>\n",
    "created_at": "2017-07-19T20:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352272",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1832757b3eaa3f1f01e8a8864ed33e697366025b"><code>1832757</code></a></td><td><code>Factorisation of code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2cdd995a80e859027ffd5685f1d96cc480d4277"><code>e2cdd99</code></a></td><td><code>Small fix</code></td></tr></table>




---

archive/issue_comments_352273.json:
```json
{
    "body": "Changed commit from **[`e2cdd99`](https://github.com/sagemath/sagetrac-mirror/commit/e2cdd995a80e859027ffd5685f1d96cc480d4277)** to **[`1fd67fe`](https://github.com/sagemath/sagetrac-mirror/commit/1fd67fe26e5c1afb90f68127fdbd8a40bd01c75e)**",
    "created_at": "2017-07-20T02:03:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352273",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e2cdd99`](https://github.com/sagemath/sagetrac-mirror/commit/e2cdd995a80e859027ffd5685f1d96cc480d4277)** to **[`1fd67fe`](https://github.com/sagemath/sagetrac-mirror/commit/1fd67fe26e5c1afb90f68127fdbd8a40bd01c75e)**



---

archive/issue_comments_352274.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ae1018f5f63a9082d94ec9876c4ec38451cc340\"><code>7ae1018</code></a></td><td><code>Move relevant code to sage.matrix.matrix_cdv_dense</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e73fd2f9a4ac5b090f72a093ee57df532a1a384\"><code>7e73fd2</code></a></td><td><code>Fix import</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1fd67fe26e5c1afb90f68127fdbd8a40bd01c75e\"><code>1fd67fe</code></a></td><td><code>Add method tracks_precision()</code></td></tr></table>\n",
    "created_at": "2017-07-20T02:03:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352274",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ae1018f5f63a9082d94ec9876c4ec38451cc340"><code>7ae1018</code></a></td><td><code>Move relevant code to sage.matrix.matrix_cdv_dense</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e73fd2f9a4ac5b090f72a093ee57df532a1a384"><code>7e73fd2</code></a></td><td><code>Fix import</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1fd67fe26e5c1afb90f68127fdbd8a40bd01c75e"><code>1fd67fe</code></a></td><td><code>Add method tracks_precision()</code></td></tr></table>




---

archive/issue_comments_352275.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f731ee1a5dfa9af675a7a510a74fb7bb99d24fa\"><code>1f731ee</code></a></td><td><code>Check correctly (hopefully) that precision on input is enough</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f07da52c7769205e3549df079699202afbd4195\"><code>1f07da5</code></a></td><td><code>Small fixes</code></td></tr></table>\n",
    "created_at": "2017-07-20T05:39:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352275",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f731ee1a5dfa9af675a7a510a74fb7bb99d24fa"><code>1f731ee</code></a></td><td><code>Check correctly (hopefully) that precision on input is enough</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f07da52c7769205e3549df079699202afbd4195"><code>1f07da5</code></a></td><td><code>Small fixes</code></td></tr></table>




---

archive/issue_comments_352276.json:
```json
{
    "body": "Changed commit from **[`1fd67fe`](https://github.com/sagemath/sagetrac-mirror/commit/1fd67fe26e5c1afb90f68127fdbd8a40bd01c75e)** to **[`1f07da5`](https://github.com/sagemath/sagetrac-mirror/commit/1f07da52c7769205e3549df079699202afbd4195)**",
    "created_at": "2017-07-20T05:39:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352276",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1fd67fe`](https://github.com/sagemath/sagetrac-mirror/commit/1fd67fe26e5c1afb90f68127fdbd8a40bd01c75e)** to **[`1f07da5`](https://github.com/sagemath/sagetrac-mirror/commit/1f07da52c7769205e3549df079699202afbd4195)**



---

archive/issue_comments_352277.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI think (hope) that this ticket is now *really* ready for review :-)",
    "created_at": "2017-07-20T05:41:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352277",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:9" align="right">comment:9</div>

I think (hope) that this ticket is now *really* ready for review :-)



---

archive/issue_comments_352278.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI'll try to review this tomorrow.",
    "created_at": "2017-07-20T06:13:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352278",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:10" align="right">comment:10</div>

I'll try to review this tomorrow.



---

archive/issue_comments_352279.json:
```json
{
    "body": "Reviewer: **Julian R\u00fcth**",
    "created_at": "2017-07-20T06:13:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352279",
    "user": "https://github.com/saraedum"
}
```

Reviewer: **Julian Rüth**



---

archive/issue_comments_352280.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55b99df7b752c66cf6256b1adf7a7f0951f71808\"><code>55b99df</code></a></td><td><code>Small fix in lift_to_maximal_precision</code></td></tr></table>\n",
    "created_at": "2017-07-20T15:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352280",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55b99df7b752c66cf6256b1adf7a7f0951f71808"><code>55b99df</code></a></td><td><code>Small fix in lift_to_maximal_precision</code></td></tr></table>




---

archive/issue_comments_352281.json:
```json
{
    "body": "Changed commit from **[`1f07da5`](https://github.com/sagemath/sagetrac-mirror/commit/1f07da52c7769205e3549df079699202afbd4195)** to **[`55b99df`](https://github.com/sagemath/sagetrac-mirror/commit/55b99df7b752c66cf6256b1adf7a7f0951f71808)**",
    "created_at": "2017-07-20T15:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352281",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1f07da5`](https://github.com/sagemath/sagetrac-mirror/commit/1f07da52c7769205e3549df079699202afbd4195)** to **[`55b99df`](https://github.com/sagemath/sagetrac-mirror/commit/55b99df7b752c66cf6256b1adf7a7f0951f71808)**



---

archive/issue_comments_352282.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ea48acfe280981d969970384e10309a9c8211db\"><code>1ea48ac</code></a></td><td><code>Two small bugs fixed</code></td></tr></table>\n",
    "created_at": "2017-07-20T16:18:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352282",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ea48acfe280981d969970384e10309a9c8211db"><code>1ea48ac</code></a></td><td><code>Two small bugs fixed</code></td></tr></table>




---

archive/issue_comments_352283.json:
```json
{
    "body": "Changed commit from **[`55b99df`](https://github.com/sagemath/sagetrac-mirror/commit/55b99df7b752c66cf6256b1adf7a7f0951f71808)** to **[`1ea48ac`](https://github.com/sagemath/sagetrac-mirror/commit/1ea48acfe280981d969970384e10309a9c8211db)**",
    "created_at": "2017-07-20T16:18:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352283",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`55b99df`](https://github.com/sagemath/sagetrac-mirror/commit/55b99df7b752c66cf6256b1adf7a7f0951f71808)** to **[`1ea48ac`](https://github.com/sagemath/sagetrac-mirror/commit/1ea48acfe280981d969970384e10309a9c8211db)**



---

archive/issue_comments_352284.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65ffbc6afa1e337deb0d5ec882914624fc9e08e0\"><code>65ffbc6</code></a></td><td><code>Use the name \"integral_smith_form\" for matrices over CDVF</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f27820a66d4de7f972f4b59df5b5d53f31463ae1\"><code>f27820a</code></a></td><td><code>Small fixes</code></td></tr></table>\n",
    "created_at": "2017-07-21T00:42:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352284",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65ffbc6afa1e337deb0d5ec882914624fc9e08e0"><code>65ffbc6</code></a></td><td><code>Use the name "integral_smith_form" for matrices over CDVF</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f27820a66d4de7f972f4b59df5b5d53f31463ae1"><code>f27820a</code></a></td><td><code>Small fixes</code></td></tr></table>




---

archive/issue_comments_352285.json:
```json
{
    "body": "Changed commit from **[`1ea48ac`](https://github.com/sagemath/sagetrac-mirror/commit/1ea48acfe280981d969970384e10309a9c8211db)** to **[`f27820a`](https://github.com/sagemath/sagetrac-mirror/commit/f27820a66d4de7f972f4b59df5b5d53f31463ae1)**",
    "created_at": "2017-07-21T00:42:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352285",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1ea48ac`](https://github.com/sagemath/sagetrac-mirror/commit/1ea48acfe280981d969970384e10309a9c8211db)** to **[`f27820a`](https://github.com/sagemath/sagetrac-mirror/commit/f27820a66d4de7f972f4b59df5b5d53f31463ae1)**



---

archive/issue_comments_352286.json:
```json
{
    "body": "Work Issues: **drop lift_to_maximal_precision**",
    "created_at": "2017-07-21T04:51:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352286",
    "user": "https://github.com/saraedum"
}
```

Work Issues: **drop lift_to_maximal_precision**



---

archive/issue_comments_352287.json:
```json
{
    "body": "Changed work issues from **drop lift_to_maximal_precision** to none",
    "created_at": "2017-07-21T15:55:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352287",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **drop lift_to_maximal_precision** to none



---

archive/issue_comments_352288.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nXavier, I am refactoring this a fair bit. Hope you don't mind.",
    "created_at": "2017-07-21T15:55:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352288",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:15" align="right">comment:15</div>

Xavier, I am refactoring this a fair bit. Hope you don't mind.



---

archive/issue_events_323546.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T15:55:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323546"
}
```



---

archive/issue_events_323547.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T15:55:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323547"
}
```



---

archive/issue_comments_352289.json:
```json
{
    "body": "Changed branch from **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)** to **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)**",
    "created_at": "2017-07-21T15:55:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352289",
    "user": "https://github.com/saraedum"
}
```

Changed branch from **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)** to **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)**



---

archive/issue_comments_352290.json:
```json
{
    "body": "Changed branch from **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)** to **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)**",
    "created_at": "2017-07-21T16:08:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352290",
    "user": "https://github.com/saraedum"
}
```

Changed branch from **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)** to **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)**



---

archive/issue_comments_352291.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n(and sorry, the category idea was a very bad call. I'm fixing it right now.)",
    "created_at": "2017-07-21T16:08:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352291",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:17" align="right">comment:17</div>

(and sorry, the category idea was a very bad call. I'm fixing it right now.)



---

archive/issue_comments_352292.json:
```json
{
    "body": "Changed branch from **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)** to **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)**",
    "created_at": "2017-07-21T16:44:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352292",
    "user": "https://github.com/saraedum"
}
```

Changed branch from **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)** to **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)**



---

archive/issue_comments_352293.json:
```json
{
    "body": "Changed commit from **[`f27820a`](https://github.com/sagemath/sagetrac-mirror/commit/f27820a66d4de7f972f4b59df5b5d53f31463ae1)** to **[`e635699`](https://github.com/sagemath/sagetrac-mirror/commit/e635699dfab09b4ba86ee3f83eb95d0d5f8463dc)**",
    "created_at": "2017-07-21T16:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352293",
    "user": "https://github.com/saraedum"
}
```

Changed commit from **[`f27820a`](https://github.com/sagemath/sagetrac-mirror/commit/f27820a66d4de7f972f4b59df5b5d53f31463ae1)** to **[`e635699`](https://github.com/sagemath/sagetrac-mirror/commit/e635699dfab09b4ba86ee3f83eb95d0d5f8463dc)**



---

archive/issue_comments_352294.json:
```json
{
    "body": "Work Issues: **failing unit tests**",
    "created_at": "2017-07-21T16:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352294",
    "user": "https://github.com/saraedum"
}
```

Work Issues: **failing unit tests**



---

archive/issue_comments_352295.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e00041a3760917b90af9f0f813a385e56cc604c\"><code>8e00041</code></a></td><td><code>Replace lift_to_maximal_precision() with lift_to_precision(None)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5802a8c3c4e1fb0af27df1cadde76e6b13d46f1b\"><code>5802a8c</code></a></td><td><code>Move Smith Normal Form Code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2713b74acde71c6941ea85fd3838e4d8af9a7e3c\"><code>2713b74</code></a></td><td><code>Remove CDV matrix classes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad1632c6e6242add19bdae3ef8de791a546dbbef\"><code>ad1632c</code></a></td><td><code>Implement tracks_precision() on base classes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27717577e95f5601ec221c7ce302028d0cec71f7\"><code>2771757</code></a></td><td><code>prettify documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/922ea393f882a3ac5e7319fe80fdf8070fd9d35f\"><code>922ea39</code></a></td><td><code>remove lift_to_maximal_precision</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e04b26fac5454937a4e348fa272774398d9aabc8\"><code>e04b26f</code></a></td><td><code>remove lift_to_maximal_precision</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea1f480000a1ea92e84dacd24370c6fdf354ccec\"><code>ea1f480</code></a></td><td><code>fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7198f2b9eb87b2c5e72308de7fa6edc5c2b1a7e2\"><code>7198f2b</code></a></td><td><code>rebase _matrix_smith_form</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e635699dfab09b4ba86ee3f83eb95d0d5f8463dc\"><code>e635699</code></a></td><td><code>implement Smith form tests</code></td></tr></table>\n",
    "created_at": "2017-07-21T16:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352295",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:19"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e00041a3760917b90af9f0f813a385e56cc604c"><code>8e00041</code></a></td><td><code>Replace lift_to_maximal_precision() with lift_to_precision(None)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5802a8c3c4e1fb0af27df1cadde76e6b13d46f1b"><code>5802a8c</code></a></td><td><code>Move Smith Normal Form Code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2713b74acde71c6941ea85fd3838e4d8af9a7e3c"><code>2713b74</code></a></td><td><code>Remove CDV matrix classes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad1632c6e6242add19bdae3ef8de791a546dbbef"><code>ad1632c</code></a></td><td><code>Implement tracks_precision() on base classes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27717577e95f5601ec221c7ce302028d0cec71f7"><code>2771757</code></a></td><td><code>prettify documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/922ea393f882a3ac5e7319fe80fdf8070fd9d35f"><code>922ea39</code></a></td><td><code>remove lift_to_maximal_precision</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e04b26fac5454937a4e348fa272774398d9aabc8"><code>e04b26f</code></a></td><td><code>remove lift_to_maximal_precision</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea1f480000a1ea92e84dacd24370c6fdf354ccec"><code>ea1f480</code></a></td><td><code>fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7198f2b9eb87b2c5e72308de7fa6edc5c2b1a7e2"><code>7198f2b</code></a></td><td><code>rebase _matrix_smith_form</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e635699dfab09b4ba86ee3f83eb95d0d5f8463dc"><code>e635699</code></a></td><td><code>implement Smith form tests</code></td></tr></table>




---

archive/issue_comments_352296.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n\n```\nsage -t --warn-long 61.6 src/sage/rings/padics/padic_base_leaves.py  # 3 doctests failed\nsage -t --warn-long 61.6 src/sage/rings/padics/padic_extension_leaves.py  # 2 doctests failed\n```",
    "created_at": "2017-07-21T16:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352296",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:20" align="right">comment:20</div>


```
sage -t --warn-long 61.6 src/sage/rings/padics/padic_base_leaves.py  # 3 doctests failed
sage -t --warn-long 61.6 src/sage/rings/padics/padic_extension_leaves.py  # 2 doctests failed
```



---

archive/issue_comments_352297.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39665f03bbcf456a592a86af5b8c55c8d114ef29\"><code>39665f0</code></a></td><td><code>S is not square</code></td></tr></table>\n",
    "created_at": "2017-07-21T16:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352297",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39665f03bbcf456a592a86af5b8c55c8d114ef29"><code>39665f0</code></a></td><td><code>S is not square</code></td></tr></table>




---

archive/issue_comments_352298.json:
```json
{
    "body": "Changed commit from **[`e635699`](https://github.com/sagemath/sagetrac-mirror/commit/e635699dfab09b4ba86ee3f83eb95d0d5f8463dc)** to **[`39665f0`](https://github.com/sagemath/sagetrac-mirror/commit/39665f03bbcf456a592a86af5b8c55c8d114ef29)**",
    "created_at": "2017-07-21T16:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352298",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e635699`](https://github.com/sagemath/sagetrac-mirror/commit/e635699dfab09b4ba86ee3f83eb95d0d5f8463dc)** to **[`39665f0`](https://github.com/sagemath/sagetrac-mirror/commit/39665f03bbcf456a592a86af5b8c55c8d114ef29)**



---

archive/issue_comments_352299.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThe problem is always:\n\n```\n    Failure in _test_matrix_smith:\n    Traceback (most recent call last):\n      File \"/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 293, in run\n        test_method(tester = tester)\n      File \"/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/local/lib/python2.7/site-packages/sage/rings/padics/local_generic.py\", line 768, in _test_matrix_smith\n        S,U,V = M.smith_form()\n      File \"sage/matrix/matrix2.pyx\", line 13267, in sage.matrix.matrix2.Matrix.smith_form (/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/src/build/cythonized/sage/matrix/matrix2.c:94870)\n        return R._matrix_smith_form(self,transformation=transformation)\n      File \"/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/local/lib/python2.7/site-packages/sage/rings/padics/local_generic.py\", line 727, in _matrix_smith_form\n        inv = (S[piv,piv] >> val).inverse_of_unit()\n      File \"sage/rings/padics/local_generic_element.pyx\", line 160, in sage.rings.padics.local_generic_element.LocalGenericElement.inverse_of_unit (build/cythonized/sage/rings/padics/local_generic_element.c:2339)\n        raise ZeroDivisionError(\"Inverse does not exist.\")\n    ZeroDivisionError: Inverse does not exist.\n```",
    "created_at": "2017-07-21T16:54:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352299",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:22" align="right">comment:22</div>

The problem is always:

```
    Failure in _test_matrix_smith:
    Traceback (most recent call last):
      File "/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 293, in run
        test_method(tester = tester)
      File "/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/local/lib/python2.7/site-packages/sage/rings/padics/local_generic.py", line 768, in _test_matrix_smith
        S,U,V = M.smith_form()
      File "sage/matrix/matrix2.pyx", line 13267, in sage.matrix.matrix2.Matrix.smith_form (/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/src/build/cythonized/sage/matrix/matrix2.c:94870)
        return R._matrix_smith_form(self,transformation=transformation)
      File "/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/local/lib/python2.7/site-packages/sage/rings/padics/local_generic.py", line 727, in _matrix_smith_form
        inv = (S[piv,piv] >> val).inverse_of_unit()
      File "sage/rings/padics/local_generic_element.pyx", line 160, in sage.rings.padics.local_generic_element.LocalGenericElement.inverse_of_unit (build/cythonized/sage/rings/padics/local_generic_element.c:2339)
        raise ZeroDivisionError("Inverse does not exist.")
    ZeroDivisionError: Inverse does not exist.
```



---

archive/issue_comments_352300.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nXavier: I am a bit confused. Is `integral_smith_form` the same as `change_ring(integer_ring).smith_form`?",
    "created_at": "2017-07-21T20:45:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352300",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:23" align="right">comment:23</div>

Xavier: I am a bit confused. Is `integral_smith_form` the same as `change_ring(integer_ring).smith_form`?



---

archive/issue_comments_352301.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nIf the coefficients of the matrix lie in the integer ring, it is. But `integral_smith_form` is defined for any matrix defined over the fraction field.",
    "created_at": "2017-07-21T20:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352301",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:24" align="right">comment:24</div>

If the coefficients of the matrix lie in the integer ring, it is. But `integral_smith_form` is defined for any matrix defined over the fraction field.



---

archive/issue_comments_352302.json:
```json
{
    "body": "Changed commit from **[`39665f0`](https://github.com/sagemath/sagetrac-mirror/commit/39665f03bbcf456a592a86af5b8c55c8d114ef29)** to **[`554dffc`](https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706)**",
    "created_at": "2017-07-21T20:51:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352302",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`39665f0`](https://github.com/sagemath/sagetrac-mirror/commit/39665f03bbcf456a592a86af5b8c55c8d114ef29)** to **[`554dffc`](https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706)**



---

archive/issue_comments_352303.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706\"><code>554dffc</code></a></td><td><code>Update documentation of smith_form</code></td></tr></table>\n",
    "created_at": "2017-07-21T20:51:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352303",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706"><code>554dffc</code></a></td><td><code>Update documentation of smith_form</code></td></tr></table>




---

archive/issue_comments_352304.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nOk. I got confused by the comment:\n\n```\n- if `d_i` denotes the `(i,i)` entry of `S`, then `d_i`\ndivides `d_{i+1}` in the ring of integers for all `i`.\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706\"><code>554dffc</code></a></td><td><code>Update documentation of smith_form</code></td></tr></table>\n",
    "created_at": "2017-07-21T21:04:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352304",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:26" align="right">comment:26</div>

Ok. I got confused by the comment:

```
- if `d_i` denotes the `(i,i)` entry of `S`, then `d_i`
divides `d_{i+1}` in the ring of integers for all `i`.
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706"><code>554dffc</code></a></td><td><code>Update documentation of smith_form</code></td></tr></table>




---

archive/issue_comments_352305.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9cc114e999d46f5f710d631e1f4ebd48036213d8\"><code>9cc114e</code></a></td><td><code>clarify diagonal entries</code></td></tr></table>\n",
    "created_at": "2017-07-21T21:24:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352305",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9cc114e999d46f5f710d631e1f4ebd48036213d8"><code>9cc114e</code></a></td><td><code>clarify diagonal entries</code></td></tr></table>




---

archive/issue_comments_352306.json:
```json
{
    "body": "Changed commit from **[`554dffc`](https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706)** to **[`9cc114e`](https://github.com/sagemath/sagetrac-mirror/commit/9cc114e999d46f5f710d631e1f4ebd48036213d8)**",
    "created_at": "2017-07-21T21:24:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352306",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`554dffc`](https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706)** to **[`9cc114e`](https://github.com/sagemath/sagetrac-mirror/commit/9cc114e999d46f5f710d631e1f4ebd48036213d8)**



---

archive/issue_comments_352307.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4a9ad729e31ca6edbe94e68a8b85134eaa0e468\"><code>e4a9ad7</code></a></td><td><code>Implement integral for smith normal form over local rings</code></td></tr></table>\n",
    "created_at": "2017-07-21T22:06:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352307",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4a9ad729e31ca6edbe94e68a8b85134eaa0e468"><code>e4a9ad7</code></a></td><td><code>Implement integral for smith normal form over local rings</code></td></tr></table>




---

archive/issue_comments_352308.json:
```json
{
    "body": "Changed commit from **[`9cc114e`](https://github.com/sagemath/sagetrac-mirror/commit/9cc114e999d46f5f710d631e1f4ebd48036213d8)** to **[`e4a9ad7`](https://github.com/sagemath/sagetrac-mirror/commit/e4a9ad729e31ca6edbe94e68a8b85134eaa0e468)**",
    "created_at": "2017-07-21T22:06:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352308",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9cc114e`](https://github.com/sagemath/sagetrac-mirror/commit/9cc114e999d46f5f710d631e1f4ebd48036213d8)** to **[`e4a9ad7`](https://github.com/sagemath/sagetrac-mirror/commit/e4a9ad729e31ca6edbe94e68a8b85134eaa0e468)**



---

archive/issue_comments_352309.json:
```json
{
    "body": "Changed commit from **[`e4a9ad7`](https://github.com/sagemath/sagetrac-mirror/commit/e4a9ad729e31ca6edbe94e68a8b85134eaa0e468)** to **[`502c887`](https://github.com/sagemath/sagetrac-mirror/commit/502c8872f4db9c738b36947dca442e875b4cd70a)**",
    "created_at": "2017-07-21T22:20:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352309",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e4a9ad7`](https://github.com/sagemath/sagetrac-mirror/commit/e4a9ad729e31ca6edbe94e68a8b85134eaa0e468)** to **[`502c887`](https://github.com/sagemath/sagetrac-mirror/commit/502c8872f4db9c738b36947dca442e875b4cd70a)**



---

archive/issue_comments_352310.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a519ab496b1a70c4e3eaf0c6ceb71d1d7fb54d8\"><code>2a519ab</code></a></td><td><code>add itegral handling for Smith form over local rings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/502c8872f4db9c738b36947dca442e875b4cd70a\"><code>502c887</code></a></td><td><code>Add integral keyword to smith_form implementations</code></td></tr></table>\n",
    "created_at": "2017-07-21T22:20:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352310",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a519ab496b1a70c4e3eaf0c6ceb71d1d7fb54d8"><code>2a519ab</code></a></td><td><code>add itegral handling for Smith form over local rings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/502c8872f4db9c738b36947dca442e875b4cd70a"><code>502c887</code></a></td><td><code>Add integral keyword to smith_form implementations</code></td></tr></table>




---

archive/issue_comments_352311.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nXavier: That's about what I had in mind. What do you think? (There are still some failing tests.)",
    "created_at": "2017-07-21T22:27:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352311",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:30" align="right">comment:30</div>

Xavier: That's about what I had in mind. What do you think? (There are still some failing tests.)



---

archive/issue_comments_352312.json:
```json
{
    "body": "Changed author from **Xavier Caruso** to **Xavier Caruso, Julian R\u00fcth**",
    "created_at": "2017-07-21T22:27:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352312",
    "user": "https://github.com/saraedum"
}
```

Changed author from **Xavier Caruso** to **Xavier Caruso, Julian Rüth**



---

archive/issue_events_323548.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T22:27:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323548"
}
```



---

archive/issue_events_323549.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T22:27:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323549"
}
```



---

archive/issue_comments_352313.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nOk for factoring the code this way if you prefer.\n\nHowever, I think that the current code doesn't output the expected answer for matrices over Qp with `integral=None` (though I haven't checked it). In that case, I would say that the entries of Smith normal norm should all be 0 or 1.\n\nIn the doctest, I think that we should precise that we require (1) that the matrices U and V are invertible over the subring and (2) that d_{i+1}/d_i lies in the subring for all i.",
    "created_at": "2017-07-21T22:56:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352313",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:31" align="right">comment:31</div>

Ok for factoring the code this way if you prefer.

However, I think that the current code doesn't output the expected answer for matrices over Qp with `integral=None` (though I haven't checked it). In that case, I would say that the entries of Smith normal norm should all be 0 or 1.

In the doctest, I think that we should precise that we require (1) that the matrices U and V are invertible over the subring and (2) that d_{i+1}/d_i lies in the subring for all i.



---

archive/issue_comments_352314.json:
```json
{
    "body": "Changed work issues from **failing unit tests** to **failing unit tests, clarify meaning of integral, talk about precision**",
    "created_at": "2017-07-22T15:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352314",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **failing unit tests** to **failing unit tests, clarify meaning of integral, talk about precision**



---

archive/issue_comments_352315.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nXavier: Could you write something about what it means for an entry on the diagonal to be zero (in the field case)? I mean it is somewhat unclear since we compute with inexact elements.",
    "created_at": "2017-07-22T15:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352315",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:32" align="right">comment:32</div>

Xavier: Could you write something about what it means for an entry on the diagonal to be zero (in the field case)? I mean it is somewhat unclear since we compute with inexact elements.



---

archive/issue_comments_352316.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\ndoc does not build\n\n```\n+[dochtml] [matrices ] docstring of sage.matrix.matrix2.Matrix.smith_form:26: WARNING: Bullet list ends without a blank line; unexpected unindent.\n+[dochtml] [matrices ] docstring of sage.matrix.matrix2.Matrix.smith_form:29: WARNING: Bullet list ends without a blank line; unexpected unindent.\n```\nThe issue is in the INPUT field there.",
    "created_at": "2017-08-25T06:58:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352316",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:33" align="right">comment:33</div>

doc does not build

```
+[dochtml] [matrices ] docstring of sage.matrix.matrix2.Matrix.smith_form:26: WARNING: Bullet list ends without a blank line; unexpected unindent.
+[dochtml] [matrices ] docstring of sage.matrix.matrix2.Matrix.smith_form:29: WARNING: Bullet list ends without a blank line; unexpected unindent.
```
The issue is in the INPUT field there.



---

archive/issue_comments_352317.json:
```json
{
    "body": "Changed branch from **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)** to **[u/aly.deines/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/aly.deines/padic_smith)**",
    "created_at": "2017-08-25T16:13:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352317",
    "user": "https://github.com/adeines"
}
```

Changed branch from **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)** to **[u/aly.deines/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/aly.deines/padic_smith)**



---

archive/issue_comments_352318.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1fd5309a48cdd7843102fb04a25839e5f7738545\"><code>1fd5309</code></a></td><td><code>Merge branch 'u/saraedum/padic_smith' of git://trac.sagemath.org/sage into t/23450/padic_smith</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89ec3ab13eb92d68c4ad2f12b10151041d31aefe\"><code>89ec3ab</code></a></td><td><code>Removed trailing whitespace.</code></td></tr></table>\n",
    "created_at": "2017-08-25T17:33:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352318",
    "user": "https://github.com/adeines"
}
```

<div id="comment:35"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1fd5309a48cdd7843102fb04a25839e5f7738545"><code>1fd5309</code></a></td><td><code>Merge branch 'u/saraedum/padic_smith' of git://trac.sagemath.org/sage into t/23450/padic_smith</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89ec3ab13eb92d68c4ad2f12b10151041d31aefe"><code>89ec3ab</code></a></td><td><code>Removed trailing whitespace.</code></td></tr></table>




---

archive/issue_comments_352319.json:
```json
{
    "body": "Changed commit from **[`502c887`](https://github.com/sagemath/sagetrac-mirror/commit/502c8872f4db9c738b36947dca442e875b4cd70a)** to **[`89ec3ab`](https://github.com/sagemath/sagetrac-mirror/commit/89ec3ab13eb92d68c4ad2f12b10151041d31aefe)**",
    "created_at": "2017-08-25T17:33:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352319",
    "user": "https://github.com/adeines"
}
```

Changed commit from **[`502c887`](https://github.com/sagemath/sagetrac-mirror/commit/502c8872f4db9c738b36947dca442e875b4cd70a)** to **[`89ec3ab`](https://github.com/sagemath/sagetrac-mirror/commit/89ec3ab13eb92d68c4ad2f12b10151041d31aefe)**



---

archive/issue_events_323550.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2017-08-25T17:33:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323550"
}
```



---

archive/issue_events_323551.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2017-08-25T17:33:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323551"
}
```



---

archive/issue_comments_352320.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nChanged to needs work because of above issues.",
    "created_at": "2017-08-25T17:33:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352320",
    "user": "https://github.com/adeines"
}
```

<div id="comment:36" align="right">comment:36</div>

Changed to needs work because of above issues.



---

archive/issue_comments_352321.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\n*ping* - I could really use this p-adic smith form. (over `ZZp`)\nNeed help? (not an expert though)",
    "created_at": "2017-10-27T10:11:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352321",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:37" align="right">comment:37</div>

*ping* - I could really use this p-adic smith form. (over `ZZp`)
Need help? (not an expert though)



---

archive/issue_comments_352322.json:
```json
{
    "body": "Changed branch from **[u/aly.deines/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/aly.deines/padic_smith)** to **[public/23450](https://github.com/sagemath/sagetrac-mirror/tree/public/23450)**",
    "created_at": "2017-12-05T14:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352322",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/aly.deines/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/aly.deines/padic_smith)** to **[public/23450](https://github.com/sagemath/sagetrac-mirror/tree/public/23450)**



---

archive/issue_comments_352323.json:
```json
{
    "body": "Changed commit from **[`89ec3ab`](https://github.com/sagemath/sagetrac-mirror/commit/89ec3ab13eb92d68c4ad2f12b10151041d31aefe)** to **[`8b239f4`](https://github.com/sagemath/sagetrac-mirror/commit/8b239f40ab22a1e524073e1a8765d034c86254da)**",
    "created_at": "2017-12-05T14:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352323",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`89ec3ab`](https://github.com/sagemath/sagetrac-mirror/commit/89ec3ab13eb92d68c4ad2f12b10151041d31aefe)** to **[`8b239f4`](https://github.com/sagemath/sagetrac-mirror/commit/8b239f40ab22a1e524073e1a8765d034c86254da)**



---

archive/issue_comments_352324.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d92d3e9efd44a9d4261ff5935574a2759fa058e1\"><code>d92d3e9</code></a></td><td><code>Merge branch 'u/aly.deines/padic_smith' in 8.1.rc4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b239f40ab22a1e524073e1a8765d034c86254da\"><code>8b239f4</code></a></td><td><code>trac 23450 details of doc</code></td></tr></table>\n",
    "created_at": "2017-12-05T14:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352324",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:39"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d92d3e9efd44a9d4261ff5935574a2759fa058e1"><code>d92d3e9</code></a></td><td><code>Merge branch 'u/aly.deines/padic_smith' in 8.1.rc4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b239f40ab22a1e524073e1a8765d034c86254da"><code>8b239f4</code></a></td><td><code>trac 23450 details of doc</code></td></tr></table>




---

archive/issue_events_323552.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-12-05T14:30:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323552"
}
```



---

archive/issue_events_323553.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-12-05T14:30:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323553"
}
```



---

archive/issue_events_323554.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-12-05T14:30:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323554"
}
```



---

archive/issue_events_323555.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-12-05T14:30:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323555"
}
```



---

archive/issue_comments_352325.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93d4e32a40f8870c0345ddbcac178839f0cdef42\"><code>93d4e32</code></a></td><td><code>Merge branch 'public/23450' in 8.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14f591c94af65b88673f0c295f3c00c093468755\"><code>14f591c</code></a></td><td><code>fixing 2 doctests</code></td></tr></table>\n",
    "created_at": "2017-12-08T12:43:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352325",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93d4e32a40f8870c0345ddbcac178839f0cdef42"><code>93d4e32</code></a></td><td><code>Merge branch 'public/23450' in 8.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14f591c94af65b88673f0c295f3c00c093468755"><code>14f591c</code></a></td><td><code>fixing 2 doctests</code></td></tr></table>




---

archive/issue_comments_352326.json:
```json
{
    "body": "Changed commit from **[`8b239f4`](https://github.com/sagemath/sagetrac-mirror/commit/8b239f40ab22a1e524073e1a8765d034c86254da)** to **[`14f591c`](https://github.com/sagemath/sagetrac-mirror/commit/14f591c94af65b88673f0c295f3c00c093468755)**",
    "created_at": "2017-12-08T12:43:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352326",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8b239f4`](https://github.com/sagemath/sagetrac-mirror/commit/8b239f40ab22a1e524073e1a8765d034c86254da)** to **[`14f591c`](https://github.com/sagemath/sagetrac-mirror/commit/14f591c94af65b88673f0c295f3c00c093468755)**



---

archive/issue_comments_352327.json:
```json
{
    "body": "Changed commit from **[`14f591c`](https://github.com/sagemath/sagetrac-mirror/commit/14f591c94af65b88673f0c295f3c00c093468755)** to **[`cf85a34`](https://github.com/sagemath/sagetrac-mirror/commit/cf85a341259e09416413bd7b29ec99e8e0597c62)**",
    "created_at": "2018-02-26T14:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352327",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`14f591c`](https://github.com/sagemath/sagetrac-mirror/commit/14f591c94af65b88673f0c295f3c00c093468755)** to **[`cf85a34`](https://github.com/sagemath/sagetrac-mirror/commit/cf85a341259e09416413bd7b29ec99e8e0597c62)**



---

archive/issue_comments_352328.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf85a341259e09416413bd7b29ec99e8e0597c62\"><code>cf85a34</code></a></td><td><code>Merge branch 'public/23450' of ssh://trac.sagemath.org/sage into t/23450/padic_smith</code></td></tr></table>\n",
    "created_at": "2018-02-26T14:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352328",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf85a341259e09416413bd7b29ec99e8e0597c62"><code>cf85a34</code></a></td><td><code>Merge branch 'public/23450' of ssh://trac.sagemath.org/sage into t/23450/padic_smith</code></td></tr></table>




---

archive/issue_comments_352329.json:
```json
{
    "body": "Changed commit from **[`cf85a34`](https://github.com/sagemath/sagetrac-mirror/commit/cf85a341259e09416413bd7b29ec99e8e0597c62)** to **[`7ad838a`](https://github.com/sagemath/sagetrac-mirror/commit/7ad838a41517a89f6906ec1fda018e3029db7436)**",
    "created_at": "2018-02-26T15:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352329",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cf85a34`](https://github.com/sagemath/sagetrac-mirror/commit/cf85a341259e09416413bd7b29ec99e8e0597c62)** to **[`7ad838a`](https://github.com/sagemath/sagetrac-mirror/commit/7ad838a41517a89f6906ec1fda018e3029db7436)**



---

archive/issue_comments_352330.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ad838a41517a89f6906ec1fda018e3029db7436\"><code>7ad838a</code></a></td><td><code>Remove _get_matrix_class that was inadvertently added in a merge</code></td></tr></table>\n",
    "created_at": "2018-02-26T15:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352330",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ad838a41517a89f6906ec1fda018e3029db7436"><code>7ad838a</code></a></td><td><code>Remove _get_matrix_class that was inadvertently added in a merge</code></td></tr></table>




---

archive/issue_comments_352331.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5863a1757c05e36e832fd1f743d31127edbe7a0\"><code>b5863a1</code></a></td><td><code>Add newline back in from fix to matrix_space.py</code></td></tr></table>\n",
    "created_at": "2018-02-26T15:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352331",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5863a1757c05e36e832fd1f743d31127edbe7a0"><code>b5863a1</code></a></td><td><code>Add newline back in from fix to matrix_space.py</code></td></tr></table>




---

archive/issue_comments_352332.json:
```json
{
    "body": "Changed commit from **[`7ad838a`](https://github.com/sagemath/sagetrac-mirror/commit/7ad838a41517a89f6906ec1fda018e3029db7436)** to **[`b5863a1`](https://github.com/sagemath/sagetrac-mirror/commit/b5863a1757c05e36e832fd1f743d31127edbe7a0)**",
    "created_at": "2018-02-26T15:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352332",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7ad838a`](https://github.com/sagemath/sagetrac-mirror/commit/7ad838a41517a89f6906ec1fda018e3029db7436)** to **[`b5863a1`](https://github.com/sagemath/sagetrac-mirror/commit/b5863a1757c05e36e832fd1f743d31127edbe7a0)**



---

archive/issue_comments_352333.json:
```json
{
    "body": "Changed commit from **[`b5863a1`](https://github.com/sagemath/sagetrac-mirror/commit/b5863a1757c05e36e832fd1f743d31127edbe7a0)** to **[`777f494`](https://github.com/sagemath/sagetrac-mirror/commit/777f494e5c8a9924c740c55f636b1e9f10454cb4)**",
    "created_at": "2018-02-26T17:29:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352333",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b5863a1`](https://github.com/sagemath/sagetrac-mirror/commit/b5863a1757c05e36e832fd1f743d31127edbe7a0)** to **[`777f494`](https://github.com/sagemath/sagetrac-mirror/commit/777f494e5c8a9924c740c55f636b1e9f10454cb4)**



---

archive/issue_comments_352334.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/777f494e5c8a9924c740c55f636b1e9f10454cb4\"><code>777f494</code></a></td><td><code>Remove the tracks_precision method and update the p-adic smith form to be able to deal with lattice elements</code></td></tr></table>\n",
    "created_at": "2018-02-26T17:29:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352334",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/777f494e5c8a9924c740c55f636b1e9f10454cb4"><code>777f494</code></a></td><td><code>Remove the tracks_precision method and update the p-adic smith form to be able to deal with lattice elements</code></td></tr></table>




---

archive/issue_comments_352335.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d78a1d58857c0a635f6a0f451ccac57e29df28c3\"><code>d78a1d5</code></a></td><td><code>Add exact parameter to _matrix_smith_form, fix precision behavior and allow integral=True for non-padic matrices</code></td></tr></table>\n",
    "created_at": "2018-02-28T13:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352335",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d78a1d58857c0a635f6a0f451ccac57e29df28c3"><code>d78a1d5</code></a></td><td><code>Add exact parameter to _matrix_smith_form, fix precision behavior and allow integral=True for non-padic matrices</code></td></tr></table>




---

archive/issue_comments_352336.json:
```json
{
    "body": "Changed commit from **[`777f494`](https://github.com/sagemath/sagetrac-mirror/commit/777f494e5c8a9924c740c55f636b1e9f10454cb4)** to **[`d78a1d5`](https://github.com/sagemath/sagetrac-mirror/commit/d78a1d58857c0a635f6a0f451ccac57e29df28c3)**",
    "created_at": "2018-02-28T13:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352336",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`777f494`](https://github.com/sagemath/sagetrac-mirror/commit/777f494e5c8a9924c740c55f636b1e9f10454cb4)** to **[`d78a1d5`](https://github.com/sagemath/sagetrac-mirror/commit/d78a1d58857c0a635f6a0f451ccac57e29df28c3)**



---

archive/issue_comments_352337.json:
```json
{
    "body": "Changed author from **Xavier Caruso, Julian R\u00fcth** to **Xavier Caruso, Julian R\u00fcth, David Roe**",
    "created_at": "2018-02-28T13:38:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352337",
    "user": "https://github.com/roed314"
}
```

Changed author from **Xavier Caruso, Julian Rüth** to **Xavier Caruso, Julian Rüth, David Roe**



---

archive/issue_events_323556.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-02-28T13:38:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323556"
}
```



---

archive/issue_events_323557.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-02-28T13:38:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323557"
}
```



---

archive/issue_comments_352338.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nIf Xavier is happy with my changes, I'm happy to give this positive review.",
    "created_at": "2018-02-28T13:38:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352338",
    "user": "https://github.com/roed314"
}
```

<div id="comment:47" align="right">comment:47</div>

If Xavier is happy with my changes, I'm happy to give this positive review.



---

archive/issue_comments_352339.json:
```json
{
    "body": "Changed reviewer from **Julian R\u00fcth** to **Julian R\u00fcth, David Roe**",
    "created_at": "2018-02-28T13:38:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352339",
    "user": "https://github.com/roed314"
}
```

Changed reviewer from **Julian Rüth** to **Julian Rüth, David Roe**



---

archive/issue_comments_352340.json:
```json
{
    "body": "Changed commit from **[`d78a1d5`](https://github.com/sagemath/sagetrac-mirror/commit/d78a1d58857c0a635f6a0f451ccac57e29df28c3)** to **[`f7d4e38`](https://github.com/sagemath/sagetrac-mirror/commit/f7d4e3833eee9ef8138d2d01bb3ffbce400ba9d0)**",
    "created_at": "2018-02-28T15:44:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352340",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d78a1d5`](https://github.com/sagemath/sagetrac-mirror/commit/d78a1d58857c0a635f6a0f451ccac57e29df28c3)** to **[`f7d4e38`](https://github.com/sagemath/sagetrac-mirror/commit/f7d4e3833eee9ef8138d2d01bb3ffbce400ba9d0)**



---

archive/issue_comments_352341.json:
```json
{
    "body": "<div id=\"comment:48\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7d4e3833eee9ef8138d2d01bb3ffbce400ba9d0\"><code>f7d4e38</code></a></td><td><code>lift_to_precision() was missing at some point</code></td></tr></table>\n",
    "created_at": "2018-02-28T15:44:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352341",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7d4e3833eee9ef8138d2d01bb3ffbce400ba9d0"><code>f7d4e38</code></a></td><td><code>lift_to_precision() was missing at some point</code></td></tr></table>




---

archive/issue_comments_352342.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d46aa51e56133ec125d90698ffb1974f186a31d\"><code>0d46aa5</code></a></td><td><code>Add a test: Smith form of the zero matrix</code></td></tr></table>\n",
    "created_at": "2018-02-28T16:14:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352342",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d46aa51e56133ec125d90698ffb1974f186a31d"><code>0d46aa5</code></a></td><td><code>Add a test: Smith form of the zero matrix</code></td></tr></table>




---

archive/issue_comments_352343.json:
```json
{
    "body": "Changed commit from **[`f7d4e38`](https://github.com/sagemath/sagetrac-mirror/commit/f7d4e3833eee9ef8138d2d01bb3ffbce400ba9d0)** to **[`0d46aa5`](https://github.com/sagemath/sagetrac-mirror/commit/0d46aa51e56133ec125d90698ffb1974f186a31d)**",
    "created_at": "2018-02-28T16:14:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352343",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f7d4e38`](https://github.com/sagemath/sagetrac-mirror/commit/f7d4e3833eee9ef8138d2d01bb3ffbce400ba9d0)** to **[`0d46aa5`](https://github.com/sagemath/sagetrac-mirror/commit/0d46aa51e56133ec125d90698ffb1974f186a31d)**



---

archive/issue_comments_352344.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nI've fixed a small issue with precision.\n\nNow, everything seems fine to me. I let you give a positive review if you're OK (and if the patchbot is happy)",
    "created_at": "2018-02-28T16:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352344",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:50" align="right">comment:50</div>

I've fixed a small issue with precision.

Now, everything seems fine to me. I let you give a positive review if you're OK (and if the patchbot is happy)



---

archive/issue_events_323558.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-02-28T19:43:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323558"
}
```



---

archive/issue_events_323559.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-02-28T19:43:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323559"
}
```



---

archive/issue_events_323560.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-02-28T19:43:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323560"
}
```



---

archive/issue_comments_352345.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nPatchbot is green, so positive review.",
    "created_at": "2018-02-28T19:43:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352345",
    "user": "https://github.com/roed314"
}
```

<div id="comment:51" align="right">comment:51</div>

Patchbot is green, so positive review.



---

archive/issue_events_323561.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-17T07:38:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323561"
}
```



---

archive/issue_comments_352346.json:
```json
{
    "body": "Changed work issues from **failing unit tests, clarify meaning of integral, talk about precision** to none",
    "created_at": "2018-03-17T08:12:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352346",
    "user": "https://github.com/fchapoton"
}
```

Changed work issues from **failing unit tests, clarify meaning of integral, talk about precision** to none



---

archive/issue_comments_352347.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nTests fail\n\n```\n    UnboundLocalError: local variable 'precM' referenced before assignment\n```",
    "created_at": "2018-03-20T23:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352347",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:54" align="right">comment:54</div>

Tests fail

```
    UnboundLocalError: local variable 'precM' referenced before assignment
```



---

archive/issue_events_323562.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-20T23:22:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323562"
}
```



---

archive/issue_events_323563.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-20T23:22:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323563"
}
```



---

archive/issue_comments_352348.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nLet me add a bit of details, 6 doctests fails\n\n```\nsage -t --long /usr/lib64/python2.7/site-packages/sage/rings/padics/padic_lattice_element.py  # 4 doctests failed\nsage -t --long /usr/lib64/python2.7/site-packages/sage/rings/padics/padic_base_leaves.py  # 2 doctests failed\n```\n and they all fail the same way\n\n```\nFile \"/usr/lib64/python2.7/site-packages/sage/rings/padics/padic_base_leaves.py\", line 879, in sage.rings.padics.padic_base_leaves.pAdicRingLattice.__init__\nFailed example:\n    TestSuite(R).run(skip='_test_teichmuller')\nExpected nothing\nGot:\n    Failure in _test_matrix_smith:\n    Traceback (most recent call last):\n      File \"/usr/lib64/python2.7/site-packages/sage/misc/sage_unittest.py\", line 294, in run\n        test_method(tester = tester)\n      File \"/usr/lib64/python2.7/site-packages/sage/rings/padics/local_generic.py\", line 1248, in _test_matrix_smith\n        S,U,V = M.smith_form(integral=base)\n      File \"sage/matrix/matrix2.pyx\", line 13416, in sage.matrix.matrix2.Matrix.smith_form (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/cythonized/sage/matrix/matrix2.c:96167)\n        return R._matrix_smith_form(self, transformation=transformation, integral=integral, exact=exact)\n      File \"/usr/lib64/python2.7/site-packages/sage/rings/padics/local_generic.py\", line 1148, in _matrix_smith_form\n        if inexact_ring and not allzero and val >= precM:\n    UnboundLocalError: local variable 'precM' referenced before assignment\n    ------------------------------------------------------------\n    The following tests failed: _test_matrix_smith\n```\nending in `local_generic.py`.",
    "created_at": "2018-03-21T00:49:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352348",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:55" align="right">comment:55</div>

Let me add a bit of details, 6 doctests fails

```
sage -t --long /usr/lib64/python2.7/site-packages/sage/rings/padics/padic_lattice_element.py  # 4 doctests failed
sage -t --long /usr/lib64/python2.7/site-packages/sage/rings/padics/padic_base_leaves.py  # 2 doctests failed
```
 and they all fail the same way

```
File "/usr/lib64/python2.7/site-packages/sage/rings/padics/padic_base_leaves.py", line 879, in sage.rings.padics.padic_base_leaves.pAdicRingLattice.__init__
Failed example:
    TestSuite(R).run(skip='_test_teichmuller')
Expected nothing
Got:
    Failure in _test_matrix_smith:
    Traceback (most recent call last):
      File "/usr/lib64/python2.7/site-packages/sage/misc/sage_unittest.py", line 294, in run
        test_method(tester = tester)
      File "/usr/lib64/python2.7/site-packages/sage/rings/padics/local_generic.py", line 1248, in _test_matrix_smith
        S,U,V = M.smith_form(integral=base)
      File "sage/matrix/matrix2.pyx", line 13416, in sage.matrix.matrix2.Matrix.smith_form (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/cythonized/sage/matrix/matrix2.c:96167)
        return R._matrix_smith_form(self, transformation=transformation, integral=integral, exact=exact)
      File "/usr/lib64/python2.7/site-packages/sage/rings/padics/local_generic.py", line 1148, in _matrix_smith_form
        if inexact_ring and not allzero and val >= precM:
    UnboundLocalError: local variable 'precM' referenced before assignment
    ------------------------------------------------------------
    The following tests failed: _test_matrix_smith
```
ending in `local_generic.py`.



---

archive/issue_comments_352349.json:
```json
{
    "body": "Changed commit from **[`0d46aa5`](https://github.com/sagemath/sagetrac-mirror/commit/0d46aa51e56133ec125d90698ffb1974f186a31d)** to **[`e6f54bb`](https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9)**",
    "created_at": "2018-03-22T22:09:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352349",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0d46aa5`](https://github.com/sagemath/sagetrac-mirror/commit/0d46aa51e56133ec125d90698ffb1974f186a31d)** to **[`e6f54bb`](https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9)**



---

archive/issue_comments_352350.json:
```json
{
    "body": "<div id=\"comment:56\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0613f843ca152a5aa09860d37dddb9650eeccfc9\"><code>0613f84</code></a></td><td><code>Recompute precM in the lattice precision framework</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9\"><code>e6f54bb</code></a></td><td><code>Merge branch 'develop' into t/23450/public/23450</code></td></tr></table>\n",
    "created_at": "2018-03-22T22:09:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352350",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:56"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0613f843ca152a5aa09860d37dddb9650eeccfc9"><code>0613f84</code></a></td><td><code>Recompute precM in the lattice precision framework</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9"><code>e6f54bb</code></a></td><td><code>Merge branch 'develop' into t/23450/public/23450</code></td></tr></table>




---

archive/issue_comments_352351.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nShould be fixed.",
    "created_at": "2018-03-22T22:11:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352351",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:57" align="right">comment:57</div>

Should be fixed.



---

archive/issue_events_323564.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2018-03-22T22:11:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323564"
}
```



---

archive/issue_events_323565.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2018-03-22T22:11:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323565"
}
```



---

archive/issue_comments_352352.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nThe patchbots continue to be noisy, but this looks good to me.",
    "created_at": "2018-03-29T20:04:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352352",
    "user": "https://github.com/roed314"
}
```

<div id="comment:58" align="right">comment:58</div>

The patchbots continue to be noisy, but this looks good to me.



---

archive/issue_events_323566.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-03-29T20:04:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323566"
}
```



---

archive/issue_events_323567.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-03-29T20:04:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323567"
}
```



---

archive/issue_events_323568.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:27:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323568"
}
```



---

archive/issue_events_323569.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "94e5a73e75e6d300cca1dfb7481f58fb9290796c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-08T17:27:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-323569"
}
```



---

archive/issue_comments_352353.json:
```json
{
    "body": "Changed branch from **[public/23450](https://github.com/sagemath/sagetrac-mirror/tree/public/23450)** to **[`e6f54bb`](https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9)**",
    "created_at": "2018-05-08T17:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-352353",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/23450](https://github.com/sagemath/sagetrac-mirror/tree/public/23450)** to **[`e6f54bb`](https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9)**
