# Issue 23450: Smith form of p-adic matrices

archive/issues_023213.json:
```json
{
    "assignees": [],
    "body": "Currently Smith form are not implemented over inexact rings.\n\nThis ticket provides a (currently unoptimized) implementation of Smith normal form over complete discrete valuation rings/fields (e.g. p-adic rings/fields).\n\nCC:  @roed314 @saraedum TristanVaccon @kedlaya\n\nKeywords: **sd87**\n\nBranch/Commit: **[e6f54bb](https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9)**\n\nReviewer: **Julian R\u00fcth, David Roe**\n\nAuthor: **Xavier Caruso, Julian R\u00fcth, David Roe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23450_\n\n",
    "closed_at": "2018-05-08T17:27:14Z",
    "created_at": "2017-07-18T04:41:54Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20padics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Smith form of p-adic matrices",
    "type": "issue",
    "updated_at": "2018-05-08T17:27:14Z",
    "url": "https://github.com/sagemath/sage/issues/23450",
    "user": "https://github.com/xcaruso"
}
```
Currently Smith form are not implemented over inexact rings.

This ticket provides a (currently unoptimized) implementation of Smith normal form over complete discrete valuation rings/fields (e.g. p-adic rings/fields).

CC:  @roed314 @saraedum TristanVaccon @kedlaya

Keywords: **sd87**

Branch/Commit: **[e6f54bb](https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9)**

Reviewer: **Julian Rüth, David Roe**

Author: **Xavier Caruso, Julian Rüth, David Roe**

_Issue created by migration from https://trac.sagemath.org/ticket/23450_





---

archive/issue_events_297311.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-07-18T04:41:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297311"
}
```



---

archive/issue_events_297312.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-07-18T04:41:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297312"
}
```



---

archive/issue_events_297313.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-07-18T04:41:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297313"
}
```



---

archive/issue_comments_355003.json:
```json
{
    "body": "Branch: **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)**",
    "created_at": "2017-07-18T04:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355003",
    "user": "https://github.com/xcaruso"
}
```

Branch: **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)**



---

archive/issue_comments_355004.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nThis is great. I was hoping that you would implement this for a while ;)\n\nHave you thought about not creating a separate class for this but implementing it in the base ring (or in the category), i.e., provide `_matrix_smith_form` on the ring/category and call it from the generic matrix code if it is defined (otherwise fall back to the generic implementation). In other words, do what is already done for things like polynomial factorization.\n\nAlso, should this code be used for \"exact\" CDVRs such as the ones backed by absolute number fields?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/879f4eb46b700d0d3c4a0779b8293158ea4af298\">879f4eb</a></td><td><code>Smith form of a p-adic matrix</code></td></tr></table>\n",
    "created_at": "2017-07-18T06:09:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355004",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:2'>Comment 2:</a>
This is great. I was hoping that you would implement this for a while ;)

Have you thought about not creating a separate class for this but implementing it in the base ring (or in the category), i.e., provide `_matrix_smith_form` on the ring/category and call it from the generic matrix code if it is defined (otherwise fall back to the generic implementation). In other words, do what is already done for things like polynomial factorization.

Also, should this code be used for "exact" CDVRs such as the ones backed by absolute number fields?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/879f4eb46b700d0d3c4a0779b8293158ea4af298">879f4eb</a></td><td><code>Smith form of a p-adic matrix</code></td></tr></table>




---

archive/issue_comments_355005.json:
```json
{
    "body": "Commit: **[879f4eb](https://github.com/sagemath/sagetrac-mirror/commit/879f4eb46b700d0d3c4a0779b8293158ea4af298)**",
    "created_at": "2017-07-18T06:09:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355005",
    "user": "https://github.com/saraedum"
}
```

Commit: **[879f4eb](https://github.com/sagemath/sagetrac-mirror/commit/879f4eb46b700d0d3c4a0779b8293158ea4af298)**



---

archive/issue_events_297314.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-18T15:11:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20padics",
    "label_color": "0000ff",
    "label_name": "component: padics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297314"
}
```



---

archive/issue_comments_355006.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/595bc117c7becc12c9e6afcefcc372b46320384e\">595bc11</a></td><td><code>Code moved into the category</code></td></tr></table>\n",
    "created_at": "2017-07-19T04:57:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355006",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/595bc117c7becc12c9e6afcefcc372b46320384e">595bc11</a></td><td><code>Code moved into the category</code></td></tr></table>




---

archive/issue_comments_355007.json:
```json
{
    "body": "Changed commit from **[879f4eb](https://github.com/sagemath/sagetrac-mirror/commit/879f4eb46b700d0d3c4a0779b8293158ea4af298)** to **[595bc11](https://github.com/sagemath/sagetrac-mirror/commit/595bc117c7becc12c9e6afcefcc372b46320384e)**",
    "created_at": "2017-07-19T04:57:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355007",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[879f4eb](https://github.com/sagemath/sagetrac-mirror/commit/879f4eb46b700d0d3c4a0779b8293158ea4af298)** to **[595bc11](https://github.com/sagemath/sagetrac-mirror/commit/595bc117c7becc12c9e6afcefcc372b46320384e)**



---

archive/issue_events_297315.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2017-07-19T05:14:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297315"
}
```



---

archive/issue_comments_355008.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Currently Smith form are not implemented over inexact rings.\n \n-This ticket provides a (currently unoptimized) implementation of Smith normal form over complete discrete valuation rings/fields (e.g. p-adic rings/fields), together with a new implementation of the method `determinant` making use of Smith normal form and improving this way its behaviour regarding precision.\n+This ticket provides a (currently unoptimized) implementation of Smith normal form over complete discrete valuation rings/fields (e.g. p-adic rings/fields).\n``````\n",
    "created_at": "2017-07-19T05:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355008",
    "user": "https://github.com/xcaruso"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Currently Smith form are not implemented over inexact rings.
 
-This ticket provides a (currently unoptimized) implementation of Smith normal form over complete discrete valuation rings/fields (e.g. p-adic rings/fields), together with a new implementation of the method `determinant` making use of Smith normal form and improving this way its behaviour regarding precision.
+This ticket provides a (currently unoptimized) implementation of Smith normal form over complete discrete valuation rings/fields (e.g. p-adic rings/fields).
``````




---

archive/issue_comments_355009.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nOk, I've moved the code to the category (CDVF and CDVR) as you suggested.\n\nI've also tried to be more rigourous regarding precision and figured out what is the correct precision on the transformation matrices. (My first implementation was too optimistic.) Actually, it turns out that finding the optimal precision is costly, except in the particular case where the input matrix is given at flat precision (i.e. all the entries are given at the same precision). For this reason, I've overestimated the loss of precision for a general input matrix (by reducing to the case of flat precision).\n\nI've also removed the method that computes the determinant of a matrix because again it only worked for matrices given at flat precision.\n\nThe ticket is ready for review.",
    "created_at": "2017-07-19T05:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355009",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:5'>Comment 5:</a>
Ok, I've moved the code to the category (CDVF and CDVR) as you suggested.

I've also tried to be more rigourous regarding precision and figured out what is the correct precision on the transformation matrices. (My first implementation was too optimistic.) Actually, it turns out that finding the optimal precision is costly, except in the particular case where the input matrix is given at flat precision (i.e. all the entries are given at the same precision). For this reason, I've overestimated the loss of precision for a general input matrix (by reducing to the case of flat precision).

I've also removed the method that computes the determinant of a matrix because again it only worked for matrices given at flat precision.

The ticket is ready for review.



---

archive/issue_comments_355010.json:
```json
{
    "body": "Changed commit from **[595bc11](https://github.com/sagemath/sagetrac-mirror/commit/595bc117c7becc12c9e6afcefcc372b46320384e)** to **[e2cdd99](https://github.com/sagemath/sagetrac-mirror/commit/e2cdd995a80e859027ffd5685f1d96cc480d4277)**",
    "created_at": "2017-07-19T20:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355010",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[595bc11](https://github.com/sagemath/sagetrac-mirror/commit/595bc117c7becc12c9e6afcefcc372b46320384e)** to **[e2cdd99](https://github.com/sagemath/sagetrac-mirror/commit/e2cdd995a80e859027ffd5685f1d96cc480d4277)**



---

archive/issue_comments_355011.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1832757b3eaa3f1f01e8a8864ed33e697366025b\">1832757</a></td><td><code>Factorisation of code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2cdd995a80e859027ffd5685f1d96cc480d4277\">e2cdd99</a></td><td><code>Small fix</code></td></tr></table>\n",
    "created_at": "2017-07-19T20:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355011",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1832757b3eaa3f1f01e8a8864ed33e697366025b">1832757</a></td><td><code>Factorisation of code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2cdd995a80e859027ffd5685f1d96cc480d4277">e2cdd99</a></td><td><code>Small fix</code></td></tr></table>




---

archive/issue_comments_355012.json:
```json
{
    "body": "Changed commit from **[e2cdd99](https://github.com/sagemath/sagetrac-mirror/commit/e2cdd995a80e859027ffd5685f1d96cc480d4277)** to **[1fd67fe](https://github.com/sagemath/sagetrac-mirror/commit/1fd67fe26e5c1afb90f68127fdbd8a40bd01c75e)**",
    "created_at": "2017-07-20T02:03:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355012",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e2cdd99](https://github.com/sagemath/sagetrac-mirror/commit/e2cdd995a80e859027ffd5685f1d96cc480d4277)** to **[1fd67fe](https://github.com/sagemath/sagetrac-mirror/commit/1fd67fe26e5c1afb90f68127fdbd8a40bd01c75e)**



---

archive/issue_comments_355013.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ae1018f5f63a9082d94ec9876c4ec38451cc340\">7ae1018</a></td><td><code>Move relevant code to sage.matrix.matrix_cdv_dense</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e73fd2f9a4ac5b090f72a093ee57df532a1a384\">7e73fd2</a></td><td><code>Fix import</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1fd67fe26e5c1afb90f68127fdbd8a40bd01c75e\">1fd67fe</a></td><td><code>Add method tracks_precision()</code></td></tr></table>\n",
    "created_at": "2017-07-20T02:03:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355013",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>Comment 7:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ae1018f5f63a9082d94ec9876c4ec38451cc340">7ae1018</a></td><td><code>Move relevant code to sage.matrix.matrix_cdv_dense</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e73fd2f9a4ac5b090f72a093ee57df532a1a384">7e73fd2</a></td><td><code>Fix import</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1fd67fe26e5c1afb90f68127fdbd8a40bd01c75e">1fd67fe</a></td><td><code>Add method tracks_precision()</code></td></tr></table>




---

archive/issue_comments_355014.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f731ee1a5dfa9af675a7a510a74fb7bb99d24fa\">1f731ee</a></td><td><code>Check correctly (hopefully) that precision on input is enough</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f07da52c7769205e3549df079699202afbd4195\">1f07da5</a></td><td><code>Small fixes</code></td></tr></table>\n",
    "created_at": "2017-07-20T05:39:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355014",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f731ee1a5dfa9af675a7a510a74fb7bb99d24fa">1f731ee</a></td><td><code>Check correctly (hopefully) that precision on input is enough</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f07da52c7769205e3549df079699202afbd4195">1f07da5</a></td><td><code>Small fixes</code></td></tr></table>




---

archive/issue_comments_355015.json:
```json
{
    "body": "Changed commit from **[1fd67fe](https://github.com/sagemath/sagetrac-mirror/commit/1fd67fe26e5c1afb90f68127fdbd8a40bd01c75e)** to **[1f07da5](https://github.com/sagemath/sagetrac-mirror/commit/1f07da52c7769205e3549df079699202afbd4195)**",
    "created_at": "2017-07-20T05:39:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355015",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1fd67fe](https://github.com/sagemath/sagetrac-mirror/commit/1fd67fe26e5c1afb90f68127fdbd8a40bd01c75e)** to **[1f07da5](https://github.com/sagemath/sagetrac-mirror/commit/1f07da52c7769205e3549df079699202afbd4195)**



---

archive/issue_comments_355016.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nI think (hope) that this ticket is now *really* ready for review :-)",
    "created_at": "2017-07-20T05:41:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355016",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:9'>Comment 9:</a>
I think (hope) that this ticket is now *really* ready for review :-)



---

archive/issue_comments_355017.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nI'll try to review this tomorrow.",
    "created_at": "2017-07-20T06:13:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355017",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:10'>Comment 10:</a>
I'll try to review this tomorrow.



---

archive/issue_comments_355018.json:
```json
{
    "body": "Reviewer: **Julian R\u00fcth**",
    "created_at": "2017-07-20T06:13:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355018",
    "user": "https://github.com/saraedum"
}
```

Reviewer: **Julian Rüth**



---

archive/issue_comments_355019.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55b99df7b752c66cf6256b1adf7a7f0951f71808\">55b99df</a></td><td><code>Small fix in lift_to_maximal_precision</code></td></tr></table>\n",
    "created_at": "2017-07-20T15:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355019",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55b99df7b752c66cf6256b1adf7a7f0951f71808">55b99df</a></td><td><code>Small fix in lift_to_maximal_precision</code></td></tr></table>




---

archive/issue_comments_355020.json:
```json
{
    "body": "Changed commit from **[1f07da5](https://github.com/sagemath/sagetrac-mirror/commit/1f07da52c7769205e3549df079699202afbd4195)** to **[55b99df](https://github.com/sagemath/sagetrac-mirror/commit/55b99df7b752c66cf6256b1adf7a7f0951f71808)**",
    "created_at": "2017-07-20T15:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355020",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1f07da5](https://github.com/sagemath/sagetrac-mirror/commit/1f07da52c7769205e3549df079699202afbd4195)** to **[55b99df](https://github.com/sagemath/sagetrac-mirror/commit/55b99df7b752c66cf6256b1adf7a7f0951f71808)**



---

archive/issue_comments_355021.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ea48acfe280981d969970384e10309a9c8211db\">1ea48ac</a></td><td><code>Two small bugs fixed</code></td></tr></table>\n",
    "created_at": "2017-07-20T16:18:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355021",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>Comment 12:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ea48acfe280981d969970384e10309a9c8211db">1ea48ac</a></td><td><code>Two small bugs fixed</code></td></tr></table>




---

archive/issue_comments_355022.json:
```json
{
    "body": "Changed commit from **[55b99df](https://github.com/sagemath/sagetrac-mirror/commit/55b99df7b752c66cf6256b1adf7a7f0951f71808)** to **[1ea48ac](https://github.com/sagemath/sagetrac-mirror/commit/1ea48acfe280981d969970384e10309a9c8211db)**",
    "created_at": "2017-07-20T16:18:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355022",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[55b99df](https://github.com/sagemath/sagetrac-mirror/commit/55b99df7b752c66cf6256b1adf7a7f0951f71808)** to **[1ea48ac](https://github.com/sagemath/sagetrac-mirror/commit/1ea48acfe280981d969970384e10309a9c8211db)**



---

archive/issue_comments_355023.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65ffbc6afa1e337deb0d5ec882914624fc9e08e0\">65ffbc6</a></td><td><code>Use the name \"integral_smith_form\" for matrices over CDVF</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f27820a66d4de7f972f4b59df5b5d53f31463ae1\">f27820a</a></td><td><code>Small fixes</code></td></tr></table>\n",
    "created_at": "2017-07-21T00:42:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355023",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65ffbc6afa1e337deb0d5ec882914624fc9e08e0">65ffbc6</a></td><td><code>Use the name "integral_smith_form" for matrices over CDVF</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f27820a66d4de7f972f4b59df5b5d53f31463ae1">f27820a</a></td><td><code>Small fixes</code></td></tr></table>




---

archive/issue_comments_355024.json:
```json
{
    "body": "Changed commit from **[1ea48ac](https://github.com/sagemath/sagetrac-mirror/commit/1ea48acfe280981d969970384e10309a9c8211db)** to **[f27820a](https://github.com/sagemath/sagetrac-mirror/commit/f27820a66d4de7f972f4b59df5b5d53f31463ae1)**",
    "created_at": "2017-07-21T00:42:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355024",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1ea48ac](https://github.com/sagemath/sagetrac-mirror/commit/1ea48acfe280981d969970384e10309a9c8211db)** to **[f27820a](https://github.com/sagemath/sagetrac-mirror/commit/f27820a66d4de7f972f4b59df5b5d53f31463ae1)**



---

archive/issue_comments_355025.json:
```json
{
    "body": "Work Issues: **drop lift_to_maximal_precision**",
    "created_at": "2017-07-21T04:51:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355025",
    "user": "https://github.com/saraedum"
}
```

Work Issues: **drop lift_to_maximal_precision**



---

archive/issue_comments_355026.json:
```json
{
    "body": "Changed work issues from **drop lift_to_maximal_precision** to none",
    "created_at": "2017-07-21T15:55:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355026",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **drop lift_to_maximal_precision** to none



---

archive/issue_comments_355027.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nXavier, I am refactoring this a fair bit. Hope you don't mind.",
    "created_at": "2017-07-21T15:55:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355027",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:15'>Comment 15:</a>
Xavier, I am refactoring this a fair bit. Hope you don't mind.



---

archive/issue_events_297316.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T15:55:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297316"
}
```



---

archive/issue_events_297317.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T15:55:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297317"
}
```



---

archive/issue_comments_355028.json:
```json
{
    "body": "Changed branch from **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)** to **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)**",
    "created_at": "2017-07-21T15:55:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355028",
    "user": "https://github.com/saraedum"
}
```

Changed branch from **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)** to **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)**



---

archive/issue_comments_355029.json:
```json
{
    "body": "Changed branch from **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)** to **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)**",
    "created_at": "2017-07-21T16:08:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355029",
    "user": "https://github.com/saraedum"
}
```

Changed branch from **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)** to **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)**



---

archive/issue_comments_355030.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\n(and sorry, the category idea was a very bad call. I'm fixing it right now.)",
    "created_at": "2017-07-21T16:08:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355030",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:17'>Comment 17:</a>
(and sorry, the category idea was a very bad call. I'm fixing it right now.)



---

archive/issue_comments_355031.json:
```json
{
    "body": "Changed branch from **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)** to **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)**",
    "created_at": "2017-07-21T16:44:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355031",
    "user": "https://github.com/saraedum"
}
```

Changed branch from **[u/caruso/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/caruso/padic_smith)** to **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)**



---

archive/issue_comments_355032.json:
```json
{
    "body": "Changed commit from **[f27820a](https://github.com/sagemath/sagetrac-mirror/commit/f27820a66d4de7f972f4b59df5b5d53f31463ae1)** to **[e635699](https://github.com/sagemath/sagetrac-mirror/commit/e635699dfab09b4ba86ee3f83eb95d0d5f8463dc)**",
    "created_at": "2017-07-21T16:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355032",
    "user": "https://github.com/saraedum"
}
```

Changed commit from **[f27820a](https://github.com/sagemath/sagetrac-mirror/commit/f27820a66d4de7f972f4b59df5b5d53f31463ae1)** to **[e635699](https://github.com/sagemath/sagetrac-mirror/commit/e635699dfab09b4ba86ee3f83eb95d0d5f8463dc)**



---

archive/issue_comments_355033.json:
```json
{
    "body": "Work Issues: **failing unit tests**",
    "created_at": "2017-07-21T16:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355033",
    "user": "https://github.com/saraedum"
}
```

Work Issues: **failing unit tests**



---

archive/issue_comments_355034.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e00041a3760917b90af9f0f813a385e56cc604c\">8e00041</a></td><td><code>Replace lift_to_maximal_precision() with lift_to_precision(None)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5802a8c3c4e1fb0af27df1cadde76e6b13d46f1b\">5802a8c</a></td><td><code>Move Smith Normal Form Code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2713b74acde71c6941ea85fd3838e4d8af9a7e3c\">2713b74</a></td><td><code>Remove CDV matrix classes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad1632c6e6242add19bdae3ef8de791a546dbbef\">ad1632c</a></td><td><code>Implement tracks_precision() on base classes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27717577e95f5601ec221c7ce302028d0cec71f7\">2771757</a></td><td><code>prettify documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/922ea393f882a3ac5e7319fe80fdf8070fd9d35f\">922ea39</a></td><td><code>remove lift_to_maximal_precision</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e04b26fac5454937a4e348fa272774398d9aabc8\">e04b26f</a></td><td><code>remove lift_to_maximal_precision</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea1f480000a1ea92e84dacd24370c6fdf354ccec\">ea1f480</a></td><td><code>fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7198f2b9eb87b2c5e72308de7fa6edc5c2b1a7e2\">7198f2b</a></td><td><code>rebase _matrix_smith_form</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e635699dfab09b4ba86ee3f83eb95d0d5f8463dc\">e635699</a></td><td><code>implement Smith form tests</code></td></tr></table>\n",
    "created_at": "2017-07-21T16:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355034",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:19'>Comment 19:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e00041a3760917b90af9f0f813a385e56cc604c">8e00041</a></td><td><code>Replace lift_to_maximal_precision() with lift_to_precision(None)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5802a8c3c4e1fb0af27df1cadde76e6b13d46f1b">5802a8c</a></td><td><code>Move Smith Normal Form Code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2713b74acde71c6941ea85fd3838e4d8af9a7e3c">2713b74</a></td><td><code>Remove CDV matrix classes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad1632c6e6242add19bdae3ef8de791a546dbbef">ad1632c</a></td><td><code>Implement tracks_precision() on base classes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27717577e95f5601ec221c7ce302028d0cec71f7">2771757</a></td><td><code>prettify documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/922ea393f882a3ac5e7319fe80fdf8070fd9d35f">922ea39</a></td><td><code>remove lift_to_maximal_precision</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e04b26fac5454937a4e348fa272774398d9aabc8">e04b26f</a></td><td><code>remove lift_to_maximal_precision</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea1f480000a1ea92e84dacd24370c6fdf354ccec">ea1f480</a></td><td><code>fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7198f2b9eb87b2c5e72308de7fa6edc5c2b1a7e2">7198f2b</a></td><td><code>rebase _matrix_smith_form</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e635699dfab09b4ba86ee3f83eb95d0d5f8463dc">e635699</a></td><td><code>implement Smith form tests</code></td></tr></table>




---

archive/issue_comments_355035.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\n\n```\nsage -t --warn-long 61.6 src/sage/rings/padics/padic_base_leaves.py  # 3 doctests failed\nsage -t --warn-long 61.6 src/sage/rings/padics/padic_extension_leaves.py  # 2 doctests failed\n```",
    "created_at": "2017-07-21T16:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355035",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:20'>Comment 20:</a>

```
sage -t --warn-long 61.6 src/sage/rings/padics/padic_base_leaves.py  # 3 doctests failed
sage -t --warn-long 61.6 src/sage/rings/padics/padic_extension_leaves.py  # 2 doctests failed
```



---

archive/issue_comments_355036.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39665f03bbcf456a592a86af5b8c55c8d114ef29\">39665f0</a></td><td><code>S is not square</code></td></tr></table>\n",
    "created_at": "2017-07-21T16:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355036",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'>Comment 21:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39665f03bbcf456a592a86af5b8c55c8d114ef29">39665f0</a></td><td><code>S is not square</code></td></tr></table>




---

archive/issue_comments_355037.json:
```json
{
    "body": "Changed commit from **[e635699](https://github.com/sagemath/sagetrac-mirror/commit/e635699dfab09b4ba86ee3f83eb95d0d5f8463dc)** to **[39665f0](https://github.com/sagemath/sagetrac-mirror/commit/39665f03bbcf456a592a86af5b8c55c8d114ef29)**",
    "created_at": "2017-07-21T16:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355037",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e635699](https://github.com/sagemath/sagetrac-mirror/commit/e635699dfab09b4ba86ee3f83eb95d0d5f8463dc)** to **[39665f0](https://github.com/sagemath/sagetrac-mirror/commit/39665f03bbcf456a592a86af5b8c55c8d114ef29)**



---

archive/issue_comments_355038.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nThe problem is always:\n\n```\n    Failure in _test_matrix_smith:\n    Traceback (most recent call last):\n      File \"/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 293, in run\n        test_method(tester = tester)\n      File \"/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/local/lib/python2.7/site-packages/sage/rings/padics/local_generic.py\", line 768, in _test_matrix_smith\n        S,U,V = M.smith_form()\n      File \"sage/matrix/matrix2.pyx\", line 13267, in sage.matrix.matrix2.Matrix.smith_form (/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/src/build/cythonized/sage/matrix/matrix2.c:94870)\n        return R._matrix_smith_form(self,transformation=transformation)\n      File \"/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/local/lib/python2.7/site-packages/sage/rings/padics/local_generic.py\", line 727, in _matrix_smith_form\n        inv = (S[piv,piv] >> val).inverse_of_unit()\n      File \"sage/rings/padics/local_generic_element.pyx\", line 160, in sage.rings.padics.local_generic_element.LocalGenericElement.inverse_of_unit (build/cythonized/sage/rings/padics/local_generic_element.c:2339)\n        raise ZeroDivisionError(\"Inverse does not exist.\")\n    ZeroDivisionError: Inverse does not exist.\n```",
    "created_at": "2017-07-21T16:54:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355038",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:22'>Comment 22:</a>
The problem is always:

```
    Failure in _test_matrix_smith:
    Traceback (most recent call last):
      File "/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 293, in run
        test_method(tester = tester)
      File "/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/local/lib/python2.7/site-packages/sage/rings/padics/local_generic.py", line 768, in _test_matrix_smith
        S,U,V = M.smith_form()
      File "sage/matrix/matrix2.pyx", line 13267, in sage.matrix.matrix2.Matrix.smith_form (/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/src/build/cythonized/sage/matrix/matrix2.c:94870)
        return R._matrix_smith_form(self,transformation=transformation)
      File "/projects/da1818ed-996d-4de6-acc6-361415b7725d/Src/sage-saraedum/local/lib/python2.7/site-packages/sage/rings/padics/local_generic.py", line 727, in _matrix_smith_form
        inv = (S[piv,piv] >> val).inverse_of_unit()
      File "sage/rings/padics/local_generic_element.pyx", line 160, in sage.rings.padics.local_generic_element.LocalGenericElement.inverse_of_unit (build/cythonized/sage/rings/padics/local_generic_element.c:2339)
        raise ZeroDivisionError("Inverse does not exist.")
    ZeroDivisionError: Inverse does not exist.
```



---

archive/issue_comments_355039.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nXavier: I am a bit confused. Is `integral_smith_form` the same as `change_ring(integer_ring).smith_form`?",
    "created_at": "2017-07-21T20:45:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355039",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:23'>Comment 23:</a>
Xavier: I am a bit confused. Is `integral_smith_form` the same as `change_ring(integer_ring).smith_form`?



---

archive/issue_comments_355040.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nIf the coefficients of the matrix lie in the integer ring, it is. But `integral_smith_form` is defined for any matrix defined over the fraction field.",
    "created_at": "2017-07-21T20:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355040",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:24'>Comment 24:</a>
If the coefficients of the matrix lie in the integer ring, it is. But `integral_smith_form` is defined for any matrix defined over the fraction field.



---

archive/issue_comments_355041.json:
```json
{
    "body": "Changed commit from **[39665f0](https://github.com/sagemath/sagetrac-mirror/commit/39665f03bbcf456a592a86af5b8c55c8d114ef29)** to **[554dffc](https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706)**",
    "created_at": "2017-07-21T20:51:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355041",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[39665f0](https://github.com/sagemath/sagetrac-mirror/commit/39665f03bbcf456a592a86af5b8c55c8d114ef29)** to **[554dffc](https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706)**



---

archive/issue_comments_355042.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706\">554dffc</a></td><td><code>Update documentation of smith_form</code></td></tr></table>\n",
    "created_at": "2017-07-21T20:51:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355042",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>Comment 25:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706">554dffc</a></td><td><code>Update documentation of smith_form</code></td></tr></table>




---

archive/issue_comments_355043.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nOk. I got confused by the comment:\n\n```\n- if `d_i` denotes the `(i,i)` entry of `S`, then `d_i`\ndivides `d_{i+1}` in the ring of integers for all `i`.\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706\">554dffc</a></td><td><code>Update documentation of smith_form</code></td></tr></table>\n",
    "created_at": "2017-07-21T21:04:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355043",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:26'>Comment 26:</a>
Ok. I got confused by the comment:

```
- if `d_i` denotes the `(i,i)` entry of `S`, then `d_i`
divides `d_{i+1}` in the ring of integers for all `i`.
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706">554dffc</a></td><td><code>Update documentation of smith_form</code></td></tr></table>




---

archive/issue_comments_355044.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9cc114e999d46f5f710d631e1f4ebd48036213d8\">9cc114e</a></td><td><code>clarify diagonal entries</code></td></tr></table>\n",
    "created_at": "2017-07-21T21:24:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355044",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>Comment 27:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9cc114e999d46f5f710d631e1f4ebd48036213d8">9cc114e</a></td><td><code>clarify diagonal entries</code></td></tr></table>




---

archive/issue_comments_355045.json:
```json
{
    "body": "Changed commit from **[554dffc](https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706)** to **[9cc114e](https://github.com/sagemath/sagetrac-mirror/commit/9cc114e999d46f5f710d631e1f4ebd48036213d8)**",
    "created_at": "2017-07-21T21:24:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355045",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[554dffc](https://github.com/sagemath/sagetrac-mirror/commit/554dffcb26886add95f3260cc21a607ba5e46706)** to **[9cc114e](https://github.com/sagemath/sagetrac-mirror/commit/9cc114e999d46f5f710d631e1f4ebd48036213d8)**



---

archive/issue_comments_355046.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4a9ad729e31ca6edbe94e68a8b85134eaa0e468\">e4a9ad7</a></td><td><code>Implement integral for smith normal form over local rings</code></td></tr></table>\n",
    "created_at": "2017-07-21T22:06:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355046",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:28'>Comment 28:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4a9ad729e31ca6edbe94e68a8b85134eaa0e468">e4a9ad7</a></td><td><code>Implement integral for smith normal form over local rings</code></td></tr></table>




---

archive/issue_comments_355047.json:
```json
{
    "body": "Changed commit from **[9cc114e](https://github.com/sagemath/sagetrac-mirror/commit/9cc114e999d46f5f710d631e1f4ebd48036213d8)** to **[e4a9ad7](https://github.com/sagemath/sagetrac-mirror/commit/e4a9ad729e31ca6edbe94e68a8b85134eaa0e468)**",
    "created_at": "2017-07-21T22:06:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355047",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9cc114e](https://github.com/sagemath/sagetrac-mirror/commit/9cc114e999d46f5f710d631e1f4ebd48036213d8)** to **[e4a9ad7](https://github.com/sagemath/sagetrac-mirror/commit/e4a9ad729e31ca6edbe94e68a8b85134eaa0e468)**



---

archive/issue_comments_355048.json:
```json
{
    "body": "Changed commit from **[e4a9ad7](https://github.com/sagemath/sagetrac-mirror/commit/e4a9ad729e31ca6edbe94e68a8b85134eaa0e468)** to **[502c887](https://github.com/sagemath/sagetrac-mirror/commit/502c8872f4db9c738b36947dca442e875b4cd70a)**",
    "created_at": "2017-07-21T22:20:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355048",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e4a9ad7](https://github.com/sagemath/sagetrac-mirror/commit/e4a9ad729e31ca6edbe94e68a8b85134eaa0e468)** to **[502c887](https://github.com/sagemath/sagetrac-mirror/commit/502c8872f4db9c738b36947dca442e875b4cd70a)**



---

archive/issue_comments_355049.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a519ab496b1a70c4e3eaf0c6ceb71d1d7fb54d8\">2a519ab</a></td><td><code>add itegral handling for Smith form over local rings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/502c8872f4db9c738b36947dca442e875b4cd70a\">502c887</a></td><td><code>Add integral keyword to smith_form implementations</code></td></tr></table>\n",
    "created_at": "2017-07-21T22:20:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355049",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:29'>Comment 29:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a519ab496b1a70c4e3eaf0c6ceb71d1d7fb54d8">2a519ab</a></td><td><code>add itegral handling for Smith form over local rings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/502c8872f4db9c738b36947dca442e875b4cd70a">502c887</a></td><td><code>Add integral keyword to smith_form implementations</code></td></tr></table>




---

archive/issue_comments_355050.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nXavier: That's about what I had in mind. What do you think? (There are still some failing tests.)",
    "created_at": "2017-07-21T22:27:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355050",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:30'>Comment 30:</a>
Xavier: That's about what I had in mind. What do you think? (There are still some failing tests.)



---

archive/issue_comments_355051.json:
```json
{
    "body": "Changed author from **Xavier Caruso** to **Xavier Caruso, Julian R\u00fcth**",
    "created_at": "2017-07-21T22:27:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355051",
    "user": "https://github.com/saraedum"
}
```

Changed author from **Xavier Caruso** to **Xavier Caruso, Julian Rüth**



---

archive/issue_events_297318.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T22:27:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297318"
}
```



---

archive/issue_events_297319.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T22:27:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297319"
}
```



---

archive/issue_comments_355052.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nOk for factoring the code this way if you prefer.\n\nHowever, I think that the current code doesn't output the expected answer for matrices over Qp with `integral=None` (though I haven't checked it). In that case, I would say that the entries of Smith normal norm should all be 0 or 1.\n\nIn the doctest, I think that we should precise that we require (1) that the matrices U and V are invertible over the subring and (2) that d_{i+1}/d_i lies in the subring for all i.",
    "created_at": "2017-07-21T22:56:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355052",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:31'>Comment 31:</a>
Ok for factoring the code this way if you prefer.

However, I think that the current code doesn't output the expected answer for matrices over Qp with `integral=None` (though I haven't checked it). In that case, I would say that the entries of Smith normal norm should all be 0 or 1.

In the doctest, I think that we should precise that we require (1) that the matrices U and V are invertible over the subring and (2) that d_{i+1}/d_i lies in the subring for all i.



---

archive/issue_comments_355053.json:
```json
{
    "body": "Changed work issues from **failing unit tests** to **failing unit tests, clarify meaning of integral, talk about precision**",
    "created_at": "2017-07-22T15:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355053",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **failing unit tests** to **failing unit tests, clarify meaning of integral, talk about precision**



---

archive/issue_comments_355054.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nXavier: Could you write something about what it means for an entry on the diagonal to be zero (in the field case)? I mean it is somewhat unclear since we compute with inexact elements.",
    "created_at": "2017-07-22T15:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355054",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:32'>Comment 32:</a>
Xavier: Could you write something about what it means for an entry on the diagonal to be zero (in the field case)? I mean it is somewhat unclear since we compute with inexact elements.



---

archive/issue_comments_355055.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\ndoc does not build\n\n```\n+[dochtml] [matrices ] docstring of sage.matrix.matrix2.Matrix.smith_form:26: WARNING: Bullet list ends without a blank line; unexpected unindent.\n+[dochtml] [matrices ] docstring of sage.matrix.matrix2.Matrix.smith_form:29: WARNING: Bullet list ends without a blank line; unexpected unindent.\n```\nThe issue is in the INPUT field there.",
    "created_at": "2017-08-25T06:58:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355055",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:33'>Comment 33:</a>
doc does not build

```
+[dochtml] [matrices ] docstring of sage.matrix.matrix2.Matrix.smith_form:26: WARNING: Bullet list ends without a blank line; unexpected unindent.
+[dochtml] [matrices ] docstring of sage.matrix.matrix2.Matrix.smith_form:29: WARNING: Bullet list ends without a blank line; unexpected unindent.
```
The issue is in the INPUT field there.



---

archive/issue_comments_355056.json:
```json
{
    "body": "Changed branch from **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)** to **[u/aly.deines/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/aly.deines/padic_smith)**",
    "created_at": "2017-08-25T16:13:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355056",
    "user": "https://github.com/adeines"
}
```

Changed branch from **[u/saraedum/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/padic_smith)** to **[u/aly.deines/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/aly.deines/padic_smith)**



---

archive/issue_comments_355057.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1fd5309a48cdd7843102fb04a25839e5f7738545\">1fd5309</a></td><td><code>Merge branch 'u/saraedum/padic_smith' of git://trac.sagemath.org/sage into t/23450/padic_smith</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89ec3ab13eb92d68c4ad2f12b10151041d31aefe\">89ec3ab</a></td><td><code>Removed trailing whitespace.</code></td></tr></table>\n",
    "created_at": "2017-08-25T17:33:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355057",
    "user": "https://github.com/adeines"
}
```

<a id='comment:35'>Comment 35:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1fd5309a48cdd7843102fb04a25839e5f7738545">1fd5309</a></td><td><code>Merge branch 'u/saraedum/padic_smith' of git://trac.sagemath.org/sage into t/23450/padic_smith</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89ec3ab13eb92d68c4ad2f12b10151041d31aefe">89ec3ab</a></td><td><code>Removed trailing whitespace.</code></td></tr></table>




---

archive/issue_comments_355058.json:
```json
{
    "body": "Changed commit from **[502c887](https://github.com/sagemath/sagetrac-mirror/commit/502c8872f4db9c738b36947dca442e875b4cd70a)** to **[89ec3ab](https://github.com/sagemath/sagetrac-mirror/commit/89ec3ab13eb92d68c4ad2f12b10151041d31aefe)**",
    "created_at": "2017-08-25T17:33:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355058",
    "user": "https://github.com/adeines"
}
```

Changed commit from **[502c887](https://github.com/sagemath/sagetrac-mirror/commit/502c8872f4db9c738b36947dca442e875b4cd70a)** to **[89ec3ab](https://github.com/sagemath/sagetrac-mirror/commit/89ec3ab13eb92d68c4ad2f12b10151041d31aefe)**



---

archive/issue_events_297320.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2017-08-25T17:33:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297320"
}
```



---

archive/issue_events_297321.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2017-08-25T17:33:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297321"
}
```



---

archive/issue_comments_355059.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nChanged to needs work because of above issues.",
    "created_at": "2017-08-25T17:33:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355059",
    "user": "https://github.com/adeines"
}
```

<a id='comment:36'>Comment 36:</a>
Changed to needs work because of above issues.



---

archive/issue_comments_355060.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\n*ping* - I could really use this p-adic smith form. (over `ZZp`)\nNeed help? (not an expert though)",
    "created_at": "2017-10-27T10:11:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355060",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:37'>Comment 37:</a>
*ping* - I could really use this p-adic smith form. (over `ZZp`)
Need help? (not an expert though)



---

archive/issue_comments_355061.json:
```json
{
    "body": "Changed branch from **[u/aly.deines/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/aly.deines/padic_smith)** to **[public/23450](https://github.com/sagemath/sagetrac-mirror/tree/public/23450)**",
    "created_at": "2017-12-05T14:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355061",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/aly.deines/padic_smith](https://github.com/sagemath/sagetrac-mirror/tree/u/aly.deines/padic_smith)** to **[public/23450](https://github.com/sagemath/sagetrac-mirror/tree/public/23450)**



---

archive/issue_comments_355062.json:
```json
{
    "body": "Changed commit from **[89ec3ab](https://github.com/sagemath/sagetrac-mirror/commit/89ec3ab13eb92d68c4ad2f12b10151041d31aefe)** to **[8b239f4](https://github.com/sagemath/sagetrac-mirror/commit/8b239f40ab22a1e524073e1a8765d034c86254da)**",
    "created_at": "2017-12-05T14:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355062",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[89ec3ab](https://github.com/sagemath/sagetrac-mirror/commit/89ec3ab13eb92d68c4ad2f12b10151041d31aefe)** to **[8b239f4](https://github.com/sagemath/sagetrac-mirror/commit/8b239f40ab22a1e524073e1a8765d034c86254da)**



---

archive/issue_comments_355063.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d92d3e9efd44a9d4261ff5935574a2759fa058e1\">d92d3e9</a></td><td><code>Merge branch 'u/aly.deines/padic_smith' in 8.1.rc4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b239f40ab22a1e524073e1a8765d034c86254da\">8b239f4</a></td><td><code>trac 23450 details of doc</code></td></tr></table>\n",
    "created_at": "2017-12-05T14:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355063",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:39'>Comment 39:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d92d3e9efd44a9d4261ff5935574a2759fa058e1">d92d3e9</a></td><td><code>Merge branch 'u/aly.deines/padic_smith' in 8.1.rc4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b239f40ab22a1e524073e1a8765d034c86254da">8b239f4</a></td><td><code>trac 23450 details of doc</code></td></tr></table>




---

archive/issue_events_297322.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-12-05T14:30:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297322"
}
```



---

archive/issue_events_297323.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-12-05T14:30:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297323"
}
```



---

archive/issue_events_297324.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-12-05T14:30:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297324"
}
```



---

archive/issue_events_297325.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-12-05T14:30:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297325"
}
```



---

archive/issue_comments_355064.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93d4e32a40f8870c0345ddbcac178839f0cdef42\">93d4e32</a></td><td><code>Merge branch 'public/23450' in 8.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14f591c94af65b88673f0c295f3c00c093468755\">14f591c</a></td><td><code>fixing 2 doctests</code></td></tr></table>\n",
    "created_at": "2017-12-08T12:43:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355064",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:41'>Comment 41:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93d4e32a40f8870c0345ddbcac178839f0cdef42">93d4e32</a></td><td><code>Merge branch 'public/23450' in 8.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14f591c94af65b88673f0c295f3c00c093468755">14f591c</a></td><td><code>fixing 2 doctests</code></td></tr></table>




---

archive/issue_comments_355065.json:
```json
{
    "body": "Changed commit from **[8b239f4](https://github.com/sagemath/sagetrac-mirror/commit/8b239f40ab22a1e524073e1a8765d034c86254da)** to **[14f591c](https://github.com/sagemath/sagetrac-mirror/commit/14f591c94af65b88673f0c295f3c00c093468755)**",
    "created_at": "2017-12-08T12:43:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355065",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8b239f4](https://github.com/sagemath/sagetrac-mirror/commit/8b239f40ab22a1e524073e1a8765d034c86254da)** to **[14f591c](https://github.com/sagemath/sagetrac-mirror/commit/14f591c94af65b88673f0c295f3c00c093468755)**



---

archive/issue_comments_355066.json:
```json
{
    "body": "Changed commit from **[14f591c](https://github.com/sagemath/sagetrac-mirror/commit/14f591c94af65b88673f0c295f3c00c093468755)** to **[cf85a34](https://github.com/sagemath/sagetrac-mirror/commit/cf85a341259e09416413bd7b29ec99e8e0597c62)**",
    "created_at": "2018-02-26T14:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355066",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[14f591c](https://github.com/sagemath/sagetrac-mirror/commit/14f591c94af65b88673f0c295f3c00c093468755)** to **[cf85a34](https://github.com/sagemath/sagetrac-mirror/commit/cf85a341259e09416413bd7b29ec99e8e0597c62)**



---

archive/issue_comments_355067.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf85a341259e09416413bd7b29ec99e8e0597c62\">cf85a34</a></td><td><code>Merge branch 'public/23450' of ssh://trac.sagemath.org/sage into t/23450/padic_smith</code></td></tr></table>\n",
    "created_at": "2018-02-26T14:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355067",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:42'>Comment 42:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf85a341259e09416413bd7b29ec99e8e0597c62">cf85a34</a></td><td><code>Merge branch 'public/23450' of ssh://trac.sagemath.org/sage into t/23450/padic_smith</code></td></tr></table>




---

archive/issue_comments_355068.json:
```json
{
    "body": "Changed commit from **[cf85a34](https://github.com/sagemath/sagetrac-mirror/commit/cf85a341259e09416413bd7b29ec99e8e0597c62)** to **[7ad838a](https://github.com/sagemath/sagetrac-mirror/commit/7ad838a41517a89f6906ec1fda018e3029db7436)**",
    "created_at": "2018-02-26T15:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355068",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cf85a34](https://github.com/sagemath/sagetrac-mirror/commit/cf85a341259e09416413bd7b29ec99e8e0597c62)** to **[7ad838a](https://github.com/sagemath/sagetrac-mirror/commit/7ad838a41517a89f6906ec1fda018e3029db7436)**



---

archive/issue_comments_355069.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ad838a41517a89f6906ec1fda018e3029db7436\">7ad838a</a></td><td><code>Remove _get_matrix_class that was inadvertently added in a merge</code></td></tr></table>\n",
    "created_at": "2018-02-26T15:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355069",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:43'>Comment 43:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ad838a41517a89f6906ec1fda018e3029db7436">7ad838a</a></td><td><code>Remove _get_matrix_class that was inadvertently added in a merge</code></td></tr></table>




---

archive/issue_comments_355070.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5863a1757c05e36e832fd1f743d31127edbe7a0\">b5863a1</a></td><td><code>Add newline back in from fix to matrix_space.py</code></td></tr></table>\n",
    "created_at": "2018-02-26T15:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355070",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:44'>Comment 44:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5863a1757c05e36e832fd1f743d31127edbe7a0">b5863a1</a></td><td><code>Add newline back in from fix to matrix_space.py</code></td></tr></table>




---

archive/issue_comments_355071.json:
```json
{
    "body": "Changed commit from **[7ad838a](https://github.com/sagemath/sagetrac-mirror/commit/7ad838a41517a89f6906ec1fda018e3029db7436)** to **[b5863a1](https://github.com/sagemath/sagetrac-mirror/commit/b5863a1757c05e36e832fd1f743d31127edbe7a0)**",
    "created_at": "2018-02-26T15:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355071",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7ad838a](https://github.com/sagemath/sagetrac-mirror/commit/7ad838a41517a89f6906ec1fda018e3029db7436)** to **[b5863a1](https://github.com/sagemath/sagetrac-mirror/commit/b5863a1757c05e36e832fd1f743d31127edbe7a0)**



---

archive/issue_comments_355072.json:
```json
{
    "body": "Changed commit from **[b5863a1](https://github.com/sagemath/sagetrac-mirror/commit/b5863a1757c05e36e832fd1f743d31127edbe7a0)** to **[777f494](https://github.com/sagemath/sagetrac-mirror/commit/777f494e5c8a9924c740c55f636b1e9f10454cb4)**",
    "created_at": "2018-02-26T17:29:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355072",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b5863a1](https://github.com/sagemath/sagetrac-mirror/commit/b5863a1757c05e36e832fd1f743d31127edbe7a0)** to **[777f494](https://github.com/sagemath/sagetrac-mirror/commit/777f494e5c8a9924c740c55f636b1e9f10454cb4)**



---

archive/issue_comments_355073.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/777f494e5c8a9924c740c55f636b1e9f10454cb4\">777f494</a></td><td><code>Remove the tracks_precision method and update the p-adic smith form to be able to deal with lattice elements</code></td></tr></table>\n",
    "created_at": "2018-02-26T17:29:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355073",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:45'>Comment 45:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/777f494e5c8a9924c740c55f636b1e9f10454cb4">777f494</a></td><td><code>Remove the tracks_precision method and update the p-adic smith form to be able to deal with lattice elements</code></td></tr></table>




---

archive/issue_comments_355074.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d78a1d58857c0a635f6a0f451ccac57e29df28c3\">d78a1d5</a></td><td><code>Add exact parameter to _matrix_smith_form, fix precision behavior and allow integral=True for non-padic matrices</code></td></tr></table>\n",
    "created_at": "2018-02-28T13:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355074",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:46'>Comment 46:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d78a1d58857c0a635f6a0f451ccac57e29df28c3">d78a1d5</a></td><td><code>Add exact parameter to _matrix_smith_form, fix precision behavior and allow integral=True for non-padic matrices</code></td></tr></table>




---

archive/issue_comments_355075.json:
```json
{
    "body": "Changed commit from **[777f494](https://github.com/sagemath/sagetrac-mirror/commit/777f494e5c8a9924c740c55f636b1e9f10454cb4)** to **[d78a1d5](https://github.com/sagemath/sagetrac-mirror/commit/d78a1d58857c0a635f6a0f451ccac57e29df28c3)**",
    "created_at": "2018-02-28T13:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355075",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[777f494](https://github.com/sagemath/sagetrac-mirror/commit/777f494e5c8a9924c740c55f636b1e9f10454cb4)** to **[d78a1d5](https://github.com/sagemath/sagetrac-mirror/commit/d78a1d58857c0a635f6a0f451ccac57e29df28c3)**



---

archive/issue_comments_355076.json:
```json
{
    "body": "Changed author from **Xavier Caruso, Julian R\u00fcth** to **Xavier Caruso, Julian R\u00fcth, David Roe**",
    "created_at": "2018-02-28T13:38:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355076",
    "user": "https://github.com/roed314"
}
```

Changed author from **Xavier Caruso, Julian Rüth** to **Xavier Caruso, Julian Rüth, David Roe**



---

archive/issue_events_297326.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-02-28T13:38:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297326"
}
```



---

archive/issue_events_297327.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-02-28T13:38:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297327"
}
```



---

archive/issue_comments_355077.json:
```json
{
    "body": "<a id='comment:47'>Comment 47:</a>\nIf Xavier is happy with my changes, I'm happy to give this positive review.",
    "created_at": "2018-02-28T13:38:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355077",
    "user": "https://github.com/roed314"
}
```

<a id='comment:47'>Comment 47:</a>
If Xavier is happy with my changes, I'm happy to give this positive review.



---

archive/issue_comments_355078.json:
```json
{
    "body": "Changed reviewer from **Julian R\u00fcth** to **Julian R\u00fcth, David Roe**",
    "created_at": "2018-02-28T13:38:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355078",
    "user": "https://github.com/roed314"
}
```

Changed reviewer from **Julian Rüth** to **Julian Rüth, David Roe**



---

archive/issue_comments_355079.json:
```json
{
    "body": "Changed commit from **[d78a1d5](https://github.com/sagemath/sagetrac-mirror/commit/d78a1d58857c0a635f6a0f451ccac57e29df28c3)** to **[f7d4e38](https://github.com/sagemath/sagetrac-mirror/commit/f7d4e3833eee9ef8138d2d01bb3ffbce400ba9d0)**",
    "created_at": "2018-02-28T15:44:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355079",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d78a1d5](https://github.com/sagemath/sagetrac-mirror/commit/d78a1d58857c0a635f6a0f451ccac57e29df28c3)** to **[f7d4e38](https://github.com/sagemath/sagetrac-mirror/commit/f7d4e3833eee9ef8138d2d01bb3ffbce400ba9d0)**



---

archive/issue_comments_355080.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7d4e3833eee9ef8138d2d01bb3ffbce400ba9d0\">f7d4e38</a></td><td><code>lift_to_precision() was missing at some point</code></td></tr></table>\n",
    "created_at": "2018-02-28T15:44:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355080",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:48'>Comment 48:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7d4e3833eee9ef8138d2d01bb3ffbce400ba9d0">f7d4e38</a></td><td><code>lift_to_precision() was missing at some point</code></td></tr></table>




---

archive/issue_comments_355081.json:
```json
{
    "body": "<a id='comment:49'>Comment 49:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d46aa51e56133ec125d90698ffb1974f186a31d\">0d46aa5</a></td><td><code>Add a test: Smith form of the zero matrix</code></td></tr></table>\n",
    "created_at": "2018-02-28T16:14:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355081",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:49'>Comment 49:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d46aa51e56133ec125d90698ffb1974f186a31d">0d46aa5</a></td><td><code>Add a test: Smith form of the zero matrix</code></td></tr></table>




---

archive/issue_comments_355082.json:
```json
{
    "body": "Changed commit from **[f7d4e38](https://github.com/sagemath/sagetrac-mirror/commit/f7d4e3833eee9ef8138d2d01bb3ffbce400ba9d0)** to **[0d46aa5](https://github.com/sagemath/sagetrac-mirror/commit/0d46aa51e56133ec125d90698ffb1974f186a31d)**",
    "created_at": "2018-02-28T16:14:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355082",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f7d4e38](https://github.com/sagemath/sagetrac-mirror/commit/f7d4e3833eee9ef8138d2d01bb3ffbce400ba9d0)** to **[0d46aa5](https://github.com/sagemath/sagetrac-mirror/commit/0d46aa51e56133ec125d90698ffb1974f186a31d)**



---

archive/issue_comments_355083.json:
```json
{
    "body": "<a id='comment:50'>Comment 50:</a>\nI've fixed a small issue with precision.\n\nNow, everything seems fine to me. I let you give a positive review if you're OK (and if the patchbot is happy)",
    "created_at": "2018-02-28T16:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355083",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:50'>Comment 50:</a>
I've fixed a small issue with precision.

Now, everything seems fine to me. I let you give a positive review if you're OK (and if the patchbot is happy)



---

archive/issue_events_297328.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-02-28T19:43:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297328"
}
```



---

archive/issue_events_297329.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-02-28T19:43:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297329"
}
```



---

archive/issue_events_297330.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-02-28T19:43:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297330"
}
```



---

archive/issue_comments_355084.json:
```json
{
    "body": "<a id='comment:51'>Comment 51:</a>\nPatchbot is green, so positive review.",
    "created_at": "2018-02-28T19:43:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355084",
    "user": "https://github.com/roed314"
}
```

<a id='comment:51'>Comment 51:</a>
Patchbot is green, so positive review.



---

archive/issue_events_297331.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-17T07:38:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297331"
}
```



---

archive/issue_comments_355085.json:
```json
{
    "body": "Changed work issues from **failing unit tests, clarify meaning of integral, talk about precision** to none",
    "created_at": "2018-03-17T08:12:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355085",
    "user": "https://github.com/fchapoton"
}
```

Changed work issues from **failing unit tests, clarify meaning of integral, talk about precision** to none



---

archive/issue_comments_355086.json:
```json
{
    "body": "<a id='comment:54'>Comment 54:</a>\nTests fail\n\n```\n    UnboundLocalError: local variable 'precM' referenced before assignment\n```",
    "created_at": "2018-03-20T23:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355086",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:54'>Comment 54:</a>
Tests fail

```
    UnboundLocalError: local variable 'precM' referenced before assignment
```



---

archive/issue_events_297332.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-20T23:22:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297332"
}
```



---

archive/issue_events_297333.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-03-20T23:22:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297333"
}
```



---

archive/issue_comments_355087.json:
```json
{
    "body": "<a id='comment:55'>Comment 55:</a>\nLet me add a bit of details, 6 doctests fails\n\n```\nsage -t --long /usr/lib64/python2.7/site-packages/sage/rings/padics/padic_lattice_element.py  # 4 doctests failed\nsage -t --long /usr/lib64/python2.7/site-packages/sage/rings/padics/padic_base_leaves.py  # 2 doctests failed\n```\n and they all fail the same way\n\n```\nFile \"/usr/lib64/python2.7/site-packages/sage/rings/padics/padic_base_leaves.py\", line 879, in sage.rings.padics.padic_base_leaves.pAdicRingLattice.__init__\nFailed example:\n    TestSuite(R).run(skip='_test_teichmuller')\nExpected nothing\nGot:\n    Failure in _test_matrix_smith:\n    Traceback (most recent call last):\n      File \"/usr/lib64/python2.7/site-packages/sage/misc/sage_unittest.py\", line 294, in run\n        test_method(tester = tester)\n      File \"/usr/lib64/python2.7/site-packages/sage/rings/padics/local_generic.py\", line 1248, in _test_matrix_smith\n        S,U,V = M.smith_form(integral=base)\n      File \"sage/matrix/matrix2.pyx\", line 13416, in sage.matrix.matrix2.Matrix.smith_form (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/cythonized/sage/matrix/matrix2.c:96167)\n        return R._matrix_smith_form(self, transformation=transformation, integral=integral, exact=exact)\n      File \"/usr/lib64/python2.7/site-packages/sage/rings/padics/local_generic.py\", line 1148, in _matrix_smith_form\n        if inexact_ring and not allzero and val >= precM:\n    UnboundLocalError: local variable 'precM' referenced before assignment\n    ------------------------------------------------------------\n    The following tests failed: _test_matrix_smith\n```\nending in `local_generic.py`.",
    "created_at": "2018-03-21T00:49:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355087",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:55'>Comment 55:</a>
Let me add a bit of details, 6 doctests fails

```
sage -t --long /usr/lib64/python2.7/site-packages/sage/rings/padics/padic_lattice_element.py  # 4 doctests failed
sage -t --long /usr/lib64/python2.7/site-packages/sage/rings/padics/padic_base_leaves.py  # 2 doctests failed
```
 and they all fail the same way

```
File "/usr/lib64/python2.7/site-packages/sage/rings/padics/padic_base_leaves.py", line 879, in sage.rings.padics.padic_base_leaves.pAdicRingLattice.__init__
Failed example:
    TestSuite(R).run(skip='_test_teichmuller')
Expected nothing
Got:
    Failure in _test_matrix_smith:
    Traceback (most recent call last):
      File "/usr/lib64/python2.7/site-packages/sage/misc/sage_unittest.py", line 294, in run
        test_method(tester = tester)
      File "/usr/lib64/python2.7/site-packages/sage/rings/padics/local_generic.py", line 1248, in _test_matrix_smith
        S,U,V = M.smith_form(integral=base)
      File "sage/matrix/matrix2.pyx", line 13416, in sage.matrix.matrix2.Matrix.smith_form (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/cythonized/sage/matrix/matrix2.c:96167)
        return R._matrix_smith_form(self, transformation=transformation, integral=integral, exact=exact)
      File "/usr/lib64/python2.7/site-packages/sage/rings/padics/local_generic.py", line 1148, in _matrix_smith_form
        if inexact_ring and not allzero and val >= precM:
    UnboundLocalError: local variable 'precM' referenced before assignment
    ------------------------------------------------------------
    The following tests failed: _test_matrix_smith
```
ending in `local_generic.py`.



---

archive/issue_comments_355088.json:
```json
{
    "body": "Changed commit from **[0d46aa5](https://github.com/sagemath/sagetrac-mirror/commit/0d46aa51e56133ec125d90698ffb1974f186a31d)** to **[e6f54bb](https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9)**",
    "created_at": "2018-03-22T22:09:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355088",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0d46aa5](https://github.com/sagemath/sagetrac-mirror/commit/0d46aa51e56133ec125d90698ffb1974f186a31d)** to **[e6f54bb](https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9)**



---

archive/issue_comments_355089.json:
```json
{
    "body": "<a id='comment:56'>Comment 56:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0613f843ca152a5aa09860d37dddb9650eeccfc9\">0613f84</a></td><td><code>Recompute precM in the lattice precision framework</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9\">e6f54bb</a></td><td><code>Merge branch 'develop' into t/23450/public/23450</code></td></tr></table>\n",
    "created_at": "2018-03-22T22:09:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355089",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:56'>Comment 56:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0613f843ca152a5aa09860d37dddb9650eeccfc9">0613f84</a></td><td><code>Recompute precM in the lattice precision framework</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9">e6f54bb</a></td><td><code>Merge branch 'develop' into t/23450/public/23450</code></td></tr></table>




---

archive/issue_comments_355090.json:
```json
{
    "body": "<a id='comment:57'>Comment 57:</a>\nShould be fixed.",
    "created_at": "2018-03-22T22:11:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355090",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:57'>Comment 57:</a>
Should be fixed.



---

archive/issue_events_297334.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2018-03-22T22:11:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297334"
}
```



---

archive/issue_events_297335.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2018-03-22T22:11:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297335"
}
```



---

archive/issue_comments_355091.json:
```json
{
    "body": "<a id='comment:58'>Comment 58:</a>\nThe patchbots continue to be noisy, but this looks good to me.",
    "created_at": "2018-03-29T20:04:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355091",
    "user": "https://github.com/roed314"
}
```

<a id='comment:58'>Comment 58:</a>
The patchbots continue to be noisy, but this looks good to me.



---

archive/issue_events_297336.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-03-29T20:04:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297336"
}
```



---

archive/issue_events_297337.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-03-29T20:04:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297337"
}
```



---

archive/issue_events_297338.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:27:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297338"
}
```



---

archive/issue_events_297339.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "94e5a73e75e6d300cca1dfb7481f58fb9290796c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-08T17:27:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23450#event-297339"
}
```



---

archive/issue_comments_355092.json:
```json
{
    "body": "Changed branch from **[public/23450](https://github.com/sagemath/sagetrac-mirror/tree/public/23450)** to **[e6f54bb](https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9)**",
    "created_at": "2018-05-08T17:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23450#issuecomment-355092",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/23450](https://github.com/sagemath/sagetrac-mirror/tree/public/23450)** to **[e6f54bb](https://github.com/sagemath/sagetrac-mirror/commit/e6f54bb5b0849b7654d645dc63171af9001e7ae9)**
