# Issue 23443: More Schubert polynomial shenanigans

archive/issues_023206.json:
```json
{
    "assignees": [],
    "body": "Title stolen from Stanley, but this is, alas, a bug, not a determinant conjecture:\n\n```\nsage: X = SchubertPolynomialRing(ZZ)\nsage: X([]).expand()\n1\nsage: X([1]).expand()\n1\nsage: X([]) == X([1])\nFalse\n```\n\nNormally, `X(perm)` reduces the permutation `perm` by removing all fixed points attached to its right end (i.e., if a permutation in `S_n` sends `n` to `n`, then it reduces it to a permutation in `S_{n-1}` and so on, until this reduction is no longer possible). And rightfully so, since the Schubert basis is indexed by reduced permutations.\n\n```\nsage: X = SchubertPolynomialRing(ZZ)\nsage: X([1])\nX[1]\nsage: X([1,2])\nX[1]\nsage: X([1,2,3])\nX[1]\n```\nHowever, it fails to reduce `[1]` to `[]` due to the behavior of `Permutation.remove_extra_fixed_points`.\n\nCan we just fix it, or does symmetrica break on contact with the empty list? In the latter case, should we reduce `[]` to `[1]` instead?\n\nRelated: #23403.\n\nCC:  @tscrim @sagetrac-sage-combinat @anneschilling @VivianePons\n\nComponent: **combinatorics**\n\nKeywords: **schubert, polynomials, divided differences**\n\nAuthor: **Darij Grinberg**\n\nBranch/Commit: **[`94d9d75`](https://github.com/sagemath/sagetrac-mirror/commit/94d9d75d07444fac858d9954992ccc89e6bcb349)**\n\nReviewer: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23443_\n\n",
    "closed_at": "2022-06-12T23:08:49Z",
    "created_at": "2017-07-16T12:03:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "More Schubert polynomial shenanigans",
    "type": "issue",
    "updated_at": "2022-06-12T23:08:49Z",
    "url": "https://github.com/sagemath/sage/issues/23443",
    "user": "https://github.com/darijgr"
}
```
Title stolen from Stanley, but this is, alas, a bug, not a determinant conjecture:

```
sage: X = SchubertPolynomialRing(ZZ)
sage: X([]).expand()
1
sage: X([1]).expand()
1
sage: X([]) == X([1])
False
```

Normally, `X(perm)` reduces the permutation `perm` by removing all fixed points attached to its right end (i.e., if a permutation in `S_n` sends `n` to `n`, then it reduces it to a permutation in `S_{n-1}` and so on, until this reduction is no longer possible). And rightfully so, since the Schubert basis is indexed by reduced permutations.

```
sage: X = SchubertPolynomialRing(ZZ)
sage: X([1])
X[1]
sage: X([1,2])
X[1]
sage: X([1,2,3])
X[1]
```
However, it fails to reduce `[1]` to `[]` due to the behavior of `Permutation.remove_extra_fixed_points`.

Can we just fix it, or does symmetrica break on contact with the empty list? In the latter case, should we reduce `[]` to `[1]` instead?

Related: #23403.

CC:  @tscrim @sagetrac-sage-combinat @anneschilling @VivianePons

Component: **combinatorics**

Keywords: **schubert, polynomials, divided differences**

Author: **Darij Grinberg**

Branch/Commit: **[`94d9d75`](https://github.com/sagemath/sagetrac-mirror/commit/94d9d75d07444fac858d9954992ccc89e6bcb349)**

Reviewer: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/23443_





---

archive/issue_events_323443.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2017-07-16T12:03:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323443"
}
```



---

archive/issue_events_323444.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2017-07-16T12:03:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323444"
}
```



---

archive/issue_events_323445.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2017-07-16T12:03:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323445"
}
```



---

archive/issue_events_323446.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2017-07-16T12:03:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323446"
}
```



---

archive/issue_comments_352125.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI've updated the ticket description to better describe where the error is coming from (rather than the symptom).\n\nThere does seem to be some issue with symmetrica and empty lists:\n\n```\nsage: X([]) * X([1])\nfunction: copy code: 4294967295 \npython: : Numerical argument out of domain\nsage: X([]) * X([])\nfunction: copy code: 4294967295 \npython: : Numerical argument out of domain\n```\nMore shenanigans:\n\n```\nsage: it = iter(X.basis())\nsage: [it.next() for _ in range(10)]\n[X[],\n X[1],\n X[1, 2],\n X[2, 1],\n X[1, 2, 3],\n X[1, 3, 2],\n X[2, 1, 3],\n X[2, 3, 1],\n X[3, 1, 2],\n X[3, 2, 1]]\n```\nSo one of the definite problems is that the indexing set could be considered too big. However, we could also consider `X` as a tower of polynomial rings, so it would make sense to distinguish `X[1, 2]` from `X[1]`, etc. by considering each within a homogeneous component with a fixed number of variables.",
    "created_at": "2017-07-16T13:49:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352125",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:2" align="right">comment:2</div>

I've updated the ticket description to better describe where the error is coming from (rather than the symptom).

There does seem to be some issue with symmetrica and empty lists:

```
sage: X([]) * X([1])
function: copy code: 4294967295 
python: : Numerical argument out of domain
sage: X([]) * X([])
function: copy code: 4294967295 
python: : Numerical argument out of domain
```
More shenanigans:

```
sage: it = iter(X.basis())
sage: [it.next() for _ in range(10)]
[X[],
 X[1],
 X[1, 2],
 X[2, 1],
 X[1, 2, 3],
 X[1, 3, 2],
 X[2, 1, 3],
 X[2, 3, 1],
 X[3, 1, 2],
 X[3, 2, 1]]
```
So one of the definite problems is that the indexing set could be considered too big. However, we could also consider `X` as a tower of polynomial rings, so it would make sense to distinguish `X[1, 2]` from `X[1]`, etc. by considering each within a homogeneous component with a fixed number of variables.



---

archive/issue_comments_352126.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,7 +10,18 @@\n False\n ```\n \n-Normally, `X(perm)` reduces the permutation `perm` by removing all fixed points attached to its right end (i.e., if a permutation in `S_n` sends `n` to `n`, then it reduces it to a permutation in `S_{n-1}` and so on, until this reduction is no longer possible). And rightfully so, since the Schubert basis is indexed by reduced permutations. However, it fails to reduce `[1]` to `[]`.\n+Normally, `X(perm)` reduces the permutation `perm` by removing all fixed points attached to its right end (i.e., if a permutation in `S_n` sends `n` to `n`, then it reduces it to a permutation in `S_{n-1}` and so on, until this reduction is no longer possible). And rightfully so, since the Schubert basis is indexed by reduced permutations.\n+\n+```\n+sage: X = SchubertPolynomialRing(ZZ)\n+sage: X([1])\n+X[1]\n+sage: X([1,2])\n+X[1]\n+sage: X([1,2,3])\n+X[1]\n+```\n+However, it fails to reduce `[1]` to `[]` due to the behavior of `Permutation.remove_extra_fixed_points`.\n \n Can we just fix it, or does symmetrica break on contact with the empty list? In the latter case, should we reduce `[]` to `[1]` instead?\n \n``````\n",
    "created_at": "2017-07-16T13:49:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352126",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,7 +10,18 @@
 False
 ```
 
-Normally, `X(perm)` reduces the permutation `perm` by removing all fixed points attached to its right end (i.e., if a permutation in `S_n` sends `n` to `n`, then it reduces it to a permutation in `S_{n-1}` and so on, until this reduction is no longer possible). And rightfully so, since the Schubert basis is indexed by reduced permutations. However, it fails to reduce `[1]` to `[]`.
+Normally, `X(perm)` reduces the permutation `perm` by removing all fixed points attached to its right end (i.e., if a permutation in `S_n` sends `n` to `n`, then it reduces it to a permutation in `S_{n-1}` and so on, until this reduction is no longer possible). And rightfully so, since the Schubert basis is indexed by reduced permutations.
+
+```
+sage: X = SchubertPolynomialRing(ZZ)
+sage: X([1])
+X[1]
+sage: X([1,2])
+X[1]
+sage: X([1,2,3])
+X[1]
+```
+However, it fails to reduce `[1]` to `[]` due to the behavior of `Permutation.remove_extra_fixed_points`.
 
 Can we just fix it, or does symmetrica break on contact with the empty list? In the latter case, should we reduce `[]` to `[1]` instead?
 
``````




---

archive/issue_comments_352127.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThe way I understand Schubert polynomials, you either deal with them in a fixed number of indeterminates (in which case the basis is indexed by `S_n`), or in infinitely many indeterminates (in which case the basis is indexed by `S_0 \\cup S_1 \\cup S_2 \\cup ...`, and this is an increasing union, not a disjoint union -- i.e., we identify permutations that only differ in trailing fixed points). I have never seen a situation where Schubert polynomials have a basis indexed by the *disjoint* union `S_0 \\sqcup S_1 \\sqcup S_2 \\sqcup ...`; they are not the Malvenuto-Reutenauer Hopf algebra. So I think the `basis` method is wrong here.",
    "created_at": "2017-07-16T13:54:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352127",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:3" align="right">comment:3</div>

The way I understand Schubert polynomials, you either deal with them in a fixed number of indeterminates (in which case the basis is indexed by `S_n`), or in infinitely many indeterminates (in which case the basis is indexed by `S_0 \cup S_1 \cup S_2 \cup ...`, and this is an increasing union, not a disjoint union -- i.e., we identify permutations that only differ in trailing fixed points). I have never seen a situation where Schubert polynomials have a basis indexed by the *disjoint* union `S_0 \sqcup S_1 \sqcup S_2 \sqcup ...`; they are not the Malvenuto-Reutenauer Hopf algebra. So I think the `basis` method is wrong here.



---

archive/issue_comments_352128.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nBy doing the tower approach, you can get a little bit of both worlds: you are considering a fixed number of variables that you can arbitrarily move between different rings (i.e., you do not have to deal with coercions between different parents). I do not have any preference on what approach is taken; I am just stating how I understand the code.\n\nHowever, there are some large inconsistencies between the code parts (and possibly the doc). Those do need to be fixed. We might just be better off changing the entire class to perhaps do some slight adjustments to the permutations when sending them back and forth with symmetrica.",
    "created_at": "2017-07-16T14:02:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352128",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">comment:4</div>

By doing the tower approach, you can get a little bit of both worlds: you are considering a fixed number of variables that you can arbitrarily move between different rings (i.e., you do not have to deal with coercions between different parents). I do not have any preference on what approach is taken; I am just stating how I understand the code.

However, there are some large inconsistencies between the code parts (and possibly the doc). Those do need to be fixed. We might just be better off changing the entire class to perhaps do some slight adjustments to the permutations when sending them back and forth with symmetrica.



---

archive/issue_comments_352129.json:
```json
{
    "body": "Attachment: **[schubert-1.diff.gz](https://github.com/sagemath/sage/files/ticket23443/schubert-1.diff.gz)**\n\nFixing X([]) misbehaving and X([1]).expand() not properly coercing",
    "created_at": "2022-04-16T22:33:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352129",
    "user": "https://github.com/darijgr"
}
```

Attachment: **[schubert-1.diff.gz](https://github.com/sagemath/sage/files/ticket23443/schubert-1.diff.gz)**

Fixing X([]) misbehaving and X([1]).expand() not properly coercing



---

archive/issue_comments_352130.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThe attached schubert-1.diff file (I can't push for some stupid security reasons) fixes two basic bugs: the X([]) shenanigans (it's X([1]) now) and the problems stemming from X([1]).expand() landing in Z[x] instead of Z[x0] (which led to the product X([1]).expand() * X([1,2]).expand() being undefined).\n\nThe basis() method still needs to be fixed.",
    "created_at": "2022-04-16T22:35:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352130",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:5" align="right">comment:5</div>

The attached schubert-1.diff file (I can't push for some stupid security reasons) fixes two basic bugs: the X([]) shenanigans (it's X([1]) now) and the problems stemming from X([1]).expand() landing in Z[x] instead of Z[x0] (which led to the product X([1]).expand() * X([1,2]).expand() being undefined).

The basis() method still needs to be fixed.



---

archive/issue_comments_352131.json:
```json
{
    "body": "Branch: **[public/combinat/schubert_shenanigans-23443](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/schubert_shenanigans-23443)**",
    "created_at": "2022-04-25T02:06:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352131",
    "user": "https://github.com/tscrim"
}
```

Branch: **[public/combinat/schubert_shenanigans-23443](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/schubert_shenanigans-23443)**



---

archive/issue_comments_352132.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2022-04-25T02:06:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352132",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_323447.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-04-25T02:06:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323447"
}
```



---

archive/issue_comments_352133.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nIs there anything else that is needed for this ticket? If not, then you can set a positive review if I have applied your patch correctly.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/379fc130015e2b9f77a28e03c7f87312b2a7f204\"><code>379fc13</code></a></td><td><code>Applying Darij's patch to better normalize permutations for Schubert polynomials.</code></td></tr></table>\n",
    "created_at": "2022-04-25T02:06:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352133",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">comment:6</div>

Is there anything else that is needed for this ticket? If not, then you can set a positive review if I have applied your patch correctly.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/379fc130015e2b9f77a28e03c7f87312b2a7f204"><code>379fc13</code></a></td><td><code>Applying Darij's patch to better normalize permutations for Schubert polynomials.</code></td></tr></table>




---

archive/issue_comments_352134.json:
```json
{
    "body": "Commit: **[`379fc13`](https://github.com/sagemath/sagetrac-mirror/commit/379fc130015e2b9f77a28e03c7f87312b2a7f204)**",
    "created_at": "2022-04-25T02:06:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352134",
    "user": "https://github.com/tscrim"
}
```

Commit: **[`379fc13`](https://github.com/sagemath/sagetrac-mirror/commit/379fc130015e2b9f77a28e03c7f87312b2a7f204)**



---

archive/issue_comments_352135.json:
```json
{
    "body": "Author: **Darij Grinberg**",
    "created_at": "2022-04-25T02:06:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352135",
    "user": "https://github.com/tscrim"
}
```

Author: **Darij Grinberg**



---

archive/issue_events_323448.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-04-25T02:06:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323448"
}
```



---

archive/issue_events_323449.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-04-25T02:06:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323449"
}
```



---

archive/issue_events_323450.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2022-04-27T12:15:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323450"
}
```



---

archive/issue_events_323451.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2022-04-27T12:15:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323451"
}
```



---

archive/issue_comments_352136.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThe basis still needs fixing (it has too many elements because it doesn't enforce the \"no unnecessary fixed points at the end\" rule for its permutation). But I'll open a new ticket for that.\n\nThanks for posting and reviewing, Travis!",
    "created_at": "2022-04-27T12:15:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352136",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:8" align="right">comment:8</div>

The basis still needs fixing (it has too many elements because it doesn't enforce the "no unnecessary fixed points at the end" rule for its permutation). But I'll open a new ticket for that.

Thanks for posting and reviewing, Travis!



---

archive/issue_comments_352137.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nNote: one can use something like\n\n```\ngit commit --author=\"Other Person <other.person@example.com>\n```\nto properly indicate authorship when committing someone else's code.\n\nOr as an afterthought, `git commit --amend --no-edit --author=...`.",
    "created_at": "2022-04-27T17:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352137",
    "user": "https://github.com/slel"
}
```

<div id="comment:9" align="right">comment:9</div>

Note: one can use something like

```
git commit --author="Other Person <other.person@example.com>
```
to properly indicate authorship when committing someone else's code.

Or as an afterthought, `git commit --amend --no-edit --author=...`.



---

archive/issue_comments_352138.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI didn't know that. Thank you. Could you push the revision? I am away from my computer until next week.",
    "created_at": "2022-04-27T22:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352138",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

I didn't know that. Thank you. Could you push the revision? I am away from my computer until next week.



---

archive/issue_comments_352139.json:
```json
{
    "body": "Changed commit from **[`379fc13`](https://github.com/sagemath/sagetrac-mirror/commit/379fc130015e2b9f77a28e03c7f87312b2a7f204)** to **[`c000c8c`](https://github.com/sagemath/sagetrac-mirror/commit/c000c8c89ed17cde730b171ef938f0c539547478)**",
    "created_at": "2022-04-28T09:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352139",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`379fc13`](https://github.com/sagemath/sagetrac-mirror/commit/379fc130015e2b9f77a28e03c7f87312b2a7f204)** to **[`c000c8c`](https://github.com/sagemath/sagetrac-mirror/commit/c000c8c89ed17cde730b171ef938f0c539547478)**



---

archive/issue_events_323452.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2022-04-28T09:26:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323452"
}
```



---

archive/issue_events_323453.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2022-04-28T09:26:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323453"
}
```



---

archive/issue_comments_352140.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c000c8c89ed17cde730b171ef938f0c539547478\"><code>c000c8c</code></a></td><td><code>Better normalize permutations for Schubert polynomials</code></td></tr></table>\n",
    "created_at": "2022-04-28T09:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352140",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c000c8c89ed17cde730b171ef938f0c539547478"><code>c000c8c</code></a></td><td><code>Better normalize permutations for Schubert polynomials</code></td></tr></table>




---

archive/issue_comments_352141.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nSame commit, now with author Darij Grinberg.",
    "created_at": "2022-04-28T09:28:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352141",
    "user": "https://github.com/slel"
}
```

<div id="comment:12" align="right">comment:12</div>

Same commit, now with author Darij Grinberg.



---

archive/issue_events_323454.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-04-28T09:28:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323454"
}
```



---

archive/issue_events_323455.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-04-28T09:28:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323455"
}
```



---

archive/issue_comments_352142.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThank you! The wrong basis is now #33766, so this ticket can be closed once merged.",
    "created_at": "2022-04-28T12:40:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352142",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:13" align="right">comment:13</div>

Thank you! The wrong basis is now #33766, so this ticket can be closed once merged.



---

archive/issue_comments_352143.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@slel](#comment%3A12):\n> Same commit, now with author Darij Grinberg.\n\nThank you. I appreciate it.",
    "created_at": "2022-04-28T13:19:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352143",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@slel](#comment%3A12):
> Same commit, now with author Darij Grinberg.

Thank you. I appreciate it.



---

archive/issue_events_323456.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-16T22:24:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323456"
}
```



---

archive/issue_events_323457.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-16T22:24:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323457"
}
```



---

archive/issue_comments_352144.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n\n```\n[sagemath_doc_html-none] [combinat ] The inventory files are in local/share/doc/sage/inventory/en/reference/combinat.\n[sagemath_doc_html-none] Error building the documentation.\n[sagemath_doc_html-none] Traceback (most recent call last):\n[sagemath_doc_html-none]   File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/runpy.py\", line 196, in _run_module_as_main\n[sagemath_doc_html-none]     return _run_code(code, main_globals, None,\n[sagemath_doc_html-none]   File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/runpy.py\", line 86, in _run_code\n[sagemath_doc_html-none]     exec(code, run_globals)\n[sagemath_doc_html-none]   File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage_docbuild/__main__.py\", line 2, in <module>\n[sagemath_doc_html-none]     main()\n[sagemath_doc_html-none]   File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage_docbuild/__init__.py\", line 1762, in main\n[sagemath_doc_html-none]     builder()\n[sagemath_doc_html-none]   File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage_docbuild/__init__.py\", line 801, in _wrapper\n[sagemath_doc_html-none]     getattr(DocBuilder, build_type)(self, *args, **kwds)\n[sagemath_doc_html-none]   File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage_docbuild/__init__.py\", line 145, in f\n[sagemath_doc_html-none]     runsphinx()\n[sagemath_doc_html-none]   File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage_docbuild/sphinxbuild.py\", line 326, in runsphinx\n[sagemath_doc_html-none]     sys.stderr.raise_errors()\n[sagemath_doc_html-none]   File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage_docbuild/sphinxbuild.py\", line 262, in raise_errors\n[sagemath_doc_html-none]     raise OSError(self._error)\n[sagemath_doc_html-none] OSError: /home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage/combinat/permutation.py:docstring of sage.combinat.permutation.Permutation.remove_extra_fixed_points:6: ERROR: Unknown interpreted text role \"module\".\n```",
    "created_at": "2022-05-16T22:24:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352144",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:15" align="right">comment:15</div>


```
[sagemath_doc_html-none] [combinat ] The inventory files are in local/share/doc/sage/inventory/en/reference/combinat.
[sagemath_doc_html-none] Error building the documentation.
[sagemath_doc_html-none] Traceback (most recent call last):
[sagemath_doc_html-none]   File "/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/runpy.py", line 196, in _run_module_as_main
[sagemath_doc_html-none]     return _run_code(code, main_globals, None,
[sagemath_doc_html-none]   File "/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/runpy.py", line 86, in _run_code
[sagemath_doc_html-none]     exec(code, run_globals)
[sagemath_doc_html-none]   File "/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage_docbuild/__main__.py", line 2, in <module>
[sagemath_doc_html-none]     main()
[sagemath_doc_html-none]   File "/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage_docbuild/__init__.py", line 1762, in main
[sagemath_doc_html-none]     builder()
[sagemath_doc_html-none]   File "/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage_docbuild/__init__.py", line 801, in _wrapper
[sagemath_doc_html-none]     getattr(DocBuilder, build_type)(self, *args, **kwds)
[sagemath_doc_html-none]   File "/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage_docbuild/__init__.py", line 145, in f
[sagemath_doc_html-none]     runsphinx()
[sagemath_doc_html-none]   File "/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage_docbuild/sphinxbuild.py", line 326, in runsphinx
[sagemath_doc_html-none]     sys.stderr.raise_errors()
[sagemath_doc_html-none]   File "/home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage_docbuild/sphinxbuild.py", line 262, in raise_errors
[sagemath_doc_html-none]     raise OSError(self._error)
[sagemath_doc_html-none] OSError: /home/release/Sage/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage/combinat/permutation.py:docstring of sage.combinat.permutation.Permutation.remove_extra_fixed_points:6: ERROR: Unknown interpreted text role "module".
```



---

archive/issue_comments_352145.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAck, `:module:` -> `:mod:`.",
    "created_at": "2022-05-17T01:04:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352145",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:16" align="right">comment:16</div>

Ack, `:module:` -> `:mod:`.



---

archive/issue_comments_352146.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1417ff67f1229071d99484f5f37a5e1a342d66da\"><code>1417ff6</code></a></td><td><code>Merge branch 'public/combinat/schubert_shenanigans-23443' of https://github.com/sagemath/sagetrac-mirror into public/combinat/schubert_shenanigans-23443</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94d9d75d07444fac858d9954992ccc89e6bcb349\"><code>94d9d75</code></a></td><td><code>Fixing bad link in permutation.py.</code></td></tr></table>\n",
    "created_at": "2022-06-10T01:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352146",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1417ff67f1229071d99484f5f37a5e1a342d66da"><code>1417ff6</code></a></td><td><code>Merge branch 'public/combinat/schubert_shenanigans-23443' of https://github.com/sagemath/sagetrac-mirror into public/combinat/schubert_shenanigans-23443</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94d9d75d07444fac858d9954992ccc89e6bcb349"><code>94d9d75</code></a></td><td><code>Fixing bad link in permutation.py.</code></td></tr></table>




---

archive/issue_comments_352147.json:
```json
{
    "body": "Changed commit from **[`c000c8c`](https://github.com/sagemath/sagetrac-mirror/commit/c000c8c89ed17cde730b171ef938f0c539547478)** to **[`94d9d75`](https://github.com/sagemath/sagetrac-mirror/commit/94d9d75d07444fac858d9954992ccc89e6bcb349)**",
    "created_at": "2022-06-10T01:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352147",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c000c8c`](https://github.com/sagemath/sagetrac-mirror/commit/c000c8c89ed17cde730b171ef938f0c539547478)** to **[`94d9d75`](https://github.com/sagemath/sagetrac-mirror/commit/94d9d75d07444fac858d9954992ccc89e6bcb349)**



---

archive/issue_events_323458.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-06-10T01:36:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323458"
}
```



---

archive/issue_events_323459.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-06-10T01:36:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323459"
}
```



---

archive/issue_comments_352148.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI finally was able to fix this. I checked the doc builds. Since the change is trivial, I am allowing myself to reset to a positive review.",
    "created_at": "2022-06-10T01:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352148",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">comment:18</div>

I finally was able to fix this. I checked the doc builds. Since the change is trivial, I am allowing myself to reset to a positive review.



---

archive/issue_comments_352149.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThank you, Travis!",
    "created_at": "2022-06-10T01:42:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352149",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:19" align="right">comment:19</div>

Thank you, Travis!



---

archive/issue_comments_352150.json:
```json
{
    "body": "Changed branch from **[public/combinat/schubert_shenanigans-23443](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/schubert_shenanigans-23443)** to **[`94d9d75`](https://github.com/sagemath/sagetrac-mirror/commit/94d9d75d07444fac858d9954992ccc89e6bcb349)**",
    "created_at": "2022-06-12T23:08:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23443#issuecomment-352150",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/combinat/schubert_shenanigans-23443](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/schubert_shenanigans-23443)** to **[`94d9d75`](https://github.com/sagemath/sagetrac-mirror/commit/94d9d75d07444fac858d9954992ccc89e6bcb349)**



---

archive/issue_events_323460.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-06-12T23:08:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323460"
}
```



---

archive/issue_events_323461.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "65e866a5b1175603ba8633d8deaafb9c651bcada",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-06-12T23:08:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23443",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23443#event-323461"
}
```
