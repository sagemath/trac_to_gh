# Issue 23971: Euclidean division in quadratic imaginary orders

archive/issues_023734.json:
```json
{
    "assignees": [],
    "body": "The result of a `//` should remain in the same ring, but it currently does not:\n\n```\nsage: (GaussianIntegers()(1)//1).parent()\nNumber Field in I with defining polynomial x^2 + 1\n```\n\nThis is caused by order elements inheriting from `FieldElement` which makes the assumption that `_floordiv_` and `_div_` are the same.\n\nBranch/Commit: **[u/jdemeyer/floordiv_in_orders_returns_a_number_field_element](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/floordiv_in_orders_returns_a_number_field_element) @ [1ccb1ba](https://github.com/sagemath/sagetrac-mirror/commit/1ccb1ba157361a7b70fe7cf2d22163666f3bd838)**\n\nReviewer: **David Roe, Julian R\u00fcth**\n\nAuthor: **Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23971_\n\n",
    "created_at": "2017-10-06T00:59:40Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20number%20fields",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/needs%20info"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Euclidean division in quadratic imaginary orders",
    "type": "issue",
    "updated_at": "2022-12-29T01:40:01Z",
    "url": "https://github.com/sagemath/sage/issues/23971",
    "user": "https://github.com/saraedum"
}
```
The result of a `//` should remain in the same ring, but it currently does not:

```
sage: (GaussianIntegers()(1)//1).parent()
Number Field in I with defining polynomial x^2 + 1
```

This is caused by order elements inheriting from `FieldElement` which makes the assumption that `_floordiv_` and `_div_` are the same.

Branch/Commit: **[u/jdemeyer/floordiv_in_orders_returns_a_number_field_element](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/floordiv_in_orders_returns_a_number_field_element) @ [1ccb1ba](https://github.com/sagemath/sagetrac-mirror/commit/1ccb1ba157361a7b70fe7cf2d22163666f3bd838)**

Reviewer: **David Roe, Julian RÃ¼th**

Author: **Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/23971_





---

archive/issue_events_303561.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-10-06T00:59:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20number%20fields",
    "label_color": "0000ff",
    "label_name": "component: number fields",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303561"
}
```



---

archive/issue_events_303562.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-10-06T00:59:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303562"
}
```



---

archive/issue_events_303563.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-10-06T00:59:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303563"
}
```



---

archive/issue_comments_364684.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nThis is tricky, since most orders in number fields are not Euclidean, so quotient with remainder doesn't make sense.",
    "created_at": "2017-10-06T02:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364684",
    "user": "https://github.com/roed314"
}
```

<a id='comment:1'>Comment 1:</a>
This is tricky, since most orders in number fields are not Euclidean, so quotient with remainder doesn't make sense.



---

archive/issue_comments_364685.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nWell, the correct behaviour would be to do the right thing in the imaginary quadratic orders which are naturally Euclidean and raise an exception otherwise.",
    "created_at": "2017-10-06T07:56:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364685",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'>Comment 2:</a>
Well, the correct behaviour would be to do the right thing in the imaginary quadratic orders which are naturally Euclidean and raise an exception otherwise.



---

archive/issue_comments_364686.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nFor me it would be sufficient for `a//b` to be `parent(a/b)` and raise an exception (NotImplemented?) if that is not in the same ring.",
    "created_at": "2017-10-07T15:53:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364686",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:3'>Comment 3:</a>
For me it would be sufficient for `a//b` to be `parent(a/b)` and raise an exception (NotImplemented?) if that is not in the same ring.



---

archive/issue_comments_364687.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nReplying to [@jdemeyer](#comment%3A2):\n> Well, the correct behaviour would be to do the right thing in the imaginary quadratic orders which are naturally Euclidean and raise an exception otherwise.\n\nThere are other orders which are norm Euclidean (some real quadratic orders for example).  See http://www.fen.bilkent.edu.tr/~franz/publ/survey.pdf\n\nOf course, it's computationally more difficult to find a remainder when the unit group is nontrivial.",
    "created_at": "2017-10-18T21:47:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364687",
    "user": "https://github.com/roed314"
}
```

<a id='comment:4'>Comment 4:</a>
Replying to [@jdemeyer](#comment%3A2):
> Well, the correct behaviour would be to do the right thing in the imaginary quadratic orders which are naturally Euclidean and raise an exception otherwise.

There are other orders which are norm Euclidean (some real quadratic orders for example).  See http://www.fen.bilkent.edu.tr/~franz/publ/survey.pdf

Of course, it's computationally more difficult to find a remainder when the unit group is nontrivial.



---

archive/issue_comments_364688.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2017-10-19T09:06:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364688",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_364689.json:
```json
{
    "body": "Branch: **[u/jdemeyer/floordiv_in_orders_returns_a_number_field_element](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/floordiv_in_orders_returns_a_number_field_element)**",
    "created_at": "2017-10-20T13:38:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364689",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/floordiv_in_orders_returns_a_number_field_element](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/floordiv_in_orders_returns_a_number_field_element)**



---

archive/issue_comments_364690.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d56994a76ca55601c39c1945feade5e7cbada0c\">1d56994</a></td><td><code>Simplify number field division</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c36aaff969295f404ef35f83927e5289df4d7542\">c36aaff</a></td><td><code>Implement Euclidean division in number fields</code></td></tr></table>\n",
    "created_at": "2017-10-20T13:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364690",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'>Comment 7:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d56994a76ca55601c39c1945feade5e7cbada0c">1d56994</a></td><td><code>Simplify number field division</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c36aaff969295f404ef35f83927e5289df4d7542">c36aaff</a></td><td><code>Implement Euclidean division in number fields</code></td></tr></table>




---

archive/issue_comments_364691.json:
```json
{
    "body": "Dependencies: **#24079**",
    "created_at": "2017-10-20T13:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364691",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#24079**



---

archive/issue_comments_364692.json:
```json
{
    "body": "Commit: **[c36aaff](https://github.com/sagemath/sagetrac-mirror/commit/c36aaff969295f404ef35f83927e5289df4d7542)**",
    "created_at": "2017-10-20T13:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364692",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[c36aaff](https://github.com/sagemath/sagetrac-mirror/commit/c36aaff969295f404ef35f83927e5289df4d7542)**



---

archive/issue_events_303564.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-20T13:44:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303564"
}
```



---

archive/issue_events_303565.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-20T13:44:12Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "title_is": "Euclidean division in quadratic imaginary orders",
    "title_was": "floordiv in orders returns a number field element",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303565"
}
```



---

archive/issue_comments_364693.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nFirst, the patchbot is unhappy: there's a strange merge failure on Cygwin, complaining about `CONFLICT (content): Merge conflict in src/sage/parallel/map_reduce.py` (which I don't understand, since other merges into `8.1.beta8` succeeded), and a test failure in `sage/structure/element.pyx`.\n\nSome thoughts on the code:\n\n* Julian suggested having `a//b` return `parent(a/b)` when b divides `a` and raise an error otherwise.  This makes sense for any integral domain, and I think it's a good idea: so often this is what we want for floor division.  It's a bit strange to have different behavior for different `b`, but we already do this to some extent: `b=0` will always raise an error.\n\n* Why did you choose to round to even?  It would be more consistent with `QQ` to round down.\n\n* I think we should also implement `__mod__` and `quo_rem` to match this implementation of floor division.  This doesn't have to be on this ticket.",
    "created_at": "2017-10-20T16:59:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364693",
    "user": "https://github.com/roed314"
}
```

<a id='comment:9'>Comment 9:</a>
First, the patchbot is unhappy: there's a strange merge failure on Cygwin, complaining about `CONFLICT (content): Merge conflict in src/sage/parallel/map_reduce.py` (which I don't understand, since other merges into `8.1.beta8` succeeded), and a test failure in `sage/structure/element.pyx`.

Some thoughts on the code:

* Julian suggested having `a//b` return `parent(a/b)` when b divides `a` and raise an error otherwise.  This makes sense for any integral domain, and I think it's a good idea: so often this is what we want for floor division.  It's a bit strange to have different behavior for different `b`, but we already do this to some extent: `b=0` will always raise an error.

* Why did you choose to round to even?  It would be more consistent with `QQ` to round down.

* I think we should also implement `__mod__` and `quo_rem` to match this implementation of floor division.  This doesn't have to be on this ticket.



---

archive/issue_comments_364694.json:
```json
{
    "body": "Reviewer: **David Roe**",
    "created_at": "2017-10-20T16:59:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364694",
    "user": "https://github.com/roed314"
}
```

Reviewer: **David Roe**



---

archive/issue_events_303566.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-10-20T16:59:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303566"
}
```



---

archive/issue_events_303567.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-10-20T16:59:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303567"
}
```



---

archive/issue_comments_364695.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@roed314](#comment%3A9):\n> First, the patchbot is unhappy: there's a strange merge failure on Cygwin, complaining about `CONFLICT (content): Merge conflict in src/sage/parallel/map_reduce.py`\n\nThat happens on every ticket, it must be a problem with that bot.",
    "created_at": "2017-10-20T17:51:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364695",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@roed314](#comment%3A9):
> First, the patchbot is unhappy: there's a strange merge failure on Cygwin, complaining about `CONFLICT (content): Merge conflict in src/sage/parallel/map_reduce.py`

That happens on every ticket, it must be a problem with that bot.



---

archive/issue_comments_364696.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nReplying to [@roed314](#comment%3A9):\n> Julian suggested having `a//b` return `parent(a/b)` when b divides `a` and raise an error otherwise.\n\nSurely, you made a mistake somewhere in this sentence (`a//b` should not return a ring!). And I can't guess what you meant.",
    "created_at": "2017-10-20T17:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364696",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'>Comment 12:</a>
Replying to [@roed314](#comment%3A9):
> Julian suggested having `a//b` return `parent(a/b)` when b divides `a` and raise an error otherwise.

Surely, you made a mistake somewhere in this sentence (`a//b` should not return a ring!). And I can't guess what you meant.



---

archive/issue_comments_364697.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nReplying to [@roed314](#comment%3A9):\n> * Why did you choose to round to even?  It would be more consistent with `QQ` to round down.\n\nConsistency with `QQ` was not a goal here. I guess it could be done but then it becomes less obvious to generalize to all number field elements. You cannot just round down the first component (the `x` in `x + y sqrt(D)`) in all cases. So either we would need to round down `x` only when `y` is zero or an integer, but that seems like needless complication to me.\n\nBesides, I like the idea that `x // y` gives the closest possible order element to `x / y`.",
    "created_at": "2017-10-20T18:09:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364697",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'>Comment 13:</a>
Replying to [@roed314](#comment%3A9):
> * Why did you choose to round to even?  It would be more consistent with `QQ` to round down.

Consistency with `QQ` was not a goal here. I guess it could be done but then it becomes less obvious to generalize to all number field elements. You cannot just round down the first component (the `x` in `x + y sqrt(D)`) in all cases. So either we would need to round down `x` only when `y` is zero or an integer, but that seems like needless complication to me.

Besides, I like the idea that `x // y` gives the closest possible order element to `x / y`.



---

archive/issue_comments_364698.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [@jdemeyer](#comment%3A12):\n> Replying to [@roed314](#comment%3A9):\n> > Julian suggested having `a//b` return `parent(a/b)` when b divides `a` and raise an error otherwise.\n\n> \n> Surely, you made a mistake somewhere in this sentence (`a//b` should not return a ring!). And I can't guess what you meant.\n\nSay `a` and `b` both have an order `R` as their parent.  I meant that `a//b` should return `R(a/b)`.",
    "created_at": "2017-10-20T20:39:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364698",
    "user": "https://github.com/roed314"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [@jdemeyer](#comment%3A12):
> Replying to [@roed314](#comment%3A9):
> > Julian suggested having `a//b` return `parent(a/b)` when b divides `a` and raise an error otherwise.

> 
> Surely, you made a mistake somewhere in this sentence (`a//b` should not return a ring!). And I can't guess what you meant.

Say `a` and `b` both have an order `R` as their parent.  I meant that `a//b` should return `R(a/b)`.



---

archive/issue_comments_364699.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nReplying to [@roed314](#comment%3A14):\n> Say `a` and `b` both have an order `R` as their parent.  I meant that `a//b` should return `R(a/b)`.\n\nOK, I see what you mean now. I guess a better approach would be: `a//b` returns either an order element `t` such that `N(a/b - t) < 1` or it raises `ArithmeticError`. That would generalize both the Euclidean division and the exact division.",
    "created_at": "2017-10-20T21:18:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364699",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'>Comment 15:</a>
Replying to [@roed314](#comment%3A14):
> Say `a` and `b` both have an order `R` as their parent.  I meant that `a//b` should return `R(a/b)`.

OK, I see what you mean now. I guess a better approach would be: `a//b` returns either an order element `t` such that `N(a/b - t) < 1` or it raises `ArithmeticError`. That would generalize both the Euclidean division and the exact division.



---

archive/issue_comments_364700.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nReplying to [@jdemeyer](#comment%3A15):\n> Replying to [@roed314](#comment%3A14):\n> > Say `a` and `b` both have an order `R` as their parent.  I meant that `a//b` should return `R(a/b)`.\n\n> \n> OK, I see what you mean now. I guess a better approach would be: `a//b` returns either an order element `t` such that `N(a/b - t) < 1` or it raises `ArithmeticError`. That would generalize both the Euclidean division and the exact division.\n\nAgreed: I think that's the optimal solution.  Figuring out what that `t` is in the non-imaginary quadratic case is probably beyond the scope of this ticket.",
    "created_at": "2017-10-20T21:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364700",
    "user": "https://github.com/roed314"
}
```

<a id='comment:16'>Comment 16:</a>
Replying to [@jdemeyer](#comment%3A15):
> Replying to [@roed314](#comment%3A14):
> > Say `a` and `b` both have an order `R` as their parent.  I meant that `a//b` should return `R(a/b)`.

> 
> OK, I see what you mean now. I guess a better approach would be: `a//b` returns either an order element `t` such that `N(a/b - t) < 1` or it raises `ArithmeticError`. That would generalize both the Euclidean division and the exact division.

Agreed: I think that's the optimal solution.  Figuring out what that `t` is in the non-imaginary quadratic case is probably beyond the scope of this ticket.



---

archive/issue_comments_364701.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nUnfortunately, this introduces an additional complication that the order is no longer guaranteed to be maximal...",
    "created_at": "2017-10-23T09:28:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364701",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'>Comment 17:</a>
Unfortunately, this introduces an additional complication that the order is no longer guaranteed to be maximal...



---

archive/issue_comments_364702.json:
```json
{
    "body": "Changed commit from **[c36aaff](https://github.com/sagemath/sagetrac-mirror/commit/c36aaff969295f404ef35f83927e5289df4d7542)** to **[0c1ceea](https://github.com/sagemath/sagetrac-mirror/commit/0c1ceea7b0a0da0cb9c593052973aee76e114b0a)**",
    "created_at": "2017-10-23T14:00:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364702",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c36aaff](https://github.com/sagemath/sagetrac-mirror/commit/c36aaff969295f404ef35f83927e5289df4d7542)** to **[0c1ceea](https://github.com/sagemath/sagetrac-mirror/commit/0c1ceea7b0a0da0cb9c593052973aee76e114b0a)**



---

archive/issue_comments_364703.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c1ceea7b0a0da0cb9c593052973aee76e114b0a\">0c1ceea</a></td><td><code>Implement Euclidean division in number fields</code></td></tr></table>\n",
    "created_at": "2017-10-23T14:00:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364703",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'>Comment 18:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c1ceea7b0a0da0cb9c593052973aee76e114b0a">0c1ceea</a></td><td><code>Implement Euclidean division in number fields</code></td></tr></table>




---

archive/issue_events_303568.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-23T14:06:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303568"
}
```



---

archive/issue_events_303569.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-23T14:06:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303569"
}
```



---

archive/issue_comments_364704.json:
```json
{
    "body": "Changed dependencies from **#24079** to none",
    "created_at": "2017-10-23T14:06:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364704",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#24079** to none



---

archive/issue_comments_364705.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd8dbfa3271dfc96e1b9e88b6c77d6658035f5c3\">dd8dbfa</a></td><td><code>Remove failing doctests</code></td></tr></table>\n",
    "created_at": "2017-10-27T07:55:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364705",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'>Comment 21:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd8dbfa3271dfc96e1b9e88b6c77d6658035f5c3">dd8dbfa</a></td><td><code>Remove failing doctests</code></td></tr></table>




---

archive/issue_comments_364706.json:
```json
{
    "body": "Changed commit from **[0c1ceea](https://github.com/sagemath/sagetrac-mirror/commit/0c1ceea7b0a0da0cb9c593052973aee76e114b0a)** to **[dd8dbfa](https://github.com/sagemath/sagetrac-mirror/commit/dd8dbfa3271dfc96e1b9e88b6c77d6658035f5c3)**",
    "created_at": "2017-10-27T07:55:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364706",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0c1ceea](https://github.com/sagemath/sagetrac-mirror/commit/0c1ceea7b0a0da0cb9c593052973aee76e114b0a)** to **[dd8dbfa](https://github.com/sagemath/sagetrac-mirror/commit/dd8dbfa3271dfc96e1b9e88b6c77d6658035f5c3)**



---

archive/issue_events_303570.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-05-21T17:04:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303570"
}
```



---

archive/issue_events_303571.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-05-21T17:04:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303571"
}
```



---

archive/issue_comments_364707.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nSorry, I had somehow forgotten about this ticket. Some comments:\n\n* `intentially` should read `intentionally`\n* The patchbot (coverage) is unhappy about the removal of the floordiv example\n* There are some failing doctests it seems\n* Why don't we implement my original proposal as well? I.e., `a//b==R(a/b)` if `a/b in R`?",
    "created_at": "2018-05-21T17:04:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364707",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:22'>Comment 22:</a>
Sorry, I had somehow forgotten about this ticket. Some comments:

* `intentially` should read `intentionally`
* The patchbot (coverage) is unhappy about the removal of the floordiv example
* There are some failing doctests it seems
* Why don't we implement my original proposal as well? I.e., `a//b==R(a/b)` if `a/b in R`?



---

archive/issue_comments_364708.json:
```json
{
    "body": "Changed reviewer from **David Roe** to **David Roe, Julian R\u00fcth**",
    "created_at": "2018-05-21T17:04:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364708",
    "user": "https://github.com/saraedum"
}
```

Changed reviewer from **David Roe** to **David Roe, Julian RÃ¼th**



---

archive/issue_comments_364709.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nReplying to [@saraedum](#comment%3A22):\n> * Why don't we implement my original proposal as well? I.e., `a//b==R(a/b)` if `a/b in R`?\n\nWhat do you mean **exactly**? I thought I did implement that, but it seems that you don't agree.",
    "created_at": "2018-06-12T09:41:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364709",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'>Comment 23:</a>
Replying to [@saraedum](#comment%3A22):
> * Why don't we implement my original proposal as well? I.e., `a//b==R(a/b)` if `a/b in R`?

What do you mean **exactly**? I thought I did implement that, but it seems that you don't agree.



---

archive/issue_comments_364710.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c87a6260bffb68b3b6342d50da39c0ee1cb363ba\">c87a626</a></td><td><code>Implement Euclidean division in number fields</code></td></tr></table>\n",
    "created_at": "2018-06-12T12:02:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364710",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'>Comment 24:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c87a6260bffb68b3b6342d50da39c0ee1cb363ba">c87a626</a></td><td><code>Implement Euclidean division in number fields</code></td></tr></table>




---

archive/issue_comments_364711.json:
```json
{
    "body": "Changed commit from **[dd8dbfa](https://github.com/sagemath/sagetrac-mirror/commit/dd8dbfa3271dfc96e1b9e88b6c77d6658035f5c3)** to **[c87a626](https://github.com/sagemath/sagetrac-mirror/commit/c87a6260bffb68b3b6342d50da39c0ee1cb363ba)**",
    "created_at": "2018-06-12T12:02:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364711",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dd8dbfa](https://github.com/sagemath/sagetrac-mirror/commit/dd8dbfa3271dfc96e1b9e88b6c77d6658035f5c3)** to **[c87a626](https://github.com/sagemath/sagetrac-mirror/commit/c87a6260bffb68b3b6342d50da39c0ee1cb363ba)**



---

archive/issue_events_303572.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-12T12:08:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303572"
}
```



---

archive/issue_events_303573.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-12T12:08:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303573"
}
```



---

archive/issue_comments_364712.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ccb1ba157361a7b70fe7cf2d22163666f3bd838\">1ccb1ba</a></td><td><code>Implement Euclidean division in number fields</code></td></tr></table>\n",
    "created_at": "2018-06-19T09:17:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364712",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:26'>Comment 26:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ccb1ba157361a7b70fe7cf2d22163666f3bd838">1ccb1ba</a></td><td><code>Implement Euclidean division in number fields</code></td></tr></table>




---

archive/issue_comments_364713.json:
```json
{
    "body": "Changed commit from **[c87a626](https://github.com/sagemath/sagetrac-mirror/commit/c87a6260bffb68b3b6342d50da39c0ee1cb363ba)** to **[1ccb1ba](https://github.com/sagemath/sagetrac-mirror/commit/1ccb1ba157361a7b70fe7cf2d22163666f3bd838)**",
    "created_at": "2018-06-19T09:17:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364713",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c87a626](https://github.com/sagemath/sagetrac-mirror/commit/c87a6260bffb68b3b6342d50da39c0ee1cb363ba)** to **[1ccb1ba](https://github.com/sagemath/sagetrac-mirror/commit/1ccb1ba157361a7b70fe7cf2d22163666f3bd838)**



---

archive/issue_comments_364714.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nReplying to [@jdemeyer](#comment%3A23):\n> Replying to [@saraedum](#comment%3A22):\n> > * Why don't we implement my original proposal as well? I.e., `a//b==R(a/b)` if `a/b in R`?\n\n> \n> What do you mean **exactly**? I thought I did implement that, but it seems that you don't agree.\n\nThis ticket was originally not only about quadratic imaginary orders (I think you changed the scope at some point.) I think that `a//b` should always return `a/b` if that is in the original ring\u2026I really just want `a//1` not to fail.",
    "created_at": "2018-06-19T13:04:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23971#issuecomment-364714",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:27'>Comment 27:</a>
Replying to [@jdemeyer](#comment%3A23):
> Replying to [@saraedum](#comment%3A22):
> > * Why don't we implement my original proposal as well? I.e., `a//b==R(a/b)` if `a/b in R`?

> 
> What do you mean **exactly**? I thought I did implement that, but it seems that you don't agree.

This ticket was originally not only about quadratic imaginary orders (I think you changed the scope at some point.) I think that `a//b` should always return `a/b` if that is in the original ringâ¦I really just want `a//1` not to fail.



---

archive/issue_events_303574.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-07-04T16:08:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303574"
}
```



---

archive/issue_events_303575.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-07-04T16:08:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303575"
}
```



---

archive/issue_events_303576.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:40:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23971",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23971#event-303576"
}
```
