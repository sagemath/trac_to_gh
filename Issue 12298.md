# Issue 12298: Remove scripts related to the Debian distribution

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2012-02-07 22:55:17

Assignee: leif




---

Comment by jdemeyer created at 2012-02-07 22:58:26

Changing status from new to needs_review.


---

Attachment


---

Comment by ppurka created at 2012-03-06 09:57:59

I don't have a debian distro at present, so I can't really test. Looking at the patch it seems that the error strings are being printed to stdout. Some of the `echo` statements should probably echo to stderr.


---

Attachment


---

Comment by jdemeyer created at 2012-03-06 10:04:32

Even though it's unrelated to the ticket, I changed the error messages.


---

Comment by ppurka created at 2012-03-07 05:24:44

There still seems to be some stuff from debian left in the scripts, even after applying these patches. Should they be still present? Showing only the relevant parts here.

```
...tallations/sage-5.0.beta2> LC_ALL="C" grep -irnI debian data local/bin spkg ipython tmp | grep -v '\.hg'
data/extcode/sagebuild/sageenv.py:52:                if not os.path.exists(self.options['SITE_PACKAGES']) and os.environ.has_key('SAGE_DEBIAN'):
data/extcode/sagebuild/sageenv.py:56:        if not self.options.has_key('SAGE_DEBIAN'):
data/extcode/sagebuild/sageenv.py:57:            self.options['SAGE_DEBIAN'] = False
data/extcode/sagebuild/sageenv.py:69:        if self.options['SAGE_DEBIAN']:
data/extcode/sagebuild/sageenv.py:70:            self.debian_include_dirs=["/usr/include","/usr/include/numpy","/usr/include/FLINT","/usr/include/givaro", "/usr/include/gsl","/usr/include/fplll","/usr/include/eclib","/usr/include/gmp++","/usr/include/linbox","/usr/include/NTL","/usr/include/pari","/usr/include/qd","/usr/include/singular","/usr/include/singular/singular","/usr/include/symmetrica","/usr/include/polybori"]
data/extcode/sagebuild/sageenv.py:71:            self.defaults['include_dirs'].expand(self.debian_include_dirs)
data/extcode/sagebuild/sageenv.py:73:            self.debian_include_dirs=[]
data/extcode/sagebuild/sageenv.py:76:        if self.options['SAGE_DEBIAN']:
data/extcode/sagebuild/sageenv.py:81:class debian_env(sage_env):
data/extcode/sagebuild/sageenv.py:84:        self.options['SAGE_DEBIAN'] = True
data/extcode/sagebuild/sageenv.py:88:    if 'SAGE_DEBIAN' in os.environ:
data/extcode/sagebuild/sageenv.py:89:        env = debian_env()
...
spkg/bin/sage-spkg:403:if [ -n "$DEBIAN_RELEASE" ]; then
spkg/bin/sage-spkg:405:    if [ -e ./spkg-debian ]; then
spkg/bin/sage-spkg:406:        time ./spkg-debian
spkg/bin/sage-spkg:408:        time sage-build-debian $BASEDIR
...
```



---

Comment by jdemeyer created at 2012-03-07 08:30:39

Replying to [comment:6 ppurka]:
> There still seems to be some stuff from debian left in the scripts, even after applying these patches.

See #12635 and #12479.


---

Comment by ppurka created at 2012-03-07 10:02:54

Changing status from needs_review to positive_review.


---

Comment by ppurka created at 2012-03-07 10:02:54

Thanks. I tried force installing some spkgs and they worked fine. This was with also #12635 applied.


---

Comment by jdemeyer created at 2012-03-13 08:23:14

Resolution: fixed
