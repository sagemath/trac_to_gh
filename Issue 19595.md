# Issue 19595: trac.sagemath.org should not send notifications

Issue created by migration from https://trac.sagemath.org/ticket/19832

Original creator: equaeghe

Original creation time: 2016-01-04 22:11:12

CC:  slelievre embray jondo

Keywords: trac email notifications

Currently, trac.sagemath.org sends notifications even after a user removes himself from the CC list. This is irritating to the user and seems like a local misconfiguration of the notification subsystem (see http://trac.sagemath.org/wiki/TracNotification).

The configuration should be fixed, so that only people actually in CC (or other such fields) are notified.

As a current stopgap measure, I propose that users are not added to new tickets, but are alerted of a new ticket that may interest them through other means, e.g., by adding a link to the new ticket in a new comment of a related ticket in which the user is listed in CC.


---

Comment by equaeghe created at 2016-01-04 22:27:58

Changing type from PLEASE CHANGE to defect.


---

Comment by slelievre created at 2016-01-14 10:12:31

Note: this issue was also discussed in a [2015-02 sage-devel thread](https://groups.google.com/d/topic/sage-devel/_nX_a8cxu7A/discussion).


---

Comment by equaeghe created at 2016-01-14 10:46:04

Replying to [comment:4 slelievre]:
> Note: this issue was also discussed in a [2015-02 sage-devel thread](https://groups.google.com/d/topic/sage-devel/_nX_a8cxu7A/discussion).

Thanks, surfing through to the mentioned cases for Django and Trac itself, the final solution was in both cases to turn off always_notify_updater. I suggest that as a fix for Sage as well.

To make sure contributors know about this, a general mail should be sent out and people should be added to the (then functional) Cc list for the tickets they now get mail for and are put on Cc whenever 'touching' a ticket, so that doing nothing doesn't change the system's behavior. However, from that point on, people could remove themselves from the Cc list.


---

Comment by dimpase created at 2016-07-26 11:15:57

Erik,
could you look into this?


---

Comment by embray created at 2016-07-26 11:28:54

https://trac.sagemath.org/prefs/notification

I don't think this should be the place for issues with the Trac site though.


---

Comment by embray created at 2016-07-26 11:29:34

Resolution: wontfix


---

Comment by dimpase created at 2016-07-26 11:30:01

Replying to [comment:7 embray]:
> https://trac.sagemath.org/prefs/notification
> 
> I don't think this should be the place for issues with the Trac site though.  
Do you mean to say it just works now?


---

Comment by embray created at 2016-07-26 11:40:07

Users can change their ticket subscription policies there.


---

Comment by equaeghe created at 2016-07-26 13:08:39

Replying to [comment:8 embray]:
>
> Resolution set to wontfix
> Status changed from new to closed

It is fixed by the now-presence of the notification preferences, so "closed fixed", I'd say.


---

Comment by leif created at 2016-07-27 07:39:45

Replying to [comment:10 embray]:
> Users can change their ticket subscription policies there.

That's not a solution to the problem, since you cannot unsubscribe from arbitrary tickets (unless you limit your "global" notifications to _"Notify: Ticket that I'm listed in the CC field is modified"_, and manually add yourself to the cc-list of *all* those tickets you want to receive notifications for in the future, never forgetting to do so when you just comment on a ticket, and not missing any ticket you previously participated in, and relying on not anybody ever messing up these lists).


---

Comment by embray created at 2016-07-27 09:25:13

Well, if you want to permanently unsubscribe from all updates to a specific ticket there might be a Trac plugin for that but I don't know.


---

Comment by slelievre created at 2016-07-27 10:13:44

`@`embray: At https://trac.edgewall.org/ticket/9971#comment:7 there is a suggestion
to turn "always_notify_updater" into "always_cc_updater", would that be an option?
Or would the act of un-cc-ing oneself then count as updating, and cc one again?


---

Comment by slelievre created at 2016-07-27 10:56:31

Related documentation at Trac

- https://trac.edgewall.org/wiki/1.1/TracNotification

Related open tickets at Trac

- [6173](https://trac.edgewall.org/ticket/6173) Allow accounts
  to be disabled, such that they no longer receive email notifications
- [6217](https://trac.edgewall.org/ticket/6217)
  New notification/cc scheme - notification preferences per ticket
- [8637](https://trac.edgewall.org/ticket/8637)
  "Add to CC" for anonymous with TICKET_APPEND permissions
- [8677](https://trac.edgewall.org/ticket/8677)
  Ability to follow/unfollow a ticket
- [9971](https://trac.edgewall.org/ticket/9971)
  cannot unsubscribe from bug, no way, no how

Related closed tickets at Trac

- [4056](https://trac.edgewall.org/ticket/4056) Notification Preferences
- [9088](https://trac.edgewall.org/ticket/9088)
  A Notify Me button would be nice
- [9977](https://trac.edgewall.org/ticket/9977) [PATCH] New feature: Notify
  to reporter only when closing a ticket

Question about the TracNotification page on Sage trac's wiki:
https://trac.sagemath.org/wiki/TracNotification

Does it reflect the current version of Trac at trac.sagemath.org?


---

Comment by dimpase created at 2016-07-27 22:09:51

Replying to [comment:13 embray]:
> Well, if you want to permanently unsubscribe from all updates to a specific ticket there might be a Trac plugin for that but I don't know.

How hard would it be to implement? Basically, 3 things (I certainly do not know anything about trac source, so perhaps this is fundamentally wrong picture) : 

  * a button/toggle to cc/un-cc yourself on a ticket
  * a persistent list of unsubscribers (people who un-cc themselves), attached to the ticket
  * a filter in the notification email dispatcher that checks the recipients
    against the latter list

(this can be filed under ODK WP7 :-))


---

Comment by leif created at 2016-07-27 22:24:39

Replying to [comment:16 dimpase]:
> Replying to [comment:13 embray]:
> > Well, if you want to permanently unsubscribe from all updates to a specific ticket there might be a Trac plugin for that but I don't know.
> 
> How hard would it be to implement? Basically, 3 things (I certainly do not know anything about trac source, so perhaps this is fundamentally wrong picture) : 
> 
>   * a button/toggle to cc/un-cc yourself on a ticket

Yes, please.  (Which bug tracker does _not_ have this feature?)

And this may in addition make manually editing the CC field obsolete, if there are both "cc me" and "cc someone else" buttons.

\\

>   * a persistent list of unsubscribers (people who un-cc themselves), attached to the ticket
>   * a filter in the notification email dispatcher that checks the recipients
>     against the latter list
> 
> (this can be filed under ODK WP7 :-))

YES!


---

Comment by embray created at 2016-07-28 08:49:40

I guess--don't you all have e-mail clients with ignore thread features?  I just never have a problem with this.


---

Comment by dimpase created at 2016-07-28 09:12:55

Replying to [comment:18 embray]:
> I guess--don't you all have e-mail clients with ignore thread features? 

no, I don't think so. Besides, this is error-prone and wasteful way to deal with this.
If you delete a thread it would delete ignoring flag too; if ticket subject gets changed it would trickle through again. Etc..

> I just never have a problem with this.


---

Comment by jondo created at 2016-09-04 09:56:07

The [/prefs/notification notification preferences here] show the following among the default rules:
> * Notify: Ticket that I previously updated is modified
> * Notify: Ticket that I'm listed in the CC field is modified

How can I now just switch off the first rule, leaving the second one fully working?

The page also says:
> Configure subscription rules to override them.
> Example: The subscription rule "Notify: Any ticket changes" overrides the default rule "Never notify: I update a ticket".

This sounds as if adding the rule "Never notify: Ticket that I previously updated is modified" would also override the rule "Notify: Ticket that I'm listed in the CC field is modified". This is not want I want.

(By the way, having "Notify: Ticket that I previously updated is modified" as default rule breaks the operation of un-CCing oneself from a ticket.)
