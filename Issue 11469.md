# Issue 11469: Implementation of a guesser of combinatoral statistics

archive/issues_011469.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  chrisjamesberg saliola zabrocki hivert\n\nKeywords: combinatorial statistic\n\ntba\n\nIssue created by migration from https://trac.sagemath.org/ticket/11641\n\n",
    "created_at": "2011-08-01T23:58:53Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.7",
    "title": "Implementation of a guesser of combinatoral statistics",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11469",
    "user": "stumpc5"
}
```
Assignee: sage-combinat

CC:  chrisjamesberg saliola zabrocki hivert

Keywords: combinatorial statistic

tba

Issue created by migration from https://trac.sagemath.org/ticket/11641





---

archive/issue_comments_128095.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-08-14T10:09:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128095",
    "user": "stumpc5"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_128096.json:
```json
{
    "body": "1) Please don't use assert, raise ValueError instead. \\\\\n2) When returning self._black_list in black_list(), make a copy. i.e. return self._back_list[:]. Otherwise modifications to the returned list will also modify self._black_list. \\\\\n3) `return self._f(self._inst,*args,**kwds)` has missing white space between the arguments\\\\ \n4) In combinatorial_maps_in_class(), you search a unsorted list on every iteration. Either make 'result' a set and possibly convert it into a list on return\nor if the order matters, use a set next to the list.\n5) In the first doc string \"defined a map between two combinatorial objects.\" defined should be defines.\n\nThese two classes share a lot of code. Have you though about a way to avoid this duplication?",
    "created_at": "2012-08-14T18:44:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128096",
    "user": "sluther"
}
```

1) Please don't use assert, raise ValueError instead. \\
2) When returning self._black_list in black_list(), make a copy. i.e. return self._back_list[:]. Otherwise modifications to the returned list will also modify self._black_list. \\
3) `return self._f(self._inst,*args,**kwds)` has missing white space between the arguments\\ 
4) In combinatorial_maps_in_class(), you search a unsorted list on every iteration. Either make 'result' a set and possibly convert it into a list on return
or if the order matters, use a set next to the list.
5) In the first doc string "defined a map between two combinatorial objects." defined should be defines.

These two classes share a lot of code. Have you though about a way to avoid this duplication?



---

archive/issue_comments_128097.json:
```json
{
    "body": "Thanks for taking a look at the patch and the helpful suggestions. One question:\n\nReplying to [comment:4 sluther]:\n> 1) Please don't use assert, raise ValueError instead.\n\nWhy shouldn't one use assert?",
    "created_at": "2012-08-14T18:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128097",
    "user": "saliola"
}
```

Thanks for taking a look at the patch and the helpful suggestions. One question:

Replying to [comment:4 sluther]:
> 1) Please don't use assert, raise ValueError instead.

Why shouldn't one use assert?



---

archive/issue_comments_128098.json:
```json
{
    "body": "Replying to [comment:5 saliola]:\n> Thanks for taking a look at the patch and the helpful suggestions. One question:\n> \n> Replying to [comment:4 sluther]:\n> > 1) Please don't use assert, raise ValueError instead.\n> \n> Why shouldn't one use assert?\n- If input parameters are of the wrong type, it's usual to raise a `TypeError`. It's good to raise errors that obey conventions, because that helps writing appropriate `try ... except` clauses when needed.\n- assert statements can be optimized away if `python -O` is selected, so they are only suitable to assert conditions that are supposed to hold anyway (and raise an early error if they don't, to help debugging)",
    "created_at": "2012-08-14T19:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128098",
    "user": "nbruin"
}
```

Replying to [comment:5 saliola]:
> Thanks for taking a look at the patch and the helpful suggestions. One question:
> 
> Replying to [comment:4 sluther]:
> > 1) Please don't use assert, raise ValueError instead.
> 
> Why shouldn't one use assert?
- If input parameters are of the wrong type, it's usual to raise a `TypeError`. It's good to raise errors that obey conventions, because that helps writing appropriate `try ... except` clauses when needed.
- assert statements can be optimized away if `python -O` is selected, so they are only suitable to assert conditions that are supposed to hold anyway (and raise an early error if they don't, to help debugging)



---

archive/issue_comments_128099.json:
```json
{
    "body": "Replying to [comment:6 nbruin]:\n> Replying to [comment:5 saliola]:\n> > Thanks for taking a look at the patch and the helpful suggestions. One question:\n\nAlso thanks for looking at it!\n\n`@`Chris, Franco: are you going to address the issues in the review or should I make the changes?",
    "created_at": "2012-08-14T21:06:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128099",
    "user": "stumpc5"
}
```

Replying to [comment:6 nbruin]:
> Replying to [comment:5 saliola]:
> > Thanks for taking a look at the patch and the helpful suggestions. One question:

Also thanks for looking at it!

`@`Chris, Franco: are you going to address the issues in the review or should I make the changes?



---

archive/issue_comments_128100.json:
```json
{
    "body": "Replying to [comment:7 stumpc5]:\n\n> `@`Chris, Franco: are you going to address the issues in the review or should I make the changes?\n\nI doubt that Chris nor I will have the chance to look at this in the next couple of days, so if you get the chance to do it, then go ahead.",
    "created_at": "2012-08-14T21:20:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128100",
    "user": "saliola"
}
```

Replying to [comment:7 stumpc5]:

> `@`Chris, Franco: are you going to address the issues in the review or should I make the changes?

I doubt that Chris nor I will have the chance to look at this in the next couple of days, so if you get the chance to do it, then go ahead.



---

archive/issue_comments_128101.json:
```json
{
    "body": "Replying to [comment:4 sluther]:\n\nI fixed the 5 issues mentioned.\n\n> These two classes share a lot of code. Have you though about a way to avoid this duplication?\n\nI haven't really thought about this yet. If Franco / Chris have some idea, let me know...\n\nThanks, Christian",
    "created_at": "2012-08-15T04:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128101",
    "user": "stumpc5"
}
```

Replying to [comment:4 sluther]:

I fixed the 5 issues mentioned.

> These two classes share a lot of code. Have you though about a way to avoid this duplication?

I haven't really thought about this yet. If Franco / Chris have some idea, let me know...

Thanks, Christian



---

archive/issue_comments_128102.json:
```json
{
    "body": "Fixed the bug that was occurring. Didn't have permission to delete your old patch.",
    "created_at": "2012-08-21T13:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128102",
    "user": "chrisjamesberg"
}
```

Fixed the bug that was occurring. Didn't have permission to delete your old patch.



---

archive/issue_comments_128103.json:
```json
{
    "body": "Fixed some documentation and deleted blacklists from combinatorial maps (since we don't use these anymore). Accidentally added it twice and now I don't know how to delete my patch.",
    "created_at": "2012-08-21T13:54:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128103",
    "user": "chrisjamesberg"
}
```

Fixed some documentation and deleted blacklists from combinatorial maps (since we don't use these anymore). Accidentally added it twice and now I don't know how to delete my patch.



---

archive/issue_comments_128104.json:
```json
{
    "body": "Replying to [comment:11 chrisjamesberg]:\n> Fixed some documentation and deleted blacklists from combinatorial maps (since we don't use these anymore). Accidentally added it twice and now I don't know how to delete my patch.\n\nYou can't delete a patch: only accounts with admin privileges can do that.\n\nHowever, you can direct the patchbot to which patches to apply.\n\nApply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch",
    "created_at": "2012-08-21T14:09:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128104",
    "user": "saliola"
}
```

Replying to [comment:11 chrisjamesberg]:
> Fixed some documentation and deleted blacklists from combinatorial maps (since we don't use these anymore). Accidentally added it twice and now I don't know how to delete my patch.

You can't delete a patch: only accounts with admin privileges can do that.

However, you can direct the patchbot to which patches to apply.

Apply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch



---

archive/issue_comments_128105.json:
```json
{
    "body": "Apply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch, trac_11641-combinatorial_maps_review-fs.patch,  trac_11641_concrete_combinatorial_maps_cb.patch\n\nHey Christian,\n\nWe made some changes. We deleted combinatorial_statistics since we will do that in another patch. For now, let's concentrate on combinatorial_maps.\n\nSome changes:\n\n- we changed the __repr__ method\n- we added decorators to combinatorial maps (permutations, partitions, etc.)\n- we updated doctests to use the implemented combinatorial maps\n\nBut we have some questions:\n\n- I've littered the file combinatorial_maps.py with TODOs. Take a look at them. Most are documentation issues, or things I don't understand.\n- another question: why doesn't the following work?\n\n```\n        sage: from sage.misc.combinatorial_map import combinatorial_maps_in_class\n        sage: p = Permutation([1,3,2,4])\n        sage: cmaps = combinatorial_maps_in_class(p)\n        sage: cmaps[0](p)\n```\n\n- should this file be in `sage.combinat.misc` or `sage.combinat.combinatorial_maps` instead of `sage.misc`?",
    "created_at": "2012-08-21T16:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128105",
    "user": "saliola"
}
```

Apply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch, trac_11641-combinatorial_maps_review-fs.patch,  trac_11641_concrete_combinatorial_maps_cb.patch

Hey Christian,

We made some changes. We deleted combinatorial_statistics since we will do that in another patch. For now, let's concentrate on combinatorial_maps.

Some changes:

- we changed the __repr__ method
- we added decorators to combinatorial maps (permutations, partitions, etc.)
- we updated doctests to use the implemented combinatorial maps

But we have some questions:

- I've littered the file combinatorial_maps.py with TODOs. Take a look at them. Most are documentation issues, or things I don't understand.
- another question: why doesn't the following work?

```
        sage: from sage.misc.combinatorial_map import combinatorial_maps_in_class
        sage: p = Permutation([1,3,2,4])
        sage: cmaps = combinatorial_maps_in_class(p)
        sage: cmaps[0](p)
```

- should this file be in `sage.combinat.misc` or `sage.combinat.combinatorial_maps` instead of `sage.misc`?



---

archive/issue_comments_128106.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2012-08-21T16:56:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128106",
    "user": "saliola"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_128107.json:
```json
{
    "body": "Replying to [comment:14 saliola]:\n\n> Apply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch, trac_11641-combinatorial_maps_review-fs.patch,  trac_11641_concrete_combinatorial_maps_cb.patch\n\nShould I delete all patches on the ticket, and you again add those we want to keep?\n\n> Hey Christian, We made some changes. We deleted combinatorial_statistics since we will do that in another patch. For now, let's concentrate on combinatorial_maps.\n\nAlright.\n\nSome changes: - we changed the __ repr__  method - we added decorators to combinatorial maps (permutations, partitions, etc.) - we updated doctests to use the implemented combinatorial maps\n\ngood - but I guess we are creating tons of conflicts in the queue if trac_11641_concrete_combinatorial_maps_cb.patch gets merged into main sage (though I guess we should do it anyway).\n\n> But we have some questions: - I've littered the file combinatorial_maps.py with TODOs. Take a look at them. Most are documentation issues, or things I don't understand. - another question: why doesn't the following work? ` sage: from sage.misc.combinatorial_map import combinatorial_maps_in_class sage: p = Permutation([1,3,2,4]) sage: cmaps = combinatorial_maps_in_class(p) sage: cmaps[0] (p) `\n\nWe want to call this function as in\n\n\n```\nsage: p.inverse()\n```\n\nso\n\n```\nsage: cmaps[0]()\n```\n\nreturns p.whatevercmapsof0is(). Does that make sense to you?\n\n- should this file be in `sage.combinat.misc`  or `sage.combinat.combinatorial_maps`  instead of `sage.misc` ?\n\nAdding it to `sage.combinat.misc` or `sage.combinat.combinatorial_maps` sounds good to me; I basically copied the behaviour of some other decorator that happend to be in `sage.misc`.",
    "created_at": "2012-08-21T19:49:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128107",
    "user": "stumpc5"
}
```

Replying to [comment:14 saliola]:

> Apply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch, trac_11641-combinatorial_maps_review-fs.patch,  trac_11641_concrete_combinatorial_maps_cb.patch

Should I delete all patches on the ticket, and you again add those we want to keep?

> Hey Christian, We made some changes. We deleted combinatorial_statistics since we will do that in another patch. For now, let's concentrate on combinatorial_maps.

Alright.

Some changes: - we changed the __ repr__  method - we added decorators to combinatorial maps (permutations, partitions, etc.) - we updated doctests to use the implemented combinatorial maps

good - but I guess we are creating tons of conflicts in the queue if trac_11641_concrete_combinatorial_maps_cb.patch gets merged into main sage (though I guess we should do it anyway).

> But we have some questions: - I've littered the file combinatorial_maps.py with TODOs. Take a look at them. Most are documentation issues, or things I don't understand. - another question: why doesn't the following work? ` sage: from sage.misc.combinatorial_map import combinatorial_maps_in_class sage: p = Permutation([1,3,2,4]) sage: cmaps = combinatorial_maps_in_class(p) sage: cmaps[0] (p) `

We want to call this function as in


```
sage: p.inverse()
```

so

```
sage: cmaps[0]()
```

returns p.whatevercmapsof0is(). Does that make sense to you?

- should this file be in `sage.combinat.misc`  or `sage.combinat.combinatorial_maps`  instead of `sage.misc` ?

Adding it to `sage.combinat.misc` or `sage.combinat.combinatorial_maps` sounds good to me; I basically copied the behaviour of some other decorator that happend to be in `sage.misc`.



---

archive/issue_comments_128108.json:
```json
{
    "body": "Replying to [comment:12 saliola]:\n> You can't delete a patch: only accounts with admin privileges can do that.\n\nI have admin privileges; drop me a line if you want me to delete some of the patches.",
    "created_at": "2012-08-22T06:52:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128108",
    "user": "nthiery"
}
```

Replying to [comment:12 saliola]:
> You can't delete a patch: only accounts with admin privileges can do that.

I have admin privileges; drop me a line if you want me to delete some of the patches.



---

archive/issue_comments_128109.json:
```json
{
    "body": "Replying to [comment:16 stumpc5]:\n> Replying to [comment:14 saliola]:\n> \n> > Apply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch, trac_11641-combinatorial_maps_review-fs.patch,  trac_11641_concrete_combinatorial_maps_cb.patch\n> \n> Should I delete all patches on the ticket, and you again add those we want to keep?\n\nThat line that begins with \"Apply:\" is for the patchbot.\n\n> good - but I guess we are creating tons of conflicts in the queue if trac_11641_concrete_combinatorial_maps_cb.patch gets merged into main sage (though I guess we should do it anyway).\n\nIt has to happen eventually. We'll rebase the queue, if necessary.\n\n> > But we have some questions: - I've littered the file combinatorial_maps.py with TODOs. Take a look at them. Most are documentation issues, or things I don't understand. - another question: why doesn't the following work? ` sage: from sage.misc.combinatorial_map import combinatorial_maps_in_class sage: p = Permutation([1,3,2,4]) sage: cmaps = combinatorial_maps_in_class(p) sage: cmaps[0] (p) `\n> \n> We want to call this function as in\n> \n> {{{\n> sage: p.inverse()\n> }}}\n> so\n> {{{\n> sage: cmaps[0]()\n> }}}\n> returns p.whatevercmapsof0is(). Does that make sense to you?\n\nUsing this reasoning, shouldn't the following work then? I am using Permutation_class instead of an instance of a permutation to grab the combinatorial maps:\n\n```\nsage: p = Permutation([1,3,2,4])\nsage: Permutation_class = type(p)\nsage: cmaps = combinatorial_maps_in_class(Permutation_class)\nsage: cmaps[0](p)\n```\n\nNote that this also returns an error:\n\n```\nsage: cmaps[0]()\n```\n\n \n>  - should this file be in `sage.combinat.misc`  or `sage.combinat.combinatorial_maps`  instead of `sage.misc` ?\n> \n> Adding it to `sage.combinat.misc` or `sage.combinat.combinatorial_maps` sounds good to me; I basically copied the behaviour of some other decorator that happend to be in `sage.misc`.\n\nOkay, we should move it.\n\nDid you get a chance to take a look at the TODOs in the file? There are some places that need doctests and others that need documentation, and I don't know how to do it.",
    "created_at": "2012-08-22T18:54:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128109",
    "user": "saliola"
}
```

Replying to [comment:16 stumpc5]:
> Replying to [comment:14 saliola]:
> 
> > Apply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch, trac_11641-combinatorial_maps_review-fs.patch,  trac_11641_concrete_combinatorial_maps_cb.patch
> 
> Should I delete all patches on the ticket, and you again add those we want to keep?

That line that begins with "Apply:" is for the patchbot.

> good - but I guess we are creating tons of conflicts in the queue if trac_11641_concrete_combinatorial_maps_cb.patch gets merged into main sage (though I guess we should do it anyway).

It has to happen eventually. We'll rebase the queue, if necessary.

> > But we have some questions: - I've littered the file combinatorial_maps.py with TODOs. Take a look at them. Most are documentation issues, or things I don't understand. - another question: why doesn't the following work? ` sage: from sage.misc.combinatorial_map import combinatorial_maps_in_class sage: p = Permutation([1,3,2,4]) sage: cmaps = combinatorial_maps_in_class(p) sage: cmaps[0] (p) `
> 
> We want to call this function as in
> 
> {{{
> sage: p.inverse()
> }}}
> so
> {{{
> sage: cmaps[0]()
> }}}
> returns p.whatevercmapsof0is(). Does that make sense to you?

Using this reasoning, shouldn't the following work then? I am using Permutation_class instead of an instance of a permutation to grab the combinatorial maps:

```
sage: p = Permutation([1,3,2,4])
sage: Permutation_class = type(p)
sage: cmaps = combinatorial_maps_in_class(Permutation_class)
sage: cmaps[0](p)
```

Note that this also returns an error:

```
sage: cmaps[0]()
```

 
>  - should this file be in `sage.combinat.misc`  or `sage.combinat.combinatorial_maps`  instead of `sage.misc` ?
> 
> Adding it to `sage.combinat.misc` or `sage.combinat.combinatorial_maps` sounds good to me; I basically copied the behaviour of some other decorator that happend to be in `sage.misc`.

Okay, we should move it.

Did you get a chance to take a look at the TODOs in the file? There are some places that need doctests and others that need documentation, and I don't know how to do it.



---

archive/issue_comments_128110.json:
```json
{
    "body": "Hi,\n\nI looked at the patches and have the following preliminary comments (I haven't uploaded any changes, since it doesn't seem to be right currently):\n\n- I deleted the files we don't need (I do have permission as well).\n\n- trac_11641_concrete_combinatorial_maps_cb.patch is full of things we should not take care of (all the removed whitespaces) - in particular this doesn't let me apply the patch on 5.2 (and we are on holidays so I cannot download and compile 5.3.beta2).\n\n- Examples in Franco's review do depend on trac_11641_concrete_combinatorial_maps_cb.patch, so I think the concrete maps should come right after the decorator.\n\n- I deleted the combinatorial_statistics from my patch (and its deletion from Franco's), and then moved the decorator to sage.combinat.combinatorial_map.\n\n- All the concrete maps I implemented in the past months are missing in the patch (e.g. the one sending area-bounce to dinv-area,and also all other maps for Dyck words).\n\n- I looked at the TODO's in Franco's review. As I said, I simply copied another decorator, so I can't really answer all the questions (e.g. I don't know what this \"f=None\" is used for). If you haven't done it earlier, I will look more closely at it after next week when we are back from holidays - or if we have a rainy day in between, like today :-) .\n\nBest, Christian",
    "created_at": "2012-08-23T09:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128110",
    "user": "stumpc5"
}
```

Hi,

I looked at the patches and have the following preliminary comments (I haven't uploaded any changes, since it doesn't seem to be right currently):

- I deleted the files we don't need (I do have permission as well).

- trac_11641_concrete_combinatorial_maps_cb.patch is full of things we should not take care of (all the removed whitespaces) - in particular this doesn't let me apply the patch on 5.2 (and we are on holidays so I cannot download and compile 5.3.beta2).

- Examples in Franco's review do depend on trac_11641_concrete_combinatorial_maps_cb.patch, so I think the concrete maps should come right after the decorator.

- I deleted the combinatorial_statistics from my patch (and its deletion from Franco's), and then moved the decorator to sage.combinat.combinatorial_map.

- All the concrete maps I implemented in the past months are missing in the patch (e.g. the one sending area-bounce to dinv-area,and also all other maps for Dyck words).

- I looked at the TODO's in Franco's review. As I said, I simply copied another decorator, so I can't really answer all the questions (e.g. I don't know what this "f=None" is used for). If you haven't done it earlier, I will look more closely at it after next week when we are back from holidays - or if we have a rainy day in between, like today :-) .

Best, Christian



---

archive/issue_comments_128111.json:
```json
{
    "body": "Hey Christian,\n\n> - I deleted the files we don't need (I do have permission as well).\n\nThanks!\n\n> - trac_11641_concrete_combinatorial_maps_cb.patch is full of things we should not take care of (all the removed whitespaces) - in particular this doesn't let me apply the patch on 5.2 (and we are on holidays so I cannot download and compile 5.3.beta2).\n\nThe reason for this is just that I was cutting and pasting code our old code from the combinat server. Should I really go through and put all the whitespace back in?\n\n> - Examples in Franco's review do depend on trac_11641_concrete_combinatorial_maps_cb.patch, so I think the concrete maps should come right after the decorator.\n\nAgreed.\n> - I deleted the combinatorial_statistics from my patch (and its deletion from Franco's), and then moved the decorator to sage.combinat.combinatorial_map.\n\nPerfect.\n> - All the concrete maps I implemented in the past months are missing in the patch (e.g. the one sending area-bounce to dinv-area,and also all other maps for Dyck words).\n\nI didn't include all of our work from combinat because a lot of it was missing proper documentation. Our thought was, lets get this working with what's already in sage, and then adding all the maps you've created are very simple patches. I did include a few combinatorial maps, as long as the documentation was there and it was self contained, though it's possible I missed one or two.\n\n> - I looked at the TODO's in Franco's review. As I said, I simply copied another decorator, so I can't really answer all the questions (e.g. I don't know what this \"f=None\" is used for). If you haven't done it earlier, I will look more closely at it after next week when we are back from holidays - or if we have a rainy day in between, like today :-) .\n\nEnjoy the holidays. Tell Anke and Jara I say hello.",
    "created_at": "2012-08-23T13:24:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128111",
    "user": "chrisjamesberg"
}
```

Hey Christian,

> - I deleted the files we don't need (I do have permission as well).

Thanks!

> - trac_11641_concrete_combinatorial_maps_cb.patch is full of things we should not take care of (all the removed whitespaces) - in particular this doesn't let me apply the patch on 5.2 (and we are on holidays so I cannot download and compile 5.3.beta2).

The reason for this is just that I was cutting and pasting code our old code from the combinat server. Should I really go through and put all the whitespace back in?

> - Examples in Franco's review do depend on trac_11641_concrete_combinatorial_maps_cb.patch, so I think the concrete maps should come right after the decorator.

Agreed.
> - I deleted the combinatorial_statistics from my patch (and its deletion from Franco's), and then moved the decorator to sage.combinat.combinatorial_map.

Perfect.
> - All the concrete maps I implemented in the past months are missing in the patch (e.g. the one sending area-bounce to dinv-area,and also all other maps for Dyck words).

I didn't include all of our work from combinat because a lot of it was missing proper documentation. Our thought was, lets get this working with what's already in sage, and then adding all the maps you've created are very simple patches. I did include a few combinatorial maps, as long as the documentation was there and it was self contained, though it's possible I missed one or two.

> - I looked at the TODO's in Franco's review. As I said, I simply copied another decorator, so I can't really answer all the questions (e.g. I don't know what this "f=None" is used for). If you haven't done it earlier, I will look more closely at it after next week when we are back from holidays - or if we have a rainy day in between, like today :-) .

Enjoy the holidays. Tell Anke and Jara I say hello.



---

archive/issue_comments_128112.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2012-08-23T19:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128112",
    "user": "stumpc5"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_128113.json:
```json
{
    "body": "Replying to [comment:20 chrisjamesberg]:\n> The reason for this is just that I was cutting and pasting code our old code from the combinat server. Should I really go through and put all the whitespace back in?\n\nI shrinked the patch to the stuff we want - I hope I didn't mess anything, please recheck and modify if you find anything.\n\n> > Examples in Franco's review do depend on trac_11641_concrete_combinatorial_maps_cb.patch, so I think the concrete maps should come right after the decorator.\n> \n> Agreed.\n\ndone.\n\n> > All the concrete maps I implemented in the past months are missing in the patch (e.g. the one sending area-bounce to dinv-area,and also all other maps for Dyck words).\n> \n> I didn't include all of our work from combinat because a lot of it was missing proper documentation. Our thought was, lets get this working with what's already in sage, and then adding all the maps you've created are very simple patches. I did include a few combinatorial maps, as long as the documentation was there and it was self contained, though it's possible I missed one or two.\n\nagreed, but we have to keep in mind to prepare another trac ticket for the remaining stuff (where we shouldn't forget any of the implemented methods!).\n\n> > I looked at the TODO's in Franco's review.\n\nI went through all of them and added a review-review, please have a look!\n\nI now wonder what the patchpot says...\n\nBest, Christian",
    "created_at": "2012-08-23T19:36:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128113",
    "user": "stumpc5"
}
```

Replying to [comment:20 chrisjamesberg]:
> The reason for this is just that I was cutting and pasting code our old code from the combinat server. Should I really go through and put all the whitespace back in?

I shrinked the patch to the stuff we want - I hope I didn't mess anything, please recheck and modify if you find anything.

> > Examples in Franco's review do depend on trac_11641_concrete_combinatorial_maps_cb.patch, so I think the concrete maps should come right after the decorator.
> 
> Agreed.

done.

> > All the concrete maps I implemented in the past months are missing in the patch (e.g. the one sending area-bounce to dinv-area,and also all other maps for Dyck words).
> 
> I didn't include all of our work from combinat because a lot of it was missing proper documentation. Our thought was, lets get this working with what's already in sage, and then adding all the maps you've created are very simple patches. I did include a few combinatorial maps, as long as the documentation was there and it was self contained, though it's possible I missed one or two.

agreed, but we have to keep in mind to prepare another trac ticket for the remaining stuff (where we shouldn't forget any of the implemented methods!).

> > I looked at the TODO's in Franco's review.

I went through all of them and added a review-review, please have a look!

I now wonder what the patchpot says...

Best, Christian



---

archive/issue_comments_128114.json:
```json
{
    "body": "Replying to [comment:22 stumpc5]:\n> I now wonder what the patchpot says...\n\nEverything seems to be fine now -- would be great if one of you (Chris / Franco) could have another look and see if we should take care of anything else, or give a positive review.\n\nI am now building 5.3.rc0. Should I then get the patches in the combinat queue or did you already do that?\n\nThanks, Christian",
    "created_at": "2012-08-30T09:06:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128114",
    "user": "stumpc5"
}
```

Replying to [comment:22 stumpc5]:
> I now wonder what the patchpot says...

Everything seems to be fine now -- would be great if one of you (Chris / Franco) could have another look and see if we should take care of anything else, or give a positive review.

I am now building 5.3.rc0. Should I then get the patches in the combinat queue or did you already do that?

Thanks, Christian



---

archive/issue_comments_128115.json:
```json
{
    "body": "Hi,\n\nbefore this gets again forgotten - what is left here? I remember that I added another review patch and wanted to get your new remarks or final positive review.\n\nI added Mike since he wants to get everything in the patch \"concrete_combinatorial_maps\" within dyck_words merged with stuff of him to get a medium size patch on Dyck paths done soon.\n\nBest, Christian",
    "created_at": "2012-09-29T18:44:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128115",
    "user": "stumpc5"
}
```

Hi,

before this gets again forgotten - what is left here? I remember that I added another review patch and wanted to get your new remarks or final positive review.

I added Mike since he wants to get everything in the patch "concrete_combinatorial_maps" within dyck_words merged with stuff of him to get a medium size patch on Dyck paths done soon.

Best, Christian



---

archive/issue_comments_128116.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-11-30T20:58:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128116",
    "user": "chrisjamesberg"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_128117.json:
```json
{
    "body": "Why does this have milestone `sage-pending`?",
    "created_at": "2012-12-18T13:11:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128117",
    "user": "jdemeyer"
}
```

Why does this have milestone `sage-pending`?



---

archive/issue_comments_128118.json:
```json
{
    "body": "Replying to [comment:26 jdemeyer]:\n> Why does this have milestone `sage-pending`?\n\nthanks for bringing this up -- changed to 5.6...",
    "created_at": "2012-12-18T13:16:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128118",
    "user": "stumpc5"
}
```

Replying to [comment:26 jdemeyer]:
> Why does this have milestone `sage-pending`?

thanks for bringing this up -- changed to 5.6...



---

archive/issue_comments_128119.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-12-26T14:46:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128119",
    "user": "stumpc5"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_128120.json:
```json
{
    "body": "Replying to [comment:30 stumpc5]:\n\nI will lazily import the new classes to make the pathbot (and the users waiting for their sage to start) happy. Hope, I'll be able to do it later today...",
    "created_at": "2012-12-26T14:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128120",
    "user": "stumpc5"
}
```

Replying to [comment:30 stumpc5]:

I will lazily import the new classes to make the pathbot (and the users waiting for their sage to start) happy. Hope, I'll be able to do it later today...



---

archive/issue_comments_128121.json:
```json
{
    "body": "Replying to [comment:31 stumpc5]:\n> Replying to [comment:30 stumpc5]:\n> \n> I will lazily import the new classes to make the pathbot (and the users waiting for their sage to start) happy. Hope, I'll be able to do it later today...\n\nOkay, I got rid of importing `types`. The function `combinatorial_map` is used in `Permutation` and similar others classes, and is thus imported there.",
    "created_at": "2012-12-26T18:03:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128121",
    "user": "stumpc5"
}
```

Replying to [comment:31 stumpc5]:
> Replying to [comment:30 stumpc5]:
> 
> I will lazily import the new classes to make the pathbot (and the users waiting for their sage to start) happy. Hope, I'll be able to do it later today...

Okay, I got rid of importing `types`. The function `combinatorial_map` is used in `Permutation` and similar others classes, and is thus imported there.



---

archive/issue_comments_128122.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-12-26T23:30:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128122",
    "user": "stumpc5"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_128123.json:
```json
{
    "body": "Could you rebase your patch on top of #13074 please.",
    "created_at": "2012-12-27T11:28:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128123",
    "user": "jdemeyer"
}
```

Could you rebase your patch on top of #13074 please.



---

archive/issue_comments_128124.json:
```json
{
    "body": "Replying to [comment:34 jdemeyer]:\n> Could you rebase your patch on top of #13074 please.\n\ndone, thanks for taking care of that! Let's see what the patchbot says...",
    "created_at": "2012-12-27T12:02:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128124",
    "user": "stumpc5"
}
```

Replying to [comment:34 jdemeyer]:
> Could you rebase your patch on top of #13074 please.

done, thanks for taking care of that! Let's see what the patchbot says...



---

archive/issue_comments_128125.json:
```json
{
    "body": "Replying to [comment:35 stumpc5]:\n\nChris, do you think it is worth giving this patch a positive review now?\n\nCheers, Christian",
    "created_at": "2013-01-21T21:13:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128125",
    "user": "stumpc5"
}
```

Replying to [comment:35 stumpc5]:

Chris, do you think it is worth giving this patch a positive review now?

Cheers, Christian



---

archive/issue_comments_128126.json:
```json
{
    "body": "> Chris, do you think it is worth giving this patch a positive review now?\nI can review it too, but shouldn't it have the decorators for all of the Dyck words/permutations and other combinatorial object methods?\n\n-Mike",
    "created_at": "2013-01-21T21:28:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128126",
    "user": "zabrocki"
}
```

> Chris, do you think it is worth giving this patch a positive review now?
I can review it too, but shouldn't it have the decorators for all of the Dyck words/permutations and other combinatorial object methods?

-Mike



---

archive/issue_comments_128127.json:
```json
{
    "body": "Replying to [comment:37 zabrocki]:\n> > Chris, do you think it is worth giving this patch a positive review now?\n> I can review it too, but shouldn't it have the decorators for all of the Dyck words/permutations and other combinatorial object methods?\n\nThis isn't really necessary, but can as well be done in some other patch. I would actually prefer this patch to make it into Sage, so we can use the decorator in other patches; but if you want to spend the time to add the decorators to some more maps, please go ahead...\n\nThanks, Christian",
    "created_at": "2013-01-21T22:02:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128127",
    "user": "stumpc5"
}
```

Replying to [comment:37 zabrocki]:
> > Chris, do you think it is worth giving this patch a positive review now?
> I can review it too, but shouldn't it have the decorators for all of the Dyck words/permutations and other combinatorial object methods?

This isn't really necessary, but can as well be done in some other patch. I would actually prefer this patch to make it into Sage, so we can use the decorator in other patches; but if you want to spend the time to add the decorators to some more maps, please go ahead...

Thanks, Christian



---

archive/issue_comments_128128.json:
```json
{
    "body": "I've looked this over now, tested it and I give it a positive review.\n-Mike",
    "created_at": "2013-01-22T14:54:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128128",
    "user": "zabrocki"
}
```

I've looked this over now, tested it and I give it a positive review.
-Mike



---

archive/issue_comments_128129.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-01-22T14:54:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128129",
    "user": "zabrocki"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_128130.json:
```json
{
    "body": "I just uploaded a minimally changed patch which requires less rebasing for the later patches in the queue (it was removing some trailing whitespace from existing code).\n\nChristian double checked the change over my shoulder, so we leave this ticket at positive review.",
    "created_at": "2013-01-23T23:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128130",
    "user": "nthiery"
}
```

I just uploaded a minimally changed patch which requires less rebasing for the later patches in the queue (it was removing some trailing whitespace from existing code).

Christian double checked the change over my shoulder, so we leave this ticket at positive review.



---

archive/issue_comments_128131.json:
```json
{
    "body": "Attachment [trac_11641-combinatorial_maps_decorator-cs.patch](tarball://root/attachments/some-uuid/ticket11641/trac_11641-combinatorial_maps_decorator-cs.patch) by jdemeyer created at 2013-01-24 07:52:39\n\nRebased patch to sage-5.7.beta0 (not released yet).",
    "created_at": "2013-01-24T07:52:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128131",
    "user": "jdemeyer"
}
```

Attachment [trac_11641-combinatorial_maps_decorator-cs.patch](tarball://root/attachments/some-uuid/ticket11641/trac_11641-combinatorial_maps_decorator-cs.patch) by jdemeyer created at 2013-01-24 07:52:39

Rebased patch to sage-5.7.beta0 (not released yet).



---

archive/issue_comments_128132.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-01-25T13:06:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11469",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11469#issuecomment-128132",
    "user": "jdemeyer"
}
```

Resolution: fixed
