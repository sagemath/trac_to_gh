# Issue 12003: Missing *args and **kwds in SL2Z.random_element()

Issue created by migration from https://trac.sagemath.org/ticket/12175

Original creator: fschulze

Original creation time: 2011-12-17 20:50:29

Assignee: craigcitro

CC:  malb

In #3893 SL2Z.random_element() was fixed to pass through *args and **kwds arguments. There are still 2 cases in the method that don't do that.

I really don't know how to provide a doctest for this patch.


---

Attachment


---

Comment by fschulze created at 2013-01-24 12:40:44

Changing status from new to needs_review.


---

Comment by cnassau created at 2013-01-26 17:11:48

The patchbot show a doctest failure:

```
File "/opt/patchbot-5.7.beta0/devel/sage-12175/sage/modular/arithgroup/congroup_sl2z.py", line 193:
    sage: SL2Z.random_element(5, distribution='1/n')
Expected:
    [ 1 -1]
    [ 0  1]
Got:
    [ 1 -4]
    [ 0  1]
```

That test probably needs to be marked as "`#random`".


---

Comment by chapoton created at 2013-02-14 12:36:41

I have added a few "# random# tags. Let us see if the bot is happy.


---

Comment by fschulze created at 2013-02-14 13:25:52

This shouldn't get a #random tag. Running the test multiple times gives the same new result every time.


---

Comment by chapoton created at 2013-02-14 14:07:07

I do not agree. This is a random function, and we should not expect it to return a fixed result.


```
sage: SL2Z.random_element(5, distribution='1/n')
[-1 -1]
[ 0 -1]
sage: SL2Z.random_element(5, distribution='1/n')
[1 1]
[0 1]
sage: SL2Z.random_element(5, distribution='1/n')
[-1  7]
[ 1 -8]
```


The result is random, and the test must be tagged accordingly.


---

Comment by fschulze created at 2013-02-15 08:53:23

It is a pseudorandom function. From the Developers guide
http://www.sagemath.org/doc/developer/conventions.html

> However, most functions generating pseudorandom output do not need this tag
> since the doctesting framework guarantees the state of the pseudorandom number generators
> (PRNGs) used in Sage for a given doctest.


---

Attachment

Also fix the doctests.


---

Attachment

Ok, I think we can then agree. My review patch also removes whitespaces and changes Raise to pyhton3 syntax, so one should rather do

apply trac_12175_random_element.patch trac_12175_tag_random_fc.patch


---

Comment by chapoton created at 2013-02-15 12:46:27

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2013-02-15 12:46:27

Positive review, as the patchbot has given a green light and we agreed on what to do.


---

Comment by jdemeyer created at 2013-02-15 17:10:39

Please fill in the Author and Reviewer fields with your real names.


---

Comment by jdemeyer created at 2013-02-22 19:10:43

Resolution: fixed
