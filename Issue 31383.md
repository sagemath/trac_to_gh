# Issue 31383: Document installing sagemath kernel without copying documentation

archive/issues_031383.json:
```json
{
    "body": "Follow up to #30476: Using `jupyter kernelspec` to install `sagemath` kernel results in copying about 2Gb of documentation into the jupyter kernels share directory. That's generally not the spot to put large files/documentation. Document how to avoid this.\n\nIssue created by migration from https://trac.sagemath.org/ticket/31620\n\n",
    "created_at": "2021-04-08T17:12:37Z",
    "labels": [
        "documentation",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Document installing sagemath kernel without copying documentation",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31383",
    "user": "nbruin"
}
```
Follow up to #30476: Using `jupyter kernelspec` to install `sagemath` kernel results in copying about 2Gb of documentation into the jupyter kernels share directory. That's generally not the spot to put large files/documentation. Document how to avoid this.

Issue created by migration from https://trac.sagemath.org/ticket/31620





---

archive/issue_comments_448913.json:
```json
{
    "body": "The procedure to follow would be something like:\n* Use `sage -sh -c 'ls -d $SAGE_LOCAL/share/jupyter/kernels/sagemath'` to find location of sagemath kernel to install\n* Use `jupyter --paths` to find eligible data locations (for a \"user\" install, there will likely be something like `$HOME/.local/share/jupyter` there.\n* Installing the sagemath kernel should then amount to something like\n\n```\nln -s `sage -sh -c 'ls -d $SAGE_LOCAL/share/jupyter/kernels/sagemath'` $HOME/.local/share/jupyter\n```\n\nWe may want to check/refine these instructions to be a little more robust and/or appropriate for other operating systems, but having this documented in an easily discovered place would help. These instructions should probaly be placed or linked to in `src/doc/en/installation/launching.rst`",
    "created_at": "2021-04-08T17:29:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31383#issuecomment-448913",
    "user": "nbruin"
}
```

The procedure to follow would be something like:
* Use `sage -sh -c 'ls -d $SAGE_LOCAL/share/jupyter/kernels/sagemath'` to find location of sagemath kernel to install
* Use `jupyter --paths` to find eligible data locations (for a "user" install, there will likely be something like `$HOME/.local/share/jupyter` there.
* Installing the sagemath kernel should then amount to something like

```
ln -s `sage -sh -c 'ls -d $SAGE_LOCAL/share/jupyter/kernels/sagemath'` $HOME/.local/share/jupyter
```

We may want to check/refine these instructions to be a little more robust and/or appropriate for other operating systems, but having this documented in an easily discovered place would help. These instructions should probaly be placed or linked to in `src/doc/en/installation/launching.rst`



---

archive/issue_comments_448914.json:
```json
{
    "body": "See also previous discussions in #30298",
    "created_at": "2021-04-08T17:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31383#issuecomment-448914",
    "user": "mkoeppe"
}
```

See also previous discussions in #30298



---

archive/issue_comments_448915.json:
```json
{
    "body": "Replying to [comment:1 nbruin]:\n> The procedure to follow would be something like:\n> * Use `sage -sh -c 'ls -d $SAGE_LOCAL/share/jupyter/kernels/sagemath'` to find location of sagemath kernel to install\n\nFor this first step, I think we may want to add an option to the `sage` script that just prints the location",
    "created_at": "2021-04-08T17:40:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31383#issuecomment-448915",
    "user": "mkoeppe"
}
```

Replying to [comment:1 nbruin]:
> The procedure to follow would be something like:
> * Use `sage -sh -c 'ls -d $SAGE_LOCAL/share/jupyter/kernels/sagemath'` to find location of sagemath kernel to install

For this first step, I think we may want to add an option to the `sage` script that just prints the location



---

archive/issue_comments_448916.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-04-09T02:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31383#issuecomment-448916",
    "user": "nbruin"
}
```

New commits:



---

archive/issue_comments_448917.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-04-09T02:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31383#issuecomment-448917",
    "user": "nbruin"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_448918.json:
```json
{
    "body": "Replying to [comment:3 mkoeppe]:\n> Replying to [comment:1 nbruin]:\n> > The procedure to follow would be something like:\n> > * Use `sage -sh -c 'ls -d $SAGE_LOCAL/share/jupyter/kernels/sagemath'` to find location of sagemath kernel to install\n> \n> For this first step, I think we may want to add an option to the `sage` script that just prints the location\nI don't think it's something people need to do very often, so they'd need to look up how to do it anyway. As long as it's easily discovered and a readily copy-pastable formula, I don't think it's so bad if it's a little long. At least it's transparent what is going on for someone with generic bash skills. Let's first get this documented. It's a safe and easy change, so we can still include it in 9.3. Then it'll be up on `sagemath.org` in the near future and then hopefully search engines can pick it up.",
    "created_at": "2021-04-09T02:26:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31383#issuecomment-448918",
    "user": "nbruin"
}
```

Replying to [comment:3 mkoeppe]:
> Replying to [comment:1 nbruin]:
> > The procedure to follow would be something like:
> > * Use `sage -sh -c 'ls -d $SAGE_LOCAL/share/jupyter/kernels/sagemath'` to find location of sagemath kernel to install
> 
> For this first step, I think we may want to add an option to the `sage` script that just prints the location
I don't think it's something people need to do very often, so they'd need to look up how to do it anyway. As long as it's easily discovered and a readily copy-pastable formula, I don't think it's so bad if it's a little long. At least it's transparent what is going on for someone with generic bash skills. Let's first get this documented. It's a safe and easy change, so we can still include it in 9.3. Then it'll be up on `sagemath.org` in the near future and then hopefully search engines can pick it up.



---

archive/issue_comments_448919.json:
```json
{
    "body": "OK, that's fine with me.",
    "created_at": "2021-04-09T02:39:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31383#issuecomment-448919",
    "user": "mkoeppe"
}
```

OK, that's fine with me.



---

archive/issue_comments_448920.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-04-09T05:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31383#issuecomment-448920",
    "user": "mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_448921.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2021-04-18T16:13:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31383#issuecomment-448921",
    "user": "mkoeppe"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_448922.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-04-26T21:59:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31383#issuecomment-448922",
    "user": "vbraun"
}
```

Resolution: fixed
