# Issue 31383: Document installing sagemath kernel without copying documentation

Issue created by migration from https://trac.sagemath.org/ticket/31620

Original creator: nbruin

Original creation time: 2021-04-08 17:12:37

Follow up to #30476: Using `jupyter kernelspec` to install `sagemath` kernel results in copying about 2Gb of documentation into the jupyter kernels share directory. That's generally not the spot to put large files/documentation. Document how to avoid this.


---

Comment by nbruin created at 2021-04-08 17:29:20

The procedure to follow would be something like:
* Use `sage -sh -c 'ls -d $SAGE_LOCAL/share/jupyter/kernels/sagemath'` to find location of sagemath kernel to install
* Use `jupyter --paths` to find eligible data locations (for a "user" install, there will likely be something like `$HOME/.local/share/jupyter` there.
* Installing the sagemath kernel should then amount to something like

```
ln -s `sage -sh -c 'ls -d $SAGE_LOCAL/share/jupyter/kernels/sagemath'` $HOME/.local/share/jupyter
```

We may want to check/refine these instructions to be a little more robust and/or appropriate for other operating systems, but having this documented in an easily discovered place would help. These instructions should probaly be placed or linked to in `src/doc/en/installation/launching.rst`


---

Comment by mkoeppe created at 2021-04-08 17:39:55

See also previous discussions in #30298


---

Comment by mkoeppe created at 2021-04-08 17:40:42

Replying to [comment:1 nbruin]:
> The procedure to follow would be something like:
> * Use `sage -sh -c 'ls -d $SAGE_LOCAL/share/jupyter/kernels/sagemath'` to find location of sagemath kernel to install

For this first step, I think we may want to add an option to the `sage` script that just prints the location


---

Comment by nbruin created at 2021-04-09 02:19:03

New commits:


---

Comment by nbruin created at 2021-04-09 02:19:03

Changing status from new to needs_review.


---

Comment by nbruin created at 2021-04-09 02:26:28

Replying to [comment:3 mkoeppe]:
> Replying to [comment:1 nbruin]:
> > The procedure to follow would be something like:
> > * Use `sage -sh -c 'ls -d $SAGE_LOCAL/share/jupyter/kernels/sagemath'` to find location of sagemath kernel to install
> 
> For this first step, I think we may want to add an option to the `sage` script that just prints the location
I don't think it's something people need to do very often, so they'd need to look up how to do it anyway. As long as it's easily discovered and a readily copy-pastable formula, I don't think it's so bad if it's a little long. At least it's transparent what is going on for someone with generic bash skills. Let's first get this documented. It's a safe and easy change, so we can still include it in 9.3. Then it'll be up on `sagemath.org` in the near future and then hopefully search engines can pick it up.


---

Comment by mkoeppe created at 2021-04-09 02:39:12

OK, that's fine with me.


---

Comment by mkoeppe created at 2021-04-09 05:45:35

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-04-18 16:13:17

Changing priority from major to blocker.


---

Comment by vbraun created at 2021-04-26 21:59:07

Resolution: fixed
