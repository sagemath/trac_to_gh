# Issue 34130: README.md: Mention cocalc Docker image instead of sagemath/sagemath image

Issue created by migration from https://trac.sagemath.org/ticket/34367

Original creator: mkoeppe

Original creation time: 2022-08-15 14:52:09

CC:  saraedum vdelecroix was klee slelievre dimpase

The sagemath/sagemath image has been broken and semi-abandoned for a long time. We replace mentions of it by the cocalc image.


---

Comment by mkoeppe created at 2022-08-15 15:03:46

New commits:


---

Comment by mkoeppe created at 2022-08-15 15:03:46

Changing status from new to needs_review.


---

Comment by saraedum created at 2022-08-15 16:59:25

I agree that the sagemath image is essentially abandoned. I manage to upgrade it sometimes but it always requires me to fix some breakage that was introduced in the latest release. (And nobody else seems to be willing to help with this.)

I wouldn't call the image broken though. The sagemath-dev image takes forever to start since the latest upgrade but the the normal sagemath image should work fine though being outdated. At the same time the cocalc image is 6GB and I imagine that many people look for such images for CI purposes. (The sagemath image has unfortunately jumped to 1.5GB with its latest upgrade...)

So, shouldn't we mention both or rather link to a wiki page so the instructions can be easily adapted?


---

Comment by saraedum created at 2022-08-15 17:02:54

Changing priority from blocker to critical.


---

Comment by saraedum created at 2022-08-15 17:02:54

(I hope you don't mind me downgrading this to critical. It's been an issue for a while so I don't think this should be considered blocking for 9.7.)


---

Comment by saraedum created at 2022-08-15 17:02:54

Changing component from documentation to docker.


---

Comment by mkoeppe created at 2022-08-15 17:07:32

Sure, we can link to https://trac.sagemath.org/wiki/Distribution#Dockerimages instead.


---

Comment by mkoeppe created at 2022-08-15 17:09:26

But then we need to update that page to no longer recommend the sagemath, sagemath-dev images.


---

Comment by saraedum created at 2022-08-15 17:23:36

Replying to [comment:6 mkoeppe]:
> But then we need to update that page to no longer recommend the sagemath, sagemath-dev images.

Yes, let's link to that wiki page instead.

I don't see why we should not recommend the sagemath image. It should work fine (though it's only 9.5.)


---

Comment by was created at 2022-08-15 18:07:51

Thumbs up from me :-).  I regularly maintain and update cocalc-docker, and plan to continue to do so longterm.  It also gets a lot of usage and people complain when it breaks.

I sometimes build aarch64 images as well, though not as often as I would like.


---

Comment by mkoeppe created at 2022-08-15 18:53:58

Replying to [comment:7 saraedum]:
> I don't see why we should not recommend the sagemath image. It should work fine (though it's only 9.5.)

Because it's sending potential Sage users to a dead end, and this is what we must avoid.

It's outdated (both Sage and the OS). There's no working way to upgrade it. Can't install optional packages (there's no `make`, can't install `make`) etc.


---

Comment by mkoeppe created at 2022-08-15 19:00:19

Julian, please don't get me wrong. You have been doing a great service for the Sage community by developing and maintaining this Docker image. It's just that currently I don't think we can recommend it to anyone.


---

Comment by git created at 2022-08-15 19:07:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-15 19:16:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-08-15 19:16:53

Ready for review


---

Comment by mkoeppe created at 2022-08-15 19:34:26

I've edited https://trac.sagemath.org/wiki/Distribution#Dockerimages to include a list of open tickets and a call for maintainers for sagemath/sagemath.
Please feel free to edit!


---

Comment by git created at 2022-08-16 06:19:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-08-16 16:43:42

The documentation builds now, let's please get it in.


---

Comment by dimpase created at 2022-08-24 11:59:17

lgtm


---

Comment by dimpase created at 2022-08-24 11:59:17

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2022-08-24 15:12:14

Thanks!


---

Comment by vbraun created at 2022-08-29 11:24:23

Resolution: fixed
