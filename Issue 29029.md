# Issue 29029: Bugfix concerning ticket #26421

archive/issues_029029.json:
```json
{
    "body": "CC:  @tscrim\n\nKeywords: factorization, integral domain\n\nIn #26421 factorization of polynomials has been extended to previously untreated cases in which the polynomial's base ring is an integral domain.\nThe factorization is done over the field of fraction and excepted if it can be coerced into the base ring itself. Since the method `base_change` of the class `Factorzation` doesn't check if the unit of the factorization is coerced to a unit again, this implementation is too vastly:\n\n\n```\nsage: R.<t> = LaurentPolynomialRing(ZZ)\nsage: P.<x> = R[]\nsage: f = 2*x + 4\nsage: f.is_irreducible()\nTrue\nsage: F = f.factor(); F\n(2) * (x + 2)\nsage: F.unit()\n2\n```\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/29266\n\n",
    "created_at": "2020-03-01T20:24:57Z",
    "labels": [
        "component: commutative algebra",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Bugfix concerning ticket #26421",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29029",
    "user": "https://github.com/soehms"
}
```
CC:  @tscrim

Keywords: factorization, integral domain

In #26421 factorization of polynomials has been extended to previously untreated cases in which the polynomial's base ring is an integral domain.
The factorization is done over the field of fraction and excepted if it can be coerced into the base ring itself. Since the method `base_change` of the class `Factorzation` doesn't check if the unit of the factorization is coerced to a unit again, this implementation is too vastly:


```
sage: R.<t> = LaurentPolynomialRing(ZZ)
sage: P.<x> = R[]
sage: f = 2*x + 4
sage: f.is_irreducible()
True
sage: F = f.factor(); F
(2) * (x + 2)
sage: F.unit()
2
```



Issue created by migration from https://trac.sagemath.org/ticket/29266





---

archive/issue_comments_410369.json:
```json
{
    "body": "Maybe a better place for the fix would be the method `base_change` of the class `Factorization`. But since this leads to the failure of previous doctests (in cases `is_unit` is not implemented), I preferred the implementation in method `factor`.\n----\nNew commits:",
    "created_at": "2020-03-01T20:31:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29029#issuecomment-410369",
    "user": "https://github.com/soehms"
}
```

Maybe a better place for the fix would be the method `base_change` of the class `Factorization`. But since this leads to the failure of previous doctests (in cases `is_unit` is not implemented), I preferred the implementation in method `factor`.
----
New commits:



---

archive/issue_comments_410370.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-01T20:31:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29029#issuecomment-410370",
    "user": "https://github.com/soehms"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_410371.json:
```json
{
    "body": "One little change: \"coerce\" to \"convert\". If it was a coercion map, then the fact it was a unit must be preserved (as coercions must be morphisms). Once you change that, you can set a positive review.",
    "created_at": "2020-03-02T00:09:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29029#issuecomment-410371",
    "user": "https://github.com/tscrim"
}
```

One little change: "coerce" to "convert". If it was a coercion map, then the fact it was a unit must be preserved (as coercions must be morphisms). Once you change that, you can set a positive review.



---

archive/issue_comments_410372.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-02T06:29:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29029#issuecomment-410372",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_410373.json:
```json
{
    "body": "Thanks!",
    "created_at": "2020-03-02T06:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29029#issuecomment-410373",
    "user": "https://github.com/soehms"
}
```

Thanks!



---

archive/issue_comments_410374.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-02T06:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29029#issuecomment-410374",
    "user": "https://github.com/soehms"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_410375.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-03T23:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29029#issuecomment-410375",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
