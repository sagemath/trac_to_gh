# Issue 15929: refactoring of functions/other.py:factorial()

Issue created by migration from Trac.

Original creator: rws

Original creation time: 2014-04-15 08:12:52

CC:  dkrenn ppurka

Keywords: functions, factorial

dkrenn mentioned in #15003 that the general factorial-function should check if the element has `.factorial` and executes it. Only if not, it comes up with solution on its own. (I have not checked the current implementations; its just came in my mind by thinking about it). IE to add the following to the factorial() call in sage/functions/other.py

```
try:
    number.factorial()
except AttributeError:
    <do the rest>
```



---

Comment by rws created at 2016-08-06 06:19:08

Changing type from enhancement to defect.


---

Comment by rws created at 2016-08-06 06:19:08

Since the `function/` factorial overrides the `arith/` version (#17489) the `symbolic.Function` machinery gets used and it exactly does what is asked for in this ticket, i.e. checking for a `.factorial()` member function.

However, as can be seen from the updated description the `py_factorial()` helper does not catch `ValueError`s so the existing mechanics fail for some types, so I updated the description.


---

Comment by rws created at 2016-08-06 06:31:51

New commits:


---

Comment by rws created at 2016-08-06 06:31:51

Changing status from new to needs_review.


---

Comment by arminstraub created at 2016-08-18 22:56:53

Changing status from needs_review to positive_review.


---

Comment by arminstraub created at 2016-08-18 22:56:53

Looks good, solves the problem, and all tests pass fine.


---

Comment by rws created at 2016-08-19 06:09:21

Thanks for the review.


---

Comment by vbraun created at 2016-08-21 13:14:02

Resolution: fixed
