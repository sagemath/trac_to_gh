# Issue 28083: Further fixes for sage-env-less installs

Issue created by migration from https://trac.sagemath.org/ticket/28320

Original creator: arojas

Original creation time: 2019-08-04 08:50:43

CC:  fbissey jhpalmieri




---

Comment by arojas created at 2019-08-04 08:54:41

Changing type from PLEASE CHANGE to enhancement.


---

Comment by arojas created at 2019-08-04 08:54:41

Changing component from PLEASE CHANGE to distribution.


---

Comment by git created at 2019-08-04 08:56:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-08-04 08:59:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by arojas created at 2019-08-04 09:02:04

FranÃ§ois, feel free to take over the branch and add any further fixes. I'll be on vacation with no computer access for the next 3 weeks.


---

Comment by fbissey created at 2019-08-04 09:02:57

Have a nice one then!


---

Comment by fbissey created at 2019-08-04 21:56:06

Changing status from new to needs_review.


---

Comment by fbissey created at 2019-08-04 21:56:06

While it may be overkill, does that fix your python3 problem, John? If not I move to one of the fix you suggested. Lastly, since it is deprecated, there is the option of just removing `sage-cython`.
----
New commits:


---

Comment by jhpalmieri created at 2019-08-05 00:49:58

Replying to [comment:7 fbissey]:
> While it may be overkill, does that fix your python3 problem, John? If not I move to one of the fix you suggested. Lastly, since it is deprecated, there is the option of just removing `sage-cython`.

This does fix it. While it's deprecated, I'm not sure what the plans are: maybe to make `sage --cython` just call `cython` directly? Better to ask the people involved with the deprecation (#27041). I don't think we can just delete it, since `sage --cython` uses it right now.


---

Comment by fbissey created at 2019-08-05 00:54:32

Merged 6 months ago, so it is probably too early for removal anyway. I think getting it to run with whichever python sage has been built with, is the right thing to do.

If you don't have any objections or problem with the rest of the branch, could I ask for a review :)


---

Comment by jhpalmieri created at 2019-08-05 20:43:23

My general feeling is that we should use `python` rather than `sage-python23` whenever possible, so I'm not delighted with this change. It is possible that someone could use the  `sage-cython` script before Sage has been completely installed, but not with this change.

However, since the whole thing is deprecated, I'm not going to worry too much about it. Sage builds with this change, so it doesn't break anything in the build process. The other changes look safe enough. Let me run a few more tests, but it's probably ready to go.


---

Comment by jhpalmieri created at 2019-08-05 23:56:28

Okay, it builds from scratch with Python 2 and Python 3, with only the expected failures with Python 3.


---

Comment by jhpalmieri created at 2019-08-05 23:56:28

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-08-08 22:53:33

Author is missing


---

Comment by vbraun created at 2019-08-08 22:53:33

Changing status from positive_review to needs_work.


---

Comment by fbissey created at 2019-08-08 22:55:20

Changing status from needs_work to positive_review.


---

Comment by fbissey created at 2019-08-08 22:55:20

Fixed.


---

Comment by vbraun created at 2019-08-11 16:44:00

Resolution: fixed
