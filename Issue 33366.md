# Issue 33366: Fix Conic doctests

Issue created by migration from https://trac.sagemath.org/ticket/33603

Original creator: mstreng

Original creation time: 2022-03-30 14:50:31

CC:  @kliem cremona chapoton tscrim




---

Comment by mstreng created at 2022-03-30 15:07:36

Changing keywords from "" to "conic, magma".


---

Comment by mstreng created at 2022-03-30 15:07:36

Changing type from PLEASE CHANGE to defect.


---

Comment by mstreng created at 2022-03-30 15:07:36

Changing component from PLEASE CHANGE to geometry.


---

Comment by mstreng created at 2022-03-30 15:07:36

New commits:


---

Comment by git created at 2022-03-30 16:07:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mstreng created at 2022-03-31 06:23:36

Apparently the cache bug was introduced in #28900.


---

Comment by tscrim created at 2022-03-31 06:56:54

I guess this comes from `_finite_obstructions` and `_infinite_obstructions` being `None`, which carries a different meaning. Could you add a comment saying something like, "These values might be `None`, so we explicitly check against a list"? Otherwise if doctests pass (I am assuming this is ready for review; if so, please set it to needs review), then positive review.


---

Comment by git created at 2022-03-31 07:56:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mstreng created at 2022-03-31 07:57:58

Changing status from new to needs_review.


---

Comment by mstreng created at 2022-03-31 07:57:58

All (long) non-optional tests passed. All Magma tests in `src/sage/schemes/plane_conics` passed. And then I added the comment that Travis asked for.


---

Comment by tscrim created at 2022-03-31 08:00:35

Thank you. LGTM.


---

Comment by tscrim created at 2022-03-31 08:00:35

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-04-02 10:52:35

Resolution: fixed
