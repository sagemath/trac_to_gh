# Issue 33366: Fix Conic doctests

archive/issues_033366.json:
```json
{
    "body": "CC:  @kliem @JohnCremona @fchapoton @tscrim\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/33603\n\n",
    "created_at": "2022-03-30T14:50:31Z",
    "labels": [
        "PLEASE CHANGE",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Fix Conic doctests",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33366",
    "user": "@mstreng"
}
```
CC:  @kliem @JohnCremona @fchapoton @tscrim



Issue created by migration from https://trac.sagemath.org/ticket/33603





---

archive/issue_comments_475135.json:
```json
{
    "body": "Changing keywords from \"\" to \"conic, magma\".",
    "created_at": "2022-03-30T15:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-475135",
    "user": "@mstreng"
}
```

Changing keywords from "" to "conic, magma".



---

archive/issue_comments_475136.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2022-03-30T15:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-475136",
    "user": "@mstreng"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_475137.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to geometry.",
    "created_at": "2022-03-30T15:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-475137",
    "user": "@mstreng"
}
```

Changing component from PLEASE CHANGE to geometry.



---

archive/issue_comments_475138.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-03-30T15:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-475138",
    "user": "@mstreng"
}
```

New commits:



---

archive/issue_comments_475139.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-30T16:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-475139",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_475140.json:
```json
{
    "body": "Apparently the cache bug was introduced in #28900.",
    "created_at": "2022-03-31T06:23:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-475140",
    "user": "@mstreng"
}
```

Apparently the cache bug was introduced in #28900.



---

archive/issue_comments_475141.json:
```json
{
    "body": "I guess this comes from `_finite_obstructions` and `_infinite_obstructions` being `None`, which carries a different meaning. Could you add a comment saying something like, \"These values might be `None`, so we explicitly check against a list\"? Otherwise if doctests pass (I am assuming this is ready for review; if so, please set it to needs review), then positive review.",
    "created_at": "2022-03-31T06:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-475141",
    "user": "@tscrim"
}
```

I guess this comes from `_finite_obstructions` and `_infinite_obstructions` being `None`, which carries a different meaning. Could you add a comment saying something like, "These values might be `None`, so we explicitly check against a list"? Otherwise if doctests pass (I am assuming this is ready for review; if so, please set it to needs review), then positive review.



---

archive/issue_comments_475142.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-31T07:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-475142",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_475143.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-03-31T07:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-475143",
    "user": "@mstreng"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_475144.json:
```json
{
    "body": "All (long) non-optional tests passed. All Magma tests in `src/sage/schemes/plane_conics` passed. And then I added the comment that Travis asked for.",
    "created_at": "2022-03-31T07:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-475144",
    "user": "@mstreng"
}
```

All (long) non-optional tests passed. All Magma tests in `src/sage/schemes/plane_conics` passed. And then I added the comment that Travis asked for.



---

archive/issue_comments_475145.json:
```json
{
    "body": "Thank you. LGTM.",
    "created_at": "2022-03-31T08:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-475145",
    "user": "@tscrim"
}
```

Thank you. LGTM.



---

archive/issue_comments_475146.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-03-31T08:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-475146",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_475147.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-04-02T10:52:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-475147",
    "user": "@vbraun"
}
```

Resolution: fixed
