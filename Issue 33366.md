# Issue 33366: Fix Conic doctests

archive/issues_033366.json:
```json
{
    "body": "CC:  @kliem @JohnCremona @fchapoton @tscrim\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/33603\n\n",
    "created_at": "2022-03-30T14:50:31Z",
    "labels": [
        "component: please change"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Fix Conic doctests",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33366",
    "user": "https://github.com/mstreng"
}
```
CC:  @kliem @JohnCremona @fchapoton @tscrim



Issue created by migration from https://trac.sagemath.org/ticket/33603





---

archive/issue_comments_474553.json:
```json
{
    "body": "Changing keywords from \"\" to \"conic, magma\".",
    "created_at": "2022-03-30T15:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-474553",
    "user": "https://github.com/mstreng"
}
```

Changing keywords from "" to "conic, magma".



---

archive/issue_comments_474554.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2022-03-30T15:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-474554",
    "user": "https://github.com/mstreng"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_474555.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to geometry.",
    "created_at": "2022-03-30T15:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-474555",
    "user": "https://github.com/mstreng"
}
```

Changing component from PLEASE CHANGE to geometry.



---

archive/issue_comments_474556.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-03-30T15:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-474556",
    "user": "https://github.com/mstreng"
}
```

New commits:



---

archive/issue_comments_474557.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-30T16:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-474557",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_474558.json:
```json
{
    "body": "Apparently the cache bug was introduced in #28900.",
    "created_at": "2022-03-31T06:23:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-474558",
    "user": "https://github.com/mstreng"
}
```

Apparently the cache bug was introduced in #28900.



---

archive/issue_comments_474559.json:
```json
{
    "body": "I guess this comes from `_finite_obstructions` and `_infinite_obstructions` being `None`, which carries a different meaning. Could you add a comment saying something like, \"These values might be `None`, so we explicitly check against a list\"? Otherwise if doctests pass (I am assuming this is ready for review; if so, please set it to needs review), then positive review.",
    "created_at": "2022-03-31T06:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-474559",
    "user": "https://github.com/tscrim"
}
```

I guess this comes from `_finite_obstructions` and `_infinite_obstructions` being `None`, which carries a different meaning. Could you add a comment saying something like, "These values might be `None`, so we explicitly check against a list"? Otherwise if doctests pass (I am assuming this is ready for review; if so, please set it to needs review), then positive review.



---

archive/issue_comments_474560.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-31T07:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-474560",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_474561.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-03-31T07:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-474561",
    "user": "https://github.com/mstreng"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_474562.json:
```json
{
    "body": "All (long) non-optional tests passed. All Magma tests in `src/sage/schemes/plane_conics` passed. And then I added the comment that Travis asked for.",
    "created_at": "2022-03-31T07:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-474562",
    "user": "https://github.com/mstreng"
}
```

All (long) non-optional tests passed. All Magma tests in `src/sage/schemes/plane_conics` passed. And then I added the comment that Travis asked for.



---

archive/issue_comments_474563.json:
```json
{
    "body": "Thank you. LGTM.",
    "created_at": "2022-03-31T08:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-474563",
    "user": "https://github.com/tscrim"
}
```

Thank you. LGTM.



---

archive/issue_comments_474564.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-03-31T08:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-474564",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_030162.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2022-04-02T10:52:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33366#event-30162"
}
```



---

archive/issue_comments_474565.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-04-02T10:52:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33366#issuecomment-474565",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
