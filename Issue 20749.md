# Issue 20749: Enhancements to sage-rebase scripts

Issue created by migration from https://trac.sagemath.org/ticket/20986

Original creator: embray

Original creation time: 2016-07-08 13:23:13

CC:  jpflori

Keywords: cygwin windows

The scripts sage-rebase(all).{sh,bat} are used when developing/building Sage on Windows.

In the long term I'd like to find a way to reduce the need for them, but even then they're still good to have.  It is useful to run these every now and then to ensure that all DLLs in the Sage distribution are configured to load into non-overlapping address ranges by default.  First and foremost this is a performance issue, but also not rebasing can cause failures with Cygwin's fork.

This is just a small collection of enhancements to these scripts.  Most importantly, this adds support for rebase `.fas` binaries that are part of ECL.  Not doing this potentially caused problems for Maxima (so I'm marking this as a defect).


---

Comment by embray created at 2016-07-08 13:23:25

Changing status from new to needs_review.


---

Comment by embray created at 2016-07-08 13:23:54

It's also "good" to be reminded every now and then how awful DOS batch scripts are and how lucky we are to have bash...


---

Comment by embray created at 2017-01-13 14:21:29

I've made several more updates to these scripts that should be incorporated into this ticket.


---

Comment by embray created at 2017-01-13 14:21:29

Changing status from needs_review to needs_work.


---

Comment by embray created at 2017-04-13 10:06:40

Set assignee to embray.


---

Comment by embray created at 2017-04-21 12:23:02

Changing priority from minor to blocker.


---

Comment by git created at 2017-05-05 09:23:48

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by embray created at 2017-05-05 09:32:41

Changing status from needs_work to needs_review.


---

Comment by embray created at 2017-05-05 09:32:41

I think I've done all I need with these for now.


---

Comment by git created at 2017-05-05 09:37:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jpflori created at 2017-05-17 09:12:20

Changing status from needs_review to positive_review.


---

Comment by jpflori created at 2017-05-17 09:12:20

LGTM.


---

Comment by embray created at 2017-05-18 08:42:11

Thanks!


---

Comment by vbraun created at 2017-05-19 22:10:35

Resolution: fixed
