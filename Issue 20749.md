# Issue 20749: Enhancements to sage-rebase scripts

archive/issues_020749.json:
```json
{
    "body": "CC:  jpflori\n\nKeywords: cygwin windows\n\nThe scripts sage-rebase(all).{sh,bat} are used when developing/building Sage on Windows.\n\nIn the long term I'd like to find a way to reduce the need for them, but even then they're still good to have.  It is useful to run these every now and then to ensure that all DLLs in the Sage distribution are configured to load into non-overlapping address ranges by default.  First and foremost this is a performance issue, but also not rebasing can cause failures with Cygwin's fork.\n\nThis is just a small collection of enhancements to these scripts.  Most importantly, this adds support for rebase `.fas` binaries that are part of ECL.  Not doing this potentially caused problems for Maxima (so I'm marking this as a defect).\n\nIssue created by migration from https://trac.sagemath.org/ticket/20986\n\n",
    "created_at": "2016-07-08T13:23:13Z",
    "labels": [
        "porting: Cygwin",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Enhancements to sage-rebase scripts",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20749",
    "user": "@embray"
}
```
CC:  jpflori

Keywords: cygwin windows

The scripts sage-rebase(all).{sh,bat} are used when developing/building Sage on Windows.

In the long term I'd like to find a way to reduce the need for them, but even then they're still good to have.  It is useful to run these every now and then to ensure that all DLLs in the Sage distribution are configured to load into non-overlapping address ranges by default.  First and foremost this is a performance issue, but also not rebasing can cause failures with Cygwin's fork.

This is just a small collection of enhancements to these scripts.  Most importantly, this adds support for rebase `.fas` binaries that are part of ECL.  Not doing this potentially caused problems for Maxima (so I'm marking this as a defect).

Issue created by migration from https://trac.sagemath.org/ticket/20986





---

archive/issue_comments_286622.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-07-08T13:23:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20749#issuecomment-286622",
    "user": "@embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_286623.json:
```json
{
    "body": "It's also \"good\" to be reminded every now and then how awful DOS batch scripts are and how lucky we are to have bash...",
    "created_at": "2016-07-08T13:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20749#issuecomment-286623",
    "user": "@embray"
}
```

It's also "good" to be reminded every now and then how awful DOS batch scripts are and how lucky we are to have bash...



---

archive/issue_comments_286624.json:
```json
{
    "body": "I've made several more updates to these scripts that should be incorporated into this ticket.",
    "created_at": "2017-01-13T14:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20749#issuecomment-286624",
    "user": "@embray"
}
```

I've made several more updates to these scripts that should be incorporated into this ticket.



---

archive/issue_comments_286625.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-01-13T14:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20749#issuecomment-286625",
    "user": "@embray"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_286626.json:
```json
{
    "body": "Set assignee to @embray.",
    "created_at": "2017-04-13T10:06:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20749#issuecomment-286626",
    "user": "@embray"
}
```

Set assignee to @embray.



---

archive/issue_comments_286627.json:
```json
{
    "body": "Changing priority from minor to blocker.",
    "created_at": "2017-04-21T12:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20749#issuecomment-286627",
    "user": "@embray"
}
```

Changing priority from minor to blocker.



---

archive/issue_comments_286628.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-05-05T09:23:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20749#issuecomment-286628",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_286629.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-05-05T09:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20749#issuecomment-286629",
    "user": "@embray"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_286630.json:
```json
{
    "body": "I think I've done all I need with these for now.",
    "created_at": "2017-05-05T09:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20749#issuecomment-286630",
    "user": "@embray"
}
```

I think I've done all I need with these for now.



---

archive/issue_comments_286631.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-05T09:37:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20749#issuecomment-286631",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_286632.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-17T09:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20749#issuecomment-286632",
    "user": "jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_286633.json:
```json
{
    "body": "LGTM.",
    "created_at": "2017-05-17T09:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20749#issuecomment-286633",
    "user": "jpflori"
}
```

LGTM.



---

archive/issue_comments_286634.json:
```json
{
    "body": "Thanks!",
    "created_at": "2017-05-18T08:42:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20749#issuecomment-286634",
    "user": "@embray"
}
```

Thanks!



---

archive/issue_comments_286635.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-19T22:10:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20749#issuecomment-286635",
    "user": "@vbraun"
}
```

Resolution: fixed
