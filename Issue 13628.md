# Issue 13628: Upgrade Cython to 0.17.3

Issue created by migration from Trac.

Original creator: vbraun

Original creation time: 2012-12-14 15:03:13

Assignee: tbd

CC:  robertwb jpflori simonking

New Cython version

http://www.stp.dias.ie/~vbraun/Sage/spkg/cython-0.17.3.spkg


---

Comment by vbraun created at 2012-12-14 15:05:30

Changing status from new to needs_review.


---

Comment by jpflori created at 2012-12-26 22:18:39

Changing priority from major to blocker.


---

Comment by jpflori created at 2012-12-26 22:18:39

I'm putting this as blocker as it definitely fix horribly broken code for C-Extension classes using weakrefs produced by previous Cython versions.


---

Comment by jpflori created at 2012-12-27 09:30:56

Could you upload a diff please?
(I'll have a look at the repo directly, but i think its better to have it posted here as well.)


---

Comment by vbraun created at 2012-12-27 10:29:09

I literally only bumped the version:

```
[vbraun`@`volker-desktop cython-0.17.3]$ hg diff -r 16:
diff -r 3855e277e649 -r c54d12648e62 SPKG.txt
--- a/SPKG.txt	Wed Nov 21 22:21:11 2012 +0000
+++ b/SPKG.txt	Fri Dec 14 14:59:10 2012 +0000
`@``@` -31,6 +31,9 `@``@`
 
 == Changelog ==
 
+=== cython-0.17.3 (Volker Braun, 14 December 2012) ===
+ * Upgrade Cython 0.17.3
+
 === cython-0.17.2 (Volker Braun, 21 November 2012) ===
  * Upgrade Cython 0.17.2
```



---

Comment by jpflori created at 2012-12-27 15:10:12

If I really have to rant, I'd ask for the trac ticket number to be included in SPKG.txt (between * and U).

It's just that such information can sometimes save so much time, not that I think it will really be the case here, but...
I've just wasted so much time understanding and reinventing the wheel at #13864...


---

Comment by jpflori created at 2012-12-27 15:19:47

And/or put the ticket number in the hg changelog.


---

Comment by vbraun created at 2012-12-27 15:58:21

I'm against more red tape just for a trivial version bump. If you want to know the trac tickets where `pkg-x.y.z.spkg` was discussed then just use the search function.


---

Comment by jpflori created at 2012-12-27 15:59:08

Changing status from needs_review to positive_review.


---

Comment by jpflori created at 2012-12-27 15:59:08

Ok I won't fight over this, so positive_review.


---

Comment by leif created at 2012-12-27 23:29:56

Replying to [comment:9 vbraun]:
> I'm against more red tape just for a trivial version bump. If you want to know the trac tickets where `pkg-x.y.z.spkg` was discussed then just use the search function.

Trac ticket numbers belong into `SPKG.txt` (i.e., an spkg's changelog) as well as into the commit messages (at least the last one, in case there are a couple of for a single patch level), while for spkgs the first is IMHO more important (even if Trac's search functions were smart...).

You may save a few seconds omitting it, at the expense of N other developers later wasting much more time searching.


---

Comment by vbraun created at 2012-12-28 09:21:23

There is no mentioning of putting trac numbers into commit messages in the Sage developer guide. Also, the `SPKG.txt` is for human consumption, so appropriate references should be added but that can be a trac ticket, a mailinglist post, or something else. In this case there is just nothing to point to.

Even the trac search engine is good enough to give you this ticket if you search for "cython-0.17.3.spkg". 

More importantly, we should strive to make Sage development more agile and avoid making it look like filling out a German tax declaration. *Now go to trac and obtain your unique identifying number. Copy this number into the SPKG.txt and the Mercurial commit. Be careful to double-check your work as typographical errors are the main cause of rejected submissions.*


---

Comment by robertwb created at 2012-12-28 18:16:47

Nice analogy. This is exactly the kind of busywork that I hope to be able to avoid with the new workflow. (In particular the actual switch to new upstream sources will simply be a commit itself, no need to keep track of the change in three or for separate places manually to record the fact that, in an unrelated process, a particular binary blob (the spkg) started getting bundled with a particular Sage release.)

I, personally, wouldn't even think to look at the SPKG.txt for this information, which would necessarily send me to the trac site anyways. 

On a lighter note, thanks to both of you for the spkg and review (both of which I made a mental note to do but never found the time for).


---

Comment by jdemeyer created at 2012-12-29 19:31:41

Resolution: fixed
