# Issue 27066: Upgrade sqlite3 to 2.27.1

Issue created by migration from https://trac.sagemath.org/ticket/27303

Original creator: charpent

Original creation time: 2019-02-16 09:46:48

CC:  fbissey

Rationale : see this [sage-devel](https://groups.google.com/d/msg/sage-devel/gwLQ-lqPD_0/mE4l2DJBEAAJ) post and its followup.

Tarball : https://sqlite.org/2019/sqlite-autoconf-3270100.tar.gz


---

Comment by charpent created at 2019-02-16 12:38:13

Builds without a hitch. `ptestlong` gives one permanent failure :

```
----------------------------------------------------------------------
sage -t --long --warn-long 154.5 src/sage/libs/giac.py  # 3 doctests failed
----------------------------------------------------------------------
```


which is identical in all details to the one already [reported](https://groups.google.com/d/msg/sage-release/0QvdNonpGEg/SfQHQ6ejAQAJ) before this patch.

==> `needs_review`
----
New commits:


---

Comment by charpent created at 2019-02-16 12:38:13

Changing status from new to needs_review.


---

Comment by charpent created at 2019-02-16 12:43:19

Replying to [comment:3 charpent]:

Note that this doesn *not* fix my original issue, which is attributable to another (yet unknown) problem...


---

Comment by tscrim created at 2019-02-16 17:16:13

Still good to update this. To the buildbots it goes.


---

Comment by tscrim created at 2019-02-16 17:16:13

Changing status from needs_review to positive_review.


---

Comment by fbissey created at 2019-02-16 19:00:48

Replying to [comment:4 charpent]:
> Replying to [comment:3 charpent]:
> 
> Note that this doesn *not* fix my original issue, which is attributable to another (yet unknown) problem...

I guess you may have solved the first failure out of many. What's next?


---

Comment by vbraun created at 2019-02-22 22:01:34

Resolution: fixed


---

Comment by charpent created at 2019-02-27 13:26:49

Replying to [comment:6 fbissey]:
> Replying to [comment:4 charpent]:
> > Replying to [comment:3 charpent]:
> > 
> > Note that this doesn *not* fix my original issue, which is attributable to another (yet unknown) problem...
> 
> I guess you may have solved the first failure out of many. What's next?

Nothing "reasonable" that I've tried worked : it seems that using the library entails the use of configuration executables which have the library path hardcoded, or possibly vice-versa.

So I went unreasonable an installed the library from source via sage -sh under $SAGE_LOCAL. This worked. And is a pain in the *ss...

Thanks for your help !
