# Issue 27066: Upgrade sqlite3 to 2.27.1

archive/issues_027066.json:
```json
{
    "body": "CC:  @kiwifb\n\nRationale : see this [sage-devel](https://groups.google.com/d/msg/sage-devel/gwLQ-lqPD_0/mE4l2DJBEAAJ) post and its followup.\n\nTarball : https://sqlite.org/2019/sqlite-autoconf-3270100.tar.gz\n\nIssue created by migration from https://trac.sagemath.org/ticket/27303\n\n",
    "created_at": "2019-02-16T09:46:48Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "Upgrade sqlite3 to 2.27.1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27066",
    "user": "https://github.com/EmmanuelCharpentier"
}
```
CC:  @kiwifb

Rationale : see this [sage-devel](https://groups.google.com/d/msg/sage-devel/gwLQ-lqPD_0/mE4l2DJBEAAJ) post and its followup.

Tarball : https://sqlite.org/2019/sqlite-autoconf-3270100.tar.gz

Issue created by migration from https://trac.sagemath.org/ticket/27303





---

archive/issue_comments_380885.json:
```json
{
    "body": "Builds without a hitch. `ptestlong` gives one permanent failure :\n\n```\n----------------------------------------------------------------------\nsage -t --long --warn-long 154.5 src/sage/libs/giac.py  # 3 doctests failed\n----------------------------------------------------------------------\n```\n\n\nwhich is identical in all details to the one already [reported](https://groups.google.com/d/msg/sage-release/0QvdNonpGEg/SfQHQ6ejAQAJ) before this patch.\n\n==> `needs_review`\n----\nNew commits:",
    "created_at": "2019-02-16T12:38:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27066",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27066#issuecomment-380885",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Builds without a hitch. `ptestlong` gives one permanent failure :

```
----------------------------------------------------------------------
sage -t --long --warn-long 154.5 src/sage/libs/giac.py  # 3 doctests failed
----------------------------------------------------------------------
```


which is identical in all details to the one already [reported](https://groups.google.com/d/msg/sage-release/0QvdNonpGEg/SfQHQ6ejAQAJ) before this patch.

==> `needs_review`
----
New commits:



---

archive/issue_comments_380886.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-02-16T12:38:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27066",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27066#issuecomment-380886",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_380887.json:
```json
{
    "body": "Replying to [comment:3 charpent]:\n\nNote that this doesn **not** fix my original issue, which is attributable to another (yet unknown) problem...",
    "created_at": "2019-02-16T12:43:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27066",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27066#issuecomment-380887",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Replying to [comment:3 charpent]:

Note that this doesn **not** fix my original issue, which is attributable to another (yet unknown) problem...



---

archive/issue_comments_380888.json:
```json
{
    "body": "Still good to update this. To the buildbots it goes.",
    "created_at": "2019-02-16T17:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27066",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27066#issuecomment-380888",
    "user": "https://github.com/tscrim"
}
```

Still good to update this. To the buildbots it goes.



---

archive/issue_comments_380889.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-02-16T17:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27066",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27066#issuecomment-380889",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_380890.json:
```json
{
    "body": "Replying to [comment:4 charpent]:\n> Replying to [comment:3 charpent]:\n> \n> Note that this doesn **not** fix my original issue, which is attributable to another (yet unknown) problem...\n\nI guess you may have solved the first failure out of many. What's next?",
    "created_at": "2019-02-16T19:00:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27066",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27066#issuecomment-380890",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:4 charpent]:
> Replying to [comment:3 charpent]:
> 
> Note that this doesn **not** fix my original issue, which is attributable to another (yet unknown) problem...

I guess you may have solved the first failure out of many. What's next?



---

archive/issue_events_025127.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-22T22:01:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27066",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27066#event-25127"
}
```



---

archive/issue_comments_380891.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-02-22T22:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27066",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27066#issuecomment-380891",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_380892.json:
```json
{
    "body": "Replying to [comment:6 fbissey]:\n> Replying to [comment:4 charpent]:\n> > Replying to [comment:3 charpent]:\n> > \n> > Note that this doesn **not** fix my original issue, which is attributable to another (yet unknown) problem...\n> \n> I guess you may have solved the first failure out of many. What's next?\n\nNothing \"reasonable\" that I've tried worked : it seems that using the library entails the use of configuration executables which have the library path hardcoded, or possibly vice-versa.\n\nSo I went unreasonable an installed the library from source via sage -sh under $SAGE_LOCAL. This worked. And is a pain in the *ss...\n\nThanks for your help !",
    "created_at": "2019-02-27T13:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27066",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27066#issuecomment-380892",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Replying to [comment:6 fbissey]:
> Replying to [comment:4 charpent]:
> > Replying to [comment:3 charpent]:
> > 
> > Note that this doesn **not** fix my original issue, which is attributable to another (yet unknown) problem...
> 
> I guess you may have solved the first failure out of many. What's next?

Nothing "reasonable" that I've tried worked : it seems that using the library entails the use of configuration executables which have the library path hardcoded, or possibly vice-versa.

So I went unreasonable an installed the library from source via sage -sh under $SAGE_LOCAL. This worked. And is a pain in the *ss...

Thanks for your help !
