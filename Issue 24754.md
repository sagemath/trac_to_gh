# Issue 24754: acyclic_edge_coloring(G, value_only=True) always gives 0.0

archive/issues_024754.json:
```json
{
    "body": "\n```\nsage: from sage.graphs.graph_coloring import acyclic_edge_coloring\nsage: [acyclic_edge_coloring(G, value_only=True) for G in graphs(4)]\n[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]\n```\n\n\nAccording to the documentation, it should return the acyclic chromatic index of the graph.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24991\n\n",
    "created_at": "2018-03-16T13:43:16Z",
    "labels": [
        "component: graph theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "acyclic_edge_coloring(G, value_only=True) always gives 0.0",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24754",
    "user": "https://github.com/mantepse"
}
```

```
sage: from sage.graphs.graph_coloring import acyclic_edge_coloring
sage: [acyclic_edge_coloring(G, value_only=True) for G in graphs(4)]
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
```


According to the documentation, it should return the acyclic chromatic index of the graph.

Issue created by migration from https://trac.sagemath.org/ticket/24991





---

archive/issue_comments_347104.json:
```json
{
    "body": "This is easy to fix. Are you already working on a patch ? otherwise I can do it.",
    "created_at": "2018-03-16T17:53:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347104",
    "user": "https://github.com/dcoudert"
}
```

This is easy to fix. Are you already working on a patch ? otherwise I can do it.



---

archive/issue_comments_347105.json:
```json
{
    "body": "Please go ahead, I wouldn't have a clue!",
    "created_at": "2018-03-16T18:28:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347105",
    "user": "https://github.com/mantepse"
}
```

Please go ahead, I wouldn't have a clue!



---

archive/issue_comments_347106.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-03-16T20:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347106",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_347107.json:
```json
{
    "body": "The returned value was wrong: instead of returned the number of colors, it was returned the value of the objective function. Since the ILP formulation is a constraints satisfaction problem without objective, it was always returning 0.\n\nI took the opportunity of this patch to polish the method.\n----\nNew commits:",
    "created_at": "2018-03-16T20:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347107",
    "user": "https://github.com/dcoudert"
}
```

The returned value was wrong: instead of returned the number of colors, it was returned the value of the objective function. Since the ILP formulation is a constraints satisfaction problem without objective, it was always returning 0.

I took the opportunity of this patch to polish the method.
----
New commits:



---

archive/issue_comments_347108.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-03-17T10:12:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347108",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_347109.json:
```json
{
    "body": "The `linear_arboricity` method had the same issue, so I also fixed it.",
    "created_at": "2018-03-17T10:14:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347109",
    "user": "https://github.com/dcoudert"
}
```

The `linear_arboricity` method had the same issue, so I also fixed it.



---

archive/issue_comments_347110.json:
```json
{
    "body": "LGTM.",
    "created_at": "2018-03-18T01:00:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347110",
    "user": "https://github.com/tscrim"
}
```

LGTM.



---

archive/issue_comments_347111.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-03-18T01:00:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347111",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_347112.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-03-22T19:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347112",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
