# Issue 24754: acyclic_edge_coloring(G, value_only=True) always gives 0.0

archive/issues_024754.json:
```json
{
    "body": "\n```\nsage: from sage.graphs.graph_coloring import acyclic_edge_coloring\nsage: [acyclic_edge_coloring(G, value_only=True) for G in graphs(4)]\n[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]\n```\n\n\nAccording to the documentation, it should return the acyclic chromatic index of the graph.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24991\n\n",
    "created_at": "2018-03-16T13:43:16Z",
    "labels": [
        "graph theory",
        "major",
        "bug"
    ],
    "title": "acyclic_edge_coloring(G, value_only=True) always gives 0.0",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24754",
    "user": "mantepse"
}
```

```
sage: from sage.graphs.graph_coloring import acyclic_edge_coloring
sage: [acyclic_edge_coloring(G, value_only=True) for G in graphs(4)]
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
```


According to the documentation, it should return the acyclic chromatic index of the graph.

Issue created by migration from https://trac.sagemath.org/ticket/24991





---

archive/issue_comments_347490.json:
```json
{
    "body": "This is easy to fix. Are you already working on a patch ? otherwise I can do it.",
    "created_at": "2018-03-16T17:53:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347490",
    "user": "dcoudert"
}
```

This is easy to fix. Are you already working on a patch ? otherwise I can do it.



---

archive/issue_comments_347491.json:
```json
{
    "body": "Please go ahead, I wouldn't have a clue!",
    "created_at": "2018-03-16T18:28:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347491",
    "user": "mantepse"
}
```

Please go ahead, I wouldn't have a clue!



---

archive/issue_comments_347492.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-03-16T20:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347492",
    "user": "dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_347493.json:
```json
{
    "body": "The returned value was wrong: instead of returned the number of colors, it was returned the value of the objective function. Since the ILP formulation is a constraints satisfaction problem without objective, it was always returning 0.\n\nI took the opportunity of this patch to polish the method.\n----\nNew commits:",
    "created_at": "2018-03-16T20:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347493",
    "user": "dcoudert"
}
```

The returned value was wrong: instead of returned the number of colors, it was returned the value of the objective function. Since the ILP formulation is a constraints satisfaction problem without objective, it was always returning 0.

I took the opportunity of this patch to polish the method.
----
New commits:



---

archive/issue_comments_347494.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-03-17T10:12:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347494",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_347495.json:
```json
{
    "body": "The `linear_arboricity` method had the same issue, so I also fixed it.",
    "created_at": "2018-03-17T10:14:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347495",
    "user": "dcoudert"
}
```

The `linear_arboricity` method had the same issue, so I also fixed it.



---

archive/issue_comments_347496.json:
```json
{
    "body": "LGTM.",
    "created_at": "2018-03-18T01:00:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347496",
    "user": "tscrim"
}
```

LGTM.



---

archive/issue_comments_347497.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-03-18T01:00:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347497",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_347498.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-03-22T19:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24754",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24754#issuecomment-347498",
    "user": "vbraun"
}
```

Resolution: fixed
