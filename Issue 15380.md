# Issue 15380: Update ncurses to dev version 5.9-20131221

archive/issues_015380.json:
```json
{
    "body": "CC:  vbraun dimpase\n\nThis dev release includes a (large) bunch of various fixes, inlcuding those needed for #15317 and #15268.\n\nUse (vanilla, only renamed) tarball at:\n* http://boxen.math.washington.edu/home/jpflori/ncurses-5.9-20131221.tar.gz\n\nIssue created by migration from https://trac.sagemath.org/ticket/15617\n\n",
    "created_at": "2014-01-01T20:00:32Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Update ncurses to dev version 5.9-20131221",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15380",
    "user": "jpflori"
}
```
CC:  vbraun dimpase

This dev release includes a (large) bunch of various fixes, inlcuding those needed for #15317 and #15268.

Use (vanilla, only renamed) tarball at:
* http://boxen.math.washington.edu/home/jpflori/ncurses-5.9-20131221.tar.gz

Issue created by migration from https://trac.sagemath.org/ticket/15617





---

archive/issue_comments_198387.json:
```json
{
    "body": "Changing keywords from \"\" to \"spkg ncurses\".",
    "created_at": "2014-01-01T20:21:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15380#issuecomment-198387",
    "user": "jpflori"
}
```

Changing keywords from "" to "spkg ncurses".



---

archive/issue_comments_198388.json:
```json
{
    "body": "The code about no-cpp-precomp flag was modified and after a very quick look our patch should not be needed anymore on OS X.\nI did not check it was the case yet, but I'll quickly give it a shot on bsd.\n----\nNew commits:",
    "created_at": "2014-01-01T20:21:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15380#issuecomment-198388",
    "user": "jpflori"
}
```

The code about no-cpp-precomp flag was modified and after a very quick look our patch should not be needed anymore on OS X.
I did not check it was the case yet, but I'll quickly give it a shot on bsd.
----
New commits:



---

archive/issue_comments_198389.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-01-01T20:21:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15380#issuecomment-198389",
    "user": "jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_198390.json:
```json
{
    "body": "FYI, it built correctly on bsd\nSo no reason to hold on.",
    "created_at": "2014-01-02T09:59:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15380#issuecomment-198390",
    "user": "jpflori"
}
```

FYI, it built correctly on bsd
So no reason to hold on.



---

archive/issue_comments_198391.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-01-04T05:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15380#issuecomment-198391",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_198392.json:
```json
{
    "body": "It works for me on cygwin (both 32 and 64). Since it built okay on BSD, I'm giving this a positive review.",
    "created_at": "2014-01-04T05:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15380#issuecomment-198392",
    "user": "tscrim"
}
```

It works for me on cygwin (both 32 and 64). Since it built okay on BSD, I'm giving this a positive review.



---

archive/issue_comments_198393.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-02-02T16:57:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15380#issuecomment-198393",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_198394.json:
```json
{
    "body": "This fails on mark/skynet: http://build.sagemath.org/sage/builders/%20%20slow%20Skynet%20mark%20%28SunOS%205.10-32%29%20full/builds/17/steps/compile_1/logs/ncurses. Please open another ticket to fix or I'll have to back this branch out again.",
    "created_at": "2014-02-03T16:28:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15380#issuecomment-198394",
    "user": "vbraun"
}
```

This fails on mark/skynet: http://build.sagemath.org/sage/builders/%20%20slow%20Skynet%20mark%20%28SunOS%205.10-32%29%20full/builds/17/steps/compile_1/logs/ncurses. Please open another ticket to fix or I'll have to back this branch out again.



---

archive/issue_comments_198395.json:
```json
{
    "body": "I think I got it: once again XOPEN_SOURCE stuff is passed to g++ through CPPFLAGS.\nNot sure if the bug is upstream or from autotools.",
    "created_at": "2014-02-03T17:06:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15380#issuecomment-198395",
    "user": "jpflori"
}
```

I think I got it: once again XOPEN_SOURCE stuff is passed to g++ through CPPFLAGS.
Not sure if the bug is upstream or from autotools.



---

archive/issue_comments_198396.json:
```json
{
    "body": "Follow-up ticket is #15796",
    "created_at": "2014-02-07T11:53:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15380",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15380#issuecomment-198396",
    "user": "vbraun"
}
```

Follow-up ticket is #15796
