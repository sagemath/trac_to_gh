# Issue 11055: gcc-4.6.0 optimization bug with cliquer-1.2.p7.spkg

Issue created by migration from Trac.

Original creator: mariah

Original creation time: 2011-04-20 20:39:16

Assignee: tbd

sage-4.7.alpha5 built with gcc-4.6.0 fails test

`sage -t  -long -force_lib "devel/sage/sage/graphs/graph_generators.py" # Time out`


---

Comment by mariah created at 2011-04-20 20:42:56

Changing assignee from tbd to mariah.


---

Comment by mariah created at 2011-04-20 20:42:56

The following code triggers the problem (code does not return):


```
sage: g = graphs.BidiakisCube();
sage: g.clique_number()
```


If cliquer-1.2.p7.spkg is rebuilt with -O1 rather than -O2, then
the problem goes away.


---

Comment by mariah created at 2011-04-21 20:11:26

If `src/reorder.c` is built with -O1 rather than -O2, then the problem goes away.


---

Comment by drkirkby created at 2011-04-25 14:40:56

On what platform is this problem? 

Dave


---

Comment by mariah created at 2011-04-25 15:52:16

Replying to [comment:3 drkirkby]:
> On what platform is this problem? 
> 
> Dave 

Apologies for not mentioning this.  I see the problem on 
skynet:eno (x86_64-Linux-core2).  I have not checked to see
if the problem exists on other architectures.


---

Comment by jdemeyer created at 2011-04-25 16:46:06

Changing keywords from "" to "cliquer".


---

Comment by jdemeyer created at 2011-04-25 17:33:47

`-fno-ivopts` also fixes this (just like #11168).


---

Comment by jdemeyer created at 2011-04-25 17:58:03

Changing priority from major to blocker.


---

Comment by jdemeyer created at 2011-04-25 17:58:03

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2011-04-26 07:50:04

Diff for the cliquer spkg, for reviewing only


---

Comment by mariah created at 2011-04-26 21:01:31

Changing status from needs_review to positive_review.


---

Attachment

Reported upstream to gcc bugzilla, see
[#48774](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48774)

Tested on sage-4.7.rc0 on skynet/eno (x86_64-Linux-core2).
All tests passed.  Positive review.


---

Comment by jdemeyer created at 2011-04-27 07:54:09

Resolution: fixed


---

Comment by jdemeyer created at 2011-05-03 12:44:08

Changing status from closed to new.


---

Comment by jdemeyer created at 2011-05-03 12:44:08

Resolution changed from fixed to 


---

Comment by jdemeyer created at 2011-05-03 13:02:37

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2011-05-03 13:02:37

Changing keywords from "cliquer" to "cliquer spkg".


---

Comment by jdemeyer created at 2011-05-04 17:05:59

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2011-05-04 17:09:46

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2011-05-04 17:11:11

Diff for the cliquer spkg, for reviewing only


---

Comment by mariah created at 2011-05-05 12:52:39

Changing status from needs_review to positive_review.


---

Attachment

cliquer-1.2.p9 applied to sage-4.7.rc1 and built with 'make testlong' on skynet/eno.  All tests passed.  Positive review.


---

Comment by jdemeyer created at 2011-05-05 13:39:17

Resolution: fixed
