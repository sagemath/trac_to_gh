# Issue 34781: fixing the linter, once again

archive/issues_034544.json:
```json
{
    "assignees": [],
    "body": "mostly broken by fusion_rings and lazy_rings recent tickets\n\nBranch/Commit: **[`fdd4f7f`](https://github.com/sagemath/sagetrac-mirror/commit/fdd4f7f9f0b50a6718eb682d905557f2766f4b4f)**\n\nReviewer: **Matthias Koeppe, Lorenz Panny**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **refactoring**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34781_\n\n",
    "closed_at": "2022-12-14T22:11:59Z",
    "created_at": "2022-11-23T18:15:39Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/refactoring",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "fixing the linter, once again",
    "type": "issue",
    "updated_at": "2022-12-14T22:11:59Z",
    "url": "https://github.com/sagemath/sage/issues/34781",
    "user": "https://github.com/fchapoton"
}
```
mostly broken by fusion_rings and lazy_rings recent tickets

Branch/Commit: **[`fdd4f7f`](https://github.com/sagemath/sagetrac-mirror/commit/fdd4f7f9f0b50a6718eb682d905557f2766f4b4f)**

Reviewer: **Matthias Koeppe, Lorenz Panny**

Author: **Frédéric Chapoton**

Component: **refactoring**

_Issue created by migration from https://trac.sagemath.org/ticket/34781_





---

archive/issue_events_473705.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-23T18:15:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473705"
}
```



---

archive/issue_events_473706.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-23T18:15:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "label": "https://github.com/sagemath/sage/labels/refactoring",
    "label_color": "696969",
    "label_name": "refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473706"
}
```



---

archive/issue_events_473707.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-23T18:15:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473707"
}
```



---

archive/issue_events_473708.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-23T18:15:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473708"
}
```



---

archive/issue_comments_561072.json:
```json
{
    "body": "Branch: **[u/chapoton/34781](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34781)**",
    "created_at": "2022-11-23T18:17:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561072",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/34781](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34781)**



---

archive/issue_events_473709.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-23T18:17:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473709"
}
```



---

archive/issue_comments_561073.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/927684bd04f2f9fa9ccde20174cb4c683dc31dde\">927684b</a></td><td><code>activate pycodestyle E275 in the minimal linter</code></td></tr></table>\n",
    "created_at": "2022-11-23T18:17:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561073",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/927684bd04f2f9fa9ccde20174cb4c683dc31dde">927684b</a></td><td><code>activate pycodestyle E275 in the minimal linter</code></td></tr></table>




---

archive/issue_comments_561074.json:
```json
{
    "body": "Commit: **[`927684b`](https://github.com/sagemath/sagetrac-mirror/commit/927684bd04f2f9fa9ccde20174cb4c683dc31dde)**",
    "created_at": "2022-11-23T18:17:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561074",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`927684b`](https://github.com/sagemath/sagetrac-mirror/commit/927684bd04f2f9fa9ccde20174cb4c683dc31dde)**



---

archive/issue_comments_561075.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\n\n```\n310     E275 missing whitespace after keyword\n1       E306 expected 1 blank line before a nested definition, found 0\n6       W391 blank line at end of file\n```",
    "created_at": "2022-11-23T20:05:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561075",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>


```
310     E275 missing whitespace after keyword
1       E306 expected 1 blank line before a nested definition, found 0
6       W391 blank line at end of file
```



---

archive/issue_events_473710.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-23T20:05:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473710"
}
```



---

archive/issue_events_473711.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-23T20:05:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473711"
}
```



---

archive/issue_comments_561076.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7c983e03922ca9b996e9572baa41bd7a43758db\">f7c983e</a></td><td><code>fix linter and activate E275 only for pyx files</code></td></tr></table>\n",
    "created_at": "2022-11-24T07:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561076",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7c983e03922ca9b996e9572baa41bd7a43758db">f7c983e</a></td><td><code>fix linter and activate E275 only for pyx files</code></td></tr></table>




---

archive/issue_comments_561077.json:
```json
{
    "body": "Changed commit from **[`927684b`](https://github.com/sagemath/sagetrac-mirror/commit/927684bd04f2f9fa9ccde20174cb4c683dc31dde)** to **[`f7c983e`](https://github.com/sagemath/sagetrac-mirror/commit/f7c983e03922ca9b996e9572baa41bd7a43758db)**",
    "created_at": "2022-11-24T07:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561077",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`927684b`](https://github.com/sagemath/sagetrac-mirror/commit/927684bd04f2f9fa9ccde20174cb4c683dc31dde)** to **[`f7c983e`](https://github.com/sagemath/sagetrac-mirror/commit/f7c983e03922ca9b996e9572baa41bd7a43758db)**



---

archive/issue_comments_561078.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nstrange, but then let us keep that for later and just fix the linter again here",
    "created_at": "2022-11-24T07:57:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561078",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

strange, but then let us keep that for later and just fix the linter again here



---

archive/issue_events_473712.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-24T07:57:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473712"
}
```



---

archive/issue_events_473713.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-24T07:57:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473713"
}
```



---

archive/issue_events_473714.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-24T07:57:53Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "title_is": "activate E275 in pycodestyle-minimal for pyx files",
    "title_was": "activate E275 in pycodestyle-minimal",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473714"
}
```



---

archive/issue_comments_561079.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+also fix the recent breakage of the linter\n``````\n",
    "created_at": "2022-11-24T07:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561079",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+also fix the recent breakage of the linter
``````




---

archive/issue_comments_561080.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nWhy are we removing the one blank line at the end of files? The description of W261 does not match its example. Its \"best practice\" has zero blank lines and removing these from the files in this change means they have none. If they are doing some other kind of counting, then it makes no sense to have zero \"blank lines\". I am quite confused by this.",
    "created_at": "2022-11-24T08:24:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561080",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">comment:6</div>

Why are we removing the one blank line at the end of files? The description of W261 does not match its example. Its "best practice" has zero blank lines and removing these from the files in this change means they have none. If they are doing some other kind of counting, then it makes no sense to have zero "blank lines". I am quite confused by this.



---

archive/issue_comments_561081.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9eca08f6d8237e6b6615cc5d64aa6e6c577b57c6\">9eca08f</a></td><td><code>fix indentation E111 in pyx files and disactivate E275</code></td></tr></table>\n",
    "created_at": "2022-11-24T08:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561081",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9eca08f6d8237e6b6615cc5d64aa6e6c577b57c6">9eca08f</a></td><td><code>fix indentation E111 in pyx files and disactivate E275</code></td></tr></table>




---

archive/issue_comments_561082.json:
```json
{
    "body": "Changed commit from **[`f7c983e`](https://github.com/sagemath/sagetrac-mirror/commit/f7c983e03922ca9b996e9572baa41bd7a43758db)** to **[`9eca08f`](https://github.com/sagemath/sagetrac-mirror/commit/9eca08f6d8237e6b6615cc5d64aa6e6c577b57c6)**",
    "created_at": "2022-11-24T08:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561082",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f7c983e`](https://github.com/sagemath/sagetrac-mirror/commit/f7c983e03922ca9b996e9572baa41bd7a43758db)** to **[`9eca08f`](https://github.com/sagemath/sagetrac-mirror/commit/9eca08f6d8237e6b6615cc5d64aa6e6c577b57c6)**



---

archive/issue_comments_561083.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-also fix the recent breakage of the linter\n+mostly broken by fusion_rings and lazy_rings recent tickets\n``````\n",
    "created_at": "2022-11-24T08:27:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561083",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-also fix the recent breakage of the linter
+mostly broken by fusion_rings and lazy_rings recent tickets
``````




---

archive/issue_events_473715.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-24T08:27:21Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "title_is": "fixing the linter, once again",
    "title_was": "activate E275 in pycodestyle-minimal for pyx files",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473715"
}
```



---

archive/issue_comments_561084.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [Travis Scrimshaw](#comment:6):\n> Why are we removing the one blank line at the end of files? The description of W261 does not match its example. Its \"best practice\" has zero blank lines and removing these from the files in this change means they have none. If they are doing some other kind of counting, then it makes no sense to have zero \"blank lines\". I am quite confused by this.\n\nW391\n\nhttps://www.flake8rules.com/rules/W391.html",
    "created_at": "2022-11-24T10:53:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561084",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [Travis Scrimshaw](#comment:6):
> Why are we removing the one blank line at the end of files? The description of W261 does not match its example. Its "best practice" has zero blank lines and removing these from the files in this change means they have none. If they are doing some other kind of counting, then it makes no sense to have zero "blank lines". I am quite confused by this.

W391

https://www.flake8rules.com/rules/W391.html



---

archive/issue_comments_561085.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nbut indeed the description is faulty\n\nthe good thing is to end by one line break, but no empty lines",
    "created_at": "2022-11-24T10:54:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561085",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:10" align="right">comment:10</div>

but indeed the description is faulty

the good thing is to end by one line break, but no empty lines



---

archive/issue_comments_561086.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nIt's not just faulty, it doesn't even satisfy it's own logic. If it ends with a line break, then by definition, there is a blank line. Otherwise there is no line break at the end. If the end of the last line counts (again, what line break?), then how could there possibly be zero?\n\nThe general standard, as I understand it, is to have a blank line. This is what they are claiming too. They have a bug in their implementation with a false example IMO.",
    "created_at": "2022-11-24T11:10:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561086",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">comment:11</div>

It's not just faulty, it doesn't even satisfy it's own logic. If it ends with a line break, then by definition, there is a blank line. Otherwise there is no line break at the end. If the end of the last line counts (again, what line break?), then how could there possibly be zero?

The general standard, as I understand it, is to have a blank line. This is what they are claiming too. They have a bug in their implementation with a false example IMO.



---

archive/issue_comments_561087.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nmaybe there is a confusion with \"empty\" meaning \"no characters at all\" or \"just a bunch of spaces\" ? There should be a line break, followed (and preceded) by no spaces.",
    "created_at": "2022-11-24T11:13:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561087",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:12" align="right">comment:12</div>

maybe there is a confusion with "empty" meaning "no characters at all" or "just a bunch of spaces" ? There should be a line break, followed (and preceded) by no spaces.



---

archive/issue_comments_561088.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nBut again, a line break would mean we have a blank line. If what they meant was any type of whitespace, then it would be zero.\n\nHaving exactly one line break means\n\n```\nSomething\\n\n<blankline><EOF>\n```\nOtherwise there would be zero for\n\n```\nSomething<EOF>\n```",
    "created_at": "2022-11-24T11:17:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561088",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">comment:13</div>

But again, a line break would mean we have a blank line. If what they meant was any type of whitespace, then it would be zero.

Having exactly one line break means

```
Something\n
<blankline><EOF>
```
Otherwise there would be zero for

```
Something<EOF>
```



---

archive/issue_comments_561089.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [Travis Scrimshaw](#comment:6):\n> I am quite confused by this.\n\nYes.\n\n- `Text\\n`, then EOF -- good.\n- `Text`, then EOF -- ungood - non-terminated line at EOF.\n- `Text\\n\\n`, then EOF -- ungood - empty line before EOF.\n- `Text\\n \\n`, then EOF -- ungood - line with trailing space.\n- `Text\\n `, then EOF -- plus ungood - line with trailing space, non-terminated.",
    "created_at": "2022-11-24T20:09:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561089",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [Travis Scrimshaw](#comment:6):
> I am quite confused by this.

Yes.

- `Text\n`, then EOF -- good.
- `Text`, then EOF -- ungood - non-terminated line at EOF.
- `Text\n\n`, then EOF -- ungood - empty line before EOF.
- `Text\n \n`, then EOF -- ungood - line with trailing space.
- `Text\n `, then EOF -- plus ungood - line with trailing space, non-terminated.



---

archive/issue_comments_561090.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI would suggest not to make style changes like this:\n\n```\n-      if a == id_anyon:\n-          if x == b and y == d:\n-              return 1\n-          else:\n-              return 0\n+    if a == id_anyon:\n+        return 1 if x == b and y == d else 0\n```\nI don't think it's universally agreed that this would be an improvement. Personally, I never use `if-else` expressions and I find them harder to read.",
    "created_at": "2022-11-24T20:14:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561090",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

I would suggest not to make style changes like this:

```
-      if a == id_anyon:
-          if x == b and y == d:
-              return 1
-          else:
-              return 0
+    if a == id_anyon:
+        return 1 if x == b and y == d else 0
```
I don't think it's universally agreed that this would be an improvement. Personally, I never use `if-else` expressions and I find them harder to read.



---

archive/issue_comments_561091.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nmaybe this debatable cosmetic change should not prevent to fix the linter as soon as possible ?",
    "created_at": "2022-11-25T08:59:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561091",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:16" align="right">comment:16</div>

maybe this debatable cosmetic change should not prevent to fix the linter as soon as possible ?



---

archive/issue_comments_561092.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [Matthias K\u00f6ppe](#comment:15):\n> \n> ```\n> -      if a == id_anyon:\n> -          if x == b and y == d:\n> -              return 1\n> -          else:\n> -              return 0\n> +    if a == id_anyon:\n> +        return 1 if x == b and y == d else 0\n> ```\n\nHow about `int(x == b and y == d)`?",
    "created_at": "2022-11-26T02:53:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561092",
    "user": "https://github.com/yyyyx4"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [Matthias Köppe](#comment:15):
> 
> ```
> -      if a == id_anyon:
> -          if x == b and y == d:
> -              return 1
> -          else:
> -              return 0
> +    if a == id_anyon:
> +        return 1 if x == b and y == d else 0
> ```

How about `int(x == b and y == d)`?



---

archive/issue_comments_561093.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdd4f7f9f0b50a6718eb682d905557f2766f4b4f\">fdd4f7f</a></td><td><code>little tweak</code></td></tr></table>\n",
    "created_at": "2022-11-26T07:18:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561093",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdd4f7f9f0b50a6718eb682d905557f2766f4b4f">fdd4f7f</a></td><td><code>little tweak</code></td></tr></table>




---

archive/issue_comments_561094.json:
```json
{
    "body": "Changed commit from **[`9eca08f`](https://github.com/sagemath/sagetrac-mirror/commit/9eca08f6d8237e6b6615cc5d64aa6e6c577b57c6)** to **[`fdd4f7f`](https://github.com/sagemath/sagetrac-mirror/commit/fdd4f7f9f0b50a6718eb682d905557f2766f4b4f)**",
    "created_at": "2022-11-26T07:18:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561094",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9eca08f`](https://github.com/sagemath/sagetrac-mirror/commit/9eca08f6d8237e6b6615cc5d64aa6e6c577b57c6)** to **[`fdd4f7f`](https://github.com/sagemath/sagetrac-mirror/commit/fdd4f7f9f0b50a6718eb682d905557f2766f4b4f)**



---

archive/issue_comments_561095.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nvoil\u00e0, done",
    "created_at": "2022-11-26T07:21:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561095",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

voilà, done



---

archive/issue_comments_561096.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, Lorenz Panny**",
    "created_at": "2022-11-27T00:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561096",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe, Lorenz Panny**



---

archive/issue_events_473716.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-27T00:16:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473716"
}
```



---

archive/issue_events_473717.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-27T00:16:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473717"
}
```



---

archive/issue_events_473718.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-12-11T14:51:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473718"
}
```



---

archive/issue_events_473719.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-12-11T14:51:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473719"
}
```



---

archive/issue_comments_561097.json:
```json
{
    "body": "Changed branch from **[u/chapoton/34781](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34781)** to **[`fdd4f7f`](https://github.com/sagemath/sagetrac-mirror/commit/fdd4f7f9f0b50a6718eb682d905557f2766f4b4f)**",
    "created_at": "2022-12-14T22:11:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34781#issuecomment-561097",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/34781](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34781)** to **[`fdd4f7f`](https://github.com/sagemath/sagetrac-mirror/commit/fdd4f7f9f0b50a6718eb682d905557f2766f4b4f)**



---

archive/issue_events_473720.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-12-14T22:11:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473720"
}
```



---

archive/issue_events_473721.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "50549d91ff17b6223045c66310abcd8d96de81cb",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-12-14T22:11:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34781",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34781#event-473721"
}
```
