# Issue 34586: Fix giac build to work with pari 2.15

archive/issues_034349.json:
```json
{
    "body": "split out from #34537\n\nA workaround is documented in https://trac.sagemath.org/wiki/ReleaseTours/sage-9.7#AvailabilityofSage9.7andinstallationhelp but we should get this in urgently.\n\nCC:  @videlec @antonio-rojas parisse\n\nUpstream: Reported upstream. No feedback yet.\n\nReviewer: Dima Pasechnik\n\nBranch: u/mkoeppe/fix_giac_build_to_work_with_pari_2_15\n\nDependencies: #34496\n\nCommit: 041d16b521d8231e5b441015f08bb386f9d2a51c\n\nResolution: invalid\n\nIssue created by migration from https://trac.sagemath.org/ticket/34586\n\n",
    "closed_at": "2022-11-14T19:36:43Z",
    "created_at": "2022-09-25T19:53:55Z",
    "labels": [
        "component: packages: standard",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Fix giac build to work with pari 2.15",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34586",
    "user": "https://github.com/mkoeppe"
}
```
split out from #34537

A workaround is documented in https://trac.sagemath.org/wiki/ReleaseTours/sage-9.7#AvailabilityofSage9.7andinstallationhelp but we should get this in urgently.

CC:  @videlec @antonio-rojas parisse

Upstream: Reported upstream. No feedback yet.

Reviewer: Dima Pasechnik

Branch: u/mkoeppe/fix_giac_build_to_work_with_pari_2_15

Dependencies: #34496

Commit: 041d16b521d8231e5b441015f08bb386f9d2a51c

Resolution: invalid

Issue created by migration from https://trac.sagemath.org/ticket/34586





---

archive/issue_comments_688725.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/fix_giac_build_to_work_with_pari_2_15\"",
    "created_at": "2022-09-25T19:55:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688725",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/fix_giac_build_to_work_with_pari_2_15"



---

archive/issue_comments_688726.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Matthias Koeppe\"",
    "created_at": "2022-09-25T19:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688726",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "Matthias Koeppe"



---

archive/issue_comments_688727.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------|\n|[041d16b](https://git.sagemath.org/sage.git/commit?id=041d16b521d8231e5b441015f08bb386f9d2a51c)|`ANYARG giac patch`|",
    "created_at": "2022-09-25T19:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688727",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------|
|[041d16b](https://git.sagemath.org/sage.git/commit?id=041d16b521d8231e5b441015f08bb386f9d2a51c)|`ANYARG giac patch`|



---

archive/issue_comments_688728.json:
```json
{
    "body": "Changing commit from \"\" to \"041d16b521d8231e5b441015f08bb386f9d2a51c\"",
    "created_at": "2022-09-25T19:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688728",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "041d16b521d8231e5b441015f08bb386f9d2a51c"



---

archive/issue_comments_688729.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-09-25T19:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688729",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_688730.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-09-25T19:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688730",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_688731.json:
```json
{
    "body": "<a id='comment:5'></a>\nI'm not convinced that a broken build is worse than the build working and then having many things broken at runtime (all the test failures reported in #34537). If anything, system 2.15 should be rejected until #34537 is merged.",
    "created_at": "2022-09-25T20:07:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688731",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:5'></a>
I'm not convinced that a broken build is worse than the build working and then having many things broken at runtime (all the test failures reported in #34537). If anything, system 2.15 should be rejected until #34537 is merged.



---

archive/issue_comments_688732.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2022-09-25T20:08:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688732",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_688733.json:
```json
{
    "body": "<a id='comment:7'></a>\nOK, that's probably better",
    "created_at": "2022-09-25T20:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688733",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
OK, that's probably better



---

archive/issue_comments_688734.json:
```json
{
    "body": "<a id='comment:8'></a>\nWe should disallow using of pari 2.15 from the system. I'll make patch - we already getting many reports on sage-devel etc due to this issus.",
    "created_at": "2022-09-30T10:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688734",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
We should disallow using of pari 2.15 from the system. I'll make patch - we already getting many reports on sage-devel etc due to this issus.



---

archive/issue_comments_688735.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [Dima Pasechnik](#comment%3A8):\n> We should disallow using of pari 2.15 from the system. I'll make patch - we already getting many reports on sage-devel etc due to this issus.\n> \n\n\nPlease see #34496 for the fix.",
    "created_at": "2022-09-30T12:13:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688735",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
Replying to [Dima Pasechnik](#comment%3A8):
> We should disallow using of pari 2.15 from the system. I'll make patch - we already getting many reports on sage-devel etc due to this issus.
> 


Please see #34496 for the fix.



---

archive/issue_events_089666.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-30T19:55:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34586#event-89666"
}
```



---

archive/issue_comments_688736.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2022-09-30T19:55:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688736",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_688737.json:
```json
{
    "body": "Changing reviewer from \"Matthias Koeppe\" to \"\"",
    "created_at": "2022-09-30T19:55:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688737",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "Matthias Koeppe" to ""



---

archive/issue_comments_688738.json:
```json
{
    "body": "Changing author from \"Vincent Delecroix\" to \"\"",
    "created_at": "2022-09-30T19:55:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688738",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Vincent Delecroix" to ""



---

archive/issue_comments_688739.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#34496\"",
    "created_at": "2022-09-30T19:55:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688739",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#34496"



---

archive/issue_comments_688740.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2022-09-30T22:12:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688740",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_688741.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-09-30T22:12:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688741",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_688742.json:
```json
{
    "body": "<a id='comment:12'></a>\nupstream report: https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=3&t=2800",
    "created_at": "2022-10-04T09:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688742",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
upstream report: https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=3&t=2800



---

archive/issue_comments_688743.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Reported upstream. No feedback yet.\"",
    "created_at": "2022-10-04T09:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688743",
    "user": "https://github.com/dimpase"
}
```

Changing upstream from "N/A" to "Reported upstream. No feedback yet."



---

archive/issue_comments_688744.json:
```json
{
    "body": "<a id='comment:13'></a>\nNot sure if relevant for Sage, but the giac test suite segfaults here with pari 2.15 (after applying the build fix).",
    "created_at": "2022-10-04T09:53:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688744",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:13'></a>
Not sure if relevant for Sage, but the giac test suite segfaults here with pari 2.15 (after applying the build fix).



---

archive/issue_comments_688745.json:
```json
{
    "body": "<a id='comment:14'></a>\nshould be discussing on #34496, not here, sorry.",
    "created_at": "2022-10-04T10:08:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688745",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>
should be discussing on #34496, not here, sorry.



---

archive/issue_comments_688746.json:
```json
{
    "body": "<a id='comment:15'></a>\noops, I meant #34537",
    "created_at": "2022-10-04T10:09:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688746",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
oops, I meant #34537



---

archive/issue_events_089667.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-14T19:36:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34586#event-89667"
}
```



---

archive/issue_comments_688747.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2022-11-14T19:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34586#issuecomment-688747",
    "user": "https://github.com/mkoeppe"
}
```

Resolution: invalid
