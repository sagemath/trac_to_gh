# Issue 34027: MR58: Bruhat iwahori tsb bruhat decompositions

archive/issues_033790.json:
```json
{
    "body": "This ticket corresponds to the Merge Request https://gitlab.com/sagemath/sage/-/merge_requests/58.\n\n---\n\nThis ticket contains implementations for several decompositions: Bruhat_Iwahori, TSB and Bruhat (see description below).\nIt was originally part of \u200bhttps://trac.sagemath.org/ticket/30690, which later became \u200bhttps://trac.sagemath.org/ticket/33404. In order to make the reviewing process easier, this ticket contains only some of the decompositions from the original ticket. The remaining decompositions (Iwasawa and Cartan) have been moved to another ticket (https://trac.sagemath.org/ticket/34026).\n\nThe ticket contains the following decompositions:\n\n* Bruhat decomposition for square matrices over any field.\n* Bruhat-Iwahori decomposition for square matrices over non-archimedean local fields.\n* TSB decomposition (T - invertible upper-triangular, S - permutation matrix (possibly with some zero-rows), B - iwahori matrix), for square matrices over non-archimedean local fields.\n\nNotes and Issues:\n\n1. In the above decompositions, Some of the returned matrices could be defined over the integer-ring of the field, but I did not coerce them into the integer-ring, because of the bug described at: #29931.\n2. To prevent any of the above decompositions from making changes to the original matrix, I relied on the fact that the matrix_over_field method returns a deep copy of the original matrix (even when the original is already defined over a field).\n3. A point for consideration: as padics and formal laurent-series over finite fields are both non-archimedean local fields, I needed to make sure that the implemented methods work for both. Having a more uniform API for padics and laurent-series could be helpful in avoiding awkward nested functions that fit different implementations for each type. For example, for getting the unit-part of an element, I had to use the unit_part method for padics, and valuation_zero_part for laurent.\n\nKeywords: padics, formal laurent series, decomposition\n\nAuthor: n-vi\n\nBranch: u/galois/mrs/58/bruhat_iwahori_tsb_bruhat_decompositions\n\nStatus: needs_review\n\nCommit: ac4c3e20840981df1012658baaf37f7e365d9e9e\n\nIssue created by migration from https://trac.sagemath.org/ticket/34027\n\n",
    "created_at": "2022-06-20T06:04:09Z",
    "labels": [
        "component: linear algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "MR58: Bruhat iwahori tsb bruhat decompositions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34027",
    "user": "https://trac.sagemath.org/admin/accounts/users/galois"
}
```
This ticket corresponds to the Merge Request https://gitlab.com/sagemath/sage/-/merge_requests/58.

---

This ticket contains implementations for several decompositions: Bruhat_Iwahori, TSB and Bruhat (see description below).
It was originally part of ​https://trac.sagemath.org/ticket/30690, which later became ​https://trac.sagemath.org/ticket/33404. In order to make the reviewing process easier, this ticket contains only some of the decompositions from the original ticket. The remaining decompositions (Iwasawa and Cartan) have been moved to another ticket (https://trac.sagemath.org/ticket/34026).

The ticket contains the following decompositions:

* Bruhat decomposition for square matrices over any field.
* Bruhat-Iwahori decomposition for square matrices over non-archimedean local fields.
* TSB decomposition (T - invertible upper-triangular, S - permutation matrix (possibly with some zero-rows), B - iwahori matrix), for square matrices over non-archimedean local fields.

Notes and Issues:

1. In the above decompositions, Some of the returned matrices could be defined over the integer-ring of the field, but I did not coerce them into the integer-ring, because of the bug described at: #29931.
2. To prevent any of the above decompositions from making changes to the original matrix, I relied on the fact that the matrix_over_field method returns a deep copy of the original matrix (even when the original is already defined over a field).
3. A point for consideration: as padics and formal laurent-series over finite fields are both non-archimedean local fields, I needed to make sure that the implemented methods work for both. Having a more uniform API for padics and laurent-series could be helpful in avoiding awkward nested functions that fit different implementations for each type. For example, for getting the unit-part of an element, I had to use the unit_part method for padics, and valuation_zero_part for laurent.

Keywords: padics, formal laurent series, decomposition

Author: n-vi

Branch: u/galois/mrs/58/bruhat_iwahori_tsb_bruhat_decompositions

Status: needs_review

Commit: ac4c3e20840981df1012658baaf37f7e365d9e9e

Issue created by migration from https://trac.sagemath.org/ticket/34027





---

archive/issue_comments_513070.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2022-06-21T05:41:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34027#issuecomment-513070",
    "user": "https://github.com/n-vi"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_513071.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to linear algebra.",
    "created_at": "2022-06-21T05:41:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34027#issuecomment-513071",
    "user": "https://github.com/n-vi"
}
```

Changing component from PLEASE CHANGE to linear algebra.



---

archive/issue_comments_513072.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-n-vi ([`@`n-vi](https://gitlab.com/sagemath/dev/tracmirror/n-vi)) opened a merge request at https://gitlab.com/sagemath/sage/-/merge_requests/58:\n+This ticket corresponds to the Merge Request https://gitlab.com/sagemath/sage/-/merge_requests/58.\n \n ---\n \n``````\n",
    "created_at": "2022-06-21T05:41:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34027#issuecomment-513072",
    "user": "https://github.com/n-vi"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-n-vi ([`@`n-vi](https://gitlab.com/sagemath/dev/tracmirror/n-vi)) opened a merge request at https://gitlab.com/sagemath/sage/-/merge_requests/58:
+This ticket corresponds to the Merge Request https://gitlab.com/sagemath/sage/-/merge_requests/58.
 
 ---
 
``````




---

archive/issue_comments_513073.json:
```json
{
    "body": "<a id='comment:1'></a>This ticket contains implementations for several decompositions: Bruhat_Iwahori, TSB and Bruhat (see description below). \\\\ \nIt was originally part of #30690, which later became #33404. In order to make the reviewing process easier, this ticket contains only some of the decompositions from the original ticket. The remaining decompositions (Iwasawa and Cartan) have been moved to another ticket ().\\\\\n\nThe ticket contains the following decompositions:\n\n* Bruhat decomposition for square matrices over any field.\n* Bruhat-Iwahori decomposition for square matrices over non-archimedean local fields.\n* TSB decomposition (T - invertible upper-triangular, S - permutation matrix (possibly with some zero-rows), B - iwahori matrix), for square matrices over non-archimedean local fields.\n\nNotes and Issues:\n\n1. In the above decompositions, Some of the returned matrices could be defined over the integer-ring of the field, but I did not coerce them into the integer-ring, because of the bug described at: #29931.\n2. To prevent any of the above decompositions from making changes to the original matrix, I relied on the fact that the matrix_over_field method returns a deep copy of the original matrix (even when the original is already defined over a field).\n3. A point for consideration: as padics and formal laurent-series over finite fields are both non-archimedean local fields, I needed to make sure that the implemented methods work for both. Having a more uniform API for padics and laurent-series could be helpful in avoiding awkward nested functions that fit different implementations for each type. For example, for getting the unit-part of an element, I had to use the unit_part method for padics, and valuation_zero_part for laurent.",
    "created_at": "2022-06-21T05:41:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34027#issuecomment-513073",
    "user": "https://github.com/n-vi"
}
```

<a id='comment:1'></a>This ticket contains implementations for several decompositions: Bruhat_Iwahori, TSB and Bruhat (see description below). \\ 
It was originally part of #30690, which later became #33404. In order to make the reviewing process easier, this ticket contains only some of the decompositions from the original ticket. The remaining decompositions (Iwasawa and Cartan) have been moved to another ticket ().\\

The ticket contains the following decompositions:

* Bruhat decomposition for square matrices over any field.
* Bruhat-Iwahori decomposition for square matrices over non-archimedean local fields.
* TSB decomposition (T - invertible upper-triangular, S - permutation matrix (possibly with some zero-rows), B - iwahori matrix), for square matrices over non-archimedean local fields.

Notes and Issues:

1. In the above decompositions, Some of the returned matrices could be defined over the integer-ring of the field, but I did not coerce them into the integer-ring, because of the bug described at: #29931.
2. To prevent any of the above decompositions from making changes to the original matrix, I relied on the fact that the matrix_over_field method returns a deep copy of the original matrix (even when the original is already defined over a field).
3. A point for consideration: as padics and formal laurent-series over finite fields are both non-archimedean local fields, I needed to make sure that the implemented methods work for both. Having a more uniform API for padics and laurent-series could be helpful in avoiding awkward nested functions that fit different implementations for each type. For example, for getting the unit-part of an element, I had to use the unit_part method for padics, and valuation_zero_part for laurent.



---

archive/issue_comments_513074.json:
```json
{
    "body": "Changing keywords from \"\" to \"padics, formal laurent series, decomposition\".",
    "created_at": "2022-06-21T05:50:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34027#issuecomment-513074",
    "user": "https://github.com/n-vi"
}
```

Changing keywords from "" to "padics, formal laurent series, decomposition".



---

archive/issue_comments_513075.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,21 @@\n+This ticket corresponds to the Merge Request https://gitlab.com/sagemath/sage/-/merge_requests/58.\n \n+---\n+\n+This ticket contains implementations for several decompositions: Bruhat_Iwahori, TSB and Bruhat (see description below).\n+It was originally part of \u200bhttps://trac.sagemath.org/ticket/30690, which later became \u200bhttps://trac.sagemath.org/ticket/33404. In order to make the reviewing process easier, this ticket contains only some of the decompositions from the original ticket. The remaining decompositions (Iwasawa and Cartan) have been moved to another ticket (https://trac.sagemath.org/ticket/34026).\n+\n+The ticket contains the following decompositions:\n+\n+* Bruhat decomposition for square matrices over any field.\n+* Bruhat-Iwahori decomposition for square matrices over non-archimedean local fields.\n+* TSB decomposition (T - invertible upper-triangular, S - permutation matrix (possibly with some zero-rows), B - iwahori matrix), for square matrices over non-archimedean local fields.\n+\n+Notes and Issues:\n+\n+1. In the above decompositions, Some of the returned matrices could be defined over the integer-ring of the field, but I did not coerce them into the integer-ring, because of the bug described at: #29931.\n+2. To prevent any of the above decompositions from making changes to the original matrix, I relied on the fact that the matrix_over_field method returns a deep copy of the original matrix (even when the original is already defined over a field).\n+3. A point for consideration: as padics and formal laurent-series over finite fields are both non-archimedean local fields, I needed to make sure that the implemented methods work for both. Having a more uniform API for padics and laurent-series could be helpful in avoiding awkward nested functions that fit different implementations for each type. For example, for getting the unit-part of an element, I had to use the unit_part method for padics, and valuation_zero_part for laurent.\n \n Author: n-vi\n \n``````\n",
    "created_at": "2022-06-21T05:50:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34027#issuecomment-513075",
    "user": "https://github.com/n-vi"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,21 @@
+This ticket corresponds to the Merge Request https://gitlab.com/sagemath/sage/-/merge_requests/58.
 
+---
+
+This ticket contains implementations for several decompositions: Bruhat_Iwahori, TSB and Bruhat (see description below).
+It was originally part of ​https://trac.sagemath.org/ticket/30690, which later became ​https://trac.sagemath.org/ticket/33404. In order to make the reviewing process easier, this ticket contains only some of the decompositions from the original ticket. The remaining decompositions (Iwasawa and Cartan) have been moved to another ticket (https://trac.sagemath.org/ticket/34026).
+
+The ticket contains the following decompositions:
+
+* Bruhat decomposition for square matrices over any field.
+* Bruhat-Iwahori decomposition for square matrices over non-archimedean local fields.
+* TSB decomposition (T - invertible upper-triangular, S - permutation matrix (possibly with some zero-rows), B - iwahori matrix), for square matrices over non-archimedean local fields.
+
+Notes and Issues:
+
+1. In the above decompositions, Some of the returned matrices could be defined over the integer-ring of the field, but I did not coerce them into the integer-ring, because of the bug described at: #29931.
+2. To prevent any of the above decompositions from making changes to the original matrix, I relied on the fact that the matrix_over_field method returns a deep copy of the original matrix (even when the original is already defined over a field).
+3. A point for consideration: as padics and formal laurent-series over finite fields are both non-archimedean local fields, I needed to make sure that the implemented methods work for both. Having a more uniform API for padics and laurent-series could be helpful in avoiding awkward nested functions that fit different implementations for each type. For example, for getting the unit-part of an element, I had to use the unit_part method for padics, and valuation_zero_part for laurent.
 
 Author: n-vi
 
``````




---

archive/issue_events_089039.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/34027",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34027#event-89039"
}
```
