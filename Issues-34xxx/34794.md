# Issue 34794: Run doc server along with jupyter server

archive/issues_034557.json:
```json
{
    "body": "Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface, although they work fine in jupyter notebook interface.\n\nJupyterlab loads local files (sage documentation files) in `iframe` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.\n\nThe branch uses thread parallelism to run sage doc server.\n\nTry the branch with `sage --notebook=jupyterlab`. This runs a light-weight sage doc server at `http://localhost:<SAGE_DOC_LOCAL_PORT>`, where the environment variable `SAGE_DOC_LOCAL_PORT` defaults to 8000.\n\nSet `export SAGE_DOC_SERVER_URL=https://doc.sagemath.org` before running `sage --notebook=jupyterlab` to use the public doc server. This will be useful for jupyterhub users.\n\n\n\nAuthor: Kwankyu Lee\n\nBranch: public/run_doc_server\n\nStatus: needs_review\n\nCommit: 70bdf46e811b15d9886077ebdc5ce544626dc963\n\nIssue created by migration from https://trac.sagemath.org/ticket/34794\n\n",
    "created_at": "2022-11-26T17:35:35Z",
    "labels": [
        "component: notebook",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Run doc server along with jupyter server",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34794",
    "user": "https://github.com/kwankyu"
}
```
Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface, although they work fine in jupyter notebook interface.

Jupyterlab loads local files (sage documentation files) in `iframe` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.

The branch uses thread parallelism to run sage doc server.

Try the branch with `sage --notebook=jupyterlab`. This runs a light-weight sage doc server at `http://localhost:<SAGE_DOC_LOCAL_PORT>`, where the environment variable `SAGE_DOC_LOCAL_PORT` defaults to 8000.

Set `export SAGE_DOC_SERVER_URL=https://doc.sagemath.org` before running `sage --notebook=jupyterlab` to use the public doc server. This will be useful for jupyterhub users.



Author: Kwankyu Lee

Branch: public/run_doc_server

Status: needs_review

Commit: 70bdf46e811b15d9886077ebdc5ce544626dc963

Issue created by migration from https://trac.sagemath.org/ticket/34794





---

archive/issue_comments_682943.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-11-26T17:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682943",
    "user": "https://github.com/kwankyu"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_682944.json:
```json
{
    "body": "Changing author from \"\" to \"Kwankyu Lee\"",
    "created_at": "2022-11-26T17:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682944",
    "user": "https://github.com/kwankyu"
}
```

Changing author from "" to "Kwankyu Lee"



---

archive/issue_comments_682945.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Running jupyter notebook runs sage doc server along it so that sage documentation is available in notebook environment.\n``````\n",
    "created_at": "2022-11-26T17:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682945",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Running jupyter notebook runs sage doc server along it so that sage documentation is available in notebook environment.
``````




---

archive/issue_comments_682946.json:
```json
{
    "body": "Changing branch from \"\" to \"u/klee/run_doc_server_along_with_jupyter_server\"",
    "created_at": "2022-11-26T17:38:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682946",
    "user": "https://github.com/kwankyu"
}
```

Changing branch from "" to "u/klee/run_doc_server_along_with_jupyter_server"



---

archive/issue_comments_682947.json:
```json
{
    "body": "Changing commit from \"\" to \"8b636bf6ee8004ed21009876c5d0fa68be92325b\"",
    "created_at": "2022-11-26T23:46:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682947",
    "user": "https://github.com/kwankyu"
}
```

Changing commit from "" to "8b636bf6ee8004ed21009876c5d0fa68be92325b"



---

archive/issue_comments_682948.json:
```json
{
    "body": "Changing branch from \"u/klee/run_doc_server_along_with_jupyter_server\" to \"public/run_doc_server\"",
    "created_at": "2022-11-26T23:46:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682948",
    "user": "https://github.com/kwankyu"
}
```

Changing branch from "u/klee/run_doc_server_along_with_jupyter_server" to "public/run_doc_server"



---

archive/issue_comments_682949.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[8b636bf](https://github.com/sagemath/sagetrac-mirror/commit/8b636bf6ee8004ed21009876c5d0fa68be92325b)|`Run sage doc server for notebooks`|",
    "created_at": "2022-11-26T23:46:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682949",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[8b636bf](https://github.com/sagemath/sagetrac-mirror/commit/8b636bf6ee8004ed21009876c5d0fa68be92325b)|`Run sage doc server for notebooks`|



---

archive/issue_comments_682950.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n-Running jupyter notebook runs sage doc server along it so that sage documentation is available in notebook environment.\n+Sage documentation links in `help` menu has been long broken in jupyterlab notebook interface.\n+\n+A proper fix  is to run local http server serving sage doc along with jupyter(lab) notebook server.\n+\n+\n``````\n",
    "created_at": "2022-11-26T23:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682950",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
-Running jupyter notebook runs sage doc server along it so that sage documentation is available in notebook environment.
+Sage documentation links in `help` menu has been long broken in jupyterlab notebook interface.
+
+A proper fix  is to run local http server serving sage doc along with jupyter(lab) notebook server.
+
+
``````




---

archive/issue_comments_682951.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,7 @@\n-Sage documentation links in `help` menu has been long broken in jupyterlab notebook interface.\n+Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface.\n \n-A proper fix  is to run local http server serving sage doc along with jupyter(lab) notebook server.\n+A proper fix is to run local http server serving sage doc along with jupyter(lab) notebook server.\n+\n+The branch uses thread parallelism to run sage doc server.\n \n \n``````\n",
    "created_at": "2022-11-26T23:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682951",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,7 @@
-Sage documentation links in `help` menu has been long broken in jupyterlab notebook interface.
+Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface.
 
-A proper fix  is to run local http server serving sage doc along with jupyter(lab) notebook server.
+A proper fix is to run local http server serving sage doc along with jupyter(lab) notebook server.
+
+The branch uses thread parallelism to run sage doc server.
 
 
``````




---

archive/issue_comments_682952.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,6 @@\n \n The branch uses thread parallelism to run sage doc server.\n \n+Try the branch with `sage --notebook=jupyterlab`\n \n+\n``````\n",
    "created_at": "2022-11-26T23:59:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682952",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,6 @@
 
 The branch uses thread parallelism to run sage doc server.
 
+Try the branch with `sage --notebook=jupyterlab`
 
+
``````




---

archive/issue_comments_682953.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n-Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface.\n+Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface. By the way, they work well in jupyter notebook interface.\n \n-A proper fix is to run local http server serving sage doc along with jupyter(lab) notebook server.\n+Jupyterlab loads local files (sage documentation files) in `iframe` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.\n \n The branch uses thread parallelism to run sage doc server.\n \n``````\n",
    "created_at": "2022-11-27T00:54:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682953",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
-Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface.
+Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface. By the way, they work well in jupyter notebook interface.
 
-A proper fix is to run local http server serving sage doc along with jupyter(lab) notebook server.
+Jupyterlab loads local files (sage documentation files) in `iframe` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.
 
 The branch uses thread parallelism to run sage doc server.
 
``````




---

archive/issue_comments_682954.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------|\n|[f3bf182](https://github.com/sagemath/sagetrac-mirror/commit/f3bf1827a8720af3b81b657448f0e38d1cc3b798)|`Edit messages`|",
    "created_at": "2022-11-27T01:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682954",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|[f3bf182](https://github.com/sagemath/sagetrac-mirror/commit/f3bf1827a8720af3b81b657448f0e38d1cc3b798)|`Edit messages`|



---

archive/issue_comments_682955.json:
```json
{
    "body": "Changing commit from \"8b636bf6ee8004ed21009876c5d0fa68be92325b\" to \"f3bf1827a8720af3b81b657448f0e38d1cc3b798\"",
    "created_at": "2022-11-27T01:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682955",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8b636bf6ee8004ed21009876c5d0fa68be92325b" to "f3bf1827a8720af3b81b657448f0e38d1cc3b798"



---

archive/issue_comments_682956.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[70bdf46](https://github.com/sagemath/sagetrac-mirror/commit/70bdf46e811b15d9886077ebdc5ce544626dc963)|`Support SAGE_DOC_SERVER_URL for non-local doc server`|",
    "created_at": "2022-11-27T03:20:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682956",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[70bdf46](https://github.com/sagemath/sagetrac-mirror/commit/70bdf46e811b15d9886077ebdc5ce544626dc963)|`Support SAGE_DOC_SERVER_URL for non-local doc server`|



---

archive/issue_comments_682957.json:
```json
{
    "body": "Changing commit from \"f3bf1827a8720af3b81b657448f0e38d1cc3b798\" to \"70bdf46e811b15d9886077ebdc5ce544626dc963\"",
    "created_at": "2022-11-27T03:20:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682957",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f3bf1827a8720af3b81b657448f0e38d1cc3b798" to "70bdf46e811b15d9886077ebdc5ce544626dc963"



---

archive/issue_comments_682958.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,8 @@\n \n The branch uses thread parallelism to run sage doc server.\n \n-Try the branch with `sage --notebook=jupyterlab`\n+Try the branch with `sage --notebook=jupyterlab`. This runs a light-weight sage doc server at `http://localhost:<SAGE_DOC_LOCAL_PORT>`, where the environment variable `SAGE_DOC_LOCAL_PORT` defaults to 8000.\n+\n+Set `export SAGE_DOC_SERVER_URL=https://doc.sagemath.org` before running `sage --notebook=jupyterlab` to use the public doc server. This will be useful for jupyterhub users.\n \n \n``````\n",
    "created_at": "2022-11-27T03:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682958",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,8 @@
 
 The branch uses thread parallelism to run sage doc server.
 
-Try the branch with `sage --notebook=jupyterlab`
+Try the branch with `sage --notebook=jupyterlab`. This runs a light-weight sage doc server at `http://localhost:<SAGE_DOC_LOCAL_PORT>`, where the environment variable `SAGE_DOC_LOCAL_PORT` defaults to 8000.
+
+Set `export SAGE_DOC_SERVER_URL=https://doc.sagemath.org` before running `sage --notebook=jupyterlab` to use the public doc server. This will be useful for jupyterhub users.
 
 
``````




---

archive/issue_comments_682959.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface. By the way, they work well in jupyter notebook interface.\n+Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface, although they work fine in jupyter notebook interface.\n \n Jupyterlab loads local files (sage documentation files) in `iframe` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.\n \n``````\n",
    "created_at": "2022-11-27T03:26:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-682959",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface. By the way, they work well in jupyter notebook interface.
+Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface, although they work fine in jupyter notebook interface.
 
 Jupyterlab loads local files (sage documentation files) in `iframe` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.
 
``````

