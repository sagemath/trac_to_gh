# Issue 34794: Run doc server along with jupyter server

archive/issues_034557.json:
```json
{
    "body": "Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface, although they work fine in jupyter notebook interface.\n\nJupyterlab loads local files (sage documentation files) in `iframe` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.\n\nThe branch uses thread parallelism to run sage doc server.\n\nTry the branch with `sage --notebook=jupyterlab`. This runs a light-weight sage doc server at `http://localhost:<SAGE_DOC_LOCAL_PORT>`, where the environment variable `SAGE_DOC_LOCAL_PORT` defaults to 8000.\n\nSet `export SAGE_DOC_SERVER_URL=https://doc.sagemath.org` before running `sage --notebook=jupyterlab` to use the public doc server. This will be useful for jupyterhub users.\n\n\n\nAuthor: Kwankyu Lee\n\nBranch: public/run_doc_server\n\nStatus: needs_review\n\nCommit: 70bdf46e811b15d9886077ebdc5ce544626dc963\n\nIssue created by migration from https://trac.sagemath.org/ticket/34794\n\n",
    "created_at": "2022-11-26T17:35:35Z",
    "labels": [
        "component: notebook",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Run doc server along with jupyter server",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34794",
    "user": "https://github.com/kwankyu"
}
```
Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface, although they work fine in jupyter notebook interface.

Jupyterlab loads local files (sage documentation files) in `iframe` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.

The branch uses thread parallelism to run sage doc server.

Try the branch with `sage --notebook=jupyterlab`. This runs a light-weight sage doc server at `http://localhost:<SAGE_DOC_LOCAL_PORT>`, where the environment variable `SAGE_DOC_LOCAL_PORT` defaults to 8000.

Set `export SAGE_DOC_SERVER_URL=https://doc.sagemath.org` before running `sage --notebook=jupyterlab` to use the public doc server. This will be useful for jupyterhub users.



Author: Kwankyu Lee

Branch: public/run_doc_server

Status: needs_review

Commit: 70bdf46e811b15d9886077ebdc5ce544626dc963

Issue created by migration from https://trac.sagemath.org/ticket/34794





---

archive/issue_comments_522281.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2022-11-26T17:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-522281",
    "user": "https://github.com/kwankyu"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_522282.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-11-26T17:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-522282",
    "user": "https://github.com/kwankyu"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_522283.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+Running jupyter notebook runs sage doc server along it so that sage documentation is available in notebook environment.\n \n Type: PLEASE CHANGE\n \n```\n",
    "created_at": "2022-11-26T17:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-522283",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+Running jupyter notebook runs sage doc server along it so that sage documentation is available in notebook environment.
 
 Type: PLEASE CHANGE
 
```




---

archive/issue_comments_522284.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to notebook.",
    "created_at": "2022-11-26T17:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-522284",
    "user": "https://github.com/kwankyu"
}
```

Changing component from PLEASE CHANGE to notebook.



---

archive/issue_comments_522285.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2022-11-26T23:46:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-522285",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_522286.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n+Sage documentation links in \\`help\\` menu has been long broken in jupyterlab notebook interface.\n+\n+A proper fix  is to run local http server serving sage doc along with jupyter(lab) notebook server.\n+\n \n \n Type: PLEASE CHANGE\n```\n",
    "created_at": "2022-11-26T23:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-522286",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,7 @@
+Sage documentation links in \`help\` menu has been long broken in jupyterlab notebook interface.
+
+A proper fix  is to run local http server serving sage doc along with jupyter(lab) notebook server.
+
 
 
 Type: PLEASE CHANGE
```




---

archive/issue_comments_522287.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,9 @@\n+Sage documentation links in \\`help\\` menu have been long broken in jupyterlab notebook interface.\n+\n+A proper fix is to run local http server serving sage doc along with jupyter(lab) notebook server.\n+\n+The branch uses thread parallelism to run sage doc server.\n+\n \n \n Type: PLEASE CHANGE\n```\n",
    "created_at": "2022-11-26T23:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-522287",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,9 @@
+Sage documentation links in \`help\` menu have been long broken in jupyterlab notebook interface.
+
+A proper fix is to run local http server serving sage doc along with jupyter(lab) notebook server.
+
+The branch uses thread parallelism to run sage doc server.
+
 
 
 Type: PLEASE CHANGE
```




---

archive/issue_comments_522288.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,11 @@\n+Sage documentation links in \\`help\\` menu have been long broken in jupyterlab notebook interface.\n+\n+A proper fix is to run local http server serving sage doc along with jupyter(lab) notebook server.\n+\n+The branch uses thread parallelism to run sage doc server.\n+\n+Try the branch with \\`sage --notebook=jupyterlab\\`\n+\n \n \n Type: PLEASE CHANGE\n```\n",
    "created_at": "2022-11-26T23:59:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-522288",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,11 @@
+Sage documentation links in \`help\` menu have been long broken in jupyterlab notebook interface.
+
+A proper fix is to run local http server serving sage doc along with jupyter(lab) notebook server.
+
+The branch uses thread parallelism to run sage doc server.
+
+Try the branch with \`sage --notebook=jupyterlab\`
+
 
 
 Type: PLEASE CHANGE
```




---

archive/issue_comments_522289.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,11 @@\n+Sage documentation links in \\`help\\` menu have been long broken in jupyterlab notebook interface. By the way, they work well in jupyter notebook interface.\n+\n+Jupyterlab loads local files (sage documentation files) in \\`iframe\\` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.\n+\n+The branch uses thread parallelism to run sage doc server.\n+\n+Try the branch with \\`sage --notebook=jupyterlab\\`\n+\n \n \n Type: PLEASE CHANGE\n```\n",
    "created_at": "2022-11-27T00:54:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-522289",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,11 @@
+Sage documentation links in \`help\` menu have been long broken in jupyterlab notebook interface. By the way, they work well in jupyter notebook interface.
+
+Jupyterlab loads local files (sage documentation files) in \`iframe\` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.
+
+The branch uses thread parallelism to run sage doc server.
+
+Try the branch with \`sage --notebook=jupyterlab\`
+
 
 
 Type: PLEASE CHANGE
```




---

archive/issue_comments_522290.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-27T01:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-522290",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_522291.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-27T03:20:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-522291",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_522292.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,13 @@\n+Sage documentation links in \\`help\\` menu have been long broken in jupyterlab notebook interface. By the way, they work well in jupyter notebook interface.\n+\n+Jupyterlab loads local files (sage documentation files) in \\`iframe\\` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.\n+\n+The branch uses thread parallelism to run sage doc server.\n+\n+Try the branch with \\`sage --notebook=jupyterlab\\`. This runs a light-weight sage doc server at \\`http://localhost:<SAGE_DOC_LOCAL_PORT>\\`, where the environment variable \\`SAGE_DOC_LOCAL_PORT\\` defaults to 8000.\n+\n+Set \\`export SAGE_DOC_SERVER_URL=https://doc.sagemath.org\\` before running \\`sage --notebook=jupyterlab\\` to use the public doc server. This will be useful for jupyterhub users.\n+\n \n \n Type: PLEASE CHANGE\n```\n",
    "created_at": "2022-11-27T03:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-522292",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,13 @@
+Sage documentation links in \`help\` menu have been long broken in jupyterlab notebook interface. By the way, they work well in jupyter notebook interface.
+
+Jupyterlab loads local files (sage documentation files) in \`iframe\` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.
+
+The branch uses thread parallelism to run sage doc server.
+
+Try the branch with \`sage --notebook=jupyterlab\`. This runs a light-weight sage doc server at \`http://localhost:<SAGE_DOC_LOCAL_PORT>\`, where the environment variable \`SAGE_DOC_LOCAL_PORT\` defaults to 8000.
+
+Set \`export SAGE_DOC_SERVER_URL=https://doc.sagemath.org\` before running \`sage --notebook=jupyterlab\` to use the public doc server. This will be useful for jupyterhub users.
+
 
 
 Type: PLEASE CHANGE
```




---

archive/issue_comments_522293.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,13 @@\n+Sage documentation links in \\`help\\` menu have been long broken in jupyterlab notebook interface, although they work fine in jupyter notebook interface.\n+\n+Jupyterlab loads local files (sage documentation files) in \\`iframe\\` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.\n+\n+The branch uses thread parallelism to run sage doc server.\n+\n+Try the branch with \\`sage --notebook=jupyterlab\\`. This runs a light-weight sage doc server at \\`http://localhost:<SAGE_DOC_LOCAL_PORT>\\`, where the environment variable \\`SAGE_DOC_LOCAL_PORT\\` defaults to 8000.\n+\n+Set \\`export SAGE_DOC_SERVER_URL=https://doc.sagemath.org\\` before running \\`sage --notebook=jupyterlab\\` to use the public doc server. This will be useful for jupyterhub users.\n+\n \n \n Type: PLEASE CHANGE\n```\n",
    "created_at": "2022-11-27T03:26:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34794#issuecomment-522293",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,13 @@
+Sage documentation links in \`help\` menu have been long broken in jupyterlab notebook interface, although they work fine in jupyter notebook interface.
+
+Jupyterlab loads local files (sage documentation files) in \`iframe\` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.
+
+The branch uses thread parallelism to run sage doc server.
+
+Try the branch with \`sage --notebook=jupyterlab\`. This runs a light-weight sage doc server at \`http://localhost:<SAGE_DOC_LOCAL_PORT>\`, where the environment variable \`SAGE_DOC_LOCAL_PORT\` defaults to 8000.
+
+Set \`export SAGE_DOC_SERVER_URL=https://doc.sagemath.org\` before running \`sage --notebook=jupyterlab\` to use the public doc server. This will be useful for jupyterhub users.
+
 
 
 Type: PLEASE CHANGE
```

