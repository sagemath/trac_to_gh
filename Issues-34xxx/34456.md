# Issue 34456: piecewise polynomial in one dimension

archive/issues_034219.json:
```json
{
    "body": "CC:  @yuan-zhou\n\nKeywords: piecewise\n\nImplement real value piecewise polynomial function over the real set. For the polynomial function, we adopted code from the polynomial ring of [SageMath](SageMath). For piecewise function, we adopted code by Matthias K\u00f6ppe et al., at https://github.com/mkoeppe/cutgeneratingfunctionology/blob/master/cutgeneratingfunctionology/igp/fast_piecewise.py and code by David Joyner et al. at [SageMath](SageMath) piecewise function.\n\nThis code can do general piecewise add, subtraction, multiplication, divide the real number, equal, detect pieces with discontinuity, and compute limits at certain points. we are currently working on plotting piecewise functions.\n\nIssue created by migration from https://trac.sagemath.org/ticket/34456\n\n",
    "created_at": "2022-08-30T07:20:18Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "piecewise polynomial in one dimension",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34456",
    "user": "https://github.com/NicoleYueqiLi"
}
```
CC:  @yuan-zhou

Keywords: piecewise

Implement real value piecewise polynomial function over the real set. For the polynomial function, we adopted code from the polynomial ring of [SageMath](SageMath). For piecewise function, we adopted code by Matthias KÃ¶ppe et al., at https://github.com/mkoeppe/cutgeneratingfunctionology/blob/master/cutgeneratingfunctionology/igp/fast_piecewise.py and code by David Joyner et al. at [SageMath](SageMath) piecewise function.

This code can do general piecewise add, subtraction, multiplication, divide the real number, equal, detect pieces with discontinuity, and compute limits at certain points. we are currently working on plotting piecewise functions.

Issue created by migration from https://trac.sagemath.org/ticket/34456





---

archive/issue_comments_484826.json:
```json
{
    "body": "Changing type from task to enhancement.",
    "created_at": "2022-08-30T18:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34456#issuecomment-484826",
    "user": "https://github.com/yuan-zhou"
}
```

Changing type from task to enhancement.



---

archive/issue_comments_484827.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-08-30T18:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34456#issuecomment-484827",
    "user": "https://github.com/yuan-zhou"
}
```

New commits:



---

archive/issue_comments_484828.json:
```json
{
    "body": "```\n+class Piecewise_Polynomial(ModuleElement):\n```\nThis naming scheme does not follow our common usage.\n\nIt should be changed to one of these:\n- `PiecewisePolynomial` -- following the general Python convention for naming of classes\n- `PiecewiseFunction_polynomial` -- when the intention is that there is a public constructor `PiecewiseFunction` with several private implementation classes such as `PiecewiseFunction_multi_polynomial`, `PiecewiseFunction_neural_network`, ...",
    "created_at": "2022-08-30T18:39:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34456#issuecomment-484828",
    "user": "https://github.com/mkoeppe"
}
```

```
+class Piecewise_Polynomial(ModuleElement):
```
This naming scheme does not follow our common usage.

It should be changed to one of these:
- `PiecewisePolynomial` -- following the general Python convention for naming of classes
- `PiecewiseFunction_polynomial` -- when the intention is that there is a public constructor `PiecewiseFunction` with several private implementation classes such as `PiecewiseFunction_multi_polynomial`, `PiecewiseFunction_neural_network`, ...



---

archive/issue_comments_484829.json:
```json
{
    "body": "Yes, I agree that this should be a `ModuleElement`.\nNow to which module (vector space) should it belong?",
    "created_at": "2022-08-30T18:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34456#issuecomment-484829",
    "user": "https://github.com/mkoeppe"
}
```

Yes, I agree that this should be a `ModuleElement`.
Now to which module (vector space) should it belong?



---

archive/issue_comments_484830.json:
```json
{
    "body": "Replying to [comment:4 mkoeppe]:\n> Yes, I agree that this should be a `ModuleElement`.\n> Now to which module (vector space) should it belong?\n\nThis code didn't use any properties from `ModuleElement`. I'm wondering if you know any sample codes or if there is any way would be helpful for me to learn how to adapt the `ModuleElement` into the current code. Thank you so much for any suggestions!",
    "created_at": "2022-08-30T21:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34456#issuecomment-484830",
    "user": "https://github.com/NicoleYueqiLi"
}
```

Replying to [comment:4 mkoeppe]:
> Yes, I agree that this should be a `ModuleElement`.
> Now to which module (vector space) should it belong?

This code didn't use any properties from `ModuleElement`. I'm wondering if you know any sample codes or if there is any way would be helpful for me to learn how to adapt the `ModuleElement` into the current code. Thank you so much for any suggestions!



---

archive/issue_comments_484831.json:
```json
{
    "body": "Take a look at `CombinatorialFreeModule` (defined in `sage.combinat.free_module`) and the element class `IndexedFreeModuleElement` (defined in `sage.modules.with_basis.indexed_element`)",
    "created_at": "2022-08-30T21:44:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34456#issuecomment-484831",
    "user": "https://github.com/mkoeppe"
}
```

Take a look at `CombinatorialFreeModule` (defined in `sage.combinat.free_module`) and the element class `IndexedFreeModuleElement` (defined in `sage.modules.with_basis.indexed_element`)



---

archive/issue_comments_484832.json:
```json
{
    "body": "Replying to [comment:7 mkoeppe]:\n> Take a look at `CombinatorialFreeModule` (defined in `sage.combinat.free_module`) and the element class `IndexedFreeModuleElement` (defined in `sage.modules.with_basis.indexed_element`)\n\nThank you so much!",
    "created_at": "2022-08-31T02:45:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34456",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34456#issuecomment-484832",
    "user": "https://github.com/NicoleYueqiLi"
}
```

Replying to [comment:7 mkoeppe]:
> Take a look at `CombinatorialFreeModule` (defined in `sage.combinat.free_module`) and the element class `IndexedFreeModuleElement` (defined in `sage.modules.with_basis.indexed_element`)

Thank you so much!



---

archive/issue_events_089545.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/34456",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34456#event-89545"
}
```
