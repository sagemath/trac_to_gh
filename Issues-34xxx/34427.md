# Issue 34427: TensorFreeModule.isomorphism_with_fixed_basis

archive/issues_034190.json:
```json
{
    "body": "We generalize `FiniteRankFreeModule.isomorphism_with_fixed_basis` so that it works with tensor modules.\n\n\nCC:  @egourgoulhon @tscrim\n\nReviewer: Eric Gourgoulhon\n\nAuthor: Matthias Koeppe\n\nBranch: 08d6a65792e204e38ce04bc2b37e5e370603a019\n\nDependencies: #34424, #30300, #30229\n\nCommit: 08d6a65792e204e38ce04bc2b37e5e370603a019\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/34427\n\n",
    "closed_at": "2022-09-25T16:34:15Z",
    "created_at": "2022-08-25T03:49:33Z",
    "labels": [
        "component: linear algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "TensorFreeModule.isomorphism_with_fixed_basis",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34427",
    "user": "https://github.com/mkoeppe"
}
```
We generalize `FiniteRankFreeModule.isomorphism_with_fixed_basis` so that it works with tensor modules.


CC:  @egourgoulhon @tscrim

Reviewer: Eric Gourgoulhon

Author: Matthias Koeppe

Branch: 08d6a65792e204e38ce04bc2b37e5e370603a019

Dependencies: #34424, #30300, #30229

Commit: 08d6a65792e204e38ce04bc2b37e5e370603a019

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/34427





---

archive/issue_comments_484563.json:
```json
{
    "body": "<a id='comment:2'></a>Last 10 new commits:",
    "created_at": "2022-08-27T00:41:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484563",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>Last 10 new commits:



---

archive/issue_comments_484564.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-27T01:25:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484564",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484565.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-27T01:33:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484565",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484566.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-27T01:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484566",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484567.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-27T02:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484567",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484568.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-27T03:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484568",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484569.json:
```json
{
    "body": "<a id='comment:9'></a>This looks great! I think this also solves the problem that tensor bundles currently return the preferred local frame of the tangent bundle.\n\nMoreover, tensor powers and exterior powers of vector bundles should be easy to implement by following the same strategy as for tensor bundles. The only reason I haven't done it so far was exactly that those powers in the free module case had no bases.\n\nHowever, perhaps it is a better idea to start with some sort of unifocation first, to avoid redundancies. Otherwise we have to write similar code twice (for tangent bundles and for vector bundles). After all, tangent bundles are just special cases of vector bundles. I am still not sure though what a good implemention strategy would be to achive that.\n\nSpeaking of which: what about fiber bundles?",
    "created_at": "2022-08-27T06:51:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484569",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:9'></a>This looks great! I think this also solves the problem that tensor bundles currently return the preferred local frame of the tangent bundle.

Moreover, tensor powers and exterior powers of vector bundles should be easy to implement by following the same strategy as for tensor bundles. The only reason I haven't done it so far was exactly that those powers in the free module case had no bases.

However, perhaps it is a better idea to start with some sort of unifocation first, to avoid redundancies. Otherwise we have to write similar code twice (for tangent bundles and for vector bundles). After all, tangent bundles are just special cases of vector bundles. I am still not sure though what a good implemention strategy would be to achive that.

Speaking of which: what about fiber bundles?



---

archive/issue_comments_484570.json:
```json
{
    "body": "<a id='comment:10'></a>Thanks for taking a look!\n\nFor exterior powers, I still hope to come back to the approach of #30242, making them quotients. This will basically come for free when #30229 is complete.\n\nRight now I don't have an opinion on how this should be generalized to tensor/vector/fiber bundles",
    "created_at": "2022-08-27T07:06:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484570",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>Thanks for taking a look!

For exterior powers, I still hope to come back to the approach of #30242, making them quotients. This will basically come for free when #30229 is complete.

Right now I don't have an opinion on how this should be generalized to tensor/vector/fiber bundles



---

archive/issue_comments_484571.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-27T17:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484571",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484572.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-08-27T20:14:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484572",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_484573.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-28T02:41:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484573",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484574.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-28T02:41:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484574",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_484575.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-08-28T19:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484575",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_484576.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-28T21:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484576",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484577.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-08-28T22:01:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484577",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_484578.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-08-28T22:12:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484578",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_484579.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-08-28T22:26:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484579",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_484580.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-28T22:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484580",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484581.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-28T23:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484581",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484582.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-08-29T20:27:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484582",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_484583.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-30T03:43:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484583",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484584.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-09-02T16:49:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484584",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_484585.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-02T17:56:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484585",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484586.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-04T19:02:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484587.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-09-04T19:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484587",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_484588.json:
```json
{
    "body": "<a id='comment:27'></a>Looks nice. Thanks.",
    "created_at": "2022-09-04T19:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484588",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:27'></a>Looks nice. Thanks.



---

archive/issue_comments_484589.json:
```json
{
    "body": "<a id='comment:28'></a>Thank you!",
    "created_at": "2022-09-04T19:28:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484589",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>Thank you!



---

archive/issue_events_089506.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34427#event-89506"
}
```



---

archive/issue_comments_484590.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-09-25T16:34:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34427#issuecomment-484590",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_089507.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-09-25T16:34:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34427",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34427#event-89507"
}
```
