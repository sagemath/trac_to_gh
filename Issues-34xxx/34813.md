# Issue 34813: src/doc/en/installation/source.rst gives CRITICAL sphinx warnings

archive/issues_034576.json:
```json
{
    "assignees": [],
    "body": "\n```\n[sagemath_doc_html-none] [installat] /Users/dima/software/sage/src/doc/en/installation/source.rst:455: CRITICAL: Title level inconsistent:\n[sagemath_doc_html-none] [installat] Recommended programs\n[sagemath_doc_html-none] [installat] ~~~~~~~~~~~~~~~~~~~~\n[sagemath_doc_html-none] [installat] /Users/dima/software/sage/src/doc/en/installation/source.rst:508: CRITICAL: Title level inconsistent:\n[sagemath_doc_html-none] [installat] Tcl/Tk\n[sagemath_doc_html-none] [installat] ~~~~~~\n[sagemath_doc_html-none] [installat] /Users/dima/software/sage/src/doc/en/installation/source.rst:548: CRITICAL: Title level inconsistent:\n[sagemath_doc_html-none] [installat] General procedure\n[sagemath_doc_html-none] [installat] ~~~~~~~~~~~~~~~~~\n```\n\nNote that `~~~~~...` is not even official Sphinx.\n\n\nCC:  @jhpalmieri\n\nBranch/Commit: **[`69ac8d4`](https://github.com/sagemath/sagetrac-mirror/commit/69ac8d4e67d3d1198967c2b11a4116b4504e09c9)**\n\nReviewer: **John Palmieri**\n\nAuthor: **Dima Pasechnik**\n\nComponent: **documentation**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34813_\n\n",
    "closed_at": "2022-12-14T22:11:48Z",
    "created_at": "2022-11-30T11:04:35Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20documentation",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "src/doc/en/installation/source.rst gives CRITICAL sphinx warnings",
    "type": "issue",
    "updated_at": "2022-12-14T22:11:48Z",
    "url": "https://github.com/sagemath/sage/issues/34813",
    "user": "https://github.com/dimpase"
}
```

```
[sagemath_doc_html-none] [installat] /Users/dima/software/sage/src/doc/en/installation/source.rst:455: CRITICAL: Title level inconsistent:
[sagemath_doc_html-none] [installat] Recommended programs
[sagemath_doc_html-none] [installat] ~~~~~~~~~~~~~~~~~~~~
[sagemath_doc_html-none] [installat] /Users/dima/software/sage/src/doc/en/installation/source.rst:508: CRITICAL: Title level inconsistent:
[sagemath_doc_html-none] [installat] Tcl/Tk
[sagemath_doc_html-none] [installat] ~~~~~~
[sagemath_doc_html-none] [installat] /Users/dima/software/sage/src/doc/en/installation/source.rst:548: CRITICAL: Title level inconsistent:
[sagemath_doc_html-none] [installat] General procedure
[sagemath_doc_html-none] [installat] ~~~~~~~~~~~~~~~~~
```

Note that `~~~~~...` is not even official Sphinx.


CC:  @jhpalmieri

Branch/Commit: **[`69ac8d4`](https://github.com/sagemath/sagetrac-mirror/commit/69ac8d4e67d3d1198967c2b11a4116b4504e09c9)**

Reviewer: **John Palmieri**

Author: **Dima Pasechnik**

Component: **documentation**

_Issue created by migration from https://trac.sagemath.org/ticket/34813_





---

archive/issue_events_470556.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-11-30T11:04:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34813#event-470556"
}
```



---

archive/issue_events_470557.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-11-30T11:04:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34813#event-470557"
}
```



---

archive/issue_events_470558.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-11-30T11:04:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34813#event-470558"
}
```



---

archive/issue_events_470559.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-11-30T11:04:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34813#event-470559"
}
```



---

archive/issue_comments_561243.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2022-12-07T23:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34813#issuecomment-561243",
    "user": "https://github.com/dimpase"
}
```

Author: **Dima Pasechnik**



---

archive/issue_comments_561244.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nreplaced ~~s with <sup>^</sup>s\nrst determines the subheading levels dynamically, if it sees\n\n```    \n    Foo\n    ---\n    \n    Bar\n    ^^^\n    \n    and then\n    \n    Baz\n    ---\n    \n    Oops\n    ~~~~\n```    \nit apparently can't figure out whether `Oops` heading should be bigger or smaller\nthan `Bar` heading. Thus the warning, fixed here.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69ac8d4e67d3d1198967c2b11a4116b4504e09c9\"><code>69ac8d4</code></a></td><td><code>replaced ~~s with <sup>^</sup>s</code></td></tr></table>\n",
    "created_at": "2022-12-07T23:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34813#issuecomment-561244",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:1" align="right">comment:1</div>

replaced ~~s with <sup>^</sup>s
rst determines the subheading levels dynamically, if it sees

```    
    Foo
    ---
    
    Bar
    ^^^
    
    and then
    
    Baz
    ---
    
    Oops
    ~~~~
```    
it apparently can't figure out whether `Oops` heading should be bigger or smaller
than `Bar` heading. Thus the warning, fixed here.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69ac8d4e67d3d1198967c2b11a4116b4504e09c9"><code>69ac8d4</code></a></td><td><code>replaced ~~s with <sup>^</sup>s</code></td></tr></table>




---

archive/issue_comments_561245.json:
```json
{
    "body": "Commit: **[`69ac8d4`](https://github.com/sagemath/sagetrac-mirror/commit/69ac8d4e67d3d1198967c2b11a4116b4504e09c9)**",
    "created_at": "2022-12-07T23:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34813#issuecomment-561245",
    "user": "https://github.com/dimpase"
}
```

Commit: **[`69ac8d4`](https://github.com/sagemath/sagetrac-mirror/commit/69ac8d4e67d3d1198967c2b11a4116b4504e09c9)**



---

archive/issue_comments_561246.json:
```json
{
    "body": "Branch: **[u/dimpase/docs/remove_tildas](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/docs/remove_tildas)**",
    "created_at": "2022-12-07T23:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34813#issuecomment-561246",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/docs/remove_tildas](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/docs/remove_tildas)**



---

archive/issue_events_470560.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-12-07T23:28:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34813#event-470560"
}
```



---

archive/issue_comments_561247.json:
```json
{
    "body": "Reviewer: **John Palmieri**",
    "created_at": "2022-12-07T23:56:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34813#issuecomment-561247",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **John Palmieri**



---

archive/issue_comments_561248.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nNot only does this give warnings, but it seems to omit printing the section titles completely, at least on my computer, and this fixes the problem. (The Sage website has those section titles.) It is also interesting that `~~~~~~` is used in other parts of the Sage documentation without any issues (`git grep '~~~~~~' src/doc` has lots of hits).",
    "created_at": "2022-12-07T23:56:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34813#issuecomment-561248",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:2" align="right">comment:2</div>

Not only does this give warnings, but it seems to omit printing the section titles completely, at least on my computer, and this fixes the problem. (The Sage website has those section titles.) It is also interesting that `~~~~~~` is used in other parts of the Sage documentation without any issues (`git grep '~~~~~~' src/doc` has lots of hits).



---

archive/issue_events_470561.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2022-12-07T23:56:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34813#event-470561"
}
```



---

archive/issue_events_470562.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2022-12-07T23:56:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34813#event-470562"
}
```



---

archive/issue_comments_561249.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nMaybe the other places just don't mix `~~~~` with `<sup>^</sup>^^` or other subsection markdown, and that's why they don't cause problems.",
    "created_at": "2022-12-08T00:05:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34813#issuecomment-561249",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:3" align="right">comment:3</div>

Maybe the other places just don't mix `~~~~` with `<sup>^</sup>^^` or other subsection markdown, and that's why they don't cause problems.



---

archive/issue_comments_561250.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [John Palmieri](#comment:3):\n> Maybe the other places just don't mix `~~~~` with `<sup>^</sup>^^` or other subsection markdown, and that's why they don't cause problems. \n\nit seems that sphinx does some kind of discovery to establish hierarchy of subheadings in the text, and while you can certainly use\n`~~~` and `<sup>^</sup>` and other such undertitles in the text, they should not contradict the hierarchy already established.\nAnd in the file we fix here these two were both used for the same level of subheadings, thus the warning.",
    "created_at": "2022-12-09T19:14:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34813#issuecomment-561250",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [John Palmieri](#comment:3):
> Maybe the other places just don't mix `~~~~` with `<sup>^</sup>^^` or other subsection markdown, and that's why they don't cause problems. 

it seems that sphinx does some kind of discovery to establish hierarchy of subheadings in the text, and while you can certainly use
`~~~` and `<sup>^</sup>` and other such undertitles in the text, they should not contradict the hierarchy already established.
And in the file we fix here these two were both used for the same level of subheadings, thus the warning.



---

archive/issue_comments_561251.json:
```json
{
    "body": "Changed branch from **[u/dimpase/docs/remove_tildas](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/docs/remove_tildas)** to **[`69ac8d4`](https://github.com/sagemath/sagetrac-mirror/commit/69ac8d4e67d3d1198967c2b11a4116b4504e09c9)**",
    "created_at": "2022-12-14T22:11:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34813#issuecomment-561251",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/docs/remove_tildas](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/docs/remove_tildas)** to **[`69ac8d4`](https://github.com/sagemath/sagetrac-mirror/commit/69ac8d4e67d3d1198967c2b11a4116b4504e09c9)**



---

archive/issue_events_470563.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-12-14T22:11:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34813#event-470563"
}
```



---

archive/issue_events_470564.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "eff11ab368fc6aea6d02a1967b89316e95d7740a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-12-14T22:11:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34813",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34813#event-470564"
}
```
