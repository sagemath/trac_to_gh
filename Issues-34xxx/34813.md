# Issue 34813: src/doc/en/installation/source.rst gives CRITICAL sphinx warnings

archive/issues_034576.json:
```json
{
    "body": "\n```\n[sagemath_doc_html-none] [installat] /Users/dima/software/sage/src/doc/en/installation/source.rst:455: CRITICAL: Title level inconsistent:\n[sagemath_doc_html-none] [installat] Recommended programs\n[sagemath_doc_html-none] [installat] ~~~~~~~~~~~~~~~~~~~~\n[sagemath_doc_html-none] [installat] /Users/dima/software/sage/src/doc/en/installation/source.rst:508: CRITICAL: Title level inconsistent:\n[sagemath_doc_html-none] [installat] Tcl/Tk\n[sagemath_doc_html-none] [installat] ~~~~~~\n[sagemath_doc_html-none] [installat] /Users/dima/software/sage/src/doc/en/installation/source.rst:548: CRITICAL: Title level inconsistent:\n[sagemath_doc_html-none] [installat] General procedure\n[sagemath_doc_html-none] [installat] ~~~~~~~~~~~~~~~~~\n```\n\nNote that `~~~~~...` is not even official Sphinx.\n\n\nCC:  @jhpalmieri\n\nBranch/Commit: 69ac8d4e67d3d1198967c2b11a4116b4504e09c9\n\nReviewer: John Palmieri\n\nAuthor: Dima Pasechnik\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/34813\n\n",
    "closed_at": "2022-12-14T22:11:48Z",
    "created_at": "2022-11-30T11:04:35Z",
    "labels": [
        "component: documentation",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "src/doc/en/installation/source.rst gives CRITICAL sphinx warnings",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34813",
    "user": "https://github.com/dimpase"
}
```

```
[sagemath_doc_html-none] [installat] /Users/dima/software/sage/src/doc/en/installation/source.rst:455: CRITICAL: Title level inconsistent:
[sagemath_doc_html-none] [installat] Recommended programs
[sagemath_doc_html-none] [installat] ~~~~~~~~~~~~~~~~~~~~
[sagemath_doc_html-none] [installat] /Users/dima/software/sage/src/doc/en/installation/source.rst:508: CRITICAL: Title level inconsistent:
[sagemath_doc_html-none] [installat] Tcl/Tk
[sagemath_doc_html-none] [installat] ~~~~~~
[sagemath_doc_html-none] [installat] /Users/dima/software/sage/src/doc/en/installation/source.rst:548: CRITICAL: Title level inconsistent:
[sagemath_doc_html-none] [installat] General procedure
[sagemath_doc_html-none] [installat] ~~~~~~~~~~~~~~~~~
```

Note that `~~~~~...` is not even official Sphinx.


CC:  @jhpalmieri

Branch/Commit: 69ac8d4e67d3d1198967c2b11a4116b4504e09c9

Reviewer: John Palmieri

Author: Dima Pasechnik

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/34813





---

archive/issue_comments_691908.json:
```json
{
    "body": "Changing author from \"\" to \"Dima Pasechnik\"",
    "created_at": "2022-12-07T23:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34813#issuecomment-691908",
    "user": "https://github.com/dimpase"
}
```

Changing author from "" to "Dima Pasechnik"



---

archive/issue_comments_691909.json:
```json
{
    "body": "<a id='comment:1'></a>replaced ~~s with <sup>^</sup>s\nrst determines the subheading levels dynamically, if it sees\n\n```    \n    Foo\n    ---\n    \n    Bar\n    ^^^\n    \n    and then\n    \n    Baz\n    ---\n    \n    Oops\n    ~~~~\n```    \nit apparently can't figure out whether `Oops` heading should be bigger or smaller\nthan `Bar` heading. Thus the warning, fixed here.\n\n---\nNew commits:",
    "created_at": "2022-12-07T23:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34813#issuecomment-691909",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>replaced ~~s with <sup>^</sup>s
rst determines the subheading levels dynamically, if it sees

```    
    Foo
    ---
    
    Bar
    ^^^
    
    and then
    
    Baz
    ---
    
    Oops
    ~~~~
```    
it apparently can't figure out whether `Oops` heading should be bigger or smaller
than `Bar` heading. Thus the warning, fixed here.

---
New commits:



---

archive/issue_comments_691910.json:
```json
{
    "body": "Changing commit from \"\" to \"69ac8d4e67d3d1198967c2b11a4116b4504e09c9\"",
    "created_at": "2022-12-07T23:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34813#issuecomment-691910",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "" to "69ac8d4e67d3d1198967c2b11a4116b4504e09c9"



---

archive/issue_comments_691911.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dimpase/docs/remove_tildas\"",
    "created_at": "2022-12-07T23:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34813#issuecomment-691911",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "" to "u/dimpase/docs/remove_tildas"



---

archive/issue_comments_691912.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-12-07T23:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34813#issuecomment-691912",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_691913.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Palmieri\"",
    "created_at": "2022-12-07T23:56:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34813#issuecomment-691913",
    "user": "https://github.com/jhpalmieri"
}
```

Changing reviewer from "" to "John Palmieri"



---

archive/issue_comments_691914.json:
```json
{
    "body": "<a id='comment:2'></a>Not only does this give warnings, but it seems to omit printing the section titles completely, at least on my computer, and this fixes the problem. (The Sage website has those section titles.) It is also interesting that `~~~~~~` is used in other parts of the Sage documentation without any issues (`git grep '~~~~~~' src/doc` has lots of hits).",
    "created_at": "2022-12-07T23:56:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34813#issuecomment-691914",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>Not only does this give warnings, but it seems to omit printing the section titles completely, at least on my computer, and this fixes the problem. (The Sage website has those section titles.) It is also interesting that `~~~~~~` is used in other parts of the Sage documentation without any issues (`git grep '~~~~~~' src/doc` has lots of hits).



---

archive/issue_comments_691915.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-12-07T23:56:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34813#issuecomment-691915",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_691916.json:
```json
{
    "body": "<a id='comment:3'></a>Maybe the other places just don't mix `~~~~` with `<sup>^</sup>^^` or other subsection markdown, and that's why they don't cause problems.",
    "created_at": "2022-12-08T00:05:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34813#issuecomment-691916",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'></a>Maybe the other places just don't mix `~~~~` with `<sup>^</sup>^^` or other subsection markdown, and that's why they don't cause problems.



---

archive/issue_comments_691917.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [John Palmieri](#comment%3A3):\n> Maybe the other places just don't mix `~~~~` with `<sup>^</sup>^^` or other subsection markdown, and that's why they don't cause problems. \n\n\nit seems that sphinx does some kind of discovery to establish hierarchy of subheadings in the text, and while you can certainly use\n`~~~` and `<sup>^</sup>` and other such undertitles in the text, they should not contradict the hierarchy already established.\nAnd in the file we fix here these two were both used for the same level of subheadings, thus the warning.",
    "created_at": "2022-12-09T19:14:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34813#issuecomment-691917",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>Replying to [John Palmieri](#comment%3A3):
> Maybe the other places just don't mix `~~~~` with `<sup>^</sup>^^` or other subsection markdown, and that's why they don't cause problems. 


it seems that sphinx does some kind of discovery to establish hierarchy of subheadings in the text, and while you can certainly use
`~~~` and `<sup>^</sup>` and other such undertitles in the text, they should not contradict the hierarchy already established.
And in the file we fix here these two were both used for the same level of subheadings, thus the warning.



---

archive/issue_comments_691918.json:
```json
{
    "body": "Changing branch from \"u/dimpase/docs/remove_tildas\" to \"69ac8d4e67d3d1198967c2b11a4116b4504e09c9\"",
    "created_at": "2022-12-14T22:11:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34813#issuecomment-691918",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dimpase/docs/remove_tildas" to "69ac8d4e67d3d1198967c2b11a4116b4504e09c9"



---

archive/issue_comments_691919.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-12-14T22:11:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34813#issuecomment-691919",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_089826.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-12-14T22:11:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34813",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34813#event-89826"
}
```
