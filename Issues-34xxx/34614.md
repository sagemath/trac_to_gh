# Issue 34614: add missing EllipticCurveHom methods to √élu isogenies

archive/issues_034377.json:
```json
{
    "body": "The `EllipticCurveHom_velusqrt` class introduced in #34303 inherits from `EllipticCurveHom` (#32388, #32502), but it doesn't yet implement all of the required methods. In this patch, we add them.\n\nDiff without the dependency: https://git.sagemath.org/sage.git/diff?id2=7326051742a0d16d0810121739a05573ace6fb82&id=8cb0f29aa2cd5be18506e1d65eac954481d1ec8a\n\nCC:  @defeo @JohnCremona @tscrim @kwankyu\n\nBranch/Commit: 8cb0f29aa2cd5be18506e1d65eac954481d1ec8a\n\nReviewer: Travis Scrimshaw, Kwankyu Lee\n\nAuthor: Lorenz Panny\n\nDependencies: #34410\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/34614\n\n",
    "closed_at": "2022-10-16T22:15:44Z",
    "created_at": "2022-09-29T17:33:06Z",
    "labels": [
        "component: elliptic curves"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "add missing EllipticCurveHom methods to \u221a\u00e9lu isogenies",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34614",
    "user": "https://github.com/yyyyx4"
}
```
The `EllipticCurveHom_velusqrt` class introduced in #34303 inherits from `EllipticCurveHom` (#32388, #32502), but it doesn't yet implement all of the required methods. In this patch, we add them.

Diff without the dependency: https://git.sagemath.org/sage.git/diff?id2=7326051742a0d16d0810121739a05573ace6fb82&id=8cb0f29aa2cd5be18506e1d65eac954481d1ec8a

CC:  @defeo @JohnCremona @tscrim @kwankyu

Branch/Commit: 8cb0f29aa2cd5be18506e1d65eac954481d1ec8a

Reviewer: Travis Scrimshaw, Kwankyu Lee

Author: Lorenz Panny

Dependencies: #34410

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/34614





---

archive/issue_comments_520562.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-09-30T07:40:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520562",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_520563.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-09-30T07:42:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520563",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_520564.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-09-30T09:19:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520564",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_520565.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n The `EllipticCurveHom_velusqrt` class introduced in #34303 inherits from `EllipticCurveHom` (#32388, #32502), but it doesn't yet implement all of the required methods.\n+\n+Diff without the dependency: https://git.sagemath.org/sage.git/diff?id2=7326051742a0d16d0810121739a05573ace6fb82&id=c6bbbc38d92468035a2d3d0bab9842a4defca7d4\n \n Author: Lorenz Panny\n \n``````\n",
    "created_at": "2022-09-30T09:20:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520565",
    "user": "https://github.com/yyyyx4"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 The `EllipticCurveHom_velusqrt` class introduced in #34303 inherits from `EllipticCurveHom` (#32388, #32502), but it doesn't yet implement all of the required methods.
+
+Diff without the dependency: https://git.sagemath.org/sage.git/diff?id2=7326051742a0d16d0810121739a05573ace6fb82&id=c6bbbc38d92468035a2d3d0bab9842a4defca7d4
 
 Author: Lorenz Panny
 
``````




---

archive/issue_comments_520566.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+The `EllipticCurveHom_velusqrt` class introduced in #34303 inherits from `EllipticCurveHom` (#32388, #32502), but it doesn't yet implement all of the required methods. In this patch, we add them.\n \n+Diff without the dependency: https://git.sagemath.org/sage.git/diff?id2=7326051742a0d16d0810121739a05573ace6fb82&id=c6bbbc38d92468035a2d3d0bab9842a4defca7d4\n \n Author: Lorenz Panny\n \n``````\n",
    "created_at": "2022-09-30T09:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520566",
    "user": "https://github.com/yyyyx4"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+The `EllipticCurveHom_velusqrt` class introduced in #34303 inherits from `EllipticCurveHom` (#32388, #32502), but it doesn't yet implement all of the required methods. In this patch, we add them.
 
+Diff without the dependency: https://git.sagemath.org/sage.git/diff?id2=7326051742a0d16d0810121739a05573ace6fb82&id=c6bbbc38d92468035a2d3d0bab9842a4defca7d4
 
 Author: Lorenz Panny
 
``````




---

archive/issue_comments_520567.json:
```json
{
    "body": "<a id='comment:6'></a>Code wise, basically looks good (although I would like the long doctest output lines broken up a little bit). Could someone check the math?",
    "created_at": "2022-10-01T14:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520567",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>Code wise, basically looks good (although I would like the long doctest output lines broken up a little bit). Could someone check the math?



---

archive/issue_comments_520568.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-07T06:03:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520568",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_520569.json:
```json
{
    "body": "<a id='comment:8'></a>I made minor edits. \n\nI took this opportunity to move the method `as_morphism()` to the class `EllipticCurveHom` so that it works with \u221a\u00e9lu isogenies. The method may be useful to check elliptic curve morphisms, though it is reasonably fast only for small examples.\n\nOne remark: There are notes like \n\n```\n    def rational_maps(self):\n        r\"\"\"\n        Return the pair of explicit rational maps of this \u221a\u00e9lu isogeny\n        as fractions of bivariate polynomials in `x` and `y`.\n\n        .. NOTE::\n\n            The data returned by this method has size linear in the degree.\n\n        EXAMPLES::  \n```   \nThe meaning of the note is obscure to me. How is the size of the data measured? If the data is a polynomial, then it may mean \"the degree of the returned polynomial is linear in the degree of the isogeny\". In this case, the data is two rational functions. You need to be explicit about what is the \"size\" of rational functions. I suggest that you rewrite the notes or remove them (as they are, the notes are not so useful).",
    "created_at": "2022-10-07T06:28:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520569",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:8'></a>I made minor edits. 

I took this opportunity to move the method `as_morphism()` to the class `EllipticCurveHom` so that it works with √élu isogenies. The method may be useful to check elliptic curve morphisms, though it is reasonably fast only for small examples.

One remark: There are notes like 

```
    def rational_maps(self):
        r"""
        Return the pair of explicit rational maps of this √élu isogeny
        as fractions of bivariate polynomials in `x` and `y`.

        .. NOTE::

            The data returned by this method has size linear in the degree.

        EXAMPLES::  
```   
The meaning of the note is obscure to me. How is the size of the data measured? If the data is a polynomial, then it may mean "the degree of the returned polynomial is linear in the degree of the isogeny". In this case, the data is two rational functions. You need to be explicit about what is the "size" of rational functions. I suggest that you rewrite the notes or remove them (as they are, the notes are not so useful).



---

archive/issue_comments_520570.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 Kwankyu Lee]:\n> How is the size of the data measured?\n\n\nIt's literally the size of the object, as in \"bytes of memory it takes to store\".\n\nThe purpose of these remarks is to point out that merely writing down the result of calling these methods already requires time `\u03a9(\u2113)`, which means the \u221a\u00e9lu speedup (complexity `O\u0303(\u221a\u2113)`) cannot apply to them. Perhaps that point should be made clearer.",
    "created_at": "2022-10-07T07:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520570",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:9'></a>Replying to [comment:8 Kwankyu Lee]:
> How is the size of the data measured?


It's literally the size of the object, as in "bytes of memory it takes to store".

The purpose of these remarks is to point out that merely writing down the result of calling these methods already requires time `Ω(ℓ)`, which means the √élu speedup (complexity `Õ(√ℓ)`) cannot apply to them. Perhaps that point should be made clearer.



---

archive/issue_comments_520571.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:9 Lorenz Panny]:\n> Replying to [comment:8 Kwankyu Lee]:\n> > How is the size of the data measured?\n\n> \n> It's literally the size of the object, as in \"bytes of memory it takes to store\".\n\n\nOkay.\n\n> The purpose of these remarks is to point out that merely writing down the result of calling these methods already requires time `\u03a9(\u2113)`, which means the \u221a\u00e9lu speedup (complexity `O\u0303(\u221a\u2113)`) cannot apply to them. Perhaps that point should be made clearer.\n\n\nI now see what you mean by the note. Then if you want to keep those notes, I suggest that you write this explanation (implication) for these notes, once and for all, at the head of the file `hom_velusqrt.py`. Non-experts need the explanation.\n\nOtherwise I am positive to the branch.",
    "created_at": "2022-10-07T08:59:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520571",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:10'></a>Replying to [comment:9 Lorenz Panny]:
> Replying to [comment:8 Kwankyu Lee]:
> > How is the size of the data measured?

> 
> It's literally the size of the object, as in "bytes of memory it takes to store".


Okay.

> The purpose of these remarks is to point out that merely writing down the result of calling these methods already requires time `Ω(ℓ)`, which means the √élu speedup (complexity `Õ(√ℓ)`) cannot apply to them. Perhaps that point should be made clearer.


I now see what you mean by the note. Then if you want to keep those notes, I suggest that you write this explanation (implication) for these notes, once and for all, at the head of the file `hom_velusqrt.py`. Non-experts need the explanation.

Otherwise I am positive to the branch.



---

archive/issue_comments_520572.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-07T10:32:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520572",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_520573.json:
```json
{
    "body": "<a id='comment:13'></a>Thanks! I added a note about it as you suggested.",
    "created_at": "2022-10-07T10:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520573",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:13'></a>Thanks! I added a note about it as you suggested.



---

archive/issue_comments_520574.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-10-07T13:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520574",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_520575.json:
```json
{
    "body": "<a id='comment:14'></a>Thank you!",
    "created_at": "2022-10-07T13:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520575",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:14'></a>Thank you!



---

archive/issue_comments_520576.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+The `EllipticCurveHom_velusqrt` class introduced in #34303 inherits from `EllipticCurveHom` (#32388, #32502), but it doesn't yet implement all of the required methods. In this patch, we add them.\n \n+Diff without the dependency: https://git.sagemath.org/sage.git/diff?id2=7326051742a0d16d0810121739a05573ace6fb82&id=8cb0f29aa2cd5be18506e1d65eac954481d1ec8a\n \n Author: Lorenz Panny\n \n``````\n",
    "created_at": "2022-10-07T14:33:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520576",
    "user": "https://github.com/yyyyx4"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+The `EllipticCurveHom_velusqrt` class introduced in #34303 inherits from `EllipticCurveHom` (#32388, #32502), but it doesn't yet implement all of the required methods. In this patch, we add them.
 
+Diff without the dependency: https://git.sagemath.org/sage.git/diff?id2=7326051742a0d16d0810121739a05573ace6fb82&id=8cb0f29aa2cd5be18506e1d65eac954481d1ec8a
 
 Author: Lorenz Panny
 
``````




---

archive/issue_comments_520577.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-10-16T22:15:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34614#issuecomment-520577",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_089686.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-10-16T22:15:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34614",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34614#event-89686"
}
```
