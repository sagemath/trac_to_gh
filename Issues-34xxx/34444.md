# Issue 34444: Implement Groebner cover

archive/issues_034207.json:
```json
{
    "body": "Singular can compute the groebner cover of an ideal of a polynomial ring with coefficients. This implements an interface to that functionality.\n\n\n\n\nCC:  artal @tscrim\n\nBranch/Commit: 7d0372b65e1f7e3c99d7baaee307f1e024a5a3a6\n\nReviewer: Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Miguel Marco\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/34444\n\n",
    "closed_at": "2022-12-14T22:12:28Z",
    "created_at": "2022-08-26T19:25:59Z",
    "labels": [
        "component: commutative algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Implement Groebner cover",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34444",
    "user": "https://github.com/miguelmarco"
}
```
Singular can compute the groebner cover of an ideal of a polynomial ring with coefficients. This implements an interface to that functionality.




CC:  artal @tscrim

Branch/Commit: 7d0372b65e1f7e3c99d7baaee307f1e024a5a3a6

Reviewer: Travis Scrimshaw, Frédéric Chapoton

Author: Miguel Marco

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/34444





---

archive/issue_comments_686089.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mmarco/groebner_cover\"",
    "created_at": "2022-08-26T19:31:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686089",
    "user": "https://github.com/miguelmarco"
}
```

Changing branch from "" to "u/mmarco/groebner_cover"



---

archive/issue_comments_686090.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2022-08-26T19:32:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686090",
    "user": "https://github.com/miguelmarco"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_686091.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-26T19:32:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686091",
    "user": "https://github.com/miguelmarco"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_686092.json:
```json
{
    "body": "Changing commit from \"\" to \"12be2d94c86c7a1df29ecf2caa9bce650c1974e4\"",
    "created_at": "2022-08-26T19:32:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686092",
    "user": "https://github.com/miguelmarco"
}
```

Changing commit from "" to "12be2d94c86c7a1df29ecf2caa9bce650c1974e4"



---

archive/issue_comments_686093.json:
```json
{
    "body": "<a id='comment:3'></a>Did you commit before pushing?",
    "created_at": "2022-08-26T21:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686093",
    "user": "https://github.com/slel"
}
```

<a id='comment:3'></a>Did you commit before pushing?



---

archive/issue_comments_686094.json:
```json
{
    "body": "Changing commit from \"12be2d94c86c7a1df29ecf2caa9bce650c1974e4\" to \"32c29c9232e990f9a94d81a72b37b262849df26d\"",
    "created_at": "2022-08-27T11:50:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686094",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "12be2d94c86c7a1df29ecf2caa9bce650c1974e4" to "32c29c9232e990f9a94d81a72b37b262849df26d"



---

archive/issue_comments_686095.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-27T11:50:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686095",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_686096.json:
```json
{
    "body": "<a id='comment:5'></a>No, I didn't. Sorry",
    "created_at": "2022-08-27T11:50:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686096",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:5'></a>No, I didn't. Sorry



---

archive/issue_comments_686097.json:
```json
{
    "body": "<a id='comment:6'></a>I don't really understand the docstring of `_groebner_cover()`. It might be a little too concise and could benefit from some explicit names.\n\nAlso, you are inconsistent with your capitalization; you can use `Gr\u00f6bner` there and in `groebner_cover()`. We generally follow \"formal\" writing rules and avoid contractions `don't` -> `do not`.\n\n```diff\n             sage: I = R.ideal([-x+3*y+z-5,2*x+a*z+4,4*x-3*z-a-1])\n             sage: I._groebner_cover()\n             [[[z, y, x],\n-            [(2*a + 3)*z + (a + 9), (12*a + 18)*y + (-a^2 - 23*a - 36), (4*a + 6)*x + (-a^2 - a + 12)],\n-            [[[0], [[(2*a + 3)]]]]],\n-            [[1], [1], [[[(2*a + 3)], [[1]]]]]]\n-\n+             [(2*a + 3)*z + (a + 9), (12*a + 18)*y + (-a^2 - 23*a - 36), (4*a + 6)*x + (-a^2 - a + 12)],\n+             [[[0], [[(2*a + 3)]]]]],\n+             [[1], [1], [[[(2*a + 3)], [[1]]]]]]\n         \"\"\"\n         from sage.rings.fraction_field import FractionField_generic\n         F = self.base_ring()\n-        if not isinstance(F, FractionField_generic):\n-            raise TypeError(\"The base ring must be a field with parameters\")\n         from sage.rings.polynomial.multi_polynomial_ring_base import is_MPolynomialRing\n         from sage.rings.polynomial.polynomial_ring import is_PolynomialRing\n-        if not is_MPolynomialRing(F.ring()) and not is_PolynomialRing (F.ring()):\n-            raise TypeError(\"The base ring must be a field with parameters\")\n+        if (not isinstance(F, FractionField_generic) or\n+            not is_MPolynomialRing(F.ring()) and not is_PolynomialRing (F.ring())):\n+            raise TypeError(\"the base ring must be a field with parameters\")\n```\n(note also the capitalization as we follow Python's error message conventions).\n\n```diff\n              and Y is defined by:\n                1: [1]}\n-\n-\n         \"\"\"\n-        gc= self._groebner_cover()\n+        gc = self._groebner_cover()\n```\nI would also store `F.ring()` in a variable in `groebner_cover()`.",
    "created_at": "2022-08-29T01:31:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686097",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>I don't really understand the docstring of `_groebner_cover()`. It might be a little too concise and could benefit from some explicit names.

Also, you are inconsistent with your capitalization; you can use `Gröbner` there and in `groebner_cover()`. We generally follow "formal" writing rules and avoid contractions `don't` -> `do not`.

```diff
             sage: I = R.ideal([-x+3*y+z-5,2*x+a*z+4,4*x-3*z-a-1])
             sage: I._groebner_cover()
             [[[z, y, x],
-            [(2*a + 3)*z + (a + 9), (12*a + 18)*y + (-a^2 - 23*a - 36), (4*a + 6)*x + (-a^2 - a + 12)],
-            [[[0], [[(2*a + 3)]]]]],
-            [[1], [1], [[[(2*a + 3)], [[1]]]]]]
-
+             [(2*a + 3)*z + (a + 9), (12*a + 18)*y + (-a^2 - 23*a - 36), (4*a + 6)*x + (-a^2 - a + 12)],
+             [[[0], [[(2*a + 3)]]]]],
+             [[1], [1], [[[(2*a + 3)], [[1]]]]]]
         """
         from sage.rings.fraction_field import FractionField_generic
         F = self.base_ring()
-        if not isinstance(F, FractionField_generic):
-            raise TypeError("The base ring must be a field with parameters")
         from sage.rings.polynomial.multi_polynomial_ring_base import is_MPolynomialRing
         from sage.rings.polynomial.polynomial_ring import is_PolynomialRing
-        if not is_MPolynomialRing(F.ring()) and not is_PolynomialRing (F.ring()):
-            raise TypeError("The base ring must be a field with parameters")
+        if (not isinstance(F, FractionField_generic) or
+            not is_MPolynomialRing(F.ring()) and not is_PolynomialRing (F.ring())):
+            raise TypeError("the base ring must be a field with parameters")
```
(note also the capitalization as we follow Python's error message conventions).

```diff
              and Y is defined by:
                1: [1]}
-
-
         """
-        gc= self._groebner_cover()
+        gc = self._groebner_cover()
```
I would also store `F.ring()` in a variable in `groebner_cover()`.



---

archive/issue_comments_686098.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-31T15:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686098",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_686099.json:
```json
{
    "body": "Changing commit from \"32c29c9232e990f9a94d81a72b37b262849df26d\" to \"1b3695a1ea128e77b7a6404dd6afa6252a3ae1e4\"",
    "created_at": "2022-08-31T15:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "32c29c9232e990f9a94d81a72b37b262849df26d" to "1b3695a1ea128e77b7a6404dd6afa6252a3ae1e4"



---

archive/issue_events_089527.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34444#event-89527"
}
```



---

archive/issue_comments_686100.json:
```json
{
    "body": "<a id='comment:9'></a>typo \"parmeters\"\n\nand \"Each component is has two lists of equations.\"",
    "created_at": "2022-09-28T12:45:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686100",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>typo "parmeters"

and "Each component is has two lists of equations."



---

archive/issue_comments_686101.json:
```json
{
    "body": "<a id='comment:10'></a>I made a branch with my reviewer's changes.\n\n---\nNew commits:",
    "created_at": "2022-12-09T20:21:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686101",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>I made a branch with my reviewer's changes.

---
New commits:



---

archive/issue_comments_686102.json:
```json
{
    "body": "Changing branch from \"u/mmarco/groebner_cover\" to \"u/chapoton/groebner_cover\"",
    "created_at": "2022-12-09T20:21:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686102",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "u/mmarco/groebner_cover" to "u/chapoton/groebner_cover"



---

archive/issue_comments_686103.json:
```json
{
    "body": "Changing commit from \"1b3695a1ea128e77b7a6404dd6afa6252a3ae1e4\" to \"7d0372b65e1f7e3c99d7baaee307f1e024a5a3a6\"",
    "created_at": "2022-12-09T20:21:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686103",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "1b3695a1ea128e77b7a6404dd6afa6252a3ae1e4" to "7d0372b65e1f7e3c99d7baaee307f1e024a5a3a6"



---

archive/issue_comments_686104.json:
```json
{
    "body": "<a id='comment:11'></a>Your reviewer changes LGTM.",
    "created_at": "2022-12-10T03:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686104",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>Your reviewer changes LGTM.



---

archive/issue_comments_686105.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2022-12-10T03:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686105",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw, Frédéric Chapoton"



---

archive/issue_comments_686106.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-12-10T03:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686106",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_686107.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-12-14T22:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686107",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_089528.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-12-14T22:12:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34444#event-89528"
}
```



---

archive/issue_comments_686108.json:
```json
{
    "body": "Changing branch from \"u/chapoton/groebner_cover\" to \"7d0372b65e1f7e3c99d7baaee307f1e024a5a3a6\"",
    "created_at": "2022-12-14T22:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-686108",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/groebner_cover" to "7d0372b65e1f7e3c99d7baaee307f1e024a5a3a6"
