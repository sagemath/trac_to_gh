# Issue 34393: add method "tensor_factors" to tensor products

archive/issues_034156.json:
```json
{
    "assignees": [],
    "body": "so that one can easily access them\n\nCC:  @tscrim\n\nComponent: **categories**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nBranch: **[`b81dbf0`](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)**\n\nReviewer: **Matthias Koeppe, Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34393_\n\n",
    "closed_at": "2022-09-22T22:35:31Z",
    "created_at": "2022-08-20T10:05:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20categories",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "add method \"tensor_factors\" to tensor products",
    "type": "issue",
    "updated_at": "2022-10-02T19:08:45Z",
    "url": "https://github.com/sagemath/sage/issues/34393",
    "user": "https://github.com/fchapoton"
}
```
so that one can easily access them

CC:  @tscrim

Component: **categories**

Author: **Frédéric Chapoton**

Branch: **[`b81dbf0`](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)**

Reviewer: **Matthias Koeppe, Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/34393_





---

archive/issue_events_466548.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-08-20T10:05:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466548"
}
```



---

archive/issue_events_466549.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-08-20T10:05:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20categories",
    "label_color": "0000ff",
    "label_name": "c: categories",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466549"
}
```



---

archive/issue_events_466550.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-08-20T10:05:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466550"
}
```



---

archive/issue_events_466551.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-08-20T10:05:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466551"
}
```



---

archive/issue_events_466552.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-08-20T10:06:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466552"
}
```



---

archive/issue_comments_555559.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nmeeting an unexpected issue with Schur algebras.. to be investigated",
    "created_at": "2022-08-20T15:11:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555559",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:2" align="right">comment:2</div>

meeting an unexpected issue with Schur algebras.. to be investigated



---

archive/issue_comments_555560.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n\n```\n+            def construction(self):\n...\n+                return [tensor, *self._reduction[1]]\n```\n\nThis can't possibly be correct code to be included in the category. `_reduction` is set by `UniqueRepresentation`, so it's under control of implementation classes, not the category",
    "created_at": "2022-08-20T15:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555560",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>


```
+            def construction(self):
...
+                return [tensor, *self._reduction[1]]
```

This can't possibly be correct code to be included in the category. `_reduction` is set by `UniqueRepresentation`, so it's under control of implementation classes, not the category



---

archive/issue_comments_555561.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@mkoeppe](#comment%3A3):\n> \n> ```\n> +            def construction(self):\n> ...\n> +                return [tensor, *self._reduction[1]]\n> ```\n> \n> This can't possibly be correct code to be included in the category. `_reduction` is set by `UniqueRepresentation`, so it's under control of implementation classes, not the category\n\nok, right. Any better idea ? My final aim would be to have tensor products of morphisms..",
    "created_at": "2022-08-21T07:04:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555561",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@mkoeppe](#comment%3A3):
> 
> ```
> +            def construction(self):
> ...
> +                return [tensor, *self._reduction[1]]
> ```
> 
> This can't possibly be correct code to be included in the category. `_reduction` is set by `UniqueRepresentation`, so it's under control of implementation classes, not the category

ok, right. Any better idea ? My final aim would be to have tensor products of morphisms..



---

archive/issue_comments_555562.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nNo better idea than having `CombinatorialFreeModule_Tensor.__init__` (or other implementation classes) save the info that you need",
    "created_at": "2022-08-21T07:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555562",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

No better idea than having `CombinatorialFreeModule_Tensor.__init__` (or other implementation classes) save the info that you need



---

archive/issue_comments_555563.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f8adea80927dea4d8d8ffcd08e849fbf5862453\"><code>4f8adea</code></a></td><td><code>another try</code></td></tr></table>\n",
    "created_at": "2022-08-21T15:30:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555563",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f8adea80927dea4d8d8ffcd08e849fbf5862453"><code>4f8adea</code></a></td><td><code>another try</code></td></tr></table>




---

archive/issue_comments_555564.json:
```json
{
    "body": "Changed commit from **[`7fc6333`](https://github.com/sagemath/sagetrac-mirror/commit/7fc6333755232672a42e3d0e719c2f75671db73c)** to **[`4f8adea`](https://github.com/sagemath/sagetrac-mirror/commit/4f8adea80927dea4d8d8ffcd08e849fbf5862453)**",
    "created_at": "2022-08-21T15:30:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555564",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7fc6333`](https://github.com/sagemath/sagetrac-mirror/commit/7fc6333755232672a42e3d0e719c2f75671db73c)** to **[`4f8adea`](https://github.com/sagemath/sagetrac-mirror/commit/4f8adea80927dea4d8d8ffcd08e849fbf5862453)**



---

archive/issue_comments_555565.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThe information seems to be stored in `_sets`. Let us try.",
    "created_at": "2022-08-21T15:31:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555565",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

The information seems to be stored in `_sets`. Let us try.



---

archive/issue_comments_555566.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThat's an implementation detail, so I think the method `components` should be `@abstract_method(optional=True)` in the category, and the implementation should go to `CombinatorialFreeModule_Tensor`",
    "created_at": "2022-08-21T16:13:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555566",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

That's an implementation detail, so I think the method `components` should be `@abstract_method(optional=True)` in the category, and the implementation should go to `CombinatorialFreeModule_Tensor`



---

archive/issue_comments_555567.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAlso the method name is not specific enough. How about `tensor_factors` (this mirrors `cartesian_factors`, which is already in use?",
    "created_at": "2022-08-21T16:14:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555567",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Also the method name is not specific enough. How about `tensor_factors` (this mirrors `cartesian_factors`, which is already in use?



---

archive/issue_comments_555568.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAnd this can be moved to a larger category - at least to `FreeModules`, where it would apply to `sage.tensor.modules.tensor_free_module.TensorFreeModule`",
    "created_at": "2022-08-21T16:18:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555568",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

And this can be moved to a larger category - at least to `FreeModules`, where it would apply to `sage.tensor.modules.tensor_free_module.TensorFreeModule`



---

archive/issue_comments_555569.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dae2fb57cb0860b3a1741b7038e4a22420286ae8\"><code>dae2fb5</code></a></td><td><code>change \"components\" to \"tensor_factors\"</code></td></tr></table>\n",
    "created_at": "2022-08-21T16:35:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555569",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dae2fb57cb0860b3a1741b7038e4a22420286ae8"><code>dae2fb5</code></a></td><td><code>change "components" to "tensor_factors"</code></td></tr></table>




---

archive/issue_comments_555570.json:
```json
{
    "body": "Changed commit from **[`4f8adea`](https://github.com/sagemath/sagetrac-mirror/commit/4f8adea80927dea4d8d8ffcd08e849fbf5862453)** to **[`dae2fb5`](https://github.com/sagemath/sagetrac-mirror/commit/dae2fb57cb0860b3a1741b7038e4a22420286ae8)**",
    "created_at": "2022-08-21T16:35:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555570",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4f8adea`](https://github.com/sagemath/sagetrac-mirror/commit/4f8adea80927dea4d8d8ffcd08e849fbf5862453)** to **[`dae2fb5`](https://github.com/sagemath/sagetrac-mirror/commit/dae2fb57cb0860b3a1741b7038e4a22420286ae8)**



---

archive/issue_comments_555571.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@mkoeppe](#comment%3A10):\n> And this can be moved to a larger category - at least to `FreeModules`, where it would apply to `sage.tensor.modules.tensor_free_module.TensorFreeModule`\n\nMake that `Modules`. (The category `FreeModules` only exists on my wishlist - #30164 - not in code.)",
    "created_at": "2022-08-21T17:05:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555571",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@mkoeppe](#comment%3A10):
> And this can be moved to a larger category - at least to `FreeModules`, where it would apply to `sage.tensor.modules.tensor_free_module.TensorFreeModule`

Make that `Modules`. (The category `FreeModules` only exists on my wishlist - #30164 - not in code.)



---

archive/issue_events_466553.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-08-21T17:46:05Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "title_is": "add method \"tensor_factors\" to tensor products",
    "title_was": "add method \"components\" to tensor products",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466553"
}
```



---

archive/issue_comments_555572.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/638ba6145df274572dfd065bdd52d7ecc4f3e81a\"><code>638ba61</code></a></td><td><code>add tensor_factors method to tensor products</code></td></tr></table>\n",
    "created_at": "2022-08-21T17:53:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555572",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/638ba6145df274572dfd065bdd52d7ecc4f3e81a"><code>638ba61</code></a></td><td><code>add tensor_factors method to tensor products</code></td></tr></table>




---

archive/issue_comments_555573.json:
```json
{
    "body": "Changed commit from **[`dae2fb5`](https://github.com/sagemath/sagetrac-mirror/commit/dae2fb57cb0860b3a1741b7038e4a22420286ae8)** to **[`638ba61`](https://github.com/sagemath/sagetrac-mirror/commit/638ba6145df274572dfd065bdd52d7ecc4f3e81a)**",
    "created_at": "2022-08-21T17:53:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555573",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dae2fb5`](https://github.com/sagemath/sagetrac-mirror/commit/dae2fb57cb0860b3a1741b7038e4a22420286ae8)** to **[`638ba61`](https://github.com/sagemath/sagetrac-mirror/commit/638ba6145df274572dfd065bdd52d7ecc4f3e81a)**



---

archive/issue_comments_555574.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4c8b90fddd0e9aaabe99d3062b182b191700eb9\"><code>d4c8b90</code></a></td><td><code>add tensor_factors method to tensor products</code></td></tr></table>\n",
    "created_at": "2022-08-21T18:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555574",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4c8b90fddd0e9aaabe99d3062b182b191700eb9"><code>d4c8b90</code></a></td><td><code>add tensor_factors method to tensor products</code></td></tr></table>




---

archive/issue_comments_555575.json:
```json
{
    "body": "Changed commit from **[`638ba61`](https://github.com/sagemath/sagetrac-mirror/commit/638ba6145df274572dfd065bdd52d7ecc4f3e81a)** to **[`d4c8b90`](https://github.com/sagemath/sagetrac-mirror/commit/d4c8b90fddd0e9aaabe99d3062b182b191700eb9)**",
    "created_at": "2022-08-21T18:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555575",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`638ba61`](https://github.com/sagemath/sagetrac-mirror/commit/638ba6145df274572dfd065bdd52d7ecc4f3e81a)** to **[`d4c8b90`](https://github.com/sagemath/sagetrac-mirror/commit/d4c8b90fddd0e9aaabe99d3062b182b191700eb9)**



---

archive/issue_comments_555576.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@mkoeppe](#comment%3A8):\n> That's an implementation detail, so I think the method `components` should be `@abstract_method(optional=True)` in the category, and the implementation should go to `CombinatorialFreeModule_Tensor`\n\nI would actually go one step further and make it explicitly an `@abstract_method` like `Sets().CartesianProducts()` does with `cartesian_factors()`. Then you could implement\n\n```python\ndef construction(self):\n   return (TensorProductFunctor(self.category()), self.tensor_factors())\n```\nagain following `Sets().CartesianProducts()`.",
    "created_at": "2022-08-22T00:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555576",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@mkoeppe](#comment%3A8):
> That's an implementation detail, so I think the method `components` should be `@abstract_method(optional=True)` in the category, and the implementation should go to `CombinatorialFreeModule_Tensor`

I would actually go one step further and make it explicitly an `@abstract_method` like `Sets().CartesianProducts()` does with `cartesian_factors()`. Then you could implement

```python
def construction(self):
   return (TensorProductFunctor(self.category()), self.tensor_factors())
```
again following `Sets().CartesianProducts()`.



---

archive/issue_comments_555577.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0972e6183fbe3396f41dc7fba641e579bd3a30e\"><code>d0972e6</code></a></td><td><code>trying to use the suggestions about tensor construction</code></td></tr></table>\n",
    "created_at": "2022-08-22T06:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555577",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0972e6183fbe3396f41dc7fba641e579bd3a30e"><code>d0972e6</code></a></td><td><code>trying to use the suggestions about tensor construction</code></td></tr></table>




---

archive/issue_comments_555578.json:
```json
{
    "body": "Changed commit from **[`d4c8b90`](https://github.com/sagemath/sagetrac-mirror/commit/d4c8b90fddd0e9aaabe99d3062b182b191700eb9)** to **[`d0972e6`](https://github.com/sagemath/sagetrac-mirror/commit/d0972e6183fbe3396f41dc7fba641e579bd3a30e)**",
    "created_at": "2022-08-22T06:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555578",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d4c8b90`](https://github.com/sagemath/sagetrac-mirror/commit/d4c8b90fddd0e9aaabe99d3062b182b191700eb9)** to **[`d0972e6`](https://github.com/sagemath/sagetrac-mirror/commit/d0972e6183fbe3396f41dc7fba641e579bd3a30e)**



---

archive/issue_comments_555579.json:
```json
{
    "body": "Changed commit from **[`d0972e6`](https://github.com/sagemath/sagetrac-mirror/commit/d0972e6183fbe3396f41dc7fba641e579bd3a30e)** to **[`eba9d16`](https://github.com/sagemath/sagetrac-mirror/commit/eba9d161893a80d65aff472ee5e26a307872482a)**",
    "created_at": "2022-08-22T11:52:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555579",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d0972e6`](https://github.com/sagemath/sagetrac-mirror/commit/d0972e6183fbe3396f41dc7fba641e579bd3a30e)** to **[`eba9d16`](https://github.com/sagemath/sagetrac-mirror/commit/eba9d161893a80d65aff472ee5e26a307872482a)**



---

archive/issue_comments_555580.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eba9d161893a80d65aff472ee5e26a307872482a\"><code>eba9d16</code></a></td><td><code>detail fix</code></td></tr></table>\n",
    "created_at": "2022-08-22T11:52:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555580",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eba9d161893a80d65aff472ee5e26a307872482a"><code>eba9d16</code></a></td><td><code>detail fix</code></td></tr></table>




---

archive/issue_comments_555581.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n\n```\n+                sage: F = CombinatorialFreeModule(ZZ, [1,2])\n+                sage: F.__custom_name = \"F\"\n+                sage: G = CombinatorialFreeModule(ZZ, [3,4])\n+                sage: G.__custom_name = \"G\"\n```\nIs there a reason why you don't use `F.rename(\"F\")` here?",
    "created_at": "2022-08-22T16:28:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555581",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>


```
+                sage: F = CombinatorialFreeModule(ZZ, [1,2])
+                sage: F.__custom_name = "F"
+                sage: G = CombinatorialFreeModule(ZZ, [3,4])
+                sage: G.__custom_name = "G"
```
Is there a reason why you don't use `F.rename("F")` here?



---

archive/issue_comments_555582.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c862151e4b82674751fd3a3cbdfa02ffbf752b0c\"><code>c862151</code></a></td><td><code>rather use rename</code></td></tr></table>\n",
    "created_at": "2022-08-22T16:53:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555582",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c862151e4b82674751fd3a3cbdfa02ffbf752b0c"><code>c862151</code></a></td><td><code>rather use rename</code></td></tr></table>




---

archive/issue_comments_555583.json:
```json
{
    "body": "Changed commit from **[`eba9d16`](https://github.com/sagemath/sagetrac-mirror/commit/eba9d161893a80d65aff472ee5e26a307872482a)** to **[`c862151`](https://github.com/sagemath/sagetrac-mirror/commit/c862151e4b82674751fd3a3cbdfa02ffbf752b0c)**",
    "created_at": "2022-08-22T16:53:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555583",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`eba9d16`](https://github.com/sagemath/sagetrac-mirror/commit/eba9d161893a80d65aff472ee5e26a307872482a)** to **[`c862151`](https://github.com/sagemath/sagetrac-mirror/commit/c862151e4b82674751fd3a3cbdfa02ffbf752b0c)**



---

archive/issue_comments_555584.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@tscrim](#comment%3A16):\n> I would actually go one step further and make it explicitly an `@abstract_method`\n\nDoes adding a required method to the category not have the potential of breaking user code?",
    "created_at": "2022-08-22T22:23:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555584",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@tscrim](#comment%3A16):
> I would actually go one step further and make it explicitly an `@abstract_method`

Does adding a required method to the category not have the potential of breaking user code?



---

archive/issue_comments_555585.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI would suggest some `try... except NotImplementError: deprecation(...)`",
    "created_at": "2022-08-22T22:46:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555585",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

I would suggest some `try... except NotImplementError: deprecation(...)`



---

archive/issue_comments_555586.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@mkoeppe](#comment%3A21):\n> Replying to [@tscrim](#comment%3A16):\n> > I would actually go one step further and make it explicitly an `@abstract_method`\n\n> \n> Does adding a required method to the category not have the potential of breaking user code?\n\nIt won't break any user code. Only one of the `TestSuite` tests will fail.",
    "created_at": "2022-08-23T01:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555586",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@mkoeppe](#comment%3A21):
> Replying to [@tscrim](#comment%3A16):
> > I would actually go one step further and make it explicitly an `@abstract_method`

> 
> Does adding a required method to the category not have the potential of breaking user code?

It won't break any user code. Only one of the `TestSuite` tests will fail.



---

archive/issue_comments_555587.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nCare to explain why errors raised by `construction` would not matter?",
    "created_at": "2022-08-23T01:17:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555587",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

Care to explain why errors raised by `construction` would not matter?



---

archive/issue_comments_555588.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@mkoeppe](#comment%3A24):\n> Care to explain why errors raised by `construction` would not matter?\n\nIt was just using the default previously, so it was a no-op. However, you should still get failures where you had failures before (such as trying to do a coercion via a pushout) unless someone was explicitly calling `construction()` and checking against `None`. It is possible someone is doing this with a custom class in the tensor product category, so they will have to fix their code. However, the error message will be clear about what needs to be done to fix it. Their could would break in a different way when using Sage's classes (e.g., `CFM_tensor`).\n\nAdditionally, you would still get errors whether or not it was `optional=True` or not.\n\nI think by putting a `try`-`except` block around it with a deprecation message (which nothing is being deprecated), you are increasing Sage's technical debt for people who are doing something fairly advanced and likely should know better than to do this.",
    "created_at": "2022-08-23T01:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555588",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@mkoeppe](#comment%3A24):
> Care to explain why errors raised by `construction` would not matter?

It was just using the default previously, so it was a no-op. However, you should still get failures where you had failures before (such as trying to do a coercion via a pushout) unless someone was explicitly calling `construction()` and checking against `None`. It is possible someone is doing this with a custom class in the tensor product category, so they will have to fix their code. However, the error message will be clear about what needs to be done to fix it. Their could would break in a different way when using Sage's classes (e.g., `CFM_tensor`).

Additionally, you would still get errors whether or not it was `optional=True` or not.

I think by putting a `try`-`except` block around it with a deprecation message (which nothing is being deprecated), you are increasing Sage's technical debt for people who are doing something fairly advanced and likely should know better than to do this.



---

archive/issue_comments_555589.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nOf course something is getting deprecated, namely implementation classes in this category that do not define the `tensor_factors` method.",
    "created_at": "2022-08-23T01:29:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555589",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

Of course something is getting deprecated, namely implementation classes in this category that do not define the `tensor_factors` method.



---

archive/issue_comments_555590.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@tscrim](#comment%3A25):\n> Additionally, you would still get errors whether or not it was `optional=True` or not.\n\ncomment:22 has a solution",
    "created_at": "2022-08-23T01:30:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555590",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@tscrim](#comment%3A25):
> Additionally, you would still get errors whether or not it was `optional=True` or not.

comment:22 has a solution



---

archive/issue_comments_555591.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@mkoeppe](#comment%3A26):\n> Of course something is getting deprecated, namely implementation classes in this category that do not define the `tensor_factors` method.\n\nNo, they are not, as a deprecation (in software) means something that is going to be removed. They simply need to be patched.",
    "created_at": "2022-08-23T02:02:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555591",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@mkoeppe](#comment%3A26):
> Of course something is getting deprecated, namely implementation classes in this category that do not define the `tensor_factors` method.

No, they are not, as a deprecation (in software) means something that is going to be removed. They simply need to be patched.



---

archive/issue_comments_555592.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nYes, and that \"something\" is the support for such user-defined implementation classes.",
    "created_at": "2022-08-23T02:05:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555592",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:29" align="right">comment:29</div>

Yes, and that "something" is the support for such user-defined implementation classes.



---

archive/issue_comments_555593.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nFine. The nomenclature isn't a hill I am willing to die on.\n\nHowever, I still am not completely convinced not breaking backwards compatibility is worth the technical debt in this case. (I originally wanted to use the pun \"we should bend over backwards for backwards compatibility\" but that is just a bit too dramatic.) Since the solution here is relatively simple, I can let it pass. (If I wanted to be really nit-picky, I would also insist on consistency/equality and require letting people know about the behavior change for `CFM_tensor` as that could break people's code is much more subtle ways. Both things are basically [spacebars](https://xkcd.com/1172/) to me.)\n\nSide note: [comment:22](#comment%3A22) is not a solution for `@abstract_method(optional=True)` simply becomes a `NotImplemented`:\n\n```\nsage: class Foo():\n....:     @abstract_method(optional=True)\n....:     def bar(self):\n....:         \"\"\"\n....:         doc\n....:         \"\"\"\n....:         \nsage: F = Foo()\nsage: F.bar\nNotImplemented\n```",
    "created_at": "2022-08-23T02:47:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555593",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:30" align="right">comment:30</div>

Fine. The nomenclature isn't a hill I am willing to die on.

However, I still am not completely convinced not breaking backwards compatibility is worth the technical debt in this case. (I originally wanted to use the pun "we should bend over backwards for backwards compatibility" but that is just a bit too dramatic.) Since the solution here is relatively simple, I can let it pass. (If I wanted to be really nit-picky, I would also insist on consistency/equality and require letting people know about the behavior change for `CFM_tensor` as that could break people's code is much more subtle ways. Both things are basically [spacebars](https://xkcd.com/1172/) to me.)

Side note: [comment:22](#comment%3A22) is not a solution for `@abstract_method(optional=True)` simply becomes a `NotImplemented`:

```
sage: class Foo():
....:     @abstract_method(optional=True)
....:     def bar(self):
....:         """
....:         doc
....:         """
....:         
sage: F = Foo()
sage: F.bar
NotImplemented
```



---

archive/issue_comments_555594.json:
```json
{
    "body": "Changed branch from **[u/chapoton/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/tensor_components)** to **[u/mkoeppe/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tensor_components)**",
    "created_at": "2022-08-23T02:53:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555594",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/chapoton/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/tensor_components)** to **[u/mkoeppe/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tensor_components)**



---

archive/issue_comments_555595.json:
```json
{
    "body": "Changed commit from **[`c862151`](https://github.com/sagemath/sagetrac-mirror/commit/c862151e4b82674751fd3a3cbdfa02ffbf752b0c)** to **[`f17ee3f`](https://github.com/sagemath/sagetrac-mirror/commit/f17ee3f2c03837b1574a4f4d170173e6912ef7e2)**",
    "created_at": "2022-08-23T02:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555595",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`c862151`](https://github.com/sagemath/sagetrac-mirror/commit/c862151e4b82674751fd3a3cbdfa02ffbf752b0c)** to **[`f17ee3f`](https://github.com/sagemath/sagetrac-mirror/commit/f17ee3f2c03837b1574a4f4d170173e6912ef7e2)**



---

archive/issue_comments_555596.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n(untested)\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f17ee3f2c03837b1574a4f4d170173e6912ef7e2\"><code>f17ee3f</code></a></td><td><code>src/sage/categories/modules.py: Deprecate classes without tensor_factors</code></td></tr></table>\n",
    "created_at": "2022-08-23T02:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555596",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">comment:32</div>

(untested)

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f17ee3f2c03837b1574a4f4d170173e6912ef7e2"><code>f17ee3f</code></a></td><td><code>src/sage/categories/modules.py: Deprecate classes without tensor_factors</code></td></tr></table>




---

archive/issue_comments_555597.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@tscrim](#comment%3A25):\n> I think by putting a `try`-`except` block around it with a deprecation message (which nothing is being deprecated), you are increasing Sage's technical debt [...]\n\n\"Technical debt\" is a big scary word. But no, doing proper deprecation does not add to the debt.",
    "created_at": "2022-08-23T03:00:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555597",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@tscrim](#comment%3A25):
> I think by putting a `try`-`except` block around it with a deprecation message (which nothing is being deprecated), you are increasing Sage's technical debt [...]

"Technical debt" is a big scary word. But no, doing proper deprecation does not add to the debt.



---

archive/issue_comments_555598.json:
```json
{
    "body": "Changed commit from **[`f17ee3f`](https://github.com/sagemath/sagetrac-mirror/commit/f17ee3f2c03837b1574a4f4d170173e6912ef7e2)** to **[`44d42db`](https://github.com/sagemath/sagetrac-mirror/commit/44d42db483c61cea2e5497982ad08c12b57f8d96)**",
    "created_at": "2022-08-23T03:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555598",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f17ee3f`](https://github.com/sagemath/sagetrac-mirror/commit/f17ee3f2c03837b1574a4f4d170173e6912ef7e2)** to **[`44d42db`](https://github.com/sagemath/sagetrac-mirror/commit/44d42db483c61cea2e5497982ad08c12b57f8d96)**



---

archive/issue_comments_555599.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44d42db483c61cea2e5497982ad08c12b57f8d96\"><code>44d42db</code></a></td><td><code>src/sage/categories/modules.py: Deprecate classes without tensor_factors</code></td></tr></table>\n",
    "created_at": "2022-08-23T03:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555599",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44d42db483c61cea2e5497982ad08c12b57f8d96"><code>44d42db</code></a></td><td><code>src/sage/categories/modules.py: Deprecate classes without tensor_factors</code></td></tr></table>




---

archive/issue_comments_555600.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nAm I missing something or should this go to `Modules.TensorProducts`, not `Modules.FiniteDimensional.TensorProducts`?",
    "created_at": "2022-08-23T03:56:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555600",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:35" align="right">comment:35</div>

Am I missing something or should this go to `Modules.TensorProducts`, not `Modules.FiniteDimensional.TensorProducts`?



---

archive/issue_comments_555601.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nAlso, maybe instead of just requiring the method `tensor_factors`, how about specifying a method just like `CombinatorialFreeModule.tensor_constructor`?\n\nFrom its domain, the tensor factors can be read off.",
    "created_at": "2022-08-23T07:38:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555601",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:36" align="right">comment:36</div>

Also, maybe instead of just requiring the method `tensor_factors`, how about specifying a method just like `CombinatorialFreeModule.tensor_constructor`?

From its domain, the tensor factors can be read off.



---

archive/issue_comments_555602.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\ntrying to move code around to Modules.TensorProducts\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de30ad3820c183c6f42cb4ad59a66ad21cf86d61\"><code>de30ad3</code></a></td><td><code>moving the code</code></td></tr></table>\n",
    "created_at": "2022-08-23T09:28:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555602",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:37" align="right">comment:37</div>

trying to move code around to Modules.TensorProducts

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de30ad3820c183c6f42cb4ad59a66ad21cf86d61"><code>de30ad3</code></a></td><td><code>moving the code</code></td></tr></table>




---

archive/issue_comments_555603.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tensor_components)** to **[u/chapoton/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/tensor_components)**",
    "created_at": "2022-08-23T09:28:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555603",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/mkoeppe/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tensor_components)** to **[u/chapoton/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/tensor_components)**



---

archive/issue_comments_555604.json:
```json
{
    "body": "Changed commit from **[`44d42db`](https://github.com/sagemath/sagetrac-mirror/commit/44d42db483c61cea2e5497982ad08c12b57f8d96)** to **[`de30ad3`](https://github.com/sagemath/sagetrac-mirror/commit/de30ad3820c183c6f42cb4ad59a66ad21cf86d61)**",
    "created_at": "2022-08-23T09:28:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555604",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`44d42db`](https://github.com/sagemath/sagetrac-mirror/commit/44d42db483c61cea2e5497982ad08c12b57f8d96)** to **[`de30ad3`](https://github.com/sagemath/sagetrac-mirror/commit/de30ad3820c183c6f42cb4ad59a66ad21cf86d61)**



---

archive/issue_comments_555605.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc6828fd5f265e2921aeaf4739f3fd86611a6190\"><code>bc6828f</code></a></td><td><code>fix the doctest</code></td></tr></table>\n",
    "created_at": "2022-08-23T13:50:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555605",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc6828fd5f265e2921aeaf4739f3fd86611a6190"><code>bc6828f</code></a></td><td><code>fix the doctest</code></td></tr></table>




---

archive/issue_comments_555606.json:
```json
{
    "body": "Changed commit from **[`de30ad3`](https://github.com/sagemath/sagetrac-mirror/commit/de30ad3820c183c6f42cb4ad59a66ad21cf86d61)** to **[`bc6828f`](https://github.com/sagemath/sagetrac-mirror/commit/bc6828fd5f265e2921aeaf4739f3fd86611a6190)**",
    "created_at": "2022-08-23T13:50:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555606",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`de30ad3`](https://github.com/sagemath/sagetrac-mirror/commit/de30ad3820c183c6f42cb4ad59a66ad21cf86d61)** to **[`bc6828f`](https://github.com/sagemath/sagetrac-mirror/commit/bc6828fd5f265e2921aeaf4739f3fd86611a6190)**



---

archive/issue_comments_555607.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nthere remains an issue in `sage.algebras.schur_algebra.SchurTensorModule`\n\nEDIT:\n\nwhich is strangely inheriting directly\n\n```\nclass SchurTensorModule(CombinatorialFreeModule_Tensor):\n```\nand is the unique such place in sage code\n\nmaybe it should rather inherit just from `CombinatorialFreeModule` ?",
    "created_at": "2022-08-23T13:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555607",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:39" align="right">comment:39</div>

there remains an issue in `sage.algebras.schur_algebra.SchurTensorModule`

EDIT:

which is strangely inheriting directly

```
class SchurTensorModule(CombinatorialFreeModule_Tensor):
```
and is the unique such place in sage code

maybe it should rather inherit just from `CombinatorialFreeModule` ?



---

archive/issue_comments_555608.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@fchapoton](#comment%3A39):\n> there remains an issue in `sage.algebras.schur_algebra.SchurTensorModule`\n> \n> EDIT:\n> \n> which is strangely inheriting directly\n> \n> ```\n> class SchurTensorModule(CombinatorialFreeModule_Tensor):\n> ```\n> and is the unique such place in sage code\n> \n> maybe it should rather inherit just from `CombinatorialFreeModule` ?\n\nNo, we shouldn't, at least without also removing `TensorProducts()` from its category (thereby completely stripping the fact it knows and carries a tensor product of `R`-modules structure).\n\nThe problem is exactly what the test is failing for: The construction is not giving the parent back. The underlying issue is that we do not have a Schur algebra representation on the individual factors. So it needs its own `construction()` method. The simple fix is just to have it return `None` to match the previous behavior. The more complicated one is to implement a `ConstructorFunctor` for it, but I don't think that will be useful here.",
    "created_at": "2022-08-25T00:56:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555608",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@fchapoton](#comment%3A39):
> there remains an issue in `sage.algebras.schur_algebra.SchurTensorModule`
> 
> EDIT:
> 
> which is strangely inheriting directly
> 
> ```
> class SchurTensorModule(CombinatorialFreeModule_Tensor):
> ```
> and is the unique such place in sage code
> 
> maybe it should rather inherit just from `CombinatorialFreeModule` ?

No, we shouldn't, at least without also removing `TensorProducts()` from its category (thereby completely stripping the fact it knows and carries a tensor product of `R`-modules structure).

The problem is exactly what the test is failing for: The construction is not giving the parent back. The underlying issue is that we do not have a Schur algebra representation on the individual factors. So it needs its own `construction()` method. The simple fix is just to have it return `None` to match the previous behavior. The more complicated one is to implement a `ConstructorFunctor` for it, but I don't think that will be useful here.



---

archive/issue_comments_555609.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e7593841298c488e2d9424740179da210459f04\"><code>7e75938</code></a></td><td><code>fix SchurTensormodule with construction None</code></td></tr></table>\n",
    "created_at": "2022-08-25T06:54:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555609",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e7593841298c488e2d9424740179da210459f04"><code>7e75938</code></a></td><td><code>fix SchurTensormodule with construction None</code></td></tr></table>




---

archive/issue_comments_555610.json:
```json
{
    "body": "Changed commit from **[`bc6828f`](https://github.com/sagemath/sagetrac-mirror/commit/bc6828fd5f265e2921aeaf4739f3fd86611a6190)** to **[`7e75938`](https://github.com/sagemath/sagetrac-mirror/commit/7e7593841298c488e2d9424740179da210459f04)**",
    "created_at": "2022-08-25T06:54:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555610",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bc6828f`](https://github.com/sagemath/sagetrac-mirror/commit/bc6828fd5f265e2921aeaf4739f3fd86611a6190)** to **[`7e75938`](https://github.com/sagemath/sagetrac-mirror/commit/7e7593841298c488e2d9424740179da210459f04)**



---

archive/issue_comments_555611.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nall green lights. Ready to go ?",
    "created_at": "2022-08-25T10:24:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555611",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:42" align="right">comment:42</div>

all green lights. Ready to go ?



---

archive/issue_comments_555612.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nany thoughts on [comment:36](#comment%3A36)?",
    "created_at": "2022-08-25T11:12:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555612",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43" align="right">comment:43</div>

any thoughts on [comment:36](#comment%3A36)?



---

archive/issue_comments_555613.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nusing tensor_factors seems to be consistent with cartesian_factors",
    "created_at": "2022-08-25T11:14:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555613",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:44" align="right">comment:44</div>

using tensor_factors seems to be consistent with cartesian_factors



---

archive/issue_comments_555614.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nYes... this is why I suggested this name in [comment:9](#comment%3A9).\n\nBut Cartesian products also have a method `cartesian_projection` that provides the morphisms that connect the product to the factors.",
    "created_at": "2022-08-25T15:52:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555614",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:45" align="right">comment:45</div>

Yes... this is why I suggested this name in [comment:9](#comment%3A9).

But Cartesian products also have a method `cartesian_projection` that provides the morphisms that connect the product to the factors.



---

archive/issue_comments_555615.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nbut there are no canonical morphisms from a tensor product to its factors",
    "created_at": "2022-08-25T17:12:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555615",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:46" align="right">comment:46</div>

but there are no canonical morphisms from a tensor product to its factors



---

archive/issue_comments_555616.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nI suggested a different morphism in [comment:36](#comment%3A36)",
    "created_at": "2022-08-25T17:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555616",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:47" align="right">comment:47</div>

I suggested a different morphism in [comment:36](#comment%3A36)



---

archive/issue_comments_555617.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nplease let us keep that possibility for another ticket",
    "created_at": "2022-08-25T17:41:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555617",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:48" align="right">comment:48</div>

please let us keep that possibility for another ticket



---

archive/issue_comments_555618.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI agree that we should have another ticket for possible generic morphisms as that is likely fraught with cases that could appear in general (like we had with `construction()` and Schur algebra modules).",
    "created_at": "2022-08-26T02:34:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555618",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:49" align="right">comment:49</div>

I agree that we should have another ticket for possible generic morphisms as that is likely fraught with cases that could appear in general (like we had with `construction()` and Schur algebra modules).



---

archive/issue_comments_555619.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nso, good to go ?",
    "created_at": "2022-08-26T15:05:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555619",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:50" align="right">comment:50</div>

so, good to go ?



---

archive/issue_comments_555620.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nNo objections here",
    "created_at": "2022-08-26T19:10:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555620",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">comment:51</div>

No objections here



---

archive/issue_events_466554.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-27T01:21:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466554"
}
```



---

archive/issue_events_466555.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-27T01:21:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466555"
}
```



---

archive/issue_comments_555621.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, Travis Scrimshaw**",
    "created_at": "2022-08-27T01:21:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555621",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Matthias Koeppe, Travis Scrimshaw**



---

archive/issue_comments_555622.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\n\n```\nsage -t --long --warn-long 49.3 --random-seed=123 src/sage/categories/modules.py\n**********************************************************************\nFile \"src/sage/categories/modules.py\", line 942, in sage.categories.modules.Modules.TensorProducts.ParentMethods.t\nensor_factors\nFailed example:\n    M.construction()\nExpected:\n    doctest:warning...\n    DeprecationWarning: implementations of Modules().TensorProducts() now must define the method tensor_factors\n    See https://trac.sagemath.org/34393 for details.\nGot:\n    doctest:warning\n      File \"/home/release/Sage/src/bin/sage-runtests\", line 154, in <module>\n        err = DC.run()\n      File \"/home/release/Sage/src/sage/doctest/control.py\", line 1384, in run\n        self.run_doctests()\n      File \"/home/release/Sage/src/sage/doctest/control.py\", line 1059, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 2021, in dispatch\n        self.parallel_dispatch()\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 1916, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 2190, in start\n        super().start()\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py\", li\nne 121, in start\n        self._popen = self._Popen(self)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py\", li\nne 224, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py\", li\nne 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py\",\n line 19, in __init__\n        self._launch(process_obj)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py\",\n line 71, in _launch\n        code = process_obj._bootstrap(parent_sentinel=child_r)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py\", line 315, in _bootstrap\n        self.run()\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 2162, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 2492, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 2544, in _run\n        result = runner.run(test)\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 866, in run\n        return self._run(test, compileflags, out)\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 695, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 1093, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.categories.modules.Modules.TensorProducts.ParentMethods.tensor_factors[7]>\", line 1, in <module>\n        M.construction()\n      File \"/home/release/Sage/src/sage/combinat/free_module.py\", line 475, in construction\n        c = super().construction()\n      File \"/home/release/Sage/src/sage/categories/modules.py\", line 917, in construction\n        deprecation(34393, \"implementations of Modules().TensorProducts() now must define the method tensor_factors\")\n      File \"/home/release/Sage/src/sage/misc/superseded.py\", line 99, in deprecation\n        warning(trac_number, message, DeprecationWarning, stacklevel)\n      File \"/home/release/Sage/src/sage/misc/superseded.py\", line 180, in warning\n        warn(message, warning_class, stacklevel)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/warnings.py\", line 109, in _showwarnmsg\n        sw(msg.message, msg.category, msg.filename, msg.lineno,\n    :\n    DeprecationWarning: implementations of Modules().TensorProducts() now must define the method tensor_factors\n    See https://trac.sagemath.org/34393 for details.\n    (VectorFunctor, Integer Ring)\n**********************************************************************\n```",
    "created_at": "2022-08-30T19:02:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555622",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:53" align="right">comment:53</div>


```
sage -t --long --warn-long 49.3 --random-seed=123 src/sage/categories/modules.py
**********************************************************************
File "src/sage/categories/modules.py", line 942, in sage.categories.modules.Modules.TensorProducts.ParentMethods.t
ensor_factors
Failed example:
    M.construction()
Expected:
    doctest:warning...
    DeprecationWarning: implementations of Modules().TensorProducts() now must define the method tensor_factors
    See https://trac.sagemath.org/34393 for details.
Got:
    doctest:warning
      File "/home/release/Sage/src/bin/sage-runtests", line 154, in <module>
        err = DC.run()
      File "/home/release/Sage/src/sage/doctest/control.py", line 1384, in run
        self.run_doctests()
      File "/home/release/Sage/src/sage/doctest/control.py", line 1059, in run_doctests
        self.dispatcher.dispatch()
      File "/home/release/Sage/src/sage/doctest/forker.py", line 2021, in dispatch
        self.parallel_dispatch()
      File "/home/release/Sage/src/sage/doctest/forker.py", line 1916, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/release/Sage/src/sage/doctest/forker.py", line 2190, in start
        super().start()
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py", li
ne 121, in start
        self._popen = self._Popen(self)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py", li
ne 224, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py", li
ne 277, in _Popen
        return Popen(process_obj)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py",
 line 19, in __init__
        self._launch(process_obj)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py",
 line 71, in _launch
        code = process_obj._bootstrap(parent_sentinel=child_r)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py", line 315, in _bootstrap
        self.run()
      File "/home/release/Sage/src/sage/doctest/forker.py", line 2162, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/release/Sage/src/sage/doctest/forker.py", line 2492, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/release/Sage/src/sage/doctest/forker.py", line 2544, in _run
        result = runner.run(test)
      File "/home/release/Sage/src/sage/doctest/forker.py", line 866, in run
        return self._run(test, compileflags, out)
      File "/home/release/Sage/src/sage/doctest/forker.py", line 695, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/src/sage/doctest/forker.py", line 1093, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.categories.modules.Modules.TensorProducts.ParentMethods.tensor_factors[7]>", line 1, in <module>
        M.construction()
      File "/home/release/Sage/src/sage/combinat/free_module.py", line 475, in construction
        c = super().construction()
      File "/home/release/Sage/src/sage/categories/modules.py", line 917, in construction
        deprecation(34393, "implementations of Modules().TensorProducts() now must define the method tensor_factors")
      File "/home/release/Sage/src/sage/misc/superseded.py", line 99, in deprecation
        warning(trac_number, message, DeprecationWarning, stacklevel)
      File "/home/release/Sage/src/sage/misc/superseded.py", line 180, in warning
        warn(message, warning_class, stacklevel)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/warnings.py", line 109, in _showwarnmsg
        sw(msg.message, msg.category, msg.filename, msg.lineno,
    :
    DeprecationWarning: implementations of Modules().TensorProducts() now must define the method tensor_factors
    See https://trac.sagemath.org/34393 for details.
    (VectorFunctor, Integer Ring)
**********************************************************************
```



---

archive/issue_events_466556.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-30T19:02:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466556"
}
```



---

archive/issue_events_466557.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-30T19:02:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466557"
}
```



---

archive/issue_comments_555623.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd6cc0e5450b040bb831baa5fb97a4c684c68026\"><code>dd6cc0e</code></a></td><td><code>Merge branch 'u/chapoton/tensor_components' in 9.7.rc0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126\"><code>b81dbf0</code></a></td><td><code>fix doctest</code></td></tr></table>\n",
    "created_at": "2022-08-31T18:54:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555623",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd6cc0e5450b040bb831baa5fb97a4c684c68026"><code>dd6cc0e</code></a></td><td><code>Merge branch 'u/chapoton/tensor_components' in 9.7.rc0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126"><code>b81dbf0</code></a></td><td><code>fix doctest</code></td></tr></table>




---

archive/issue_comments_555624.json:
```json
{
    "body": "Changed commit from **[`7e75938`](https://github.com/sagemath/sagetrac-mirror/commit/7e7593841298c488e2d9424740179da210459f04)** to **[`b81dbf0`](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)**",
    "created_at": "2022-08-31T18:54:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555624",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7e75938`](https://github.com/sagemath/sagetrac-mirror/commit/7e7593841298c488e2d9424740179da210459f04)** to **[`b81dbf0`](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)**



---

archive/issue_events_466558.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-08-31T18:54:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466558"
}
```



---

archive/issue_events_466559.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-08-31T18:54:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466559"
}
```



---

archive/issue_comments_555625.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\ndoctest fixed, back to needs review",
    "created_at": "2022-08-31T18:54:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555625",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:55" align="right">comment:55</div>

doctest fixed, back to needs review



---

archive/issue_events_466560.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-31T23:15:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466560"
}
```



---

archive/issue_events_466561.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-31T23:15:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466561"
}
```



---

archive/issue_events_466562.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-09-16T12:08:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466562"
}
```



---

archive/issue_events_466563.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-09-16T12:08:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466563"
}
```



---

archive/issue_comments_555626.json:
```json
{
    "body": "Changed branch from **[u/chapoton/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/tensor_components)** to **[`b81dbf0`](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)**",
    "created_at": "2022-09-22T22:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555626",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/tensor_components)** to **[`b81dbf0`](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)**



---

archive/issue_events_466564.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-09-22T22:35:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466564"
}
```



---

archive/issue_events_466565.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a6a72a99fe48b6da0e89cab893a4d31f5599d892",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-09-22T22:35:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-466565"
}
```



---

archive/issue_comments_555627.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nReplying to [Matthias K\u00f6ppe](#comment%3A36):\n> Also, maybe instead of just requiring the method `tensor_factors`, how about specifying a method just like `CombinatorialFreeModule.tensor_constructor`?\n> \n> From its domain, the tensor factors can be read off.\n\nI've opened #34628 for this",
    "created_at": "2022-10-02T19:08:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555627",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:59" align="right">comment:59</div>

Replying to [Matthias Köppe](#comment%3A36):
> Also, maybe instead of just requiring the method `tensor_factors`, how about specifying a method just like `CombinatorialFreeModule.tensor_constructor`?
> 
> From its domain, the tensor factors can be read off.

I've opened #34628 for this



---

archive/issue_comments_555628.json:
```json
{
    "body": "Changed commit from **[`b81dbf0`](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)** to none",
    "created_at": "2022-10-02T19:08:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-555628",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`b81dbf0`](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)** to none
