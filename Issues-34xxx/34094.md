# Issue 34094: fix E251 in geometry and manifolds

archive/issues_034094.json:
```json
{
    "body": "CC:  @tscrim @kwankyu @slel @dcoudert\n\nabout\n\n```\nE251 unexpected spaces around keyword / parameter equals\n```\n\nIssue created by migration from https://trac.sagemath.org/ticket/34331\n\n",
    "closed_at": "2022-08-30T19:04:05Z",
    "created_at": "2022-08-10T11:19:09Z",
    "labels": [
        "component: geometry",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "fix E251 in geometry and manifolds",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34094",
    "user": "https://github.com/fchapoton"
}
```
CC:  @tscrim @kwankyu @slel @dcoudert

about

```
E251 unexpected spaces around keyword / parameter equals
```

Issue created by migration from https://trac.sagemath.org/ticket/34331





---

archive/issue_comments_483041.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-08-10T11:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34094#issuecomment-483041",
    "user": "https://github.com/fchapoton"
}
```

New commits:



---

archive/issue_comments_483042.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-10T11:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34094#issuecomment-483042",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_483043.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-10T19:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34094#issuecomment-483043",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483044.json:
```json
{
    "body": "green lights, so please review",
    "created_at": "2022-08-11T13:03:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34094#issuecomment-483044",
    "user": "https://github.com/fchapoton"
}
```

green lights, so please review



---

archive/issue_comments_483045.json:
```json
{
    "body": "The patchbot reports an error\n\n```\n[sagemath_doc_html-none] [diophanti] The inventory files are in ../../local/share/doc/sage/inventory/en/reference/diophantine_approximation.\n[sagemath_doc_html-none] Build finished. The built documents can be found in /home/chapoton/sage/local/share/doc/sage/inventory/en/reference/diophantine_approximation\n[sagemath_doc_html-none] Error building the documentation.\n[sagemath_doc_html-none] Traceback (most recent call last):\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/runpy.py\", line 196, in _run_module_as_main\n[sagemath_doc_html-none]     return _run_code(code, main_globals, None,\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/runpy.py\", line 86, in _run_code\n[sagemath_doc_html-none]     exec(code, run_globals)\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/__main__.py\", line 498, in <module>\n[sagemath_doc_html-none]     sys.exit(main())\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/__main__.py\", line 495, in main\n[sagemath_doc_html-none]     builder()\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py\", line 807, in _wrapper\n[sagemath_doc_html-none]     self.write_auto_rest_file(module_name)\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py\", line 1111, in write_auto_rest_file\n[sagemath_doc_html-none]     title = self.get_module_docstring_title(module_name)\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py\", line 1072, in get_module_docstring_title\n[sagemath_doc_html-none]     __import__(module_name)\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/src/sage/geometry/pseudolines.py\", line 171\n[sagemath_doc_html-none]     def __init__(self, seq, encoding \"auto\"):\n[sagemath_doc_html-none]                                      ^^^^^^\n[sagemath_doc_html-none] SyntaxError: invalid syntax\n[sagemath_doc_html-none] \n[sagemath_doc_html-none]     Note: incremental documentation builds sometimes cause spurious\n[sagemath_doc_html-none]     error messages. To be certain that these are real errors, run\n[sagemath_doc_html-none]     \"make doc-clean doc-uninstall\" first and try again.\n[sagemath_doc_html-none] make[4]: *** [Makefile:27: doc-inventory--reference-discrete_geometry] Error 1\n[sagemath_doc_html-none] make[4]: *** Waiting for unfinished jobs....\n[sagemath_doc_html-none] [databases] The inventory files are in ../../local/share/doc/sage/inventory/en/reference/databases.\n[sagemath_doc_html-none] Build finished. The built documents can be found in /home/chapoton/sage/local/share/doc/sage/inventory/en/reference/databases\n[sagemath_doc_html-none] make[3]: *** [Makefile:44: doc-inventory-reference] Error 2\nmake[2]: *** [Makefile:3084: sagemath_doc_html-SAGE_DOCS-no-deps] Error 2\nmake[1]: *** [Makefile:3084: /home/chapoton/sage/local/var/lib/sage/installed/sagemath_doc_html-none] Error 2\nmake[1]: Leaving directory '/home/chapoton/sage/build/make'\n```",
    "created_at": "2022-08-11T13:07:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34094#issuecomment-483045",
    "user": "https://github.com/dcoudert"
}
```

The patchbot reports an error

```
[sagemath_doc_html-none] [diophanti] The inventory files are in ../../local/share/doc/sage/inventory/en/reference/diophantine_approximation.
[sagemath_doc_html-none] Build finished. The built documents can be found in /home/chapoton/sage/local/share/doc/sage/inventory/en/reference/diophantine_approximation
[sagemath_doc_html-none] Error building the documentation.
[sagemath_doc_html-none] Traceback (most recent call last):
[sagemath_doc_html-none]   File "/home/chapoton/sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/runpy.py", line 196, in _run_module_as_main
[sagemath_doc_html-none]     return _run_code(code, main_globals, None,
[sagemath_doc_html-none]   File "/home/chapoton/sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/runpy.py", line 86, in _run_code
[sagemath_doc_html-none]     exec(code, run_globals)
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/__main__.py", line 498, in <module>
[sagemath_doc_html-none]     sys.exit(main())
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/__main__.py", line 495, in main
[sagemath_doc_html-none]     builder()
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py", line 807, in _wrapper
[sagemath_doc_html-none]     self.write_auto_rest_file(module_name)
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py", line 1111, in write_auto_rest_file
[sagemath_doc_html-none]     title = self.get_module_docstring_title(module_name)
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py", line 1072, in get_module_docstring_title
[sagemath_doc_html-none]     __import__(module_name)
[sagemath_doc_html-none]   File "/home/chapoton/sage/src/sage/geometry/pseudolines.py", line 171
[sagemath_doc_html-none]     def __init__(self, seq, encoding "auto"):
[sagemath_doc_html-none]                                      ^^^^^^
[sagemath_doc_html-none] SyntaxError: invalid syntax
[sagemath_doc_html-none] 
[sagemath_doc_html-none]     Note: incremental documentation builds sometimes cause spurious
[sagemath_doc_html-none]     error messages. To be certain that these are real errors, run
[sagemath_doc_html-none]     "make doc-clean doc-uninstall" first and try again.
[sagemath_doc_html-none] make[4]: *** [Makefile:27: doc-inventory--reference-discrete_geometry] Error 1
[sagemath_doc_html-none] make[4]: *** Waiting for unfinished jobs....
[sagemath_doc_html-none] [databases] The inventory files are in ../../local/share/doc/sage/inventory/en/reference/databases.
[sagemath_doc_html-none] Build finished. The built documents can be found in /home/chapoton/sage/local/share/doc/sage/inventory/en/reference/databases
[sagemath_doc_html-none] make[3]: *** [Makefile:44: doc-inventory-reference] Error 2
make[2]: *** [Makefile:3084: sagemath_doc_html-SAGE_DOCS-no-deps] Error 2
make[1]: *** [Makefile:3084: /home/chapoton/sage/local/var/lib/sage/installed/sagemath_doc_html-none] Error 2
make[1]: Leaving directory '/home/chapoton/sage/build/make'
```



---

archive/issue_comments_483046.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-08-11T13:07:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34094#issuecomment-483046",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_483047.json:
```json
{
    "body": "pas pour la derniere version de la branche : j'ai deja corrig\u00e9 ce probleme dans le dernier commit",
    "created_at": "2022-08-11T13:21:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34094#issuecomment-483047",
    "user": "https://github.com/fchapoton"
}
```

pas pour la derniere version de la branche : j'ai deja corrigé ce probleme dans le dernier commit



---

archive/issue_comments_483048.json:
```json
{
    "body": "why not defining this list before the return statement ? it might improve readability \n\n```diff\n+                                   VERTICES=[[1] + v for v in self.vertices_list()] \\\n+                                   + [[0] + r for r in self.rays_list()],\n```",
    "created_at": "2022-08-11T13:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34094#issuecomment-483048",
    "user": "https://github.com/dcoudert"
}
```

why not defining this list before the return statement ? it might improve readability 

```diff
+                                   VERTICES=[[1] + v for v in self.vertices_list()] \
+                                   + [[0] + r for r in self.rays_list()],
```



---

archive/issue_comments_483049.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-11T14:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34094#issuecomment-483049",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483050.json:
```json
{
    "body": "voil\u00e0",
    "created_at": "2022-08-11T14:13:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34094#issuecomment-483050",
    "user": "https://github.com/fchapoton"
}
```

voilà



---

archive/issue_comments_483051.json:
```json
{
    "body": "Merci.",
    "created_at": "2022-08-11T14:15:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34094#issuecomment-483051",
    "user": "https://github.com/dcoudert"
}
```

Merci.



---

archive/issue_comments_483052.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2022-08-11T14:15:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34094#issuecomment-483052",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_483053.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-08-30T19:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34094#issuecomment-483053",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_089385.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-30T19:04:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34094",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34094#event-89385"
}
```
