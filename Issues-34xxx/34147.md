# Issue 34147: Proper ForgetfulFunctor with codomain=Sets() or its full subcategories

archive/issues_034147.json:
```json
{
    "body": "CC:  @tscrim simonking\n\npart of Meta-ticket #31247: `ForgetfulFunctor` not working properly\n\nHere we fix it for `codomain=Sets()` and its full subcategories such as `codomain=FiniteEnumeratedSets()`.\n\nWe also add a warning for all other unimplemented cases (= when domain is not a full subcategory of codomain).\n\nThe implementation constructs a `Set_object` wrapper.\n\nFollow-up ticket: `Set_object` etc. need a modification too: Currently equality testing (`Set_object.__richcmp__`) just delegates to the wrapped parents, so it does not take place on the level of sets, where equality of two sets means that they contain the same elements.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/34384\n\n",
    "created_at": "2022-08-17T18:18:26Z",
    "labels": [
        "component: categories"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Proper ForgetfulFunctor with codomain=Sets() or its full subcategories",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34147",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @tscrim simonking

part of Meta-ticket #31247: `ForgetfulFunctor` not working properly

Here we fix it for `codomain=Sets()` and its full subcategories such as `codomain=FiniteEnumeratedSets()`.

We also add a warning for all other unimplemented cases (= when domain is not a full subcategory of codomain).

The implementation constructs a `Set_object` wrapper.

Follow-up ticket: `Set_object` etc. need a modification too: Currently equality testing (`Set_object.__richcmp__`) just delegates to the wrapped parents, so it does not take place on the level of sets, where equality of two sets means that they contain the same elements.


Issue created by migration from https://trac.sagemath.org/ticket/34384





---

archive/issue_comments_483966.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-17T20:03:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34147",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34147#issuecomment-483966",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483967.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-17T20:24:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34147",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34147#issuecomment-483967",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_483968.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-18T01:36:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34147",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34147#issuecomment-483968",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483969.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-18T05:34:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34147",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34147#issuecomment-483969",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483970.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-08-18T05:51:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34147",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34147#issuecomment-483970",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_483971.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-18T18:19:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34147",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34147#issuecomment-483971",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483972.json:
```json
{
    "body": "Should the `Set_object` class be equipped with a `construction` method that returns the `ForgetfulFunctor`? Should `ForgetfulFunctor` become a `ConstructionFunctor`?",
    "created_at": "2022-08-19T17:01:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34147",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34147#issuecomment-483972",
    "user": "https://github.com/mkoeppe"
}
```

Should the `Set_object` class be equipped with a `construction` method that returns the `ForgetfulFunctor`? Should `ForgetfulFunctor` become a `ConstructionFunctor`?



---

archive/issue_events_089454.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/34147",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34147#event-89454"
}
```
