# Issue 34268: Reduce R to a dummy package, upgrade rpy2 to 3.4.5

archive/issues_034031.json:
```json
{
    "body": "We reduce the unmaintained `r` package (stuck at 3.6.3) so that we detect a system installation of R (>= 3.5) but do not attempt to install it ourselves.\n\nWhen R is found as a system package, `rpy2` will be built; otherwise it won't.\n\nrpy2 3.5.x only supports R >= 4.0 according to\nhttps://rpy2.github.io/doc/v3.5.x/html/overview.html#requirements\n\nHere we upgrade rpy2 to 3.4.5, the latest that still supports R >= 3.5 according to https://rpy2.github.io/doc/v3.4.x/html/overview.html#requirements\n\nSupport for R < 3.5 was already dropped in the rpy 3.3.x series (our current version of rpy2 is 3.3.6).\n\nAccording to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms:\n- `ubuntu-trusty` (R 3.0.2; past [End of Standard Support](https://wiki.ubuntu.com/Releases); EOL April 2024]), \n- `ubuntu-xenial` (R 3.2.3; past End of Standard Support; EOL April 2026), \n- `ubuntu-bionic` (R 3.4.4; End of Standard Support: April 2023)\n- `debian-stretch` (R 3.3.3; past EOL)\n- `fedora-26` (R 3.4.4; past EOL), \nas well as on Cygwin. (See #32074)\n\n\nDepends on #34193\n\n**CC:**  @EmmanuelCharpentier @videlec @dimpase @isuruf @jhpalmieri @novoselt @williamstein\n\n**Branch/Commit:** [a50460ecddfc9595c6693b4c6d46f1a6b9ad1454](https://github.com/sagemath/sagetrac-mirror/commit/a50460ecddfc9595c6693b4c6d46f1a6b9ad1454)\n\n**Reviewer:** John Palmieri\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/34268\n\n",
    "closed_at": "2022-10-11T09:14:43Z",
    "created_at": "2022-08-03T16:31:06Z",
    "labels": [
        "component: packages: standard",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "title": "Reduce R to a dummy package, upgrade rpy2 to 3.4.5",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/34268",
    "user": "https://github.com/mkoeppe"
}
```
We reduce the unmaintained `r` package (stuck at 3.6.3) so that we detect a system installation of R (>= 3.5) but do not attempt to install it ourselves.

When R is found as a system package, `rpy2` will be built; otherwise it won't.

rpy2 3.5.x only supports R >= 4.0 according to
https://rpy2.github.io/doc/v3.5.x/html/overview.html#requirements

Here we upgrade rpy2 to 3.4.5, the latest that still supports R >= 3.5 according to https://rpy2.github.io/doc/v3.4.x/html/overview.html#requirements

Support for R < 3.5 was already dropped in the rpy 3.3.x series (our current version of rpy2 is 3.3.6).

According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms:
- `ubuntu-trusty` (R 3.0.2; past [End of Standard Support](https://wiki.ubuntu.com/Releases); EOL April 2024]), 
- `ubuntu-xenial` (R 3.2.3; past End of Standard Support; EOL April 2026), 
- `ubuntu-bionic` (R 3.4.4; End of Standard Support: April 2023)
- `debian-stretch` (R 3.3.3; past EOL)
- `fedora-26` (R 3.4.4; past EOL), 
as well as on Cygwin. (See #32074)


Depends on #34193

**CC:**  @EmmanuelCharpentier @videlec @dimpase @isuruf @jhpalmieri @novoselt @williamstein

**Branch/Commit:** [a50460ecddfc9595c6693b4c6d46f1a6b9ad1454](https://github.com/sagemath/sagetrac-mirror/commit/a50460ecddfc9595c6693b4c6d46f1a6b9ad1454)

**Reviewer:** John Palmieri

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/34268





---

archive/issue_comments_556045.json:
```json
{
    "body": "<a id='comment:1'></a>\ngood idea",
    "created_at": "2022-08-03T16:48:21Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556045",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>
good idea



---

archive/issue_comments_556046.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n We reduce the unmaintained `r` package (stuck at 3.6.3) so that we detect a system installation of R but do not attempt to install it ourselves.\n \n-When found as a system package, `rpy2` will be built; otherwise it won't.\n+When R is found as a system package, `rpy2` will be built; otherwise it won't.\n``````\n",
    "created_at": "2022-08-03T18:03:09Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556046",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 We reduce the unmaintained `r` package (stuck at 3.6.3) so that we detect a system installation of R but do not attempt to install it ourselves.
 
-When found as a system package, `rpy2` will be built; otherwise it won't.
+When R is found as a system package, `rpy2` will be built; otherwise it won't.
``````




---

archive/issue_comments_556047.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/reduce_r_to_a_dummy_package__upgrade_rpy2](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/reduce_r_to_a_dummy_package__upgrade_rpy2)",
    "created_at": "2022-08-03T18:10:09Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556047",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/reduce_r_to_a_dummy_package__upgrade_rpy2](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/reduce_r_to_a_dummy_package__upgrade_rpy2)



---

archive/issue_comments_556048.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cbcff37cf7e95a51bfa511a6aeb342ced2989e2e\">cbcff37</a></td><td><code>build/pkgs/rpy2: Mark as not required when there is no R</code></td></tr></table>\n",
    "created_at": "2022-08-03T18:40:54Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556048",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cbcff37cf7e95a51bfa511a6aeb342ced2989e2e">cbcff37</a></td><td><code>build/pkgs/rpy2: Mark as not required when there is no R</code></td></tr></table>




---

archive/issue_comments_556049.json:
```json
{
    "body": "**Commit:** [cbcff37cf7e95a51bfa511a6aeb342ced2989e2e](https://github.com/sagemath/sagetrac-mirror/commit/cbcff37cf7e95a51bfa511a6aeb342ced2989e2e)",
    "created_at": "2022-08-03T18:40:54Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556049",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [cbcff37cf7e95a51bfa511a6aeb342ced2989e2e](https://github.com/sagemath/sagetrac-mirror/commit/cbcff37cf7e95a51bfa511a6aeb342ced2989e2e)



---

archive/issue_comments_556050.json:
```json
{
    "body": "**Changing commit** from \"[cbcff37cf7e95a51bfa511a6aeb342ced2989e2e](https://github.com/sagemath/sagetrac-mirror/commit/cbcff37cf7e95a51bfa511a6aeb342ced2989e2e)\" to \"[004bac5988061dcdcae9a2634fb71811e73127c0](https://github.com/sagemath/sagetrac-mirror/commit/004bac5988061dcdcae9a2634fb71811e73127c0)\".",
    "created_at": "2022-08-03T18:46:34Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556050",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cbcff37cf7e95a51bfa511a6aeb342ced2989e2e](https://github.com/sagemath/sagetrac-mirror/commit/cbcff37cf7e95a51bfa511a6aeb342ced2989e2e)" to "[004bac5988061dcdcae9a2634fb71811e73127c0](https://github.com/sagemath/sagetrac-mirror/commit/004bac5988061dcdcae9a2634fb71811e73127c0)".



---

archive/issue_comments_556051.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/004bac5988061dcdcae9a2634fb71811e73127c0\">004bac5</a></td><td><code>build/pkgs/r: Restore spkg-legacy-uninstall as spkg-uninstall script</code></td></tr></table>\n",
    "created_at": "2022-08-03T18:46:34Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556051",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/004bac5988061dcdcae9a2634fb71811e73127c0">004bac5</a></td><td><code>build/pkgs/r: Restore spkg-legacy-uninstall as spkg-uninstall script</code></td></tr></table>




---

archive/issue_comments_556052.json:
```json
{
    "body": "**Dependencies:** #34193",
    "created_at": "2022-08-03T18:47:04Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556052",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #34193



---

archive/issue_comments_556053.json:
```json
{
    "body": "**Changing commit** from \"[004bac5988061dcdcae9a2634fb71811e73127c0](https://github.com/sagemath/sagetrac-mirror/commit/004bac5988061dcdcae9a2634fb71811e73127c0)\" to \"[77a2474551a0761253a5a59e609a32a8de560f10](https://github.com/sagemath/sagetrac-mirror/commit/77a2474551a0761253a5a59e609a32a8de560f10)\".",
    "created_at": "2022-08-03T18:52:38Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556053",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[004bac5988061dcdcae9a2634fb71811e73127c0](https://github.com/sagemath/sagetrac-mirror/commit/004bac5988061dcdcae9a2634fb71811e73127c0)" to "[77a2474551a0761253a5a59e609a32a8de560f10](https://github.com/sagemath/sagetrac-mirror/commit/77a2474551a0761253a5a59e609a32a8de560f10)".



---

archive/issue_comments_556054.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b615614540ce14b378b2aa888c46ddd7cd7516a\">1b61561</a></td><td><code>m4/sage_spkg_collect.m4: Display installed package version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/215fbbcc8c45e2a05843c2338b0bf91f0d66896a\">215fbbc</a></td><td><code>m4/sage_spkg_collect.m4: Omit 'version none' in messages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8273456d1bdc162dedd190b396d28034d0ebfd43\">8273456</a></td><td><code>m4/sage_spkg_collect.m4: Show installed versions / upgrade information</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9574e8c31c81a180254d754fd8fd1670dff3db2b\">9574e8c</a></td><td><code>m4/sage_spkg_collect.m4: Handle multiple installation records better</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1a4aacf3a197d6be3310efd05195d15986f26be\">b1a4aac</a></td><td><code>build/make/Makefile.in: For script packages, remove old installation records</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/515a78540cfa87d55042a272f8cdca2181268ba7\">515a785</a></td><td><code>m4/sage_spkg_collect.m4: Update comment regarding multiple installation records of script packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46a08706f96c2b330b59a42c950bcf8ce986d77a\">46a0870</a></td><td><code>m4/sage_spkg_collect.m4: Actually find installation records in SAGE_VENV when that is set implicitly</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7bda1cb48d3b4e7b842521868c0e4a55071d6b30\">7bda1cb</a></td><td><code>m4/sage_spkg_collect.m4: Restore uninstall message</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/551b2a2d14432673d132fac50ede0738a5378df3\">551b2a2</a></td><td><code>Merge #34193</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/77a2474551a0761253a5a59e609a32a8de560f10\">77a2474</a></td><td><code>build/make/Makefile.in: When uninstalling script packages, remove all versions of stamp files</code></td></tr></table>\n",
    "created_at": "2022-08-03T18:52:38Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556054",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b615614540ce14b378b2aa888c46ddd7cd7516a">1b61561</a></td><td><code>m4/sage_spkg_collect.m4: Display installed package version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/215fbbcc8c45e2a05843c2338b0bf91f0d66896a">215fbbc</a></td><td><code>m4/sage_spkg_collect.m4: Omit 'version none' in messages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8273456d1bdc162dedd190b396d28034d0ebfd43">8273456</a></td><td><code>m4/sage_spkg_collect.m4: Show installed versions / upgrade information</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9574e8c31c81a180254d754fd8fd1670dff3db2b">9574e8c</a></td><td><code>m4/sage_spkg_collect.m4: Handle multiple installation records better</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1a4aacf3a197d6be3310efd05195d15986f26be">b1a4aac</a></td><td><code>build/make/Makefile.in: For script packages, remove old installation records</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/515a78540cfa87d55042a272f8cdca2181268ba7">515a785</a></td><td><code>m4/sage_spkg_collect.m4: Update comment regarding multiple installation records of script packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46a08706f96c2b330b59a42c950bcf8ce986d77a">46a0870</a></td><td><code>m4/sage_spkg_collect.m4: Actually find installation records in SAGE_VENV when that is set implicitly</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7bda1cb48d3b4e7b842521868c0e4a55071d6b30">7bda1cb</a></td><td><code>m4/sage_spkg_collect.m4: Restore uninstall message</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/551b2a2d14432673d132fac50ede0738a5378df3">551b2a2</a></td><td><code>Merge #34193</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/77a2474551a0761253a5a59e609a32a8de560f10">77a2474</a></td><td><code>build/make/Makefile.in: When uninstalling script packages, remove all versions of stamp files</code></td></tr></table>




---

archive/issue_comments_556055.json:
```json
{
    "body": "**Changing commit** from \"[77a2474551a0761253a5a59e609a32a8de560f10](https://github.com/sagemath/sagetrac-mirror/commit/77a2474551a0761253a5a59e609a32a8de560f10)\" to \"[5e3e4bee3dfddd012cc734afb94863d19566e63b](https://github.com/sagemath/sagetrac-mirror/commit/5e3e4bee3dfddd012cc734afb94863d19566e63b)\".",
    "created_at": "2022-08-03T19:09:23Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556055",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[77a2474551a0761253a5a59e609a32a8de560f10](https://github.com/sagemath/sagetrac-mirror/commit/77a2474551a0761253a5a59e609a32a8de560f10)" to "[5e3e4bee3dfddd012cc734afb94863d19566e63b](https://github.com/sagemath/sagetrac-mirror/commit/5e3e4bee3dfddd012cc734afb94863d19566e63b)".



---

archive/issue_comments_556056.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7069512f71d1ca689f0d3e34a22d7d04c27a2adb\">7069512</a></td><td><code>build/pkgs/rpy2: Update to 3.5.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e3e4bee3dfddd012cc734afb94863d19566e63b\">5e3e4be</a></td><td><code>build/pkgs/r/spkg-configure.m4: Remove depcheck</code></td></tr></table>\n",
    "created_at": "2022-08-03T19:09:23Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556056",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7069512f71d1ca689f0d3e34a22d7d04c27a2adb">7069512</a></td><td><code>build/pkgs/rpy2: Update to 3.5.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e3e4bee3dfddd012cc734afb94863d19566e63b">5e3e4be</a></td><td><code>build/pkgs/r/spkg-configure.m4: Remove depcheck</code></td></tr></table>




---

archive/issue_comments_556057.json:
```json
{
    "body": "**Changing commit** from \"[5e3e4bee3dfddd012cc734afb94863d19566e63b](https://github.com/sagemath/sagetrac-mirror/commit/5e3e4bee3dfddd012cc734afb94863d19566e63b)\" to \"[9887c7e2ebf8082eb9dd17e8c2c1987b912b6d19](https://github.com/sagemath/sagetrac-mirror/commit/9887c7e2ebf8082eb9dd17e8c2c1987b912b6d19)\".",
    "created_at": "2022-08-03T19:19:09Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556057",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5e3e4bee3dfddd012cc734afb94863d19566e63b](https://github.com/sagemath/sagetrac-mirror/commit/5e3e4bee3dfddd012cc734afb94863d19566e63b)" to "[9887c7e2ebf8082eb9dd17e8c2c1987b912b6d19](https://github.com/sagemath/sagetrac-mirror/commit/9887c7e2ebf8082eb9dd17e8c2c1987b912b6d19)".



---

archive/issue_comments_556058.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54c0b55c40f4989ad9ecce535205f6a9322f40c4\">54c0b55</a></td><td><code>build/pkgs/rpy2/patches/716.patch: Remove (upstreamed)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9887c7e2ebf8082eb9dd17e8c2c1987b912b6d19\">9887c7e</a></td><td><code>build/pkgs/rpy2/patches/setup-no-pytest.patch: Remove, obsolete</code></td></tr></table>\n",
    "created_at": "2022-08-03T19:19:09Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556058",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54c0b55c40f4989ad9ecce535205f6a9322f40c4">54c0b55</a></td><td><code>build/pkgs/rpy2/patches/716.patch: Remove (upstreamed)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9887c7e2ebf8082eb9dd17e8c2c1987b912b6d19">9887c7e</a></td><td><code>build/pkgs/rpy2/patches/setup-no-pytest.patch: Remove, obsolete</code></td></tr></table>




---

archive/issue_comments_556059.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2022-08-03T19:20:11Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556059",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_events_304939.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-03T19:20:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34268#event-304939"
}
```



---

archive/issue_events_304940.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-03T19:49:54Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "rename": {
        "from": "Reduce R to a dummy package, upgrade rpy2",
        "to": "Reduce R to a dummy package, upgrade rpy2 to 3.5.3"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34268#event-304940"
}
```



---

archive/issue_comments_556060.json:
```json
{
    "body": "**Changing commit** from \"[9887c7e2ebf8082eb9dd17e8c2c1987b912b6d19](https://github.com/sagemath/sagetrac-mirror/commit/9887c7e2ebf8082eb9dd17e8c2c1987b912b6d19)\" to \"[e54b60c3ac14235792f3ffec9528da7032256eb6](https://github.com/sagemath/sagetrac-mirror/commit/e54b60c3ac14235792f3ffec9528da7032256eb6)\".",
    "created_at": "2022-08-03T19:52:00Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556060",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9887c7e2ebf8082eb9dd17e8c2c1987b912b6d19](https://github.com/sagemath/sagetrac-mirror/commit/9887c7e2ebf8082eb9dd17e8c2c1987b912b6d19)" to "[e54b60c3ac14235792f3ffec9528da7032256eb6](https://github.com/sagemath/sagetrac-mirror/commit/e54b60c3ac14235792f3ffec9528da7032256eb6)".



---

archive/issue_comments_556061.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e54b60c3ac14235792f3ffec9528da7032256eb6\">e54b60c</a></td><td><code>build/pkgs/r/spkg-configure.m4: Bump required r version for rpy2</code></td></tr></table>\n",
    "created_at": "2022-08-03T19:52:00Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556061",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e54b60c3ac14235792f3ffec9528da7032256eb6">e54b60c</a></td><td><code>build/pkgs/r/spkg-configure.m4: Bump required r version for rpy2</code></td></tr></table>




---

archive/issue_events_304941.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-03T20:05:33Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "rename": {
        "from": "Reduce R to a dummy package, upgrade rpy2 to 3.5.3",
        "to": "Reduce R to a dummy package, upgrade rpy2 to 3.4.5"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34268#event-304941"
}
```



---

archive/issue_comments_556062.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,13 @@\n-We reduce the unmaintained `r` package (stuck at 3.6.3) so that we detect a system installation of R but do not attempt to install it ourselves.\n+We reduce the unmaintained `r` package (stuck at 3.6.3) so that we detect a system installation of R (>= 3.5) but do not attempt to install it ourselves.\n \n When R is found as a system package, `rpy2` will be built; otherwise it won't.\n+\n+rpy2 3.5.x only supports R >= 4.0 according to\n+https://rpy2.github.io/doc/v3.5.x/html/overview.html#requirements\n+\n+Here we upgrade rpy2 to 3.4.5, the latest that still supports R >= 3.5 according to https://rpy2.github.io/doc/v3.4.x/html/overview.html#requirements\n+\n+Support for R < 3.5 was already dropped in the rpy 3.3.x series (our current version of rpy2 is 3.3.6).\n+\n+According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms `ubuntu-trusty` (R 3.0.2), `ubuntu-xenial` (R 3.2.3), `ubuntu-bionic` (R 3.4.4), `debian-stretch` (R 3.3.3), and `fedora-26` (R 3.4.4).\n+\n``````\n",
    "created_at": "2022-08-03T20:05:33Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556062",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,13 @@
-We reduce the unmaintained `r` package (stuck at 3.6.3) so that we detect a system installation of R but do not attempt to install it ourselves.
+We reduce the unmaintained `r` package (stuck at 3.6.3) so that we detect a system installation of R (>= 3.5) but do not attempt to install it ourselves.
 
 When R is found as a system package, `rpy2` will be built; otherwise it won't.
+
+rpy2 3.5.x only supports R >= 4.0 according to
+https://rpy2.github.io/doc/v3.5.x/html/overview.html#requirements
+
+Here we upgrade rpy2 to 3.4.5, the latest that still supports R >= 3.5 according to https://rpy2.github.io/doc/v3.4.x/html/overview.html#requirements
+
+Support for R < 3.5 was already dropped in the rpy 3.3.x series (our current version of rpy2 is 3.3.6).
+
+According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms `ubuntu-trusty` (R 3.0.2), `ubuntu-xenial` (R 3.2.3), `ubuntu-bionic` (R 3.4.4), `debian-stretch` (R 3.3.3), and `fedora-26` (R 3.4.4).
+
``````




---

archive/issue_comments_556063.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83a751a186e9ed0f38d549b69b16bb28e0126e70\">83a751a</a></td><td><code>build/pkgs/rpy2: Downgrade to 3.4.5</code></td></tr></table>\n",
    "created_at": "2022-08-03T20:06:06Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556063",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83a751a186e9ed0f38d549b69b16bb28e0126e70">83a751a</a></td><td><code>build/pkgs/rpy2: Downgrade to 3.4.5</code></td></tr></table>




---

archive/issue_comments_556064.json:
```json
{
    "body": "**Changing commit** from \"[e54b60c3ac14235792f3ffec9528da7032256eb6](https://github.com/sagemath/sagetrac-mirror/commit/e54b60c3ac14235792f3ffec9528da7032256eb6)\" to \"[83a751a186e9ed0f38d549b69b16bb28e0126e70](https://github.com/sagemath/sagetrac-mirror/commit/83a751a186e9ed0f38d549b69b16bb28e0126e70)\".",
    "created_at": "2022-08-03T20:06:06Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556064",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e54b60c3ac14235792f3ffec9528da7032256eb6](https://github.com/sagemath/sagetrac-mirror/commit/e54b60c3ac14235792f3ffec9528da7032256eb6)" to "[83a751a186e9ed0f38d549b69b16bb28e0126e70](https://github.com/sagemath/sagetrac-mirror/commit/83a751a186e9ed0f38d549b69b16bb28e0126e70)".



---

archive/issue_comments_556065.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -9,5 +9,5 @@\n \n Support for R < 3.5 was already dropped in the rpy 3.3.x series (our current version of rpy2 is 3.3.6).\n \n-According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms `ubuntu-trusty` (R 3.0.2), `ubuntu-xenial` (R 3.2.3), `ubuntu-bionic` (R 3.4.4), `debian-stretch` (R 3.3.3), and `fedora-26` (R 3.4.4).\n+According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms `ubuntu-trusty` (R 3.0.2), `ubuntu-xenial` (R 3.2.3), `ubuntu-bionic` (R 3.4.4), `debian-stretch` (R 3.3.3), and `fedora-26` (R 3.4.4). (See #32074)\n \n``````\n",
    "created_at": "2022-08-03T20:11:31Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556065",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -9,5 +9,5 @@
 
 Support for R < 3.5 was already dropped in the rpy 3.3.x series (our current version of rpy2 is 3.3.6).
 
-According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms `ubuntu-trusty` (R 3.0.2), `ubuntu-xenial` (R 3.2.3), `ubuntu-bionic` (R 3.4.4), `debian-stretch` (R 3.3.3), and `fedora-26` (R 3.4.4).
+According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms `ubuntu-trusty` (R 3.0.2), `ubuntu-xenial` (R 3.2.3), `ubuntu-bionic` (R 3.4.4), `debian-stretch` (R 3.3.3), and `fedora-26` (R 3.4.4). (See #32074)
 
``````




---

archive/issue_comments_556066.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -9,5 +9,5 @@\n \n Support for R < 3.5 was already dropped in the rpy 3.3.x series (our current version of rpy2 is 3.3.6).\n \n-According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms `ubuntu-trusty` (R 3.0.2), `ubuntu-xenial` (R 3.2.3), `ubuntu-bionic` (R 3.4.4), `debian-stretch` (R 3.3.3), and `fedora-26` (R 3.4.4). (See #32074)\n+According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms `ubuntu-trusty` (R 3.0.2), `ubuntu-xenial` (R 3.2.3), `ubuntu-bionic` (R 3.4.4), `debian-stretch` (R 3.3.3), and `fedora-26` (R 3.4.4), as well as on Cygwin. (See #32074)\n \n``````\n",
    "created_at": "2022-08-03T20:12:54Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556066",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -9,5 +9,5 @@
 
 Support for R < 3.5 was already dropped in the rpy 3.3.x series (our current version of rpy2 is 3.3.6).
 
-According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms `ubuntu-trusty` (R 3.0.2), `ubuntu-xenial` (R 3.2.3), `ubuntu-bionic` (R 3.4.4), `debian-stretch` (R 3.3.3), and `fedora-26` (R 3.4.4). (See #32074)
+According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms `ubuntu-trusty` (R 3.0.2), `ubuntu-xenial` (R 3.2.3), `ubuntu-bionic` (R 3.4.4), `debian-stretch` (R 3.3.3), and `fedora-26` (R 3.4.4), as well as on Cygwin. (See #32074)
 
``````




---

archive/issue_events_304942.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-03T20:31:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34268#event-304942"
}
```



---

archive/issue_events_304943.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-03T20:31:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34268#event-304943"
}
```



---

archive/issue_comments_556067.json:
```json
{
    "body": "**Changing dependencies** from \"#34193\" to \"#34193, #32074\".",
    "created_at": "2022-08-03T20:44:11Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556067",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#34193" to "#34193, #32074".



---

archive/issue_comments_556068.json:
```json
{
    "body": "<a id='comment:20'></a>\nHow about requiring R to be at least version 4 (4.0.0 was released over two years ago)? The current R version is 4.2.1.\nThis would allow newer rpy2.",
    "created_at": "2022-08-04T09:26:44Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556068",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>
How about requiring R to be at least version 4 (4.0.0 was released over two years ago)? The current R version is 4.2.1.
This would allow newer rpy2.



---

archive/issue_comments_556069.json:
```json
{
    "body": "<a id='comment:21'></a>\nHow do the \"rpy2\" optional tests in [interfaces/r.py](https://github.com/sagemath/sage/blob/develop/src/sage/interfaces/r.py) do with this?",
    "created_at": "2022-08-04T12:32:05Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556069",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:21'></a>
How do the "rpy2" optional tests in [interfaces/r.py](https://github.com/sagemath/sage/blob/develop/src/sage/interfaces/r.py) do with this?



---

archive/issue_comments_556070.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [kcrisman](#comment%3A21):\n> How do the \"rpy2\" optional tests in [interfaces/r.py](https://github.com/sagemath/sage/blob/develop/src/sage/interfaces/r.py) do with this?\n\nNo change necessary",
    "created_at": "2022-08-04T16:50:35Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556070",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
Replying to [kcrisman](#comment%3A21):
> How do the "rpy2" optional tests in [interfaces/r.py](https://github.com/sagemath/sage/blob/develop/src/sage/interfaces/r.py) do with this?

No change necessary



---

archive/issue_comments_556071.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [dimpase](#comment%3A20):\n> How about requiring R to be at least version 4 (4.0.0 was released over two years ago)? The current R version is 4.2.1.\n\nThis would make R unavailable on a lot more platforms, so I don't think it would be the right choice.\n\nSee https://repology.org/project/r/versions: `debian-buster`, `fedora` <= 32, `opensuse` <= 15.3, `ubuntu` <= focal",
    "created_at": "2022-08-04T16:54:22Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556071",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
Replying to [dimpase](#comment%3A20):
> How about requiring R to be at least version 4 (4.0.0 was released over two years ago)? The current R version is 4.2.1.

This would make R unavailable on a lot more platforms, so I don't think it would be the right choice.

See https://repology.org/project/r/versions: `debian-buster`, `fedora` <= 32, `opensuse` <= 15.3, `ubuntu` <= focal



---

archive/issue_comments_556072.json:
```json
{
    "body": "<a id='comment:24'></a>\nFedora <= 32 is past EOL. We should not be concerned about it.\nFurther, accoding to https://cran.r-project.org/bin/linux/ubuntu/fullREADME.html, Ubunty Focal LTS has R 4.2.",
    "created_at": "2022-08-05T09:55:44Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556072",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>
Fedora <= 32 is past EOL. We should not be concerned about it.
Further, accoding to https://cran.r-project.org/bin/linux/ubuntu/fullREADME.html, Ubunty Focal LTS has R 4.2.



---

archive/issue_comments_556073.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [dimpase](#comment%3A24):\n> Further, accoding to https://cran.r-project.org/bin/linux/ubuntu/fullREADME.html, Ubunty Focal LTS has R 4.2.\n\nNo, that's not what the page says.\n\nThey are offering a custom repository with their own package for ubuntu focal.",
    "created_at": "2022-08-05T16:00:16Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556073",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Replying to [dimpase](#comment%3A24):
> Further, accoding to https://cran.r-project.org/bin/linux/ubuntu/fullREADME.html, Ubunty Focal LTS has R 4.2.

No, that's not what the page says.

They are offering a custom repository with their own package for ubuntu focal.



---

archive/issue_comments_556074.json:
```json
{
    "body": "<a id='comment:26'></a>\nOther than just the fact that it's newer, what is the compelling reason to push for a later version than 3.4.5 of `rpy2`?",
    "created_at": "2022-08-05T16:45:12Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556074",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:26'></a>
Other than just the fact that it's newer, what is the compelling reason to push for a later version than 3.4.5 of `rpy2`?



---

archive/issue_comments_556075.json:
```json
{
    "body": "<a id='comment:27'></a>\nI don't think there's a good reason, in particular given that there is zero evidence for the existence of any active users of our R interface",
    "created_at": "2022-08-05T17:01:36Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556075",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>
I don't think there's a good reason, in particular given that there is zero evidence for the existence of any active users of our R interface



---

archive/issue_comments_556076.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [mkoeppe](#comment%3A27):\n> I don't think there's a good reason, in particular given that there is zero evidence for the existence of any active users of our R interface\n\nJust a few hours ago I got a request for some improvements to how R is handled in [SageMathCell](SageMathCell), which does rely on our R interface. There were other discussions involving it over the years. So while I cannot say how wide-spread it is, there are certainly users out there and I would appreciate continuation of the support which is available via standard means, i.e. either by installing Sage and its packages, or using standard system packages. Using other custom repositories is highly undesirable as it tends to break over time.",
    "created_at": "2022-08-05T17:20:25Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556076",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:28'></a>
Replying to [mkoeppe](#comment%3A27):
> I don't think there's a good reason, in particular given that there is zero evidence for the existence of any active users of our R interface

Just a few hours ago I got a request for some improvements to how R is handled in [SageMathCell](SageMathCell), which does rely on our R interface. There were other discussions involving it over the years. So while I cannot say how wide-spread it is, there are certainly users out there and I would appreciate continuation of the support which is available via standard means, i.e. either by installing Sage and its packages, or using standard system packages. Using other custom repositories is highly undesirable as it tends to break over time.



---

archive/issue_comments_556077.json:
```json
{
    "body": "<a id='comment:29'></a>\nAre you using system R on SageMathCell or a build of R from the SPKG?",
    "created_at": "2022-08-05T17:24:35Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556077",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
Are you using system R on SageMathCell or a build of R from the SPKG?



---

archive/issue_comments_556078.json:
```json
{
    "body": "<a id='comment:30'></a>\nSPKG, as far as I know. I didn't explore if it is already an option to use the system one.",
    "created_at": "2022-08-05T17:30:26Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556078",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:30'></a>
SPKG, as far as I know. I didn't explore if it is already an option to use the system one.



---

archive/issue_comments_556079.json:
```json
{
    "body": "<a id='comment:31'></a>\n> > I don't think there's a good reason, in particular given that there is zero evidence for the existence of any active users of our R interface\n\n> \n> Just a few hours ago I got a request for some improvements to how R is handled in [SageMathCell](SageMathCell), which does rely on our R interface. There were other discussions involving it over the years. So while I cannot say how wide-spread it is, there are certainly users out there\n\nThanks for pointing this out.  R (via the zillions of packages) provides access to so many weird numerical methods and other things that removing the interface seems unwise, even if it's not a prime use of Sage.  (This conversation seems to come up about every three years on sage-devel as well, where people come out of the woodwork; I've used the R interface for research purposes on several occasions myself.)",
    "created_at": "2022-08-05T17:36:17Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556079",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:31'></a>
> > I don't think there's a good reason, in particular given that there is zero evidence for the existence of any active users of our R interface

> 
> Just a few hours ago I got a request for some improvements to how R is handled in [SageMathCell](SageMathCell), which does rely on our R interface. There were other discussions involving it over the years. So while I cannot say how wide-spread it is, there are certainly users out there

Thanks for pointing this out.  R (via the zillions of packages) provides access to so many weird numerical methods and other things that removing the interface seems unwise, even if it's not a prime use of Sage.  (This conversation seems to come up about every three years on sage-devel as well, where people come out of the woodwork; I've used the R interface for research purposes on several occasions myself.)



---

archive/issue_comments_556080.json:
```json
{
    "body": "<a id='comment:32'></a>\nUsing system R has been the default since #28884 (Sage 9.1)",
    "created_at": "2022-08-05T17:36:39Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556080",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'></a>
Using system R has been the default since #28884 (Sage 9.1)



---

archive/issue_comments_556081.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [kcrisman](#comment%3A31):\n> removing the interface seems unwise\n\nThis is not proposed on this ticket",
    "created_at": "2022-08-05T17:37:37Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556081",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
Replying to [kcrisman](#comment%3A31):
> removing the interface seems unwise

This is not proposed on this ticket



---

archive/issue_comments_556082.json:
```json
{
    "body": "<a id='comment:34'></a>\n> > removing the interface seems unwise\n\n> This is not proposed on this ticket\n\nno worries, just being proactive regarding the phrase \"given that there is zero evidence\" which could be misinterpreted",
    "created_at": "2022-08-05T17:41:41Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556082",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:34'></a>
> > removing the interface seems unwise

> This is not proposed on this ticket

no worries, just being proactive regarding the phrase "given that there is zero evidence" which could be misinterpreted



---

archive/issue_comments_556083.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [novoselt](#comment%3A30):\n> SPKG, as far as I know. I didn't explore if it is already an option to use the system one.\n\nThe files in https://github.com/sagemath/sagecell/tree/master/contrib/vm suggest that you are using `ubuntu-bionic`, so if this is what you use in production, you will be affected by the proposed change.\n\nThe ticket is marked for the Sage 9.8 milestone, so you'll have plenty of time to do an upgrade to the current LTS (`ubuntu-jammy`)",
    "created_at": "2022-08-05T17:47:53Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556083",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'></a>
Replying to [novoselt](#comment%3A30):
> SPKG, as far as I know. I didn't explore if it is already an option to use the system one.

The files in https://github.com/sagemath/sagecell/tree/master/contrib/vm suggest that you are using `ubuntu-bionic`, so if this is what you use in production, you will be affected by the proposed change.

The ticket is marked for the Sage 9.8 milestone, so you'll have plenty of time to do an upgrade to the current LTS (`ubuntu-jammy`)



---

archive/issue_comments_556084.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -9,5 +9,11 @@\n \n Support for R < 3.5 was already dropped in the rpy 3.3.x series (our current version of rpy2 is 3.3.6).\n \n-According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms `ubuntu-trusty` (R 3.0.2), `ubuntu-xenial` (R 3.2.3), `ubuntu-bionic` (R 3.4.4), `debian-stretch` (R 3.3.3), and `fedora-26` (R 3.4.4), as well as on Cygwin. (See #32074)\n+According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms:\n+- `ubuntu-trusty` (R 3.0.2), \n+- `ubuntu-xenial` (R 3.2.3), \n+- `ubuntu-bionic` (R 3.4.4; End of Standard Support: April 2023)\n+- `debian-stretch` (R 3.3.3)\n+- `fedora-26` (R 3.4.4), \n+as well as on Cygwin. (See #32074)\n \n``````\n",
    "created_at": "2022-08-05T17:59:05Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556084",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -9,5 +9,11 @@
 
 Support for R < 3.5 was already dropped in the rpy 3.3.x series (our current version of rpy2 is 3.3.6).
 
-According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms `ubuntu-trusty` (R 3.0.2), `ubuntu-xenial` (R 3.2.3), `ubuntu-bionic` (R 3.4.4), `debian-stretch` (R 3.3.3), and `fedora-26` (R 3.4.4), as well as on Cygwin. (See #32074)
+According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms:
+- `ubuntu-trusty` (R 3.0.2), 
+- `ubuntu-xenial` (R 3.2.3), 
+- `ubuntu-bionic` (R 3.4.4; End of Standard Support: April 2023)
+- `debian-stretch` (R 3.3.3)
+- `fedora-26` (R 3.4.4), 
+as well as on Cygwin. (See #32074)
 
``````




---

archive/issue_comments_556085.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,10 +10,10 @@\n Support for R < 3.5 was already dropped in the rpy 3.3.x series (our current version of rpy2 is 3.3.6).\n \n According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms:\n-- `ubuntu-trusty` (R 3.0.2), \n-- `ubuntu-xenial` (R 3.2.3), \n+- `ubuntu-trusty` (R 3.0.2; past [[End of Standard Support](https://wiki.ubuntu.com/Releases); EOL April 2024]), \n+- `ubuntu-xenial` (R 3.2.3; past End of Standard Support; EOL April 2026), \n - `ubuntu-bionic` (R 3.4.4; End of Standard Support: April 2023)\n-- `debian-stretch` (R 3.3.3)\n-- `fedora-26` (R 3.4.4), \n+- `debian-stretch` (R 3.3.3; past EOL)\n+- `fedora-26` (R 3.4.4; past EOL), \n as well as on Cygwin. (See #32074)\n \n``````\n",
    "created_at": "2022-08-05T18:01:13Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556085",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,10 +10,10 @@
 Support for R < 3.5 was already dropped in the rpy 3.3.x series (our current version of rpy2 is 3.3.6).
 
 According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms:
-- `ubuntu-trusty` (R 3.0.2), 
-- `ubuntu-xenial` (R 3.2.3), 
+- `ubuntu-trusty` (R 3.0.2; past [[End of Standard Support](https://wiki.ubuntu.com/Releases); EOL April 2024]), 
+- `ubuntu-xenial` (R 3.2.3; past End of Standard Support; EOL April 2026), 
 - `ubuntu-bionic` (R 3.4.4; End of Standard Support: April 2023)
-- `debian-stretch` (R 3.3.3)
-- `fedora-26` (R 3.4.4), 
+- `debian-stretch` (R 3.3.3; past EOL)
+- `fedora-26` (R 3.4.4; past EOL), 
 as well as on Cygwin. (See #32074)
 
``````




---

archive/issue_comments_556086.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n Support for R < 3.5 was already dropped in the rpy 3.3.x series (our current version of rpy2 is 3.3.6).\n \n According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms:\n-- `ubuntu-trusty` (R 3.0.2; past [[End of Standard Support](https://wiki.ubuntu.com/Releases); EOL April 2024]), \n+- `ubuntu-trusty` (R 3.0.2; past [End of Standard Support](https://wiki.ubuntu.com/Releases); EOL April 2024]), \n - `ubuntu-xenial` (R 3.2.3; past End of Standard Support; EOL April 2026), \n - `ubuntu-bionic` (R 3.4.4; End of Standard Support: April 2023)\n - `debian-stretch` (R 3.3.3; past EOL)\n``````\n",
    "created_at": "2022-08-05T18:01:39Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556086",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 Support for R < 3.5 was already dropped in the rpy 3.3.x series (our current version of rpy2 is 3.3.6).
 
 According to https://repology.org/project/r/versions, we will thus drop support for R on the ancient platforms:
-- `ubuntu-trusty` (R 3.0.2; past [[End of Standard Support](https://wiki.ubuntu.com/Releases); EOL April 2024]), 
+- `ubuntu-trusty` (R 3.0.2; past [End of Standard Support](https://wiki.ubuntu.com/Releases); EOL April 2024]), 
 - `ubuntu-xenial` (R 3.2.3; past End of Standard Support; EOL April 2026), 
 - `ubuntu-bionic` (R 3.4.4; End of Standard Support: April 2023)
 - `debian-stretch` (R 3.3.3; past EOL)
``````




---

archive/issue_comments_556087.json:
```json
{
    "body": "<a id='comment:40'></a>\nReplying to [jhpalmieri](#comment%3A26):\n> Other than just the fact that it's newer, what is the compelling reason to push for a later version than 3.4.5 of `rpy2`?\n\nUpstreams hate to support old versions, that's the main reason.",
    "created_at": "2022-08-05T22:12:01Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556087",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:40'></a>
Replying to [jhpalmieri](#comment%3A26):
> Other than just the fact that it's newer, what is the compelling reason to push for a later version than 3.4.5 of `rpy2`?

Upstreams hate to support old versions, that's the main reason.



---

archive/issue_comments_556088.json:
```json
{
    "body": "<a id='comment:41'></a>\nI'd say that's not concrete enough to dictate that an upgrade has to go all the way to the most recent version. (Previous updates to rpy2 were done in 2020.)",
    "created_at": "2022-08-05T23:49:57Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556088",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'></a>
I'd say that's not concrete enough to dictate that an upgrade has to go all the way to the most recent version. (Previous updates to rpy2 were done in 2020.)



---

archive/issue_comments_556089.json:
```json
{
    "body": "<a id='comment:42'></a>\nSomething is going wrong with prerequisites. From `sagemath_doc_html-none.log`:\n\n```\npkg_resources.DistributionNotFound: The 'rpy2<3.4,>=3.3' distribution was not found and is required by sagemath-standard\n```\n(The `rpy2` package has not yet been built \u2014 it's still in progress trying to download the tarball. Since the downloading timeouts can take a while, is there any way to tell Sage to skip the standard mirrors and just jump straight to the option given by `--enable-download-from-upstream-url`?)",
    "created_at": "2022-08-22T03:24:24Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556089",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:42'></a>
Something is going wrong with prerequisites. From `sagemath_doc_html-none.log`:

```
pkg_resources.DistributionNotFound: The 'rpy2<3.4,>=3.3' distribution was not found and is required by sagemath-standard
```
(The `rpy2` package has not yet been built — it's still in progress trying to download the tarball. Since the downloading timeouts can take a while, is there any way to tell Sage to skip the standard mirrors and just jump straight to the option given by `--enable-download-from-upstream-url`?)



---

archive/issue_comments_556090.json:
```json
{
    "body": "<a id='comment:43'></a>\nReplying to [jhpalmieri](#comment%3A42):\n> Since the downloading timeouts can take a while, is there any way to tell Sage to skip the standard mirrors and just jump straight to the option given by `--enable-download-from-upstream-url`?)\n\nYou can edit the file `upstream/mirror_list` to remove most mirrors",
    "created_at": "2022-08-22T03:28:23Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556090",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'></a>
Replying to [jhpalmieri](#comment%3A42):
> Since the downloading timeouts can take a while, is there any way to tell Sage to skip the standard mirrors and just jump straight to the option given by `--enable-download-from-upstream-url`?)

You can edit the file `upstream/mirror_list` to remove most mirrors



---

archive/issue_comments_556091.json:
```json
{
    "body": "<a id='comment:44'></a>\nReplying to [jhpalmieri](#comment%3A42):\n> Something is going wrong with prerequisites. From `sagemath_doc_html-none.log`:\n> \n> ```\n> pkg_resources.DistributionNotFound: The 'rpy2<3.4,>=3.3' distribution was not found and is required by sagemath-standard\n> ```\n\nIs this giving an error, or does it continue after that?",
    "created_at": "2022-08-22T03:32:22Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556091",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:44'></a>
Replying to [jhpalmieri](#comment%3A42):
> Something is going wrong with prerequisites. From `sagemath_doc_html-none.log`:
> 
> ```
> pkg_resources.DistributionNotFound: The 'rpy2<3.4,>=3.3' distribution was not found and is required by sagemath-standard
> ```

Is this giving an error, or does it continue after that?



---

archive/issue_comments_556092.json:
```json
{
    "body": "<a id='comment:45'></a>\nReplying to [mkoeppe](#comment%3A44):\n> Replying to [jhpalmieri](#comment%3A42):\n> > Something is going wrong with prerequisites. From `sagemath_doc_html-none.log`:\n> > \n> > ```\n> > pkg_resources.DistributionNotFound: The 'rpy2<3.4,>=3.3' distribution was not found and is required by sagemath-standard\n> > ```\n\n> \n> Is this giving an error, or does it continue after that?\n\nThe message repeats many times, including a traceback, but the build continues.",
    "created_at": "2022-08-22T04:12:29Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556092",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:45'></a>
Replying to [mkoeppe](#comment%3A44):
> Replying to [jhpalmieri](#comment%3A42):
> > Something is going wrong with prerequisites. From `sagemath_doc_html-none.log`:
> > 
> > ```
> > pkg_resources.DistributionNotFound: The 'rpy2<3.4,>=3.3' distribution was not found and is required by sagemath-standard
> > ```

> 
> Is this giving an error, or does it continue after that?

The message repeats many times, including a traceback, but the build continues.



---

archive/issue_comments_556093.json:
```json
{
    "body": "<a id='comment:46'></a>\nRight, and of course it doesn't matter whether `rpy2` has been built, the same message appears, because this branch installs version 3.4.5 of `rpy2`, and that does not satisfy `rpy2<3.4,>=3.3`.",
    "created_at": "2022-08-22T04:13:54Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556093",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:46'></a>
Right, and of course it doesn't matter whether `rpy2` has been built, the same message appears, because this branch installs version 3.4.5 of `rpy2`, and that does not satisfy `rpy2<3.4,>=3.3`.



---

archive/issue_comments_556094.json:
```json
{
    "body": "<a id='comment:47'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ab9370968a0eb0a24ab50f987d1c7dbfec70664\">7ab9370</a></td><td><code>build/pkgs/rpy2/install-requires.txt: Remove upper version bound</code></td></tr></table>\n",
    "created_at": "2022-08-22T04:16:47Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556094",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ab9370968a0eb0a24ab50f987d1c7dbfec70664">7ab9370</a></td><td><code>build/pkgs/rpy2/install-requires.txt: Remove upper version bound</code></td></tr></table>




---

archive/issue_comments_556095.json:
```json
{
    "body": "**Changing commit** from \"[83a751a186e9ed0f38d549b69b16bb28e0126e70](https://github.com/sagemath/sagetrac-mirror/commit/83a751a186e9ed0f38d549b69b16bb28e0126e70)\" to \"[7ab9370968a0eb0a24ab50f987d1c7dbfec70664](https://github.com/sagemath/sagetrac-mirror/commit/7ab9370968a0eb0a24ab50f987d1c7dbfec70664)\".",
    "created_at": "2022-08-22T04:16:47Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556095",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[83a751a186e9ed0f38d549b69b16bb28e0126e70](https://github.com/sagemath/sagetrac-mirror/commit/83a751a186e9ed0f38d549b69b16bb28e0126e70)" to "[7ab9370968a0eb0a24ab50f987d1c7dbfec70664](https://github.com/sagemath/sagetrac-mirror/commit/7ab9370968a0eb0a24ab50f987d1c7dbfec70664)".



---

archive/issue_comments_556096.json:
```json
{
    "body": "<a id='comment:48'></a>\n`./configure` says\n\n```\n    notice: the following SPKGs did not find equivalent system packages:\n\n        rpy2   4ti2 _recommended cbc coxeter3 ffmpeg gp2c igraph libsemigroups lrslib pandoc pdf2svg perl_mongodb perl_term_readline_gnu polymake\n```\nDo you know why there seems to be extra space after `rpy2`?",
    "created_at": "2022-08-22T05:45:11Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556096",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:48'></a>
`./configure` says

```
    notice: the following SPKGs did not find equivalent system packages:

        rpy2   4ti2 _recommended cbc coxeter3 ffmpeg gp2c igraph libsemigroups lrslib pandoc pdf2svg perl_mongodb perl_term_readline_gnu polymake
```
Do you know why there seems to be extra space after `rpy2`?



---

archive/issue_comments_556097.json:
```json
{
    "body": "<a id='comment:49'></a>\nWith `./configure --with-system-r=no`, `rpy2` is not built and I see lots of warnings in docbuilding:\n\n```\npkg_resources.DistributionNotFound: The 'rpy2>=3.3' distribution was not found and is required by sagemath-standard\n```\nThe `scipy` log file says\n\n```\nsagemath-standard 9.7b8 requires networkx<3.0,>=2.4, which is not installed.\nsagemath-standard 9.7b8 requires rpy2>=3.3, which is not installed.\n```\n(`networkx-2.8.4` had not yet finished installing at this point.)",
    "created_at": "2022-08-22T06:38:14Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556097",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:49'></a>
With `./configure --with-system-r=no`, `rpy2` is not built and I see lots of warnings in docbuilding:

```
pkg_resources.DistributionNotFound: The 'rpy2>=3.3' distribution was not found and is required by sagemath-standard
```
The `scipy` log file says

```
sagemath-standard 9.7b8 requires networkx<3.0,>=2.4, which is not installed.
sagemath-standard 9.7b8 requires rpy2>=3.3, which is not installed.
```
(`networkx-2.8.4` had not yet finished installing at this point.)



---

archive/issue_comments_556098.json:
```json
{
    "body": "<a id='comment:50'></a>\nReplying to [jhpalmieri](#comment%3A48):\n> `./configure` says\n> \n> ```\n>     notice: the following SPKGs did not find equivalent system packages:\n> \n>         rpy2   4ti2 _recommended cbc coxeter3 ffmpeg gp2c igraph libsemigroups lrslib pandoc pdf2svg perl_mongodb perl_term_readline_gnu polymake\n> ```\n> Do you know why there seems to be extra space after `rpy2`?\n\nI think I put this space there to separate standard packages from optional packages",
    "created_at": "2022-08-22T16:31:46Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556098",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:50'></a>
Replying to [jhpalmieri](#comment%3A48):
> `./configure` says
> 
> ```
>     notice: the following SPKGs did not find equivalent system packages:
> 
>         rpy2   4ti2 _recommended cbc coxeter3 ffmpeg gp2c igraph libsemigroups lrslib pandoc pdf2svg perl_mongodb perl_term_readline_gnu polymake
> ```
> Do you know why there seems to be extra space after `rpy2`?

I think I put this space there to separate standard packages from optional packages



---

archive/issue_comments_556099.json:
```json
{
    "body": "**Changing commit** from \"[7ab9370968a0eb0a24ab50f987d1c7dbfec70664](https://github.com/sagemath/sagetrac-mirror/commit/7ab9370968a0eb0a24ab50f987d1c7dbfec70664)\" to \"[5d664320bc03e6177192caa9a4442c9d70401386](https://github.com/sagemath/sagetrac-mirror/commit/5d664320bc03e6177192caa9a4442c9d70401386)\".",
    "created_at": "2022-08-22T16:54:32Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7ab9370968a0eb0a24ab50f987d1c7dbfec70664](https://github.com/sagemath/sagetrac-mirror/commit/7ab9370968a0eb0a24ab50f987d1c7dbfec70664)" to "[5d664320bc03e6177192caa9a4442c9d70401386](https://github.com/sagemath/sagetrac-mirror/commit/5d664320bc03e6177192caa9a4442c9d70401386)".



---

archive/issue_comments_556100.json:
```json
{
    "body": "<a id='comment:51'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d664320bc03e6177192caa9a4442c9d70401386\">5d66432</a></td><td><code>src/setup.cfg.m4: Move rpy2 from install-requires to extras-require</code></td></tr></table>\n",
    "created_at": "2022-08-22T16:54:32Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556100",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d664320bc03e6177192caa9a4442c9d70401386">5d66432</a></td><td><code>src/setup.cfg.m4: Move rpy2 from install-requires to extras-require</code></td></tr></table>




---

archive/issue_comments_556101.json:
```json
{
    "body": "<a id='comment:52'></a>\nLooks okay to me. Passes tests with and without using the system installation of R.",
    "created_at": "2022-08-23T00:13:41Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556101",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:52'></a>
Looks okay to me. Passes tests with and without using the system installation of R.



---

archive/issue_comments_556102.json:
```json
{
    "body": "**Reviewer:** John Palmieri",
    "created_at": "2022-08-23T00:13:41Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556102",
    "user": "https://github.com/jhpalmieri"
}
```

**Reviewer:** John Palmieri



---

archive/issue_events_304944.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2022-08-23T00:13:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34268#event-304944"
}
```



---

archive/issue_events_304945.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2022-08-23T00:13:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34268#event-304945"
}
```



---

archive/issue_comments_556103.json:
```json
{
    "body": "<a id='comment:53'></a>\nThank you!",
    "created_at": "2022-08-23T00:14:47Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556103",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:53'></a>
Thank you!



---

archive/issue_comments_556104.json:
```json
{
    "body": "<a id='comment:54'></a>\nReplying to [mkoeppe](#comment%3A43):\n> Replying to [jhpalmieri](#comment%3A42):\n> > Since the downloading timeouts can take a while, is there any way to tell Sage to skip the standard mirrors and just jump straight to the option given by `--enable-download-from-upstream-url`?)\n\n> \n> You can edit the file `upstream/mirror_list` to remove most mirrors\n\nWould it be useful to be able to add `$UPSTREAM` (or something like that) to the mirror list, which would have the effect of turning on `--enable-download-from-upstream-url`?",
    "created_at": "2022-08-23T00:16:53Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556104",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:54'></a>
Replying to [mkoeppe](#comment%3A43):
> Replying to [jhpalmieri](#comment%3A42):
> > Since the downloading timeouts can take a while, is there any way to tell Sage to skip the standard mirrors and just jump straight to the option given by `--enable-download-from-upstream-url`?)

> 
> You can edit the file `upstream/mirror_list` to remove most mirrors

Would it be useful to be able to add `$UPSTREAM` (or something like that) to the mirror list, which would have the effect of turning on `--enable-download-from-upstream-url`?



---

archive/issue_comments_556105.json:
```json
{
    "body": "<a id='comment:55'></a>\nI think it would make sense to limit the number of mirrors it tries to some small number (5?) before it tries the upstream.",
    "created_at": "2022-08-23T00:20:01Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556105",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:55'></a>
I think it would make sense to limit the number of mirrors it tries to some small number (5?) before it tries the upstream.



---

archive/issue_comments_556106.json:
```json
{
    "body": "<a id='comment:56'></a>\nI've opened #34411 for this",
    "created_at": "2022-08-23T00:31:15Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556106",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:56'></a>
I've opened #34411 for this



---

archive/issue_comments_556107.json:
```json
{
    "body": "<a id='comment:57'></a>\nAlso see #32390",
    "created_at": "2022-08-23T00:34:24Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556107",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:57'></a>
Also see #32390



---

archive/issue_comments_556108.json:
```json
{
    "body": "**Changing dependencies** from \"#34193, #32074\" to \"#34193\".",
    "created_at": "2022-09-26T05:41:59Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556108",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#34193, #32074" to "#34193".



---

archive/issue_comments_556109.json:
```json
{
    "body": "<a id='comment:59'></a>\nMerge failure on top of:\n\n024b81f7a14 Trac #33812: Refactor distributions sagemath-{objects,categories} through sagemath-{environment,repl}\n\ne4d3004ae09 Trac #33805: use Homebrew's primecount\n\n5076cd5d57d Trac #34110: numpy 1.23.x\n\n025fdd4137c Trac #34532: modernize super in manifolds/\n\nf9129b172a6 Trac #34531: some details in LS paths crystals\n\n7f7088d750d Trac #34529: remove deprecated method spring_layout_fast_split from src/sage/graphs/generic_graph_pyx.pyx\n\n12890b6eae8 Trac #34520: Remove randomly failing doctest in src/sage/graphs/generators/random.py\n\nc8511abe7bf Trac #34512: compute list CRT via tree\n\n3f4e5446872 Trac #34508: Improve documentation of JoinFeature\n\ncb5e1afa20e Trac #34493: Make TrivialFamily.map return a TrivialFamily\n\nc036cccaab9 Trac #34486: VectorFieldModule: Faster fast path for tensor_module, exterior_power, dual_exterior_power\n\n89b4155bd13 Trac #34469: modern super in matrix_space\n\n4f3a9b020a0 Trac #34468: fix W605 in all pyx files inside matroids/\n\nbfa6342db03 Trac #34465: Invalid escape sequence in special.py\n\ncd65d443541 Trac #34462: Uniformize the headline: finite rings\n\n7736a49d9a6 Trac #34435: Add method to trim trailing zeros from IntegerVector\n\n154baa594e1 Trac #34432: Upgrade: jupyter-packaging 0.12.3\n\nbfc2ccf5c01 Trac #34409: remove experimental warning for composite elliptic-curve isogenies\n\n89b0d28500d Trac #34375: Replace sage.algebras.yangian.GeneratorIndexingSet with cartesian_product\n\nce82f8112a0 Trac #34358: pycodestyle cleanup in src/sage/graphs/generic_graph.py (part 4)\n\nc8c541f386e Trac #34578: standard error messages in pbori\n\n721c4c18d0d Trac #34573: Remove binary_function from ginac's code in sage\n\n5fc16f5552a Trac #34571: fix typo in docstring\n\nb836c6c85db Trac #34562: refactor multiple zeta values\n\n1366a0d9f49 Trac #34528: Installation guide: Improve section on prerequisites/recommendations\n\nad97e1b2278 Trac #34413: implement derivatives of lazy series\n\na802d076b46 Trac #31664: Add package msolve 0.4.4 (multivariate polynomial system solver)\n\n4541564cf15 Updated [SageMath](SageMath) version to 9.8.beta0\n\n\n\nmerge was not clean: conflicts in build/make/Makefile.in",
    "created_at": "2022-09-27T22:33:04Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556109",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:59'></a>
Merge failure on top of:

024b81f7a14 Trac #33812: Refactor distributions sagemath-{objects,categories} through sagemath-{environment,repl}

e4d3004ae09 Trac #33805: use Homebrew's primecount

5076cd5d57d Trac #34110: numpy 1.23.x

025fdd4137c Trac #34532: modernize super in manifolds/

f9129b172a6 Trac #34531: some details in LS paths crystals

7f7088d750d Trac #34529: remove deprecated method spring_layout_fast_split from src/sage/graphs/generic_graph_pyx.pyx

12890b6eae8 Trac #34520: Remove randomly failing doctest in src/sage/graphs/generators/random.py

c8511abe7bf Trac #34512: compute list CRT via tree

3f4e5446872 Trac #34508: Improve documentation of JoinFeature

cb5e1afa20e Trac #34493: Make TrivialFamily.map return a TrivialFamily

c036cccaab9 Trac #34486: VectorFieldModule: Faster fast path for tensor_module, exterior_power, dual_exterior_power

89b4155bd13 Trac #34469: modern super in matrix_space

4f3a9b020a0 Trac #34468: fix W605 in all pyx files inside matroids/

bfa6342db03 Trac #34465: Invalid escape sequence in special.py

cd65d443541 Trac #34462: Uniformize the headline: finite rings

7736a49d9a6 Trac #34435: Add method to trim trailing zeros from IntegerVector

154baa594e1 Trac #34432: Upgrade: jupyter-packaging 0.12.3

bfc2ccf5c01 Trac #34409: remove experimental warning for composite elliptic-curve isogenies

89b0d28500d Trac #34375: Replace sage.algebras.yangian.GeneratorIndexingSet with cartesian_product

ce82f8112a0 Trac #34358: pycodestyle cleanup in src/sage/graphs/generic_graph.py (part 4)

c8c541f386e Trac #34578: standard error messages in pbori

721c4c18d0d Trac #34573: Remove binary_function from ginac's code in sage

5fc16f5552a Trac #34571: fix typo in docstring

b836c6c85db Trac #34562: refactor multiple zeta values

1366a0d9f49 Trac #34528: Installation guide: Improve section on prerequisites/recommendations

ad97e1b2278 Trac #34413: implement derivatives of lazy series

a802d076b46 Trac #31664: Add package msolve 0.4.4 (multivariate polynomial system solver)

4541564cf15 Updated [SageMath](SageMath) version to 9.8.beta0



merge was not clean: conflicts in build/make/Makefile.in



---

archive/issue_events_304946.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-09-27T22:33:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34268#event-304946"
}
```



---

archive/issue_events_304947.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-09-27T22:33:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34268#event-304947"
}
```



---

archive/issue_comments_556110.json:
```json
{
    "body": "<a id='comment:60'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/091e0af89150e42e3f27f0e1dc007415fdea7772\">091e0af</a></td><td><code>Merge tag '9.8.beta0' into t/34268/reduce_r_to_a_dummy_package__upgrade_rpy2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a50460ecddfc9595c6693b4c6d46f1a6b9ad1454\">a50460e</a></td><td><code>Merge tag '9.8.beta1' into t/34268/reduce_r_to_a_dummy_package__upgrade_rpy2</code></td></tr></table>\n",
    "created_at": "2022-09-30T00:56:27Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556110",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:60'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/091e0af89150e42e3f27f0e1dc007415fdea7772">091e0af</a></td><td><code>Merge tag '9.8.beta0' into t/34268/reduce_r_to_a_dummy_package__upgrade_rpy2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a50460ecddfc9595c6693b4c6d46f1a6b9ad1454">a50460e</a></td><td><code>Merge tag '9.8.beta1' into t/34268/reduce_r_to_a_dummy_package__upgrade_rpy2</code></td></tr></table>




---

archive/issue_comments_556111.json:
```json
{
    "body": "**Changing commit** from \"[5d664320bc03e6177192caa9a4442c9d70401386](https://github.com/sagemath/sagetrac-mirror/commit/5d664320bc03e6177192caa9a4442c9d70401386)\" to \"[a50460ecddfc9595c6693b4c6d46f1a6b9ad1454](https://github.com/sagemath/sagetrac-mirror/commit/a50460ecddfc9595c6693b4c6d46f1a6b9ad1454)\".",
    "created_at": "2022-09-30T00:56:27Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556111",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5d664320bc03e6177192caa9a4442c9d70401386](https://github.com/sagemath/sagetrac-mirror/commit/5d664320bc03e6177192caa9a4442c9d70401386)" to "[a50460ecddfc9595c6693b4c6d46f1a6b9ad1454](https://github.com/sagemath/sagetrac-mirror/commit/a50460ecddfc9595c6693b4c6d46f1a6b9ad1454)".



---

archive/issue_events_304948.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-30T00:57:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34268#event-304948"
}
```



---

archive/issue_events_304949.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-30T00:57:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34268#event-304949"
}
```



---

archive/issue_comments_556112.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/reduce_r_to_a_dummy_package__upgrade_rpy2](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/reduce_r_to_a_dummy_package__upgrade_rpy2)\" to \"[a50460ecddfc9595c6693b4c6d46f1a6b9ad1454](https://github.com/sagemath/sagetrac-mirror/commit/a50460ecddfc9595c6693b4c6d46f1a6b9ad1454)\".",
    "created_at": "2022-10-11T09:14:43Z",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34268#issuecomment-556112",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/reduce_r_to_a_dummy_package__upgrade_rpy2](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/reduce_r_to_a_dummy_package__upgrade_rpy2)" to "[a50460ecddfc9595c6693b4c6d46f1a6b9ad1454](https://github.com/sagemath/sagetrac-mirror/commit/a50460ecddfc9595c6693b4c6d46f1a6b9ad1454)".



---

archive/issue_events_304950.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-10-11T09:14:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34268#event-304950"
}
```



---

archive/issue_events_304951.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "12539de55cb3e5bf26e014a6ea0f64d7d0c7ee01",
    "created_at": "2022-10-11T09:14:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34268",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34268#event-304951"
}
```
