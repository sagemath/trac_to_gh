# Issue 34589: VectorFieldModule, TensorFieldModule, DiffFormModule: Add methods tensor_product, tensor_power, update category of TensorFieldModule

archive/issues_034352.json:
```json
{
    "assignees": [],
    "body": "... as previously done for `FiniteRankFreeModule` etc.\n\nWe introduce abstract base classes `ReflexiveModule_*` to unify the implementations of `VectorFieldModule`... and `FiniteRankFreeModule`/`VectorFieldFreeModule`...\n\nFollow-up: #34621 Method `dual_pairing` for modules in `sage.tensor`\n\nCC:  @egourgoulhon @tscrim @mjungmath\n\nBranch/Commit: **[`74601e6`](https://github.com/sagemath/sagetrac-mirror/commit/74601e6a3a42413400b2718ad2fed987028a30ca)**\n\nReviewer: **Eric Gourgoulhon**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **manifolds**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34589_\n\n",
    "closed_at": "2022-11-15T23:43:08Z",
    "created_at": "2022-09-26T17:14:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20manifolds",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "VectorFieldModule, TensorFieldModule, DiffFormModule: Add methods tensor_product, tensor_power, update category of TensorFieldModule",
    "type": "issue",
    "updated_at": "2022-11-15T23:43:08Z",
    "url": "https://github.com/sagemath/sage/issues/34589",
    "user": "https://github.com/mkoeppe"
}
```
... as previously done for `FiniteRankFreeModule` etc.

We introduce abstract base classes `ReflexiveModule_*` to unify the implementations of `VectorFieldModule`... and `FiniteRankFreeModule`/`VectorFieldFreeModule`...

Follow-up: #34621 Method `dual_pairing` for modules in `sage.tensor`

CC:  @egourgoulhon @tscrim @mjungmath

Branch/Commit: **[`74601e6`](https://github.com/sagemath/sagetrac-mirror/commit/74601e6a3a42413400b2718ad2fed987028a30ca)**

Reviewer: **Eric Gourgoulhon**

Author: **Matthias Koeppe**

Component: **manifolds**

_Issue created by migration from https://trac.sagemath.org/ticket/34589_





---

archive/issue_events_468528.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-26T17:14:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468528"
}
```



---

archive/issue_events_468529.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-26T17:14:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20manifolds",
    "label_color": "0000ff",
    "label_name": "c: manifolds",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468529"
}
```



---

archive/issue_events_468530.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-26T17:14:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468530"
}
```



---

archive/issue_events_468531.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-26T17:14:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468531"
}
```



---

archive/issue_comments_558665.json:
```json
{
    "body": "Dependencies: **#34448**",
    "created_at": "2022-09-26T17:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558665",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#34448**



---

archive/issue_comments_558666.json:
```json
{
    "body": "Branch: **[u/mkoeppe/vectorfieldmodule_tensor_product](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/vectorfieldmodule_tensor_product)**",
    "created_at": "2022-09-26T17:15:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558666",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/vectorfieldmodule_tensor_product](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/vectorfieldmodule_tensor_product)**



---

archive/issue_comments_558667.json:
```json
{
    "body": "Commit: **[`31b17b5`](https://github.com/sagemath/sagetrac-mirror/commit/31b17b54e661ab696ca5fda4ef8a3fecb8aee0be)**",
    "created_at": "2022-09-26T17:21:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558667",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`31b17b5`](https://github.com/sagemath/sagetrac-mirror/commit/31b17b54e661ab696ca5fda4ef8a3fecb8aee0be)**



---

archive/issue_comments_558668.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nProbably best to create a class `VectorFieldModule_abstract`\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/620df160109f99781c2b6c72ec596a176de5d2c5\"><code>620df16</code></a></td><td><code>src/sage/tensor/modules/tensor_free_submodule.py: Remove tensor_factors, add doctest for construction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c9be6b79b6fa8f79edf3f2298c924d0e185f1fd\"><code>4c9be6b</code></a></td><td><code>src/sage/manifolds/differentiable/diff_form_module.py: doc: add that the case p=1 of M parallelizable is implemented via VectorFieldDualFreeModule</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06710c12cc1d73cafe81e087742a514808985f86\"><code>06710c1</code></a></td><td><code>src/sage/manifolds/differentiable/diff_form_module.py, vectorfield_module.py: Update copyright using 'git blame -w --date=format:%Y FILE.py | sort -k2', add to AUTHORS</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb614c17c7c9d396be1376b526c5eb52c39cba7d\"><code>bb614c1</code></a></td><td><code>Merge #34501</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a4a29d6cd7d49d4ea9c1720566ce50ba8f4607c\"><code>4a4a29d</code></a></td><td><code>Merge tag '9.7' into t/34448/put_tensor_modules_of_finiterankfreemodule_in_modules___tensorproducts__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f4fb90a273b81a7ea9cc14f97c7842eacd022a8\"><code>1f4fb90</code></a></td><td><code>Merge tag '9.8.beta0' into t/34448/put_tensor_modules_of_finiterankfreemodule_in_modules___tensorproducts__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c0495988c7962163abf3c11ad200add7feb05cc\"><code>7c04959</code></a></td><td><code>src/sage/manifolds/differentiable/diff_form_module.py: Fix typo in docstring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc31cbf584a3de4ffa7005c33a4b8ef4a98d09ca\"><code>fc31cbf</code></a></td><td><code>Merge #34501</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0def924fea5ab8caaeccd0f89d21d455004a6aa\"><code>f0def92</code></a></td><td><code>src/sage/tensor/modules/tensor_free_module.py: Remove redundant method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31b17b54e661ab696ca5fda4ef8a3fecb8aee0be\"><code>31b17b5</code></a></td><td><code>WIP</code></td></tr></table>\n",
    "created_at": "2022-09-26T17:21:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558668",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

Probably best to create a class `VectorFieldModule_abstract`

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/620df160109f99781c2b6c72ec596a176de5d2c5"><code>620df16</code></a></td><td><code>src/sage/tensor/modules/tensor_free_submodule.py: Remove tensor_factors, add doctest for construction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c9be6b79b6fa8f79edf3f2298c924d0e185f1fd"><code>4c9be6b</code></a></td><td><code>src/sage/manifolds/differentiable/diff_form_module.py: doc: add that the case p=1 of M parallelizable is implemented via VectorFieldDualFreeModule</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06710c12cc1d73cafe81e087742a514808985f86"><code>06710c1</code></a></td><td><code>src/sage/manifolds/differentiable/diff_form_module.py, vectorfield_module.py: Update copyright using 'git blame -w --date=format:%Y FILE.py | sort -k2', add to AUTHORS</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb614c17c7c9d396be1376b526c5eb52c39cba7d"><code>bb614c1</code></a></td><td><code>Merge #34501</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a4a29d6cd7d49d4ea9c1720566ce50ba8f4607c"><code>4a4a29d</code></a></td><td><code>Merge tag '9.7' into t/34448/put_tensor_modules_of_finiterankfreemodule_in_modules___tensorproducts__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f4fb90a273b81a7ea9cc14f97c7842eacd022a8"><code>1f4fb90</code></a></td><td><code>Merge tag '9.8.beta0' into t/34448/put_tensor_modules_of_finiterankfreemodule_in_modules___tensorproducts__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c0495988c7962163abf3c11ad200add7feb05cc"><code>7c04959</code></a></td><td><code>src/sage/manifolds/differentiable/diff_form_module.py: Fix typo in docstring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc31cbf584a3de4ffa7005c33a4b8ef4a98d09ca"><code>fc31cbf</code></a></td><td><code>Merge #34501</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0def924fea5ab8caaeccd0f89d21d455004a6aa"><code>f0def92</code></a></td><td><code>src/sage/tensor/modules/tensor_free_module.py: Remove redundant method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31b17b54e661ab696ca5fda4ef8a3fecb8aee0be"><code>31b17b5</code></a></td><td><code>WIP</code></td></tr></table>




---

archive/issue_comments_558669.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e10f9cf17bd06784805914b63b7ae0adc4423c96\"><code>e10f9cf</code></a></td><td><code>src/sage/manifolds/differentiable/vectorfield_module.py: Revert change to VectorFieldModule.tensor (not needed yet)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff00c1143e73e0e2163096198266df792737e657\"><code>ff00c11</code></a></td><td><code>VectorFieldModule: Add tensor_product, tensor_power</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d753dcaf07b85d423661f0128bd6d1fff7b71ee\"><code>8d753dc</code></a></td><td><code>src/sage/manifolds/differentiable/vectorfield_module.py (VectorFieldModule_abstract): New</code></td></tr></table>\n",
    "created_at": "2022-09-27T02:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558669",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e10f9cf17bd06784805914b63b7ae0adc4423c96"><code>e10f9cf</code></a></td><td><code>src/sage/manifolds/differentiable/vectorfield_module.py: Revert change to VectorFieldModule.tensor (not needed yet)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff00c1143e73e0e2163096198266df792737e657"><code>ff00c11</code></a></td><td><code>VectorFieldModule: Add tensor_product, tensor_power</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d753dcaf07b85d423661f0128bd6d1fff7b71ee"><code>8d753dc</code></a></td><td><code>src/sage/manifolds/differentiable/vectorfield_module.py (VectorFieldModule_abstract): New</code></td></tr></table>




---

archive/issue_comments_558670.json:
```json
{
    "body": "Changed commit from **[`31b17b5`](https://github.com/sagemath/sagetrac-mirror/commit/31b17b54e661ab696ca5fda4ef8a3fecb8aee0be)** to **[`8d753dc`](https://github.com/sagemath/sagetrac-mirror/commit/8d753dcaf07b85d423661f0128bd6d1fff7b71ee)**",
    "created_at": "2022-09-27T02:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558670",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`31b17b5`](https://github.com/sagemath/sagetrac-mirror/commit/31b17b54e661ab696ca5fda4ef8a3fecb8aee0be)** to **[`8d753dc`](https://github.com/sagemath/sagetrac-mirror/commit/8d753dcaf07b85d423661f0128bd6d1fff7b71ee)**



---

archive/issue_events_468532.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-27T18:57:25Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "title_is": "VectorFieldModule, TensorFieldModule, DiffFormModule: Add methods tensor_product, tensor_power, add TensorFieldModule.tensor_factors",
    "title_was": "VectorFieldModule, TensorFieldModule, DiffFormModule: Add methods tensor_product, tensor_power",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468532"
}
```



---

archive/issue_comments_558671.json:
```json
{
    "body": "Changed commit from **[`8d753dc`](https://github.com/sagemath/sagetrac-mirror/commit/8d753dcaf07b85d423661f0128bd6d1fff7b71ee)** to **[`6bada9f`](https://github.com/sagemath/sagetrac-mirror/commit/6bada9f80ec73ba15d326858295b2ba0f34e457a)**",
    "created_at": "2022-09-27T21:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558671",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8d753dc`](https://github.com/sagemath/sagetrac-mirror/commit/8d753dcaf07b85d423661f0128bd6d1fff7b71ee)** to **[`6bada9f`](https://github.com/sagemath/sagetrac-mirror/commit/6bada9f80ec73ba15d326858295b2ba0f34e457a)**



---

archive/issue_comments_558672.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2830ebc72e79932665207cb9ec4fea6d0dd95769\"><code>2830ebc</code></a></td><td><code>TensorFreeModule.tensor_factors: Go through methods tensor_type, base_module</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6bada9f80ec73ba15d326858295b2ba0f34e457a\"><code>6bada9f</code></a></td><td><code>TensorFieldModule.tensor_factors: New</code></td></tr></table>\n",
    "created_at": "2022-09-27T21:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558672",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2830ebc72e79932665207cb9ec4fea6d0dd95769"><code>2830ebc</code></a></td><td><code>TensorFreeModule.tensor_factors: Go through methods tensor_type, base_module</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6bada9f80ec73ba15d326858295b2ba0f34e457a"><code>6bada9f</code></a></td><td><code>TensorFieldModule.tensor_factors: New</code></td></tr></table>




---

archive/issue_comments_558673.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/347ffc06ff2b3ad500ac1a76480a4e626606c07c\"><code>347ffc0</code></a></td><td><code>TensorFieldModule: Put it in the category Modules.TensorProducts</code></td></tr></table>\n",
    "created_at": "2022-09-28T00:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558673",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/347ffc06ff2b3ad500ac1a76480a4e626606c07c"><code>347ffc0</code></a></td><td><code>TensorFieldModule: Put it in the category Modules.TensorProducts</code></td></tr></table>




---

archive/issue_comments_558674.json:
```json
{
    "body": "Changed commit from **[`6bada9f`](https://github.com/sagemath/sagetrac-mirror/commit/6bada9f80ec73ba15d326858295b2ba0f34e457a)** to **[`347ffc0`](https://github.com/sagemath/sagetrac-mirror/commit/347ffc06ff2b3ad500ac1a76480a4e626606c07c)**",
    "created_at": "2022-09-28T00:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558674",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6bada9f`](https://github.com/sagemath/sagetrac-mirror/commit/6bada9f80ec73ba15d326858295b2ba0f34e457a)** to **[`347ffc0`](https://github.com/sagemath/sagetrac-mirror/commit/347ffc06ff2b3ad500ac1a76480a4e626606c07c)**



---

archive/issue_events_468533.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-28T00:30:30Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "title_is": "VectorFieldModule, TensorFieldModule, DiffFormModule: Add methods tensor_product, tensor_power, update category of TensorFieldModule",
    "title_was": "VectorFieldModule, TensorFieldModule, DiffFormModule: Add methods tensor_product, tensor_power, add TensorFieldModule.tensor_factors",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468533"
}
```



---

archive/issue_comments_558675.json:
```json
{
    "body": "Changed commit from **[`347ffc0`](https://github.com/sagemath/sagetrac-mirror/commit/347ffc06ff2b3ad500ac1a76480a4e626606c07c)** to **[`7194893`](https://github.com/sagemath/sagetrac-mirror/commit/7194893cd9953bdff6c4ce1c28f8d1163a29d3d5)**",
    "created_at": "2022-09-28T00:50:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558675",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`347ffc0`](https://github.com/sagemath/sagetrac-mirror/commit/347ffc06ff2b3ad500ac1a76480a4e626606c07c)** to **[`7194893`](https://github.com/sagemath/sagetrac-mirror/commit/7194893cd9953bdff6c4ce1c28f8d1163a29d3d5)**



---

archive/issue_comments_558676.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7194893cd9953bdff6c4ce1c28f8d1163a29d3d5\"><code>7194893</code></a></td><td><code>src/sage/manifolds/differentiable/tensorfield_module.py: Update copyright according to git blame -w --date=format:%Y FILE | sort -k2</code></td></tr></table>\n",
    "created_at": "2022-09-28T00:50:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558676",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7194893cd9953bdff6c4ce1c28f8d1163a29d3d5"><code>7194893</code></a></td><td><code>src/sage/manifolds/differentiable/tensorfield_module.py: Update copyright according to git blame -w --date=format:%Y FILE | sort -k2</code></td></tr></table>




---

archive/issue_events_468534.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-28T00:51:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468534"
}
```



---

archive/issue_comments_558677.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2022-09-28T00:51:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558677",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_558678.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThis new base class is of course not very pretty\n\n```\n+class VectorFieldModule_abstract(UniqueRepresentation, Parent):\n+    r\"\"\"\n+    Abstract base class for modules of vector fields.\n+    \"\"\"\n+\n+    tensor_power = FiniteRankFreeModule_abstract.tensor_power\n+\n+    tensor_product = FiniteRankFreeModule_abstract.tensor_product\n+\n+    tensor = FiniteRankFreeModule_abstract.tensor\n```\n\nIt could be better to have a common base class for `VectorFieldModule_abstract` and `FiniteRankFreeModule_abstract`. \n\nPerhaps that could be called `ModuleWithDual_abstract`? (see also #13372)",
    "created_at": "2022-09-29T00:14:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558678",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

This new base class is of course not very pretty

```
+class VectorFieldModule_abstract(UniqueRepresentation, Parent):
+    r"""
+    Abstract base class for modules of vector fields.
+    """
+
+    tensor_power = FiniteRankFreeModule_abstract.tensor_power
+
+    tensor_product = FiniteRankFreeModule_abstract.tensor_product
+
+    tensor = FiniteRankFreeModule_abstract.tensor
```

It could be better to have a common base class for `VectorFieldModule_abstract` and `FiniteRankFreeModule_abstract`. 

Perhaps that could be called `ModuleWithDual_abstract`? (see also #13372)



---

archive/issue_comments_558679.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAlgebra question - do we know / do we assume that a `VectorFieldModule` is reflexive?",
    "created_at": "2022-09-29T00:54:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558679",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

Algebra question - do we know / do we assume that a `VectorFieldModule` is reflexive?



---

archive/issue_comments_558680.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n(in this case, we could call it `ReflexiveModule_abstract` - for such modules the pair `tensor_type` makes sense.)",
    "created_at": "2022-09-29T01:32:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558680",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

(in this case, we could call it `ReflexiveModule_abstract` - for such modules the pair `tensor_type` makes sense.)



---

archive/issue_comments_558681.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [Matthias K\u00f6ppe](#comment:12):\n> Algebra question - do we know / do we assume that a `VectorFieldModule` is reflexive?\n\nI would say that the vector field modules are indeed reflexive for the cases we can treat with Sage, namely those for which the manifold M can be split into a finite number of parallelizable manifolds N_i, i.e. there is a finite open cover of M, (N_i)_{1\\leq i \\leq p} (p finite), such that for each i, N_i is parallelizable. Let then consider an element f of `X(M)**`, where `X(M)` is the C<sup>oo</sup>(M)-module of vector fields on M. For a in `X(M)*`, f(a) can be reduced to f_i(a_i) on each N_i. Since N_i is parallelizable, X(N_i) is a free module of finite rank and thus reflexive. There exists then a unique v_i in X(N_i) such that f_i(a_i) = a_i(v_i). Then the vector field v in X(M) defined as being equal to v_i on each N_i obeys f(a) = a(v), which shows that the canonical map `X(M) --> X(M)**` is bijective. This is a first quick thought and this should be double checked...",
    "created_at": "2022-09-29T08:55:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558681",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [Matthias Köppe](#comment:12):
> Algebra question - do we know / do we assume that a `VectorFieldModule` is reflexive?

I would say that the vector field modules are indeed reflexive for the cases we can treat with Sage, namely those for which the manifold M can be split into a finite number of parallelizable manifolds N_i, i.e. there is a finite open cover of M, (N_i)_{1\leq i \leq p} (p finite), such that for each i, N_i is parallelizable. Let then consider an element f of `X(M)**`, where `X(M)` is the C<sup>oo</sup>(M)-module of vector fields on M. For a in `X(M)*`, f(a) can be reduced to f_i(a_i) on each N_i. Since N_i is parallelizable, X(N_i) is a free module of finite rank and thus reflexive. There exists then a unique v_i in X(N_i) such that f_i(a_i) = a_i(v_i). Then the vector field v in X(M) defined as being equal to v_i on each N_i obeys f(a) = a(v), which shows that the canonical map `X(M) --> X(M)**` is bijective. This is a first quick thought and this should be double checked...



---

archive/issue_comments_558682.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [Matthias K\u00f6ppe](#comment:13):\n> (in this case, we could call it `ReflexiveModule_abstract` - for such modules the pair `tensor_type` makes sense.)\n\nIndeed, if we confirm that the vector field modules are reflexive.",
    "created_at": "2022-09-29T12:21:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558682",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [Matthias Köppe](#comment:13):
> (in this case, we could call it `ReflexiveModule_abstract` - for such modules the pair `tensor_type` makes sense.)

Indeed, if we confirm that the vector field modules are reflexive.



---

archive/issue_comments_558683.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [Eric Gourgoulhon](#comment:14):\n> I would say that the vector field modules are indeed reflexive for the cases we can treat with Sage, namely those for which the manifold M can be split into a finite number of parallelizable manifolds N_i, i.e. there is a finite open cover of M, (N_i)_{1\\leq i \\leq p} (p finite), such that for each i, N_i is parallelizable.\n\nIs this splitting into parallelizable manifolds explicitly done somewhere in the code?\n\nI guess a subtlety is that in sage.manifolds a manifold M is thought to be immutable but new submanifolds on it can be declared imperatively. At any point, of course only finitely many submanifolds have been declared in M as a Python object, but it's not clear that M as a mathematical object is really assumed to be covered by only a finite number of parallelizable submanifolds...",
    "created_at": "2022-09-29T18:22:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558683",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [Eric Gourgoulhon](#comment:14):
> I would say that the vector field modules are indeed reflexive for the cases we can treat with Sage, namely those for which the manifold M can be split into a finite number of parallelizable manifolds N_i, i.e. there is a finite open cover of M, (N_i)_{1\leq i \leq p} (p finite), such that for each i, N_i is parallelizable.

Is this splitting into parallelizable manifolds explicitly done somewhere in the code?

I guess a subtlety is that in sage.manifolds a manifold M is thought to be immutable but new submanifolds on it can be declared imperatively. At any point, of course only finitely many submanifolds have been declared in M as a Python object, but it's not clear that M as a mathematical object is really assumed to be covered by only a finite number of parallelizable submanifolds...



---

archive/issue_comments_558684.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [Matthias K\u00f6ppe](#comment:16):\n> Replying to [Eric Gourgoulhon](#comment:14):\n> > I would say that the vector field modules are indeed reflexive for the cases we can treat with Sage, namely those for which the manifold M can be split into a finite number of parallelizable manifolds N_i, i.e. there is a finite open cover of M, (N_i)_{1\\leq i \\leq p} (p finite), such that for each i, N_i is parallelizable.\n\n> \n> Is this splitting into parallelizable manifolds explicitly done somewhere in the code?\n\nNot explicitly, but `DifferentiableManifold`'s have the attribute `_parrelizable_parts`; for instance:\n\n```\nsage: M = manifolds.Sphere(2, coordinates='stereographic')\nsage: M._parallelizable_parts\n{Open subset S^2-{NP,SP} of the 2-sphere S^2 of radius 1 smoothly embedded in the Euclidean space E^3,\n Open subset S^2-{NP} of the 2-sphere S^2 of radius 1 smoothly embedded in the Euclidean space E^3,\n Open subset S^2-{SP} of the 2-sphere S^2 of radius 1 smoothly embedded in the Euclidean space E^3}\nsage: M._open_covers\n[[2-sphere S^2 of radius 1 smoothly embedded in the Euclidean space E^3],\n [Open subset S^2-{NP} of the 2-sphere S^2 of radius 1 smoothly embedded in the Euclidean space E^3,\n  Open subset S^2-{SP} of the 2-sphere S^2 of radius 1 smoothly embedded in the Euclidean space E^3]]\n```\nActually the parallelizable parts are declared on the fly, in the same spirit as the charts and other structures on the manifod. Even the parallelizable aspect of the manifold can appear quite late after the manifold instanciation. For example, in this [notebook about S^1](https://nbviewer.org/github/sagemanifolds/SageManifolds/blob/master/Notebooks/SM_sphere_S1.ipynb), the manifold is (implicitly) declared parallelizable only in cell no. 21, by declaring a vector frame on it. This action creates the object X(M) as a `VectorFieldFreeModule`. Previously, only the modules X(A) and X(B) had been instanciated.  However, one could imagine to add the keyword argument `parallelizable` to the manifold constructor (with default being `False`).\n> \n> I guess a subtlety is that in sage.manifolds a manifold M is thought to be immutable but new submanifolds on it can be declared imperatively. At any point, of course only finitely many submanifolds have been declared in M as a Python object, but it's not clear that M as a mathematical object is really assumed to be covered by only a finite number of parallelizable submanifolds...\n\nYou're right, this should be stated in the manifold documentation. The whole idea is described in Sec. 3.2 and 3.3 of this [document](https://ccirm.centre-mersenne.org/item/CCIRM_2018__6_1_A1_0/).\nNote that the finite number of parallelizable pieces is not a very severe limitation. For instance this holds for any compact manifold. Actually I don't know any manifold that is not of this type, not that I doubt that some examples can be constructed...",
    "created_at": "2022-09-29T20:38:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558684",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [Matthias Köppe](#comment:16):
> Replying to [Eric Gourgoulhon](#comment:14):
> > I would say that the vector field modules are indeed reflexive for the cases we can treat with Sage, namely those for which the manifold M can be split into a finite number of parallelizable manifolds N_i, i.e. there is a finite open cover of M, (N_i)_{1\leq i \leq p} (p finite), such that for each i, N_i is parallelizable.

> 
> Is this splitting into parallelizable manifolds explicitly done somewhere in the code?

Not explicitly, but `DifferentiableManifold`'s have the attribute `_parrelizable_parts`; for instance:

```
sage: M = manifolds.Sphere(2, coordinates='stereographic')
sage: M._parallelizable_parts
{Open subset S^2-{NP,SP} of the 2-sphere S^2 of radius 1 smoothly embedded in the Euclidean space E^3,
 Open subset S^2-{NP} of the 2-sphere S^2 of radius 1 smoothly embedded in the Euclidean space E^3,
 Open subset S^2-{SP} of the 2-sphere S^2 of radius 1 smoothly embedded in the Euclidean space E^3}
sage: M._open_covers
[[2-sphere S^2 of radius 1 smoothly embedded in the Euclidean space E^3],
 [Open subset S^2-{NP} of the 2-sphere S^2 of radius 1 smoothly embedded in the Euclidean space E^3,
  Open subset S^2-{SP} of the 2-sphere S^2 of radius 1 smoothly embedded in the Euclidean space E^3]]
```
Actually the parallelizable parts are declared on the fly, in the same spirit as the charts and other structures on the manifod. Even the parallelizable aspect of the manifold can appear quite late after the manifold instanciation. For example, in this [notebook about S^1](https://nbviewer.org/github/sagemanifolds/SageManifolds/blob/master/Notebooks/SM_sphere_S1.ipynb), the manifold is (implicitly) declared parallelizable only in cell no. 21, by declaring a vector frame on it. This action creates the object X(M) as a `VectorFieldFreeModule`. Previously, only the modules X(A) and X(B) had been instanciated.  However, one could imagine to add the keyword argument `parallelizable` to the manifold constructor (with default being `False`).
> 
> I guess a subtlety is that in sage.manifolds a manifold M is thought to be immutable but new submanifolds on it can be declared imperatively. At any point, of course only finitely many submanifolds have been declared in M as a Python object, but it's not clear that M as a mathematical object is really assumed to be covered by only a finite number of parallelizable submanifolds...

You're right, this should be stated in the manifold documentation. The whole idea is described in Sec. 3.2 and 3.3 of this [document](https://ccirm.centre-mersenne.org/item/CCIRM_2018__6_1_A1_0/).
Note that the finite number of parallelizable pieces is not a very severe limitation. For instance this holds for any compact manifold. Actually I don't know any manifold that is not of this type, not that I doubt that some examples can be constructed...



---

archive/issue_comments_558685.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5e715e7f167b9cf928c7c1455dfdf109e4063e8\"><code>d5e715e</code></a></td><td><code>sage.tensor.modules.reflexive_module: New, refactor finite rank free modules and vector field modules through the new classes</code></td></tr></table>\n",
    "created_at": "2022-09-29T23:53:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558685",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5e715e7f167b9cf928c7c1455dfdf109e4063e8"><code>d5e715e</code></a></td><td><code>sage.tensor.modules.reflexive_module: New, refactor finite rank free modules and vector field modules through the new classes</code></td></tr></table>




---

archive/issue_comments_558686.json:
```json
{
    "body": "Changed commit from **[`7194893`](https://github.com/sagemath/sagetrac-mirror/commit/7194893cd9953bdff6c4ce1c28f8d1163a29d3d5)** to **[`d5e715e`](https://github.com/sagemath/sagetrac-mirror/commit/d5e715e7f167b9cf928c7c1455dfdf109e4063e8)**",
    "created_at": "2022-09-29T23:53:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558686",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7194893`](https://github.com/sagemath/sagetrac-mirror/commit/7194893cd9953bdff6c4ce1c28f8d1163a29d3d5)** to **[`d5e715e`](https://github.com/sagemath/sagetrac-mirror/commit/d5e715e7f167b9cf928c7c1455dfdf109e4063e8)**



---

archive/issue_comments_558687.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nHere's a draft of refactoring along these lines. (Of course src/sage/tensor/modules/reflexive_module.py would still need more documentation.)",
    "created_at": "2022-09-29T23:57:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558687",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

Here's a draft of refactoring along these lines. (Of course src/sage/tensor/modules/reflexive_module.py would still need more documentation.)



---

archive/issue_comments_558688.json:
```json
{
    "body": "Changed commit from **[`d5e715e`](https://github.com/sagemath/sagetrac-mirror/commit/d5e715e7f167b9cf928c7c1455dfdf109e4063e8)** to **[`e17b30d`](https://github.com/sagemath/sagetrac-mirror/commit/e17b30d6dd76afe40b9a349f05410d8312fe25ed)**",
    "created_at": "2022-09-29T23:58:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558688",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d5e715e`](https://github.com/sagemath/sagetrac-mirror/commit/d5e715e7f167b9cf928c7c1455dfdf109e4063e8)** to **[`e17b30d`](https://github.com/sagemath/sagetrac-mirror/commit/e17b30d6dd76afe40b9a349f05410d8312fe25ed)**



---

archive/issue_comments_558689.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7959c853b12082032d1e972e57222df56b190f0\"><code>e7959c8</code></a></td><td><code>Merge tag '9.8.beta1' into t/34589/vectorfieldmodule_tensor_product</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e17b30d6dd76afe40b9a349f05410d8312fe25ed\"><code>e17b30d</code></a></td><td><code>src/sage/tensor/modules/reflexive_module.py: Make all classes subclasses of ..._abstract</code></td></tr></table>\n",
    "created_at": "2022-09-29T23:58:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558689",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7959c853b12082032d1e972e57222df56b190f0"><code>e7959c8</code></a></td><td><code>Merge tag '9.8.beta1' into t/34589/vectorfieldmodule_tensor_product</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e17b30d6dd76afe40b9a349f05410d8312fe25ed"><code>e17b30d</code></a></td><td><code>src/sage/tensor/modules/reflexive_module.py: Make all classes subclasses of ..._abstract</code></td></tr></table>




---

archive/issue_comments_558690.json:
```json
{
    "body": "Changed commit from **[`e17b30d`](https://github.com/sagemath/sagetrac-mirror/commit/e17b30d6dd76afe40b9a349f05410d8312fe25ed)** to **[`ca8b730`](https://github.com/sagemath/sagetrac-mirror/commit/ca8b730c4c0d5c9bf1010a80239030d50788d31f)**",
    "created_at": "2022-10-02T06:00:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558690",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e17b30d`](https://github.com/sagemath/sagetrac-mirror/commit/e17b30d6dd76afe40b9a349f05410d8312fe25ed)** to **[`ca8b730`](https://github.com/sagemath/sagetrac-mirror/commit/ca8b730c4c0d5c9bf1010a80239030d50788d31f)**



---

archive/issue_comments_558691.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca8b730c4c0d5c9bf1010a80239030d50788d31f\"><code>ca8b730</code></a></td><td><code>src/sage/tensor/modules/reflexive_module.py: Add documentation</code></td></tr></table>\n",
    "created_at": "2022-10-02T06:00:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558691",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca8b730c4c0d5c9bf1010a80239030d50788d31f"><code>ca8b730</code></a></td><td><code>src/sage/tensor/modules/reflexive_module.py: Add documentation</code></td></tr></table>




---

archive/issue_comments_558692.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n ... as previously done for `FiniteRankFreeModule` etc.\n+\n+We introduce abstract base classes `ReflexiveModule_*` to unify the implementations of `VectorFieldModule`... and `FiniteRankFreeModule`/`VectorFieldFreeModule`...\n+\n+Follow-up: #34621 Method `dual_pairing` for modules in `sage.tensor`\n``````\n",
    "created_at": "2022-10-02T17:50:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558692",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
 ... as previously done for `FiniteRankFreeModule` etc.
+
+We introduce abstract base classes `ReflexiveModule_*` to unify the implementations of `VectorFieldModule`... and `FiniteRankFreeModule`/`VectorFieldFreeModule`...
+
+Follow-up: #34621 Method `dual_pairing` for modules in `sage.tensor`
``````




---

archive/issue_comments_558693.json:
```json
{
    "body": "Changed commit from **[`ca8b730`](https://github.com/sagemath/sagetrac-mirror/commit/ca8b730c4c0d5c9bf1010a80239030d50788d31f)** to **[`b7d85cc`](https://github.com/sagemath/sagetrac-mirror/commit/b7d85ccaa9d543e33f0b0176af9cb37ee7b3ea27)**",
    "created_at": "2022-10-02T18:30:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558693",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ca8b730`](https://github.com/sagemath/sagetrac-mirror/commit/ca8b730c4c0d5c9bf1010a80239030d50788d31f)** to **[`b7d85cc`](https://github.com/sagemath/sagetrac-mirror/commit/b7d85ccaa9d543e33f0b0176af9cb37ee7b3ea27)**



---

archive/issue_comments_558694.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7d85ccaa9d543e33f0b0176af9cb37ee7b3ea27\"><code>b7d85cc</code></a></td><td><code>src/sage/tensor/modules/reflexive_module.py: Add more doctests</code></td></tr></table>\n",
    "created_at": "2022-10-02T18:30:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558694",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7d85ccaa9d543e33f0b0176af9cb37ee7b3ea27"><code>b7d85cc</code></a></td><td><code>src/sage/tensor/modules/reflexive_module.py: Add more doctests</code></td></tr></table>




---

archive/issue_comments_558695.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb826057f68c761d0cd22a186334e8037670e873\"><code>eb82605</code></a></td><td><code>src/sage/tensor/modules/reflexive_module.py: Add doctests for full coverage</code></td></tr></table>\n",
    "created_at": "2022-10-02T18:43:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558695",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb826057f68c761d0cd22a186334e8037670e873"><code>eb82605</code></a></td><td><code>src/sage/tensor/modules/reflexive_module.py: Add doctests for full coverage</code></td></tr></table>




---

archive/issue_comments_558696.json:
```json
{
    "body": "Changed commit from **[`b7d85cc`](https://github.com/sagemath/sagetrac-mirror/commit/b7d85ccaa9d543e33f0b0176af9cb37ee7b3ea27)** to **[`eb82605`](https://github.com/sagemath/sagetrac-mirror/commit/eb826057f68c761d0cd22a186334e8037670e873)**",
    "created_at": "2022-10-02T18:43:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558696",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b7d85cc`](https://github.com/sagemath/sagetrac-mirror/commit/b7d85ccaa9d543e33f0b0176af9cb37ee7b3ea27)** to **[`eb82605`](https://github.com/sagemath/sagetrac-mirror/commit/eb826057f68c761d0cd22a186334e8037670e873)**



---

archive/issue_comments_558697.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nLooks nice! Thanks.\n\nAn entry for the new file `reflexive_module.py` is missing in `src/doc/en/reference/tensor_free_modules/`, so that the documentation is not generated. I would suggest to add it in `src/doc/en/reference/tensor_free_modules/tensors.rst`. Once this is done,\n\n```\nsage -docbuild reference/tensor_free_modules html\n```\nreveals that some `$` signs should be replaced by backticks:\n\n```diff\n-    the `R`-module of linear functionals $\\phi:\\ M \\longrightarrow R$.\n+    the `R`-module of linear functionals `\\phi:\\ M \\longrightarrow R`.\n```",
    "created_at": "2022-10-03T09:34:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558697",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:26" align="right">comment:26</div>

Looks nice! Thanks.

An entry for the new file `reflexive_module.py` is missing in `src/doc/en/reference/tensor_free_modules/`, so that the documentation is not generated. I would suggest to add it in `src/doc/en/reference/tensor_free_modules/tensors.rst`. Once this is done,

```
sage -docbuild reference/tensor_free_modules html
```
reveals that some `$` signs should be replaced by backticks:

```diff
-    the `R`-module of linear functionals $\phi:\ M \longrightarrow R$.
+    the `R`-module of linear functionals `\phi:\ M \longrightarrow R`.
```



---

archive/issue_comments_558698.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nTravis, Michael, if you have time (not sure this is the case at the moment...), could you comment on the argument sketched in [comment:14](#comment:14) ?",
    "created_at": "2022-10-03T09:40:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558698",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:27" align="right">comment:27</div>

Travis, Michael, if you have time (not sure this is the case at the moment...), could you comment on the argument sketched in [comment:14](#comment:14) ?



---

archive/issue_comments_558699.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI think it is good. I do not quite see how it might break down for more obtuse finite-dimensional examples, but the question is should it? I think no, but I typically think in terms of \"nice\" objects.",
    "created_at": "2022-10-03T10:04:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558699",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">comment:28</div>

I think it is good. I do not quite see how it might break down for more obtuse finite-dimensional examples, but the question is should it? I think no, but I typically think in terms of "nice" objects.



---

archive/issue_comments_558700.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [Travis Scrimshaw](#comment:28):\n> I think it is good. I do not quite see how it might break down for more obtuse finite-dimensional examples, but the question is should it? I think no, but I typically think in terms of \"nice\" objects.\n\nThank you Travis!",
    "created_at": "2022-10-03T10:06:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558700",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [Travis Scrimshaw](#comment:28):
> I think it is good. I do not quite see how it might break down for more obtuse finite-dimensional examples, but the question is should it? I think no, but I typically think in terms of "nice" objects.

Thank you Travis!



---

archive/issue_comments_558701.json:
```json
{
    "body": "Changed commit from **[`eb82605`](https://github.com/sagemath/sagetrac-mirror/commit/eb826057f68c761d0cd22a186334e8037670e873)** to **[`2a7b445`](https://github.com/sagemath/sagetrac-mirror/commit/2a7b445e33f01d047d4834af16749570bee9c892)**",
    "created_at": "2022-10-03T11:31:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558701",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`eb82605`](https://github.com/sagemath/sagetrac-mirror/commit/eb826057f68c761d0cd22a186334e8037670e873)** to **[`2a7b445`](https://github.com/sagemath/sagetrac-mirror/commit/2a7b445e33f01d047d4834af16749570bee9c892)**



---

archive/issue_comments_558702.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a7b445e33f01d047d4834af16749570bee9c892\"><code>2a7b445</code></a></td><td><code>src/doc/en/reference/tensor_free_modules/tensors.rst: Add reflexive_module</code></td></tr></table>\n",
    "created_at": "2022-10-03T11:31:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558702",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a7b445e33f01d047d4834af16749570bee9c892"><code>2a7b445</code></a></td><td><code>src/doc/en/reference/tensor_free_modules/tensors.rst: Add reflexive_module</code></td></tr></table>




---

archive/issue_comments_558703.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nI have two questions regarding the inheritance structure:\n\n1/ There is a disymmetry in the MRO between `FiniteRankFreeModule`, `FiniteDualFreeModule` and `TensorFreeModule`: for the first two classes, the inheritance order is `(ReflexiveModule_(base or dual), FiniteRankFreeModule_abstract)`,  while for the third class it is the opposite order: `(FiniteRankFreeModule_abstract, ReflexiveModule_tensor)`. Is this intended?\n\n2/ The class `VectorFieldModule_abstract` has no method at all. Is such a class necessary? The only use I can see is that classes that inherit from it inherit from the pair `(UniqueRepresentation, ReflexiveModule_abstract)`, but it would be more clear to make this explicit in those classes, instead of using `VectorFieldModule_abstract` as a proxy for `(UniqueRepresentation, ReflexiveModule_abstract)`. Also, the name `VectorFieldModule_abstract` could be misleading since for instance `DiffFormModule` inherits from it.",
    "created_at": "2022-10-04T09:28:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558703",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:31" align="right">comment:31</div>

I have two questions regarding the inheritance structure:

1/ There is a disymmetry in the MRO between `FiniteRankFreeModule`, `FiniteDualFreeModule` and `TensorFreeModule`: for the first two classes, the inheritance order is `(ReflexiveModule_(base or dual), FiniteRankFreeModule_abstract)`,  while for the third class it is the opposite order: `(FiniteRankFreeModule_abstract, ReflexiveModule_tensor)`. Is this intended?

2/ The class `VectorFieldModule_abstract` has no method at all. Is such a class necessary? The only use I can see is that classes that inherit from it inherit from the pair `(UniqueRepresentation, ReflexiveModule_abstract)`, but it would be more clear to make this explicit in those classes, instead of using `VectorFieldModule_abstract` as a proxy for `(UniqueRepresentation, ReflexiveModule_abstract)`. Also, the name `VectorFieldModule_abstract` could be misleading since for instance `DiffFormModule` inherits from it.



---

archive/issue_comments_558704.json:
```json
{
    "body": "Changed commit from **[`2a7b445`](https://github.com/sagemath/sagetrac-mirror/commit/2a7b445e33f01d047d4834af16749570bee9c892)** to **[`05daeee`](https://github.com/sagemath/sagetrac-mirror/commit/05daeeec7c6b96f5bf323b3688676c96ab435398)**",
    "created_at": "2022-10-04T18:05:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558704",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2a7b445`](https://github.com/sagemath/sagetrac-mirror/commit/2a7b445e33f01d047d4834af16749570bee9c892)** to **[`05daeee`](https://github.com/sagemath/sagetrac-mirror/commit/05daeeec7c6b96f5bf323b3688676c96ab435398)**



---

archive/issue_comments_558705.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05daeeec7c6b96f5bf323b3688676c96ab435398\"><code>05daeee</code></a></td><td><code>src/sage/tensor/modules/tensor_free_module.py (TensorFreeModule): Make MRO consistent with FiniteRankFreeModule</code></td></tr></table>\n",
    "created_at": "2022-10-04T18:05:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558705",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05daeeec7c6b96f5bf323b3688676c96ab435398"><code>05daeee</code></a></td><td><code>src/sage/tensor/modules/tensor_free_module.py (TensorFreeModule): Make MRO consistent with FiniteRankFreeModule</code></td></tr></table>




---

archive/issue_comments_558706.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\n1) Thanks for catching this, fixed.",
    "created_at": "2022-10-04T18:05:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558706",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">comment:33</div>

1) Thanks for catching this, fixed.



---

archive/issue_comments_558707.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\n2) I guess I was planning to move some methods from `VectorFieldModule` to `VectorField_abstract`. Candidates would be `domain`, `ambient_domain`, and perhaps some others. But I agree that the name `VectorFieldModule_abstract` is misleading... Would you have a suggestion for a better name? It also doesn't have to happen on this ticket -- I can just back it out.",
    "created_at": "2022-10-04T18:10:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558707",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:34" align="right">comment:34</div>

2) I guess I was planning to move some methods from `VectorFieldModule` to `VectorField_abstract`. Candidates would be `domain`, `ambient_domain`, and perhaps some others. But I agree that the name `VectorFieldModule_abstract` is misleading... Would you have a suggestion for a better name? It also doesn't have to happen on this ticket -- I can just back it out.



---

archive/issue_comments_558708.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [Matthias K\u00f6ppe](#comment:34):\n> 2) I guess I was planning to move some methods from `VectorFieldModule` to `VectorField_abstract`. Candidates would be `domain`, `ambient_domain`, and perhaps some others. But I agree that the name `VectorFieldModule_abstract` is misleading... Would you have a suggestion for a better name? \n\nMaybe `FieldModule_abstract`?\n\n> It also doesn't have to happen on this ticket -- I can just back it out.\n\nOK.",
    "created_at": "2022-10-05T06:24:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558708",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [Matthias Köppe](#comment:34):
> 2) I guess I was planning to move some methods from `VectorFieldModule` to `VectorField_abstract`. Candidates would be `domain`, `ambient_domain`, and perhaps some others. But I agree that the name `VectorFieldModule_abstract` is misleading... Would you have a suggestion for a better name? 

Maybe `FieldModule_abstract`?

> It also doesn't have to happen on this ticket -- I can just back it out.

OK.



---

archive/issue_comments_558709.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nMay I ask what do we choose? Renaming `VectorFieldModule_abstract` to `FieldModule_abstract` (or something similar) or backing it out for this ticket?",
    "created_at": "2022-10-31T13:50:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558709",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:36" align="right">comment:36</div>

May I ask what do we choose? Renaming `VectorFieldModule_abstract` to `FieldModule_abstract` (or something similar) or backing it out for this ticket?



---

archive/issue_comments_558710.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nI'll back it out",
    "created_at": "2022-11-12T23:02:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558710",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:37" align="right">comment:37</div>

I'll back it out



---

archive/issue_events_468535.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-12T23:02:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468535"
}
```



---

archive/issue_events_468536.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-12T23:02:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468536"
}
```



---

archive/issue_comments_558711.json:
```json
{
    "body": "Changed commit from **[`05daeee`](https://github.com/sagemath/sagetrac-mirror/commit/05daeeec7c6b96f5bf323b3688676c96ab435398)** to **[`ebc2f27`](https://github.com/sagemath/sagetrac-mirror/commit/ebc2f2782f66fc3bda57035413cebbb1f002303e)**",
    "created_at": "2022-11-12T23:06:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558711",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`05daeee`](https://github.com/sagemath/sagetrac-mirror/commit/05daeeec7c6b96f5bf323b3688676c96ab435398)** to **[`ebc2f27`](https://github.com/sagemath/sagetrac-mirror/commit/ebc2f2782f66fc3bda57035413cebbb1f002303e)**



---

archive/issue_comments_558712.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/610545e6e2f83b6200675fd708cfb47b280413cb\"><code>610545e</code></a></td><td><code>TensorFreeModule.tensor_factors: Go through methods tensor_type, base_module</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6ba1011bb5d8601ed0acf1dbc845297042ea1a1\"><code>a6ba101</code></a></td><td><code>TensorFieldModule.tensor_factors: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e0bf363b0ffab0336e4218fa986fac3bcef4b48\"><code>8e0bf36</code></a></td><td><code>TensorFieldModule: Put it in the category Modules.TensorProducts</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20bd0d3f7ced5dc76e1b9032903254cf9aeb6236\"><code>20bd0d3</code></a></td><td><code>src/sage/manifolds/differentiable/tensorfield_module.py: Update copyright according to git blame -w --date=format:%Y FILE | sort -k2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38e6b3e414c15dde36ba3e7957539e7727d8a14d\"><code>38e6b3e</code></a></td><td><code>sage.tensor.modules.reflexive_module: New, refactor finite rank free modules and vector field modules through the new classes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04a4daa81badfde762256b27734b423ca3763449\"><code>04a4daa</code></a></td><td><code>src/sage/tensor/modules/reflexive_module.py: Make all classes subclasses of ..._abstract</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53e944a6a330ab81ea77fceab7d05d6552545a08\"><code>53e944a</code></a></td><td><code>src/sage/tensor/modules/reflexive_module.py: Add documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f107a775fd44066f3abc931c01257f3b13a53f2b\"><code>f107a77</code></a></td><td><code>src/doc/en/reference/tensor_free_modules/tensors.rst: Add reflexive_module</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2228bd2e747c68fecb69617b49d4cad988682e1\"><code>d2228bd</code></a></td><td><code>src/sage/tensor/modules/tensor_free_module.py (TensorFreeModule): Make MRO consistent with FiniteRankFreeModule</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ebc2f2782f66fc3bda57035413cebbb1f002303e\"><code>ebc2f27</code></a></td><td><code>WIP get rid of VectorFieldModule_abstract</code></td></tr></table>\n",
    "created_at": "2022-11-12T23:06:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558712",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/610545e6e2f83b6200675fd708cfb47b280413cb"><code>610545e</code></a></td><td><code>TensorFreeModule.tensor_factors: Go through methods tensor_type, base_module</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6ba1011bb5d8601ed0acf1dbc845297042ea1a1"><code>a6ba101</code></a></td><td><code>TensorFieldModule.tensor_factors: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e0bf363b0ffab0336e4218fa986fac3bcef4b48"><code>8e0bf36</code></a></td><td><code>TensorFieldModule: Put it in the category Modules.TensorProducts</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20bd0d3f7ced5dc76e1b9032903254cf9aeb6236"><code>20bd0d3</code></a></td><td><code>src/sage/manifolds/differentiable/tensorfield_module.py: Update copyright according to git blame -w --date=format:%Y FILE | sort -k2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38e6b3e414c15dde36ba3e7957539e7727d8a14d"><code>38e6b3e</code></a></td><td><code>sage.tensor.modules.reflexive_module: New, refactor finite rank free modules and vector field modules through the new classes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04a4daa81badfde762256b27734b423ca3763449"><code>04a4daa</code></a></td><td><code>src/sage/tensor/modules/reflexive_module.py: Make all classes subclasses of ..._abstract</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53e944a6a330ab81ea77fceab7d05d6552545a08"><code>53e944a</code></a></td><td><code>src/sage/tensor/modules/reflexive_module.py: Add documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f107a775fd44066f3abc931c01257f3b13a53f2b"><code>f107a77</code></a></td><td><code>src/doc/en/reference/tensor_free_modules/tensors.rst: Add reflexive_module</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2228bd2e747c68fecb69617b49d4cad988682e1"><code>d2228bd</code></a></td><td><code>src/sage/tensor/modules/tensor_free_module.py (TensorFreeModule): Make MRO consistent with FiniteRankFreeModule</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ebc2f2782f66fc3bda57035413cebbb1f002303e"><code>ebc2f27</code></a></td><td><code>WIP get rid of VectorFieldModule_abstract</code></td></tr></table>




---

archive/issue_comments_558713.json:
```json
{
    "body": "Changed dependencies from **#34448** to none",
    "created_at": "2022-11-12T23:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558713",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#34448** to none



---

archive/issue_comments_558714.json:
```json
{
    "body": "Changed commit from **[`ebc2f27`](https://github.com/sagemath/sagetrac-mirror/commit/ebc2f2782f66fc3bda57035413cebbb1f002303e)** to **[`8a2866b`](https://github.com/sagemath/sagetrac-mirror/commit/8a2866bf17cf8119b719741c0b9e0574fee58a04)**",
    "created_at": "2022-11-12T23:25:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558714",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ebc2f27`](https://github.com/sagemath/sagetrac-mirror/commit/ebc2f2782f66fc3bda57035413cebbb1f002303e)** to **[`8a2866b`](https://github.com/sagemath/sagetrac-mirror/commit/8a2866bf17cf8119b719741c0b9e0574fee58a04)**



---

archive/issue_comments_558715.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a2866bf17cf8119b719741c0b9e0574fee58a04\"><code>8a2866b</code></a></td><td><code>get rid of VectorFieldModule_abstract</code></td></tr></table>\n",
    "created_at": "2022-11-12T23:25:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558715",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a2866bf17cf8119b719741c0b9e0574fee58a04"><code>8a2866b</code></a></td><td><code>get rid of VectorFieldModule_abstract</code></td></tr></table>




---

archive/issue_events_468537.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-12T23:25:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468537"
}
```



---

archive/issue_events_468538.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-12T23:25:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468538"
}
```



---

archive/issue_comments_558716.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [Matthias K\u00f6ppe](#comment:37):\n> I'll back it out\n\nThanks!\n\nOne minor last thing: as revealed by the patchbot, `ReflexiveModule_abstract` is imported by unused in `vectorfield_module.py`.",
    "created_at": "2022-11-13T10:39:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558716",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [Matthias Köppe](#comment:37):
> I'll back it out

Thanks!

One minor last thing: as revealed by the patchbot, `ReflexiveModule_abstract` is imported by unused in `vectorfield_module.py`.



---

archive/issue_comments_558717.json:
```json
{
    "body": "Changed commit from **[`8a2866b`](https://github.com/sagemath/sagetrac-mirror/commit/8a2866bf17cf8119b719741c0b9e0574fee58a04)** to **[`74601e6`](https://github.com/sagemath/sagetrac-mirror/commit/74601e6a3a42413400b2718ad2fed987028a30ca)**",
    "created_at": "2022-11-13T18:10:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558717",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8a2866b`](https://github.com/sagemath/sagetrac-mirror/commit/8a2866bf17cf8119b719741c0b9e0574fee58a04)** to **[`74601e6`](https://github.com/sagemath/sagetrac-mirror/commit/74601e6a3a42413400b2718ad2fed987028a30ca)**



---

archive/issue_comments_558718.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74601e6a3a42413400b2718ad2fed987028a30ca\"><code>74601e6</code></a></td><td><code>Remove unused import</code></td></tr></table>\n",
    "created_at": "2022-11-13T18:10:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558718",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74601e6a3a42413400b2718ad2fed987028a30ca"><code>74601e6</code></a></td><td><code>Remove unused import</code></td></tr></table>




---

archive/issue_events_468539.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2022-11-13T20:26:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468539"
}
```



---

archive/issue_events_468540.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2022-11-13T20:26:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468540"
}
```



---

archive/issue_comments_558719.json:
```json
{
    "body": "Reviewer: **Eric Gourgoulhon**",
    "created_at": "2022-11-13T20:26:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558719",
    "user": "https://github.com/egourgoulhon"
}
```

Reviewer: **Eric Gourgoulhon**



---

archive/issue_comments_558720.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nThanks!",
    "created_at": "2022-11-13T20:26:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558720",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:44" align="right">comment:44</div>

Thanks!



---

archive/issue_comments_558721.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nThank you!",
    "created_at": "2022-11-13T23:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558721",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:45" align="right">comment:45</div>

Thank you!



---

archive/issue_comments_558722.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/vectorfieldmodule_tensor_product](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/vectorfieldmodule_tensor_product)** to **[`74601e6`](https://github.com/sagemath/sagetrac-mirror/commit/74601e6a3a42413400b2718ad2fed987028a30ca)**",
    "created_at": "2022-11-15T23:43:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34589#issuecomment-558722",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/vectorfieldmodule_tensor_product](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/vectorfieldmodule_tensor_product)** to **[`74601e6`](https://github.com/sagemath/sagetrac-mirror/commit/74601e6a3a42413400b2718ad2fed987028a30ca)**



---

archive/issue_events_468541.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-11-15T23:43:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468541"
}
```



---

archive/issue_events_468542.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4b9a50080bdb9d3dbf9c77de02636d81c735d03e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-11-15T23:43:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34589",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34589#event-468542"
}
```
