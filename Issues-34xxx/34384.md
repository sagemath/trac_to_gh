# Issue 34384: Proper ForgetfulFunctor with codomain=Sets() or its full subcategories

archive/issues_034147.json:
```json
{
    "body": "part of Meta-ticket #31247: `ForgetfulFunctor` not working properly\n\nHere we fix it for `codomain=Sets()` and its full subcategories such as `codomain=FiniteEnumeratedSets()`.\n\nWe also add a warning for all other unimplemented cases (= when domain is not a full subcategory of codomain).\n\nThe implementation constructs a `Set_object` wrapper.\n\nFollow-up ticket: `Set_object` etc. need a modification too: Currently equality testing (`Set_object.__richcmp__`) just delegates to the wrapped parents, so it does not take place on the level of sets, where equality of two sets means that they contain the same elements.\n\n\nCC:  @tscrim simonking\n\nAuthor: Matthias Koeppe\n\nBranch: u/mkoeppe/proper_forgetfulfunctor_with_codomain_sets___or_its_full_subcategories\n\nStatus: needs_review\n\nDependencies: #34376\n\nCommit: de46932ebef2c6d92e6bb3f07243764ffaac0829\n\nIssue created by migration from https://trac.sagemath.org/ticket/34384\n\n",
    "created_at": "2022-08-17T18:18:26Z",
    "labels": [
        "component: categories"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Proper ForgetfulFunctor with codomain=Sets() or its full subcategories",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34384",
    "user": "https://github.com/mkoeppe"
}
```
part of Meta-ticket #31247: `ForgetfulFunctor` not working properly

Here we fix it for `codomain=Sets()` and its full subcategories such as `codomain=FiniteEnumeratedSets()`.

We also add a warning for all other unimplemented cases (= when domain is not a full subcategory of codomain).

The implementation constructs a `Set_object` wrapper.

Follow-up ticket: `Set_object` etc. need a modification too: Currently equality testing (`Set_object.__richcmp__`) just delegates to the wrapped parents, so it does not take place on the level of sets, where equality of two sets means that they contain the same elements.


CC:  @tscrim simonking

Author: Matthias Koeppe

Branch: u/mkoeppe/proper_forgetfulfunctor_with_codomain_sets___or_its_full_subcategories

Status: needs_review

Dependencies: #34376

Commit: de46932ebef2c6d92e6bb3f07243764ffaac0829

Issue created by migration from https://trac.sagemath.org/ticket/34384





---

archive/issue_comments_517683.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,12 @@\n part of Meta-ticket #31247: `ForgetfulFunctor` not working properly\n \n Here we fix it for `codomain=Sets()` and its full subcategories such as `codomain=FiniteEnumeratedSets()`.\n+\n+We also add a warning for all other unimplemented cases (= when domain is not a full subcategory of codomain).\n+\n+The implementation constructs a `Set_object` wrapper, which needs a modification too: Currently equality testing (`Set_object.__richcmp__`) just delegates to the wrapped parents, so it does not take place on the level of sets.\n+\n+\n \n Comment: 1\n \n``````\n",
    "created_at": "2022-08-17T18:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34384#issuecomment-517683",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,12 @@
 part of Meta-ticket #31247: `ForgetfulFunctor` not working properly
 
 Here we fix it for `codomain=Sets()` and its full subcategories such as `codomain=FiniteEnumeratedSets()`.
+
+We also add a warning for all other unimplemented cases (= when domain is not a full subcategory of codomain).
+
+The implementation constructs a `Set_object` wrapper, which needs a modification too: Currently equality testing (`Set_object.__richcmp__`) just delegates to the wrapped parents, so it does not take place on the level of sets.
+
+
 
 Comment: 1
 
``````




---

archive/issue_comments_517684.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-17T20:03:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34384#issuecomment-517684",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_517685.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-17T20:24:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34384#issuecomment-517685",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_517686.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-18T01:36:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34384#issuecomment-517686",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_517687.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-18T05:34:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34384#issuecomment-517687",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_517688.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-08-18T05:51:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34384#issuecomment-517688",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_517689.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-18T18:19:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34384#issuecomment-517689",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_517690.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,12 @@\n+part of Meta-ticket #31247: `ForgetfulFunctor` not working properly\n+\n+Here we fix it for `codomain=Sets()` and its full subcategories such as `codomain=FiniteEnumeratedSets()`.\n+\n+We also add a warning for all other unimplemented cases (= when domain is not a full subcategory of codomain).\n+\n+The implementation constructs a `Set_object` wrapper.\n+\n+Follow-up ticket: `Set_object` etc. need a modification too: Currently equality testing (`Set_object.__richcmp__`) just delegates to the wrapped parents, so it does not take place on the level of sets, where equality of two sets means that they contain the same elements.\n \n \n Comment: 1\n``````\n",
    "created_at": "2022-08-19T16:48:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34384#issuecomment-517690",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,12 @@
+part of Meta-ticket #31247: `ForgetfulFunctor` not working properly
+
+Here we fix it for `codomain=Sets()` and its full subcategories such as `codomain=FiniteEnumeratedSets()`.
+
+We also add a warning for all other unimplemented cases (= when domain is not a full subcategory of codomain).
+
+The implementation constructs a `Set_object` wrapper.
+
+Follow-up ticket: `Set_object` etc. need a modification too: Currently equality testing (`Set_object.__richcmp__`) just delegates to the wrapped parents, so it does not take place on the level of sets, where equality of two sets means that they contain the same elements.
 
 
 Comment: 1
``````




---

archive/issue_comments_517691.json:
```json
{
    "body": "<a id='comment:11'></a>Should the `Set_object` class be equipped with a `construction` method that returns the `ForgetfulFunctor`? Should `ForgetfulFunctor` become a `ConstructionFunctor`?",
    "created_at": "2022-08-19T17:01:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34384#issuecomment-517691",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>Should the `Set_object` class be equipped with a `construction` method that returns the `ForgetfulFunctor`? Should `ForgetfulFunctor` become a `ConstructionFunctor`?



---

archive/issue_events_089454.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/34384",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34384#event-89454"
}
```
