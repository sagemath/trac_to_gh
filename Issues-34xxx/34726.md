# Issue 34726: Optional package papilo (dependency of scip)

archive/issues_034489.json:
```json
{
    "body": "https://github.com/scipopt/papilo/\n\nhttps://github.com/scipopt/papilo/archive/refs/tags/v2.1.1.tar.gz\n\nNot packaged anywhere - https://repology.org/projects/?search=papilo\n\nscip uses papilo's header-only library, but papilo also likes to build an executable that may depend on scip and other solvers at compile time. - https://github.com/scipopt/papilo/issues/21\n\nNew packages needed as dependencies:\n- https://github.com/oneapi-src/oneTBB - https://repology.org/project/onetbb/versions\n\nCC:  @dimpase\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nBranch: u/mkoeppe/optional_package_papilo__dependency_of_scip_\n\nCommit: 4b71c4ad8227b5fdb5b0b2f061a0139fa69f9534\n\nIssue created by migration from https://trac.sagemath.org/ticket/34726\n\n",
    "created_at": "2022-11-05T22:00:13Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Optional package papilo (dependency of scip)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34726",
    "user": "https://github.com/mkoeppe"
}
```
https://github.com/scipopt/papilo/

https://github.com/scipopt/papilo/archive/refs/tags/v2.1.1.tar.gz

Not packaged anywhere - https://repology.org/projects/?search=papilo

scip uses papilo's header-only library, but papilo also likes to build an executable that may depend on scip and other solvers at compile time. - https://github.com/scipopt/papilo/issues/21

New packages needed as dependencies:
- https://github.com/oneapi-src/oneTBB - https://repology.org/project/onetbb/versions

CC:  @dimpase

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Branch: u/mkoeppe/optional_package_papilo__dependency_of_scip_

Commit: 4b71c4ad8227b5fdb5b0b2f061a0139fa69f9534

Issue created by migration from https://trac.sagemath.org/ticket/34726





---

archive/issue_comments_487737.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-11-05T23:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487737",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_487738.json:
```json
{
    "body": "<a id='comment:5'></a>`tox -e docker-ubuntu-jammy-standard -- papilo` gives\n\n```\n  [papilo-2.1.1]   CMake Error at /usr/lib/x86_64-linux-gnu/cmake/Boost-1.74.0/BoostConfig.cmake:141 (find_package):\n  [papilo-2.1.1]     Could not find a package configuration file provided by\n  [papilo-2.1.1]     \"boost_program_options\" (requested version 1.74.0) with any of the\n  [papilo-2.1.1]     following names:\n  [papilo-2.1.1]   \n  [papilo-2.1.1]       boost_program_optionsConfig.cmake\n  [papilo-2.1.1]       boost_program_options-config.cmake\n  [papilo-2.1.1]   \n  [papilo-2.1.1]     Add the installation prefix of \"boost_program_options\" to CMAKE_PREFIX_PATH\n  [papilo-2.1.1]     or set \"boost_program_options_DIR\" to a directory containing one of the\n  [papilo-2.1.1]     above files.  If \"boost_program_options\" provides a separate development\n  [papilo-2.1.1]     package or SDK, be sure it has been installed.\n  [papilo-2.1.1]   Call Stack (most recent call first):\n  [papilo-2.1.1]     /usr/lib/x86_64-linux-gnu/cmake/Boost-1.74.0/BoostConfig.cmake:258 (boost_find_component)\n  [papilo-2.1.1]     /usr/share/cmake-3.22/Modules/FindBoost.cmake:594 (find_package)\n  [papilo-2.1.1]     CMakeLists.txt:50 (find_package)\n```\n\nhttps://stackoverflow.com/questions/20502194/cmake-cannot-find-boost-program-options-on-debian",
    "created_at": "2022-11-06T00:03:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487738",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>`tox -e docker-ubuntu-jammy-standard -- papilo` gives

```
  [papilo-2.1.1]   CMake Error at /usr/lib/x86_64-linux-gnu/cmake/Boost-1.74.0/BoostConfig.cmake:141 (find_package):
  [papilo-2.1.1]     Could not find a package configuration file provided by
  [papilo-2.1.1]     "boost_program_options" (requested version 1.74.0) with any of the
  [papilo-2.1.1]     following names:
  [papilo-2.1.1]   
  [papilo-2.1.1]       boost_program_optionsConfig.cmake
  [papilo-2.1.1]       boost_program_options-config.cmake
  [papilo-2.1.1]   
  [papilo-2.1.1]     Add the installation prefix of "boost_program_options" to CMAKE_PREFIX_PATH
  [papilo-2.1.1]     or set "boost_program_options_DIR" to a directory containing one of the
  [papilo-2.1.1]     above files.  If "boost_program_options" provides a separate development
  [papilo-2.1.1]     package or SDK, be sure it has been installed.
  [papilo-2.1.1]   Call Stack (most recent call first):
  [papilo-2.1.1]     /usr/lib/x86_64-linux-gnu/cmake/Boost-1.74.0/BoostConfig.cmake:258 (boost_find_component)
  [papilo-2.1.1]     /usr/share/cmake-3.22/Modules/FindBoost.cmake:594 (find_package)
  [papilo-2.1.1]     CMakeLists.txt:50 (find_package)
```

https://stackoverflow.com/questions/20502194/cmake-cannot-find-boost-program-options-on-debian



---

archive/issue_comments_487739.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-06T00:36:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487739",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_487740.json:
```json
{
    "body": "<a id='comment:7'></a>```\n[papilo-2.1.1] -- Could NOT find TBB (missing: TBB_DIR)\n[papilo-2.1.1] -- Could NOT find TBB (missing: TBB_IMPORTED_TARGETS tbb tbbmalloc) (Required is at least version \"2018\")\n[papilo-2.1.1] -- Downloading TBB\n```\n\nso we'll need to add tbb as a package",
    "created_at": "2022-11-06T00:37:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487740",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>```
[papilo-2.1.1] -- Could NOT find TBB (missing: TBB_DIR)
[papilo-2.1.1] -- Could NOT find TBB (missing: TBB_IMPORTED_TARGETS tbb tbbmalloc) (Required is at least version "2018")
[papilo-2.1.1] -- Downloading TBB
```

so we'll need to add tbb as a package



---

archive/issue_comments_487741.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-10T01:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487741",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_487742.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-10T01:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487742",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_487743.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-11-10T02:14:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487743",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_487744.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-11-13T19:31:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487744",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_487745.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-14T06:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487745",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_487746.json:
```json
{
    "body": "<a id='comment:14'></a>Our boost_cropped package does not provide program_options. \nubuntu-bionic-minimal: https://github.com/mkoeppe/PySCIPOpt/actions/runs/3457453303/jobs/5774142273\n\n```\n[papilo-2.1.1]   CMake Error at /sage/local/share/cmake-3.24/Modules/FindPackageHandleStandardArgs.cmake:230 (message):\n  [papilo-2.1.1]     Could NOT find Boost (missing: program_options) (found suitable version\n  [papilo-2.1.1]     \"1.66.0\", minimum required is \"1.65\")\n```",
    "created_at": "2022-11-14T07:51:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487746",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>Our boost_cropped package does not provide program_options. 
ubuntu-bionic-minimal: https://github.com/mkoeppe/PySCIPOpt/actions/runs/3457453303/jobs/5774142273

```
[papilo-2.1.1]   CMake Error at /sage/local/share/cmake-3.24/Modules/FindPackageHandleStandardArgs.cmake:230 (message):
  [papilo-2.1.1]     Could NOT find Boost (missing: program_options) (found suitable version
  [papilo-2.1.1]     "1.66.0", minimum required is "1.65")
```



---

archive/issue_comments_487747.json:
```json
{
    "body": "<a id='comment:15'></a>could it be due to out boost being over 5 years old? I'll check if we can update to 1.80 easily",
    "created_at": "2022-11-14T11:01:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487747",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>could it be due to out boost being over 5 years old? I'll check if we can update to 1.80 easily



---

archive/issue_comments_487748.json:
```json
{
    "body": "<a id='comment:16'></a>see #34748 for boost update",
    "created_at": "2022-11-14T11:10:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487748",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>see #34748 for boost update



---

archive/issue_comments_487749.json:
```json
{
    "body": "<a id='comment:17'></a>use updated boost_cropped",
    "created_at": "2022-11-14T11:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487749",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'></a>use updated boost_cropped



---

archive/issue_comments_487750.json:
```json
{
    "body": "<a id='comment:18'></a>lgtm  - with #34748, or with a systemwide (newer that 1.66, i.e. 1.74) boost)",
    "created_at": "2022-11-14T14:08:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487750",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>lgtm  - with #34748, or with a systemwide (newer that 1.66, i.e. 1.74) boost)



---

archive/issue_comments_487751.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-11-14T14:08:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487751",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_487752.json:
```json
{
    "body": "<a id='comment:19'></a>Did you test on a system that does not have boost? \n\nlibboost_program_options is an actual library, it's not header-only.",
    "created_at": "2022-11-14T17:40:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487752",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>Did you test on a system that does not have boost? 

libboost_program_options is an actual library, it's not header-only.



---

archive/issue_comments_487753.json:
```json
{
    "body": "<a id='comment:20'></a>oops, OK. Let me see. Indeed, I have boost system-wide, so probably it was called, instead of using locally installed headers-only. I'll check if it can be built from our boost_cropped.",
    "created_at": "2022-11-14T18:19:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487753",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>oops, OK. Let me see. Indeed, I have boost system-wide, so probably it was called, instead of using locally installed headers-only. I'll check if it can be built from our boost_cropped.



---

archive/issue_comments_487754.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2022-11-14T18:19:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487754",
    "user": "https://github.com/dimpase"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_487755.json:
```json
{
    "body": "<a id='comment:21'></a>here is the linking of papilo binary built by Sage, and indeed, it links to system-wide boost :-(\n\n```\n$ ldd local/bin/papilo \n\tlinux-vdso.so.1 (0x00007fff5577e000)\n\tlibboost_iostreams.so.1.80.0 => /usr/lib64/libboost_iostreams.so.1.80.0 (0x00007feb4b17c000)\n\tlibboost_serialization.so.1.80.0 => /usr/lib64/libboost_serialization.so.1.80.0 (0x00007feb4b136000)\n\tlibboost_program_options.so.1.80.0 => /usr/lib64/libboost_program_options.so.1.80.0 (0x00007feb4b0c9000)\n\tlibtbb.so.12 => /mnt/opt/Sage/sage-dev/local/lib/libtbb.so.12 (0x00007feb4b07b000)\n\t[... the rest is OK]\n```\n\n---\n\nFor some reason, `papilo` also builds and installs two static libraries:\n\n```\n        \"lib/libclusol.a\",\n        \"lib/libpapilo-core.a\"\n```\nIs this right?\n`libtbb` does not link to `boost`.",
    "created_at": "2022-11-14T18:28:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487755",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>here is the linking of papilo binary built by Sage, and indeed, it links to system-wide boost :-(

```
$ ldd local/bin/papilo 
	linux-vdso.so.1 (0x00007fff5577e000)
	libboost_iostreams.so.1.80.0 => /usr/lib64/libboost_iostreams.so.1.80.0 (0x00007feb4b17c000)
	libboost_serialization.so.1.80.0 => /usr/lib64/libboost_serialization.so.1.80.0 (0x00007feb4b136000)
	libboost_program_options.so.1.80.0 => /usr/lib64/libboost_program_options.so.1.80.0 (0x00007feb4b0c9000)
	libtbb.so.12 => /mnt/opt/Sage/sage-dev/local/lib/libtbb.so.12 (0x00007feb4b07b000)
	[... the rest is OK]
```

---

For some reason, `papilo` also builds and installs two static libraries:

```
        "lib/libclusol.a",
        "lib/libpapilo-core.a"
```
Is this right?
`libtbb` does not link to `boost`.



---

archive/issue_comments_487756.json:
```json
{
    "body": "<a id='comment:22'></a>boost is needed only for the papilo executables. We don't actually need them; scip only needs the papilo library. https://github.com/scipopt/papilo/issues/21",
    "created_at": "2022-11-14T18:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487756",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>boost is needed only for the papilo executables. We don't actually need them; scip only needs the papilo library. https://github.com/scipopt/papilo/issues/21



---

archive/issue_comments_487757.json:
```json
{
    "body": "<a id='comment:23'></a>Short of what I propose in https://github.com/scipopt/papilo/issues/21, we can just patch out building the papilo executables to get rid of this dependency.",
    "created_at": "2022-11-14T18:38:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487757",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>Short of what I propose in https://github.com/scipopt/papilo/issues/21, we can just patch out building the papilo executables to get rid of this dependency.



---

archive/issue_comments_487758.json:
```json
{
    "body": "<a id='comment:24'></a>In case we'd like to build papilo executable, on macOS it needs boost 1.72 or newer.",
    "created_at": "2022-11-14T18:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487758",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>In case we'd like to build papilo executable, on macOS it needs boost 1.72 or newer.



---

archive/issue_comments_487759.json:
```json
{
    "body": "<a id='comment:25'></a>We can also build a needed subset (or all)  of boost libraries from the boost_cropped tarball, in that sense we are good, too.",
    "created_at": "2022-11-14T18:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487759",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:25'></a>We can also build a needed subset (or all)  of boost libraries from the boost_cropped tarball, in that sense we are good, too.



---

archive/issue_comments_487760.json:
```json
{
    "body": "<a id='comment:26'></a>Marc Pfetsch from the scip team advises that SCIP only needs the papilo headers.\n\nI'll reduce this package to an do an ad-hoc installation of the headers.\nThis removes the need for work on boost.",
    "created_at": "2022-11-18T22:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487760",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>Marc Pfetsch from the scip team advises that SCIP only needs the papilo headers.

I'll reduce this package to an do an ad-hoc installation of the headers.
This removes the need for work on boost.



---

archive/issue_comments_487761.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2022-11-18T22:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487761",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_487762.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-18T22:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487762",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_487763.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-11-18T22:58:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487763",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_487764.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-11-20T03:15:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487764",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_487765.json:
```json
{
    "body": "<a id='comment:30'></a>build failure on fedora-37 - https://github.com/scipopt/papilo/issues/23",
    "created_at": "2022-11-20T09:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487765",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>build failure on fedora-37 - https://github.com/scipopt/papilo/issues/23



---

archive/issue_comments_487766.json:
```json
{
    "body": "<a id='comment:31'></a>build failure of `onetbb` on `ubuntu-trusty-toolchain-gcc_9` https://github.com/mkoeppe/PySCIPOpt/actions/runs/3535481134/jobs/5933596249\n\n```\n2021.7.0/src/src/tbb/../../include/tbb/../oneapi/tbb/detail/_concurrent_skip_list.h:25,\n                 from /sage/local/var/tmp/sage/build/onetbb-2021.7.0/src/src/tbb/../../include/tbb/../oneapi/tbb/concurrent_map.h:21,\n                 from /sage/local/var/tmp/sage/build/onetbb-2021.7.0/src/src/tbb/../../include/tbb/concurrent_map.h:17,\n                 from /sage/local/var/tmp/sage/build/onetbb-2021.7.0/src/test/tbb/test_concurrent_map.cpp:19:\n/usr/include/c++/9/bits/basic_string.h: In instantiation of 'class std::basic_string<char, std::char_traits<char>, tbb::detail::d1::tbb_allocator<char> >':\n/sage/local/var/tmp/sage/build/onetbb-2021.7.0/src/test/common/concurrent_associative_common.h:964:29:   required from 'void test_map_specific_types() [with Checker = OrderedMapTypesTester]'\n/sage/local/var/tmp/sage/build/onetbb-2021.7.0/src/test/tbb/test_concurrent_map.cpp:90:52:   required from here\n/usr/include/c++/9/bits/basic_string.h:3146:63: error: no class template named 'rebind' in 'class tbb::detail::d1::tbb_allocator<char>'\n 3146 |       typedef typename _Alloc::template rebind<_CharT>::other _CharT_alloc_type;\n      |                                                               ^~~~~~~~~~~~~~~~~\ncompilation terminated due to -Wfatal-errors.\nmake[5]: *** [test/CMakeFiles/test_concurrent_map.dir/tbb/test_concurrent_map.cpp.o] Error 1\nmake[5]: Target `test/CMakeFiles/test_concurrent_map.dir/build' not remade because of errors.\nmake[4]: *** [test/CMakeFiles/test_concurrent_map.dir/all] Error 2\n```",
    "created_at": "2022-11-23T22:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487766",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>build failure of `onetbb` on `ubuntu-trusty-toolchain-gcc_9` https://github.com/mkoeppe/PySCIPOpt/actions/runs/3535481134/jobs/5933596249

```
2021.7.0/src/src/tbb/../../include/tbb/../oneapi/tbb/detail/_concurrent_skip_list.h:25,
                 from /sage/local/var/tmp/sage/build/onetbb-2021.7.0/src/src/tbb/../../include/tbb/../oneapi/tbb/concurrent_map.h:21,
                 from /sage/local/var/tmp/sage/build/onetbb-2021.7.0/src/src/tbb/../../include/tbb/concurrent_map.h:17,
                 from /sage/local/var/tmp/sage/build/onetbb-2021.7.0/src/test/tbb/test_concurrent_map.cpp:19:
/usr/include/c++/9/bits/basic_string.h: In instantiation of 'class std::basic_string<char, std::char_traits<char>, tbb::detail::d1::tbb_allocator<char> >':
/sage/local/var/tmp/sage/build/onetbb-2021.7.0/src/test/common/concurrent_associative_common.h:964:29:   required from 'void test_map_specific_types() [with Checker = OrderedMapTypesTester]'
/sage/local/var/tmp/sage/build/onetbb-2021.7.0/src/test/tbb/test_concurrent_map.cpp:90:52:   required from here
/usr/include/c++/9/bits/basic_string.h:3146:63: error: no class template named 'rebind' in 'class tbb::detail::d1::tbb_allocator<char>'
 3146 |       typedef typename _Alloc::template rebind<_CharT>::other _CharT_alloc_type;
      |                                                               ^~~~~~~~~~~~~~~~~
compilation terminated due to -Wfatal-errors.
make[5]: *** [test/CMakeFiles/test_concurrent_map.dir/tbb/test_concurrent_map.cpp.o] Error 1
make[5]: Target `test/CMakeFiles/test_concurrent_map.dir/build' not remade because of errors.
make[4]: *** [test/CMakeFiles/test_concurrent_map.dir/all] Error 2
```



---

archive/issue_comments_487767.json:
```json
{
    "body": "<a id='comment:32'></a>That's https://github.com/oneapi-src/oneTBB/issues/383",
    "created_at": "2022-11-23T22:10:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487767",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'></a>That's https://github.com/oneapi-src/oneTBB/issues/383



---

archive/issue_comments_487768.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-27T00:19:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487768",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_487769.json:
```json
{
    "body": "<a id='comment:34'></a>build failures on `ubuntu-trusty-toolchain-gcc_9` (comment:31) and `fedora-37` (comment:30) remain, but that should not stop us from merging these optional packages. Both need help from upstream",
    "created_at": "2022-11-27T00:22:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487769",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>build failures on `ubuntu-trusty-toolchain-gcc_9` (comment:31) and `fedora-37` (comment:30) remain, but that should not stop us from merging these optional packages. Both need help from upstream



---

archive/issue_comments_487770.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-11-27T00:22:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487770",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_487771.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-27T23:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487771",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_487772.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-09T02:32:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487772",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_487773.json:
```json
{
    "body": "<a id='comment:37'></a>This fixed the build failure on fedora-37.",
    "created_at": "2022-12-09T02:37:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487773",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'></a>This fixed the build failure on fedora-37.



---

archive/issue_comments_487774.json:
```json
{
    "body": "<a id='comment:38'></a>Ready for review",
    "created_at": "2022-12-09T17:55:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487774",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:38'></a>Ready for review



---

archive/issue_comments_487775.json:
```json
{
    "body": "<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-09T21:33:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487775",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_487776.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-12-11T19:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487776",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_487777.json:
```json
{
    "body": "<a id='comment:41'></a>Thanks!",
    "created_at": "2022-12-11T20:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34726#issuecomment-487777",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'></a>Thanks!
