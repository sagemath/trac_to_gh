# Issue 34611: fast implementation of exp

archive/issues_034374.json:
```json
{
    "body": "Using the recursive definition\n\n```\nexp(f) = 1 + int(f' *exp(f))\n```\nwe can make the computation of the exponential almost the same as a single multiplication.\n\nThe drawback is that we do not benefit from the error handling in `compose`.\n\nCC:  @tscrim\n\nKeywords: LazyPowerSeries\n\nBranch/Commit: 5020b9decfe8a8f375102c254c28cb51ce3c7a12\n\nReviewer: Travis Scrimshaw\n\nAuthor: Martin Rubey\n\nDependencies: #34552, #34636\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/34611\n\n",
    "closed_at": "2022-11-07T20:25:52Z",
    "created_at": "2022-09-29T10:00:15Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "fast implementation of exp",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34611",
    "user": "https://github.com/mantepse"
}
```
Using the recursive definition

```
exp(f) = 1 + int(f' *exp(f))
```
we can make the computation of the exponential almost the same as a single multiplication.

The drawback is that we do not benefit from the error handling in `compose`.

CC:  @tscrim

Keywords: LazyPowerSeries

Branch/Commit: 5020b9decfe8a8f375102c254c28cb51ce3c7a12

Reviewer: Travis Scrimshaw

Author: Martin Rubey

Dependencies: #34552, #34636

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/34611





---

archive/issue_comments_689045.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mantepse/fast_implementation_of_exp\"",
    "created_at": "2022-09-29T10:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689045",
    "user": "https://github.com/mantepse"
}
```

Changing branch from "" to "u/mantepse/fast_implementation_of_exp"



---

archive/issue_comments_689046.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2022-09-29T10:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689046",
    "user": "https://github.com/mantepse"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_689047.json:
```json
{
    "body": "<a id='comment:2'></a>Last 10 new commits:",
    "created_at": "2022-09-29T10:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689047",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:2'></a>Last 10 new commits:



---

archive/issue_comments_689048.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2022-09-29T10:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689048",
    "user": "https://github.com/mantepse"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_689049.json:
```json
{
    "body": "Changing author from \"\" to \"Martin Rubey\"",
    "created_at": "2022-09-29T10:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689049",
    "user": "https://github.com/mantepse"
}
```

Changing author from "" to "Martin Rubey"



---

archive/issue_comments_689050.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,8 @@\n+Using the recursive definition\n \n+```\n+exp(f) = 1 + int(f' *exp(f))\n+```\n+we can make the computation of the exponential almost the same as a single multiplication.\n+\n+The drawback is that we do not benefit from the error handling in `compose`.\n``````\n",
    "created_at": "2022-09-29T10:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689050",
    "user": "https://github.com/mantepse"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,8 @@
+Using the recursive definition
 
+```
+exp(f) = 1 + int(f' *exp(f))
+```
+we can make the computation of the exponential almost the same as a single multiplication.
+
+The drawback is that we do not benefit from the error handling in `compose`.
``````




---

archive/issue_comments_689051.json:
```json
{
    "body": "Changing commit from \"\" to \"80d1e58693a633bec4564acd048c2d3020bccfd4\"",
    "created_at": "2022-09-29T10:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689051",
    "user": "https://github.com/mantepse"
}
```

Changing commit from "" to "80d1e58693a633bec4564acd048c2d3020bccfd4"



---

archive/issue_comments_689052.json:
```json
{
    "body": "Changing keywords from \"\" to \"LazyPowerSeries\".",
    "created_at": "2022-09-29T10:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689052",
    "user": "https://github.com/mantepse"
}
```

Changing keywords from "" to "LazyPowerSeries".



---

archive/issue_comments_689053.json:
```json
{
    "body": "<a id='comment:3'></a>Here is a comparison:\n\n```\nsage: L.<z> = LazyLaurentSeriesRing(QQ)\nsage: f = L(lambda n: randint(1, 100), valuation=1)\nsage: g = exp(f)\nsage: %time a = g[200]\nCPU times: user 86.4 ms, sys: 29 \u00b5s, total: 86.4 ms\nWall time: 86.4 ms\n\nsage: e = L(coefficients=lambda n: 1/factorial(ZZ(n)), valuation=0)\nsage: h = e(f)\nsage: %time b = h[200]\nCPU times: user 1.7 s, sys: 20 \u00b5s, total: 1.7 s\nWall time: 1.7 s\n\nsage: a == b\nTrue\n```",
    "created_at": "2022-09-29T10:14:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689053",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:3'></a>Here is a comparison:

```
sage: L.<z> = LazyLaurentSeriesRing(QQ)
sage: f = L(lambda n: randint(1, 100), valuation=1)
sage: g = exp(f)
sage: %time a = g[200]
CPU times: user 86.4 ms, sys: 29 µs, total: 86.4 ms
Wall time: 86.4 ms

sage: e = L(coefficients=lambda n: 1/factorial(ZZ(n)), valuation=0)
sage: h = e(f)
sage: %time b = h[200]
CPU times: user 1.7 s, sys: 20 µs, total: 1.7 s
Wall time: 1.7 s

sage: a == b
True
```



---

archive/issue_comments_689054.json:
```json
{
    "body": "Changing commit from \"80d1e58693a633bec4564acd048c2d3020bccfd4\" to \"08ca5a3b8b9dac49beacd14efa49883f197d6212\"",
    "created_at": "2022-09-29T14:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689054",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "80d1e58693a633bec4564acd048c2d3020bccfd4" to "08ca5a3b8b9dac49beacd14efa49883f197d6212"



---

archive/issue_comments_689055.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-29T14:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689055",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_689056.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#34552\"",
    "created_at": "2022-09-29T15:21:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689056",
    "user": "https://github.com/mantepse"
}
```

Changing dependencies from "" to "#34552"



---

archive/issue_comments_689057.json:
```json
{
    "body": "<a id='comment:6'></a>There is a slight problem:\n\n```\nsage: L.<z> = LazyLaurentSeriesRing(QQ)\nsage: f = L(lambda n: randint(1, 10), valuation=1)\nsage: g = exp(f)\nsage: %time _ = g[500]\n...\nRecursionError: maximum recursion depth exceeded while calling a Python object\n```",
    "created_at": "2022-10-10T19:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689057",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:6'></a>There is a slight problem:

```
sage: L.<z> = LazyLaurentSeriesRing(QQ)
sage: f = L(lambda n: randint(1, 10), valuation=1)
sage: g = exp(f)
sage: %time _ = g[500]
...
RecursionError: maximum recursion depth exceeded while calling a Python object
```



---

archive/issue_comments_689058.json:
```json
{
    "body": "<a id='comment:7'></a>This is not a problem if we use dense series (of course) - so there are at least three solutions:\n\n* we could create a dense ring in `exp`,\n\n* we could modify `Stream_uninitialized.get_coefficient` to compute coefficients in order,\n\n* we could ignore the problem, and tell the user to use dense series.",
    "created_at": "2022-10-10T19:57:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689058",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:7'></a>This is not a problem if we use dense series (of course) - so there are at least three solutions:

* we could create a dense ring in `exp`,

* we could modify `Stream_uninitialized.get_coefficient` to compute coefficients in order,

* we could ignore the problem, and tell the user to use dense series.



---

archive/issue_comments_689059.json:
```json
{
    "body": "<a id='comment:8'></a>There is also another solution: Tell the user to compute some earlier coefficients:\n\n```\nsage: L.<z> = LazyLaurentSeriesRing(QQ)\nsage: f = L(lambda n: randint(1, 10), valuation=1)\nsage: g = exp(f)\nsage: %time _ = g[100]\nCPU times: user 8.87 ms, sys: 18 \u00b5s, total: 8.88 ms\nWall time: 8.74 ms\nsage: %time _ = g[200]\nCPU times: user 38.1 ms, sys: 0 ns, total: 38.1 ms\nWall time: 37.8 ms\nsage: %time _ = g[500]\nCPU times: user 678 ms, sys: 0 ns, total: 678 ms\nWall time: 678 ms\n```\n\nHowever, I like option (2) the best because there is not a reasonable situation where we would not essentially end up computing all of the coefficients (ultimately in order):\n\n```\nsage: len(g._coeff_stream._cache)\n501\n```",
    "created_at": "2022-10-11T05:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689059",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>There is also another solution: Tell the user to compute some earlier coefficients:

```
sage: L.<z> = LazyLaurentSeriesRing(QQ)
sage: f = L(lambda n: randint(1, 10), valuation=1)
sage: g = exp(f)
sage: %time _ = g[100]
CPU times: user 8.87 ms, sys: 18 µs, total: 8.88 ms
Wall time: 8.74 ms
sage: %time _ = g[200]
CPU times: user 38.1 ms, sys: 0 ns, total: 38.1 ms
Wall time: 37.8 ms
sage: %time _ = g[500]
CPU times: user 678 ms, sys: 0 ns, total: 678 ms
Wall time: 678 ms
```

However, I like option (2) the best because there is not a reasonable situation where we would not essentially end up computing all of the coefficients (ultimately in order):

```
sage: len(g._coeff_stream._cache)
501
```



---

archive/issue_comments_689060.json:
```json
{
    "body": "<a id='comment:9'></a>A similar technique works for computing the Cauchy inverse.",
    "created_at": "2022-10-11T06:58:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689060",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:9'></a>A similar technique works for computing the Cauchy inverse.



---

archive/issue_comments_689061.json:
```json
{
    "body": "<a id='comment:10'></a>We might be able to limit the number of recursion calls by being careful about the order of multiplication too.",
    "created_at": "2022-10-11T07:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689061",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>We might be able to limit the number of recursion calls by being careful about the order of multiplication too.



---

archive/issue_comments_689062.json:
```json
{
    "body": "<a id='comment:11'></a>You mean `Stream_cauchy_mul(d_self, f._coeff_stream)` vs. `Stream_cauchy_mul(f._coeff_stream, d_self)`?\n\nAll of this may also be affected by #34616.",
    "created_at": "2022-10-11T08:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689062",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:11'></a>You mean `Stream_cauchy_mul(d_self, f._coeff_stream)` vs. `Stream_cauchy_mul(f._coeff_stream, d_self)`?

All of this may also be affected by #34616.



---

archive/issue_comments_689063.json:
```json
{
    "body": "<a id='comment:12'></a>Yes, that's right. Although since #34616 might only apply to the dense case, it might not be relevant to the issue we have with the sparse case.",
    "created_at": "2022-10-11T08:34:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689063",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>Yes, that's right. Although since #34616 might only apply to the dense case, it might not be relevant to the issue we have with the sparse case.



---

archive/issue_comments_689064.json:
```json
{
    "body": "<a id='comment:13'></a>What do you think about making `Stream_uninitialized` always dense.  This is essentially the same as (2) above, just with less overhead.\n\nThis could be done either here or in #34636, which is ready for review. I could then make #34636 a dependency for this ticket.  I could even do a doctest there, because the problem arises already with, for example, the implicit definition of the Catalan numbers:\n\n```\nsage: L.<z> = LazyPowerSeriesRing(ZZ); C = L.undefined(); C.define(1 + z*C^2)\nsage: %time _ = C[500]\n...\nRecursionError: maximum recursion depth exceeded while calling a Python object\n\nsage: L.<z> = LazyPowerSeriesRing(ZZ, sparse=True); C = L.undefined(); C.define(1 + z*C^2)\nsage: %time _ = C[350]\nCPU times: user 201 ms, sys: 0 ns, total: 201 ms\nWall time: 201 ms\nsage: L.<z> = LazyPowerSeriesRing(ZZ, sparse=False); C = L.undefined(); C.define(1 + z*C^2)\nsage: %time _ = C[350]\nCPU times: user 160 ms, sys: 0 ns, total: 160 ms\nWall time: 160 ms\n```",
    "created_at": "2022-10-11T20:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689064",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:13'></a>What do you think about making `Stream_uninitialized` always dense.  This is essentially the same as (2) above, just with less overhead.

This could be done either here or in #34636, which is ready for review. I could then make #34636 a dependency for this ticket.  I could even do a doctest there, because the problem arises already with, for example, the implicit definition of the Catalan numbers:

```
sage: L.<z> = LazyPowerSeriesRing(ZZ); C = L.undefined(); C.define(1 + z*C^2)
sage: %time _ = C[500]
...
RecursionError: maximum recursion depth exceeded while calling a Python object

sage: L.<z> = LazyPowerSeriesRing(ZZ, sparse=True); C = L.undefined(); C.define(1 + z*C^2)
sage: %time _ = C[350]
CPU times: user 201 ms, sys: 0 ns, total: 201 ms
Wall time: 201 ms
sage: L.<z> = LazyPowerSeriesRing(ZZ, sparse=False); C = L.undefined(); C.define(1 + z*C^2)
sage: %time _ = C[350]
CPU times: user 160 ms, sys: 0 ns, total: 160 ms
Wall time: 160 ms
```



---

archive/issue_comments_689065.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [Martin Rubey](#comment%3A13):\n> What do you think about making `Stream_uninitialized` always dense.  This is essentially the same as (2) above, just with less overhead.\n\n\n+1\n\n> This could be done either here or in #34636, which is ready for review. I could then make #34636 a dependency for this ticket.\n\n\nThat would probably be better.",
    "created_at": "2022-10-12T08:48:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689065",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>Replying to [Martin Rubey](#comment%3A13):
> What do you think about making `Stream_uninitialized` always dense.  This is essentially the same as (2) above, just with less overhead.


+1

> This could be done either here or in #34636, which is ready for review. I could then make #34636 a dependency for this ticket.


That would probably be better.



---

archive/issue_comments_689066.json:
```json
{
    "body": "Changing commit from \"08ca5a3b8b9dac49beacd14efa49883f197d6212\" to \"5020b9decfe8a8f375102c254c28cb51ce3c7a12\"",
    "created_at": "2022-10-13T11:10:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689066",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "08ca5a3b8b9dac49beacd14efa49883f197d6212" to "5020b9decfe8a8f375102c254c28cb51ce3c7a12"



---

archive/issue_comments_689067.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-10-13T11:10:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689067",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_689068.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-10-13T11:12:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689068",
    "user": "https://github.com/mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_689069.json:
```json
{
    "body": "<a id='comment:16'></a>A fast algorithm for inversion can be found in van der Hoeven's paper, but is not completely trivial to implement, so it should be left for another ticket.",
    "created_at": "2022-10-13T11:12:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689069",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:16'></a>A fast algorithm for inversion can be found in van der Hoeven's paper, but is not completely trivial to implement, so it should be left for another ticket.



---

archive/issue_comments_689070.json:
```json
{
    "body": "Changing dependencies from \"#34552\" to \"#34552, #34636\"",
    "created_at": "2022-10-13T15:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689070",
    "user": "https://github.com/mantepse"
}
```

Changing dependencies from "#34552" to "#34552, #34636"



---

archive/issue_comments_689071.json:
```json
{
    "body": "<a id='comment:17'></a>As an aside, it should be very easy to get rid of the duplicated cache in `Stream_uninitialized`: currently we have a cache for `self._target`, and create another one for `self`.  I have an experimental branch, which removes `_target`, and simply sets `self._iter` to the iterator of the target.  However, I get a strange doctest failure when there are several interlinked uninitialized streams which, additionally, have positive valuation.  I don't understand the problem yet.  However, considering #34616, we probably want a slightly more advanced cache anyway, i.e., a cache whose size grows in chunks and not just one by one.  So it may be better to consider these things together.",
    "created_at": "2022-10-13T15:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689071",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:17'></a>As an aside, it should be very easy to get rid of the duplicated cache in `Stream_uninitialized`: currently we have a cache for `self._target`, and create another one for `self`.  I have an experimental branch, which removes `_target`, and simply sets `self._iter` to the iterator of the target.  However, I get a strange doctest failure when there are several interlinked uninitialized streams which, additionally, have positive valuation.  I don't understand the problem yet.  However, considering #34616, we probably want a slightly more advanced cache anyway, i.e., a cache whose size grows in chunks and not just one by one.  So it may be better to consider these things together.



---

archive/issue_comments_689072.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2022-10-28T07:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689072",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_689073.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-10-28T07:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689073",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_689074.json:
```json
{
    "body": "<a id='comment:18'></a>Or on a separate ticket altogether.\n\nI think this is good to go for now as it greatly improves the performance (asymptotically; I didn't check for small values, but there is likely at worst a negligible difference).",
    "created_at": "2022-10-28T07:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689074",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>Or on a separate ticket altogether.

I think this is good to go for now as it greatly improves the performance (asymptotically; I didn't check for small values, but there is likely at worst a negligible difference).



---

archive/issue_comments_689075.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-11-07T20:25:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689075",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_089683.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-11-07T20:25:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34611#event-89683"
}
```



---

archive/issue_comments_689076.json:
```json
{
    "body": "Changing branch from \"u/mantepse/fast_implementation_of_exp\" to \"5020b9decfe8a8f375102c254c28cb51ce3c7a12\"",
    "created_at": "2022-11-07T20:25:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34611",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34611#issuecomment-689076",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mantepse/fast_implementation_of_exp" to "5020b9decfe8a8f375102c254c28cb51ce3c7a12"
