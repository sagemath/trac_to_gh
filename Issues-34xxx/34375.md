# Issue 34375: Replace sage.algebras.yangian.GeneratorIndexingSet with cartesian_product

archive/issues_034138.json:
```json
{
    "assignees": [],
    "body": "We replace the `GeneratorIndexingSet` in `yangian.py` with `cartesian_product`, which its implementation is (now) duplicating.\n\nCC:  @tscrim\n\nBranch/Commit: **[abf1edc](https://github.com/sagemath/sagetrac-mirror/commit/abf1edc239e4ce2db13455df39e812e2402cfe63)**\n\nReviewer: **Matthias Koeppe**\n\nAuthor: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34375_\n\n",
    "closed_at": "2022-09-27T22:27:43Z",
    "created_at": "2022-08-16T20:12:30Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Replace sage.algebras.yangian.GeneratorIndexingSet with cartesian_product",
    "type": "issue",
    "updated_at": "2022-09-27T22:27:43Z",
    "url": "https://github.com/sagemath/sage/issues/34375",
    "user": "https://github.com/mkoeppe"
}
```
We replace the `GeneratorIndexingSet` in `yangian.py` with `cartesian_product`, which its implementation is (now) duplicating.

CC:  @tscrim

Branch/Commit: **[abf1edc](https://github.com/sagemath/sagetrac-mirror/commit/abf1edc239e4ce2db13455df39e812e2402cfe63)**

Reviewer: **Matthias Koeppe**

Author: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/34375_





---

archive/issue_events_451381.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-16T20:12:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451381"
}
```



---

archive/issue_events_451382.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-16T20:12:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451382"
}
```



---

archive/issue_events_451383.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-16T20:12:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451383"
}
```



---

archive/issue_events_451384.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-16T20:12:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451384"
}
```



---

archive/issue_comments_558075.json:
```json
{
    "body": "Branch: **[u/mkoeppe/sage_algebras_yangian_generatorindexingset_should_be_a_parent](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sage_algebras_yangian_generatorindexingset_should_be_a_parent)**",
    "created_at": "2022-08-18T23:43:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558075",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/sage_algebras_yangian_generatorindexingset_should_be_a_parent](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sage_algebras_yangian_generatorindexingset_should_be_a_parent)**



---

archive/issue_comments_558076.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2022-08-18T23:43:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558076",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_451385.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-18T23:43:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451385"
}
```



---

archive/issue_events_451386.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-18T23:43:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451386"
}
```



---

archive/issue_comments_558077.json:
```json
{
    "body": "Commit: **[b96983a](https://github.com/sagemath/sagetrac-mirror/commit/b96983ae152d02ebce024ede7a5979d9722ff2cd)**",
    "created_at": "2022-08-18T23:43:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558077",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[b96983a](https://github.com/sagemath/sagetrac-mirror/commit/b96983ae152d02ebce024ede7a5979d9722ff2cd)**



---

archive/issue_events_451387.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-18T23:43:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451387"
}
```



---

archive/issue_comments_558078.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b96983ae152d02ebce024ede7a5979d9722ff2cd\">b96983a</a></td><td><code>src/sage/algebras/yangian.py: Make GeneratorIndexingSet a Parent</code></td></tr></table>\n",
    "created_at": "2022-08-18T23:43:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558078",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">Comment 2</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b96983ae152d02ebce024ede7a5979d9722ff2cd">b96983a</a></td><td><code>src/sage/algebras/yangian.py: Make GeneratorIndexingSet a Parent</code></td></tr></table>




---

archive/issue_comments_558079.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nThis probably can now just be replaced by `cartesian_product`. I believe when I wrote this, it was not as good as it is now. I don't think the fa\u00e7ade for tuples property is so important (in particular, I don't think it makes any real difference in speed).",
    "created_at": "2022-08-19T04:28:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558079",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:3" align="right">Comment 3</div>

This probably can now just be replaced by `cartesian_product`. I believe when I wrote this, it was not as good as it is now. I don't think the fa√ßade for tuples property is so important (in particular, I don't think it makes any real difference in speed).



---

archive/issue_comments_558080.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nProbably, but I'm not inclined to work on that",
    "created_at": "2022-08-20T18:00:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558080",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">Comment 4</div>

Probably, but I'm not inclined to work on that



---

archive/issue_comments_558081.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\n(edit: NOT inclined)",
    "created_at": "2022-08-20T18:00:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558081",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">Comment 5</div>

(edit: NOT inclined)



---

archive/issue_comments_558082.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nActually, I am starting to get a little worried about this (AFAIK implicit) requirement that every input to index a `CFM` basis (or perhaps more generally that anything that could potentially model a set within Sage that the user could potentially get to using public functions) needs to be a `Parent`. It is more restrictive than before and could potentially have knock-on effects, including speed regressions (an element can be a heavy object to construct compared to, e.g., a `tuple` and have slower hashing).\n\nI would say the bug described in the ticket is really a fault of `Set` and not of the `GeneratorIndexingSet` (which clearly knows it is infinite through `cardinality()`).\n\nHence, I think this ticket as-is needs more justification than what has been given.\n\nThat being said, would be good here to avoid code duplication with `cartesian_product` as I described in [comment:3](#comment%3A3).",
    "created_at": "2022-08-27T03:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558082",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">Comment 6</div>

Actually, I am starting to get a little worried about this (AFAIK implicit) requirement that every input to index a `CFM` basis (or perhaps more generally that anything that could potentially model a set within Sage that the user could potentially get to using public functions) needs to be a `Parent`. It is more restrictive than before and could potentially have knock-on effects, including speed regressions (an element can be a heavy object to construct compared to, e.g., a `tuple` and have slower hashing).

I would say the bug described in the ticket is really a fault of `Set` and not of the `GeneratorIndexingSet` (which clearly knows it is infinite through `cardinality()`).

Hence, I think this ticket as-is needs more justification than what has been given.

That being said, would be good here to avoid code duplication with `cartesian_product` as I described in [comment:3](#comment%3A3).



---

archive/issue_comments_558083.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nReplying to [@tscrim](#comment%3A6):\n> this (AFAIK implicit) requirement that every input to index a `CFM` basis (or perhaps more generally that anything that could potentially model a set within Sage that the user could potentially get to using public functions) needs to be a `Parent`. \n\nNobody is making or proposing this change",
    "created_at": "2022-08-27T03:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558083",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">Comment 7</div>

Replying to [@tscrim](#comment%3A6):
> this (AFAIK implicit) requirement that every input to index a `CFM` basis (or perhaps more generally that anything that could potentially model a set within Sage that the user could potentially get to using public functions) needs to be a `Parent`. 

Nobody is making or proposing this change



---

archive/issue_comments_558084.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nYour `GeneratorIndexingSet` is an infinite generator without advertising that it's infinite. Which is inconvient",
    "created_at": "2022-08-27T03:08:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558084",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">Comment 8</div>

Your `GeneratorIndexingSet` is an infinite generator without advertising that it's infinite. Which is inconvient



---

archive/issue_comments_558085.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\n\n```\nsage: from sage.algebras.yangian import GeneratorIndexingSet\nsage: I = GeneratorIndexingSet((1,2))\nsage: I.cardinality()\n+Infinity\n```",
    "created_at": "2022-08-27T03:12:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558085",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">Comment 9</div>


```
sage: from sage.algebras.yangian import GeneratorIndexingSet
sage: I = GeneratorIndexingSet((1,2))
sage: I.cardinality()
+Infinity
```



---

archive/issue_comments_558086.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nA duck-typed cardinality method, I see.",
    "created_at": "2022-08-27T03:13:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558086",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">Comment 10</div>

A duck-typed cardinality method, I see.



---

archive/issue_comments_558087.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nReplying to [@mkoeppe](#comment%3A7):\n> Replying to [@tscrim](#comment%3A6):\n> > this (AFAIK implicit) requirement that every input to index a `CFM` basis (or perhaps more generally that anything that could potentially model a set within Sage that the user could potentially get to using public functions) needs to be a `Parent`. \n\n> \n> Nobody is making or proposing this change\n\nThat is the by-product of saying that `GeneratorIndexingSet` must be a `Parent` subclass. What about any other (infinite) set that is not a `Parent`?",
    "created_at": "2022-08-27T03:14:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558087",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">Comment 11</div>

Replying to [@mkoeppe](#comment%3A7):
> Replying to [@tscrim](#comment%3A6):
> > this (AFAIK implicit) requirement that every input to index a `CFM` basis (or perhaps more generally that anything that could potentially model a set within Sage that the user could potentially get to using public functions) needs to be a `Parent`. 

> 
> Nobody is making or proposing this change

That is the by-product of saying that `GeneratorIndexingSet` must be a `Parent` subclass. What about any other (infinite) set that is not a `Parent`?



---

archive/issue_comments_558088.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI ran into this problem only because we a `_test_as_set_object` method in the category.\nThis calls `Set` and then runs tests on that. There's no problem otherwise. If you don't want your `GeneratorIndexingSet` put in a class/category  where `cardinality` actually means something, we can just disable this `TestSuite` test",
    "created_at": "2022-08-27T03:18:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558088",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">Comment 12</div>

I ran into this problem only because we a `_test_as_set_object` method in the category.
This calls `Set` and then runs tests on that. There's no problem otherwise. If you don't want your `GeneratorIndexingSet` put in a class/category  where `cardinality` actually means something, we can just disable this `TestSuite` test



---

archive/issue_comments_558089.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nI think that is a bad test. It exactly is (somewhat implicitly) giving the specification I said in [comment:6](#comment%3A6). Why is that implementation of `Set` special that it must work for that? What about for objects that are not supposed to model sets? It should be a bad thing to skip tests, usually because some functionality is not implemented. I don't like allowing such a broad exception.",
    "created_at": "2022-08-27T03:23:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558089",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">Comment 13</div>

I think that is a bad test. It exactly is (somewhat implicitly) giving the specification I said in [comment:6](#comment%3A6). Why is that implementation of `Set` special that it must work for that? What about for objects that are not supposed to model sets? It should be a bad thing to skip tests, usually because some functionality is not implemented. I don't like allowing such a broad exception.



---

archive/issue_comments_558090.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\n`_test_as_set_object` is a method of `Set_base`",
    "created_at": "2022-08-27T03:24:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558090",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">Comment 14</div>

`_test_as_set_object` is a method of `Set_base`



---

archive/issue_comments_558091.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nThen I don't understand the problem. The `TestSuite(I).run()` should still pass. It sounds like this ticket should either be a wontfix or could be changed into the [comment:3](#comment%3A3) proposal. I would say it is the fault of `Set(I)` of not handling cases correctly or this falls under the undecidable problem of determining if a general iterator is infinite ahead of time.",
    "created_at": "2022-08-27T03:31:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558091",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:15" align="right">Comment 15</div>

Then I don't understand the problem. The `TestSuite(I).run()` should still pass. It sounds like this ticket should either be a wontfix or could be changed into the [comment:3](#comment%3A3) proposal. I would say it is the fault of `Set(I)` of not handling cases correctly or this falls under the undecidable problem of determining if a general iterator is infinite ahead of time.



---

archive/issue_comments_558092.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nReplying to [@tscrim](#comment%3A15):\n> this falls under the undecidable problem of determining if a general iterator is infinite ahead of time.\n\nExactly, which is why it's not enough just to give something a `cardinality` method and hope that someone hears it quack. Best to make it a proper enumerated set, not a naked `UniqueRepresentation`.",
    "created_at": "2022-08-27T03:37:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558092",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">Comment 16</div>

Replying to [@tscrim](#comment%3A15):
> this falls under the undecidable problem of determining if a general iterator is infinite ahead of time.

Exactly, which is why it's not enough just to give something a `cardinality` method and hope that someone hears it quack. Best to make it a proper enumerated set, not a naked `UniqueRepresentation`.



---

archive/issue_comments_558093.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nReplying to [@mkoeppe](#comment%3A16):\n> Replying to [@tscrim](#comment%3A15):\n> > this falls under the undecidable problem of determining if a general iterator is infinite ahead of time.\n\n> \n> Exactly, which is why it's not enough just to give something a `cardinality` method and hope that someone hears it quack. Best to make it a proper enumerated set, not a naked `UniqueRepresentation`. \n\nI think it is foolhardy to enable one specific implementation to dictate what all other classes must do, independent of what their intended purpose is for (a la [comment:6](#comment%3A6)).",
    "created_at": "2022-08-27T03:56:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558093",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:17" align="right">Comment 17</div>

Replying to [@mkoeppe](#comment%3A16):
> Replying to [@tscrim](#comment%3A15):
> > this falls under the undecidable problem of determining if a general iterator is infinite ahead of time.

> 
> Exactly, which is why it's not enough just to give something a `cardinality` method and hope that someone hears it quack. Best to make it a proper enumerated set, not a naked `UniqueRepresentation`. 

I think it is foolhardy to enable one specific implementation to dictate what all other classes must do, independent of what their intended purpose is for (a la [comment:6](#comment%3A6)).



---

archive/issue_comments_558094.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nWhich \"implementation\" are you referring to?",
    "created_at": "2022-08-27T04:00:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558094",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">Comment 18</div>

Which "implementation" are you referring to?



---

archive/issue_comments_558095.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nReplying to [@mkoeppe](#comment%3A18):\n> Which \"implementation\" are you referring to?\n\nThe implementation of `Set`.",
    "created_at": "2022-08-27T04:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558095",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:19" align="right">Comment 19</div>

Replying to [@mkoeppe](#comment%3A18):
> Which "implementation" are you referring to?

The implementation of `Set`.



---

archive/issue_comments_558096.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nThis file clearly needs to be updated using the infrastructure of `EnumeratedSet`s. Smelly duck typing going on there with details such as `cardinality` returning an `int`, not an `Integer`.",
    "created_at": "2022-08-27T04:11:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558096",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">Comment 20</div>

This file clearly needs to be updated using the infrastructure of `EnumeratedSet`s. Smelly duck typing going on there with details such as `cardinality` returning an `int`, not an `Integer`.



---

archive/issue_comments_558097.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nI really don't think we should mandate that it needs to be an `EnumeratedSet` (basically [comment:6](#comment%3A6)). However, it is bad that `cardinality()` can return an `Integer` when used within Sage (which I cannot reproduce without specifying that the level is an `int`).",
    "created_at": "2022-08-27T04:46:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558097",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:21" align="right">Comment 21</div>

I really don't think we should mandate that it needs to be an `EnumeratedSet` (basically [comment:6](#comment%3A6)). However, it is bad that `cardinality()` can return an `Integer` when used within Sage (which I cannot reproduce without specifying that the level is an `int`).



---

archive/issue_comments_558098.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nAlso stuff like this\n\n```\nsage: from sage.algebras.yangian import GeneratorIndexingSet\nsage: I = GeneratorIndexingSet((1,2))\nsage: bool(I)\nTypeError: 'PlusInfinity' object cannot be interpreted as an integer\n```",
    "created_at": "2022-08-27T04:55:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558098",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">Comment 22</div>

Also stuff like this

```
sage: from sage.algebras.yangian import GeneratorIndexingSet
sage: I = GeneratorIndexingSet((1,2))
sage: bool(I)
TypeError: 'PlusInfinity' object cannot be interpreted as an integer
```



---

archive/issue_comments_558099.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nSo let's just fix it.",
    "created_at": "2022-08-27T04:55:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558099",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">Comment 23</div>

So let's just fix it.



---

archive/issue_comments_558100.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nAgain, what makes this one so special that it is not actually a (major) policy change (which imposes a (IMO strong) restriction on future code)?",
    "created_at": "2022-08-27T04:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558100",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:24" align="right">Comment 24</div>

Again, what makes this one so special that it is not actually a (major) policy change (which imposes a (IMO strong) restriction on future code)?



---

archive/issue_comments_558101.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\n\"this one\" being `Set` or `GeneratorIndexingSet`?",
    "created_at": "2022-08-27T04:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558101",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">Comment 25</div>

"this one" being `Set` or `GeneratorIndexingSet`?



---

archive/issue_comments_558102.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nWhat's special about `GeneratorIndexingSet` is that it provides an incorrect implementation of the [collections.abc.Set](https://docs.python.org/3/library/collections.abc.html#collections.abc.Set) protocol. It tries to duck-type its way through `CombinatorialFreeModule`, and the duck can easily get stuck somewhere",
    "created_at": "2022-08-27T05:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558102",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">Comment 26</div>

What's special about `GeneratorIndexingSet` is that it provides an incorrect implementation of the [collections.abc.Set](https://docs.python.org/3/library/collections.abc.html#collections.abc.Set) protocol. It tries to duck-type its way through `CombinatorialFreeModule`, and the duck can easily get stuck somewhere



---

archive/issue_comments_558103.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nThere's no policy change happening on this ticket. I noticed that the off-quacking duck gets stuck when I made the changes in #34375.",
    "created_at": "2022-08-27T05:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558103",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">Comment 27</div>

There's no policy change happening on this ticket. I noticed that the off-quacking duck gets stuck when I made the changes in #34375.



---

archive/issue_comments_558104.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nIt doesn't have to do because it is not a subclass. It makes no claims to be a `collections.abc.Set` nor that it can work like a `Set`. Not everything has to conform to being a `collections.abc.set` or be taken as an input to a very specific implementation `Set` of a (mathematical) set. If it is not a broad policy change (like you are actually trying to do). then the infinite loop in the ticket description is either an undecideable problem or a bug that is actually in `Set` for not handling input that has a `cardinality` but is not a subclass of `Parent`.",
    "created_at": "2022-08-27T05:12:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558104",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">Comment 28</div>

It doesn't have to do because it is not a subclass. It makes no claims to be a `collections.abc.Set` nor that it can work like a `Set`. Not everything has to conform to being a `collections.abc.set` or be taken as an input to a very specific implementation `Set` of a (mathematical) set. If it is not a broad policy change (like you are actually trying to do). then the infinite loop in the ticket description is either an undecideable problem or a bug that is actually in `Set` for not handling input that has a `cardinality` but is not a subclass of `Parent`.



---

archive/issue_comments_558105.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nRelated is ticket #34385, which aims to standardize the quacking dialects that can pass through Sage without getting stuck. For example, `CombinatorialFreeModule.__classcall_private_` has special code for classes `range`, `list`, `tuple`, which of course falls short of the abstract quacking protocols in modern Python.",
    "created_at": "2022-08-27T05:13:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558105",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:29" align="right">Comment 29</div>

Related is ticket #34385, which aims to standardize the quacking dialects that can pass through Sage without getting stuck. For example, `CombinatorialFreeModule.__classcall_private_` has special code for classes `range`, `list`, `tuple`, which of course falls short of the abstract quacking protocols in modern Python.



---

archive/issue_comments_558106.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\n#34385 = policy = [comment:6](#comment%3A6)",
    "created_at": "2022-08-27T05:14:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558106",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:30" align="right">Comment 30</div>

#34385 = policy = [comment:6](#comment%3A6)



---

archive/issue_comments_558107.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nReplying to [@tscrim](#comment%3A30):\n> #34385 = policy = [comment:6](#comment%3A6)\n\nActually, this is an overreach on my part as I only read your explanation in [comment:29](#comment%3A29), which is much broader than the focus of #34385.",
    "created_at": "2022-08-27T05:17:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558107",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:31" align="right">Comment 31</div>

Replying to [@tscrim](#comment%3A30):
> #34385 = policy = [comment:6](#comment%3A6)

Actually, this is an overreach on my part as I only read your explanation in [comment:29](#comment%3A29), which is much broader than the focus of #34385.



---

archive/issue_comments_558108.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nMore importantly, #34385 is not under review here.",
    "created_at": "2022-08-27T05:17:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558108",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">Comment 32</div>

More importantly, #34385 is not under review here.



---

archive/issue_comments_558109.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nReplying to [@mkoeppe](#comment%3A32):\n> More importantly, #34385 is not under review here.\n\nIt seems like you are trying to use it for your justification here.",
    "created_at": "2022-08-27T05:19:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558109",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:33" align="right">Comment 33</div>

Replying to [@mkoeppe](#comment%3A32):
> More importantly, #34385 is not under review here.

It seems like you are trying to use it for your justification here.



---

archive/issue_events_451388.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-27T05:20:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451388"
}
```



---

archive/issue_events_451389.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-27T05:20:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451389"
}
```



---

archive/issue_comments_558110.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,11 @@\n-Currently:\n+`GeneratorIndexingSet` has a number of shortcomings.\n+\n+```\n+sage: from sage.algebras.yangian import GeneratorIndexingSet\n+sage: I = GeneratorIndexingSet((1,2))\n+sage: bool(I)\n+TypeError: 'PlusInfinity' object cannot be interpreted as an integer\n+```\n \n ```\n sage: from sage.algebras.yangian import GeneratorIndexingSet\n@@ -8,3 +15,4 @@\n sage: Set(I)  # loops forever\n ```\n \n+We improve the code quality by making it a parent in the category of `EnumeratedSets`\n``````\n",
    "created_at": "2022-08-27T05:20:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558110",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,11 @@
-Currently:
+`GeneratorIndexingSet` has a number of shortcomings.
+
+```
+sage: from sage.algebras.yangian import GeneratorIndexingSet
+sage: I = GeneratorIndexingSet((1,2))
+sage: bool(I)
+TypeError: 'PlusInfinity' object cannot be interpreted as an integer
+```
 
 ```
 sage: from sage.algebras.yangian import GeneratorIndexingSet
@@ -8,3 +15,4 @@
 sage: Set(I)  # loops forever
 ```
 
+We improve the code quality by making it a parent in the category of `EnumeratedSets`
``````




---

archive/issue_comments_558111.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nI've changed the ticket description to make a broader change - to make it an actual enumerated set. Would you agree that this by itself would be an improvement?",
    "created_at": "2022-08-27T05:21:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558111",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:35" align="right">Comment 35</div>

I've changed the ticket description to make a broader change - to make it an actual enumerated set. Would you agree that this by itself would be an improvement?



---

archive/issue_comments_558112.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nReplying to [@tscrim](#comment%3A28):\n> It doesn't have to do because it is not a subclass. It makes no claims to be a `collections.abc.Set` nor that it can work like a `Set`.\n\nYou are right about this; but it does make the claim of supporting the `collections.abc.Sized` protocol and violates that.",
    "created_at": "2022-08-27T05:29:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558112",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:36" align="right">Comment 36</div>

Replying to [@tscrim](#comment%3A28):
> It doesn't have to do because it is not a subclass. It makes no claims to be a `collections.abc.Set` nor that it can work like a `Set`.

You are right about this; but it does make the claim of supporting the `collections.abc.Sized` protocol and violates that.



---

archive/issue_comments_558113.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nReplying to [@mkoeppe](#comment%3A35):\n> I've changed the ticket description to make a broader change - to make it an actual enumerated set. Would you agree that this by itself would be an improvement?\n\nDepends on how exactly it is implemented. Merely changing it into a `Parent` at best is a neutral change, but likely a slightly negative one as the class has become a lot heavier (in terms of methods, restrictions, and creation time). If you want to make it a parent, the best and easiest way to do that is [comment:3](#comment%3A3). It is clearly what it is meant to model and would remove a lot of code duplication (mainly, it would remove the class altogether). I was going to do this today.",
    "created_at": "2022-08-27T05:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558113",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:37" align="right">Comment 37</div>

Replying to [@mkoeppe](#comment%3A35):
> I've changed the ticket description to make a broader change - to make it an actual enumerated set. Would you agree that this by itself would be an improvement?

Depends on how exactly it is implemented. Merely changing it into a `Parent` at best is a neutral change, but likely a slightly negative one as the class has become a lot heavier (in terms of methods, restrictions, and creation time). If you want to make it a parent, the best and easiest way to do that is [comment:3](#comment%3A3). It is clearly what it is meant to model and would remove a lot of code duplication (mainly, it would remove the class altogether). I was going to do this today.



---

archive/issue_comments_558114.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nReplying to [@mkoeppe](#comment%3A36):\n> Replying to [@tscrim](#comment%3A28):\n> > It doesn't have to do because it is not a subclass. It makes no claims to be a `collections.abc.Set` nor that it can work like a `Set`.\n\n> \n> You are right about this; but it does make the claim of supporting the `collections.abc.Sized` protocol and violates that.\n\nI don't think implementing a `__len__` does not mean it claims to support that ABC. Even if we allow that, I really do not see anywhere on that document (you have referenced multiple times in multiple places) what specifications are on the behaviors of such objects. It only states that by being a subclass of these ABCs, it is guaranteed that these methods are implemented.",
    "created_at": "2022-08-27T05:38:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558114",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:38" align="right">Comment 38</div>

Replying to [@mkoeppe](#comment%3A36):
> Replying to [@tscrim](#comment%3A28):
> > It doesn't have to do because it is not a subclass. It makes no claims to be a `collections.abc.Set` nor that it can work like a `Set`.

> 
> You are right about this; but it does make the claim of supporting the `collections.abc.Sized` protocol and violates that.

I don't think implementing a `__len__` does not mean it claims to support that ABC. Even if we allow that, I really do not see anywhere on that document (you have referenced multiple times in multiple places) what specifications are on the behaviors of such objects. It only states that by being a subclass of these ABCs, it is guaranteed that these methods are implemented.



---

archive/issue_comments_558115.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nReplying to [@tscrim](#comment%3A38):\n> Replying to [@mkoeppe](#comment%3A36):\n> it does make the claim of supporting the `collections.abc.Sized` protocol and violates that.\n> \n> I don't think implementing a `__len__` does not mean it claims to support that ABC. Even if we allow that, I really do not see anywhere on that document (you have referenced multiple times in multiple places) what specifications are on the behaviors of such objects. It only states that by being a subclass of these ABCs, it is guaranteed that these methods are implemented.\n\nSee https://docs.python.org/3/library/collections.abc.html#collections.abc.Set\nitem 3) \n   \"Some simple interfaces are directly recognizable by the presence of the required methods (unless those methods have been set to None):\"",
    "created_at": "2022-08-27T05:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558115",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:39" align="right">Comment 39</div>

Replying to [@tscrim](#comment%3A38):
> Replying to [@mkoeppe](#comment%3A36):
> it does make the claim of supporting the `collections.abc.Sized` protocol and violates that.
> 
> I don't think implementing a `__len__` does not mean it claims to support that ABC. Even if we allow that, I really do not see anywhere on that document (you have referenced multiple times in multiple places) what specifications are on the behaviors of such objects. It only states that by being a subclass of these ABCs, it is guaranteed that these methods are implemented.

See https://docs.python.org/3/library/collections.abc.html#collections.abc.Set
item 3) 
   "Some simple interfaces are directly recognizable by the presence of the required methods (unless those methods have been set to None):"



---

archive/issue_comments_558116.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\n\n```\nsage: import collections.abc\nsage: from sage.algebras.yangian import GeneratorIndexingSet\nsage: issubclass(GeneratorIndexingSet, collections.abc.Sized)\nTrue\n```",
    "created_at": "2022-08-27T05:41:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558116",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:40" align="right">Comment 40</div>


```
sage: import collections.abc
sage: from sage.algebras.yangian import GeneratorIndexingSet
sage: issubclass(GeneratorIndexingSet, collections.abc.Sized)
True
```



---

archive/issue_comments_558117.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nAlso \n\n```\nsage: issubclass(GeneratorIndexingSet, collections.abc.Container)\nTrue\nsage: issubclass(GeneratorIndexingSet, collections.abc.Collection)\nTrue\n```\nbut\n\n```\nsage: issubclass(GeneratorIndexingSet, collections.abc.Set)\nFalse\n```",
    "created_at": "2022-08-27T05:43:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558117",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:41" align="right">Comment 41</div>

Also 

```
sage: issubclass(GeneratorIndexingSet, collections.abc.Container)
True
sage: issubclass(GeneratorIndexingSet, collections.abc.Collection)
True
```
but

```
sage: issubclass(GeneratorIndexingSet, collections.abc.Set)
False
```



---

archive/issue_comments_558118.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nThat is because it is testing the existence of methods. Furthermore, that comment doesn't specify the semantics/behavior of the methods.",
    "created_at": "2022-08-27T05:44:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558118",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:42" align="right">Comment 42</div>

That is because it is testing the existence of methods. Furthermore, that comment doesn't specify the semantics/behavior of the methods.



---

archive/issue_comments_558119.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nI think we'll stop this type of discussion here, it's not useful",
    "created_at": "2022-08-27T05:45:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558119",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43" align="right">Comment 43</div>

I think we'll stop this type of discussion here, it's not useful



---

archive/issue_comments_558120.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nReplying to [@tscrim](#comment%3A37):\n> If you want to make it a parent, the best and easiest way to do that is [comment:3](#comment%3A3). It is clearly what it is meant to model and would remove a lot of code duplication (mainly, it would remove the class altogether). I was going to do this today.\n\nSounds good to me",
    "created_at": "2022-08-27T05:45:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558120",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:44" align="right">Comment 44</div>

Replying to [@tscrim](#comment%3A37):
> If you want to make it a parent, the best and easiest way to do that is [comment:3](#comment%3A3). It is clearly what it is meant to model and would remove a lot of code duplication (mainly, it would remove the class altogether). I was going to do this today.

Sounds good to me



---

archive/issue_comments_558121.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nAs an extreme example, it does not require that `len(F) == len(list(F))` or that `all(x in F for x in F)` is `True` (of course, this would likely be a bug).",
    "created_at": "2022-08-27T05:47:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558121",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:45" align="right">Comment 45</div>

As an extreme example, it does not require that `len(F) == len(list(F))` or that `all(x in F for x in F)` is `True` (of course, this would likely be a bug).



---

archive/issue_comments_558122.json:
```json
{
    "body": "Changed commit from **[b96983a](https://github.com/sagemath/sagetrac-mirror/commit/b96983ae152d02ebce024ede7a5979d9722ff2cd)** to **[b4f413d](https://github.com/sagemath/sagetrac-mirror/commit/b4f413ddbf7ea3e4beff767e05a88cb63d0df0a7)**",
    "created_at": "2022-08-27T05:59:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558122",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[b96983a](https://github.com/sagemath/sagetrac-mirror/commit/b96983ae152d02ebce024ede7a5979d9722ff2cd)** to **[b4f413d](https://github.com/sagemath/sagetrac-mirror/commit/b4f413ddbf7ea3e4beff767e05a88cb63d0df0a7)**



---

archive/issue_events_451390.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-27T05:59:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451390"
}
```



---

archive/issue_events_451391.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-27T05:59:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451391"
}
```



---

archive/issue_comments_558123.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\nHere is the replacement.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4f413ddbf7ea3e4beff767e05a88cb63d0df0a7\">b4f413d</a></td><td><code>Replacing the indedxing set of the Yangian with cartesian_product.</code></td></tr></table>\n",
    "created_at": "2022-08-27T05:59:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558123",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:46" align="right">Comment 46</div>

Here is the replacement.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4f413ddbf7ea3e4beff767e05a88cb63d0df0a7">b4f413d</a></td><td><code>Replacing the indedxing set of the Yangian with cartesian_product.</code></td></tr></table>




---

archive/issue_comments_558124.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,18 +1 @@\n-`GeneratorIndexingSet` has a number of shortcomings.\n-\n-```\n-sage: from sage.algebras.yangian import GeneratorIndexingSet\n-sage: I = GeneratorIndexingSet((1,2))\n-sage: bool(I)\n-TypeError: 'PlusInfinity' object cannot be interpreted as an integer\n-```\n-\n-```\n-sage: from sage.algebras.yangian import GeneratorIndexingSet\n-sage: I = GeneratorIndexingSet((1,2))\n-sage: I\n-Cartesian product of Positive integers, (1, 2), (1, 2)\n-sage: Set(I)  # loops forever\n-```\n-\n-We improve the code quality by making it a parent in the category of `EnumeratedSets`\n+We replace the `GeneratorIndexingSet` in `yangian.py` with `cartesian_product`, which its implementation is (now) duplicating.\n``````\n",
    "created_at": "2022-08-27T05:59:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558124",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,18 +1 @@
-`GeneratorIndexingSet` has a number of shortcomings.
-
-```
-sage: from sage.algebras.yangian import GeneratorIndexingSet
-sage: I = GeneratorIndexingSet((1,2))
-sage: bool(I)
-TypeError: 'PlusInfinity' object cannot be interpreted as an integer
-```
-
-```
-sage: from sage.algebras.yangian import GeneratorIndexingSet
-sage: I = GeneratorIndexingSet((1,2))
-sage: I
-Cartesian product of Positive integers, (1, 2), (1, 2)
-sage: Set(I)  # loops forever
-```
-
-We improve the code quality by making it a parent in the category of `EnumeratedSets`
+We replace the `GeneratorIndexingSet` in `yangian.py` with `cartesian_product`, which its implementation is (now) duplicating.
``````




---

archive/issue_events_451392.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-27T05:59:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451392"
}
```



---

archive/issue_events_451393.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-27T05:59:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451393"
}
```



---

archive/issue_events_451394.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-27T05:59:26Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "title_is": "Replace sage.algebras.yangian.GeneratorIndexingSet with cartesian_product",
    "title_was": "sage.algebras.yangian.GeneratorIndexingSet should be a Parent",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451394"
}
```



---

archive/issue_comments_558125.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/sage_algebras_yangian_generatorindexingset_should_be_a_parent](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sage_algebras_yangian_generatorindexingset_should_be_a_parent)** to **[public/algebras/yangian_index_set-34375](https://github.com/sagemath/sagetrac-mirror/tree/public/algebras/yangian_index_set-34375)**",
    "created_at": "2022-08-27T05:59:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558125",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/mkoeppe/sage_algebras_yangian_generatorindexingset_should_be_a_parent](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sage_algebras_yangian_generatorindexingset_should_be_a_parent)** to **[public/algebras/yangian_index_set-34375](https://github.com/sagemath/sagetrac-mirror/tree/public/algebras/yangian_index_set-34375)**



---

archive/issue_comments_558126.json:
```json
{
    "body": "Changed author from **Matthias Koeppe** to **Travis Scrimshaw**",
    "created_at": "2022-08-27T05:59:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558126",
    "user": "https://github.com/tscrim"
}
```

Changed author from **Matthias Koeppe** to **Travis Scrimshaw**



---

archive/issue_comments_558127.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nI (manually) checked that I can unpickle things before this change. Tests pass for me in `yangian.py` too.",
    "created_at": "2022-08-27T06:01:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558127",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:47" align="right">Comment 47</div>

I (manually) checked that I can unpickle things before this change. Tests pass for me in `yangian.py` too.



---

archive/issue_comments_558128.json:
```json
{
    "body": "Changed commit from **[b4f413d](https://github.com/sagemath/sagetrac-mirror/commit/b4f413ddbf7ea3e4beff767e05a88cb63d0df0a7)** to **[a346bff](https://github.com/sagemath/sagetrac-mirror/commit/a346bff43695d3e23e21cce07b823fafdb792269)**",
    "created_at": "2022-08-27T06:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558128",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b4f413d](https://github.com/sagemath/sagetrac-mirror/commit/b4f413ddbf7ea3e4beff767e05a88cb63d0df0a7)** to **[a346bff](https://github.com/sagemath/sagetrac-mirror/commit/a346bff43695d3e23e21cce07b823fafdb792269)**



---

archive/issue_comments_558129.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a346bff43695d3e23e21cce07b823fafdb792269\">a346bff</a></td><td><code>Fixing pyflakes for yangian.py.</code></td></tr></table>\n",
    "created_at": "2022-08-27T06:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558129",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48" align="right">Comment 48</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a346bff43695d3e23e21cce07b823fafdb792269">a346bff</a></td><td><code>Fixing pyflakes for yangian.py.</code></td></tr></table>




---

archive/issue_comments_558130.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\nReplying to [@tscrim](#comment%3A45):\n> As an extreme example, it does not require that `len(F) == len(list(F))` \n\nI think you are misunderstanding the nature of the Python documentation. This is not a formal specification such as the ISO C specification, which marks various things as Undefined Behavior etc. or uses words such as MUST, SHALL, MUST NOT. So it's just misguided to try to apply language-lawyer techniques to the documentation.\n\nThe point of the `collections.abc` is to be useful -- to enable people to reliably define containers that behave just like the predefined container classes and for consumers of instances of these classes to be able to detect what protocol they can expect to work. So yes, one IS allowed to rely on such behavior.",
    "created_at": "2022-08-27T06:55:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558130",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:49" align="right">Comment 49</div>

Replying to [@tscrim](#comment%3A45):
> As an extreme example, it does not require that `len(F) == len(list(F))` 

I think you are misunderstanding the nature of the Python documentation. This is not a formal specification such as the ISO C specification, which marks various things as Undefined Behavior etc. or uses words such as MUST, SHALL, MUST NOT. So it's just misguided to try to apply language-lawyer techniques to the documentation.

The point of the `collections.abc` is to be useful -- to enable people to reliably define containers that behave just like the predefined container classes and for consumers of instances of these classes to be able to detect what protocol they can expect to work. So yes, one IS allowed to rely on such behavior.



---

archive/issue_comments_558131.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">Comment 50</div>\n\nYou cannot have it both ways. It either is a set of specifications saying \"if `isinstance` returns `True`*<sup>1</sup> then it must behave like the corresponding default Python objects that implement these ABCs\" or not. You're hitting an important point that it takes care not to use enforcement words, because they understand that there can be good reasons for, e.g., a `Mapping` to not behave like a Python `dict` (much less implement operations/methods not given by the specifications).\n\n<sup>1</sup>This is an overly broad description for the ABCs because it actually does not test inheritance like for proper classes. It is testing the existence of certain methods. You would have a more sound (although still far from watertight) argument if it actually inherited from this ABC.",
    "created_at": "2022-08-27T07:23:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558131",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:50" align="right">Comment 50</div>

You cannot have it both ways. It either is a set of specifications saying "if `isinstance` returns `True`*<sup>1</sup> then it must behave like the corresponding default Python objects that implement these ABCs" or not. You're hitting an important point that it takes care not to use enforcement words, because they understand that there can be good reasons for, e.g., a `Mapping` to not behave like a Python `dict` (much less implement operations/methods not given by the specifications).

<sup>1</sup>This is an overly broad description for the ABCs because it actually does not test inheritance like for proper classes. It is testing the existence of certain methods. You would have a more sound (although still far from watertight) argument if it actually inherited from this ABC.



---

archive/issue_comments_558132.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">Comment 51</div>\n\nReplying to [@tscrim](#comment%3A50):\n> You're hitting an important point that it takes care not to use enforcement words, because they understand that there can be good reasons \n\nNo, my point is that the whole Python documentation is not written in the style of a formal specification. It's a useless exercise to try to poke holes into it",
    "created_at": "2022-08-27T07:32:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558132",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">Comment 51</div>

Replying to [@tscrim](#comment%3A50):
> You're hitting an important point that it takes care not to use enforcement words, because they understand that there can be good reasons 

No, my point is that the whole Python documentation is not written in the style of a formal specification. It's a useless exercise to try to poke holes into it



---

archive/issue_comments_558133.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">Comment 52</div>\n\nReplying to [@mkoeppe](#comment%3A51):\n> Replying to [@tscrim](#comment%3A50):\n> > You're hitting an important point that it takes care not to use enforcement words, because they understand that there can be good reasons \n\n> \n> No, my point is that the whole Python documentation is not written in the style of a formal specification. It's a useless exercise to try to poke holes into it \n\nThen stop referencing it and considering it to be gospel.",
    "created_at": "2022-08-27T07:34:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558133",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:52" align="right">Comment 52</div>

Replying to [@mkoeppe](#comment%3A51):
> Replying to [@tscrim](#comment%3A50):
> > You're hitting an important point that it takes care not to use enforcement words, because they understand that there can be good reasons 

> 
> No, my point is that the whole Python documentation is not written in the style of a formal specification. It's a useless exercise to try to poke holes into it 

Then stop referencing it and considering it to be gospel.



---

archive/issue_comments_558134.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">Comment 53</div>\n\nReally now?",
    "created_at": "2022-08-27T07:34:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558134",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:53" align="right">Comment 53</div>

Really now?



---

archive/issue_comments_558135.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">Comment 54</div>\n\nReplying to [@tscrim](#comment%3A50):\n> if `isinstance` returns `True`*<sup>1</sup>  [...]\n> \n> <sup>1</sup>This is an overly broad description for the ABCs because it actually does not test inheritance like for proper classes. It is testing the existence of certain methods. You would have a more sound (although still far from watertight) argument if it actually inherited from this ABC.\n\nNo, you are getting this wrong too. `isinstance` is guaranteed to say `yes` when a class supports the protocol. That's what these ABCs are for.\n\nThe document explains clearly the various mechanisms that lead to isinstance saying yes. \nI have already quoted for you:\n\n  3) Some simple interfaces are directly recognizable by the presence of the required methods (unless those methods have been set to None)\n\nBut here's also:\n\n  Complex interfaces do not support this last technique because an interface is more than just the presence of method names. Interfaces specify semantics and relationships between methods that cannot be inferred solely from the presence of specific method names. For example, knowing that a class supplies `__getitem__`, `__len__`, and `__iter__` is insufficient for distinguishing a `Sequence` from a `Mapping`.\n\nand of course 1 (actual normal inheritance) & 2 (\"virtual subclasses\" through `register`).",
    "created_at": "2022-08-27T07:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558135",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:54" align="right">Comment 54</div>

Replying to [@tscrim](#comment%3A50):
> if `isinstance` returns `True`*<sup>1</sup>  [...]
> 
> <sup>1</sup>This is an overly broad description for the ABCs because it actually does not test inheritance like for proper classes. It is testing the existence of certain methods. You would have a more sound (although still far from watertight) argument if it actually inherited from this ABC.

No, you are getting this wrong too. `isinstance` is guaranteed to say `yes` when a class supports the protocol. That's what these ABCs are for.

The document explains clearly the various mechanisms that lead to isinstance saying yes. 
I have already quoted for you:

  3) Some simple interfaces are directly recognizable by the presence of the required methods (unless those methods have been set to None)

But here's also:

  Complex interfaces do not support this last technique because an interface is more than just the presence of method names. Interfaces specify semantics and relationships between methods that cannot be inferred solely from the presence of specific method names. For example, knowing that a class supplies `__getitem__`, `__len__`, and `__iter__` is insufficient for distinguishing a `Sequence` from a `Mapping`.

and of course 1 (actual normal inheritance) & 2 ("virtual subclasses" through `register`).



---

archive/issue_comments_558136.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">Comment 55</div>\n\nSorry, that came off harsher than I intended. You're trying to have it both ways by saying \"we must follow Python's stuff\" and constantly citing the ABC documentation as what we should do, but now you're saying that there is nothing within it that in mandated to follow.",
    "created_at": "2022-08-27T07:37:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558136",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:55" align="right">Comment 55</div>

Sorry, that came off harsher than I intended. You're trying to have it both ways by saying "we must follow Python's stuff" and constantly citing the ABC documentation as what we should do, but now you're saying that there is nothing within it that in mandated to follow.



---

archive/issue_comments_558137.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">Comment 56</div>\n\nReplying to [@tscrim](#comment%3A55):\n> now you're saying that there is nothing within it that in mandated to follow.\n\nNo, that's not at all what I'm saying.",
    "created_at": "2022-08-27T07:39:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558137",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:56" align="right">Comment 56</div>

Replying to [@tscrim](#comment%3A55):
> now you're saying that there is nothing within it that in mandated to follow.

No, that's not at all what I'm saying.



---

archive/issue_comments_558138.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">Comment 57</div>\n\nThis class is not registered as any ABC, and it clearly is not a direct subclass. As per the doc you just cited, it is stating it is testing by existence of the required method. The second part you are referencing is saying semi-explicitly that this does not guarantee any semantics. So having `isinstance(F, ABC)` being `True` does *not* imply any behavior that should be followed.",
    "created_at": "2022-08-27T07:40:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558138",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:57" align="right">Comment 57</div>

This class is not registered as any ABC, and it clearly is not a direct subclass. As per the doc you just cited, it is stating it is testing by existence of the required method. The second part you are referencing is saying semi-explicitly that this does not guarantee any semantics. So having `isinstance(F, ABC)` being `True` does *not* imply any behavior that should be followed.



---

archive/issue_comments_558139.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">Comment 58</div>\n\nWhich class is \"this class\" now?",
    "created_at": "2022-08-27T07:40:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558139",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:58" align="right">Comment 58</div>

Which class is "this class" now?



---

archive/issue_comments_558140.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">Comment 59</div>\n\nReplying to [@mkoeppe](#comment%3A58):\n> Which class is \"this class\" now?\n\n`sage.algebras.yangian.GeneratorIndexingSet`.",
    "created_at": "2022-08-27T07:41:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558140",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:59" align="right">Comment 59</div>

Replying to [@mkoeppe](#comment%3A58):
> Which class is "this class" now?

`sage.algebras.yangian.GeneratorIndexingSet`.



---

archive/issue_comments_558141.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">Comment 60</div>\n\nThe semantics of `Sized` is guaranteed because of presence of `__len__`.",
    "created_at": "2022-08-27T07:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558141",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:60" align="right">Comment 60</div>

The semantics of `Sized` is guaranteed because of presence of `__len__`.



---

archive/issue_comments_558142.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">Comment 61</div>\n\nReplying to [@mkoeppe](#comment%3A56):\n> Replying to [@tscrim](#comment%3A55):\n> > now you're saying that there is nothing within it that in mandated to follow.\n\n> \n> No, that's not at all what I'm saying.\n\nThen what are you saying? Specifically when you refer to the ABC doc and say because `F` implements these methods, `F` should follow other Python objects?",
    "created_at": "2022-08-27T07:42:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558142",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:61" align="right">Comment 61</div>

Replying to [@mkoeppe](#comment%3A56):
> Replying to [@tscrim](#comment%3A55):
> > now you're saying that there is nothing within it that in mandated to follow.

> 
> No, that's not at all what I'm saying.

Then what are you saying? Specifically when you refer to the ABC doc and say because `F` implements these methods, `F` should follow other Python objects?



---

archive/issue_comments_558143.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">Comment 62</div>\n\nYes, by providing this special method `__len__`, a class promises to follow the `Sized` protocol.",
    "created_at": "2022-08-27T07:43:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558143",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:62" align="right">Comment 62</div>

Yes, by providing this special method `__len__`, a class promises to follow the `Sized` protocol.



---

archive/issue_comments_558144.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">Comment 63</div>\n\nThat's what mechanism 3) is doing.",
    "created_at": "2022-08-27T07:43:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558144",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:63" align="right">Comment 63</div>

That's what mechanism 3) is doing.



---

archive/issue_comments_558145.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">Comment 64</div>\n\nReplying to [@mkoeppe](#comment%3A60):\n> The semantics of `Sized` is guaranteed because of presence of `__len__`.\n\nThere are no semantics that have been specified. By your own admission, there are none in the Python (ABC) doc.",
    "created_at": "2022-08-27T07:44:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558145",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:64" align="right">Comment 64</div>

Replying to [@mkoeppe](#comment%3A60):
> The semantics of `Sized` is guaranteed because of presence of `__len__`.

There are no semantics that have been specified. By your own admission, there are none in the Python (ABC) doc.



---

archive/issue_comments_558146.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">Comment 65</div>\n\nReplying to [@tscrim](#comment%3A64):\n> Replying to [@mkoeppe](#comment%3A60):\n> > The semantics of `Sized` is guaranteed because of presence of `__len__`.\n\n> \n> There are no semantics that have been specified. By your own admission, there are none in the Python (ABC) doc.\n\nYou are still missing my point about this not being a formal specification.\n\nIt's invalid to say \"haha, I can do anything I want because it's not explicitly forbidden\".\n\nThis is a valid approach with a formal specification.\n\nIt is meaningless with the Python docs.",
    "created_at": "2022-08-27T07:45:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558146",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:65" align="right">Comment 65</div>

Replying to [@tscrim](#comment%3A64):
> Replying to [@mkoeppe](#comment%3A60):
> > The semantics of `Sized` is guaranteed because of presence of `__len__`.

> 
> There are no semantics that have been specified. By your own admission, there are none in the Python (ABC) doc.

You are still missing my point about this not being a formal specification.

It's invalid to say "haha, I can do anything I want because it's not explicitly forbidden".

This is a valid approach with a formal specification.

It is meaningless with the Python docs.



---

archive/issue_comments_558147.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">Comment 66</div>\n\nOne has to ask: What were the intentions in defining these ABCs?\n\nAnd the answer is certainly not to say \"these are good-sounding names, but they guarantee NOTHING!\"",
    "created_at": "2022-08-27T07:47:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558147",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:66" align="right">Comment 66</div>

One has to ask: What were the intentions in defining these ABCs?

And the answer is certainly not to say "these are good-sounding names, but they guarantee NOTHING!"



---

archive/issue_comments_558148.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">Comment 67</div>\n\nReplying to [@mkoeppe](#comment%3A62):\n> Yes, by providing this special method `__len__`, a class promises to follow the `Sized` protocol.\n\nSo anything that implements `__len__`, no matter what it does, must do what behaviors? Furthermore, where is this specified? If not anywhere, why?\n\nMembership testing on the ABC is clearly not promising anything other than the method is implemented.\n\nAs an example, what if I have `x` be an element of a free monoid. What about if I want `len(x)` to be the length of the word but when I iterate over it, I want the pairs `(gen, exp)` because that is what is most convenient for the implementation and applications.",
    "created_at": "2022-08-27T07:48:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558148",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:67" align="right">Comment 67</div>

Replying to [@mkoeppe](#comment%3A62):
> Yes, by providing this special method `__len__`, a class promises to follow the `Sized` protocol.

So anything that implements `__len__`, no matter what it does, must do what behaviors? Furthermore, where is this specified? If not anywhere, why?

Membership testing on the ABC is clearly not promising anything other than the method is implemented.

As an example, what if I have `x` be an element of a free monoid. What about if I want `len(x)` to be the length of the word but when I iterate over it, I want the pairs `(gen, exp)` because that is what is most convenient for the implementation and applications.



---

archive/issue_comments_558149.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">Comment 68</div>\n\nReplying to [@tscrim](#comment%3A67):\n> Replying to [@mkoeppe](#comment%3A62):\n> > Yes, by providing this special method `__len__`, a class promises to follow the `Sized` protocol.\n\n> \n> So anything that implements `__len__`, no matter what it does, must do what behaviors? \n\nThe obvious ones. No language-lawyering allowed.",
    "created_at": "2022-08-27T07:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558149",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:68" align="right">Comment 68</div>

Replying to [@tscrim](#comment%3A67):
> Replying to [@mkoeppe](#comment%3A62):
> > Yes, by providing this special method `__len__`, a class promises to follow the `Sized` protocol.

> 
> So anything that implements `__len__`, no matter what it does, must do what behaviors? 

The obvious ones. No language-lawyering allowed.



---

archive/issue_comments_558150.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">Comment 69</div>\n\nReplying to [@mkoeppe](#comment%3A65):\n> Replying to [@tscrim](#comment%3A64):\n> > Replying to [@mkoeppe](#comment%3A60):\n> > > The semantics of `Sized` is guaranteed because of presence of `__len__`.\n\n> > \n> > There are no semantics that have been specified. By your own admission, there are none in the Python (ABC) doc.\n\n> \n> You are still missing my point about this not being a formal specification.\n> \n> It's invalid to say \"haha, I can do anything I want because it's not explicitly forbidden\".\n\nIt's also invalid to say \"Because it doesn't follow my arbitrary specifications of what I think is good that you cannot do it.\"\n\n> This is a valid approach with a formal specification.\n> \n> It is meaningless with the Python docs.\n\nThen please stop citing and using them as specifications or as a reason why we should do certain things.",
    "created_at": "2022-08-27T07:52:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558150",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:69" align="right">Comment 69</div>

Replying to [@mkoeppe](#comment%3A65):
> Replying to [@tscrim](#comment%3A64):
> > Replying to [@mkoeppe](#comment%3A60):
> > > The semantics of `Sized` is guaranteed because of presence of `__len__`.

> > 
> > There are no semantics that have been specified. By your own admission, there are none in the Python (ABC) doc.

> 
> You are still missing my point about this not being a formal specification.
> 
> It's invalid to say "haha, I can do anything I want because it's not explicitly forbidden".

It's also invalid to say "Because it doesn't follow my arbitrary specifications of what I think is good that you cannot do it."

> This is a valid approach with a formal specification.
> 
> It is meaningless with the Python docs.

Then please stop citing and using them as specifications or as a reason why we should do certain things.



---

archive/issue_comments_558151.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">Comment 70</div>\n\nReplying to [@mkoeppe](#comment%3A66):\n> One has to ask: What were the intentions in defining these ABCs?\n> \n> And the answer is certainly not to say \"these are good-sounding names, but they guarantee NOTHING!\"\n\nIndeed, it is sayin \"if I am a subclass of this ABC, then I will implement the specifications of this ABC\". In this case, it is just that these methods are provided.",
    "created_at": "2022-08-27T07:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558151",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:70" align="right">Comment 70</div>

Replying to [@mkoeppe](#comment%3A66):
> One has to ask: What were the intentions in defining these ABCs?
> 
> And the answer is certainly not to say "these are good-sounding names, but they guarantee NOTHING!"

Indeed, it is sayin "if I am a subclass of this ABC, then I will implement the specifications of this ABC". In this case, it is just that these methods are provided.



---

archive/issue_comments_558152.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">Comment 71</div>\n\nReplying to [@mkoeppe](#comment%3A68):\n> Replying to [@tscrim](#comment%3A67):\n> > Replying to [@mkoeppe](#comment%3A62):\n> > > Yes, by providing this special method `__len__`, a class promises to follow the `Sized` protocol.\n\n> > \n> > So anything that implements `__len__`, no matter what it does, must do what behaviors? \n\n> \n> The obvious ones. No language-lawyering allowed.\n\nWhich are?",
    "created_at": "2022-08-27T07:54:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558152",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:71" align="right">Comment 71</div>

Replying to [@mkoeppe](#comment%3A68):
> Replying to [@tscrim](#comment%3A67):
> > Replying to [@mkoeppe](#comment%3A62):
> > > Yes, by providing this special method `__len__`, a class promises to follow the `Sized` protocol.

> > 
> > So anything that implements `__len__`, no matter what it does, must do what behaviors? 

> 
> The obvious ones. No language-lawyering allowed.

Which are?



---

archive/issue_comments_558153.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">Comment 72</div>\n\nReplying to [@tscrim](#comment%3A70):\n> Replying to [@mkoeppe](#comment%3A66):\n> > One has to ask: What were the intentions in defining these ABCs?\n> > \n> > And the answer is certainly not to say \"these are good-sounding names, but they guarantee NOTHING!\"\n\n> \n> Indeed, it is sayin \"if I am a subclass of this ABC, then I will implement the specifications of this ABC\". In this case, it is just that these methods are provided.\n\nYou are still missing that for these special ABCs there are 3 additional special mechanisms that make a class a subclass of the ABC. I've already quoted them for you in [comment:54](#comment%3A54)",
    "created_at": "2022-08-27T07:55:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558153",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:72" align="right">Comment 72</div>

Replying to [@tscrim](#comment%3A70):
> Replying to [@mkoeppe](#comment%3A66):
> > One has to ask: What were the intentions in defining these ABCs?
> > 
> > And the answer is certainly not to say "these are good-sounding names, but they guarantee NOTHING!"

> 
> Indeed, it is sayin "if I am a subclass of this ABC, then I will implement the specifications of this ABC". In this case, it is just that these methods are provided.

You are still missing that for these special ABCs there are 3 additional special mechanisms that make a class a subclass of the ABC. I've already quoted them for you in [comment:54](#comment%3A54)



---

archive/issue_comments_558154.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">Comment 73</div>\n\nI recommend to read the PEP that introduced these things - https://peps.python.org/pep-3119/#abcs-for-containers-and-iterators",
    "created_at": "2022-08-27T07:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558154",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:73" align="right">Comment 73</div>

I recommend to read the PEP that introduced these things - https://peps.python.org/pep-3119/#abcs-for-containers-and-iterators



---

archive/issue_comments_558155.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">Comment 74</div>\n\nReplying to [@mkoeppe](#comment%3A72):\n> Replying to [@tscrim](#comment%3A70):\n> > Replying to [@mkoeppe](#comment%3A66):\n> > > One has to ask: What were the intentions in defining these ABCs?\n> > > \n> > > And the answer is certainly not to say \"these are good-sounding names, but they guarantee NOTHING!\"\n\n> > \n> > Indeed, it is sayin \"if I am a subclass of this ABC, then I will implement the specifications of this ABC\". In this case, it is just that these methods are provided.\n\n> \n> You are still missing that for these special ABCs there are 3 additional special mechanisms that make a class a subclass of the ABC. I've already quoted them for you in [comment:54](#comment%3A54)\n\nI am wondering if we have a slightly different definition of the words that they are using in the doc. We are disagreeing on the existence of something in that doc. The PEP you just cited actually has specifications. However, that is about something that is an explicit subclass. The `isinstance` test here is wrong.",
    "created_at": "2022-08-27T08:02:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558155",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:74" align="right">Comment 74</div>

Replying to [@mkoeppe](#comment%3A72):
> Replying to [@tscrim](#comment%3A70):
> > Replying to [@mkoeppe](#comment%3A66):
> > > One has to ask: What were the intentions in defining these ABCs?
> > > 
> > > And the answer is certainly not to say "these are good-sounding names, but they guarantee NOTHING!"

> > 
> > Indeed, it is sayin "if I am a subclass of this ABC, then I will implement the specifications of this ABC". In this case, it is just that these methods are provided.

> 
> You are still missing that for these special ABCs there are 3 additional special mechanisms that make a class a subclass of the ABC. I've already quoted them for you in [comment:54](#comment%3A54)

I am wondering if we have a slightly different definition of the words that they are using in the doc. We are disagreeing on the existence of something in that doc. The PEP you just cited actually has specifications. However, that is about something that is an explicit subclass. The `isinstance` test here is wrong.



---

archive/issue_comments_558156.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">Comment 75</div>\n\nI think you'll have to take a bit of time reading it.\nIt's my bedtime anyway, so there's plenty of time.",
    "created_at": "2022-08-27T08:04:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558156",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:75" align="right">Comment 75</div>

I think you'll have to take a bit of time reading it.
It's my bedtime anyway, so there's plenty of time.



---

archive/issue_comments_558157.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">Comment 76</div>\n\nTo guarantee that the behaviors specified in the PEP are followed, you should use `issubclass` rather than `isinstance` to check it if you don't want false-positives (as it is just checking if the method is there). As I mentioned, not everything that implements a `__len__` should be considered an element of `collections.abc.Sized`.",
    "created_at": "2022-08-27T08:11:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558157",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:76" align="right">Comment 76</div>

To guarantee that the behaviors specified in the PEP are followed, you should use `issubclass` rather than `isinstance` to check it if you don't want false-positives (as it is just checking if the method is there). As I mentioned, not everything that implements a `__len__` should be considered an element of `collections.abc.Sized`.



---

archive/issue_comments_558158.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">Comment 77</div>\n\nNo, that does not make any sense.",
    "created_at": "2022-08-27T14:11:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558158",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:77" align="right">Comment 77</div>

No, that does not make any sense.



---

archive/issue_comments_558159.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2022-08-27T14:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558159",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_comments_558160.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">Comment 78</div>\n\nBut in the meantime, the bots have all turned green. We can continue the discussion about `containers.abc` on another ticket.",
    "created_at": "2022-08-27T14:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558160",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:78" align="right">Comment 78</div>

But in the meantime, the bots have all turned green. We can continue the discussion about `containers.abc` on another ticket.



---

archive/issue_events_451395.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-27T14:12:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451395"
}
```



---

archive/issue_events_451396.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-27T14:12:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451396"
}
```



---

archive/issue_events_451397.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-30T06:39:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451397"
}
```



---

archive/issue_events_451398.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-30T06:39:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451398"
}
```



---

archive/issue_comments_558161.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">Comment 79</div>\n\n\n```\nsage -t --long --warn-long 49.3 --random-seed=123 src/sage/algebras/yangian.py\n    Timed out\n**********************************************************************\nTests run before process (pid=4057225) timed out:\nsage: Y = Yangian(QQ, 4) ## line 152 ##\n...\nsage: grY = Yangian(QQ, 4, filtration='natural').graded_algebra() ## line 973 ##\nsage: x = grY.gen(12, 2, 1) * grY.gen(2, 1, 1) # indirect doctest ## line 974 ##\nsage: x ## line 975 ##\ntbar(2)[1,1]*tbar(12)[2,1]\nsage: x == grY.gen(2, 1, 1) * grY.gen(12, 2, 1) ## line 977 ##\nTrue\nsage: sig_on_count() # check sig_on/off pairings (virtual doctest) ## line 979 ##\n0\nsage: grY = Yangian(QQ, 4).graded_algebra() ## line 1003 ##\nsage: TestSuite(grY).run()  # long time ## line 1004 ##\n------------------------------------------------------------------------\n```",
    "created_at": "2022-08-30T06:39:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558161",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:79" align="right">Comment 79</div>


```
sage -t --long --warn-long 49.3 --random-seed=123 src/sage/algebras/yangian.py
    Timed out
**********************************************************************
Tests run before process (pid=4057225) timed out:
sage: Y = Yangian(QQ, 4) ## line 152 ##
...
sage: grY = Yangian(QQ, 4, filtration='natural').graded_algebra() ## line 973 ##
sage: x = grY.gen(12, 2, 1) * grY.gen(2, 1, 1) # indirect doctest ## line 974 ##
sage: x ## line 975 ##
tbar(2)[1,1]*tbar(12)[2,1]
sage: x == grY.gen(2, 1, 1) * grY.gen(12, 2, 1) ## line 977 ##
True
sage: sig_on_count() # check sig_on/off pairings (virtual doctest) ## line 979 ##
0
sage: grY = Yangian(QQ, 4).graded_algebra() ## line 1003 ##
sage: TestSuite(grY).run()  # long time ## line 1004 ##
------------------------------------------------------------------------
```



---

archive/issue_comments_558162.json:
```json
{
    "body": "Changed commit from **[a346bff](https://github.com/sagemath/sagetrac-mirror/commit/a346bff43695d3e23e21cce07b823fafdb792269)** to **[abf1edc](https://github.com/sagemath/sagetrac-mirror/commit/abf1edc239e4ce2db13455df39e812e2402cfe63)**",
    "created_at": "2022-08-30T06:57:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558162",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a346bff](https://github.com/sagemath/sagetrac-mirror/commit/a346bff43695d3e23e21cce07b823fafdb792269)** to **[abf1edc](https://github.com/sagemath/sagetrac-mirror/commit/abf1edc239e4ce2db13455df39e812e2402cfe63)**



---

archive/issue_comments_558163.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">Comment 80</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abf1edc239e4ce2db13455df39e812e2402cfe63\">abf1edc</a></td><td><code>Choosing smaller degree elements to run the test suite.</code></td></tr></table>\n",
    "created_at": "2022-08-30T06:57:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558163",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:80" align="right">Comment 80</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abf1edc239e4ce2db13455df39e812e2402cfe63">abf1edc</a></td><td><code>Choosing smaller degree elements to run the test suite.</code></td></tr></table>




---

archive/issue_comments_558164.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">Comment 81</div>\n\nThe generic element for the new indices was too big. I explicitly pass in a few elements for testing. It now passes in a little over a second for me (on my fairly fast computer).",
    "created_at": "2022-08-30T06:57:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558164",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:81" align="right">Comment 81</div>

The generic element for the new indices was too big. I explicitly pass in a few elements for testing. It now passes in a little over a second for me (on my fairly fast computer).



---

archive/issue_events_451399.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-30T06:57:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451399"
}
```



---

archive/issue_events_451400.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-30T06:57:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451400"
}
```



---

archive/issue_events_451401.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-01T01:34:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451401"
}
```



---

archive/issue_events_451402.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-01T01:34:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451402"
}
```



---

archive/issue_events_451403.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451403"
}
```



---

archive/issue_events_451404.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451404"
}
```



---

archive/issue_events_451405.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-09-27T22:27:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451405"
}
```



---

archive/issue_events_451406.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "89b0d28500dc51b69aa4b27efbb7acaf29aa4513",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-09-27T22:27:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34375#event-451406"
}
```



---

archive/issue_comments_558165.json:
```json
{
    "body": "Changed branch from **[public/algebras/yangian_index_set-34375](https://github.com/sagemath/sagetrac-mirror/tree/public/algebras/yangian_index_set-34375)** to **[abf1edc](https://github.com/sagemath/sagetrac-mirror/commit/abf1edc239e4ce2db13455df39e812e2402cfe63)**",
    "created_at": "2022-09-27T22:27:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34375#issuecomment-558165",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/algebras/yangian_index_set-34375](https://github.com/sagemath/sagetrac-mirror/tree/public/algebras/yangian_index_set-34375)** to **[abf1edc](https://github.com/sagemath/sagetrac-mirror/commit/abf1edc239e4ce2db13455df39e812e2402cfe63)**
