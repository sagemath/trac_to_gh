# Issue 34260: Implement northwest diagrams

archive/issues_034023.json:
```json
{
    "body": "Implement a class for diagrams (collections of cells `(i,j)` indexed by the natural numbers), and a class for diagrams with the northwest property. A diagram has the northwest property if the fact that `(i1, j1)` and `(i2,j2)` are in the diagram implies that the cell `(min(i1,i2), min(j1,j2))` are in the diagram.\n\nAssignee: @trevorkarn\n\nCC:  @tscrim\n\nKeywords: gsoc2022 northwest-diagram\n\nBranch/Commit: 382926c5cabb572bf912de7ce1137f07d5cc42eb\n\nReviewer: Travis Scrimshaw\n\nAuthor: Trevor K. Karn\n\nDependencies: #34339 #34343 #34345\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/34260\n\n",
    "closed_at": "2022-11-07T20:26:22Z",
    "created_at": "2022-08-01T19:22:04Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Implement northwest diagrams",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34260",
    "user": "https://github.com/trevorkarn"
}
```
Implement a class for diagrams (collections of cells `(i,j)` indexed by the natural numbers), and a class for diagrams with the northwest property. A diagram has the northwest property if the fact that `(i1, j1)` and `(i2,j2)` are in the diagram implies that the cell `(min(i1,i2), min(j1,j2))` are in the diagram.

Assignee: @trevorkarn

CC:  @tscrim

Keywords: gsoc2022 northwest-diagram

Branch/Commit: 382926c5cabb572bf912de7ce1137f07d5cc42eb

Reviewer: Travis Scrimshaw

Author: Trevor K. Karn

Dependencies: #34339 #34343 #34345

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/34260





---

archive/issue_comments_682336.json:
```json
{
    "body": "Changing commit from \"\" to \"067c0ac2b20731e918e8a4e73bfbb25b15c18d58\"",
    "created_at": "2022-08-01T20:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682336",
    "user": "https://github.com/trevorkarn"
}
```

Changing commit from "" to "067c0ac2b20731e918e8a4e73bfbb25b15c18d58"



---

archive/issue_comments_682337.json:
```json
{
    "body": "Set assignee to @trevorkarn.",
    "created_at": "2022-08-01T20:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682337",
    "user": "https://github.com/trevorkarn"
}
```

Set assignee to @trevorkarn.



---

archive/issue_comments_682338.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2022-08-01T20:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682338",
    "user": "https://github.com/trevorkarn"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_682339.json:
```json
{
    "body": "Changing branch from \"\" to \"u/tkarn/diagrams-34260\"",
    "created_at": "2022-08-01T20:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682339",
    "user": "https://github.com/trevorkarn"
}
```

Changing branch from "" to "u/tkarn/diagrams-34260"



---

archive/issue_comments_682340.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------|\n|[067c0ac](https://git.sagemath.org/sage.git/commit?id=067c0ac2b20731e918e8a4e73bfbb25b15c18d58)|`Initial commit`|",
    "created_at": "2022-08-01T20:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682340",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------|
|[067c0ac](https://git.sagemath.org/sage.git/commit?id=067c0ac2b20731e918e8a4e73bfbb25b15c18d58)|`Initial commit`|



---

archive/issue_comments_682341.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2022-08-01T20:13:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682341",
    "user": "https://github.com/trevorkarn"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_682342.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[0f48031](https://git.sagemath.org/sage.git/commit/?id=0f4803175193ed2d14553c3c10ff9ff1b9c7c9b5)|`Implement parent framework`|\n|[a3607bb](https://git.sagemath.org/sage.git/commit/?id=a3607bbbd736e3209df2d2c46d41769d503d3383)|`Add parent/element framework of northwest diagrams`|",
    "created_at": "2022-08-02T17:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682342",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[0f48031](https://git.sagemath.org/sage.git/commit/?id=0f4803175193ed2d14553c3c10ff9ff1b9c7c9b5)|`Implement parent framework`|
|[a3607bb](https://git.sagemath.org/sage.git/commit/?id=a3607bbbd736e3209df2d2c46d41769d503d3383)|`Add parent/element framework of northwest diagrams`|



---

archive/issue_comments_682343.json:
```json
{
    "body": "Changing commit from \"067c0ac2b20731e918e8a4e73bfbb25b15c18d58\" to \"a3607bbbd736e3209df2d2c46d41769d503d3383\"",
    "created_at": "2022-08-02T17:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682343",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "067c0ac2b20731e918e8a4e73bfbb25b15c18d58" to "a3607bbbd736e3209df2d2c46d41769d503d3383"



---

archive/issue_comments_682344.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[cb70a0e](https://git.sagemath.org/sage.git/commit/?id=cb70a0e30f2cd240e444426e6475dc53199dcbf0)|`Add outside_corners to SkewPartition`|\n|[04507c5](https://git.sagemath.org/sage.git/commit/?id=04507c5f98a7f63adc21deb5dcde30355836dde5)|`Clarify some of the language around corners'`|\n|[9b0e5d1](https://git.sagemath.org/sage.git/commit/?id=9b0e5d10a889743eaa161df309c9769a55a02fdc)|`Add backward_slide (and alias reverse_slide)`|\n|[1842860](https://git.sagemath.org/sage.git/commit/?id=1842860f104fab366a21aae01d006ae53e7e2643)|`First draft of peelables algorithm`|",
    "created_at": "2022-08-04T03:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682344",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[cb70a0e](https://git.sagemath.org/sage.git/commit/?id=cb70a0e30f2cd240e444426e6475dc53199dcbf0)|`Add outside_corners to SkewPartition`|
|[04507c5](https://git.sagemath.org/sage.git/commit/?id=04507c5f98a7f63adc21deb5dcde30355836dde5)|`Clarify some of the language around corners'`|
|[9b0e5d1](https://git.sagemath.org/sage.git/commit/?id=9b0e5d10a889743eaa161df309c9769a55a02fdc)|`Add backward_slide (and alias reverse_slide)`|
|[1842860](https://git.sagemath.org/sage.git/commit/?id=1842860f104fab366a21aae01d006ae53e7e2643)|`First draft of peelables algorithm`|



---

archive/issue_comments_682345.json:
```json
{
    "body": "Changing commit from \"a3607bbbd736e3209df2d2c46d41769d503d3383\" to \"1842860f104fab366a21aae01d006ae53e7e2643\"",
    "created_at": "2022-08-04T03:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682345",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a3607bbbd736e3209df2d2c46d41769d503d3383" to "1842860f104fab366a21aae01d006ae53e7e2643"



---

archive/issue_comments_682346.json:
```json
{
    "body": "Changing commit from \"1842860f104fab366a21aae01d006ae53e7e2643\" to \"02c13a81329e5be5753f303471adb95344c65283\"",
    "created_at": "2022-08-04T22:29:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682346",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1842860f104fab366a21aae01d006ae53e7e2643" to "02c13a81329e5be5753f303471adb95344c65283"



---

archive/issue_comments_682347.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[02c13a8](https://git.sagemath.org/sage.git/commit/?id=02c13a81329e5be5753f303471adb95344c65283)|`Peelable tableaux pass all tests`|",
    "created_at": "2022-08-04T22:29:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682347",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[02c13a8](https://git.sagemath.org/sage.git/commit/?id=02c13a81329e5be5753f303471adb95344c65283)|`Peelable tableaux pass all tests`|



---

archive/issue_comments_682348.json:
```json
{
    "body": "Changing commit from \"02c13a81329e5be5753f303471adb95344c65283\" to \"6acca188d072cce7f9ad399c50eca434acbf328e\"",
    "created_at": "2022-08-05T13:07:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682348",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "02c13a81329e5be5753f303471adb95344c65283" to "6acca188d072cce7f9ad399c50eca434acbf328e"



---

archive/issue_comments_682349.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|\n|[b2ebcd4](https://git.sagemath.org/sage.git/commit/?id=b2ebcd4a66db8f42dc5e6a2a53935fe961ae4b30)|`Initial commit`|\n|[0b33095](https://git.sagemath.org/sage.git/commit/?id=0b3309526fa2f0270dd25af3548721281a20e7f7)|`Implement parent framework`|\n|[f60a777](https://git.sagemath.org/sage.git/commit/?id=f60a77762dfeed7aeb6b7237b217447d6440f673)|`Add parent/element framework of northwest diagrams`|\n|[b10eb7f](https://git.sagemath.org/sage.git/commit/?id=b10eb7f6d620a92fb39ad99e3ff88648fdacacba)|`Add outside_corners to SkewPartition`|\n|[3dbff65](https://git.sagemath.org/sage.git/commit/?id=3dbff65f2f9760dee0c01e0c95f189a3a2653ab1)|`Clarify some of the language around corners'`|\n|[f705bb7](https://git.sagemath.org/sage.git/commit/?id=f705bb7db534d913c61e74810978225e62da1f78)|`Add backward_slide (and alias reverse_slide)`|\n|[0af7d20](https://git.sagemath.org/sage.git/commit/?id=0af7d20c503a0c8eb8ebae7c107ef88e2a03760f)|`First draft of peelables algorithm`|\n|[b509204](https://git.sagemath.org/sage.git/commit/?id=b509204ac442957783a07ba08945c75d5aa57bfb)|`Peelable tableaux pass all tests`|\n|[6acca18](https://git.sagemath.org/sage.git/commit/?id=6acca188d072cce7f9ad399c50eca434acbf328e)|`Fix bug in JDT`|",
    "created_at": "2022-08-05T13:07:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682349",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|
|[b2ebcd4](https://git.sagemath.org/sage.git/commit/?id=b2ebcd4a66db8f42dc5e6a2a53935fe961ae4b30)|`Initial commit`|
|[0b33095](https://git.sagemath.org/sage.git/commit/?id=0b3309526fa2f0270dd25af3548721281a20e7f7)|`Implement parent framework`|
|[f60a777](https://git.sagemath.org/sage.git/commit/?id=f60a77762dfeed7aeb6b7237b217447d6440f673)|`Add parent/element framework of northwest diagrams`|
|[b10eb7f](https://git.sagemath.org/sage.git/commit/?id=b10eb7f6d620a92fb39ad99e3ff88648fdacacba)|`Add outside_corners to SkewPartition`|
|[3dbff65](https://git.sagemath.org/sage.git/commit/?id=3dbff65f2f9760dee0c01e0c95f189a3a2653ab1)|`Clarify some of the language around corners'`|
|[f705bb7](https://git.sagemath.org/sage.git/commit/?id=f705bb7db534d913c61e74810978225e62da1f78)|`Add backward_slide (and alias reverse_slide)`|
|[0af7d20](https://git.sagemath.org/sage.git/commit/?id=0af7d20c503a0c8eb8ebae7c107ef88e2a03760f)|`First draft of peelables algorithm`|
|[b509204](https://git.sagemath.org/sage.git/commit/?id=b509204ac442957783a07ba08945c75d5aa57bfb)|`Peelable tableaux pass all tests`|
|[6acca18](https://git.sagemath.org/sage.git/commit/?id=6acca188d072cce7f9ad399c50eca434acbf328e)|`Fix bug in JDT`|



---

archive/issue_comments_682350.json:
```json
{
    "body": "Changing commit from \"6acca188d072cce7f9ad399c50eca434acbf328e\" to \"ae3488a8cb6fc69858a064e3d08ed7c2a69e4e8c\"",
    "created_at": "2022-08-09T00:15:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682350",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6acca188d072cce7f9ad399c50eca434acbf328e" to "ae3488a8cb6fc69858a064e3d08ed7c2a69e4e8c"



---

archive/issue_comments_682351.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                           |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[0601fd2](https://git.sagemath.org/sage.git/commit/?id=0601fd2da7172745bf53d8cf895b4dc337228d68)|`Add outside_corners to SkewPartition`|\n|[759a86b](https://git.sagemath.org/sage.git/commit/?id=759a86b38347c0bad3e0910b9dc19004902cff7b)|`Clarify some of the language around corners'`|\n|[4fc7187](https://git.sagemath.org/sage.git/commit/?id=4fc7187f3c6f3abba0f9cb2e56db97fb0aef0011)|`Add backward_slide (and alias reverse_slide)`|\n|[8302a76](https://git.sagemath.org/sage.git/commit/?id=8302a76816f05ea6977c62e8e1be9c0319119305)|`First draft of peelables algorithm`|\n|[6a5ac12](https://git.sagemath.org/sage.git/commit/?id=6a5ac12db450ac413c2587e7075252d1eeb09b21)|`Peelable tableaux pass all tests`|\n|[438bbdf](https://git.sagemath.org/sage.git/commit/?id=438bbdf387a50b3c4968a1c94fbb53d5c2f8d8d5)|`Fix bug in JDT`|\n|[ac4b36e](https://git.sagemath.org/sage.git/commit/?id=ac4b36ef668b40d53db39ddd177ff72e8bce3837)|`Add RotheDiagram`|\n|[e4943d8](https://git.sagemath.org/sage.git/commit/?id=e4943d8153337ef55d863986bfea610d90c9d11b)|`Add rothe_diagram, n_reduced_words, and Stanley symmetric function`|\n|[f7fc288](https://git.sagemath.org/sage.git/commit/?id=f7fc288b3282e9db6a4938731e350a98b272bf2e)|`Add documentation/examples`|\n|[ae3488a](https://git.sagemath.org/sage.git/commit/?id=ae3488a8cb6fc69858a064e3d08ed7c2a69e4e8c)|`Add examples and documentation`|",
    "created_at": "2022-08-09T00:15:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682351",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                           |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[0601fd2](https://git.sagemath.org/sage.git/commit/?id=0601fd2da7172745bf53d8cf895b4dc337228d68)|`Add outside_corners to SkewPartition`|
|[759a86b](https://git.sagemath.org/sage.git/commit/?id=759a86b38347c0bad3e0910b9dc19004902cff7b)|`Clarify some of the language around corners'`|
|[4fc7187](https://git.sagemath.org/sage.git/commit/?id=4fc7187f3c6f3abba0f9cb2e56db97fb0aef0011)|`Add backward_slide (and alias reverse_slide)`|
|[8302a76](https://git.sagemath.org/sage.git/commit/?id=8302a76816f05ea6977c62e8e1be9c0319119305)|`First draft of peelables algorithm`|
|[6a5ac12](https://git.sagemath.org/sage.git/commit/?id=6a5ac12db450ac413c2587e7075252d1eeb09b21)|`Peelable tableaux pass all tests`|
|[438bbdf](https://git.sagemath.org/sage.git/commit/?id=438bbdf387a50b3c4968a1c94fbb53d5c2f8d8d5)|`Fix bug in JDT`|
|[ac4b36e](https://git.sagemath.org/sage.git/commit/?id=ac4b36ef668b40d53db39ddd177ff72e8bce3837)|`Add RotheDiagram`|
|[e4943d8](https://git.sagemath.org/sage.git/commit/?id=e4943d8153337ef55d863986bfea610d90c9d11b)|`Add rothe_diagram, n_reduced_words, and Stanley symmetric function`|
|[f7fc288](https://git.sagemath.org/sage.git/commit/?id=f7fc288b3282e9db6a4938731e350a98b272bf2e)|`Add documentation/examples`|
|[ae3488a](https://git.sagemath.org/sage.git/commit/?id=ae3488a8cb6fc69858a064e3d08ed7c2a69e4e8c)|`Add examples and documentation`|



---

archive/issue_comments_682352.json:
```json
{
    "body": "<a id='comment:8'></a>\nThere is currently an issue in `._test_category`.\n\n```\nsage: from sage.combinat.diagram import Diagram\nsage: D = Diagram([(0,0), (0,3)])\nsage: D\n[(0, 0), (0, 3)]\nsage: D._test_category\n<built-in method _test_category of Diagram object at 0x16d1fc4c0>\nsage: D._test_category()\n---------------------------------------------------------------------------\nAssertionError                            Traceback (most recent call last)\nInput In [6], in <cell line: 1>()\n----> 1 D._test_category()\n\nFile ~/Applications/sage/src/sage/structure/element.pyx:722, in sage.structure.element.Element._test_category()\n    720     # For usual Python classes, that should be done with\n    721     # standard inheritance\n--> 722     tester.assertTrue(isinstance(self, self.parent().category().element_class))\n    723 else:\n    724     # For extension types we just check that inheritance\n\nFile /usr/local/Cellar/python@3.9/3.9.13_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/unittest/case.py:688, in TestCase.assertTrue(self, expr, msg)\n    686 if not expr:\n    687     msg = self._formatMessage(msg, \"%s is not true\" % safe_repr(expr))\n--> 688     raise self.failureException(msg)\n\nAssertionError: False is not true\n```",
    "created_at": "2022-08-09T00:17:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682352",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:8'></a>
There is currently an issue in `._test_category`.

```
sage: from sage.combinat.diagram import Diagram
sage: D = Diagram([(0,0), (0,3)])
sage: D
[(0, 0), (0, 3)]
sage: D._test_category
<built-in method _test_category of Diagram object at 0x16d1fc4c0>
sage: D._test_category()
---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
Input In [6], in <cell line: 1>()
----> 1 D._test_category()

File ~/Applications/sage/src/sage/structure/element.pyx:722, in sage.structure.element.Element._test_category()
    720     # For usual Python classes, that should be done with
    721     # standard inheritance
--> 722     tester.assertTrue(isinstance(self, self.parent().category().element_class))
    723 else:
    724     # For extension types we just check that inheritance

File /usr/local/Cellar/python@3.9/3.9.13_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/unittest/case.py:688, in TestCase.assertTrue(self, expr, msg)
    686 if not expr:
    687     msg = self._formatMessage(msg, "%s is not true" % safe_repr(expr))
--> 688     raise self.failureException(msg)

AssertionError: False is not true
```



---

archive/issue_comments_682353.json:
```json
{
    "body": "<a id='comment:9'></a>\nFrom a quick look, you are not passing a `parent` argument, which should be the first argument to any element `__init__` method, and passing that up to `Element.__init__`. Mainly, these code blocks:\n\n```python\n        ClonableArray.__init__(self, Diagrams(), cells, check=False)\n```\n\n```python\n        Diagram.__init__(self, cells, **kwargs)\n        ClonableArray.__init__(self, NorthwestDiagrams(), cells, check=check)\n```\nI also don't like the double initialization of `ClonableArray` here. `Diagram` should properly handle everything, otherwise it is a code smell that strongly suggests they should not be subclasses (but they should be in this case; note that this is not universal).\n\nRemove also the `kwargs` and make them explicit, mainly the `check`.\n\nYou should also use `_repr_` (with 1 underscore).",
    "created_at": "2022-08-09T00:46:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682353",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
From a quick look, you are not passing a `parent` argument, which should be the first argument to any element `__init__` method, and passing that up to `Element.__init__`. Mainly, these code blocks:

```python
        ClonableArray.__init__(self, Diagrams(), cells, check=False)
```

```python
        Diagram.__init__(self, cells, **kwargs)
        ClonableArray.__init__(self, NorthwestDiagrams(), cells, check=check)
```
I also don't like the double initialization of `ClonableArray` here. `Diagram` should properly handle everything, otherwise it is a code smell that strongly suggests they should not be subclasses (but they should be in this case; note that this is not universal).

Remove also the `kwargs` and make them explicit, mainly the `check`.

You should also use `_repr_` (with 1 underscore).



---

archive/issue_comments_682354.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[942f976](https://git.sagemath.org/sage.git/commit/?id=942f976e638f98113fb05526379891214c115a66)|`PEP8 and example`|\n|[ddfc6be](https://git.sagemath.org/sage.git/commit/?id=ddfc6be6700e75e0ecf9ba11f6b0ab8fbc72d1fc)|`Fix __init__`|",
    "created_at": "2022-08-09T01:49:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682354",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[942f976](https://git.sagemath.org/sage.git/commit/?id=942f976e638f98113fb05526379891214c115a66)|`PEP8 and example`|
|[ddfc6be](https://git.sagemath.org/sage.git/commit/?id=ddfc6be6700e75e0ecf9ba11f6b0ab8fbc72d1fc)|`Fix __init__`|



---

archive/issue_comments_682355.json:
```json
{
    "body": "Changing commit from \"ae3488a8cb6fc69858a064e3d08ed7c2a69e4e8c\" to \"ddfc6be6700e75e0ecf9ba11f6b0ab8fbc72d1fc\"",
    "created_at": "2022-08-09T01:49:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682355",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ae3488a8cb6fc69858a064e3d08ed7c2a69e4e8c" to "ddfc6be6700e75e0ecf9ba11f6b0ab8fbc72d1fc"



---

archive/issue_comments_682356.json:
```json
{
    "body": "<a id='comment:11'></a>\nThanks for the feedback!\n\nReplying to [tscrim](#comment%3A9):\n> From a quick look, you are not passing a `parent` argument, which should be the first argument to any element `__init__` method, and passing that up to `Element.__init__`. Mainly, these code blocks:\n> \n> ```python\n>         ClonableArray.__init__(self, Diagrams(), cells, check=False)\n> ```\n> \n> ```python\n>         Diagram.__init__(self, cells, **kwargs)\n>         ClonableArray.__init__(self, NorthwestDiagrams(), cells, check=check)\n> ```\n\n\nSorry, I'm confused. I thought that `Diagrams()` and `NorthwestDiagrams()` were those `parent` arguments. Am I misunderstanding what you are saying?\n\n---\nNew commits:\n|                                                                                                                                          |                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[942f976](https://git.sagemath.org/sage.git/commit?id=942f976e638f98113fb05526379891214c115a66)|`PEP8 and example`|\n|[ddfc6be](https://git.sagemath.org/sage.git/commit?id=ddfc6be6700e75e0ecf9ba11f6b0ab8fbc72d1fc)|`Fix __init__`|\n\n---\nNew commits:\n|                                                                                                                                          |                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[942f976](https://git.sagemath.org/sage.git/commit?id=942f976e638f98113fb05526379891214c115a66)|`PEP8 and example`|\n|[ddfc6be](https://git.sagemath.org/sage.git/commit?id=ddfc6be6700e75e0ecf9ba11f6b0ab8fbc72d1fc)|`Fix __init__`|",
    "created_at": "2022-08-09T01:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682356",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:11'></a>
Thanks for the feedback!

Replying to [tscrim](#comment%3A9):
> From a quick look, you are not passing a `parent` argument, which should be the first argument to any element `__init__` method, and passing that up to `Element.__init__`. Mainly, these code blocks:
> 
> ```python
>         ClonableArray.__init__(self, Diagrams(), cells, check=False)
> ```
> 
> ```python
>         Diagram.__init__(self, cells, **kwargs)
>         ClonableArray.__init__(self, NorthwestDiagrams(), cells, check=check)
> ```


Sorry, I'm confused. I thought that `Diagrams()` and `NorthwestDiagrams()` were those `parent` arguments. Am I misunderstanding what you are saying?

---
New commits:
|                                                                                                                                          |                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[942f976](https://git.sagemath.org/sage.git/commit?id=942f976e638f98113fb05526379891214c115a66)|`PEP8 and example`|
|[ddfc6be](https://git.sagemath.org/sage.git/commit?id=ddfc6be6700e75e0ecf9ba11f6b0ab8fbc72d1fc)|`Fix __init__`|

---
New commits:
|                                                                                                                                          |                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[942f976](https://git.sagemath.org/sage.git/commit?id=942f976e638f98113fb05526379891214c115a66)|`PEP8 and example`|
|[ddfc6be](https://git.sagemath.org/sage.git/commit?id=ddfc6be6700e75e0ecf9ba11f6b0ab8fbc72d1fc)|`Fix __init__`|



---

archive/issue_comments_682357.json:
```json
{
    "body": "<a id='comment:12'></a>\nThey are, but elements should take a `parent` argument first and pass that along. Imagine once you have `NorthwestDiagrams` given by some parameter. This will also fix the double initialization issue.",
    "created_at": "2022-08-09T01:59:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682357",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
They are, but elements should take a `parent` argument first and pass that along. Imagine once you have `NorthwestDiagrams` given by some parameter. This will also fix the double initialization issue.



---

archive/issue_comments_682358.json:
```json
{
    "body": "<a id='comment:13'></a>\nOh! That makes sense now. It also helps with some general confusion I had about when to use `__classcall_private__` and other `Parent`/`Element` confusion. Thanks!",
    "created_at": "2022-08-09T18:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682358",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:13'></a>
Oh! That makes sense now. It also helps with some general confusion I had about when to use `__classcall_private__` and other `Parent`/`Element` confusion. Thanks!



---

archive/issue_comments_682359.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[563e542](https://git.sagemath.org/sage.git/commit/?id=563e542552e3b90633ba266b202009def3692248)|`Fix kwargs, repr, and remove double .__init__ call`|",
    "created_at": "2022-08-09T19:32:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682359",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[563e542](https://git.sagemath.org/sage.git/commit/?id=563e542552e3b90633ba266b202009def3692248)|`Fix kwargs, repr, and remove double .__init__ call`|



---

archive/issue_comments_682360.json:
```json
{
    "body": "Changing commit from \"ddfc6be6700e75e0ecf9ba11f6b0ab8fbc72d1fc\" to \"563e542552e3b90633ba266b202009def3692248\"",
    "created_at": "2022-08-09T19:32:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682360",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ddfc6be6700e75e0ecf9ba11f6b0ab8fbc72d1fc" to "563e542552e3b90633ba266b202009def3692248"



---

archive/issue_comments_682361.json:
```json
{
    "body": "Changing commit from \"563e542552e3b90633ba266b202009def3692248\" to \"73083814f3f25241a52f6a95eecda90beee7f77d\"",
    "created_at": "2022-08-09T19:49:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682361",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "563e542552e3b90633ba266b202009def3692248" to "73083814f3f25241a52f6a95eecda90beee7f77d"



---

archive/issue_comments_682362.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[7308381](https://git.sagemath.org/sage.git/commit/?id=73083814f3f25241a52f6a95eecda90beee7f77d)|`Fix accidental check=False`|",
    "created_at": "2022-08-09T19:49:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682362",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[7308381](https://git.sagemath.org/sage.git/commit/?id=73083814f3f25241a52f6a95eecda90beee7f77d)|`Fix accidental check=False`|



---

archive/issue_comments_682363.json:
```json
{
    "body": "Changing commit from \"73083814f3f25241a52f6a95eecda90beee7f77d\" to \"2a427f6261a64bdf43291efae8e8e93d4b1583ce\"",
    "created_at": "2022-08-09T21:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682363",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "73083814f3f25241a52f6a95eecda90beee7f77d" to "2a427f6261a64bdf43291efae8e8e93d4b1583ce"



---

archive/issue_comments_682364.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[2a427f6](https://git.sagemath.org/sage.git/commit/?id=2a427f6261a64bdf43291efae8e8e93d4b1583ce)|`Add references and more examples. All doctests pass`|",
    "created_at": "2022-08-09T21:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682364",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[2a427f6](https://git.sagemath.org/sage.git/commit/?id=2a427f6261a64bdf43291efae8e8e93d4b1583ce)|`Add references and more examples. All doctests pass`|



---

archive/issue_comments_682365.json:
```json
{
    "body": "Changing commit from \"2a427f6261a64bdf43291efae8e8e93d4b1583ce\" to \"e6f056332dd5a6704fc78f04607138a15c5e5433\"",
    "created_at": "2022-08-09T21:51:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682365",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2a427f6261a64bdf43291efae8e8e93d4b1583ce" to "e6f056332dd5a6704fc78f04607138a15c5e5433"



---

archive/issue_comments_682366.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[e6f0563](https://git.sagemath.org/sage.git/commit/?id=e6f056332dd5a6704fc78f04607138a15c5e5433)|`Fix a typo in Rothe diagrams`|",
    "created_at": "2022-08-09T21:51:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682366",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[e6f0563](https://git.sagemath.org/sage.git/commit/?id=e6f056332dd5a6704fc78f04607138a15c5e5433)|`Fix a typo in Rothe diagrams`|



---

archive/issue_comments_682367.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-09T21:55:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682367",
    "user": "https://github.com/trevorkarn"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_682368.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[6e50ff5](https://git.sagemath.org/sage.git/commit/?id=6e50ff5d78a677513ca98d7febfdae236b480b0f)|`Fix bug in identity partition/empty diagram`|",
    "created_at": "2022-08-10T15:43:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682368",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[6e50ff5](https://git.sagemath.org/sage.git/commit/?id=6e50ff5d78a677513ca98d7febfdae236b480b0f)|`Fix bug in identity partition/empty diagram`|



---

archive/issue_comments_682369.json:
```json
{
    "body": "Changing commit from \"e6f056332dd5a6704fc78f04607138a15c5e5433\" to \"6e50ff5d78a677513ca98d7febfdae236b480b0f\"",
    "created_at": "2022-08-10T15:43:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682369",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e6f056332dd5a6704fc78f04607138a15c5e5433" to "6e50ff5d78a677513ca98d7febfdae236b480b0f"



---

archive/issue_comments_682370.json:
```json
{
    "body": "<a id='comment:20'></a>\nSome minor things:\n\n* I'd prefer `number_of_xxx` over `n_xxx`, for consistency with other methods in the combinat file\n\n* since `Diagrams` are extremely important, but `NorthwestDiagrams` maybe not so much, should they possibly be in separate files?\n\n* it would be great if `ParallelogramPolyomino`, (the 2-dim case of) `Polyomino`, `Partition`, `SkewPartition` and possibly even `Composition` interacted nicely with `Diagram`.  In particular, the method names should be the same, whenever possible.  I imagine that for `Polyomino` this will not be possible, but for the others, it should be.\n\n* I'm not sure whether `number_of_cells` should be there.  If so, wouldn't `size` be more appropriate?\n\nActually, for me the most important point is the synergy with the other classes.",
    "created_at": "2022-08-10T21:27:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682370",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:20'></a>
Some minor things:

* I'd prefer `number_of_xxx` over `n_xxx`, for consistency with other methods in the combinat file

* since `Diagrams` are extremely important, but `NorthwestDiagrams` maybe not so much, should they possibly be in separate files?

* it would be great if `ParallelogramPolyomino`, (the 2-dim case of) `Polyomino`, `Partition`, `SkewPartition` and possibly even `Composition` interacted nicely with `Diagram`.  In particular, the method names should be the same, whenever possible.  I imagine that for `Polyomino` this will not be possible, but for the others, it should be.

* I'm not sure whether `number_of_cells` should be there.  If so, wouldn't `size` be more appropriate?

Actually, for me the most important point is the synergy with the other classes.



---

archive/issue_comments_682371.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                           |                                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|\n|[c3a6611](https://git.sagemath.org/sage.git/commit/?id=c3a66114a23e9c97f46f6fc50feac1cfdeaa9d62)|`Add rothe_diagram, n_reduced_words, and Stanley symmetric function`|\n|[1d41087](https://git.sagemath.org/sage.git/commit/?id=1d41087143b9196e00034c29c430167d20f81d2e)|`Add documentation/examples`|\n|[890769f](https://git.sagemath.org/sage.git/commit/?id=890769f4f8b465abf2b4576cbbee99b571d68471)|`Add examples and documentation`|\n|[1395761](https://git.sagemath.org/sage.git/commit/?id=1395761231d2d35501f89011d9a9352ac5b0f3e7)|`PEP8 and example`|\n|[78a203e](https://git.sagemath.org/sage.git/commit/?id=78a203ecded6333c0bc848f06079ee982eca49e4)|`Fix __init__`|\n|[2f34497](https://git.sagemath.org/sage.git/commit/?id=2f3449710b8d3d8ed199e4ca632ed1414d63d59c)|`Fix kwargs, repr, and remove double .__init__ call`|\n|[fe4fe45](https://git.sagemath.org/sage.git/commit/?id=fe4fe4563d941aee68cc9e67df8b3f5dc65d5af7)|`Fix accidental check=False`|\n|[06bddae](https://git.sagemath.org/sage.git/commit/?id=06bddaecc8429120b8bc2aaf05879bdf39728629)|`Add references and more examples. All doctests pass`|\n|[0e88fcb](https://git.sagemath.org/sage.git/commit/?id=0e88fcbb6ed57a1faccaa36aa2d2671eec51a56d)|`Fix a typo in Rothe diagrams`|\n|[cb41b2f](https://git.sagemath.org/sage.git/commit/?id=cb41b2f5cf3e1fc951b76e513cf63d6a14435154)|`Fix bug in identity partition/empty diagram`|",
    "created_at": "2022-08-11T19:46:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682371",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                           |                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
|[c3a6611](https://git.sagemath.org/sage.git/commit/?id=c3a66114a23e9c97f46f6fc50feac1cfdeaa9d62)|`Add rothe_diagram, n_reduced_words, and Stanley symmetric function`|
|[1d41087](https://git.sagemath.org/sage.git/commit/?id=1d41087143b9196e00034c29c430167d20f81d2e)|`Add documentation/examples`|
|[890769f](https://git.sagemath.org/sage.git/commit/?id=890769f4f8b465abf2b4576cbbee99b571d68471)|`Add examples and documentation`|
|[1395761](https://git.sagemath.org/sage.git/commit/?id=1395761231d2d35501f89011d9a9352ac5b0f3e7)|`PEP8 and example`|
|[78a203e](https://git.sagemath.org/sage.git/commit/?id=78a203ecded6333c0bc848f06079ee982eca49e4)|`Fix __init__`|
|[2f34497](https://git.sagemath.org/sage.git/commit/?id=2f3449710b8d3d8ed199e4ca632ed1414d63d59c)|`Fix kwargs, repr, and remove double .__init__ call`|
|[fe4fe45](https://git.sagemath.org/sage.git/commit/?id=fe4fe4563d941aee68cc9e67df8b3f5dc65d5af7)|`Fix accidental check=False`|
|[06bddae](https://git.sagemath.org/sage.git/commit/?id=06bddaecc8429120b8bc2aaf05879bdf39728629)|`Add references and more examples. All doctests pass`|
|[0e88fcb](https://git.sagemath.org/sage.git/commit/?id=0e88fcbb6ed57a1faccaa36aa2d2671eec51a56d)|`Fix a typo in Rothe diagrams`|
|[cb41b2f](https://git.sagemath.org/sage.git/commit/?id=cb41b2f5cf3e1fc951b76e513cf63d6a14435154)|`Fix bug in identity partition/empty diagram`|



---

archive/issue_comments_682372.json:
```json
{
    "body": "Changing commit from \"6e50ff5d78a677513ca98d7febfdae236b480b0f\" to \"cb41b2f5cf3e1fc951b76e513cf63d6a14435154\"",
    "created_at": "2022-08-11T19:46:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682372",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6e50ff5d78a677513ca98d7febfdae236b480b0f" to "cb41b2f5cf3e1fc951b76e513cf63d6a14435154"



---

archive/issue_comments_682373.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#34339 #34343\"",
    "created_at": "2022-08-11T20:12:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682373",
    "user": "https://github.com/trevorkarn"
}
```

Changing dependencies from "" to "#34339 #34343"



---

archive/issue_comments_682374.json:
```json
{
    "body": "<a id='comment:23'></a>\nAfter rebasing off of some optimizations in #34339 and #34343\n\n```\nsage: sage: from sage.combinat.diagram import RotheDiagram\n....: sage: Sym = SymmetricFunctions(QQ)\n....: sage: p = Permutations(6).from_reduced_word([1, 2, 3, 4, 2, 3, 2, 1])\n....: sage: s = Sym.s()\nsage: sage: %lprun -f RotheDiagram(p).peelable_tableaux s.sum(s[T.shape()] for T in RotheDiagram(p).peelable_tableaux())\n\nTimer unit: 1e-06 s\n\nTotal time: 0.008998 s\nFile: /Users/trevorkarn/Applications/sage/src/sage/combinat/diagram.py\nFunction: peelable_tableaux at line 671\n\nLine #      Hits         Time  Per Hit   % Time  Line Contents\n==============================================================\n   671                                               def peelable_tableaux(self):\n  ....\n   797                                                   # description without performing JDT, so we should implement that\n   798                                           \n   799                                                   # if there is a single column in the diagram then there is only\n   800                                                   # one posslbe peelable tableau.\n   801         4         15.0      3.8      0.2          if self._n_nonempty_cols == 1:\n   802         1        376.0    376.0      4.2              return {Tableau([[i+1] for i, j in self._cells])}\n   803                                           \n   804         3         17.0      5.7      0.2          first_col = min(j for i, j in self._cells)\n   805                                           \n   806                                                   # TODO: The next two lines of code could be optimized by only\n   807                                                   # looping over self._cells once (rather than two separate times)\n   808                                                   # get the diagram without the first column\n   809         3        145.0     48.3      1.6          Dhat = NorthwestDiagram([c for c in self._cells if c[1] != first_col])\n   810                                           \n   811                                                   # get the values from the first column\n   812         3         19.0      6.3      0.2          new_vals = sorted(i + 1 for i, j in self._cells if j == first_col)\n   813                                           \n   814         3          9.0      3.0      0.1          k = self.n_cells() - Dhat.n_cells()\n   815                                           \n   816         3          4.0      1.3      0.0          peelables = set()\n   817                                           \n   818         6         14.0      2.3      0.2          for Q in Dhat.peelable_tableaux():\n   819                                                       # get the vertical strips\n   820         3        143.0     47.7      1.6              mu = Q.shape()\n   821         3       2565.0    855.0     28.5              vertical_strips = mu.add_vertical_border_strip(k)\n   822        12         19.0      1.6      0.2              for s in vertical_strips:\n   823         9        663.0     73.7      7.4                  sQ = SkewTableaux()(Q)  # sQ is skew - get it?\n   824         9       1478.0    164.2     16.4                  new_cells = (s/mu).cells()\n   825                                                           # perform the jeu de taquin slides\n   826        32         58.0      1.8      0.6                  for c in new_cells:\n   827        23       2477.0    107.7     27.5                      sQ = sQ.backward_slide(c)\n   828                                                           # create the new tableau by filling the columns\n   829         9         43.0      4.8      0.5                  sQ_new = sQ.to_list()\n   830        32         50.0      1.6      0.6                  for n in range(k):\n   831        23         32.0      1.4      0.4                      sQ_new[n][0] = new_vals[n]\n   832                                           \n   833         9        180.0     20.0      2.0                  T = Tableau(sQ_new)\n   834         9        674.0     74.9      7.5                  if T.is_column_strict():\n   835         3         13.0      4.3      0.1                      peelables.add(T)\n   836                                           \n   837         3          4.0      1.3      0.0          return peelables\n```",
    "created_at": "2022-08-11T20:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682374",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:23'></a>
After rebasing off of some optimizations in #34339 and #34343

```
sage: sage: from sage.combinat.diagram import RotheDiagram
....: sage: Sym = SymmetricFunctions(QQ)
....: sage: p = Permutations(6).from_reduced_word([1, 2, 3, 4, 2, 3, 2, 1])
....: sage: s = Sym.s()
sage: sage: %lprun -f RotheDiagram(p).peelable_tableaux s.sum(s[T.shape()] for T in RotheDiagram(p).peelable_tableaux())

Timer unit: 1e-06 s

Total time: 0.008998 s
File: /Users/trevorkarn/Applications/sage/src/sage/combinat/diagram.py
Function: peelable_tableaux at line 671

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
   671                                               def peelable_tableaux(self):
  ....
   797                                                   # description without performing JDT, so we should implement that
   798                                           
   799                                                   # if there is a single column in the diagram then there is only
   800                                                   # one posslbe peelable tableau.
   801         4         15.0      3.8      0.2          if self._n_nonempty_cols == 1:
   802         1        376.0    376.0      4.2              return {Tableau([[i+1] for i, j in self._cells])}
   803                                           
   804         3         17.0      5.7      0.2          first_col = min(j for i, j in self._cells)
   805                                           
   806                                                   # TODO: The next two lines of code could be optimized by only
   807                                                   # looping over self._cells once (rather than two separate times)
   808                                                   # get the diagram without the first column
   809         3        145.0     48.3      1.6          Dhat = NorthwestDiagram([c for c in self._cells if c[1] != first_col])
   810                                           
   811                                                   # get the values from the first column
   812         3         19.0      6.3      0.2          new_vals = sorted(i + 1 for i, j in self._cells if j == first_col)
   813                                           
   814         3          9.0      3.0      0.1          k = self.n_cells() - Dhat.n_cells()
   815                                           
   816         3          4.0      1.3      0.0          peelables = set()
   817                                           
   818         6         14.0      2.3      0.2          for Q in Dhat.peelable_tableaux():
   819                                                       # get the vertical strips
   820         3        143.0     47.7      1.6              mu = Q.shape()
   821         3       2565.0    855.0     28.5              vertical_strips = mu.add_vertical_border_strip(k)
   822        12         19.0      1.6      0.2              for s in vertical_strips:
   823         9        663.0     73.7      7.4                  sQ = SkewTableaux()(Q)  # sQ is skew - get it?
   824         9       1478.0    164.2     16.4                  new_cells = (s/mu).cells()
   825                                                           # perform the jeu de taquin slides
   826        32         58.0      1.8      0.6                  for c in new_cells:
   827        23       2477.0    107.7     27.5                      sQ = sQ.backward_slide(c)
   828                                                           # create the new tableau by filling the columns
   829         9         43.0      4.8      0.5                  sQ_new = sQ.to_list()
   830        32         50.0      1.6      0.6                  for n in range(k):
   831        23         32.0      1.4      0.4                      sQ_new[n][0] = new_vals[n]
   832                                           
   833         9        180.0     20.0      2.0                  T = Tableau(sQ_new)
   834         9        674.0     74.9      7.5                  if T.is_column_strict():
   835         3         13.0      4.3      0.1                      peelables.add(T)
   836                                           
   837         3          4.0      1.3      0.0          return peelables
```



---

archive/issue_comments_682375.json:
```json
{
    "body": "Changing commit from \"cb41b2f5cf3e1fc951b76e513cf63d6a14435154\" to \"cd9c3b3f32958ee79b96fd4793a219c1eb6b0a36\"",
    "created_at": "2022-08-11T20:45:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682375",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cb41b2f5cf3e1fc951b76e513cf63d6a14435154" to "cd9c3b3f32958ee79b96fd4793a219c1eb6b0a36"



---

archive/issue_comments_682376.json:
```json
{
    "body": "<a id='comment:24'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[cd9c3b3](https://git.sagemath.org/sage.git/commit/?id=cd9c3b3f32958ee79b96fd4793a219c1eb6b0a36)|`Speed up sliding by skipping classcall`|",
    "created_at": "2022-08-11T20:45:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682376",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[cd9c3b3](https://git.sagemath.org/sage.git/commit/?id=cd9c3b3f32958ee79b96fd4793a219c1eb6b0a36)|`Speed up sliding by skipping classcall`|



---

archive/issue_comments_682377.json:
```json
{
    "body": "Changing dependencies from \"#34339 #34343\" to \"#34339 #34343 #34345\"",
    "created_at": "2022-08-12T00:25:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682377",
    "user": "https://github.com/trevorkarn"
}
```

Changing dependencies from "#34339 #34343" to "#34339 #34343 #34345"



---

archive/issue_comments_682378.json:
```json
{
    "body": "<a id='comment:26'></a>\nAfter rebasing off of #34345\n\n```\nTotal time: 0.008072 s\nFile: /Users/trevorkarn/Applications/sage/src/sage/combinat/diagram.py\nFunction: peelable_tableaux at line 671\n\nLine #      Hits         Time  Per Hit   % Time  Line Contents\n==============================================================\n   809         3        153.0     51.0      1.9          Dhat = NorthwestDiagram([c for c in self._cells if c[1] != first_col])\n   810                                           \n   811                                                   # get the values from the first column\n   812         3         19.0      6.3      0.2          new_vals = sorted(i + 1 for i, j in self._cells if j == first_col)\n   813                                           \n   814         3         11.0      3.7      0.1          k = self.n_cells() - Dhat.n_cells()\n   815                                           \n   816         3          6.0      2.0      0.1          peelables = set()\n   817                                           \n   818         6         11.0      1.8      0.1          for Q in Dhat.peelable_tableaux():\n   819                                                       # get the vertical strips\n   820         3        261.0     87.0      3.2              mu = Q.shape()\n   821         3       2741.0    913.7     34.0              vertical_strip_cells = mu.vertical_border_strip_cells(k)\n   822        12         19.0      1.6      0.2              for s in vertical_strip_cells:\n   823         9        825.0     91.7     10.2                  sQ = SkewTableaux()(Q)  # sQ is skew - get it?\n   824                                                           # perform the jeu de taquin slides\n   825        32         56.0      1.8      0.7                  for c in s:\n   826        23       2857.0    124.2     35.4                      sQ = sQ.backward_slide(c)\n   827                                                           # create the new tableau by filling the columns\n   828         9         43.0      4.8      0.5                  sQ_new = sQ.to_list()\n   829        32         47.0      1.5      0.6                  for n in range(k):\n   830        23         34.0      1.5      0.4                      sQ_new[n][0] = new_vals[n]\n   831                                           \n   832         9        191.0     21.2      2.4                  T = Tableau(sQ_new)\n   833         9        195.0     21.7      2.4                  if T.is_column_strict():\n   834         3         13.0      4.3      0.2                      peelables.add(T)\n   835                                           \n   836         3          3.0      1.0      0.0          return peelables\n\n```",
    "created_at": "2022-08-12T00:37:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682378",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:26'></a>
After rebasing off of #34345

```
Total time: 0.008072 s
File: /Users/trevorkarn/Applications/sage/src/sage/combinat/diagram.py
Function: peelable_tableaux at line 671

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
   809         3        153.0     51.0      1.9          Dhat = NorthwestDiagram([c for c in self._cells if c[1] != first_col])
   810                                           
   811                                                   # get the values from the first column
   812         3         19.0      6.3      0.2          new_vals = sorted(i + 1 for i, j in self._cells if j == first_col)
   813                                           
   814         3         11.0      3.7      0.1          k = self.n_cells() - Dhat.n_cells()
   815                                           
   816         3          6.0      2.0      0.1          peelables = set()
   817                                           
   818         6         11.0      1.8      0.1          for Q in Dhat.peelable_tableaux():
   819                                                       # get the vertical strips
   820         3        261.0     87.0      3.2              mu = Q.shape()
   821         3       2741.0    913.7     34.0              vertical_strip_cells = mu.vertical_border_strip_cells(k)
   822        12         19.0      1.6      0.2              for s in vertical_strip_cells:
   823         9        825.0     91.7     10.2                  sQ = SkewTableaux()(Q)  # sQ is skew - get it?
   824                                                           # perform the jeu de taquin slides
   825        32         56.0      1.8      0.7                  for c in s:
   826        23       2857.0    124.2     35.4                      sQ = sQ.backward_slide(c)
   827                                                           # create the new tableau by filling the columns
   828         9         43.0      4.8      0.5                  sQ_new = sQ.to_list()
   829        32         47.0      1.5      0.6                  for n in range(k):
   830        23         34.0      1.5      0.4                      sQ_new[n][0] = new_vals[n]
   831                                           
   832         9        191.0     21.2      2.4                  T = Tableau(sQ_new)
   833         9        195.0     21.7      2.4                  if T.is_column_strict():
   834         3         13.0      4.3      0.2                      peelables.add(T)
   835                                           
   836         3          3.0      1.0      0.0          return peelables

```



---

archive/issue_comments_682379.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [mantepse](#comment%3A20):\n> Some minor things:\n> \n> * I'd prefer `number_of_xxx` over `n_xxx`, for consistency with other methods in the combinat file\n\n\n+1 Although one could argue `nrows` and `ncols` are okay (perhaps as aliases) since they are there for matrices.\n\n> * since `Diagrams` are extremely important, but `NorthwestDiagrams` maybe not so much, should they possibly be in separate files?\n\n\n-1 They are natural to go together and it can make maintenance easier (and the documentation is also together). I don't think we should base these decisions on an \"importance\" metric.\n\n> * it would be great if `ParallelogramPolyomino`, (the 2-dim case of) `Polyomino`, `Partition`, `SkewPartition` and possibly even `Composition` interacted nicely with `Diagram`.  In particular, the method names should be the same, whenever possible.  I imagine that for `Polyomino` this will not be possible, but for the others, it should be.\n\n\nI agree with having the method names the same in general.\n\n> * I'm not sure whether `number_of_cells` should be there.  If so, wouldn't `size` be more appropriate?\n\n\nGood for an alias.",
    "created_at": "2022-08-13T02:40:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682379",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:27'></a>
Replying to [mantepse](#comment%3A20):
> Some minor things:
> 
> * I'd prefer `number_of_xxx` over `n_xxx`, for consistency with other methods in the combinat file


+1 Although one could argue `nrows` and `ncols` are okay (perhaps as aliases) since they are there for matrices.

> * since `Diagrams` are extremely important, but `NorthwestDiagrams` maybe not so much, should they possibly be in separate files?


-1 They are natural to go together and it can make maintenance easier (and the documentation is also together). I don't think we should base these decisions on an "importance" metric.

> * it would be great if `ParallelogramPolyomino`, (the 2-dim case of) `Polyomino`, `Partition`, `SkewPartition` and possibly even `Composition` interacted nicely with `Diagram`.  In particular, the method names should be the same, whenever possible.  I imagine that for `Polyomino` this will not be possible, but for the others, it should be.


I agree with having the method names the same in general.

> * I'm not sure whether `number_of_cells` should be there.  If so, wouldn't `size` be more appropriate?


Good for an alias.



---

archive/issue_comments_682380.json:
```json
{
    "body": "<a id='comment:28'></a>\nSome additional comments:\n\n- In `check()`, it should raise `ValueError` when failing rather than an `assert`.\n- All `Diagrams` can be enumerated. You put coordinates the cells by **N** by running along the diagonals. Hence, diagrams are in bijection with all finite subsets of **N**, which are easily enumerated by the binary strings of nonnegative integers.\n- The default for `check` should always be `True`. It is only when we as developers want to avoid it that we should change it.\n- `_cells` should be a `frozenset`. You are not using it as a `dict`. This is also hashable.\n\nAlso, some of the methods don't have doctests, so I setting this to \"needs work\".",
    "created_at": "2022-08-13T02:49:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682380",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'></a>
Some additional comments:

- In `check()`, it should raise `ValueError` when failing rather than an `assert`.
- All `Diagrams` can be enumerated. You put coordinates the cells by **N** by running along the diagonals. Hence, diagrams are in bijection with all finite subsets of **N**, which are easily enumerated by the binary strings of nonnegative integers.
- The default for `check` should always be `True`. It is only when we as developers want to avoid it that we should change it.
- `_cells` should be a `frozenset`. You are not using it as a `dict`. This is also hashable.

Also, some of the methods don't have doctests, so I setting this to "needs work".



---

archive/issue_comments_682381.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-08-13T02:49:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682381",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_682382.json:
```json
{
    "body": "<a id='comment:29'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[b3603b0](https://git.sagemath.org/sage.git/commit/?id=b3603b0adfa2e6e6c37640cdcefc577a5594f327)|`PEP8 and example`|\n|[6b7906a](https://git.sagemath.org/sage.git/commit/?id=6b7906ae97a834112b2430168df91671fb38494d)|`Fix __init__`|\n|[6d1395e](https://git.sagemath.org/sage.git/commit/?id=6d1395efc25a59f289fab8cea7ac7e10c7296f07)|`Fix kwargs, repr, and remove double .__init__ call`|\n|[630017d](https://git.sagemath.org/sage.git/commit/?id=630017def1eea77f0eb7cf8f09ed61b167cc1b4f)|`Fix accidental check=False`|\n|[b7970d7](https://git.sagemath.org/sage.git/commit/?id=b7970d7a24016e77f63dbbea455ce660d11e6fb8)|`Add references and more examples. All doctests pass`|\n|[c821a3e](https://git.sagemath.org/sage.git/commit/?id=c821a3e011ca3b522e6ec9cbbea13dae63aa23f9)|`Fix a typo in Rothe diagrams`|\n|[0473f20](https://git.sagemath.org/sage.git/commit/?id=0473f20b4c918478b7176e9f91fc7000ff7e9c28)|`Fix bug in identity partition/empty diagram`|\n|[cfee8e8](https://git.sagemath.org/sage.git/commit/?id=cfee8e8f720b1b00d9cb1e51596e9535b6fc4883)|`Speed up sliding by skipping classcall`|\n|[62c7b5f](https://git.sagemath.org/sage.git/commit/?id=62c7b5f5345851c72cc937811fe38f5d6aa133d9)|`Remove unneeded creation of skew tableaux`|\n|[8b6ef8a](https://git.sagemath.org/sage.git/commit/?id=8b6ef8a3cf2b703931d636b8f28f2226db66ee22)|`First round of reviewer suggestions`|",
    "created_at": "2022-08-16T17:58:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682382",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[b3603b0](https://git.sagemath.org/sage.git/commit/?id=b3603b0adfa2e6e6c37640cdcefc577a5594f327)|`PEP8 and example`|
|[6b7906a](https://git.sagemath.org/sage.git/commit/?id=6b7906ae97a834112b2430168df91671fb38494d)|`Fix __init__`|
|[6d1395e](https://git.sagemath.org/sage.git/commit/?id=6d1395efc25a59f289fab8cea7ac7e10c7296f07)|`Fix kwargs, repr, and remove double .__init__ call`|
|[630017d](https://git.sagemath.org/sage.git/commit/?id=630017def1eea77f0eb7cf8f09ed61b167cc1b4f)|`Fix accidental check=False`|
|[b7970d7](https://git.sagemath.org/sage.git/commit/?id=b7970d7a24016e77f63dbbea455ce660d11e6fb8)|`Add references and more examples. All doctests pass`|
|[c821a3e](https://git.sagemath.org/sage.git/commit/?id=c821a3e011ca3b522e6ec9cbbea13dae63aa23f9)|`Fix a typo in Rothe diagrams`|
|[0473f20](https://git.sagemath.org/sage.git/commit/?id=0473f20b4c918478b7176e9f91fc7000ff7e9c28)|`Fix bug in identity partition/empty diagram`|
|[cfee8e8](https://git.sagemath.org/sage.git/commit/?id=cfee8e8f720b1b00d9cb1e51596e9535b6fc4883)|`Speed up sliding by skipping classcall`|
|[62c7b5f](https://git.sagemath.org/sage.git/commit/?id=62c7b5f5345851c72cc937811fe38f5d6aa133d9)|`Remove unneeded creation of skew tableaux`|
|[8b6ef8a](https://git.sagemath.org/sage.git/commit/?id=8b6ef8a3cf2b703931d636b8f28f2226db66ee22)|`First round of reviewer suggestions`|



---

archive/issue_comments_682383.json:
```json
{
    "body": "Changing commit from \"cd9c3b3f32958ee79b96fd4793a219c1eb6b0a36\" to \"8b6ef8a3cf2b703931d636b8f28f2226db66ee22\"",
    "created_at": "2022-08-16T17:58:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682383",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cd9c3b3f32958ee79b96fd4793a219c1eb6b0a36" to "8b6ef8a3cf2b703931d636b8f28f2226db66ee22"



---

archive/issue_comments_682384.json:
```json
{
    "body": "<a id='comment:30'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[e973f7d](https://git.sagemath.org/sage.git/commit/?id=e973f7dcedd6378d514229348dd94c4603757ceb)|`Assertion -> ValueError`|\n|[a57b2d0](https://git.sagemath.org/sage.git/commit/?id=a57b2d06d52ace10723505348ad5548102dd62f1)|`Add tests and remove Stanley s.f.`|",
    "created_at": "2022-08-16T19:32:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682384",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[e973f7d](https://git.sagemath.org/sage.git/commit/?id=e973f7dcedd6378d514229348dd94c4603757ceb)|`Assertion -> ValueError`|
|[a57b2d0](https://git.sagemath.org/sage.git/commit/?id=a57b2d06d52ace10723505348ad5548102dd62f1)|`Add tests and remove Stanley s.f.`|



---

archive/issue_comments_682385.json:
```json
{
    "body": "Changing commit from \"8b6ef8a3cf2b703931d636b8f28f2226db66ee22\" to \"a57b2d06d52ace10723505348ad5548102dd62f1\"",
    "created_at": "2022-08-16T19:32:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682385",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8b6ef8a3cf2b703931d636b8f28f2226db66ee22" to "a57b2d06d52ace10723505348ad5548102dd62f1"



---

archive/issue_comments_682386.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [git](#comment%3A30):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> |                                                                                                                                           |                         |\n> |-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n> |[e973f7d](https://git.sagemath.org/sage.git/commit/?id=e973f7dcedd6378d514229348dd94c4603757ceb)|`Assertion -> ValueError`|\n> |[a57b2d0](https://git.sagemath.org/sage.git/commit/?id=a57b2d06d52ace10723505348ad5548102dd62f1)|`Add tests and remove Stanley s.f.`|\n\n\nRemoving Stanley symmetric functions because it should really be on #34335",
    "created_at": "2022-08-16T19:40:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682386",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:31'></a>
Replying to [git](#comment%3A30):
> Branch pushed to git repo; I updated commit sha1. New commits:
> |                                                                                                                                           |                         |
> |-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
> |[e973f7d](https://git.sagemath.org/sage.git/commit/?id=e973f7dcedd6378d514229348dd94c4603757ceb)|`Assertion -> ValueError`|
> |[a57b2d0](https://git.sagemath.org/sage.git/commit/?id=a57b2d06d52ace10723505348ad5548102dd62f1)|`Add tests and remove Stanley s.f.`|


Removing Stanley symmetric functions because it should really be on #34335



---

archive/issue_comments_682387.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[28286da](https://git.sagemath.org/sage.git/commit/?id=28286dae7979f874383a1d771023ca6a4a1ad7b7)|`Add methods to interact with polyominos/compositions`|",
    "created_at": "2022-08-17T18:52:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682387",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[28286da](https://git.sagemath.org/sage.git/commit/?id=28286dae7979f874383a1d771023ca6a4a1ad7b7)|`Add methods to interact with polyominos/compositions`|



---

archive/issue_comments_682388.json:
```json
{
    "body": "Changing commit from \"a57b2d06d52ace10723505348ad5548102dd62f1\" to \"28286dae7979f874383a1d771023ca6a4a1ad7b7\"",
    "created_at": "2022-08-17T18:52:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682388",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a57b2d06d52ace10723505348ad5548102dd62f1" to "28286dae7979f874383a1d771023ca6a4a1ad7b7"



---

archive/issue_comments_682389.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-08-17T18:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682389",
    "user": "https://github.com/trevorkarn"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_682390.json:
```json
{
    "body": "<a id='comment:34'></a>\nMerge conflict.",
    "created_at": "2022-08-31T02:12:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682390",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:34'></a>
Merge conflict.



---

archive/issue_comments_682391.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-08-31T02:12:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682391",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_682392.json:
```json
{
    "body": "Changing commit from \"28286dae7979f874383a1d771023ca6a4a1ad7b7\" to \"a0d02bfd66b4d898773afdd630e52652542d7f2f\"",
    "created_at": "2022-09-01T22:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682392",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "28286dae7979f874383a1d771023ca6a4a1ad7b7" to "a0d02bfd66b4d898773afdd630e52652542d7f2f"



---

archive/issue_comments_682393.json:
```json
{
    "body": "<a id='comment:35'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[218b548](https://git.sagemath.org/sage.git/commit/?id=218b548a3920587c27b3cfd1b63d5b7f4dc431f9)|`Make a generator, reorder, and move tmp variable`|\n|[279a368](https://git.sagemath.org/sage.git/commit/?id=279a36856c1ed177eac4cdb3542da6355ea21b96)|`Rewrite loop computing outside corners`|\n|[e748990](https://git.sagemath.org/sage.git/commit/?id=e748990104618ede93e6acf17a066a55da653323)|`Change to list`|\n|[f289a64](https://git.sagemath.org/sage.git/commit/?id=f289a649f04536d26abd6bad8ee3a5ccc2f5d835)|`Fixing order of k_atoms in k-Schur book.`|\n|[a0d02bf](https://git.sagemath.org/sage.git/commit/?id=a0d02bfd66b4d898773afdd630e52652542d7f2f)|`Merge branch 'diagrams-main' into resolve-dgm-conf`|",
    "created_at": "2022-09-01T22:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682393",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[218b548](https://git.sagemath.org/sage.git/commit/?id=218b548a3920587c27b3cfd1b63d5b7f4dc431f9)|`Make a generator, reorder, and move tmp variable`|
|[279a368](https://git.sagemath.org/sage.git/commit/?id=279a36856c1ed177eac4cdb3542da6355ea21b96)|`Rewrite loop computing outside corners`|
|[e748990](https://git.sagemath.org/sage.git/commit/?id=e748990104618ede93e6acf17a066a55da653323)|`Change to list`|
|[f289a64](https://git.sagemath.org/sage.git/commit/?id=f289a649f04536d26abd6bad8ee3a5ccc2f5d835)|`Fixing order of k_atoms in k-Schur book.`|
|[a0d02bf](https://git.sagemath.org/sage.git/commit/?id=a0d02bfd66b4d898773afdd630e52652542d7f2f)|`Merge branch 'diagrams-main' into resolve-dgm-conf`|



---

archive/issue_comments_682394.json:
```json
{
    "body": "<a id='comment:36'></a>\nI rebased off of 9.7.beta8 develop, then #34339, #34343, and #34345 and then merged the changes. Then I force-pushed that branch, which I hope resolves the merge conflicts.",
    "created_at": "2022-09-01T22:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682394",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:36'></a>
I rebased off of 9.7.beta8 develop, then #34339, #34343, and #34345 and then merged the changes. Then I force-pushed that branch, which I hope resolves the merge conflicts.



---

archive/issue_comments_682395.json:
```json
{
    "body": "<a id='comment:37'></a>\nIt is a conflict with something in the latest beta (which was released about 2 days ago).",
    "created_at": "2022-09-01T23:10:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682395",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:37'></a>
It is a conflict with something in the latest beta (which was released about 2 days ago).



---

archive/issue_comments_682396.json:
```json
{
    "body": "Changing commit from \"a0d02bfd66b4d898773afdd630e52652542d7f2f\" to \"170c65758ef56af462064fa0eb1a55742ceb60b1\"",
    "created_at": "2022-09-06T18:30:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682396",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a0d02bfd66b4d898773afdd630e52652542d7f2f" to "170c65758ef56af462064fa0eb1a55742ceb60b1"



---

archive/issue_comments_682397.json:
```json
{
    "body": "<a id='comment:38'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[57bbbda](https://git.sagemath.org/sage.git/commit/?id=57bbbdab6144c8d1d09e5fe14f18a944b899cd83)|`Fix accidental check=False`|\n|[e14fe05](https://git.sagemath.org/sage.git/commit/?id=e14fe0556cace41a6902dec6907bc30e5343aa2a)|`Add references and more examples. All doctests pass`|\n|[2d7f633](https://git.sagemath.org/sage.git/commit/?id=2d7f6333002b2aad02fb687930d10f9a7383f50f)|`Fix a typo in Rothe diagrams`|\n|[e1f113c](https://git.sagemath.org/sage.git/commit/?id=e1f113c95a518c037c06abff9accdde07cdbd833)|`Fix bug in identity partition/empty diagram`|\n|[798df7a](https://git.sagemath.org/sage.git/commit/?id=798df7a796b1bfac39729939557a3b9bbae8df41)|`Speed up sliding by skipping classcall`|\n|[9227a3c](https://git.sagemath.org/sage.git/commit/?id=9227a3c716bc5837fb0fc5cb1979a55c1469c2ef)|`Remove unneeded creation of skew tableaux`|\n|[fcb9368](https://git.sagemath.org/sage.git/commit/?id=fcb9368c53ed0cd8d3e84d54f697318dff3de06a)|`First round of reviewer suggestions`|\n|[87bbc48](https://git.sagemath.org/sage.git/commit/?id=87bbc4856e7b88ca5baa3b0aff1bb89ed5bdfed3)|`Assertion -> ValueError`|\n|[766584b](https://git.sagemath.org/sage.git/commit/?id=766584b0dbd078b5009f3af1fa18225274fd058d)|`Add tests and remove Stanley s.f.`|\n|[170c657](https://git.sagemath.org/sage.git/commit/?id=170c65758ef56af462064fa0eb1a55742ceb60b1)|`Add methods to interact with polyominos/compositions`|",
    "created_at": "2022-09-06T18:30:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682397",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[57bbbda](https://git.sagemath.org/sage.git/commit/?id=57bbbdab6144c8d1d09e5fe14f18a944b899cd83)|`Fix accidental check=False`|
|[e14fe05](https://git.sagemath.org/sage.git/commit/?id=e14fe0556cace41a6902dec6907bc30e5343aa2a)|`Add references and more examples. All doctests pass`|
|[2d7f633](https://git.sagemath.org/sage.git/commit/?id=2d7f6333002b2aad02fb687930d10f9a7383f50f)|`Fix a typo in Rothe diagrams`|
|[e1f113c](https://git.sagemath.org/sage.git/commit/?id=e1f113c95a518c037c06abff9accdde07cdbd833)|`Fix bug in identity partition/empty diagram`|
|[798df7a](https://git.sagemath.org/sage.git/commit/?id=798df7a796b1bfac39729939557a3b9bbae8df41)|`Speed up sliding by skipping classcall`|
|[9227a3c](https://git.sagemath.org/sage.git/commit/?id=9227a3c716bc5837fb0fc5cb1979a55c1469c2ef)|`Remove unneeded creation of skew tableaux`|
|[fcb9368](https://git.sagemath.org/sage.git/commit/?id=fcb9368c53ed0cd8d3e84d54f697318dff3de06a)|`First round of reviewer suggestions`|
|[87bbc48](https://git.sagemath.org/sage.git/commit/?id=87bbc4856e7b88ca5baa3b0aff1bb89ed5bdfed3)|`Assertion -> ValueError`|
|[766584b](https://git.sagemath.org/sage.git/commit/?id=766584b0dbd078b5009f3af1fa18225274fd058d)|`Add tests and remove Stanley s.f.`|
|[170c657](https://git.sagemath.org/sage.git/commit/?id=170c65758ef56af462064fa0eb1a55742ceb60b1)|`Add methods to interact with polyominos/compositions`|



---

archive/issue_comments_682398.json:
```json
{
    "body": "<a id='comment:39'></a>\nOk it is now rebased on the latest beta. Sorry for the delay in this.",
    "created_at": "2022-09-06T18:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682398",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:39'></a>
Ok it is now rebased on the latest beta. Sorry for the delay in this.



---

archive/issue_comments_682399.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-09-06T18:31:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682399",
    "user": "https://github.com/trevorkarn"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_682400.json:
```json
{
    "body": "<a id='comment:41'></a>\nHere are my current comments:\n\nI don\u2019t like putting so much information at the class-level documentation because each it is not associated with each individual class nor easily accessible by `Foo?`. I think a lot of it is better broken up into the individual (element) classes.\n\nThe first one-sentence description should be just that: one sentence. Subsequent information can go in the next paragraph (i.e., with a blank line in between).\n\nFor the `Diagram` class, it should sort the objects and store them in the list. There shouldn\u2019t be a need to override stuff. This is what `SetPartition` does. This way you are not duplicating the information and there is less code to maintain. In its `__init__()`, why not use `<=` for the comparisons? For the classcall, the default should be `check=True` since we should check user input by default.\n\nI am not really a fan of the `from_foo()` type methods. The `_element_constructor_` is the thing that should handle that, but it probably is good that the individual functions are there and publicly listed. At least, I think the `_element_constructor_` should make a check to the appropriate type and dispatch out accordingly.\n\n`peelable_tableaux()` has a number of doc issues, include incomplete, a code block after a `.` (not `::`), `ALGORITHM:` (with the block after not indented) not `.. ALOGIRHTM::`, and `Remark 25` (it is a name).\n\nIn `from_zero_one_matrix()`, the definition of `zero` and `one` are better within the `if check:`.\n\nThe `Diagram.pp()` does not respect the partition printing option for English versus French convention (but it implicitly claims it does).\n\nLastly, pyflakes; see the patchbot.",
    "created_at": "2022-09-07T03:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682400",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:41'></a>
Here are my current comments:

I dont like putting so much information at the class-level documentation because each it is not associated with each individual class nor easily accessible by `Foo?`. I think a lot of it is better broken up into the individual (element) classes.

The first one-sentence description should be just that: one sentence. Subsequent information can go in the next paragraph (i.e., with a blank line in between).

For the `Diagram` class, it should sort the objects and store them in the list. There shouldnt be a need to override stuff. This is what `SetPartition` does. This way you are not duplicating the information and there is less code to maintain. In its `__init__()`, why not use `<=` for the comparisons? For the classcall, the default should be `check=True` since we should check user input by default.

I am not really a fan of the `from_foo()` type methods. The `_element_constructor_` is the thing that should handle that, but it probably is good that the individual functions are there and publicly listed. At least, I think the `_element_constructor_` should make a check to the appropriate type and dispatch out accordingly.

`peelable_tableaux()` has a number of doc issues, include incomplete, a code block after a `.` (not `::`), `ALGORITHM:` (with the block after not indented) not `.. ALOGIRHTM::`, and `Remark 25` (it is a name).

In `from_zero_one_matrix()`, the definition of `zero` and `one` are better within the `if check:`.

The `Diagram.pp()` does not respect the partition printing option for English versus French convention (but it implicitly claims it does).

Lastly, pyflakes; see the patchbot.



---

archive/issue_comments_682401.json:
```json
{
    "body": "<a id='comment:42'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                           |                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[3f9a15d](https://git.sagemath.org/sage.git/commit/?id=3f9a15d4eda4322ae24e46cb16a3d8c84fb32a34)|`Assertion -> ValueError`|\n|[da86dbb](https://git.sagemath.org/sage.git/commit/?id=da86dbb9014c2b34a765349a12d60a8829915db4)|`Add tests and remove Stanley s.f.`|\n|[5220df5](https://git.sagemath.org/sage.git/commit/?id=5220df5a573fb4163a7a1b1b7a39796081e60d7c)|`Add methods to interact with polyominos/compositions`|\n|[52b275f](https://git.sagemath.org/sage.git/commit/?id=52b275f6b17521833480a6446143e062fb136604)|`Move docmentation to class level`|\n|[65562b4](https://git.sagemath.org/sage.git/commit/?id=65562b418688c3f32663d0f693654e7acefd4680)|`Default check -> true + documentation change`|\n|[4f3d174](https://git.sagemath.org/sage.git/commit/?id=4f3d174263e4ecf9682183c67d504acac57fbcd8)|`Clean up documentation`|\n|[e8177f8](https://git.sagemath.org/sage.git/commit/?id=e8177f803f9aa1b16de54ec6ab11bba032f65ebc)|` < N_rows + 1 -> <= N_rows`|\n|[1eea8bf](https://git.sagemath.org/sage.git/commit/?id=1eea8bf4904e843f578ef50f13c6bc72dd196196)|`Remove _hash_, __contains__, _repr_ overrides`|\n|[1a7eea6](https://git.sagemath.org/sage.git/commit/?id=1a7eea605985a05c86cba0c361059c5075373721)|`Fix peelable tableaux documentation`|\n|[c55f72e](https://git.sagemath.org/sage.git/commit/?id=c55f72edca0be6834869f23566433384f2e830f6)|`Redo loop to avoid looping over self._cells twice`|",
    "created_at": "2022-09-13T00:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682401",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                           |                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[3f9a15d](https://git.sagemath.org/sage.git/commit/?id=3f9a15d4eda4322ae24e46cb16a3d8c84fb32a34)|`Assertion -> ValueError`|
|[da86dbb](https://git.sagemath.org/sage.git/commit/?id=da86dbb9014c2b34a765349a12d60a8829915db4)|`Add tests and remove Stanley s.f.`|
|[5220df5](https://git.sagemath.org/sage.git/commit/?id=5220df5a573fb4163a7a1b1b7a39796081e60d7c)|`Add methods to interact with polyominos/compositions`|
|[52b275f](https://git.sagemath.org/sage.git/commit/?id=52b275f6b17521833480a6446143e062fb136604)|`Move docmentation to class level`|
|[65562b4](https://git.sagemath.org/sage.git/commit/?id=65562b418688c3f32663d0f693654e7acefd4680)|`Default check -> true + documentation change`|
|[4f3d174](https://git.sagemath.org/sage.git/commit/?id=4f3d174263e4ecf9682183c67d504acac57fbcd8)|`Clean up documentation`|
|[e8177f8](https://git.sagemath.org/sage.git/commit/?id=e8177f803f9aa1b16de54ec6ab11bba032f65ebc)|` < N_rows + 1 -> <= N_rows`|
|[1eea8bf](https://git.sagemath.org/sage.git/commit/?id=1eea8bf4904e843f578ef50f13c6bc72dd196196)|`Remove _hash_, __contains__, _repr_ overrides`|
|[1a7eea6](https://git.sagemath.org/sage.git/commit/?id=1a7eea605985a05c86cba0c361059c5075373721)|`Fix peelable tableaux documentation`|
|[c55f72e](https://git.sagemath.org/sage.git/commit/?id=c55f72edca0be6834869f23566433384f2e830f6)|`Redo loop to avoid looping over self._cells twice`|



---

archive/issue_comments_682402.json:
```json
{
    "body": "Changing commit from \"170c65758ef56af462064fa0eb1a55742ceb60b1\" to \"c55f72edca0be6834869f23566433384f2e830f6\"",
    "created_at": "2022-09-13T00:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682402",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "170c65758ef56af462064fa0eb1a55742ceb60b1" to "c55f72edca0be6834869f23566433384f2e830f6"



---

archive/issue_comments_682403.json:
```json
{
    "body": "Changing commit from \"c55f72edca0be6834869f23566433384f2e830f6\" to \"fd970677e8e21843e09dfaab7a10cfa303dcd01f\"",
    "created_at": "2022-09-13T00:34:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682403",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c55f72edca0be6834869f23566433384f2e830f6" to "fd970677e8e21843e09dfaab7a10cfa303dcd01f"



---

archive/issue_comments_682404.json:
```json
{
    "body": "<a id='comment:43'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[252eafd](https://git.sagemath.org/sage.git/commit/?id=252eafd4eb4c1b015b89c0cb145566fd96db68a9)|`Move zero/one inside check`|\n|[fd97067](https://git.sagemath.org/sage.git/commit/?id=fd970677e8e21843e09dfaab7a10cfa303dcd01f)|`Fix pyflakes issue`|",
    "created_at": "2022-09-13T00:34:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682404",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[252eafd](https://git.sagemath.org/sage.git/commit/?id=252eafd4eb4c1b015b89c0cb145566fd96db68a9)|`Move zero/one inside check`|
|[fd97067](https://git.sagemath.org/sage.git/commit/?id=fd970677e8e21843e09dfaab7a10cfa303dcd01f)|`Fix pyflakes issue`|



---

archive/issue_comments_682405.json:
```json
{
    "body": "<a id='comment:44'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[8873753](https://git.sagemath.org/sage.git/commit/?id=8873753647e22f9bc5b35a91ee67eb31e86d8718)|`Fix pyflakes issue`|",
    "created_at": "2022-09-13T00:40:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682405",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[8873753](https://git.sagemath.org/sage.git/commit/?id=8873753647e22f9bc5b35a91ee67eb31e86d8718)|`Fix pyflakes issue`|



---

archive/issue_comments_682406.json:
```json
{
    "body": "Changing commit from \"fd970677e8e21843e09dfaab7a10cfa303dcd01f\" to \"8873753647e22f9bc5b35a91ee67eb31e86d8718\"",
    "created_at": "2022-09-13T00:40:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682406",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fd970677e8e21843e09dfaab7a10cfa303dcd01f" to "8873753647e22f9bc5b35a91ee67eb31e86d8718"



---

archive/issue_comments_682407.json:
```json
{
    "body": "Changing commit from \"8873753647e22f9bc5b35a91ee67eb31e86d8718\" to \"81a859f78b13bc0695bd89f98138d5f5bcbbc979\"",
    "created_at": "2022-09-13T15:00:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682407",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8873753647e22f9bc5b35a91ee67eb31e86d8718" to "81a859f78b13bc0695bd89f98138d5f5bcbbc979"



---

archive/issue_comments_682408.json:
```json
{
    "body": "<a id='comment:45'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[81a859f](https://git.sagemath.org/sage.git/commit/?id=81a859f78b13bc0695bd89f98138d5f5bcbbc979)|`Add .from_* methods to __element_constructor__`|",
    "created_at": "2022-09-13T15:00:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682408",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[81a859f](https://git.sagemath.org/sage.git/commit/?id=81a859f78b13bc0695bd89f98138d5f5bcbbc979)|`Add .from_* methods to __element_constructor__`|



---

archive/issue_comments_682409.json:
```json
{
    "body": "<a id='comment:46'></a>\nReplying to [Travis Scrimshaw](#comment%3A41):\n\nOk - I think all of these issues are addressed.",
    "created_at": "2022-09-13T15:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682409",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:46'></a>
Replying to [Travis Scrimshaw](#comment%3A41):

Ok - I think all of these issues are addressed.



---

archive/issue_comments_682410.json:
```json
{
    "body": "<a id='comment:47'></a>\nTodo: Make iterator and change category",
    "created_at": "2022-09-16T01:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682410",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:47'></a>
Todo: Make iterator and change category



---

archive/issue_comments_682411.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-09-16T18:36:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682411",
    "user": "https://github.com/trevorkarn"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_682412.json:
```json
{
    "body": "<a id='comment:49'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[f079114](https://git.sagemath.org/sage.git/commit/?id=f07911432856b5c5376071509f40b5a449544419)|`Add diagram iterator`|\n|[5f40788](https://git.sagemath.org/sage.git/commit/?id=5f40788516ec356939742b9f32dfaa2425909369)|`Add tests and add a catch for subclasses`|",
    "created_at": "2022-09-17T18:49:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682412",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:49'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[f079114](https://git.sagemath.org/sage.git/commit/?id=f07911432856b5c5376071509f40b5a449544419)|`Add diagram iterator`|
|[5f40788](https://git.sagemath.org/sage.git/commit/?id=5f40788516ec356939742b9f32dfaa2425909369)|`Add tests and add a catch for subclasses`|



---

archive/issue_comments_682413.json:
```json
{
    "body": "Changing commit from \"81a859f78b13bc0695bd89f98138d5f5bcbbc979\" to \"5f40788516ec356939742b9f32dfaa2425909369\"",
    "created_at": "2022-09-17T18:49:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682413",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "81a859f78b13bc0695bd89f98138d5f5bcbbc979" to "5f40788516ec356939742b9f32dfaa2425909369"



---

archive/issue_comments_682414.json:
```json
{
    "body": "<a id='comment:50'></a>\nOk, I think I made the changes we discussed.",
    "created_at": "2022-09-17T18:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682414",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:50'></a>
Ok, I think I made the changes we discussed.



---

archive/issue_comments_682415.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-09-17T18:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682415",
    "user": "https://github.com/trevorkarn"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_events_089301.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34260#event-89301"
}
```



---

archive/issue_comments_682416.json:
```json
{
    "body": "<a id='comment:52'></a>\nWhy are you using `PositiveIntegers()` and subtracting one instead of `NonNegativeIntegers()`? This seems unnecessary\n\n```\nsage: X = NonNegativeIntegers()\nsage: XX = cartesian_product([X, X])\nsage: it = subsets(XX)\nsage: [next(it) for _ in range(10)]\n[[],\n [(0, 0)],\n [(1, 0)],\n [(0, 0), (1, 0)],\n [(0, 1)],\n [(0, 0), (0, 1)],\n [(1, 0), (0, 1)],\n [(0, 0), (1, 0), (0, 1)],\n [(2, 0)],\n [(0, 0), (2, 0)]]\n```\n\nI don't find this comment helpful\n\n```\n            # we want to allow cells in the index-0 row but we\n            # dont want all of them to be in the index-0 row\n```\nIn fact, I think it actually makes things confusing. This code is based on the fact that the set of all subsets is an iterator, which means every element is hit after some finite time. It is more than fair for this code to assume that behavior.",
    "created_at": "2022-09-20T06:07:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682416",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:52'></a>
Why are you using `PositiveIntegers()` and subtracting one instead of `NonNegativeIntegers()`? This seems unnecessary

```
sage: X = NonNegativeIntegers()
sage: XX = cartesian_product([X, X])
sage: it = subsets(XX)
sage: [next(it) for _ in range(10)]
[[],
 [(0, 0)],
 [(1, 0)],
 [(0, 0), (1, 0)],
 [(0, 1)],
 [(0, 0), (0, 1)],
 [(1, 0), (0, 1)],
 [(0, 0), (1, 0), (0, 1)],
 [(2, 0)],
 [(0, 0), (2, 0)]]
```

I don't find this comment helpful

```
            # we want to allow cells in the index-0 row but we
            # dont want all of them to be in the index-0 row
```
In fact, I think it actually makes things confusing. This code is based on the fact that the set of all subsets is an iterator, which means every element is hit after some finite time. It is more than fair for this code to assume that behavior.



---

archive/issue_comments_682417.json:
```json
{
    "body": "<a id='comment:53'></a>\nAlso, I would avoid imports from any `*.all`:\n\n```\nfrom sage.categories.cartesian_product import cartesian_product\n```",
    "created_at": "2022-09-20T06:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682417",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:53'></a>
Also, I would avoid imports from any `*.all`:

```
from sage.categories.cartesian_product import cartesian_product
```



---

archive/issue_comments_682418.json:
```json
{
    "body": "<a id='comment:54'></a>\nReplying to [Travis Scrimshaw](#comment%3A52):\n> Why are you using `PositiveIntegers()` and subtracting one instead of `NonNegativeIntegers()`? This seems unnecessary\n> \n> ```\n> sage: X = NonNegativeIntegers()\n> sage: XX = cartesian_product([X, X])\n> sage: it = subsets(XX)\n> sage: [next(it) for _ in range(10)]\n> [[],\n>  [(0, 0)],\n>  [(1, 0)],\n>  [(0, 0), (1, 0)],\n>  [(0, 1)],\n>  [(0, 0), (0, 1)],\n>  [(1, 0), (0, 1)],\n>  [(0, 0), (1, 0), (0, 1)],\n>  [(2, 0)],\n>  [(0, 0), (2, 0)]]\n> ```\n\n\nHm. I must have done something wrong when I tried using `NonNegativeIntegers()` before. Whatever I was doing I was only getting diagrams that were contained in the first row. Evidently, your change works - sorry for the confusion.\n\n> I don't find this comment helpful\n> \n> ```\n>             # we want to allow cells in the index-0 row but we\n>             # dont want all of them to be in the index-0 row\n> ```\n> In fact, I think it actually makes things confusing. This code is based on the fact that the set of all subsets is an iterator, which means every element is hit after some finite time. It is more than fair for this code to assume that behavior.\n\n\nI meant for this to clarify why I was subtracting one instead of using `NonNegativeIntegers`, but I agree it is confusing.",
    "created_at": "2022-09-20T12:40:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682418",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:54'></a>
Replying to [Travis Scrimshaw](#comment%3A52):
> Why are you using `PositiveIntegers()` and subtracting one instead of `NonNegativeIntegers()`? This seems unnecessary
> 
> ```
> sage: X = NonNegativeIntegers()
> sage: XX = cartesian_product([X, X])
> sage: it = subsets(XX)
> sage: [next(it) for _ in range(10)]
> [[],
>  [(0, 0)],
>  [(1, 0)],
>  [(0, 0), (1, 0)],
>  [(0, 1)],
>  [(0, 0), (0, 1)],
>  [(1, 0), (0, 1)],
>  [(0, 0), (1, 0), (0, 1)],
>  [(2, 0)],
>  [(0, 0), (2, 0)]]
> ```


Hm. I must have done something wrong when I tried using `NonNegativeIntegers()` before. Whatever I was doing I was only getting diagrams that were contained in the first row. Evidently, your change works - sorry for the confusion.

> I don't find this comment helpful
> 
> ```
>             # we want to allow cells in the index-0 row but we
>             # dont want all of them to be in the index-0 row
> ```
> In fact, I think it actually makes things confusing. This code is based on the fact that the set of all subsets is an iterator, which means every element is hit after some finite time. It is more than fair for this code to assume that behavior.


I meant for this to clarify why I was subtracting one instead of using `NonNegativeIntegers`, but I agree it is confusing.



---

archive/issue_comments_682419.json:
```json
{
    "body": "<a id='comment:55'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[0f6dfd9](https://git.sagemath.org/sage.git/commit/?id=0f6dfd91300042acd9cf3062c3115d536d6622bd)|`PositiveIntegers -> NonNegativeIntegers`|",
    "created_at": "2022-09-20T12:43:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682419",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:55'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[0f6dfd9](https://git.sagemath.org/sage.git/commit/?id=0f6dfd91300042acd9cf3062c3115d536d6622bd)|`PositiveIntegers -> NonNegativeIntegers`|



---

archive/issue_comments_682420.json:
```json
{
    "body": "Changing commit from \"5f40788516ec356939742b9f32dfaa2425909369\" to \"0f6dfd91300042acd9cf3062c3115d536d6622bd\"",
    "created_at": "2022-09-20T12:43:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682420",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5f40788516ec356939742b9f32dfaa2425909369" to "0f6dfd91300042acd9cf3062c3115d536d6622bd"



---

archive/issue_comments_682421.json:
```json
{
    "body": "<a id='comment:56'></a>\nCan you also separate part of `pp()` into `_ascii_art_` (and/or maybe something that also for `_unicode_art_`), where `pp()` would simply `print(self._ascii_art_())`? This would mean `ascii_art(D)` would generate the nice pictures (and could be further manipulated).\n\nIt would be good to add a `_latex_[young_diagram]()` like `SkewPartition` that does\n\n```python\n    def _latex_(self):\n        if not self._list:\n            return \"{\\\\emptyset}\"\n\n        ret = []\n        for i in range(self._n_rows):\n            row = []\n            for j in range(self._n_cols):\n                row.append(\"\\\\phantom{x}\" if (i, j) in self else None)\n            ret.append(row)\n        from sage.combinat.output import tex_from_array\n        return tex_from_array(ret)\n```\n\nThis will make it easier for people to visualize it.",
    "created_at": "2022-09-22T01:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682421",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:56'></a>
Can you also separate part of `pp()` into `_ascii_art_` (and/or maybe something that also for `_unicode_art_`), where `pp()` would simply `print(self._ascii_art_())`? This would mean `ascii_art(D)` would generate the nice pictures (and could be further manipulated).

It would be good to add a `_latex_[young_diagram]()` like `SkewPartition` that does

```python
    def _latex_(self):
        if not self._list:
            return "{\\emptyset}"

        ret = []
        for i in range(self._n_rows):
            row = []
            for j in range(self._n_cols):
                row.append("\\phantom{x}" if (i, j) in self else None)
            ret.append(row)
        from sage.combinat.output import tex_from_array
        return tex_from_array(ret)
```

This will make it easier for people to visualize it.



---

archive/issue_comments_682422.json:
```json
{
    "body": "Changing commit from \"0f6dfd91300042acd9cf3062c3115d536d6622bd\" to \"1d5760f136a7693ede615e6fb67a63ab6d8da4d5\"",
    "created_at": "2022-09-23T02:52:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682422",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0f6dfd91300042acd9cf3062c3115d536d6622bd" to "1d5760f136a7693ede615e6fb67a63ab6d8da4d5"



---

archive/issue_comments_682423.json:
```json
{
    "body": "<a id='comment:57'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|\n|[1d5760f](https://git.sagemath.org/sage.git/commit/?id=1d5760f136a7693ede615e6fb67a63ab6d8da4d5)|`Add unicode/ascii art`|",
    "created_at": "2022-09-23T02:52:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682423",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:57'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
|[1d5760f](https://git.sagemath.org/sage.git/commit/?id=1d5760f136a7693ede615e6fb67a63ab6d8da4d5)|`Add unicode/ascii art`|



---

archive/issue_comments_682424.json:
```json
{
    "body": "<a id='comment:58'></a>\n`_pretty_print()` should return the string, not print it. That way, e.g., `_ascii_art_` can `return ascii_art(result)`.",
    "created_at": "2022-09-23T06:35:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682424",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:58'></a>
`_pretty_print()` should return the string, not print it. That way, e.g., `_ascii_art_` can `return ascii_art(result)`.



---

archive/issue_comments_682425.json:
```json
{
    "body": "<a id='comment:59'></a>\nReplying to [Travis Scrimshaw](#comment%3A56):\n\n> It would be good to add a `_latex_[young_diagram]()` like `SkewPartition` that does\n> \n> ```python\n>     def _latex_(self):\n>         if not self._list:\n>             return \"{\\\\emptyset}\"\n> \n>         ret = []\n>         for i in range(self._n_rows):\n>             row = []\n>             for j in range(self._n_cols):\n>                 row.append(\"\\\\phantom{x}\" if (i, j) in self else None)\n>             ret.append(row)\n>         from sage.combinat.output import tex_from_array\n>         return tex_from_array(ret)\n> ```\n> \n> This will make it easier for people to visualize it.\n\n\nThis returns     \n\n```\n{\\def\\lr#1{\\multicolumn{1}{|@{\\hspace{.6ex}}c@{\\hspace{.6ex}}|}{\\raisebox{-.3ex}{$#1$}}}\n    \\raisebox{-.6ex}{$\\begin{array}[b]{*{5}c}\\cline{6-5}\n    \\lr{\\phantom{x}}&&&\\lr{\\phantom{x}}&\\\\\n    &&&&\\\\\\cline{5-5}\n    &&\\lr{\\phantom{x}}&&\\lr{\\phantom{x}}\\\\\\cline{5-5}\n    \\end{array}$}\n    }\n```\nwhich is not quite right.\n\nAfter playing with it, I think this looks better:\n\n```\n    {\\def\\lr#1{\\multicolumn{1}{|@{\\hspace{.6ex}}c@{\\hspace{.6ex}}|}{\\raisebox{-.3ex}{$#1$}}}\n    \\raisebox{-.6ex}{$\\begin{array}[b]{*{6}{p{0.6ex}}} \\cline{1-1}\\cline{4-4}\\cline{6-5}\n    \\lr{\\phantom{x}}&&&\\lr{\\phantom{x}}&\\\\\\cline{1-1}\\cline{4-4}\n    &&&&\\\\\\cline{5-5} \\cline{3-3}\n    &&\\lr{\\phantom{x}}&&\\lr{\\phantom{x}}\\\\\\cline{5-5} \\cline{3-3}\n    \\end{array}$}\n    }\n```\n\nwhich adds lots of `\\cline`s to get the boxes and also makes each box including empty boxes a square. \n\nDoes it make sense to just do a custom tex implementation rather than using `tex_from_array`?",
    "created_at": "2022-09-23T11:53:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682425",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:59'></a>
Replying to [Travis Scrimshaw](#comment%3A56):

> It would be good to add a `_latex_[young_diagram]()` like `SkewPartition` that does
> 
> ```python
>     def _latex_(self):
>         if not self._list:
>             return "{\\emptyset}"
> 
>         ret = []
>         for i in range(self._n_rows):
>             row = []
>             for j in range(self._n_cols):
>                 row.append("\\phantom{x}" if (i, j) in self else None)
>             ret.append(row)
>         from sage.combinat.output import tex_from_array
>         return tex_from_array(ret)
> ```
> 
> This will make it easier for people to visualize it.


This returns     

```
{\def\lr#1{\multicolumn{1}{|@{\hspace{.6ex}}c@{\hspace{.6ex}}|}{\raisebox{-.3ex}{$#1$}}}
    \raisebox{-.6ex}{$\begin{array}[b]{*{5}c}\cline{6-5}
    \lr{\phantom{x}}&&&\lr{\phantom{x}}&\\
    &&&&\\\cline{5-5}
    &&\lr{\phantom{x}}&&\lr{\phantom{x}}\\\cline{5-5}
    \end{array}$}
    }
```
which is not quite right.

After playing with it, I think this looks better:

```
    {\def\lr#1{\multicolumn{1}{|@{\hspace{.6ex}}c@{\hspace{.6ex}}|}{\raisebox{-.3ex}{$#1$}}}
    \raisebox{-.6ex}{$\begin{array}[b]{*{6}{p{0.6ex}}} \cline{1-1}\cline{4-4}\cline{6-5}
    \lr{\phantom{x}}&&&\lr{\phantom{x}}&\\\cline{1-1}\cline{4-4}
    &&&&\\\cline{5-5} \cline{3-3}
    &&\lr{\phantom{x}}&&\lr{\phantom{x}}\\\cline{5-5} \cline{3-3}
    \end{array}$}
    }
```

which adds lots of `\cline`s to get the boxes and also makes each box including empty boxes a square. 

Does it make sense to just do a custom tex implementation rather than using `tex_from_array`?



---

archive/issue_comments_682426.json:
```json
{
    "body": "<a id='comment:60'></a>\nSo the `tex_from_array` actually makes an assumption that the rows are continuous. That is probably what is leading to the incorrect output. If you have a way to do a simple fix `tex_from_skew_array`, then do it (it doesn't need to be fast because the latex compiling is vastly slower than almost anything you will do). Of course, you are safe doing a separate `tex_from_diagram` or something like that. Your choice.",
    "created_at": "2022-09-23T12:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682426",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:60'></a>
So the `tex_from_array` actually makes an assumption that the rows are continuous. That is probably what is leading to the incorrect output. If you have a way to do a simple fix `tex_from_skew_array`, then do it (it doesn't need to be fast because the latex compiling is vastly slower than almost anything you will do). Of course, you are safe doing a separate `tex_from_diagram` or something like that. Your choice.



---

archive/issue_comments_682427.json:
```json
{
    "body": "<a id='comment:61'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|\n|[087a87a](https://git.sagemath.org/sage.git/commit/?id=087a87a94244fd95129ed10623ff7c66981a7a42)|`Add draft of _latex_ and fix pretty_print/ascii_art string things`|",
    "created_at": "2022-09-23T12:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682427",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
|[087a87a](https://git.sagemath.org/sage.git/commit/?id=087a87a94244fd95129ed10623ff7c66981a7a42)|`Add draft of _latex_ and fix pretty_print/ascii_art string things`|



---

archive/issue_comments_682428.json:
```json
{
    "body": "Changing commit from \"1d5760f136a7693ede615e6fb67a63ab6d8da4d5\" to \"087a87a94244fd95129ed10623ff7c66981a7a42\"",
    "created_at": "2022-09-23T12:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682428",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1d5760f136a7693ede615e6fb67a63ab6d8da4d5" to "087a87a94244fd95129ed10623ff7c66981a7a42"



---

archive/issue_comments_682429.json:
```json
{
    "body": "Changing commit from \"087a87a94244fd95129ed10623ff7c66981a7a42\" to \"1efe2fe5f866f5727cfc27a2cb2e146944fab8a0\"",
    "created_at": "2022-09-23T19:09:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682429",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "087a87a94244fd95129ed10623ff7c66981a7a42" to "1efe2fe5f866f5727cfc27a2cb2e146944fab8a0"



---

archive/issue_comments_682430.json:
```json
{
    "body": "<a id='comment:62'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[1efe2fe](https://git.sagemath.org/sage.git/commit/?id=1efe2fe5f866f5727cfc27a2cb2e146944fab8a0)|`Fix latex and unicode/ascii art`|",
    "created_at": "2022-09-23T19:09:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682430",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:62'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[1efe2fe](https://git.sagemath.org/sage.git/commit/?id=1efe2fe5f866f5727cfc27a2cb2e146944fab8a0)|`Fix latex and unicode/ascii art`|



---

archive/issue_comments_682431.json:
```json
{
    "body": "<a id='comment:63'></a>\nOk! I think that takes care of printing/art things.",
    "created_at": "2022-09-23T19:11:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682431",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:63'></a>
Ok! I think that takes care of printing/art things.



---

archive/issue_comments_682432.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-09-24T04:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682432",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_682433.json:
```json
{
    "body": "<a id='comment:64'></a>\nThank you. LGTM.",
    "created_at": "2022-09-24T04:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682433",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:64'></a>
Thank you. LGTM.



---

archive/issue_comments_682434.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2022-09-24T04:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682434",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_682435.json:
```json
{
    "body": "<a id='comment:65'></a>\nthe linter says\n\n```\nsage/combinat/diagram.py:316:96: E711 comparison to None should be 'if cond is not None:'\n18\nsage/combinat/diagram.py:318:106: E711 comparison to None should be 'if cond is not None:'\n19\nsage/combinat/diagram.py:320:105: E711 comparison to None should be 'if cond is not None:'\n20\nsage/combinat/diagram.py:321:96: E711 comparison to None should be 'if cond is not None:'\n```",
    "created_at": "2022-09-24T06:04:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682435",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:65'></a>
the linter says

```
sage/combinat/diagram.py:316:96: E711 comparison to None should be 'if cond is not None:'
18
sage/combinat/diagram.py:318:106: E711 comparison to None should be 'if cond is not None:'
19
sage/combinat/diagram.py:320:105: E711 comparison to None should be 'if cond is not None:'
20
sage/combinat/diagram.py:321:96: E711 comparison to None should be 'if cond is not None:'
```



---

archive/issue_comments_682436.json:
```json
{
    "body": "<a id='comment:66'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n|                                                                                                                                           |                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|\n|[849c8d3](https://git.sagemath.org/sage.git/commit/?id=849c8d36c396c33b1af71ca2b57c5d92db5bb8e4)|`!=None -> is not None`|",
    "created_at": "2022-09-24T13:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682436",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:66'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
|                                                                                                                                           |                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
|[849c8d3](https://git.sagemath.org/sage.git/commit/?id=849c8d36c396c33b1af71ca2b57c5d92db5bb8e4)|`!=None -> is not None`|



---

archive/issue_comments_682437.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2022-09-24T13:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682437",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_682438.json:
```json
{
    "body": "Changing commit from \"1efe2fe5f866f5727cfc27a2cb2e146944fab8a0\" to \"849c8d36c396c33b1af71ca2b57c5d92db5bb8e4\"",
    "created_at": "2022-09-24T13:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682438",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1efe2fe5f866f5727cfc27a2cb2e146944fab8a0" to "849c8d36c396c33b1af71ca2b57c5d92db5bb8e4"



---

archive/issue_comments_682439.json:
```json
{
    "body": "<a id='comment:67'></a>\nReplying to [Fr\u00e9d\u00e9ric Chapoton](#comment%3A65):\n> the linter says\n> \n> ```\n> sage/combinat/diagram.py:316:96: E711 comparison to None should be 'if cond is not None:'\n> 18\n> sage/combinat/diagram.py:318:106: E711 comparison to None should be 'if cond is not None:'\n> 19\n> sage/combinat/diagram.py:320:105: E711 comparison to None should be 'if cond is not None:'\n> 20\n> sage/combinat/diagram.py:321:96: E711 comparison to None should be 'if cond is not None:'\n> ```\n\n\nFixed!",
    "created_at": "2022-09-24T13:30:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682439",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:67'></a>
Replying to [Frdric Chapoton](#comment%3A65):
> the linter says
> 
> ```
> sage/combinat/diagram.py:316:96: E711 comparison to None should be 'if cond is not None:'
> 18
> sage/combinat/diagram.py:318:106: E711 comparison to None should be 'if cond is not None:'
> 19
> sage/combinat/diagram.py:320:105: E711 comparison to None should be 'if cond is not None:'
> 20
> sage/combinat/diagram.py:321:96: E711 comparison to None should be 'if cond is not None:'
> ```


Fixed!



---

archive/issue_comments_682440.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-09-24T15:59:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682440",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_682441.json:
```json
{
    "body": "<a id='comment:69'></a>\nThanks. I don't know how I missed that.",
    "created_at": "2022-09-25T00:53:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682441",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:69'></a>
Thanks. I don't know how I missed that.



---

archive/issue_comments_682442.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-09-25T20:48:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682442",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_682443.json:
```json
{
    "body": "<a id='comment:70'></a>\nMerge failure on top of:\n\n5d7b401269e Trac #33816: Update gcc/gfortran to 12.x + Apple Silicon support, update openblas to 0.3.21, gsl to 2.7.1\n\na802d076b46 Trac #31664: Add package msolve 0.4.4 (multivariate polynomial system solver)\n\n4541564cf15 Updated [SageMath](SageMath) version to 9.8.beta0\n\n\n\nmerge was not clean: conflicts in src/sage/combinat/partition.py",
    "created_at": "2022-09-25T20:48:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682443",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:70'></a>
Merge failure on top of:

5d7b401269e Trac #33816: Update gcc/gfortran to 12.x + Apple Silicon support, update openblas to 0.3.21, gsl to 2.7.1

a802d076b46 Trac #31664: Add package msolve 0.4.4 (multivariate polynomial system solver)

4541564cf15 Updated [SageMath](SageMath) version to 9.8.beta0



merge was not clean: conflicts in src/sage/combinat/partition.py



---

archive/issue_comments_682444.json:
```json
{
    "body": "<a id='comment:71'></a>\nneeds to be rebased",
    "created_at": "2022-09-28T12:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682444",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:71'></a>
needs to be rebased



---

archive/issue_comments_682445.json:
```json
{
    "body": "<a id='comment:72'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                           |                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[90dd64c](https://git.sagemath.org/sage.git/commit/?id=90dd64c736bb63e3d715f1cd003893ac85b7e44b)|`Fix pyflakes issue`|\n|[5d1f758](https://git.sagemath.org/sage.git/commit/?id=5d1f75813e3ebd7d827a8ec0a418ac34ec7fe18d)|`Fix pyflakes issue`|\n|[4278363](https://git.sagemath.org/sage.git/commit/?id=4278363d322b82cb112b4db43de75087251250a7)|`Add .from_* methods to __element_constructor__`|\n|[d7c74f4](https://git.sagemath.org/sage.git/commit/?id=d7c74f465a15d83f505dc8eda1bb972c873b011d)|`Add diagram iterator`|\n|[ae1d71a](https://git.sagemath.org/sage.git/commit/?id=ae1d71a5eb1e14b71bfb0e6a8a6c87342e7e4fdf)|`Add tests and add a catch for subclasses`|\n|[217c203](https://git.sagemath.org/sage.git/commit/?id=217c2039c96fcf230d361572bfa1f24361d23679)|`PositiveIntegers -> NonNegativeIntegers`|\n|[192d2e0](https://git.sagemath.org/sage.git/commit/?id=192d2e03ed61927fb540b3d704c62afe2de64907)|`Add unicode/ascii art`|\n|[a4a9474](https://git.sagemath.org/sage.git/commit/?id=a4a94749cb08ea350fb9d8ee1b630b0f28bf6b2b)|`Add draft of _latex_ and fix pretty_print/ascii_art string things`|\n|[740651f](https://git.sagemath.org/sage.git/commit/?id=740651ff031dcb1bb81c6eb67e61bfa32ea78846)|`Fix latex and unicode/ascii art`|\n|[b3a3783](https://git.sagemath.org/sage.git/commit/?id=b3a378394cca4b7c8e248695966cf51a18d65c2d)|`!=None -> is not None`|",
    "created_at": "2022-10-11T23:17:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682445",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:72'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                           |                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[90dd64c](https://git.sagemath.org/sage.git/commit/?id=90dd64c736bb63e3d715f1cd003893ac85b7e44b)|`Fix pyflakes issue`|
|[5d1f758](https://git.sagemath.org/sage.git/commit/?id=5d1f75813e3ebd7d827a8ec0a418ac34ec7fe18d)|`Fix pyflakes issue`|
|[4278363](https://git.sagemath.org/sage.git/commit/?id=4278363d322b82cb112b4db43de75087251250a7)|`Add .from_* methods to __element_constructor__`|
|[d7c74f4](https://git.sagemath.org/sage.git/commit/?id=d7c74f465a15d83f505dc8eda1bb972c873b011d)|`Add diagram iterator`|
|[ae1d71a](https://git.sagemath.org/sage.git/commit/?id=ae1d71a5eb1e14b71bfb0e6a8a6c87342e7e4fdf)|`Add tests and add a catch for subclasses`|
|[217c203](https://git.sagemath.org/sage.git/commit/?id=217c2039c96fcf230d361572bfa1f24361d23679)|`PositiveIntegers -> NonNegativeIntegers`|
|[192d2e0](https://git.sagemath.org/sage.git/commit/?id=192d2e03ed61927fb540b3d704c62afe2de64907)|`Add unicode/ascii art`|
|[a4a9474](https://git.sagemath.org/sage.git/commit/?id=a4a94749cb08ea350fb9d8ee1b630b0f28bf6b2b)|`Add draft of _latex_ and fix pretty_print/ascii_art string things`|
|[740651f](https://git.sagemath.org/sage.git/commit/?id=740651ff031dcb1bb81c6eb67e61bfa32ea78846)|`Fix latex and unicode/ascii art`|
|[b3a3783](https://git.sagemath.org/sage.git/commit/?id=b3a378394cca4b7c8e248695966cf51a18d65c2d)|`!=None -> is not None`|



---

archive/issue_comments_682446.json:
```json
{
    "body": "Changing commit from \"849c8d36c396c33b1af71ca2b57c5d92db5bb8e4\" to \"b3a378394cca4b7c8e248695966cf51a18d65c2d\"",
    "created_at": "2022-10-11T23:17:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682446",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "849c8d36c396c33b1af71ca2b57c5d92db5bb8e4" to "b3a378394cca4b7c8e248695966cf51a18d65c2d"



---

archive/issue_comments_682447.json:
```json
{
    "body": "<a id='comment:73'></a>\nRebased, but now a test fails.",
    "created_at": "2022-10-11T23:18:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682447",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:73'></a>
Rebased, but now a test fails.



---

archive/issue_comments_682448.json:
```json
{
    "body": "<a id='comment:74'></a>\nMy guess is somewhere there is a multiplication convention issue:\n\n```\nsage: p = Permutation([4,5,2,3,1])\nsage: W = WeylGroup(['A',4])\nsage: W.from_reduced_word(p.reduced_word()).stanley_symmetric_function()\n56*m[1, 1, 1, 1, 1, 1, 1, 1] + 26*m[2, 1, 1, 1, 1, 1, 1] + 12*m[2, 2, 1, 1, 1, 1]\n + 5*m[2, 2, 2, 1, 1] + 2*m[2, 2, 2, 2] + 6*m[3, 1, 1, 1, 1, 1]\n + 3*m[3, 2, 1, 1, 1] + m[3, 2, 2, 1] + m[3, 3, 1, 1]\nsage: W.from_reduced_word(reversed(p.reduced_word())).stanley_symmetric_function()\n56*m[1, 1, 1, 1, 1, 1, 1, 1] + 30*m[2, 1, 1, 1, 1, 1, 1] + 16*m[2, 2, 1, 1, 1, 1]\n + 9*m[2, 2, 2, 1, 1] + 6*m[2, 2, 2, 2] + 10*m[3, 1, 1, 1, 1, 1] + 5*m[3, 2, 1, 1, 1]\n + 3*m[3, 2, 2, 1] + m[3, 3, 1, 1] + m[3, 3, 2] + 2*m[4, 1, 1, 1, 1] + m[4, 2, 1, 1] + m[4, 2, 2]\n```\nA very annoying subtlety to deal with (which we can usually just hand-wave away), but we have to deal with here. Actually, I suspect the former is the \"correct\" output doing:\n\n```\nsage: P5 = Permutations(5)\nsage: p = P5([4,5,2,3,1])\nsage: p.stanley_symmetric_function()\nRecursionError\nsage: P5.options.mult = 'r2l'\nsage: p.stanley_symmetric_function()\n56*m[1, 1, 1, 1, 1, 1, 1, 1] + 26*m[2, 1, 1, 1, 1, 1, 1] + 12*m[2, 2, 1, 1, 1, 1]\n + 5*m[2, 2, 2, 1, 1] + 2*m[2, 2, 2, 2] + 6*m[3, 1, 1, 1, 1, 1]\n + 3*m[3, 2, 1, 1, 1] + m[3, 2, 2, 1] + m[3, 3, 1, 1]\n```\nAlthough annoyingly this is different from `p.to_permutation_group_element().stanley_symmetric_function()`. It might just be a matter of documenting what convention you use as both are \"correct.\"\n\nOne extra thing I noticed, you can pull out the inverse here to not redo it so many times:\n\n```diff\n+    winv = w.inverse()\n     cells = [c for c in cartesian_product_iterator((range(N), range(N)))\n-             if c[0]+1 < w.inverse()(c[1]+1) and c[1]+1 < w(c[0]+1)]\n+             if c[0]+1 < winv(c[1]+1) and c[1]+1 < w(c[0]+1)]\n```",
    "created_at": "2022-10-12T05:12:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682448",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:74'></a>
My guess is somewhere there is a multiplication convention issue:

```
sage: p = Permutation([4,5,2,3,1])
sage: W = WeylGroup(['A',4])
sage: W.from_reduced_word(p.reduced_word()).stanley_symmetric_function()
56*m[1, 1, 1, 1, 1, 1, 1, 1] + 26*m[2, 1, 1, 1, 1, 1, 1] + 12*m[2, 2, 1, 1, 1, 1]
 + 5*m[2, 2, 2, 1, 1] + 2*m[2, 2, 2, 2] + 6*m[3, 1, 1, 1, 1, 1]
 + 3*m[3, 2, 1, 1, 1] + m[3, 2, 2, 1] + m[3, 3, 1, 1]
sage: W.from_reduced_word(reversed(p.reduced_word())).stanley_symmetric_function()
56*m[1, 1, 1, 1, 1, 1, 1, 1] + 30*m[2, 1, 1, 1, 1, 1, 1] + 16*m[2, 2, 1, 1, 1, 1]
 + 9*m[2, 2, 2, 1, 1] + 6*m[2, 2, 2, 2] + 10*m[3, 1, 1, 1, 1, 1] + 5*m[3, 2, 1, 1, 1]
 + 3*m[3, 2, 2, 1] + m[3, 3, 1, 1] + m[3, 3, 2] + 2*m[4, 1, 1, 1, 1] + m[4, 2, 1, 1] + m[4, 2, 2]
```
A very annoying subtlety to deal with (which we can usually just hand-wave away), but we have to deal with here. Actually, I suspect the former is the "correct" output doing:

```
sage: P5 = Permutations(5)
sage: p = P5([4,5,2,3,1])
sage: p.stanley_symmetric_function()
RecursionError
sage: P5.options.mult = 'r2l'
sage: p.stanley_symmetric_function()
56*m[1, 1, 1, 1, 1, 1, 1, 1] + 26*m[2, 1, 1, 1, 1, 1, 1] + 12*m[2, 2, 1, 1, 1, 1]
 + 5*m[2, 2, 2, 1, 1] + 2*m[2, 2, 2, 2] + 6*m[3, 1, 1, 1, 1, 1]
 + 3*m[3, 2, 1, 1, 1] + m[3, 2, 2, 1] + m[3, 3, 1, 1]
```
Although annoyingly this is different from `p.to_permutation_group_element().stanley_symmetric_function()`. It might just be a matter of documenting what convention you use as both are "correct."

One extra thing I noticed, you can pull out the inverse here to not redo it so many times:

```diff
+    winv = w.inverse()
     cells = [c for c in cartesian_product_iterator((range(N), range(N)))
-             if c[0]+1 < w.inverse()(c[1]+1) and c[1]+1 < w(c[0]+1)]
+             if c[0]+1 < winv(c[1]+1) and c[1]+1 < w(c[0]+1)]
```



---

archive/issue_comments_682449.json:
```json
{
    "body": "<a id='comment:75'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------|\n|[1ff619c](https://git.sagemath.org/sage.git/commit/?id=1ff619c2c10ea50ae2b58bac0a2ea50c9db7e991)|`Remove SSF`|\n|[965b284](https://git.sagemath.org/sage.git/commit/?id=965b28499a900390601bce60fc8d1e3f9ceff9ed)|`Fix w-inverse`|",
    "created_at": "2022-10-13T04:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682449",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:75'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |            |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------|
|[1ff619c](https://git.sagemath.org/sage.git/commit/?id=1ff619c2c10ea50ae2b58bac0a2ea50c9db7e991)|`Remove SSF`|
|[965b284](https://git.sagemath.org/sage.git/commit/?id=965b28499a900390601bce60fc8d1e3f9ceff9ed)|`Fix w-inverse`|



---

archive/issue_comments_682450.json:
```json
{
    "body": "Changing commit from \"b3a378394cca4b7c8e248695966cf51a18d65c2d\" to \"965b28499a900390601bce60fc8d1e3f9ceff9ed\"",
    "created_at": "2022-10-13T04:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682450",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b3a378394cca4b7c8e248695966cf51a18d65c2d" to "965b28499a900390601bce60fc8d1e3f9ceff9ed"



---

archive/issue_comments_682451.json:
```json
{
    "body": "<a id='comment:76'></a>\nI realized that the Stanley symmetric function things should be on #34335 instead (where they have the correct multiplication convention) so I removed them from this ticket. I think this is ready.",
    "created_at": "2022-10-13T04:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682451",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:76'></a>
I realized that the Stanley symmetric function things should be on #34335 instead (where they have the correct multiplication convention) so I removed them from this ticket. I think this is ready.



---

archive/issue_comments_682452.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-10-13T04:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682452",
    "user": "https://github.com/trevorkarn"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_682453.json:
```json
{
    "body": "<a id='comment:78'></a>\nTests are passing for me, but it might be good to wait for the patchbot one more time.",
    "created_at": "2022-10-13T04:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682453",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:78'></a>
Tests are passing for me, but it might be good to wait for the patchbot one more time.



---

archive/issue_comments_682454.json:
```json
{
    "body": "Changing branch from \"u/tkarn/diagrams-34260\" to \"u/tscrim/diagrams-34260\"",
    "created_at": "2022-10-14T07:29:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682454",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "u/tkarn/diagrams-34260" to "u/tscrim/diagrams-34260"



---

archive/issue_comments_682455.json:
```json
{
    "body": "<a id='comment:79'></a>\nI made some changes to the doc and the unicode output. If my changes are good, back to a positive review.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|\n|[291d799](https://git.sagemath.org/sage.git/commit?id=291d799f05303a25b4afbbc2b74e87651aad8cc2)|`Some last reviewer changes to improve some doc and unicode art.`|",
    "created_at": "2022-10-14T07:29:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682455",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:79'></a>
I made some changes to the doc and the unicode output. If my changes are good, back to a positive review.

---
New commits:
|                                                                                                                                          |                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
|[291d799](https://git.sagemath.org/sage.git/commit?id=291d799f05303a25b4afbbc2b74e87651aad8cc2)|`Some last reviewer changes to improve some doc and unicode art.`|



---

archive/issue_comments_682456.json:
```json
{
    "body": "Changing commit from \"965b28499a900390601bce60fc8d1e3f9ceff9ed\" to \"291d799f05303a25b4afbbc2b74e87651aad8cc2\"",
    "created_at": "2022-10-14T07:29:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682456",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "965b28499a900390601bce60fc8d1e3f9ceff9ed" to "291d799f05303a25b4afbbc2b74e87651aad8cc2"



---

archive/issue_comments_682457.json:
```json
{
    "body": "<a id='comment:80'></a>\nIt looks like pyflakes is raising some warnings about unused variables. I'm changing/testing those now, but your changes LGTM.",
    "created_at": "2022-10-15T13:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682457",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:80'></a>
It looks like pyflakes is raising some warnings about unused variables. I'm changing/testing those now, but your changes LGTM.



---

archive/issue_comments_682458.json:
```json
{
    "body": "Changing commit from \"291d799f05303a25b4afbbc2b74e87651aad8cc2\" to \"382926c5cabb572bf912de7ce1137f07d5cc42eb\"",
    "created_at": "2022-10-15T14:05:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682458",
    "user": "https://github.com/trevorkarn"
}
```

Changing commit from "291d799f05303a25b4afbbc2b74e87651aad8cc2" to "382926c5cabb572bf912de7ce1137f07d5cc42eb"



---

archive/issue_comments_682459.json:
```json
{
    "body": "<a id='comment:81'></a>\nNew commits:\n|                                                                                                                                          |                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------|\n|[382926c](https://git.sagemath.org/sage.git/commit?id=382926c5cabb572bf912de7ce1137f07d5cc42eb)|`Fix unused variable`|",
    "created_at": "2022-10-15T14:05:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682459",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:81'></a>
New commits:
|                                                                                                                                          |                     |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------|
|[382926c](https://git.sagemath.org/sage.git/commit?id=382926c5cabb572bf912de7ce1137f07d5cc42eb)|`Fix unused variable`|



---

archive/issue_comments_682460.json:
```json
{
    "body": "Changing branch from \"u/tscrim/diagrams-34260\" to \"u/tkarn/diagrams-34260\"",
    "created_at": "2022-10-15T14:05:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682460",
    "user": "https://github.com/trevorkarn"
}
```

Changing branch from "u/tscrim/diagrams-34260" to "u/tkarn/diagrams-34260"



---

archive/issue_comments_682461.json:
```json
{
    "body": "<a id='comment:82'></a>\nAll the tests pass on my end - I'll wait for patchbot.",
    "created_at": "2022-10-15T14:08:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682461",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:82'></a>
All the tests pass on my end - I'll wait for patchbot.



---

archive/issue_comments_682462.json:
```json
{
    "body": "<a id='comment:83'></a>\nGreen bot.",
    "created_at": "2022-10-16T04:33:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682462",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:83'></a>
Green bot.



---

archive/issue_comments_682463.json:
```json
{
    "body": "<a id='comment:84'></a>\nso what is this now waiting for ?",
    "created_at": "2022-10-27T14:09:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682463",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:84'></a>
so what is this now waiting for ?



---

archive/issue_comments_682464.json:
```json
{
    "body": "<a id='comment:85'></a>\nNothing. Thanks Fr\u00e9d\u00e9ric",
    "created_at": "2022-10-27T15:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682464",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:85'></a>
Nothing. Thanks Frdric



---

archive/issue_comments_682465.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-10-27T15:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682465",
    "user": "https://github.com/trevorkarn"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_682466.json:
```json
{
    "body": "Changing branch from \"u/tkarn/diagrams-34260\" to \"382926c5cabb572bf912de7ce1137f07d5cc42eb\"",
    "created_at": "2022-11-07T20:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682466",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/tkarn/diagrams-34260" to "382926c5cabb572bf912de7ce1137f07d5cc42eb"



---

archive/issue_comments_682467.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-11-07T20:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34260#issuecomment-682467",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_089302.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-11-07T20:26:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34260",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34260#event-89302"
}
```
