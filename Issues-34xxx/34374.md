# Issue 34374: Use cantor_product for Cartesian products of infinite enumerated sets

archive/issues_034137.json:
```json
{
    "assignees": [],
    "body": "(split out from #19195)\n\nCC:  @tscrim @yyyyx4 @videlec @jhpalmieri\n\nBranch/Commit: **[`a20341e`](https://github.com/sagemath/sagetrac-mirror/commit/a20341ef50cd8fa46e08a3ebe38e3f2d40a1c492)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34374_\n\n",
    "closed_at": "2022-08-30T19:05:16Z",
    "created_at": "2022-08-16T18:25:56Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Use cantor_product for Cartesian products of infinite enumerated sets",
    "type": "issue",
    "updated_at": "2022-08-30T19:05:16Z",
    "url": "https://github.com/sagemath/sage/issues/34374",
    "user": "https://github.com/mkoeppe"
}
```
(split out from #19195)

CC:  @tscrim @yyyyx4 @videlec @jhpalmieri

Branch/Commit: **[`a20341e`](https://github.com/sagemath/sagetrac-mirror/commit/a20341ef50cd8fa46e08a3ebe38e3f2d40a1c492)**

Reviewer: **Travis Scrimshaw**

Author: **Matthias Koeppe**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/34374_





---

archive/issue_events_466309.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-16T18:25:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34374#event-466309"
}
```



---

archive/issue_events_466310.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-16T18:25:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34374#event-466310"
}
```



---

archive/issue_events_466311.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-16T18:25:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34374#event-466311"
}
```



---

archive/issue_events_466312.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-16T18:25:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34374#event-466312"
}
```



---

archive/issue_comments_554922.json:
```json
{
    "body": "Branch: **[u/mkoeppe/use_cantor_product_for_cartesian_products_of_infinite_enumerated_sets](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/use_cantor_product_for_cartesian_products_of_infinite_enumerated_sets)**",
    "created_at": "2022-08-16T18:49:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34374#issuecomment-554922",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/use_cantor_product_for_cartesian_products_of_infinite_enumerated_sets](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/use_cantor_product_for_cartesian_products_of_infinite_enumerated_sets)**



---

archive/issue_events_466313.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-16T18:50:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34374#event-466313"
}
```



---

archive/issue_comments_554923.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2022-08-16T18:50:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34374#issuecomment-554923",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_554924.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2edbdbaf6548fb4416664ac624b092ac23e52212\"><code>2edbdba</code></a></td><td><code>Sets.CartesianProducts.ParentMethods.__iter__: Use cantor_product if factors other than first are infinite</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8890f1eede8d00eb29a7825eac005c9b68be3714\"><code>8890f1e</code></a></td><td><code>src/sage/categories/sets_cat.py: Update documentation - cantor_product refines with revlex</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a20341ef50cd8fa46e08a3ebe38e3f2d40a1c492\"><code>a20341e</code></a></td><td><code>src/sage/categories/sets_cat.py: Rephrase cartesian product docstring</code></td></tr></table>\n",
    "created_at": "2022-08-16T18:50:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34374#issuecomment-554924",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2edbdbaf6548fb4416664ac624b092ac23e52212"><code>2edbdba</code></a></td><td><code>Sets.CartesianProducts.ParentMethods.__iter__: Use cantor_product if factors other than first are infinite</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8890f1eede8d00eb29a7825eac005c9b68be3714"><code>8890f1e</code></a></td><td><code>src/sage/categories/sets_cat.py: Update documentation - cantor_product refines with revlex</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a20341ef50cd8fa46e08a3ebe38e3f2d40a1c492"><code>a20341e</code></a></td><td><code>src/sage/categories/sets_cat.py: Rephrase cartesian product docstring</code></td></tr></table>




---

archive/issue_comments_554925.json:
```json
{
    "body": "Commit: **[`a20341e`](https://github.com/sagemath/sagetrac-mirror/commit/a20341ef50cd8fa46e08a3ebe38e3f2d40a1c492)**",
    "created_at": "2022-08-16T18:50:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34374#issuecomment-554925",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`a20341e`](https://github.com/sagemath/sagetrac-mirror/commit/a20341ef50cd8fa46e08a3ebe38e3f2d40a1c492)**



---

archive/issue_comments_554926.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThe behavior of `for x in iter(cartesian_product([RR, RR])): print(x)` has changed with this ticket, I think in an improvement. Old version:\n\n```\nsage: for x in iter(cartesian_product([RR, RR])): print(x)\n/Users/jpalmier/Desktop/Sage/git/sage/src/sage/categories/sets_cat.py:2300: UserWarning: Sage is not able to determine whether the factors of this Cartesian product are finite. The lexicographic ordering might not go through all elements.\n  warn(\"Sage is not able to determine whether the factors of \"\n---------------------------------------------------------------------------\nNotImplementedError                       Traceback (most recent call last)\nInput In [1], in <cell line: 1>()\n----> 1 for x in iter(cartesian_product([RR, RR])): print(x)\n...\nNotImplementedError: object does not support iteration\n```\nNew version:\n\n```\nsage: for x in iter(cartesian_product([RR, RR])): print(x)\n---------------------------------------------------------------------------\nNotImplementedError                       Traceback (most recent call last)\nInput In [1], in <cell line: 1>()\n----> 1 for x in iter(cartesian_product([RR, RR])): print(x)\n...\nNotImplementedError: object does not support iteration\n```",
    "created_at": "2022-08-16T21:07:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34374#issuecomment-554926",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:3" align="right">comment:3</div>

The behavior of `for x in iter(cartesian_product([RR, RR])): print(x)` has changed with this ticket, I think in an improvement. Old version:

```
sage: for x in iter(cartesian_product([RR, RR])): print(x)
/Users/jpalmier/Desktop/Sage/git/sage/src/sage/categories/sets_cat.py:2300: UserWarning: Sage is not able to determine whether the factors of this Cartesian product are finite. The lexicographic ordering might not go through all elements.
  warn("Sage is not able to determine whether the factors of "
---------------------------------------------------------------------------
NotImplementedError                       Traceback (most recent call last)
Input In [1], in <cell line: 1>()
----> 1 for x in iter(cartesian_product([RR, RR])): print(x)
...
NotImplementedError: object does not support iteration
```
New version:

```
sage: for x in iter(cartesian_product([RR, RR])): print(x)
---------------------------------------------------------------------------
NotImplementedError                       Traceback (most recent call last)
Input In [1], in <cell line: 1>()
----> 1 for x in iter(cartesian_product([RR, RR])): print(x)
...
NotImplementedError: object does not support iteration
```



---

archive/issue_comments_554927.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2022-08-17T00:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34374#issuecomment-554927",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_466314.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-17T00:08:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34374#event-466314"
}
```



---

archive/issue_events_466315.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-17T00:08:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34374#event-466315"
}
```



---

archive/issue_comments_554928.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nLGTM.",
    "created_at": "2022-08-17T00:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34374#issuecomment-554928",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">comment:4</div>

LGTM.



---

archive/issue_comments_554929.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThanks!",
    "created_at": "2022-08-17T00:14:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34374#issuecomment-554929",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Thanks!



---

archive/issue_events_466316.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-30T19:05:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34374#event-466316"
}
```



---

archive/issue_events_466317.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f84d7a4402dd673e94d7faffaea6884d7564f372",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-08-30T19:05:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34374#event-466317"
}
```



---

archive/issue_comments_554930.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/use_cantor_product_for_cartesian_products_of_infinite_enumerated_sets](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/use_cantor_product_for_cartesian_products_of_infinite_enumerated_sets)** to **[`a20341e`](https://github.com/sagemath/sagetrac-mirror/commit/a20341ef50cd8fa46e08a3ebe38e3f2d40a1c492)**",
    "created_at": "2022-08-30T19:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34374#issuecomment-554930",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/use_cantor_product_for_cartesian_products_of_infinite_enumerated_sets](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/use_cantor_product_for_cartesian_products_of_infinite_enumerated_sets)** to **[`a20341e`](https://github.com/sagemath/sagetrac-mirror/commit/a20341ef50cd8fa46e08a3ebe38e3f2d40a1c492)**
