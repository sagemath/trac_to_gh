# Issue 34340: Categories for Family

archive/issues_034103.json:
```json
{
    "assignees": [],
    "body": "Currently a `LazyFamily` is automatically in `EnumeratedSets`, so at most countable.\n\nWe add keyword `category` to the constructor `Family` and all implementation classes, so that the user can choose the correct category.\n\nMoreover, we define a (non-full) subcategory of `Sets` named `Families`, which captures the additional structure (= the map from the keys onto the parent).\n\nFollow-ups / related:\n- If the `function` from indices to objects is a morphism, then the category can be taken from the codomain.\n- #18849 category of lazy family wrong if infinite combinatorial class used as index\n- #8822 Bug in Family constructor\n\n\nDepends on #34375\n\nCC:  @tscrim\n\nBranch/Commit: **[u/mkoeppe/lazyfamily__accept_category_keyword](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lazyfamily__accept_category_keyword) @ [192483d](https://github.com/sagemath/sagetrac-mirror/commit/192483dbcb90387c5f23ca385cf78b80e2be45cf)**\n\nWork Issues: **Add method \"as_map\"**\n\nAuthor: **Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34340_\n\n",
    "created_at": "2022-08-11T04:16:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Categories for Family",
    "type": "issue",
    "updated_at": "2023-01-03T21:48:18Z",
    "url": "https://github.com/sagemath/sage/issues/34340",
    "user": "https://github.com/mkoeppe"
}
```
Currently a `LazyFamily` is automatically in `EnumeratedSets`, so at most countable.

We add keyword `category` to the constructor `Family` and all implementation classes, so that the user can choose the correct category.

Moreover, we define a (non-full) subcategory of `Sets` named `Families`, which captures the additional structure (= the map from the keys onto the parent).

Follow-ups / related:
- If the `function` from indices to objects is a morphism, then the category can be taken from the codomain.
- #18849 category of lazy family wrong if infinite combinatorial class used as index
- #8822 Bug in Family constructor


Depends on #34375

CC:  @tscrim

Branch/Commit: **[u/mkoeppe/lazyfamily__accept_category_keyword](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lazyfamily__accept_category_keyword) @ [192483d](https://github.com/sagemath/sagetrac-mirror/commit/192483dbcb90387c5f23ca385cf78b80e2be45cf)**

Work Issues: **Add method "as_map"**

Author: **Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/34340_





---

archive/issue_events_436379.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-11T04:16:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34340#event-436379"
}
```



---

archive/issue_events_436380.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-11T04:16:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34340#event-436380"
}
```



---

archive/issue_events_436381.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-11T04:16:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34340#event-436381"
}
```



---

archive/issue_events_436382.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-11T04:16:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34340#event-436382"
}
```



---

archive/issue_comments_557422.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n Currently a `LazyFamily` is in `EnumeratedSets`, so at most countable.\n \n+We add keyword `category` to `LazyFamily` (and the constructor `Family`) so that the user can choose the correct category.\n \n+Also, if the `function` from indices to objects is a morphism, then the category can be taken from the codomain.\n \n``````\n",
    "created_at": "2022-08-11T22:46:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557422",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 Currently a `LazyFamily` is in `EnumeratedSets`, so at most countable.
 
+We add keyword `category` to `LazyFamily` (and the constructor `Family`) so that the user can choose the correct category.
 
+Also, if the `function` from indices to objects is a morphism, then the category can be taken from the codomain.
 
``````




---

archive/issue_comments_557423.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,4 @@\n \n Also, if the `function` from indices to objects is a morphism, then the category can be taken from the codomain.\n \n+In fact, a `LazyFamily` is the same as an `ImageSubobject`. We unify these two concepts\n``````\n",
    "created_at": "2022-08-11T23:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557423",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,4 @@
 
 Also, if the `function` from indices to objects is a morphism, then the category can be taken from the codomain.
 
+In fact, a `LazyFamily` is the same as an `ImageSubobject`. We unify these two concepts
``````




---

archive/issue_comments_557424.json:
```json
{
    "body": "Branch: **[u/mkoeppe/lazyfamily__accept_category_keyword](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lazyfamily__accept_category_keyword)**",
    "created_at": "2022-08-11T23:25:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557424",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/lazyfamily__accept_category_keyword](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lazyfamily__accept_category_keyword)**



---

archive/issue_comments_557425.json:
```json
{
    "body": "Commit: **[6de0424](https://github.com/sagemath/sagetrac-mirror/commit/6de04244da136633df8c51f24df5744b9245a398)**",
    "created_at": "2022-08-14T22:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557425",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[6de0424](https://github.com/sagemath/sagetrac-mirror/commit/6de04244da136633df8c51f24df5744b9245a398)**



---

archive/issue_comments_557426.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,4 @@\n \n Also, if the `function` from indices to objects is a morphism, then the category can be taken from the codomain.\n \n-In fact, a `LazyFamily` is the same as an `ImageSubobject`. We unify these two concepts\n+In fact, a `LazyFamily` is very similar to an `ImageSubobject`. We unify these two concepts\n``````\n",
    "created_at": "2022-08-14T22:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557426",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,4 @@
 
 Also, if the `function` from indices to objects is a morphism, then the category can be taken from the codomain.
 
-In fact, a `LazyFamily` is the same as an `ImageSubobject`. We unify these two concepts
+In fact, a `LazyFamily` is very similar to an `ImageSubobject`. We unify these two concepts
``````




---

archive/issue_comments_557427.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6de04244da136633df8c51f24df5744b9245a398\">6de0424</a></td><td><code>Family: Pass keyword 'category' through to implementation classes</code></td></tr></table>\n",
    "created_at": "2022-08-14T22:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557427",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'>Comment 4:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6de04244da136633df8c51f24df5744b9245a398">6de0424</a></td><td><code>Family: Pass keyword 'category' through to implementation classes</code></td></tr></table>




---

archive/issue_comments_557428.json:
```json
{
    "body": "Changed commit from **[6de0424](https://github.com/sagemath/sagetrac-mirror/commit/6de04244da136633df8c51f24df5744b9245a398)** to **[5809547](https://github.com/sagemath/sagetrac-mirror/commit/58095473e83566721ba7c43d7fb3b3b2d828cfa2)**",
    "created_at": "2022-08-14T23:49:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557428",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6de0424](https://github.com/sagemath/sagetrac-mirror/commit/6de04244da136633df8c51f24df5744b9245a398)** to **[5809547](https://github.com/sagemath/sagetrac-mirror/commit/58095473e83566721ba7c43d7fb3b3b2d828cfa2)**



---

archive/issue_comments_557429.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58095473e83566721ba7c43d7fb3b3b2d828cfa2\">5809547</a></td><td><code>src/sage/sets/family.py: Expand doc, clarify relationship to collections.abc and the Sets() category</code></td></tr></table>\n",
    "created_at": "2022-08-14T23:49:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557429",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58095473e83566721ba7c43d7fb3b3b2d828cfa2">5809547</a></td><td><code>src/sage/sets/family.py: Expand doc, clarify relationship to collections.abc and the Sets() category</code></td></tr></table>




---

archive/issue_comments_557430.json:
```json
{
    "body": "Changed commit from **[5809547](https://github.com/sagemath/sagetrac-mirror/commit/58095473e83566721ba7c43d7fb3b3b2d828cfa2)** to **[18937bb](https://github.com/sagemath/sagetrac-mirror/commit/18937bbefbeeef51ed47d1e99e8923b3d907b498)**",
    "created_at": "2022-08-15T03:04:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557430",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5809547](https://github.com/sagemath/sagetrac-mirror/commit/58095473e83566721ba7c43d7fb3b3b2d828cfa2)** to **[18937bb](https://github.com/sagemath/sagetrac-mirror/commit/18937bbefbeeef51ed47d1e99e8923b3d907b498)**



---

archive/issue_comments_557431.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18937bbefbeeef51ed47d1e99e8923b3d907b498\">18937bb</a></td><td><code>src/sage/sets/family.py: Accept init arg 'category' in Family implementation classes</code></td></tr></table>\n",
    "created_at": "2022-08-15T03:04:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557431",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18937bbefbeeef51ed47d1e99e8923b3d907b498">18937bb</a></td><td><code>src/sage/sets/family.py: Accept init arg 'category' in Family implementation classes</code></td></tr></table>




---

archive/issue_comments_557432.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96dd8caaff1ffc1135a675101e4b3e74024314bc\">96dd8ca</a></td><td><code>src/sage/sets/family.py: Update copyright according to git blame -w --date=format:%Y FILE | sort -k2</code></td></tr></table>\n",
    "created_at": "2022-08-15T03:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557432",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>Comment 7:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96dd8caaff1ffc1135a675101e4b3e74024314bc">96dd8ca</a></td><td><code>src/sage/sets/family.py: Update copyright according to git blame -w --date=format:%Y FILE | sort -k2</code></td></tr></table>




---

archive/issue_comments_557433.json:
```json
{
    "body": "Changed commit from **[18937bb](https://github.com/sagemath/sagetrac-mirror/commit/18937bbefbeeef51ed47d1e99e8923b3d907b498)** to **[96dd8ca](https://github.com/sagemath/sagetrac-mirror/commit/96dd8caaff1ffc1135a675101e4b3e74024314bc)**",
    "created_at": "2022-08-15T03:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557433",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[18937bb](https://github.com/sagemath/sagetrac-mirror/commit/18937bbefbeeef51ed47d1e99e8923b3d907b498)** to **[96dd8ca](https://github.com/sagemath/sagetrac-mirror/commit/96dd8caaff1ffc1135a675101e4b3e74024314bc)**



---

archive/issue_comments_557434.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9efef62e054a1af4185798eb721123c516605abf\">9efef62</a></td><td><code>src/sage/sets/family.py: Improve some docstring markup</code></td></tr></table>\n",
    "created_at": "2022-08-15T03:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557434",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9efef62e054a1af4185798eb721123c516605abf">9efef62</a></td><td><code>src/sage/sets/family.py: Improve some docstring markup</code></td></tr></table>




---

archive/issue_comments_557435.json:
```json
{
    "body": "Changed commit from **[96dd8ca](https://github.com/sagemath/sagetrac-mirror/commit/96dd8caaff1ffc1135a675101e4b3e74024314bc)** to **[9efef62](https://github.com/sagemath/sagetrac-mirror/commit/9efef62e054a1af4185798eb721123c516605abf)**",
    "created_at": "2022-08-15T03:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557435",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[96dd8ca](https://github.com/sagemath/sagetrac-mirror/commit/96dd8caaff1ffc1135a675101e4b3e74024314bc)** to **[9efef62](https://github.com/sagemath/sagetrac-mirror/commit/9efef62e054a1af4185798eb721123c516605abf)**



---

archive/issue_events_436383.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-15T03:23:20Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "title_is": "Family: Accept category keyword",
    "title_was": "LazyFamily: Accept category keyword",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34340#event-436383"
}
```



---

archive/issue_comments_557436.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,8 @@\n Currently a `LazyFamily` is in `EnumeratedSets`, so at most countable.\n \n-We add keyword `category` to `LazyFamily` (and the constructor `Family`) so that the user can choose the correct category.\n+We add keyword `category` to the constructor `Family` and all implementation classes, so that the user can choose the correct category.\n \n Also, if the `function` from indices to objects is a morphism, then the category can be taken from the codomain.\n \n In fact, a `LazyFamily` is very similar to an `ImageSubobject`. We unify these two concepts\n+\n``````\n",
    "created_at": "2022-08-15T03:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557436",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,8 @@
 Currently a `LazyFamily` is in `EnumeratedSets`, so at most countable.
 
-We add keyword `category` to `LazyFamily` (and the constructor `Family`) so that the user can choose the correct category.
+We add keyword `category` to the constructor `Family` and all implementation classes, so that the user can choose the correct category.
 
 Also, if the `function` from indices to objects is a morphism, then the category can be taken from the codomain.
 
 In fact, a `LazyFamily` is very similar to an `ImageSubobject`. We unify these two concepts
+
``````




---

archive/issue_comments_557437.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2022-08-15T03:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557437",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_557438.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdfb2dbaa92829e823dc79a6951642ad25c9dcd3\">cdfb2db</a></td><td><code>src/sage/sets/family.py: Add example with an uncountable index set</code></td></tr></table>\n",
    "created_at": "2022-08-15T03:43:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557438",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdfb2dbaa92829e823dc79a6951642ad25c9dcd3">cdfb2db</a></td><td><code>src/sage/sets/family.py: Add example with an uncountable index set</code></td></tr></table>




---

archive/issue_comments_557439.json:
```json
{
    "body": "Changed commit from **[9efef62](https://github.com/sagemath/sagetrac-mirror/commit/9efef62e054a1af4185798eb721123c516605abf)** to **[cdfb2db](https://github.com/sagemath/sagetrac-mirror/commit/cdfb2dbaa92829e823dc79a6951642ad25c9dcd3)**",
    "created_at": "2022-08-15T03:43:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557439",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9efef62](https://github.com/sagemath/sagetrac-mirror/commit/9efef62e054a1af4185798eb721123c516605abf)** to **[cdfb2db](https://github.com/sagemath/sagetrac-mirror/commit/cdfb2dbaa92829e823dc79a6951642ad25c9dcd3)**



---

archive/issue_comments_557440.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-Currently a `LazyFamily` is in `EnumeratedSets`, so at most countable.\n+Currently a `LazyFamily` is automatically in `EnumeratedSets`, so at most countable.\n \n We add keyword `category` to the constructor `Family` and all implementation classes, so that the user can choose the correct category.\n \n-Also, if the `function` from indices to objects is a morphism, then the category can be taken from the codomain.\n+Follow-ups:\n+- If the `function` from indices to objects is a morphism, then the category can be taken from the codomain.\n+- We can implement `LazyFamily.values()` to return an  `ImageSubobject`. \n \n-In fact, a `LazyFamily` is very similar to an `ImageSubobject`. We unify these two concepts\n-\n``````\n",
    "created_at": "2022-08-15T03:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557440",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-Currently a `LazyFamily` is in `EnumeratedSets`, so at most countable.
+Currently a `LazyFamily` is automatically in `EnumeratedSets`, so at most countable.
 
 We add keyword `category` to the constructor `Family` and all implementation classes, so that the user can choose the correct category.
 
-Also, if the `function` from indices to objects is a morphism, then the category can be taken from the codomain.
+Follow-ups:
+- If the `function` from indices to objects is a morphism, then the category can be taken from the codomain.
+- We can implement `LazyFamily.values()` to return an  `ImageSubobject`. 
 
-In fact, a `LazyFamily` is very similar to an `ImageSubobject`. We unify these two concepts
-
``````




---

archive/issue_events_436384.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-15T03:48:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34340#event-436384"
}
```



---

archive/issue_comments_557441.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nThe main part of your changes LGTM, it is good to have this extra flexibility. I just have some issues with the docstring you changed.\n\nFor the first paragraph, I am not a fan of giving implementation details to the more casual user in the docstring. If they care about such details, then they almost certainly are already looking at the code. I know it was there previously, but now it has been given more prominence. So I think the first paragraph about the function being a factory should go last (although I really would like to remove it altogether).\n\nThe second paragraph is good (I am not counting the one-line description as a paragraph).\n\nI don't really understand the third paragraph, even what you are trying to  say. My thought is that it will be far too technical and likely should be removed. Although it would be worthwhile to state that iterating through the object returns the values rather than the keys.\n\nI don't understand the second part of the fourth paragraph. I think I know what you are trying to say, but that is not anything that belongs in this documentation. It seems like a code comment for within the category. I don't think the first sentence is even necessary (this is true for nearly every object in Sage).\n\nI would change `.. NOTE::` -> `.. WARNING::`.",
    "created_at": "2022-08-15T04:57:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557441",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'>Comment 14:</a>
The main part of your changes LGTM, it is good to have this extra flexibility. I just have some issues with the docstring you changed.

For the first paragraph, I am not a fan of giving implementation details to the more casual user in the docstring. If they care about such details, then they almost certainly are already looking at the code. I know it was there previously, but now it has been given more prominence. So I think the first paragraph about the function being a factory should go last (although I really would like to remove it altogether).

The second paragraph is good (I am not counting the one-line description as a paragraph).

I don't really understand the third paragraph, even what you are trying to  say. My thought is that it will be far too technical and likely should be removed. Although it would be worthwhile to state that iterating through the object returns the values rather than the keys.

I don't understand the second part of the fourth paragraph. I think I know what you are trying to say, but that is not anything that belongs in this documentation. It seems like a code comment for within the category. I don't think the first sentence is even necessary (this is true for nearly every object in Sage).

I would change `.. NOTE::` -> `.. WARNING::`.



---

archive/issue_comments_557442.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nIt boils down to this: When the function is not injective, there is a subtle conflict between methods such as `__len__` according to the `collections.abc` and `cardinality` from `Sets.ParentMethods`. Arguably, `__len__` should return the number of keys, whereas `cardinality` definitely must return the cardinality of the set (values)",
    "created_at": "2022-08-15T05:13:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557442",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'>Comment 15:</a>
It boils down to this: When the function is not injective, there is a subtle conflict between methods such as `__len__` according to the `collections.abc` and `cardinality` from `Sets.ParentMethods`. Arguably, `__len__` should return the number of keys, whereas `cardinality` definitely must return the cardinality of the set (values)



---

archive/issue_comments_557443.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5fa0915d9f78cbed365c920d2160e1640f647ffb\">5fa0915</a></td><td><code>src/sage/sets/family.py: NOTE -> WARNING, talk about factory later</code></td></tr></table>\n",
    "created_at": "2022-08-15T05:15:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557443",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5fa0915d9f78cbed365c920d2160e1640f647ffb">5fa0915</a></td><td><code>src/sage/sets/family.py: NOTE -> WARNING, talk about factory later</code></td></tr></table>




---

archive/issue_comments_557444.json:
```json
{
    "body": "Changed commit from **[cdfb2db](https://github.com/sagemath/sagetrac-mirror/commit/cdfb2dbaa92829e823dc79a6951642ad25c9dcd3)** to **[5fa0915](https://github.com/sagemath/sagetrac-mirror/commit/5fa0915d9f78cbed365c920d2160e1640f647ffb)**",
    "created_at": "2022-08-15T05:15:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557444",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cdfb2db](https://github.com/sagemath/sagetrac-mirror/commit/cdfb2dbaa92829e823dc79a6951642ad25c9dcd3)** to **[5fa0915](https://github.com/sagemath/sagetrac-mirror/commit/5fa0915d9f78cbed365c920d2160e1640f647ffb)**



---

archive/issue_comments_557445.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nUnfortunately I don't see how that is in the documentation (beyond the `.. WARNING::`; also <code>\\`__iter__\\`</code> -> <code>\\`\\`__iter__\\`\\`</code> in there). Nor does that seem to be true that is is `values()`:\n\n```\nsage: F = Family([1,1,1])\nsage: F\nFamily (1, 1, 1)\nsage: F.cardinality()\n3\n```\nThe `__len__` also redirects from `cardinality()` by default (from the category). Or perhaps that is your point, that it is different than what you would expect as a set (of values). Since this is a mapping, it is a set of pairs `(k, v)`, so the cardinality for me is consistent.",
    "created_at": "2022-08-15T05:33:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557445",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:17'>Comment 17:</a>
Unfortunately I don't see how that is in the documentation (beyond the `.. WARNING::`; also <code>\`__iter__\`</code> -> <code>\`\`__iter__\`\`</code> in there). Nor does that seem to be true that is is `values()`:

```
sage: F = Family([1,1,1])
sage: F
Family (1, 1, 1)
sage: F.cardinality()
3
```
The `__len__` also redirects from `cardinality()` by default (from the category). Or perhaps that is your point, that it is different than what you would expect as a set (of values). Since this is a mapping, it is a set of pairs `(k, v)`, so the cardinality for me is consistent.



---

archive/issue_comments_557446.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nReplying to [@tscrim](#comment%3A17):\n> The `__len__` also redirects from `cardinality()` by default (from the category). Or perhaps that is your point, that it is different than what you would expect as a set (of values). Since this is a mapping, it is a set of pairs `(k, v)`, so the cardinality for me is consistent.\n\nBut the elements according to other methods of the `Sets` protocol are not `(k, v)`; they are `v`.",
    "created_at": "2022-08-15T05:37:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557446",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'>Comment 18:</a>
Replying to [@tscrim](#comment%3A17):
> The `__len__` also redirects from `cardinality()` by default (from the category). Or perhaps that is your point, that it is different than what you would expect as a set (of values). Since this is a mapping, it is a set of pairs `(k, v)`, so the cardinality for me is consistent.

But the elements according to other methods of the `Sets` protocol are not `(k, v)`; they are `v`.



---

archive/issue_comments_557447.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6814975c7b285152f59998b1d254e346a75716c\">d681497</a></td><td><code>src/sage/sets/family.py: Fix markup</code></td></tr></table>\n",
    "created_at": "2022-08-15T05:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557447",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6814975c7b285152f59998b1d254e346a75716c">d681497</a></td><td><code>src/sage/sets/family.py: Fix markup</code></td></tr></table>




---

archive/issue_comments_557448.json:
```json
{
    "body": "Changed commit from **[5fa0915](https://github.com/sagemath/sagetrac-mirror/commit/5fa0915d9f78cbed365c920d2160e1640f647ffb)** to **[d681497](https://github.com/sagemath/sagetrac-mirror/commit/d6814975c7b285152f59998b1d254e346a75716c)**",
    "created_at": "2022-08-15T05:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557448",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5fa0915](https://github.com/sagemath/sagetrac-mirror/commit/5fa0915d9f78cbed365c920d2160e1640f647ffb)** to **[d681497](https://github.com/sagemath/sagetrac-mirror/commit/d6814975c7b285152f59998b1d254e346a75716c)**



---

archive/issue_comments_557449.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nReplying to [@tscrim](#comment%3A17):\n> Unfortunately I don't see how that is in the documentation \n\nYes, `__len__` is not explained there yet because it's still unclear.",
    "created_at": "2022-08-15T05:42:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557449",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'>Comment 20:</a>
Replying to [@tscrim](#comment%3A17):
> Unfortunately I don't see how that is in the documentation 

Yes, `__len__` is not explained there yet because it's still unclear.



---

archive/issue_comments_557450.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReplying to [@tscrim](#comment%3A17):\n> Nor does that seem to be true that is is `values()`:\n> \n> ```\n> sage: F = Family([1,1,1])\n> sage: F\n> Family (1, 1, 1)\n> sage: F.cardinality()\n> 3\n> ```\n\nYes, that's wrong, and that's why I added the warning.",
    "created_at": "2022-08-15T05:45:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557450",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'>Comment 21:</a>
Replying to [@tscrim](#comment%3A17):
> Nor does that seem to be true that is is `values()`:
> 
> ```
> sage: F = Family([1,1,1])
> sage: F
> Family (1, 1, 1)
> sage: F.cardinality()
> 3
> ```

Yes, that's wrong, and that's why I added the warning.



---

archive/issue_comments_557451.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nReplying to [@mkoeppe](#comment%3A18):\n> Replying to [@tscrim](#comment%3A17):\n> > The `__len__` also redirects from `cardinality()` by default (from the category). Or perhaps that is your point, that it is different than what you would expect as a set (of values). Since this is a mapping, it is a set of pairs `(k, v)`, so the cardinality for me is consistent.\n\n> \n> But the elements according to other methods of the `Sets` protocol are not `(k, v)`; they are `v`.\n\nOkay, I think I understand better what you want to say. I think you can say the same thing as\n\n```\nNote that for most set operations, this is considered as the set\nof values; for instance, containment. There are some it is considered\nas a map, such as its cardinality.\n```",
    "created_at": "2022-08-15T05:49:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557451",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'>Comment 22:</a>
Replying to [@mkoeppe](#comment%3A18):
> Replying to [@tscrim](#comment%3A17):
> > The `__len__` also redirects from `cardinality()` by default (from the category). Or perhaps that is your point, that it is different than what you would expect as a set (of values). Since this is a mapping, it is a set of pairs `(k, v)`, so the cardinality for me is consistent.

> 
> But the elements according to other methods of the `Sets` protocol are not `(k, v)`; they are `v`.

Okay, I think I understand better what you want to say. I think you can say the same thing as

```
Note that for most set operations, this is considered as the set
of values; for instance, containment. There are some it is considered
as a map, such as its cardinality.
```



---

archive/issue_comments_557452.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nStrong -1 on giving `cardinality` semantics that differs from what the category guarantees",
    "created_at": "2022-08-15T05:50:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557452",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'>Comment 23:</a>
Strong -1 on giving `cardinality` semantics that differs from what the category guarantees



---

archive/issue_comments_557453.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nReplying to [@mkoeppe](#comment%3A21):\n> Replying to [@tscrim](#comment%3A17):\n> > Nor does that seem to be true that is is `values()`:\n> > \n> > ```\n> > sage: F = Family([1,1,1])\n> > sage: F\n> > Family (1, 1, 1)\n> > sage: F.cardinality()\n> > 3\n> > ```\n\n> \n> Yes, that's wrong, and that's why I added the warning.\n\nMy point is that it is not wrong, but the implementation, mainly iteration, is just over the values. That is an implementation detail that is separate from its mathematical definition (nor do I think we should ascribe mathematical definitions to all implementations).",
    "created_at": "2022-08-15T05:51:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557453",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:24'>Comment 24:</a>
Replying to [@mkoeppe](#comment%3A21):
> Replying to [@tscrim](#comment%3A17):
> > Nor does that seem to be true that is is `values()`:
> > 
> > ```
> > sage: F = Family([1,1,1])
> > sage: F
> > Family (1, 1, 1)
> > sage: F.cardinality()
> > 3
> > ```

> 
> Yes, that's wrong, and that's why I added the warning.

My point is that it is not wrong, but the implementation, mainly iteration, is just over the values. That is an implementation detail that is separate from its mathematical definition (nor do I think we should ascribe mathematical definitions to all implementations).



---

archive/issue_comments_557454.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nThis makes no sense. `cardinality` is mathematical cardinality. We define it for this purpose. This method is not part of Python semantics, so it does not have to be compatible with it",
    "created_at": "2022-08-15T05:52:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557454",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'>Comment 25:</a>
This makes no sense. `cardinality` is mathematical cardinality. We define it for this purpose. This method is not part of Python semantics, so it does not have to be compatible with it



---

archive/issue_comments_557455.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nReplying to [@mkoeppe](#comment%3A23):\n> Strong -1 on giving `cardinality` semantics that differs from what the category guarantees\n\nBut it does not differ here. Strictly speaking, it is not a set of values, but a function. We have just chosen the iteration to be over the values as that is what is most convenient for a lot of code.",
    "created_at": "2022-08-15T05:53:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557455",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:26'>Comment 26:</a>
Replying to [@mkoeppe](#comment%3A23):
> Strong -1 on giving `cardinality` semantics that differs from what the category guarantees

But it does not differ here. Strictly speaking, it is not a set of values, but a function. We have just chosen the iteration to be over the values as that is what is most convenient for a lot of code.



---

archive/issue_comments_557456.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nIf it is a function, what are the elements?",
    "created_at": "2022-08-15T05:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557456",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'>Comment 27:</a>
If it is a function, what are the elements?



---

archive/issue_comments_557457.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nNote also that the documentation uses round brackets `()`, not squiggly `{}` for defining a family, which makes it a sequence (wrt some fixed total order on the index set).",
    "created_at": "2022-08-15T05:55:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557457",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'>Comment 28:</a>
Note also that the documentation uses round brackets `()`, not squiggly `{}` for defining a family, which makes it a sequence (wrt some fixed total order on the index set).



---

archive/issue_comments_557458.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nA function `f(u) = v` is a set of pairs `{(u, v)}`.",
    "created_at": "2022-08-15T05:55:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557458",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:29'>Comment 29:</a>
A function `f(u) = v` is a set of pairs `{(u, v)}`.



---

archive/issue_comments_557459.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nBut `(u,v)` is not an element of the family in the sense of `__contains__` (which is a method of the `Sets().ParentMethods()` protocol): `(u,v) in f` will give `False`. `v in f` gives `True`.",
    "created_at": "2022-08-15T05:57:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557459",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'>Comment 30:</a>
But `(u,v)` is not an element of the family in the sense of `__contains__` (which is a method of the `Sets().ParentMethods()` protocol): `(u,v) in f` will give `False`. `v in f` gives `True`.



---

archive/issue_comments_557460.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nYes, you are correct that it is breaking the usual semantics of a set with the containment. However this is extremely convenient to have and we have (many) other programming models for when we want everything to confirm. Furthermore, what would you consider a sequence to be? Is it not a set? What is its cardinality?",
    "created_at": "2022-08-15T06:01:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557460",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:31'>Comment 31:</a>
Yes, you are correct that it is breaking the usual semantics of a set with the containment. However this is extremely convenient to have and we have (many) other programming models for when we want everything to confirm. Furthermore, what would you consider a sequence to be? Is it not a set? What is its cardinality?



---

archive/issue_comments_557461.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nReplying to [@tscrim](#comment%3A31):\n> Yes, you are correct that it is breaking the usual semantics of a set with the containment.\n\nNo, it just means that the interpretation that a Family \"is\" a function makes no sense.",
    "created_at": "2022-08-15T06:02:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557461",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'>Comment 32:</a>
Replying to [@tscrim](#comment%3A31):
> Yes, you are correct that it is breaking the usual semantics of a set with the containment.

No, it just means that the interpretation that a Family "is" a function makes no sense.



---

archive/issue_comments_557462.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nA `Sequence` in Sage is not a Parent, so none of this reasoning applies.",
    "created_at": "2022-08-15T06:04:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557462",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'>Comment 33:</a>
A `Sequence` in Sage is not a Parent, so none of this reasoning applies.



---

archive/issue_comments_557463.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nA `Family` is a `Parent` in the `Sets()` category. It's clear that its elements are (the values). It has to satisfy this protocol and not some vague version of it.",
    "created_at": "2022-08-15T06:05:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557463",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'>Comment 34:</a>
A `Family` is a `Parent` in the `Sets()` category. It's clear that its elements are (the values). It has to satisfy this protocol and not some vague version of it.



---

archive/issue_comments_557464.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nReplying to [@mkoeppe](#comment%3A32):\n> Replying to [@tscrim](#comment%3A31):\n> > Yes, you are correct that it is breaking the usual semantics of a set with the containment.\n\n> \n> No, it just means that the interpretation that a Family \"is\" a function makes no sense.\n\nIt is for mathematical purposes. Since you are trying to make a mathematical point that the cardinality is wrong, we should apply that definition. When it comes to programming, we want an implementation that has features that make a behave like many different objects. How I understand your argument is we should always strictly apply mathematical definitions to programming constructs. What I draw from this is your argument implies we should remove certain features that are extremely useful and need to be fast as they are used in tight loops.",
    "created_at": "2022-08-15T06:08:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557464",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:35'>Comment 35:</a>
Replying to [@mkoeppe](#comment%3A32):
> Replying to [@tscrim](#comment%3A31):
> > Yes, you are correct that it is breaking the usual semantics of a set with the containment.

> 
> No, it just means that the interpretation that a Family "is" a function makes no sense.

It is for mathematical purposes. Since you are trying to make a mathematical point that the cardinality is wrong, we should apply that definition. When it comes to programming, we want an implementation that has features that make a behave like many different objects. How I understand your argument is we should always strictly apply mathematical definitions to programming constructs. What I draw from this is your argument implies we should remove certain features that are extremely useful and need to be fast as they are used in tight loops.



---

archive/issue_comments_557465.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nI think it's instructive to look at https://docs.python.org/3/library/collections.abc.html#collections-abstract-base-classes to answer what contract `__len__`, `__iter__`, `__contains__` have to satisfy.",
    "created_at": "2022-08-15T06:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557465",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'>Comment 36:</a>
I think it's instructive to look at https://docs.python.org/3/library/collections.abc.html#collections-abstract-base-classes to answer what contract `__len__`, `__iter__`, `__contains__` have to satisfy.



---

archive/issue_comments_557466.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nReplying to [@mkoeppe](#comment%3A34):\n> It's clear that its elements are (the values).\n\nThis is not true. Otherwise we would have no need for the `keys()`. \n\n> It has to satisfy this protocol and not some vague version of it.\n\nWe should generally follow it, but sometimes there are very good reasons for breaking things. This is one of those times.",
    "created_at": "2022-08-15T06:11:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557466",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:37'>Comment 37:</a>
Replying to [@mkoeppe](#comment%3A34):
> It's clear that its elements are (the values).

This is not true. Otherwise we would have no need for the `keys()`. 

> It has to satisfy this protocol and not some vague version of it.

We should generally follow it, but sometimes there are very good reasons for breaking things. This is one of those times.



---

archive/issue_comments_557467.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nReplying to [@tscrim](#comment%3A35):\n> Replying to [@mkoeppe](#comment%3A32):\n> > No, it just means that the interpretation that a Family \"is\" a function makes no sense.\n\n> \n> It is for mathematical purposes. Since you are trying to make a mathematical point that the cardinality is wrong, we should apply that definition.\n\nHere's a mathematical definition of a family that's better for us (= the programming context in which Family is used):\n\nIt \"is\" a set which \"has\" additionally a map from a (possibly ordered) set of keys onto it.",
    "created_at": "2022-08-15T06:12:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557467",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:38'>Comment 38:</a>
Replying to [@tscrim](#comment%3A35):
> Replying to [@mkoeppe](#comment%3A32):
> > No, it just means that the interpretation that a Family "is" a function makes no sense.

> 
> It is for mathematical purposes. Since you are trying to make a mathematical point that the cardinality is wrong, we should apply that definition.

Here's a mathematical definition of a family that's better for us (= the programming context in which Family is used):

It "is" a set which "has" additionally a map from a (possibly ordered) set of keys onto it.



---

archive/issue_comments_557468.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nReplying to [@mkoeppe](#comment%3A33):\n> A `Sequence` in Sage is not a Parent, so none of this reasoning applies.\n\nI meant a mathematical sequence. What would you do if you needed it to also be a `Parent`? I suspect you would end up with the `Family` implementation.",
    "created_at": "2022-08-15T06:13:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557468",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:39'>Comment 39:</a>
Replying to [@mkoeppe](#comment%3A33):
> A `Sequence` in Sage is not a Parent, so none of this reasoning applies.

I meant a mathematical sequence. What would you do if you needed it to also be a `Parent`? I suspect you would end up with the `Family` implementation.



---

archive/issue_comments_557469.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nReplying to [@tscrim](#comment%3A37):\n> Replying to [@mkoeppe](#comment%3A34):\n> > It's clear that its elements are (the values).\n\n> \n> This is not true. Otherwise we would have no need for the `keys()`. \n\nelements as in Element vs. Parent.\n\n(key, value) pairs are definitely not element of this parent.",
    "created_at": "2022-08-15T06:15:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557469",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:40'>Comment 40:</a>
Replying to [@tscrim](#comment%3A37):
> Replying to [@mkoeppe](#comment%3A34):
> > It's clear that its elements are (the values).

> 
> This is not true. Otherwise we would have no need for the `keys()`. 

elements as in Element vs. Parent.

(key, value) pairs are definitely not element of this parent.



---

archive/issue_comments_557470.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nI think every `Family` is a facade parent. So the elements don't even know about the family.",
    "created_at": "2022-08-15T06:17:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557470",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:41'>Comment 41:</a>
I think every `Family` is a facade parent. So the elements don't even know about the family.



---

archive/issue_comments_557471.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\ncomment:30.",
    "created_at": "2022-08-15T06:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557471",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'>Comment 42:</a>
comment:30.



---

archive/issue_comments_557472.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nReplying to [@mkoeppe](#comment%3A38):\n> Replying to [@tscrim](#comment%3A35):\n> > Replying to [@mkoeppe](#comment%3A32):\n> > > No, it just means that the interpretation that a Family \"is\" a function makes no sense.\n\n> > \n> > It is for mathematical purposes. Since you are trying to make a mathematical point that the cardinality is wrong, we should apply that definition.\n\n> \n> Here's a mathematical definition of a family that's better for us (= the programming context in which Family is used):\n> \n> It \"is\" a set which \"has\" additionally a map from a (possibly ordered) set of keys onto it.\n\nOkay, I think I can get behind this as a definition. However, this makes computing the `cardinality()` potentially very expensive. I am also not sure about getting rid of the sequence/function-like aspect it had, but I currently do not have a use-case for it.\n\nI am also opposed to making everything extremely mathematically strict and rigorous. Again, there are times when it is useful to break that. I think we should instead just simply document that for most things it behaves like a function (as it is, just written `f[x]` instead of `f(x)`), but others, such as its iteration and containment, is based on the set of its values.",
    "created_at": "2022-08-15T06:26:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557472",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:43'>Comment 43:</a>
Replying to [@mkoeppe](#comment%3A38):
> Replying to [@tscrim](#comment%3A35):
> > Replying to [@mkoeppe](#comment%3A32):
> > > No, it just means that the interpretation that a Family "is" a function makes no sense.

> > 
> > It is for mathematical purposes. Since you are trying to make a mathematical point that the cardinality is wrong, we should apply that definition.

> 
> Here's a mathematical definition of a family that's better for us (= the programming context in which Family is used):
> 
> It "is" a set which "has" additionally a map from a (possibly ordered) set of keys onto it.

Okay, I think I can get behind this as a definition. However, this makes computing the `cardinality()` potentially very expensive. I am also not sure about getting rid of the sequence/function-like aspect it had, but I currently do not have a use-case for it.

I am also opposed to making everything extremely mathematically strict and rigorous. Again, there are times when it is useful to break that. I think we should instead just simply document that for most things it behaves like a function (as it is, just written `f[x]` instead of `f(x)`), but others, such as its iteration and containment, is based on the set of its values.



---

archive/issue_comments_557473.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nReplying to [@tscrim](#comment%3A35):\n> What I draw from this is your argument implies we should remove certain features that are extremely useful and need to be fast as they are used in tight loops.\n\nI think in most existing use cases of `Family`, the map is actually injective. \nIt would make sense to me to add to `Family` a keyword `is_injective` (default `True` =  unchecked promise that it is injective) that enables a fast straightforward mplementation.",
    "created_at": "2022-08-15T06:27:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557473",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:44'>Comment 44:</a>
Replying to [@tscrim](#comment%3A35):
> What I draw from this is your argument implies we should remove certain features that are extremely useful and need to be fast as they are used in tight loops.

I think in most existing use cases of `Family`, the map is actually injective. 
It would make sense to me to add to `Family` a keyword `is_injective` (default `True` =  unchecked promise that it is injective) that enables a fast straightforward mplementation.



---

archive/issue_comments_557474.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nReplying to [@mkoeppe](#comment%3A42):\n> comment:30.\n\ncomment:37.",
    "created_at": "2022-08-15T06:27:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557474",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:45'>Comment 45:</a>
Replying to [@mkoeppe](#comment%3A42):
> comment:30.

comment:37.



---

archive/issue_comments_557475.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nIIRC, the only reason a `Family` is a `Parent` is because it needs to play nicely with things that expect a `Parent` as input (which includes immutability and hashability).",
    "created_at": "2022-08-15T06:30:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557475",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:46'>Comment 46:</a>
IIRC, the only reason a `Family` is a `Parent` is because it needs to play nicely with things that expect a `Parent` as input (which includes immutability and hashability).



---

archive/issue_comments_557476.json:
```json
{
    "body": "<a id='comment:47'>Comment 47:</a>\nIn my use case of `Family` it's very useful that it's a `Parent` (hence this ticket)",
    "created_at": "2022-08-15T06:34:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557476",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'>Comment 47:</a>
In my use case of `Family` it's very useful that it's a `Parent` (hence this ticket)



---

archive/issue_comments_557477.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\nReplying to [@mkoeppe](#comment%3A44):\n> I think in most existing use cases of `Family`, the map is actually injective. \n> It would make sense to me to add to `Family` a keyword `is_injective` (default `True` =  unchecked promise that it is injective) that enables a fast straightforward implementation. \n\nIn particular, `ImageSubobject` already knows how to handle `is_injective`",
    "created_at": "2022-08-15T06:37:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557477",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:48'>Comment 48:</a>
Replying to [@mkoeppe](#comment%3A44):
> I think in most existing use cases of `Family`, the map is actually injective. 
> It would make sense to me to add to `Family` a keyword `is_injective` (default `True` =  unchecked promise that it is injective) that enables a fast straightforward implementation. 

In particular, `ImageSubobject` already knows how to handle `is_injective`



---

archive/issue_comments_557478.json:
```json
{
    "body": "<a id='comment:49'>Comment 49:</a>\nI am still not very happy with effectively deprecating functionality that would not be replaced with something else. IMO, it is not a bug. It seems like you are essentially proposing to make `Family` be duplicate code of `ImageSubobject`. However, I see their behaviors as complementary.\n\nTo me, a `Family` is a `Parent` and hasbable version of `dict`, which is suppose to be a model of a map (to this point, in the C++ STL, it is called `map`). In a strict mathematical world, we would iterate over and check containment in `F.values()`. Yet for the cases that we use it, we typically want the values and check containment within either the keys or values (even Python's `dict` does not follow its set-theoretic containment check).\n\nHence, if we just document these behaviors clearly (and not call them wrong), it will be sufficient to deter the user who is using this to model something that they shouldn't be. We can redirect the user to other objects, such as `ImageSubobject` if they, e.g., really want the cardinality of the values.",
    "created_at": "2022-08-15T06:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557478",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:49'>Comment 49:</a>
I am still not very happy with effectively deprecating functionality that would not be replaced with something else. IMO, it is not a bug. It seems like you are essentially proposing to make `Family` be duplicate code of `ImageSubobject`. However, I see their behaviors as complementary.

To me, a `Family` is a `Parent` and hasbable version of `dict`, which is suppose to be a model of a map (to this point, in the C++ STL, it is called `map`). In a strict mathematical world, we would iterate over and check containment in `F.values()`. Yet for the cases that we use it, we typically want the values and check containment within either the keys or values (even Python's `dict` does not follow its set-theoretic containment check).

Hence, if we just document these behaviors clearly (and not call them wrong), it will be sufficient to deter the user who is using this to model something that they shouldn't be. We can redirect the user to other objects, such as `ImageSubobject` if they, e.g., really want the cardinality of the values.



---

archive/issue_comments_557479.json:
```json
{
    "body": "<a id='comment:50'>Comment 50:</a>\nReplying to [@tscrim](#comment%3A49):\n> I am still not very happy with effectively deprecating functionality \n\nwhich one?",
    "created_at": "2022-08-15T06:51:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557479",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:50'>Comment 50:</a>
Replying to [@tscrim](#comment%3A49):
> I am still not very happy with effectively deprecating functionality 

which one?



---

archive/issue_comments_557480.json:
```json
{
    "body": "<a id='comment:51'>Comment 51:</a>\nReplying to [@tscrim](#comment%3A49):\n> It seems like you are essentially proposing to make `Family` be duplicate code of `ImageSubobject`.\n\nNot really, it has a different API (no `keys`). But it can be used for implementing `LazyFamily` to avoid code duplication.",
    "created_at": "2022-08-15T06:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557480",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:51'>Comment 51:</a>
Replying to [@tscrim](#comment%3A49):
> It seems like you are essentially proposing to make `Family` be duplicate code of `ImageSubobject`.

Not really, it has a different API (no `keys`). But it can be used for implementing `LazyFamily` to avoid code duplication.



---

archive/issue_comments_557481.json:
```json
{
    "body": "<a id='comment:52'>Comment 52:</a>\nReplying to [@mkoeppe](#comment%3A51):\n> Replying to [@tscrim](#comment%3A49):\n> > It seems like you are essentially proposing to make `Family` be duplicate code of `ImageSubobject`.\n\n> \n> Not really, it has a different API (no `keys`). But it can be used for implementing `LazyFamily` to avoid code duplication.\n\nSurely you have access to the defining map and its codomain. Or are you looking for something that ducktypes with `dict`?",
    "created_at": "2022-08-15T06:59:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557481",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:52'>Comment 52:</a>
Replying to [@mkoeppe](#comment%3A51):
> Replying to [@tscrim](#comment%3A49):
> > It seems like you are essentially proposing to make `Family` be duplicate code of `ImageSubobject`.

> 
> Not really, it has a different API (no `keys`). But it can be used for implementing `LazyFamily` to avoid code duplication.

Surely you have access to the defining map and its codomain. Or are you looking for something that ducktypes with `dict`?



---

archive/issue_comments_557482.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nReplying to [@mkoeppe](#comment%3A50):\n> Replying to [@tscrim](#comment%3A49):\n> > I am still not very happy with effectively deprecating functionality \n\n> \n> which one?\n\nThe function/sequence like behavior with `cardinality()` and iteration. Why I see it as an effective deprecation is the `.. WARNING::` saying it could be wrong, changing the definition in [comment:38](#comment%3A38), adding `is_injective` in [comment:44](#comment%3A44), etc. What this amounts to is saying \"we need to change the behavior when the map is not injective.\" Paraphrasing that would be \"we will remove this functionality (because it is wrong).\"",
    "created_at": "2022-08-15T07:03:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557482",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:53'>Comment 53:</a>
Replying to [@mkoeppe](#comment%3A50):
> Replying to [@tscrim](#comment%3A49):
> > I am still not very happy with effectively deprecating functionality 

> 
> which one?

The function/sequence like behavior with `cardinality()` and iteration. Why I see it as an effective deprecation is the `.. WARNING::` saying it could be wrong, changing the definition in [comment:38](#comment%3A38), adding `is_injective` in [comment:44](#comment%3A44), etc. What this amounts to is saying "we need to change the behavior when the map is not injective." Paraphrasing that would be "we will remove this functionality (because it is wrong)."



---

archive/issue_comments_557483.json:
```json
{
    "body": "<a id='comment:54'>Comment 54:</a>\nAll examples in `family.py` are injective. I'd say it's just a hidden assumption in the code, and clarifying it and handling both the injective and non-injective case correctly would be an improvement. I don't see it as deprecating anything. The interpretation of `cardinality` in the non-injective case just does not hold up.",
    "created_at": "2022-08-15T07:11:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557483",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:54'>Comment 54:</a>
All examples in `family.py` are injective. I'd say it's just a hidden assumption in the code, and clarifying it and handling both the injective and non-injective case correctly would be an improvement. I don't see it as deprecating anything. The interpretation of `cardinality` in the non-injective case just does not hold up.



---

archive/issue_comments_557484.json:
```json
{
    "body": "<a id='comment:55'>Comment 55:</a>\nReplying to [@tscrim](#comment%3A49):\n> To me, a `Family` is a `Parent` and hasbable version of `dict`, which is suppose to be a model of a map (to this point, in the C++ STL, it is called `map`).\n\nThe comparison with C++ STL map is not very useful. Its elements are pairs. Calling `iterator` gives pairs.\n\nPython `dict` does not have this behavior. Calling `iter` iterates through its keys.\n\nAnd `Family` has neither behavior of the two. Calling `iter` iterates through values.",
    "created_at": "2022-08-15T07:20:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557484",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:55'>Comment 55:</a>
Replying to [@tscrim](#comment%3A49):
> To me, a `Family` is a `Parent` and hasbable version of `dict`, which is suppose to be a model of a map (to this point, in the C++ STL, it is called `map`).

The comparison with C++ STL map is not very useful. Its elements are pairs. Calling `iterator` gives pairs.

Python `dict` does not have this behavior. Calling `iter` iterates through its keys.

And `Family` has neither behavior of the two. Calling `iter` iterates through values.



---

archive/issue_comments_557485.json:
```json
{
    "body": "<a id='comment:56'>Comment 56:</a>\nReplying to [@mkoeppe](#comment%3A54):\n> All examples in `family.py` are injective. I'd say it's just a hidden assumption in the code, and clarifying it and handling both the injective and non-injective case correctly would be an improvement. I don't see it as deprecating anything. The interpretation of `cardinality` in the non-injective case just does not hold up.\n\nI think it is clear I disagree with this. A lack of evidence does not mean something can never happen. In the use-cases we care about, it is injective, but there is no documentation about this being a requirement. Given its role generally as a `dict` object, the `cardinality()` works where `__len__` cannot and it is consistent with that.",
    "created_at": "2022-08-15T07:29:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557485",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:56'>Comment 56:</a>
Replying to [@mkoeppe](#comment%3A54):
> All examples in `family.py` are injective. I'd say it's just a hidden assumption in the code, and clarifying it and handling both the injective and non-injective case correctly would be an improvement. I don't see it as deprecating anything. The interpretation of `cardinality` in the non-injective case just does not hold up.

I think it is clear I disagree with this. A lack of evidence does not mean something can never happen. In the use-cases we care about, it is injective, but there is no documentation about this being a requirement. Given its role generally as a `dict` object, the `cardinality()` works where `__len__` cannot and it is consistent with that.



---

archive/issue_comments_557486.json:
```json
{
    "body": "<a id='comment:57'>Comment 57:</a>\nThe comparison with `dict` is misleading. If one wanted a hashable version of `dict`, it would have been easy to just implement something compatible with `dict`. But `Family` was clearly designed for a different purpose - namely something that \"is\" a set of values, not only \"has\" a set of values.",
    "created_at": "2022-08-15T07:33:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557486",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:57'>Comment 57:</a>
The comparison with `dict` is misleading. If one wanted a hashable version of `dict`, it would have been easy to just implement something compatible with `dict`. But `Family` was clearly designed for a different purpose - namely something that "is" a set of values, not only "has" a set of values.



---

archive/issue_events_436385.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-15T07:44:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34340#event-436385"
}
```



---

archive/issue_events_436386.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-15T07:44:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34340#event-436386"
}
```



---

archive/issue_comments_557487.json:
```json
{
    "body": "<a id='comment:58'>Comment 58:</a>\nAnyway, it's late here. I'll play with the implementation in the next days and see if I can check if there's any non-injective use in the Sage library. This will give us more information.",
    "created_at": "2022-08-15T07:44:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557487",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:58'>Comment 58:</a>
Anyway, it's late here. I'll play with the implementation in the next days and see if I can check if there's any non-injective use in the Sage library. This will give us more information.



---

archive/issue_comments_557488.json:
```json
{
    "body": "<a id='comment:59'>Comment 59:</a>\nIIRC, it was meant to be a hashable `dict` that also worked for infinite objects and had `Parent`-like behavior (I think for removing code duplication from inheriting stuff from categories too). It was chosen to iterate over the values rather than the keys (and check containment) because that was what was convenient for the majority of use cases.\n\nHowever, that is not the only times where it is used. A `Family` is used to handle `dict` inputs to `UniqueRepresentation` in `LieAlgebrasWithStructureCoefficients`. Now it is not being used there as a set (or even allowing it to be infinite), but just a convenient tool to handle the hashing. If you are insistent on making sure that `Family` strictly conforms with your mathematical definition of it, then you will need to change the places in Sage where it is not conforming with your definition and make sure there is a replacement for the current behavior.",
    "created_at": "2022-08-15T07:44:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557488",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:59'>Comment 59:</a>
IIRC, it was meant to be a hashable `dict` that also worked for infinite objects and had `Parent`-like behavior (I think for removing code duplication from inheriting stuff from categories too). It was chosen to iterate over the values rather than the keys (and check containment) because that was what was convenient for the majority of use cases.

However, that is not the only times where it is used. A `Family` is used to handle `dict` inputs to `UniqueRepresentation` in `LieAlgebrasWithStructureCoefficients`. Now it is not being used there as a set (or even allowing it to be infinite), but just a convenient tool to handle the hashing. If you are insistent on making sure that `Family` strictly conforms with your mathematical definition of it, then you will need to change the places in Sage where it is not conforming with your definition and make sure there is a replacement for the current behavior.



---

archive/issue_comments_557489.json:
```json
{
    "body": "<a id='comment:60'>Comment 60:</a>\nI doubt that in such use cases the method `cardinality` is used.",
    "created_at": "2022-08-15T15:43:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557489",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:60'>Comment 60:</a>
I doubt that in such use cases the method `cardinality` is used.



---

archive/issue_comments_557490.json:
```json
{
    "body": "<a id='comment:61'>Comment 61:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f171fad1da39879f8eb1c3744e52c44c02698f53\">f171fad</a></td><td><code>src/sage/sets/image_set.py: Handle is_injective='check'</code></td></tr></table>\n",
    "created_at": "2022-08-15T22:10:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557490",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:61'>Comment 61:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f171fad1da39879f8eb1c3744e52c44c02698f53">f171fad</a></td><td><code>src/sage/sets/image_set.py: Handle is_injective='check'</code></td></tr></table>




---

archive/issue_comments_557491.json:
```json
{
    "body": "Changed commit from **[d681497](https://github.com/sagemath/sagetrac-mirror/commit/d6814975c7b285152f59998b1d254e346a75716c)** to **[f171fad](https://github.com/sagemath/sagetrac-mirror/commit/f171fad1da39879f8eb1c3744e52c44c02698f53)**",
    "created_at": "2022-08-15T22:10:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557491",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d681497](https://github.com/sagemath/sagetrac-mirror/commit/d6814975c7b285152f59998b1d254e346a75716c)** to **[f171fad](https://github.com/sagemath/sagetrac-mirror/commit/f171fad1da39879f8eb1c3744e52c44c02698f53)**



---

archive/issue_comments_557492.json:
```json
{
    "body": "<a id='comment:62'>Comment 62:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b05091ecd4bee4dcebf61c6bfa53055af3e69ac0\">b05091e</a></td><td><code>src/sage/sets/image_set.py: Handle keyword inverse, implement _element_constructor_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce90b1cdfe7c5c2688ed32900857113a83840f6c\">ce90b1c</a></td><td><code>LazyFamily: Handle keyword is_injective, delegate to ImageSubset</code></td></tr></table>\n",
    "created_at": "2022-08-15T23:43:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557492",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:62'>Comment 62:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b05091ecd4bee4dcebf61c6bfa53055af3e69ac0">b05091e</a></td><td><code>src/sage/sets/image_set.py: Handle keyword inverse, implement _element_constructor_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce90b1cdfe7c5c2688ed32900857113a83840f6c">ce90b1c</a></td><td><code>LazyFamily: Handle keyword is_injective, delegate to ImageSubset</code></td></tr></table>




---

archive/issue_comments_557493.json:
```json
{
    "body": "Changed commit from **[f171fad](https://github.com/sagemath/sagetrac-mirror/commit/f171fad1da39879f8eb1c3744e52c44c02698f53)** to **[ce90b1c](https://github.com/sagemath/sagetrac-mirror/commit/ce90b1cdfe7c5c2688ed32900857113a83840f6c)**",
    "created_at": "2022-08-15T23:43:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557493",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f171fad](https://github.com/sagemath/sagetrac-mirror/commit/f171fad1da39879f8eb1c3744e52c44c02698f53)** to **[ce90b1c](https://github.com/sagemath/sagetrac-mirror/commit/ce90b1cdfe7c5c2688ed32900857113a83840f6c)**



---

archive/issue_comments_557494.json:
```json
{
    "body": "<a id='comment:63'>Comment 63:</a>\nI think it can be dangerous to make such claims about code in the wild, especially something as a low-level tool like this. I am still generally opposed to considering a `Family`. Or has your argument actually become that `ImageSubset` is duplicating the functionality and intent of `Family`? API's being different is not a valid argument against this latter claim; it is just one easy to add method. I still strongly contend this is meant to be a `dict`-like structure that complements `ImageSubset`.",
    "created_at": "2022-08-15T23:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557494",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:63'>Comment 63:</a>
I think it can be dangerous to make such claims about code in the wild, especially something as a low-level tool like this. I am still generally opposed to considering a `Family`. Or has your argument actually become that `ImageSubset` is duplicating the functionality and intent of `Family`? API's being different is not a valid argument against this latter claim; it is just one easy to add method. I still strongly contend this is meant to be a `dict`-like structure that complements `ImageSubset`.



---

archive/issue_comments_557495.json:
```json
{
    "body": "<a id='comment:64'>Comment 64:</a>\nThe crucial difference is equality.\n\nTwo `ImageSubset`s are equal if they have the same elements.\n\nTwo `Family`s are equal if they have the same keys and map (whatever that means in detail).",
    "created_at": "2022-08-15T23:53:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557495",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:64'>Comment 64:</a>
The crucial difference is equality.

Two `ImageSubset`s are equal if they have the same elements.

Two `Family`s are equal if they have the same keys and map (whatever that means in detail).



---

archive/issue_comments_557496.json:
```json
{
    "body": "<a id='comment:65'>Comment 65:</a>\nWhich further makes my point that it is `dict`-like and not `set`-like.",
    "created_at": "2022-08-15T23:57:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557496",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:65'>Comment 65:</a>
Which further makes my point that it is `dict`-like and not `set`-like.



---

archive/issue_comments_557497.json:
```json
{
    "body": "<a id='comment:66'>Comment 66:</a>\nIt is only dict-like in that it has two methods `keys` and `values`, that's all. Code that uses Family like a dict will have to use these methods. Using `cardinality` just makes no sense.",
    "created_at": "2022-08-16T00:00:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557497",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:66'>Comment 66:</a>
It is only dict-like in that it has two methods `keys` and `values`, that's all. Code that uses Family like a dict will have to use these methods. Using `cardinality` just makes no sense.



---

archive/issue_comments_557498.json:
```json
{
    "body": "<a id='comment:67'>Comment 67:</a>\nSome failures with the current code\n\n```\nsage -t --random-seed=251178244497158028621407850304141794068 src/sage/algebras/jordan_algebra.py  # Timed out\nsage -t --random-seed=251178244497158028621407850304141794068 src/sage/quivers/path_semigroup.py  # 1 doctest failed\nsage -t --random-seed=251178244497158028621407850304141794068 src/sage/algebras/yangian.py  # Timed out\nsage -t --random-seed=251178244497158028621407850304141794068 src/sage/algebras/lie_algebras/abelian.py  # 5 doctests failed\n```",
    "created_at": "2022-08-16T00:04:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557498",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:67'>Comment 67:</a>
Some failures with the current code

```
sage -t --random-seed=251178244497158028621407850304141794068 src/sage/algebras/jordan_algebra.py  # Timed out
sage -t --random-seed=251178244497158028621407850304141794068 src/sage/quivers/path_semigroup.py  # 1 doctest failed
sage -t --random-seed=251178244497158028621407850304141794068 src/sage/algebras/yangian.py  # Timed out
sage -t --random-seed=251178244497158028621407850304141794068 src/sage/algebras/lie_algebras/abelian.py  # 5 doctests failed
```



---

archive/issue_comments_557499.json:
```json
{
    "body": "<a id='comment:68'>Comment 68:</a>\nReplying to [@mkoeppe](#comment%3A66):\n> It is only dict-like in that it has two methods `keys` and `values`, that's all. Code that uses Family like a dict will have to use these methods. Using `cardinality` just makes no sense.\n\nEquality is also `dict`-like (i.e., it is being treated as a map), which you just made a point about. Hence its `__len__` should follow suit, and it would be extremely strange to have `cardinality()` different from that.",
    "created_at": "2022-08-16T00:06:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557499",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:68'>Comment 68:</a>
Replying to [@mkoeppe](#comment%3A66):
> It is only dict-like in that it has two methods `keys` and `values`, that's all. Code that uses Family like a dict will have to use these methods. Using `cardinality` just makes no sense.

Equality is also `dict`-like (i.e., it is being treated as a map), which you just made a point about. Hence its `__len__` should follow suit, and it would be extremely strange to have `cardinality()` different from that.



---

archive/issue_comments_557500.json:
```json
{
    "body": "<a id='comment:69'>Comment 69:</a>\nReplying to [@tscrim](#comment%3A68):\n> Replying to [@mkoeppe](#comment%3A66):\n> > It is only dict-like in that it has two methods `keys` and `values`, that's all. Code that uses Family like a dict will have to use these methods. Using `cardinality` just makes no sense.\n\n> \n> Equality is also `dict`-like (i.e., it is being treated as a map), which you just made a point about. Hence its `__len__` should follow suit\n\nNo, this does not follow at all.\n\nThink about it in terms of algebraic structures. For example, a group has a stricter notion of equality than the underlying set. But the notion of cardinality is set-theoretic. A group cannot just modify the concept of cardinality.",
    "created_at": "2022-08-16T00:13:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557500",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:69'>Comment 69:</a>
Replying to [@tscrim](#comment%3A68):
> Replying to [@mkoeppe](#comment%3A66):
> > It is only dict-like in that it has two methods `keys` and `values`, that's all. Code that uses Family like a dict will have to use these methods. Using `cardinality` just makes no sense.

> 
> Equality is also `dict`-like (i.e., it is being treated as a map), which you just made a point about. Hence its `__len__` should follow suit

No, this does not follow at all.

Think about it in terms of algebraic structures. For example, a group has a stricter notion of equality than the underlying set. But the notion of cardinality is set-theoretic. A group cannot just modify the concept of cardinality.



---

archive/issue_comments_557501.json:
```json
{
    "body": "<a id='comment:70'>Comment 70:</a>\nThat's a non-sequitur. The issue is about the mathematical definition of a `Family` and the tension of that with some of the implementation details.\n\nThe design and many of the core implementation features are about emulating `dict` that is a `Parent`. We have other things, namely `ImageSubset` when we want to think of it as a set of values with a map attached. In fact, a core part of your argument is things that are in `Sets` should follow the same protocols, which include equality. Equality of sets means `X` and `Y` are each contained within each other. [comment:64](#comment%3A64) rightly points out that equality of `Family` is not this, which is because it is `dict`-like, so it is treated mathematically as a set of pairs `(k, v)` defining map. I agree with you that it abuses containment and iteration for programmatic convenience. I would not be opposed to changing this behavior if it was not so fully ingrained within Sage. The documentation is very clear about it being a `dict`-like structure too as it uses sequence notation, not set notation.",
    "created_at": "2022-08-16T00:25:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557501",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:70'>Comment 70:</a>
That's a non-sequitur. The issue is about the mathematical definition of a `Family` and the tension of that with some of the implementation details.

The design and many of the core implementation features are about emulating `dict` that is a `Parent`. We have other things, namely `ImageSubset` when we want to think of it as a set of values with a map attached. In fact, a core part of your argument is things that are in `Sets` should follow the same protocols, which include equality. Equality of sets means `X` and `Y` are each contained within each other. [comment:64](#comment%3A64) rightly points out that equality of `Family` is not this, which is because it is `dict`-like, so it is treated mathematically as a set of pairs `(k, v)` defining map. I agree with you that it abuses containment and iteration for programmatic convenience. I would not be opposed to changing this behavior if it was not so fully ingrained within Sage. The documentation is very clear about it being a `dict`-like structure too as it uses sequence notation, not set notation.



---

archive/issue_comments_557502.json:
```json
{
    "body": "<a id='comment:71'>Comment 71:</a>\nReplying to [@tscrim](#comment%3A68):\n> it would be extremely strange to have `cardinality()` different from [`__len__`]\n\nI do agree with this part, so I retract what I said in [comment:15](#comment%3A15) regarding this.\n\n`__len__` should be the same as `cardinality`.\nAnd this is compatible with `__iter__` (which must iterate over the elements of the set - no duplicates!)",
    "created_at": "2022-08-16T00:26:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557502",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:71'>Comment 71:</a>
Replying to [@tscrim](#comment%3A68):
> it would be extremely strange to have `cardinality()` different from [`__len__`]

I do agree with this part, so I retract what I said in [comment:15](#comment%3A15) regarding this.

`__len__` should be the same as `cardinality`.
And this is compatible with `__iter__` (which must iterate over the elements of the set - no duplicates!)



---

archive/issue_comments_557503.json:
```json
{
    "body": "<a id='comment:72'>Comment 72:</a>\nReplying to [@tscrim](#comment%3A70):\n> In fact, a core part of your argument is things that are in `Sets` should follow the same protocols, which include equality. Equality of sets means `X` and `Y` are each contained within each other.\n\nYes, this is exactly what being in the category guarantees.\n\n> comment:64 rightly points out that equality of `Family` is not this, which is because it is `dict`-like, so it is treated mathematically as a set of pairs `(k, v)` defining map. \n\nNo, the interpretation that it \"is\" a set of pairs (= the pairs the elements) does not hold up. I've explained it before in [comment:55](#comment%3A55).\n\nWhat are elements? They are what `__iter__` produces, and they are the idempotents under `_element_constructor_`. \n\nThese are clearly the values, not key-value pairs.",
    "created_at": "2022-08-16T00:31:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557503",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:72'>Comment 72:</a>
Replying to [@tscrim](#comment%3A70):
> In fact, a core part of your argument is things that are in `Sets` should follow the same protocols, which include equality. Equality of sets means `X` and `Y` are each contained within each other.

Yes, this is exactly what being in the category guarantees.

> comment:64 rightly points out that equality of `Family` is not this, which is because it is `dict`-like, so it is treated mathematically as a set of pairs `(k, v)` defining map. 

No, the interpretation that it "is" a set of pairs (= the pairs the elements) does not hold up. I've explained it before in [comment:55](#comment%3A55).

What are elements? They are what `__iter__` produces, and they are the idempotents under `_element_constructor_`. 

These are clearly the values, not key-value pairs.



---

archive/issue_comments_557504.json:
```json
{
    "body": "<a id='comment:73'>Comment 73:</a>\nSo, as I continue to use the definition of Family from [comment:38](#comment%3A38), \nthe map onto ``self`` is the additional structure of a Family, just like the group law is the additional structure of a Group.",
    "created_at": "2022-08-16T00:33:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557504",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:73'>Comment 73:</a>
So, as I continue to use the definition of Family from [comment:38](#comment%3A38), 
the map onto ``self`` is the additional structure of a Family, just like the group law is the additional structure of a Group.



---

archive/issue_comments_557505.json:
```json
{
    "body": "<a id='comment:74'>Comment 74:</a>\nThe additional structure changes what is equal, but it cannot change cardinality.",
    "created_at": "2022-08-16T00:35:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557505",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:74'>Comment 74:</a>
The additional structure changes what is equal, but it cannot change cardinality.



---

archive/issue_comments_557506.json:
```json
{
    "body": "<a id='comment:75'>Comment 75:</a>\nThis sounds like it would introduce a major inconsistency: Two things are equal (by taking the set-of-values) with different cardinalities! If we are not going to replace it by `ImageSubset`, then we are going to have to live with some inconsistency. It is a much smaller one to simply state that iteration and containment is done on its values.\n\nAdditionally, `Family` doesn't have an `_element_constructor_`, nor does it support the `__call__` syntax (it raises a `NotImplementedError`). It uses `F[x]` instead of `F(x)` to be used as a `dict` replacement.",
    "created_at": "2022-08-16T01:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557506",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:75'>Comment 75:</a>
This sounds like it would introduce a major inconsistency: Two things are equal (by taking the set-of-values) with different cardinalities! If we are not going to replace it by `ImageSubset`, then we are going to have to live with some inconsistency. It is a much smaller one to simply state that iteration and containment is done on its values.

Additionally, `Family` doesn't have an `_element_constructor_`, nor does it support the `__call__` syntax (it raises a `NotImplementedError`). It uses `F[x]` instead of `F(x)` to be used as a `dict` replacement.



---

archive/issue_comments_557507.json:
```json
{
    "body": "<a id='comment:76'>Comment 76:</a>\nFurthermore, because it is a fa\u00e7ade parent, it doesn't technically have elements either.",
    "created_at": "2022-08-16T01:01:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557507",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:76'>Comment 76:</a>
Furthermore, because it is a façade parent, it doesn't technically have elements either.



---

archive/issue_comments_557508.json:
```json
{
    "body": "<a id='comment:77'>Comment 77:</a>\nReplying to [@tscrim](#comment%3A75):\n> This sounds like it would introduce a major inconsistency: Two things are equal (by taking the set-of-values) with different cardinalities!\n\nNo, why would you think so?",
    "created_at": "2022-08-16T01:02:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557508",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:77'>Comment 77:</a>
Replying to [@tscrim](#comment%3A75):
> This sounds like it would introduce a major inconsistency: Two things are equal (by taking the set-of-values) with different cardinalities!

No, why would you think so?



---

archive/issue_comments_557509.json:
```json
{
    "body": "<a id='comment:78'>Comment 78:</a>\nReplying to [@tscrim](#comment%3A75):\n> Additionally, `Family` doesn't have an `_element_constructor_`\n\n`LazyFamily` now does.",
    "created_at": "2022-08-16T01:04:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557509",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:78'>Comment 78:</a>
Replying to [@tscrim](#comment%3A75):
> Additionally, `Family` doesn't have an `_element_constructor_`

`LazyFamily` now does.



---

archive/issue_comments_557510.json:
```json
{
    "body": "<a id='comment:79'>Comment 79:</a>\nReplying to [@mkoeppe](#comment%3A77):\n> Replying to [@tscrim](#comment%3A75):\n> > This sounds like it would introduce a major inconsistency: Two things are equal (by taking the set-of-values) with different cardinalities!\n\n> \n> No, why would you think so?\n\nI misread what you said, sorry about that.\n\nActually, since you are changing the category (to `SetsWithMaps`), we do not have to have the cardinality agree with `Sets`. This is not the same relation as for, e.g., `Groups` to `Sets`. It is not intrinsic to the set.",
    "created_at": "2022-08-16T01:07:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557510",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:79'>Comment 79:</a>
Replying to [@mkoeppe](#comment%3A77):
> Replying to [@tscrim](#comment%3A75):
> > This sounds like it would introduce a major inconsistency: Two things are equal (by taking the set-of-values) with different cardinalities!

> 
> No, why would you think so?

I misread what you said, sorry about that.

Actually, since you are changing the category (to `SetsWithMaps`), we do not have to have the cardinality agree with `Sets`. This is not the same relation as for, e.g., `Groups` to `Sets`. It is not intrinsic to the set.



---

archive/issue_comments_557511.json:
```json
{
    "body": "<a id='comment:80'>Comment 80:</a>\nReplying to [@mkoeppe](#comment%3A78):\n> Replying to [@tscrim](#comment%3A75):\n> > Additionally, `Family` doesn't have an `_element_constructor_`\n\n> \n> `LazyFamily` now does.\n\nI don't think it is valid to use something you implemented as justification for what you think it should do.",
    "created_at": "2022-08-16T01:08:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557511",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:80'>Comment 80:</a>
Replying to [@mkoeppe](#comment%3A78):
> Replying to [@tscrim](#comment%3A75):
> > Additionally, `Family` doesn't have an `_element_constructor_`

> 
> `LazyFamily` now does.

I don't think it is valid to use something you implemented as justification for what you think it should do.



---

archive/issue_comments_557512.json:
```json
{
    "body": "<a id='comment:81'>Comment 81:</a>\nReplying to [@mkoeppe](#comment%3A72):\n> What are elements? They are what `__iter__` produces\n\nHow about this one?",
    "created_at": "2022-08-16T01:09:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557512",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:81'>Comment 81:</a>
Replying to [@mkoeppe](#comment%3A72):
> What are elements? They are what `__iter__` produces

How about this one?



---

archive/issue_comments_557513.json:
```json
{
    "body": "<a id='comment:82'>Comment 82:</a>\nReplying to [@mkoeppe](#comment%3A81):\n> Replying to [@mkoeppe](#comment%3A72):\n> > What are elements? They are what `__iter__` produces\n\n> \n> How about this one?\n\nAs I have repeatedly said, it is an abuse that we should document, but we have it because it is so convenient for the uses of this class.",
    "created_at": "2022-08-16T01:12:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557513",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:82'>Comment 82:</a>
Replying to [@mkoeppe](#comment%3A81):
> Replying to [@mkoeppe](#comment%3A72):
> > What are elements? They are what `__iter__` produces

> 
> How about this one?

As I have repeatedly said, it is an abuse that we should document, but we have it because it is so convenient for the uses of this class.



---

archive/issue_comments_557514.json:
```json
{
    "body": "<a id='comment:83'>Comment 83:</a>\nSorry, Travis, your theory that key-value pairs are somehow the elements is completely unsubstantiated. There is no place in the code where key-value pairs even appear. Dicts at least have an `__items__` method, but a `Family` does not.",
    "created_at": "2022-08-16T01:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557514",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:83'>Comment 83:</a>
Sorry, Travis, your theory that key-value pairs are somehow the elements is completely unsubstantiated. There is no place in the code where key-value pairs even appear. Dicts at least have an `__items__` method, but a `Family` does not.



---

archive/issue_comments_557515.json:
```json
{
    "body": "<a id='comment:84'>Comment 84:</a>\nReplying to [@tscrim](#comment%3A79):\n> Actually, since you are changing the category (to `SetsWithMaps`) [...]\n\nYou may want to develop this line of reasoning a bit further if you want to use it.",
    "created_at": "2022-08-16T01:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557515",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:84'>Comment 84:</a>
Replying to [@tscrim](#comment%3A79):
> Actually, since you are changing the category (to `SetsWithMaps`) [...]

You may want to develop this line of reasoning a bit further if you want to use it.



---

archive/issue_comments_557516.json:
```json
{
    "body": "<a id='comment:85'>Comment 85:</a>\nReplying to [@mkoeppe](#comment%3A83):\n> Sorry, Travis, your theory that key-value pairs are somehow the elements is completely unsubstantiated. There is no place in the code where key-value pairs even appear. Dicts at least have an `__items__` method, but a `Family` does not.\n\nYou mean in spite of all of the classes' documentation, the `cardinality()`, the equality, the `__getitem__()`, and the `keys()`? One implementation even stores a `dict`; the `TrivialFamily` does not because it is wasteful.\n\nIIRC, not having an `items()` comes from the fact this was implemented in Python2, when `items()` had to result in a list and there was not a reasonable way to make sense of this when the family was infinite. Now that we are allowed to return iterators for it, we can add this.\n\nHonestly, I don't think this was ever meant to be treated so precisely as an object in `Sets`. What I do not support is removing functionality and increasing code duplication (without a good reason; the reasoning you have given does not meet that standard to me).",
    "created_at": "2022-08-16T01:31:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557516",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:85'>Comment 85:</a>
Replying to [@mkoeppe](#comment%3A83):
> Sorry, Travis, your theory that key-value pairs are somehow the elements is completely unsubstantiated. There is no place in the code where key-value pairs even appear. Dicts at least have an `__items__` method, but a `Family` does not.

You mean in spite of all of the classes' documentation, the `cardinality()`, the equality, the `__getitem__()`, and the `keys()`? One implementation even stores a `dict`; the `TrivialFamily` does not because it is wasteful.

IIRC, not having an `items()` comes from the fact this was implemented in Python2, when `items()` had to result in a list and there was not a reasonable way to make sense of this when the family was infinite. Now that we are allowed to return iterators for it, we can add this.

Honestly, I don't think this was ever meant to be treated so precisely as an object in `Sets`. What I do not support is removing functionality and increasing code duplication (without a good reason; the reasoning you have given does not meet that standard to me).



---

archive/issue_comments_557517.json:
```json
{
    "body": "<a id='comment:86'>Comment 86:</a>\nReplying to [@mkoeppe](#comment%3A84):\n> Replying to [@tscrim](#comment%3A79):\n> > Actually, since you are changing the category (to `SetsWithMaps`) [...]\n\n> \n> You may want to develop this line of reasoning a bit further if you want to use it. \n\nWhat do you mean by \"use it\" here? As justification for this argument (which I would then read your statement as very passive-aggressive)? Or do you mean to implement a new object that would be a replacement for the functionality of `Family` that you are trying to remove?",
    "created_at": "2022-08-16T01:33:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557517",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:86'>Comment 86:</a>
Replying to [@mkoeppe](#comment%3A84):
> Replying to [@tscrim](#comment%3A79):
> > Actually, since you are changing the category (to `SetsWithMaps`) [...]

> 
> You may want to develop this line of reasoning a bit further if you want to use it. 

What do you mean by "use it" here? As justification for this argument (which I would then read your statement as very passive-aggressive)? Or do you mean to implement a new object that would be a replacement for the functionality of `Family` that you are trying to remove?



---

archive/issue_comments_557518.json:
```json
{
    "body": "<a id='comment:87'>Comment 87:</a>\nReplying to [@tscrim](#comment%3A85):\n> Replying to [@mkoeppe](#comment%3A83):\n> > Sorry, Travis, your theory that key-value pairs are somehow the elements is completely unsubstantiated. There is no place in the code where key-value pairs even appear. Dicts at least have an `__items__` method, but a `Family` does not.\n\n> \n> You mean in spite of all of the classes' documentation, the `cardinality()`, the equality, the `__getitem__()`, and the `keys()`? One implementation even stores a `dict`\n\nYes, there are no key-value pairs anywhere in this code.",
    "created_at": "2022-08-16T01:35:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557518",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:87'>Comment 87:</a>
Replying to [@tscrim](#comment%3A85):
> Replying to [@mkoeppe](#comment%3A83):
> > Sorry, Travis, your theory that key-value pairs are somehow the elements is completely unsubstantiated. There is no place in the code where key-value pairs even appear. Dicts at least have an `__items__` method, but a `Family` does not.

> 
> You mean in spite of all of the classes' documentation, the `cardinality()`, the equality, the `__getitem__()`, and the `keys()`? One implementation even stores a `dict`

Yes, there are no key-value pairs anywhere in this code.



---

archive/issue_comments_557519.json:
```json
{
    "body": "<a id='comment:88'>Comment 88:</a>\nAnd, more importantly, nothing in the API uses key-value pairs, and hence no code that uses a `Family` can refer to key-values.",
    "created_at": "2022-08-16T01:36:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557519",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:88'>Comment 88:</a>
And, more importantly, nothing in the API uses key-value pairs, and hence no code that uses a `Family` can refer to key-values.



---

archive/issue_comments_557520.json:
```json
{
    "body": "<a id='comment:89'>Comment 89:</a>\nReplying to [@mkoeppe](#comment%3A88):\n> And, more importantly, nothing in the API uses key-value pairs, and hence no code that uses a `Family` can refer to key-values.\n\nSo this doesn't count:\n\n```\n[(k, F[k]) for k in F.keys()]\n```\nwhich is just a slight modification of\n\n```\n[(k, d[k]) for k in d]\n```\nfor a `dict` `d`?\n\nA `dict` only has one thing that returns the pairs, which is `items()`. The key-value pairs are also implicit in the equality comparison; more explicitly when it not a lazy family (comparing the `_enumeration` or `_dictionary`).",
    "created_at": "2022-08-16T01:40:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557520",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:89'>Comment 89:</a>
Replying to [@mkoeppe](#comment%3A88):
> And, more importantly, nothing in the API uses key-value pairs, and hence no code that uses a `Family` can refer to key-values.

So this doesn't count:

```
[(k, F[k]) for k in F.keys()]
```
which is just a slight modification of

```
[(k, d[k]) for k in d]
```
for a `dict` `d`?

A `dict` only has one thing that returns the pairs, which is `items()`. The key-value pairs are also implicit in the equality comparison; more explicitly when it not a lazy family (comparing the `_enumeration` or `_dictionary`).



---

archive/issue_comments_557521.json:
```json
{
    "body": "<a id='comment:90'>Comment 90:</a>\nReplying to [@tscrim](#comment%3A89):\n> Replying to [@mkoeppe](#comment%3A88):\n> > And, more importantly, nothing in the API uses key-value pairs, and hence no code that uses a `Family` can refer to key-values.\n\n> \n> So this doesn't count:\n> \n> ```\n> [(k, F[k]) for k in F.keys()]\n> ```\n\nIt's iterating over the keys. What's your point?",
    "created_at": "2022-08-16T01:45:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557521",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:90'>Comment 90:</a>
Replying to [@tscrim](#comment%3A89):
> Replying to [@mkoeppe](#comment%3A88):
> > And, more importantly, nothing in the API uses key-value pairs, and hence no code that uses a `Family` can refer to key-values.

> 
> So this doesn't count:
> 
> ```
> [(k, F[k]) for k in F.keys()]
> ```

It's iterating over the keys. What's your point?



---

archive/issue_comments_557522.json:
```json
{
    "body": "<a id='comment:91'>Comment 91:</a>\nEven with this ticket, a `Family` will continue to have `keys` and `__getitem__` methods in case this was unclear.",
    "created_at": "2022-08-16T01:49:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557522",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:91'>Comment 91:</a>
Even with this ticket, a `Family` will continue to have `keys` and `__getitem__` methods in case this was unclear.



---

archive/issue_comments_557523.json:
```json
{
    "body": "<a id='comment:92'>Comment 92:</a>\nReplying to [@mkoeppe](#comment%3A90):\n> Replying to [@tscrim](#comment%3A89):\n> > Replying to [@mkoeppe](#comment%3A88):\n> > > And, more importantly, nothing in the API uses key-value pairs, and hence no code that uses a `Family` can refer to key-values.\n\n> > \n> > So this doesn't count:\n> > \n> > ```\n> > [(k, F[k]) for k in F.keys()]\n> > ```\n\n> \n> It's iterating over the keys. What's your point?\n\nIt has a very similar API to `dict` with an easy way to produce key-value pairs. With Python3, this is less useful for `dict` (as it doesn't create a new list of values but simply iterates over them), but `Family` was not written in that era.",
    "created_at": "2022-08-16T01:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557523",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:92'>Comment 92:</a>
Replying to [@mkoeppe](#comment%3A90):
> Replying to [@tscrim](#comment%3A89):
> > Replying to [@mkoeppe](#comment%3A88):
> > > And, more importantly, nothing in the API uses key-value pairs, and hence no code that uses a `Family` can refer to key-values.

> > 
> > So this doesn't count:
> > 
> > ```
> > [(k, F[k]) for k in F.keys()]
> > ```

> 
> It's iterating over the keys. What's your point?

It has a very similar API to `dict` with an easy way to produce key-value pairs. With Python3, this is less useful for `dict` (as it doesn't create a new list of values but simply iterates over them), but `Family` was not written in that era.



---

archive/issue_comments_557524.json:
```json
{
    "body": "<a id='comment:93'>Comment 93:</a>\nWould you say that the behavior of `dict.__iter__` to iterate over keys, not key-value pairs, \"is an abuse that we should document, but we have it because it is so convenient for the uses of this class?\"",
    "created_at": "2022-08-16T02:01:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557524",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:93'>Comment 93:</a>
Would you say that the behavior of `dict.__iter__` to iterate over keys, not key-value pairs, "is an abuse that we should document, but we have it because it is so convenient for the uses of this class?"



---

archive/issue_comments_557525.json:
```json
{
    "body": "<a id='comment:94'>Comment 94:</a>\nReplying to [@mkoeppe](#comment%3A91):\n> Even with this ticket, a `Family` will continue to have `keys` and `__getitem__` methods in case this was unclear.\n\nThat's not the issue. You are at least strongly suggesting to change the behavior of `cardinality()` because it doesn't match the description you using as an object in `Sets`. So functionally it becomes no different than `ImageSubset` with an extra check on the defining map. Thus we should replace `Family` with `ImageSubset` (as a fa\u00e7ade parent) and equality checks with checking the map (which contains both the keys and the values). This not only is more complicated to use (and potentially slower), it also does not have the ability to define an infinite sequence indexed by some enumerated set.",
    "created_at": "2022-08-16T02:04:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557525",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:94'>Comment 94:</a>
Replying to [@mkoeppe](#comment%3A91):
> Even with this ticket, a `Family` will continue to have `keys` and `__getitem__` methods in case this was unclear.

That's not the issue. You are at least strongly suggesting to change the behavior of `cardinality()` because it doesn't match the description you using as an object in `Sets`. So functionally it becomes no different than `ImageSubset` with an extra check on the defining map. Thus we should replace `Family` with `ImageSubset` (as a façade parent) and equality checks with checking the map (which contains both the keys and the values). This not only is more complicated to use (and potentially slower), it also does not have the ability to define an infinite sequence indexed by some enumerated set.



---

archive/issue_comments_557526.json:
```json
{
    "body": "<a id='comment:95'>Comment 95:</a>\nReplying to [@mkoeppe](#comment%3A93):\n> Would you say that the behavior of `dict.__iter__` to iterate over keys, not key-value pairs, \"is an abuse that we should document, but we have it because it is so convenient for the uses of this class?\"\n\nIf it was an object in `Sets`, yes I would.",
    "created_at": "2022-08-16T02:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557526",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:95'>Comment 95:</a>
Replying to [@mkoeppe](#comment%3A93):
> Would you say that the behavior of `dict.__iter__` to iterate over keys, not key-value pairs, "is an abuse that we should document, but we have it because it is so convenient for the uses of this class?"

If it was an object in `Sets`, yes I would.



---

archive/issue_comments_557527.json:
```json
{
    "body": "<a id='comment:96'>Comment 96:</a>\nBut as a subclass of `collections.abc.Collection`, do you see an abuse?",
    "created_at": "2022-08-16T02:10:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557527",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:96'>Comment 96:</a>
But as a subclass of `collections.abc.Collection`, do you see an abuse?



---

archive/issue_comments_557528.json:
```json
{
    "body": "<a id='comment:97'>Comment 97:</a>\nThat doesn't have anywhere near such precise definitions. All that is required is those methods are implemented. I don't think there is any consistency requirements. There are natural ones we impose, such as the length of the result of `__iter__` is the same as `__len__`, but note that both have to be implemented by the programmer.",
    "created_at": "2022-08-16T02:16:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557528",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:97'>Comment 97:</a>
That doesn't have anywhere near such precise definitions. All that is required is those methods are implemented. I don't think there is any consistency requirements. There are natural ones we impose, such as the length of the result of `__iter__` is the same as `__len__`, but note that both have to be implemented by the programmer.



---

archive/issue_comments_557529.json:
```json
{
    "body": "<a id='comment:98'>Comment 98:</a>\nReplying to [@tscrim](#comment%3A94):\n> it also does not have the ability to define an infinite sequence indexed by some enumerated set.\n\nOh I see. You are concerned that you will not be able to iterate over `values()` any more and see duplicate elements that may be appearing in this use case?",
    "created_at": "2022-08-16T02:16:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557529",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:98'>Comment 98:</a>
Replying to [@tscrim](#comment%3A94):
> it also does not have the ability to define an infinite sequence indexed by some enumerated set.

Oh I see. You are concerned that you will not be able to iterate over `values()` any more and see duplicate elements that may be appearing in this use case?



---

archive/issue_comments_557530.json:
```json
{
    "body": "<a id='comment:99'>Comment 99:</a>\nReplying to [@tscrim](#comment%3A95):\n> Replying to [@mkoeppe](#comment%3A93):\n> > Would you say that the behavior of `dict.__iter__` to iterate over keys, not key-value pairs, \"is an abuse that we should document, but we have it because it is so convenient for the uses of this class?\"\n\n> \n> If it was an object in `Sets`, yes I would.\n\nWhy precisely does it matter to you whether this question is asked about a parent in `Sets`?",
    "created_at": "2022-08-16T02:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557530",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:99'>Comment 99:</a>
Replying to [@tscrim](#comment%3A95):
> Replying to [@mkoeppe](#comment%3A93):
> > Would you say that the behavior of `dict.__iter__` to iterate over keys, not key-value pairs, "is an abuse that we should document, but we have it because it is so convenient for the uses of this class?"

> 
> If it was an object in `Sets`, yes I would.

Why precisely does it matter to you whether this question is asked about a parent in `Sets`?



---

archive/issue_comments_557531.json:
```json
{
    "body": "<a id='comment:100'>Comment 100:</a>\nReplying to [@mkoeppe](#comment%3A98):\n> Replying to [@tscrim](#comment%3A94):\n> > it also does not have the ability to define an infinite sequence indexed by some enumerated set.\n\n> \n> Oh I see. You are concerned that you will not be able to iterate over `values()` any more and see duplicate elements that may be appearing in this use case?\n\nYes, that would be the functionality that would be lost if we ended up replacing `Family` by `ImageSubset`.",
    "created_at": "2022-08-16T02:32:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557531",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:100'>Comment 100:</a>
Replying to [@mkoeppe](#comment%3A98):
> Replying to [@tscrim](#comment%3A94):
> > it also does not have the ability to define an infinite sequence indexed by some enumerated set.

> 
> Oh I see. You are concerned that you will not be able to iterate over `values()` any more and see duplicate elements that may be appearing in this use case?

Yes, that would be the functionality that would be lost if we ended up replacing `Family` by `ImageSubset`.



---

archive/issue_comments_557532.json:
```json
{
    "body": "<a id='comment:101'>Comment 101:</a>\nReplying to [@mkoeppe](#comment%3A99):\n> Replying to [@tscrim](#comment%3A95):\n> > Replying to [@mkoeppe](#comment%3A93):\n> > > Would you say that the behavior of `dict.__iter__` to iterate over keys, not key-value pairs, \"is an abuse that we should document, but we have it because it is so convenient for the uses of this class?\"\n\n> > \n> > If it was an object in `Sets`, yes I would.\n\n> \n> Why precisely does it matter to you whether this question is asked about a parent in `Sets`?\n\nMy understand is this was the starting point for your argument for saying things are wrong: `Family` is in `Sets` but (its values are) not respecting the mathematical description.",
    "created_at": "2022-08-16T02:33:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557532",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:101'>Comment 101:</a>
Replying to [@mkoeppe](#comment%3A99):
> Replying to [@tscrim](#comment%3A95):
> > Replying to [@mkoeppe](#comment%3A93):
> > > Would you say that the behavior of `dict.__iter__` to iterate over keys, not key-value pairs, "is an abuse that we should document, but we have it because it is so convenient for the uses of this class?"

> > 
> > If it was an object in `Sets`, yes I would.

> 
> Why precisely does it matter to you whether this question is asked about a parent in `Sets`?

My understand is this was the starting point for your argument for saying things are wrong: `Family` is in `Sets` but (its values are) not respecting the mathematical description.



---

archive/issue_comments_557533.json:
```json
{
    "body": "<a id='comment:102'>Comment 102:</a>\nReplying to [@tscrim](#comment%3A100):\n> if we ended up replacing `Family` by `ImageSubset`.\n\nMy branch does not do this, why do you speculate about it?",
    "created_at": "2022-08-16T02:33:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557533",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:102'>Comment 102:</a>
Replying to [@tscrim](#comment%3A100):
> if we ended up replacing `Family` by `ImageSubset`.

My branch does not do this, why do you speculate about it?



---

archive/issue_comments_557534.json:
```json
{
    "body": "<a id='comment:103'>Comment 103:</a>\nReplying to [@tscrim](#comment%3A100):\n> Replying to [@mkoeppe](#comment%3A98):\n> > Replying to [@tscrim](#comment%3A94):\n> > > it also does not have the ability to define an infinite sequence indexed by some enumerated set.\n\n> > \n> > Oh I see. You are concerned that you will not be able to iterate over `values()` any more and see duplicate elements that may be appearing in this use case?\n\n> \n> Yes, that would be the functionality that would be lost\n\nOK then, I propose the following. I revert the changes to the `values()` method so that it is not an `ImageSubobject` as proposed but gives an iterable that runs parallel to `keys`. (I can also throw in an `items()` method.)\n\nThen there could be a separate method `as_set` that would return the `ImageSubobject`.",
    "created_at": "2022-08-16T02:41:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557534",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:103'>Comment 103:</a>
Replying to [@tscrim](#comment%3A100):
> Replying to [@mkoeppe](#comment%3A98):
> > Replying to [@tscrim](#comment%3A94):
> > > it also does not have the ability to define an infinite sequence indexed by some enumerated set.

> > 
> > Oh I see. You are concerned that you will not be able to iterate over `values()` any more and see duplicate elements that may be appearing in this use case?

> 
> Yes, that would be the functionality that would be lost

OK then, I propose the following. I revert the changes to the `values()` method so that it is not an `ImageSubobject` as proposed but gives an iterable that runs parallel to `keys`. (I can also throw in an `items()` method.)

Then there could be a separate method `as_set` that would return the `ImageSubobject`.



---

archive/issue_comments_557535.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBut I would still do the change to `cardinality`. It is dictated by `__iter__` and `cardinality` as part of the `EnumeratedSets()` category. \n\n`cardinality` is clearly not needed for the use case of modeling infinite sequences or really anything that needs the key-value association.",
    "created_at": "2022-08-16T02:43:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557535",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'>Comment 4:</a>
But I would still do the change to `cardinality`. It is dictated by `__iter__` and `cardinality` as part of the `EnumeratedSets()` category. 

`cardinality` is clearly not needed for the use case of modeling infinite sequences or really anything that needs the key-value association.



---

archive/issue_comments_557536.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a09dac6c8a7ddb9e0fa79c4c0e6c2ce242de598c\">a09dac6</a></td><td><code>LazyFamily: Make 'values' an iterator, add iterator 'items', add method 'as_set'</code></td></tr></table>\n",
    "created_at": "2022-08-16T02:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557536",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a09dac6c8a7ddb9e0fa79c4c0e6c2ce242de598c">a09dac6</a></td><td><code>LazyFamily: Make 'values' an iterator, add iterator 'items', add method 'as_set'</code></td></tr></table>




---

archive/issue_comments_557537.json:
```json
{
    "body": "Changed commit from **[ce90b1c](https://github.com/sagemath/sagetrac-mirror/commit/ce90b1cdfe7c5c2688ed32900857113a83840f6c)** to **[a09dac6](https://github.com/sagemath/sagetrac-mirror/commit/a09dac6c8a7ddb9e0fa79c4c0e6c2ce242de598c)**",
    "created_at": "2022-08-16T02:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557537",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ce90b1c](https://github.com/sagemath/sagetrac-mirror/commit/ce90b1cdfe7c5c2688ed32900857113a83840f6c)** to **[a09dac6](https://github.com/sagemath/sagetrac-mirror/commit/a09dac6c8a7ddb9e0fa79c4c0e6c2ce242de598c)**



---

archive/issue_comments_557538.json:
```json
{
    "body": "Changed commit from **[a09dac6](https://github.com/sagemath/sagetrac-mirror/commit/a09dac6c8a7ddb9e0fa79c4c0e6c2ce242de598c)** to **[35d4bb6](https://github.com/sagemath/sagetrac-mirror/commit/35d4bb6f0477df27a67b80fb7b62a923cbfa4c8c)**",
    "created_at": "2022-08-16T02:56:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557538",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a09dac6](https://github.com/sagemath/sagetrac-mirror/commit/a09dac6c8a7ddb9e0fa79c4c0e6c2ce242de598c)** to **[35d4bb6](https://github.com/sagemath/sagetrac-mirror/commit/35d4bb6f0477df27a67b80fb7b62a923cbfa4c8c)**



---

archive/issue_comments_557539.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35d4bb6f0477df27a67b80fb7b62a923cbfa4c8c\">35d4bb6</a></td><td><code>AbstractFamily.items: New</code></td></tr></table>\n",
    "created_at": "2022-08-16T02:56:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557539",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35d4bb6f0477df27a67b80fb7b62a923cbfa4c8c">35d4bb6</a></td><td><code>AbstractFamily.items: New</code></td></tr></table>




---

archive/issue_comments_557540.json:
```json
{
    "body": "<a id='comment:107'>Comment 107:</a>\nReplying to [@mkoeppe](#comment%3A102):\n> Replying to [@tscrim](#comment%3A100):\n> > if we ended up replacing `Family` by `ImageSubset`.\n\n> \n> My branch does not do this, why do you speculate about it?\n\ncomment:94. As long as you say the `cardinality()` may be wrong or talk about the function being injective, this holds.",
    "created_at": "2022-08-16T03:01:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557540",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:107'>Comment 107:</a>
Replying to [@mkoeppe](#comment%3A102):
> Replying to [@tscrim](#comment%3A100):
> > if we ended up replacing `Family` by `ImageSubset`.

> 
> My branch does not do this, why do you speculate about it?

comment:94. As long as you say the `cardinality()` may be wrong or talk about the function being injective, this holds.



---

archive/issue_comments_557541.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nI think we are at least getting closer to a solution we are both content with. Thank you for discussing this with me.\n\nI am not sure I agree with keeping a reference to the result of `as_set`, much less have it be created on initialization of the `LazyFamily`. Why can't this construction just be done in `as_set()` (and make that an `@cached_method`)?\n\nI don't think the `_element_constructor_` will work. You also forgot to change the `values()` code from `items()`.\n\nI am not sure how I feel about the redirect with `__iter__`. I will need to profile this as I think we should make sure this is as fast as possible.",
    "created_at": "2022-08-16T03:08:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557541",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'>Comment 8:</a>
I think we are at least getting closer to a solution we are both content with. Thank you for discussing this with me.

I am not sure I agree with keeping a reference to the result of `as_set`, much less have it be created on initialization of the `LazyFamily`. Why can't this construction just be done in `as_set()` (and make that an `@cached_method`)?

I don't think the `_element_constructor_` will work. You also forgot to change the `values()` code from `items()`.

I am not sure how I feel about the redirect with `__iter__`. I will need to profile this as I think we should make sure this is as fast as possible.



---

archive/issue_comments_557542.json:
```json
{
    "body": "<a id='comment:109'>Comment 109:</a>\nReplying to [@tscrim](#comment%3A108):\n> I am not sure I agree with keeping a reference to the result of `as_set`, much less have it be created on initialization of the `LazyFamily`. Why can't this construction just be done in `as_set()` (and make that an `@cached_method`)?\n\nIt allows me to delegate to the `ImageSubobject` methods.\nBut sure, the same thing could be done with cached_method.",
    "created_at": "2022-08-16T03:11:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557542",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:109'>Comment 109:</a>
Replying to [@tscrim](#comment%3A108):
> I am not sure I agree with keeping a reference to the result of `as_set`, much less have it be created on initialization of the `LazyFamily`. Why can't this construction just be done in `as_set()` (and make that an `@cached_method`)?

It allows me to delegate to the `ImageSubobject` methods.
But sure, the same thing could be done with cached_method.



---

archive/issue_comments_557543.json:
```json
{
    "body": "<a id='comment:0'>Comment 0:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65f1d9078b1767291dc4274e45c17d354d7962e5\">65f1d90</a></td><td><code>LazyFamily.values: Fix up</code></td></tr></table>\n",
    "created_at": "2022-08-16T03:13:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557543",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:0'>Comment 0:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65f1d9078b1767291dc4274e45c17d354d7962e5">65f1d90</a></td><td><code>LazyFamily.values: Fix up</code></td></tr></table>




---

archive/issue_comments_557544.json:
```json
{
    "body": "Changed commit from **[35d4bb6](https://github.com/sagemath/sagetrac-mirror/commit/35d4bb6f0477df27a67b80fb7b62a923cbfa4c8c)** to **[65f1d90](https://github.com/sagemath/sagetrac-mirror/commit/65f1d9078b1767291dc4274e45c17d354d7962e5)**",
    "created_at": "2022-08-16T03:13:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557544",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[35d4bb6](https://github.com/sagemath/sagetrac-mirror/commit/35d4bb6f0477df27a67b80fb7b62a923cbfa4c8c)** to **[65f1d90](https://github.com/sagemath/sagetrac-mirror/commit/65f1d9078b1767291dc4274e45c17d354d7962e5)**



---

archive/issue_comments_557545.json:
```json
{
    "body": "Changed commit from **[65f1d90](https://github.com/sagemath/sagetrac-mirror/commit/65f1d9078b1767291dc4274e45c17d354d7962e5)** to **[6acbf42](https://github.com/sagemath/sagetrac-mirror/commit/6acbf42b307add26e50260b73b67df484fd876e0)**",
    "created_at": "2022-08-16T03:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557545",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[65f1d90](https://github.com/sagemath/sagetrac-mirror/commit/65f1d9078b1767291dc4274e45c17d354d7962e5)** to **[6acbf42](https://github.com/sagemath/sagetrac-mirror/commit/6acbf42b307add26e50260b73b67df484fd876e0)**



---

archive/issue_comments_557546.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6acbf42b307add26e50260b73b67df484fd876e0\">6acbf42</a></td><td><code>LazyFamily._element_constructor_: Fix up</code></td></tr></table>\n",
    "created_at": "2022-08-16T03:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557546",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:1'>Comment 1:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6acbf42b307add26e50260b73b67df484fd876e0">6acbf42</a></td><td><code>LazyFamily._element_constructor_: Fix up</code></td></tr></table>




---

archive/issue_comments_557547.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ada5f35c549ba574796773297c5e6857e1962c4d\">ada5f35</a></td><td><code>LazyFamily: Construct the ImageSubobject in as_set, change uses</code></td></tr></table>\n",
    "created_at": "2022-08-16T03:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557547",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ada5f35c549ba574796773297c5e6857e1962c4d">ada5f35</a></td><td><code>LazyFamily: Construct the ImageSubobject in as_set, change uses</code></td></tr></table>




---

archive/issue_comments_557548.json:
```json
{
    "body": "Changed commit from **[6acbf42](https://github.com/sagemath/sagetrac-mirror/commit/6acbf42b307add26e50260b73b67df484fd876e0)** to **[ada5f35](https://github.com/sagemath/sagetrac-mirror/commit/ada5f35c549ba574796773297c5e6857e1962c4d)**",
    "created_at": "2022-08-16T03:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557548",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6acbf42](https://github.com/sagemath/sagetrac-mirror/commit/6acbf42b307add26e50260b73b67df484fd876e0)** to **[ada5f35](https://github.com/sagemath/sagetrac-mirror/commit/ada5f35c549ba574796773297c5e6857e1962c4d)**



---

archive/issue_comments_557549.json:
```json
{
    "body": "<a id='comment:113'>Comment 113:</a>\nReplying to [@tscrim](#comment%3A108):\n> I don't think the `_element_constructor_` will work.\n\nYes, this needs a bit more work in `ImageSubobject` so that the relevant case is handled",
    "created_at": "2022-08-16T03:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557549",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:113'>Comment 113:</a>
Replying to [@tscrim](#comment%3A108):
> I don't think the `_element_constructor_` will work.

Yes, this needs a bit more work in `ImageSubobject` so that the relevant case is handled



---

archive/issue_comments_557550.json:
```json
{
    "body": "Changed commit from **[ada5f35](https://github.com/sagemath/sagetrac-mirror/commit/ada5f35c549ba574796773297c5e6857e1962c4d)** to **[679b41b](https://github.com/sagemath/sagetrac-mirror/commit/679b41bfbbd45d48eea3e31324d5462b882e243f)**",
    "created_at": "2022-08-16T03:37:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557550",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ada5f35](https://github.com/sagemath/sagetrac-mirror/commit/ada5f35c549ba574796773297c5e6857e1962c4d)** to **[679b41b](https://github.com/sagemath/sagetrac-mirror/commit/679b41bfbbd45d48eea3e31324d5462b882e243f)**



---

archive/issue_comments_557551.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/679b41bfbbd45d48eea3e31324d5462b882e243f\">679b41b</a></td><td><code>AbstractFamily.as_set: New</code></td></tr></table>\n",
    "created_at": "2022-08-16T03:37:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557551",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/679b41bfbbd45d48eea3e31324d5462b882e243f">679b41b</a></td><td><code>AbstractFamily.as_set: New</code></td></tr></table>




---

archive/issue_comments_557552.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c6efa9e06936233affb16fabeb5388387fe5f4d\">5c6efa9</a></td><td><code>src/sage/sets/family.py: Update documentation</code></td></tr></table>\n",
    "created_at": "2022-08-16T05:30:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557552",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c6efa9e06936233affb16fabeb5388387fe5f4d">5c6efa9</a></td><td><code>src/sage/sets/family.py: Update documentation</code></td></tr></table>




---

archive/issue_comments_557553.json:
```json
{
    "body": "Changed commit from **[679b41b](https://github.com/sagemath/sagetrac-mirror/commit/679b41bfbbd45d48eea3e31324d5462b882e243f)** to **[5c6efa9](https://github.com/sagemath/sagetrac-mirror/commit/5c6efa9e06936233affb16fabeb5388387fe5f4d)**",
    "created_at": "2022-08-16T05:30:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557553",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[679b41b](https://github.com/sagemath/sagetrac-mirror/commit/679b41bfbbd45d48eea3e31324d5462b882e243f)** to **[5c6efa9](https://github.com/sagemath/sagetrac-mirror/commit/5c6efa9e06936233affb16fabeb5388387fe5f4d)**



---

archive/issue_comments_557554.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,5 +4,4 @@\n \n Follow-ups:\n - If the `function` from indices to objects is a morphism, then the category can be taken from the codomain.\n-- We can implement `LazyFamily.values()` to return an  `ImageSubobject`. \n \n``````\n",
    "created_at": "2022-08-16T05:50:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557554",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,5 +4,4 @@
 
 Follow-ups:
 - If the `function` from indices to objects is a morphism, then the category can be taken from the codomain.
-- We can implement `LazyFamily.values()` to return an  `ImageSubobject`. 
 
``````




---

archive/issue_comments_557555.json:
```json
{
    "body": "Changed commit from **[5c6efa9](https://github.com/sagemath/sagetrac-mirror/commit/5c6efa9e06936233affb16fabeb5388387fe5f4d)** to **[f558f40](https://github.com/sagemath/sagetrac-mirror/commit/f558f405a65432410a947da26c9b6fb147b21c66)**",
    "created_at": "2022-08-16T05:56:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557555",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5c6efa9](https://github.com/sagemath/sagetrac-mirror/commit/5c6efa9e06936233affb16fabeb5388387fe5f4d)** to **[f558f40](https://github.com/sagemath/sagetrac-mirror/commit/f558f405a65432410a947da26c9b6fb147b21c66)**



---

archive/issue_comments_557556.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f558f405a65432410a947da26c9b6fb147b21c66\">f558f40</a></td><td><code>src/sage/sets/family.py: Add doctests</code></td></tr></table>\n",
    "created_at": "2022-08-16T05:56:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557556",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>Comment 7:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f558f405a65432410a947da26c9b6fb147b21c66">f558f40</a></td><td><code>src/sage/sets/family.py: Add doctests</code></td></tr></table>




---

archive/issue_comments_557557.json:
```json
{
    "body": "Dependencies: **#34375**",
    "created_at": "2022-08-16T20:12:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557557",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#34375**



---

archive/issue_comments_557558.json:
```json
{
    "body": "Changed dependencies from **#34375** to **#34375, #34377**",
    "created_at": "2022-08-16T21:41:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557558",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#34375** to **#34375, #34377**



---

archive/issue_comments_557559.json:
```json
{
    "body": "Changed commit from **[f558f40](https://github.com/sagemath/sagetrac-mirror/commit/f558f405a65432410a947da26c9b6fb147b21c66)** to **[35609f2](https://github.com/sagemath/sagetrac-mirror/commit/35609f22b6681c9ba43f60262f2f4af829605865)**",
    "created_at": "2022-08-16T22:57:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557559",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f558f40](https://github.com/sagemath/sagetrac-mirror/commit/f558f405a65432410a947da26c9b6fb147b21c66)** to **[35609f2](https://github.com/sagemath/sagetrac-mirror/commit/35609f22b6681c9ba43f60262f2f4af829605865)**



---

archive/issue_comments_557560.json:
```json
{
    "body": "<a id='comment:0'>Comment 0:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9c7c02dae017057cadfa1e6f1bc08b8ed0d6072\">c9c7c02</a></td><td><code>SpecialJordanAlgebra.gens(): Do not try to make a tuple from an infinite iterable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a82d05f0b2b5ca7b9de723be603503eaa309a89b\">a82d05f</a></td><td><code>src/sage/quivers/path_semigroup.py: Fix doctest output</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8bb68fe2824b45c2aa9cbebf5fa308b86bbbe43\">a8bb68f</a></td><td><code>ImageSet.cardinality: Fix fallback, add examples</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44d46cdd5a75e4cb76d7cb8862979b057fcf6fde\">44d46cd</a></td><td><code>src/sage/sets/image_set.py: Add documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35609f22b6681c9ba43f60262f2f4af829605865\">35609f2</a></td><td><code>Family: Pass on keywords is_injective, inverse; implement _element_constructor_</code></td></tr></table>\n",
    "created_at": "2022-08-16T22:57:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557560",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:0'>Comment 0:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9c7c02dae017057cadfa1e6f1bc08b8ed0d6072">c9c7c02</a></td><td><code>SpecialJordanAlgebra.gens(): Do not try to make a tuple from an infinite iterable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a82d05f0b2b5ca7b9de723be603503eaa309a89b">a82d05f</a></td><td><code>src/sage/quivers/path_semigroup.py: Fix doctest output</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8bb68fe2824b45c2aa9cbebf5fa308b86bbbe43">a8bb68f</a></td><td><code>ImageSet.cardinality: Fix fallback, add examples</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44d46cdd5a75e4cb76d7cb8862979b057fcf6fde">44d46cd</a></td><td><code>src/sage/sets/image_set.py: Add documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35609f22b6681c9ba43f60262f2f4af829605865">35609f2</a></td><td><code>Family: Pass on keywords is_injective, inverse; implement _element_constructor_</code></td></tr></table>




---

archive/issue_comments_557561.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21a7d8d31051377d245c6ec0bc1dfae4897593d8\">21a7d8d</a></td><td><code>src/sage/sets/image_set.py: Handle is_injective='check'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d41813574849b86313b47fa34b16d8ea7b5cf1a0\">d418135</a></td><td><code>src/sage/sets/image_set.py: Handle keyword inverse, implement _element_constructor_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b383b5c3c61ffcdc40e8ebd19b197add64372f2\">1b383b5</a></td><td><code>ImageSet.cardinality: Fix fallback, add examples</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/318cf6218a1678b71c413e2cd6a404a5e5c47062\">318cf62</a></td><td><code>src/sage/sets/image_set.py: Add documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52f6ca6ca8ed4655442bf24d8918d7b721a900d1\">52f6ca6</a></td><td><code>src/sage/sets/image_set.py: Improve example</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85e3b46495821942253641dce5b14bdd69c57f53\">85e3b46</a></td><td><code>Merge #34377</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/896f8cef78b4714ee566cb6576aeb5ee00f86853\">896f8ce</a></td><td><code>src/sage/sets/family.py: Expand polyhedral example</code></td></tr></table>\n",
    "created_at": "2022-08-16T23:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557561",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:1'>Comment 1:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21a7d8d31051377d245c6ec0bc1dfae4897593d8">21a7d8d</a></td><td><code>src/sage/sets/image_set.py: Handle is_injective='check'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d41813574849b86313b47fa34b16d8ea7b5cf1a0">d418135</a></td><td><code>src/sage/sets/image_set.py: Handle keyword inverse, implement _element_constructor_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b383b5c3c61ffcdc40e8ebd19b197add64372f2">1b383b5</a></td><td><code>ImageSet.cardinality: Fix fallback, add examples</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/318cf6218a1678b71c413e2cd6a404a5e5c47062">318cf62</a></td><td><code>src/sage/sets/image_set.py: Add documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52f6ca6ca8ed4655442bf24d8918d7b721a900d1">52f6ca6</a></td><td><code>src/sage/sets/image_set.py: Improve example</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85e3b46495821942253641dce5b14bdd69c57f53">85e3b46</a></td><td><code>Merge #34377</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/896f8cef78b4714ee566cb6576aeb5ee00f86853">896f8ce</a></td><td><code>src/sage/sets/family.py: Expand polyhedral example</code></td></tr></table>




---

archive/issue_comments_557562.json:
```json
{
    "body": "Changed commit from **[35609f2](https://github.com/sagemath/sagetrac-mirror/commit/35609f22b6681c9ba43f60262f2f4af829605865)** to **[896f8ce](https://github.com/sagemath/sagetrac-mirror/commit/896f8cef78b4714ee566cb6576aeb5ee00f86853)**",
    "created_at": "2022-08-16T23:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557562",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[35609f2](https://github.com/sagemath/sagetrac-mirror/commit/35609f22b6681c9ba43f60262f2f4af829605865)** to **[896f8ce](https://github.com/sagemath/sagetrac-mirror/commit/896f8cef78b4714ee566cb6576aeb5ee00f86853)**



---

archive/issue_comments_557563.json:
```json
{
    "body": "Changed commit from **[896f8ce](https://github.com/sagemath/sagetrac-mirror/commit/896f8cef78b4714ee566cb6576aeb5ee00f86853)** to **[e696732](https://github.com/sagemath/sagetrac-mirror/commit/e6967324bbc4a5fa5f6841e7ec3366b51437f2b9)**",
    "created_at": "2022-08-17T22:07:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557563",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[896f8ce](https://github.com/sagemath/sagetrac-mirror/commit/896f8cef78b4714ee566cb6576aeb5ee00f86853)** to **[e696732](https://github.com/sagemath/sagetrac-mirror/commit/e6967324bbc4a5fa5f6841e7ec3366b51437f2b9)**



---

archive/issue_comments_557564.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e8d0234ce66ca99ad7350a9b9d8bab093923319\">9e8d023</a></td><td><code>ImageSubobject.cardinality: Handle infinite cardinalities explicitly</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6aeab7d2b6f5cf61be7f969039c3e3a1d93997ed\">6aeab7d</a></td><td><code>src/sage/sets/image_set.py: Clarify is_injective=False</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9abcd0758417f09d539fb5f7e99c057739056dc\">e9abcd0</a></td><td><code>Merge #34377</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9f840d6e027ff38181608e042bc26be6c9f8a10\">d9f840d</a></td><td><code>TrivialFamily.values: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6967324bbc4a5fa5f6841e7ec3366b51437f2b9\">e696732</a></td><td><code>Set(X): First try X.as_set()</code></td></tr></table>\n",
    "created_at": "2022-08-17T22:07:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557564",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e8d0234ce66ca99ad7350a9b9d8bab093923319">9e8d023</a></td><td><code>ImageSubobject.cardinality: Handle infinite cardinalities explicitly</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6aeab7d2b6f5cf61be7f969039c3e3a1d93997ed">6aeab7d</a></td><td><code>src/sage/sets/image_set.py: Clarify is_injective=False</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9abcd0758417f09d539fb5f7e99c057739056dc">e9abcd0</a></td><td><code>Merge #34377</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9f840d6e027ff38181608e042bc26be6c9f8a10">d9f840d</a></td><td><code>TrivialFamily.values: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6967324bbc4a5fa5f6841e7ec3366b51437f2b9">e696732</a></td><td><code>Set(X): First try X.as_set()</code></td></tr></table>




---

archive/issue_events_436387.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-18T16:51:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34340#event-436387"
}
```



---

archive/issue_events_436388.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-18T16:51:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34340#event-436388"
}
```



---

archive/issue_events_436389.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-18T16:51:39Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "title_is": "Categories for Family",
    "title_was": "Family: Accept category keyword",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34340#event-436389"
}
```



---

archive/issue_comments_557565.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,8 @@\n \n We add keyword `category` to the constructor `Family` and all implementation classes, so that the user can choose the correct category.\n \n+Moreover, we define a (non-full) subcategory of `Sets` named `Families`, which captures the additional structure (= the map from the keys onto the parent).\n+\n Follow-ups:\n - If the `function` from indices to objects is a morphism, then the category can be taken from the codomain.\n \n``````\n",
    "created_at": "2022-08-18T16:51:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557565",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,8 @@
 
 We add keyword `category` to the constructor `Family` and all implementation classes, so that the user can choose the correct category.
 
+Moreover, we define a (non-full) subcategory of `Sets` named `Families`, which captures the additional structure (= the map from the keys onto the parent).
+
 Follow-ups:
 - If the `function` from indices to objects is a morphism, then the category can be taken from the codomain.
 
``````




---

archive/issue_comments_557566.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e02d20dd45dbbd706158414ceb4d8d23b6929026\">e02d20d</a></td><td><code>src/sage/categories/families.py: New</code></td></tr></table>\n",
    "created_at": "2022-08-18T18:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557566",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e02d20dd45dbbd706158414ceb4d8d23b6929026">e02d20d</a></td><td><code>src/sage/categories/families.py: New</code></td></tr></table>




---

archive/issue_comments_557567.json:
```json
{
    "body": "Changed commit from **[e696732](https://github.com/sagemath/sagetrac-mirror/commit/e6967324bbc4a5fa5f6841e7ec3366b51437f2b9)** to **[e02d20d](https://github.com/sagemath/sagetrac-mirror/commit/e02d20dd45dbbd706158414ceb4d8d23b6929026)**",
    "created_at": "2022-08-18T18:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557567",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e696732](https://github.com/sagemath/sagetrac-mirror/commit/e6967324bbc4a5fa5f6841e7ec3366b51437f2b9)** to **[e02d20d](https://github.com/sagemath/sagetrac-mirror/commit/e02d20dd45dbbd706158414ceb4d8d23b6929026)**



---

archive/issue_comments_557568.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ad63858bc9bf7240b9ca24087b575daa776c60b\">6ad6385</a></td><td><code>src/sage/categories/families.py: Add example</code></td></tr></table>\n",
    "created_at": "2022-08-18T18:22:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557568",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ad63858bc9bf7240b9ca24087b575daa776c60b">6ad6385</a></td><td><code>src/sage/categories/families.py: Add example</code></td></tr></table>




---

archive/issue_comments_557569.json:
```json
{
    "body": "Changed commit from **[e02d20d](https://github.com/sagemath/sagetrac-mirror/commit/e02d20dd45dbbd706158414ceb4d8d23b6929026)** to **[6ad6385](https://github.com/sagemath/sagetrac-mirror/commit/6ad63858bc9bf7240b9ca24087b575daa776c60b)**",
    "created_at": "2022-08-18T18:22:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557569",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e02d20d](https://github.com/sagemath/sagetrac-mirror/commit/e02d20dd45dbbd706158414ceb4d8d23b6929026)** to **[6ad6385](https://github.com/sagemath/sagetrac-mirror/commit/6ad63858bc9bf7240b9ca24087b575daa776c60b)**



---

archive/issue_comments_557570.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df1ffec40b4831645dd78e071c9f677ea7ff5166\">df1ffec</a></td><td><code>src/sage/categories/enumerated_families.py: New</code></td></tr></table>\n",
    "created_at": "2022-08-18T19:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557570",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df1ffec40b4831645dd78e071c9f677ea7ff5166">df1ffec</a></td><td><code>src/sage/categories/enumerated_families.py: New</code></td></tr></table>




---

archive/issue_comments_557571.json:
```json
{
    "body": "Changed commit from **[6ad6385](https://github.com/sagemath/sagetrac-mirror/commit/6ad63858bc9bf7240b9ca24087b575daa776c60b)** to **[df1ffec](https://github.com/sagemath/sagetrac-mirror/commit/df1ffec40b4831645dd78e071c9f677ea7ff5166)**",
    "created_at": "2022-08-18T19:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557571",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6ad6385](https://github.com/sagemath/sagetrac-mirror/commit/6ad63858bc9bf7240b9ca24087b575daa776c60b)** to **[df1ffec](https://github.com/sagemath/sagetrac-mirror/commit/df1ffec40b4831645dd78e071c9f677ea7ff5166)**



---

archive/issue_comments_557572.json:
```json
{
    "body": "Changed commit from **[df1ffec](https://github.com/sagemath/sagetrac-mirror/commit/df1ffec40b4831645dd78e071c9f677ea7ff5166)** to **[409ce3c](https://github.com/sagemath/sagetrac-mirror/commit/409ce3cf281294ce5d0ee55ac19ab3e6bfa688ea)**",
    "created_at": "2022-08-18T19:26:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557572",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[df1ffec](https://github.com/sagemath/sagetrac-mirror/commit/df1ffec40b4831645dd78e071c9f677ea7ff5166)** to **[409ce3c](https://github.com/sagemath/sagetrac-mirror/commit/409ce3cf281294ce5d0ee55ac19ab3e6bfa688ea)**



---

archive/issue_comments_557573.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/409ce3cf281294ce5d0ee55ac19ab3e6bfa688ea\">409ce3c</a></td><td><code>src/sage/sets/family.py: Use category EnumeratedFamilies</code></td></tr></table>\n",
    "created_at": "2022-08-18T19:26:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557573",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>Comment 7:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/409ce3cf281294ce5d0ee55ac19ab3e6bfa688ea">409ce3c</a></td><td><code>src/sage/sets/family.py: Use category EnumeratedFamilies</code></td></tr></table>




---

archive/issue_comments_557574.json:
```json
{
    "body": "<a id='comment:128'>Comment 128:</a>\nReplying to [@tscrim](#comment%3A108):\n> I think we are at least getting closer to a solution we are both content with. Thank you for discussing this with me.\n\nLikewise thanks for the discussion. It has helped clarify that the semantics needs to be documented not just by text but by defining an appropriate category. \n\nHere's an attempt for this, just two singleton categories `Families` and `EnumeratedFamilies`, though I have the feeling there should be a functorial construction",
    "created_at": "2022-08-18T20:47:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557574",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:128'>Comment 128:</a>
Replying to [@tscrim](#comment%3A108):
> I think we are at least getting closer to a solution we are both content with. Thank you for discussing this with me.

Likewise thanks for the discussion. It has helped clarify that the semantics needs to be documented not just by text but by defining an appropriate category. 

Here's an attempt for this, just two singleton categories `Families` and `EnumeratedFamilies`, though I have the feeling there should be a functorial construction



---

archive/issue_comments_557575.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46b013b36d70b9329a5e16e98e3defa36491fc0b\">46b013b</a></td><td><code>src/sage/algebras/yangian.py: Make GeneratorIndexingSet a Parent</code></td></tr></table>\n",
    "created_at": "2022-08-18T23:41:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557575",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46b013b36d70b9329a5e16e98e3defa36491fc0b">46b013b</a></td><td><code>src/sage/algebras/yangian.py: Make GeneratorIndexingSet a Parent</code></td></tr></table>




---

archive/issue_comments_557576.json:
```json
{
    "body": "Changed commit from **[409ce3c](https://github.com/sagemath/sagetrac-mirror/commit/409ce3cf281294ce5d0ee55ac19ab3e6bfa688ea)** to **[46b013b](https://github.com/sagemath/sagetrac-mirror/commit/46b013b36d70b9329a5e16e98e3defa36491fc0b)**",
    "created_at": "2022-08-18T23:41:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557576",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[409ce3c](https://github.com/sagemath/sagetrac-mirror/commit/409ce3cf281294ce5d0ee55ac19ab3e6bfa688ea)** to **[46b013b](https://github.com/sagemath/sagetrac-mirror/commit/46b013b36d70b9329a5e16e98e3defa36491fc0b)**



---

archive/issue_comments_557577.json:
```json
{
    "body": "<a id='comment:0'>Comment 0:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b96983ae152d02ebce024ede7a5979d9722ff2cd\">b96983a</a></td><td><code>src/sage/algebras/yangian.py: Make GeneratorIndexingSet a Parent</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75ea8bf58d11d8a87d1fdcf466d6d18d3d4c876b\">75ea8bf</a></td><td><code>Merge #34375</code></td></tr></table>\n",
    "created_at": "2022-08-18T23:46:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557577",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:0'>Comment 0:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b96983ae152d02ebce024ede7a5979d9722ff2cd">b96983a</a></td><td><code>src/sage/algebras/yangian.py: Make GeneratorIndexingSet a Parent</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75ea8bf58d11d8a87d1fdcf466d6d18d3d4c876b">75ea8bf</a></td><td><code>Merge #34375</code></td></tr></table>




---

archive/issue_comments_557578.json:
```json
{
    "body": "Changed commit from **[46b013b](https://github.com/sagemath/sagetrac-mirror/commit/46b013b36d70b9329a5e16e98e3defa36491fc0b)** to **[75ea8bf](https://github.com/sagemath/sagetrac-mirror/commit/75ea8bf58d11d8a87d1fdcf466d6d18d3d4c876b)**",
    "created_at": "2022-08-18T23:46:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557578",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[46b013b](https://github.com/sagemath/sagetrac-mirror/commit/46b013b36d70b9329a5e16e98e3defa36491fc0b)** to **[75ea8bf](https://github.com/sagemath/sagetrac-mirror/commit/75ea8bf58d11d8a87d1fdcf466d6d18d3d4c876b)**



---

archive/issue_comments_557579.json:
```json
{
    "body": "Changed commit from **[75ea8bf](https://github.com/sagemath/sagetrac-mirror/commit/75ea8bf58d11d8a87d1fdcf466d6d18d3d4c876b)** to **[993c9cc](https://github.com/sagemath/sagetrac-mirror/commit/993c9cc14a2edf580640ce9a343abd2e81b850dc)**",
    "created_at": "2022-08-18T23:48:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557579",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[75ea8bf](https://github.com/sagemath/sagetrac-mirror/commit/75ea8bf58d11d8a87d1fdcf466d6d18d3d4c876b)** to **[993c9cc](https://github.com/sagemath/sagetrac-mirror/commit/993c9cc14a2edf580640ce9a343abd2e81b850dc)**



---

archive/issue_comments_557580.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/993c9cc14a2edf580640ce9a343abd2e81b850dc\">993c9cc</a></td><td><code>src/doc/en/reference/categories/index.rst: Add new files</code></td></tr></table>\n",
    "created_at": "2022-08-18T23:48:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557580",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:1'>Comment 1:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/993c9cc14a2edf580640ce9a343abd2e81b850dc">993c9cc</a></td><td><code>src/doc/en/reference/categories/index.rst: Add new files</code></td></tr></table>




---

archive/issue_comments_557581.json:
```json
{
    "body": "Changed commit from **[993c9cc](https://github.com/sagemath/sagetrac-mirror/commit/993c9cc14a2edf580640ce9a343abd2e81b850dc)** to **[f49dc8d](https://github.com/sagemath/sagetrac-mirror/commit/f49dc8d2fe390fdc7be62d916a26ba9435366da6)**",
    "created_at": "2022-08-19T00:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557581",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[993c9cc](https://github.com/sagemath/sagetrac-mirror/commit/993c9cc14a2edf580640ce9a343abd2e81b850dc)** to **[f49dc8d](https://github.com/sagemath/sagetrac-mirror/commit/f49dc8d2fe390fdc7be62d916a26ba9435366da6)**



---

archive/issue_comments_557582.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f49dc8d2fe390fdc7be62d916a26ba9435366da6\">f49dc8d</a></td><td><code>src/sage/sets/family.py: WIP facade families</code></td></tr></table>\n",
    "created_at": "2022-08-19T00:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557582",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f49dc8d2fe390fdc7be62d916a26ba9435366da6">f49dc8d</a></td><td><code>src/sage/sets/family.py: WIP facade families</code></td></tr></table>




---

archive/issue_comments_557583.json:
```json
{
    "body": "Changed commit from **[f49dc8d](https://github.com/sagemath/sagetrac-mirror/commit/f49dc8d2fe390fdc7be62d916a26ba9435366da6)** to **[7d7e23b](https://github.com/sagemath/sagetrac-mirror/commit/7d7e23b4c671101efdf39297c28aa9d205c0d67f)**",
    "created_at": "2022-08-19T00:38:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557583",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f49dc8d](https://github.com/sagemath/sagetrac-mirror/commit/f49dc8d2fe390fdc7be62d916a26ba9435366da6)** to **[7d7e23b](https://github.com/sagemath/sagetrac-mirror/commit/7d7e23b4c671101efdf39297c28aa9d205c0d67f)**



---

archive/issue_comments_557584.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d7e23b4c671101efdf39297c28aa9d205c0d67f\">7d7e23b</a></td><td><code>src/sage/categories/families.py: Make all families facade</code></td></tr></table>\n",
    "created_at": "2022-08-19T00:38:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557584",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d7e23b4c671101efdf39297c28aa9d205c0d67f">7d7e23b</a></td><td><code>src/sage/categories/families.py: Make all families facade</code></td></tr></table>




---

archive/issue_comments_557585.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa7accbd23082b76ba8ebe440f0e6128a7272d15\">fa7accb</a></td><td><code>LazyFamily.__init__: Category when index set is infinite depends on is_injective</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/434932f661b34fd08214cd21447d3b4d3a304be0\">434932f</a></td><td><code>src/sage/categories/families.py: Update doctest output for facade sets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7569a9509a9dbdb3a6dbc603f8bc53d65e2e0480\">7569a95</a></td><td><code>src/sage/categories/finitely_enumerated_families.py: New</code></td></tr></table>\n",
    "created_at": "2022-08-19T05:14:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557585",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa7accbd23082b76ba8ebe440f0e6128a7272d15">fa7accb</a></td><td><code>LazyFamily.__init__: Category when index set is infinite depends on is_injective</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/434932f661b34fd08214cd21447d3b4d3a304be0">434932f</a></td><td><code>src/sage/categories/families.py: Update doctest output for facade sets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7569a9509a9dbdb3a6dbc603f8bc53d65e2e0480">7569a95</a></td><td><code>src/sage/categories/finitely_enumerated_families.py: New</code></td></tr></table>




---

archive/issue_comments_557586.json:
```json
{
    "body": "Changed commit from **[7d7e23b](https://github.com/sagemath/sagetrac-mirror/commit/7d7e23b4c671101efdf39297c28aa9d205c0d67f)** to **[7569a95](https://github.com/sagemath/sagetrac-mirror/commit/7569a9509a9dbdb3a6dbc603f8bc53d65e2e0480)**",
    "created_at": "2022-08-19T05:14:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557586",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7d7e23b](https://github.com/sagemath/sagetrac-mirror/commit/7d7e23b4c671101efdf39297c28aa9d205c0d67f)** to **[7569a95](https://github.com/sagemath/sagetrac-mirror/commit/7569a9509a9dbdb3a6dbc603f8bc53d65e2e0480)**



---

archive/issue_comments_557587.json:
```json
{
    "body": "Changed dependencies from **#34375, #34377** to **#34375, #34377, #30300**",
    "created_at": "2022-08-25T01:29:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557587",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#34375, #34377** to **#34375, #34377, #30300**



---

archive/issue_comments_557588.json:
```json
{
    "body": "Work Issues: **Add method \"as_map\"**",
    "created_at": "2022-08-26T03:50:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557588",
    "user": "https://github.com/mkoeppe"
}
```

Work Issues: **Add method "as_map"**



---

archive/issue_events_436390.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34340#event-436390"
}
```



---

archive/issue_events_436391.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34340#event-436391"
}
```



---

archive/issue_comments_557589.json:
```json
{
    "body": "Changed dependencies from **#34375, #34377, #30300** to **#34375**",
    "created_at": "2022-09-01T01:35:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557589",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#34375, #34377, #30300** to **#34375**



---

archive/issue_comments_557590.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5be1bdfe0269312d4bed32d4d0ff2903ed93a117\">5be1bdf</a></td><td><code>src/sage/categories/families.py: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfab55008ea8eeecc881836f135e1b9ff2df9d59\">bfab550</a></td><td><code>src/sage/categories/families.py: Add example</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5857d9b197d9838baafe792b8b85ff295b2a4f02\">5857d9b</a></td><td><code>src/sage/categories/enumerated_families.py: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af7aa99b56c6094c88e0014673f41ff4533fc7ed\">af7aa99</a></td><td><code>src/sage/sets/family.py: Use category EnumeratedFamilies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd48ffdb19613587ee0bb3673b422a9a0bc1bb36\">dd48ffd</a></td><td><code>src/doc/en/reference/categories/index.rst: Add new files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22970fd599de635f39bc56f6a8e24a18a40b6c0f\">22970fd</a></td><td><code>src/sage/sets/family.py: WIP facade families</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe3a7a40405452ab658a15e9f90fc982017598d1\">fe3a7a4</a></td><td><code>src/sage/categories/families.py: Make all families facade</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/204c1e21b29760a8e9751e812e7aae14a8cb1705\">204c1e2</a></td><td><code>LazyFamily.__init__: Category when index set is infinite depends on is_injective</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8f5295238d56d7616d25df7dbcb38afbbf1b660\">b8f5295</a></td><td><code>src/sage/categories/families.py: Update doctest output for facade sets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b352a898074702c4976c6f6f6e9153f5f18f3b4\">0b352a8</a></td><td><code>src/sage/categories/finitely_enumerated_families.py: New</code></td></tr></table>\n",
    "created_at": "2022-09-17T16:21:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557590",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5be1bdfe0269312d4bed32d4d0ff2903ed93a117">5be1bdf</a></td><td><code>src/sage/categories/families.py: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfab55008ea8eeecc881836f135e1b9ff2df9d59">bfab550</a></td><td><code>src/sage/categories/families.py: Add example</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5857d9b197d9838baafe792b8b85ff295b2a4f02">5857d9b</a></td><td><code>src/sage/categories/enumerated_families.py: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af7aa99b56c6094c88e0014673f41ff4533fc7ed">af7aa99</a></td><td><code>src/sage/sets/family.py: Use category EnumeratedFamilies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd48ffdb19613587ee0bb3673b422a9a0bc1bb36">dd48ffd</a></td><td><code>src/doc/en/reference/categories/index.rst: Add new files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22970fd599de635f39bc56f6a8e24a18a40b6c0f">22970fd</a></td><td><code>src/sage/sets/family.py: WIP facade families</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe3a7a40405452ab658a15e9f90fc982017598d1">fe3a7a4</a></td><td><code>src/sage/categories/families.py: Make all families facade</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/204c1e21b29760a8e9751e812e7aae14a8cb1705">204c1e2</a></td><td><code>LazyFamily.__init__: Category when index set is infinite depends on is_injective</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8f5295238d56d7616d25df7dbcb38afbbf1b660">b8f5295</a></td><td><code>src/sage/categories/families.py: Update doctest output for facade sets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b352a898074702c4976c6f6f6e9153f5f18f3b4">0b352a8</a></td><td><code>src/sage/categories/finitely_enumerated_families.py: New</code></td></tr></table>




---

archive/issue_comments_557591.json:
```json
{
    "body": "Changed commit from **[7569a95](https://github.com/sagemath/sagetrac-mirror/commit/7569a9509a9dbdb3a6dbc603f8bc53d65e2e0480)** to **[0b352a8](https://github.com/sagemath/sagetrac-mirror/commit/0b352a898074702c4976c6f6f6e9153f5f18f3b4)**",
    "created_at": "2022-09-17T16:21:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557591",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7569a95](https://github.com/sagemath/sagetrac-mirror/commit/7569a9509a9dbdb3a6dbc603f8bc53d65e2e0480)** to **[0b352a8](https://github.com/sagemath/sagetrac-mirror/commit/0b352a898074702c4976c6f6f6e9153f5f18f3b4)**



---

archive/issue_comments_557592.json:
```json
{
    "body": "Changed commit from **[0b352a8](https://github.com/sagemath/sagetrac-mirror/commit/0b352a898074702c4976c6f6f6e9153f5f18f3b4)** to **[6bbbdb9](https://github.com/sagemath/sagetrac-mirror/commit/6bbbdb9cf4c82ae2e196208e07aaf35d38de3851)**",
    "created_at": "2022-09-17T16:22:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557592",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0b352a8](https://github.com/sagemath/sagetrac-mirror/commit/0b352a898074702c4976c6f6f6e9153f5f18f3b4)** to **[6bbbdb9](https://github.com/sagemath/sagetrac-mirror/commit/6bbbdb9cf4c82ae2e196208e07aaf35d38de3851)**



---

archive/issue_comments_557593.json:
```json
{
    "body": "<a id='comment:0'>Comment 0:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4f413ddbf7ea3e4beff767e05a88cb63d0df0a7\">b4f413d</a></td><td><code>Replacing the indedxing set of the Yangian with cartesian_product.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a346bff43695d3e23e21cce07b823fafdb792269\">a346bff</a></td><td><code>Fixing pyflakes for yangian.py.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abf1edc239e4ce2db13455df39e812e2402cfe63\">abf1edc</a></td><td><code>Choosing smaller degree elements to run the test suite.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6bbbdb9cf4c82ae2e196208e07aaf35d38de3851\">6bbbdb9</a></td><td><code>Merge #34375</code></td></tr></table>\n",
    "created_at": "2022-09-17T16:22:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557593",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:0'>Comment 0:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4f413ddbf7ea3e4beff767e05a88cb63d0df0a7">b4f413d</a></td><td><code>Replacing the indedxing set of the Yangian with cartesian_product.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a346bff43695d3e23e21cce07b823fafdb792269">a346bff</a></td><td><code>Fixing pyflakes for yangian.py.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abf1edc239e4ce2db13455df39e812e2402cfe63">abf1edc</a></td><td><code>Choosing smaller degree elements to run the test suite.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6bbbdb9cf4c82ae2e196208e07aaf35d38de3851">6bbbdb9</a></td><td><code>Merge #34375</code></td></tr></table>




---

archive/issue_comments_557594.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6c999f3c79f1c1543fc0de2b8b63d461237103d\">e6c999f</a></td><td><code>src/sage/sets/family.py: Rephrase a sentence</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3cdfe8a6a62349f8de6d7be3bb9f706ad5625dc\">f3cdfe8</a></td><td><code>src/sage/sets/family.py: Mention that families are immutable (fixes Trac #14124)</code></td></tr></table>\n",
    "created_at": "2022-09-17T16:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557594",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:1'>Comment 1:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6c999f3c79f1c1543fc0de2b8b63d461237103d">e6c999f</a></td><td><code>src/sage/sets/family.py: Rephrase a sentence</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3cdfe8a6a62349f8de6d7be3bb9f706ad5625dc">f3cdfe8</a></td><td><code>src/sage/sets/family.py: Mention that families are immutable (fixes Trac #14124)</code></td></tr></table>




---

archive/issue_comments_557595.json:
```json
{
    "body": "Changed commit from **[6bbbdb9](https://github.com/sagemath/sagetrac-mirror/commit/6bbbdb9cf4c82ae2e196208e07aaf35d38de3851)** to **[f3cdfe8](https://github.com/sagemath/sagetrac-mirror/commit/f3cdfe8a6a62349f8de6d7be3bb9f706ad5625dc)**",
    "created_at": "2022-09-17T16:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557595",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6bbbdb9](https://github.com/sagemath/sagetrac-mirror/commit/6bbbdb9cf4c82ae2e196208e07aaf35d38de3851)** to **[f3cdfe8](https://github.com/sagemath/sagetrac-mirror/commit/f3cdfe8a6a62349f8de6d7be3bb9f706ad5625dc)**



---

archive/issue_comments_557596.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,8 @@\n \n Moreover, we define a (non-full) subcategory of `Sets` named `Families`, which captures the additional structure (= the map from the keys onto the parent).\n \n-Follow-ups:\n+Follow-ups / related:\n - If the `function` from indices to objects is a morphism, then the category can be taken from the codomain.\n+- #18849 category of lazy family wrong if infinite combinatorial class used as index\n+- #8822 Bug in Family constructor\n \n``````\n",
    "created_at": "2022-09-17T20:49:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557596",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,8 @@
 
 Moreover, we define a (non-full) subcategory of `Sets` named `Families`, which captures the additional structure (= the map from the keys onto the parent).
 
-Follow-ups:
+Follow-ups / related:
 - If the `function` from indices to objects is a morphism, then the category can be taken from the codomain.
+- #18849 category of lazy family wrong if infinite combinatorial class used as index
+- #8822 Bug in Family constructor
 
``````




---

archive/issue_comments_557597.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\n\n```\nsage -t --random-seed=143738364655453723155583373959896127051 src/sage/combinat/root_system/type_G.py  # 1 doctest failed\nsage -t --random-seed=143738364655453723155583373959896127051 src/sage/sets/family.py  # 6 doctests failed\n```",
    "created_at": "2022-09-18T05:15:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557597",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'>Comment 3:</a>

```
sage -t --random-seed=143738364655453723155583373959896127051 src/sage/combinat/root_system/type_G.py  # 1 doctest failed
sage -t --random-seed=143738364655453723155583373959896127051 src/sage/sets/family.py  # 6 doctests failed
```



---

archive/issue_comments_557598.json:
```json
{
    "body": "Changed commit from **[f3cdfe8](https://github.com/sagemath/sagetrac-mirror/commit/f3cdfe8a6a62349f8de6d7be3bb9f706ad5625dc)** to **[192483d](https://github.com/sagemath/sagetrac-mirror/commit/192483dbcb90387c5f23ca385cf78b80e2be45cf)**",
    "created_at": "2023-01-03T21:48:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557598",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f3cdfe8](https://github.com/sagemath/sagetrac-mirror/commit/f3cdfe8a6a62349f8de6d7be3bb9f706ad5625dc)** to **[192483d](https://github.com/sagemath/sagetrac-mirror/commit/192483dbcb90387c5f23ca385cf78b80e2be45cf)**



---

archive/issue_comments_557599.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b73142c4abc3f2a65356302a376958f378c9a33\">4b73142</a></td><td><code>src/sage/categories/enumerated_families.py: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bb87f675ed2693cbbeb15ea2e3439d45d39e3a0\">4bb87f6</a></td><td><code>src/sage/sets/family.py: Use category EnumeratedFamilies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/533cadcf9ce3d07fb814064ca7422b4070c3b233\">533cadc</a></td><td><code>src/doc/en/reference/categories/index.rst: Add new files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0ce059712cc3ae693849580588f499ebe5c1dda\">c0ce059</a></td><td><code>src/sage/sets/family.py: WIP facade families</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcf8d9997699496a7c0f5ad4f58bb4ed551bf337\">fcf8d99</a></td><td><code>src/sage/categories/families.py: Make all families facade</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/306c62a3d852a2303084522bd7eedb47a6172420\">306c62a</a></td><td><code>LazyFamily.__init__: Category when index set is infinite depends on is_injective</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13490f6a759c2a929b24528fde29c8591b15d617\">13490f6</a></td><td><code>src/sage/categories/families.py: Update doctest output for facade sets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3bb3b53c857300949039a0f9b28c95badd84a8ad\">3bb3b53</a></td><td><code>src/sage/categories/finitely_enumerated_families.py: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd42510bb5594061c8346e797fc03f0e18cc3f1d\">cd42510</a></td><td><code>src/sage/sets/family.py: Rephrase a sentence</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/192483dbcb90387c5f23ca385cf78b80e2be45cf\">192483d</a></td><td><code>src/sage/sets/family.py: Mention that families are immutable (fixes Trac #14124)</code></td></tr></table>\n",
    "created_at": "2023-01-03T21:48:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34340#issuecomment-557599",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b73142c4abc3f2a65356302a376958f378c9a33">4b73142</a></td><td><code>src/sage/categories/enumerated_families.py: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bb87f675ed2693cbbeb15ea2e3439d45d39e3a0">4bb87f6</a></td><td><code>src/sage/sets/family.py: Use category EnumeratedFamilies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/533cadcf9ce3d07fb814064ca7422b4070c3b233">533cadc</a></td><td><code>src/doc/en/reference/categories/index.rst: Add new files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0ce059712cc3ae693849580588f499ebe5c1dda">c0ce059</a></td><td><code>src/sage/sets/family.py: WIP facade families</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcf8d9997699496a7c0f5ad4f58bb4ed551bf337">fcf8d99</a></td><td><code>src/sage/categories/families.py: Make all families facade</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/306c62a3d852a2303084522bd7eedb47a6172420">306c62a</a></td><td><code>LazyFamily.__init__: Category when index set is infinite depends on is_injective</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13490f6a759c2a929b24528fde29c8591b15d617">13490f6</a></td><td><code>src/sage/categories/families.py: Update doctest output for facade sets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3bb3b53c857300949039a0f9b28c95badd84a8ad">3bb3b53</a></td><td><code>src/sage/categories/finitely_enumerated_families.py: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd42510bb5594061c8346e797fc03f0e18cc3f1d">cd42510</a></td><td><code>src/sage/sets/family.py: Rephrase a sentence</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/192483dbcb90387c5f23ca385cf78b80e2be45cf">192483d</a></td><td><code>src/sage/sets/family.py: Mention that families are immutable (fixes Trac #14124)</code></td></tr></table>

