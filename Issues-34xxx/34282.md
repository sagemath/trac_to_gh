# Issue 34282: Make feature TeXFile check latex first

archive/issues_034045.json:
```json
{
    "assignees": [],
    "body": "Currently, as observed in [comment 7](https://github.com/sagemath/sage/issues/34185#comment:7) of #34185, the method `is_present` of instances of class `TeXFile` runs into an exception if latex is not installed. For example:\n\n```\nsage: from sage.features.latex import LaTeXPackage\nsage: LaTeXPackage(\"tkz-graph\").is_present()\nTraceback (most recent call last):\n...\nFileNotFoundError: [Errno 2] No such file or directory: 'kpsewhich'\n```\n\nThe aim of the ticket is to fix this.\n\n\nCC:  @seblabbe\n\nKeywords: **latex texfile feature**\n\nBranch/Commit: **[`a77ff0c`](https://github.com/sagemath/sagetrac-mirror/commit/a77ff0c9c90b94bd83799351326f4dca6237c2f2)**\n\nReviewer: **Kwankyu Lee, Sebastian Oehms**\n\nAuthor: **Sebastian Oehms, Kwankyu Lee**\n\nComponent: **doctest framework**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34282_\n\n",
    "closed_at": "2022-09-22T22:35:37Z",
    "created_at": "2022-08-05T06:39:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20doctest%20framework",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make feature TeXFile check latex first",
    "type": "issue",
    "updated_at": "2022-09-22T22:35:37Z",
    "url": "https://github.com/sagemath/sage/issues/34282",
    "user": "https://github.com/soehms"
}
```
Currently, as observed in [comment 7](https://github.com/sagemath/sage/issues/34185#comment:7) of #34185, the method `is_present` of instances of class `TeXFile` runs into an exception if latex is not installed. For example:

```
sage: from sage.features.latex import LaTeXPackage
sage: LaTeXPackage("tkz-graph").is_present()
Traceback (most recent call last):
...
FileNotFoundError: [Errno 2] No such file or directory: 'kpsewhich'
```

The aim of the ticket is to fix this.


CC:  @seblabbe

Keywords: **latex texfile feature**

Branch/Commit: **[`a77ff0c`](https://github.com/sagemath/sagetrac-mirror/commit/a77ff0c9c90b94bd83799351326f4dca6237c2f2)**

Reviewer: **Kwankyu Lee, Sebastian Oehms**

Author: **Sebastian Oehms, Kwankyu Lee**

Component: **doctest framework**

_Issue created by migration from https://trac.sagemath.org/ticket/34282_





---

archive/issue_events_465323.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2022-08-05T06:39:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-465323"
}
```



---

archive/issue_events_465324.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2022-08-05T06:39:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "0000b0",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-465324"
}
```



---

archive/issue_events_465325.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2022-08-05T06:39:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-465325"
}
```



---

archive/issue_events_465326.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2022-08-05T06:39:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-465326"
}
```



---

archive/issue_comments_553625.json:
```json
{
    "body": "Branch: **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)**",
    "created_at": "2022-08-05T06:45:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553625",
    "user": "https://github.com/soehms"
}
```

Branch: **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)**



---

archive/issue_comments_553626.json:
```json
{
    "body": "Commit: **[`c599e49`](https://github.com/sagemath/sagetrac-mirror/commit/c599e491b1e994bd631371d12da74a9b9166e6ba)**",
    "created_at": "2022-08-05T06:48:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553626",
    "user": "https://github.com/soehms"
}
```

Commit: **[`c599e49`](https://github.com/sagemath/sagetrac-mirror/commit/c599e491b1e994bd631371d12da74a9b9166e6ba)**



---

archive/issue_events_465327.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2022-08-05T06:48:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "0000b0",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-465327"
}
```



---

archive/issue_events_465328.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2022-08-05T06:48:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20doctest%20framework",
    "label_color": "0000b0",
    "label_name": "c: doctest framework",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-465328"
}
```



---

archive/issue_comments_553627.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c599e491b1e994bd631371d12da74a9b9166e6ba\"><code>c599e49</code></a></td><td><code>34282: initial</code></td></tr></table>\n",
    "created_at": "2022-08-05T06:48:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553627",
    "user": "https://github.com/soehms"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c599e491b1e994bd631371d12da74a9b9166e6ba"><code>c599e49</code></a></td><td><code>34282: initial</code></td></tr></table>




---

archive/issue_events_465329.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2022-08-05T06:48:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-465329"
}
```



---

archive/issue_comments_553628.json:
```json
{
    "body": "Author: **Sebastian Oehms**",
    "created_at": "2022-08-05T06:48:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553628",
    "user": "https://github.com/soehms"
}
```

Author: **Sebastian Oehms**



---

archive/issue_comments_553629.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI think it would also make sense to add `spkg='texlive'` to these features",
    "created_at": "2022-08-05T18:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553629",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

I think it would also make sense to add `spkg='texlive'` to these features



---

archive/issue_comments_553630.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7358dc2e601061c28ad2d0a1cfbb16c6ce317f8c\"><code>7358dc2</code></a></td><td><code>34282: dd spkg='texlive', refactoring, pycodestyle</code></td></tr></table>\n",
    "created_at": "2022-08-08T17:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553630",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7358dc2e601061c28ad2d0a1cfbb16c6ce317f8c"><code>7358dc2</code></a></td><td><code>34282: dd spkg='texlive', refactoring, pycodestyle</code></td></tr></table>




---

archive/issue_comments_553631.json:
```json
{
    "body": "Changed commit from **[`c599e49`](https://github.com/sagemath/sagetrac-mirror/commit/c599e491b1e994bd631371d12da74a9b9166e6ba)** to **[`7358dc2`](https://github.com/sagemath/sagetrac-mirror/commit/7358dc2e601061c28ad2d0a1cfbb16c6ce317f8c)**",
    "created_at": "2022-08-08T17:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553631",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c599e49`](https://github.com/sagemath/sagetrac-mirror/commit/c599e491b1e994bd631371d12da74a9b9166e6ba)** to **[`7358dc2`](https://github.com/sagemath/sagetrac-mirror/commit/7358dc2e601061c28ad2d0a1cfbb16c6ce317f8c)**



---

archive/issue_comments_553632.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@mkoeppe](#comment:3):\n> I think it would also make sense to add `spkg='texlive'` to these features\n\nDone! Furthermore, I refactor the executable features not only to avoid duplicated code, but also since in my point of view it is not reasonable that just the `latex` feature has a stronger `is_functional` check.",
    "created_at": "2022-08-08T17:37:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553632",
    "user": "https://github.com/soehms"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@mkoeppe](#comment:3):
> I think it would also make sense to add `spkg='texlive'` to these features

Done! Furthermore, I refactor the executable features not only to avoid duplicated code, but also since in my point of view it is not reasonable that just the `latex` feature has a stronger `is_functional` check.



---

archive/issue_comments_553633.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n\n```diff\ndiff --git a/src/sage/features/latex.py b/src/sage/features/latex.py\nindex cf65aea6af..7db89f6190 100644\n--- a/src/sage/features/latex.py\n+++ b/src/sage/features/latex.py\n@@ -37,7 +37,7 @@ class LaTeX(Executable):\n             sage: isinstance(latex(), latex)\n             True\n         \"\"\"\n-        Executable.__init__(self, name, executable=name, spkg=latex_spkg, url=latex_url)\n+        super().__init__(name, executable=name, spkg=latex_spkg, url=latex_url)\n \n     def is_functional(self):\n         r\"\"\"\n@@ -217,13 +217,10 @@ class TeXFile(StaticFile, JoinFeature):\n             sage: from sage.features.latex import LaTeXPackage, pdflatex\n             sage: f = LaTeXPackage(\"tkz-graph\")\n             sage: g = pdflatex()\n-            sage: bool(f.is_present()) == bool(g.is_present())  # indirect doctest\n+            sage: not f.is_present() or bool(g.is_present())  # indirect doctest\n             True\n         \"\"\"\n-        test = JoinFeature._is_present(self)\n-        if not test:\n-            return test\n-        return super(TeXFile, self)._is_present()\n+        return JoinFeature._is_present(self) and StaticFile._is_present(self)\n \n```",
    "created_at": "2022-08-20T01:01:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553633",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:6" align="right">comment:6</div>


```diff
diff --git a/src/sage/features/latex.py b/src/sage/features/latex.py
index cf65aea6af..7db89f6190 100644
--- a/src/sage/features/latex.py
+++ b/src/sage/features/latex.py
@@ -37,7 +37,7 @@ class LaTeX(Executable):
             sage: isinstance(latex(), latex)
             True
         """
-        Executable.__init__(self, name, executable=name, spkg=latex_spkg, url=latex_url)
+        super().__init__(name, executable=name, spkg=latex_spkg, url=latex_url)
 
     def is_functional(self):
         r"""
@@ -217,13 +217,10 @@ class TeXFile(StaticFile, JoinFeature):
             sage: from sage.features.latex import LaTeXPackage, pdflatex
             sage: f = LaTeXPackage("tkz-graph")
             sage: g = pdflatex()
-            sage: bool(f.is_present()) == bool(g.is_present())  # indirect doctest
+            sage: not f.is_present() or bool(g.is_present())  # indirect doctest
             True
         """
-        test = JoinFeature._is_present(self)
-        if not test:
-            return test
-        return super(TeXFile, self)._is_present()
+        return JoinFeature._is_present(self) and StaticFile._is_present(self)
 
```



---

archive/issue_comments_553634.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nBy the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?",
    "created_at": "2022-08-20T01:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553634",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:7" align="right">comment:7</div>

By the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?



---

archive/issue_comments_553635.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@kwankyu](#comment:6):\n> \n> ```diff\n> diff --git a/src/sage/features/latex.py b/src/sage/features/latex.py\n> index cf65aea6af..7db89f6190 100644\n> --- a/src/sage/features/latex.py\n> +++ b/src/sage/features/latex.py\n> @@ -37,7 +37,7 @@ class LaTeX(Executable):\n>              sage: isinstance(latex(), latex)\n>              True\n>          \"\"\"\n> -        Executable.__init__(self, name, executable=name, spkg=latex_spkg, url=latex_url)\n> +        super().__init__(name, executable=name, spkg=latex_spkg, url=latex_url)\n>  \n>      def is_functional(self):\n>          r\"\"\"\n> @@ -217,13 +217,10 @@ class TeXFile(StaticFile, JoinFeature):\n>              sage: from sage.features.latex import LaTeXPackage, pdflatex\n>              sage: f = LaTeXPackage(\"tkz-graph\")\n>              sage: g = pdflatex()\n> -            sage: bool(f.is_present()) == bool(g.is_present())  # indirect doctest\n> +            sage: not f.is_present() or bool(g.is_present())  # indirect doctest\n>              True\n>          \"\"\"\n> -        test = JoinFeature._is_present(self)\n> -        if not test:\n> -            return test\n> -        return super(TeXFile, self)._is_present()\n> +        return JoinFeature._is_present(self) and StaticFile._is_present(self)\n>  \n> ```\n\nI'm fine with your first suggestion. Concerning the second, the advantage is not clear to me. \n\nWith your third suggestion I have a problem since in general I prefer to serialise condition checks if they only work in a certain order. I know that it is no problem any more with modern languages and compilers, since they implicitly serialise in the order they are written. But the syntax using `and` / `or` pretends a parallelism which is not given in such a situation.",
    "created_at": "2022-08-20T14:46:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553635",
    "user": "https://github.com/soehms"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@kwankyu](#comment:6):
> 
> ```diff
> diff --git a/src/sage/features/latex.py b/src/sage/features/latex.py
> index cf65aea6af..7db89f6190 100644
> --- a/src/sage/features/latex.py
> +++ b/src/sage/features/latex.py
> @@ -37,7 +37,7 @@ class LaTeX(Executable):
>              sage: isinstance(latex(), latex)
>              True
>          """
> -        Executable.__init__(self, name, executable=name, spkg=latex_spkg, url=latex_url)
> +        super().__init__(name, executable=name, spkg=latex_spkg, url=latex_url)
>  
>      def is_functional(self):
>          r"""
> @@ -217,13 +217,10 @@ class TeXFile(StaticFile, JoinFeature):
>              sage: from sage.features.latex import LaTeXPackage, pdflatex
>              sage: f = LaTeXPackage("tkz-graph")
>              sage: g = pdflatex()
> -            sage: bool(f.is_present()) == bool(g.is_present())  # indirect doctest
> +            sage: not f.is_present() or bool(g.is_present())  # indirect doctest
>              True
>          """
> -        test = JoinFeature._is_present(self)
> -        if not test:
> -            return test
> -        return super(TeXFile, self)._is_present()
> +        return JoinFeature._is_present(self) and StaticFile._is_present(self)
>  
> ```

I'm fine with your first suggestion. Concerning the second, the advantage is not clear to me. 

With your third suggestion I have a problem since in general I prefer to serialise condition checks if they only work in a certain order. I know that it is no problem any more with modern languages and compilers, since they implicitly serialise in the order they are written. But the syntax using `and` / `or` pretends a parallelism which is not given in such a situation.



---

archive/issue_comments_553636.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@kwankyu](#comment:7):\n> By the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?\n\nAFAIK there is no feature that checks if `texlive` is just installed, no? Do you want to create a new feature or just replace the join with `pdflatex` by `latex`?",
    "created_at": "2022-08-20T14:48:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553636",
    "user": "https://github.com/soehms"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@kwankyu](#comment:7):
> By the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?

AFAIK there is no feature that checks if `texlive` is just installed, no? Do you want to create a new feature or just replace the join with `pdflatex` by `latex`?



---

archive/issue_comments_553637.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@soehms](#comment:8):\n> Concerning the second, the advantage is not clear to me. \n\nHere you want to check that \"if f.is_present, then g.is_present\". Right? My test just does that expressly.\n\n> With your third suggestion I have a problem since in general I prefer to serialise condition checks if they only work in a certain order. I know that it is no problem any more with modern languages and compilers, since they implicitly serialise in the order they are written. But the syntax using `and` / `or` pretends a parallelism which is not given in such a situation.\n\nThere is no parallelism here. My simple code exactly does what your code does. Note that\n\n```\nsage: 0 and 1\n0\nsage: 1 and 2\n2\n```\nIn `A and B`, `B` is never evaluated if `A` is false.",
    "created_at": "2022-08-20T16:23:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553637",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@soehms](#comment:8):
> Concerning the second, the advantage is not clear to me. 

Here you want to check that "if f.is_present, then g.is_present". Right? My test just does that expressly.

> With your third suggestion I have a problem since in general I prefer to serialise condition checks if they only work in a certain order. I know that it is no problem any more with modern languages and compilers, since they implicitly serialise in the order they are written. But the syntax using `and` / `or` pretends a parallelism which is not given in such a situation.

There is no parallelism here. My simple code exactly does what your code does. Note that

```
sage: 0 and 1
0
sage: 1 and 2
2
```
In `A and B`, `B` is never evaluated if `A` is false.



---

archive/issue_comments_553638.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@kwankyu](#comment:10):\n> Replying to [@soehms](#comment:8):\n> > Concerning the second, the advantage is not clear to me. \n\n> \n> Here you want to check that \"if f.is_present, then g.is_present\". Right? My test just does that expressly.\n\nConvinced! I had *if and only if* in mind since AFAIK in reallity `f` is always present if `g` is.\n\n> \n> > With your third suggestion I have a problem since in general I prefer to serialise condition checks if they only work in a certain order. I know that it is no problem any more with modern languages and compilers, since they implicitly serialise in the order they are written. But the syntax using `and` / `or` pretends a parallelism which is not given in such a situation.\n\n> \n> There is no parallelism here.\n\nI was saying *pretends a parallelism*. \n\n> My simple code exactly does what your code does. \n\nSo what is the advantage?\n\n> Note that\n> \n> ```\n> sage: 0 and 1\n> 0\n> sage: 1 and 2\n> 2\n> ```\n> In `A and B`, `B` is never evaluated if `A` is false.\n\n>\n\nMaybe I'm old fashioned, but I know a time where you could not be sure that *`B` is never evaluated if `A` is false* (at least in `C`).",
    "created_at": "2022-08-20T16:49:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553638",
    "user": "https://github.com/soehms"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@kwankyu](#comment:10):
> Replying to [@soehms](#comment:8):
> > Concerning the second, the advantage is not clear to me. 

> 
> Here you want to check that "if f.is_present, then g.is_present". Right? My test just does that expressly.

Convinced! I had *if and only if* in mind since AFAIK in reallity `f` is always present if `g` is.

> 
> > With your third suggestion I have a problem since in general I prefer to serialise condition checks if they only work in a certain order. I know that it is no problem any more with modern languages and compilers, since they implicitly serialise in the order they are written. But the syntax using `and` / `or` pretends a parallelism which is not given in such a situation.

> 
> There is no parallelism here.

I was saying *pretends a parallelism*. 

> My simple code exactly does what your code does. 

So what is the advantage?

> Note that
> 
> ```
> sage: 0 and 1
> 0
> sage: 1 and 2
> 2
> ```
> In `A and B`, `B` is never evaluated if `A` is false.

>

Maybe I'm old fashioned, but I know a time where you could not be sure that *`B` is never evaluated if `A` is false* (at least in `C`).



---

archive/issue_comments_553639.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@soehms](#comment:11):\n> > My simple code exactly does what your code does. \n\n> \n> So what is the advantage?\n\nIt took me some time to understand the purpose of your code. My code expresses the purpose.\n\n> > In `A and B`, `B` is never evaluated if `A` is false.\n\n> >\n\n> \n> Maybe I'm old fashioned, but I know a time where you could not be sure that *`B` is never evaluated if `A` is false* (at least in `C`).\n\nYeah, this is just Python:\n\nhttps://docs.python.org/3/reference/expressions.html#boolean-operations",
    "created_at": "2022-08-20T21:47:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553639",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@soehms](#comment:11):
> > My simple code exactly does what your code does. 

> 
> So what is the advantage?

It took me some time to understand the purpose of your code. My code expresses the purpose.

> > In `A and B`, `B` is never evaluated if `A` is false.

> >

> 
> Maybe I'm old fashioned, but I know a time where you could not be sure that *`B` is never evaluated if `A` is false* (at least in `C`).

Yeah, this is just Python:

https://docs.python.org/3/reference/expressions.html#boolean-operations



---

archive/issue_comments_553640.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@soehms](#comment:9):\n> Replying to [@kwankyu](#comment:7):\n> > By the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?\n\n> \n> ...or just replace the join with `pdflatex` by `latex`?\n\nYes. I know that they are practically the same, but the name `latex` can be understood as the latex system(texlive) but `pdflatex` refers to the program.",
    "created_at": "2022-08-20T22:54:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553640",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@soehms](#comment:9):
> Replying to [@kwankyu](#comment:7):
> > By the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?

> 
> ...or just replace the join with `pdflatex` by `latex`?

Yes. I know that they are practically the same, but the name `latex` can be understood as the latex system(texlive) but `pdflatex` refers to the program.



---

archive/issue_comments_553641.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@kwankyu](#comment:12):\n> Replying to [@soehms](#comment:11):\n> > > My simple code exactly does what your code does. \n\n> > \n> > So what is the advantage?\n\n> \n> It took me some time to understand the purpose of your code. My code expresses the purpose.\n> \n\nBut it might be misleading for people who think `and` is a commutative binary operator which is not very unusual for mathematicians :)",
    "created_at": "2022-08-21T06:06:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553641",
    "user": "https://github.com/soehms"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@kwankyu](#comment:12):
> Replying to [@soehms](#comment:11):
> > > My simple code exactly does what your code does. 

> > 
> > So what is the advantage?

> 
> It took me some time to understand the purpose of your code. My code expresses the purpose.
> 

But it might be misleading for people who think `and` is a commutative binary operator which is not very unusual for mathematicians :)



---

archive/issue_comments_553642.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@kwankyu](#comment:13):\n> Replying to [@soehms](#comment:9):\n> > Replying to [@kwankyu](#comment:7):\n> > > By the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?\n\n> > \n> > ...or just replace the join with `pdflatex` by `latex`?\n\n> \n> Yes. I know that they are practically the same, but the name `latex` can be understood as the latex system(texlive) but `pdflatex` refers to the program.\n\nAgreed!\n\nI'm on vaccation the next two week. If you don't want to wait that long, feel free to do all of the changes you suggested by yourself.",
    "created_at": "2022-08-21T06:08:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553642",
    "user": "https://github.com/soehms"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@kwankyu](#comment:13):
> Replying to [@soehms](#comment:9):
> > Replying to [@kwankyu](#comment:7):
> > > By the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?

> > 
> > ...or just replace the join with `pdflatex` by `latex`?

> 
> Yes. I know that they are practically the same, but the name `latex` can be understood as the latex system(texlive) but `pdflatex` refers to the program.

Agreed!

I'm on vaccation the next two week. If you don't want to wait that long, feel free to do all of the changes you suggested by yourself.



---

archive/issue_comments_553643.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@soehms](#comment:14):\n> But it might be misleading for people who think `and` is a commutative binary operator which is not very unusual for mathematicians :)\n\nBut for python programmers, the above use of `and` is a common idiom. Don't worry.",
    "created_at": "2022-08-21T06:12:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553643",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@soehms](#comment:14):
> But it might be misleading for people who think `and` is a commutative binary operator which is not very unusual for mathematicians :)

But for python programmers, the above use of `and` is a common idiom. Don't worry.



---

archive/issue_comments_553644.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@soehms](#comment:15):\n> I'm on vaccation the next two week. If you don't want to wait that long, feel free to do all of the changes you suggested by yourself.\n\nOkay. Happy vacation!",
    "created_at": "2022-08-21T06:12:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553644",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@soehms](#comment:15):
> I'm on vaccation the next two week. If you don't want to wait that long, feel free to do all of the changes you suggested by yourself.

Okay. Happy vacation!



---

archive/issue_comments_553645.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@kwankyu](#comment:17):\n> Replying to [@soehms](#comment:15):\n> > I'm on vaccation the next two week. If you don't want to wait that long, feel free to do all of the changes you suggested by yourself.\n\n> \n> Okay. Happy vacation!\n\nThanks!",
    "created_at": "2022-08-21T07:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553645",
    "user": "https://github.com/soehms"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@kwankyu](#comment:17):
> Replying to [@soehms](#comment:15):
> > I'm on vaccation the next two week. If you don't want to wait that long, feel free to do all of the changes you suggested by yourself.

> 
> Okay. Happy vacation!

Thanks!



---

archive/issue_comments_553646.json:
```json
{
    "body": "Changed branch from **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)** to **[u/klee/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/join_feature_texfile_with_pdflatex_34282)**",
    "created_at": "2022-08-21T12:12:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553646",
    "user": "https://github.com/kwankyu"
}
```

Changed branch from **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)** to **[u/klee/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/join_feature_texfile_with_pdflatex_34282)**



---

archive/issue_comments_553647.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nWhile fixing things, I could not resist from doing more than I intended. Sorry...\n\nIt seemed that TeXFile doesn't need to be a subclass of JoinFeature.\n\nInstead, TeXFile now simply checks latex presence first. \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5900ac00f7ff36e174fa45b52f6ef78265c2826\"><code>a5900ac</code></a></td><td><code>Merge branch 'develop' into t/34282/join_feature_texfile_with_pdflatex_34282</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e6ca2a67102d4c133173cedaa5ca505c2082ddf\"><code>9e6ca2a</code></a></td><td><code>Replace pdflatex to latex</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/553f6ffc7473fabcff8e630b995bd7e3dc671207\"><code>553f6ff</code></a></td><td><code>Do not use JoinFeature</code></td></tr></table>\n",
    "created_at": "2022-08-21T12:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553647",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:20" align="right">comment:20</div>

While fixing things, I could not resist from doing more than I intended. Sorry...

It seemed that TeXFile doesn't need to be a subclass of JoinFeature.

Instead, TeXFile now simply checks latex presence first. 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5900ac00f7ff36e174fa45b52f6ef78265c2826"><code>a5900ac</code></a></td><td><code>Merge branch 'develop' into t/34282/join_feature_texfile_with_pdflatex_34282</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e6ca2a67102d4c133173cedaa5ca505c2082ddf"><code>9e6ca2a</code></a></td><td><code>Replace pdflatex to latex</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/553f6ffc7473fabcff8e630b995bd7e3dc671207"><code>553f6ff</code></a></td><td><code>Do not use JoinFeature</code></td></tr></table>




---

archive/issue_comments_553648.json:
```json
{
    "body": "Changed keywords from **latex texfile feature join** to **latex texfile feature**",
    "created_at": "2022-08-21T12:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553648",
    "user": "https://github.com/kwankyu"
}
```

Changed keywords from **latex texfile feature join** to **latex texfile feature**



---

archive/issue_comments_553649.json:
```json
{
    "body": "Changed commit from **[`7358dc2`](https://github.com/sagemath/sagetrac-mirror/commit/7358dc2e601061c28ad2d0a1cfbb16c6ce317f8c)** to **[`553f6ff`](https://github.com/sagemath/sagetrac-mirror/commit/553f6ffc7473fabcff8e630b995bd7e3dc671207)**",
    "created_at": "2022-08-21T12:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553649",
    "user": "https://github.com/kwankyu"
}
```

Changed commit from **[`7358dc2`](https://github.com/sagemath/sagetrac-mirror/commit/7358dc2e601061c28ad2d0a1cfbb16c6ce317f8c)** to **[`553f6ff`](https://github.com/sagemath/sagetrac-mirror/commit/553f6ffc7473fabcff8e630b995bd7e3dc671207)**



---

archive/issue_comments_553650.json:
```json
{
    "body": "Changed author from **Sebastian Oehms** to **Sebastian Oehms, Kwankyu Lee**",
    "created_at": "2022-08-21T12:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553650",
    "user": "https://github.com/kwankyu"
}
```

Changed author from **Sebastian Oehms** to **Sebastian Oehms, Kwankyu Lee**



---

archive/issue_events_465330.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-08-21T12:23:51Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "title_is": "Make feature TeXFile check latex first",
    "title_was": "Join feature TeXFile with pdflatex",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-465330"
}
```



---

archive/issue_comments_553651.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Currently, as observed in [comment 7](https://github.com/sagemath/sage/issues/34185#comment:7) of #34185, the method `is_present` of instances of class `TeXFile` runs into an exception if `pdflatex` is not installed. For example:\n+Currently, as observed in [comment 7](https://github.com/sagemath/sage/issues/34185#comment:7) of #34185, the method `is_present` of instances of class `TeXFile` runs into an exception if latex is not installed. For example:\n \n ```\n sage: from sage.features.latex import LaTeXPackage\n``````\n",
    "created_at": "2022-08-21T12:24:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553651",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Currently, as observed in [comment 7](https://github.com/sagemath/sage/issues/34185#comment:7) of #34185, the method `is_present` of instances of class `TeXFile` runs into an exception if `pdflatex` is not installed. For example:
+Currently, as observed in [comment 7](https://github.com/sagemath/sage/issues/34185#comment:7) of #34185, the method `is_present` of instances of class `TeXFile` runs into an exception if latex is not installed. For example:
 
 ```
 sage: from sage.features.latex import LaTeXPackage
``````




---

archive/issue_comments_553652.json:
```json
{
    "body": "Changed commit from **[`553f6ff`](https://github.com/sagemath/sagetrac-mirror/commit/553f6ffc7473fabcff8e630b995bd7e3dc671207)** to **[`a31205a`](https://github.com/sagemath/sagetrac-mirror/commit/a31205abd7189dfb0f888fe78fd3bfcd4bd09eee)**",
    "created_at": "2022-08-21T12:38:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553652",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`553f6ff`](https://github.com/sagemath/sagetrac-mirror/commit/553f6ffc7473fabcff8e630b995bd7e3dc671207)** to **[`a31205a`](https://github.com/sagemath/sagetrac-mirror/commit/a31205abd7189dfb0f888fe78fd3bfcd4bd09eee)**



---

archive/issue_comments_553653.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a31205abd7189dfb0f888fe78fd3bfcd4bd09eee\"><code>a31205a</code></a></td><td><code>A tiny edit</code></td></tr></table>\n",
    "created_at": "2022-08-21T12:38:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553653",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a31205abd7189dfb0f888fe78fd3bfcd4bd09eee"><code>a31205a</code></a></td><td><code>A tiny edit</code></td></tr></table>




---

archive/issue_comments_553654.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@kwankyu](#comment:20):\n> While fixing things, I could not resist from doing more than I intended. Sorry...\n> \n> It seemed that TeXFile doesn't need to be a subclass of JoinFeature.\n> \n> Instead, TeXFile now simply checks latex presence first. \n\nNote that #34185 has a dependency on this ticket and I think this would break things there. More precisely, the method `joined_features` defined in class `Feature` will not work correctly for `TeX` files. So at least you should find another solution for that.",
    "created_at": "2022-08-21T13:14:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553654",
    "user": "https://github.com/soehms"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@kwankyu](#comment:20):
> While fixing things, I could not resist from doing more than I intended. Sorry...
> 
> It seemed that TeXFile doesn't need to be a subclass of JoinFeature.
> 
> Instead, TeXFile now simply checks latex presence first. 

Note that #34185 has a dependency on this ticket and I think this would break things there. More precisely, the method `joined_features` defined in class `Feature` will not work correctly for `TeX` files. So at least you should find another solution for that.



---

archive/issue_comments_553655.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@soehms](#comment:23):\n> Note that #34185 has a dependency on this ticket and I think this would break things there.\n\nProbably.\n\n> More precisely, the method `joined_features` defined in class `Feature` will not work correctly for `TeX` files. So at least you should find another solution for that.\n\nThe purpose of this ticket as in description (but not as in old title) is to fix a **bug** in TeXFile feature, which did not check latex system in place before it check the presence of a TeX file (such as a latex package). This has nothing to do with #34185. \n\nHence I think that any changes to TeXFile feature related with #34185 should be made in #34185 itself.\n\nMoreover, as far as I understand #34185, the goal of #34185 is not clear to me and I doubt if the goal is reasonable. So the present ticket is better to be independent from #34185.",
    "created_at": "2022-08-22T01:53:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553655",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@soehms](#comment:23):
> Note that #34185 has a dependency on this ticket and I think this would break things there.

Probably.

> More precisely, the method `joined_features` defined in class `Feature` will not work correctly for `TeX` files. So at least you should find another solution for that.

The purpose of this ticket as in description (but not as in old title) is to fix a **bug** in TeXFile feature, which did not check latex system in place before it check the presence of a TeX file (such as a latex package). This has nothing to do with #34185. 

Hence I think that any changes to TeXFile feature related with #34185 should be made in #34185 itself.

Moreover, as far as I understand #34185, the goal of #34185 is not clear to me and I doubt if the goal is reasonable. So the present ticket is better to be independent from #34185.



---

archive/issue_comments_553656.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nBy the way, I am positive with this ticket.",
    "created_at": "2022-08-22T01:57:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553656",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:25" align="right">comment:25</div>

By the way, I am positive with this ticket.



---

archive/issue_comments_553657.json:
```json
{
    "body": "Reviewer: **Kwankyu Lee**",
    "created_at": "2022-08-22T01:57:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553657",
    "user": "https://github.com/kwankyu"
}
```

Reviewer: **Kwankyu Lee**



---

archive/issue_comments_553658.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@kwankyu](#comment:25):\n> By the way, I am positive with this ticket.\n\nI will not be able to look at your additional changes before I will be back home again.\n\nAt the moment I am still not convinced to remove the inheritance of JoinFeature (independently of #34185), since as fas as I understand this is the conceptual way to indicate dependencies between features.",
    "created_at": "2022-08-24T11:51:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553658",
    "user": "https://github.com/soehms"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@kwankyu](#comment:25):
> By the way, I am positive with this ticket.

I will not be able to look at your additional changes before I will be back home again.

At the moment I am still not convinced to remove the inheritance of JoinFeature (independently of #34185), since as fas as I understand this is the conceptual way to indicate dependencies between features.



---

archive/issue_comments_553659.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@soehms](#comment:27):\n> Replying to [@kwankyu](#comment:25):\n> > By the way, I am positive with this ticket.\n\n> I will not be able to look at your additional changes before I will be back home again.\n\nNo hurry. Enjoy vacation!\n \n> At the moment I am still not convinced to remove the inheritance of JoinFeature (independently of #34185), since as fas as I understand this is the conceptual way to indicate dependencies between features.\n\nI think JoinFeature is not relevant for the bug. A joined feature is conceptually a new feature \"A and B\" combining A and B. TeXFile is a feature A that requires feature B. Conceptually it is \"A => B\".",
    "created_at": "2022-08-24T20:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553659",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@soehms](#comment:27):
> Replying to [@kwankyu](#comment:25):
> > By the way, I am positive with this ticket.

> I will not be able to look at your additional changes before I will be back home again.

No hurry. Enjoy vacation!
 
> At the moment I am still not convinced to remove the inheritance of JoinFeature (independently of #34185), since as fas as I understand this is the conceptual way to indicate dependencies between features.

I think JoinFeature is not relevant for the bug. A joined feature is conceptually a new feature "A and B" combining A and B. TeXFile is a feature A that requires feature B. Conceptually it is "A => B".



---

archive/issue_comments_553660.json:
```json
{
    "body": "Changed branch from **[u/klee/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/join_feature_texfile_with_pdflatex_34282)** to **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)**",
    "created_at": "2022-09-06T07:00:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553660",
    "user": "https://github.com/soehms"
}
```

Changed branch from **[u/klee/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/join_feature_texfile_with_pdflatex_34282)** to **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)**



---

archive/issue_comments_553661.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [Kwankyu Lee](#comment:28):\n> I think JoinFeature is not relevant for the bug. A joined feature is conceptually a new feature \"A and B\" combining A and B. TeXFile is a feature A that requires feature B. Conceptually it is \"A => B\".   \n\nIndeed, according to the examples given in the docstring of the class you are right. But it is at least misleading that most examples of joined features consist of just one:\n\n```sage\nsage: from sage.features.all import all_features\nsage: from sage.features.join_feature import JoinFeature\nsage: J = [F for F in all_features() if isinstance(F, JoinFeature)]\nsage: len([F for F in J if len(F._features) == 1])\n16\nsage: len([F for F in J if len(F._features) > 1])\n7\n```\n\nIn these cases the instance of `JoinFeature` usually refers to a `SPKG` (for example `meataxe`) which is combined with a Python module (in the example `meataxe` this is `sage.matrix.matrix_gfpn_dense`) implementing the integration of the new functionality into Sage. Since the Python module requires the `SPKG` the construction describes a dependency here, as well. But I confess that it is reverse on how I used it.\n\nFinally, I agree with your changes, but I observed two little things that I have corrected. If you agree and the patchbot comes green again, you may set to positive review.",
    "created_at": "2022-09-06T07:09:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553661",
    "user": "https://github.com/soehms"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [Kwankyu Lee](#comment:28):
> I think JoinFeature is not relevant for the bug. A joined feature is conceptually a new feature "A and B" combining A and B. TeXFile is a feature A that requires feature B. Conceptually it is "A => B".   

Indeed, according to the examples given in the docstring of the class you are right. But it is at least misleading that most examples of joined features consist of just one:

```sage
sage: from sage.features.all import all_features
sage: from sage.features.join_feature import JoinFeature
sage: J = [F for F in all_features() if isinstance(F, JoinFeature)]
sage: len([F for F in J if len(F._features) == 1])
16
sage: len([F for F in J if len(F._features) > 1])
7
```

In these cases the instance of `JoinFeature` usually refers to a `SPKG` (for example `meataxe`) which is combined with a Python module (in the example `meataxe` this is `sage.matrix.matrix_gfpn_dense`) implementing the integration of the new functionality into Sage. Since the Python module requires the `SPKG` the construction describes a dependency here, as well. But I confess that it is reverse on how I used it.

Finally, I agree with your changes, but I observed two little things that I have corrected. If you agree and the patchbot comes green again, you may set to positive review.



---

archive/issue_comments_553662.json:
```json
{
    "body": "Changed commit from **[`a31205a`](https://github.com/sagemath/sagetrac-mirror/commit/a31205abd7189dfb0f888fe78fd3bfcd4bd09eee)** to **[`a77ff0c`](https://github.com/sagemath/sagetrac-mirror/commit/a77ff0c9c90b94bd83799351326f4dca6237c2f2)**",
    "created_at": "2022-09-06T07:09:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553662",
    "user": "https://github.com/soehms"
}
```

Changed commit from **[`a31205a`](https://github.com/sagemath/sagetrac-mirror/commit/a31205abd7189dfb0f888fe78fd3bfcd4bd09eee)** to **[`a77ff0c`](https://github.com/sagemath/sagetrac-mirror/commit/a77ff0c9c90b94bd83799351326f4dca6237c2f2)**



---

archive/issue_comments_553663.json:
```json
{
    "body": "Changed reviewer from **Kwankyu Lee** to **Kwankyu Lee, Sebastian Oehms**",
    "created_at": "2022-09-06T07:10:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553663",
    "user": "https://github.com/soehms"
}
```

Changed reviewer from **Kwankyu Lee** to **Kwankyu Lee, Sebastian Oehms**



---

archive/issue_events_465331.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-09-07T04:28:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-465331"
}
```



---

archive/issue_events_465332.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-09-07T04:28:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-465332"
}
```



---

archive/issue_comments_553664.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [Sebastian Oehms](#comment:30):\n> In these cases the instance of `JoinFeature` usually refers to a `SPKG` (for example `meataxe`) which is combined with a Python module (in the example `meataxe` this is `sage.matrix.matrix_gfpn_dense`) implementing the integration of the new functionality into Sage. Since the Python module requires the `SPKG` the construction describes a dependency here, as well. But I confess that it is reverse on how I used it.\n\nIt seems `JoinFeature` is also used as unary. In your example, the feature `Meataxe` is a `JoinFeature` of the Python module `sage.matrix.matrix_gfpn_dense` only. Any feature is provided by an `SPKG`. In this example, the presence of the Python module implies the presence of the SPKG meataxe. Hence I think the feature `Meataxe` uses the unary `JoinFeature` to check the presence of the SPKG meataxe.  In general, unary `JoinFeature` seems to be used to check the presence of an SPKG.\n\nIn our case, we don't need the trick since we can check the presence of the latex feature.\n \n> Finally, I agree with your changes, but I observed two little things that I have corrected. If you agree and the patchbot comes green again, you may set to positive review.\n\nThanks. I am positive too!",
    "created_at": "2022-09-07T04:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553664",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [Sebastian Oehms](#comment:30):
> In these cases the instance of `JoinFeature` usually refers to a `SPKG` (for example `meataxe`) which is combined with a Python module (in the example `meataxe` this is `sage.matrix.matrix_gfpn_dense`) implementing the integration of the new functionality into Sage. Since the Python module requires the `SPKG` the construction describes a dependency here, as well. But I confess that it is reverse on how I used it.

It seems `JoinFeature` is also used as unary. In your example, the feature `Meataxe` is a `JoinFeature` of the Python module `sage.matrix.matrix_gfpn_dense` only. Any feature is provided by an `SPKG`. In this example, the presence of the Python module implies the presence of the SPKG meataxe. Hence I think the feature `Meataxe` uses the unary `JoinFeature` to check the presence of the SPKG meataxe.  In general, unary `JoinFeature` seems to be used to check the presence of an SPKG.

In our case, we don't need the trick since we can check the presence of the latex feature.
 
> Finally, I agree with your changes, but I observed two little things that I have corrected. If you agree and the patchbot comes green again, you may set to positive review.

Thanks. I am positive too!



---

archive/issue_comments_553665.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [Kwankyu Lee](#comment:32):\n> Replying to [Sebastian Oehms](#comment:30):\n> It seems `JoinFeature` is also used as unary. In your example, the feature `Meataxe` is a `JoinFeature` of the Python module `sage.matrix.matrix_gfpn_dense` only. Any feature is provided by an `SPKG`. In this example, the presence of the Python module implies the presence of the SPKG meataxe. Hence I think the feature `Meataxe` uses the unary `JoinFeature` to check the presence of the SPKG meataxe.  In general, unary `JoinFeature` seems to be used to check the presence of an SPKG.\n> \n\nExactly! I think `JoinFeature` is missing some documentation to make these things clear. Shall I open a ticket?\n\n\n> Thanks. I am positive too!\n\nThanks, as well!",
    "created_at": "2022-09-07T17:10:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553665",
    "user": "https://github.com/soehms"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [Kwankyu Lee](#comment:32):
> Replying to [Sebastian Oehms](#comment:30):
> It seems `JoinFeature` is also used as unary. In your example, the feature `Meataxe` is a `JoinFeature` of the Python module `sage.matrix.matrix_gfpn_dense` only. Any feature is provided by an `SPKG`. In this example, the presence of the Python module implies the presence of the SPKG meataxe. Hence I think the feature `Meataxe` uses the unary `JoinFeature` to check the presence of the SPKG meataxe.  In general, unary `JoinFeature` seems to be used to check the presence of an SPKG.
> 

Exactly! I think `JoinFeature` is missing some documentation to make these things clear. Shall I open a ticket?


> Thanks. I am positive too!

Thanks, as well!



---

archive/issue_comments_553666.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [Kwankyu Lee](#comment:32):\n> It seems `JoinFeature` is also used as unary. In your example, the feature `Meataxe` is a `JoinFeature` of the Python module `sage.matrix.matrix_gfpn_dense` only. Any feature is provided by an `SPKG`. In this example, the presence of the Python module implies the presence of the SPKG meataxe. Hence I think the feature `Meataxe` uses the unary `JoinFeature` to check the presence of the SPKG meataxe.  In general, unary `JoinFeature` seems to be used to check the presence of an SPKG.\n\nThe name of a feature gives the `# optional` tag. I have used unary `JoinFeature`s to equip features such as `PythonModule` features with a tag name that differs from the systematic tag name.",
    "created_at": "2022-09-07T19:06:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553666",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [Kwankyu Lee](#comment:32):
> It seems `JoinFeature` is also used as unary. In your example, the feature `Meataxe` is a `JoinFeature` of the Python module `sage.matrix.matrix_gfpn_dense` only. Any feature is provided by an `SPKG`. In this example, the presence of the Python module implies the presence of the SPKG meataxe. Hence I think the feature `Meataxe` uses the unary `JoinFeature` to check the presence of the SPKG meataxe.  In general, unary `JoinFeature` seems to be used to check the presence of an SPKG.

The name of a feature gives the `# optional` tag. I have used unary `JoinFeature`s to equip features such as `PythonModule` features with a tag name that differs from the systematic tag name.



---

archive/issue_comments_553667.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [Sebastian Oehms](#comment:33):\n> I think `JoinFeature` is missing some documentation to make these things clear. Shall I open a ticket?\n\nThat would be nice. Matthias explains clearly how unary `JoinFeature` can be used.",
    "created_at": "2022-09-07T22:35:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553667",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [Sebastian Oehms](#comment:33):
> I think `JoinFeature` is missing some documentation to make these things clear. Shall I open a ticket?

That would be nice. Matthias explains clearly how unary `JoinFeature` can be used.



---

archive/issue_comments_553668.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [Kwankyu Lee](#comment:35):\n> Replying to [Sebastian Oehms](#comment:33):\n> > I think `JoinFeature` is missing some documentation to make these things clear. Shall I open a ticket?\n\n> \n> That would be nice. Matthias explains clearly how unary `JoinFeature` can be used.\n\nThis is now #34508!",
    "created_at": "2022-09-08T19:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553668",
    "user": "https://github.com/soehms"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [Kwankyu Lee](#comment:35):
> Replying to [Sebastian Oehms](#comment:33):
> > I think `JoinFeature` is missing some documentation to make these things clear. Shall I open a ticket?

> 
> That would be nice. Matthias explains clearly how unary `JoinFeature` can be used.

This is now #34508!



---

archive/issue_events_465333.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-465333"
}
```



---

archive/issue_events_465334.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-465334"
}
```



---

archive/issue_events_465335.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-09-22T22:35:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-465335"
}
```



---

archive/issue_events_465336.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1ec500e81bfd5e0a6c8cb17cb7b06c1728f48680",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-09-22T22:35:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-465336"
}
```



---

archive/issue_comments_553669.json:
```json
{
    "body": "Changed branch from **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)** to **[`a77ff0c`](https://github.com/sagemath/sagetrac-mirror/commit/a77ff0c9c90b94bd83799351326f4dca6237c2f2)**",
    "created_at": "2022-09-22T22:35:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-553669",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)** to **[`a77ff0c`](https://github.com/sagemath/sagetrac-mirror/commit/a77ff0c9c90b94bd83799351326f4dca6237c2f2)**
