# Issue 34282: Make feature TeXFile check latex first

archive/issues_034045.json:
```json
{
    "assignees": [],
    "body": "Currently, as observed in [comment 7](https://github.com/sagemath/sage/issues/34185#comment:7) of #34185, the method `is_present` of instances of class `TeXFile` runs into an exception if latex is not installed. For example:\n\n```\nsage: from sage.features.latex import LaTeXPackage\nsage: LaTeXPackage(\"tkz-graph\").is_present()\nTraceback (most recent call last):\n...\nFileNotFoundError: [Errno 2] No such file or directory: 'kpsewhich'\n```\n\nThe aim of the ticket is to fix this.\n\n\nCC:  @seblabbe\n\nKeywords: **latex texfile feature**\n\nBranch/Commit: **[a77ff0c](https://github.com/sagemath/sagetrac-mirror/commit/a77ff0c9c90b94bd83799351326f4dca6237c2f2)**\n\nReviewer: **Kwankyu Lee, Sebastian Oehms**\n\nAuthor: **Sebastian Oehms, Kwankyu Lee**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34282_\n\n",
    "closed_at": "2022-09-22T22:35:37Z",
    "created_at": "2022-08-05T06:39:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20doctest%20framework",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make feature TeXFile check latex first",
    "type": "issue",
    "updated_at": "2022-09-22T22:35:37Z",
    "url": "https://github.com/sagemath/sage/issues/34282",
    "user": "https://github.com/soehms"
}
```
Currently, as observed in [comment 7](https://github.com/sagemath/sage/issues/34185#comment:7) of #34185, the method `is_present` of instances of class `TeXFile` runs into an exception if latex is not installed. For example:

```
sage: from sage.features.latex import LaTeXPackage
sage: LaTeXPackage("tkz-graph").is_present()
Traceback (most recent call last):
...
FileNotFoundError: [Errno 2] No such file or directory: 'kpsewhich'
```

The aim of the ticket is to fix this.


CC:  @seblabbe

Keywords: **latex texfile feature**

Branch/Commit: **[a77ff0c](https://github.com/sagemath/sagetrac-mirror/commit/a77ff0c9c90b94bd83799351326f4dca6237c2f2)**

Reviewer: **Kwankyu Lee, Sebastian Oehms**

Author: **Sebastian Oehms, Kwankyu Lee**

_Issue created by migration from https://trac.sagemath.org/ticket/34282_





---

archive/issue_events_435770.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2022-08-05T06:39:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-435770"
}
```



---

archive/issue_events_435771.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2022-08-05T06:39:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-435771"
}
```



---

archive/issue_events_435772.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2022-08-05T06:39:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-435772"
}
```



---

archive/issue_events_435773.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2022-08-05T06:39:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-435773"
}
```



---

archive/issue_comments_556771.json:
```json
{
    "body": "Branch: **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)**",
    "created_at": "2022-08-05T06:45:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556771",
    "user": "https://github.com/soehms"
}
```

Branch: **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)**



---

archive/issue_comments_556772.json:
```json
{
    "body": "Commit: **[c599e49](https://github.com/sagemath/sagetrac-mirror/commit/c599e491b1e994bd631371d12da74a9b9166e6ba)**",
    "created_at": "2022-08-05T06:48:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556772",
    "user": "https://github.com/soehms"
}
```

Commit: **[c599e49](https://github.com/sagemath/sagetrac-mirror/commit/c599e491b1e994bd631371d12da74a9b9166e6ba)**



---

archive/issue_events_435774.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2022-08-05T06:48:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-435774"
}
```



---

archive/issue_events_435775.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2022-08-05T06:48:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20doctest%20framework",
    "label_color": "000080",
    "label_name": "component: doctest framework",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-435775"
}
```



---

archive/issue_comments_556773.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c599e491b1e994bd631371d12da74a9b9166e6ba\">c599e49</a></td><td><code>34282: initial</code></td></tr></table>\n",
    "created_at": "2022-08-05T06:48:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556773",
    "user": "https://github.com/soehms"
}
```

<a id='comment:2'>Comment 2:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c599e491b1e994bd631371d12da74a9b9166e6ba">c599e49</a></td><td><code>34282: initial</code></td></tr></table>




---

archive/issue_events_435776.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2022-08-05T06:48:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-435776"
}
```



---

archive/issue_comments_556774.json:
```json
{
    "body": "Author: **Sebastian Oehms**",
    "created_at": "2022-08-05T06:48:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556774",
    "user": "https://github.com/soehms"
}
```

Author: **Sebastian Oehms**



---

archive/issue_comments_556775.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nI think it would also make sense to add `spkg='texlive'` to these features",
    "created_at": "2022-08-05T18:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556775",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'>Comment 3:</a>
I think it would also make sense to add `spkg='texlive'` to these features



---

archive/issue_comments_556776.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7358dc2e601061c28ad2d0a1cfbb16c6ce317f8c\">7358dc2</a></td><td><code>34282: dd spkg='texlive', refactoring, pycodestyle</code></td></tr></table>\n",
    "created_at": "2022-08-08T17:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556776",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7358dc2e601061c28ad2d0a1cfbb16c6ce317f8c">7358dc2</a></td><td><code>34282: dd spkg='texlive', refactoring, pycodestyle</code></td></tr></table>




---

archive/issue_comments_556777.json:
```json
{
    "body": "Changed commit from **[c599e49](https://github.com/sagemath/sagetrac-mirror/commit/c599e491b1e994bd631371d12da74a9b9166e6ba)** to **[7358dc2](https://github.com/sagemath/sagetrac-mirror/commit/7358dc2e601061c28ad2d0a1cfbb16c6ce317f8c)**",
    "created_at": "2022-08-08T17:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556777",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c599e49](https://github.com/sagemath/sagetrac-mirror/commit/c599e491b1e994bd631371d12da74a9b9166e6ba)** to **[7358dc2](https://github.com/sagemath/sagetrac-mirror/commit/7358dc2e601061c28ad2d0a1cfbb16c6ce317f8c)**



---

archive/issue_comments_556778.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nReplying to [@mkoeppe](#comment%3A3):\n> I think it would also make sense to add `spkg='texlive'` to these features\n\nDone! Furthermore, I refactor the executable features not only to avoid duplicated code, but also since in my point of view it is not reasonable that just the `latex` feature has a stronger `is_functional` check.",
    "created_at": "2022-08-08T17:37:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556778",
    "user": "https://github.com/soehms"
}
```

<a id='comment:5'>Comment 5:</a>
Replying to [@mkoeppe](#comment%3A3):
> I think it would also make sense to add `spkg='texlive'` to these features

Done! Furthermore, I refactor the executable features not only to avoid duplicated code, but also since in my point of view it is not reasonable that just the `latex` feature has a stronger `is_functional` check.



---

archive/issue_comments_556779.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\n\n```diff\ndiff --git a/src/sage/features/latex.py b/src/sage/features/latex.py\nindex cf65aea6af..7db89f6190 100644\n--- a/src/sage/features/latex.py\n+++ b/src/sage/features/latex.py\n@@ -37,7 +37,7 @@ class LaTeX(Executable):\n             sage: isinstance(latex(), latex)\n             True\n         \"\"\"\n-        Executable.__init__(self, name, executable=name, spkg=latex_spkg, url=latex_url)\n+        super().__init__(name, executable=name, spkg=latex_spkg, url=latex_url)\n \n     def is_functional(self):\n         r\"\"\"\n@@ -217,13 +217,10 @@ class TeXFile(StaticFile, JoinFeature):\n             sage: from sage.features.latex import LaTeXPackage, pdflatex\n             sage: f = LaTeXPackage(\"tkz-graph\")\n             sage: g = pdflatex()\n-            sage: bool(f.is_present()) == bool(g.is_present())  # indirect doctest\n+            sage: not f.is_present() or bool(g.is_present())  # indirect doctest\n             True\n         \"\"\"\n-        test = JoinFeature._is_present(self)\n-        if not test:\n-            return test\n-        return super(TeXFile, self)._is_present()\n+        return JoinFeature._is_present(self) and StaticFile._is_present(self)\n \n```",
    "created_at": "2022-08-20T01:01:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556779",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:6'>Comment 6:</a>

```diff
diff --git a/src/sage/features/latex.py b/src/sage/features/latex.py
index cf65aea6af..7db89f6190 100644
--- a/src/sage/features/latex.py
+++ b/src/sage/features/latex.py
@@ -37,7 +37,7 @@ class LaTeX(Executable):
             sage: isinstance(latex(), latex)
             True
         """
-        Executable.__init__(self, name, executable=name, spkg=latex_spkg, url=latex_url)
+        super().__init__(name, executable=name, spkg=latex_spkg, url=latex_url)
 
     def is_functional(self):
         r"""
@@ -217,13 +217,10 @@ class TeXFile(StaticFile, JoinFeature):
             sage: from sage.features.latex import LaTeXPackage, pdflatex
             sage: f = LaTeXPackage("tkz-graph")
             sage: g = pdflatex()
-            sage: bool(f.is_present()) == bool(g.is_present())  # indirect doctest
+            sage: not f.is_present() or bool(g.is_present())  # indirect doctest
             True
         """
-        test = JoinFeature._is_present(self)
-        if not test:
-            return test
-        return super(TeXFile, self)._is_present()
+        return JoinFeature._is_present(self) and StaticFile._is_present(self)
 
```



---

archive/issue_comments_556780.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBy the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?",
    "created_at": "2022-08-20T01:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556780",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:7'>Comment 7:</a>
By the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?



---

archive/issue_comments_556781.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [@kwankyu](#comment%3A6):\n> \n> ```diff\n> diff --git a/src/sage/features/latex.py b/src/sage/features/latex.py\n> index cf65aea6af..7db89f6190 100644\n> --- a/src/sage/features/latex.py\n> +++ b/src/sage/features/latex.py\n> @@ -37,7 +37,7 @@ class LaTeX(Executable):\n>              sage: isinstance(latex(), latex)\n>              True\n>          \"\"\"\n> -        Executable.__init__(self, name, executable=name, spkg=latex_spkg, url=latex_url)\n> +        super().__init__(name, executable=name, spkg=latex_spkg, url=latex_url)\n>  \n>      def is_functional(self):\n>          r\"\"\"\n> @@ -217,13 +217,10 @@ class TeXFile(StaticFile, JoinFeature):\n>              sage: from sage.features.latex import LaTeXPackage, pdflatex\n>              sage: f = LaTeXPackage(\"tkz-graph\")\n>              sage: g = pdflatex()\n> -            sage: bool(f.is_present()) == bool(g.is_present())  # indirect doctest\n> +            sage: not f.is_present() or bool(g.is_present())  # indirect doctest\n>              True\n>          \"\"\"\n> -        test = JoinFeature._is_present(self)\n> -        if not test:\n> -            return test\n> -        return super(TeXFile, self)._is_present()\n> +        return JoinFeature._is_present(self) and StaticFile._is_present(self)\n>  \n> ```\n\nI'm fine with your first suggestion. Concerning the second, the advantage is not clear to me. \n\nWith your third suggestion I have a problem since in general I prefer to serialise condition checks if they only work in a certain order. I know that it is no problem any more with modern languages and compilers, since they implicitly serialise in the order they are written. But the syntax using `and` / `or` pretends a parallelism which is not given in such a situation.",
    "created_at": "2022-08-20T14:46:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556781",
    "user": "https://github.com/soehms"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [@kwankyu](#comment%3A6):
> 
> ```diff
> diff --git a/src/sage/features/latex.py b/src/sage/features/latex.py
> index cf65aea6af..7db89f6190 100644
> --- a/src/sage/features/latex.py
> +++ b/src/sage/features/latex.py
> @@ -37,7 +37,7 @@ class LaTeX(Executable):
>              sage: isinstance(latex(), latex)
>              True
>          """
> -        Executable.__init__(self, name, executable=name, spkg=latex_spkg, url=latex_url)
> +        super().__init__(name, executable=name, spkg=latex_spkg, url=latex_url)
>  
>      def is_functional(self):
>          r"""
> @@ -217,13 +217,10 @@ class TeXFile(StaticFile, JoinFeature):
>              sage: from sage.features.latex import LaTeXPackage, pdflatex
>              sage: f = LaTeXPackage("tkz-graph")
>              sage: g = pdflatex()
> -            sage: bool(f.is_present()) == bool(g.is_present())  # indirect doctest
> +            sage: not f.is_present() or bool(g.is_present())  # indirect doctest
>              True
>          """
> -        test = JoinFeature._is_present(self)
> -        if not test:
> -            return test
> -        return super(TeXFile, self)._is_present()
> +        return JoinFeature._is_present(self) and StaticFile._is_present(self)
>  
> ```

I'm fine with your first suggestion. Concerning the second, the advantage is not clear to me. 

With your third suggestion I have a problem since in general I prefer to serialise condition checks if they only work in a certain order. I know that it is no problem any more with modern languages and compilers, since they implicitly serialise in the order they are written. But the syntax using `and` / `or` pretends a parallelism which is not given in such a situation.



---

archive/issue_comments_556782.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nReplying to [@kwankyu](#comment%3A7):\n> By the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?\n\nAFAIK there is no feature that checks if `texlive` is just installed, no? Do you want to create a new feature or just replace the join with `pdflatex` by `latex`?",
    "created_at": "2022-08-20T14:48:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556782",
    "user": "https://github.com/soehms"
}
```

<a id='comment:9'>Comment 9:</a>
Replying to [@kwankyu](#comment%3A7):
> By the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?

AFAIK there is no feature that checks if `texlive` is just installed, no? Do you want to create a new feature or just replace the join with `pdflatex` by `latex`?



---

archive/issue_comments_556783.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [@soehms](#comment%3A8):\n> Concerning the second, the advantage is not clear to me. \n\nHere you want to check that \"if f.is_present, then g.is_present\". Right? My test just does that expressly.\n\n> With your third suggestion I have a problem since in general I prefer to serialise condition checks if they only work in a certain order. I know that it is no problem any more with modern languages and compilers, since they implicitly serialise in the order they are written. But the syntax using `and` / `or` pretends a parallelism which is not given in such a situation.\n\nThere is no parallelism here. My simple code exactly does what your code does. Note that\n\n```\nsage: 0 and 1\n0\nsage: 1 and 2\n2\n```\nIn `A and B`, `B` is never evaluated if `A` is false.",
    "created_at": "2022-08-20T16:23:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556783",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [@soehms](#comment%3A8):
> Concerning the second, the advantage is not clear to me. 

Here you want to check that "if f.is_present, then g.is_present". Right? My test just does that expressly.

> With your third suggestion I have a problem since in general I prefer to serialise condition checks if they only work in a certain order. I know that it is no problem any more with modern languages and compilers, since they implicitly serialise in the order they are written. But the syntax using `and` / `or` pretends a parallelism which is not given in such a situation.

There is no parallelism here. My simple code exactly does what your code does. Note that

```
sage: 0 and 1
0
sage: 1 and 2
2
```
In `A and B`, `B` is never evaluated if `A` is false.



---

archive/issue_comments_556784.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@kwankyu](#comment%3A10):\n> Replying to [@soehms](#comment%3A8):\n> > Concerning the second, the advantage is not clear to me. \n\n> \n> Here you want to check that \"if f.is_present, then g.is_present\". Right? My test just does that expressly.\n\nConvinced! I had *if and only if* in mind since AFAIK in reallity `f` is always present if `g` is.\n\n> \n> > With your third suggestion I have a problem since in general I prefer to serialise condition checks if they only work in a certain order. I know that it is no problem any more with modern languages and compilers, since they implicitly serialise in the order they are written. But the syntax using `and` / `or` pretends a parallelism which is not given in such a situation.\n\n> \n> There is no parallelism here.\n\nI was saying *pretends a parallelism*. \n\n> My simple code exactly does what your code does. \n\nSo what is the advantage?\n\n> Note that\n> \n> ```\n> sage: 0 and 1\n> 0\n> sage: 1 and 2\n> 2\n> ```\n> In `A and B`, `B` is never evaluated if `A` is false.\n\n>\n\nMaybe I'm old fashioned, but I know a time where you could not be sure that *`B` is never evaluated if `A` is false* (at least in `C`).",
    "created_at": "2022-08-20T16:49:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556784",
    "user": "https://github.com/soehms"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@kwankyu](#comment%3A10):
> Replying to [@soehms](#comment%3A8):
> > Concerning the second, the advantage is not clear to me. 

> 
> Here you want to check that "if f.is_present, then g.is_present". Right? My test just does that expressly.

Convinced! I had *if and only if* in mind since AFAIK in reallity `f` is always present if `g` is.

> 
> > With your third suggestion I have a problem since in general I prefer to serialise condition checks if they only work in a certain order. I know that it is no problem any more with modern languages and compilers, since they implicitly serialise in the order they are written. But the syntax using `and` / `or` pretends a parallelism which is not given in such a situation.

> 
> There is no parallelism here.

I was saying *pretends a parallelism*. 

> My simple code exactly does what your code does. 

So what is the advantage?

> Note that
> 
> ```
> sage: 0 and 1
> 0
> sage: 1 and 2
> 2
> ```
> In `A and B`, `B` is never evaluated if `A` is false.

>

Maybe I'm old fashioned, but I know a time where you could not be sure that *`B` is never evaluated if `A` is false* (at least in `C`).



---

archive/issue_comments_556785.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nReplying to [@soehms](#comment%3A11):\n> > My simple code exactly does what your code does. \n\n> \n> So what is the advantage?\n\nIt took me some time to understand the purpose of your code. My code expresses the purpose.\n\n> > In `A and B`, `B` is never evaluated if `A` is false.\n\n> >\n\n> \n> Maybe I'm old fashioned, but I know a time where you could not be sure that *`B` is never evaluated if `A` is false* (at least in `C`).\n\nYeah, this is just Python:\n\nhttps://docs.python.org/3/reference/expressions.html#boolean-operations",
    "created_at": "2022-08-20T21:47:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556785",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:12'>Comment 12:</a>
Replying to [@soehms](#comment%3A11):
> > My simple code exactly does what your code does. 

> 
> So what is the advantage?

It took me some time to understand the purpose of your code. My code expresses the purpose.

> > In `A and B`, `B` is never evaluated if `A` is false.

> >

> 
> Maybe I'm old fashioned, but I know a time where you could not be sure that *`B` is never evaluated if `A` is false* (at least in `C`).

Yeah, this is just Python:

https://docs.python.org/3/reference/expressions.html#boolean-operations



---

archive/issue_comments_556786.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nReplying to [@soehms](#comment%3A9):\n> Replying to [@kwankyu](#comment%3A7):\n> > By the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?\n\n> \n> ...or just replace the join with `pdflatex` by `latex`?\n\nYes. I know that they are practically the same, but the name `latex` can be understood as the latex system(texlive) but `pdflatex` refers to the program.",
    "created_at": "2022-08-20T22:54:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556786",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:13'>Comment 13:</a>
Replying to [@soehms](#comment%3A9):
> Replying to [@kwankyu](#comment%3A7):
> > By the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?

> 
> ...or just replace the join with `pdflatex` by `latex`?

Yes. I know that they are practically the same, but the name `latex` can be understood as the latex system(texlive) but `pdflatex` refers to the program.



---

archive/issue_comments_556787.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [@kwankyu](#comment%3A12):\n> Replying to [@soehms](#comment%3A11):\n> > > My simple code exactly does what your code does. \n\n> > \n> > So what is the advantage?\n\n> \n> It took me some time to understand the purpose of your code. My code expresses the purpose.\n> \n\nBut it might be misleading for people who think `and` is a commutative binary operator which is not very unusual for mathematicians :)",
    "created_at": "2022-08-21T06:06:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556787",
    "user": "https://github.com/soehms"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [@kwankyu](#comment%3A12):
> Replying to [@soehms](#comment%3A11):
> > > My simple code exactly does what your code does. 

> > 
> > So what is the advantage?

> 
> It took me some time to understand the purpose of your code. My code expresses the purpose.
> 

But it might be misleading for people who think `and` is a commutative binary operator which is not very unusual for mathematicians :)



---

archive/issue_comments_556788.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nReplying to [@kwankyu](#comment%3A13):\n> Replying to [@soehms](#comment%3A9):\n> > Replying to [@kwankyu](#comment%3A7):\n> > > By the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?\n\n> > \n> > ...or just replace the join with `pdflatex` by `latex`?\n\n> \n> Yes. I know that they are practically the same, but the name `latex` can be understood as the latex system(texlive) but `pdflatex` refers to the program.\n\nAgreed!\n\nI'm on vaccation the next two week. If you don't want to wait that long, feel free to do all of the changes you suggested by yourself.",
    "created_at": "2022-08-21T06:08:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556788",
    "user": "https://github.com/soehms"
}
```

<a id='comment:15'>Comment 15:</a>
Replying to [@kwankyu](#comment%3A13):
> Replying to [@soehms](#comment%3A9):
> > Replying to [@kwankyu](#comment%3A7):
> > > By the way, why presence of `kpsewhich` is checked by the presence of `pdflatex`? `kpsewhich` is a component of tex installation. Checking if `texlive` is present isn't enough?

> > 
> > ...or just replace the join with `pdflatex` by `latex`?

> 
> Yes. I know that they are practically the same, but the name `latex` can be understood as the latex system(texlive) but `pdflatex` refers to the program.

Agreed!

I'm on vaccation the next two week. If you don't want to wait that long, feel free to do all of the changes you suggested by yourself.



---

archive/issue_comments_556789.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nReplying to [@soehms](#comment%3A14):\n> But it might be misleading for people who think `and` is a commutative binary operator which is not very unusual for mathematicians :)\n\nBut for python programmers, the above use of `and` is a common idiom. Don't worry.",
    "created_at": "2022-08-21T06:12:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556789",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:16'>Comment 16:</a>
Replying to [@soehms](#comment%3A14):
> But it might be misleading for people who think `and` is a commutative binary operator which is not very unusual for mathematicians :)

But for python programmers, the above use of `and` is a common idiom. Don't worry.



---

archive/issue_comments_556790.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nReplying to [@soehms](#comment%3A15):\n> I'm on vaccation the next two week. If you don't want to wait that long, feel free to do all of the changes you suggested by yourself.\n\nOkay. Happy vacation!",
    "created_at": "2022-08-21T06:12:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556790",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:17'>Comment 17:</a>
Replying to [@soehms](#comment%3A15):
> I'm on vaccation the next two week. If you don't want to wait that long, feel free to do all of the changes you suggested by yourself.

Okay. Happy vacation!



---

archive/issue_comments_556791.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nReplying to [@kwankyu](#comment%3A17):\n> Replying to [@soehms](#comment%3A15):\n> > I'm on vaccation the next two week. If you don't want to wait that long, feel free to do all of the changes you suggested by yourself.\n\n> \n> Okay. Happy vacation!\n\nThanks!",
    "created_at": "2022-08-21T07:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556791",
    "user": "https://github.com/soehms"
}
```

<a id='comment:18'>Comment 18:</a>
Replying to [@kwankyu](#comment%3A17):
> Replying to [@soehms](#comment%3A15):
> > I'm on vaccation the next two week. If you don't want to wait that long, feel free to do all of the changes you suggested by yourself.

> 
> Okay. Happy vacation!

Thanks!



---

archive/issue_comments_556792.json:
```json
{
    "body": "Changed branch from **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)** to **[u/klee/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/join_feature_texfile_with_pdflatex_34282)**",
    "created_at": "2022-08-21T12:12:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556792",
    "user": "https://github.com/kwankyu"
}
```

Changed branch from **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)** to **[u/klee/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/join_feature_texfile_with_pdflatex_34282)**



---

archive/issue_comments_556793.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nWhile fixing things, I could not resist from doing more than I intended. Sorry...\n\nIt seemed that TeXFile doesn't need to be a subclass of JoinFeature.\n\nInstead, TeXFile now simply checks latex presence first. \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5900ac00f7ff36e174fa45b52f6ef78265c2826\">a5900ac</a></td><td><code>Merge branch 'develop' into t/34282/join_feature_texfile_with_pdflatex_34282</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e6ca2a67102d4c133173cedaa5ca505c2082ddf\">9e6ca2a</a></td><td><code>Replace pdflatex to latex</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/553f6ffc7473fabcff8e630b995bd7e3dc671207\">553f6ff</a></td><td><code>Do not use JoinFeature</code></td></tr></table>\n",
    "created_at": "2022-08-21T12:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556793",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:20'>Comment 20:</a>
While fixing things, I could not resist from doing more than I intended. Sorry...

It seemed that TeXFile doesn't need to be a subclass of JoinFeature.

Instead, TeXFile now simply checks latex presence first. 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5900ac00f7ff36e174fa45b52f6ef78265c2826">a5900ac</a></td><td><code>Merge branch 'develop' into t/34282/join_feature_texfile_with_pdflatex_34282</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e6ca2a67102d4c133173cedaa5ca505c2082ddf">9e6ca2a</a></td><td><code>Replace pdflatex to latex</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/553f6ffc7473fabcff8e630b995bd7e3dc671207">553f6ff</a></td><td><code>Do not use JoinFeature</code></td></tr></table>




---

archive/issue_comments_556794.json:
```json
{
    "body": "Changed keywords from **latex texfile feature join** to **latex texfile feature**",
    "created_at": "2022-08-21T12:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556794",
    "user": "https://github.com/kwankyu"
}
```

Changed keywords from **latex texfile feature join** to **latex texfile feature**



---

archive/issue_comments_556795.json:
```json
{
    "body": "Changed commit from **[7358dc2](https://github.com/sagemath/sagetrac-mirror/commit/7358dc2e601061c28ad2d0a1cfbb16c6ce317f8c)** to **[553f6ff](https://github.com/sagemath/sagetrac-mirror/commit/553f6ffc7473fabcff8e630b995bd7e3dc671207)**",
    "created_at": "2022-08-21T12:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556795",
    "user": "https://github.com/kwankyu"
}
```

Changed commit from **[7358dc2](https://github.com/sagemath/sagetrac-mirror/commit/7358dc2e601061c28ad2d0a1cfbb16c6ce317f8c)** to **[553f6ff](https://github.com/sagemath/sagetrac-mirror/commit/553f6ffc7473fabcff8e630b995bd7e3dc671207)**



---

archive/issue_comments_556796.json:
```json
{
    "body": "Changed author from **Sebastian Oehms** to **Sebastian Oehms, Kwankyu Lee**",
    "created_at": "2022-08-21T12:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556796",
    "user": "https://github.com/kwankyu"
}
```

Changed author from **Sebastian Oehms** to **Sebastian Oehms, Kwankyu Lee**



---

archive/issue_events_435777.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-08-21T12:23:51Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "title_is": "Make feature TeXFile check latex first",
    "title_was": "Join feature TeXFile with pdflatex",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-435777"
}
```



---

archive/issue_comments_556797.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Currently, as observed in [comment 7](https://github.com/sagemath/sage/issues/34185#comment:7) of #34185, the method `is_present` of instances of class `TeXFile` runs into an exception if `pdflatex` is not installed. For example:\n+Currently, as observed in [comment 7](https://github.com/sagemath/sage/issues/34185#comment:7) of #34185, the method `is_present` of instances of class `TeXFile` runs into an exception if latex is not installed. For example:\n \n ```\n sage: from sage.features.latex import LaTeXPackage\n``````\n",
    "created_at": "2022-08-21T12:24:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556797",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Currently, as observed in [comment 7](https://github.com/sagemath/sage/issues/34185#comment:7) of #34185, the method `is_present` of instances of class `TeXFile` runs into an exception if `pdflatex` is not installed. For example:
+Currently, as observed in [comment 7](https://github.com/sagemath/sage/issues/34185#comment:7) of #34185, the method `is_present` of instances of class `TeXFile` runs into an exception if latex is not installed. For example:
 
 ```
 sage: from sage.features.latex import LaTeXPackage
``````




---

archive/issue_comments_556798.json:
```json
{
    "body": "Changed commit from **[553f6ff](https://github.com/sagemath/sagetrac-mirror/commit/553f6ffc7473fabcff8e630b995bd7e3dc671207)** to **[a31205a](https://github.com/sagemath/sagetrac-mirror/commit/a31205abd7189dfb0f888fe78fd3bfcd4bd09eee)**",
    "created_at": "2022-08-21T12:38:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556798",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[553f6ff](https://github.com/sagemath/sagetrac-mirror/commit/553f6ffc7473fabcff8e630b995bd7e3dc671207)** to **[a31205a](https://github.com/sagemath/sagetrac-mirror/commit/a31205abd7189dfb0f888fe78fd3bfcd4bd09eee)**



---

archive/issue_comments_556799.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a31205abd7189dfb0f888fe78fd3bfcd4bd09eee\">a31205a</a></td><td><code>A tiny edit</code></td></tr></table>\n",
    "created_at": "2022-08-21T12:38:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556799",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'>Comment 22:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a31205abd7189dfb0f888fe78fd3bfcd4bd09eee">a31205a</a></td><td><code>A tiny edit</code></td></tr></table>




---

archive/issue_comments_556800.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nReplying to [@kwankyu](#comment%3A20):\n> While fixing things, I could not resist from doing more than I intended. Sorry...\n> \n> It seemed that TeXFile doesn't need to be a subclass of JoinFeature.\n> \n> Instead, TeXFile now simply checks latex presence first. \n\nNote that #34185 has a dependency on this ticket and I think this would break things there. More precisely, the method `joined_features` defined in class `Feature` will not work correctly for `TeX` files. So at least you should find another solution for that.",
    "created_at": "2022-08-21T13:14:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556800",
    "user": "https://github.com/soehms"
}
```

<a id='comment:23'>Comment 23:</a>
Replying to [@kwankyu](#comment%3A20):
> While fixing things, I could not resist from doing more than I intended. Sorry...
> 
> It seemed that TeXFile doesn't need to be a subclass of JoinFeature.
> 
> Instead, TeXFile now simply checks latex presence first. 

Note that #34185 has a dependency on this ticket and I think this would break things there. More precisely, the method `joined_features` defined in class `Feature` will not work correctly for `TeX` files. So at least you should find another solution for that.



---

archive/issue_comments_556801.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nReplying to [@soehms](#comment%3A23):\n> Note that #34185 has a dependency on this ticket and I think this would break things there.\n\nProbably.\n\n> More precisely, the method `joined_features` defined in class `Feature` will not work correctly for `TeX` files. So at least you should find another solution for that.\n\nThe purpose of this ticket as in description (but not as in old title) is to fix a **bug** in TeXFile feature, which did not check latex system in place before it check the presence of a TeX file (such as a latex package). This has nothing to do with #34185. \n\nHence I think that any changes to TeXFile feature related with #34185 should be made in #34185 itself.\n\nMoreover, as far as I understand #34185, the goal of #34185 is not clear to me and I doubt if the goal is reasonable. So the present ticket is better to be independent from #34185.",
    "created_at": "2022-08-22T01:53:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556801",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:24'>Comment 24:</a>
Replying to [@soehms](#comment%3A23):
> Note that #34185 has a dependency on this ticket and I think this would break things there.

Probably.

> More precisely, the method `joined_features` defined in class `Feature` will not work correctly for `TeX` files. So at least you should find another solution for that.

The purpose of this ticket as in description (but not as in old title) is to fix a **bug** in TeXFile feature, which did not check latex system in place before it check the presence of a TeX file (such as a latex package). This has nothing to do with #34185. 

Hence I think that any changes to TeXFile feature related with #34185 should be made in #34185 itself.

Moreover, as far as I understand #34185, the goal of #34185 is not clear to me and I doubt if the goal is reasonable. So the present ticket is better to be independent from #34185.



---

archive/issue_comments_556802.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nBy the way, I am positive with this ticket.",
    "created_at": "2022-08-22T01:57:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556802",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:25'>Comment 25:</a>
By the way, I am positive with this ticket.



---

archive/issue_comments_556803.json:
```json
{
    "body": "Reviewer: **Kwankyu Lee**",
    "created_at": "2022-08-22T01:57:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556803",
    "user": "https://github.com/kwankyu"
}
```

Reviewer: **Kwankyu Lee**



---

archive/issue_comments_556804.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nReplying to [@kwankyu](#comment%3A25):\n> By the way, I am positive with this ticket.\n\nI will not be able to look at your additional changes before I will be back home again.\n\nAt the moment I am still not convinced to remove the inheritance of JoinFeature (independently of #34185), since as fas as I understand this is the conceptual way to indicate dependencies between features.",
    "created_at": "2022-08-24T11:51:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556804",
    "user": "https://github.com/soehms"
}
```

<a id='comment:27'>Comment 27:</a>
Replying to [@kwankyu](#comment%3A25):
> By the way, I am positive with this ticket.

I will not be able to look at your additional changes before I will be back home again.

At the moment I am still not convinced to remove the inheritance of JoinFeature (independently of #34185), since as fas as I understand this is the conceptual way to indicate dependencies between features.



---

archive/issue_comments_556805.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nReplying to [@soehms](#comment%3A27):\n> Replying to [@kwankyu](#comment%3A25):\n> > By the way, I am positive with this ticket.\n\n> I will not be able to look at your additional changes before I will be back home again.\n\nNo hurry. Enjoy vacation!\n \n> At the moment I am still not convinced to remove the inheritance of JoinFeature (independently of #34185), since as fas as I understand this is the conceptual way to indicate dependencies between features.\n\nI think JoinFeature is not relevant for the bug. A joined feature is conceptually a new feature \"A and B\" combining A and B. TeXFile is a feature A that requires feature B. Conceptually it is \"A => B\".",
    "created_at": "2022-08-24T20:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556805",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:28'>Comment 28:</a>
Replying to [@soehms](#comment%3A27):
> Replying to [@kwankyu](#comment%3A25):
> > By the way, I am positive with this ticket.

> I will not be able to look at your additional changes before I will be back home again.

No hurry. Enjoy vacation!
 
> At the moment I am still not convinced to remove the inheritance of JoinFeature (independently of #34185), since as fas as I understand this is the conceptual way to indicate dependencies between features.

I think JoinFeature is not relevant for the bug. A joined feature is conceptually a new feature "A and B" combining A and B. TeXFile is a feature A that requires feature B. Conceptually it is "A => B".



---

archive/issue_comments_556806.json:
```json
{
    "body": "Changed branch from **[u/klee/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/join_feature_texfile_with_pdflatex_34282)** to **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)**",
    "created_at": "2022-09-06T07:00:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556806",
    "user": "https://github.com/soehms"
}
```

Changed branch from **[u/klee/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/join_feature_texfile_with_pdflatex_34282)** to **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)**



---

archive/issue_comments_556807.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nReplying to [Kwankyu Lee](#comment%3A28):\n> I think JoinFeature is not relevant for the bug. A joined feature is conceptually a new feature \"A and B\" combining A and B. TeXFile is a feature A that requires feature B. Conceptually it is \"A => B\".   \n\nIndeed, according to the examples given in the docstring of the class you are right. But it is at least misleading that most examples of joined features consist of just one:\n\n```sage\nsage: from sage.features.all import all_features\nsage: from sage.features.join_feature import JoinFeature\nsage: J = [F for F in all_features() if isinstance(F, JoinFeature)]\nsage: len([F for F in J if len(F._features) == 1])\n16\nsage: len([F for F in J if len(F._features) > 1])\n7\n```\n\nIn these cases the instance of `JoinFeature` usually refers to a `SPKG` (for example `meataxe`) which is combined with a Python module (in the example `meataxe` this is `sage.matrix.matrix_gfpn_dense`) implementing the integration of the new functionality into Sage. Since the Python module requires the `SPKG` the construction describes a dependency here, as well. But I confess that it is reverse on how I used it.\n\nFinally, I agree with your changes, but I observed two little things that I have corrected. If you agree and the patchbot comes green again, you may set to positive review.",
    "created_at": "2022-09-06T07:09:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556807",
    "user": "https://github.com/soehms"
}
```

<a id='comment:30'>Comment 30:</a>
Replying to [Kwankyu Lee](#comment%3A28):
> I think JoinFeature is not relevant for the bug. A joined feature is conceptually a new feature "A and B" combining A and B. TeXFile is a feature A that requires feature B. Conceptually it is "A => B".   

Indeed, according to the examples given in the docstring of the class you are right. But it is at least misleading that most examples of joined features consist of just one:

```sage
sage: from sage.features.all import all_features
sage: from sage.features.join_feature import JoinFeature
sage: J = [F for F in all_features() if isinstance(F, JoinFeature)]
sage: len([F for F in J if len(F._features) == 1])
16
sage: len([F for F in J if len(F._features) > 1])
7
```

In these cases the instance of `JoinFeature` usually refers to a `SPKG` (for example `meataxe`) which is combined with a Python module (in the example `meataxe` this is `sage.matrix.matrix_gfpn_dense`) implementing the integration of the new functionality into Sage. Since the Python module requires the `SPKG` the construction describes a dependency here, as well. But I confess that it is reverse on how I used it.

Finally, I agree with your changes, but I observed two little things that I have corrected. If you agree and the patchbot comes green again, you may set to positive review.



---

archive/issue_comments_556808.json:
```json
{
    "body": "Changed commit from **[a31205a](https://github.com/sagemath/sagetrac-mirror/commit/a31205abd7189dfb0f888fe78fd3bfcd4bd09eee)** to **[a77ff0c](https://github.com/sagemath/sagetrac-mirror/commit/a77ff0c9c90b94bd83799351326f4dca6237c2f2)**",
    "created_at": "2022-09-06T07:09:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556808",
    "user": "https://github.com/soehms"
}
```

Changed commit from **[a31205a](https://github.com/sagemath/sagetrac-mirror/commit/a31205abd7189dfb0f888fe78fd3bfcd4bd09eee)** to **[a77ff0c](https://github.com/sagemath/sagetrac-mirror/commit/a77ff0c9c90b94bd83799351326f4dca6237c2f2)**



---

archive/issue_comments_556809.json:
```json
{
    "body": "Changed reviewer from **Kwankyu Lee** to **Kwankyu Lee, Sebastian Oehms**",
    "created_at": "2022-09-06T07:10:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556809",
    "user": "https://github.com/soehms"
}
```

Changed reviewer from **Kwankyu Lee** to **Kwankyu Lee, Sebastian Oehms**



---

archive/issue_events_435778.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-09-07T04:28:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-435778"
}
```



---

archive/issue_events_435779.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-09-07T04:28:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-435779"
}
```



---

archive/issue_comments_556810.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nReplying to [Sebastian Oehms](#comment%3A30):\n> In these cases the instance of `JoinFeature` usually refers to a `SPKG` (for example `meataxe`) which is combined with a Python module (in the example `meataxe` this is `sage.matrix.matrix_gfpn_dense`) implementing the integration of the new functionality into Sage. Since the Python module requires the `SPKG` the construction describes a dependency here, as well. But I confess that it is reverse on how I used it.\n\nIt seems `JoinFeature` is also used as unary. In your example, the feature `Meataxe` is a `JoinFeature` of the Python module `sage.matrix.matrix_gfpn_dense` only. Any feature is provided by an `SPKG`. In this example, the presence of the Python module implies the presence of the SPKG meataxe. Hence I think the feature `Meataxe` uses the unary `JoinFeature` to check the presence of the SPKG meataxe.  In general, unary `JoinFeature` seems to be used to check the presence of an SPKG.\n\nIn our case, we don't need the trick since we can check the presence of the latex feature.\n \n> Finally, I agree with your changes, but I observed two little things that I have corrected. If you agree and the patchbot comes green again, you may set to positive review.\n\nThanks. I am positive too!",
    "created_at": "2022-09-07T04:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556810",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:32'>Comment 32:</a>
Replying to [Sebastian Oehms](#comment%3A30):
> In these cases the instance of `JoinFeature` usually refers to a `SPKG` (for example `meataxe`) which is combined with a Python module (in the example `meataxe` this is `sage.matrix.matrix_gfpn_dense`) implementing the integration of the new functionality into Sage. Since the Python module requires the `SPKG` the construction describes a dependency here, as well. But I confess that it is reverse on how I used it.

It seems `JoinFeature` is also used as unary. In your example, the feature `Meataxe` is a `JoinFeature` of the Python module `sage.matrix.matrix_gfpn_dense` only. Any feature is provided by an `SPKG`. In this example, the presence of the Python module implies the presence of the SPKG meataxe. Hence I think the feature `Meataxe` uses the unary `JoinFeature` to check the presence of the SPKG meataxe.  In general, unary `JoinFeature` seems to be used to check the presence of an SPKG.

In our case, we don't need the trick since we can check the presence of the latex feature.
 
> Finally, I agree with your changes, but I observed two little things that I have corrected. If you agree and the patchbot comes green again, you may set to positive review.

Thanks. I am positive too!



---

archive/issue_comments_556811.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nReplying to [Kwankyu Lee](#comment%3A32):\n> Replying to [Sebastian Oehms](#comment%3A30):\n> It seems `JoinFeature` is also used as unary. In your example, the feature `Meataxe` is a `JoinFeature` of the Python module `sage.matrix.matrix_gfpn_dense` only. Any feature is provided by an `SPKG`. In this example, the presence of the Python module implies the presence of the SPKG meataxe. Hence I think the feature `Meataxe` uses the unary `JoinFeature` to check the presence of the SPKG meataxe.  In general, unary `JoinFeature` seems to be used to check the presence of an SPKG.\n> \n\nExactly! I think `JoinFeature` is missing some documentation to make these things clear. Shall I open a ticket?\n\n\n> Thanks. I am positive too!\n\nThanks, as well!",
    "created_at": "2022-09-07T17:10:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556811",
    "user": "https://github.com/soehms"
}
```

<a id='comment:33'>Comment 33:</a>
Replying to [Kwankyu Lee](#comment%3A32):
> Replying to [Sebastian Oehms](#comment%3A30):
> It seems `JoinFeature` is also used as unary. In your example, the feature `Meataxe` is a `JoinFeature` of the Python module `sage.matrix.matrix_gfpn_dense` only. Any feature is provided by an `SPKG`. In this example, the presence of the Python module implies the presence of the SPKG meataxe. Hence I think the feature `Meataxe` uses the unary `JoinFeature` to check the presence of the SPKG meataxe.  In general, unary `JoinFeature` seems to be used to check the presence of an SPKG.
> 

Exactly! I think `JoinFeature` is missing some documentation to make these things clear. Shall I open a ticket?


> Thanks. I am positive too!

Thanks, as well!



---

archive/issue_comments_556812.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nReplying to [Kwankyu Lee](#comment%3A32):\n> It seems `JoinFeature` is also used as unary. In your example, the feature `Meataxe` is a `JoinFeature` of the Python module `sage.matrix.matrix_gfpn_dense` only. Any feature is provided by an `SPKG`. In this example, the presence of the Python module implies the presence of the SPKG meataxe. Hence I think the feature `Meataxe` uses the unary `JoinFeature` to check the presence of the SPKG meataxe.  In general, unary `JoinFeature` seems to be used to check the presence of an SPKG.\n\nThe name of a feature gives the `# optional` tag. I have used unary `JoinFeature`s to equip features such as `PythonModule` features with a tag name that differs from the systematic tag name.",
    "created_at": "2022-09-07T19:06:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556812",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'>Comment 34:</a>
Replying to [Kwankyu Lee](#comment%3A32):
> It seems `JoinFeature` is also used as unary. In your example, the feature `Meataxe` is a `JoinFeature` of the Python module `sage.matrix.matrix_gfpn_dense` only. Any feature is provided by an `SPKG`. In this example, the presence of the Python module implies the presence of the SPKG meataxe. Hence I think the feature `Meataxe` uses the unary `JoinFeature` to check the presence of the SPKG meataxe.  In general, unary `JoinFeature` seems to be used to check the presence of an SPKG.

The name of a feature gives the `# optional` tag. I have used unary `JoinFeature`s to equip features such as `PythonModule` features with a tag name that differs from the systematic tag name.



---

archive/issue_comments_556813.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nReplying to [Sebastian Oehms](#comment%3A33):\n> I think `JoinFeature` is missing some documentation to make these things clear. Shall I open a ticket?\n\nThat would be nice. Matthias explains clearly how unary `JoinFeature` can be used.",
    "created_at": "2022-09-07T22:35:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556813",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:35'>Comment 35:</a>
Replying to [Sebastian Oehms](#comment%3A33):
> I think `JoinFeature` is missing some documentation to make these things clear. Shall I open a ticket?

That would be nice. Matthias explains clearly how unary `JoinFeature` can be used.



---

archive/issue_comments_556814.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nReplying to [Kwankyu Lee](#comment%3A35):\n> Replying to [Sebastian Oehms](#comment%3A33):\n> > I think `JoinFeature` is missing some documentation to make these things clear. Shall I open a ticket?\n\n> \n> That would be nice. Matthias explains clearly how unary `JoinFeature` can be used.\n\nThis is now #34508!",
    "created_at": "2022-09-08T19:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556814",
    "user": "https://github.com/soehms"
}
```

<a id='comment:36'>Comment 36:</a>
Replying to [Kwankyu Lee](#comment%3A35):
> Replying to [Sebastian Oehms](#comment%3A33):
> > I think `JoinFeature` is missing some documentation to make these things clear. Shall I open a ticket?

> 
> That would be nice. Matthias explains clearly how unary `JoinFeature` can be used.

This is now #34508!



---

archive/issue_events_435780.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-435780"
}
```



---

archive/issue_events_435781.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-435781"
}
```



---

archive/issue_events_435782.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-09-22T22:35:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-435782"
}
```



---

archive/issue_events_435783.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1ec500e81bfd5e0a6c8cb17cb7b06c1728f48680",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-09-22T22:35:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34282#event-435783"
}
```



---

archive/issue_comments_556815.json:
```json
{
    "body": "Changed branch from **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)** to **[a77ff0c](https://github.com/sagemath/sagetrac-mirror/commit/a77ff0c9c90b94bd83799351326f4dca6237c2f2)**",
    "created_at": "2022-09-22T22:35:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34282#issuecomment-556815",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/soehms/join_feature_texfile_with_pdflatex_34282](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/join_feature_texfile_with_pdflatex_34282)** to **[a77ff0c](https://github.com/sagemath/sagetrac-mirror/commit/a77ff0c9c90b94bd83799351326f4dca6237c2f2)**
