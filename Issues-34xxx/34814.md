# Issue 34814: adding the ring of integer-valued polynomials

archive/issues_034577.json:
```json
{
    "assignees": [],
    "body": "in two different basis\n\nCC:  @tscrim\n\nBranch/Commit: **[u/chapoton/34814](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34814) @ [`bdafb11`](https://github.com/sagemath/sagetrac-mirror/commit/bdafb11a746418f9b3e95d4cc5eac182348fa3f5)**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **commutative algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34814_\n\n",
    "created_at": "2022-11-30T15:19:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20review"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "adding the ring of integer-valued polynomials",
    "type": "issue",
    "updated_at": "2022-12-02T00:50:22Z",
    "url": "https://github.com/sagemath/sage/issues/34814",
    "user": "https://github.com/fchapoton"
}
```
in two different basis

CC:  @tscrim

Branch/Commit: **[u/chapoton/34814](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34814) @ [`bdafb11`](https://github.com/sagemath/sagetrac-mirror/commit/bdafb11a746418f9b3e95d4cc5eac182348fa3f5)**

Author: **Frédéric Chapoton**

Component: **commutative algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/34814_





---

archive/issue_events_473998.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-30T15:19:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34814",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34814#event-473998"
}
```



---

archive/issue_events_473999.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-30T15:19:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34814",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
    "label_color": "0000ff",
    "label_name": "c: commutative algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34814#event-473999"
}
```



---

archive/issue_events_474000.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-30T15:19:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34814",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34814#event-474000"
}
```



---

archive/issue_events_474001.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-30T15:19:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34814",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34814#event-474001"
}
```



---

archive/issue_comments_561424.json:
```json
{
    "body": "Branch: **[u/chapoton/34814](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34814)**",
    "created_at": "2022-11-30T15:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34814#issuecomment-561424",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/34814](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34814)**



---

archive/issue_comments_561425.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nprobably still a bit rough..\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/901a6958b9bb0be4815906cdaac1ee4098b3e265\">901a695</a></td><td><code>adding the ring of integer-valued polynomials</code></td></tr></table>\n",
    "created_at": "2022-11-30T15:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34814#issuecomment-561425",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1" align="right">comment:1</div>

probably still a bit rough..

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/901a6958b9bb0be4815906cdaac1ee4098b3e265">901a695</a></td><td><code>adding the ring of integer-valued polynomials</code></td></tr></table>




---

archive/issue_comments_561426.json:
```json
{
    "body": "Commit: **[`901a695`](https://github.com/sagemath/sagetrac-mirror/commit/901a6958b9bb0be4815906cdaac1ee4098b3e265)**",
    "created_at": "2022-11-30T15:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34814#issuecomment-561426",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`901a695`](https://github.com/sagemath/sagetrac-mirror/commit/901a6958b9bb0be4815906cdaac1ee4098b3e265)**



---

archive/issue_events_474002.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-30T15:20:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34814#event-474002"
}
```



---

archive/issue_comments_561427.json:
```json
{
    "body": "Changed commit from **[`901a695`](https://github.com/sagemath/sagetrac-mirror/commit/901a6958b9bb0be4815906cdaac1ee4098b3e265)** to **[`bdafb11`](https://github.com/sagemath/sagetrac-mirror/commit/bdafb11a746418f9b3e95d4cc5eac182348fa3f5)**",
    "created_at": "2022-11-30T15:22:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34814#issuecomment-561427",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`901a695`](https://github.com/sagemath/sagetrac-mirror/commit/901a6958b9bb0be4815906cdaac1ee4098b3e265)** to **[`bdafb11`](https://github.com/sagemath/sagetrac-mirror/commit/bdafb11a746418f9b3e95d4cc5eac182348fa3f5)**



---

archive/issue_comments_561428.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bdafb11a746418f9b3e95d4cc5eac182348fa3f5\">bdafb11</a></td><td><code>remove commented code and alias</code></td></tr></table>\n",
    "created_at": "2022-11-30T15:22:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34814#issuecomment-561428",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bdafb11a746418f9b3e95d4cc5eac182348fa3f5">bdafb11</a></td><td><code>remove commented code and alias</code></td></tr></table>




---

archive/issue_comments_561429.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n`PositiveBasis` seems like a terrible name to put in the global namespace. Perhaps make `IntegerValuedPolynomialRing` a constructor that takes a keyword for selecting the basis?",
    "created_at": "2022-12-01T05:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34814#issuecomment-561429",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

`PositiveBasis` seems like a terrible name to put in the global namespace. Perhaps make `IntegerValuedPolynomialRing` a constructor that takes a keyword for selecting the basis?



---

archive/issue_comments_561430.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nYes, I agree. It should be better to use a standard mechanism for \"algebras with several bases\". This mechanism exists and is used in several places but I do not master this for the moment.\n\nTravis, would you know and tell me what I should do exactly in this direction ?",
    "created_at": "2022-12-01T10:58:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34814#issuecomment-561430",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

Yes, I agree. It should be better to use a standard mechanism for "algebras with several bases". This mechanism exists and is used in several places but I do not master this for the moment.

Travis, would you know and tell me what I should do exactly in this direction ?



---

archive/issue_comments_561431.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThere are 2 ways to deal with multiple bases:\n\n1. All bases are \"equally good.\" Here, you would use the `WithRealizations` framework. See, e.g., the `DescentAlgebra` or many of the CHAs.\n\n2. One basis is more special than the others. So the main global hook goes into that basis, and then you have methods that construct other bases. This is how I would model, e.g., Schubert polynomials as a basis for the polynomial ring.\n\nTo me, it seems like (2) is the situation here.",
    "created_at": "2022-12-02T00:50:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34814#issuecomment-561431",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:5" align="right">comment:5</div>

There are 2 ways to deal with multiple bases:

1. All bases are "equally good." Here, you would use the `WithRealizations` framework. See, e.g., the `DescentAlgebra` or many of the CHAs.

2. One basis is more special than the others. So the main global hook goes into that basis, and then you have methods that construct other bases. This is how I would model, e.g., Schubert polynomials as a basis for the polynomial ring.

To me, it seems like (2) is the situation here.
