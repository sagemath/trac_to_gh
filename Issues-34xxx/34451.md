# Issue 34451: sage.tensor: Canonicalize sym, antisym

archive/issues_034214.json:
```json
{
    "assignees": [],
    "body": "for #30229.\n\nThe new static method `CompWithSym._canonicalize_sym_antisym` brings `sym` and `antisym` into a canonical form as sorted tuples of sorted tuples, with trivial symmetries and antisymmetries dropped.\n\nUsing it also removes some code duplication.\n\n\nCC:  @egourgoulhon\n\nComponent: **linear algebra**\n\nAuthor: **Matthias Koeppe**\n\nBranch/Commit: **[`66009e7`](https://github.com/sagemath/sagetrac-mirror/commit/66009e7700f8fc0610dc494a09089070bb6f609a)**\n\nReviewer: **Eric Gourgoulhon**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34451_\n\n",
    "closed_at": "2022-09-22T22:35:26Z",
    "created_at": "2022-08-29T17:21:32Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "sage.tensor: Canonicalize sym, antisym",
    "type": "issue",
    "updated_at": "2022-09-22T22:35:26Z",
    "url": "https://github.com/sagemath/sage/issues/34451",
    "user": "https://github.com/mkoeppe"
}
```
for #30229.

The new static method `CompWithSym._canonicalize_sym_antisym` brings `sym` and `antisym` into a canonical form as sorted tuples of sorted tuples, with trivial symmetries and antisymmetries dropped.

Using it also removes some code duplication.


CC:  @egourgoulhon

Component: **linear algebra**

Author: **Matthias Koeppe**

Branch/Commit: **[`66009e7`](https://github.com/sagemath/sagetrac-mirror/commit/66009e7700f8fc0610dc494a09089070bb6f609a)**

Reviewer: **Eric Gourgoulhon**

_Issue created by migration from https://trac.sagemath.org/ticket/34451_





---

archive/issue_events_467154.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-29T17:21:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467154"
}
```



---

archive/issue_events_467155.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-29T17:21:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
    "label_color": "0000ff",
    "label_name": "c: linear algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467155"
}
```



---

archive/issue_events_467156.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-29T17:21:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467156"
}
```



---

archive/issue_events_467157.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-29T17:21:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467157"
}
```



---

archive/issue_comments_556467.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2022-08-29T18:17:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556467",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_556468.json:
```json
{
    "body": "Branch: **[u/mkoeppe/sage_tensor__canonicalize_sym__antisym](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sage_tensor__canonicalize_sym__antisym)**",
    "created_at": "2022-08-29T19:02:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556468",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/sage_tensor__canonicalize_sym__antisym](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sage_tensor__canonicalize_sym__antisym)**



---

archive/issue_comments_556469.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a65d2d2c7f89d3d74109444b1501b3709bd6fce\"><code>3a65d2d</code></a></td><td><code>CompWithSym._canonicalize_sym_antisym: Factor out from __init__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07ab9914adf5418070b9f326d99d282c18ddb35a\"><code>07ab991</code></a></td><td><code>src/sage/tensor: Allow _sym, _antisym attributes to be tuples</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3619b4c163234f71c4e68d4c0442e56c5f4898dc\"><code>3619b4c</code></a></td><td><code>src/sage/tensor, src/sage/manifolds: Sort _sym, _antisym, store as tuples of tuples</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/970c6c88e3b1e8efc54fccff8b68a67c83bdcf5b\"><code>970c6c8</code></a></td><td><code>src/sage/tensor, src/sage/manifolds: Sort _sym, _antisym, store as tuples of tuples (fixup)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f15e00a4396a993fe412b41993cd542d4f177a0\"><code>9f15e00</code></a></td><td><code>src/sage/tensor: Allow _sym, _antisym attributes to be tuples (fixup)</code></td></tr></table>\n",
    "created_at": "2022-08-29T19:03:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556469",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a65d2d2c7f89d3d74109444b1501b3709bd6fce"><code>3a65d2d</code></a></td><td><code>CompWithSym._canonicalize_sym_antisym: Factor out from __init__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07ab9914adf5418070b9f326d99d282c18ddb35a"><code>07ab991</code></a></td><td><code>src/sage/tensor: Allow _sym, _antisym attributes to be tuples</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3619b4c163234f71c4e68d4c0442e56c5f4898dc"><code>3619b4c</code></a></td><td><code>src/sage/tensor, src/sage/manifolds: Sort _sym, _antisym, store as tuples of tuples</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/970c6c88e3b1e8efc54fccff8b68a67c83bdcf5b"><code>970c6c8</code></a></td><td><code>src/sage/tensor, src/sage/manifolds: Sort _sym, _antisym, store as tuples of tuples (fixup)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f15e00a4396a993fe412b41993cd542d4f177a0"><code>9f15e00</code></a></td><td><code>src/sage/tensor: Allow _sym, _antisym attributes to be tuples (fixup)</code></td></tr></table>




---

archive/issue_comments_556470.json:
```json
{
    "body": "Commit: **[`9f15e00`](https://github.com/sagemath/sagetrac-mirror/commit/9f15e00a4396a993fe412b41993cd542d4f177a0)**",
    "created_at": "2022-08-29T19:03:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556470",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`9f15e00`](https://github.com/sagemath/sagetrac-mirror/commit/9f15e00a4396a993fe412b41993cd542d4f177a0)**



---

archive/issue_comments_556471.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,6 @@\n-for #30229\n+for #30229.\n+\n+The new static method `CompWithSym._canonicalize_sym_antisym` brings `sym` and `antisym` into a canonical form as sorted tuples of sorted tuples, with trivial symmetries and antisymmetries dropped.\n+\n+Using it also removes some code duplication.\n+\n``````\n",
    "created_at": "2022-08-29T19:03:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556471",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,6 @@
-for #30229
+for #30229.
+
+The new static method `CompWithSym._canonicalize_sym_antisym` brings `sym` and `antisym` into a canonical form as sorted tuples of sorted tuples, with trivial symmetries and antisymmetries dropped.
+
+Using it also removes some code duplication.
+
``````




---

archive/issue_events_467158.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-29T19:03:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467158"
}
```



---

archive/issue_comments_556472.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThanks for introducing this and removing the code duplication!\n\nIt would useful to add `INPUT` and `OUTPUT` fields in the docstring of `_canonicalize_sym_antisym`. \nBesides, I don't understand this change:\n\n```diff\n-                if len(isym) < 2:\n-                    raise IndexError(\"at least two index positions must be \" +\n-                                     \"provided to define a symmetry\")\n+                if len(isym) < 2:\n+                    # Drop trivial symmetry\n+                    continue\n```\nShouldn't an error be raised if the input pretends to define a symmetry/antisymmetry with less than  2 index positions?",
    "created_at": "2022-09-01T08:20:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556472",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:4" align="right">comment:4</div>

Thanks for introducing this and removing the code duplication!

It would useful to add `INPUT` and `OUTPUT` fields in the docstring of `_canonicalize_sym_antisym`. 
Besides, I don't understand this change:

```diff
-                if len(isym) < 2:
-                    raise IndexError("at least two index positions must be " +
-                                     "provided to define a symmetry")
+                if len(isym) < 2:
+                    # Drop trivial symmetry
+                    continue
```
Shouldn't an error be raised if the input pretends to define a symmetry/antisymmetry with less than  2 index positions?



---

archive/issue_comments_556473.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIn this version of this code:\n\n```\ndiff --git a/src/sage/tensor/modules/free_module_tensor.py b/src/sage/tensor/modules/free_module_tensor.py\nindex bbcc1ec..4d6d05c 100644\n--- a/src/sage/tensor/modules/free_module_tensor.py\n+++ b/src/sage/tensor/modules/free_module_tensor.py\n@@ -309,41 +309,8 @@ class FreeModuleTensor(ModuleElementWithMutability):\n                               # bases, with the bases as keys (initially empty)\n \n         # Treatment of symmetry declarations:\n-        self._sym = []\n-        if sym is not None and sym != []:\n-            if isinstance(sym[0], (int, Integer)):\n-                # a single symmetry is provided as a tuple -> 1-item list:\n-                sym = [tuple(sym)]\n-            for isym in sym:\n-                if len(isym) > 1:\n-                    for i in isym:\n```\n... the trivial symmetries were dropped silently.\n\nI suppose I can add a parameter `trivial_symmetries='error'` for the cases where you'd like to see the errors.",
    "created_at": "2022-09-01T14:56:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556473",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

In this version of this code:

```
diff --git a/src/sage/tensor/modules/free_module_tensor.py b/src/sage/tensor/modules/free_module_tensor.py
index bbcc1ec..4d6d05c 100644
--- a/src/sage/tensor/modules/free_module_tensor.py
+++ b/src/sage/tensor/modules/free_module_tensor.py
@@ -309,41 +309,8 @@ class FreeModuleTensor(ModuleElementWithMutability):
                               # bases, with the bases as keys (initially empty)
 
         # Treatment of symmetry declarations:
-        self._sym = []
-        if sym is not None and sym != []:
-            if isinstance(sym[0], (int, Integer)):
-                # a single symmetry is provided as a tuple -> 1-item list:
-                sym = [tuple(sym)]
-            for isym in sym:
-                if len(isym) > 1:
-                    for i in isym:
```
... the trivial symmetries were dropped silently.

I suppose I can add a parameter `trivial_symmetries='error'` for the cases where you'd like to see the errors.



---

archive/issue_comments_556474.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1a92e580bdfce6953d65fd802370396abb9121e\"><code>d1a92e5</code></a></td><td><code>Merge tag '9.7.rc0' into t/34451/sage_tensor__canonicalize_sym__antisym</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/319ecfaa335f8ba214ad59033fd91bf95579918f\"><code>319ecfa</code></a></td><td><code>FiniteRankFreeModule.tensor: Use CompWithSym._canonicalize_sym_antisym</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e93626a08496c71387cacd7bf9dae075803ebdc\"><code>8e93626</code></a></td><td><code>CompWithSym._canonicalize_sym_antisym: Add documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/564be353b347cecfd4496a169b5eaff0642de03d\"><code>564be35</code></a></td><td><code>FiniteRankFreeModule.tensor: Restore error when trivial symmetries are passed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffea896b41332047c9f6594358b8706873023c2e\"><code>ffea896</code></a></td><td><code>CompWithSym._canonicalize_sym_antisym: Code optimization</code></td></tr></table>\n",
    "created_at": "2022-09-01T16:27:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556474",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1a92e580bdfce6953d65fd802370396abb9121e"><code>d1a92e5</code></a></td><td><code>Merge tag '9.7.rc0' into t/34451/sage_tensor__canonicalize_sym__antisym</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/319ecfaa335f8ba214ad59033fd91bf95579918f"><code>319ecfa</code></a></td><td><code>FiniteRankFreeModule.tensor: Use CompWithSym._canonicalize_sym_antisym</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e93626a08496c71387cacd7bf9dae075803ebdc"><code>8e93626</code></a></td><td><code>CompWithSym._canonicalize_sym_antisym: Add documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/564be353b347cecfd4496a169b5eaff0642de03d"><code>564be35</code></a></td><td><code>FiniteRankFreeModule.tensor: Restore error when trivial symmetries are passed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffea896b41332047c9f6594358b8706873023c2e"><code>ffea896</code></a></td><td><code>CompWithSym._canonicalize_sym_antisym: Code optimization</code></td></tr></table>




---

archive/issue_comments_556475.json:
```json
{
    "body": "Changed commit from **[`9f15e00`](https://github.com/sagemath/sagetrac-mirror/commit/9f15e00a4396a993fe412b41993cd542d4f177a0)** to **[`ffea896`](https://github.com/sagemath/sagetrac-mirror/commit/ffea896b41332047c9f6594358b8706873023c2e)**",
    "created_at": "2022-09-01T16:27:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556475",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9f15e00`](https://github.com/sagemath/sagetrac-mirror/commit/9f15e00a4396a993fe412b41993cd542d4f177a0)** to **[`ffea896`](https://github.com/sagemath/sagetrac-mirror/commit/ffea896b41332047c9f6594358b8706873023c2e)**



---

archive/issue_comments_556476.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fed09d56502962e93ee9f1981a3eb6af70dbe42f\"><code>fed09d5</code></a></td><td><code>CompWithSym._canonicalize_sym_antisym: Sort earlier to validate indices faster</code></td></tr></table>\n",
    "created_at": "2022-09-01T16:35:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556476",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fed09d56502962e93ee9f1981a3eb6af70dbe42f"><code>fed09d5</code></a></td><td><code>CompWithSym._canonicalize_sym_antisym: Sort earlier to validate indices faster</code></td></tr></table>




---

archive/issue_comments_556477.json:
```json
{
    "body": "Changed commit from **[`ffea896`](https://github.com/sagemath/sagetrac-mirror/commit/ffea896b41332047c9f6594358b8706873023c2e)** to **[`fed09d5`](https://github.com/sagemath/sagetrac-mirror/commit/fed09d56502962e93ee9f1981a3eb6af70dbe42f)**",
    "created_at": "2022-09-01T16:35:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556477",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ffea896`](https://github.com/sagemath/sagetrac-mirror/commit/ffea896b41332047c9f6594358b8706873023c2e)** to **[`fed09d5`](https://github.com/sagemath/sagetrac-mirror/commit/fed09d56502962e93ee9f1981a3eb6af70dbe42f)**



---

archive/issue_comments_556478.json:
```json
{
    "body": "Changed commit from **[`fed09d5`](https://github.com/sagemath/sagetrac-mirror/commit/fed09d56502962e93ee9f1981a3eb6af70dbe42f)** to **[`421c660`](https://github.com/sagemath/sagetrac-mirror/commit/421c660af21de39acfcf53dc895d51064024fd6e)**",
    "created_at": "2022-09-01T16:39:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556478",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fed09d5`](https://github.com/sagemath/sagetrac-mirror/commit/fed09d56502962e93ee9f1981a3eb6af70dbe42f)** to **[`421c660`](https://github.com/sagemath/sagetrac-mirror/commit/421c660af21de39acfcf53dc895d51064024fd6e)**



---

archive/issue_comments_556479.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/421c660af21de39acfcf53dc895d51064024fd6e\"><code>421c660</code></a></td><td><code>src/sage/tensor/modules/finite_rank_free_module.py: Add doctest</code></td></tr></table>\n",
    "created_at": "2022-09-01T16:39:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556479",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/421c660af21de39acfcf53dc895d51064024fd6e"><code>421c660</code></a></td><td><code>src/sage/tensor/modules/finite_rank_free_module.py: Add doctest</code></td></tr></table>




---

archive/issue_comments_556480.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@mkoeppe](#comment%3A5):\n> In this version of this code:\n\n>\n>... the trivial symmetries were dropped silently.\n\nTrue...\n\n> I suppose I can add a parameter `trivial_symmetries='error'` for the cases where you'd like to see the errors.\n\nI am wondering about what should be meant by *trivial symmetry*, especially for an antisymmetry: if only a single index position is provided, is there any meaning in stating that the components are antisymmetric with respect to this position? \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/421c660af21de39acfcf53dc895d51064024fd6e\"><code>421c660</code></a></td><td><code>src/sage/tensor/modules/finite_rank_free_module.py: Add doctest</code></td></tr></table>\n",
    "created_at": "2022-09-01T16:47:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556480",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@mkoeppe](#comment%3A5):
> In this version of this code:

>
>... the trivial symmetries were dropped silently.

True...

> I suppose I can add a parameter `trivial_symmetries='error'` for the cases where you'd like to see the errors.

I am wondering about what should be meant by *trivial symmetry*, especially for an antisymmetry: if only a single index position is provided, is there any meaning in stating that the components are antisymmetric with respect to this position? 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/421c660af21de39acfcf53dc895d51064024fd6e"><code>421c660</code></a></td><td><code>src/sage/tensor/modules/finite_rank_free_module.py: Add doctest</code></td></tr></table>




---

archive/issue_comments_556481.json:
```json
{
    "body": "Changed commit from **[`421c660`](https://github.com/sagemath/sagetrac-mirror/commit/421c660af21de39acfcf53dc895d51064024fd6e)** to **[`a1a3f36`](https://github.com/sagemath/sagetrac-mirror/commit/a1a3f364657633f837a59022e85f0a4ba72c2512)**",
    "created_at": "2022-09-01T16:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556481",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`421c660`](https://github.com/sagemath/sagetrac-mirror/commit/421c660af21de39acfcf53dc895d51064024fd6e)** to **[`a1a3f36`](https://github.com/sagemath/sagetrac-mirror/commit/a1a3f364657633f837a59022e85f0a4ba72c2512)**



---

archive/issue_comments_556482.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1a3f364657633f837a59022e85f0a4ba72c2512\"><code>a1a3f36</code></a></td><td><code>CompWithSym.__init__: Accept keyword 'trivial_symmetries', add tests</code></td></tr></table>\n",
    "created_at": "2022-09-01T16:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556482",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1a3f364657633f837a59022e85f0a4ba72c2512"><code>a1a3f36</code></a></td><td><code>CompWithSym.__init__: Accept keyword 'trivial_symmetries', add tests</code></td></tr></table>




---

archive/issue_comments_556483.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a2c71a6d56ca08d8fb5793ec0cd3faa4682850f\"><code>8a2c71a</code></a></td><td><code>VectorFieldModule.tensor, VectorFieldFreeModule.tensor: Use CompWithSym._canonicalize_sym_antisym</code></td></tr></table>\n",
    "created_at": "2022-09-01T16:59:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556483",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a2c71a6d56ca08d8fb5793ec0cd3faa4682850f"><code>8a2c71a</code></a></td><td><code>VectorFieldModule.tensor, VectorFieldFreeModule.tensor: Use CompWithSym._canonicalize_sym_antisym</code></td></tr></table>




---

archive/issue_comments_556484.json:
```json
{
    "body": "Changed commit from **[`a1a3f36`](https://github.com/sagemath/sagetrac-mirror/commit/a1a3f364657633f837a59022e85f0a4ba72c2512)** to **[`8a2c71a`](https://github.com/sagemath/sagetrac-mirror/commit/8a2c71a6d56ca08d8fb5793ec0cd3faa4682850f)**",
    "created_at": "2022-09-01T16:59:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556484",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a1a3f36`](https://github.com/sagemath/sagetrac-mirror/commit/a1a3f364657633f837a59022e85f0a4ba72c2512)** to **[`8a2c71a`](https://github.com/sagemath/sagetrac-mirror/commit/8a2c71a6d56ca08d8fb5793ec0cd3faa4682850f)**



---

archive/issue_comments_556485.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@egourgoulhon](#comment%3A9):\n> I am wondering about what should be meant by *trivial symmetry*, especially for an antisymmetry: if only a single index position is provided, is there any meaning in stating that the components are antisymmetric with respect to this position? \n\nOne index (whether symmetry or antisymmetry) just means that there's a symmetry group of 1 element acting. This element is the identity",
    "created_at": "2022-09-01T17:00:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556485",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@egourgoulhon](#comment%3A9):
> I am wondering about what should be meant by *trivial symmetry*, especially for an antisymmetry: if only a single index position is provided, is there any meaning in stating that the components are antisymmetric with respect to this position? 

One index (whether symmetry or antisymmetry) just means that there's a symmetry group of 1 element acting. This element is the identity



---

archive/issue_comments_556486.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI ran into this, by the way, using `dual_ext_power` of order 1: It is passing `antisym=range(1)`.",
    "created_at": "2022-09-01T17:03:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556486",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

I ran into this, by the way, using `dual_ext_power` of order 1: It is passing `antisym=range(1)`.



---

archive/issue_comments_556487.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI've worked a bit more on the branch and have removed some more code duplication. Ready for another look",
    "created_at": "2022-09-01T17:04:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556487",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

I've worked a bit more on the branch and have removed some more code duplication. Ready for another look



---

archive/issue_comments_556488.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@mkoeppe](#comment%3A12):\n> Replying to [@egourgoulhon](#comment%3A9):\n> > I am wondering about what should be meant by *trivial symmetry*, especially for an antisymmetry: if only a single index position is provided, is there any meaning in stating that the components are antisymmetric with respect to this position? \n\n> \n> One index (whether symmetry or antisymmetry) just means that there's a symmetry group of 1 element acting. This element is the identity\n\nThanks for the explanation. I see now: since the signature of the identity is +1, this makes sense. \nThen, I would vote for reverting to the original version, i.e. that without the extra argument `trivial_symmetries`: this adds an extra test and we might want a rather fast method here; moreover, I don't see any use case of `trivial_symmetries='error'`. Sorry for the noise... Anyway, I leave it to you...",
    "created_at": "2022-09-01T18:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556488",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@mkoeppe](#comment%3A12):
> Replying to [@egourgoulhon](#comment%3A9):
> > I am wondering about what should be meant by *trivial symmetry*, especially for an antisymmetry: if only a single index position is provided, is there any meaning in stating that the components are antisymmetric with respect to this position? 

> 
> One index (whether symmetry or antisymmetry) just means that there's a symmetry group of 1 element acting. This element is the identity

Thanks for the explanation. I see now: since the signature of the identity is +1, this makes sense. 
Then, I would vote for reverting to the original version, i.e. that without the extra argument `trivial_symmetries`: this adds an extra test and we might want a rather fast method here; moreover, I don't see any use case of `trivial_symmetries='error'`. Sorry for the noise... Anyway, I leave it to you...



---

archive/issue_comments_556489.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@mkoeppe](#comment%3A13):\n> I ran into this, by the way, using `dual_ext_power` of order 1: It is passing `antisym=range(1)`. \n\nIndeed!",
    "created_at": "2022-09-01T19:00:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556489",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@mkoeppe](#comment%3A13):
> I ran into this, by the way, using `dual_ext_power` of order 1: It is passing `antisym=range(1)`. 

Indeed!



---

archive/issue_comments_556490.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOK, I'll revert it",
    "created_at": "2022-09-01T19:08:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556490",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

OK, I'll revert it



---

archive/issue_comments_556491.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e34306bf0471fe2fa9da9e7b9bb86d5bf18cb8d9\"><code>e34306b</code></a></td><td><code>Revert \"FiniteRankFreeModule.tensor: Restore error when trivial symmetries are passed\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6b6b2ed6ddc44044b8e0915d768cd22672f0dab\"><code>c6b6b2e</code></a></td><td><code>src/sage/tensor, src/sage/manifolds: Remove parameter 'trivial_symmetries' again</code></td></tr></table>\n",
    "created_at": "2022-09-01T19:28:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556491",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e34306bf0471fe2fa9da9e7b9bb86d5bf18cb8d9"><code>e34306b</code></a></td><td><code>Revert "FiniteRankFreeModule.tensor: Restore error when trivial symmetries are passed"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6b6b2ed6ddc44044b8e0915d768cd22672f0dab"><code>c6b6b2e</code></a></td><td><code>src/sage/tensor, src/sage/manifolds: Remove parameter 'trivial_symmetries' again</code></td></tr></table>




---

archive/issue_comments_556492.json:
```json
{
    "body": "Changed commit from **[`8a2c71a`](https://github.com/sagemath/sagetrac-mirror/commit/8a2c71a6d56ca08d8fb5793ec0cd3faa4682850f)** to **[`c6b6b2e`](https://github.com/sagemath/sagetrac-mirror/commit/c6b6b2ed6ddc44044b8e0915d768cd22672f0dab)**",
    "created_at": "2022-09-01T19:28:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556492",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8a2c71a`](https://github.com/sagemath/sagetrac-mirror/commit/8a2c71a6d56ca08d8fb5793ec0cd3faa4682850f)** to **[`c6b6b2e`](https://github.com/sagemath/sagetrac-mirror/commit/c6b6b2ed6ddc44044b8e0915d768cd22672f0dab)**



---

archive/issue_comments_556493.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nDone",
    "created_at": "2022-09-01T19:28:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556493",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

Done



---

archive/issue_comments_556494.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@mkoeppe](#comment%3A19):\n> Done\n\nThanks!",
    "created_at": "2022-09-02T08:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556494",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@mkoeppe](#comment%3A19):
> Done

Thanks!



---

archive/issue_events_467159.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2022-09-02T08:40:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467159"
}
```



---

archive/issue_events_467160.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2022-09-02T08:40:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467160"
}
```



---

archive/issue_comments_556495.json:
```json
{
    "body": "Reviewer: **Eric Gourgoulhon**",
    "created_at": "2022-09-02T08:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556495",
    "user": "https://github.com/egourgoulhon"
}
```

Reviewer: **Eric Gourgoulhon**



---

archive/issue_comments_556496.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThere is actually an error (sequel of an old piece of code) in `_canonicalize_sym_antisym`, which is revealed by the pyflakes plugin of the patchbot running on #30229 (unfortunately, the patchbot did not visit this ticket after the last commit): the name `i` in \n\n```\n                if isym[0] < 0 or isym[-1] > nb_indices - 1:\n                    raise IndexError(\"invalid index position: \" + str(i) +\n                                     \" not in [0,\" + str(nb_indices-1) + \"]\")\n```\nis undefined. Same issue a few lines lower.",
    "created_at": "2022-09-02T09:01:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556496",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:21" align="right">comment:21</div>

There is actually an error (sequel of an old piece of code) in `_canonicalize_sym_antisym`, which is revealed by the pyflakes plugin of the patchbot running on #30229 (unfortunately, the patchbot did not visit this ticket after the last commit): the name `i` in 

```
                if isym[0] < 0 or isym[-1] > nb_indices - 1:
                    raise IndexError("invalid index position: " + str(i) +
                                     " not in [0," + str(nb_indices-1) + "]")
```
is undefined. Same issue a few lines lower.



---

archive/issue_events_467161.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2022-09-02T09:01:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467161"
}
```



---

archive/issue_events_467162.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2022-09-02T09:01:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467162"
}
```



---

archive/issue_comments_556497.json:
```json
{
    "body": "Changed commit from **[`c6b6b2e`](https://github.com/sagemath/sagetrac-mirror/commit/c6b6b2ed6ddc44044b8e0915d768cd22672f0dab)** to **[`bec2f65`](https://github.com/sagemath/sagetrac-mirror/commit/bec2f6540e63cca9b1c192ceb9ea1c15b7aee762)**",
    "created_at": "2022-09-02T16:14:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556497",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c6b6b2e`](https://github.com/sagemath/sagetrac-mirror/commit/c6b6b2ed6ddc44044b8e0915d768cd22672f0dab)** to **[`bec2f65`](https://github.com/sagemath/sagetrac-mirror/commit/bec2f6540e63cca9b1c192ceb9ea1c15b7aee762)**



---

archive/issue_comments_556498.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bec2f6540e63cca9b1c192ceb9ea1c15b7aee762\"><code>bec2f65</code></a></td><td><code>CompWithSym._canonicalize_sym_antisym: Refactor, fix index validation, add tests</code></td></tr></table>\n",
    "created_at": "2022-09-02T16:14:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556498",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bec2f6540e63cca9b1c192ceb9ea1c15b7aee762"><code>bec2f65</code></a></td><td><code>CompWithSym._canonicalize_sym_antisym: Refactor, fix index validation, add tests</code></td></tr></table>




---

archive/issue_events_467163.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-02T16:20:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467163"
}
```



---

archive/issue_events_467164.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-02T16:20:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467164"
}
```



---

archive/issue_comments_556499.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66009e7700f8fc0610dc494a09089070bb6f609a\"><code>66009e7</code></a></td><td><code>src/sage/tensor/modules/comp.py: Fix docstring</code></td></tr></table>\n",
    "created_at": "2022-09-02T16:24:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556499",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66009e7700f8fc0610dc494a09089070bb6f609a"><code>66009e7</code></a></td><td><code>src/sage/tensor/modules/comp.py: Fix docstring</code></td></tr></table>




---

archive/issue_comments_556500.json:
```json
{
    "body": "Changed commit from **[`bec2f65`](https://github.com/sagemath/sagetrac-mirror/commit/bec2f6540e63cca9b1c192ceb9ea1c15b7aee762)** to **[`66009e7`](https://github.com/sagemath/sagetrac-mirror/commit/66009e7700f8fc0610dc494a09089070bb6f609a)**",
    "created_at": "2022-09-02T16:24:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556500",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bec2f65`](https://github.com/sagemath/sagetrac-mirror/commit/bec2f6540e63cca9b1c192ceb9ea1c15b7aee762)** to **[`66009e7`](https://github.com/sagemath/sagetrac-mirror/commit/66009e7700f8fc0610dc494a09089070bb6f609a)**



---

archive/issue_comments_556501.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nNice refactoring!",
    "created_at": "2022-09-02T21:25:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556501",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:25" align="right">comment:25</div>

Nice refactoring!



---

archive/issue_events_467165.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2022-09-02T21:25:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467165"
}
```



---

archive/issue_events_467166.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2022-09-02T21:25:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467166"
}
```



---

archive/issue_comments_556502.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThanks!",
    "created_at": "2022-09-02T21:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556502",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

Thanks!



---

archive/issue_events_467167.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467167"
}
```



---

archive/issue_events_467168.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467168"
}
```



---

archive/issue_comments_556503.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/sage_tensor__canonicalize_sym__antisym](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sage_tensor__canonicalize_sym__antisym)** to **[`66009e7`](https://github.com/sagemath/sagetrac-mirror/commit/66009e7700f8fc0610dc494a09089070bb6f609a)**",
    "created_at": "2022-09-22T22:35:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34451#issuecomment-556503",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/sage_tensor__canonicalize_sym__antisym](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sage_tensor__canonicalize_sym__antisym)** to **[`66009e7`](https://github.com/sagemath/sagetrac-mirror/commit/66009e7700f8fc0610dc494a09089070bb6f609a)**



---

archive/issue_events_467169.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-09-22T22:35:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467169"
}
```



---

archive/issue_events_467170.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "53a523e13bcd84d36c5904037656e3655c1b6b88",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-09-22T22:35:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34451",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34451#event-467170"
}
```
