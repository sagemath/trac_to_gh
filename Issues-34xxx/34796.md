# Issue 34796: Upgrade matplotlib to 3.6

archive/issues_034559.json:
```json
{
    "body": "As matplotlib 3.6 dependency, new standard package `contourpy` is added. \n\nBranch/Commit: dac5eceb0ff5a9476a198ac2122b16c5aa956749\n\nReviewer: Kwankyu Lee\n\nAuthor: Matthias Koeppe\n\nDependencies: #34693\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/34796\n\n",
    "closed_at": "2022-12-11T11:11:22Z",
    "created_at": "2022-11-27T02:49:21Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Upgrade matplotlib to 3.6",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34796",
    "user": "https://github.com/mkoeppe"
}
```
As matplotlib 3.6 dependency, new standard package `contourpy` is added. 

Branch/Commit: dac5eceb0ff5a9476a198ac2122b16c5aa956749

Reviewer: Kwankyu Lee

Author: Matthias Koeppe

Dependencies: #34693

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/34796





---

archive/issue_comments_691677.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/upgrade_matplotlib_to_3_6\"",
    "created_at": "2022-11-27T03:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691677",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/upgrade_matplotlib_to_3_6"



---

archive/issue_comments_691678.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-11-27T03:09:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691678",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_691679.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2022-11-27T03:09:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691679",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_691680.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[8b0c147](https://git.sagemath.org/sage.git/commit?id=8b0c147037018b77b5c8c5147e78c3c7c6388d29)|`Merge branch 'mpl3.6_doctest' into mpl3.6_docbuilding`|\n|[4645a0d](https://git.sagemath.org/sage.git/commit?id=4645a0d0c10f9f1599aa01362593195af6d27a16)|`Removing faulty plot`|\n|[20206ff](https://git.sagemath.org/sage.git/commit?id=20206ff1b9cccf1f9d4842af70ecc50aeeed17e5)|`Merge #34693`|\n|[e96e7a6](https://git.sagemath.org/sage.git/commit?id=e96e7a64284e6e24ca50d57fe612610b3b52a6e6)|`build/pkgs/matplotlib: Update to 3.6.2`|\n|[18a9e23](https://git.sagemath.org/sage.git/commit?id=18a9e232160df764758fb1da52c3ae1f4e70b420)|`build/pkgs/matplotlib_inline: Update to 0.1.6`|",
    "created_at": "2022-11-27T03:09:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691680",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[8b0c147](https://git.sagemath.org/sage.git/commit?id=8b0c147037018b77b5c8c5147e78c3c7c6388d29)|`Merge branch 'mpl3.6_doctest' into mpl3.6_docbuilding`|
|[4645a0d](https://git.sagemath.org/sage.git/commit?id=4645a0d0c10f9f1599aa01362593195af6d27a16)|`Removing faulty plot`|
|[20206ff](https://git.sagemath.org/sage.git/commit?id=20206ff1b9cccf1f9d4842af70ecc50aeeed17e5)|`Merge #34693`|
|[e96e7a6](https://git.sagemath.org/sage.git/commit?id=e96e7a64284e6e24ca50d57fe612610b3b52a6e6)|`build/pkgs/matplotlib: Update to 3.6.2`|
|[18a9e23](https://git.sagemath.org/sage.git/commit?id=18a9e232160df764758fb1da52c3ae1f4e70b420)|`build/pkgs/matplotlib_inline: Update to 0.1.6`|



---

archive/issue_comments_691681.json:
```json
{
    "body": "Changing commit from \"\" to \"18a9e232160df764758fb1da52c3ae1f4e70b420\"",
    "created_at": "2022-11-27T03:09:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691681",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "18a9e232160df764758fb1da52c3ae1f4e70b420"



---

archive/issue_comments_691682.json:
```json
{
    "body": "<a id='comment:3'></a>\nneeds setuptools_scm>=7",
    "created_at": "2022-11-27T04:38:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691682",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
needs setuptools_scm>=7



---

archive/issue_comments_691683.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-11-27T04:38:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691683",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_691684.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[ed959c1](https://git.sagemath.org/sage.git/commit/?id=ed959c1b55b5cc0adf78a25531d1852dd829e9a5)|`build/pkgs/setuptools_scm: Update to 7.0.5`|\n|[df9d613](https://git.sagemath.org/sage.git/commit/?id=df9d613c576a21c93e5e67a5113f3fd555a06209)|`build/pkgs/setuptools_scm_git_archive: Update to 1.4`|\n|[0ecabe5](https://git.sagemath.org/sage.git/commit/?id=0ecabe5b52d42b014845aeb48473291e8fdf14f6)|`build/pkgs/contourpy: New (matplotlib dependency)`|",
    "created_at": "2022-11-27T04:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691684",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[ed959c1](https://git.sagemath.org/sage.git/commit/?id=ed959c1b55b5cc0adf78a25531d1852dd829e9a5)|`build/pkgs/setuptools_scm: Update to 7.0.5`|
|[df9d613](https://git.sagemath.org/sage.git/commit/?id=df9d613c576a21c93e5e67a5113f3fd555a06209)|`build/pkgs/setuptools_scm_git_archive: Update to 1.4`|
|[0ecabe5](https://git.sagemath.org/sage.git/commit/?id=0ecabe5b52d42b014845aeb48473291e8fdf14f6)|`build/pkgs/contourpy: New (matplotlib dependency)`|



---

archive/issue_comments_691685.json:
```json
{
    "body": "Changing commit from \"18a9e232160df764758fb1da52c3ae1f4e70b420\" to \"0ecabe5b52d42b014845aeb48473291e8fdf14f6\"",
    "created_at": "2022-11-27T04:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691685",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "18a9e232160df764758fb1da52c3ae1f4e70b420" to "0ecabe5b52d42b014845aeb48473291e8fdf14f6"



---

archive/issue_comments_691686.json:
```json
{
    "body": "Changing commit from \"0ecabe5b52d42b014845aeb48473291e8fdf14f6\" to \"bd54629a76a447bfcf31feaf631d6454af95ce51\"",
    "created_at": "2022-12-01T02:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691686",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0ecabe5b52d42b014845aeb48473291e8fdf14f6" to "bd54629a76a447bfcf31feaf631d6454af95ce51"



---

archive/issue_comments_691687.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[f0a7703](https://git.sagemath.org/sage.git/commit/?id=f0a77039bb2be3eb7cd06c036aaa8085652db403)|`Add back doctest`|\n|[8371dd7](https://git.sagemath.org/sage.git/commit/?id=8371dd75013d5b973333b6e577e7ef17bbf042c1)|`Missing part of the fix`|\n|[dbfb953](https://git.sagemath.org/sage.git/commit/?id=dbfb9539ab9bbb5b2e460f4c4576835c58e84a2e)|`Merge branch 'develop' into t/34693/MPL3.6_docbuilding`|\n|[a8741d8](https://git.sagemath.org/sage.git/commit/?id=a8741d8c60dc3e173b18cc373c4c203fcc2cec4f)|`Edit the doctest`|\n|[6458968](https://git.sagemath.org/sage.git/commit/?id=64589686c261d33e6b5aff2589bcae8af004bcc6)|`More edis of the doctest`|\n|[bd54629](https://git.sagemath.org/sage.git/commit/?id=bd54629a76a447bfcf31feaf631d6454af95ce51)|`Merge #34693`|",
    "created_at": "2022-12-01T02:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691687",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[f0a7703](https://git.sagemath.org/sage.git/commit/?id=f0a77039bb2be3eb7cd06c036aaa8085652db403)|`Add back doctest`|
|[8371dd7](https://git.sagemath.org/sage.git/commit/?id=8371dd75013d5b973333b6e577e7ef17bbf042c1)|`Missing part of the fix`|
|[dbfb953](https://git.sagemath.org/sage.git/commit/?id=dbfb9539ab9bbb5b2e460f4c4576835c58e84a2e)|`Merge branch 'develop' into t/34693/MPL3.6_docbuilding`|
|[a8741d8](https://git.sagemath.org/sage.git/commit/?id=a8741d8c60dc3e173b18cc373c4c203fcc2cec4f)|`Edit the doctest`|
|[6458968](https://git.sagemath.org/sage.git/commit/?id=64589686c261d33e6b5aff2589bcae8af004bcc6)|`More edis of the doctest`|
|[bd54629](https://git.sagemath.org/sage.git/commit/?id=bd54629a76a447bfcf31feaf631d6454af95ce51)|`Merge #34693`|



---

archive/issue_comments_691688.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-12-01T02:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691688",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_691689.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/upgrade_matplotlib_to_3_6\" to \"u/klee/upgrade_matplotlib_to_3_6\"",
    "created_at": "2022-12-02T01:33:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691689",
    "user": "https://github.com/kwankyu"
}
```

Changing branch from "u/mkoeppe/upgrade_matplotlib_to_3_6" to "u/klee/upgrade_matplotlib_to_3_6"



---

archive/issue_comments_691690.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Kwankyu Lee\"",
    "created_at": "2022-12-02T01:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691690",
    "user": "https://github.com/kwankyu"
}
```

Changing reviewer from "" to "Kwankyu Lee"



---

archive/issue_comments_691691.json:
```json
{
    "body": "<a id='comment:8'></a>\nNew commits:\n|                                                                                                                                          |                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[58800b0](https://git.sagemath.org/sage.git/commit?id=58800b09c3d043a1f30c0541b9f7be2f1061aa9d)|`A tiny edit to kick off testing`|",
    "created_at": "2022-12-02T01:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691691",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:8'></a>
New commits:
|                                                                                                                                          |                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[58800b0](https://git.sagemath.org/sage.git/commit?id=58800b09c3d043a1f30c0541b9f7be2f1061aa9d)|`A tiny edit to kick off testing`|



---

archive/issue_comments_691692.json:
```json
{
    "body": "Changing commit from \"bd54629a76a447bfcf31feaf631d6454af95ce51\" to \"58800b09c3d043a1f30c0541b9f7be2f1061aa9d\"",
    "created_at": "2022-12-02T01:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691692",
    "user": "https://github.com/kwankyu"
}
```

Changing commit from "bd54629a76a447bfcf31feaf631d6454af95ce51" to "58800b09c3d043a1f30c0541b9f7be2f1061aa9d"



---

archive/issue_comments_691693.json:
```json
{
    "body": "<a id='comment:9'></a>\nmatplotlib seems (order-)dependent on contourpy.",
    "created_at": "2022-12-02T05:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691693",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:9'></a>
matplotlib seems (order-)dependent on contourpy.



---

archive/issue_comments_691694.json:
```json
{
    "body": "<a id='comment:10'></a>\nYes, looks I forgot to add the dependency.",
    "created_at": "2022-12-02T05:22:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691694",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
Yes, looks I forgot to add the dependency.



---

archive/issue_comments_691695.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+As matplotlib 3.6 dependency, new standard package `contourpy` is added. \n``````\n",
    "created_at": "2022-12-02T05:36:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691695",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+As matplotlib 3.6 dependency, new standard package `contourpy` is added. 
``````




---

archive/issue_comments_691696.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-12-02T06:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691696",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_691697.json:
```json
{
    "body": "Changing branch from \"u/klee/upgrade_matplotlib_to_3_6\" to \"u/mkoeppe/upgrade_matplotlib_to_3_6\"",
    "created_at": "2022-12-02T07:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691697",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "u/klee/upgrade_matplotlib_to_3_6" to "u/mkoeppe/upgrade_matplotlib_to_3_6"



---

archive/issue_comments_691698.json:
```json
{
    "body": "<a id='comment:14'></a>\nNew commits:\n|                                                                                                                                          |                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[dac5ece](https://git.sagemath.org/sage.git/commit?id=dac5eceb0ff5a9476a198ac2122b16c5aa956749)|`build/pkgs/matplotlib/dependencies: Add contourpy`|",
    "created_at": "2022-12-02T07:26:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691698",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
New commits:
|                                                                                                                                          |                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[dac5ece](https://git.sagemath.org/sage.git/commit?id=dac5eceb0ff5a9476a198ac2122b16c5aa956749)|`build/pkgs/matplotlib/dependencies: Add contourpy`|



---

archive/issue_comments_691699.json:
```json
{
    "body": "Changing commit from \"58800b09c3d043a1f30c0541b9f7be2f1061aa9d\" to \"dac5eceb0ff5a9476a198ac2122b16c5aa956749\"",
    "created_at": "2022-12-02T07:26:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691699",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "58800b09c3d043a1f30c0541b9f7be2f1061aa9d" to "dac5eceb0ff5a9476a198ac2122b16c5aa956749"



---

archive/issue_comments_691700.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-12-02T07:26:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691700",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_691701.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-12-02T11:28:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691701",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_691702.json:
```json
{
    "body": "<a id='comment:15'></a>\nBuild&Test passed green.",
    "created_at": "2022-12-02T11:28:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691702",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:15'></a>
Build&Test passed green.



---

archive/issue_comments_691703.json:
```json
{
    "body": "<a id='comment:16'></a>\nThanks!",
    "created_at": "2022-12-02T17:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691703",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
Thanks!



---

archive/issue_comments_691704.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-12-11T11:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691704",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_691705.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/upgrade_matplotlib_to_3_6\" to \"dac5eceb0ff5a9476a198ac2122b16c5aa956749\"",
    "created_at": "2022-12-11T11:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34796#issuecomment-691705",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/upgrade_matplotlib_to_3_6" to "dac5eceb0ff5a9476a198ac2122b16c5aa956749"



---

archive/issue_events_089819.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-12-11T11:11:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34796",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34796#event-89819"
}
```
