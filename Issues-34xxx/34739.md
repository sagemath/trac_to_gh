# Issue 34739: get rid of some usage of "long" python2 type in pyx files

archive/issues_034502.json:
```json
{
    "assignees": [],
    "body": "\n\nCC:  @vbraun\n\nBranch/Commit: **[`91704bb`](https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26)**\n\nReviewer: **Kwankyu Lee**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **refactoring**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34739_\n\n",
    "closed_at": "2022-11-20T12:13:25Z",
    "created_at": "2022-11-10T13:23:09Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/refactoring",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "get rid of some usage of \"long\" python2 type in pyx files",
    "type": "issue",
    "updated_at": "2022-11-20T12:13:25Z",
    "url": "https://github.com/sagemath/sage/issues/34739",
    "user": "https://github.com/fchapoton"
}
```


CC:  @vbraun

Branch/Commit: **[`91704bb`](https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26)**

Reviewer: **Kwankyu Lee**

Author: **Frédéric Chapoton**

Component: **refactoring**

_Issue created by migration from https://trac.sagemath.org/ticket/34739_





---

archive/issue_events_469918.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-10T13:23:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-469918"
}
```



---

archive/issue_events_469919.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-10T13:23:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "label": "https://github.com/sagemath/sage/labels/refactoring",
    "label_color": "696969",
    "label_name": "refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-469919"
}
```



---

archive/issue_events_469920.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-10T13:23:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-469920"
}
```



---

archive/issue_events_469921.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-10T13:23:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-469921"
}
```



---

archive/issue_comments_560472.json:
```json
{
    "body": "Commit: **[`f567abf`](https://github.com/sagemath/sagetrac-mirror/commit/f567abf978ca328f67595743b5248ee42485b41e)**",
    "created_at": "2022-11-10T13:25:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560472",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`f567abf`](https://github.com/sagemath/sagetrac-mirror/commit/f567abf978ca328f67595743b5248ee42485b41e)**



---

archive/issue_events_469922.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-10T13:25:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-469922"
}
```



---

archive/issue_comments_560473.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f567abf978ca328f67595743b5248ee42485b41e\"><code>f567abf</code></a></td><td><code>get rid of some usage of \"long\" in pyx files</code></td></tr></table>\n",
    "created_at": "2022-11-10T13:25:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560473",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f567abf978ca328f67595743b5248ee42485b41e"><code>f567abf</code></a></td><td><code>get rid of some usage of "long" in pyx files</code></td></tr></table>




---

archive/issue_comments_560474.json:
```json
{
    "body": "Branch: **[u/chapoton/34739](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34739)**",
    "created_at": "2022-11-10T13:25:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560474",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/34739](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34739)**



---

archive/issue_comments_560475.json:
```json
{
    "body": "Changed commit from **[`f567abf`](https://github.com/sagemath/sagetrac-mirror/commit/f567abf978ca328f67595743b5248ee42485b41e)** to **[`e8cebc3`](https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b)**",
    "created_at": "2022-11-10T17:25:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560475",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f567abf`](https://github.com/sagemath/sagetrac-mirror/commit/f567abf978ca328f67595743b5248ee42485b41e)** to **[`e8cebc3`](https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b)**



---

archive/issue_comments_560476.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b\"><code>e8cebc3</code></a></td><td><code>fix typo</code></td></tr></table>\n",
    "created_at": "2022-11-10T17:25:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560476",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b"><code>e8cebc3</code></a></td><td><code>fix typo</code></td></tr></table>




---

archive/issue_comments_560477.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b\"><code>e8cebc3</code></a></td><td><code>fix typo</code></td></tr></table>\n",
    "created_at": "2022-11-10T17:26:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560477",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b"><code>e8cebc3</code></a></td><td><code>fix typo</code></td></tr></table>




---

archive/issue_events_469923.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-10T17:26:26Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "title_is": "get rid of some usage of \"long\" python2 type in pyx files",
    "title_was": "get rif of some usage of \"long\" python2 type in pyx files",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-469923"
}
```



---

archive/issue_comments_560478.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nSorry, wrong ticket.",
    "created_at": "2022-11-11T03:00:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560478",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:4" align="right">comment:4</div>

Sorry, wrong ticket.



---

archive/issue_comments_560479.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39ad89060c6931db6049620fdf9dc408941abb3a\"><code>39ad890</code></a></td><td><code>fix factorial of type int</code></td></tr></table>\n",
    "created_at": "2022-11-11T07:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560479",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39ad89060c6931db6049620fdf9dc408941abb3a"><code>39ad890</code></a></td><td><code>fix factorial of type int</code></td></tr></table>




---

archive/issue_comments_560480.json:
```json
{
    "body": "Changed commit from **[`e8cebc3`](https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b)** to **[`39ad890`](https://github.com/sagemath/sagetrac-mirror/commit/39ad89060c6931db6049620fdf9dc408941abb3a)**",
    "created_at": "2022-11-11T07:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560480",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e8cebc3`](https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b)** to **[`39ad890`](https://github.com/sagemath/sagetrac-mirror/commit/39ad89060c6931db6049620fdf9dc408941abb3a)**



---

archive/issue_comments_560481.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nOr this\n\n```diff\n--- a/src/sage/symbolic/expression.pyx\n+++ b/src/sage/symbolic/expression.pyx\n@@ -13724,7 +13724,7 @@ cpdef new_Expression(parent, x):\n             return NaN\n         exp = x\n     elif isinstance(x, int):\n-        exp = GEx(<long>x)\n+        exp = x\n     elif x is infinity:\n         return new_Expression_from_GEx(parent, g_Infinity)\n     elif x is minus_infinity:\n```\n?",
    "created_at": "2022-11-11T07:30:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560481",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:6" align="right">comment:6</div>

Or this

```diff
--- a/src/sage/symbolic/expression.pyx
+++ b/src/sage/symbolic/expression.pyx
@@ -13724,7 +13724,7 @@ cpdef new_Expression(parent, x):
             return NaN
         exp = x
     elif isinstance(x, int):
-        exp = GEx(<long>x)
+        exp = x
     elif x is infinity:
         return new_Expression_from_GEx(parent, g_Infinity)
     elif x is minus_infinity:
```
?



---

archive/issue_comments_560482.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis change is not correct in `src/sage/rings/polynomial/plural.pyx`: extra `)`\n\n```diff\n+            raise NotImplementedError(f\"not able to interpret {element)}\"\n```",
    "created_at": "2022-11-11T09:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560482",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:7" align="right">comment:7</div>

This change is not correct in `src/sage/rings/polynomial/plural.pyx`: extra `)`

```diff
+            raise NotImplementedError(f"not able to interpret {element)}"
```



---

archive/issue_comments_560483.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n\n```diff\n--- a/src/sage/symbolic/expression.pyx\n+++ b/src/sage/symbolic/expression.pyx\n@@ -13724,7 +13724,10 @@ cpdef new_Expression(parent, x):\n             return NaN\n         exp = x\n     elif isinstance(x, int):\n-        exp = GEx(<long>x)\n+        try:\n+            exp = GEx(<long>x)\n+        except OverflowError:\n+            exp = x\n     elif x is infinity:\n         return new_Expression_from_GEx(parent, g_Infinity)\n     elif x is minus_infinity:\n```\nfixes the failing doctest, but introduces (or reveals?) a Heisenbug:\n\n```\nsage -t --warn-long 64.8 --random-seed=209400216403961693791706262075210533242 src/sage/schemes/toric/sheaf/klyachko.py\n**********************************************************************\nFile \"src/sage/schemes/toric/sheaf/klyachko.py\", line 951, in sage.schemes.toric.sheaf.klyachko.KlyachkoBundle_class.random_deformation\nFailed example:\n    Vtilde.cohomology(dim=True, weight=(0,))\nExpected:\n    (1, 0)\nGot:\n    (0, 0)\n**********************************************************************\n```",
    "created_at": "2022-11-11T11:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560483",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:8" align="right">comment:8</div>


```diff
--- a/src/sage/symbolic/expression.pyx
+++ b/src/sage/symbolic/expression.pyx
@@ -13724,7 +13724,10 @@ cpdef new_Expression(parent, x):
             return NaN
         exp = x
     elif isinstance(x, int):
-        exp = GEx(<long>x)
+        try:
+            exp = GEx(<long>x)
+        except OverflowError:
+            exp = x
     elif x is infinity:
         return new_Expression_from_GEx(parent, g_Infinity)
     elif x is minus_infinity:
```
fixes the failing doctest, but introduces (or reveals?) a Heisenbug:

```
sage -t --warn-long 64.8 --random-seed=209400216403961693791706262075210533242 src/sage/schemes/toric/sheaf/klyachko.py
**********************************************************************
File "src/sage/schemes/toric/sheaf/klyachko.py", line 951, in sage.schemes.toric.sheaf.klyachko.KlyachkoBundle_class.random_deformation
Failed example:
    Vtilde.cohomology(dim=True, weight=(0,))
Expected:
    (1, 0)
Got:
    (0, 0)
**********************************************************************
```



---

archive/issue_comments_560484.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThe Heisenbug might not be a bug as Vtilde is a random line bundle. I invited an expert.",
    "created_at": "2022-11-11T11:28:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560484",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:10" align="right">comment:10</div>

The Heisenbug might not be a bug as Vtilde is a random line bundle. I invited an expert.



---

archive/issue_comments_560485.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThe Heisenbug has been tracked in #32773. So the failed doctest is not related with this ticket.",
    "created_at": "2022-11-11T14:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560485",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:11" align="right">comment:11</div>

The Heisenbug has been tracked in #32773. So the failed doctest is not related with this ticket.



---

archive/issue_comments_560486.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/966f1596adefde7a85bab6c8c5b3f4b67537216f\"><code>966f159</code></a></td><td><code>small fixes</code></td></tr></table>\n",
    "created_at": "2022-11-11T16:10:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560486",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/966f1596adefde7a85bab6c8c5b3f4b67537216f"><code>966f159</code></a></td><td><code>small fixes</code></td></tr></table>




---

archive/issue_comments_560487.json:
```json
{
    "body": "Changed commit from **[`39ad890`](https://github.com/sagemath/sagetrac-mirror/commit/39ad89060c6931db6049620fdf9dc408941abb3a)** to **[`966f159`](https://github.com/sagemath/sagetrac-mirror/commit/966f1596adefde7a85bab6c8c5b3f4b67537216f)**",
    "created_at": "2022-11-11T16:10:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560487",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`39ad890`](https://github.com/sagemath/sagetrac-mirror/commit/39ad89060c6931db6049620fdf9dc408941abb3a)** to **[`966f159`](https://github.com/sagemath/sagetrac-mirror/commit/966f1596adefde7a85bab6c8c5b3f4b67537216f)**



---

archive/issue_comments_560488.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nall lights are green now",
    "created_at": "2022-11-11T19:25:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560488",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">comment:13</div>

all lights are green now



---

archive/issue_comments_560489.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nWhy `GEx(<int>x)` rather than `GEx(<long>x)`? GEx seems to accept C long type. C long is better than C int. No?",
    "created_at": "2022-11-11T23:24:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560489",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:14" align="right">comment:14</div>

Why `GEx(<int>x)` rather than `GEx(<long>x)`? GEx seems to accept C long type. C long is better than C int. No?



---

archive/issue_comments_560490.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26\"><code>91704bb</code></a></td><td><code>switch back to <long></code></td></tr></table>\n",
    "created_at": "2022-11-12T08:34:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560490",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26"><code>91704bb</code></a></td><td><code>switch back to <long></code></td></tr></table>




---

archive/issue_comments_560491.json:
```json
{
    "body": "Changed commit from **[`966f159`](https://github.com/sagemath/sagetrac-mirror/commit/966f1596adefde7a85bab6c8c5b3f4b67537216f)** to **[`91704bb`](https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26)**",
    "created_at": "2022-11-12T08:34:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560491",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`966f159`](https://github.com/sagemath/sagetrac-mirror/commit/966f1596adefde7a85bab6c8c5b3f4b67537216f)** to **[`91704bb`](https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26)**



---

archive/issue_comments_560492.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nok, done. If I understand correctly `<long>` is not a python type but a C type, right ?",
    "created_at": "2022-11-12T11:41:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560492",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:16" align="right">comment:16</div>

ok, done. If I understand correctly `<long>` is not a python type but a C type, right ?



---

archive/issue_comments_560493.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\ngreen lights again",
    "created_at": "2022-11-12T12:15:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560493",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:17" align="right">comment:17</div>

green lights again



---

archive/issue_comments_560494.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI looked into pynac code, and became confident that the code I suggested is right. The cython code first tries to make GEx (ginac ex) object holding C long data, then in the case of overflow exception, (eventually) make GEx object holding the original python int object.\n\nOtherwise LGTM.",
    "created_at": "2022-11-12T12:24:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560494",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:18" align="right">comment:18</div>

I looked into pynac code, and became confident that the code I suggested is right. The cython code first tries to make GEx (ginac ex) object holding C long data, then in the case of overflow exception, (eventually) make GEx object holding the original python int object.

Otherwise LGTM.



---

archive/issue_events_469924.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-11-12T12:24:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-469924"
}
```



---

archive/issue_events_469925.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-11-12T12:24:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-469925"
}
```



---

archive/issue_comments_560495.json:
```json
{
    "body": "Reviewer: **Kwankyu Lee**",
    "created_at": "2022-11-12T12:24:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560495",
    "user": "https://github.com/kwankyu"
}
```

Reviewer: **Kwankyu Lee**



---

archive/issue_comments_560496.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [Fr\u00e9d\u00e9ric Chapoton](#comment:16):\n> ok, done. If I understand correctly `<long>` is not a python type but a C type, right?\n\nRight. We are juggling with \"python2 int\", \"python2 long\", \"python3 int\", \"C int\", \"C long\" :)",
    "created_at": "2022-11-12T12:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560496",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [Frédéric Chapoton](#comment:16):
> ok, done. If I understand correctly `<long>` is not a python type but a C type, right?

Right. We are juggling with "python2 int", "python2 long", "python3 int", "C int", "C long" :)



---

archive/issue_comments_560497.json:
```json
{
    "body": "Changed branch from **[u/chapoton/34739](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34739)** to **[`91704bb`](https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26)**",
    "created_at": "2022-11-20T12:13:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-560497",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/34739](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34739)** to **[`91704bb`](https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26)**



---

archive/issue_events_469926.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-11-20T12:13:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-469926"
}
```



---

archive/issue_events_469927.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6cc6cf548eeac304f910ab92344d8bd8ee663b01",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-11-20T12:13:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-469927"
}
```
