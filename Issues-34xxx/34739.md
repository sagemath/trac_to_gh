# Issue 34739: get rid of some usage of "long" python2 type in pyx files

archive/issues_034502.json:
```json
{
    "assignees": [],
    "body": "\n\n**CC:**  @vbraun\n\n**Branch/Commit:** [91704bbd12bdb01c4137d1d0dd51b68499258d26](https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26)\n\n**Reviewer:** Kwankyu Lee\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/34739\n\n",
    "closed_at": "2022-11-20T12:13:25Z",
    "created_at": "2022-11-10T13:23:09Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20refactoring",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "get rid of some usage of \"long\" python2 type in pyx files",
    "type": "issue",
    "updated_at": "2022-11-20T12:13:25Z",
    "url": "https://github.com/sagemath/sage/issues/34739",
    "user": "https://github.com/fchapoton"
}
```


**CC:**  @vbraun

**Branch/Commit:** [91704bbd12bdb01c4137d1d0dd51b68499258d26](https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26)

**Reviewer:** Kwankyu Lee

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/34739





---

archive/issue_events_417201.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-10T13:23:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-417201"
}
```



---

archive/issue_events_417202.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-10T13:23:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20refactoring",
    "label_color": "08517b",
    "label_name": "component: refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-417202"
}
```



---

archive/issue_events_417203.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-10T13:23:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-417203"
}
```



---

archive/issue_comments_562997.json:
```json
{
    "body": "**Commit:** [f567abf978ca328f67595743b5248ee42485b41e](https://github.com/sagemath/sagetrac-mirror/commit/f567abf978ca328f67595743b5248ee42485b41e)",
    "created_at": "2022-11-10T13:25:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-562997",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [f567abf978ca328f67595743b5248ee42485b41e](https://github.com/sagemath/sagetrac-mirror/commit/f567abf978ca328f67595743b5248ee42485b41e)



---

archive/issue_events_417204.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-10T13:25:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-417204"
}
```



---

archive/issue_comments_562998.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f567abf978ca328f67595743b5248ee42485b41e\">f567abf</a></td><td><code>get rid of some usage of \"long\" in pyx files</code></td></tr></table>\n",
    "created_at": "2022-11-10T13:25:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-562998",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f567abf978ca328f67595743b5248ee42485b41e">f567abf</a></td><td><code>get rid of some usage of "long" in pyx files</code></td></tr></table>




---

archive/issue_comments_562999.json:
```json
{
    "body": "**Branch:** [u/chapoton/34739](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34739)",
    "created_at": "2022-11-10T13:25:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-562999",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/34739](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34739)



---

archive/issue_comments_563000.json:
```json
{
    "body": "**Changing commit** from \"[f567abf978ca328f67595743b5248ee42485b41e](https://github.com/sagemath/sagetrac-mirror/commit/f567abf978ca328f67595743b5248ee42485b41e)\" to \"[e8cebc3b2a473343d3a07c5d5b6102265f265b4b](https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b)\".",
    "created_at": "2022-11-10T17:25:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563000",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[f567abf978ca328f67595743b5248ee42485b41e](https://github.com/sagemath/sagetrac-mirror/commit/f567abf978ca328f67595743b5248ee42485b41e)" to "[e8cebc3b2a473343d3a07c5d5b6102265f265b4b](https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b)".



---

archive/issue_comments_563001.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b\">e8cebc3</a></td><td><code>fix typo</code></td></tr></table>\n",
    "created_at": "2022-11-10T17:25:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563001",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b">e8cebc3</a></td><td><code>fix typo</code></td></tr></table>




---

archive/issue_comments_563002.json:
```json
{
    "body": "<a id='comment:3'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b\">e8cebc3</a></td><td><code>fix typo</code></td></tr></table>\n",
    "created_at": "2022-11-10T17:26:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563002",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b">e8cebc3</a></td><td><code>fix typo</code></td></tr></table>




---

archive/issue_events_417205.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-10T17:26:26Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "rename": {
        "from": "get rif of some usage of \"long\" python2 type in pyx files",
        "to": "get rid of some usage of \"long\" python2 type in pyx files"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-417205"
}
```



---

archive/issue_comments_563003.json:
```json
{
    "body": "<a id='comment:4'></a>\nSorry, wrong ticket.",
    "created_at": "2022-11-11T03:00:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563003",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'></a>
Sorry, wrong ticket.



---

archive/issue_comments_563004.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39ad89060c6931db6049620fdf9dc408941abb3a\">39ad890</a></td><td><code>fix factorial of type int</code></td></tr></table>\n",
    "created_at": "2022-11-11T07:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563004",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39ad89060c6931db6049620fdf9dc408941abb3a">39ad890</a></td><td><code>fix factorial of type int</code></td></tr></table>




---

archive/issue_comments_563005.json:
```json
{
    "body": "**Changing commit** from \"[e8cebc3b2a473343d3a07c5d5b6102265f265b4b](https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b)\" to \"[39ad89060c6931db6049620fdf9dc408941abb3a](https://github.com/sagemath/sagetrac-mirror/commit/39ad89060c6931db6049620fdf9dc408941abb3a)\".",
    "created_at": "2022-11-11T07:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563005",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[e8cebc3b2a473343d3a07c5d5b6102265f265b4b](https://github.com/sagemath/sagetrac-mirror/commit/e8cebc3b2a473343d3a07c5d5b6102265f265b4b)" to "[39ad89060c6931db6049620fdf9dc408941abb3a](https://github.com/sagemath/sagetrac-mirror/commit/39ad89060c6931db6049620fdf9dc408941abb3a)".



---

archive/issue_comments_563006.json:
```json
{
    "body": "<a id='comment:6'></a>\nOr this\n\n```diff\n--- a/src/sage/symbolic/expression.pyx\n+++ b/src/sage/symbolic/expression.pyx\n@@ -13724,7 +13724,7 @@ cpdef new_Expression(parent, x):\n             return NaN\n         exp = x\n     elif isinstance(x, int):\n-        exp = GEx(<long>x)\n+        exp = x\n     elif x is infinity:\n         return new_Expression_from_GEx(parent, g_Infinity)\n     elif x is minus_infinity:\n```\n?",
    "created_at": "2022-11-11T07:30:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563006",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:6'></a>
Or this

```diff
--- a/src/sage/symbolic/expression.pyx
+++ b/src/sage/symbolic/expression.pyx
@@ -13724,7 +13724,7 @@ cpdef new_Expression(parent, x):
             return NaN
         exp = x
     elif isinstance(x, int):
-        exp = GEx(<long>x)
+        exp = x
     elif x is infinity:
         return new_Expression_from_GEx(parent, g_Infinity)
     elif x is minus_infinity:
```
?



---

archive/issue_comments_563007.json:
```json
{
    "body": "<a id='comment:7'></a>\nThis change is not correct in `src/sage/rings/polynomial/plural.pyx`: extra `)`\n\n```diff\n+            raise NotImplementedError(f\"not able to interpret {element)}\"\n```",
    "created_at": "2022-11-11T09:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563007",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>
This change is not correct in `src/sage/rings/polynomial/plural.pyx`: extra `)`

```diff
+            raise NotImplementedError(f"not able to interpret {element)}"
```



---

archive/issue_comments_563008.json:
```json
{
    "body": "<a id='comment:8'></a>\n\n```diff\n--- a/src/sage/symbolic/expression.pyx\n+++ b/src/sage/symbolic/expression.pyx\n@@ -13724,7 +13724,10 @@ cpdef new_Expression(parent, x):\n             return NaN\n         exp = x\n     elif isinstance(x, int):\n-        exp = GEx(<long>x)\n+        try:\n+            exp = GEx(<long>x)\n+        except OverflowError:\n+            exp = x\n     elif x is infinity:\n         return new_Expression_from_GEx(parent, g_Infinity)\n     elif x is minus_infinity:\n```\nfixes the failing doctest, but introduces (or reveals?) a Heisenbug:\n\n```\nsage -t --warn-long 64.8 --random-seed=209400216403961693791706262075210533242 src/sage/schemes/toric/sheaf/klyachko.py\n**********************************************************************\nFile \"src/sage/schemes/toric/sheaf/klyachko.py\", line 951, in sage.schemes.toric.sheaf.klyachko.KlyachkoBundle_class.random_deformation\nFailed example:\n    Vtilde.cohomology(dim=True, weight=(0,))\nExpected:\n    (1, 0)\nGot:\n    (0, 0)\n**********************************************************************\n```",
    "created_at": "2022-11-11T11:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563008",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:8'></a>

```diff
--- a/src/sage/symbolic/expression.pyx
+++ b/src/sage/symbolic/expression.pyx
@@ -13724,7 +13724,10 @@ cpdef new_Expression(parent, x):
             return NaN
         exp = x
     elif isinstance(x, int):
-        exp = GEx(<long>x)
+        try:
+            exp = GEx(<long>x)
+        except OverflowError:
+            exp = x
     elif x is infinity:
         return new_Expression_from_GEx(parent, g_Infinity)
     elif x is minus_infinity:
```
fixes the failing doctest, but introduces (or reveals?) a Heisenbug:

```
sage -t --warn-long 64.8 --random-seed=209400216403961693791706262075210533242 src/sage/schemes/toric/sheaf/klyachko.py
**********************************************************************
File "src/sage/schemes/toric/sheaf/klyachko.py", line 951, in sage.schemes.toric.sheaf.klyachko.KlyachkoBundle_class.random_deformation
Failed example:
    Vtilde.cohomology(dim=True, weight=(0,))
Expected:
    (1, 0)
Got:
    (0, 0)
**********************************************************************
```



---

archive/issue_comments_563009.json:
```json
{
    "body": "<a id='comment:10'></a>\nThe Heisenbug might not be a bug as Vtilde is a random line bundle. I invited an expert.",
    "created_at": "2022-11-11T11:28:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563009",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:10'></a>
The Heisenbug might not be a bug as Vtilde is a random line bundle. I invited an expert.



---

archive/issue_comments_563010.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe Heisenbug has been tracked in #32773. So the failed doctest is not related with this ticket.",
    "created_at": "2022-11-11T14:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563010",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:11'></a>
The Heisenbug has been tracked in #32773. So the failed doctest is not related with this ticket.



---

archive/issue_comments_563011.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/966f1596adefde7a85bab6c8c5b3f4b67537216f\">966f159</a></td><td><code>small fixes</code></td></tr></table>\n",
    "created_at": "2022-11-11T16:10:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563011",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/966f1596adefde7a85bab6c8c5b3f4b67537216f">966f159</a></td><td><code>small fixes</code></td></tr></table>




---

archive/issue_comments_563012.json:
```json
{
    "body": "**Changing commit** from \"[39ad89060c6931db6049620fdf9dc408941abb3a](https://github.com/sagemath/sagetrac-mirror/commit/39ad89060c6931db6049620fdf9dc408941abb3a)\" to \"[966f1596adefde7a85bab6c8c5b3f4b67537216f](https://github.com/sagemath/sagetrac-mirror/commit/966f1596adefde7a85bab6c8c5b3f4b67537216f)\".",
    "created_at": "2022-11-11T16:10:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563012",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[39ad89060c6931db6049620fdf9dc408941abb3a](https://github.com/sagemath/sagetrac-mirror/commit/39ad89060c6931db6049620fdf9dc408941abb3a)" to "[966f1596adefde7a85bab6c8c5b3f4b67537216f](https://github.com/sagemath/sagetrac-mirror/commit/966f1596adefde7a85bab6c8c5b3f4b67537216f)".



---

archive/issue_comments_563013.json:
```json
{
    "body": "<a id='comment:13'></a>\nall lights are green now",
    "created_at": "2022-11-11T19:25:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563013",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
all lights are green now



---

archive/issue_comments_563014.json:
```json
{
    "body": "<a id='comment:14'></a>\nWhy `GEx(<int>x)` rather than `GEx(<long>x)`? GEx seems to accept C long type. C long is better than C int. No?",
    "created_at": "2022-11-11T23:24:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563014",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:14'></a>
Why `GEx(<int>x)` rather than `GEx(<long>x)`? GEx seems to accept C long type. C long is better than C int. No?



---

archive/issue_comments_563015.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26\">91704bb</a></td><td><code>switch back to <long></code></td></tr></table>\n",
    "created_at": "2022-11-12T08:34:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563015",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26">91704bb</a></td><td><code>switch back to <long></code></td></tr></table>




---

archive/issue_comments_563016.json:
```json
{
    "body": "**Changing commit** from \"[966f1596adefde7a85bab6c8c5b3f4b67537216f](https://github.com/sagemath/sagetrac-mirror/commit/966f1596adefde7a85bab6c8c5b3f4b67537216f)\" to \"[91704bbd12bdb01c4137d1d0dd51b68499258d26](https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26)\".",
    "created_at": "2022-11-12T08:34:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563016",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[966f1596adefde7a85bab6c8c5b3f4b67537216f](https://github.com/sagemath/sagetrac-mirror/commit/966f1596adefde7a85bab6c8c5b3f4b67537216f)" to "[91704bbd12bdb01c4137d1d0dd51b68499258d26](https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26)".



---

archive/issue_comments_563017.json:
```json
{
    "body": "<a id='comment:16'></a>\nok, done. If I understand correctly `<long>` is not a python type but a C type, right ?",
    "created_at": "2022-11-12T11:41:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563017",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
ok, done. If I understand correctly `<long>` is not a python type but a C type, right ?



---

archive/issue_comments_563018.json:
```json
{
    "body": "<a id='comment:17'></a>\ngreen lights again",
    "created_at": "2022-11-12T12:15:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563018",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>
green lights again



---

archive/issue_comments_563019.json:
```json
{
    "body": "<a id='comment:18'></a>\nI looked into pynac code, and became confident that the code I suggested is right. The cython code first tries to make GEx (ginac ex) object holding C long data, then in the case of overflow exception, (eventually) make GEx object holding the original python int object.\n\nOtherwise LGTM.",
    "created_at": "2022-11-12T12:24:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563019",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:18'></a>
I looked into pynac code, and became confident that the code I suggested is right. The cython code first tries to make GEx (ginac ex) object holding C long data, then in the case of overflow exception, (eventually) make GEx object holding the original python int object.

Otherwise LGTM.



---

archive/issue_events_417206.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-11-12T12:24:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-417206"
}
```



---

archive/issue_events_417207.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-11-12T12:24:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-417207"
}
```



---

archive/issue_comments_563020.json:
```json
{
    "body": "**Reviewer:** Kwankyu Lee",
    "created_at": "2022-11-12T12:24:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563020",
    "user": "https://github.com/kwankyu"
}
```

**Reviewer:** Kwankyu Lee



---

archive/issue_comments_563021.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [Fr\u00e9d\u00e9ric Chapoton](#comment%3A16):\n> ok, done. If I understand correctly `<long>` is not a python type but a C type, right?\n\nRight. We are juggling with \"python2 int\", \"python2 long\", \"python3 int\", \"C int\", \"C long\" :)",
    "created_at": "2022-11-12T12:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563021",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:19'></a>
Replying to [Frédéric Chapoton](#comment%3A16):
> ok, done. If I understand correctly `<long>` is not a python type but a C type, right?

Right. We are juggling with "python2 int", "python2 long", "python3 int", "C int", "C long" :)



---

archive/issue_comments_563022.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/34739](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34739)\" to \"[91704bbd12bdb01c4137d1d0dd51b68499258d26](https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26)\".",
    "created_at": "2022-11-20T12:13:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34739#issuecomment-563022",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/34739](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34739)" to "[91704bbd12bdb01c4137d1d0dd51b68499258d26](https://github.com/sagemath/sagetrac-mirror/commit/91704bbd12bdb01c4137d1d0dd51b68499258d26)".



---

archive/issue_events_417208.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-11-20T12:13:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-417208"
}
```



---

archive/issue_events_417209.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6cc6cf548eeac304f910ab92344d8bd8ee663b01",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-11-20T12:13:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34739",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34739#event-417209"
}
```
