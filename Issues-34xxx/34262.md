# Issue 34262: Remove toc warnings

archive/issues_034025.json:
```json
{
    "body": "Part of #33833. Fix\n\n- \"ERROR: Adding a table of contents in Furo-based documentation is unnecessary\" - https://73e5aa3fbbec2d751a47064c14479fc0d55c3de9--sagemath-tobias.netlify.app/installation/source.html#installation-in-a-multiuser-environment\n\nWe add `:class:` like\n\n```\n.. contents::\n   :class: this-will-duplicate-information-and-it-is-still-useful-here\n```\nto remove the furo's warning, since those toc's are useful for pdf docs and not bad even for html docs.\n\n**Branch:** [16cbb44f3716ec8f5313f8192a4e0833a73dbff9](https://github.com/sagemath/sagetrac-mirror/commit/16cbb44f3716ec8f5313f8192a4e0833a73dbff9)\n\n**Reviewer:** Matthias Koeppe\n\n**Author:** Kwankyu Lee\n\n**Dependencies:** #34252\n\nIssue created by migration from https://trac.sagemath.org/ticket/34262\n\n",
    "closed_at": "2022-08-06T07:41:42Z",
    "created_at": "2022-08-02T07:34:45Z",
    "labels": [
        "component: documentation",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Remove toc warnings",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34262",
    "user": "https://github.com/kwankyu"
}
```
Part of #33833. Fix

- "ERROR: Adding a table of contents in Furo-based documentation is unnecessary" - https://73e5aa3fbbec2d751a47064c14479fc0d55c3de9--sagemath-tobias.netlify.app/installation/source.html#installation-in-a-multiuser-environment

We add `:class:` like

```
.. contents::
   :class: this-will-duplicate-information-and-it-is-still-useful-here
```
to remove the furo's warning, since those toc's are useful for pdf docs and not bad even for html docs.

**Branch:** [16cbb44f3716ec8f5313f8192a4e0833a73dbff9](https://github.com/sagemath/sagetrac-mirror/commit/16cbb44f3716ec8f5313f8192a4e0833a73dbff9)

**Reviewer:** Matthias Koeppe

**Author:** Kwankyu Lee

**Dependencies:** #34252

Issue created by migration from https://trac.sagemath.org/ticket/34262





---

archive/issue_comments_651312.json:
```json
{
    "body": "**Branch:** [u/klee/remove_toc_warnings](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/remove_toc_warnings)",
    "created_at": "2022-08-02T07:39:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651312",
    "user": "https://github.com/kwankyu"
}
```

**Branch:** [u/klee/remove_toc_warnings](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/remove_toc_warnings)



---

archive/issue_comments_651313.json:
```json
{
    "body": "**Commit:** [49a9316b46ff867a3501f031fb9d5f4fbd846569](https://github.com/sagemath/sagetrac-mirror/commit/49a9316b46ff867a3501f031fb9d5f4fbd846569)",
    "created_at": "2022-08-02T07:40:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651313",
    "user": "https://github.com/kwankyu"
}
```

**Commit:** [49a9316b46ff867a3501f031fb9d5f4fbd846569](https://github.com/sagemath/sagetrac-mirror/commit/49a9316b46ff867a3501f031fb9d5f4fbd846569)



---

archive/issue_comments_651314.json:
```json
{
    "body": "**Author:** Kwankyu Lee",
    "created_at": "2022-08-02T07:40:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651314",
    "user": "https://github.com/kwankyu"
}
```

**Author:** Kwankyu Lee



---

archive/issue_comments_651315.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f19b59704068e2d2bb90dc168705074819b99b57\">f19b597</a></td><td><code>Add link to the logo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09d5f5cd78bcfd97b6e8b5d1ceffa4e1804db638\">09d5f5c</a></td><td><code>Fix the logo link for reference</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae75d53769051a434580a7548a945ff8631fc879\">ae75d53</a></td><td><code>Fix a subtle reference problem for build_options</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3519bed10223f7c799e0a8f321d8e001a4bbf5d6\">3519bed</a></td><td><code>Run docbuild workflow with single thread</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1274718740497cd84295cff540558691a21ec687\">1274718</a></td><td><code>Fix a suspicious part of categories doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5b1f7e5ef6763f74b5f08ee8bfc2e8524fe6fa2\">e5b1f7e</a></td><td><code>Add search.html</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ebd3b77e49246009b2681abbbeb45fda58680ab8\">ebd3b77</a></td><td><code>Better pygments style</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73e5aa3fbbec2d751a47064c14479fc0d55c3de9\">73e5aa3</a></td><td><code>Make white logo transparent to match with furo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/183e55859ed4472d65f550e84ab927b0e36af3c0\">183e558</a></td><td><code>Merge branch 'develop' into t/34252/revive-furo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49a9316b46ff867a3501f031fb9d5f4fbd846569\">49a9316</a></td><td><code>Remove toc warnings</code></td></tr></table>\n",
    "created_at": "2022-08-02T07:40:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651315",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:2'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f19b59704068e2d2bb90dc168705074819b99b57">f19b597</a></td><td><code>Add link to the logo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09d5f5cd78bcfd97b6e8b5d1ceffa4e1804db638">09d5f5c</a></td><td><code>Fix the logo link for reference</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae75d53769051a434580a7548a945ff8631fc879">ae75d53</a></td><td><code>Fix a subtle reference problem for build_options</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3519bed10223f7c799e0a8f321d8e001a4bbf5d6">3519bed</a></td><td><code>Run docbuild workflow with single thread</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1274718740497cd84295cff540558691a21ec687">1274718</a></td><td><code>Fix a suspicious part of categories doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5b1f7e5ef6763f74b5f08ee8bfc2e8524fe6fa2">e5b1f7e</a></td><td><code>Add search.html</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ebd3b77e49246009b2681abbbeb45fda58680ab8">ebd3b77</a></td><td><code>Better pygments style</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73e5aa3fbbec2d751a47064c14479fc0d55c3de9">73e5aa3</a></td><td><code>Make white logo transparent to match with furo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/183e55859ed4472d65f550e84ab927b0e36af3c0">183e558</a></td><td><code>Merge branch 'develop' into t/34252/revive-furo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49a9316b46ff867a3501f031fb9d5f4fbd846569">49a9316</a></td><td><code>Remove toc warnings</code></td></tr></table>




---

archive/issue_comments_651316.json:
```json
{
    "body": "**Dependencies:** #34252",
    "created_at": "2022-08-02T07:41:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651316",
    "user": "https://github.com/kwankyu"
}
```

**Dependencies:** #34252



---

archive/issue_comments_651317.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+Part of #33833. Fix\n \n+- \"ERROR: Adding a table of contents in Furo-based documentation is unnecessary\" - https://73e5aa3fbbec2d751a47064c14479fc0d55c3de9--sagemath-tobias.netlify.app/installation/source.html#installation-in-a-multiuser-environment\n``````\n",
    "created_at": "2022-08-02T07:43:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651317",
    "user": "https://github.com/kwankyu"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+Part of #33833. Fix
 
+- "ERROR: Adding a table of contents in Furo-based documentation is unnecessary" - https://73e5aa3fbbec2d751a47064c14479fc0d55c3de9--sagemath-tobias.netlify.app/installation/source.html#installation-in-a-multiuser-environment
``````




---

archive/issue_comments_651318.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2022-08-02T07:44:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651318",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_651319.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,11 @@\n Part of #33833. Fix\n \n - \"ERROR: Adding a table of contents in Furo-based documentation is unnecessary\" - https://73e5aa3fbbec2d751a47064c14479fc0d55c3de9--sagemath-tobias.netlify.app/installation/source.html#installation-in-a-multiuser-environment\n+\n+We add `:class:` like\n+\n+```\n+.. contents::\n+   :class: this-will-duplicate-information-and-it-is-still-useful-here\n+```\n+to remove the furo's warning, since those toc's are useful for pdf docs and not bad even for html docs.\n``````\n",
    "created_at": "2022-08-02T07:48:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651319",
    "user": "https://github.com/kwankyu"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,11 @@
 Part of #33833. Fix
 
 - "ERROR: Adding a table of contents in Furo-based documentation is unnecessary" - https://73e5aa3fbbec2d751a47064c14479fc0d55c3de9--sagemath-tobias.netlify.app/installation/source.html#installation-in-a-multiuser-environment
+
+We add `:class:` like
+
+```
+.. contents::
+   :class: this-will-duplicate-information-and-it-is-still-useful-here
+```
+to remove the furo's warning, since those toc's are useful for pdf docs and not bad even for html docs.
``````




---

archive/issue_comments_651320.json:
```json
{
    "body": "<a id='comment:7'></a>\nI still see this warning in https://49a9316b46ff867a3501f031fb9d5f4fbd846569--sagemath-tobias.netlify.app/installation/source.html#installation-in-a-multiuser-environment",
    "created_at": "2022-08-02T17:29:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651320",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
I still see this warning in https://49a9316b46ff867a3501f031fb9d5f4fbd846569--sagemath-tobias.netlify.app/installation/source.html#installation-in-a-multiuser-environment



---

archive/issue_comments_651321.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2022-08-02T17:29:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651321",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_651322.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16cbb44f3716ec8f5313f8192a4e0833a73dbff9\">16cbb44</a></td><td><code>Take care of a missed toc directive</code></td></tr></table>\n",
    "created_at": "2022-08-02T22:06:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651322",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16cbb44f3716ec8f5313f8192a4e0833a73dbff9">16cbb44</a></td><td><code>Take care of a missed toc directive</code></td></tr></table>




---

archive/issue_comments_651323.json:
```json
{
    "body": "**Changing commit** from \"[49a9316b46ff867a3501f031fb9d5f4fbd846569](https://github.com/sagemath/sagetrac-mirror/commit/49a9316b46ff867a3501f031fb9d5f4fbd846569)\" to \"[16cbb44f3716ec8f5313f8192a4e0833a73dbff9](https://github.com/sagemath/sagetrac-mirror/commit/16cbb44f3716ec8f5313f8192a4e0833a73dbff9)\".",
    "created_at": "2022-08-02T22:06:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651323",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[49a9316b46ff867a3501f031fb9d5f4fbd846569](https://github.com/sagemath/sagetrac-mirror/commit/49a9316b46ff867a3501f031fb9d5f4fbd846569)" to "[16cbb44f3716ec8f5313f8192a4e0833a73dbff9](https://github.com/sagemath/sagetrac-mirror/commit/16cbb44f3716ec8f5313f8192a4e0833a73dbff9)".



---

archive/issue_comments_651324.json:
```json
{
    "body": "<a id='comment:9'></a>\nWhile working on this ticket, I experienced `./configure --enable-editable`, which is the default now. I needed to search the whole `src/doc` directory and subdirectories, but then since the `src` tree was cluttered with lots of build artifacts, the search would take much more time. Hence I did `./configure --disable-editable` to go back to the \"normal\" state of the `src` tree. From my experience, I doubt if the new default is really good for developers...",
    "created_at": "2022-08-02T22:16:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651324",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:9'></a>
While working on this ticket, I experienced `./configure --enable-editable`, which is the default now. I needed to search the whole `src/doc` directory and subdirectories, but then since the `src` tree was cluttered with lots of build artifacts, the search would take much more time. Hence I did `./configure --disable-editable` to go back to the "normal" state of the `src` tree. From my experience, I doubt if the new default is really good for developers...



---

archive/issue_comments_651325.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2022-08-02T22:19:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651325",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_651326.json:
```json
{
    "body": "<a id='comment:11'></a>\nIt may need some time to get used to it coming from longstanding Sage practice, but editable builds are the standard way to develop in the Python world",
    "created_at": "2022-08-02T22:20:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651326",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
It may need some time to get used to it coming from longstanding Sage practice, but editable builds are the standard way to develop in the Python world



---

archive/issue_comments_651327.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [mkoeppe](#comment%3A11):\n> but editable builds are the standard way to develop in the Python world\n\n\nOkay.",
    "created_at": "2022-08-02T22:56:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651327",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:12'></a>
Replying to [mkoeppe](#comment%3A11):
> but editable builds are the standard way to develop in the Python world


Okay.



---

archive/issue_comments_651328.json:
```json
{
    "body": "**Reviewer:** Matthias Koeppe",
    "created_at": "2022-08-03T16:15:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651328",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** Matthias Koeppe



---

archive/issue_comments_651329.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2022-08-03T16:15:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651329",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_651330.json:
```json
{
    "body": "**Changing branch** from \"[u/klee/remove_toc_warnings](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/remove_toc_warnings)\" to \"[16cbb44f3716ec8f5313f8192a4e0833a73dbff9](https://github.com/sagemath/sagetrac-mirror/commit/16cbb44f3716ec8f5313f8192a4e0833a73dbff9)\".",
    "created_at": "2022-08-06T07:41:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651330",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/klee/remove_toc_warnings](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/remove_toc_warnings)" to "[16cbb44f3716ec8f5313f8192a4e0833a73dbff9](https://github.com/sagemath/sagetrac-mirror/commit/16cbb44f3716ec8f5313f8192a4e0833a73dbff9)".



---

archive/issue_events_100906.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-06T07:41:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34262#event-100906"
}
```



---

archive/issue_comments_651331.json:
```json
{
    "body": "**Changing commit** from \"[16cbb44f3716ec8f5313f8192a4e0833a73dbff9](https://github.com/sagemath/sagetrac-mirror/commit/16cbb44f3716ec8f5313f8192a4e0833a73dbff9)\" to \"\".",
    "created_at": "2022-08-07T09:43:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651331",
    "user": "https://github.com/tobiasdiez"
}
```

**Changing commit** from "[16cbb44f3716ec8f5313f8192a4e0833a73dbff9](https://github.com/sagemath/sagetrac-mirror/commit/16cbb44f3716ec8f5313f8192a4e0833a73dbff9)" to "".



---

archive/issue_comments_651332.json:
```json
{
    "body": "<a id='comment:15'></a>\nWould it be possible to only display the toc in the pdf? In my opinion, they just duplicate information that is already displayed in the right column.",
    "created_at": "2022-08-07T09:43:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651332",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:15'></a>
Would it be possible to only display the toc in the pdf? In my opinion, they just duplicate information that is already displayed in the right column.



---

archive/issue_comments_651333.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [gh-tobiasdiez](#comment%3A15):\n> Would it be possible to only display the toc in the pdf? In my opinion, they just duplicate information that is already displayed in the right column.\n\n\nThey are duplicated but often a short version of the full toc on the right column, and hence they are still useful. So I think it is not worth the effort to try to find a way to show them only in the pdf.",
    "created_at": "2022-08-07T09:59:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34262#issuecomment-651333",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:16'></a>
Replying to [gh-tobiasdiez](#comment%3A15):
> Would it be possible to only display the toc in the pdf? In my opinion, they just duplicate information that is already displayed in the right column.


They are duplicated but often a short version of the full toc on the right column, and hence they are still useful. So I think it is not worth the effort to try to find a way to show them only in the pdf.
