# Issue 34414: Implement Key polynomials

archive/issues_034177.json:
```json
{
    "body": "Implement the Key polynomials as an algebra with basis indexed by compositions.\n\n**Assignee:** @trevorkarn\n\n**CC:**  @trevorkarn @tscrim\n\n**Keywords:** gsoc2022 key-polynomial\n\n**Branch:** [u/tkarn/key-poly-34414](https://github.com/sagemath/sagetrac-mirror/tree/u/tkarn/key-poly-34414)\n\n**Commit:** [c32112a26bbea68ac04be7ce93112605cfef3e4e](https://github.com/sagemath/sagetrac-mirror/commit/c32112a26bbea68ac04be7ce93112605cfef3e4e)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Trevor K. Karn\n\n**Status:** needs_work\n\n**Dependencies:** #34435 #34510 #34527 #34535 #34581\n\nIssue created by migration from https://trac.sagemath.org/ticket/34414\n\n",
    "created_at": "2022-08-23T13:10:51Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Implement Key polynomials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34414",
    "user": "https://github.com/trevorkarn"
}
```
Implement the Key polynomials as an algebra with basis indexed by compositions.

**Assignee:** @trevorkarn

**CC:**  @trevorkarn @tscrim

**Keywords:** gsoc2022 key-polynomial

**Branch:** [u/tkarn/key-poly-34414](https://github.com/sagemath/sagetrac-mirror/tree/u/tkarn/key-poly-34414)

**Commit:** [c32112a26bbea68ac04be7ce93112605cfef3e4e](https://github.com/sagemath/sagetrac-mirror/commit/c32112a26bbea68ac04be7ce93112605cfef3e4e)

**Reviewer:** Travis Scrimshaw

**Author:** Trevor K. Karn

**Status:** needs_work

**Dependencies:** #34435 #34510 #34527 #34535 #34581

Issue created by migration from https://trac.sagemath.org/ticket/34414





---

archive/issue_comments_685029.json:
```json
{
    "body": "<a id='comment:1'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfee8e8f720b1b00d9cb1e51596e9535b6fc4883\">cfee8e8</a></td><td><code>Speed up sliding by skipping classcall</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62c7b5f5345851c72cc937811fe38f5d6aa133d9\">62c7b5f</a></td><td><code>Remove unneeded creation of skew tableaux</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b6ef8a3cf2b703931d636b8f28f2226db66ee22\">8b6ef8a</a></td><td><code>First round of reviewer suggestions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e973f7dcedd6378d514229348dd94c4603757ceb\">e973f7d</a></td><td><code>Assertion -> ValueError</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a57b2d06d52ace10723505348ad5548102dd62f1\">a57b2d0</a></td><td><code>Add tests and remove Stanley s.f.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28286dae7979f874383a1d771023ca6a4a1ad7b7\">28286da</a></td><td><code>Add methods to interact with polyominos/compositions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75ce24ee7386f54e2034823c67985b6883c39f4c\">75ce24e</a></td><td><code>Change to list</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c3cb4e5780539911825bf922a6f3229b1ceddab\">8c3cb4e</a></td><td><code>Add type-A algorithm</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a6b2f90021f8be3cd44a74f9cd72f4d13140e52\">4a6b2f9</a></td><td><code>Rewrite to pass to Permutations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c2a107aae4401ff71c772e9b7dadf9e510f39e2\">9c2a107</a></td><td><code>Initial commit of KeyPolynomial</code></td></tr></table>\n",
    "created_at": "2022-08-23T13:12:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685029",
    "user": "https://github.com/trevorkarn"
}
```


<a id='comment:1'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfee8e8f720b1b00d9cb1e51596e9535b6fc4883">cfee8e8</a></td><td><code>Speed up sliding by skipping classcall</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62c7b5f5345851c72cc937811fe38f5d6aa133d9">62c7b5f</a></td><td><code>Remove unneeded creation of skew tableaux</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b6ef8a3cf2b703931d636b8f28f2226db66ee22">8b6ef8a</a></td><td><code>First round of reviewer suggestions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e973f7dcedd6378d514229348dd94c4603757ceb">e973f7d</a></td><td><code>Assertion -> ValueError</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a57b2d06d52ace10723505348ad5548102dd62f1">a57b2d0</a></td><td><code>Add tests and remove Stanley s.f.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28286dae7979f874383a1d771023ca6a4a1ad7b7">28286da</a></td><td><code>Add methods to interact with polyominos/compositions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75ce24ee7386f54e2034823c67985b6883c39f4c">75ce24e</a></td><td><code>Change to list</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c3cb4e5780539911825bf922a6f3229b1ceddab">8c3cb4e</a></td><td><code>Add type-A algorithm</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a6b2f90021f8be3cd44a74f9cd72f4d13140e52">4a6b2f9</a></td><td><code>Rewrite to pass to Permutations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c2a107aae4401ff71c772e9b7dadf9e510f39e2">9c2a107</a></td><td><code>Initial commit of KeyPolynomial</code></td></tr></table>




---

archive/issue_comments_685030.json:
```json
{
    "body": "**Branch:** [u/tkarn/key-poly-34414](https://github.com/sagemath/sagetrac-mirror/tree/u/tkarn/key-poly-34414)",
    "created_at": "2022-08-23T13:12:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685030",
    "user": "https://github.com/trevorkarn"
}
```


**Branch:** [u/tkarn/key-poly-34414](https://github.com/sagemath/sagetrac-mirror/tree/u/tkarn/key-poly-34414)



---

archive/issue_comments_685031.json:
```json
{
    "body": "**Assignee:** @trevorkarn",
    "created_at": "2022-08-23T13:12:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685031",
    "user": "https://github.com/trevorkarn"
}
```


**Assignee:** @trevorkarn



---

archive/issue_comments_685032.json:
```json
{
    "body": "**Commit:** [9c2a107aae4401ff71c772e9b7dadf9e510f39e2](https://github.com/sagemath/sagetrac-mirror/commit/9c2a107aae4401ff71c772e9b7dadf9e510f39e2)",
    "created_at": "2022-08-23T13:12:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685032",
    "user": "https://github.com/trevorkarn"
}
```


**Commit:** [9c2a107aae4401ff71c772e9b7dadf9e510f39e2](https://github.com/sagemath/sagetrac-mirror/commit/9c2a107aae4401ff71c772e9b7dadf9e510f39e2)



---

archive/issue_comments_685033.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5899abf3277eb1d1493cd09d456cf1d21683bb6e\">5899abf</a></td><td><code>Fix divided difference</code></td></tr></table>\n",
    "created_at": "2022-08-25T04:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685033",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5899abf3277eb1d1493cd09d456cf1d21683bb6e">5899abf</a></td><td><code>Fix divided difference</code></td></tr></table>




---

archive/issue_comments_685034.json:
```json
{
    "body": "**Changing commit** from \"[9c2a107aae4401ff71c772e9b7dadf9e510f39e2](https://github.com/sagemath/sagetrac-mirror/commit/9c2a107aae4401ff71c772e9b7dadf9e510f39e2)\" to \"[5899abf3277eb1d1493cd09d456cf1d21683bb6e](https://github.com/sagemath/sagetrac-mirror/commit/5899abf3277eb1d1493cd09d456cf1d21683bb6e)\".",
    "created_at": "2022-08-25T04:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685034",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[9c2a107aae4401ff71c772e9b7dadf9e510f39e2](https://github.com/sagemath/sagetrac-mirror/commit/9c2a107aae4401ff71c772e9b7dadf9e510f39e2)" to "[5899abf3277eb1d1493cd09d456cf1d21683bb6e](https://github.com/sagemath/sagetrac-mirror/commit/5899abf3277eb1d1493cd09d456cf1d21683bb6e)".



---

archive/issue_comments_685035.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24098b5ac9461b00326219282a9db32cbd02d622\">24098b5</a></td><td><code>Fix expand</code></td></tr></table>\n",
    "created_at": "2022-08-25T19:07:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685035",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24098b5ac9461b00326219282a9db32cbd02d622">24098b5</a></td><td><code>Fix expand</code></td></tr></table>




---

archive/issue_comments_685036.json:
```json
{
    "body": "**Changing commit** from \"[5899abf3277eb1d1493cd09d456cf1d21683bb6e](https://github.com/sagemath/sagetrac-mirror/commit/5899abf3277eb1d1493cd09d456cf1d21683bb6e)\" to \"[24098b5ac9461b00326219282a9db32cbd02d622](https://github.com/sagemath/sagetrac-mirror/commit/24098b5ac9461b00326219282a9db32cbd02d622)\".",
    "created_at": "2022-08-25T19:07:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685036",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[5899abf3277eb1d1493cd09d456cf1d21683bb6e](https://github.com/sagemath/sagetrac-mirror/commit/5899abf3277eb1d1493cd09d456cf1d21683bb6e)" to "[24098b5ac9461b00326219282a9db32cbd02d622](https://github.com/sagemath/sagetrac-mirror/commit/24098b5ac9461b00326219282a9db32cbd02d622)".



---

archive/issue_comments_685037.json:
```json
{
    "body": "**Dependencies:** #34435",
    "created_at": "2022-08-25T23:33:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685037",
    "user": "https://github.com/trevorkarn"
}
```


**Dependencies:** #34435



---

archive/issue_comments_685038.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f439a634e0f1a60b13094c18209d6c8e1b2e464\">2f439a6</a></td><td><code>Add tests and remove Stanley s.f.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5f7f90e893d8656912e5146de0a67bd3f036db9\">b5f7f90</a></td><td><code>Add methods to interact with polyominos/compositions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e5e4d9344b53c143b73688239c5ac1587fdf128\">7e5e4d9</a></td><td><code>Change to list</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9e9c2bbf53e47ac263c47e0be74babc059f13d4\">e9e9c2b</a></td><td><code>Add type-A algorithm</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22be18ca4b076c5c9d4edde7fed489ef1ada7b50\">22be18c</a></td><td><code>Rewrite to pass to Permutations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd33943c69eaa6afbe48c9b2cf63db74cf8e16dd\">cd33943</a></td><td><code>Initial commit of KeyPolynomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7835f13b3e0f61da2748edf60ee50d75e5e9f071\">7835f13</a></td><td><code>Fix divided difference</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b683f1b27ae4a0ba187c396a043cec85f1d15b9\">9b683f1</a></td><td><code>Fix expand</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0bbdbd46780812fafc697f2be0c88fbc0ea8c30\">e0bbdbd</a></td><td><code>Add some examples</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3266d1e9a005794d41125eb3e1bb2f618b2b82bf\">3266d1e</a></td><td><code>Add many examples and fix _sorting_permutation logic bug</code></td></tr></table>\n",
    "created_at": "2022-08-29T20:55:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685038",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f439a634e0f1a60b13094c18209d6c8e1b2e464">2f439a6</a></td><td><code>Add tests and remove Stanley s.f.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5f7f90e893d8656912e5146de0a67bd3f036db9">b5f7f90</a></td><td><code>Add methods to interact with polyominos/compositions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e5e4d9344b53c143b73688239c5ac1587fdf128">7e5e4d9</a></td><td><code>Change to list</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9e9c2bbf53e47ac263c47e0be74babc059f13d4">e9e9c2b</a></td><td><code>Add type-A algorithm</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22be18ca4b076c5c9d4edde7fed489ef1ada7b50">22be18c</a></td><td><code>Rewrite to pass to Permutations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd33943c69eaa6afbe48c9b2cf63db74cf8e16dd">cd33943</a></td><td><code>Initial commit of KeyPolynomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7835f13b3e0f61da2748edf60ee50d75e5e9f071">7835f13</a></td><td><code>Fix divided difference</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b683f1b27ae4a0ba187c396a043cec85f1d15b9">9b683f1</a></td><td><code>Fix expand</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0bbdbd46780812fafc697f2be0c88fbc0ea8c30">e0bbdbd</a></td><td><code>Add some examples</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3266d1e9a005794d41125eb3e1bb2f618b2b82bf">3266d1e</a></td><td><code>Add many examples and fix _sorting_permutation logic bug</code></td></tr></table>




---

archive/issue_comments_685039.json:
```json
{
    "body": "**Changing commit** from \"[24098b5ac9461b00326219282a9db32cbd02d622](https://github.com/sagemath/sagetrac-mirror/commit/24098b5ac9461b00326219282a9db32cbd02d622)\" to \"[3266d1e9a005794d41125eb3e1bb2f618b2b82bf](https://github.com/sagemath/sagetrac-mirror/commit/3266d1e9a005794d41125eb3e1bb2f618b2b82bf)\".",
    "created_at": "2022-08-29T20:55:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685039",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[24098b5ac9461b00326219282a9db32cbd02d622](https://github.com/sagemath/sagetrac-mirror/commit/24098b5ac9461b00326219282a9db32cbd02d622)" to "[3266d1e9a005794d41125eb3e1bb2f618b2b82bf](https://github.com/sagemath/sagetrac-mirror/commit/3266d1e9a005794d41125eb3e1bb2f618b2b82bf)".



---

archive/issue_comments_685040.json:
```json
{
    "body": "**Changing commit** from \"[3266d1e9a005794d41125eb3e1bb2f618b2b82bf](https://github.com/sagemath/sagetrac-mirror/commit/3266d1e9a005794d41125eb3e1bb2f618b2b82bf)\" to \"[fe87df55d2eeafc8e394c7d58785d773e05ddac2](https://github.com/sagemath/sagetrac-mirror/commit/fe87df55d2eeafc8e394c7d58785d773e05ddac2)\".",
    "created_at": "2022-08-30T03:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685040",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[3266d1e9a005794d41125eb3e1bb2f618b2b82bf](https://github.com/sagemath/sagetrac-mirror/commit/3266d1e9a005794d41125eb3e1bb2f618b2b82bf)" to "[fe87df55d2eeafc8e394c7d58785d773e05ddac2](https://github.com/sagemath/sagetrac-mirror/commit/fe87df55d2eeafc8e394c7d58785d773e05ddac2)".



---

archive/issue_comments_685041.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe87df55d2eeafc8e394c7d58785d773e05ddac2\">fe87df5</a></td><td><code>All tests pass and PEP8 compliance</code></td></tr></table>\n",
    "created_at": "2022-08-30T03:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685041",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe87df55d2eeafc8e394c7d58785d773e05ddac2">fe87df5</a></td><td><code>All tests pass and PEP8 compliance</code></td></tr></table>




---

archive/issue_comments_685042.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2022-08-30T03:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685042",
    "user": "https://github.com/trevorkarn"
}
```


**Changing status** from new to needs_review.



---

archive/issue_comments_685043.json:
```json
{
    "body": "<a id='comment:8'></a>\nThere are probably things to do to extend this in the future, but here is a working implementation for the basic computations.",
    "created_at": "2022-08-30T03:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685043",
    "user": "https://github.com/trevorkarn"
}
```


<a id='comment:8'></a>
There are probably things to do to extend this in the future, but here is a working implementation for the basic computations.



---

archive/issue_comments_685044.json:
```json
{
    "body": "<a id='comment:9'></a>\nSome quick comments:\n\n- I might call it `KeyPolynomialBasis` or something like this to indicate that it is a choice of basis for the ring of polynomials in infinitely many variables.\n- No need to declare the metaclass. It comes from `UniqueRepresentation`.\n- In the doc, you should specify that it is indexed by integer vectors with no trailing zeros. (Ideally I would want this for the actual basis elements, but this is not worth the trouble of actually programming it.)\n- You should not need to implement `one()`. That should come from the category.\n- `expand()` should take a number of variables (optional) argument.\n- The divided difference operators are acting on polynomials and only involve polynomials. They should not be methods of the class.\n- A good check would be to show the divided difference operators on the polynomials simply swaps two indices in the weak composition (when in order) of the key polynomial basis index. (Hopefully that makes sense, I don't think I explained it too well.)\n- It would be better to implement `product` instead of `product_on_basis` as doing `(K[A] + K[B]) * (K[C] + K[D])` would go back and forth on each of the 4 products rather than just once on the pair.\n- You seem to be doing a lot of work in `expand()`. I would just do the appropriate divided difference operator as you start sorting. At the end of the day, you're having to do the classical bubble sort algorithm and not gaining anything by first using a smarter sorting algorithm.\n- It might be good to have coercions from the (infinte) polynomial rings over the same base ring implemented using `_coerce_map_from_`. Although I am not yet 100% sold on this because it neglects the name of the polynomials and it might mean dealing with subtleties when the base ring is a polynomial ring.",
    "created_at": "2022-08-30T06:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685044",
    "user": "https://github.com/tscrim"
}
```


<a id='comment:9'></a>
Some quick comments:

- I might call it `KeyPolynomialBasis` or something like this to indicate that it is a choice of basis for the ring of polynomials in infinitely many variables.
- No need to declare the metaclass. It comes from `UniqueRepresentation`.
- In the doc, you should specify that it is indexed by integer vectors with no trailing zeros. (Ideally I would want this for the actual basis elements, but this is not worth the trouble of actually programming it.)
- You should not need to implement `one()`. That should come from the category.
- `expand()` should take a number of variables (optional) argument.
- The divided difference operators are acting on polynomials and only involve polynomials. They should not be methods of the class.
- A good check would be to show the divided difference operators on the polynomials simply swaps two indices in the weak composition (when in order) of the key polynomial basis index. (Hopefully that makes sense, I don't think I explained it too well.)
- It would be better to implement `product` instead of `product_on_basis` as doing `(K[A] + K[B]) * (K[C] + K[D])` would go back and forth on each of the 4 products rather than just once on the pair.
- You seem to be doing a lot of work in `expand()`. I would just do the appropriate divided difference operator as you start sorting. At the end of the day, you're having to do the classical bubble sort algorithm and not gaining anything by first using a smarter sorting algorithm.
- It might be good to have coercions from the (infinte) polynomial rings over the same base ring implemented using `_coerce_map_from_`. Although I am not yet 100% sold on this because it neglects the name of the polynomials and it might mean dealing with subtleties when the base ring is a polynomial ring.



---

archive/issue_comments_685045.json:
```json
{
    "body": "<a id='comment:10'></a>\nThanks for the comments!\n\nReplying to [tscrim](#comment%3A9):\n> - `expand()` should take a number of variables (optional) argument.\n\n\nThis one I think I disagree with. The expansion is always going to be into the infinite variable polynomial ring, and the variable with largest index occuring in the expansion is implied by the composition. The only reason I see to have a number of variables argument is to have a fewer number of variables. Is that a thing that one would ever want to do mathematically? I know there is sometimes a reason to do that for expanding Schur polynomials as GLn characters, which is in my head as an analogous thing.",
    "created_at": "2022-08-30T17:18:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685045",
    "user": "https://github.com/trevorkarn"
}
```


<a id='comment:10'></a>
Thanks for the comments!

Replying to [tscrim](#comment%3A9):
> - `expand()` should take a number of variables (optional) argument.


This one I think I disagree with. The expansion is always going to be into the infinite variable polynomial ring, and the variable with largest index occuring in the expansion is implied by the composition. The only reason I see to have a number of variables argument is to have a fewer number of variables. Is that a thing that one would ever want to do mathematically? I know there is sometimes a reason to do that for expanding Schur polynomials as GLn characters, which is in my head as an analogous thing.



---

archive/issue_comments_685046.json:
```json
{
    "body": "**Changing commit** from \"[fe87df55d2eeafc8e394c7d58785d773e05ddac2](https://github.com/sagemath/sagetrac-mirror/commit/fe87df55d2eeafc8e394c7d58785d773e05ddac2)\" to \"[8244c5958b773d199bd672b16c3530b8051ca2cb](https://github.com/sagemath/sagetrac-mirror/commit/8244c5958b773d199bd672b16c3530b8051ca2cb)\".",
    "created_at": "2022-08-30T17:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685046",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[fe87df55d2eeafc8e394c7d58785d773e05ddac2](https://github.com/sagemath/sagetrac-mirror/commit/fe87df55d2eeafc8e394c7d58785d773e05ddac2)" to "[8244c5958b773d199bd672b16c3530b8051ca2cb](https://github.com/sagemath/sagetrac-mirror/commit/8244c5958b773d199bd672b16c3530b8051ca2cb)".



---

archive/issue_comments_685047.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de2931a0578f7ff5dced4f1e65b5d15d60a8ca20\">de2931a</a></td><td><code>Change to list</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4928f81e54a5dd614049da3d1d61ef2c04a8ee3b\">4928f81</a></td><td><code>Add type-A algorithm</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8cbbba6a3bc25f0793e28cb0c74051d7d420b18c\">8cbbba6</a></td><td><code>Rewrite to pass to Permutations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84e97197aacc52d498f7069993e7eb67d2128253\">84e9719</a></td><td><code>Initial commit of KeyPolynomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5909497239ef794d2fa2759099b0dfca93be8dee\">5909497</a></td><td><code>Fix divided difference</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29250d5f51cebfde653fb97bd5ec4e55319b790f\">29250d5</a></td><td><code>Fix expand</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67afb32bdf149b66187ba74e31ba4d64b486cc2e\">67afb32</a></td><td><code>Add some examples</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2755072ee57efc0b601a03fd039633308e5309c0\">2755072</a></td><td><code>Add many examples and fix _sorting_permutation logic bug</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1096fc35f0313e3cdc249ea2bc251ce7eb184be\">f1096fc</a></td><td><code>All tests pass and PEP8 compliance</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8244c5958b773d199bd672b16c3530b8051ca2cb\">8244c59</a></td><td><code>Incorporate comments from reviewer</code></td></tr></table>\n",
    "created_at": "2022-08-30T17:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685047",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de2931a0578f7ff5dced4f1e65b5d15d60a8ca20">de2931a</a></td><td><code>Change to list</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4928f81e54a5dd614049da3d1d61ef2c04a8ee3b">4928f81</a></td><td><code>Add type-A algorithm</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8cbbba6a3bc25f0793e28cb0c74051d7d420b18c">8cbbba6</a></td><td><code>Rewrite to pass to Permutations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84e97197aacc52d498f7069993e7eb67d2128253">84e9719</a></td><td><code>Initial commit of KeyPolynomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5909497239ef794d2fa2759099b0dfca93be8dee">5909497</a></td><td><code>Fix divided difference</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29250d5f51cebfde653fb97bd5ec4e55319b790f">29250d5</a></td><td><code>Fix expand</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67afb32bdf149b66187ba74e31ba4d64b486cc2e">67afb32</a></td><td><code>Add some examples</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2755072ee57efc0b601a03fd039633308e5309c0">2755072</a></td><td><code>Add many examples and fix _sorting_permutation logic bug</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1096fc35f0313e3cdc249ea2bc251ce7eb184be">f1096fc</a></td><td><code>All tests pass and PEP8 compliance</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8244c5958b773d199bd672b16c3530b8051ca2cb">8244c59</a></td><td><code>Incorporate comments from reviewer</code></td></tr></table>




---

archive/issue_comments_685048.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2022-08-30T18:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685048",
    "user": "https://github.com/trevorkarn"
}
```


**Changing status** from needs_review to needs_work.



---

archive/issue_comments_685049.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f97afef151628c3247f72d4c74b6a86b66a3a45a\">f97afef</a></td><td><code>Remove unneeded dependencies</code></td></tr></table>\n",
    "created_at": "2022-08-30T21:26:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685049",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f97afef151628c3247f72d4c74b6a86b66a3a45a">f97afef</a></td><td><code>Remove unneeded dependencies</code></td></tr></table>




---

archive/issue_comments_685050.json:
```json
{
    "body": "**Changing commit** from \"[8244c5958b773d199bd672b16c3530b8051ca2cb](https://github.com/sagemath/sagetrac-mirror/commit/8244c5958b773d199bd672b16c3530b8051ca2cb)\" to \"[f97afef151628c3247f72d4c74b6a86b66a3a45a](https://github.com/sagemath/sagetrac-mirror/commit/f97afef151628c3247f72d4c74b6a86b66a3a45a)\".",
    "created_at": "2022-08-30T21:26:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685050",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[8244c5958b773d199bd672b16c3530b8051ca2cb](https://github.com/sagemath/sagetrac-mirror/commit/8244c5958b773d199bd672b16c3530b8051ca2cb)" to "[f97afef151628c3247f72d4c74b6a86b66a3a45a](https://github.com/sagemath/sagetrac-mirror/commit/f97afef151628c3247f72d4c74b6a86b66a3a45a)".



---

archive/issue_comments_685051.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [tkarn](#comment%3A10):\n> Replying to [tscrim](#comment%3A9):\n> > - `expand()` should take a number of variables (optional) argument.\n \n> \n> This one I think I disagree with. The expansion is always going to be into the infinite variable polynomial ring, and the variable with largest index occuring in the expansion is implied by the composition.\n\n\nI might want to do the expansion in a finite polynomial ring of my choosing. You will probably have to do something slightly special when the number of variables is less than the natural minimal number.\n\n> The only reason I see to have a number of variables argument is to have a fewer number of variables. Is that a thing that one would ever want to do mathematically? I know there is sometimes a reason to do that for expanding Schur polynomials as GLn characters, which is in my head as an analogous thing.\n\n\nOn the contrary, you might want it to be living in a larger polynomial ring. You are equating the weak compositions up to trailing zeros, but what if I want to look at all key polynomials in, say, a 4 variable polynomial ring only? This can matter for coercion and substitution purposes.\n\nActually, that makes me think we probably should also implement a true finite number of variables version. Mathematically, you are secretly implementing the projective limit coming from a tower of polynomial rings under the natural projections (which when precomposed with the natural inclusions give the identity map on each component). The key basis with `n` variables is naturally a subset of the key basis of `n + k` variables. The integer vectors are already available:\n\n```\nsage: IV3 = IntegerVectors(k=3)\nsage: IV3\nInteger vectors of length 3\n```\nThis might also give some speedups for some of the computations.\n\nLastly, instead of modifying `_element_constructor_`, you are probably better off implementing a new `_monomial` function to strip trailing 0s in the infinite variable case. The infinite polynomial ring would then be handled by the coercion mentioned above. This would make other construction methods more uniform.",
    "created_at": "2022-08-31T00:45:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685051",
    "user": "https://github.com/tscrim"
}
```


<a id='comment:14'></a>
Replying to [tkarn](#comment%3A10):
> Replying to [tscrim](#comment%3A9):
> > - `expand()` should take a number of variables (optional) argument.
 
> 
> This one I think I disagree with. The expansion is always going to be into the infinite variable polynomial ring, and the variable with largest index occuring in the expansion is implied by the composition.


I might want to do the expansion in a finite polynomial ring of my choosing. You will probably have to do something slightly special when the number of variables is less than the natural minimal number.

> The only reason I see to have a number of variables argument is to have a fewer number of variables. Is that a thing that one would ever want to do mathematically? I know there is sometimes a reason to do that for expanding Schur polynomials as GLn characters, which is in my head as an analogous thing.


On the contrary, you might want it to be living in a larger polynomial ring. You are equating the weak compositions up to trailing zeros, but what if I want to look at all key polynomials in, say, a 4 variable polynomial ring only? This can matter for coercion and substitution purposes.

Actually, that makes me think we probably should also implement a true finite number of variables version. Mathematically, you are secretly implementing the projective limit coming from a tower of polynomial rings under the natural projections (which when precomposed with the natural inclusions give the identity map on each component). The key basis with `n` variables is naturally a subset of the key basis of `n + k` variables. The integer vectors are already available:

```
sage: IV3 = IntegerVectors(k=3)
sage: IV3
Integer vectors of length 3
```
This might also give some speedups for some of the computations.

Lastly, instead of modifying `_element_constructor_`, you are probably better off implementing a new `_monomial` function to strip trailing 0s in the infinite variable case. The infinite polynomial ring would then be handled by the coercion mentioned above. This would make other construction methods more uniform.



---

archive/issue_comments_685052.json:
```json
{
    "body": "**Changing commit** from \"[f97afef151628c3247f72d4c74b6a86b66a3a45a](https://github.com/sagemath/sagetrac-mirror/commit/f97afef151628c3247f72d4c74b6a86b66a3a45a)\" to \"[a5848c922a6df0c5a8a209991f914ae5882ca7d5](https://github.com/sagemath/sagetrac-mirror/commit/a5848c922a6df0c5a8a209991f914ae5882ca7d5)\".",
    "created_at": "2022-09-06T21:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[f97afef151628c3247f72d4c74b6a86b66a3a45a](https://github.com/sagemath/sagetrac-mirror/commit/f97afef151628c3247f72d4c74b6a86b66a3a45a)" to "[a5848c922a6df0c5a8a209991f914ae5882ca7d5](https://github.com/sagemath/sagetrac-mirror/commit/a5848c922a6df0c5a8a209991f914ae5882ca7d5)".



---

archive/issue_comments_685053.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01d065f8c778db2f68965dcedc04b28c1339be05\">01d065f</a></td><td><code>Add trim to integer vector</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a71be31d3791d17e4861ea6cdc334d919db98e0f\">a71be31</a></td><td><code>Fix parent</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/915c87ff43f0834c024fd41364a32a3fb41307ed\">915c87f</a></td><td><code>Remove unneeded dependencies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df9175e277483a8c94ac779d9d3afe752f671117\">df9175e</a></td><td><code>Add test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5848c922a6df0c5a8a209991f914ae5882ca7d5\">a5848c9</a></td><td><code>Use bubble sort/refactor _pi</code></td></tr></table>\n",
    "created_at": "2022-09-06T21:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685053",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01d065f8c778db2f68965dcedc04b28c1339be05">01d065f</a></td><td><code>Add trim to integer vector</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a71be31d3791d17e4861ea6cdc334d919db98e0f">a71be31</a></td><td><code>Fix parent</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/915c87ff43f0834c024fd41364a32a3fb41307ed">915c87f</a></td><td><code>Remove unneeded dependencies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df9175e277483a8c94ac779d9d3afe752f671117">df9175e</a></td><td><code>Add test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5848c922a6df0c5a8a209991f914ae5882ca7d5">a5848c9</a></td><td><code>Use bubble sort/refactor _pi</code></td></tr></table>




---

archive/issue_comments_685054.json:
```json
{
    "body": "**Changing commit** from \"[a5848c922a6df0c5a8a209991f914ae5882ca7d5](https://github.com/sagemath/sagetrac-mirror/commit/a5848c922a6df0c5a8a209991f914ae5882ca7d5)\" to \"[2efd916c8544a26b217dde22a44a25e98cf54fd6](https://github.com/sagemath/sagetrac-mirror/commit/2efd916c8544a26b217dde22a44a25e98cf54fd6)\".",
    "created_at": "2022-09-07T00:41:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685054",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[a5848c922a6df0c5a8a209991f914ae5882ca7d5](https://github.com/sagemath/sagetrac-mirror/commit/a5848c922a6df0c5a8a209991f914ae5882ca7d5)" to "[2efd916c8544a26b217dde22a44a25e98cf54fd6](https://github.com/sagemath/sagetrac-mirror/commit/2efd916c8544a26b217dde22a44a25e98cf54fd6)".



---

archive/issue_comments_685055.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2efd916c8544a26b217dde22a44a25e98cf54fd6\">2efd916</a></td><td><code>Add Permutation input to KeyPolynomial.pi</code></td></tr></table>\n",
    "created_at": "2022-09-07T00:41:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685055",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2efd916c8544a26b217dde22a44a25e98cf54fd6">2efd916</a></td><td><code>Add Permutation input to KeyPolynomial.pi</code></td></tr></table>




---

archive/issue_comments_685056.json:
```json
{
    "body": "**Changing commit** from \"[2efd916c8544a26b217dde22a44a25e98cf54fd6](https://github.com/sagemath/sagetrac-mirror/commit/2efd916c8544a26b217dde22a44a25e98cf54fd6)\" to \"[90cf1756ee549178715c8b0bf22cfb1c9da0ee03](https://github.com/sagemath/sagetrac-mirror/commit/90cf1756ee549178715c8b0bf22cfb1c9da0ee03)\".",
    "created_at": "2022-09-08T21:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685056",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[2efd916c8544a26b217dde22a44a25e98cf54fd6](https://github.com/sagemath/sagetrac-mirror/commit/2efd916c8544a26b217dde22a44a25e98cf54fd6)" to "[90cf1756ee549178715c8b0bf22cfb1c9da0ee03](https://github.com/sagemath/sagetrac-mirror/commit/90cf1756ee549178715c8b0bf22cfb1c9da0ee03)".



---

archive/issue_comments_685057.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30dee5755c4d4b39276e1484021c169765e4cb10\">30dee57</a></td><td><code>rename key polynomial basis and make constructor</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/478c7a6b0e449e5e244f411e2a241c03f6d2cb64\">478c7a6</a></td><td><code>First draft of finite polynomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90cf1756ee549178715c8b0bf22cfb1c9da0ee03\">90cf175</a></td><td><code>Replace the strong referernce to _IntegerVectors to deal with specified lengths.</code></td></tr></table>\n",
    "created_at": "2022-09-08T21:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685057",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30dee5755c4d4b39276e1484021c169765e4cb10">30dee57</a></td><td><code>rename key polynomial basis and make constructor</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/478c7a6b0e449e5e244f411e2a241c03f6d2cb64">478c7a6</a></td><td><code>First draft of finite polynomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90cf1756ee549178715c8b0bf22cfb1c9da0ee03">90cf175</a></td><td><code>Replace the strong referernce to _IntegerVectors to deal with specified lengths.</code></td></tr></table>




---

archive/issue_comments_685058.json:
```json
{
    "body": "**Changing dependencies** from \"#34435\" to \"#34435 #34510\".",
    "created_at": "2022-09-08T22:45:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685058",
    "user": "https://github.com/trevorkarn"
}
```


**Changing dependencies** from "#34435" to "#34435 #34510".



---

archive/issue_comments_685059.json:
```json
{
    "body": "**Changing commit** from \"[90cf1756ee549178715c8b0bf22cfb1c9da0ee03](https://github.com/sagemath/sagetrac-mirror/commit/90cf1756ee549178715c8b0bf22cfb1c9da0ee03)\" to \"[9bf319e5400b03ac8cdf61f505edb97bee7323f1](https://github.com/sagemath/sagetrac-mirror/commit/9bf319e5400b03ac8cdf61f505edb97bee7323f1)\".",
    "created_at": "2022-09-09T03:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685059",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[90cf1756ee549178715c8b0bf22cfb1c9da0ee03](https://github.com/sagemath/sagetrac-mirror/commit/90cf1756ee549178715c8b0bf22cfb1c9da0ee03)" to "[9bf319e5400b03ac8cdf61f505edb97bee7323f1](https://github.com/sagemath/sagetrac-mirror/commit/9bf319e5400b03ac8cdf61f505edb97bee7323f1)".



---

archive/issue_comments_685060.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fbdea438b061f08fdedb7014b77b0cb57a38485\">8fbdea4</a></td><td><code>Remove unneeded dependencies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76393406753a38369fce4eddd6ccb63df4794255\">7639340</a></td><td><code>Add test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/096b376319a1468412511e20906d4871ed765254\">096b376</a></td><td><code>Use bubble sort/refactor _pi</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be63227bfb727dfa63fb1a87c5d6427356bd1978\">be63227</a></td><td><code>Add Permutation input to KeyPolynomial.pi</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da96311f7572fa0ae88e68e1b83e81d0d642233c\">da96311</a></td><td><code>rename key polynomial basis and make constructor</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c134f440ddcb9e35fe70dd840d28559e136aae06\">c134f44</a></td><td><code>First draft of finite polynomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12ba65d8ce43f30cd1af4eccf6cc6fcf07780552\">12ba65d</a></td><td><code>Replace the strong referernce to _IntegerVectors to deal with specified lengths.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c51b41641c5ee6673ca51f53ff95b07dc2c83c1d\">c51b416</a></td><td><code>Add trim only when in infinite case</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f553e79f82690e605b1c2670c972f6ae9b65750\">6f553e7</a></td><td><code>Fix error in self._basis_keys</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9bf319e5400b03ac8cdf61f505edb97bee7323f1\">9bf319e</a></td><td><code>All tests pass</code></td></tr></table>\n",
    "created_at": "2022-09-09T03:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685060",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fbdea438b061f08fdedb7014b77b0cb57a38485">8fbdea4</a></td><td><code>Remove unneeded dependencies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76393406753a38369fce4eddd6ccb63df4794255">7639340</a></td><td><code>Add test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/096b376319a1468412511e20906d4871ed765254">096b376</a></td><td><code>Use bubble sort/refactor _pi</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be63227bfb727dfa63fb1a87c5d6427356bd1978">be63227</a></td><td><code>Add Permutation input to KeyPolynomial.pi</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da96311f7572fa0ae88e68e1b83e81d0d642233c">da96311</a></td><td><code>rename key polynomial basis and make constructor</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c134f440ddcb9e35fe70dd840d28559e136aae06">c134f44</a></td><td><code>First draft of finite polynomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12ba65d8ce43f30cd1af4eccf6cc6fcf07780552">12ba65d</a></td><td><code>Replace the strong referernce to _IntegerVectors to deal with specified lengths.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c51b41641c5ee6673ca51f53ff95b07dc2c83c1d">c51b416</a></td><td><code>Add trim only when in infinite case</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f553e79f82690e605b1c2670c972f6ae9b65750">6f553e7</a></td><td><code>Fix error in self._basis_keys</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9bf319e5400b03ac8cdf61f505edb97bee7323f1">9bf319e</a></td><td><code>All tests pass</code></td></tr></table>




---

archive/issue_comments_685061.json:
```json
{
    "body": "**Changing commit** from \"[9bf319e5400b03ac8cdf61f505edb97bee7323f1](https://github.com/sagemath/sagetrac-mirror/commit/9bf319e5400b03ac8cdf61f505edb97bee7323f1)\" to \"[ffc53d32324c684a0d010002c8a37d5c703f6395](https://github.com/sagemath/sagetrac-mirror/commit/ffc53d32324c684a0d010002c8a37d5c703f6395)\".",
    "created_at": "2022-09-10T21:02:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685061",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[9bf319e5400b03ac8cdf61f505edb97bee7323f1](https://github.com/sagemath/sagetrac-mirror/commit/9bf319e5400b03ac8cdf61f505edb97bee7323f1)" to "[ffc53d32324c684a0d010002c8a37d5c703f6395](https://github.com/sagemath/sagetrac-mirror/commit/ffc53d32324c684a0d010002c8a37d5c703f6395)".



---

archive/issue_comments_685062.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffc53d32324c684a0d010002c8a37d5c703f6395\">ffc53d3</a></td><td><code>Combine finite and infinte classes</code></td></tr></table>\n",
    "created_at": "2022-09-10T21:02:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685062",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffc53d32324c684a0d010002c8a37d5c703f6395">ffc53d3</a></td><td><code>Combine finite and infinte classes</code></td></tr></table>




---

archive/issue_comments_685063.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5722e2064fe51151e13b8083ddd88a9a01ecc5d0\">5722e20</a></td><td><code>Fix vector length bug</code></td></tr></table>\n",
    "created_at": "2022-09-10T22:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685063",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5722e2064fe51151e13b8083ddd88a9a01ecc5d0">5722e20</a></td><td><code>Fix vector length bug</code></td></tr></table>




---

archive/issue_comments_685064.json:
```json
{
    "body": "**Changing commit** from \"[ffc53d32324c684a0d010002c8a37d5c703f6395](https://github.com/sagemath/sagetrac-mirror/commit/ffc53d32324c684a0d010002c8a37d5c703f6395)\" to \"[5722e2064fe51151e13b8083ddd88a9a01ecc5d0](https://github.com/sagemath/sagetrac-mirror/commit/5722e2064fe51151e13b8083ddd88a9a01ecc5d0)\".",
    "created_at": "2022-09-10T22:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685064",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[ffc53d32324c684a0d010002c8a37d5c703f6395](https://github.com/sagemath/sagetrac-mirror/commit/ffc53d32324c684a0d010002c8a37d5c703f6395)" to "[5722e2064fe51151e13b8083ddd88a9a01ecc5d0](https://github.com/sagemath/sagetrac-mirror/commit/5722e2064fe51151e13b8083ddd88a9a01ecc5d0)".



---

archive/issue_comments_685065.json:
```json
{
    "body": "**Changing commit** from \"[5722e2064fe51151e13b8083ddd88a9a01ecc5d0](https://github.com/sagemath/sagetrac-mirror/commit/5722e2064fe51151e13b8083ddd88a9a01ecc5d0)\" to \"[f076ae3f598c105a6cd0dfac02838a8bfbf12187](https://github.com/sagemath/sagetrac-mirror/commit/f076ae3f598c105a6cd0dfac02838a8bfbf12187)\".",
    "created_at": "2022-09-11T15:15:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685065",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[5722e2064fe51151e13b8083ddd88a9a01ecc5d0](https://github.com/sagemath/sagetrac-mirror/commit/5722e2064fe51151e13b8083ddd88a9a01ecc5d0)" to "[f076ae3f598c105a6cd0dfac02838a8bfbf12187](https://github.com/sagemath/sagetrac-mirror/commit/f076ae3f598c105a6cd0dfac02838a8bfbf12187)".



---

archive/issue_comments_685066.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f076ae3f598c105a6cd0dfac02838a8bfbf12187\">f076ae3</a></td><td><code>Add tests</code></td></tr></table>\n",
    "created_at": "2022-09-11T15:15:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685066",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f076ae3f598c105a6cd0dfac02838a8bfbf12187">f076ae3</a></td><td><code>Add tests</code></td></tr></table>




---

archive/issue_comments_685067.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2022-09-11T15:18:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685067",
    "user": "https://github.com/trevorkarn"
}
```


**Changing status** from needs_work to needs_review.



---

archive/issue_comments_685068.json:
```json
{
    "body": "<a id='comment:23'></a>\nIt now accepts a specified polynomial ring or a specified number of variables.",
    "created_at": "2022-09-11T15:18:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685068",
    "user": "https://github.com/trevorkarn"
}
```


<a id='comment:23'></a>
It now accepts a specified polynomial ring or a specified number of variables.



---

archive/issue_comments_685069.json:
```json
{
    "body": "<a id='comment:24'></a>\nYou should have a separate function/method that parses the input for `pi` and `divided_difference` so that they handle their inputs in the same way.\n\nThe `_divided_difference()` should not work monomial by monomial, but instead just do the division on the polynomial. I am pretty sure this will be faster for larger polynomials. If this was a deliberate choice, then please provide some timings.\n\nThe string representation of the `Parent` is better saying \u201cKey polynomial basis of {BR}\u201d.\n\nThe docstring of the `Parent` should start with a one line description, and possibly a longer more mathematical description. Afterwards, the lines after `EXAMPLES:` is over-indented.\n\nYou don\u2019t need to hold onto `_basis_keys`. This is already done by `_indices` (or if you want a little less encapsulation breaking, `self.basis().keys()`).",
    "created_at": "2022-09-11T23:24:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685069",
    "user": "https://github.com/tscrim"
}
```


<a id='comment:24'></a>
You should have a separate function/method that parses the input for `pi` and `divided_difference` so that they handle their inputs in the same way.

The `_divided_difference()` should not work monomial by monomial, but instead just do the division on the polynomial. I am pretty sure this will be faster for larger polynomials. If this was a deliberate choice, then please provide some timings.

The string representation of the `Parent` is better saying “Key polynomial basis of {BR}”.

The docstring of the `Parent` should start with a one line description, and possibly a longer more mathematical description. Afterwards, the lines after `EXAMPLES:` is over-indented.

You don’t need to hold onto `_basis_keys`. This is already done by `_indices` (or if you want a little less encapsulation breaking, `self.basis().keys()`).



---

archive/issue_comments_685070.json:
```json
{
    "body": "**Changing commit** from \"[f076ae3f598c105a6cd0dfac02838a8bfbf12187](https://github.com/sagemath/sagetrac-mirror/commit/f076ae3f598c105a6cd0dfac02838a8bfbf12187)\" to \"[0c65d4e908284493d34f66e0e45212e315c6fee6](https://github.com/sagemath/sagetrac-mirror/commit/0c65d4e908284493d34f66e0e45212e315c6fee6)\".",
    "created_at": "2022-09-13T16:28:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685070",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[f076ae3f598c105a6cd0dfac02838a8bfbf12187](https://github.com/sagemath/sagetrac-mirror/commit/f076ae3f598c105a6cd0dfac02838a8bfbf12187)" to "[0c65d4e908284493d34f66e0e45212e315c6fee6](https://github.com/sagemath/sagetrac-mirror/commit/0c65d4e908284493d34f66e0e45212e315c6fee6)".



---

archive/issue_comments_685071.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1eea8bf4904e843f578ef50f13c6bc72dd196196\">1eea8bf</a></td><td><code>Remove _hash_, __contains__, _repr_ overrides</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a7eea605985a05c86cba0c361059c5075373721\">1a7eea6</a></td><td><code>Fix peelable tableaux documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c55f72edca0be6834869f23566433384f2e830f6\">c55f72e</a></td><td><code>Redo loop to avoid looping over self._cells twice</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/252eafd4eb4c1b015b89c0cb145566fd96db68a9\">252eafd</a></td><td><code>Move zero/one inside check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd970677e8e21843e09dfaab7a10cfa303dcd01f\">fd97067</a></td><td><code>Fix pyflakes issue</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8873753647e22f9bc5b35a91ee67eb31e86d8718\">8873753</a></td><td><code>Fix pyflakes issue</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81a859f78b13bc0695bd89f98138d5f5bcbbc979\">81a859f</a></td><td><code>Add .from_* methods to __element_constructor__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a4a3742e56997bafa3ccd4e55492472aa595c23\">2a4a374</a></td><td><code>Add rothe_diagram, n_reduced_words, and Stanley symmetric function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80eda06811406607d628db549f1156d752c3e011\">80eda06</a></td><td><code>Add type-A algorithm</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c65d4e908284493d34f66e0e45212e315c6fee6\">0c65d4e</a></td><td><code>Rewrite to pass to Permutations</code></td></tr></table>\n",
    "created_at": "2022-09-13T16:28:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685071",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1eea8bf4904e843f578ef50f13c6bc72dd196196">1eea8bf</a></td><td><code>Remove _hash_, __contains__, _repr_ overrides</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a7eea605985a05c86cba0c361059c5075373721">1a7eea6</a></td><td><code>Fix peelable tableaux documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c55f72edca0be6834869f23566433384f2e830f6">c55f72e</a></td><td><code>Redo loop to avoid looping over self._cells twice</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/252eafd4eb4c1b015b89c0cb145566fd96db68a9">252eafd</a></td><td><code>Move zero/one inside check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd970677e8e21843e09dfaab7a10cfa303dcd01f">fd97067</a></td><td><code>Fix pyflakes issue</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8873753647e22f9bc5b35a91ee67eb31e86d8718">8873753</a></td><td><code>Fix pyflakes issue</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81a859f78b13bc0695bd89f98138d5f5bcbbc979">81a859f</a></td><td><code>Add .from_* methods to __element_constructor__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a4a3742e56997bafa3ccd4e55492472aa595c23">2a4a374</a></td><td><code>Add rothe_diagram, n_reduced_words, and Stanley symmetric function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80eda06811406607d628db549f1156d752c3e011">80eda06</a></td><td><code>Add type-A algorithm</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c65d4e908284493d34f66e0e45212e315c6fee6">0c65d4e</a></td><td><code>Rewrite to pass to Permutations</code></td></tr></table>




---

archive/issue_comments_685072.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94bc71971141a972552f86b01ea893fd8b76ca88\">94bc719</a></td><td><code>Add Permutation input to KeyPolynomial.pi</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/464d093e9824738ccacdda9b32fe04ec3b33caaa\">464d093</a></td><td><code>rename key polynomial basis and make constructor</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b58db961beb41b2e9652889824712f2c4f8ec6e\">5b58db9</a></td><td><code>First draft of finite polynomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34cdd8d8391a89492c6e5e22a530b8472413e86a\">34cdd8d</a></td><td><code>Replace the strong referernce to _IntegerVectors to deal with specified lengths.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/032a82dcd1ff185ce9d18851a7e2caa3f64e6845\">032a82d</a></td><td><code>Add trim only when in infinite case</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b668609249f16431d8ebbea386df0bff5fe874ee\">b668609</a></td><td><code>Fix error in self._basis_keys</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7f4403e22b773852c53328765c93c4570d92527\">d7f4403</a></td><td><code>All tests pass</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8de5963a3a9699e8a784e62f2ae557ceebf4dcf7\">8de5963</a></td><td><code>Combine finite and infinte classes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05a06e26da8dd6e57309040a3c58f840b159eda2\">05a06e2</a></td><td><code>Fix vector length bug</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d440bedb9ff3cf33ed1974ad1d6a3688c412bd5a\">d440bed</a></td><td><code>Add tests</code></td></tr></table>\n",
    "created_at": "2022-09-13T16:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685072",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94bc71971141a972552f86b01ea893fd8b76ca88">94bc719</a></td><td><code>Add Permutation input to KeyPolynomial.pi</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/464d093e9824738ccacdda9b32fe04ec3b33caaa">464d093</a></td><td><code>rename key polynomial basis and make constructor</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b58db961beb41b2e9652889824712f2c4f8ec6e">5b58db9</a></td><td><code>First draft of finite polynomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34cdd8d8391a89492c6e5e22a530b8472413e86a">34cdd8d</a></td><td><code>Replace the strong referernce to _IntegerVectors to deal with specified lengths.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/032a82dcd1ff185ce9d18851a7e2caa3f64e6845">032a82d</a></td><td><code>Add trim only when in infinite case</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b668609249f16431d8ebbea386df0bff5fe874ee">b668609</a></td><td><code>Fix error in self._basis_keys</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7f4403e22b773852c53328765c93c4570d92527">d7f4403</a></td><td><code>All tests pass</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8de5963a3a9699e8a784e62f2ae557ceebf4dcf7">8de5963</a></td><td><code>Combine finite and infinte classes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05a06e26da8dd6e57309040a3c58f840b159eda2">05a06e2</a></td><td><code>Fix vector length bug</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d440bedb9ff3cf33ed1974ad1d6a3688c412bd5a">d440bed</a></td><td><code>Add tests</code></td></tr></table>




---

archive/issue_comments_685073.json:
```json
{
    "body": "**Changing commit** from \"[0c65d4e908284493d34f66e0e45212e315c6fee6](https://github.com/sagemath/sagetrac-mirror/commit/0c65d4e908284493d34f66e0e45212e315c6fee6)\" to \"[d440bedb9ff3cf33ed1974ad1d6a3688c412bd5a](https://github.com/sagemath/sagetrac-mirror/commit/d440bedb9ff3cf33ed1974ad1d6a3688c412bd5a)\".",
    "created_at": "2022-09-13T16:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685073",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[0c65d4e908284493d34f66e0e45212e315c6fee6](https://github.com/sagemath/sagetrac-mirror/commit/0c65d4e908284493d34f66e0e45212e315c6fee6)" to "[d440bedb9ff3cf33ed1974ad1d6a3688c412bd5a](https://github.com/sagemath/sagetrac-mirror/commit/d440bedb9ff3cf33ed1974ad1d6a3688c412bd5a)".



---

archive/issue_comments_685074.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf38a861a3da4638663e410785f1b9eb010d8243\">cf38a86</a></td><td><code>self._basis_keys -> self._indices, simplify key polynomial basis repr, add a sentence for class level description</code></td></tr></table>\n",
    "created_at": "2022-09-13T18:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685074",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf38a861a3da4638663e410785f1b9eb010d8243">cf38a86</a></td><td><code>self._basis_keys -> self._indices, simplify key polynomial basis repr, add a sentence for class level description</code></td></tr></table>




---

archive/issue_comments_685075.json:
```json
{
    "body": "**Changing commit** from \"[d440bedb9ff3cf33ed1974ad1d6a3688c412bd5a](https://github.com/sagemath/sagetrac-mirror/commit/d440bedb9ff3cf33ed1974ad1d6a3688c412bd5a)\" to \"[cf38a861a3da4638663e410785f1b9eb010d8243](https://github.com/sagemath/sagetrac-mirror/commit/cf38a861a3da4638663e410785f1b9eb010d8243)\".",
    "created_at": "2022-09-13T18:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685075",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[d440bedb9ff3cf33ed1974ad1d6a3688c412bd5a](https://github.com/sagemath/sagetrac-mirror/commit/d440bedb9ff3cf33ed1974ad1d6a3688c412bd5a)" to "[cf38a861a3da4638663e410785f1b9eb010d8243](https://github.com/sagemath/sagetrac-mirror/commit/cf38a861a3da4638663e410785f1b9eb010d8243)".



---

archive/issue_comments_685076.json:
```json
{
    "body": "**Changing dependencies** from \"#34435 #34510\" to \"#34435 #34510 #34527\".",
    "created_at": "2022-09-13T18:51:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685076",
    "user": "https://github.com/trevorkarn"
}
```


**Changing dependencies** from "#34435 #34510" to "#34435 #34510 #34527".



---

archive/issue_comments_685077.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e01109ae78f947e010b08b081789267a2944f96\">7e01109</a></td><td><code>rename key polynomial basis and make constructor</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b43c5056e5a3d839b65c09a464500ea33b43297\">7b43c50</a></td><td><code>First draft of finite polynomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/136e32313022b297bf9fca47c311c542079d8548\">136e323</a></td><td><code>Replace the strong referernce to _IntegerVectors to deal with specified lengths.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f887953743a1b2a9479c9460b258ab60172c580\">9f88795</a></td><td><code>Add trim only when in infinite case</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5876a858ab931c80f3ed581de4d7bbecb5a91835\">5876a85</a></td><td><code>Fix error in self._basis_keys</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0cd0f0059c47c0bbba5dca1d7ad4d803d57dcb8\">a0cd0f0</a></td><td><code>All tests pass</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e20e2a027fc9a928e1e7853f856462a63c0a48d4\">e20e2a0</a></td><td><code>Combine finite and infinte classes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe0f7624d8ddae6ef16a494f212e1cdcc42c9a4d\">fe0f762</a></td><td><code>Fix vector length bug</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/124638ccb2ab0fafda5dcab1461e177a33cbb2cc\">124638c</a></td><td><code>Add tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af76efb4433159cd2e7b03ff2ce88d8c5d34ec41\">af76efb</a></td><td><code>self._basis_keys -> self._indices, simplify key polynomial basis repr, add a sentence for class level description</code></td></tr></table>\n",
    "created_at": "2022-09-13T18:57:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685077",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:29'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e01109ae78f947e010b08b081789267a2944f96">7e01109</a></td><td><code>rename key polynomial basis and make constructor</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b43c5056e5a3d839b65c09a464500ea33b43297">7b43c50</a></td><td><code>First draft of finite polynomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/136e32313022b297bf9fca47c311c542079d8548">136e323</a></td><td><code>Replace the strong referernce to _IntegerVectors to deal with specified lengths.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f887953743a1b2a9479c9460b258ab60172c580">9f88795</a></td><td><code>Add trim only when in infinite case</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5876a858ab931c80f3ed581de4d7bbecb5a91835">5876a85</a></td><td><code>Fix error in self._basis_keys</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0cd0f0059c47c0bbba5dca1d7ad4d803d57dcb8">a0cd0f0</a></td><td><code>All tests pass</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e20e2a027fc9a928e1e7853f856462a63c0a48d4">e20e2a0</a></td><td><code>Combine finite and infinte classes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe0f7624d8ddae6ef16a494f212e1cdcc42c9a4d">fe0f762</a></td><td><code>Fix vector length bug</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/124638ccb2ab0fafda5dcab1461e177a33cbb2cc">124638c</a></td><td><code>Add tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af76efb4433159cd2e7b03ff2ce88d8c5d34ec41">af76efb</a></td><td><code>self._basis_keys -> self._indices, simplify key polynomial basis repr, add a sentence for class level description</code></td></tr></table>




---

archive/issue_comments_685078.json:
```json
{
    "body": "**Changing commit** from \"[cf38a861a3da4638663e410785f1b9eb010d8243](https://github.com/sagemath/sagetrac-mirror/commit/cf38a861a3da4638663e410785f1b9eb010d8243)\" to \"[af76efb4433159cd2e7b03ff2ce88d8c5d34ec41](https://github.com/sagemath/sagetrac-mirror/commit/af76efb4433159cd2e7b03ff2ce88d8c5d34ec41)\".",
    "created_at": "2022-09-13T18:57:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685078",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[cf38a861a3da4638663e410785f1b9eb010d8243](https://github.com/sagemath/sagetrac-mirror/commit/cf38a861a3da4638663e410785f1b9eb010d8243)" to "[af76efb4433159cd2e7b03ff2ce88d8c5d34ec41](https://github.com/sagemath/sagetrac-mirror/commit/af76efb4433159cd2e7b03ff2ce88d8c5d34ec41)".



---

archive/issue_comments_685079.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [git](#comment%3A29):\n> Branch pushed to git repo; I updated commit sha1. This was a forced push. **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e01109ae78f947e010b08b081789267a2944f96\">7e01109</a></td><td><code>rename key polynomial basis and make constructor</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b43c5056e5a3d839b65c09a464500ea33b43297\">7b43c50</a></td><td><code>First draft of finite polynomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/136e32313022b297bf9fca47c311c542079d8548\">136e323</a></td><td><code>Replace the strong referernce to _IntegerVectors to deal with specified lengths.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f887953743a1b2a9479c9460b258ab60172c580\">9f88795</a></td><td><code>Add trim only when in infinite case</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5876a858ab931c80f3ed581de4d7bbecb5a91835\">5876a85</a></td><td><code>Fix error in self._basis_keys</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0cd0f0059c47c0bbba5dca1d7ad4d803d57dcb8\">a0cd0f0</a></td><td><code>All tests pass</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e20e2a027fc9a928e1e7853f856462a63c0a48d4\">e20e2a0</a></td><td><code>Combine finite and infinte classes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe0f7624d8ddae6ef16a494f212e1cdcc42c9a4d\">fe0f762</a></td><td><code>Fix vector length bug</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/124638ccb2ab0fafda5dcab1461e177a33cbb2cc\">124638c</a></td><td><code>Add tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af76efb4433159cd2e7b03ff2ce88d8c5d34ec41\">af76efb</a></td><td><code>self._basis_keys -> self._indices, simplify key polynomial basis repr, add a sentence for class level description</code></td></tr></table>\n\n\nRebasing off of #34527",
    "created_at": "2022-09-13T18:57:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685079",
    "user": "https://github.com/trevorkarn"
}
```


<a id='comment:30'></a>
Replying to [git](#comment%3A29):
> Branch pushed to git repo; I updated commit sha1. This was a forced push. **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e01109ae78f947e010b08b081789267a2944f96">7e01109</a></td><td><code>rename key polynomial basis and make constructor</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b43c5056e5a3d839b65c09a464500ea33b43297">7b43c50</a></td><td><code>First draft of finite polynomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/136e32313022b297bf9fca47c311c542079d8548">136e323</a></td><td><code>Replace the strong referernce to _IntegerVectors to deal with specified lengths.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f887953743a1b2a9479c9460b258ab60172c580">9f88795</a></td><td><code>Add trim only when in infinite case</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5876a858ab931c80f3ed581de4d7bbecb5a91835">5876a85</a></td><td><code>Fix error in self._basis_keys</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0cd0f0059c47c0bbba5dca1d7ad4d803d57dcb8">a0cd0f0</a></td><td><code>All tests pass</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e20e2a027fc9a928e1e7853f856462a63c0a48d4">e20e2a0</a></td><td><code>Combine finite and infinte classes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe0f7624d8ddae6ef16a494f212e1cdcc42c9a4d">fe0f762</a></td><td><code>Fix vector length bug</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/124638ccb2ab0fafda5dcab1461e177a33cbb2cc">124638c</a></td><td><code>Add tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af76efb4433159cd2e7b03ff2ce88d8c5d34ec41">af76efb</a></td><td><code>self._basis_keys -> self._indices, simplify key polynomial basis repr, add a sentence for class level description</code></td></tr></table>


Rebasing off of #34527



---

archive/issue_comments_685080.json:
```json
{
    "body": "**Changing commit** from \"[af76efb4433159cd2e7b03ff2ce88d8c5d34ec41](https://github.com/sagemath/sagetrac-mirror/commit/af76efb4433159cd2e7b03ff2ce88d8c5d34ec41)\" to \"[79fcf2e03ff3540c0c461660c89327ccda02e926](https://github.com/sagemath/sagetrac-mirror/commit/79fcf2e03ff3540c0c461660c89327ccda02e926)\".",
    "created_at": "2022-09-13T21:35:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685080",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[af76efb4433159cd2e7b03ff2ce88d8c5d34ec41](https://github.com/sagemath/sagetrac-mirror/commit/af76efb4433159cd2e7b03ff2ce88d8c5d34ec41)" to "[79fcf2e03ff3540c0c461660c89327ccda02e926](https://github.com/sagemath/sagetrac-mirror/commit/79fcf2e03ff3540c0c461660c89327ccda02e926)".



---

archive/issue_comments_685081.json:
```json
{
    "body": "<a id='comment:31'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79fcf2e03ff3540c0c461660c89327ccda02e926\">79fcf2e</a></td><td><code>Move divided difference away from monomial</code></td></tr></table>\n",
    "created_at": "2022-09-13T21:35:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685081",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:31'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79fcf2e03ff3540c0c461660c89327ccda02e926">79fcf2e</a></td><td><code>Move divided difference away from monomial</code></td></tr></table>




---

archive/issue_comments_685082.json:
```json
{
    "body": "**Changing dependencies** from \"#34435 #34510 #34527\" to \"#34435 #34510 #34527 #34535\".",
    "created_at": "2022-09-15T04:54:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685082",
    "user": "https://github.com/trevorkarn"
}
```


**Changing dependencies** from "#34435 #34510 #34527" to "#34435 #34510 #34527 #34535".



---

archive/issue_comments_685083.json:
```json
{
    "body": "**Changing commit** from \"[79fcf2e03ff3540c0c461660c89327ccda02e926](https://github.com/sagemath/sagetrac-mirror/commit/79fcf2e03ff3540c0c461660c89327ccda02e926)\" to \"[177c3b6978fd697ecdea573f5152d52d9d118609](https://github.com/sagemath/sagetrac-mirror/commit/177c3b6978fd697ecdea573f5152d52d9d118609)\".",
    "created_at": "2022-09-15T04:57:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685083",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[79fcf2e03ff3540c0c461660c89327ccda02e926](https://github.com/sagemath/sagetrac-mirror/commit/79fcf2e03ff3540c0c461660c89327ccda02e926)" to "[177c3b6978fd697ecdea573f5152d52d9d118609](https://github.com/sagemath/sagetrac-mirror/commit/177c3b6978fd697ecdea573f5152d52d9d118609)".



---

archive/issue_comments_685084.json:
```json
{
    "body": "<a id='comment:33'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85240e42b35edc73ae4c3d395f0f74f7ffc5de4e\">85240e4</a></td><td><code>Add trim only when in infinite case</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7d5b86f6533f4ef7fd468feccee484cc9bf119a\">e7d5b86</a></td><td><code>Fix error in self._basis_keys</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0990dbee6c9896b0baa981a46e26cfd270ab1f01\">0990dbe</a></td><td><code>All tests pass</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6fa8d55feb5d16ab6605ad23c52b5cf096ca112b\">6fa8d55</a></td><td><code>Combine finite and infinte classes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed04d97780f6a1bedabcb122b77a54b4438b6400\">ed04d97</a></td><td><code>Fix vector length bug</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e52feeb0e676accbed40b8f1b1fa02d01312687\">0e52fee</a></td><td><code>Add tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/936c34238c3f14755d17a3c0de4507137fd6eed4\">936c342</a></td><td><code>self._basis_keys -> self._indices, simplify key polynomial basis repr, add a sentence for class level description</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0fa50caf7d901f03330a8bb0d64584d10619cdf\">d0fa50c</a></td><td><code>Move divided difference away from monomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0cc85f3908263f5f4d71925e635160f58d04cf01\">0cc85f3</a></td><td><code>Sequence -> Collection</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/177c3b6978fd697ecdea573f5152d52d9d118609\">177c3b6</a></td><td><code>Simplify division</code></td></tr></table>\n",
    "created_at": "2022-09-15T04:57:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685084",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:33'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85240e42b35edc73ae4c3d395f0f74f7ffc5de4e">85240e4</a></td><td><code>Add trim only when in infinite case</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7d5b86f6533f4ef7fd468feccee484cc9bf119a">e7d5b86</a></td><td><code>Fix error in self._basis_keys</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0990dbee6c9896b0baa981a46e26cfd270ab1f01">0990dbe</a></td><td><code>All tests pass</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6fa8d55feb5d16ab6605ad23c52b5cf096ca112b">6fa8d55</a></td><td><code>Combine finite and infinte classes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed04d97780f6a1bedabcb122b77a54b4438b6400">ed04d97</a></td><td><code>Fix vector length bug</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e52feeb0e676accbed40b8f1b1fa02d01312687">0e52fee</a></td><td><code>Add tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/936c34238c3f14755d17a3c0de4507137fd6eed4">936c342</a></td><td><code>self._basis_keys -> self._indices, simplify key polynomial basis repr, add a sentence for class level description</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0fa50caf7d901f03330a8bb0d64584d10619cdf">d0fa50c</a></td><td><code>Move divided difference away from monomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0cc85f3908263f5f4d71925e635160f58d04cf01">0cc85f3</a></td><td><code>Sequence -> Collection</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/177c3b6978fd697ecdea573f5152d52d9d118609">177c3b6</a></td><td><code>Simplify division</code></td></tr></table>




---

archive/issue_comments_685085.json:
```json
{
    "body": "<a id='comment:34'></a>\nAfter rebasing off of #34535 all tests pass.",
    "created_at": "2022-09-15T04:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685085",
    "user": "https://github.com/trevorkarn"
}
```


<a id='comment:34'></a>
After rebasing off of #34535 all tests pass.



---

archive/issue_comments_685086.json:
```json
{
    "body": "**Changing commit** from \"[177c3b6978fd697ecdea573f5152d52d9d118609](https://github.com/sagemath/sagetrac-mirror/commit/177c3b6978fd697ecdea573f5152d52d9d118609)\" to \"[3805067c50bdd7a3e24d20221c022b9dd15e2427](https://github.com/sagemath/sagetrac-mirror/commit/3805067c50bdd7a3e24d20221c022b9dd15e2427)\".",
    "created_at": "2022-09-15T22:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685086",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[177c3b6978fd697ecdea573f5152d52d9d118609](https://github.com/sagemath/sagetrac-mirror/commit/177c3b6978fd697ecdea573f5152d52d9d118609)" to "[3805067c50bdd7a3e24d20221c022b9dd15e2427](https://github.com/sagemath/sagetrac-mirror/commit/3805067c50bdd7a3e24d20221c022b9dd15e2427)".



---

archive/issue_comments_685087.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7219ff888ddada3a0a59735d08dfa15d0a374acd\">7219ff8</a></td><td><code>Add trim only when in infinite case</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e0d3eebdfe1d580d37fffdc61d5a83224405373\">0e0d3ee</a></td><td><code>Fix error in self._basis_keys</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/887e24cf71bd2c3f960bb7c8946b426b451416f8\">887e24c</a></td><td><code>All tests pass</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aba77c436baf3ebb22e53d2fa878ee5ecd3e2c50\">aba77c4</a></td><td><code>Combine finite and infinte classes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7036b404faf9315c8d5cb82365930419502d34fc\">7036b40</a></td><td><code>Fix vector length bug</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f41f0f7c5d364cbabb0fbec0a5baffca70120a8\">9f41f0f</a></td><td><code>Add tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73a562e21b1f41e7f48ed3b79ceb2eab14ee69c7\">73a562e</a></td><td><code>self._basis_keys -> self._indices, simplify key polynomial basis repr, add a sentence for class level description</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c6b0792cfba7edaa52f95495dbb6a2f0b22de53\">5c6b079</a></td><td><code>Move divided difference away from monomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/264fb171be71bb5031f87d690501a535123698a0\">264fb17</a></td><td><code>Sequence -> Collection</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3805067c50bdd7a3e24d20221c022b9dd15e2427\">3805067</a></td><td><code>Simplify division</code></td></tr></table>\n",
    "created_at": "2022-09-15T22:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685087",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7219ff888ddada3a0a59735d08dfa15d0a374acd">7219ff8</a></td><td><code>Add trim only when in infinite case</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e0d3eebdfe1d580d37fffdc61d5a83224405373">0e0d3ee</a></td><td><code>Fix error in self._basis_keys</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/887e24cf71bd2c3f960bb7c8946b426b451416f8">887e24c</a></td><td><code>All tests pass</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aba77c436baf3ebb22e53d2fa878ee5ecd3e2c50">aba77c4</a></td><td><code>Combine finite and infinte classes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7036b404faf9315c8d5cb82365930419502d34fc">7036b40</a></td><td><code>Fix vector length bug</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f41f0f7c5d364cbabb0fbec0a5baffca70120a8">9f41f0f</a></td><td><code>Add tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73a562e21b1f41e7f48ed3b79ceb2eab14ee69c7">73a562e</a></td><td><code>self._basis_keys -> self._indices, simplify key polynomial basis repr, add a sentence for class level description</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c6b0792cfba7edaa52f95495dbb6a2f0b22de53">5c6b079</a></td><td><code>Move divided difference away from monomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/264fb171be71bb5031f87d690501a535123698a0">264fb17</a></td><td><code>Sequence -> Collection</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3805067c50bdd7a3e24d20221c022b9dd15e2427">3805067</a></td><td><code>Simplify division</code></td></tr></table>




---

archive/issue_comments_685088.json:
```json
{
    "body": "<a id='comment:36'></a>\nRebased off of #34535 commit 1f0a3d0 and all tests still pass.",
    "created_at": "2022-09-15T22:56:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685088",
    "user": "https://github.com/trevorkarn"
}
```


<a id='comment:36'></a>
Rebased off of #34535 commit 1f0a3d0 and all tests still pass.



---

archive/issue_events_100798.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34414#event-100798"
}
```




---

archive/issue_comments_685089.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a96d2749ad11d4cbf42bc7d006cd7fda31c10518\">a96d274</a></td><td><code>Clarify sorting word documentation</code></td></tr></table>\n",
    "created_at": "2022-09-21T17:55:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685089",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a96d2749ad11d4cbf42bc7d006cd7fda31c10518">a96d274</a></td><td><code>Clarify sorting word documentation</code></td></tr></table>




---

archive/issue_comments_685090.json:
```json
{
    "body": "**Changing commit** from \"[3805067c50bdd7a3e24d20221c022b9dd15e2427](https://github.com/sagemath/sagetrac-mirror/commit/3805067c50bdd7a3e24d20221c022b9dd15e2427)\" to \"[a96d2749ad11d4cbf42bc7d006cd7fda31c10518](https://github.com/sagemath/sagetrac-mirror/commit/a96d2749ad11d4cbf42bc7d006cd7fda31c10518)\".",
    "created_at": "2022-09-21T17:55:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685090",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[3805067c50bdd7a3e24d20221c022b9dd15e2427](https://github.com/sagemath/sagetrac-mirror/commit/3805067c50bdd7a3e24d20221c022b9dd15e2427)" to "[a96d2749ad11d4cbf42bc7d006cd7fda31c10518](https://github.com/sagemath/sagetrac-mirror/commit/a96d2749ad11d4cbf42bc7d006cd7fda31c10518)".



---

archive/issue_comments_685091.json:
```json
{
    "body": "<a id='comment:39'></a>\nIs there anything I am forgetting to do on this?",
    "created_at": "2022-09-21T17:57:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685091",
    "user": "https://github.com/trevorkarn"
}
```


<a id='comment:39'></a>
Is there anything I am forgetting to do on this?



---

archive/issue_comments_685092.json:
```json
{
    "body": "<a id='comment:40'></a>\nNothing you are forgetting I think, but you can simplify the s<sub>i</sub> action:\n\n```python\nf = # some polynomial\ng = f.parent().gens()\nsf = f.subs({g[i-1]:g[i], g[i]:g[i-1]})\n```\nI think works (I cannot test right now). Or `f(**{repr(g[i-1]):g[i], repr(g[i]): g[i-1]})` should work.",
    "created_at": "2022-09-21T23:57:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685092",
    "user": "https://github.com/tscrim"
}
```


<a id='comment:40'></a>
Nothing you are forgetting I think, but you can simplify the s<sub>i</sub> action:

```python
f = # some polynomial
g = f.parent().gens()
sf = f.subs({g[i-1]:g[i], g[i]:g[i-1]})
```
I think works (I cannot test right now). Or `f(**{repr(g[i-1]):g[i], repr(g[i]): g[i-1]})` should work.



---

archive/issue_comments_685093.json:
```json
{
    "body": "<a id='comment:41'></a>\nReplying to [Travis Scrimshaw](#comment%3A40):\n> Nothing you are forgetting I think, but you can simplify the s<sub>i</sub> action:\n> \n> ```python\n> f = # some polynomial\n> g = f.parent().gens()\n> sf = f.subs({g[i-1]:g[i], g[i]:g[i-1]})\n> ```\n> I think works (I cannot test right now). Or `f(**{repr(g[i-1]):g[i], repr(g[i]): g[i-1]})` should work.\n\n\n\nTurns out this only works in the finite case. In the infinite case:\n\n```\nsage: R.<z> = InfinitePolynomialRing(QQ)\nsage: f = z[1] + z[1]*z[2]*z[3]\nsage: f.subs({z[1]:z[0]})\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\nInput In [3], in <cell line: 1>()\n----> 1 f.subs({z[Integer(1)]:z[Integer(0)]})\n\nFile ~/Applications/sage/src/sage/structure/element.pyx:830, in sage.structure.element.Element.subs()\n    828 if str(gen) in kwds:\n    829     variables.append(kwds[str(gen)])\n--> 830 elif in_dict and gen in in_dict:\n    831     variables.append(in_dict[gen])\n    832 else:\n\nTypeError: unhashable type: 'InfinitePolynomialGen'\n```\n\nSee #34581.",
    "created_at": "2022-09-24T15:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685093",
    "user": "https://github.com/trevorkarn"
}
```


<a id='comment:41'></a>
Replying to [Travis Scrimshaw](#comment%3A40):
> Nothing you are forgetting I think, but you can simplify the s<sub>i</sub> action:
> 
> ```python
> f = # some polynomial
> g = f.parent().gens()
> sf = f.subs({g[i-1]:g[i], g[i]:g[i-1]})
> ```
> I think works (I cannot test right now). Or `f(**{repr(g[i-1]):g[i], repr(g[i]): g[i-1]})` should work.



Turns out this only works in the finite case. In the infinite case:

```
sage: R.<z> = InfinitePolynomialRing(QQ)
sage: f = z[1] + z[1]*z[2]*z[3]
sage: f.subs({z[1]:z[0]})
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
Input In [3], in <cell line: 1>()
----> 1 f.subs({z[Integer(1)]:z[Integer(0)]})

File ~/Applications/sage/src/sage/structure/element.pyx:830, in sage.structure.element.Element.subs()
    828 if str(gen) in kwds:
    829     variables.append(kwds[str(gen)])
--> 830 elif in_dict and gen in in_dict:
    831     variables.append(in_dict[gen])
    832 else:

TypeError: unhashable type: 'InfinitePolynomialGen'
```

See #34581.



---

archive/issue_comments_685094.json:
```json
{
    "body": "**Changing dependencies** from \"#34435 #34510 #34527 #34535\" to \"#34435 #34510 #34527 #34535 #34581\".",
    "created_at": "2022-09-24T15:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685094",
    "user": "https://github.com/trevorkarn"
}
```


**Changing dependencies** from "#34435 #34510 #34527 #34535" to "#34435 #34510 #34527 #34535 #34581".



---

archive/issue_comments_685095.json:
```json
{
    "body": "**Changing commit** from \"[a96d2749ad11d4cbf42bc7d006cd7fda31c10518](https://github.com/sagemath/sagetrac-mirror/commit/a96d2749ad11d4cbf42bc7d006cd7fda31c10518)\" to \"[c32112a26bbea68ac04be7ce93112605cfef3e4e](https://github.com/sagemath/sagetrac-mirror/commit/c32112a26bbea68ac04be7ce93112605cfef3e4e)\".",
    "created_at": "2022-09-24T16:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685095",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[a96d2749ad11d4cbf42bc7d006cd7fda31c10518](https://github.com/sagemath/sagetrac-mirror/commit/a96d2749ad11d4cbf42bc7d006cd7fda31c10518)" to "[c32112a26bbea68ac04be7ce93112605cfef3e4e](https://github.com/sagemath/sagetrac-mirror/commit/c32112a26bbea68ac04be7ce93112605cfef3e4e)".



---

archive/issue_comments_685096.json:
```json
{
    "body": "<a id='comment:43'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbf32283d56b5dde7b6071b7fadcec25dbe77e13\">fbf3228</a></td><td><code>Simplify subs in finite case</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c32112a26bbea68ac04be7ce93112605cfef3e4e\">c32112a</a></td><td><code>Simplify action on infinite polynomial ring</code></td></tr></table>\n",
    "created_at": "2022-09-24T16:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685096",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:43'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbf32283d56b5dde7b6071b7fadcec25dbe77e13">fbf3228</a></td><td><code>Simplify subs in finite case</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c32112a26bbea68ac04be7ce93112605cfef3e4e">c32112a</a></td><td><code>Simplify action on infinite polynomial ring</code></td></tr></table>




---

archive/issue_comments_685097.json:
```json
{
    "body": "<a id='comment:44'></a>\nReplying to [Travis Scrimshaw](#comment%3A40):\n> you can simplify the s<sub>i</sub> action\n\n\nDone in both cases without using `.subs()` for the infinite case.",
    "created_at": "2022-09-24T16:32:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685097",
    "user": "https://github.com/trevorkarn"
}
```


<a id='comment:44'></a>
Replying to [Travis Scrimshaw](#comment%3A40):
> you can simplify the s<sub>i</sub> action


Done in both cases without using `.subs()` for the infinite case.



---

archive/issue_comments_685098.json:
```json
{
    "body": "**Changing dependencies** from \"#34435 #34510 #34527 #34535 #34581\" to \"#34435 #34510 #34527 #34535\".",
    "created_at": "2022-09-24T16:32:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685098",
    "user": "https://github.com/trevorkarn"
}
```


**Changing dependencies** from "#34435 #34510 #34527 #34535 #34581" to "#34435 #34510 #34527 #34535".



---

archive/issue_comments_685099.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2022-09-25T00:53:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685099",
    "user": "https://github.com/tscrim"
}
```


**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_685100.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2022-09-25T00:53:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685100",
    "user": "https://github.com/tscrim"
}
```


**Changing status** from needs_review to needs_work.



---

archive/issue_comments_685101.json:
```json
{
    "body": "**Changing dependencies** from \"#34435 #34510 #34527 #34535\" to \"#34435 #34510 #34527 #34535 #34581\".",
    "created_at": "2022-09-25T00:53:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685101",
    "user": "https://github.com/tscrim"
}
```


**Changing dependencies** from "#34435 #34510 #34527 #34535" to "#34435 #34510 #34527 #34535 #34581".



---

archive/issue_comments_685102.json:
```json
{
    "body": "<a id='comment:46'></a>\nThanks for the updates.\n\nI don't quite understand why that code works for the infinite case. I think depending on #34581 is the right way to go. We should be able to fix that one fairly quickly.\n\nSome more comments on this:\n\n- Rename `poly_gen()` -> `poly_gens()` as it returns all of the generators.\n- `while f.monomials():` seems wasteful; you can simply check `while f:` (is not 0).\n- In `from_polynomial()`, I would separate out the `self._indices(m).trim()` into a separate helper method\n\n  ```python\n  if self._k:\n      def build_index(m):\n          return self._indices(m)\n  else:\n      def build_index(m):\n          return self._indices(m).trim()\n  ```\n  Furthermore I am not certain that the monomials and exponents will always be given in lex order. While it is a bit more computationally intensive, I think you should call `max(f.exponents())`. You can then use that to build the monomial and/or get the coefficient. This allows you to remove the code duplication.\n- Since you have an element class, you are better implementing `_mul_` there as that avoids some indirection.",
    "created_at": "2022-09-25T00:53:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685102",
    "user": "https://github.com/tscrim"
}
```


<a id='comment:46'></a>
Thanks for the updates.

I don't quite understand why that code works for the infinite case. I think depending on #34581 is the right way to go. We should be able to fix that one fairly quickly.

Some more comments on this:

- Rename `poly_gen()` -> `poly_gens()` as it returns all of the generators.
- `while f.monomials():` seems wasteful; you can simply check `while f:` (is not 0).
- In `from_polynomial()`, I would separate out the `self._indices(m).trim()` into a separate helper method

  ```python
  if self._k:
      def build_index(m):
          return self._indices(m)
  else:
      def build_index(m):
          return self._indices(m).trim()
  ```
  Furthermore I am not certain that the monomials and exponents will always be given in lex order. While it is a bit more computationally intensive, I think you should call `max(f.exponents())`. You can then use that to build the monomial and/or get the coefficient. This allows you to remove the code duplication.
- Since you have an element class, you are better implementing `_mul_` there as that avoids some indirection.



---

archive/issue_comments_685103.json:
```json
{
    "body": "<a id='comment:47'></a>\nAlso try when the base ring is something more interesting than `ZZ` or `QQ`.",
    "created_at": "2022-10-14T00:26:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34414",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34414#issuecomment-685103",
    "user": "https://github.com/trevorkarn"
}
```


<a id='comment:47'></a>
Also try when the base ring is something more interesting than `ZZ` or `QQ`.
