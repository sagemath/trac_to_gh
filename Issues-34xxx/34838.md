# Issue 34838: setuptools_scm, contourpy, sphinxcontrib_websupport, typing_extensions: Add missing dependencies

archive/issues_034601.json:
```json
{
    "body": "\n\n**CC:**  @dimpase @jhpalmieri\n\n**Branch:** [u/mkoeppe/setuptools_scm__contourpy__sphinxcontrib_websupport__add_missing_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/setuptools_scm__contourpy__sphinxcontrib_websupport__add_missing_dependencies)\n\n**Commit:** [856c670734df3618713d47514c484e3b550e69e7](https://github.com/sagemath/sagetrac-mirror/commit/856c670734df3618713d47514c484e3b550e69e7)\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/34838\n\n",
    "created_at": "2022-12-11T21:12:31Z",
    "labels": [
        "component: packages: standard",
        "critical",
        "bug",
        "needs review"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "setuptools_scm, contourpy, sphinxcontrib_websupport, typing_extensions: Add missing dependencies",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34838",
    "user": "https://github.com/mkoeppe"
}
```


**CC:**  @dimpase @jhpalmieri

**Branch:** [u/mkoeppe/setuptools_scm__contourpy__sphinxcontrib_websupport__add_missing_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/setuptools_scm__contourpy__sphinxcontrib_websupport__add_missing_dependencies)

**Commit:** [856c670734df3618713d47514c484e3b550e69e7](https://github.com/sagemath/sagetrac-mirror/commit/856c670734df3618713d47514c484e3b550e69e7)

**Reviewer:** Dima Pasechnik

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/34838





---

archive/issue_comments_565510.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/setuptools_scm__contourpy__sphinxcontrib_websupport__add_missing_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/setuptools_scm__contourpy__sphinxcontrib_websupport__add_missing_dependencies)",
    "created_at": "2022-12-11T21:13:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-565510",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/setuptools_scm__contourpy__sphinxcontrib_websupport__add_missing_dependencies](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/setuptools_scm__contourpy__sphinxcontrib_websupport__add_missing_dependencies)



---

archive/issue_comments_565511.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/feb0a094a3e795d8e381e66b8d772051acdc41eb\">feb0a09</a></td><td><code>build/pkgs/{setuptools_scm,contourpy,sphinxcontrib_websupport}: Add missing deps</code></td></tr></table>\n",
    "created_at": "2022-12-11T21:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-565511",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/feb0a094a3e795d8e381e66b8d772051acdc41eb">feb0a09</a></td><td><code>build/pkgs/{setuptools_scm,contourpy,sphinxcontrib_websupport}: Add missing deps</code></td></tr></table>




---

archive/issue_comments_565512.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2022-12-11T21:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-565512",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_events_313030.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-11T21:13:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34838#event-313030"
}
```



---

archive/issue_comments_565513.json:
```json
{
    "body": "**Commit:** [feb0a094a3e795d8e381e66b8d772051acdc41eb](https://github.com/sagemath/sagetrac-mirror/commit/feb0a094a3e795d8e381e66b8d772051acdc41eb)",
    "created_at": "2022-12-11T21:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-565513",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [feb0a094a3e795d8e381e66b8d772051acdc41eb](https://github.com/sagemath/sagetrac-mirror/commit/feb0a094a3e795d8e381e66b8d772051acdc41eb)



---

archive/issue_comments_565514.json:
```json
{
    "body": "<a id='comment:3'></a>\nlgtm",
    "created_at": "2022-12-11T22:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-565514",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
lgtm



---

archive/issue_events_313031.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-12-11T22:01:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34838#event-313031"
}
```



---

archive/issue_events_313032.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-12-11T22:01:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34838#event-313032"
}
```



---

archive/issue_comments_565515.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2022-12-11T22:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-565515",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_565516.json:
```json
{
    "body": "<a id='comment:4'></a>\nThanks!",
    "created_at": "2022-12-11T22:20:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-565516",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
Thanks!



---

archive/issue_comments_565517.json:
```json
{
    "body": "<a id='comment:5'></a>\n\n```\nThe following package(s) may have failed to build (not necessarily\nduring this run of 'make all-start'):\n\n* package:         typing_extensions-4.4.0\n  last build time: Dec 21 20:47\n  log file:        /home/release/Sage/logs/pkgs/typing_extensions-4.4.0.log\n[...]\n$ cat /home/release/Sage/logs/pkgs/typing_extensions-4.4.0.log\n[...]\n****************************************************\nPackage 'typing_extensions' is currently not installed\nNo legacy uninstaller found for 'typing_extensions'; nothing to do\nInstalling typing_extensions-4.4.0\nLooking in links: /home/release/Sage/local/var/lib/sage/venv-python3.10.8/var/lib/sage/wheels\nProcessing /home/release/Sage/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/typing_extensions-4.4.0/src\n  Installing build dependencies: started\n  Running command pip subprocess to install build dependencies\n  Looking in links: /home/release/Sage/local/var/lib/sage/venv-python3.10.8/var/lib/sage/wheels\n  ERROR: Could not find a version that satisfies the requirement flit_core<4,>=3.4 (from versions: none)\n  ERROR: No matching distribution found for flit_core<4,>=3.4\n  error: subprocess-exited-with-error\n  \n  \u00d7 pip subprocess to install build dependencies did not run successfully.\n  \u2502 exit code: 1\n  \u2570\u2500> See above for output.\n```",
    "created_at": "2022-12-21T23:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-565517",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'></a>

```
The following package(s) may have failed to build (not necessarily
during this run of 'make all-start'):

* package:         typing_extensions-4.4.0
  last build time: Dec 21 20:47
  log file:        /home/release/Sage/logs/pkgs/typing_extensions-4.4.0.log
[...]
$ cat /home/release/Sage/logs/pkgs/typing_extensions-4.4.0.log
[...]
****************************************************
Package 'typing_extensions' is currently not installed
No legacy uninstaller found for 'typing_extensions'; nothing to do
Installing typing_extensions-4.4.0
Looking in links: /home/release/Sage/local/var/lib/sage/venv-python3.10.8/var/lib/sage/wheels
Processing /home/release/Sage/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/typing_extensions-4.4.0/src
  Installing build dependencies: started
  Running command pip subprocess to install build dependencies
  Looking in links: /home/release/Sage/local/var/lib/sage/venv-python3.10.8/var/lib/sage/wheels
  ERROR: Could not find a version that satisfies the requirement flit_core<4,>=3.4 (from versions: none)
  ERROR: No matching distribution found for flit_core<4,>=3.4
  error: subprocess-exited-with-error
  
  × pip subprocess to install build dependencies did not run successfully.
  │ exit code: 1
  ╰─> See above for output.
```



---

archive/issue_events_313033.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-12-21T23:24:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34838#event-313033"
}
```



---

archive/issue_events_313034.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-12-21T23:24:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34838#event-313034"
}
```



---

archive/issue_comments_565518.json:
```json
{
    "body": "<a id='comment:6'></a>\nThat's another missing dependency, introduced in #34676",
    "created_at": "2022-12-22T01:29:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-565518",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
That's another missing dependency, introduced in #34676



---

archive/issue_comments_565519.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/952f7ba9fda9029c003440b5e9da469bc5353a33\">952f7ba</a></td><td><code>build/pkgs/{setuptools_scm,contourpy,sphinxcontrib_websupport}: Add missing deps</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/856c670734df3618713d47514c484e3b550e69e7\">856c670</a></td><td><code>build/pkgs/typing_extensions/dependencies: Add flit_core</code></td></tr></table>\n",
    "created_at": "2022-12-22T01:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-565519",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/952f7ba9fda9029c003440b5e9da469bc5353a33">952f7ba</a></td><td><code>build/pkgs/{setuptools_scm,contourpy,sphinxcontrib_websupport}: Add missing deps</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/856c670734df3618713d47514c484e3b550e69e7">856c670</a></td><td><code>build/pkgs/typing_extensions/dependencies: Add flit_core</code></td></tr></table>




---

archive/issue_comments_565520.json:
```json
{
    "body": "**Changing commit** from \"[feb0a094a3e795d8e381e66b8d772051acdc41eb](https://github.com/sagemath/sagetrac-mirror/commit/feb0a094a3e795d8e381e66b8d772051acdc41eb)\" to \"[856c670734df3618713d47514c484e3b550e69e7](https://github.com/sagemath/sagetrac-mirror/commit/856c670734df3618713d47514c484e3b550e69e7)\".",
    "created_at": "2022-12-22T01:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-565520",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[feb0a094a3e795d8e381e66b8d772051acdc41eb](https://github.com/sagemath/sagetrac-mirror/commit/feb0a094a3e795d8e381e66b8d772051acdc41eb)" to "[856c670734df3618713d47514c484e3b550e69e7](https://github.com/sagemath/sagetrac-mirror/commit/856c670734df3618713d47514c484e3b550e69e7)".



---

archive/issue_events_313035.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-22T01:32:08Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "rename": {
        "from": "setuptools_scm, contourpy, sphinxcontrib_websupport: Add missing dependencies",
        "to": "setuptools_scm, contourpy, sphinxcontrib_websupport, typing_extensions: Add missing dependencies"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34838#event-313035"
}
```



---

archive/issue_events_313036.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-22T01:32:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34838#event-313036"
}
```



---

archive/issue_events_313037.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-22T01:32:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34838#event-313037"
}
```



---

archive/issue_comments_565521.json:
```json
{
    "body": "<a id='comment:10'></a>\nIn https://github.com/sagemath/sage/actions/runs/3751978232/jobs/6391768854, I also see a failure in building `setuptools_scm_git_archive`",
    "created_at": "2022-12-23T01:08:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-565521",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
In https://github.com/sagemath/sage/actions/runs/3751978232/jobs/6391768854, I also see a failure in building `setuptools_scm_git_archive`
