# Issue 34838: setuptools_scm, contourpy, sphinxcontrib_websupport, typing_extensions: Add missing dependencies

archive/issues_034601.json:
```json
{
    "body": "\n\nCC:  @dimpase @jhpalmieri\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nBranch: u/mkoeppe/setuptools_scm__contourpy__sphinxcontrib_websupport__add_missing_dependencies\n\nStatus: needs_review\n\nCommit: 856c670734df3618713d47514c484e3b550e69e7\n\nIssue created by migration from https://trac.sagemath.org/ticket/34838\n\n",
    "created_at": "2022-12-11T21:12:31Z",
    "labels": [
        "component: packages: standard",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "setuptools_scm, contourpy, sphinxcontrib_websupport, typing_extensions: Add missing dependencies",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34838",
    "user": "https://github.com/mkoeppe"
}
```


CC:  @dimpase @jhpalmieri

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Branch: u/mkoeppe/setuptools_scm__contourpy__sphinxcontrib_websupport__add_missing_dependencies

Status: needs_review

Commit: 856c670734df3618713d47514c484e3b550e69e7

Issue created by migration from https://trac.sagemath.org/ticket/34838





---

archive/issue_comments_683412.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/setuptools_scm__contourpy__sphinxcontrib_websupport__add_missing_dependencies\"",
    "created_at": "2022-12-11T21:13:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683412",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/setuptools_scm__contourpy__sphinxcontrib_websupport__add_missing_dependencies"



---

archive/issue_comments_683413.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|\n|[feb0a09](https://github.com/sagemath/sagetrac-mirror/commit/feb0a094a3e795d8e381e66b8d772051acdc41eb)|`build/pkgs/{setuptools_scm,contourpy,sphinxcontrib_websupport}: Add missing deps`|",
    "created_at": "2022-12-11T21:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683413",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|
|[feb0a09](https://github.com/sagemath/sagetrac-mirror/commit/feb0a094a3e795d8e381e66b8d772051acdc41eb)|`build/pkgs/{setuptools_scm,contourpy,sphinxcontrib_websupport}: Add missing deps`|



---

archive/issue_comments_683414.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2022-12-11T21:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683414",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_683415.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-12-11T21:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683415",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_683416.json:
```json
{
    "body": "Changing commit from \"\" to \"feb0a094a3e795d8e381e66b8d772051acdc41eb\"",
    "created_at": "2022-12-11T21:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683416",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "feb0a094a3e795d8e381e66b8d772051acdc41eb"



---

archive/issue_comments_683417.json:
```json
{
    "body": "<a id='comment:3'></a>\nlgtm",
    "created_at": "2022-12-11T22:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683417",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
lgtm



---

archive/issue_comments_683418.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-12-11T22:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683418",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_683419.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2022-12-11T22:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683419",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_683420.json:
```json
{
    "body": "<a id='comment:4'></a>\nThanks!",
    "created_at": "2022-12-11T22:20:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683420",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
Thanks!



---

archive/issue_comments_683421.json:
```json
{
    "body": "<a id='comment:5'></a>\n\n```\nThe following package(s) may have failed to build (not necessarily\nduring this run of 'make all-start'):\n\n* package:         typing_extensions-4.4.0\n  last build time: Dec 21 20:47\n  log file:        /home/release/Sage/logs/pkgs/typing_extensions-4.4.0.log\n[...]\n$ cat /home/release/Sage/logs/pkgs/typing_extensions-4.4.0.log\n[...]\n****************************************************\nPackage 'typing_extensions' is currently not installed\nNo legacy uninstaller found for 'typing_extensions'; nothing to do\nInstalling typing_extensions-4.4.0\nLooking in links: /home/release/Sage/local/var/lib/sage/venv-python3.10.8/var/lib/sage/wheels\nProcessing /home/release/Sage/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/typing_extensions-4.4.0/src\n  Installing build dependencies: started\n  Running command pip subprocess to install build dependencies\n  Looking in links: /home/release/Sage/local/var/lib/sage/venv-python3.10.8/var/lib/sage/wheels\n  ERROR: Could not find a version that satisfies the requirement flit_core<4,>=3.4 (from versions: none)\n  ERROR: No matching distribution found for flit_core<4,>=3.4\n  error: subprocess-exited-with-error\n  \n  \u00d7 pip subprocess to install build dependencies did not run successfully.\n  \u2502 exit code: 1\n  \u2570\u2500> See above for output.\n```",
    "created_at": "2022-12-21T23:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683421",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'></a>

```
The following package(s) may have failed to build (not necessarily
during this run of 'make all-start'):

* package:         typing_extensions-4.4.0
  last build time: Dec 21 20:47
  log file:        /home/release/Sage/logs/pkgs/typing_extensions-4.4.0.log
[...]
$ cat /home/release/Sage/logs/pkgs/typing_extensions-4.4.0.log
[...]
****************************************************
Package 'typing_extensions' is currently not installed
No legacy uninstaller found for 'typing_extensions'; nothing to do
Installing typing_extensions-4.4.0
Looking in links: /home/release/Sage/local/var/lib/sage/venv-python3.10.8/var/lib/sage/wheels
Processing /home/release/Sage/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/typing_extensions-4.4.0/src
  Installing build dependencies: started
  Running command pip subprocess to install build dependencies
  Looking in links: /home/release/Sage/local/var/lib/sage/venv-python3.10.8/var/lib/sage/wheels
  ERROR: Could not find a version that satisfies the requirement flit_core<4,>=3.4 (from versions: none)
  ERROR: No matching distribution found for flit_core<4,>=3.4
  error: subprocess-exited-with-error
  
  × pip subprocess to install build dependencies did not run successfully.
  │ exit code: 1
  ╰─> See above for output.
```



---

archive/issue_comments_683422.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-12-21T23:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683422",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_683423.json:
```json
{
    "body": "<a id='comment:6'></a>\nThat's another missing dependency, introduced in #34676",
    "created_at": "2022-12-22T01:29:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683423",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
That's another missing dependency, introduced in #34676



---

archive/issue_comments_683424.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|\n|[952f7ba](https://github.com/sagemath/sagetrac-mirror/commit/952f7ba9fda9029c003440b5e9da469bc5353a33)|`build/pkgs/{setuptools_scm,contourpy,sphinxcontrib_websupport}: Add missing deps`|\n|[856c670](https://github.com/sagemath/sagetrac-mirror/commit/856c670734df3618713d47514c484e3b550e69e7)|`build/pkgs/typing_extensions/dependencies: Add flit_core`|",
    "created_at": "2022-12-22T01:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683424",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|
|[952f7ba](https://github.com/sagemath/sagetrac-mirror/commit/952f7ba9fda9029c003440b5e9da469bc5353a33)|`build/pkgs/{setuptools_scm,contourpy,sphinxcontrib_websupport}: Add missing deps`|
|[856c670](https://github.com/sagemath/sagetrac-mirror/commit/856c670734df3618713d47514c484e3b550e69e7)|`build/pkgs/typing_extensions/dependencies: Add flit_core`|



---

archive/issue_comments_683425.json:
```json
{
    "body": "Changing commit from \"feb0a094a3e795d8e381e66b8d772051acdc41eb\" to \"856c670734df3618713d47514c484e3b550e69e7\"",
    "created_at": "2022-12-22T01:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683425",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "feb0a094a3e795d8e381e66b8d772051acdc41eb" to "856c670734df3618713d47514c484e3b550e69e7"



---

archive/issue_events_109150.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "rename": {
        "from": "setuptools_scm, contourpy, sphinxcontrib_websupport: Add missing dependencies",
        "to": "setuptools_scm, contourpy, sphinxcontrib_websupport, typing_extensions: Add missing dependencies"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34838#event-109150"
}
```



---

archive/issue_comments_683426.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-12-22T01:32:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683426",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_683427.json:
```json
{
    "body": "<a id='comment:10'></a>\nIn https://github.com/sagemath/sage/actions/runs/3751978232/jobs/6391768854, I also see a failure in building `setuptools_scm_git_archive`",
    "created_at": "2022-12-23T01:08:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34838#issuecomment-683427",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
In https://github.com/sagemath/sage/actions/runs/3751978232/jobs/6391768854, I also see a failure in building `setuptools_scm_git_archive`
