# Issue 34381: Add infinite q-Pochhammer symbol

archive/issues_034144.json:
```json
{
    "body": "`(z; q)_{\\infty}` has a nice expression for its coefficients in `z`. We implement this very important series as a lazy Laurent series.\n\nWe implement the Euler function `(q; q)_{\\infty}` as a lazy Laurent series in `q` as well.\n\n**CC:**  @mantepse @fchapoton\n\n**Keywords:** q_pochhammer, euler function, LazyPowerSeries\n\n**Branch/Commit:** [247faf7ee4a5a2a0848d77b6765e327e5116e636](https://github.com/sagemath/sagetrac-mirror/commit/247faf7ee4a5a2a0848d77b6765e327e5116e636)\n\n**Reviewer:** Martin Rubey\n\n**Author:** Travis Scrimshaw\n\n**Dependencies:** #32324\n\nIssue created by migration from https://trac.sagemath.org/ticket/34381\n\n",
    "closed_at": "2022-11-07T20:26:20Z",
    "created_at": "2022-08-17T02:30:55Z",
    "labels": [
        "component: algebra",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Add infinite q-Pochhammer symbol",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34381",
    "user": "https://github.com/tscrim"
}
```
`(z; q)_{\infty}` has a nice expression for its coefficients in `z`. We implement this very important series as a lazy Laurent series.

We implement the Euler function `(q; q)_{\infty}` as a lazy Laurent series in `q` as well.

**CC:**  @mantepse @fchapoton

**Keywords:** q_pochhammer, euler function, LazyPowerSeries

**Branch/Commit:** [247faf7ee4a5a2a0848d77b6765e327e5116e636](https://github.com/sagemath/sagetrac-mirror/commit/247faf7ee4a5a2a0848d77b6765e327e5116e636)

**Reviewer:** Martin Rubey

**Author:** Travis Scrimshaw

**Dependencies:** #32324

Issue created by migration from https://trac.sagemath.org/ticket/34381





---

archive/issue_comments_653427.json:
```json
{
    "body": "**Author:** Travis Scrimshaw",
    "created_at": "2022-08-17T03:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653427",
    "user": "https://github.com/tscrim"
}
```

**Author:** Travis Scrimshaw



---

archive/issue_comments_653428.json:
```json
{
    "body": "**Commit:** [80bc4e5886e18fab4d5de332b8cc41bbb8eebe08](https://github.com/sagemath/sagetrac-mirror/commit/80bc4e5886e18fab4d5de332b8cc41bbb8eebe08)",
    "created_at": "2022-08-17T03:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653428",
    "user": "https://github.com/tscrim"
}
```

**Commit:** [80bc4e5886e18fab4d5de332b8cc41bbb8eebe08](https://github.com/sagemath/sagetrac-mirror/commit/80bc4e5886e18fab4d5de332b8cc41bbb8eebe08)



---

archive/issue_comments_653429.json:
```json
{
    "body": "<a id='comment:1'></a>\nAfter doing this, we might want to move the construction of the underlying function to the lazy series ring. We might also want to special case composition of a lazy Laurent series with a monomial in a lazy Laurent series.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f9045d6e677267ab3c49bb91ddf9f1887f872bb\">3f9045d</a></td><td><code>Implementing infinite q-Pochhammer symbol as a lazy Laurent series.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80bc4e5886e18fab4d5de332b8cc41bbb8eebe08\">80bc4e5</a></td><td><code>Adding more documetnation and Euler's function.</code></td></tr></table>\n",
    "created_at": "2022-08-17T03:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653429",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
After doing this, we might want to move the construction of the underlying function to the lazy series ring. We might also want to special case composition of a lazy Laurent series with a monomial in a lazy Laurent series.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f9045d6e677267ab3c49bb91ddf9f1887f872bb">3f9045d</a></td><td><code>Implementing infinite q-Pochhammer symbol as a lazy Laurent series.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80bc4e5886e18fab4d5de332b8cc41bbb8eebe08">80bc4e5</a></td><td><code>Adding more documetnation and Euler's function.</code></td></tr></table>




---

archive/issue_comments_653430.json:
```json
{
    "body": "**Branch:** [public/rings/infinite_q_pochhammer-34381](https://github.com/sagemath/sagetrac-mirror/tree/public/rings/infinite_q_pochhammer-34381)",
    "created_at": "2022-08-17T03:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653430",
    "user": "https://github.com/tscrim"
}
```

**Branch:** [public/rings/infinite_q_pochhammer-34381](https://github.com/sagemath/sagetrac-mirror/tree/public/rings/infinite_q_pochhammer-34381)



---

archive/issue_comments_653431.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n `(z; q)_{\\infty}` has a nice expression for its coefficients in `z`. We implement this very important series as a lazy Laurent series.\n+\n+We implement the Euler function `(q; q)_{\\infty}` as well.\n``````\n",
    "created_at": "2022-08-17T03:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653431",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 `(z; q)_{\infty}` has a nice expression for its coefficients in `z`. We implement this very important series as a lazy Laurent series.
+
+We implement the Euler function `(q; q)_{\infty}` as well.
``````




---

archive/issue_comments_653432.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"q_pochhammer, euler function\".",
    "created_at": "2022-08-17T03:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653432",
    "user": "https://github.com/tscrim"
}
```

**Changing keywords** from "" to "q_pochhammer, euler function".



---

archive/issue_comments_653433.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2022-08-17T03:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653433",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_653434.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n `(z; q)_{\\infty}` has a nice expression for its coefficients in `z`. We implement this very important series as a lazy Laurent series.\n \n-We implement the Euler function `(q; q)_{\\infty}` as well.\n+We implement the Euler function `(q; q)_{\\infty}` as a lazy Laurent series in `q` as well.\n``````\n",
    "created_at": "2022-08-17T03:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653434",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 `(z; q)_{\infty}` has a nice expression for its coefficients in `z`. We implement this very important series as a lazy Laurent series.
 
-We implement the Euler function `(q; q)_{\infty}` as well.
+We implement the Euler function `(q; q)_{\infty}` as a lazy Laurent series in `q` as well.
``````




---

archive/issue_comments_653435.json:
```json
{
    "body": "<a id='comment:3'></a>\nThis also does not conflict with #32324.",
    "created_at": "2022-08-17T03:14:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653435",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
This also does not conflict with #32324.



---

archive/issue_comments_653436.json:
```json
{
    "body": "<a id='comment:4'></a>\nCool!  It makes me happy to see so many possibilities opening up!\n\nQuestion: what do you mean with moving the construction of the underlying function to the `LazyLaurentSeriesRing`?\n\nIdea / Suggestion: maybe it makes sense to use \"dummy\" (or something similar) instead of \"z\" for the variable name, to make it clear to the reader that it plays no role.  Of course, this would equally apply to all the other special functions.  I am not sure about the benefit / cost ratio, I am not even sure that there would be a benefit.",
    "created_at": "2022-08-17T06:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653436",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:4'></a>
Cool!  It makes me happy to see so many possibilities opening up!

Question: what do you mean with moving the construction of the underlying function to the `LazyLaurentSeriesRing`?

Idea / Suggestion: maybe it makes sense to use "dummy" (or something similar) instead of "z" for the variable name, to make it clear to the reader that it plays no role.  Of course, this would equally apply to all the other special functions.  I am not sure about the benefit / cost ratio, I am not even sure that there would be a benefit.



---

archive/issue_comments_653437.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [mantepse](#comment%3A4):\n> Question: what do you mean with moving the construction of the underlying function to the `LazyLaurentSeriesRing`?\n\n\nFor each of these special functions, we first construct a series `f`. So I propose having, e.g., `L.sin()` return `f(z) = sin(z)` in the variable of that lazy Laurent series ring. This avoids a composition call. I feel like it might make for a more natural home for, e.g., `euler()`.\n\n> Idea / Suggestion: maybe it makes sense to use \"dummy\" (or something similar) instead of \"z\" for the variable name, to make it clear to the reader that it plays no role.  Of course, this would equally apply to all the other special functions.  I am not sure about the benefit / cost ratio, I am not even sure that there would be a benefit.\n\n\nIt gets substituted out every time. So it is never visible, and so I see no net change (although it would make a bug easier to spot if we ended up in the very unlikely scenario that the composition returned the wrong parent). If we wanted to do this, we should do it for all special functions simultaneously on a follow-up ticket.",
    "created_at": "2022-08-17T07:04:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653437",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>
Replying to [mantepse](#comment%3A4):
> Question: what do you mean with moving the construction of the underlying function to the `LazyLaurentSeriesRing`?


For each of these special functions, we first construct a series `f`. So I propose having, e.g., `L.sin()` return `f(z) = sin(z)` in the variable of that lazy Laurent series ring. This avoids a composition call. I feel like it might make for a more natural home for, e.g., `euler()`.

> Idea / Suggestion: maybe it makes sense to use "dummy" (or something similar) instead of "z" for the variable name, to make it clear to the reader that it plays no role.  Of course, this would equally apply to all the other special functions.  I am not sure about the benefit / cost ratio, I am not even sure that there would be a benefit.


It gets substituted out every time. So it is never visible, and so I see no net change (although it would make a bug easier to spot if we ended up in the very unlikely scenario that the composition returned the wrong parent). If we wanted to do this, we should do it for all special functions simultaneously on a follow-up ticket.



---

archive/issue_comments_653438.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [tscrim](#comment%3A5):\n> Replying to [mantepse](#comment%3A4):\n> > Question: what do you mean with moving the construction of the underlying function to the `LazyLaurentSeriesRing`?\n\n> \n> For each of these special functions, we first construct a series `f`. So I propose having, e.g., `L.sin()` return `f(z) = sin(z)` in the variable of that lazy Laurent series ring. This avoids a composition call. I feel like it might make for a more natural home for, e.g., `euler()`.\n\n\nIndeed, that makes a lot of sense to me.  Similarly for all the other special functions where we end up composing with self in the last line.",
    "created_at": "2022-08-17T08:26:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653438",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:6'></a>
Replying to [tscrim](#comment%3A5):
> Replying to [mantepse](#comment%3A4):
> > Question: what do you mean with moving the construction of the underlying function to the `LazyLaurentSeriesRing`?

> 
> For each of these special functions, we first construct a series `f`. So I propose having, e.g., `L.sin()` return `f(z) = sin(z)` in the variable of that lazy Laurent series ring. This avoids a composition call. I feel like it might make for a more natural home for, e.g., `euler()`.


Indeed, that makes a lot of sense to me.  Similarly for all the other special functions where we end up composing with self in the last line.



---

archive/issue_comments_653439.json:
```json
{
    "body": "**Changing commit** from \"[80bc4e5886e18fab4d5de332b8cc41bbb8eebe08](https://github.com/sagemath/sagetrac-mirror/commit/80bc4e5886e18fab4d5de332b8cc41bbb8eebe08)\" to \"[70486e6108fb53b35c7b094e43e4b71e67806300](https://github.com/sagemath/sagetrac-mirror/commit/70486e6108fb53b35c7b094e43e4b71e67806300)\".",
    "created_at": "2022-08-22T07:55:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653439",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[80bc4e5886e18fab4d5de332b8cc41bbb8eebe08](https://github.com/sagemath/sagetrac-mirror/commit/80bc4e5886e18fab4d5de332b8cc41bbb8eebe08)" to "[70486e6108fb53b35c7b094e43e4b71e67806300](https://github.com/sagemath/sagetrac-mirror/commit/70486e6108fb53b35c7b094e43e4b71e67806300)".



---

archive/issue_comments_653440.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/feba6b8997b7d11a11f252b1ee957e68cfdf1bc5\">feba6b8</a></td><td><code>Working more on __call__ for LazySymFunc.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f3e0f2048c702daa48cde9edea574458abcf8f0\">3f3e0f2</a></td><td><code>Merge branch 'public/rings/lazy_talyor_series-32324' of https://github.com/sagemath/sagetrac-mirror into public/rings/lazy_talyor_series-32324</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67272285ace598162cbd1de50fa4f1c9fe74b0dd\">6727228</a></td><td><code>Merge branch 'public/rings/lazy_talyor_series-32324' of trac.sagemath.org:sage into t/32324/public/rings/lazy_talyor_series-32324</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/028796d47eedb24a730258ae18e89b95bda24639\">028796d</a></td><td><code>Fixing numerous issues with __call__ and expanding its functionality. Moving plethysm to a Stream_plethysm.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9fb155f4502d54f0ea8dc2b15745804b000d694a\">9fb155f</a></td><td><code>Removing unused code from previous version.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f9dbb186459922ba90b5a9326ebf6b5dcaa1ba8\">7f9dbb1</a></td><td><code>Some last doc fixes and tweaks.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e03fee27f1ebff2741eb57fb0de4d7d80043636\">4e03fee</a></td><td><code>remove unused local variable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e78047258774176c6e8271e29c9b5825cc12aa11\">e780472</a></td><td><code>Addressing the linter complaint.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06123e1ddc9faeaed6d767af19e473695de50b0e\">06123e1</a></td><td><code>Merge branch 'public/rings/lazy_talyor_series-32324' into public/rings/infinite_q_pochhammer-34381</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70486e6108fb53b35c7b094e43e4b71e67806300\">70486e6</a></td><td><code>Refactoring the implementation of q_pochhammer and euler.</code></td></tr></table>\n",
    "created_at": "2022-08-22T07:55:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653440",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/feba6b8997b7d11a11f252b1ee957e68cfdf1bc5">feba6b8</a></td><td><code>Working more on __call__ for LazySymFunc.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f3e0f2048c702daa48cde9edea574458abcf8f0">3f3e0f2</a></td><td><code>Merge branch 'public/rings/lazy_talyor_series-32324' of https://github.com/sagemath/sagetrac-mirror into public/rings/lazy_talyor_series-32324</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67272285ace598162cbd1de50fa4f1c9fe74b0dd">6727228</a></td><td><code>Merge branch 'public/rings/lazy_talyor_series-32324' of trac.sagemath.org:sage into t/32324/public/rings/lazy_talyor_series-32324</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/028796d47eedb24a730258ae18e89b95bda24639">028796d</a></td><td><code>Fixing numerous issues with __call__ and expanding its functionality. Moving plethysm to a Stream_plethysm.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9fb155f4502d54f0ea8dc2b15745804b000d694a">9fb155f</a></td><td><code>Removing unused code from previous version.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f9dbb186459922ba90b5a9326ebf6b5dcaa1ba8">7f9dbb1</a></td><td><code>Some last doc fixes and tweaks.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e03fee27f1ebff2741eb57fb0de4d7d80043636">4e03fee</a></td><td><code>remove unused local variable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e78047258774176c6e8271e29c9b5825cc12aa11">e780472</a></td><td><code>Addressing the linter complaint.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06123e1ddc9faeaed6d767af19e473695de50b0e">06123e1</a></td><td><code>Merge branch 'public/rings/lazy_talyor_series-32324' into public/rings/infinite_q_pochhammer-34381</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70486e6108fb53b35c7b094e43e4b71e67806300">70486e6</a></td><td><code>Refactoring the implementation of q_pochhammer and euler.</code></td></tr></table>




---

archive/issue_comments_653441.json:
```json
{
    "body": "**Dependencies:** #32324",
    "created_at": "2022-08-22T07:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653441",
    "user": "https://github.com/tscrim"
}
```

**Dependencies:** #32324



---

archive/issue_comments_653442.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [mantepse](#comment%3A6):\n> Replying to [tscrim](#comment%3A5):\n> > Replying to [mantepse](#comment%3A4):\n> > > Question: what do you mean with moving the construction of the underlying function to the `LazyLaurentSeriesRing`?\n\n> > \n> > For each of these special functions, we first construct a series `f`. So I propose having, e.g., `L.sin()` return `f(z) = sin(z)` in the variable of that lazy Laurent series ring. This avoids a composition call. I feel like it might make for a more natural home for, e.g., `euler()`.\n\n> \n> Indeed, that makes a lot of sense to me.  Similarly for all the other special functions where we end up composing with self in the last line.\n\n\nI did this just for the functions implemented on this ticket. Although I forgot to revert back my merge with #32324, but since that is positively reviewed, I am just adding it as a dependency (if you'll allow me to be lazy about it).",
    "created_at": "2022-08-22T07:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653442",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>
Replying to [mantepse](#comment%3A6):
> Replying to [tscrim](#comment%3A5):
> > Replying to [mantepse](#comment%3A4):
> > > Question: what do you mean with moving the construction of the underlying function to the `LazyLaurentSeriesRing`?

> > 
> > For each of these special functions, we first construct a series `f`. So I propose having, e.g., `L.sin()` return `f(z) = sin(z)` in the variable of that lazy Laurent series ring. This avoids a composition call. I feel like it might make for a more natural home for, e.g., `euler()`.

> 
> Indeed, that makes a lot of sense to me.  Similarly for all the other special functions where we end up composing with self in the last line.


I did this just for the functions implemented on this ticket. Although I forgot to revert back my merge with #32324, but since that is positively reviewed, I am just adding it as a dependency (if you'll allow me to be lazy about it).



---

archive/issue_comments_653443.json:
```json
{
    "body": "<a id='comment:9'></a>\nNo problem.  For #32367 I need a few more operations on lazy series, like reversion for `LazySymmetricFunctions`, \"functorial composition\", etc., see #34383.  However, I think I am making progress.\n\nDo you prefer to get `LazyTaylorSeries` into sage, and rename it to `LazyPowerSeries` later?  I would need more time (and possibly a zoom call) to be able to get rid of `LazyPowerSeries` right now.",
    "created_at": "2022-08-22T08:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653443",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:9'></a>
No problem.  For #32367 I need a few more operations on lazy series, like reversion for `LazySymmetricFunctions`, "functorial composition", etc., see #34383.  However, I think I am making progress.

Do you prefer to get `LazyTaylorSeries` into sage, and rename it to `LazyPowerSeries` later?  I would need more time (and possibly a zoom call) to be able to get rid of `LazyPowerSeries` right now.



---

archive/issue_comments_653444.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [mantepse](#comment%3A9):\n> No problem.  For #32367 I need a few more operations on lazy series, like reversion for `LazySymmetricFunctions`, \"functorial composition\", etc., see #34383.  However, I think I am making progress.\n\n\nThat's good to hear. Let me know if I can help.\n\n> Do you prefer to get `LazyTaylorSeries` into sage, and rename it to `LazyPowerSeries` later?  I would need more time (and possibly a zoom call) to be able to get rid of `LazyPowerSeries` right now.\n\n\nYes. I think it would be good to have that functionality available and get people to start using it.\n\nSend me an email if you want to do a Zoom call too.",
    "created_at": "2022-08-22T08:27:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653444",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
Replying to [mantepse](#comment%3A9):
> No problem.  For #32367 I need a few more operations on lazy series, like reversion for `LazySymmetricFunctions`, "functorial composition", etc., see #34383.  However, I think I am making progress.


That's good to hear. Let me know if I can help.

> Do you prefer to get `LazyTaylorSeries` into sage, and rename it to `LazyPowerSeries` later?  I would need more time (and possibly a zoom call) to be able to get rid of `LazyPowerSeries` right now.


Yes. I think it would be good to have that functionality available and get people to start using it.

Send me an email if you want to do a Zoom call too.



---

archive/issue_comments_653445.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c041897a3fb0ad63df2acb39f446e719234bdfa7\">c041897</a></td><td><code>Trac #34381: Fixing pyflakes issues.</code></td></tr></table>\n",
    "created_at": "2022-08-29T01:08:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653445",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c041897a3fb0ad63df2acb39f446e719234bdfa7">c041897</a></td><td><code>Trac #34381: Fixing pyflakes issues.</code></td></tr></table>




---

archive/issue_comments_653446.json:
```json
{
    "body": "**Changing commit** from \"[70486e6108fb53b35c7b094e43e4b71e67806300](https://github.com/sagemath/sagetrac-mirror/commit/70486e6108fb53b35c7b094e43e4b71e67806300)\" to \"[c041897a3fb0ad63df2acb39f446e719234bdfa7](https://github.com/sagemath/sagetrac-mirror/commit/c041897a3fb0ad63df2acb39f446e719234bdfa7)\".",
    "created_at": "2022-08-29T01:08:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653446",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[70486e6108fb53b35c7b094e43e4b71e67806300](https://github.com/sagemath/sagetrac-mirror/commit/70486e6108fb53b35c7b094e43e4b71e67806300)" to "[c041897a3fb0ad63df2acb39f446e719234bdfa7](https://github.com/sagemath/sagetrac-mirror/commit/c041897a3fb0ad63df2acb39f446e719234bdfa7)".



---

archive/issue_comments_653447.json:
```json
{
    "body": "<a id='comment:12'></a>\nBot was green modulo the pyflakes issues, which I have just pushed. I have also tested this locally post change.",
    "created_at": "2022-08-29T01:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653447",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
Bot was green modulo the pyflakes issues, which I have just pushed. I have also tested this locally post change.



---

archive/issue_comments_653448.json:
```json
{
    "body": "**Changing keywords** from \"q_pochhammer, euler function\" to \"q_pochhammer, euler function, LazyPowerSeries\".",
    "created_at": "2022-09-15T19:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653448",
    "user": "https://github.com/mantepse"
}
```

**Changing keywords** from "q_pochhammer, euler function" to "q_pochhammer, euler function, LazyPowerSeries".



---

archive/issue_comments_653449.json:
```json
{
    "body": "**Reviewer:** Martin Rubey",
    "created_at": "2022-09-15T19:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653449",
    "user": "https://github.com/mantepse"
}
```

**Reviewer:** Martin Rubey



---

archive/issue_events_101099.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "rename": {
        "from": "Add infinte q-Pochhammer symbol",
        "to": "Add infinite q-Pochhammer symbol"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34381#event-101099"
}
```



---

archive/issue_comments_653450.json:
```json
{
    "body": "<a id='comment:15'></a>\nI am a bit unhappy about the amount of (documentation) duplication, especially, since it would be nice to do this for all the \"special\" functions.",
    "created_at": "2022-09-15T19:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653450",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:15'></a>
I am a bit unhappy about the amount of (documentation) duplication, especially, since it would be nice to do this for all the "special" functions.



---

archive/issue_comments_653451.json:
```json
{
    "body": "<a id='comment:16'></a>\nUnfortunately that is not possible. Note that they are actually different functions with different doctests. We can make a link, but we cannot do any duplication.",
    "created_at": "2022-09-15T23:58:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653451",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
Unfortunately that is not possible. Note that they are actually different functions with different doctests. We can make a link, but we cannot do any duplication.



---

archive/issue_events_101100.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34381#event-101100"
}
```



---

archive/issue_comments_653452.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ecf5473d029bd05d97a8bd525f40462f45e6cc1\">4ecf547</a></td><td><code>Merge branch 'develop' into public/rings/infinite_q_pochhammer-34381</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/791229203ae5c55e2d89bb273f259a0c8b18c6bb\">7912292</a></td><td><code>Merge branch 'develop' into public/rings/infinite_q_pochhammer-34381</code></td></tr></table>\n",
    "created_at": "2022-10-22T07:37:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653452",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ecf5473d029bd05d97a8bd525f40462f45e6cc1">4ecf547</a></td><td><code>Merge branch 'develop' into public/rings/infinite_q_pochhammer-34381</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/791229203ae5c55e2d89bb273f259a0c8b18c6bb">7912292</a></td><td><code>Merge branch 'develop' into public/rings/infinite_q_pochhammer-34381</code></td></tr></table>




---

archive/issue_comments_653453.json:
```json
{
    "body": "**Changing commit** from \"[c041897a3fb0ad63df2acb39f446e719234bdfa7](https://github.com/sagemath/sagetrac-mirror/commit/c041897a3fb0ad63df2acb39f446e719234bdfa7)\" to \"[791229203ae5c55e2d89bb273f259a0c8b18c6bb](https://github.com/sagemath/sagetrac-mirror/commit/791229203ae5c55e2d89bb273f259a0c8b18c6bb)\".",
    "created_at": "2022-10-22T07:37:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653453",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c041897a3fb0ad63df2acb39f446e719234bdfa7](https://github.com/sagemath/sagetrac-mirror/commit/c041897a3fb0ad63df2acb39f446e719234bdfa7)" to "[791229203ae5c55e2d89bb273f259a0c8b18c6bb](https://github.com/sagemath/sagetrac-mirror/commit/791229203ae5c55e2d89bb273f259a0c8b18c6bb)".



---

archive/issue_comments_653454.json:
```json
{
    "body": "<a id='comment:19'></a>\nOne tiny thing: I think that we should be explicit that the function passed should be interpreted as coefficients:\n\n```\nsage: L.<q> = LazyLaurentSeriesRing(ZZ)\nsage: phi = q.euler()\nsage: phi\n1 - q - q^2 + q^5 + O(q^7)\nsage: L.<q> = LazyLaurentSeriesRing(LazyDirichletSeriesRing(QQ, \"s\"))\nsage: phi = q.euler()\nsage: phi\n(-1 - 1/(2^s) + 1/(5^s) + 1/(7^s) + O(1/(8^s)))\n```\n\n```diff\ndiff --git a/src/sage/rings/lazy_series_ring.py b/src/sage/rings/lazy_series_ring.py\nindex b7b1953f52f..51e2b1c365f 100644\n--- a/src/sage/rings/lazy_series_ring.py\n+++ b/src/sage/rings/lazy_series_ring.py\n@@ -1550,7 +1550,7 @@ class LazyLaurentSeriesRing(LazySeriesRing):\n         one = qP.one()\n         def coeff(n):\n             return (-1)**n * q**binomial(n, 2) / qP.prod(one - q**i for i in range(1, n+1))\n-        return self(coeff, valuation=0)\n+        return self(coefficients=coeff, valuation=0)\n \n     def euler(self):\n         r\"\"\"\n@@ -1588,7 +1588,7 @@ class LazyLaurentSeriesRing(LazySeriesRing):\n             if rem:\n                 return ZZ.zero()\n             return (-1) ** ((m + 1) // 6)\n-        return self(coeff, valuation=0)\n+        return self(coefficients=coeff, valuation=0)\n ######################################################################\n```\n\nIf this looks OK to you, let's go (with a big \"thank you\" for reviewing all the other issues, and being careful with #15248, etc.)!",
    "created_at": "2022-10-22T08:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653454",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:19'></a>
One tiny thing: I think that we should be explicit that the function passed should be interpreted as coefficients:

```
sage: L.<q> = LazyLaurentSeriesRing(ZZ)
sage: phi = q.euler()
sage: phi
1 - q - q^2 + q^5 + O(q^7)
sage: L.<q> = LazyLaurentSeriesRing(LazyDirichletSeriesRing(QQ, "s"))
sage: phi = q.euler()
sage: phi
(-1 - 1/(2^s) + 1/(5^s) + 1/(7^s) + O(1/(8^s)))
```

```diff
diff --git a/src/sage/rings/lazy_series_ring.py b/src/sage/rings/lazy_series_ring.py
index b7b1953f52f..51e2b1c365f 100644
--- a/src/sage/rings/lazy_series_ring.py
+++ b/src/sage/rings/lazy_series_ring.py
@@ -1550,7 +1550,7 @@ class LazyLaurentSeriesRing(LazySeriesRing):
         one = qP.one()
         def coeff(n):
             return (-1)**n * q**binomial(n, 2) / qP.prod(one - q**i for i in range(1, n+1))
-        return self(coeff, valuation=0)
+        return self(coefficients=coeff, valuation=0)
 
     def euler(self):
         r"""
@@ -1588,7 +1588,7 @@ class LazyLaurentSeriesRing(LazySeriesRing):
             if rem:
                 return ZZ.zero()
             return (-1) ** ((m + 1) // 6)
-        return self(coeff, valuation=0)
+        return self(coefficients=coeff, valuation=0)
 ######################################################################
```

If this looks OK to you, let's go (with a big "thank you" for reviewing all the other issues, and being careful with #15248, etc.)!



---

archive/issue_comments_653455.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2022-10-24T08:45:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653455",
    "user": "https://github.com/mantepse"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_653456.json:
```json
{
    "body": "**Changing commit** from \"[791229203ae5c55e2d89bb273f259a0c8b18c6bb](https://github.com/sagemath/sagetrac-mirror/commit/791229203ae5c55e2d89bb273f259a0c8b18c6bb)\" to \"[247faf7ee4a5a2a0848d77b6765e327e5116e636](https://github.com/sagemath/sagetrac-mirror/commit/247faf7ee4a5a2a0848d77b6765e327e5116e636)\".",
    "created_at": "2022-10-28T07:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653456",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[791229203ae5c55e2d89bb273f259a0c8b18c6bb](https://github.com/sagemath/sagetrac-mirror/commit/791229203ae5c55e2d89bb273f259a0c8b18c6bb)" to "[247faf7ee4a5a2a0848d77b6765e327e5116e636](https://github.com/sagemath/sagetrac-mirror/commit/247faf7ee4a5a2a0848d77b6765e327e5116e636)".



---

archive/issue_comments_653457.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/247faf7ee4a5a2a0848d77b6765e327e5116e636\">247faf7</a></td><td><code>Being more careful about passing the coefficients.</code></td></tr></table>\n",
    "created_at": "2022-10-28T07:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653457",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/247faf7ee4a5a2a0848d77b6765e327e5116e636">247faf7</a></td><td><code>Being more careful about passing the coefficients.</code></td></tr></table>




---

archive/issue_comments_653458.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2022-10-28T07:05:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653458",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_653459.json:
```json
{
    "body": "<a id='comment:22'></a>\nGood catch. Thank you.\n\n(No problem. Sorry I haven't been able to work so much on the other tickets, but I right now have a bit of time at least.)",
    "created_at": "2022-10-28T07:05:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653459",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>
Good catch. Thank you.

(No problem. Sorry I haven't been able to work so much on the other tickets, but I right now have a bit of time at least.)



---

archive/issue_comments_653460.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2022-10-28T10:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653460",
    "user": "https://github.com/mantepse"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_653461.json:
```json
{
    "body": "<a id='comment:24'></a>\nThank you.",
    "created_at": "2022-10-29T08:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653461",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:24'></a>
Thank you.



---

archive/issue_events_101101.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-11-07T20:26:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34381#event-101101"
}
```



---

archive/issue_comments_653462.json:
```json
{
    "body": "**Changing branch** from \"[public/rings/infinite_q_pochhammer-34381](https://github.com/sagemath/sagetrac-mirror/tree/public/rings/infinite_q_pochhammer-34381)\" to \"[247faf7ee4a5a2a0848d77b6765e327e5116e636](https://github.com/sagemath/sagetrac-mirror/commit/247faf7ee4a5a2a0848d77b6765e327e5116e636)\".",
    "created_at": "2022-11-07T20:26:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34381#issuecomment-653462",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/rings/infinite_q_pochhammer-34381](https://github.com/sagemath/sagetrac-mirror/tree/public/rings/infinite_q_pochhammer-34381)" to "[247faf7ee4a5a2a0848d77b6765e327e5116e636](https://github.com/sagemath/sagetrac-mirror/commit/247faf7ee4a5a2a0848d77b6765e327e5116e636)".
