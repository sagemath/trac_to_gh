# Issue 34839: Support tox 4

archive/issues_034602.json:
```json
{
    "body": "tox 4 renamed a tox.ini configuration keyword and has slightly changed quoting behavior.\n \nAlso tox >= 3.18 supports the renamed keyword - https://tox.wiki/en/3.27.1/changelog.html#v3-18-0-2020-07-23\n\nAlso the changed quote works with both versions.\n\n\n\n**Branch:** [u/chapoton/support_tox_4](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/support_tox_4)\n\n**Commit:** [9d76204fb5801054755b2e7bc54aeb6743742ced](https://github.com/sagemath/sagetrac-mirror/commit/9d76204fb5801054755b2e7bc54aeb6743742ced)\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton, Matthias Koeppe\n\n**Author:** Matthias Koeppe, Fr\u00e9d\u00e9ric Chapoton\n\n**Status:** positive_review\n\nIssue created by migration from https://trac.sagemath.org/ticket/34839\n\n",
    "created_at": "2022-12-12T00:36:25Z",
    "labels": [
        "component: packages: standard",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Support tox 4",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34839",
    "user": "https://github.com/mkoeppe"
}
```
tox 4 renamed a tox.ini configuration keyword and has slightly changed quoting behavior.
 
Also tox >= 3.18 supports the renamed keyword - https://tox.wiki/en/3.27.1/changelog.html#v3-18-0-2020-07-23

Also the changed quote works with both versions.



**Branch:** [u/chapoton/support_tox_4](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/support_tox_4)

**Commit:** [9d76204fb5801054755b2e7bc54aeb6743742ced](https://github.com/sagemath/sagetrac-mirror/commit/9d76204fb5801054755b2e7bc54aeb6743742ced)

**Reviewer:** Frédéric Chapoton, Matthias Koeppe

**Author:** Matthias Koeppe, Frédéric Chapoton

**Status:** positive_review

Issue created by migration from https://trac.sagemath.org/ticket/34839





---

archive/issue_comments_661087.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/support_tox_4](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/support_tox_4)",
    "created_at": "2022-12-12T02:20:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661087",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/support_tox_4](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/support_tox_4)



---

archive/issue_comments_661088.json:
```json
{
    "body": "**Commit:** [d302a628936a965d4e5c3501b7989028274fac95](https://github.com/sagemath/sagetrac-mirror/commit/d302a628936a965d4e5c3501b7989028274fac95)",
    "created_at": "2022-12-12T02:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661088",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [d302a628936a965d4e5c3501b7989028274fac95](https://github.com/sagemath/sagetrac-mirror/commit/d302a628936a965d4e5c3501b7989028274fac95)



---

archive/issue_comments_661089.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d302a628936a965d4e5c3501b7989028274fac95\">d302a62</a></td><td><code>tox.ini, src/tox.ini: Adjust to tox 4, autoprovision tox >= 3.18</code></td></tr></table>\n",
    "created_at": "2022-12-12T02:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661089",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d302a628936a965d4e5c3501b7989028274fac95">d302a62</a></td><td><code>tox.ini, src/tox.ini: Adjust to tox 4, autoprovision tox >= 3.18</code></td></tr></table>




---

archive/issue_comments_661090.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2022-12-12T02:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661090",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_661091.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2022-12-12T02:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661091",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_661092.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n-tox 4 renamed a tox.ini configuration keyword. \n-Also tox >= 3.18 supports the renamed keyword. https://tox.wiki/en/3.27.1/changelog.html#v3-18-0-2020-07-23\n+tox 4 renamed a tox.ini configuration keyword and has slightly changed quoting behavior.\n+ \n+Also tox >= 3.18 supports the renamed keyword - https://tox.wiki/en/3.27.1/changelog.html#v3-18-0-2020-07-23\n \n+Also the changed quote works with both versions.\n+\n+\n``````\n",
    "created_at": "2022-12-12T02:22:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661092",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
-tox 4 renamed a tox.ini configuration keyword. 
-Also tox >= 3.18 supports the renamed keyword. https://tox.wiki/en/3.27.1/changelog.html#v3-18-0-2020-07-23
+tox 4 renamed a tox.ini configuration keyword and has slightly changed quoting behavior.
+ 
+Also tox >= 3.18 supports the renamed keyword - https://tox.wiki/en/3.27.1/changelog.html#v3-18-0-2020-07-23
 
+Also the changed quote works with both versions.
+
+
``````




---

archive/issue_comments_661093.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe linter is finding rst issues outside of src/sage. Is this the desired behaviour ?\n\nBy the way, one should rather fix these issues.",
    "created_at": "2022-12-12T09:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661093",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
The linter is finding rst issues outside of src/sage. Is this the desired behaviour ?

By the way, one should rather fix these issues.



---

archive/issue_comments_661094.json:
```json
{
    "body": "**Changing commit** from \"[d302a628936a965d4e5c3501b7989028274fac95](https://github.com/sagemath/sagetrac-mirror/commit/d302a628936a965d4e5c3501b7989028274fac95)\" to \"[f8703aeba13b8663e55b46494dec4fd305e65374](https://github.com/sagemath/sagetrac-mirror/commit/f8703aeba13b8663e55b46494dec4fd305e65374)\".",
    "created_at": "2022-12-12T10:22:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661094",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d302a628936a965d4e5c3501b7989028274fac95](https://github.com/sagemath/sagetrac-mirror/commit/d302a628936a965d4e5c3501b7989028274fac95)" to "[f8703aeba13b8663e55b46494dec4fd305e65374](https://github.com/sagemath/sagetrac-mirror/commit/f8703aeba13b8663e55b46494dec4fd305e65374)".



---

archive/issue_comments_661095.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8703aeba13b8663e55b46494dec4fd305e65374\">f8703ae</a></td><td><code>.github/workflows/lint.yml: Invoke tox with --</code></td></tr></table>\n",
    "created_at": "2022-12-12T10:22:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661095",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8703aeba13b8663e55b46494dec4fd305e65374">f8703ae</a></td><td><code>.github/workflows/lint.yml: Invoke tox with --</code></td></tr></table>




---

archive/issue_comments_661096.json:
```json
{
    "body": "<a id='comment:6'></a>\nrelint is fixed now - is this what you meant?",
    "created_at": "2022-12-12T10:24:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661096",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
relint is fixed now - is this what you meant?



---

archive/issue_comments_661097.json:
```json
{
    "body": "<a id='comment:7'></a>\nno. I am talking about the errors seen in the third report\n\nhttps://github.com/sagemath/sagetrac-mirror/actions/runs/3674822970/jobs/6213509002",
    "created_at": "2022-12-12T10:35:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661097",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
no. I am talking about the errors seen in the third report

https://github.com/sagemath/sagetrac-mirror/actions/runs/3674822970/jobs/6213509002



---

archive/issue_comments_661098.json:
```json
{
    "body": "<a id='comment:8'></a>\nI have tried to fix these errors, let us see\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d76204fb5801054755b2e7bc54aeb6743742ced\">9d76204</a></td><td><code>fix some rst issues in sage_docbuild and sage_setup</code></td></tr></table>\n",
    "created_at": "2022-12-12T14:36:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661098",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
I have tried to fix these errors, let us see

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d76204fb5801054755b2e7bc54aeb6743742ced">9d76204</a></td><td><code>fix some rst issues in sage_docbuild and sage_setup</code></td></tr></table>




---

archive/issue_comments_661099.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/support_tox_4](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/support_tox_4)\" to \"[u/chapoton/support_tox_4](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/support_tox_4)\".",
    "created_at": "2022-12-12T14:36:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661099",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/mkoeppe/support_tox_4](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/support_tox_4)" to "[u/chapoton/support_tox_4](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/support_tox_4)".



---

archive/issue_comments_661100.json:
```json
{
    "body": "**Changing commit** from \"[f8703aeba13b8663e55b46494dec4fd305e65374](https://github.com/sagemath/sagetrac-mirror/commit/f8703aeba13b8663e55b46494dec4fd305e65374)\" to \"[9d76204fb5801054755b2e7bc54aeb6743742ced](https://github.com/sagemath/sagetrac-mirror/commit/9d76204fb5801054755b2e7bc54aeb6743742ced)\".",
    "created_at": "2022-12-12T14:36:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661100",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[f8703aeba13b8663e55b46494dec4fd305e65374](https://github.com/sagemath/sagetrac-mirror/commit/f8703aeba13b8663e55b46494dec4fd305e65374)" to "[9d76204fb5801054755b2e7bc54aeb6743742ced](https://github.com/sagemath/sagetrac-mirror/commit/9d76204fb5801054755b2e7bc54aeb6743742ced)".



---

archive/issue_comments_661101.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2022-12-12T16:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661101",
    "user": "https://github.com/fchapoton"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_comments_661102.json:
```json
{
    "body": "<a id='comment:9'></a>\nlooks good to me. Please check my commit and then set to positive.",
    "created_at": "2022-12-12T16:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661102",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
looks good to me. Please check my commit and then set to positive.



---

archive/issue_comments_661103.json:
```json
{
    "body": "**Changing author** from \"Matthias Koeppe\" to \"Matthias Koeppe, Fr\u00e9d\u00e9ric Chapoton\".",
    "created_at": "2022-12-12T18:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661103",
    "user": "https://github.com/mkoeppe"
}
```

**Changing author** from "Matthias Koeppe" to "Matthias Koeppe, Frédéric Chapoton".



---

archive/issue_comments_661104.json:
```json
{
    "body": "**Changing reviewer** from \"Fr\u00e9d\u00e9ric Chapoton\" to \"Fr\u00e9d\u00e9ric Chapoton, Matthias Koeppe\".",
    "created_at": "2022-12-12T18:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661104",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "Frédéric Chapoton" to "Frédéric Chapoton, Matthias Koeppe".



---

archive/issue_comments_661105.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2022-12-12T18:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661105",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_661106.json:
```json
{
    "body": "<a id='comment:10'></a>\nThanks!",
    "created_at": "2022-12-12T18:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-661106",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
Thanks!
