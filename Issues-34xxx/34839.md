# Issue 34839: Support tox 4

archive/issues_034602.json:
```json
{
    "body": "tox 4 renamed a tox.ini configuration keyword and has slightly changed quoting behavior.\n \nAlso tox >= 3.18 supports the renamed keyword - https://tox.wiki/en/3.27.1/changelog.html#v3-18-0-2020-07-23\n\nAlso the changed quote works with both versions.\n\n\n\nBranch: [u/chapoton/support_tox_4](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/support_tox_4)\n\nCommit: [9d76204fb5801054755b2e7bc54aeb6743742ced](https://github.com/sagemath/sagetrac-mirror/commit/9d76204fb5801054755b2e7bc54aeb6743742ced)\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton, Matthias Koeppe\n\nAuthor: Matthias Koeppe, Fr\u00e9d\u00e9ric Chapoton\n\nStatus: positive_review\n\nIssue created by migration from https://trac.sagemath.org/ticket/34839\n\n",
    "created_at": "2022-12-12T00:36:25Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Support tox 4",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34839",
    "user": "https://github.com/mkoeppe"
}
```
tox 4 renamed a tox.ini configuration keyword and has slightly changed quoting behavior.
 
Also tox >= 3.18 supports the renamed keyword - https://tox.wiki/en/3.27.1/changelog.html#v3-18-0-2020-07-23

Also the changed quote works with both versions.



Branch: [u/chapoton/support_tox_4](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/support_tox_4)

Commit: [9d76204fb5801054755b2e7bc54aeb6743742ced](https://github.com/sagemath/sagetrac-mirror/commit/9d76204fb5801054755b2e7bc54aeb6743742ced)

Reviewer: Frédéric Chapoton, Matthias Koeppe

Author: Matthias Koeppe, Frédéric Chapoton

Status: positive_review

Issue created by migration from https://trac.sagemath.org/ticket/34839





---

archive/issue_comments_691561.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/support_tox_4\"",
    "created_at": "2022-12-12T02:20:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691561",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/support_tox_4"



---

archive/issue_comments_691562.json:
```json
{
    "body": "Changing commit from \"\" to \"d302a628936a965d4e5c3501b7989028274fac95\"",
    "created_at": "2022-12-12T02:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691562",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "d302a628936a965d4e5c3501b7989028274fac95"



---

archive/issue_comments_691563.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|\n|[d302a62](https://github.com/sagemath/sagetrac-mirror/commit/d302a628936a965d4e5c3501b7989028274fac95)|`tox.ini, src/tox.ini: Adjust to tox 4, autoprovision tox >= 3.18`|",
    "created_at": "2022-12-12T02:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691563",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
|[d302a62](https://github.com/sagemath/sagetrac-mirror/commit/d302a628936a965d4e5c3501b7989028274fac95)|`tox.ini, src/tox.ini: Adjust to tox 4, autoprovision tox >= 3.18`|



---

archive/issue_comments_691564.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2022-12-12T02:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691564",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_691565.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-12-12T02:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691565",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_691566.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n-tox 4 renamed a tox.ini configuration keyword. \n-Also tox >= 3.18 supports the renamed keyword. https://tox.wiki/en/3.27.1/changelog.html#v3-18-0-2020-07-23\n+tox 4 renamed a tox.ini configuration keyword and has slightly changed quoting behavior.\n+ \n+Also tox >= 3.18 supports the renamed keyword - https://tox.wiki/en/3.27.1/changelog.html#v3-18-0-2020-07-23\n \n+Also the changed quote works with both versions.\n+\n+\n``````\n",
    "created_at": "2022-12-12T02:22:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691566",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
-tox 4 renamed a tox.ini configuration keyword. 
-Also tox >= 3.18 supports the renamed keyword. https://tox.wiki/en/3.27.1/changelog.html#v3-18-0-2020-07-23
+tox 4 renamed a tox.ini configuration keyword and has slightly changed quoting behavior.
+ 
+Also tox >= 3.18 supports the renamed keyword - https://tox.wiki/en/3.27.1/changelog.html#v3-18-0-2020-07-23
 
+Also the changed quote works with both versions.
+
+
``````




---

archive/issue_comments_691567.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe linter is finding rst issues outside of src/sage. Is this the desired behaviour ?\n\nBy the way, one should rather fix these issues.",
    "created_at": "2022-12-12T09:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691567",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
The linter is finding rst issues outside of src/sage. Is this the desired behaviour ?

By the way, one should rather fix these issues.



---

archive/issue_comments_691568.json:
```json
{
    "body": "Changing commit from \"d302a628936a965d4e5c3501b7989028274fac95\" to \"f8703aeba13b8663e55b46494dec4fd305e65374\"",
    "created_at": "2022-12-12T10:22:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691568",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d302a628936a965d4e5c3501b7989028274fac95" to "f8703aeba13b8663e55b46494dec4fd305e65374"



---

archive/issue_comments_691569.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[f8703ae](https://github.com/sagemath/sagetrac-mirror/commit/f8703aeba13b8663e55b46494dec4fd305e65374)|`.github/workflows/lint.yml: Invoke tox with --`|",
    "created_at": "2022-12-12T10:22:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691569",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[f8703ae](https://github.com/sagemath/sagetrac-mirror/commit/f8703aeba13b8663e55b46494dec4fd305e65374)|`.github/workflows/lint.yml: Invoke tox with --`|



---

archive/issue_comments_691570.json:
```json
{
    "body": "<a id='comment:6'></a>\nrelint is fixed now - is this what you meant?",
    "created_at": "2022-12-12T10:24:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691570",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
relint is fixed now - is this what you meant?



---

archive/issue_comments_691571.json:
```json
{
    "body": "<a id='comment:7'></a>\nno. I am talking about the errors seen in the third report\n\nhttps://github.com/sagemath/sagetrac-mirror/actions/runs/3674822970/jobs/6213509002",
    "created_at": "2022-12-12T10:35:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691571",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
no. I am talking about the errors seen in the third report

https://github.com/sagemath/sagetrac-mirror/actions/runs/3674822970/jobs/6213509002



---

archive/issue_comments_691572.json:
```json
{
    "body": "<a id='comment:8'></a>\nI have tried to fix these errors, let us see\n\n---\nNew commits:\n|                                                                                                                                          |                                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[9d76204](https://github.com/sagemath/sagetrac-mirror/commit/9d76204fb5801054755b2e7bc54aeb6743742ced)|`fix some rst issues in sage_docbuild and sage_setup`|",
    "created_at": "2022-12-12T14:36:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691572",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
I have tried to fix these errors, let us see

---
New commits:
|                                                                                                                                          |                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[9d76204](https://github.com/sagemath/sagetrac-mirror/commit/9d76204fb5801054755b2e7bc54aeb6743742ced)|`fix some rst issues in sage_docbuild and sage_setup`|



---

archive/issue_comments_691573.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/support_tox_4\" to \"u/chapoton/support_tox_4\"",
    "created_at": "2022-12-12T14:36:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691573",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "u/mkoeppe/support_tox_4" to "u/chapoton/support_tox_4"



---

archive/issue_comments_691574.json:
```json
{
    "body": "Changing commit from \"f8703aeba13b8663e55b46494dec4fd305e65374\" to \"9d76204fb5801054755b2e7bc54aeb6743742ced\"",
    "created_at": "2022-12-12T14:36:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691574",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "f8703aeba13b8663e55b46494dec4fd305e65374" to "9d76204fb5801054755b2e7bc54aeb6743742ced"



---

archive/issue_comments_691575.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2022-12-12T16:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691575",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_691576.json:
```json
{
    "body": "<a id='comment:9'></a>\nlooks good to me. Please check my commit and then set to positive.",
    "created_at": "2022-12-12T16:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691576",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
looks good to me. Please check my commit and then set to positive.



---

archive/issue_comments_691577.json:
```json
{
    "body": "Changing author from \"Matthias Koeppe\" to \"Matthias Koeppe, Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2022-12-12T18:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691577",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Matthias Koeppe" to "Matthias Koeppe, Frédéric Chapoton"



---

archive/issue_comments_691578.json:
```json
{
    "body": "Changing reviewer from \"Fr\u00e9d\u00e9ric Chapoton\" to \"Fr\u00e9d\u00e9ric Chapoton, Matthias Koeppe\"",
    "created_at": "2022-12-12T18:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691578",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "Frédéric Chapoton" to "Frédéric Chapoton, Matthias Koeppe"



---

archive/issue_comments_691579.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-12-12T18:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691579",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_691580.json:
```json
{
    "body": "<a id='comment:10'></a>\nThanks!",
    "created_at": "2022-12-12T18:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34839#issuecomment-691580",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
Thanks!
