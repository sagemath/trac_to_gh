# Issue 34303: √élu algorithm: asymptotically faster elliptic-curve isogenies

archive/issues_034066.json:
```json
{
    "body": "Sage currently computes an isogeny of prime degree `\u2113` using `\u03f4(\u2113)` base-field operations. We can achieve the same task in `O\u0303(\u221a\u2113)` operations using the **\u221a\u00e9lu algorithm**; see https://velusqrt.isogeny.org.\n\nThis patch adds a fairly reasonable implementation of the algorithm to Sage. It works for odd-degree isogenies over all finite fields and can outperform the current `EllipticCurveIsogeny` class starting from degrees around 100, depending on the concrete performance of the underlying base-field and polynomial arithmetic.\n\nThe new code is marked as experimental and isn't used anywhere by default. After some real-world testing and careful benchmarking, we can (and should) let Sage automatically decide which implementation to use for a given input.\n\nCC:  @defeo @JohnCremona @categorie bensmith tanja @tscrim @videlec @slel @kwankyu\n\nBranch: [a0f4c4a994abeadc7719c44625b37b0c2ee7c828](https://github.com/sagemath/sagetrac-mirror/commit/a0f4c4a994abeadc7719c44625b37b0c2ee7c828)\n\nReviewer: John Cremona, Travis Scrimshaw, Kwankyu Lee\n\nAuthor: Lorenz Panny\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/34303\n\n",
    "closed_at": "2022-08-30T06:51:36Z",
    "created_at": "2022-08-08T10:19:09Z",
    "labels": [
        "component: elliptic curves"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "\u221a\u00e9lu algorithm: asymptotically faster elliptic-curve isogenies",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34303",
    "user": "https://github.com/yyyyx4"
}
```
Sage currently computes an isogeny of prime degree `ℓ` using `ϴ(ℓ)` base-field operations. We can achieve the same task in `Õ(√ℓ)` operations using the **√élu algorithm**; see https://velusqrt.isogeny.org.

This patch adds a fairly reasonable implementation of the algorithm to Sage. It works for odd-degree isogenies over all finite fields and can outperform the current `EllipticCurveIsogeny` class starting from degrees around 100, depending on the concrete performance of the underlying base-field and polynomial arithmetic.

The new code is marked as experimental and isn't used anywhere by default. After some real-world testing and careful benchmarking, we can (and should) let Sage automatically decide which implementation to use for a given input.

CC:  @defeo @JohnCremona @categorie bensmith tanja @tscrim @videlec @slel @kwankyu

Branch: [a0f4c4a994abeadc7719c44625b37b0c2ee7c828](https://github.com/sagemath/sagetrac-mirror/commit/a0f4c4a994abeadc7719c44625b37b0c2ee7c828)

Reviewer: John Cremona, Travis Scrimshaw, Kwankyu Lee

Author: Lorenz Panny

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/34303





---

archive/issue_comments_682800.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-08T10:25:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682800",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_682801.json:
```json
{
    "body": "Author: Lorenz Panny",
    "created_at": "2022-08-08T10:25:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682801",
    "user": "https://github.com/yyyyx4"
}
```

Author: Lorenz Panny



---

archive/issue_comments_682802.json:
```json
{
    "body": "Commit: [4b24a772b7115c97ed4d8c1727347e90aec4587a](https://github.com/sagemath/sagetrac-mirror/commit/4b24a772b7115c97ed4d8c1727347e90aec4587a)",
    "created_at": "2022-08-08T10:25:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682802",
    "user": "https://github.com/yyyyx4"
}
```

Commit: [4b24a772b7115c97ed4d8c1727347e90aec4587a](https://github.com/sagemath/sagetrac-mirror/commit/4b24a772b7115c97ed4d8c1727347e90aec4587a)



---

archive/issue_comments_682803.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,5 @@\n Sage currently computes an isogeny of prime degree `\u2113` using `\u03f4(\u2113)` base-field operations. We can achieve the same task in `O\u0303(\u221a\u2113)` operations using the **\u221a\u00e9lu algorithm**; see https://velusqrt.isogeny.org.\n \n+This patch adds a fairly reasonable implementation of the algorithm to Sage. It works for odd-degree isogenies over all finite fields and can outperform the current `EllipticCurveIsogeny` class starting from degrees around 100, depending on the concrete performance of the underlying base-field and polynomial arithmetic.\n+\n+The new code is marked as experimental and isn't used anywhere by default. After some real-world testing and careful benchmarking, we can (and should) let Sage automatically decide which implementation to use for a given input.\n``````\n",
    "created_at": "2022-08-08T10:25:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682803",
    "user": "https://github.com/yyyyx4"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,5 @@
 Sage currently computes an isogeny of prime degree `ℓ` using `ϴ(ℓ)` base-field operations. We can achieve the same task in `Õ(√ℓ)` operations using the **√élu algorithm**; see https://velusqrt.isogeny.org.
 
+This patch adds a fairly reasonable implementation of the algorithm to Sage. It works for odd-degree isogenies over all finite fields and can outperform the current `EllipticCurveIsogeny` class starting from degrees around 100, depending on the concrete performance of the underlying base-field and polynomial arithmetic.
+
+The new code is marked as experimental and isn't used anywhere by default. After some real-world testing and careful benchmarking, we can (and should) let Sage automatically decide which implementation to use for a given input.
``````




---

archive/issue_comments_682804.json:
```json
{
    "body": "Branch: [public/velusqrt_algorithm_for_elliptic_curve_isogenies](https://github.com/sagemath/sagetrac-mirror/tree/public/velusqrt_algorithm_for_elliptic_curve_isogenies)",
    "created_at": "2022-08-08T10:25:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682804",
    "user": "https://github.com/yyyyx4"
}
```

Branch: [public/velusqrt_algorithm_for_elliptic_curve_isogenies](https://github.com/sagemath/sagetrac-mirror/tree/public/velusqrt_algorithm_for_elliptic_curve_isogenies)



---

archive/issue_comments_682805.json:
```json
{
    "body": "<a id='comment:2'></a>\nI have a question: although I know that the application of greatest interest involves curves over finite fields, I assume that the faster algorithm also works in characteristic 0, so that isogenies between curves defined over number fields will also be affected by this? I hope so.",
    "created_at": "2022-08-10T13:51:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682805",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:2'></a>
I have a question: although I know that the application of greatest interest involves curves over finite fields, I assume that the faster algorithm also works in characteristic 0, so that isogenies between curves defined over number fields will also be affected by this? I hope so.



---

archive/issue_comments_682806.json:
```json
{
    "body": "<a id='comment:3'></a>\nThat's a good question. The \u221a\u00e9lu speedup works best if you have an actual rational kernel point as input, which requires big field extensions for large isogeny degrees over number fields. There is a variant of the algorithm for rational kernels made up of irrational points, but the speedup is smaller in that case.\n\nDo you have an application in mind? Which field and isogeny degree, and how is the input given? It shouldn't be hard to make this work for number fields, but I'm not sure if it helps at all, which is why I restricted the current implementation to finite fields.",
    "created_at": "2022-08-16T16:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682806",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:3'></a>
That's a good question. The √élu speedup works best if you have an actual rational kernel point as input, which requires big field extensions for large isogeny degrees over number fields. There is a variant of the algorithm for rational kernels made up of irrational points, but the speedup is smaller in that case.

Do you have an application in mind? Which field and isogeny degree, and how is the input given? It shouldn't be hard to make this work for number fields, but I'm not sure if it helps at all, which is why I restricted the current implementation to finite fields.



---

archive/issue_comments_682807.json:
```json
{
    "body": "<a id='comment:4'></a>\nI was hoping we could get this into the upcoming release so that other people can play around with it. This is opt-in and marked as experimental, so a minimum viable review basically consists of checking that it doesn't do any harm. Could someone please spare a few minutes to have a look?",
    "created_at": "2022-08-18T17:35:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682807",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:4'></a>
I was hoping we could get this into the upcoming release so that other people can play around with it. This is opt-in and marked as experimental, so a minimum viable review basically consists of checking that it doesn't do any harm. Could someone please spare a few minutes to have a look?



---

archive/issue_comments_682808.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [lorenz](#comment%3A3):\n> That's a good question. The \u221a\u00e9lu speedup works best if you have an actual rational kernel point as input, which requires big field extensions for large isogeny degrees over number fields. There is a variant of the algorithm for rational kernels made up of irrational points, but the speedup is smaller in that case.\n> \n> Do you have an application in mind? Which field and isogeny degree, and how is the input given? It shouldn't be hard to make this work for number fields, but I'm not sure if it helps at all, which is why I restricted the current implementation to finite fields.\n\n\nThe isogenies I compute are mostly over number fields and of small prime degree ell, where \"small\" mostly means <50.  And for most of these ell, I have implemented special code for them (which works over finte fields too, except characteristic ell).  As for the input, it's just the curve and ell and I need all the ell-isogenous curves;  there are easy necessary conditions for an ell-isogeny to exist so I would rarely try to compute one when it does not exist.",
    "created_at": "2022-08-18T18:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682808",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:5'></a>
Replying to [lorenz](#comment%3A3):
> That's a good question. The √élu speedup works best if you have an actual rational kernel point as input, which requires big field extensions for large isogeny degrees over number fields. There is a variant of the algorithm for rational kernels made up of irrational points, but the speedup is smaller in that case.
> 
> Do you have an application in mind? Which field and isogeny degree, and how is the input given? It shouldn't be hard to make this work for number fields, but I'm not sure if it helps at all, which is why I restricted the current implementation to finite fields.


The isogenies I compute are mostly over number fields and of small prime degree ell, where "small" mostly means <50.  And for most of these ell, I have implemented special code for them (which works over finte fields too, except characteristic ell).  As for the input, it's just the curve and ell and I need all the ell-isogenous curves;  there are easy necessary conditions for an ell-isogeny to exist so I would rarely try to compute one when it does not exist.



---

archive/issue_comments_682809.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [lorenz](#comment%3A4):\n> I was hoping we could get this into the upcoming release so that other people can play around with it. This is opt-in and marked as experimental, so a minimum viable review basically consists of checking that it doesn't do any harm. Could someone please spare a few minutes to have a look?\n\n\nI had a first look, and will come back to it tomorrow.",
    "created_at": "2022-08-18T18:03:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682809",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:6'></a>
Replying to [lorenz](#comment%3A4):
> I was hoping we could get this into the upcoming release so that other people can play around with it. This is opt-in and marked as experimental, so a minimum viable review basically consists of checking that it doesn't do any harm. Could someone please spare a few minutes to have a look?


I had a first look, and will come back to it tomorrow.



---

archive/issue_comments_682810.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-08-19T10:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682810",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_682811.json:
```json
{
    "body": "Reviewer: John Cremona",
    "created_at": "2022-08-19T10:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682811",
    "user": "https://github.com/JohnCremona"
}
```

Reviewer: John Cremona



---

archive/issue_comments_682812.json:
```json
{
    "body": "Work_Issues: document parameters for all methods and functions",
    "created_at": "2022-08-19T10:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682812",
    "user": "https://github.com/JohnCremona"
}
```

Work_Issues: document parameters for all methods and functions



---

archive/issue_comments_682813.json:
```json
{
    "body": "<a id='comment:7'></a>\nHere are some comments made as I read the code, so not in order of importance.  Point 4 about documenting parameters is the most important -- otherwise docstrings, examples ans tests are very good.\n\n1. Instead of \n\n```\n    sage: sum(iso(psiQ) == phiQ for iso in isos)\n    1\n```\nI would suggest\n\n```\n    sage: any(iso(psiQ) == phiQ for iso in isos)\n    True\n```\n\n2. There's a comment which says that the code works on \"short Weierstrass curves\", so I assume that menas that the characteristic should not be 2 (and perhaps also not 3).  This should probably be stated at the top of the file `hom_velusqrt.py`.  I haven't yet checked whether this condition is checked in the code.\n\n3. I see the comment about this implementation only being over finite fields.  I think that is fine, given that isogenies of high degree over number fields are rarely encountered (since the field would have to have high degree over `QQ`), as I said in an earlier comment.\n\n4. Methods' docstrings should have an INPUT block documenting all parameters (apart from `self`), for example the `_init_` method, of ProductTree and more (not itemised here!).\n\nI see that the code here is not called from elsewhere -- in particular, not called by default by isogeny methods of elliptic curve classes -- so is certainly harmless to include.",
    "created_at": "2022-08-19T10:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682813",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:7'></a>
Here are some comments made as I read the code, so not in order of importance.  Point 4 about documenting parameters is the most important -- otherwise docstrings, examples ans tests are very good.

1. Instead of 

```
    sage: sum(iso(psiQ) == phiQ for iso in isos)
    1
```
I would suggest

```
    sage: any(iso(psiQ) == phiQ for iso in isos)
    True
```

2. There's a comment which says that the code works on "short Weierstrass curves", so I assume that menas that the characteristic should not be 2 (and perhaps also not 3).  This should probably be stated at the top of the file `hom_velusqrt.py`.  I haven't yet checked whether this condition is checked in the code.

3. I see the comment about this implementation only being over finite fields.  I think that is fine, given that isogenies of high degree over number fields are rarely encountered (since the field would have to have high degree over `QQ`), as I said in an earlier comment.

4. Methods' docstrings should have an INPUT block documenting all parameters (apart from `self`), for example the `_init_` method, of ProductTree and more (not itemised here!).

I see that the code here is not called from elsewhere -- in particular, not called by default by isogeny methods of elliptic curve classes -- so is certainly harmless to include.



---

archive/issue_comments_682814.json:
```json
{
    "body": "Changing commit from \"[4b24a772b7115c97ed4d8c1727347e90aec4587a](https://github.com/sagemath/sagetrac-mirror/commit/4b24a772b7115c97ed4d8c1727347e90aec4587a)\" to \"[986462f5576f046fd7117c7585269b7fcaf79af6](https://github.com/sagemath/sagetrac-mirror/commit/986462f5576f046fd7117c7585269b7fcaf79af6)\"",
    "created_at": "2022-08-21T02:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682814",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[4b24a772b7115c97ed4d8c1727347e90aec4587a](https://github.com/sagemath/sagetrac-mirror/commit/4b24a772b7115c97ed4d8c1727347e90aec4587a)" to "[986462f5576f046fd7117c7585269b7fcaf79af6](https://github.com/sagemath/sagetrac-mirror/commit/986462f5576f046fd7117c7585269b7fcaf79af6)"



---

archive/issue_comments_682815.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|\n|[b0b8cfb](https://github.com/sagemath/sagetrac-mirror/commit/b0b8cfb988118d993acd5ef1e2bdac5bb7bf4dbe)|`clarify that curves without a short Weierstra\u00df model only exist in characteristics 2 and 3`|\n|[9f9a77c](https://github.com/sagemath/sagetrac-mirror/commit/9f9a77c3be5be220729d47f655627ec30aff2818)|`improve documentation for \u221a\u00e9lu code`|\n|[8bdcd45](https://github.com/sagemath/sagetrac-mirror/commit/8bdcd4516ce9b4f7d81a33e3f1420f660279b2d8)|`move comparison by evaluation up from hom_composite.py to hom.py`|\n|[1e80198](https://github.com/sagemath/sagetrac-mirror/commit/1e80198ddfd554ab358d88b5740dee3ab20e02a9)|`implement more flexible comparison for EllipticCurveHom children including \u221a\u00e9lu`|\n|[ab4b4bf](https://github.com/sagemath/sagetrac-mirror/commit/ab4b4bf817ba3e7bd6dda4588d0047d28cd83a77)|`ensure correct base rings (example from failing random doctest)`|\n|[986462f](https://github.com/sagemath/sagetrac-mirror/commit/986462f5576f046fd7117c7585269b7fcaf79af6)|`add glue code in EllipticCurve_field.isogeny() to use the \u221a\u00e9lu implementation`|",
    "created_at": "2022-08-21T02:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682815",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|
|[b0b8cfb](https://github.com/sagemath/sagetrac-mirror/commit/b0b8cfb988118d993acd5ef1e2bdac5bb7bf4dbe)|`clarify that curves without a short Weierstraß model only exist in characteristics 2 and 3`|
|[9f9a77c](https://github.com/sagemath/sagetrac-mirror/commit/9f9a77c3be5be220729d47f655627ec30aff2818)|`improve documentation for √élu code`|
|[8bdcd45](https://github.com/sagemath/sagetrac-mirror/commit/8bdcd4516ce9b4f7d81a33e3f1420f660279b2d8)|`move comparison by evaluation up from hom_composite.py to hom.py`|
|[1e80198](https://github.com/sagemath/sagetrac-mirror/commit/1e80198ddfd554ab358d88b5740dee3ab20e02a9)|`implement more flexible comparison for EllipticCurveHom children including √élu`|
|[ab4b4bf](https://github.com/sagemath/sagetrac-mirror/commit/ab4b4bf817ba3e7bd6dda4588d0047d28cd83a77)|`ensure correct base rings (example from failing random doctest)`|
|[986462f](https://github.com/sagemath/sagetrac-mirror/commit/986462f5576f046fd7117c7585269b7fcaf79af6)|`add glue code in EllipticCurve_field.isogeny() to use the √élu implementation`|



---

archive/issue_comments_682816.json:
```json
{
    "body": "<a id='comment:9'></a>\nThank you for the comments! I added `INPUT:` blocks to (I believe) all functions that need them.\n\nI also made comparison work using the same code as for composite isogenies (by reducing to evaluation), and added a (purely opt-in) call path from the `.isogeny()` method for elliptic curves so that it's easy to use the new algorithm without typing long import statements.\n\nAbout your other remarks:\n\n1. `sum(...) == 1` is a stronger statement than `any(...)`, which is why I wrote it this way: The former checks unique existence, the latter just existence.\n\n2. The implementation does work for some curves in characteristic 3, but not all of them. In the code, it simply tries converting the curve to short Weierstra\u00df form and throws an exception if that fails. This is slightly more general than checking the characteristic.\n\n3. Indeed, the situation over number fields mentioned in[comment:5](#comment%3A5):ticket:34303 does not seem like it would benefit from this. Should it turn out that there's something we can do after all, this can of course be taken care of at a later time.",
    "created_at": "2022-08-21T02:42:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682816",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:9'></a>
Thank you for the comments! I added `INPUT:` blocks to (I believe) all functions that need them.

I also made comparison work using the same code as for composite isogenies (by reducing to evaluation), and added a (purely opt-in) call path from the `.isogeny()` method for elliptic curves so that it's easy to use the new algorithm without typing long import statements.

About your other remarks:

1. `sum(...) == 1` is a stronger statement than `any(...)`, which is why I wrote it this way: The former checks unique existence, the latter just existence.

2. The implementation does work for some curves in characteristic 3, but not all of them. In the code, it simply tries converting the curve to short Weierstraß form and throws an exception if that fails. This is slightly more general than checking the characteristic.

3. Indeed, the situation over number fields mentioned in[comment:5](#comment%3A5):ticket:34303 does not seem like it would benefit from this. Should it turn out that there's something we can do after all, this can of course be taken care of at a later time.



---

archive/issue_comments_682817.json:
```json
{
    "body": "Changing work_issues from \"document parameters for all methods and functions\" to \"\"",
    "created_at": "2022-08-21T02:42:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682817",
    "user": "https://github.com/yyyyx4"
}
```

Changing work_issues from "document parameters for all methods and functions" to ""



---

archive/issue_comments_682818.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-08-21T02:42:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682818",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_682819.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [cremona](#comment%3A7):\n>    4. Methods' docstrings should have an INPUT block documenting all parameters (apart from `self`), for example the `_init_` method, of ProductTree and more (not itemised here!).\n\n\nOne comment on this: To make it more publicly visible, it can be useful to have the inputs for `__init__` to be at the class-level documentation and not (repeated) at the method-level since it does not appear in the docstrings. However, this is mostly a suggestion when you expect the user to directly call the class to build the object (rather than, e.g., an element of a parent which is through the parent's `_element_constructor_`).\n\nOne additional comment to John's, the `INPUT:` items should always be in code format, e.g.:\n\n```diff\n     INPUT:\n \n-    - `n` -- odd integer `\\geq 5`\n+    - ``n`` -- odd integer `\\geq 5`\n```\n\nIn `_choose_IJK`, it would also be good to specify that this needs to be an `:class:`Integer`` otherwise the method will break. In fact, since you are just wanting the integer part, you could do\n\n```python\n(n-1).sqrtrem()[0] // 2\n```\nAs a general programming note, I prefer to avoid similar variable names, such as `b` and `b_`. It is too easy to make a mistake with them.",
    "created_at": "2022-08-21T23:50:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682819",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
Replying to [cremona](#comment%3A7):
>    4. Methods' docstrings should have an INPUT block documenting all parameters (apart from `self`), for example the `_init_` method, of ProductTree and more (not itemised here!).


One comment on this: To make it more publicly visible, it can be useful to have the inputs for `__init__` to be at the class-level documentation and not (repeated) at the method-level since it does not appear in the docstrings. However, this is mostly a suggestion when you expect the user to directly call the class to build the object (rather than, e.g., an element of a parent which is through the parent's `_element_constructor_`).

One additional comment to John's, the `INPUT:` items should always be in code format, e.g.:

```diff
     INPUT:
 
-    - `n` -- odd integer `\geq 5`
+    - ``n`` -- odd integer `\geq 5`
```

In `_choose_IJK`, it would also be good to specify that this needs to be an `:class:`Integer`` otherwise the method will break. In fact, since you are just wanting the integer part, you could do

```python
(n-1).sqrtrem()[0] // 2
```
As a general programming note, I prefer to avoid similar variable names, such as `b` and `b_`. It is too easy to make a mistake with them.



---

archive/issue_comments_682820.json:
```json
{
    "body": "Changing commit from \"[986462f5576f046fd7117c7585269b7fcaf79af6](https://github.com/sagemath/sagetrac-mirror/commit/986462f5576f046fd7117c7585269b7fcaf79af6)\" to \"[368a18e9fc901f08596ee3ae4575eacfae77a7ac](https://github.com/sagemath/sagetrac-mirror/commit/368a18e9fc901f08596ee3ae4575eacfae77a7ac)\"",
    "created_at": "2022-08-22T06:38:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682820",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[986462f5576f046fd7117c7585269b7fcaf79af6](https://github.com/sagemath/sagetrac-mirror/commit/986462f5576f046fd7117c7585269b7fcaf79af6)" to "[368a18e9fc901f08596ee3ae4575eacfae77a7ac](https://github.com/sagemath/sagetrac-mirror/commit/368a18e9fc901f08596ee3ae4575eacfae77a7ac)"



---

archive/issue_comments_682821.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|\n|[156c820](https://github.com/sagemath/sagetrac-mirror/commit/156c82053308448eb9845741e93f097b4134b4e5)|`prevent crash in _random_example_for_testing() when group is trivial`|\n|[3d63a50](https://github.com/sagemath/sagetrac-mirror/commit/3d63a50db73a3a77d3b65d3419ba195304e4d03e)|`move INPUT blocks from .__init__() docstrings to class docstrings`|\n|[c874dc3](https://github.com/sagemath/sagetrac-mirror/commit/c874dc39504705108771bee98ec1d9d47bbcfc36)|`explicitly convert given n to Integer in FastEllipticPolynomial`|\n|[e499ea6](https://github.com/sagemath/sagetrac-mirror/commit/e499ea6549cbb1f05cfe6687250f9fae5d3e1197)|`clarify that _choose_IJK needs an Integer; use .isqrt(); rename b_ to c`|\n|[9c7b344](https://github.com/sagemath/sagetrac-mirror/commit/9c7b344986a85a95a3976ba8a10f3cf7f94675f3)|`change all INPUT parameters to code formatting`|\n|[368a18e](https://github.com/sagemath/sagetrac-mirror/commit/368a18e9fc901f08596ee3ae4575eacfae77a7ac)|`ensure correct base rings (for real this time); cf. ab4b4bf817b`|",
    "created_at": "2022-08-22T06:38:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682821",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
|[156c820](https://github.com/sagemath/sagetrac-mirror/commit/156c82053308448eb9845741e93f097b4134b4e5)|`prevent crash in _random_example_for_testing() when group is trivial`|
|[3d63a50](https://github.com/sagemath/sagetrac-mirror/commit/3d63a50db73a3a77d3b65d3419ba195304e4d03e)|`move INPUT blocks from .__init__() docstrings to class docstrings`|
|[c874dc3](https://github.com/sagemath/sagetrac-mirror/commit/c874dc39504705108771bee98ec1d9d47bbcfc36)|`explicitly convert given n to Integer in FastEllipticPolynomial`|
|[e499ea6](https://github.com/sagemath/sagetrac-mirror/commit/e499ea6549cbb1f05cfe6687250f9fae5d3e1197)|`clarify that _choose_IJK needs an Integer; use .isqrt(); rename b_ to c`|
|[9c7b344](https://github.com/sagemath/sagetrac-mirror/commit/9c7b344986a85a95a3976ba8a10f3cf7f94675f3)|`change all INPUT parameters to code formatting`|
|[368a18e](https://github.com/sagemath/sagetrac-mirror/commit/368a18e9fc901f08596ee3ae4575eacfae77a7ac)|`ensure correct base rings (for real this time); cf. ab4b4bf817b`|



---

archive/issue_comments_682822.json:
```json
{
    "body": "<a id='comment:12'></a>\nThanks! All done.",
    "created_at": "2022-08-22T06:39:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682822",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:12'></a>
Thanks! All done.



---

archive/issue_comments_682823.json:
```json
{
    "body": "<a id='comment:13'></a>\nThanks for making all these changes, and answering my comments.   I am happy with this, so if Travis is too he can add his name to the reviewers list and set it to \"positive review\".",
    "created_at": "2022-08-22T08:14:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682823",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:13'></a>
Thanks for making all these changes, and answering my comments.   I am happy with this, so if Travis is too he can add his name to the reviewers list and set it to "positive review".



---

archive/issue_comments_682824.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-08-22T08:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682824",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_682825.json:
```json
{
    "body": "<a id='comment:14'></a>\nGood with me too.",
    "created_at": "2022-08-22T08:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682825",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>
Good with me too.



---

archive/issue_comments_682826.json:
```json
{
    "body": "Changing reviewer from \"John Cremona\" to \"John Cremona, Travis Scrimshaw\"",
    "created_at": "2022-08-22T08:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682826",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "John Cremona" to "John Cremona, Travis Scrimshaw"



---

archive/issue_comments_682827.json:
```json
{
    "body": "<a id='comment:15'></a>\nSorry for being late. Let me have some time to write a comment and a question.",
    "created_at": "2022-08-22T08:33:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682827",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:15'></a>
Sorry for being late. Let me have some time to write a comment and a question.



---

archive/issue_comments_682828.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-08-22T08:33:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682828",
    "user": "https://github.com/kwankyu"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_682829.json:
```json
{
    "body": "<a id='comment:16'></a>\nOne minor comment\n\n- You added a new option `short_weierstrass` to `compute_model`, but did not put it in `INPUT` section.\n\nAnd one question. You added this \n\n```\n.. WARNING::\n\n    This module is currently considered experimental.\n    It may change in a future release without prior warning.        \n```\nIn what sense is this experimental? What change do you mean? (1) bug fixes (2) wrong result (3) performance improvement, or (4) removal?\n\nI guess you mean only (3). In that case, you don't need to tag it as experimental. Any part of code in sage can be improved later without \"prior warning\". If this is the case, then I suggest to remove those scary \"experimental\" warnings.\n\nIf you mean (4), what is the condition of removal?",
    "created_at": "2022-08-22T08:51:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682829",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:16'></a>
One minor comment

- You added a new option `short_weierstrass` to `compute_model`, but did not put it in `INPUT` section.

And one question. You added this 

```
.. WARNING::

    This module is currently considered experimental.
    It may change in a future release without prior warning.        
```
In what sense is this experimental? What change do you mean? (1) bug fixes (2) wrong result (3) performance improvement, or (4) removal?

I guess you mean only (3). In that case, you don't need to tag it as experimental. Any part of code in sage can be improved later without "prior warning". If this is the case, then I suggest to remove those scary "experimental" warnings.

If you mean (4), what is the condition of removal?



---

archive/issue_comments_682830.json:
```json
{
    "body": "<a id='comment:17'></a>\nYou have 2 (2)'s leading to a non-bijective map. `;)`",
    "created_at": "2022-08-22T08:52:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682830",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:17'></a>
You have 2 (2)'s leading to a non-bijective map. `;)`



---

archive/issue_comments_682831.json:
```json
{
    "body": "<a id='comment:18'></a>\nKwankyu Lee's question is a good one, and I agree that there is no need for such a tag, unless you really think that this code is likely to give incorrect answers.  If that was the case, it would be better not to allow it as an option visible from the elliptic curve class.  Otherwise, if it was one day removed you would have to give deprecation warnings etc.  If you believe the code to be correct (as I hope you do!) then you can just delete the warning.",
    "created_at": "2022-08-22T10:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682831",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:18'></a>
Kwankyu Lee's question is a good one, and I agree that there is no need for such a tag, unless you really think that this code is likely to give incorrect answers.  If that was the case, it would be better not to allow it as an option visible from the elliptic curve class.  Otherwise, if it was one day removed you would have to give deprecation warnings etc.  If you believe the code to be correct (as I hope you do!) then you can just delete the warning.



---

archive/issue_comments_682832.json:
```json
{
    "body": "Changing commit from \"[368a18e9fc901f08596ee3ae4575eacfae77a7ac](https://github.com/sagemath/sagetrac-mirror/commit/368a18e9fc901f08596ee3ae4575eacfae77a7ac)\" to \"[a0f4c4a994abeadc7719c44625b37b0c2ee7c828](https://github.com/sagemath/sagetrac-mirror/commit/a0f4c4a994abeadc7719c44625b37b0c2ee7c828)\"",
    "created_at": "2022-08-22T10:55:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682832",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[368a18e9fc901f08596ee3ae4575eacfae77a7ac](https://github.com/sagemath/sagetrac-mirror/commit/368a18e9fc901f08596ee3ae4575eacfae77a7ac)" to "[a0f4c4a994abeadc7719c44625b37b0c2ee7c828](https://github.com/sagemath/sagetrac-mirror/commit/a0f4c4a994abeadc7719c44625b37b0c2ee7c828)"



---

archive/issue_comments_682833.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|\n|[5fe7ef4](https://github.com/sagemath/sagetrac-mirror/commit/5fe7ef4b54e1a249c42f2f5dc9147767ccf766b4)|`add \"short_weierstrass\" to list of valid inputs for compute_model()`|\n|[a0f4c4a](https://github.com/sagemath/sagetrac-mirror/commit/a0f4c4a994abeadc7719c44625b37b0c2ee7c828)|`remove experimental warning`|",
    "created_at": "2022-08-22T10:55:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682833",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|
|[5fe7ef4](https://github.com/sagemath/sagetrac-mirror/commit/5fe7ef4b54e1a249c42f2f5dc9147767ccf766b4)|`add "short_weierstrass" to list of valid inputs for compute_model()`|
|[a0f4c4a](https://github.com/sagemath/sagetrac-mirror/commit/a0f4c4a994abeadc7719c44625b37b0c2ee7c828)|`remove experimental warning`|



---

archive/issue_comments_682834.json:
```json
{
    "body": "<a id='comment:20'></a>\nThanks, done! I've also created #34409, which (inspired by your comments here) suggests to remove the experimental warning for composite elliptic-curve isogenies.",
    "created_at": "2022-08-22T11:10:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682834",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:20'></a>
Thanks, done! I've also created #34409, which (inspired by your comments here) suggests to remove the experimental warning for composite elliptic-curve isogenies.



---

archive/issue_comments_682835.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-08-22T11:10:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682835",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_682836.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [tscrim](#comment%3A17):\n> You have 2 (2)'s leading to a non-bijective map. `;)`\n\n\nFixed. Thanks. It was awful.",
    "created_at": "2022-08-22T11:22:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682836",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:21'></a>
Replying to [tscrim](#comment%3A17):
> You have 2 (2)'s leading to a non-bijective map. `;)`


Fixed. Thanks. It was awful.



---

archive/issue_comments_682837.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-08-22T11:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682837",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_682838.json:
```json
{
    "body": "Changing reviewer from \"John Cremona, Travis Scrimshaw\" to \"John Cremona, Travis Scrimshaw, Kwankyu Lee\"",
    "created_at": "2022-08-22T11:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682838",
    "user": "https://github.com/kwankyu"
}
```

Changing reviewer from "John Cremona, Travis Scrimshaw" to "John Cremona, Travis Scrimshaw, Kwankyu Lee"



---

archive/issue_comments_682839.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [lorenz](#comment%3A20):\n> Thanks, done! I've also created #34409, which (inspired by your comments here) suggests to remove the experimental warning for composite elliptic-curve isogenies.\n\n\nThank you. It was perhaps your being modest. But Sage should always deliver reliable code, and I think we should avoid including experimental code in Sage.",
    "created_at": "2022-08-22T11:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682839",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:22'></a>
Replying to [lorenz](#comment%3A20):
> Thanks, done! I've also created #34409, which (inspired by your comments here) suggests to remove the experimental warning for composite elliptic-curve isogenies.


Thank you. It was perhaps your being modest. But Sage should always deliver reliable code, and I think we should avoid including experimental code in Sage.



---

archive/issue_comments_682840.json:
```json
{
    "body": "<a id='comment:23'></a>\nThanks a lot everyone!\n\n(Indeed, I'm reasonably convinced that the code is correct. I added the experimental warning not because I feared things were broken, but because it'd make it easier to tweak the API later. Presumably though, this won't be necessary anyway.)",
    "created_at": "2022-08-22T13:58:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682840",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:23'></a>
Thanks a lot everyone!

(Indeed, I'm reasonably convinced that the code is correct. I added the experimental warning not because I feared things were broken, but because it'd make it easier to tweak the API later. Presumably though, this won't be necessary anyway.)



---

archive/issue_comments_682841.json:
```json
{
    "body": "Changing branch from \"[public/velusqrt_algorithm_for_elliptic_curve_isogenies](https://github.com/sagemath/sagetrac-mirror/tree/public/velusqrt_algorithm_for_elliptic_curve_isogenies)\" to \"[a0f4c4a994abeadc7719c44625b37b0c2ee7c828](https://github.com/sagemath/sagetrac-mirror/commit/a0f4c4a994abeadc7719c44625b37b0c2ee7c828)\"",
    "created_at": "2022-08-30T06:51:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682841",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[public/velusqrt_algorithm_for_elliptic_curve_isogenies](https://github.com/sagemath/sagetrac-mirror/tree/public/velusqrt_algorithm_for_elliptic_curve_isogenies)" to "[a0f4c4a994abeadc7719c44625b37b0c2ee7c828](https://github.com/sagemath/sagetrac-mirror/commit/a0f4c4a994abeadc7719c44625b37b0c2ee7c828)"



---

archive/issue_comments_682842.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-08-30T06:51:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682842",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_100628.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-30T06:51:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34303#event-100628"
}
```



---

archive/issue_comments_682843.json:
```json
{
    "body": "Changing commit from \"[a0f4c4a994abeadc7719c44625b37b0c2ee7c828](https://github.com/sagemath/sagetrac-mirror/commit/a0f4c4a994abeadc7719c44625b37b0c2ee7c828)\" to \"\"",
    "created_at": "2022-08-31T15:25:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682843",
    "user": "https://github.com/antonio-rojas"
}
```

Changing commit from "[a0f4c4a994abeadc7719c44625b37b0c2ee7c828](https://github.com/sagemath/sagetrac-mirror/commit/a0f4c4a994abeadc7719c44625b37b0c2ee7c828)" to ""



---

archive/issue_comments_682844.json:
```json
{
    "body": "<a id='comment:25'></a>\nGot a test failure with a specific random seed\n\n```\nsage -t --long --random-seed=66297844331759291946775140613791774160 /usr/lib/python3.10/site-packages/sage/schemes/elliptic_curves/hom_velusqrt.py\n**********************************************************************\nFile \"/usr/lib/python3.10/site-packages/sage/schemes/elliptic_curves/hom_velusqrt.py\", line 829, in sage.schemes.elliptic_curves.hom_velusqrt.EllipticCurveHom_velusqrt\nFailed example:\n    any(map(check, psi.codomain().isomorphisms(phi.codomain())))\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n```",
    "created_at": "2022-08-31T15:25:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682844",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:25'></a>
Got a test failure with a specific random seed

```
sage -t --long --random-seed=66297844331759291946775140613791774160 /usr/lib/python3.10/site-packages/sage/schemes/elliptic_curves/hom_velusqrt.py
**********************************************************************
File "/usr/lib/python3.10/site-packages/sage/schemes/elliptic_curves/hom_velusqrt.py", line 829, in sage.schemes.elliptic_curves.hom_velusqrt.EllipticCurveHom_velusqrt
Failed example:
    any(map(check, psi.codomain().isomorphisms(phi.codomain())))
Expected:
    True
Got:
    False
**********************************************************************
```



---

archive/issue_comments_682845.json:
```json
{
    "body": "<a id='comment:26'></a>\nand the linter now requires a blank line before nested definitions",
    "created_at": "2022-08-31T19:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682845",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:26'></a>
and the linter now requires a blank line before nested definitions



---

archive/issue_comments_682846.json:
```json
{
    "body": "<a id='comment:27'></a>\nThanks both of you. See #34467 and #34466.",
    "created_at": "2022-09-01T07:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34303",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34303#issuecomment-682846",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:27'></a>
Thanks both of you. See #34467 and #34466.
