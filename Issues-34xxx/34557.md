# Issue 34557: Run doc server along with jupyter server

archive/issues_034557.json:
```json
{
    "body": "Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface, although they work fine in jupyter notebook interface.\n\nJupyterlab loads local files (sage documentation files) in `iframe` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.\n\nThe branch uses thread parallelism to run sage doc server.\n\nTry the branch with `sage --notebook=jupyterlab`. This runs a light-weight sage doc server at `http://localhost:<SAGE_DOC_LOCAL_PORT>`, where the environment variable `SAGE_DOC_LOCAL_PORT` defaults to 8000.\n\nSet `export SAGE_DOC_SERVER_URL=https://doc.sagemath.org` before running `sage --notebook=jupyterlab` to use the public doc server. This will be useful for jupyterhub users.\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/34794\n\n",
    "created_at": "2022-11-26T17:35:35Z",
    "labels": [
        "component: notebook",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Run doc server along with jupyter server",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34557",
    "user": "https://github.com/kwankyu"
}
```
Sage documentation links in `help` menu have been long broken in jupyterlab notebook interface, although they work fine in jupyter notebook interface.

Jupyterlab loads local files (sage documentation files) in `iframe` tag. This is problematic and it seems hopeless to make this work. A proper way is to run local http server serving the doc along with jupyter(lab) notebook server.

The branch uses thread parallelism to run sage doc server.

Try the branch with `sage --notebook=jupyterlab`. This runs a light-weight sage doc server at `http://localhost:<SAGE_DOC_LOCAL_PORT>`, where the environment variable `SAGE_DOC_LOCAL_PORT` defaults to 8000.

Set `export SAGE_DOC_SERVER_URL=https://doc.sagemath.org` before running `sage --notebook=jupyterlab` to use the public doc server. This will be useful for jupyterhub users.



Issue created by migration from https://trac.sagemath.org/ticket/34794





---

archive/issue_comments_488309.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2022-11-26T17:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34557#issuecomment-488309",
    "user": "https://github.com/kwankyu"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_488310.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-11-26T17:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34557#issuecomment-488310",
    "user": "https://github.com/kwankyu"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_488311.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to notebook.",
    "created_at": "2022-11-26T17:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34557#issuecomment-488311",
    "user": "https://github.com/kwankyu"
}
```

Changing component from PLEASE CHANGE to notebook.



---

archive/issue_comments_488312.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-11-26T23:46:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34557#issuecomment-488312",
    "user": "https://github.com/kwankyu"
}
```

New commits:



---

archive/issue_comments_488313.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-27T01:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34557#issuecomment-488313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_488314.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-27T03:20:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34557#issuecomment-488314",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:
