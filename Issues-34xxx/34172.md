# Issue 34172: Fix docstring markup in sage/groups and sage/misc

archive/issues_033935.json:
```json
{
    "body": "Part of #34157:\n\n```\nsage/groups/cubic_braid.py:1379:1: RST301 Unexpected indentation.\nsage/groups/cubic_braid.py:1381:1: RST201 Block quote ends without a blank line; unexpected unindent.\nsage/misc/sagedoc.py:594:1: RST214 Inline literal start-string without end-string.\nsage/misc/sagedoc.py:670:1: RST214 Inline literal start-string without end-string.\nsage/misc/profiler.py:63:1: RST303 Unknown directive type \"todo\".\nsage/misc/sage_input.py:1840:1: RST215 Inline interpreted text or phrase reference start-string without end-string.\nsage/misc/sage_input.py:1843:1: RST215 Inline interpreted text or phrase reference start-string without end-string.\nsage/misc/sage_input.py:2139:1: RST215 Inline interpreted text or phrase reference start-string without end-string.\nsage/misc/sage_input.py:2248:1: RST215 Inline interpreted text or phrase reference start-string without end-string.\nsage/misc/call.py:112:1: RST205 Explicit markup ends without a blank line; unexpected unindent.\n```\n\nCC:  @mkoeppe\n\nBranch/Commit: 5da5e1f7accc63c293aecee678a7d3f969638c30\n\nReviewer: Matthias Koeppe\n\nAuthor: John Palmieri\n\nDependencies: 30448\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/34172\n\n",
    "closed_at": "2022-07-28T19:09:54Z",
    "created_at": "2022-07-12T06:19:14Z",
    "labels": [
        "component: documentation",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Fix docstring markup in sage/groups and sage/misc",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34172",
    "user": "https://github.com/kwankyu"
}
```
Part of #34157:

```
sage/groups/cubic_braid.py:1379:1: RST301 Unexpected indentation.
sage/groups/cubic_braid.py:1381:1: RST201 Block quote ends without a blank line; unexpected unindent.
sage/misc/sagedoc.py:594:1: RST214 Inline literal start-string without end-string.
sage/misc/sagedoc.py:670:1: RST214 Inline literal start-string without end-string.
sage/misc/profiler.py:63:1: RST303 Unknown directive type "todo".
sage/misc/sage_input.py:1840:1: RST215 Inline interpreted text or phrase reference start-string without end-string.
sage/misc/sage_input.py:1843:1: RST215 Inline interpreted text or phrase reference start-string without end-string.
sage/misc/sage_input.py:2139:1: RST215 Inline interpreted text or phrase reference start-string without end-string.
sage/misc/sage_input.py:2248:1: RST215 Inline interpreted text or phrase reference start-string without end-string.
sage/misc/call.py:112:1: RST205 Explicit markup ends without a blank line; unexpected unindent.
```

CC:  @mkoeppe

Branch/Commit: 5da5e1f7accc63c293aecee678a7d3f969638c30

Reviewer: Matthias Koeppe

Author: John Palmieri

Dependencies: 30448

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/34172





---

archive/issue_comments_672362.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n+Part of #34157:\n \n ```\n sage/groups/cubic_braid.py:1379:1: RST301 Unexpected indentation.\n``````\n",
    "created_at": "2022-07-12T08:00:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672362",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
+Part of #34157:
 
 ```
 sage/groups/cubic_braid.py:1379:1: RST301 Unexpected indentation.
``````




---

archive/issue_comments_672363.json:
```json
{
    "body": "<a id='comment:2'></a>\nI don't understand these:\n\n```\nsage/misc/sagedoc.py:594:1: RST214 Inline literal start-string without end-string.\nsage/misc/sagedoc.py:670:1: RST214 Inline literal start-string without end-string.\n```\nThey seem to come from ```noreplace```: if I change the text \"noreplace\" to anything else, the error goes away. I can make the change ```noreplace`` -> ``\"noreplace\"``` to \"fix\" it, but I don't know what's going on.",
    "created_at": "2022-07-12T22:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672363",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>
I don't understand these:

```
sage/misc/sagedoc.py:594:1: RST214 Inline literal start-string without end-string.
sage/misc/sagedoc.py:670:1: RST214 Inline literal start-string without end-string.
```
They seem to come from ```noreplace```: if I change the text "noreplace" to anything else, the error goes away. I can make the change ```noreplace`` -> ``"noreplace"``` to "fix" it, but I don't know what's going on.



---

archive/issue_comments_672364.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jhpalmieri/misc-doc-markup\"",
    "created_at": "2022-07-12T22:20:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672364",
    "user": "https://github.com/jhpalmieri"
}
```

Changing branch from "" to "u/jhpalmieri/misc-doc-markup"



---

archive/issue_comments_672365.json:
```json
{
    "body": "Changing commit from \"\" to \"0794103713c3e3e30512571ab9c7cc827d7ae474\"",
    "created_at": "2022-07-13T10:22:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672365",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "0794103713c3e3e30512571ab9c7cc827d7ae474"



---

archive/issue_comments_672366.json:
```json
{
    "body": "<a id='comment:4'></a>\nnoreplace seems to be our own directiev, as explained in the very same file.\n\nBest solution should be to exclude this file from the rst validator.\n\n---\nNew commits:\n|                                                                                                                                          |                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[0794103](https://github.com/sagemath/sagetrac-mirror/commit/0794103713c3e3e30512571ab9c7cc827d7ae474)|`trac 34172: doc markup fixes for groups, misc`|",
    "created_at": "2022-07-13T10:22:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672366",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
noreplace seems to be our own directiev, as explained in the very same file.

Best solution should be to exclude this file from the rst validator.

---
New commits:
|                                                                                                                                          |                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[0794103](https://github.com/sagemath/sagetrac-mirror/commit/0794103713c3e3e30512571ab9c7cc827d7ae474)|`trac 34172: doc markup fixes for groups, misc`|



---

archive/issue_comments_672367.json:
```json
{
    "body": "<a id='comment:5'></a>\nhmm, at second thought, the problem is not in the first line of the doc. Strange indeed.",
    "created_at": "2022-07-13T10:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672367",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
hmm, at second thought, the problem is not in the first line of the doc. Strange indeed.



---

archive/issue_comments_672368.json:
```json
{
    "body": "<a id='comment:6'></a>\nDoes the validator use any of Sage's code, or does it just use `flake8-rst-docstrings`? I really don't understand why `noreplace` is causing problems. (And the actual documentation looks fine.)",
    "created_at": "2022-07-13T15:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672368",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>
Does the validator use any of Sage's code, or does it just use `flake8-rst-docstrings`? I really don't understand why `noreplace` is causing problems. (And the actual documentation looks fine.)



---

archive/issue_comments_672369.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [jhpalmieri](#comment%3A6):\n> Does the validator use any of Sage's code, or does it just use `flake8-rst-docstrings`? \n\n\nOnly `flake8-rst-docstrings` with customization in src/tox.ini [flake8]",
    "created_at": "2022-07-13T16:08:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672369",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
Replying to [jhpalmieri](#comment%3A6):
> Does the validator use any of Sage's code, or does it just use `flake8-rst-docstrings`? 


Only `flake8-rst-docstrings` with customization in src/tox.ini [flake8]



---

archive/issue_comments_672370.json:
```json
{
    "body": "<a id='comment:9'></a>\nThen I really have no idea what's going on with `noreplace`.",
    "created_at": "2022-07-13T17:05:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672370",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:9'></a>
Then I really have no idea what's going on with `noreplace`.



---

archive/issue_comments_672371.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [chapoton](#comment%3A4):\n> noreplace seems to be our own directiev, as explained in the very same file.\n> \n> Best solution should be to exclude this file from the rst validator.\n\n\nhttps://flake8.pycqa.org/en/3.1.1/user/ignoring-errors.html#in-line-ignoring-errors\n\nhttps://flake8.pycqa.org/en/3.1.1/user/ignoring-errors.html#ignoring-entire-files",
    "created_at": "2022-07-13T17:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672371",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
Replying to [chapoton](#comment%3A4):
> noreplace seems to be our own directiev, as explained in the very same file.
> 
> Best solution should be to exclude this file from the rst validator.


https://flake8.pycqa.org/en/3.1.1/user/ignoring-errors.html#in-line-ignoring-errors

https://flake8.pycqa.org/en/3.1.1/user/ignoring-errors.html#ignoring-entire-files



---

archive/issue_comments_672372.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                           |                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[dccceb4](https://github.com/sagemath/sagetrac-mirror/commit/dccceb4f56039392b8dd98f62bf0d74d5f25aba8)|`src/sage/parallel: Fix errors shown by tox -e rst`|\n|[4cc5674](https://github.com/sagemath/sagetrac-mirror/commit/4cc56747eb5fe190bf67fe7705a889537570d320)|`src/sage/quadratic_forms: Fix errors shown by tox -e rst`|\n|[a2f5ef6](https://github.com/sagemath/sagetrac-mirror/commit/a2f5ef6bb6c88a73b7ee7ca150a7966660383c69)|`src/sage/repl: Fix some errors shown by tox -e rst`|\n|[c2d0a91](https://github.com/sagemath/sagetrac-mirror/commit/c2d0a913755f78195506cfa50dd9f0656e66d546)|`src/sage/rings: Fix some errors shown by tox -e rst`|\n|[8fc8776](https://github.com/sagemath/sagetrac-mirror/commit/8fc8776254aeaf6696b247c22e11be5b4663add4)|`src/sage/structure: Fix errors shown by tox -e rst`|\n|[18121fe](https://github.com/sagemath/sagetrac-mirror/commit/18121fe1aead7e80c81f81e8fcedfb642e9a236f)|`src/sage/modules: Fix errors shown by tox -e rst`|\n|[d66c66e](https://github.com/sagemath/sagetrac-mirror/commit/d66c66e75f41c911f779c28083e20054770f794b)|`.github/workflows/lint.yml: Do not fail when rst checks fail`|\n|[0677319](https://github.com/sagemath/sagetrac-mirror/commit/0677319ed0309e28ba3f125b2b06366e3f9462f6)|`Fix a typo`|\n|[56f5a50](https://github.com/sagemath/sagetrac-mirror/commit/56f5a509eafc03e005ca501abb1cbf7c83715b34)|`Merge branch 't/30448/public/30448' into t/34172/misc-doc-markup`|\n|[5da5e1f](https://github.com/sagemath/sagetrac-mirror/commit/5da5e1f7accc63c293aecee678a7d3f969638c30)|`trac 34172: ignore misc/sagedoc.py when using flake8 to check rst markup`|",
    "created_at": "2022-07-13T18:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672372",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                           |                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[dccceb4](https://github.com/sagemath/sagetrac-mirror/commit/dccceb4f56039392b8dd98f62bf0d74d5f25aba8)|`src/sage/parallel: Fix errors shown by tox -e rst`|
|[4cc5674](https://github.com/sagemath/sagetrac-mirror/commit/4cc56747eb5fe190bf67fe7705a889537570d320)|`src/sage/quadratic_forms: Fix errors shown by tox -e rst`|
|[a2f5ef6](https://github.com/sagemath/sagetrac-mirror/commit/a2f5ef6bb6c88a73b7ee7ca150a7966660383c69)|`src/sage/repl: Fix some errors shown by tox -e rst`|
|[c2d0a91](https://github.com/sagemath/sagetrac-mirror/commit/c2d0a913755f78195506cfa50dd9f0656e66d546)|`src/sage/rings: Fix some errors shown by tox -e rst`|
|[8fc8776](https://github.com/sagemath/sagetrac-mirror/commit/8fc8776254aeaf6696b247c22e11be5b4663add4)|`src/sage/structure: Fix errors shown by tox -e rst`|
|[18121fe](https://github.com/sagemath/sagetrac-mirror/commit/18121fe1aead7e80c81f81e8fcedfb642e9a236f)|`src/sage/modules: Fix errors shown by tox -e rst`|
|[d66c66e](https://github.com/sagemath/sagetrac-mirror/commit/d66c66e75f41c911f779c28083e20054770f794b)|`.github/workflows/lint.yml: Do not fail when rst checks fail`|
|[0677319](https://github.com/sagemath/sagetrac-mirror/commit/0677319ed0309e28ba3f125b2b06366e3f9462f6)|`Fix a typo`|
|[56f5a50](https://github.com/sagemath/sagetrac-mirror/commit/56f5a509eafc03e005ca501abb1cbf7c83715b34)|`Merge branch 't/30448/public/30448' into t/34172/misc-doc-markup`|
|[5da5e1f](https://github.com/sagemath/sagetrac-mirror/commit/5da5e1f7accc63c293aecee678a7d3f969638c30)|`trac 34172: ignore misc/sagedoc.py when using flake8 to check rst markup`|



---

archive/issue_comments_672373.json:
```json
{
    "body": "Changing commit from \"0794103713c3e3e30512571ab9c7cc827d7ae474\" to \"5da5e1f7accc63c293aecee678a7d3f969638c30\"",
    "created_at": "2022-07-13T18:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672373",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0794103713c3e3e30512571ab9c7cc827d7ae474" to "5da5e1f7accc63c293aecee678a7d3f969638c30"



---

archive/issue_comments_672374.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-07-13T18:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672374",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_672375.json:
```json
{
    "body": "<a id='comment:12'></a>\nLet's ignore that file, then. (I can't figure out how to ignore a line in a docstring without the \"# noqa ...\" appearing in the documentation.)",
    "created_at": "2022-07-13T18:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672375",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:12'></a>
Let's ignore that file, then. (I can't figure out how to ignore a line in a docstring without the "# noqa ..." appearing in the documentation.)



---

archive/issue_comments_672376.json:
```json
{
    "body": "Changing dependencies from \"\" to \"30448\"",
    "created_at": "2022-07-13T18:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672376",
    "user": "https://github.com/jhpalmieri"
}
```

Changing dependencies from "" to "30448"



---

archive/issue_comments_672377.json:
```json
{
    "body": "Changing author from \"\" to \"John Palmieri\"",
    "created_at": "2022-07-13T19:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672377",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "John Palmieri"



---

archive/issue_comments_672378.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-07-13T19:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672378",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_672379.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Matthias Koeppe\"",
    "created_at": "2022-07-13T19:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672379",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "Matthias Koeppe"



---

archive/issue_comments_672380.json:
```json
{
    "body": "<a id='comment:14'></a>\nIf the potential bug in `flake8-rst-docstrings` cited in #34168 gets fixed, then we can cease ignoring `misc/sagedoc.py`.",
    "created_at": "2022-07-14T00:26:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672380",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:14'></a>
If the potential bug in `flake8-rst-docstrings` cited in #34168 gets fixed, then we can cease ignoring `misc/sagedoc.py`.



---

archive/issue_comments_672381.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-07-28T19:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672381",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_108339.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-07-28T19:09:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34172#event-108339"
}
```



---

archive/issue_comments_672382.json:
```json
{
    "body": "Changing branch from \"u/jhpalmieri/misc-doc-markup\" to \"5da5e1f7accc63c293aecee678a7d3f969638c30\"",
    "created_at": "2022-07-28T19:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34172#issuecomment-672382",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jhpalmieri/misc-doc-markup" to "5da5e1f7accc63c293aecee678a7d3f969638c30"
