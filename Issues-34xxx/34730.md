# Issue 34730: Rebase sage_autodoc to sphinx 5.3.0

archive/issues_034493.json:
```json
{
    "assignees": [],
    "body": "We rebase `sage_autodoc` to Sphinx 5.3.0.\n\nThis is a step toward eventual removal of sage_autodoc in #30893, a customization of Sphinx autodoc extension for Sage objects.\n\nOther related tickets are #27578. #30884, #31309, in this regard.\n\nCC:  @kiwifb\n\nBranch/Commit: **[aa74d4b](https://github.com/sagemath/sagetrac-mirror/commit/aa74d4badcbe6841833ff983ad5f756c5ac78752)**\n\nReviewer: **Tobias Diez**\n\nAuthor: **Kwankyu Lee**\n\nComponent: **documentation**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34730_\n\n",
    "closed_at": "2022-11-15T23:42:58Z",
    "created_at": "2022-11-08T05:35:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20documentation",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Rebase sage_autodoc to sphinx 5.3.0",
    "type": "issue",
    "updated_at": "2022-11-15T23:42:58Z",
    "url": "https://github.com/sagemath/sage/issues/34730",
    "user": "https://github.com/kwankyu"
}
```
We rebase `sage_autodoc` to Sphinx 5.3.0.

This is a step toward eventual removal of sage_autodoc in #30893, a customization of Sphinx autodoc extension for Sage objects.

Other related tickets are #27578. #30884, #31309, in this regard.

CC:  @kiwifb

Branch/Commit: **[aa74d4b](https://github.com/sagemath/sagetrac-mirror/commit/aa74d4badcbe6841833ff983ad5f756c5ac78752)**

Reviewer: **Tobias Diez**

Author: **Kwankyu Lee**

Component: **documentation**

_Issue created by migration from https://trac.sagemath.org/ticket/34730_





---

archive/issue_events_473253.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-11-08T05:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34730#event-473253"
}
```



---

archive/issue_events_473254.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-11-08T05:35:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34730#event-473254"
}
```



---

archive/issue_comments_560544.json:
```json
{
    "body": "Branch: **[u/klee/rebase_sage_autodoc_to_sphinx_5_3_0](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/rebase_sage_autodoc_to_sphinx_5_3_0)**",
    "created_at": "2022-11-08T05:37:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560544",
    "user": "https://github.com/kwankyu"
}
```

Branch: **[u/klee/rebase_sage_autodoc_to_sphinx_5_3_0](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/rebase_sage_autodoc_to_sphinx_5_3_0)**



---

archive/issue_comments_560545.json:
```json
{
    "body": "Author: **Kwankyu Lee**",
    "created_at": "2022-11-08T05:38:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560545",
    "user": "https://github.com/kwankyu"
}
```

Author: **Kwankyu Lee**



---

archive/issue_comments_560546.json:
```json
{
    "body": "Commit: **[94a9718](https://github.com/sagemath/sagetrac-mirror/commit/94a9718bb25511f52ee7c1a8890c7a9a257822ee)**",
    "created_at": "2022-11-08T05:38:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560546",
    "user": "https://github.com/kwankyu"
}
```

Commit: **[94a9718](https://github.com/sagemath/sagetrac-mirror/commit/94a9718bb25511f52ee7c1a8890c7a9a257822ee)**



---

archive/issue_events_473255.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-11-08T05:38:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34730#event-473255"
}
```



---

archive/issue_events_473256.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-11-08T05:38:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34730#event-473256"
}
```



---

archive/issue_events_473257.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-11-08T05:40:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34730#event-473257"
}
```



---

archive/issue_comments_560547.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+We again rebase `sage_autodoc` to Sphinx 5.3.0.\n``````\n",
    "created_at": "2022-11-08T05:40:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560547",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+We again rebase `sage_autodoc` to Sphinx 5.3.0.
``````




---

archive/issue_comments_560548.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nSetting \"needs review\" to build the documentation for further check.",
    "created_at": "2022-11-08T05:40:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560548",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:3" align="right">comment:3</div>

Setting "needs review" to build the documentation for further check.



---

archive/issue_comments_560549.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-We again rebase `sage_autodoc` to Sphinx 5.3.0.\n+We rebase `sage_autodoc` to Sphinx 5.3.0.\n``````\n",
    "created_at": "2022-11-08T05:41:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560549",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-We again rebase `sage_autodoc` to Sphinx 5.3.0.
+We rebase `sage_autodoc` to Sphinx 5.3.0.
``````




---

archive/issue_events_473258.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-11-08T11:17:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34730#event-473258"
}
```



---

archive/issue_events_473259.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-11-08T11:17:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34730#event-473259"
}
```



---

archive/issue_comments_560550.json:
```json
{
    "body": "Changed commit from **[94a9718](https://github.com/sagemath/sagetrac-mirror/commit/94a9718bb25511f52ee7c1a8890c7a9a257822ee)** to **[3e917a4](https://github.com/sagemath/sagetrac-mirror/commit/3e917a48683f558c90819d93e0ed0cbecc6551aa)**",
    "created_at": "2022-11-08T12:38:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560550",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[94a9718](https://github.com/sagemath/sagetrac-mirror/commit/94a9718bb25511f52ee7c1a8890c7a9a257822ee)** to **[3e917a4](https://github.com/sagemath/sagetrac-mirror/commit/3e917a48683f558c90819d93e0ed0cbecc6551aa)**



---

archive/issue_comments_560551.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e917a48683f558c90819d93e0ed0cbecc6551aa\">3e917a4</a></td><td><code>Remove spurious changes</code></td></tr></table>\n",
    "created_at": "2022-11-08T12:38:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560551",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e917a48683f558c90819d93e0ed0cbecc6551aa">3e917a4</a></td><td><code>Remove spurious changes</code></td></tr></table>




---

archive/issue_events_473260.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-11-08T12:39:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34730#event-473260"
}
```



---

archive/issue_events_473261.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-11-08T12:39:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34730#event-473261"
}
```



---

archive/issue_comments_560552.json:
```json
{
    "body": "Changed commit from **[3e917a4](https://github.com/sagemath/sagetrac-mirror/commit/3e917a48683f558c90819d93e0ed0cbecc6551aa)** to **[aa74d4b](https://github.com/sagemath/sagetrac-mirror/commit/aa74d4badcbe6841833ff983ad5f756c5ac78752)**",
    "created_at": "2022-11-09T03:18:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560552",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3e917a4](https://github.com/sagemath/sagetrac-mirror/commit/3e917a48683f558c90819d93e0ed0cbecc6551aa)** to **[aa74d4b](https://github.com/sagemath/sagetrac-mirror/commit/aa74d4badcbe6841833ff983ad5f756c5ac78752)**



---

archive/issue_comments_560553.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa74d4badcbe6841833ff983ad5f756c5ac78752\">aa74d4b</a></td><td><code>More edits</code></td></tr></table>\n",
    "created_at": "2022-11-09T03:18:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560553",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa74d4badcbe6841833ff983ad5f756c5ac78752">aa74d4b</a></td><td><code>More edits</code></td></tr></table>




---

archive/issue_comments_560554.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n We rebase `sage_autodoc` to Sphinx 5.3.0.\n+\n+This is a step toward eventual removal of sage_autodoc, a customization of Sphinx autodoc extension for Sage objects.\n+\n+The next crucial step would be #27578.\n``````\n",
    "created_at": "2022-11-09T03:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560554",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
 We rebase `sage_autodoc` to Sphinx 5.3.0.
+
+This is a step toward eventual removal of sage_autodoc, a customization of Sphinx autodoc extension for Sage objects.
+
+The next crucial step would be #27578.
``````




---

archive/issue_comments_560555.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n This is a step toward eventual removal of sage_autodoc, a customization of Sphinx autodoc extension for Sage objects.\n \n-The next crucial step would be #27578.\n+The next crucial step would be #27578. Other related tickets are #30884, #31309\n``````\n",
    "created_at": "2022-11-09T03:44:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560555",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 This is a step toward eventual removal of sage_autodoc, a customization of Sphinx autodoc extension for Sage objects.
 
-The next crucial step would be #27578.
+The next crucial step would be #27578. Other related tickets are #30884, #31309
``````




---

archive/issue_comments_560556.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n This is a step toward eventual removal of sage_autodoc, a customization of Sphinx autodoc extension for Sage objects.\n \n-The next crucial step would be #27578. Other related tickets are #30884, #31309\n+Other related tickets are #27578. #30884, #31309, in this regard.\n``````\n",
    "created_at": "2022-11-09T03:48:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560556",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 This is a step toward eventual removal of sage_autodoc, a customization of Sphinx autodoc extension for Sage objects.
 
-The next crucial step would be #27578. Other related tickets are #30884, #31309
+Other related tickets are #27578. #30884, #31309, in this regard.
``````




---

archive/issue_comments_560557.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nDo you have a ticket for sphinx 5.3.0 or is it backward compatible?",
    "created_at": "2022-11-09T21:24:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560557",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:13" align="right">comment:13</div>

Do you have a ticket for sphinx 5.3.0 or is it backward compatible?



---

archive/issue_comments_560558.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [Fran\u00e7ois Bissey](#comment:13):\n> Do you have a ticket for sphinx 5.3.0 or is it backward compatible?\n\nThere is no difference between `autodoc`s of sphinx 5.2.3 and 5.3.0.",
    "created_at": "2022-11-09T22:07:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560558",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [François Bissey](#comment:13):
> Do you have a ticket for sphinx 5.3.0 or is it backward compatible?

There is no difference between `autodoc`s of sphinx 5.2.3 and 5.3.0.



---

archive/issue_comments_560559.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nMoreover, as our old sage_autodoc (that is based on sphinx 1.8.x) still works with sphinx 5.2.3, autodoc extension seems pretty independent from the version of sphinx.",
    "created_at": "2022-11-09T22:16:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560559",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:15" align="right">comment:15</div>

Moreover, as our old sage_autodoc (that is based on sphinx 1.8.x) still works with sphinx 5.2.3, autodoc extension seems pretty independent from the version of sphinx.



---

archive/issue_comments_560560.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI am fairly it has been touched here and there. But because of the ticket title I was wondering if we were doing something specific for sphinx 5.3.0. I have not checked we are compatible with sphinx 5.3.0 for example (and presumably if Antonio Rojas tested it, he didn't find/report any issues).",
    "created_at": "2022-11-09T22:20:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560560",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:16" align="right">comment:16</div>

I am fairly it has been touched here and there. But because of the ticket title I was wondering if we were doing something specific for sphinx 5.3.0. I have not checked we are compatible with sphinx 5.3.0 for example (and presumably if Antonio Rojas tested it, he didn't find/report any issues).



---

archive/issue_comments_560561.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [Fran\u00e7ois Bissey](#comment:16):\n> I am fairly it has been touched here and there. But because of the ticket title I was wondering if we were doing something specific for sphinx 5.3.0. \n\nI just used the latest from sphinx 5.x series.",
    "created_at": "2022-11-10T00:16:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560561",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [François Bissey](#comment:16):
> I am fairly it has been touched here and there. But because of the ticket title I was wondering if we were doing something specific for sphinx 5.3.0. 

I just used the latest from sphinx 5.x series.



---

archive/issue_comments_560562.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [Fran\u00e7ois Bissey](#comment:16):\n> I have not checked we are compatible with sphinx 5.3.0 for example (and presumably if Antonio Rojas tested it, he didn't find/report any issues).\n\nWhen I did the rebase for sphinx 1.8.x, there were many regressions, which Jeroen Demeyer detected and reported to me. If there are none (or few) this time, that is because of the efforts made then. This time it is not that difficult. Next time, hopefully it would be even easier :)",
    "created_at": "2022-11-10T00:18:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560562",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [François Bissey](#comment:16):
> I have not checked we are compatible with sphinx 5.3.0 for example (and presumably if Antonio Rojas tested it, he didn't find/report any issues).

When I did the rebase for sphinx 1.8.x, there were many regressions, which Jeroen Demeyer detected and reported to me. If there are none (or few) this time, that is because of the efforts made then. This time it is not that difficult. Next time, hopefully it would be even easier :)



---

archive/issue_comments_560563.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nLGTM.\n\nSince you are now familiar with the code, can you maybe list the major changes of sage's autodoc in #30893 with a proposal for how to remove the modification.",
    "created_at": "2022-11-10T10:55:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560563",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:19" align="right">comment:19</div>

LGTM.

Since you are now familiar with the code, can you maybe list the major changes of sage's autodoc in #30893 with a proposal for how to remove the modification.



---

archive/issue_events_473262.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2022-11-10T10:55:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34730#event-473262"
}
```



---

archive/issue_events_473263.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2022-11-10T10:55:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34730#event-473263"
}
```



---

archive/issue_comments_560564.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n We rebase `sage_autodoc` to Sphinx 5.3.0.\n \n-This is a step toward eventual removal of sage_autodoc, a customization of Sphinx autodoc extension for Sage objects.\n+This is a step toward eventual removal of sage_autodoc in #30893, a customization of Sphinx autodoc extension for Sage objects.\n \n Other related tickets are #27578. #30884, #31309, in this regard.\n``````\n",
    "created_at": "2022-11-10T10:55:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560564",
    "user": "https://github.com/tobiasdiez"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 We rebase `sage_autodoc` to Sphinx 5.3.0.
 
-This is a step toward eventual removal of sage_autodoc, a customization of Sphinx autodoc extension for Sage objects.
+This is a step toward eventual removal of sage_autodoc in #30893, a customization of Sphinx autodoc extension for Sage objects.
 
 Other related tickets are #27578. #30884, #31309, in this regard.
``````




---

archive/issue_comments_560565.json:
```json
{
    "body": "Reviewer: **Tobias Diez**",
    "created_at": "2022-11-10T10:55:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560565",
    "user": "https://github.com/tobiasdiez"
}
```

Reviewer: **Tobias Diez**



---

archive/issue_comments_560566.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [Tobias Diez](#comment:19):\n> LGTM.\n\nThanks.\n\n> Since you are now familiar with the code, \n\nWell.., it was basically trial-and-errors with bits of understanding here and there :)\n\n> can you maybe list the major changes of sage's autodoc in #30893 with a proposal for how to remove the modification.\n\nI marked in the code where modifications are made. It is easy to list them:\n\n1. skipping lazy imports to avoid deprecation warnings\n2. providing argspecs for decorators (sage_wraps)\n3. dealing with nested classes\n4. dealing with cached function(methods) callers\n5. dealing with classcall metaclass  \n6. dealing with class aliases\n7. using argspecs instead of signature \n\nbut sorry no proposal for how to remove them. All looks difficult. I am not sure if the aim of eventual removal of sage_autodoc is really achievable. \n\nAfter #26254 merged, switching to signature seems the most urgent thing.",
    "created_at": "2022-11-10T14:07:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560566",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [Tobias Diez](#comment:19):
> LGTM.

Thanks.

> Since you are now familiar with the code, 

Well.., it was basically trial-and-errors with bits of understanding here and there :)

> can you maybe list the major changes of sage's autodoc in #30893 with a proposal for how to remove the modification.

I marked in the code where modifications are made. It is easy to list them:

1. skipping lazy imports to avoid deprecation warnings
2. providing argspecs for decorators (sage_wraps)
3. dealing with nested classes
4. dealing with cached function(methods) callers
5. dealing with classcall metaclass  
6. dealing with class aliases
7. using argspecs instead of signature 

but sorry no proposal for how to remove them. All looks difficult. I am not sure if the aim of eventual removal of sage_autodoc is really achievable. 

After #26254 merged, switching to signature seems the most urgent thing.



---

archive/issue_comments_560567.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThanks for the summary, I've added it to #30893.",
    "created_at": "2022-11-10T20:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560567",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:21" align="right">comment:21</div>

Thanks for the summary, I've added it to #30893.



---

archive/issue_events_473264.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-11-15T23:42:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34730#event-473264"
}
```



---

archive/issue_events_473265.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b52855ecc64ef26d1bf2f1b0f3986c281aa713a9",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-11-15T23:42:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34730#event-473265"
}
```



---

archive/issue_comments_560568.json:
```json
{
    "body": "Changed branch from **[u/klee/rebase_sage_autodoc_to_sphinx_5_3_0](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/rebase_sage_autodoc_to_sphinx_5_3_0)** to **[aa74d4b](https://github.com/sagemath/sagetrac-mirror/commit/aa74d4badcbe6841833ff983ad5f756c5ac78752)**",
    "created_at": "2022-11-15T23:42:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34730",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34730#issuecomment-560568",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/klee/rebase_sage_autodoc_to_sphinx_5_3_0](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/rebase_sage_autodoc_to_sphinx_5_3_0)** to **[aa74d4b](https://github.com/sagemath/sagetrac-mirror/commit/aa74d4badcbe6841833ff983ad5f756c5ac78752)**
