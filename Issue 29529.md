# Issue 29529: update networkx and fix scipy 1.4 compat warnings

archive/issues_029529.json:
```json
{
    "body": "CC:  arojas mkoeppe fbissey isuruf slelievre dcoudert tscrim chapoton alexjbest\n\nnetworkx uses scipy data types which go away in scipy 2.0, so they started to do  deprecation warnings. (fixed in networkx trunk, but not in 2.4 release)\n\nIssue created by migration from https://trac.sagemath.org/ticket/29766\n\n",
    "created_at": "2020-05-30T22:21:35Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "title": "update networkx and fix scipy 1.4 compat warnings",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29529",
    "user": "dimpase"
}
```
CC:  arojas mkoeppe fbissey isuruf slelievre dcoudert tscrim chapoton alexjbest

networkx uses scipy data types which go away in scipy 2.0, so they started to do  deprecation warnings. (fixed in networkx trunk, but not in 2.4 release)

Issue created by migration from https://trac.sagemath.org/ticket/29766





---

archive/issue_comments_419184.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-06-01T17:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419184",
    "user": "dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_419185.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2020-06-01T17:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419185",
    "user": "dimpase"
}
```

Last 10 new commits:



---

archive/issue_comments_419186.json:
```json
{
    "body": "You may get more stuff if you are using scipy 1.4 with that. I patched all the deprecation I could in sage-on-gentoo\nhttps://github.com/cschwan/sage-on-gentoo/blob/master/dev-python/networkx/files/networkx-2.4-scipy-1.4.patch",
    "created_at": "2020-06-01T21:04:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419186",
    "user": "fbissey"
}
```

You may get more stuff if you are using scipy 1.4 with that. I patched all the deprecation I could in sage-on-gentoo
https://github.com/cschwan/sage-on-gentoo/blob/master/dev-python/networkx/files/networkx-2.4-scipy-1.4.patch



---

archive/issue_comments_419187.json:
```json
{
    "body": "for scipy 1.4 (cf #29425 - which is a dependency of this ticket!) I chose to\nsuppress these warnings in a Pythonic way, rather than doing patching already done by upstream (just not yet released)",
    "created_at": "2020-06-02T09:26:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419187",
    "user": "dimpase"
}
```

for scipy 1.4 (cf #29425 - which is a dependency of this ticket!) I chose to
suppress these warnings in a Pythonic way, rather than doing patching already done by upstream (just not yet released)



---

archive/issue_comments_419188.json:
```json
{
    "body": "Minor (perhaps trivial) point, but pulling it from that link gave a zip file named `networkx-networkx-2.4.zip`, which caused it to fail without manually downloading and naming the tarball correctly.\n\n\nWith this ticket, I get two deprecation warnings in `generic_graph.py` on these two tests:\n\n```\nFile \"src/sage/graphs/generic_graph.py\", line 9786, in sage.graphs.generic_graph.GenericGraph.?\nFailed example:\n    G.pagerank(algorithm=\"Scipy\") # abs tol 1e-9\n\nFile \"src/sage/graphs/generic_graph.py\", line 9793, in sage.graphs.generic_graph.GenericGraph.?\nFailed example:\n    G.pagerank(algorithm=\"Scipy\", by_weight=True) # abs tol 1e-9\n```\n",
    "created_at": "2020-06-03T23:55:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419188",
    "user": "tscrim"
}
```

Minor (perhaps trivial) point, but pulling it from that link gave a zip file named `networkx-networkx-2.4.zip`, which caused it to fail without manually downloading and naming the tarball correctly.


With this ticket, I get two deprecation warnings in `generic_graph.py` on these two tests:

```
File "src/sage/graphs/generic_graph.py", line 9786, in sage.graphs.generic_graph.GenericGraph.?
Failed example:
    G.pagerank(algorithm="Scipy") # abs tol 1e-9

File "src/sage/graphs/generic_graph.py", line 9793, in sage.graphs.generic_graph.GenericGraph.?
Failed example:
    G.pagerank(algorithm="Scipy", by_weight=True) # abs tol 1e-9
```




---

archive/issue_comments_419189.json:
```json
{
    "body": "Could you post deprecation warnings you get? Cause I thought these were fixed on #29425",
    "created_at": "2020-06-04T00:23:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419189",
    "user": "dimpase"
}
```

Could you post deprecation warnings you get? Cause I thought these were fixed on #29425



---

archive/issue_comments_419190.json:
```json
{
    "body": "Both of them are like this:\n\n```\n    doctest:warning\n      File \"/home/uqtscrim/sage-build/src/bin/sage-runtests\", line 178, in <module>\n        err = DC.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1226, in run\n        self.run_doctests()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 927, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2011, in dispatch\n        self.parallel_dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1906, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2178, in start\n        super(DocTestWorker, self).start()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2150, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2478, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2527, in _run\n        result = runner.run(test)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 878, in run\n        return self._run(test, compileflags, out)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generic_graph.GenericGraph.?[8]>\", line 1, in <module>\n        G.pagerank(algorithm=\"Scipy\", by_weight=True) # abs tol 1e-9\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 9877, in pagerank\n        dangling=dangling)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py\", line 432, in pagerank_scipy\n        S = scipy.array(M.sum(axis=1)).flatten()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py\", line 19, in call\n        stacklevel=stacklevel)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    DeprecationWarning: scipy.array is deprecated and will be removed in SciPy 2.0.0, use numpy.array instead\n    doctest:warning\n      File \"/home/uqtscrim/sage-build/src/bin/sage-runtests\", line 178, in <module>\n        err = DC.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1226, in run\n        self.run_doctests()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 927, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2011, in dispatch\n        self.parallel_dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1906, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2178, in start\n        super(DocTestWorker, self).start()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2150, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2478, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2527, in _run\n        result = runner.run(test)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 878, in run\n        return self._run(test, compileflags, out)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generic_graph.GenericGraph.?[8]>\", line 1, in <module>\n        G.pagerank(algorithm=\"Scipy\", by_weight=True) # abs tol 1e-9\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 9877, in pagerank\n        dangling=dangling)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py\", line 439, in pagerank_scipy\n        x = scipy.repeat(1.0 / N, N)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py\", line 19, in call\n        stacklevel=stacklevel)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    DeprecationWarning: scipy.repeat is deprecated and will be removed in SciPy 2.0.0, use numpy.repeat instead\n    doctest:warning\n      File \"/home/uqtscrim/sage-build/src/bin/sage-runtests\", line 178, in <module>\n        err = DC.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1226, in run\n        self.run_doctests()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 927, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2011, in dispatch\n        self.parallel_dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1906, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2178, in start\n        super(DocTestWorker, self).start()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2150, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2478, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2527, in _run\n        result = runner.run(test)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 878, in run\n        return self._run(test, compileflags, out)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generic_graph.GenericGraph.?[8]>\", line 1, in <module>\n        G.pagerank(algorithm=\"Scipy\", by_weight=True) # abs tol 1e-9\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 9877, in pagerank\n        dangling=dangling)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py\", line 446, in pagerank_scipy\n        p = scipy.repeat(1.0 / N, N)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py\", line 19, in call\n        stacklevel=stacklevel)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    DeprecationWarning: scipy.repeat is deprecated and will be removed in SciPy 2.0.0, use numpy.repeat instead\n    doctest:warning\n      File \"/home/uqtscrim/sage-build/src/bin/sage-runtests\", line 178, in <module>\n        err = DC.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1226, in run\n        self.run_doctests()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 927, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2011, in dispatch\n        self.parallel_dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1906, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2178, in start\n        super(DocTestWorker, self).start()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2150, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2478, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2527, in _run\n        result = runner.run(test)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 878, in run\n        return self._run(test, compileflags, out)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generic_graph.GenericGraph.?[8]>\", line 1, in <module>\n        G.pagerank(algorithm=\"Scipy\", by_weight=True) # abs tol 1e-9\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 9877, in pagerank\n        dangling=dangling)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py\", line 459, in pagerank_scipy\n        is_dangling = scipy.where(S == 0)[0]\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py\", line 19, in call\n        stacklevel=stacklevel)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    DeprecationWarning: scipy.where is deprecated and will be removed in SciPy 2.0.0, use numpy.where instead\n    doctest:warning\n      File \"/home/uqtscrim/sage-build/src/bin/sage-runtests\", line 178, in <module>\n        err = DC.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1226, in run\n        self.run_doctests()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 927, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2011, in dispatch\n        self.parallel_dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1906, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2178, in start\n        super(DocTestWorker, self).start()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2150, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2478, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2527, in _run\n        result = runner.run(test)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 878, in run\n        return self._run(test, compileflags, out)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generic_graph.GenericGraph.?[8]>\", line 1, in <module>\n        G.pagerank(algorithm=\"Scipy\", by_weight=True) # abs tol 1e-9\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 9877, in pagerank\n        dangling=dangling)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py\", line 467, in pagerank_scipy\n        err = scipy.absolute(x - xlast).sum()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py\", line 19, in call\n        stacklevel=stacklevel)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    DeprecationWarning: scipy.absolute is deprecated and will be removed in SciPy 2.0.0, use numpy.absolute instead\n```\n",
    "created_at": "2020-06-04T00:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419190",
    "user": "tscrim"
}
```

Both of them are like this:

```
    doctest:warning
      File "/home/uqtscrim/sage-build/src/bin/sage-runtests", line 178, in <module>
        err = DC.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1226, in run
        self.run_doctests()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 927, in run_doctests
        self.dispatcher.dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2011, in dispatch
        self.parallel_dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1906, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2178, in start
        super(DocTestWorker, self).start()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2150, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2478, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2527, in _run
        result = runner.run(test)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 878, in run
        return self._run(test, compileflags, out)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.?[8]>", line 1, in <module>
        G.pagerank(algorithm="Scipy", by_weight=True) # abs tol 1e-9
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 9877, in pagerank
        dangling=dangling)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py", line 432, in pagerank_scipy
        S = scipy.array(M.sum(axis=1)).flatten()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py", line 19, in call
        stacklevel=stacklevel)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    DeprecationWarning: scipy.array is deprecated and will be removed in SciPy 2.0.0, use numpy.array instead
    doctest:warning
      File "/home/uqtscrim/sage-build/src/bin/sage-runtests", line 178, in <module>
        err = DC.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1226, in run
        self.run_doctests()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 927, in run_doctests
        self.dispatcher.dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2011, in dispatch
        self.parallel_dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1906, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2178, in start
        super(DocTestWorker, self).start()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2150, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2478, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2527, in _run
        result = runner.run(test)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 878, in run
        return self._run(test, compileflags, out)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.?[8]>", line 1, in <module>
        G.pagerank(algorithm="Scipy", by_weight=True) # abs tol 1e-9
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 9877, in pagerank
        dangling=dangling)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py", line 439, in pagerank_scipy
        x = scipy.repeat(1.0 / N, N)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py", line 19, in call
        stacklevel=stacklevel)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    DeprecationWarning: scipy.repeat is deprecated and will be removed in SciPy 2.0.0, use numpy.repeat instead
    doctest:warning
      File "/home/uqtscrim/sage-build/src/bin/sage-runtests", line 178, in <module>
        err = DC.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1226, in run
        self.run_doctests()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 927, in run_doctests
        self.dispatcher.dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2011, in dispatch
        self.parallel_dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1906, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2178, in start
        super(DocTestWorker, self).start()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2150, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2478, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2527, in _run
        result = runner.run(test)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 878, in run
        return self._run(test, compileflags, out)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.?[8]>", line 1, in <module>
        G.pagerank(algorithm="Scipy", by_weight=True) # abs tol 1e-9
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 9877, in pagerank
        dangling=dangling)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py", line 446, in pagerank_scipy
        p = scipy.repeat(1.0 / N, N)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py", line 19, in call
        stacklevel=stacklevel)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    DeprecationWarning: scipy.repeat is deprecated and will be removed in SciPy 2.0.0, use numpy.repeat instead
    doctest:warning
      File "/home/uqtscrim/sage-build/src/bin/sage-runtests", line 178, in <module>
        err = DC.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1226, in run
        self.run_doctests()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 927, in run_doctests
        self.dispatcher.dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2011, in dispatch
        self.parallel_dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1906, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2178, in start
        super(DocTestWorker, self).start()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2150, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2478, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2527, in _run
        result = runner.run(test)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 878, in run
        return self._run(test, compileflags, out)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.?[8]>", line 1, in <module>
        G.pagerank(algorithm="Scipy", by_weight=True) # abs tol 1e-9
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 9877, in pagerank
        dangling=dangling)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py", line 459, in pagerank_scipy
        is_dangling = scipy.where(S == 0)[0]
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py", line 19, in call
        stacklevel=stacklevel)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    DeprecationWarning: scipy.where is deprecated and will be removed in SciPy 2.0.0, use numpy.where instead
    doctest:warning
      File "/home/uqtscrim/sage-build/src/bin/sage-runtests", line 178, in <module>
        err = DC.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1226, in run
        self.run_doctests()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 927, in run_doctests
        self.dispatcher.dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2011, in dispatch
        self.parallel_dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1906, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2178, in start
        super(DocTestWorker, self).start()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2150, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2478, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2527, in _run
        result = runner.run(test)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 878, in run
        return self._run(test, compileflags, out)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.?[8]>", line 1, in <module>
        G.pagerank(algorithm="Scipy", by_weight=True) # abs tol 1e-9
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 9877, in pagerank
        dangling=dangling)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py", line 467, in pagerank_scipy
        err = scipy.absolute(x - xlast).sum()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py", line 19, in call
        stacklevel=stacklevel)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    DeprecationWarning: scipy.absolute is deprecated and will be removed in SciPy 2.0.0, use numpy.absolute instead
```




---

archive/issue_comments_419191.json:
```json
{
    "body": "When I run the file as a standalone, I get\n\n```\nFile \"src/sage/graphs/generic_graph.py\", line 4762, in sage.graphs.generic_graph.GenericGraph.minimum_cycle_basis\nFailed example:\n    sorted(g.minimum_cycle_basis(by_weight=True, algorithm='NetworkX'))\nExpected:\n    [[1, 2, 3], [1, 2, 3, 4], [5, 6, 7]]\nGot:\n    doctest:warning\n      File \"/home/uqtscrim/sage/src/bin/sage-runtests\", line 178, in <module>\n        err = DC.run()\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1226, in run\n        self.run_doctests()\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 927, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2011, in dispatch\n        self.parallel_dispatch()\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1906, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2178, in start\n        super(DocTestWorker, self).start()\n      File \"/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2150, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2478, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2527, in _run\n        result = runner.run(test)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 878, in run\n        return self._run(test, compileflags, out)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generic_graph.GenericGraph.minimum_cycle_basis[3]>\", line 1, in <module>\n        sorted(g.minimum_cycle_basis(by_weight=True, algorithm='NetworkX'))\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 4805, in minimum_cycle_basis\n        return networkx.minimum_cycle_basis(G, weight='weight')\n      File \"</home/uqtscrim/sage/local/lib/python3.7/site-packages/decorator.py:decorator-gen-354>\", line 2, in minimum_cycle_basis\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/utils/decorators.py\", line 82, in _not_implemented_for\n        return not_implement_for_func(*args, **kwargs)\n      File \"</home/uqtscrim/sage/local/lib/python3.7/site-packages/decorator.py:decorator-gen-353>\", line 2, in minimum_cycle_basis\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/utils/decorators.py\", line 82, in _not_implemented_for\n        return not_implement_for_func(*args, **kwargs)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/algorithms/cycles.py\", line 525, in minimum_cycle_basis\n        nx.connected_component_subgraphs(G)), [])\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/algorithms/cycles.py\", line 524, in <genexpr>\n        return sum((_min_cycle_basis(c, weight) for c in\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/algorithms/components/connected.py\", line 86, in connected_component_subgraphs\n        _warnings.warn(msg, DeprecationWarning)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    DeprecationWarning: connected_component_subgraphs is deprecated and will be removedin 2.2. Use (G.subgraph(c).copy() for c in connected_components(G))\n    [[1, 2, 3], [1, 2, 3, 4], [5, 6, 7]]\n```\n",
    "created_at": "2020-06-04T00:26:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419191",
    "user": "tscrim"
}
```

When I run the file as a standalone, I get

```
File "src/sage/graphs/generic_graph.py", line 4762, in sage.graphs.generic_graph.GenericGraph.minimum_cycle_basis
Failed example:
    sorted(g.minimum_cycle_basis(by_weight=True, algorithm='NetworkX'))
Expected:
    [[1, 2, 3], [1, 2, 3, 4], [5, 6, 7]]
Got:
    doctest:warning
      File "/home/uqtscrim/sage/src/bin/sage-runtests", line 178, in <module>
        err = DC.run()
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1226, in run
        self.run_doctests()
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 927, in run_doctests
        self.dispatcher.dispatch()
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2011, in dispatch
        self.parallel_dispatch()
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1906, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2178, in start
        super(DocTestWorker, self).start()
      File "/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2150, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2478, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2527, in _run
        result = runner.run(test)
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 878, in run
        return self._run(test, compileflags, out)
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.minimum_cycle_basis[3]>", line 1, in <module>
        sorted(g.minimum_cycle_basis(by_weight=True, algorithm='NetworkX'))
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 4805, in minimum_cycle_basis
        return networkx.minimum_cycle_basis(G, weight='weight')
      File "</home/uqtscrim/sage/local/lib/python3.7/site-packages/decorator.py:decorator-gen-354>", line 2, in minimum_cycle_basis
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/utils/decorators.py", line 82, in _not_implemented_for
        return not_implement_for_func(*args, **kwargs)
      File "</home/uqtscrim/sage/local/lib/python3.7/site-packages/decorator.py:decorator-gen-353>", line 2, in minimum_cycle_basis
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/utils/decorators.py", line 82, in _not_implemented_for
        return not_implement_for_func(*args, **kwargs)
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/algorithms/cycles.py", line 525, in minimum_cycle_basis
        nx.connected_component_subgraphs(G)), [])
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/algorithms/cycles.py", line 524, in <genexpr>
        return sum((_min_cycle_basis(c, weight) for c in
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/algorithms/components/connected.py", line 86, in connected_component_subgraphs
        _warnings.warn(msg, DeprecationWarning)
      File "/home/uqtscrim/sage/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    DeprecationWarning: connected_component_subgraphs is deprecated and will be removedin 2.2. Use (G.subgraph(c).copy() for c in connected_components(G))
    [[1, 2, 3], [1, 2, 3, 4], [5, 6, 7]]
```




---

archive/issue_comments_419192.json:
```json
{
    "body": "You shouldn't have this warning with networkx 2.4. It implies you are still using 2.2.",
    "created_at": "2020-06-04T00:30:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419192",
    "user": "fbissey"
}
```

You shouldn't have this warning with networkx 2.4. It implies you are still using 2.2.



---

archive/issue_comments_419193.json:
```json
{
    "body": "I didn't fully merge #29425 into this branch. I can do it (must I?), or leave it to the release manager.\n\nas to the url - I guess it's something to do with [GitHub](GitHub) naming of archives.",
    "created_at": "2020-06-04T00:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419193",
    "user": "dimpase"
}
```

I didn't fully merge #29425 into this branch. I can do it (must I?), or leave it to the release manager.

as to the url - I guess it's something to do with [GitHub](GitHub) naming of archives.



---

archive/issue_comments_419194.json:
```json
{
    "body": "`@`fbissey I am using 2.4 as far as Sage knows:\n\n```\n./sage --installed\n...\nnetworkx................................2.4 (2.4)\n```\n\n\n`@`dimpase I didn't realize the entire branch of #29425 had not been merged in. It looked like it had from a quick glance. Once I did that then indeed I do not get the deprecation warnings.",
    "created_at": "2020-06-04T00:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419194",
    "user": "tscrim"
}
```

`@`fbissey I am using 2.4 as far as Sage knows:

```
./sage --installed
...
networkx................................2.4 (2.4)
```


`@`dimpase I didn't realize the entire branch of #29425 had not been merged in. It looked like it had from a quick glance. Once I did that then indeed I do not get the deprecation warnings.



---

archive/issue_comments_419195.json:
```json
{
    "body": "Since the doctests do pass for me with #29425 (and you don't need to merge it in any further I think), positive review.",
    "created_at": "2020-06-04T00:42:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419195",
    "user": "tscrim"
}
```

Since the doctests do pass for me with #29425 (and you don't need to merge it in any further I think), positive review.



---

archive/issue_comments_419196.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-04T00:42:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419196",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_419197.json:
```json
{
    "body": "Replying to [comment:4 tscrim]:\n> Minor (perhaps trivial) point, but pulling it from that link gave a zip file named `networkx-networkx-2.4.zip`, which caused it to fail without manually downloading and naming the tarball correctly.\n\nI don't quite understand what \"pulling it from that link\" means. The idea of \n`upstream_url` in `checksum.ini` is to allow automatic download of the package archive from that URL. (which can either be enabled with `-o`, as follows, `./sage -i -o networkx` of if one runs `./configure` with `--enable-download-from-upstream-url` option).\n\nAnd this automation works for me on Linux. The ULR is copied verbatim from https://github.com/networkx/networkx/releases/tag/networkx-2.4",
    "created_at": "2020-06-04T14:41:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419197",
    "user": "dimpase"
}
```

Replying to [comment:4 tscrim]:
> Minor (perhaps trivial) point, but pulling it from that link gave a zip file named `networkx-networkx-2.4.zip`, which caused it to fail without manually downloading and naming the tarball correctly.

I don't quite understand what "pulling it from that link" means. The idea of 
`upstream_url` in `checksum.ini` is to allow automatic download of the package archive from that URL. (which can either be enabled with `-o`, as follows, `./sage -i -o networkx` of if one runs `./configure` with `--enable-download-from-upstream-url` option).

And this automation works for me on Linux. The ULR is copied verbatim from https://github.com/networkx/networkx/releases/tag/networkx-2.4



---

archive/issue_comments_419198.json:
```json
{
    "body": "Replying to [comment:12 dimpase]:\n> Replying to [comment:4 tscrim]:\n> > Minor (perhaps trivial) point, but pulling it from that link gave a zip file named `networkx-networkx-2.4.zip`, which caused it to fail without manually downloading and naming the tarball correctly.\n> \n> I don't quite understand what \"pulling it from that link\" means. The idea of \n> `upstream_url` in `checksum.ini` is to allow automatic download of the package archive from that URL. (which can either be enabled with `-o`, as follows, `./sage -i -o networkx` of if one runs `./configure` with `--enable-download-from-upstream-url` option).\n> \n> And this automation works for me on Linux. The ULR is copied verbatim from https://github.com/networkx/networkx/releases/tag/networkx-2.4\n\nOkay, I tried with just `make` instead of directly with `sage -i` (which worked by itself when I did this on another spkg previously), so maybe that is why it didn't work. I was just thinking it came from the zip file having an unexpected name.",
    "created_at": "2020-06-05T00:38:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419198",
    "user": "tscrim"
}
```

Replying to [comment:12 dimpase]:
> Replying to [comment:4 tscrim]:
> > Minor (perhaps trivial) point, but pulling it from that link gave a zip file named `networkx-networkx-2.4.zip`, which caused it to fail without manually downloading and naming the tarball correctly.
> 
> I don't quite understand what "pulling it from that link" means. The idea of 
> `upstream_url` in `checksum.ini` is to allow automatic download of the package archive from that URL. (which can either be enabled with `-o`, as follows, `./sage -i -o networkx` of if one runs `./configure` with `--enable-download-from-upstream-url` option).
> 
> And this automation works for me on Linux. The ULR is copied verbatim from https://github.com/networkx/networkx/releases/tag/networkx-2.4

Okay, I tried with just `make` instead of directly with `sage -i` (which worked by itself when I did this on another spkg previously), so maybe that is why it didn't work. I was just thinking it came from the zip file having an unexpected name.



---

archive/issue_comments_419199.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-06-06T04:39:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419199",
    "user": "mkoeppe"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_419200.json:
```json
{
    "body": "From #29425: running the testsuite of networkx requires pytest.",
    "created_at": "2020-06-06T04:39:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419200",
    "user": "mkoeppe"
}
```

From #29425: running the testsuite of networkx requires pytest.



---

archive/issue_comments_419201.json:
```json
{
    "body": "Replying to [comment:15 mkoeppe]:\n> From #29425: running the testsuite of networkx requires pytest.\n\nI'll add pytest in #29813.",
    "created_at": "2020-06-06T04:55:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419201",
    "user": "mkoeppe"
}
```

Replying to [comment:15 mkoeppe]:
> From #29425: running the testsuite of networkx requires pytest.

I'll add pytest in #29813.



---

archive/issue_comments_419202.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-06T05:31:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419202",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419203.json:
```json
{
    "body": "Merged in updated #29425 and #29813.",
    "created_at": "2020-06-06T05:31:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419203",
    "user": "mkoeppe"
}
```

Merged in updated #29425 and #29813.



---

archive/issue_comments_419204.json:
```json
{
    "body": "Tests at https://github.com/mkoeppe/sage/pull/38/checks",
    "created_at": "2020-06-06T05:34:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419204",
    "user": "mkoeppe"
}
```

Tests at https://github.com/mkoeppe/sage/pull/38/checks



---

archive/issue_comments_419205.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-06-06T05:38:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419205",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_419206.json:
```json
{
    "body": "#29813 needs to be fixed.",
    "created_at": "2020-06-06T21:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419206",
    "user": "mkoeppe"
}
```

#29813 needs to be fixed.



---

archive/issue_comments_419207.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-06-06T21:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419207",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_419208.json:
```json
{
    "body": "Merged ticket #29425 into this ticket because #29245 could not be separately tested because of networkx 2.2 testsuite errors triggered by updates.",
    "created_at": "2020-06-07T03:04:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419208",
    "user": "mkoeppe"
}
```

Merged ticket #29425 into this ticket because #29245 could not be separately tested because of networkx 2.2 testsuite errors triggered by updates.



---

archive/issue_comments_419209.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-07T06:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419209",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419210.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-06-07T06:37:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419210",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_419211.json:
```json
{
    "body": "Tests at https://github.com/mkoeppe/sage/actions/runs/128112212:\n\nOn `ubuntu-eoan-standard` (https://github.com/mkoeppe/sage/runs/748390625), LOTS of failures in the networkx testsuite:\n\n```\nRan 3618 tests in 386.630s\n\nFAILED (errors=808)\n```\n\nIs this expected?",
    "created_at": "2020-06-08T06:05:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419211",
    "user": "mkoeppe"
}
```

Tests at https://github.com/mkoeppe/sage/actions/runs/128112212:

On `ubuntu-eoan-standard` (https://github.com/mkoeppe/sage/runs/748390625), LOTS of failures in the networkx testsuite:

```
Ran 3618 tests in 386.630s

FAILED (errors=808)
```

Is this expected?



---

archive/issue_comments_419212.json:
```json
{
    "body": "Failure on cygwin-standard (https://github.com/mkoeppe/sage/runs/748608397):\n\n```\n  g++: scipy/optimize/rectangular_lsap/rectangular_lsap.cpp\n  scipy/optimize/rectangular_lsap/rectangular_lsap.cpp:117:43: error: \u2018int64_t\u2019 has not been declared\n    117 | solve(int nr, int nc, double* input_cost, int64_t* output_col4row)\n        |                                           ^~~~~~~\n  scipy/optimize/rectangular_lsap/rectangular_lsap.cpp:186:41: error: \u2018int64_t\u2019 has not been declared\n    186 |                                         int64_t* col4row)\n        |                                         ^~~~~~~\n```\n",
    "created_at": "2020-06-08T14:47:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419212",
    "user": "mkoeppe"
}
```

Failure on cygwin-standard (https://github.com/mkoeppe/sage/runs/748608397):

```
  g++: scipy/optimize/rectangular_lsap/rectangular_lsap.cpp
  scipy/optimize/rectangular_lsap/rectangular_lsap.cpp:117:43: error: int64_t has not been declared
    117 | solve(int nr, int nc, double* input_cost, int64_t* output_col4row)
        |                                           ^~~~~~~
  scipy/optimize/rectangular_lsap/rectangular_lsap.cpp:186:41: error: int64_t has not been declared
    186 |                                         int64_t* col4row)
        |                                         ^~~~~~~
```




---

archive/issue_comments_419213.json:
```json
{
    "body": "The `int64_t` issue is fixed in https://github.com/scipy/scipy/pull/11320\nfor the upcoming 1.5.0, marked \"backport-candidate\", but so far no 1.4.x with the fix has been released...",
    "created_at": "2020-06-08T23:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419213",
    "user": "mkoeppe"
}
```

The `int64_t` issue is fixed in https://github.com/scipy/scipy/pull/11320
for the upcoming 1.5.0, marked "backport-candidate", but so far no 1.4.x with the fix has been released...



---

archive/issue_comments_419214.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-09T00:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419214",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419215.json:
```json
{
    "body": "Everything builds and works for me on Ubuntu.",
    "created_at": "2020-06-10T23:34:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419215",
    "user": "tscrim"
}
```

Everything builds and works for me on Ubuntu.



---

archive/issue_comments_419216.json:
```json
{
    "body": "lgtm",
    "created_at": "2020-06-12T06:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419216",
    "user": "dimpase"
}
```

lgtm



---

archive/issue_comments_419217.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-12T06:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419217",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_419218.json:
```json
{
    "body": "Comment 29 is unresolved",
    "created_at": "2020-06-12T18:59:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419218",
    "user": "mkoeppe"
}
```

Comment 29 is unresolved



---

archive/issue_comments_419219.json:
```json
{
    "body": "a package fails its own testsuite. it's not the 1st one (happens on Gentoo as well)",
    "created_at": "2020-06-12T20:32:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419219",
    "user": "dimpase"
}
```

a package fails its own testsuite. it's not the 1st one (happens on Gentoo as well)



---

archive/issue_comments_419220.json:
```json
{
    "body": "OK, good to know. No objection then",
    "created_at": "2020-06-12T20:39:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419220",
    "user": "mkoeppe"
}
```

OK, good to know. No objection then



---

archive/issue_comments_419221.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-06-28T00:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419221",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_419222.json:
```json
{
    "body": "Lots of failures of the form\n\n```\n**********************************************************************\nFile \"src/sage/modular/modform_hecketriangle/abstract_space.py\", line 2235, in sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.ZZ\nFailed example:\n    qexp_int = WF.rationalize_series(qexp)\nExpected nothing\nGot:\n    doctest:warning\n      File \"/home/release/Sage/src/bin/sage-runtests\", line 178, in <module>\n        err = DC.run()\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1231, in run\n        self.run_doctests()\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 931, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2045, in dispatch\n        self.parallel_dispatch()\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1940, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2212, in start\n        super(DocTestWorker, self).start()\n      File \"/home/release/Sage/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/home/release/Sage/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/release/Sage/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/release/Sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/home/release/Sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/home/release/Sage/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2184, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2513, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2562, in _run\n        result = runner.run(test)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 912, in run\n        return self._run(test, compileflags, out)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 707, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1138, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.ZZ[4]>\", line 1, in <module>\n        qexp_int = WF.rationalize_series(qexp)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/modular/modform_hecketriangle/abstract_space.py\", line 2309, in rationalize_series\n        warn(\"Using an experimental rationalization of coefficients, please check the result for correctness!\")\n      File \"/home/release/Sage/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    UserWarning: Using an experimental rationalization of coefficients, please check the result for correctness!\n**********************************************************************\n2 items had failures:\n   1 of  29 in sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.ZZ\n   1 of  41 in sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.construct_quasi_form\n    [566 tests, 2 failures, 7.37 s]\n----------------------------------------------------------------------\nsage -t --long --warn-long 37.2 src/sage/modular/modform_hecketriangle/abstract_space.py  # 2 doctests failed\n----------------------------------------------------------------------\n```\n",
    "created_at": "2020-06-28T00:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419222",
    "user": "vbraun"
}
```

Lots of failures of the form

```
**********************************************************************
File "src/sage/modular/modform_hecketriangle/abstract_space.py", line 2235, in sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.ZZ
Failed example:
    qexp_int = WF.rationalize_series(qexp)
Expected nothing
Got:
    doctest:warning
      File "/home/release/Sage/src/bin/sage-runtests", line 178, in <module>
        err = DC.run()
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1231, in run
        self.run_doctests()
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 931, in run_doctests
        self.dispatcher.dispatch()
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2045, in dispatch
        self.parallel_dispatch()
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1940, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2212, in start
        super(DocTestWorker, self).start()
      File "/home/release/Sage/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/home/release/Sage/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/release/Sage/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/release/Sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/home/release/Sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/home/release/Sage/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2184, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2513, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2562, in _run
        result = runner.run(test)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 912, in run
        return self._run(test, compileflags, out)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 707, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1138, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.ZZ[4]>", line 1, in <module>
        qexp_int = WF.rationalize_series(qexp)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/modular/modform_hecketriangle/abstract_space.py", line 2309, in rationalize_series
        warn("Using an experimental rationalization of coefficients, please check the result for correctness!")
      File "/home/release/Sage/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    UserWarning: Using an experimental rationalization of coefficients, please check the result for correctness!
**********************************************************************
2 items had failures:
   1 of  29 in sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.ZZ
   1 of  41 in sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.construct_quasi_form
    [566 tests, 2 failures, 7.37 s]
----------------------------------------------------------------------
sage -t --long --warn-long 37.2 src/sage/modular/modform_hecketriangle/abstract_space.py  # 2 doctests failed
----------------------------------------------------------------------
```




---

archive/issue_comments_419223.json:
```json
{
    "body": "This looks strange. I have done a test run of sage 9.2.beta2 with numpy-1.19/scipy-1.5/networkx-2.4 in sage-on-gentoo and I have seen no such things [in fact the number of doctest failures in sage-on-gentoo is at its lowest in years - 3 doctests across 2 files].\n\nI would think another ticket would be the cause of this, although I am at a loss as to which one when inspecting your last commits. Running my own tests on your branch ASAP.",
    "created_at": "2020-06-28T02:38:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419223",
    "user": "fbissey"
}
```

This looks strange. I have done a test run of sage 9.2.beta2 with numpy-1.19/scipy-1.5/networkx-2.4 in sage-on-gentoo and I have seen no such things [in fact the number of doctest failures in sage-on-gentoo is at its lowest in years - 3 doctests across 2 files].

I would think another ticket would be the cause of this, although I am at a loss as to which one when inspecting your last commits. Running my own tests on your branch ASAP.



---

archive/issue_comments_419224.json:
```json
{
    "body": "This is caused by the\n\n```\nwarnings.filterwarnings('ignore', '.*Deprec.*scipy.*instead',)\n```\n\nline. This is run on every examples block, and resets the registry of already displayed warnings - so warnings which are not affected by a filter, which by default are only displayed the first time they are hit, are shown again.",
    "created_at": "2020-06-28T12:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419224",
    "user": "arojas"
}
```

This is caused by the

```
warnings.filterwarnings('ignore', '.*Deprec.*scipy.*instead',)
```

line. This is run on every examples block, and resets the registry of already displayed warnings - so warnings which are not affected by a filter, which by default are only displayed the first time they are hit, are shown again.



---

archive/issue_comments_419225.json:
```json
{
    "body": "oh dear. ok, we can suppress these, too",
    "created_at": "2020-06-28T14:04:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419225",
    "user": "dimpase"
}
```

oh dear. ok, we can suppress these, too



---

archive/issue_comments_419226.json:
```json
{
    "body": "From the SciPy 1.5.1 Release Notes:\n\n> SciPy 1.5.1 is a bug-fix release with no new features\n> compared to 1.5.0. In particular, an issue where DLL loading\n> can fail for SciPy wheels on Windows with Python 3.6 has been\n> fixed.",
    "created_at": "2020-07-05T00:38:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419226",
    "user": "slelievre"
}
```

From the SciPy 1.5.1 Release Notes:

> SciPy 1.5.1 is a bug-fix release with no new features
> compared to 1.5.0. In particular, an issue where DLL loading
> can fail for SciPy wheels on Windows with Python 3.6 has been
> fixed.



---

archive/issue_comments_419227.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-05T01:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419227",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419228.json:
```json
{
    "body": "Tests run at https://github.com/mkoeppe/sage/actions/runs/157933479",
    "created_at": "2020-07-05T01:33:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419228",
    "user": "mkoeppe"
}
```

Tests run at https://github.com/mkoeppe/sage/actions/runs/157933479



---

archive/issue_comments_419229.json:
```json
{
    "body": "The `warnings.filterwarnings` issue needs to be addressed",
    "created_at": "2020-07-05T01:44:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419229",
    "user": "mkoeppe"
}
```

The `warnings.filterwarnings` issue needs to be addressed



---

archive/issue_comments_419230.json:
```json
{
    "body": "Replying to [comment:45 slelievre]:\n> From the SciPy 1.5.1 Release Notes:\n> \n> > SciPy 1.5.1 is a bug-fix release with no new features\n> > compared to 1.5.0. In particular, an issue where DLL loading\n> > can fail for SciPy wheels on Windows with Python 3.6 has been\n> > fixed.\n\nno worries, the ticket description was not updated, that's all.",
    "created_at": "2020-07-05T09:31:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419230",
    "user": "dimpase"
}
```

Replying to [comment:45 slelievre]:
> From the SciPy 1.5.1 Release Notes:
> 
> > SciPy 1.5.1 is a bug-fix release with no new features
> > compared to 1.5.0. In particular, an issue where DLL loading
> > can fail for SciPy wheels on Windows with Python 3.6 has been
> > fixed.

no worries, the ticket description was not updated, that's all.



---

archive/issue_comments_419231.json:
```json
{
    "body": "wrong tarball hash for numpy. See https://github.com/numpy/numpy/issues/16754\n- the usual GH crappy tarballs stuff I guess.",
    "created_at": "2020-07-05T11:02:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419231",
    "user": "dimpase"
}
```

wrong tarball hash for numpy. See https://github.com/numpy/numpy/issues/16754
- the usual GH crappy tarballs stuff I guess.



---

archive/issue_comments_419232.json:
```json
{
    "body": "Currently it is\n\n```diff\n--- a/build/pkgs/numpy/checksums.ini\n+++ b/build/pkgs/numpy/checksums.ini\n@@ -1,5 +1,5 @@\n tarball=numpy-VERSION.tar.gz\n-sha1=0b1792c8a828d6a9fb148fb33dfa11549391d858\n-md5=3f5ce88a859302f0a1aceb5f75b563fc\n-cksum=1603544858\n+sha1=a6c099c0929e0b437a72fd60aad76d23061087c6\n+md5=e3baa59da67348c2d6596803514129db\n+cksum=1607167529\n upstream_url=https://github.com/numpy/numpy/releases/download/vVERSION/numpy-VERSION.tar.gz\n```\n\nbut of course it's not really stable...",
    "created_at": "2020-07-05T11:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419232",
    "user": "dimpase"
}
```

Currently it is

```diff
--- a/build/pkgs/numpy/checksums.ini
+++ b/build/pkgs/numpy/checksums.ini
@@ -1,5 +1,5 @@
 tarball=numpy-VERSION.tar.gz
-sha1=0b1792c8a828d6a9fb148fb33dfa11549391d858
-md5=3f5ce88a859302f0a1aceb5f75b563fc
-cksum=1603544858
+sha1=a6c099c0929e0b437a72fd60aad76d23061087c6
+md5=e3baa59da67348c2d6596803514129db
+cksum=1607167529
 upstream_url=https://github.com/numpy/numpy/releases/download/vVERSION/numpy-VERSION.tar.gz
```

but of course it's not really stable...



---

archive/issue_comments_419233.json:
```json
{
    "body": "And now md5 as advertised on Numpy pages:\n\n```diff\n--- a/build/pkgs/numpy/checksums.ini\n+++ b/build/pkgs/numpy/checksums.ini\n@@ -1,5 +1,5 @@\n tarball=numpy-VERSION.tar.gz\n-sha1=0b1792c8a828d6a9fb148fb33dfa11549391d858\n-md5=3f5ce88a859302f0a1aceb5f75b563fc\n-cksum=1603544858\n+sha1=ba35592527bd01f53244ae1bb55c896101bbf0f3\n+md5=d59aadf47354bd10c7b9996032ba4da0\n+cksum=3500020755\n```\n\nSucks.",
    "created_at": "2020-07-05T11:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419233",
    "user": "dimpase"
}
```

And now md5 as advertised on Numpy pages:

```diff
--- a/build/pkgs/numpy/checksums.ini
+++ b/build/pkgs/numpy/checksums.ini
@@ -1,5 +1,5 @@
 tarball=numpy-VERSION.tar.gz
-sha1=0b1792c8a828d6a9fb148fb33dfa11549391d858
-md5=3f5ce88a859302f0a1aceb5f75b563fc
-cksum=1603544858
+sha1=ba35592527bd01f53244ae1bb55c896101bbf0f3
+md5=d59aadf47354bd10c7b9996032ba4da0
+cksum=3500020755
```

Sucks.



---

archive/issue_comments_419234.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-05T20:01:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419234",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419235.json:
```json
{
    "body": "Hopefully the sources packages on PyPI are more stable.",
    "created_at": "2020-07-05T20:01:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419235",
    "user": "mkoeppe"
}
```

Hopefully the sources packages on PyPI are more stable.



---

archive/issue_comments_419236.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2020-07-05T21:20:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419236",
    "user": "mkoeppe"
}
```

Changing priority from major to critical.



---

archive/issue_comments_419237.json:
```json
{
    "body": "Replying to [comment:50 mkoeppe]:\n> The `warnings.filterwarnings` issue needs to be addressed\nIt appears I figured out this issue; doing\n\n```diff\n--- a/src/sage/all.py\n+++ b/src/sage/all.py\n@@ -87,6 +87,8 @@ warnings.filterwarnings('ignore', category=RuntimeWarning,\n # Ignore all deprecations from IPython etc.\n warnings.filterwarnings('ignore', category=DeprecationWarning,\n     module='.*(IPython|ipykernel|jupyter_client|jupyter_core|nbformat|notebook|ipywidgets|storemagic|jedi)')\n+warnings.filterwarnings('ignore', category=DeprecationWarning,\n+    module='.*(scipy|networkx)')\n # Ignore collections.abc warnings, there are a lot of them but they are\n # harmless.\n warnings.filterwarnings('ignore', category=DeprecationWarning,\ndiff --git a/src/sage/doctest/forker.py b/src/sage/doctest/forker.py\nindex 9646ddee18..bd7e1a5a97 100644\n--- a/src/sage/doctest/forker.py\n+++ b/src/sage/doctest/forker.py\n@@ -881,7 +881,7 @@ class SageDocTestRunner(doctest.DocTestRunner, object):\n         #             and will be removed in SciPy 2.0.0, use numpy.array instead\n         # This affects networkx 2.2 up and including 2.4\n         # We filter them out here:\n-        warnings.filterwarnings('ignore', '.*Deprec.*scipy.*instead',) # cf trac #29425\n+ #       warnings.filterwarnings('ignore', '.*Deprec.*scipy.*instead',) # cf trac #29425\n \n         warnings.showwarning = showwarning_with_traceback\n         self.running_doctest_digest = hashlib.md5()\n```\n\nappears to fix it - still testing, but expect a success.\nBasically, we already did suppression of deprecation warnings\nfrom other packages right, now the same has to be done for `scipy` and `networkx`",
    "created_at": "2020-07-06T00:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419237",
    "user": "dimpase"
}
```

Replying to [comment:50 mkoeppe]:
> The `warnings.filterwarnings` issue needs to be addressed
It appears I figured out this issue; doing

```diff
--- a/src/sage/all.py
+++ b/src/sage/all.py
@@ -87,6 +87,8 @@ warnings.filterwarnings('ignore', category=RuntimeWarning,
 # Ignore all deprecations from IPython etc.
 warnings.filterwarnings('ignore', category=DeprecationWarning,
     module='.*(IPython|ipykernel|jupyter_client|jupyter_core|nbformat|notebook|ipywidgets|storemagic|jedi)')
+warnings.filterwarnings('ignore', category=DeprecationWarning,
+    module='.*(scipy|networkx)')
 # Ignore collections.abc warnings, there are a lot of them but they are
 # harmless.
 warnings.filterwarnings('ignore', category=DeprecationWarning,
diff --git a/src/sage/doctest/forker.py b/src/sage/doctest/forker.py
index 9646ddee18..bd7e1a5a97 100644
--- a/src/sage/doctest/forker.py
+++ b/src/sage/doctest/forker.py
@@ -881,7 +881,7 @@ class SageDocTestRunner(doctest.DocTestRunner, object):
         #             and will be removed in SciPy 2.0.0, use numpy.array instead
         # This affects networkx 2.2 up and including 2.4
         # We filter them out here:
-        warnings.filterwarnings('ignore', '.*Deprec.*scipy.*instead',) # cf trac #29425
+ #       warnings.filterwarnings('ignore', '.*Deprec.*scipy.*instead',) # cf trac #29425
 
         warnings.showwarning = showwarning_with_traceback
         self.running_doctest_digest = hashlib.md5()
```

appears to fix it - still testing, but expect a success.
Basically, we already did suppression of deprecation warnings
from other packages right, now the same has to be done for `scipy` and `networkx`



---

archive/issue_comments_419238.json:
```json
{
    "body": "> Basically, we already did suppression of deprecation warnings\n> from other packages right, now the same has to be done for `scipy` and `networkx`\n\nDoesn't that also hide deprecation warnings coming from sage code, and thus would prevent detecting such deprecated code use with future scipy/networkx updates? That sort of defeats the point of the previous\n\n```\n    deprecationWarning = ('ignore', None, DeprecationWarning, None, 0)\n    if deprecationWarning in warnings.filters: warnings.filters.remove(deprecationWarning)\n```\n",
    "created_at": "2020-07-06T06:39:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419238",
    "user": "arojas"
}
```

> Basically, we already did suppression of deprecation warnings
> from other packages right, now the same has to be done for `scipy` and `networkx`

Doesn't that also hide deprecation warnings coming from sage code, and thus would prevent detecting such deprecated code use with future scipy/networkx updates? That sort of defeats the point of the previous

```
    deprecationWarning = ('ignore', None, DeprecationWarning, None, 0)
    if deprecationWarning in warnings.filters: warnings.filters.remove(deprecationWarning)
```




---

archive/issue_comments_419239.json:
```json
{
    "body": "Replying to [comment:61 arojas]:\n> > Basically, we already did suppression of deprecation warnings\n> > from other packages right, now the same has to be done for `scipy` and `networkx`\n> \n> Doesn't that also hide deprecation warnings coming from sage code, and thus would prevent detecting such deprecated code use with future scipy/networkx updates? That sort of defeats the point of the previous\n> {{{\n>     deprecationWarning = ('ignore', None, DeprecationWarning, None, 0)\n>     if deprecationWarning in warnings.filters: warnings.filters.remove(deprecationWarning)\n> }}}\n`module='.*(scipy|networkx)'` suppresses deprecation warnings emitted by code in `scipy` or in `networkx`. It does not do anything to these warnings from Sage code itself.\nIndeed, the tests in `src/sage/tests/deprecation_test.py` still pass.",
    "created_at": "2020-07-06T07:01:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419239",
    "user": "dimpase"
}
```

Replying to [comment:61 arojas]:
> > Basically, we already did suppression of deprecation warnings
> > from other packages right, now the same has to be done for `scipy` and `networkx`
> 
> Doesn't that also hide deprecation warnings coming from sage code, and thus would prevent detecting such deprecated code use with future scipy/networkx updates? That sort of defeats the point of the previous
> {{{
>     deprecationWarning = ('ignore', None, DeprecationWarning, None, 0)
>     if deprecationWarning in warnings.filters: warnings.filters.remove(deprecationWarning)
> }}}
`module='.*(scipy|networkx)'` suppresses deprecation warnings emitted by code in `scipy` or in `networkx`. It does not do anything to these warnings from Sage code itself.
Indeed, the tests in `src/sage/tests/deprecation_test.py` still pass.



---

archive/issue_comments_419240.json:
```json
{
    "body": "needless to say, each upgrade to scipy|networkx will need to re-evaluate these.\n\nWe should add something to the Developer manual on this.",
    "created_at": "2020-07-06T07:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419240",
    "user": "dimpase"
}
```

needless to say, each upgrade to scipy|networkx will need to re-evaluate these.

We should add something to the Developer manual on this.



---

archive/issue_comments_419241.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-07-06T07:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419241",
    "user": "dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_419242.json:
```json
{
    "body": "correct suppression of warnings\n----\nNew commits:",
    "created_at": "2020-07-06T07:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419242",
    "user": "dimpase"
}
```

correct suppression of warnings
----
New commits:



---

archive/issue_comments_419243.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2020-07-12T05:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419243",
    "user": "mkoeppe"
}
```

Last 10 new commits:



---

archive/issue_comments_419244.json:
```json
{
    "body": "Changing priority from critical to blocker.",
    "created_at": "2020-07-12T18:41:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419244",
    "user": "mkoeppe"
}
```

Changing priority from critical to blocker.



---

archive/issue_comments_419245.json:
```json
{
    "body": "Elevating this upgrade ticket to \"blocker\" because homebrew builds are currently broken because they now ship gfortran 10.",
    "created_at": "2020-07-12T18:41:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419245",
    "user": "mkoeppe"
}
```

Elevating this upgrade ticket to "blocker" because homebrew builds are currently broken because they now ship gfortran 10.



---

archive/issue_comments_419246.json:
```json
{
    "body": "(see for example https://github.com/sagemath/sage/runs/862451287)",
    "created_at": "2020-07-12T18:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419246",
    "user": "mkoeppe"
}
```

(see for example https://github.com/sagemath/sage/runs/862451287)



---

archive/issue_comments_419247.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-13T21:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419247",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419248.json:
```json
{
    "body": "Tests as part of Meta-ticket #29456 (Support gcc/gfortran 10) at https://github.com/mkoeppe/sage/actions/runs/167913617\n\nOn `debian-jessie-standard` (https://github.com/mkoeppe/sage/runs/866989168) and `debian-jessie-minimal`: \n\n```\ngcc: build/src.linux-x86_64-3.7/numpy/core/src/umath/loops.c\nIn file included from numpy/core/src/umath/loops.c.src:50:0:\nnumpy/core/src/umath/simd.inc.src: In function \u2018avx512_conjugate_ps\u2019:\nnumpy/core/src/umath/simd.inc.src:1843:5: warning: implicit declaration of function \u2018_mm512_castps_si512\u2019 [-Wimplicit-function-declaration]\n     __m512i cast_x = _mm512_cast@vsub@_si512(x);\n     ^\nnumpy/core/src/umath/simd.inc.src:1843:22: error: incompatible types when initializing type \u2018__vector(8) long long int\u2019 using type \u2018int\u2019\n     __m512i cast_x = _mm512_cast@vsub@_si512(x);\n                      ^\nnumpy/core/src/umath/simd.inc.src:1846:5: warning: implicit declaration of function \u2018_mm512_castsi512_ps\u2019 [-Wimplicit-function-declaration]\n     return _mm512_castsi512_@vsub@(res);\n     ^\nnumpy/core/src/umath/simd.inc.src:1846:5: error: incompatible types when returning type \u2018int\u2019 but \u2018__vector(16) float\u2019 was expected\n```\n",
    "created_at": "2020-07-14T02:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419248",
    "user": "mkoeppe"
}
```

Tests as part of Meta-ticket #29456 (Support gcc/gfortran 10) at https://github.com/mkoeppe/sage/actions/runs/167913617

On `debian-jessie-standard` (https://github.com/mkoeppe/sage/runs/866989168) and `debian-jessie-minimal`: 

```
gcc: build/src.linux-x86_64-3.7/numpy/core/src/umath/loops.c
In file included from numpy/core/src/umath/loops.c.src:50:0:
numpy/core/src/umath/simd.inc.src: In function avx512_conjugate_ps:
numpy/core/src/umath/simd.inc.src:1843:5: warning: implicit declaration of function _mm512_castps_si512 [-Wimplicit-function-declaration]
     __m512i cast_x = _mm512_cast@vsub@_si512(x);
     ^
numpy/core/src/umath/simd.inc.src:1843:22: error: incompatible types when initializing type __vector(8) long long int using type int
     __m512i cast_x = _mm512_cast@vsub@_si512(x);
                      ^
numpy/core/src/umath/simd.inc.src:1846:5: warning: implicit declaration of function _mm512_castsi512_ps [-Wimplicit-function-declaration]
     return _mm512_castsi512_@vsub@(res);
     ^
numpy/core/src/umath/simd.inc.src:1846:5: error: incompatible types when returning type int but __vector(16) float was expected
```




---

archive/issue_comments_419249.json:
```json
{
    "body": "`debian-jessie` uses gcc version 4.9.2 (Debian 4.9.2-10+deb8u2), and a fix for something that looks related is in gcc 4.9.3 - https://gcc.gnu.org/bugzilla/show_bug.cgi?id=61878",
    "created_at": "2020-07-14T02:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419249",
    "user": "mkoeppe"
}
```

`debian-jessie` uses gcc version 4.9.2 (Debian 4.9.2-10+deb8u2), and a fix for something that looks related is in gcc 4.9.3 - https://gcc.gnu.org/bugzilla/show_bug.cgi?id=61878



---

archive/issue_comments_419250.json:
```json
{
    "body": "This was added to numpy in https://github.com/numpy/numpy/commit/5562a8c93fe18f0a51d9051f0c25c7cf525312fe\n(new in 1.19.0)\n(https://github.com/numpy/numpy/pull/15408)",
    "created_at": "2020-07-14T02:23:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419250",
    "user": "mkoeppe"
}
```

This was added to numpy in https://github.com/numpy/numpy/commit/5562a8c93fe18f0a51d9051f0c25c7cf525312fe
(new in 1.19.0)
(https://github.com/numpy/numpy/pull/15408)



---

archive/issue_comments_419251.json:
```json
{
    "body": "Let's go back to 1.18.5 (released Jun 3, 2020).",
    "created_at": "2020-07-14T02:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419251",
    "user": "mkoeppe"
}
```

Let's go back to 1.18.5 (released Jun 3, 2020).



---

archive/issue_comments_419252.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-14T02:48:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419252",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419253.json:
```json
{
    "body": "New tests at https://github.com/mkoeppe/sage/actions/runs/168163111",
    "created_at": "2020-07-14T02:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419253",
    "user": "mkoeppe"
}
```

New tests at https://github.com/mkoeppe/sage/actions/runs/168163111



---

archive/issue_comments_419254.json:
```json
{
    "body": "Actually https://github.com/mkoeppe/sage/actions/runs/168165380",
    "created_at": "2020-07-14T17:04:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419254",
    "user": "mkoeppe"
}
```

Actually https://github.com/mkoeppe/sage/actions/runs/168165380



---

archive/issue_comments_419255.json:
```json
{
    "body": "In these tests, `fedora-32-standard` uses gcc/gfortran 10 from the system, `fedora-32-minimal` uses gcc 10 from the system and gfortran from spkg, and the various `homebrew-macos` tests use gcc = apple clang, gfortran 10 from homebrew.\n\nThey all succeed. Still waiting for other tests to finish.",
    "created_at": "2020-07-14T17:30:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419255",
    "user": "mkoeppe"
}
```

In these tests, `fedora-32-standard` uses gcc/gfortran 10 from the system, `fedora-32-minimal` uses gcc 10 from the system and gfortran from spkg, and the various `homebrew-macos` tests use gcc = apple clang, gfortran 10 from homebrew.

They all succeed. Still waiting for other tests to finish.



---

archive/issue_comments_419256.json:
```json
{
    "body": "On `local-conda-forge-macos-maximal` (https://github.com/mkoeppe/sage/runs/867731009), `numpy` 1.18.5 builds but building sagelib fails as follows:\n\n```\n  [sagelib-9.2.beta5] error installing, exit status 1. End of log file:\n  [sagelib-9.2.beta5]       from . import core\n  [sagelib-9.2.beta5]     File \"/Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/__init__.py\", line 50, in <module>\n  [sagelib-9.2.beta5]       raise ImportError(msg)\n  [sagelib-9.2.beta5]   ImportError: \n  [sagelib-9.2.beta5]   \n  [sagelib-9.2.beta5]   IMPORTANT: PLEASE READ THIS FOR ADVICE ON HOW TO SOLVE THIS ISSUE!\n  [sagelib-9.2.beta5]   \n  [sagelib-9.2.beta5]   Importing the numpy C-extensions failed. This error can happen for\n  [sagelib-9.2.beta5]   many reasons, often due to issues with your setup or how NumPy was\n  [sagelib-9.2.beta5]   installed.\n...\n  [sagelib-9.2.beta5]   Original error was: dlopen(/Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/_multiarray_umath.cpython-37m-darwin.so, 2): Symbol not found: _aheapsort_bool\n  [sagelib-9.2.beta5]     Referenced from: /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/_multiarray_umath.cpython-37m-darwin.so\n  [sagelib-9.2.beta5]     Expected in: flat namespace\n  [sagelib-9.2.beta5]    in /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/_multiarray_umath.cpython-37m-darwin.so\n```\n\nAlso building `matplotlib` fails with a similar error.",
    "created_at": "2020-07-14T17:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419256",
    "user": "mkoeppe"
}
```

On `local-conda-forge-macos-maximal` (https://github.com/mkoeppe/sage/runs/867731009), `numpy` 1.18.5 builds but building sagelib fails as follows:

```
  [sagelib-9.2.beta5] error installing, exit status 1. End of log file:
  [sagelib-9.2.beta5]       from . import core
  [sagelib-9.2.beta5]     File "/Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/__init__.py", line 50, in <module>
  [sagelib-9.2.beta5]       raise ImportError(msg)
  [sagelib-9.2.beta5]   ImportError: 
  [sagelib-9.2.beta5]   
  [sagelib-9.2.beta5]   IMPORTANT: PLEASE READ THIS FOR ADVICE ON HOW TO SOLVE THIS ISSUE!
  [sagelib-9.2.beta5]   
  [sagelib-9.2.beta5]   Importing the numpy C-extensions failed. This error can happen for
  [sagelib-9.2.beta5]   many reasons, often due to issues with your setup or how NumPy was
  [sagelib-9.2.beta5]   installed.
...
  [sagelib-9.2.beta5]   Original error was: dlopen(/Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/_multiarray_umath.cpython-37m-darwin.so, 2): Symbol not found: _aheapsort_bool
  [sagelib-9.2.beta5]     Referenced from: /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/_multiarray_umath.cpython-37m-darwin.so
  [sagelib-9.2.beta5]     Expected in: flat namespace
  [sagelib-9.2.beta5]    in /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/_multiarray_umath.cpython-37m-darwin.so
```

Also building `matplotlib` fails with a similar error.



---

archive/issue_comments_419257.json:
```json
{
    "body": "numpy 1.19 had worked OK on `local-conda-forge-macos` when that was tested (https://github.com/mkoeppe/sage/runs/858960241).",
    "created_at": "2020-07-14T22:21:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419257",
    "user": "mkoeppe"
}
```

numpy 1.19 had worked OK on `local-conda-forge-macos` when that was tested (https://github.com/mkoeppe/sage/runs/858960241).



---

archive/issue_comments_419258.json:
```json
{
    "body": "Trying next with https://github.com/numpy/numpy/pull/16871",
    "created_at": "2020-07-14T22:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419258",
    "user": "mkoeppe"
}
```

Trying next with https://github.com/numpy/numpy/pull/16871



---

archive/issue_comments_419259.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-14T22:52:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419259",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419260.json:
```json
{
    "body": "Running at https://github.com/mkoeppe/sage/actions/runs/169304521",
    "created_at": "2020-07-14T23:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419260",
    "user": "mkoeppe"
}
```

Running at https://github.com/mkoeppe/sage/actions/runs/169304521



---

archive/issue_comments_419261.json:
```json
{
    "body": "Unfortunately the patch does not apply by itself",
    "created_at": "2020-07-14T23:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419261",
    "user": "mkoeppe"
}
```

Unfortunately the patch does not apply by itself



---

archive/issue_comments_419262.json:
```json
{
    "body": "Running tests with numpy master + pr-16871 at https://github.com/mkoeppe/sage/actions/runs/169620460",
    "created_at": "2020-07-15T05:51:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419262",
    "user": "mkoeppe"
}
```

Running tests with numpy master + pr-16871 at https://github.com/mkoeppe/sage/actions/runs/169620460



---

archive/issue_comments_419263.json:
```json
{
    "body": "https://github.com/numpy/numpy/pull/16871 has been merged in numpy master. Hoping for a backport",
    "created_at": "2020-07-15T17:24:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419263",
    "user": "mkoeppe"
}
```

https://github.com/numpy/numpy/pull/16871 has been merged in numpy master. Hoping for a backport



---

archive/issue_comments_419264.json:
```json
{
    "body": "there are more deprecation warnings to suppress, e.g.\n\n```\n2020-07-15T10:18:00.4452989Z File \"src/sage/calculus/interpolators.pyx\", line 48, in sage.calculus.interpolators.polygon_spline\n2020-07-15T10:18:00.4453182Z Failed example:\n2020-07-15T10:18:00.4453370Z     ps = polygon_spline(pts)\n2020-07-15T10:18:00.4453562Z Expected nothing\n2020-07-15T10:18:00.4453746Z Got:\n2020-07-15T10:18:00.4453928Z     doctest:warning\n2020-07-15T10:18:00.4454284Z       File \"/sage/src/bin/sage-runtests\", line 177, in <module>\n2020-07-15T10:18:00.4454494Z         err = DC.run()\n2020-07-15T10:18:00.4454877Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1207, in run\n2020-07-15T10:18:00.4455104Z         self.run_doctests()\n2020-07-15T10:18:00.4455498Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 908, in run_doctests\n2020-07-15T10:18:00.4455721Z         self.dispatcher.dispatch()\n2020-07-15T10:18:00.4456125Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2039, in dispatch\n2020-07-15T10:18:00.4456344Z         self.parallel_dispatch()\n2020-07-15T10:18:00.4456736Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1934, in parallel_dispatch\n2020-07-15T10:18:00.4456963Z         w.start()  # This might take some time\n2020-07-15T10:18:00.4457348Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2206, in start\n2020-07-15T10:18:00.4457571Z         super(DocTestWorker, self).start()\n2020-07-15T10:18:00.4457778Z       File \"/sage/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n2020-07-15T10:18:00.4457985Z         self._popen = self._Popen(self)\n2020-07-15T10:18:00.4458194Z       File \"/sage/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n2020-07-15T10:18:00.4458409Z         return _default_context.get_context().Process._Popen(process_obj)\n2020-07-15T10:18:00.4458621Z       File \"/sage/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n2020-07-15T10:18:00.4458822Z         return Popen(process_obj)\n2020-07-15T10:18:00.4459027Z       File \"/sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n2020-07-15T10:18:00.4459245Z         self._launch(process_obj)\n2020-07-15T10:18:00.4459447Z       File \"/sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n2020-07-15T10:18:00.4459645Z         code = process_obj._bootstrap()\n2020-07-15T10:18:00.4459852Z       File \"/sage/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n2020-07-15T10:18:00.4460066Z         self.run()\n2020-07-15T10:18:00.4460446Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2178, in run\n2020-07-15T10:18:00.4461480Z         task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n2020-07-15T10:18:00.4462380Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2507, in __call__\n2020-07-15T10:18:00.4462669Z         doctests, extras = self._run(runner, options, results)\n2020-07-15T10:18:00.4463154Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2553, in _run\n2020-07-15T10:18:00.4463441Z         result = runner.run(test)\n2020-07-15T10:18:00.4463902Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 906, in run\n2020-07-15T10:18:00.4464158Z         return self._run(test, compileflags, out)\n2020-07-15T10:18:00.4464793Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 707, in _run\n2020-07-15T10:18:00.4465103Z         self.compile_and_execute(example, compiler, test.globs)\n2020-07-15T10:18:00.4465621Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1132, in compile_and_execute\n2020-07-15T10:18:00.4465963Z         exec(compiled, globs)\n2020-07-15T10:18:00.4466212Z       File \"<doctest sage.calculus.interpolators.polygon_spline[1]>\", line 1, in <module>\n2020-07-15T10:18:00.4466479Z         ps = polygon_spline(pts)\n2020-07-15T10:18:00.4466937Z       File \"/sage/local/lib/python3.7/site-packages/numpy/__init__.py\", line 237, in __getattr__\n2020-07-15T10:18:00.4467232Z         warnings.warn(msg, DeprecationWarning, stacklevel=2)\n2020-07-15T10:18:00.4467504Z       File \"/sage/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n2020-07-15T10:18:00.4467750Z         msg.file, msg.line)\n2020-07-15T10:18:00.4468009Z     :\n2020-07-15T10:18:01.5210352Z     DeprecationWarning: `np.complex` is a deprecated alias for the builtin `complex`. Use `complex` by itself, which is identical in behavior, to silence this warning. If you specifically wanted the numpy scalar type, use `np.complex_` here.\n```\n",
    "created_at": "2020-07-17T09:23:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419264",
    "user": "dimpase"
}
```

there are more deprecation warnings to suppress, e.g.

```
2020-07-15T10:18:00.4452989Z File "src/sage/calculus/interpolators.pyx", line 48, in sage.calculus.interpolators.polygon_spline
2020-07-15T10:18:00.4453182Z Failed example:
2020-07-15T10:18:00.4453370Z     ps = polygon_spline(pts)
2020-07-15T10:18:00.4453562Z Expected nothing
2020-07-15T10:18:00.4453746Z Got:
2020-07-15T10:18:00.4453928Z     doctest:warning
2020-07-15T10:18:00.4454284Z       File "/sage/src/bin/sage-runtests", line 177, in <module>
2020-07-15T10:18:00.4454494Z         err = DC.run()
2020-07-15T10:18:00.4454877Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1207, in run
2020-07-15T10:18:00.4455104Z         self.run_doctests()
2020-07-15T10:18:00.4455498Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 908, in run_doctests
2020-07-15T10:18:00.4455721Z         self.dispatcher.dispatch()
2020-07-15T10:18:00.4456125Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2039, in dispatch
2020-07-15T10:18:00.4456344Z         self.parallel_dispatch()
2020-07-15T10:18:00.4456736Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1934, in parallel_dispatch
2020-07-15T10:18:00.4456963Z         w.start()  # This might take some time
2020-07-15T10:18:00.4457348Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2206, in start
2020-07-15T10:18:00.4457571Z         super(DocTestWorker, self).start()
2020-07-15T10:18:00.4457778Z       File "/sage/local/lib/python3.7/multiprocessing/process.py", line 112, in start
2020-07-15T10:18:00.4457985Z         self._popen = self._Popen(self)
2020-07-15T10:18:00.4458194Z       File "/sage/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
2020-07-15T10:18:00.4458409Z         return _default_context.get_context().Process._Popen(process_obj)
2020-07-15T10:18:00.4458621Z       File "/sage/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
2020-07-15T10:18:00.4458822Z         return Popen(process_obj)
2020-07-15T10:18:00.4459027Z       File "/sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
2020-07-15T10:18:00.4459245Z         self._launch(process_obj)
2020-07-15T10:18:00.4459447Z       File "/sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
2020-07-15T10:18:00.4459645Z         code = process_obj._bootstrap()
2020-07-15T10:18:00.4459852Z       File "/sage/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
2020-07-15T10:18:00.4460066Z         self.run()
2020-07-15T10:18:00.4460446Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2178, in run
2020-07-15T10:18:00.4461480Z         task(self.options, self.outtmpfile, msgpipe, self.result_queue)
2020-07-15T10:18:00.4462380Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2507, in __call__
2020-07-15T10:18:00.4462669Z         doctests, extras = self._run(runner, options, results)
2020-07-15T10:18:00.4463154Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2553, in _run
2020-07-15T10:18:00.4463441Z         result = runner.run(test)
2020-07-15T10:18:00.4463902Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 906, in run
2020-07-15T10:18:00.4464158Z         return self._run(test, compileflags, out)
2020-07-15T10:18:00.4464793Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 707, in _run
2020-07-15T10:18:00.4465103Z         self.compile_and_execute(example, compiler, test.globs)
2020-07-15T10:18:00.4465621Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1132, in compile_and_execute
2020-07-15T10:18:00.4465963Z         exec(compiled, globs)
2020-07-15T10:18:00.4466212Z       File "<doctest sage.calculus.interpolators.polygon_spline[1]>", line 1, in <module>
2020-07-15T10:18:00.4466479Z         ps = polygon_spline(pts)
2020-07-15T10:18:00.4466937Z       File "/sage/local/lib/python3.7/site-packages/numpy/__init__.py", line 237, in __getattr__
2020-07-15T10:18:00.4467232Z         warnings.warn(msg, DeprecationWarning, stacklevel=2)
2020-07-15T10:18:00.4467504Z       File "/sage/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
2020-07-15T10:18:00.4467750Z         msg.file, msg.line)
2020-07-15T10:18:00.4468009Z     :
2020-07-15T10:18:01.5210352Z     DeprecationWarning: `np.complex` is a deprecated alias for the builtin `complex`. Use `complex` by itself, which is identical in behavior, to silence this warning. If you specifically wanted the numpy scalar type, use `np.complex_` here.
```




---

archive/issue_comments_419265.json:
```json
{
    "body": "these deprecation warnings are coming from numpy master, they will not hit us now, only later",
    "created_at": "2020-07-21T05:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419265",
    "user": "mkoeppe"
}
```

these deprecation warnings are coming from numpy master, they will not hit us now, only later



---

archive/issue_comments_419266.json:
```json
{
    "body": "numpy 1.19.1 is out but unfortunately does not have a backport of \u200bhttps://github.com/numpy/numpy/pull/16871",
    "created_at": "2020-07-21T21:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419266",
    "user": "mkoeppe"
}
```

numpy 1.19.1 is out but unfortunately does not have a backport of https://github.com/numpy/numpy/pull/16871



---

archive/issue_comments_419267.json:
```json
{
    "body": "However, thanks to other backported fixes, the pull request is now easier to apply.",
    "created_at": "2020-07-21T21:33:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419267",
    "user": "mkoeppe"
}
```

However, thanks to other backported fixes, the pull request is now easier to apply.



---

archive/issue_comments_419268.json:
```json
{
    "body": "numpy 1.19.1 needs newest Cython (#29861)",
    "created_at": "2020-07-21T21:35:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419268",
    "user": "mkoeppe"
}
```

numpy 1.19.1 needs newest Cython (#29861)



---

archive/issue_comments_419269.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-21T21:41:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419269",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419270.json:
```json
{
    "body": "Tests run at https://github.com/mkoeppe/sage/actions/runs/177662666",
    "created_at": "2020-07-21T21:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419270",
    "user": "mkoeppe"
}
```

Tests run at https://github.com/mkoeppe/sage/actions/runs/177662666



---

archive/issue_comments_419271.json:
```json
{
    "body": "I see a number of doctest failures related to printing of deprecation warnings. Did something on this ticket cause this? For example (on `ubuntu-trusty-standard`,  https://github.com/mkoeppe/sage/runs/896153611):\n\n```\nsage -t src/sage/algebras/lie_algebras/free_lie_algebra.py\n**********************************************************************\nFile \"src/sage/algebras/lie_algebras/free_lie_algebra.py\", line 194, in sage.algebras.lie_algebras.free_lie_algebra.FreeLieBasis_abstract.basis\nFailed example:\n    L.Hall().basis()\nExpected:\n    Disjoint union of Lazy family (graded basis(i))_{i in Positive integers}\nGot:\n    doctest:warning\n      File \"/sage/src/bin/sage-runtests\", line 177, in <module>\n        err = DC.run()\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1207, in run\n        self.run_doctests()\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 908, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2045, in dispatch\n        self.parallel_dispatch()\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1940, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2212, in start\n        super(DocTestWorker, self).start()\n      File \"/sage/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/sage/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/sage/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/sage/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2184, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2513, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2559, in _run\n        result = runner.run(test)\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 912, in run\n        return self._run(test, compileflags, out)\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 707, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1138,       compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.algebras.lie_algebras.free_lie_algebra.FreeLieBasis_abstract.basis[1]>\", line 1, in <module>\n        L.Hall().basis()\n      File \"/sage/local/lib/python3.7/site-packages/sage/structure/unique_representation.py\", line 1008, in __classcall__\n        instance = typecall(cls, *args, **options)\n      File \"/sage/local/lib/python3.7/site-packages/sage/algebras/lie_algebras/free_lie_algebra.py\", line 445, in __init__\n        experimental_warning(16823, \"The Hall basis has not been fully proven correct,\"\n      File \"/sage/local/lib/python3.7/site-packages/sage/misc/superseded.py\", line 181, in experimental_warning\n        warning(trac_number, message, FutureWarning, stacklevel)\n      File \"/sage/local/lib/python3.7/site-packages/sage/misc/superseded.py\", line 146, in warning\n        warn(message, warning_class, stacklevel)\n      File \"/sage/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    FutureWarning: The Hall basis has not been fully proven correct, but currently no bugs are known\n    See http://trac.sagemath.org/16823 for details.\n    Disjoint union of Lazy family (graded basis(i))_{i in Positive integers}\n**********************************************************************\n\n\n```\n",
    "created_at": "2020-07-22T06:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419271",
    "user": "mkoeppe"
}
```

I see a number of doctest failures related to printing of deprecation warnings. Did something on this ticket cause this? For example (on `ubuntu-trusty-standard`,  https://github.com/mkoeppe/sage/runs/896153611):

```
sage -t src/sage/algebras/lie_algebras/free_lie_algebra.py
**********************************************************************
File "src/sage/algebras/lie_algebras/free_lie_algebra.py", line 194, in sage.algebras.lie_algebras.free_lie_algebra.FreeLieBasis_abstract.basis
Failed example:
    L.Hall().basis()
Expected:
    Disjoint union of Lazy family (graded basis(i))_{i in Positive integers}
Got:
    doctest:warning
      File "/sage/src/bin/sage-runtests", line 177, in <module>
        err = DC.run()
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1207, in run
        self.run_doctests()
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 908, in run_doctests
        self.dispatcher.dispatch()
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2045, in dispatch
        self.parallel_dispatch()
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1940, in parallel_dispatch
        w.start()  # This might take some time
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2212, in start
        super(DocTestWorker, self).start()
      File "/sage/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/sage/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/sage/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/sage/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2184, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2513, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2559, in _run
        result = runner.run(test)
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 912, in run
        return self._run(test, compileflags, out)
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 707, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1138,       compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.algebras.lie_algebras.free_lie_algebra.FreeLieBasis_abstract.basis[1]>", line 1, in <module>
        L.Hall().basis()
      File "/sage/local/lib/python3.7/site-packages/sage/structure/unique_representation.py", line 1008, in __classcall__
        instance = typecall(cls, *args, **options)
      File "/sage/local/lib/python3.7/site-packages/sage/algebras/lie_algebras/free_lie_algebra.py", line 445, in __init__
        experimental_warning(16823, "The Hall basis has not been fully proven correct,"
      File "/sage/local/lib/python3.7/site-packages/sage/misc/superseded.py", line 181, in experimental_warning
        warning(trac_number, message, FutureWarning, stacklevel)
      File "/sage/local/lib/python3.7/site-packages/sage/misc/superseded.py", line 146, in warning
        warn(message, warning_class, stacklevel)
      File "/sage/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    FutureWarning: The Hall basis has not been fully proven correct, but currently no bugs are known
    See http://trac.sagemath.org/16823 for details.
    Disjoint union of Lazy family (graded basis(i))_{i in Positive integers}
**********************************************************************


```




---

archive/issue_comments_419272.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-26T00:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419272",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419273.json:
```json
{
    "body": "Merged 9.2.beta6",
    "created_at": "2020-07-26T00:03:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419273",
    "user": "mkoeppe"
}
```

Merged 9.2.beta6



---

archive/issue_comments_419274.json:
```json
{
    "body": "Replying to [comment:100 mkoeppe]:\n> I see a number of doctest failures related to printing of deprecation warnings. Did something on this ticket cause this? \n\nhttps://git.sagemath.org/sage.git/diff/src/sage/doctest/forker.py?id=fc7592cdafb6ed3b1d947faeeb67841c3491e843&id2=ddaba54f6d69276ed1b9c60193ace839542eb5a9\n\nthis - which is actually a wrong place to deal with this stuff. This branch seems to be obsolete at this place - there is a better place to handle these warnings, and I think I've put it on this ticket some time back - but then it did not stick for some reason.",
    "created_at": "2020-07-26T09:51:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419274",
    "user": "dimpase"
}
```

Replying to [comment:100 mkoeppe]:
> I see a number of doctest failures related to printing of deprecation warnings. Did something on this ticket cause this? 

https://git.sagemath.org/sage.git/diff/src/sage/doctest/forker.py?id=fc7592cdafb6ed3b1d947faeeb67841c3491e843&id2=ddaba54f6d69276ed1b9c60193ace839542eb5a9

this - which is actually a wrong place to deal with this stuff. This branch seems to be obsolete at this place - there is a better place to handle these warnings, and I think I've put it on this ticket some time back - but then it did not stick for some reason.



---

archive/issue_comments_419275.json:
```json
{
    "body": "namely, you need https://git.sagemath.org/sage.git/commit?id=8a70ebedcf063d0a77564c01537a9600dd2accda \n\n(cf. comment:64)",
    "created_at": "2020-07-26T09:53:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419275",
    "user": "dimpase"
}
```

namely, you need https://git.sagemath.org/sage.git/commit?id=8a70ebedcf063d0a77564c01537a9600dd2accda 

(cf. comment:64)



---

archive/issue_comments_419276.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-26T22:57:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419276",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419277.json:
```json
{
    "body": "Tests run at https://github.com/mkoeppe/sage/actions/runs/183520034",
    "created_at": "2020-07-26T22:59:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419277",
    "user": "mkoeppe"
}
```

Tests run at https://github.com/mkoeppe/sage/actions/runs/183520034



---

archive/issue_comments_419278.json:
```json
{
    "body": "scipy 1.5.2 is now available.",
    "created_at": "2020-07-27T14:04:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419278",
    "user": "vdelecroix"
}
```

scipy 1.5.2 is now available.



---

archive/issue_comments_419279.json:
```json
{
    "body": "I report that compilation succeeded with gcc 10.1.0 and this ticket merged.",
    "created_at": "2020-07-27T14:59:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419279",
    "user": "vdelecroix"
}
```

I report that compilation succeeded with gcc 10.1.0 and this ticket merged.



---

archive/issue_comments_419280.json:
```json
{
    "body": "I think this is good to go. Reviewers?",
    "created_at": "2020-07-28T04:10:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419280",
    "user": "mkoeppe"
}
```

I think this is good to go. Reviewers?



---

archive/issue_comments_419281.json:
```json
{
    "body": "Don't you want to make the upgrade scipy 1.5.1 -> 1.5.2?",
    "created_at": "2020-07-28T07:01:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419281",
    "user": "vdelecroix"
}
```

Don't you want to make the upgrade scipy 1.5.1 -> 1.5.2?



---

archive/issue_comments_419282.json:
```json
{
    "body": "self-tests of networkx need pytest, but logs show that pytest might bot be installed.\nI don't understand the meaning of this poorly half-implemented LISPy thing:\n\n```\n$(PYTHON) decorator | $(PYTHON_TOOLCHAIN) scipy $(and $(filter-out no,$(SAGE_CHECK_networkx)), nose pytest)\n```\n",
    "created_at": "2020-07-31T17:57:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419282",
    "user": "dimpase"
}
```

self-tests of networkx need pytest, but logs show that pytest might bot be installed.
I don't understand the meaning of this poorly half-implemented LISPy thing:

```
$(PYTHON) decorator | $(PYTHON_TOOLCHAIN) scipy $(and $(filter-out no,$(SAGE_CHECK_networkx)), nose pytest)
```




---

archive/issue_comments_419283.json:
```json
{
    "body": "which log? link please",
    "created_at": "2020-07-31T18:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419283",
    "user": "mkoeppe"
}
```

which log? link please



---

archive/issue_comments_419284.json:
```json
{
    "body": "Replying to [comment:112 mkoeppe]:\n> which log? link please\nhttps://github.com/mkoeppe/sage/runs/912558796?check_suite_focus=true",
    "created_at": "2020-07-31T18:43:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419284",
    "user": "dimpase"
}
```

Replying to [comment:112 mkoeppe]:
> which log? link please
https://github.com/mkoeppe/sage/runs/912558796?check_suite_focus=true



---

archive/issue_comments_419285.json:
```json
{
    "body": "anyhow, how about upgrading to scipy 1.5.2 along the way?",
    "created_at": "2020-07-31T18:45:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419285",
    "user": "dimpase"
}
```

anyhow, how about upgrading to scipy 1.5.2 along the way?



---

archive/issue_comments_419286.json:
```json
{
    "body": "Replying to [comment:111 dimpase]:\n> I don't understand that meaning of this poorly half-implemented LISPy thing:\n> {{{\n> $(PYTHON) decorator | $(PYTHON_TOOLCHAIN) scipy $(and $(filter-out no,$(SAGE_CHECK_networkx)), nose pytest)\n> }}}\n\nIt keeps \"nose pytest\" only when running the `networkx` test suite is requested.\n\nBecause these are testsuite-only dependencies.",
    "created_at": "2020-07-31T18:47:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419286",
    "user": "mkoeppe"
}
```

Replying to [comment:111 dimpase]:
> I don't understand that meaning of this poorly half-implemented LISPy thing:
> {{{
> $(PYTHON) decorator | $(PYTHON_TOOLCHAIN) scipy $(and $(filter-out no,$(SAGE_CHECK_networkx)), nose pytest)
> }}}

It keeps "nose pytest" only when running the `networkx` test suite is requested.

Because these are testsuite-only dependencies.



---

archive/issue_comments_419287.json:
```json
{
    "body": "Replying to [comment:115 mkoeppe]:\n> Replying to [comment:111 dimpase]:\n> > I don't understand that meaning of this poorly half-implemented LISPy thing:\n> > {{{\n> > $(PYTHON) decorator | $(PYTHON_TOOLCHAIN) scipy $(and $(filter-out no,$(SAGE_CHECK_networkx)), nose pytest)\n> > }}}\n> \n> It keeps \"nose pytest\" only when running the `networkx` test suite is requested.\n> \n> Because these are testsuite-only dependencies.\n\nbut somehow it does not work in the GH Actions realm (or maybe at all), no?\n\n> \n> \n>",
    "created_at": "2020-07-31T18:49:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419287",
    "user": "dimpase"
}
```

Replying to [comment:115 mkoeppe]:
> Replying to [comment:111 dimpase]:
> > I don't understand that meaning of this poorly half-implemented LISPy thing:
> > {{{
> > $(PYTHON) decorator | $(PYTHON_TOOLCHAIN) scipy $(and $(filter-out no,$(SAGE_CHECK_networkx)), nose pytest)
> > }}}
> 
> It keeps "nose pytest" only when running the `networkx` test suite is requested.
> 
> Because these are testsuite-only dependencies.

but somehow it does not work in the GH Actions realm (or maybe at all), no?

> 
> 
>



---

archive/issue_comments_419288.json:
```json
{
    "body": "Yes, there is a problem - thanks for catching it. \n\nI am running GH Actions build with `SAGE_CHECK=warn`, and the code added in #30118 does not handle the exclusions given in SAGE_CHECK_PACKAGES in that case. \n\nLet's change that.",
    "created_at": "2020-07-31T18:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419288",
    "user": "mkoeppe"
}
```

Yes, there is a problem - thanks for catching it. 

I am running GH Actions build with `SAGE_CHECK=warn`, and the code added in #30118 does not handle the exclusions given in SAGE_CHECK_PACKAGES in that case. 

Let's change that.



---

archive/issue_comments_419289.json:
```json
{
    "body": "Replying to [comment:114 dimpase]:\n> anyhow, how about upgrading to scipy 1.5.2 along the way?\n\nSure, let's do it.",
    "created_at": "2020-07-31T18:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419289",
    "user": "mkoeppe"
}
```

Replying to [comment:114 dimpase]:
> anyhow, how about upgrading to scipy 1.5.2 along the way?

Sure, let's do it.



---

archive/issue_comments_419290.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-01T01:34:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419290",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419291.json:
```json
{
    "body": "Tests run at https://github.com/mkoeppe/sage/actions/runs/190765555",
    "created_at": "2020-08-01T01:37:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419291",
    "user": "mkoeppe"
}
```

Tests run at https://github.com/mkoeppe/sage/actions/runs/190765555



---

archive/issue_comments_419292.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-08-01T23:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419292",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_419293.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-01T23:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419293",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419294.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-08-01T23:43:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419294",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_419295.json:
```json
{
    "body": "Replying to [comment:117 mkoeppe]:\n> I am running GH Actions build with `SAGE_CHECK=warn`, and the code added in #30118 does not handle the exclusions given in SAGE_CHECK_PACKAGES in that case. \n\nThat was not quite the right explanation, but now I have fixed it. Subtleties of Makefile variables and who overrides whom.",
    "created_at": "2020-08-01T23:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419295",
    "user": "mkoeppe"
}
```

Replying to [comment:117 mkoeppe]:
> I am running GH Actions build with `SAGE_CHECK=warn`, and the code added in #30118 does not handle the exclusions given in SAGE_CHECK_PACKAGES in that case. 

That was not quite the right explanation, but now I have fixed it. Subtleties of Makefile variables and who overrides whom.



---

archive/issue_comments_419296.json:
```json
{
    "body": "Let's please get this in?",
    "created_at": "2020-08-01T23:46:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419296",
    "user": "mkoeppe"
}
```

Let's please get this in?



---

archive/issue_comments_419297.json:
```json
{
    "body": "lgtm",
    "created_at": "2020-08-02T10:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419297",
    "user": "dimpase"
}
```

lgtm



---

archive/issue_comments_419298.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-02T10:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419298",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_419299.json:
```json
{
    "body": "Thank you!",
    "created_at": "2020-08-02T13:36:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419299",
    "user": "mkoeppe"
}
```

Thank you!



---

archive/issue_comments_419300.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-08-07T19:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419300",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_419301.json:
```json
{
    "body": "Why is there no SPKG.rst file for pybind11? Are these suddenly optional?",
    "created_at": "2020-08-14T04:03:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419301",
    "user": "jhpalmieri"
}
```

Why is there no SPKG.rst file for pybind11? Are these suddenly optional?



---

archive/issue_comments_419302.json:
```json
{
    "body": "Replying to [comment:130 jhpalmieri]:\n> Why is there no SPKG.rst file for pybind11? Are these suddenly optional?\nA simple mistake. There's actually nothing in our scripts that checks the presence of these files (see e.g. #29334). Let's fix it in #30357.",
    "created_at": "2020-08-14T16:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419302",
    "user": "mkoeppe"
}
```

Replying to [comment:130 jhpalmieri]:
> Why is there no SPKG.rst file for pybind11? Are these suddenly optional?
A simple mistake. There's actually nothing in our scripts that checks the presence of these files (see e.g. #29334). Let's fix it in #30357.



---

archive/issue_comments_419303.json:
```json
{
    "body": "Somehow this broke building documentation on macOS. See #30351.",
    "created_at": "2020-08-14T18:06:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419303",
    "user": "slelievre"
}
```

Somehow this broke building documentation on macOS. See #30351.



---

archive/issue_comments_419304.json:
```json
{
    "body": "I have no idea why this would broke docbuilding, but that's what it looks like. Does anyone have ideas how to debug it? Please discuss at #30351.",
    "created_at": "2020-08-14T23:15:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29529",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29529#issuecomment-419304",
    "user": "jhpalmieri"
}
```

I have no idea why this would broke docbuilding, but that's what it looks like. Does anyone have ideas how to debug it? Please discuss at #30351.
