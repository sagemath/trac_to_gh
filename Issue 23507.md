# Issue 23507: Don't use SAGE_CYTHONIZED in sage_include_directories(sources=True)

archive/issues_023507.json:
```json
{
    "body": "CC:  @mkoeppe @embray\n\nCurrently, `SAGE_CYTHONIZED` is used by `src/sage/env.py` to determine some include directories while building Sage.\n\nSince we want to get rid of `SAGE_CYTHONIZED` (#21535), a first step would be to move this bit to `setup.py` in order to concentrate all uses of `SAGE_CYTHONIZED` in one place.\n\nIssue created by migration from https://trac.sagemath.org/ticket/23744\n\n",
    "created_at": "2017-08-29T13:31:20Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Don't use SAGE_CYTHONIZED in sage_include_directories(sources=True)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23507",
    "user": "https://github.com/jdemeyer"
}
```
CC:  @mkoeppe @embray

Currently, `SAGE_CYTHONIZED` is used by `src/sage/env.py` to determine some include directories while building Sage.

Since we want to get rid of `SAGE_CYTHONIZED` (#21535), a first step would be to move this bit to `setup.py` in order to concentrate all uses of `SAGE_CYTHONIZED` in one place.

Issue created by migration from https://trac.sagemath.org/ticket/23744





---

archive/issue_comments_329063.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-08-30T13:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23507#issuecomment-329063",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_329064.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-08-30T13:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23507#issuecomment-329064",
    "user": "https://github.com/jdemeyer"
}
```

New commits:



---

archive/issue_comments_329065.json:
```json
{
    "body": "I wonder what would happen if we also went ahead and deleted line 110 of sage.env:\n\n\n```\n_add_variable_or_fallback('SAGE_CYTHONIZED', opj('$SAGE_ROOT', 'src', 'build', 'cythonized'))\n```\n\n\nThat could wait 'til a later change though.   Looks good to me otherwise.  I agree this is a good first step to removing it entirely.",
    "created_at": "2017-08-31T10:05:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23507#issuecomment-329065",
    "user": "https://github.com/embray"
}
```

I wonder what would happen if we also went ahead and deleted line 110 of sage.env:


```
_add_variable_or_fallback('SAGE_CYTHONIZED', opj('$SAGE_ROOT', 'src', 'build', 'cythonized'))
```


That could wait 'til a later change though.   Looks good to me otherwise.  I agree this is a good first step to removing it entirely.



---

archive/issue_comments_329066.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-31T10:05:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23507#issuecomment-329066",
    "user": "https://github.com/embray"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_329067.json:
```json
{
    "body": "Replying to [comment:3 embray]:\n> I wonder what would happen if we also went ahead and deleted line 110 of sage.env:\n> \n> {{{\n> _add_variable_or_fallback('SAGE_CYTHONIZED', opj('$SAGE_ROOT', 'src', 'build', 'cythonized'))\n> }}}\n\nSome doctests in `src/sage_setup` use that.",
    "created_at": "2017-08-31T10:29:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23507#issuecomment-329067",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:3 embray]:
> I wonder what would happen if we also went ahead and deleted line 110 of sage.env:
> 
> {{{
> _add_variable_or_fallback('SAGE_CYTHONIZED', opj('$SAGE_ROOT', 'src', 'build', 'cythonized'))
> }}}

Some doctests in `src/sage_setup` use that.



---

archive/issue_comments_329068.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-09-10T11:57:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23507#issuecomment-329068",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
