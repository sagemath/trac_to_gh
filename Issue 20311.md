# Issue 20311: py3 print in numerical folder

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2016-05-03 16:01:03

another small step, trying to turn print to python3 behaviour


---

Comment by chapoton created at 2016-05-03 16:01:43

Changing status from new to needs_review.


---

Comment by chapoton created at 2016-05-03 16:01:43

New commits:


---

Comment by git created at 2016-05-04 08:00:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2016-05-05 07:58:24

Changing status from needs_review to needs_info.


---

Comment by jdemeyer created at 2016-05-05 07:58:24

Is this valid Python 3?

```
print
```



---

Comment by jdemeyer created at 2016-05-05 08:00:49

Changing status from needs_info to needs_work.


---

Comment by jdemeyer created at 2016-05-05 08:00:49

Well, it's technically valid but it doesn't do what you think it does:

```
Python 3.3.2 (default, Dec  7 2013, 12:59:33) 
[GCC 4.6.3] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> print
<built-in function print>
```



---

Comment by jdemeyer created at 2016-05-05 08:03:16

One more detail, since you're changing the code anyway. Change this

```
        if b.obj_constant_term > self._backend.zero(): print("+ {}".format(b.obj_constant_term))
        elif b.obj_constant_term < self._backend.zero(): print("- {}".format(-b.obj_constant_term))
```

to

```
        if b.obj_constant_term > self._backend.zero():
            print("+ {}".format(b.obj_constant_term))
        elif b.obj_constant_term < self._backend.zero():
            print("- {}".format(-b.obj_constant_term))
```

which is _much_ more readable


---

Comment by jdemeyer created at 2016-05-05 08:05:52

Same for

```
        if d > self._backend.zero(): print("+ {} ".format(d))
        elif d < self._backend.zero(): print("- {} ".format(-d))
```



---

Comment by git created at 2016-05-05 08:14:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2016-05-05 08:15:19

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2016-05-05 08:15:19

done


---

Comment by mkoeppe created at 2016-05-06 22:02:21

needs merge or rebase


---

Comment by git created at 2016-05-08 08:40:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2016-05-09 05:02:04

You missed several backends


---

Comment by chapoton created at 2016-05-09 06:25:42

The aim is to have the doctests pass when adding a global `future print` import in sage/all.py.

For that, all the backends where something was needed were modified.

You can check this by adding `from __future__ import print_function` in `src/sage/all.py` on top of this branch and running all the tests in the numerical folder.

If you want to take the opportunity to convert everything else to python3 print style in the numerical folder, please do.


---

Comment by chapoton created at 2016-05-12 12:59:48

ping ?


---

Comment by git created at 2016-05-13 00:49:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2016-05-13 00:53:12

Yes, as I said, you missed some backends. 
I've done the remaining ones.


---

Comment by chapoton created at 2016-05-13 06:49:12

ok, I had forgotten about the optional backends, indeed.

Why did you change two `print` to `sys.stdout.write` ?


---

Comment by mkoeppe created at 2016-05-13 06:52:06

Replying to [comment:16 chapoton]:
> Why did you change two `print` to `sys.stdout.write` ?

These are print-without-newlines.


---

Comment by chapoton created at 2016-05-13 06:55:10

ok, then I am happy with your commit. Are you ok with mines ?


---

Comment by mkoeppe created at 2016-05-13 06:55:53

yes, looking good


---

Comment by chapoton created at 2016-05-13 07:02:41

So, can I set to positive review ?


---

Comment by mkoeppe created at 2016-05-13 07:03:15

sure


---

Comment by chapoton created at 2016-05-13 07:04:36

done, thanks


---

Comment by chapoton created at 2016-05-13 07:04:36

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-05-19 22:38:55

Resolution: fixed
