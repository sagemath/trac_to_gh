# Issue 20311: py3 print in numerical folder

archive/issues_020311.json:
```json
{
    "body": "another small step, trying to turn print to python3 behaviour\n\nIssue created by migration from https://trac.sagemath.org/ticket/20548\n\n",
    "created_at": "2016-05-03T16:01:03Z",
    "labels": [
        "python3",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "py3 print in numerical folder",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20311",
    "user": "chapoton"
}
```
another small step, trying to turn print to python3 behaviour

Issue created by migration from https://trac.sagemath.org/ticket/20548





---

archive/issue_comments_279978.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-05-03T16:01:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279978",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_279979.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-05-03T16:01:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279979",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_279980.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-04T08:00:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279980",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279981.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2016-05-05T07:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279981",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_279982.json:
```json
{
    "body": "Is this valid Python 3?\n\n```\nprint\n```\n",
    "created_at": "2016-05-05T07:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279982",
    "user": "jdemeyer"
}
```

Is this valid Python 3?

```
print
```




---

archive/issue_comments_279983.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2016-05-05T08:00:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279983",
    "user": "jdemeyer"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_279984.json:
```json
{
    "body": "Well, it's technically valid but it doesn't do what you think it does:\n\n```\nPython 3.3.2 (default, Dec  7 2013, 12:59:33) \n[GCC 4.6.3] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> print\n<built-in function print>\n```\n",
    "created_at": "2016-05-05T08:00:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279984",
    "user": "jdemeyer"
}
```

Well, it's technically valid but it doesn't do what you think it does:

```
Python 3.3.2 (default, Dec  7 2013, 12:59:33) 
[GCC 4.6.3] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> print
<built-in function print>
```




---

archive/issue_comments_279985.json:
```json
{
    "body": "One more detail, since you're changing the code anyway. Change this\n\n```\n        if b.obj_constant_term > self._backend.zero(): print(\"+ {}\".format(b.obj_constant_term))\n        elif b.obj_constant_term < self._backend.zero(): print(\"- {}\".format(-b.obj_constant_term))\n```\n\nto\n\n```\n        if b.obj_constant_term > self._backend.zero():\n            print(\"+ {}\".format(b.obj_constant_term))\n        elif b.obj_constant_term < self._backend.zero():\n            print(\"- {}\".format(-b.obj_constant_term))\n```\n\nwhich is *much* more readable",
    "created_at": "2016-05-05T08:03:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279985",
    "user": "jdemeyer"
}
```

One more detail, since you're changing the code anyway. Change this

```
        if b.obj_constant_term > self._backend.zero(): print("+ {}".format(b.obj_constant_term))
        elif b.obj_constant_term < self._backend.zero(): print("- {}".format(-b.obj_constant_term))
```

to

```
        if b.obj_constant_term > self._backend.zero():
            print("+ {}".format(b.obj_constant_term))
        elif b.obj_constant_term < self._backend.zero():
            print("- {}".format(-b.obj_constant_term))
```

which is *much* more readable



---

archive/issue_comments_279986.json:
```json
{
    "body": "Same for\n\n```\n        if d > self._backend.zero(): print(\"+ {} \".format(d))\n        elif d < self._backend.zero(): print(\"- {} \".format(-d))\n```\n",
    "created_at": "2016-05-05T08:05:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279986",
    "user": "jdemeyer"
}
```

Same for

```
        if d > self._backend.zero(): print("+ {} ".format(d))
        elif d < self._backend.zero(): print("- {} ".format(-d))
```




---

archive/issue_comments_279987.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-05T08:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279987",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279988.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-05-05T08:15:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279988",
    "user": "chapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_279989.json:
```json
{
    "body": "done",
    "created_at": "2016-05-05T08:15:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279989",
    "user": "chapoton"
}
```

done



---

archive/issue_comments_279990.json:
```json
{
    "body": "needs merge or rebase",
    "created_at": "2016-05-06T22:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279990",
    "user": "mkoeppe"
}
```

needs merge or rebase



---

archive/issue_comments_279991.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-08T08:40:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279991",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279992.json:
```json
{
    "body": "You missed several backends",
    "created_at": "2016-05-09T05:02:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279992",
    "user": "mkoeppe"
}
```

You missed several backends



---

archive/issue_comments_279993.json:
```json
{
    "body": "The aim is to have the doctests pass when adding a global `future print` import in sage/all.py.\n\nFor that, all the backends where something was needed were modified.\n\nYou can check this by adding `from __future__ import print_function` in `src/sage/all.py` on top of this branch and running all the tests in the numerical folder.\n\nIf you want to take the opportunity to convert everything else to python3 print style in the numerical folder, please do.",
    "created_at": "2016-05-09T06:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279993",
    "user": "chapoton"
}
```

The aim is to have the doctests pass when adding a global `future print` import in sage/all.py.

For that, all the backends where something was needed were modified.

You can check this by adding `from __future__ import print_function` in `src/sage/all.py` on top of this branch and running all the tests in the numerical folder.

If you want to take the opportunity to convert everything else to python3 print style in the numerical folder, please do.



---

archive/issue_comments_279994.json:
```json
{
    "body": "ping ?",
    "created_at": "2016-05-12T12:59:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279994",
    "user": "chapoton"
}
```

ping ?



---

archive/issue_comments_279995.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-13T00:49:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279995",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_279996.json:
```json
{
    "body": "Yes, as I said, you missed some backends. \nI've done the remaining ones.",
    "created_at": "2016-05-13T00:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279996",
    "user": "mkoeppe"
}
```

Yes, as I said, you missed some backends. 
I've done the remaining ones.



---

archive/issue_comments_279997.json:
```json
{
    "body": "ok, I had forgotten about the optional backends, indeed.\n\nWhy did you change two `print` to `sys.stdout.write` ?",
    "created_at": "2016-05-13T06:49:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279997",
    "user": "chapoton"
}
```

ok, I had forgotten about the optional backends, indeed.

Why did you change two `print` to `sys.stdout.write` ?



---

archive/issue_comments_279998.json:
```json
{
    "body": "Replying to [comment:16 chapoton]:\n> Why did you change two `print` to `sys.stdout.write` ?\n\nThese are print-without-newlines.",
    "created_at": "2016-05-13T06:52:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279998",
    "user": "mkoeppe"
}
```

Replying to [comment:16 chapoton]:
> Why did you change two `print` to `sys.stdout.write` ?

These are print-without-newlines.



---

archive/issue_comments_279999.json:
```json
{
    "body": "ok, then I am happy with your commit. Are you ok with mines ?",
    "created_at": "2016-05-13T06:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-279999",
    "user": "chapoton"
}
```

ok, then I am happy with your commit. Are you ok with mines ?



---

archive/issue_comments_280000.json:
```json
{
    "body": "yes, looking good",
    "created_at": "2016-05-13T06:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-280000",
    "user": "mkoeppe"
}
```

yes, looking good



---

archive/issue_comments_280001.json:
```json
{
    "body": "So, can I set to positive review ?",
    "created_at": "2016-05-13T07:02:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-280001",
    "user": "chapoton"
}
```

So, can I set to positive review ?



---

archive/issue_comments_280002.json:
```json
{
    "body": "sure",
    "created_at": "2016-05-13T07:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-280002",
    "user": "mkoeppe"
}
```

sure



---

archive/issue_comments_280003.json:
```json
{
    "body": "done, thanks",
    "created_at": "2016-05-13T07:04:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-280003",
    "user": "chapoton"
}
```

done, thanks



---

archive/issue_comments_280004.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-05-13T07:04:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-280004",
    "user": "chapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_280005.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-05-19T22:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20311#issuecomment-280005",
    "user": "vbraun"
}
```

Resolution: fixed
