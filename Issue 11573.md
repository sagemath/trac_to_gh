# Issue 11573: Some more doctests from the book "Calcul mathématique avec Sage"

Issue created by migration from https://trac.sagemath.org/ticket/11745

Original creator: gconnan

Original creation time: 2011-08-25 17:00:24

Assignee: mvngu

The attached patch adds to the Sage testsuite most examples appearing Chapter 9  (EDO, EDP, Recurrence) of the French book  Calcul mathématique avec Sage. 

All tests pass with sage 4.7.1.


---

Comment by gconnan created at 2011-08-25 17:05:07

Changing assignee from mvngu to gconnan.


---

Attachment


---

Attachment

Replying to [ticket:11745 gconnan]:
> The attached patch adds to the Sage testsuite most examples appearing Chapter 9  (EDO, EDP, Recurrence) of the French book  Calcul mathématique avec Sage. 
> 
> All tests pass with sage 4.7.1.


---

Comment by zimmerma created at 2013-03-18 14:56:01

Guillaume, which file is to be applied?

Paul


---

Attachment


---

Comment by zimmerma created at 2013-03-18 15:31:04

use only the attached file `recequadiff_doctest.sage`
This file has to be put into `tests/french_book`, probably after changing the name to
`recequadiff.py`. All tests pass with 5.7. I put it as "needs review" so that people can
comment.

Paul

PS: I do this for Guillaume who cannot login any more on trac.


---

Comment by zimmerma created at 2013-03-18 15:31:04

Changing status from new to needs_review.


---

Comment by zimmerma created at 2013-03-19 12:28:33

Changing type from PLEASE CHANGE to enhancement.


---

Comment by jdemeyer created at 2013-04-09 14:26:52

Additions to Sage should be patches to the Sage library (in devel/sage). See  http://sagemath.org/doc/developer/


---

Comment by jdemeyer created at 2013-04-09 14:26:52

Changing status from needs_review to needs_work.


---

Attachment

Doctest for solving differential equations and recurrences


---

Attachment


---

Comment by gconnan created at 2013-04-10 12:01:28

Changing status from needs_work to needs_review.


---

Comment by zimmerma created at 2013-04-10 12:07:48

I give a positive review. In fact it is enough to test the single (attached) file, since it does not change any functionality in Sage, it does only add some more doctests.

Nevertheless I did run all doctests (with Sage 5.7) and they all pass.

Paul

PS: note I am a co-author of the french book. I hope it does not make a problem if I review this ticket. We should soon publish the book on paper, and thus we would like to ensure our
examples will still run in future versions of Sage.


---

Comment by zimmerma created at 2013-04-10 12:07:48

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-04-10 12:10:27

Paul: as I already said to you by e-mail, be sure to run the test with `--warn-long` and mark any tests taking a long time as `# long time`.


---

Comment by zimmerma created at 2013-04-10 12:19:06

Jeroen, the `--warn-long` option does not seem to work with 5.7 nor 5.8:

```
tarte% ../../../../../sage -t --warn-long recequadiff.py
sage -t --warn-long "devel/sage-11745/sage/tests/french_book/recequadiff.py"


Usage: sage-doctest [same options as sage -t] filenames
         [0.1 s]
 
----------------------------------------------------------------------
The following tests failed:


        sage -t --warn-long "devel/sage-11745/sage/tests/french_book/recequadiff.py"
Total time for all tests: 0.2 seconds
```

Paul


---

Comment by jdemeyer created at 2013-04-10 12:22:17

True, it was introduced in sage-5.9.beta0.


---

Comment by zimmerma created at 2013-04-10 12:23:28

Anyway on my machine (which is an Intel Core 2) `numbertheory.py` takes
about 15 seconds, `polynomes.py` about 5 seconds, and `recequadiff.py`
about 13 seconds (without `-long`). Is that reasonable?

Paul


---

Comment by jdemeyer created at 2013-04-11 08:47:44

Replying to [comment:4 zimmerma]:
> This file has to be put into `tests/french_book`, probably after changing the name to
> `recequadiff.py`.
Let me just mention that there is no requirement from me to rename that file. It would have been fine to keep the name `recequadiff_doctest.sage` (maybe that's easier for you?)


---

Comment by zimmerma created at 2013-04-11 08:51:44

since the first files in `tests/french_book` are named `xxx.py`, for coherence it is better to use similar names.

Paul


---

Comment by jdemeyer created at 2013-04-13 13:47:40

Resolution: fixed


---

Comment by zimmerma created at 2013-08-23 14:07:20

we have a new patch without the executable bit, and with `...` replaced by `....:`,
should be attach it here or in a new ticket?

Paul
