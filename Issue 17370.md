# Issue 17370: Add a python 3 package

Issue created by migration from Trac.

Original creator: ohanar

Original creation time: 2015-01-08 23:07:49

CC:  vbraun wstein wluebbe aapitzsch jdemeyer

To assist in porting to python 3 (and supposedly to use once we have a working python 3 port).


---

Comment by ohanar created at 2015-01-08 23:12:47

This is missing a few of the patches that were in the python 2.7 package, mainly because parts of the codebase has changed significantly and I didn't want to spend the time resolving the differences. Most of the ones cut had to do with cygwin support, the main exception being Jereon's patch for #13579.


---

Comment by git created at 2015-05-24 17:57:18

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by ohanar created at 2015-05-24 17:57:43

Changing status from new to needs_review.


---

Comment by vbraun created at 2015-05-24 19:21:56

tarball?


---

Comment by ohanar created at 2015-05-24 19:36:22

Replying to [comment:4 vbraun]:
> tarball?
derp.


---

Comment by vbraun created at 2015-05-25 07:29:44

Resolution: fixed


---

Comment by ncohen created at 2015-05-26 10:24:04


```
(GRRR|…)~/.Sage/build/pkgs$ head python3/checksums.ini -n 1
tarball=Python-VERSION.tar.gz
(GRRR|…)~/.Sage/build/pkgs$ head python2/checksums.ini -n 1
tarball=python-VERSION.tar.gz
```


Really guys...


---

Comment by jhpalmieri created at 2015-05-26 17:02:02

Small and big question: First, when I install this on OS X 10.10.3 (using `sage -i python3`), I see

```
configure: WARNING: unrecognized options: --enable-unicode, --disable-toolbox-glue
```

I assume that's minor, but it should probably be cleaned up.

Second, after installing, if I do `sage --python`, I get

```
/Users/palmieri/Desktop/Sage_stuff/git/sage/src/bin/sage-env: line 411: 33785 Abort trap: 6           "$SAGE_ROOT/local/bin/python" -c 'import pkg_resources; pkg_resources.get_distribution("matplotlib").version' 2> /dev/null
Fatal Python error: Py_Initialize: unable to load the file system codec
  File "/Users/palmieri/Desktop/Sage_stuff/git/sage/local/lib/python/encodings/__init__.py", line 123
    raise CodecRegistryError,\
                            ^
SyntaxError: invalid syntax
/usr/local/bin/sage: line 134: 33763 Abort trap: 6           "$SAGE_ROOT/src/bin/sage" "$`@`"
```

This breaks Sage completely. I don't mind having an optional package which doesn't build for me, but I don't think we should have one that breaks Sage.


---

Comment by ohanar created at 2015-05-26 17:41:17

John, would you make a follow up ticket and cc me?


---

Comment by jhpalmieri created at 2015-05-26 18:17:28

Done: it's #18521.


---

Comment by jdemeyer created at 2016-10-12 07:52:02

Funny, you added a `site_packages` (sic!) directory to `PYTHONPATH`. That directory doesn't exist, but `site-packages` exists. See #21688
