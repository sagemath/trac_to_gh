# Issue 20028: Hasse-Weil Zeta function of hypersurfaces, deformation method

archive/issues_020028.json:
```json
{
    "body": "CC:  kedlaya\n\nKeywords: days71\n\nWe plan to add a wrapper for Sebastian pancratz's code, https://github.com/SPancratz/deformation\n\nIssue created by migration from https://trac.sagemath.org/ticket/20265\n\n",
    "created_at": "2016-03-23T18:03:52Z",
    "labels": [
        "padics",
        "major",
        "enhancement"
    ],
    "title": "Hasse-Weil Zeta function of hypersurfaces, deformation method",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20028",
    "user": "edgarcosta"
}
```
CC:  kedlaya

Keywords: days71

We plan to add a wrapper for Sebastian pancratz's code, https://github.com/SPancratz/deformation

Issue created by migration from https://trac.sagemath.org/ticket/20265





---

archive/issue_comments_275979.json:
```json
{
    "body": "Here is a preliminary version of the wrapper:\nhttps://github.com/edgarcosta/deformation/commit/273ecbb43f6ce28cc0c025c07e40e1dc6eb708a4",
    "created_at": "2016-03-23T18:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275979",
    "user": "edgarcosta"
}
```

Here is a preliminary version of the wrapper:
https://github.com/edgarcosta/deformation/commit/273ecbb43f6ce28cc0c025c07e40e1dc6eb708a4



---

archive/issue_comments_275980.json:
```json
{
    "body": "Changing keywords from \"days71\" to \"days71, sd87\".",
    "created_at": "2017-07-17T17:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275980",
    "user": "roed"
}
```

Changing keywords from "days71" to "days71, sd87".



---

archive/issue_comments_275981.json:
```json
{
    "body": "Updated code at:\nhttps://github.com/jpflori/deformation\nand hackish binding at:\nhttps://github.com/jpflori/pydeformation",
    "created_at": "2017-07-18T22:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275981",
    "user": "jpflori"
}
```

Updated code at:
https://github.com/jpflori/deformation
and hackish binding at:
https://github.com/jpflori/pydeformation



---

archive/issue_comments_275982.json:
```json
{
    "body": "Created #23466 to add some bindings for flint.",
    "created_at": "2017-07-19T13:33:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275982",
    "user": "jpflori"
}
```

Created #23466 to add some bindings for flint.



---

archive/issue_comments_275983.json:
```json
{
    "body": "Wrapper should now be pip installable.",
    "created_at": "2017-07-21T19:39:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275983",
    "user": "jpflori"
}
```

Wrapper should now be pip installable.



---

archive/issue_comments_275984.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-08-10T02:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275984",
    "user": "edgarcosta"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_275985.json:
```json
{
    "body": "This should be closed down. See #23498",
    "created_at": "2017-08-10T02:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275985",
    "user": "edgarcosta"
}
```

This should be closed down. See #23498



---

archive/issue_comments_275986.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-10T02:05:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275986",
    "user": "edgarcosta"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_275987.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-08-21T17:47:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275987",
    "user": "jpflori"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_275988.json:
```json
{
    "body": "I think we should still do the pypi package a sage's optional package (with a folder in `build/pkgs`), just like cysignals.",
    "created_at": "2017-08-21T17:47:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275988",
    "user": "jpflori"
}
```

I think we should still do the pypi package a sage's optional package (with a folder in `build/pkgs`), just like cysignals.



---

archive/issue_comments_275989.json:
```json
{
    "body": "I don't follow.\nIsn't `pydeformation` a PyPI package?",
    "created_at": "2017-08-23T02:18:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275989",
    "user": "edgarcosta"
}
```

I don't follow.
Isn't `pydeformation` a PyPI package?



---

archive/issue_comments_275990.json:
```json
{
    "body": "Changing keywords from \"days71, sd87\" to \"days71, sd87, days88\".",
    "created_at": "2017-08-23T02:18:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275990",
    "user": "edgarcosta"
}
```

Changing keywords from "days71, sd87" to "days71, sd87, days88".



---

archive/issue_comments_275991.json:
```json
{
    "body": "Can someone in the know clarify the status of this? Is this now made redundant by other tickets?",
    "created_at": "2017-09-06T03:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275991",
    "user": "kedlaya"
}
```

Can someone in the know clarify the status of this? Is this now made redundant by other tickets?



---

archive/issue_comments_275992.json:
```json
{
    "body": "At the moment we have:\n* Sebastian C code as an optional package,\n* my skinny wrapper as a pip installable package.\nSo the installation procedure is:\n* `./sage -i deformation` to install the former\n* `./sage -python pip install pydeformation` for the latter (or maybe `./sage -pip ...`)\n\nI'd say it would be nice to make `pydeformation` a sage optional package so that you can use Sage dependency system to just do\n* `./sage -i pydeformation` and that it automagically installs the optional `deformation` C library first.\n\nAs `deformation` is a C library (of interest without the wrapper), I don't want to ship it within the wrapper, nor would it be a good idea to make it a pip installable thing (to be able to use pip dependency system).",
    "created_at": "2017-09-06T09:10:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275992",
    "user": "jpflori"
}
```

At the moment we have:
* Sebastian C code as an optional package,
* my skinny wrapper as a pip installable package.
So the installation procedure is:
* `./sage -i deformation` to install the former
* `./sage -python pip install pydeformation` for the latter (or maybe `./sage -pip ...`)

I'd say it would be nice to make `pydeformation` a sage optional package so that you can use Sage dependency system to just do
* `./sage -i pydeformation` and that it automagically installs the optional `deformation` C library first.

As `deformation` is a C library (of interest without the wrapper), I don't want to ship it within the wrapper, nor would it be a good idea to make it a pip installable thing (to be able to use pip dependency system).



---

archive/issue_comments_275993.json:
```json
{
    "body": "Would it make sense to create a meta package that depends on both of those packages?",
    "created_at": "2017-09-06T12:39:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275993",
    "user": "edgarcosta"
}
```

Would it make sense to create a meta package that depends on both of those packages?



---

archive/issue_comments_275994.json:
```json
{
    "body": "You mean a Sage package?\nI don't see the point, can you give further details?\n\nNote that when I say a sage optional package for `pydeformation` I really mean just creating a folder in `build/pkg` with simple `spkg-install` script as for cysignals.",
    "created_at": "2017-09-06T12:56:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275994",
    "user": "jpflori"
}
```

You mean a Sage package?
I don't see the point, can you give further details?

Note that when I say a sage optional package for `pydeformation` I really mean just creating a folder in `build/pkg` with simple `spkg-install` script as for cysignals.



---

archive/issue_comments_275995.json:
```json
{
    "body": "Yes, I meant a Sage package.\nIt was just a quick (and perhaps dirty) way to get deformation and pydeformation in sage.\n\nAnyhow, I have no experience with sage packages. But let me know if there is anything I can do to help you.",
    "created_at": "2017-09-06T13:03:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275995",
    "user": "edgarcosta"
}
```

Yes, I meant a Sage package.
It was just a quick (and perhaps dirty) way to get deformation and pydeformation in sage.

Anyhow, I have no experience with sage packages. But let me know if there is anything I can do to help you.



---

archive/issue_comments_275996.json:
```json
{
    "body": "Nah I just need to find one hour to make a branch.\nShould be ok by the end of the week.",
    "created_at": "2017-09-06T13:06:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275996",
    "user": "jpflori"
}
```

Nah I just need to find one hour to make a branch.
Should be ok by the end of the week.



---

archive/issue_comments_275997.json:
```json
{
    "body": "Replying to [comment:18 jpflori]:\n> Nah I just need to find one hour to make a branch.\n> Should be ok by the end of the week.\n\nPing.",
    "created_at": "2017-09-20T22:31:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275997",
    "user": "roed"
}
```

Replying to [comment:18 jpflori]:
> Nah I just need to find one hour to make a branch.
> Should be ok by the end of the week.

Ping.



---

archive/issue_comments_275998.json:
```json
{
    "body": "Long. Work and life took over... Hopefully I ll get to it soon.",
    "created_at": "2017-09-23T22:37:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275998",
    "user": "jpflori"
}
```

Long. Work and life took over... Hopefully I ll get to it soon.



---

archive/issue_comments_275999.json:
```json
{
    "body": "Changing keywords from \"days71, sd87, days88\" to \"days71, sd87, days88, sd91\".",
    "created_at": "2017-09-26T03:59:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-275999",
    "user": "kedlaya"
}
```

Changing keywords from "days71, sd87, days88" to "days71, sd87, days88, sd91".



---

archive/issue_comments_276000.json:
```json
{
    "body": "Ping. Doesn't look like the underlying code has been touched since this ticket was created.",
    "created_at": "2019-12-13T01:27:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-276000",
    "user": "kedlaya"
}
```

Ping. Doesn't look like the underlying code has been touched since this ticket was created.



---

archive/issue_comments_276001.json:
```json
{
    "body": "here is a first sketch of pkg information, not yet correct\n----\nNew commits:",
    "created_at": "2022-10-07T07:04:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20028",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20028#issuecomment-276001",
    "user": "chapoton"
}
```

here is a first sketch of pkg information, not yet correct
----
New commits:
