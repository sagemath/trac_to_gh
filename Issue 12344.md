# Issue 12344: Cython compile error in optional package p_group_cohomology-2.0.spkg

Issue created by migration from https://trac.sagemath.org/ticket/12516

Original creator: mariah

Original creation time: 2012-02-15 17:55:41

Assignee: tbd

On skynet/eno using gcc-4.6.2, the optional package
p_group_cohomology-2.0.spkg fails to install in sage-4.8
with the following error:


```
gcc -pthread -shared build/temp.linux-x86_64-2.6/pGroupCohomology/modular_cohomology.o build/temp.linux-x86_64-2.6/pGroupCohomology/c_sources/aufloesung.o build/temp.linux-x86_64-2.6/pGroupCohomology/c_sources/aufnahme.o build/temp.linux-x86_64-2.6/pGroupCohomology/c_sources/djgerr.o build/temp.linux-x86_64-2.6/pGroupCohomology/c_sources/fileplus.o build/temp.linux-x86_64-2.6/pGroupCohomology/c_sources/nBuchberger.o build/temp.linux-x86_64-2.6/pGroupCohomology/c_sources/pgroup.o build/temp.linux-x86_64-2.6/pGroupCohomology/c_sources/pincl.o build/temp.linux-x86_64-2.6/pGroupCohomology/c_sources/slice.o build/temp.linux-x86_64-2.6/pGroupCohomology/c_sources/urbild.o build/temp.linux-x86_64-2.6/pGroupCohomology/c_sources/uvr.o -L/home/mariah/sage/sage-4.8-x86_64-Linux-core2-fc/local/lib -lmtx -lpython2.6 -o build/lib.linux-x86_64-2.6/pGroupCohomology/modular_cohomology.so
cythoning pGroupCohomology/cochain.pyx to pGroupCohomology/cochain.c

Error compiling Cython file:
------------------------------------------------------------
...
            elif isinstance(C,MODCOCH):
                P = self.parent()
                if P is not C.parent():
                    return True
                try:
                    br = singular('basering')
                                ^
------------------------------------------------------------

pGroupCohomology/cochain.pyx:1037:33: local variable 'singular' referenced before assignment
building 'pGroupCohomology.cochain' extension
gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -O3 -Wall -Wstrict-prototypes -fPIC -I/home/mariah/sage/sage-4.8-x86_64-Linux-core2-fc-optional/local/include/csage/ -I/home/mariah/sage/sage-4.8-x86_64-Linux-core2-fc-optional/devel/sage/ -I/home/mariah/sage/sage-4.8-x86_64-Linux-core2-fc-optional/devel/sage/c_lib -I/home/mariah/sage/sage-4.8-x86_64-Linux-core2-fc-optional/devel/sage/sage/ext -Imtx2.2.4/src/ -IpGroupCohomology/c_sources -IpGroupCohomology -I/home/mariah/sage/sage-4.8-x86_64-Linux-core2-fc-optional/local/include/python2.6 -c pGroupCohomology/cochain.c -o build/temp.linux-x86_64-2.6/pGroupCohomology/cochain.o
pGroupCohomology/cochain.c:1:2: error: #error Do not use this file, it is the result of a failed Cython compilation.
error: command 'gcc' failed with exit status 1

real    4m21.321s
user    3m56.276s
sys     0m6.743s
************************************************************************
Error installing package p_group_cohomology-2.0
************************************************************************
```



---

Comment by SimonKing created at 2012-11-18 20:11:19

Why didn't you cc me? Anyway, I suppose the problem is fixed in the most recent package version, see #13295.


---

Comment by tscrim created at 2013-04-07 17:11:24

Changing status from new to needs_review.


---

Comment by tscrim created at 2013-04-07 17:13:07

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-04-10 08:07:32

Resolution: worksforme
