# Issue 27775: py3: import certain things from collections.abc

archive/issues_027775.json:
```json
{
    "body": "CC:  @fchapoton @jhpalmieri @slel @videlec @tscrim\n\nKeywords: days101\n\nAs the [Python 3 documentation for the `collections` module](https://docs.python.org/3.7/library/collections.html) explains,\nsome [Collections Abstract Base Classes](https://docs.python.org/3.7/library/collections.abc.html#collections-abstract-base-classes)\nmoved to the [`collections.abc`](https://docs.python.org/3.7/library/collections.abc.html#module-collections.abc) module, staying visible in `collections` through Python 3.7.\n\nThese \"Collections Abstract Base Classes\" currently include\n`AsyncGenerator`, `AsyncIterable`, `AsyncIterator`, `Awaitable`,\n`Bytestring`, `Callable`, `Collection`, `Container`, `Coroutine`,\n`Generator`, `Hashable`, `ItemsView`, `Iterable`, `Iterator`, `KeysView`,\n`Mapping`, `MappingView`, `MutableMapping`, `MutableSequence`,\n`MutableSet`, `Reversible`, `Sequence`, `Set`, `Sized`, `ValuesView`.\n\nIn Python 3.8 importing them from `collections` will stop working.\nIn Python 3.3 to 3.7, they can be imported from `collections` or\nfrom `collections.abc` (it gives the exact same classes).\nIn Python 3.7, importing them from `collections` prints a\ndeprecation warning, since Python 3.8 is getting near.\n\nIn Python 2 they can only be imported from 'collections',\nnot from 'collections.abc'.\n\nIn Sage we have a few such imports:\n`Iterable`, `Iterator`, `MutableMapping`, `Sequence`.\n\nWe deal with this using a try/except block:\n\n```\ntry:  # works in Python >= 3.3\n    from collections.abc import Sequence\nexcept ImportError:  # Python 2, Python <= 3.2\n    from collections import Sequence\n```\n\n\nWe can then revert the silencing of warnings from #28002.\n\nIssue created by migration from https://trac.sagemath.org/ticket/28012\n\n",
    "created_at": "2019-06-19T00:18:42Z",
    "labels": [
        "python3",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "py3: import certain things from collections.abc",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27775",
    "user": "@slel"
}
```
CC:  @fchapoton @jhpalmieri @slel @videlec @tscrim

Keywords: days101

As the [Python 3 documentation for the `collections` module](https://docs.python.org/3.7/library/collections.html) explains,
some [Collections Abstract Base Classes](https://docs.python.org/3.7/library/collections.abc.html#collections-abstract-base-classes)
moved to the [`collections.abc`](https://docs.python.org/3.7/library/collections.abc.html#module-collections.abc) module, staying visible in `collections` through Python 3.7.

These "Collections Abstract Base Classes" currently include
`AsyncGenerator`, `AsyncIterable`, `AsyncIterator`, `Awaitable`,
`Bytestring`, `Callable`, `Collection`, `Container`, `Coroutine`,
`Generator`, `Hashable`, `ItemsView`, `Iterable`, `Iterator`, `KeysView`,
`Mapping`, `MappingView`, `MutableMapping`, `MutableSequence`,
`MutableSet`, `Reversible`, `Sequence`, `Set`, `Sized`, `ValuesView`.

In Python 3.8 importing them from `collections` will stop working.
In Python 3.3 to 3.7, they can be imported from `collections` or
from `collections.abc` (it gives the exact same classes).
In Python 3.7, importing them from `collections` prints a
deprecation warning, since Python 3.8 is getting near.

In Python 2 they can only be imported from 'collections',
not from 'collections.abc'.

In Sage we have a few such imports:
`Iterable`, `Iterator`, `MutableMapping`, `Sequence`.

We deal with this using a try/except block:

```
try:  # works in Python >= 3.3
    from collections.abc import Sequence
except ImportError:  # Python 2, Python <= 3.2
    from collections import Sequence
```


We can then revert the silencing of warnings from #28002.

Issue created by migration from https://trac.sagemath.org/ticket/28012





---

archive/issue_comments_392378.json:
```json
{
    "body": "Changing keywords from \"days101\" to \"days101, py3\".",
    "created_at": "2019-06-19T00:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392378",
    "user": "@slel"
}
```

Changing keywords from "days101" to "days101, py3".



---

archive/issue_comments_392379.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-06-19T00:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392379",
    "user": "@slel"
}
```

New commits:



---

archive/issue_comments_392380.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-06-19T00:21:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392380",
    "user": "@slel"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_392381.json:
```json
{
    "body": "Note: to check where such changes were needed I followed advice in a comment at #28002 and did\n\n```\n$ git grep \"from collections import\"\n```\n",
    "created_at": "2019-06-19T00:25:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392381",
    "user": "@slel"
}
```

Note: to check where such changes were needed I followed advice in a comment at #28002 and did

```
$ git grep "from collections import"
```




---

archive/issue_comments_392382.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-06-19T00:27:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392382",
    "user": "@slel"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_392383.json:
```json
{
    "body": "More changes are needed, as revealed by\n\n```\n$ git grep \"collections\\.\"\n```\n\nI'll push a commit.",
    "created_at": "2019-06-19T00:27:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392383",
    "user": "@slel"
}
```

More changes are needed, as revealed by

```
$ git grep "collections\."
```

I'll push a commit.



---

archive/issue_comments_392384.json:
```json
{
    "body": "The relevant lines in the output of `git grep \"collections\\.\"` seem to be:\n\n```\nsrc/sage/arith/misc.py:    if isinstance(ks[0], collections.Iterable):\nsrc/sage/combinat/finite_state_machine.py:                         collections.Iterator):\nsrc/sage/combinat/ranker.py:    from collections.abc import Iterable, Sequence\nsrc/sage/combinat/ranker.py:    tuple (or more generally a :class:`collections.Sequence`), an\nsrc/sage/combinat/ranker.py:    :class:`collections.Iterable`). See :trac:`15919`.\nsrc/sage/combinat/ranker.py:    Lists, tuples, and other :class:`sequences <collections.Sequence>`::\nsrc/sage/combinat/shuffle.py:        assert(isinstance(l1, collections.Iterable) and\nsrc/sage/combinat/shuffle.py:               isinstance(l2, collections.Iterable)\nsrc/sage/combinat/shuffle.py:        assert(all(isinstance(elem, collections.Iterable) for elem in l1))\nsrc/sage/combinat/shuffle.py:        assert(all(isinstance(elem, collections.Iterable) for elem in l2))\nsrc/sage/combinat/shuffle.py:        assert(isinstance(l1, collections.Iterable) and\nsrc/sage/combinat/shuffle.py:               isinstance(l2, collections.Iterable)\nsrc/sage/databases/conway.py:class DictInMapping(collections.Mapping):\nsrc/sage/databases/conway.py:class ConwayPolynomials(collections.Mapping):\nsrc/sage/game_theory/normal_form_game.py:    from collections.abc import MutableMapping\nsrc/sage/geometry/cone.py:                            collections.Hashable,\nsrc/sage/geometry/cone.py:                            collections.Iterable):\nsrc/sage/geometry/cone.py:                                   collections.Container):\nsrc/sage/geometry/fan.py:                            collections.Callable,\nsrc/sage/geometry/fan.py:                            collections.Container):\nsrc/sage/geometry/lattice_polytope.py:class LatticePolytopeClass(SageObject, collections.Hashable):\nsrc/sage/geometry/lattice_polytope.py:                   collections.Hashable):\nsrc/sage/matrix/matrix_integer_sparse.pyx:    from collections.abc import Iterator, Sequence\nsrc/sage/matrix/matrix_modn_sparse.pyx:    from collections.abc import Iterator, Sequence\nsrc/sage/misc/converting_dict.py:            if isinstance(arg, collections.Mapping):\nsrc/sage/modules/with_basis/morphism.py:        if not isinstance(diagonal, collections.Callable):\nsrc/sage/plot/colors.py:class Colormaps(collections.MutableMapping):\nsrc/sage/plot/point.py:    if isinstance(points, collections.Iterator):\nsrc/sage/repl/ipython_kernel/interact.py:    from collections.abc import Iterable, Iterator\nsrc/sage/repl/ipython_kernel/widgets_sagenb.py:    from collections.abc import Iterable, Sequence\n```\n",
    "created_at": "2019-06-19T00:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392384",
    "user": "@slel"
}
```

The relevant lines in the output of `git grep "collections\."` seem to be:

```
src/sage/arith/misc.py:    if isinstance(ks[0], collections.Iterable):
src/sage/combinat/finite_state_machine.py:                         collections.Iterator):
src/sage/combinat/ranker.py:    from collections.abc import Iterable, Sequence
src/sage/combinat/ranker.py:    tuple (or more generally a :class:`collections.Sequence`), an
src/sage/combinat/ranker.py:    :class:`collections.Iterable`). See :trac:`15919`.
src/sage/combinat/ranker.py:    Lists, tuples, and other :class:`sequences <collections.Sequence>`::
src/sage/combinat/shuffle.py:        assert(isinstance(l1, collections.Iterable) and
src/sage/combinat/shuffle.py:               isinstance(l2, collections.Iterable)
src/sage/combinat/shuffle.py:        assert(all(isinstance(elem, collections.Iterable) for elem in l1))
src/sage/combinat/shuffle.py:        assert(all(isinstance(elem, collections.Iterable) for elem in l2))
src/sage/combinat/shuffle.py:        assert(isinstance(l1, collections.Iterable) and
src/sage/combinat/shuffle.py:               isinstance(l2, collections.Iterable)
src/sage/databases/conway.py:class DictInMapping(collections.Mapping):
src/sage/databases/conway.py:class ConwayPolynomials(collections.Mapping):
src/sage/game_theory/normal_form_game.py:    from collections.abc import MutableMapping
src/sage/geometry/cone.py:                            collections.Hashable,
src/sage/geometry/cone.py:                            collections.Iterable):
src/sage/geometry/cone.py:                                   collections.Container):
src/sage/geometry/fan.py:                            collections.Callable,
src/sage/geometry/fan.py:                            collections.Container):
src/sage/geometry/lattice_polytope.py:class LatticePolytopeClass(SageObject, collections.Hashable):
src/sage/geometry/lattice_polytope.py:                   collections.Hashable):
src/sage/matrix/matrix_integer_sparse.pyx:    from collections.abc import Iterator, Sequence
src/sage/matrix/matrix_modn_sparse.pyx:    from collections.abc import Iterator, Sequence
src/sage/misc/converting_dict.py:            if isinstance(arg, collections.Mapping):
src/sage/modules/with_basis/morphism.py:        if not isinstance(diagonal, collections.Callable):
src/sage/plot/colors.py:class Colormaps(collections.MutableMapping):
src/sage/plot/point.py:    if isinstance(points, collections.Iterator):
src/sage/repl/ipython_kernel/interact.py:    from collections.abc import Iterable, Iterator
src/sage/repl/ipython_kernel/widgets_sagenb.py:    from collections.abc import Iterable, Sequence
```




---

archive/issue_comments_392385.json:
```json
{
    "body": "Two comments: there may be instances of this in other packages, like matplotlib. Also, it's not just warnings silenced in #28002, but an older silencing in `sage/all.py`.",
    "created_at": "2019-06-19T01:24:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392385",
    "user": "@jhpalmieri"
}
```

Two comments: there may be instances of this in other packages, like matplotlib. Also, it's not just warnings silenced in #28002, but an older silencing in `sage/all.py`.



---

archive/issue_comments_392386.json:
```json
{
    "body": "Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392386",
    "user": "@embray"
}
```

Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_comments_392387.json:
```json
{
    "body": "Ticket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392387",
    "user": "@embray"
}
```

Ticket retargeted after milestone closed



---

archive/issue_comments_392388.json:
```json
{
    "body": "Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392388",
    "user": "@mkoeppe"
}
```

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_comments_392389.json:
```json
{
    "body": "Now that we don't support py2 any more, the try/except approach is not needed any more.",
    "created_at": "2020-08-22T00:57:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392389",
    "user": "@mkoeppe"
}
```

Now that we don't support py2 any more, the try/except approach is not needed any more.



---

archive/issue_comments_392390.json:
```json
{
    "body": "Changing keywords from \"days101, py3\" to \"days101, py3, collections.abc\".",
    "created_at": "2020-08-22T05:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392390",
    "user": "@slel"
}
```

Changing keywords from "days101, py3" to "days101, py3, collections.abc".



---

archive/issue_comments_392391.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-08-22T05:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392391",
    "user": "@slel"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_392392.json:
```json
{
    "body": "Sorry for letting over a year pass by. Here is a new branch. Please review.\n\nThe file `finite_state_machine.py` has `import collections`\nand then `collections.defaultdict`, `collections.OrderedDict`,\n`collections.deque`, `collections.namedtuple`, `collections.abc.Iterator`.\n\nWould there be an advantage, or a disadvantage, to doing the following instead:\n\n```\nfrom collections import defaultdict, deque, namedtuple, OrderedDict\nfrom collections.abc import Iterator\n```\n\nand then using `defaultdict`, `OrderedDict`, `deque`, `namedtuple`, `Iterator`?\n\nI changed to that style in some other files.\n----\nNew commits:",
    "created_at": "2020-08-22T05:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392392",
    "user": "@slel"
}
```

Sorry for letting over a year pass by. Here is a new branch. Please review.

The file `finite_state_machine.py` has `import collections`
and then `collections.defaultdict`, `collections.OrderedDict`,
`collections.deque`, `collections.namedtuple`, `collections.abc.Iterator`.

Would there be an advantage, or a disadvantage, to doing the following instead:

```
from collections import defaultdict, deque, namedtuple, OrderedDict
from collections.abc import Iterator
```

and then using `defaultdict`, `OrderedDict`, `deque`, `namedtuple`, `Iterator`?

I changed to that style in some other files.
----
New commits:



---

archive/issue_comments_392393.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-08-22T06:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392393",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_392394.json:
```json
{
    "body": "I had left one file out, I forced push.",
    "created_at": "2020-08-22T06:08:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392394",
    "user": "@slel"
}
```

I had left one file out, I forced push.



---

archive/issue_comments_392395.json:
```json
{
    "body": "Vincent, I now see you already did the work at #28315 a year ago.\n\nSorry for delaying this. Would you like to review?",
    "created_at": "2020-08-22T06:48:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392395",
    "user": "@slel"
}
```

Vincent, I now see you already did the work at #28315 a year ago.

Sorry for delaying this. Would you like to review?



---

archive/issue_comments_392396.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-09-05T09:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392396",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_392397.json:
```json
{
    "body": "Rebased on 9.2.beta11\n----\nNew commits:",
    "created_at": "2020-09-05T09:28:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392397",
    "user": "@slel"
}
```

Rebased on 9.2.beta11
----
New commits:



---

archive/issue_comments_392398.json:
```json
{
    "body": "I'm getting some deprecation warnings. Some can be fixed by this:\n\n```diff\ndiff --git a/src/sage/repl/ipython_kernel/interact.py b/src/sage/repl/ipython_kernel/interact.py\nindex 5fb318a6e4..ac0376ca63 100644\n--- a/src/sage/repl/ipython_kernel/interact.py\n+++ b/src/sage/repl/ipython_kernel/interact.py\n@@ -35,7 +35,8 @@ EXAMPLES::\n \n from ipywidgets.widgets import SelectionSlider, ValueWidget, ToggleButtons\n from ipywidgets.widgets.interaction import interactive, signature\n-from collections import Iterable, Iterator, OrderedDict\n+from collections.abc import Iterable, Iterator\n+from collections import OrderedDict\n from .widgets import EvalText, SageColorPicker\n from .widgets_sagenb import input_grid\n from sage.structure.element import parent\n```\n\nSome are coming from other Python packages, though. (This is with a Sage build using a system Python 3.7.) For example, one doctest fails because of\n\n```\n      File \"/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/sage-9.2.beta11/local/lib/python3.7/site-packages/babel/localedata.py\", line 17, in <module>\n        from collections import MutableMapping\n```\n\nanother with\n\n```\n      File \"/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/sage-9.2.beta11/local/lib/python3.7/site-packages/requests/packages/urllib3/util/selectors.py\", line 11, in <module>\n        from collections import namedtuple, Mapping\n```\n\nMaybe we need to delay the suppression of the silencing of the deprecation warning. ;)",
    "created_at": "2020-09-05T17:33:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392398",
    "user": "@jhpalmieri"
}
```

I'm getting some deprecation warnings. Some can be fixed by this:

```diff
diff --git a/src/sage/repl/ipython_kernel/interact.py b/src/sage/repl/ipython_kernel/interact.py
index 5fb318a6e4..ac0376ca63 100644
--- a/src/sage/repl/ipython_kernel/interact.py
+++ b/src/sage/repl/ipython_kernel/interact.py
@@ -35,7 +35,8 @@ EXAMPLES::
 
 from ipywidgets.widgets import SelectionSlider, ValueWidget, ToggleButtons
 from ipywidgets.widgets.interaction import interactive, signature
-from collections import Iterable, Iterator, OrderedDict
+from collections.abc import Iterable, Iterator
+from collections import OrderedDict
 from .widgets import EvalText, SageColorPicker
 from .widgets_sagenb import input_grid
 from sage.structure.element import parent
```

Some are coming from other Python packages, though. (This is with a Sage build using a system Python 3.7.) For example, one doctest fails because of

```
      File "/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/sage-9.2.beta11/local/lib/python3.7/site-packages/babel/localedata.py", line 17, in <module>
        from collections import MutableMapping
```

another with

```
      File "/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/sage-9.2.beta11/local/lib/python3.7/site-packages/requests/packages/urllib3/util/selectors.py", line 11, in <module>
        from collections import namedtuple, Mapping
```

Maybe we need to delay the suppression of the silencing of the deprecation warning. ;)



---

archive/issue_comments_392399.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-09-05T20:10:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392399",
    "user": "@slel"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_392400.json:
```json
{
    "body": "I agree:\n\n- `src/repl_ipython_kernel/interact.py` does need the change you say\n- suppressing the silencing of the warnings does need to be delayed\n\nI will take care of that. Any advice about my question in [comment:15]?",
    "created_at": "2020-09-05T20:10:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392400",
    "user": "@slel"
}
```

I agree:

- `src/repl_ipython_kernel/interact.py` does need the change you say
- suppressing the silencing of the warnings does need to be delayed

I will take care of that. Any advice about my question in [comment:15]?



---

archive/issue_comments_392401.json:
```json
{
    "body": "The typical (but not universal) Sage style seems to be \"from blah import foo\" and then \"foo(...)\" rather than \"import blah\" and then \"blah.foo(...)\". So that's what I would choose, as you suggested.",
    "created_at": "2020-09-05T20:22:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392401",
    "user": "@jhpalmieri"
}
```

The typical (but not universal) Sage style seems to be "from blah import foo" and then "foo(...)" rather than "import blah" and then "blah.foo(...)". So that's what I would choose, as you suggested.



---

archive/issue_comments_392402.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-09-07T22:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392402",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_392403.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-09-07T22:41:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392403",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_392404.json:
```json
{
    "body": "Fixed and rebased on 9.2.beta12. Sorry for one more force-push.",
    "created_at": "2020-09-07T22:43:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392404",
    "user": "@slel"
}
```

Fixed and rebased on 9.2.beta12. Sorry for one more force-push.



---

archive/issue_comments_392405.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-09-07T22:43:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392405",
    "user": "@slel"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_392406.json:
```json
{
    "body": "Still needs work. Almost there. Will push shortly.",
    "created_at": "2020-09-08T03:44:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392406",
    "user": "@slel"
}
```

Still needs work. Almost there. Will push shortly.



---

archive/issue_comments_392407.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-09-08T03:44:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392407",
    "user": "@slel"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_392408.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-09-10T17:58:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392408",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_392409.json:
```json
{
    "body": "Please review.",
    "created_at": "2020-09-10T17:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392409",
    "user": "@slel"
}
```

Please review.



---

archive/issue_comments_392410.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-09-10T17:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392410",
    "user": "@slel"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_392411.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-10T20:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392411",
    "user": "@jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_392412.json:
```json
{
    "body": "Looks good to me.",
    "created_at": "2020-09-10T20:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392412",
    "user": "@jhpalmieri"
}
```

Looks good to me.



---

archive/issue_comments_392413.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-09-15T21:58:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392413",
    "user": "@vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_392414.json:
```json
{
    "body": "Follow-up at #30768 for unsilencing the deprecation warning.",
    "created_at": "2020-10-13T22:32:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27775#issuecomment-392414",
    "user": "@slel"
}
```

Follow-up at #30768 for unsilencing the deprecation warning.
