# Issue 18281: Fix Polynomial.denominator() for high-degree polynomials

Issue created by migration from https://trac.sagemath.org/ticket/18518

Original creator: bruno

Original creation time: 2015-05-26 13:09:30

Keywords: polynomial

Currently, the method `Polynomial.denominator` does not work with very high-degree (sparse) polynomial:

```
sage: R.<x> = PolynomialRing(QQ, sparse=True)
sage: p = x^(2^100) - 1/2
sage: p.denominator()
Traceback (most recent call last):
...
OverflowError: cannot fit 'long' into an index-sized integer
```


This comes from the method using `self.list()` instead of `self.coefficients()`. I correct this and obtain:


```
sage: R.<x> = PolynomialRing(QQ, sparse=True)
sage: p = x^(2^100) - 1/2
sage: p.denominator()
2
```



---

Comment by bruno created at 2015-05-26 13:21:39

Changing status from new to needs_review.


---

Comment by chapoton created at 2015-05-27 19:40:18

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2015-05-27 19:40:18

doc does not build, see patchbot report :

OSError: [polynomia] docstring of sage.rings.polynomial.polynomial_element.Polynomial.denominator:70: WARNING: Literal block expected; none found.


---

Comment by git created at 2015-05-28 09:23:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bruno created at 2015-05-28 09:24:53

Changing status from needs_work to needs_review.


---

Comment by bruno created at 2015-05-28 09:24:53

Replying to [comment:3 chapoton]:
> doc does not build, see patchbot report :
> 
> OSError: [polynomia] docstring of sage.rings.polynomial.polynomial_element.Polynomial.denominator:70: WARNING: Literal block expected; none found.

Works now!


---

Comment by mmezzarobba created at 2015-06-03 09:02:23

Changing status from needs_review to positive_review.


---

Comment by bruno created at 2015-06-03 09:09:50

Merci Marc !


---

Comment by vbraun created at 2015-06-03 23:22:35

Resolution: fixed
