# Issue 26849: Add simpliciality and simpliness to CombinatorialPolyhedron

Issue created by migration from https://trac.sagemath.org/ticket/27086

Original creator: @kliem

Original creation time: 2019-01-21 13:43:42

CC:  jipilab

Keywords: Polyhedron, CombinatorialPolyhedron, simple, simplicial

It should be easy to add a function to CombinatorialPolyhedron that calculates the largest k such that the Polyhedron is k-simple/k-simplicial.


---

Comment by @kliem created at 2019-01-21 13:43:55

Changing type from PLEASE CHANGE to enhancement.


---

Comment by @kliem created at 2019-02-08 13:58:19

Changing keywords from "Polyhedron, CombinatorialPolyhedron, simple, simplicial" to "Polyhedron, CombinatorialPolyhedron, simple, simplicial, flag".


---

Comment by @kliem created at 2019-02-18 10:41:59

Posting this example, so I won't forget:

An example for simpliness and simpliciality could look like this:

```
sage: for i in Combinations(6,3):
....:     x.append(list(Integer(j in i) for j in range(6)))
....: P = Polyhedron(vertices=x)
....: C = CombinatorialPolyhedron(P)
....: C.simpliness()
4
....: C.simpliciality()
2
....: C.dimension()
5
```

One can replace `6` by `n` and this will alter `4` to `n-2` and `5` to `n-1`.

(This example is taken from lecture notes from GÃ¼nter M. Ziegler.)


---

Comment by embray created at 2019-03-25 10:56:15

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)


---

Comment by @kliem created at 2019-10-16 13:43:24

Changing status from new to needs_review.


---

Comment by @kliem created at 2019-10-16 13:43:24

Last 10 new commits:


---

Comment by git created at 2019-10-16 14:33:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-10-16 15:59:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jipilab created at 2019-10-21 07:04:35

I believe that 'simplicity' is more appropriate than simpliness.


---

Comment by jipilab created at 2019-10-21 07:04:35

Changing status from needs_review to needs_work.


---

Comment by git created at 2019-10-21 07:16:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @kliem created at 2019-10-28 10:47:59

Last 10 new commits:


---

Comment by @kliem created at 2019-10-28 10:47:59

Changing status from needs_work to needs_review.


---

Comment by git created at 2019-10-28 10:57:57

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by @kliem created at 2019-12-13 12:55:21

Rebased again.
----
New commits:


---

Comment by git created at 2019-12-13 12:59:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by embray created at 2020-01-06 14:10:03

Ticket retargeted after milestone closed


---

Comment by @LaisRast created at 2020-01-10 11:03:32

In `simplicity` method: 
* I suggest to change the definition of `k-simple`. Using the definition you give, one needs to know `P/F`.

```diff
-        A polytope `P` is `k`-simple, if for every face `F`
-        of codimension `k` the polytope `P/F` is simple.
+        A polytope `P` is `k`-simple, if every `(d-1-k)`-face
+        is contained in `k+1` facets of `P` for `1 <= k <= d-1`.
```




* coface instead of face:

```diff
            if face_iter.n_atom_rep() == d + 1:
-                # The current face is a simplex.
+                # The current coface is a simplex.
                face_iter.ignore_supfaces()
```


* Since you are dealing with cofaces, maybe you need to do the following change

```diff
-        cdef FaceIterator face_iter = self._face_iter(True, -2)
+        cdef FaceIterator coface_iter = self._face_iter(True, -2)
```



---

Comment by @LaisRast created at 2020-01-10 11:03:32

Changing status from needs_review to needs_work.


---

Comment by @kliem created at 2020-01-10 13:50:48

Changing status from needs_work to needs_review.


---

Comment by @kliem created at 2020-01-10 13:50:48

New commits:


---

Comment by @LaisRast created at 2020-01-10 13:53:58

I believe it is good to go.


---

Comment by @LaisRast created at 2020-01-10 13:53:58

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-01-11 17:45:27

Resolution: fixed
