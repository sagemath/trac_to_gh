# Issue 26849: Add simpliciality and simpliness to CombinatorialPolyhedron

archive/issues_026849.json:
```json
{
    "body": "CC:  jipilab\n\nKeywords: Polyhedron, CombinatorialPolyhedron, simple, simplicial\n\nIt should be easy to add a function to CombinatorialPolyhedron that calculates the largest k such that the Polyhedron is k-simple/k-simplicial.\n\nIssue created by migration from https://trac.sagemath.org/ticket/27086\n\n",
    "created_at": "2019-01-21T13:43:42Z",
    "labels": [
        "geometry",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Add simpliciality and simpliness to CombinatorialPolyhedron",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26849",
    "user": "@kliem"
}
```
CC:  jipilab

Keywords: Polyhedron, CombinatorialPolyhedron, simple, simplicial

It should be easy to add a function to CombinatorialPolyhedron that calculates the largest k such that the Polyhedron is k-simple/k-simplicial.

Issue created by migration from https://trac.sagemath.org/ticket/27086





---

archive/issue_comments_377696.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2019-01-21T13:43:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377696",
    "user": "@kliem"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_377697.json:
```json
{
    "body": "Changing keywords from \"Polyhedron, CombinatorialPolyhedron, simple, simplicial\" to \"Polyhedron, CombinatorialPolyhedron, simple, simplicial, flag\".",
    "created_at": "2019-02-08T13:58:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377697",
    "user": "@kliem"
}
```

Changing keywords from "Polyhedron, CombinatorialPolyhedron, simple, simplicial" to "Polyhedron, CombinatorialPolyhedron, simple, simplicial, flag".



---

archive/issue_comments_377698.json:
```json
{
    "body": "Posting this example, so I won't forget:\n\nAn example for simpliness and simpliciality could look like this:\n\n```\nsage: for i in Combinations(6,3):\n....:     x.append(list(Integer(j in i) for j in range(6)))\n....: P = Polyhedron(vertices=x)\n....: C = CombinatorialPolyhedron(P)\n....: C.simpliness()\n4\n....: C.simpliciality()\n2\n....: C.dimension()\n5\n```\n\nOne can replace `6` by `n` and this will alter `4` to `n-2` and `5` to `n-1`.\n\n(This example is taken from lecture notes from G\u00fcnter M. Ziegler.)",
    "created_at": "2019-02-18T10:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377698",
    "user": "@kliem"
}
```

Posting this example, so I won't forget:

An example for simpliness and simpliciality could look like this:

```
sage: for i in Combinations(6,3):
....:     x.append(list(Integer(j in i) for j in range(6)))
....: P = Polyhedron(vertices=x)
....: C = CombinatorialPolyhedron(P)
....: C.simpliness()
4
....: C.simpliciality()
2
....: C.dimension()
5
```

One can replace `6` by `n` and this will alter `4` to `n-2` and `5` to `n-1`.

(This example is taken from lecture notes from GÃ¼nter M. Ziegler.)



---

archive/issue_comments_377699.json:
```json
{
    "body": "Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377699",
    "user": "embray"
}
```

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_comments_377700.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-10-16T13:43:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377700",
    "user": "@kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_377701.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2019-10-16T13:43:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377701",
    "user": "@kliem"
}
```

Last 10 new commits:



---

archive/issue_comments_377702.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-16T14:33:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377702",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_377703.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-16T15:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377703",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_377704.json:
```json
{
    "body": "I believe that 'simplicity' is more appropriate than simpliness.",
    "created_at": "2019-10-21T07:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377704",
    "user": "jipilab"
}
```

I believe that 'simplicity' is more appropriate than simpliness.



---

archive/issue_comments_377705.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-10-21T07:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377705",
    "user": "jipilab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_377706.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-21T07:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377706",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_377707.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2019-10-28T10:47:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377707",
    "user": "@kliem"
}
```

Last 10 new commits:



---

archive/issue_comments_377708.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-10-28T10:47:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377708",
    "user": "@kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_377709.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-10-28T10:57:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377709",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_377710.json:
```json
{
    "body": "Rebased again.\n----\nNew commits:",
    "created_at": "2019-12-13T12:55:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377710",
    "user": "@kliem"
}
```

Rebased again.
----
New commits:



---

archive/issue_comments_377711.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-12-13T12:59:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377711",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_377712.json:
```json
{
    "body": "Ticket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377712",
    "user": "embray"
}
```

Ticket retargeted after milestone closed



---

archive/issue_comments_377713.json:
```json
{
    "body": "In `simplicity` method: \n* I suggest to change the definition of `k-simple`. Using the definition you give, one needs to know `P/F`.\n\n```diff\n-        A polytope `P` is `k`-simple, if for every face `F`\n-        of codimension `k` the polytope `P/F` is simple.\n+        A polytope `P` is `k`-simple, if every `(d-1-k)`-face\n+        is contained in `k+1` facets of `P` for `1 <= k <= d-1`.\n```\n\n\n\n\n* coface instead of face:\n\n```diff\n            if face_iter.n_atom_rep() == d + 1:\n-                # The current face is a simplex.\n+                # The current coface is a simplex.\n                face_iter.ignore_supfaces()\n```\n\n\n* Since you are dealing with cofaces, maybe you need to do the following change\n\n```diff\n-        cdef FaceIterator face_iter = self._face_iter(True, -2)\n+        cdef FaceIterator coface_iter = self._face_iter(True, -2)\n```\n",
    "created_at": "2020-01-10T11:03:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377713",
    "user": "@LaisRast"
}
```

In `simplicity` method: 
* I suggest to change the definition of `k-simple`. Using the definition you give, one needs to know `P/F`.

```diff
-        A polytope `P` is `k`-simple, if for every face `F`
-        of codimension `k` the polytope `P/F` is simple.
+        A polytope `P` is `k`-simple, if every `(d-1-k)`-face
+        is contained in `k+1` facets of `P` for `1 <= k <= d-1`.
```




* coface instead of face:

```diff
            if face_iter.n_atom_rep() == d + 1:
-                # The current face is a simplex.
+                # The current coface is a simplex.
                face_iter.ignore_supfaces()
```


* Since you are dealing with cofaces, maybe you need to do the following change

```diff
-        cdef FaceIterator face_iter = self._face_iter(True, -2)
+        cdef FaceIterator coface_iter = self._face_iter(True, -2)
```




---

archive/issue_comments_377714.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-01-10T11:03:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377714",
    "user": "@LaisRast"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_377715.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-01-10T13:50:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377715",
    "user": "@kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_377716.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-01-10T13:50:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377716",
    "user": "@kliem"
}
```

New commits:



---

archive/issue_comments_377717.json:
```json
{
    "body": "I believe it is good to go.",
    "created_at": "2020-01-10T13:53:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377717",
    "user": "@LaisRast"
}
```

I believe it is good to go.



---

archive/issue_comments_377718.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-01-10T13:53:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377718",
    "user": "@LaisRast"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_377719.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-01-11T17:45:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26849#issuecomment-377719",
    "user": "vbraun"
}
```

Resolution: fixed
