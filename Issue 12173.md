# Issue 12173: Sympy minus infinity doesn't convert to Sage

Issue created by migration from Trac.

Original creator: kcrisman

Original creation time: 2012-01-23 18:14:11

Assignee: burcin

CC:  certik rws


```
sage: a,b = oo, -oo
sage: a._sympy_()
oo
sage: b._sympy_()
--------------------------------------------
AttributeError                            Traceback (most recent call last)

/Users/.../sage-4.7.2/local/lib/python2.6/site-packages/sage/structure/element.so in sage.structure.element.Element.__getattr__ (sage/structure/element.c:2840)()

AttributeError: 'MinusInfinity' object has no attribute '_sympy_'
```

See [this ask.sagemath.org question](http://ask.sagemath.org/question/1081/sympy-integration-algorithm-towards-infinity) for background.


---

Comment by dsm created at 2012-05-26 04:30:51

Changing keywords from "" to "sd40.5".


---

Comment by dsm created at 2012-05-26 04:30:51

Changing status from new to needs_review.


---

Comment by dsm created at 2012-05-26 04:30:51

Straightforward fix and test of the original case as an integral.


---

Comment by kcrisman created at 2012-05-26 05:12:09

Umm, even without this patch I get

```
sage: import sympy
sage: bool(SR(-oo) == -sympy.oo)
True
sage: bool(-oo == -sympy.oo)
True
```

Am I missing something?  How is that an indirect doctest?

That said, the integral works fine now and the tests pass.


---

Comment by dsm created at 2012-05-26 06:04:28

Ah, those were merely mirroring the +oo cases.  Really they were only testing whether the negation worked; it was the integral test which was really verifying the success.  However, we can test it explicitly by adding.


```
    sage: bool((-oo)._sympy_() == -sympy.oo)
    True
```


which fails without the patch.  Modified to incorporate this.


---

Comment by kcrisman created at 2012-05-26 06:27:16

Changing status from needs_review to positive_review.


---

Comment by kcrisman created at 2012-05-26 06:27:16

Positive review.


---

Attachment

add _sympy_ method to MinusInfinity


---

Comment by jdemeyer created at 2012-06-14 06:39:29

Resolution: fixed


---

Comment by kcrisman created at 2015-03-18 17:27:48

I think this ticket is already fixed?
