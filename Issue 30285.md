# Issue 30285: polynomial_element.pyx: roots: SR: Return value for vanishing determinant broken

Issue created by migration from https://trac.sagemath.org/ticket/30522

Original creator: @shak-mar

Original creation time: 2020-09-07 15:42:44

The bug can be reproduced by running the following code:

	PolynomialRing(SR, names="x")("x^2").roots()

Expected result: [(0, 2)]
Actual result: [0, 2]

I tested this on 9.2.beta12, which is what the "develop" branch points to at the time of writing.

I have written a patch that fixes this;  let's see if I can manage to attach it / push it to this ticket.  I'm also not 100% sure that "algebra" is the right value for the "Component:" field.


---

Comment by slelievre created at 2020-09-07 17:16:40

Thanks for filing this ticket and providing a fix!

> I have written a patch that fixes this;  let's see if I can manage
> to attach it / push it to this ticket.

You managed!

> I'm also not 100% sure that "algebra" is the right value
> for the "Component:" field.

I use "commutative algebra" for tickets about polynomials and friends.

Please add your full name in the "Authors" field on the ticket.

Please add the example from the ticket description as a doctest,
with the ticket number, as part of the EXAMPLES block in the
docstring for the `roots` method. Something like:


```diff
+        Check that :trac:`30522` is fixed::
+
+            sage: PolynomialRing(SR, names="x")("x^2").roots()
+            [(0, 2)]
+
```


When the ticket is ready for review, please set it to `needs_review`.
----
New commits:


---

Comment by slelievre created at 2020-09-07 17:16:40

Changing component from algebra to commutative algebra.


---

Comment by git created at 2020-09-08 17:09:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-09-08 17:21:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @shak-mar created at 2020-09-08 17:22:19

Changing status from new to needs_review.


---

Comment by @shak-mar created at 2020-09-08 17:23:11

Cool!  I think I did all of that now :)


---

Comment by slelievre created at 2020-09-08 17:36:57

Changing keywords from "" to "polynomial, roots".


---

Comment by slelievre created at 2020-09-08 17:36:57

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2020-09-08 17:36:57

Thanks!


---

Comment by vbraun created at 2020-09-23 21:27:13

Resolution: fixed
