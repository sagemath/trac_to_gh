# Issue 30285: polynomial_element.pyx: roots: SR: Return value for vanishing determinant broken

archive/issues_030285.json:
```json
{
    "body": "The bug can be reproduced by running the following code:\n\n\tPolynomialRing(SR, names=\"x\")(\"x^2\").roots()\n\nExpected result: [(0, 2)]\nActual result: [0, 2]\n\nI tested this on 9.2.beta12, which is what the \"develop\" branch points to at the time of writing.\n\nI have written a patch that fixes this;  let's see if I can manage to attach it / push it to this ticket.  I'm also not 100% sure that \"algebra\" is the right value for the \"Component:\" field.\n\nIssue created by migration from https://trac.sagemath.org/ticket/30522\n\n",
    "created_at": "2020-09-07T15:42:44Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "polynomial_element.pyx: roots: SR: Return value for vanishing determinant broken",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30285",
    "user": "https://github.com/shak-mar"
}
```
The bug can be reproduced by running the following code:

	PolynomialRing(SR, names="x")("x^2").roots()

Expected result: [(0, 2)]
Actual result: [0, 2]

I tested this on 9.2.beta12, which is what the "develop" branch points to at the time of writing.

I have written a patch that fixes this;  let's see if I can manage to attach it / push it to this ticket.  I'm also not 100% sure that "algebra" is the right value for the "Component:" field.

Issue created by migration from https://trac.sagemath.org/ticket/30522





---

archive/issue_comments_431317.json:
```json
{
    "body": "Thanks for filing this ticket and providing a fix!\n\n> I have written a patch that fixes this;  let's see if I can manage\n> to attach it / push it to this ticket.\n\nYou managed!\n\n> I'm also not 100% sure that \"algebra\" is the right value\n> for the \"Component:\" field.\n\nI use \"commutative algebra\" for tickets about polynomials and friends.\n\nPlease add your full name in the \"Authors\" field on the ticket.\n\nPlease add the example from the ticket description as a doctest,\nwith the ticket number, as part of the EXAMPLES block in the\ndocstring for the `roots` method. Something like:\n\n\n```diff\n+        Check that :trac:`30522` is fixed::\n+\n+            sage: PolynomialRing(SR, names=\"x\")(\"x^2\").roots()\n+            [(0, 2)]\n+\n```\n\n\nWhen the ticket is ready for review, please set it to `needs_review`.\n----\nNew commits:",
    "created_at": "2020-09-07T17:16:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30285#issuecomment-431317",
    "user": "https://github.com/slel"
}
```

Thanks for filing this ticket and providing a fix!

> I have written a patch that fixes this;  let's see if I can manage
> to attach it / push it to this ticket.

You managed!

> I'm also not 100% sure that "algebra" is the right value
> for the "Component:" field.

I use "commutative algebra" for tickets about polynomials and friends.

Please add your full name in the "Authors" field on the ticket.

Please add the example from the ticket description as a doctest,
with the ticket number, as part of the EXAMPLES block in the
docstring for the `roots` method. Something like:


```diff
+        Check that :trac:`30522` is fixed::
+
+            sage: PolynomialRing(SR, names="x")("x^2").roots()
+            [(0, 2)]
+
```


When the ticket is ready for review, please set it to `needs_review`.
----
New commits:



---

archive/issue_comments_431318.json:
```json
{
    "body": "Changing component from algebra to commutative algebra.",
    "created_at": "2020-09-07T17:16:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30285#issuecomment-431318",
    "user": "https://github.com/slel"
}
```

Changing component from algebra to commutative algebra.



---

archive/issue_comments_431319.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-08T17:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30285#issuecomment-431319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_431320.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-08T17:21:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30285#issuecomment-431320",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_431321.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-09-08T17:22:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30285#issuecomment-431321",
    "user": "https://github.com/shak-mar"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_431322.json:
```json
{
    "body": "Cool!  I think I did all of that now :)",
    "created_at": "2020-09-08T17:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30285#issuecomment-431322",
    "user": "https://github.com/shak-mar"
}
```

Cool!  I think I did all of that now :)



---

archive/issue_comments_431323.json:
```json
{
    "body": "Changing keywords from \"\" to \"polynomial, roots\".",
    "created_at": "2020-09-08T17:36:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30285#issuecomment-431323",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "polynomial, roots".



---

archive/issue_comments_431324.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-08T17:36:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30285#issuecomment-431324",
    "user": "https://github.com/slel"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_431325.json:
```json
{
    "body": "Thanks!",
    "created_at": "2020-09-08T17:36:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30285#issuecomment-431325",
    "user": "https://github.com/slel"
}
```

Thanks!



---

archive/issue_comments_431326.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-09-23T21:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30285#issuecomment-431326",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
