# Issue 29083: downgrade various sagenb deps to optional

archive/issues_029083.json:
```json
{
    "body": "CC:  slelievre fbissey\n\nthis inculdes `twisted` and `flask*` packages\n\nIssue created by migration from https://trac.sagemath.org/ticket/29320\n\n",
    "created_at": "2020-03-12T18:22:28Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "downgrade various sagenb deps to optional",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29083",
    "user": "dimpase"
}
```
CC:  slelievre fbissey

this inculdes `twisted` and `flask*` packages

Issue created by migration from https://trac.sagemath.org/ticket/29320





---

archive/issue_comments_411655.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-12T21:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411655",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_411656.json:
```json
{
    "body": "here is a branch (not tested)\n----\nNew commits:",
    "created_at": "2020-03-12T21:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411656",
    "user": "chapoton"
}
```

here is a branch (not tested)
----
New commits:



---

archive/issue_comments_411657.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-12T21:49:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411657",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_411658.json:
```json
{
    "body": "You beat me by 5 minutes :-) \nBut I've tested that this works.",
    "created_at": "2020-03-12T21:49:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411658",
    "user": "dimpase"
}
```

You beat me by 5 minutes :-) 
But I've tested that this works.



---

archive/issue_comments_411659.json:
```json
{
    "body": "Changing keywords from \"\" to \"sagenb, dependencies, optional\".",
    "created_at": "2020-03-13T18:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411659",
    "user": "slelievre"
}
```

Changing keywords from "" to "sagenb, dependencies, optional".



---

archive/issue_comments_411660.json:
```json
{
    "body": "`@`fbissey told me that terminado uses twisted, so maybe twisted should be kept as standard. (Also, it should be listed in terminado's dependencies file, if this is accurate.) Can anyone confirm?",
    "created_at": "2020-03-13T20:14:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411660",
    "user": "jhpalmieri"
}
```

`@`fbissey told me that terminado uses twisted, so maybe twisted should be kept as standard. (Also, it should be listed in terminado's dependencies file, if this is accurate.) Can anyone confirm?



---

archive/issue_comments_411661.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2020-03-13T20:14:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411661",
    "user": "jhpalmieri"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_411662.json:
```json
{
    "body": "I should have said tornado, I misread the output of my dependency query in gentoo.  That being said terminado depends on tornado.",
    "created_at": "2020-03-13T20:20:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411662",
    "user": "fbissey"
}
```

I should have said tornado, I misread the output of my dependency query in gentoo.  That being said terminado depends on tornado.



---

archive/issue_comments_411663.json:
```json
{
    "body": "the tests pass, and I manually checked dependencies to make sure that this change  leads to no standard packages missing deps. If there are undeclared deps of untested standard packages, it is a bug.",
    "created_at": "2020-03-13T20:31:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411663",
    "user": "dimpase"
}
```

the tests pass, and I manually checked dependencies to make sure that this change  leads to no standard packages missing deps. If there are undeclared deps of untested standard packages, it is a bug.



---

archive/issue_comments_411664.json:
```json
{
    "body": "Other candidates for downgrade: python_openid, speaklater",
    "created_at": "2020-03-13T20:32:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411664",
    "user": "arojas"
}
```

Other candidates for downgrade: python_openid, speaklater



---

archive/issue_comments_411665.json:
```json
{
    "body": "I think we can downgrade tornado and terminado etc. I don't know who is using them.",
    "created_at": "2020-03-13T20:50:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411665",
    "user": "dimpase"
}
```

I think we can downgrade tornado and terminado etc. I don't know who is using them.



---

archive/issue_comments_411666.json:
```json
{
    "body": "The Jupyter notebook may use these if they are available, but I don't know any details.",
    "created_at": "2020-03-13T21:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411666",
    "user": "jhpalmieri"
}
```

The Jupyter notebook may use these if they are available, but I don't know any details.



---

archive/issue_comments_411667.json:
```json
{
    "body": "Replying to [comment:10 jhpalmieri]:\n> The Jupyter notebook may use these if they are available, but I don't know any details.\n\nThey are actually mandatory https://github.com/jupyter/notebook/blob/master/setup.py#L99",
    "created_at": "2020-03-13T21:03:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411667",
    "user": "arojas"
}
```

Replying to [comment:10 jhpalmieri]:
> The Jupyter notebook may use these if they are available, but I don't know any details.

They are actually mandatory https://github.com/jupyter/notebook/blob/master/setup.py#L99



---

archive/issue_comments_411668.json:
```json
{
    "body": "Twisted, on the other hand, looks optional: see \"Prerequisites\" in https://www.tornadoweb.org/. Twisted is only used in `tornado.platform.twisted`: \"This module lets you run applications and libraries written for Twisted in a Tornado application.\"",
    "created_at": "2020-03-13T21:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411668",
    "user": "jhpalmieri"
}
```

Twisted, on the other hand, looks optional: see "Prerequisites" in https://www.tornadoweb.org/. Twisted is only used in `tornado.platform.twisted`: "This module lets you run applications and libraries written for Twisted in a Tornado application."



---

archive/issue_comments_411669.json:
```json
{
    "body": "So it looks to me like `python_openid`, `speaklater`, and `twisted` could all be removed. Re `twisted` especially, we should not only build and run tests, but also make sure the Jupyter notebook works.",
    "created_at": "2020-03-13T21:08:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411669",
    "user": "jhpalmieri"
}
```

So it looks to me like `python_openid`, `speaklater`, and `twisted` could all be removed. Re `twisted` especially, we should not only build and run tests, but also make sure the Jupyter notebook works.



---

archive/issue_comments_411670.json:
```json
{
    "body": "Replying to [comment:7 dimpase]:\n> the tests pass\n\nNot for me:\n\n```\n$ ./sage -t src/sage/combinat/root_system/cartan_type.py\nRunning doctests with ID 2020-03-13-16-27-46-31297653.\nGit branch: t/29320/29320\nUsing --optional=build,dochtml,sage\nDoctesting 1 file.\nsage -t --warn-long 69.1 src/sage/combinat/root_system/cartan_type.py\n**********************************************************************\nFile \"src/sage/combinat/root_system/cartan_type.py\", line 3069, in sage.combinat.root_system.cartan_type.CartanType_simple_finite.__setstate__\nFailed example:\n    pg_unpickleModule = unpickle_global('twisted.persisted.styles', 'unpickleModule')\nException raised:\n    Traceback (most recent call last):\n      File \"sage/misc/persist.pyx\", line 548, in sage.misc.persist.unpickle_global (build/cythonized/sage/misc/persist.c:5033)\n        __import__(module)\n    ModuleNotFoundError: No module named 'twisted'\n\n...\n```\n",
    "created_at": "2020-03-13T23:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411670",
    "user": "jhpalmieri"
}
```

Replying to [comment:7 dimpase]:
> the tests pass

Not for me:

```
$ ./sage -t src/sage/combinat/root_system/cartan_type.py
Running doctests with ID 2020-03-13-16-27-46-31297653.
Git branch: t/29320/29320
Using --optional=build,dochtml,sage
Doctesting 1 file.
sage -t --warn-long 69.1 src/sage/combinat/root_system/cartan_type.py
**********************************************************************
File "src/sage/combinat/root_system/cartan_type.py", line 3069, in sage.combinat.root_system.cartan_type.CartanType_simple_finite.__setstate__
Failed example:
    pg_unpickleModule = unpickle_global('twisted.persisted.styles', 'unpickleModule')
Exception raised:
    Traceback (most recent call last):
      File "sage/misc/persist.pyx", line 548, in sage.misc.persist.unpickle_global (build/cythonized/sage/misc/persist.c:5033)
        __import__(module)
    ModuleNotFoundError: No module named 'twisted'

...
```




---

archive/issue_comments_411671.json:
```json
{
    "body": "In brief testing, though, the Jupyter notebook looks okay.",
    "created_at": "2020-03-13T23:32:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411671",
    "user": "jhpalmieri"
}
```

In brief testing, though, the Jupyter notebook looks okay.



---

archive/issue_comments_411672.json:
```json
{
    "body": "I propose these changes:\n\n```diff\ndiff --git a/build/pkgs/python_openid/type b/build/pkgs/python_openid/type\nindex a6a7b9cd72..134d9bc32d 100644\n--- a/build/pkgs/python_openid/type\n+++ b/build/pkgs/python_openid/type\n@@ -1 +1 @@\n-standard\n+optional\ndiff --git a/build/pkgs/speaklater/type b/build/pkgs/speaklater/type\nindex a6a7b9cd72..134d9bc32d 100644\n--- a/build/pkgs/speaklater/type\n+++ b/build/pkgs/speaklater/type\n@@ -1 +1 @@\n-standard\n+optional\ndiff --git a/build/pkgs/twisted/type b/build/pkgs/twisted/type\nindex 134d9bc32d..a6a7b9cd72 100644\n--- a/build/pkgs/twisted/type\n+++ b/build/pkgs/twisted/type\n@@ -1 +1 @@\n-optional\n+standard\n```\n",
    "created_at": "2020-03-13T23:33:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411672",
    "user": "jhpalmieri"
}
```

I propose these changes:

```diff
diff --git a/build/pkgs/python_openid/type b/build/pkgs/python_openid/type
index a6a7b9cd72..134d9bc32d 100644
--- a/build/pkgs/python_openid/type
+++ b/build/pkgs/python_openid/type
@@ -1 +1 @@
-standard
+optional
diff --git a/build/pkgs/speaklater/type b/build/pkgs/speaklater/type
index a6a7b9cd72..134d9bc32d 100644
--- a/build/pkgs/speaklater/type
+++ b/build/pkgs/speaklater/type
@@ -1 +1 @@
-standard
+optional
diff --git a/build/pkgs/twisted/type b/build/pkgs/twisted/type
index 134d9bc32d..a6a7b9cd72 100644
--- a/build/pkgs/twisted/type
+++ b/build/pkgs/twisted/type
@@ -1 +1 @@
-optional
+standard
```




---

archive/issue_comments_411673.json:
```json
{
    "body": "Replying to [comment:14 jhpalmieri]:\n> Replying to [comment:7 dimpase]:\n> > the tests pass\n> \n> Not for me:\n> {{{\n> $ ./sage -t src/sage/combinat/root_system/cartan_type.py\n> ...\n> }}}\n\nAdmittedly, this is a doctest for a sort of stupid function: \"Implements the unpickling of Cartan types pickled by Sage <= 4.0.\"",
    "created_at": "2020-03-13T23:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411673",
    "user": "jhpalmieri"
}
```

Replying to [comment:14 jhpalmieri]:
> Replying to [comment:7 dimpase]:
> > the tests pass
> 
> Not for me:
> {{{
> $ ./sage -t src/sage/combinat/root_system/cartan_type.py
> ...
> }}}

Admittedly, this is a doctest for a sort of stupid function: "Implements the unpickling of Cartan types pickled by Sage <= 4.0."



---

archive/issue_comments_411674.json:
```json
{
    "body": "Replying to [comment:17 jhpalmieri]:\n> Replying to [comment:14 jhpalmieri]:\n> > Replying to [comment:7 dimpase]:\n> > > the tests pass\n> > \n> > Not for me:\n> > {{{\n> > $ ./sage -t src/sage/combinat/root_system/cartan_type.py\n> > ...\n> > }}}\n> \n> Admittedly, this is a doctest for a sort of stupid function: \"Implements the unpickling of Cartan types pickled by Sage <= 4.0.\"\n\nOops, I overlooked this, I thought that this must be irrelevant.\n\nLet's just tag it `# optional - twisted`. I don't see a need to keep `twisted` standard just cause of this.",
    "created_at": "2020-03-13T23:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411674",
    "user": "dimpase"
}
```

Replying to [comment:17 jhpalmieri]:
> Replying to [comment:14 jhpalmieri]:
> > Replying to [comment:7 dimpase]:
> > > the tests pass
> > 
> > Not for me:
> > {{{
> > $ ./sage -t src/sage/combinat/root_system/cartan_type.py
> > ...
> > }}}
> 
> Admittedly, this is a doctest for a sort of stupid function: "Implements the unpickling of Cartan types pickled by Sage <= 4.0."

Oops, I overlooked this, I thought that this must be irrelevant.

Let's just tag it `# optional - twisted`. I don't see a need to keep `twisted` standard just cause of this.



---

archive/issue_comments_411675.json:
```json
{
    "body": "Okay, ready for review. Please check the functionality of the Jupyter notebook; do we lose anything when we build without twisted?\n----\nNew commits:",
    "created_at": "2020-03-14T01:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411675",
    "user": "jhpalmieri"
}
```

Okay, ready for review. Please check the functionality of the Jupyter notebook; do we lose anything when we build without twisted?
----
New commits:



---

archive/issue_comments_411676.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-03-14T01:03:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411676",
    "user": "jhpalmieri"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_411677.json:
```json
{
    "body": "Looking at:\n\n\n```\n$ cat build/pkgs/sagenb/dependencies \n$(STARTED) | pip babel flask flask_autoindex flask_babel flask_oldsessions flask_openid mathjax twisted sphinx\n\n----------\nAll lines of this file are ignored except the first.\nIt is copied by SAGE_ROOT/build/make/install into SAGE_ROOT/build/make/Makefile.\n```\n\n\nAre there other dependencies to be removed from being standard? like babel ?",
    "created_at": "2020-03-15T08:23:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411677",
    "user": "slabbe"
}
```

Looking at:


```
$ cat build/pkgs/sagenb/dependencies 
$(STARTED) | pip babel flask flask_autoindex flask_babel flask_oldsessions flask_openid mathjax twisted sphinx

----------
All lines of this file are ignored except the first.
It is copied by SAGE_ROOT/build/make/install into SAGE_ROOT/build/make/Makefile.
```


Are there other dependencies to be removed from being standard? like babel ?



---

archive/issue_comments_411678.json:
```json
{
    "body": "`babel` should actually be in the list removed from standard I believe. Thanks for bringing it up. `twisted` seems a bit ambiguous but `mathjax` and `sphinx` should definitely stay standard.",
    "created_at": "2020-03-15T08:57:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411678",
    "user": "fbissey"
}
```

`babel` should actually be in the list removed from standard I believe. Thanks for bringing it up. `twisted` seems a bit ambiguous but `mathjax` and `sphinx` should definitely stay standard.



---

archive/issue_comments_411679.json:
```json
{
    "body": "`babel` is listed as a dependency of Sphinx, so it should be kept.",
    "created_at": "2020-03-15T18:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411679",
    "user": "jhpalmieri"
}
```

`babel` is listed as a dependency of Sphinx, so it should be kept.



---

archive/issue_comments_411680.json:
```json
{
    "body": "Replying to [comment:24 jhpalmieri]:\n> `babel` is listed as a dependency of Sphinx, so it should be kept.\n\nAh! Sorry, my mistake.",
    "created_at": "2020-03-15T18:57:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411680",
    "user": "fbissey"
}
```

Replying to [comment:24 jhpalmieri]:
> `babel` is listed as a dependency of Sphinx, so it should be kept.

Ah! Sorry, my mistake.



---

archive/issue_comments_411681.json:
```json
{
    "body": "Looks good, but we need to take care of the dependency of that pickle on twisted (on a followup ticket).",
    "created_at": "2020-03-16T16:08:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411681",
    "user": "dimpase"
}
```

Looks good, but we need to take care of the dependency of that pickle on twisted (on a followup ticket).



---

archive/issue_comments_411682.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-16T16:08:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411682",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_411683.json:
```json
{
    "body": "I don't understand pickling, but I am tempted to make this change:\n\n```diff\ndiff --git a/src/sage/combinat/root_system/cartan_type.py b/src/sage/combinat/root_system/cartan_type.py\nindex 202e1abe11..3cac952462 100644\n--- a/src/sage/combinat/root_system/cartan_type.py\n+++ b/src/sage/combinat/root_system/cartan_type.py\n@@ -3066,10 +3066,10 @@ class CartanType_simple_finite(object):\n \n             sage: pg_CartanType_simple_finite = unpickle_global('sage.combinat.root_system.cartan_type', 'CartanType_simple_finite')\n             sage: si1 = unpickle_newobj(pg_CartanType_simple_finite, ())\n-            sage: pg_unpickleModule = unpickle_global('twisted.persisted.styles', 'unpickleModule')\n+            sage: from sage.misc.fpickle import unpickleModule\n             sage: pg_make_integer = unpickle_global('sage.rings.integer', 'make_integer')\n             sage: si2 = pg_make_integer('4')\n-            sage: unpickle_build(si1, {'tools':pg_unpickleModule('sage.combinat.root_system.type_A'), 't':['A', si2], 'letter':'A', 'n':si2})\n+            sage: unpickle_build(si1, {'tools':unpickleModule('sage.combinat.root_system.type_A'), 't':['A', si2], 'letter':'A', 'n':si2})\n \n             sage: si1\n             ['A', 4]\n```\n\nI'm building and running tests now.",
    "created_at": "2020-03-16T21:11:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411683",
    "user": "jhpalmieri"
}
```

I don't understand pickling, but I am tempted to make this change:

```diff
diff --git a/src/sage/combinat/root_system/cartan_type.py b/src/sage/combinat/root_system/cartan_type.py
index 202e1abe11..3cac952462 100644
--- a/src/sage/combinat/root_system/cartan_type.py
+++ b/src/sage/combinat/root_system/cartan_type.py
@@ -3066,10 +3066,10 @@ class CartanType_simple_finite(object):
 
             sage: pg_CartanType_simple_finite = unpickle_global('sage.combinat.root_system.cartan_type', 'CartanType_simple_finite')
             sage: si1 = unpickle_newobj(pg_CartanType_simple_finite, ())
-            sage: pg_unpickleModule = unpickle_global('twisted.persisted.styles', 'unpickleModule')
+            sage: from sage.misc.fpickle import unpickleModule
             sage: pg_make_integer = unpickle_global('sage.rings.integer', 'make_integer')
             sage: si2 = pg_make_integer('4')
-            sage: unpickle_build(si1, {'tools':pg_unpickleModule('sage.combinat.root_system.type_A'), 't':['A', si2], 'letter':'A', 'n':si2})
+            sage: unpickle_build(si1, {'tools':unpickleModule('sage.combinat.root_system.type_A'), 't':['A', si2], 'letter':'A', 'n':si2})
 
             sage: si1
             ['A', 4]
```

I'm building and running tests now.



---

archive/issue_comments_411684.json:
```json
{
    "body": "See #29348 for the pickling issue.",
    "created_at": "2020-03-16T22:19:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411684",
    "user": "jhpalmieri"
}
```

See #29348 for the pickling issue.



---

archive/issue_comments_411685.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-18T22:40:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411685",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_411686.json:
```json
{
    "body": "Followup at #29752: werkzeug can be optional, too.",
    "created_at": "2020-05-28T17:20:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29083#issuecomment-411686",
    "user": "jhpalmieri"
}
```

Followup at #29752: werkzeug can be optional, too.
