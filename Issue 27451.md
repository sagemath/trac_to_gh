# Issue 27451: matrix_from_columns() assertion failure

Issue created by migration from https://trac.sagemath.org/ticket/27688

Original creator: jdemeyer

Original creation time: 2019-04-17 08:35:53

CC:  fbissey slelievre

In `src/sage/matrix/matrix1.pyx`, the `matrix_from_columns()` method has the following pieces:

```
        if not isinstance(columns, (list, tuple)):
            columns = list(columns)

        ...

        ncols = PyList_GET_SIZE(columns)
```


Note how `PyList_GET_SIZE` may be called on a `tuple`. This is invalid and causes assertion failures with Python 3.7.


---

Comment by jdemeyer created at 2019-04-17 11:01:28

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2019-04-17 11:01:28

New commits:


---

Comment by fbissey created at 2019-04-17 11:05:45

I'll test in the morning. Is the stuff in `rings/number_field/totallyreal_rel.py` supposed to be there?


---

Comment by git created at 2019-04-17 11:21:48

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2019-04-17 11:22:59

Replying to [comment:5 fbissey]:
> Is the stuff in `rings/number_field/totallyreal_rel.py` supposed to be there?

No. I fixed that.


---

Comment by fbissey created at 2019-04-17 22:12:19

Changing status from needs_review to positive_review.


---

Comment by fbissey created at 2019-04-17 22:12:19

I was half expecting to find further problems building the docs but it all went smoothly to the end :)


---

Comment by vbraun created at 2019-04-27 17:44:38

Resolution: fixed
