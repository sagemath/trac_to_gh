# Issue 25645: Still occasional fork error while building Python packages on Cygwin

archive/issues_025645.json:
```json
{
    "body": "I have not seen an error like this happen during normal development in a while, but on my Windows patchbot a recent build from scratch (for an \"unsafe\" ticket) resulted in:\n\n\n```\nsage-logger -p 'sage-spkg  backports_functools_lru_cache-1.4' '/tmp/tmpgsczYO-sage-git-temp-25188/logs/pkgs/backports_functools_lru_cache-1.4.log'\n[babel-2.5.1] Using cached file /tmp/tmpgsczYO-sage-git-temp-25188/upstream/Babel-2.5.1.tar.gz\n[babel-2.5.1] babel-2.5.1\n[babel-2.5.1] ====================================================\n[babel-2.5.1] Setting up build directory for babel-2.5.1\n[backports_functools_lru_cache-1.4] Found local metadata for backports_functools_lru_cache-1.4\n[backports_functools_lru_cache-1.4] Using cached file /tmp/tmpgsczYO-sage-git-temp-25188/upstream/backports.functools_lru_cache-1.4.tar.gz\n[backports_functools_lru_cache-1.4] backports_functools_lru_cache-1.4\n[backports_functools_lru_cache-1.4] ====================================================\n[backports_functools_lru_cache-1.4] Setting up build directory for backports_functools_lru_cache-1.4\n[backports_functools_lru_cache-1.4] Finished extraction\n[backports_functools_lru_cache-1.4] No patch files found in ../patches\n[backports_functools_lru_cache-1.4] ****************************************************\n[backports_functools_lru_cache-1.4] Host system:\n[backports_functools_lru_cache-1.4] CYGWIN_NT-10.0 windows-10-prof 2.8.0(0.309/5/3) 2017-04-01 20:47 x86_64 Cygwin\n[backports_functools_lru_cache-1.4] ****************************************************\n[backports_functools_lru_cache-1.4] C compiler: gcc\n[backports_functools_lru_cache-1.4] C compiler version:\n[backports_functools_lru_cache-1.4] Using built-in specs.\n[backports_functools_lru_cache-1.4] COLLECT_GCC=/usr/bin/gcc\n[backports_functools_lru_cache-1.4] COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-pc-cygwin/5.4.0/lto-wrapper.exe\n[backports_functools_lru_cache-1.4] Target: x86_64-pc-cygwin\n[backports_functools_lru_cache-1.4] Configured with: /cygdrive/i/szsz/tmpp/gcc/gcc-5.4.0-1.x86_64/src/gcc-5.4.0/configure --srcdir=/cygdrive/i/szsz/tmpp/gcc/gcc-5.4.0-1.x86_64/src/gcc-5.4.0 --prefix=/usr --exec-prefix=/usr --localstatedir=/var --sysconfdir=/etc --docdir=/usr/share/doc/gcc --htmldir=/usr/share/doc/gcc/html -C --build=x86_64-pc-cygwin --host=x86_64-pc-cygwin --target=x86_64-pc-cygwin --without-libiconv-prefix --without-libintl-prefix --libexecdir=/usr/lib --enable-shared --enable-shared-libgcc --enable-static --enable-version-specific-runtime-libs --enable-bootstrap --enable-__cxa_atexit --with-dwarf2 --with-tune=generic --enable-languages=ada,c,c++,fortran,lto,objc,obj-c++ --enable-graphite --enable-threads=posix --enable-libatomic --enable-libcilkrts --enable-libgomp --enable-libitm --enable-libquadmath --enable-libquadmath-support --enable-libssp --enable-libada --enable-libgcj-sublibs --disable-java-awt --disable-symvers --with-ecj-jar=/usr/share/java/ecj.jar --with-gnu-ld --with-gnu-as --with-cloog-include=/usr/include/cloog-isl --without-libiconv-prefix --without-libintl-prefix --with-system-zlib --enable-linker-build-id --with-default-libstdcxx-abi=gcc4-compatible\n[backports_functools_lru_cache-1.4] Thread model: posix\n[backports_functools_lru_cache-1.4] gcc version 5.4.0 (GCC) \n[backports_functools_lru_cache-1.4] ****************************************************\n[backports_functools_lru_cache-1.4] No record that 'backports_functools_lru_cache' was ever installed; skipping uninstall\n[backports_functools_lru_cache-1.4] Installing backports_functools_lru_cache-1.4\n[backports_functools_lru_cache-1.4] Installing package backports.functools_lru_cache using pip2\n[babel-2.5.1] Finished extraction\n[babel-2.5.1] No patch files found in ../patches\n[babel-2.5.1] ****************************************************\n[babel-2.5.1] Host system:\n[babel-2.5.1] CYGWIN_NT-10.0 windows-10-prof 2.8.0(0.309/5/3) 2017-04-01 20:47 x86_64 Cygwin\n[babel-2.5.1] ****************************************************\n[babel-2.5.1] C compiler: gcc\n[babel-2.5.1] C compiler version:\n[babel-2.5.1] Using built-in specs.\n[babel-2.5.1] COLLECT_GCC=/usr/bin/gcc\n[babel-2.5.1] COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-pc-cygwin/5.4.0/lto-wrapper.exe\n[babel-2.5.1] Target: x86_64-pc-cygwin\n[babel-2.5.1] Configured with: /cygdrive/i/szsz/tmpp/gcc/gcc-5.4.0-1.x86_64/src/gcc-5.4.0/configure --srcdir=/cygdrive/i/szsz/tmpp/gcc/gcc-5.4.0-1.x86_64/src/gcc-5.4.0 --prefix=/usr --exec-prefix=/usr --localstatedir=/var --sysconfdir=/etc --docdir=/usr/share/doc/gcc --htmldir=/usr/share/doc/gcc/html -C --build=x86_64-pc-cygwin --host=x86_64-pc-cygwin --target=x86_64-pc-cygwin --without-libiconv-prefix --without-libintl-prefix --libexecdir=/usr/lib --enable-shared --enable-shared-libgcc --enable-static --enable-version-specific-runtime-libs --enable-bootstrap --enable-__cxa_atexit --with-dwarf2 --with-tune=generic --enable-languages=ada,c,c++,fortran,lto,objc,obj-c++ --enable-graphite --enable-threads=posix --enable-libatomic --enable-libcilkrts --enable-libgomp --enable-libitm --enable-libquadmath --enable-libquadmath-support --enable-libssp --enable-libada --enable-libgcj-sublibs --disable-java-awt --disable-symvers --with-ecj-jar=/usr/share/java/ecj.jar --with-gnu-ld --with-gnu-as --with-cloog-include=/usr/include/cloog-isl --without-libiconv-prefix --without-libintl-prefix --with-system-zlib --enable-linker-build-id --with-default-libstdcxx-abi=gcc4-compatible\n[babel-2.5.1] Thread model: posix\n[babel-2.5.1] gcc version 5.4.0 (GCC) \n[babel-2.5.1] ****************************************************\n[backports_functools_lru_cache-1.4] Ignoring indexes: https://pypi.python.org/simple\n[backports_functools_lru_cache-1.4] Processing /tmp/tmpgsczYO-sage-git-temp-25188/local/var/tmp/sage/build/backports_functools_lru_cache-1.4/src\n[backports_functools_lru_cache-1.4]   Running setup.py (path:/tmp/pip-fXt2gd-build/setup.py) egg_info for package from file:///tmp/tmpgsczYO-sage-git-temp-25188/local/var/tmp/sage/build/backports_functools_lru_cache-1.4/src\n[backports_functools_lru_cache-1.4]     Running command python setup.py egg_info\n[babel-2.5.1] No record that 'babel' was ever installed; skipping uninstall\n[babel-2.5.1] Installing babel-2.5.1\n[backports_functools_lru_cache-1.4]     /tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/setuptools/extern/__init__.py:1: UserWarning: Module backports was already imported from None, but /tmp/pip-fXt2gd-build is being added to sys.path\n[backports_functools_lru_cache-1.4]       from pkg_resources.extern import VendorImporter\n[backports_functools_lru_cache-1.4]     running egg_info\n[backports_functools_lru_cache-1.4]     creating pip-egg-info/backports.functools_lru_cache.egg-info\n[backports_functools_lru_cache-1.4]     writing requirements to pip-egg-info/backports.functools_lru_cache.egg-info/requires.txt\n[backports_functools_lru_cache-1.4]     writing pip-egg-info/backports.functools_lru_cache.egg-info/PKG-INFO\n[backports_functools_lru_cache-1.4]     writing top-level names to pip-egg-info/backports.functools_lru_cache.egg-info/top_level.txt\n[backports_functools_lru_cache-1.4]     writing dependency_links to pip-egg-info/backports.functools_lru_cache.egg-info/dependency_links.txt\n[backports_functools_lru_cache-1.4]     writing manifest file 'pip-egg-info/backports.functools_lru_cache.egg-info/SOURCES.txt'\n[backports_functools_lru_cache-1.4]     reading manifest file 'pip-egg-info/backports.functools_lru_cache.egg-info/SOURCES.txt'\n[backports_functools_lru_cache-1.4]     writing manifest file 'pip-egg-info/backports.functools_lru_cache.egg-info/SOURCES.txt'\n[backports_functools_lru_cache-1.4]   Source in /tmp/pip-fXt2gd-build has version 1.4, which satisfies requirement backports.functools-lru-cache==1.4 from file:///tmp/tmpgsczYO-sage-git-temp-25188/local/var/tmp/sage/build/backports_functools_lru_cache-1.4/src\n[backports_functools_lru_cache-1.4] Installing collected packages: backports.functools-lru-cache\n[backports_functools_lru_cache-1.4]   Running setup.py install for backports.functools-lru-cache: started\n[backports_functools_lru_cache-1.4]     Running command /tmp/tmpgsczYO-sage-git-temp-25188/local/bin/python2 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-fXt2gd-build/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" --no-user-cfg install --record /tmp/pip-IYHOnE-record/install-record.txt --single-version-externally-managed --compile\n[backports_functools_lru_cache-1.4]     /tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/setuptools/extern/__init__.py:1: UserWarning: Module backports was already imported from None, but /tmp/pip-fXt2gd-build is being added to sys.path\n[backports_functools_lru_cache-1.4]       from pkg_resources.extern import VendorImporter\n[backports_functools_lru_cache-1.4]     running install\n[backports_functools_lru_cache-1.4]     running build\n[backports_functools_lru_cache-1.4]     running build_py\n[backports_functools_lru_cache-1.4]     creating build\n[backports_functools_lru_cache-1.4]     creating build/lib\n[backports_functools_lru_cache-1.4]     creating build/lib/backports\n[backports_functools_lru_cache-1.4]     copying backports/functools_lru_cache.py -> build/lib/backports\n[backports_functools_lru_cache-1.4]     copying backports/__init__.py -> build/lib/backports\n[backports_functools_lru_cache-1.4]     running egg_info\n[backports_functools_lru_cache-1.4]     writing requirements to backports.functools_lru_cache.egg-info/requires.txt\n[backports_functools_lru_cache-1.4]     writing backports.functools_lru_cache.egg-info/PKG-INFO\n[backports_functools_lru_cache-1.4]     writing top-level names to backports.functools_lru_cache.egg-info/top_level.txt\n[backports_functools_lru_cache-1.4]     writing dependency_links to backports.functools_lru_cache.egg-info/dependency_links.txt\n[backports_functools_lru_cache-1.4]     reading manifest file 'backports.functools_lru_cache.egg-info/SOURCES.txt'\n[backports_functools_lru_cache-1.4]     writing manifest file 'backports.functools_lru_cache.egg-info/SOURCES.txt'\n[backports_functools_lru_cache-1.4]     running install_lib\n[backports_functools_lru_cache-1.4]     copying build/lib/backports/functools_lru_cache.py -> /tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/backports\n[backports_functools_lru_cache-1.4]     copying build/lib/backports/__init__.py -> /tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/backports\n[backports_functools_lru_cache-1.4]     byte-compiling /tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/backports/functools_lru_cache.py to functools_lru_cache.pyc\n[backports_functools_lru_cache-1.4]     byte-compiling /tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/backports/__init__.py to __init__.pyc\n[backports_functools_lru_cache-1.4]     running install_egg_info\n[backports_functools_lru_cache-1.4]     Copying backports.functools_lru_cache.egg-info to /tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/backports.functools_lru_cache-1.4-py2.7.egg-info\n[backports_functools_lru_cache-1.4]     running install_scripts\n[backports_functools_lru_cache-1.4]     writing list of installed files to '/tmp/pip-IYHOnE-record/install-record.txt'\n[backports_functools_lru_cache-1.4]     Running setup.py install for backports.functools-lru-cache: finished with status 'done'\n[backports_functools_lru_cache-1.4]   Removing source in /tmp/pip-fXt2gd-build\n[backports_functools_lru_cache-1.4] Successfully installed backports.functools-lru-cache-1.4\n[backports_functools_lru_cache-1.4] Cleaning up...\n[backports_functools_lru_cache-1.4] \n[backports_functools_lru_cache-1.4] real\t0m10.576s\n[backports_functools_lru_cache-1.4] user\t0m2.715s\n[backports_functools_lru_cache-1.4] sys\t0m4.551s\n[backports_functools_lru_cache-1.4] Copying package files from temporary location /tmp/tmpgsczYO-sage-git-temp-25188/local/var/tmp/sage/build/backports_functools_lru_cache-1.4/inst to /tmp/tmpgsczYO-sage-git-temp-25188/local\n[backports_functools_lru_cache-1.4] Waiting for rebase lock\n[babel-2.5.1] Installing package Babel using pip2\n[babel-2.5.1] Ignoring indexes: https://pypi.python.org/simple\n[babel-2.5.1] Processing /tmp/tmpgsczYO-sage-git-temp-25188/local/var/tmp/sage/build/babel-2.5.1/src\n[babel-2.5.1]   Running setup.py (path:/tmp/pip-tINTen-build/setup.py) egg_info for package from file:///tmp/tmpgsczYO-sage-git-temp-25188/local/var/tmp/sage/build/babel-2.5.1/src\n[babel-2.5.1]     Running command python setup.py egg_info\n[babel-2.5.1]       8 [main] python2.7 3436 child_info_fork::abort: address space needed by 'select.dll' (0x170000) is already occupied\n[babel-2.5.1]     Error [Errno 11] Resource temporarily unavailable while executing command python setup.py egg_info\n[babel-2.5.1] Cleaning up...\n[babel-2.5.1] Exception:\n[babel-2.5.1] Traceback (most recent call last):\n[babel-2.5.1]   File \"/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/pip/basecommand.py\", line 215, in main\n[babel-2.5.1]     status = self.run(options, args)\n[babel-2.5.1]   File \"/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/pip/commands/install.py\", line 324, in run\n[babel-2.5.1]     requirement_set.prepare_files(finder)\n[babel-2.5.1]   File \"/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/pip/req/req_set.py\", line 380, in prepare_files\n[babel-2.5.1]     ignore_dependencies=self.ignore_dependencies))\n[babel-2.5.1]   File \"/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/pip/req/req_set.py\", line 634, in _prepare_file\n[babel-2.5.1]     abstract_dist.prep_for_dist()\n[babel-2.5.1]   File \"/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/pip/req/req_set.py\", line 129, in prep_for_dist\n[babel-2.5.1]     self.req_to_install.run_egg_info()\n[babel-2.5.1]   File \"/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/pip/req/req_install.py\", line 439, in run_egg_info\n[babel-2.5.1]     command_desc='python setup.py egg_info')\n[babel-2.5.1]   File \"/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/pip/utils/__init__.py\", line 667, in call_subprocess\n[babel-2.5.1]     cwd=cwd, env=env)\n[babel-2.5.1]   File \"/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/subprocess.py\", line 394, in __init__\n[babel-2.5.1]     errread, errwrite)\n[babel-2.5.1]   File \"/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/subprocess.py\", line 938, in _execute_child\n[babel-2.5.1]     self.pid = os.fork()\n[babel-2.5.1] OSError: [Errno 11] Resource temporarily unavailable\n[babel-2.5.1] Error: installing with pip2 failed\n[babel-2.5.1] ********************************************************************************\n[babel-2.5.1] Error installing babel-2.5.1\n[babel-2.5.1] ********************************************************************************\n[babel-2.5.1] \n[babel-2.5.1] real\t0m20.244s\n[babel-2.5.1] user\t0m2.762s\n[babel-2.5.1] sys\t0m5.332s\n[babel-2.5.1] ************************************************************************\n[babel-2.5.1] Error installing package babel-2.5.1\n[babel-2.5.1] ************************************************************************\n```\n\n\nThis is with just SAGE_NUM_THREADS=2.  The previous packages to build before it were pynac and pycygwin, both of which built successfully.\n\nPrevious attempts to fix this have included tickets like #24647.  It's not at all clear why this would have still happened on the patchbot.  It's possible it was just a freak accident.  But I'll keep my eye out...\n\nIssue created by migration from https://trac.sagemath.org/ticket/25882\n\n",
    "created_at": "2018-07-19T09:20:44Z",
    "labels": [
        "porting: Cygwin",
        "major",
        "bug"
    ],
    "title": "Still occasional fork error while building Python packages on Cygwin",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25645",
    "user": "embray"
}
```
I have not seen an error like this happen during normal development in a while, but on my Windows patchbot a recent build from scratch (for an "unsafe" ticket) resulted in:


```
sage-logger -p 'sage-spkg  backports_functools_lru_cache-1.4' '/tmp/tmpgsczYO-sage-git-temp-25188/logs/pkgs/backports_functools_lru_cache-1.4.log'
[babel-2.5.1] Using cached file /tmp/tmpgsczYO-sage-git-temp-25188/upstream/Babel-2.5.1.tar.gz
[babel-2.5.1] babel-2.5.1
[babel-2.5.1] ====================================================
[babel-2.5.1] Setting up build directory for babel-2.5.1
[backports_functools_lru_cache-1.4] Found local metadata for backports_functools_lru_cache-1.4
[backports_functools_lru_cache-1.4] Using cached file /tmp/tmpgsczYO-sage-git-temp-25188/upstream/backports.functools_lru_cache-1.4.tar.gz
[backports_functools_lru_cache-1.4] backports_functools_lru_cache-1.4
[backports_functools_lru_cache-1.4] ====================================================
[backports_functools_lru_cache-1.4] Setting up build directory for backports_functools_lru_cache-1.4
[backports_functools_lru_cache-1.4] Finished extraction
[backports_functools_lru_cache-1.4] No patch files found in ../patches
[backports_functools_lru_cache-1.4] ****************************************************
[backports_functools_lru_cache-1.4] Host system:
[backports_functools_lru_cache-1.4] CYGWIN_NT-10.0 windows-10-prof 2.8.0(0.309/5/3) 2017-04-01 20:47 x86_64 Cygwin
[backports_functools_lru_cache-1.4] ****************************************************
[backports_functools_lru_cache-1.4] C compiler: gcc
[backports_functools_lru_cache-1.4] C compiler version:
[backports_functools_lru_cache-1.4] Using built-in specs.
[backports_functools_lru_cache-1.4] COLLECT_GCC=/usr/bin/gcc
[backports_functools_lru_cache-1.4] COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-pc-cygwin/5.4.0/lto-wrapper.exe
[backports_functools_lru_cache-1.4] Target: x86_64-pc-cygwin
[backports_functools_lru_cache-1.4] Configured with: /cygdrive/i/szsz/tmpp/gcc/gcc-5.4.0-1.x86_64/src/gcc-5.4.0/configure --srcdir=/cygdrive/i/szsz/tmpp/gcc/gcc-5.4.0-1.x86_64/src/gcc-5.4.0 --prefix=/usr --exec-prefix=/usr --localstatedir=/var --sysconfdir=/etc --docdir=/usr/share/doc/gcc --htmldir=/usr/share/doc/gcc/html -C --build=x86_64-pc-cygwin --host=x86_64-pc-cygwin --target=x86_64-pc-cygwin --without-libiconv-prefix --without-libintl-prefix --libexecdir=/usr/lib --enable-shared --enable-shared-libgcc --enable-static --enable-version-specific-runtime-libs --enable-bootstrap --enable-__cxa_atexit --with-dwarf2 --with-tune=generic --enable-languages=ada,c,c++,fortran,lto,objc,obj-c++ --enable-graphite --enable-threads=posix --enable-libatomic --enable-libcilkrts --enable-libgomp --enable-libitm --enable-libquadmath --enable-libquadmath-support --enable-libssp --enable-libada --enable-libgcj-sublibs --disable-java-awt --disable-symvers --with-ecj-jar=/usr/share/java/ecj.jar --with-gnu-ld --with-gnu-as --with-cloog-include=/usr/include/cloog-isl --without-libiconv-prefix --without-libintl-prefix --with-system-zlib --enable-linker-build-id --with-default-libstdcxx-abi=gcc4-compatible
[backports_functools_lru_cache-1.4] Thread model: posix
[backports_functools_lru_cache-1.4] gcc version 5.4.0 (GCC) 
[backports_functools_lru_cache-1.4] ****************************************************
[backports_functools_lru_cache-1.4] No record that 'backports_functools_lru_cache' was ever installed; skipping uninstall
[backports_functools_lru_cache-1.4] Installing backports_functools_lru_cache-1.4
[backports_functools_lru_cache-1.4] Installing package backports.functools_lru_cache using pip2
[babel-2.5.1] Finished extraction
[babel-2.5.1] No patch files found in ../patches
[babel-2.5.1] ****************************************************
[babel-2.5.1] Host system:
[babel-2.5.1] CYGWIN_NT-10.0 windows-10-prof 2.8.0(0.309/5/3) 2017-04-01 20:47 x86_64 Cygwin
[babel-2.5.1] ****************************************************
[babel-2.5.1] C compiler: gcc
[babel-2.5.1] C compiler version:
[babel-2.5.1] Using built-in specs.
[babel-2.5.1] COLLECT_GCC=/usr/bin/gcc
[babel-2.5.1] COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-pc-cygwin/5.4.0/lto-wrapper.exe
[babel-2.5.1] Target: x86_64-pc-cygwin
[babel-2.5.1] Configured with: /cygdrive/i/szsz/tmpp/gcc/gcc-5.4.0-1.x86_64/src/gcc-5.4.0/configure --srcdir=/cygdrive/i/szsz/tmpp/gcc/gcc-5.4.0-1.x86_64/src/gcc-5.4.0 --prefix=/usr --exec-prefix=/usr --localstatedir=/var --sysconfdir=/etc --docdir=/usr/share/doc/gcc --htmldir=/usr/share/doc/gcc/html -C --build=x86_64-pc-cygwin --host=x86_64-pc-cygwin --target=x86_64-pc-cygwin --without-libiconv-prefix --without-libintl-prefix --libexecdir=/usr/lib --enable-shared --enable-shared-libgcc --enable-static --enable-version-specific-runtime-libs --enable-bootstrap --enable-__cxa_atexit --with-dwarf2 --with-tune=generic --enable-languages=ada,c,c++,fortran,lto,objc,obj-c++ --enable-graphite --enable-threads=posix --enable-libatomic --enable-libcilkrts --enable-libgomp --enable-libitm --enable-libquadmath --enable-libquadmath-support --enable-libssp --enable-libada --enable-libgcj-sublibs --disable-java-awt --disable-symvers --with-ecj-jar=/usr/share/java/ecj.jar --with-gnu-ld --with-gnu-as --with-cloog-include=/usr/include/cloog-isl --without-libiconv-prefix --without-libintl-prefix --with-system-zlib --enable-linker-build-id --with-default-libstdcxx-abi=gcc4-compatible
[babel-2.5.1] Thread model: posix
[babel-2.5.1] gcc version 5.4.0 (GCC) 
[babel-2.5.1] ****************************************************
[backports_functools_lru_cache-1.4] Ignoring indexes: https://pypi.python.org/simple
[backports_functools_lru_cache-1.4] Processing /tmp/tmpgsczYO-sage-git-temp-25188/local/var/tmp/sage/build/backports_functools_lru_cache-1.4/src
[backports_functools_lru_cache-1.4]   Running setup.py (path:/tmp/pip-fXt2gd-build/setup.py) egg_info for package from file:///tmp/tmpgsczYO-sage-git-temp-25188/local/var/tmp/sage/build/backports_functools_lru_cache-1.4/src
[backports_functools_lru_cache-1.4]     Running command python setup.py egg_info
[babel-2.5.1] No record that 'babel' was ever installed; skipping uninstall
[babel-2.5.1] Installing babel-2.5.1
[backports_functools_lru_cache-1.4]     /tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/setuptools/extern/__init__.py:1: UserWarning: Module backports was already imported from None, but /tmp/pip-fXt2gd-build is being added to sys.path
[backports_functools_lru_cache-1.4]       from pkg_resources.extern import VendorImporter
[backports_functools_lru_cache-1.4]     running egg_info
[backports_functools_lru_cache-1.4]     creating pip-egg-info/backports.functools_lru_cache.egg-info
[backports_functools_lru_cache-1.4]     writing requirements to pip-egg-info/backports.functools_lru_cache.egg-info/requires.txt
[backports_functools_lru_cache-1.4]     writing pip-egg-info/backports.functools_lru_cache.egg-info/PKG-INFO
[backports_functools_lru_cache-1.4]     writing top-level names to pip-egg-info/backports.functools_lru_cache.egg-info/top_level.txt
[backports_functools_lru_cache-1.4]     writing dependency_links to pip-egg-info/backports.functools_lru_cache.egg-info/dependency_links.txt
[backports_functools_lru_cache-1.4]     writing manifest file 'pip-egg-info/backports.functools_lru_cache.egg-info/SOURCES.txt'
[backports_functools_lru_cache-1.4]     reading manifest file 'pip-egg-info/backports.functools_lru_cache.egg-info/SOURCES.txt'
[backports_functools_lru_cache-1.4]     writing manifest file 'pip-egg-info/backports.functools_lru_cache.egg-info/SOURCES.txt'
[backports_functools_lru_cache-1.4]   Source in /tmp/pip-fXt2gd-build has version 1.4, which satisfies requirement backports.functools-lru-cache==1.4 from file:///tmp/tmpgsczYO-sage-git-temp-25188/local/var/tmp/sage/build/backports_functools_lru_cache-1.4/src
[backports_functools_lru_cache-1.4] Installing collected packages: backports.functools-lru-cache
[backports_functools_lru_cache-1.4]   Running setup.py install for backports.functools-lru-cache: started
[backports_functools_lru_cache-1.4]     Running command /tmp/tmpgsczYO-sage-git-temp-25188/local/bin/python2 -u -c "import setuptools, tokenize;__file__='/tmp/pip-fXt2gd-build/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\r\n', '\n');f.close();exec(compile(code, __file__, 'exec'))" --no-user-cfg install --record /tmp/pip-IYHOnE-record/install-record.txt --single-version-externally-managed --compile
[backports_functools_lru_cache-1.4]     /tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/setuptools/extern/__init__.py:1: UserWarning: Module backports was already imported from None, but /tmp/pip-fXt2gd-build is being added to sys.path
[backports_functools_lru_cache-1.4]       from pkg_resources.extern import VendorImporter
[backports_functools_lru_cache-1.4]     running install
[backports_functools_lru_cache-1.4]     running build
[backports_functools_lru_cache-1.4]     running build_py
[backports_functools_lru_cache-1.4]     creating build
[backports_functools_lru_cache-1.4]     creating build/lib
[backports_functools_lru_cache-1.4]     creating build/lib/backports
[backports_functools_lru_cache-1.4]     copying backports/functools_lru_cache.py -> build/lib/backports
[backports_functools_lru_cache-1.4]     copying backports/__init__.py -> build/lib/backports
[backports_functools_lru_cache-1.4]     running egg_info
[backports_functools_lru_cache-1.4]     writing requirements to backports.functools_lru_cache.egg-info/requires.txt
[backports_functools_lru_cache-1.4]     writing backports.functools_lru_cache.egg-info/PKG-INFO
[backports_functools_lru_cache-1.4]     writing top-level names to backports.functools_lru_cache.egg-info/top_level.txt
[backports_functools_lru_cache-1.4]     writing dependency_links to backports.functools_lru_cache.egg-info/dependency_links.txt
[backports_functools_lru_cache-1.4]     reading manifest file 'backports.functools_lru_cache.egg-info/SOURCES.txt'
[backports_functools_lru_cache-1.4]     writing manifest file 'backports.functools_lru_cache.egg-info/SOURCES.txt'
[backports_functools_lru_cache-1.4]     running install_lib
[backports_functools_lru_cache-1.4]     copying build/lib/backports/functools_lru_cache.py -> /tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/backports
[backports_functools_lru_cache-1.4]     copying build/lib/backports/__init__.py -> /tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/backports
[backports_functools_lru_cache-1.4]     byte-compiling /tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/backports/functools_lru_cache.py to functools_lru_cache.pyc
[backports_functools_lru_cache-1.4]     byte-compiling /tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/backports/__init__.py to __init__.pyc
[backports_functools_lru_cache-1.4]     running install_egg_info
[backports_functools_lru_cache-1.4]     Copying backports.functools_lru_cache.egg-info to /tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/backports.functools_lru_cache-1.4-py2.7.egg-info
[backports_functools_lru_cache-1.4]     running install_scripts
[backports_functools_lru_cache-1.4]     writing list of installed files to '/tmp/pip-IYHOnE-record/install-record.txt'
[backports_functools_lru_cache-1.4]     Running setup.py install for backports.functools-lru-cache: finished with status 'done'
[backports_functools_lru_cache-1.4]   Removing source in /tmp/pip-fXt2gd-build
[backports_functools_lru_cache-1.4] Successfully installed backports.functools-lru-cache-1.4
[backports_functools_lru_cache-1.4] Cleaning up...
[backports_functools_lru_cache-1.4] 
[backports_functools_lru_cache-1.4] real	0m10.576s
[backports_functools_lru_cache-1.4] user	0m2.715s
[backports_functools_lru_cache-1.4] sys	0m4.551s
[backports_functools_lru_cache-1.4] Copying package files from temporary location /tmp/tmpgsczYO-sage-git-temp-25188/local/var/tmp/sage/build/backports_functools_lru_cache-1.4/inst to /tmp/tmpgsczYO-sage-git-temp-25188/local
[backports_functools_lru_cache-1.4] Waiting for rebase lock
[babel-2.5.1] Installing package Babel using pip2
[babel-2.5.1] Ignoring indexes: https://pypi.python.org/simple
[babel-2.5.1] Processing /tmp/tmpgsczYO-sage-git-temp-25188/local/var/tmp/sage/build/babel-2.5.1/src
[babel-2.5.1]   Running setup.py (path:/tmp/pip-tINTen-build/setup.py) egg_info for package from file:///tmp/tmpgsczYO-sage-git-temp-25188/local/var/tmp/sage/build/babel-2.5.1/src
[babel-2.5.1]     Running command python setup.py egg_info
[babel-2.5.1]       8 [main] python2.7 3436 child_info_fork::abort: address space needed by 'select.dll' (0x170000) is already occupied
[babel-2.5.1]     Error [Errno 11] Resource temporarily unavailable while executing command python setup.py egg_info
[babel-2.5.1] Cleaning up...
[babel-2.5.1] Exception:
[babel-2.5.1] Traceback (most recent call last):
[babel-2.5.1]   File "/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/pip/basecommand.py", line 215, in main
[babel-2.5.1]     status = self.run(options, args)
[babel-2.5.1]   File "/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/pip/commands/install.py", line 324, in run
[babel-2.5.1]     requirement_set.prepare_files(finder)
[babel-2.5.1]   File "/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/pip/req/req_set.py", line 380, in prepare_files
[babel-2.5.1]     ignore_dependencies=self.ignore_dependencies))
[babel-2.5.1]   File "/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/pip/req/req_set.py", line 634, in _prepare_file
[babel-2.5.1]     abstract_dist.prep_for_dist()
[babel-2.5.1]   File "/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/pip/req/req_set.py", line 129, in prep_for_dist
[babel-2.5.1]     self.req_to_install.run_egg_info()
[babel-2.5.1]   File "/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/pip/req/req_install.py", line 439, in run_egg_info
[babel-2.5.1]     command_desc='python setup.py egg_info')
[babel-2.5.1]   File "/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/site-packages/pip/utils/__init__.py", line 667, in call_subprocess
[babel-2.5.1]     cwd=cwd, env=env)
[babel-2.5.1]   File "/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/subprocess.py", line 394, in __init__
[babel-2.5.1]     errread, errwrite)
[babel-2.5.1]   File "/tmp/tmpgsczYO-sage-git-temp-25188/local/lib/python2.7/subprocess.py", line 938, in _execute_child
[babel-2.5.1]     self.pid = os.fork()
[babel-2.5.1] OSError: [Errno 11] Resource temporarily unavailable
[babel-2.5.1] Error: installing with pip2 failed
[babel-2.5.1] ********************************************************************************
[babel-2.5.1] Error installing babel-2.5.1
[babel-2.5.1] ********************************************************************************
[babel-2.5.1] 
[babel-2.5.1] real	0m20.244s
[babel-2.5.1] user	0m2.762s
[babel-2.5.1] sys	0m5.332s
[babel-2.5.1] ************************************************************************
[babel-2.5.1] Error installing package babel-2.5.1
[babel-2.5.1] ************************************************************************
```


This is with just SAGE_NUM_THREADS=2.  The previous packages to build before it were pynac and pycygwin, both of which built successfully.

Previous attempts to fix this have included tickets like #24647.  It's not at all clear why this would have still happened on the patchbot.  It's possible it was just a freak accident.  But I'll keep my eye out...

Issue created by migration from https://trac.sagemath.org/ticket/25882





---

archive/issue_comments_361709.json:
```json
{
    "body": "It also seems to be having some fork errors involving R, and/or the sage-cleaner.  Any tests that attempt to start up R appear to fail:\n\n\n```\n**********************************************************************\nFile \"src/sage/interfaces/r.py\", line 2102, in sage.interfaces.r.r_version\nFailed example:\n    rint, rstr = r_version()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 573, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 983, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.r.r_version[0]>\", line 1, in <module>\n        rint, rstr = r_version()\n      File \"/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/r.py\", line 2108, in r_version\n        return r.version()\n      File \"/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/r.py\", line 643, in version\n        s = self.eval('version')\n      File \"/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/r.py\", line 1155, in eval\n        return Expect.eval(self, code, synchronize=synchronize, *args, **kwds)\n      File \"/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/expect.py\", line 1354, in eval\n        for L in code.split('\\n') if L != ''])\n      File \"/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/expect.py\", line 917, in _eval_line\n        self._start()\n      File \"/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/r.py\", line 394, in _start\n        Expect._start(self)\n      File \"/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/expect.py\", line 517, in _start\n        cleaner.cleaner(self._expect.pid, cmd)\n      File \"/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/cleaner.py\", line 37, in cleaner\n        start_cleaner()\n      File \"/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/cleaner.py\", line 44, in start_cleaner\n        if not os.fork():\n    OSError: [Errno 11] Resource temporarily unavailable\n**********************************************************************\n```\n\n\nAgain, this is only on the (rather slow, running in a VM) patchbot.  There may just be a problem with rebasing on there.",
    "created_at": "2018-07-19T11:10:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25645#issuecomment-361709",
    "user": "embray"
}
```

It also seems to be having some fork errors involving R, and/or the sage-cleaner.  Any tests that attempt to start up R appear to fail:


```
**********************************************************************
File "src/sage/interfaces/r.py", line 2102, in sage.interfaces.r.r_version
Failed example:
    rint, rstr = r_version()
Exception raised:
    Traceback (most recent call last):
      File "/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 573, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 983, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.r.r_version[0]>", line 1, in <module>
        rint, rstr = r_version()
      File "/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/r.py", line 2108, in r_version
        return r.version()
      File "/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/r.py", line 643, in version
        s = self.eval('version')
      File "/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/r.py", line 1155, in eval
        return Expect.eval(self, code, synchronize=synchronize, *args, **kwds)
      File "/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/expect.py", line 1354, in eval
        for L in code.split('\n') if L != ''])
      File "/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/expect.py", line 917, in _eval_line
        self._start()
      File "/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/r.py", line 394, in _start
        Expect._start(self)
      File "/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/expect.py", line 517, in _start
        cleaner.cleaner(self._expect.pid, cmd)
      File "/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/cleaner.py", line 37, in cleaner
        start_cleaner()
      File "/home/Admin/src/sagemath/sage/local/lib/python2.7/site-packages/sage/interfaces/cleaner.py", line 44, in start_cleaner
        if not os.fork():
    OSError: [Errno 11] Resource temporarily unavailable
**********************************************************************
```


Again, this is only on the (rather slow, running in a VM) patchbot.  There may just be a problem with rebasing on there.



---

archive/issue_comments_361710.json:
```json
{
    "body": "Resolution: worksforme",
    "created_at": "2019-05-09T15:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25645#issuecomment-361710",
    "user": "embray"
}
```

Resolution: worksforme



---

archive/issue_comments_361711.json:
```json
{
    "body": "Haven't seen too many problems like this in a while.  May re-open this if it comes back up.",
    "created_at": "2019-05-09T15:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25645#issuecomment-361711",
    "user": "embray"
}
```

Haven't seen too many problems like this in a while.  May re-open this if it comes back up.
