# Issue 33920: Meta ticket: fix docstring markups

archive/issues_033920.json:
```json
{
    "body": "CC:  tscrim chapoton\n\nWe fix\n\n\u200bhttps://github.com/sagemath/sagetrac-mirror/runs/7294638131?check_suite_focus=true\n\nby chunks.\n\n#34156,\n\nIssue created by migration from https://trac.sagemath.org/ticket/34157\n\n",
    "created_at": "2022-07-12T05:54:18Z",
    "labels": [
        "PLEASE CHANGE",
        "major",
        "PLEASE CHANGE"
    ],
    "title": "Meta ticket: fix docstring markups",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33920",
    "user": "klee"
}
```
CC:  tscrim chapoton

We fix

​https://github.com/sagemath/sagetrac-mirror/runs/7294638131?check_suite_focus=true

by chunks.

#34156,

Issue created by migration from https://trac.sagemath.org/ticket/34157





---

archive/issue_comments_481776.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to documentation.",
    "created_at": "2022-07-12T05:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481776",
    "user": "klee"
}
```

Changing component from PLEASE CHANGE to documentation.



---

archive/issue_comments_481777.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2022-07-12T05:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481777",
    "user": "klee"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_481778.json:
```json
{
    "body": "What should we do with\n\n```\nsage/combinat/tutorial.py:20:1: RST303 Unknown directive type \"todo\".\n```\n\nNormalize all to `TODO`, or make the lower-case `todo` known to the linter?",
    "created_at": "2022-07-12T14:16:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481778",
    "user": "mkoeppe"
}
```

What should we do with

```
sage/combinat/tutorial.py:20:1: RST303 Unknown directive type "todo".
```

Normalize all to `TODO`, or make the lower-case `todo` known to the linter?



---

archive/issue_comments_481779.json:
```json
{
    "body": "Replying to [comment:18 mkoeppe]:\n> What should we do with\n> {{{\n> sage/combinat/tutorial.py:20:1: RST303 Unknown directive type \"todo\".\n> }}}\n> (1) Normalize all to `TODO`, or \n> (2) make the lower-case `todo` known to the linter?\n\nAccording to\n\nhttps://doc.sagemath.org/html/en/developer/coding_basics.html#sage-documentation-style\n\n`TODO` is preferred in sage. But I think `todo` should be at least known to the linter since sphinx doesn't care the case. So I am +1 to (2).",
    "created_at": "2022-07-13T01:23:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481779",
    "user": "klee"
}
```

Replying to [comment:18 mkoeppe]:
> What should we do with
> {{{
> sage/combinat/tutorial.py:20:1: RST303 Unknown directive type "todo".
> }}}
> (1) Normalize all to `TODO`, or 
> (2) make the lower-case `todo` known to the linter?

According to

https://doc.sagemath.org/html/en/developer/coding_basics.html#sage-documentation-style

`TODO` is preferred in sage. But I think `todo` should be at least known to the linter since sphinx doesn't care the case. So I am +1 to (2).



---

archive/issue_comments_481780.json:
```json
{
    "body": "Replying to [comment:18 mkoeppe]:\n> What should we do with\n> {{{\n> sage/combinat/tutorial.py:20:1: RST303 Unknown directive type \"todo\".\n> }}}\n> Normalize all to `TODO`, or make the lower-case `todo` known to the linter?\n\nProbably both. People will write new code by imitating what they see in the old code, so the more we match the guidelines, the better.\n\n(This is another case like the blank lines between list items where I don't see the point in having a strict guideline. In this case we actually have one in place, so we should follow it.)",
    "created_at": "2022-07-13T21:32:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481780",
    "user": "jhpalmieri"
}
```

Replying to [comment:18 mkoeppe]:
> What should we do with
> {{{
> sage/combinat/tutorial.py:20:1: RST303 Unknown directive type "todo".
> }}}
> Normalize all to `TODO`, or make the lower-case `todo` known to the linter?

Probably both. People will write new code by imitating what they see in the old code, so the more we match the guidelines, the better.

(This is another case like the blank lines between list items where I don't see the point in having a strict guideline. In this case we actually have one in place, so we should follow it.)



---

archive/issue_comments_481781.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-14T18:27:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481781",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481782.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-15T17:31:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481782",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481783.json:
```json
{
    "body": "To test with the bugfix release of the linter, regenerate the toxenv using\n`./sage -tox -r -e rst`",
    "created_at": "2022-07-15T17:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481783",
    "user": "mkoeppe"
}
```

To test with the bugfix release of the linter, regenerate the toxenv using
`./sage -tox -r -e rst`



---

archive/issue_comments_481784.json:
```json
{
    "body": "Remaining failures:\n\n```\nsage/combinat/parallelogram_polyomino.py:430:1: RST213 Inline emphasis start-string without end-string.\nsage/combinat/parallelogram_polyomino.py:430:1: RST210 Inline strong start-string without end-string.\nsage/combinat/counting.py:2:1: RST399 Document or section may not begin with a transition.\nsage/combinat/designs/database.py:20:1: RST202 Bullet list ends without a blank line; unexpected unindent.\nsage/combinat/designs/database.py:25:1: RST202 Bullet list ends without a blank line; unexpected unindent.\nsage/combinat/designs/database.py:28:1: RST202 Bullet list ends without a blank line; unexpected unindent.\nsage/combinat/designs/database.py:31:1: RST202 Bullet list ends without a blank line; unexpected unindent.\nsage/combinat/designs/database.py:37:1: RST202 Bullet list ends without a blank line; unexpected unindent.\nsage/doctest/sources.py:765:1: RST214 Inline literal start-string without end-string.\nsage/doctest/sources.py:765:1: RST214 Inline literal start-string without end-string.\nsage/repl/interpreter.py:465:1: RST303 Unknown directive type \"attribute\".\nsage/graphs/graph_plot.py:50:1: RST299 The \"csv-table\" directive requires content; none supplied.\n```\n",
    "created_at": "2022-07-16T17:09:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481784",
    "user": "mkoeppe"
}
```

Remaining failures:

```
sage/combinat/parallelogram_polyomino.py:430:1: RST213 Inline emphasis start-string without end-string.
sage/combinat/parallelogram_polyomino.py:430:1: RST210 Inline strong start-string without end-string.
sage/combinat/counting.py:2:1: RST399 Document or section may not begin with a transition.
sage/combinat/designs/database.py:20:1: RST202 Bullet list ends without a blank line; unexpected unindent.
sage/combinat/designs/database.py:25:1: RST202 Bullet list ends without a blank line; unexpected unindent.
sage/combinat/designs/database.py:28:1: RST202 Bullet list ends without a blank line; unexpected unindent.
sage/combinat/designs/database.py:31:1: RST202 Bullet list ends without a blank line; unexpected unindent.
sage/combinat/designs/database.py:37:1: RST202 Bullet list ends without a blank line; unexpected unindent.
sage/doctest/sources.py:765:1: RST214 Inline literal start-string without end-string.
sage/doctest/sources.py:765:1: RST214 Inline literal start-string without end-string.
sage/repl/interpreter.py:465:1: RST303 Unknown directive type "attribute".
sage/graphs/graph_plot.py:50:1: RST299 The "csv-table" directive requires content; none supplied.
```




---

archive/issue_comments_481785.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-16T17:10:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481785",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481786.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-16T17:28:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481786",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481787.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-16T20:33:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481787",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481788.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-16T20:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481788",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481789.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-16T20:39:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481789",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481790.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-07-16T20:45:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481790",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_481791.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-16T21:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481791",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481792.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-16T21:41:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481792",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481793.json:
```json
{
    "body": "Merged #34139 to get the green \"Lint passing\" badge.",
    "created_at": "2022-07-16T21:47:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481793",
    "user": "mkoeppe"
}
```

Merged #34139 to get the green "Lint passing" badge.



---

archive/issue_comments_481794.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-17T00:46:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481794",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481795.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-17T04:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481795",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481796.json:
```json
{
    "body": "Ready for review",
    "created_at": "2022-07-17T18:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481796",
    "user": "mkoeppe"
}
```

Ready for review



---

archive/issue_comments_481797.json:
```json
{
    "body": "comment:24",
    "created_at": "2022-07-18T03:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481797",
    "user": "mkoeppe"
}
```

comment:24



---

archive/issue_comments_481798.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-07-18T04:58:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481798",
    "user": "klee"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_481799.json:
```json
{
    "body": "Voil\u00e0!\n\n```\n$ ./sage -tox -r -e rst\n...\n  rst: commands succeeded\n  congratulations :)\n```\n\nThank you all!",
    "created_at": "2022-07-18T04:58:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481799",
    "user": "klee"
}
```

Voilà!

```
$ ./sage -tox -r -e rst
...
  rst: commands succeeded
  congratulations :)
```

Thank you all!



---

archive/issue_comments_481800.json:
```json
{
    "body": "Great! Plus a bug fix for `flake8-rst-docstrings`.",
    "created_at": "2022-07-18T05:02:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481800",
    "user": "jhpalmieri"
}
```

Great! Plus a bug fix for `flake8-rst-docstrings`.



---

archive/issue_comments_481801.json:
```json
{
    "body": "Thanks!",
    "created_at": "2022-07-18T05:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481801",
    "user": "mkoeppe"
}
```

Thanks!



---

archive/issue_comments_481802.json:
```json
{
    "body": "this should be extended to pyx files too\n\nEDIT: see #34305",
    "created_at": "2022-08-06T16:06:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481802",
    "user": "chapoton"
}
```

this should be extended to pyx files too

EDIT: see #34305



---

archive/issue_comments_481803.json:
```json
{
    "body": "Please rebase.",
    "created_at": "2022-08-08T18:15:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481803",
    "user": "slelievre"
}
```

Please rebase.



---

archive/issue_comments_481804.json:
```json
{
    "body": "No need, it merges cleanly with 9.7.beta8 when done manually",
    "created_at": "2022-08-08T20:02:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481804",
    "user": "mkoeppe"
}
```

No need, it merges cleanly with 9.7.beta8 when done manually



---

archive/issue_comments_481805.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-08-29T11:24:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33920",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33920#issuecomment-481805",
    "user": "vbraun"
}
```

Resolution: fixed
