# Issue 16864: Sparse vector creation may discard non-zero entries

Issue created by migration from https://trac.sagemath.org/ticket/17101

Original creator: cheuberg

Original creation time: 2014-10-06 03:36:18

CC:  skropf

Keywords: sparse vector, real interval field

Current erroneous behaviour:

```
sage: v = vector([RIF(-1, 1)], sparse=True)
sage: v.is_zero()
True
sage: v
(0)
```


The reason is the check `x[i] != 0` in `__init__`:

```
sage: RIF(-1, 1) != 0
False
sage: RIF(-1, 1) == 0
False
sage: bool(RIF(-1, 1))
True
sage: bool(RIF(0, 0))
False
```



---

Comment by cheuberg created at 2014-10-06 04:43:59

Changing status from new to needs_review.


---

Comment by cheuberg created at 2014-10-06 04:43:59

A `make ptestlong` on my machine did not show any problems with this change.
----
New commits:


---

Comment by jdemeyer created at 2014-10-07 10:31:34

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-10-08 12:59:51

Resolution: fixed
