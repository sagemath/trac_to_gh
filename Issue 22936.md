# Issue 22936: Remove Element._cache_key()

Issue created by migration from Trac.

Original creator: saraedum

Original creation time: 2017-06-07 22:51:57

Keywords: sd86.5

Arguably, `str(self)` is not a good default to identify objects. It often does the right thing, but it also causes trouble when objects print the same, are `==` but are not indistinguishable (and should therefore not be identified in caches.)
It seems to be better to require people to actually implement `_cache_key` explicitly, just like they have to implement `__hash__` explicitly now.

In this ticket, we want to see how terrible removal of the default implementation would be.


---

Comment by saraedum created at 2017-06-07 22:53:20

New commits:


---

Comment by saraedum created at 2017-06-09 22:27:00

Changing component from PLEASE CHANGE to refactoring.


---

Comment by roed created at 2017-07-17 21:46:45

Changing keywords from "sd86.5" to "sd86.5, sd87".


---

Comment by chapoton created at 2018-04-30 09:46:22

New commits:


---

Comment by chapoton created at 2018-04-30 15:16:58

not that bad:

```
sage -t --long src/doc/ja/tutorial/interactive_shell.rst  # 1 doctest failed
sage -t --long src/sage/algebras/commutative_dga.py  # 393 doctests failed
sage -t --long src/sage/combinat/root_system/extended_affine_weyl_group.py  # 77 doctests failed
sage -t --long src/sage/modular/modform_hecketriangle/abstract_ring.py  # 2 doctests failed
sage -t --long src/sage/modular/modform_hecketriangle/abstract_space.py  # 56 doctests failed
sage -t --long src/sage/modular/modform_hecketriangle/element.py  # 16 doctests failed
sage -t --long src/sage/modular/modform_hecketriangle/functors.py  # 4 doctests failed
sage -t --long src/sage/modular/modform_hecketriangle/graded_ring_element.py  # 50 doctests failed
sage -t --long src/sage/modular/modform_hecketriangle/readme.py  # 12 doctests failed
sage -t --long src/sage/modular/modform_hecketriangle/space.py  # 38 doctests failed
sage -t --long src/sage/modular/modform_hecketriangle/subspace.py  # 58 doctests failed
sage -t --long src/sage/rings/valuation/valuation.py  # 1 doctest failed
sage -t --long src/sage/schemes/elliptic_curves/padics.py  # 1 doctest failed
sage -t --long src/sage/schemes/hyperelliptic_curves/hyperelliptic_padic_field.py  # 33 doctests failed
sage -t --long src/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py  # 8 doctests failed
```



---

Comment by git created at 2018-05-03 15:39:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-05-03 18:47:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by roed created at 2018-07-22 20:09:34

Changing keywords from "sd86.5, sd87" to "sd86.5, sd87, padicIMA".
