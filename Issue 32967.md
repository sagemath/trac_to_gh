# Issue 32967: more fricas conversions

Issue created by migration from https://trac.sagemath.org/ticket/33204

Original creator: chapoton

Original creation time: 2022-01-18 17:20:07

CC:  mantepse

just a few more missing conversions, for Jacobi functions, orthogonal polynomials, etc


---

Comment by chapoton created at 2022-01-18 17:47:25

Changing status from new to needs_review.


---

Comment by chapoton created at 2022-01-18 17:47:25

New commits:


---

Comment by mantepse created at 2022-01-19 13:42:48

Wouldn't it be good to have some doctests?  I know very little about these functions, but at the very least it appears that the function names do not quite match up.  Possibly, fricas is missing some.  For example, at https://fricas.github.io/api/SpecialFunctionCategory.html I cannot find `jacobiCs`.


One place for such tests might be `fricas.py`, line 1510.

I guess one could systematically compare some numerical values, to make sure that the definitions agree.  For example

```
sage: jacobi_cn(0.9,2.1) - fricas("jacobiCn")(0.9,2.1).sage()
-7.04818555476145e-20*I
```

but I have absolutely no idea which values would make sense.


---

Comment by chapoton created at 2022-02-14 14:08:15

Changing keywords from "" to "FriCAS".


---

Comment by tscrim created at 2022-02-15 06:29:55

Would you be willing to add a doctest for each of these to show the conversions are working correctly?


---

Comment by git created at 2022-04-11 13:06:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-04-11 17:06:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-04-11 17:07:07

now with doctests


---

Comment by tscrim created at 2022-04-11 22:48:21

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2022-04-11 22:48:21

Thank you.

Martin, if there is something else you would want to see, you can revert the positive review.


---

Comment by mantepse created at 2022-04-12 10:16:10

I'm sorry to be pedantic, but I find doctests like

```
sage: fricas(gen_legendre_P(2,1/2,x))  # optional - fricas
            1
legendreP(2,-,x)
            2
```

not very informative.  All this tests is that there is a trivariate fricas function `legendreP`.  It does not test, for example, that the ordering of the variables is as suggested.

I admit that it is a bit of work to find out how much information fricas actually has about these functions.  I did some digging:

* for the univariate elliptic, fricas can evaluate numerically
* for the bivariate legendre, hermite fricas knows the polynomial, e.g.:

```
sage: fricas.legendreP(4,x)
35  4   15  2   3
-- x  - -- x  + -
 8       4      8

```

* for the bivariate jacobiCn, jacobiSn, jacobiDn, ellipticE, ellipticF fricas knows the taylor series:

```
sage: fricas.series(fricas.jacobiCn(x,4), x=0)
    1  2   17  4   433  6   2903  8   226327  10      11
1 - - x  + -- x  - --- x  + ---- x  - ------ x   + O(x  )
    2      24      720      5760      518400

sage: fricas.series(fricas.ellipticF(x,2), x=0)
    1  3   19  5    9  7   289  9   279  11      12
x + - x  + -- x  + -- x  + --- x  + --- x   + O(x  )
    2      40      16      384      256
```



---

Comment by mantepse created at 2022-04-12 10:16:22

Changing status from positive_review to needs_work.


---

Comment by git created at 2022-04-12 13:35:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-04-12 13:36:22

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2022-04-12 13:36:22

here are some refined doctests. I will not add more, but feel free to do so.


---

Comment by mantepse created at 2022-04-12 14:08:21

Great, thank you!


---

Comment by mantepse created at 2022-04-12 14:08:21

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2022-04-22 08:46:18

bump to 9.7


---

Comment by vbraun created at 2022-05-20 22:27:19

Resolution: fixed
