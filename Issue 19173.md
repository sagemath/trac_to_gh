# Issue 19173: Fix OSX App package, forbid relocation on OSX

Issue created by migration from Trac.

Original creator: cnassau

Original creation time: 2015-10-14 18:17:56

CC:  yomcat kcrisman iandrus

These are issues that were raised in #19370:

On OSX10.11 the Sage installation is not functional when moved to a different folder - `sage` must be executed in the original build-folder since many libraries have their complete path compiled in. The following changes seem therefore necessary:

   1) "sage --bdist" should build sage in the directory "/Application/SageMath?-$Version-..." and sage will only run in this directory.
   2) The README in the resulting app should be updated to say that the Sage icon should be dragged into the Application folder. Alternatively, we should implement an installer.
   3) sage should print a warning "This copy of sage can only be run in dirctory /Application/Sage?..." and exit.



---

Comment by fbissey created at 2015-10-14 20:26:45

The issue is not so much that the complete path are compiled in than setting `DYLD_LIBRARY_PATH` is not working as expected.


---

Comment by kcrisman created at 2015-10-16 01:58:07

I think it is actually reasonable to ask the Sage Mac binary to run in this directory, just because Mac stuff is now getting more tightly locked down anyway... though it's still annoying because one might want it to run elsewhere.  Say, in a subfolder of `Applications`.

Also there is the `/Applications` versus `~/Applications` thing to wonder about in different settings where users might not have permission to install globally (maybe that's a problem? I don't have access to a machine like that though).

However, I think maybe it would be nice to only do this check for now when the OS is actually 10.11.


---

Comment by vbraun created at 2015-10-24 10:31:34

Alternative at #19467


---

Comment by kcrisman created at 2016-01-02 19:02:50

Should this be closed?  Some folks might get confused while trying to decide whether to upgrade to El Capitan and potentially lose all their Sage stuff.


---

Comment by vbraun created at 2016-01-02 19:13:27

Changing status from new to needs_review.


---

Comment by vbraun created at 2016-01-02 19:13:27

close as fixed...


---

Comment by vbraun created at 2016-01-07 22:43:51

Resolution: fixed
