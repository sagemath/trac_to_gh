# Issue 21163: Max libgap_exec test more portable

Issue created by migration from https://trac.sagemath.org/ticket/21400

Original creator: embray

Original creation time: 2016-09-02 14:35:26

Keywords: windows cygwin libgap

This test fails on Windows (even Cygwin) because GAP's `Exec()` function passes its input through `cmd.exe` on Windows (again, even on Cygwin), so there is no `/dev/null`.  

I might consider this an upstream bug, since when running on Cygwin it should just use `$SHELL`.  In any case this improves the test slightly by also testing its output--I don't think there was a good reason to send to `/dev/null` anyways.

(one could argue relying on the existence of a command called `echo` isn't portable either, but I don't think there's a system Sage works on where that wouldn't work :)


---

Comment by embray created at 2016-09-02 14:35:46

Changing status from new to needs_review.


---

Comment by chapoton created at 2016-09-14 07:12:26

ok, good


---

Comment by chapoton created at 2016-09-14 07:12:26

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-09-17 20:09:29

Resolution: fixed


---

Comment by embray created at 2016-09-22 14:50:23

Note: I haven't reported this upstream yet.
