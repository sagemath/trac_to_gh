# Issue 28668: spkg-configure for libcdd

archive/issues_028668.json:
```json
{
    "body": "CC:  @saraedum @orlitzky\n\nDebian has libcdd-dev (library) and libcdd-tools (executables) packages.\n\nThe obstacles: installs headers in `usr/include/cdd` (and not in `/usr/include`,\nand part of executables into `/usr/lib/cdd-tools/`\n\nIssue created by migration from https://trac.sagemath.org/ticket/28905\n\n",
    "created_at": "2019-12-21T02:44:23Z",
    "labels": [
        "component: build: configure"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "spkg-configure for libcdd",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28668",
    "user": "https://github.com/dimpase"
}
```
CC:  @saraedum @orlitzky

Debian has libcdd-dev (library) and libcdd-tools (executables) packages.

The obstacles: installs headers in `usr/include/cdd` (and not in `/usr/include`,
and part of executables into `/usr/lib/cdd-tools/`

Issue created by migration from https://trac.sagemath.org/ticket/28905





---

archive/issue_comments_404457.json:
```json
{
    "body": "See also https://github.com/cddlib/cddlib/issues/26 \"Consider installing headers in `${prefix}/include/cdd/` instead of `${prefix}/include`\"",
    "created_at": "2019-12-25T15:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404457",
    "user": "https://github.com/mkoeppe"
}
```

See also https://github.com/cddlib/cddlib/issues/26 "Consider installing headers in `${prefix}/include/cdd/` instead of `${prefix}/include`"



---

archive/issue_comments_404458.json:
```json
{
    "body": "Sorry, I fail to understand the description of this ticket. What are you trying to achieve here exactly? Would be nice if you could elaborate a bit.",
    "created_at": "2019-12-26T13:05:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404458",
    "user": "https://github.com/saraedum"
}
```

Sorry, I fail to understand the description of this ticket. What are you trying to achieve here exactly? Would be nice if you could elaborate a bit.



---

archive/issue_comments_404459.json:
```json
{
    "body": "The goal is to use libcdd/cdd from the system (as in all tickets from #27330).\nThere should not be a problem with headers, after all we can install links to `$SAGE_LOCAL/include/`. I don't know which cdd executables are used in Sagemath.\nAgain,for these we can install links in `SAGE_LOCAL/bin/`.",
    "created_at": "2019-12-26T13:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404459",
    "user": "https://github.com/dimpase"
}
```

The goal is to use libcdd/cdd from the system (as in all tickets from #27330).
There should not be a problem with headers, after all we can install links to `$SAGE_LOCAL/include/`. I don't know which cdd executables are used in Sagemath.
Again,for these we can install links in `SAGE_LOCAL/bin/`.



---

archive/issue_comments_404460.json:
```json
{
    "body": "Am I right that the only parts of cdd(lib) currently used in Sage are executables `cddexec*` ? If so, it would be trivial to provide `spkg-configure.m4`.",
    "created_at": "2019-12-27T12:55:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404460",
    "user": "https://github.com/dimpase"
}
```

Am I right that the only parts of cdd(lib) currently used in Sage are executables `cddexec*` ? If so, it would be trivial to provide `spkg-configure.m4`.



---

archive/issue_comments_404461.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-12-27T13:21:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404461",
    "user": "https://github.com/dimpase"
}
```

New commits:



---

archive/issue_comments_404462.json:
```json
{
    "body": "cddlib is used as a library in gfan and latte. So one needs a check for headers and libraries.",
    "created_at": "2019-12-28T06:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404462",
    "user": "https://github.com/dimpase"
}
```

cddlib is used as a library in gfan and latte. So one needs a check for headers and libraries.



---

archive/issue_comments_404463.json:
```json
{
    "body": "I did some work on this but the version of cddlib in Gentoo is too old to detect, so now I have to go fix that first.",
    "created_at": "2020-01-12T05:18:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404463",
    "user": "https://github.com/orlitzky"
}
```

I did some work on this but the version of cddlib in Gentoo is too old to detect, so now I have to go fix that first.



---

archive/issue_comments_404464.json:
```json
{
    "body": "Replying to [comment:9 mjo]:\n> I did some work on this but the version of cddlib in Gentoo is too old to detect, so now I have to go fix that first.\n\nYes the version from the main tree is too old. I have a newer suitable version in the sage-on-gentoo overlay.",
    "created_at": "2020-01-12T09:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404464",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:9 mjo]:
> I did some work on this but the version of cddlib in Gentoo is too old to detect, so now I have to go fix that first.

Yes the version from the main tree is too old. I have a newer suitable version in the sage-on-gentoo overlay.



---

archive/issue_comments_404465.json:
```json
{
    "body": "Is there a branch to test?",
    "created_at": "2020-01-18T02:48:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404465",
    "user": "https://github.com/mkoeppe"
}
```

Is there a branch to test?



---

archive/issue_comments_404466.json:
```json
{
    "body": "Yeah, the one up there works for me. We did get cddlib upgraded in Gentoo and my branch detects it.",
    "created_at": "2020-01-18T02:51:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404466",
    "user": "https://github.com/orlitzky"
}
```

Yeah, the one up there works for me. We did get cddlib upgraded in Gentoo and my branch detects it.



---

archive/issue_comments_404467.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-01-18T02:51:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404467",
    "user": "https://github.com/orlitzky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_404468.json:
```json
{
    "body": "Are there Dockerfiles or Docker images available that allow testing of the Gentoo Sage distribution?\nOff-topic for this ticket - but I would like to add a continuous integration test for https://github.com/mkoeppe/sage-numerical-backends-coin",
    "created_at": "2020-01-18T02:55:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404468",
    "user": "https://github.com/mkoeppe"
}
```

Are there Dockerfiles or Docker images available that allow testing of the Gentoo Sage distribution?
Off-topic for this ticket - but I would like to add a continuous integration test for https://github.com/mkoeppe/sage-numerical-backends-coin



---

archive/issue_comments_404469.json:
```json
{
    "body": "Replying to [comment:13 mkoeppe]:\n> Are there Dockerfiles or Docker images available that allow testing of the Gentoo Sage distribution?\n> Off-topic for this ticket - but I would like to add a continuous integration test for https://github.com/mkoeppe/sage-numerical-backends-coin\n\ncoinor is too old in Gentoo. I tried to do an upgrade privately sometime last year. Unfortunately I lost the ebuilds in a mishap (and they weren't on vcs yet when it happened). I couldn't get it to work with sage which was annoying.",
    "created_at": "2020-01-18T02:59:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404469",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:13 mkoeppe]:
> Are there Dockerfiles or Docker images available that allow testing of the Gentoo Sage distribution?
> Off-topic for this ticket - but I would like to add a continuous integration test for https://github.com/mkoeppe/sage-numerical-backends-coin

coinor is too old in Gentoo. I tried to do an upgrade privately sometime last year. Unfortunately I lost the ebuilds in a mishap (and they weren't on vcs yet when it happened). I couldn't get it to work with sage which was annoying.



---

archive/issue_comments_404470.json:
```json
{
    "body": "I primarily want to test with Gentoo's sage, not Gentoo's coinor. I can bring my own coinor from coinbrew.",
    "created_at": "2020-01-18T03:01:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404470",
    "user": "https://github.com/mkoeppe"
}
```

I primarily want to test with Gentoo's sage, not Gentoo's coinor. I can bring my own coinor from coinbrew.



---

archive/issue_comments_404471.json:
```json
{
    "body": "FYI - https://github.com/mkoeppe/sage-numerical-backends-coin/blob/master/tox.ini",
    "created_at": "2020-01-18T03:02:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404471",
    "user": "https://github.com/mkoeppe"
}
```

FYI - https://github.com/mkoeppe/sage-numerical-backends-coin/blob/master/tox.ini



---

archive/issue_comments_404472.json:
```json
{
    "body": "Well I don't produce any docker images and I don't know if someone else did. Would be neat.",
    "created_at": "2020-01-18T03:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404472",
    "user": "https://github.com/kiwifb"
}
```

Well I don't produce any docker images and I don't know if someone else did. Would be neat.



---

archive/issue_comments_404473.json:
```json
{
    "body": "The closest thing to a Docker image we have are the KVM images that the openstack project maintains:\n\n  http://gentoo.osuosl.org/experimental/amd64/openstack/\n\nIn theory you can boot one of those up, configure the sage-on-gentoo overlay,\n\n  https://github.com/cschwan/sage-on-gentoo\n\nand then `emerge sage`. But each of those steps is tricky if you've never done it.\n\nI'm slowly working on moving things from the overlay to the main gentoo repository, so that one day you can \"emerge sage\" without the overlay. (Basically, I'm just taking Francois's work and committing it to the main repository.)\n\nThis goes hand-in-hand with the spkg-configure work because in the past, while sage-on-gentoo provides the most stable and usable sage, it doesn't help me rebuild sage.git for testing tickets. But now whenever a package gets an spkg-configure.m4, adding that package to gentoo both (1) speeds up the sage.git build, and (2) brings the overlay one step closer to the main repository.",
    "created_at": "2020-01-18T03:25:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404473",
    "user": "https://github.com/orlitzky"
}
```

The closest thing to a Docker image we have are the KVM images that the openstack project maintains:

  http://gentoo.osuosl.org/experimental/amd64/openstack/

In theory you can boot one of those up, configure the sage-on-gentoo overlay,

  https://github.com/cschwan/sage-on-gentoo

and then `emerge sage`. But each of those steps is tricky if you've never done it.

I'm slowly working on moving things from the overlay to the main gentoo repository, so that one day you can "emerge sage" without the overlay. (Basically, I'm just taking Francois's work and committing it to the main repository.)

This goes hand-in-hand with the spkg-configure work because in the past, while sage-on-gentoo provides the most stable and usable sage, it doesn't help me rebuild sage.git for testing tickets. But now whenever a package gets an spkg-configure.m4, adding that package to gentoo both (1) speeds up the sage.git build, and (2) brings the overlay one step closer to the main repository.



---

archive/issue_comments_404474.json:
```json
{
    "body": "Thanks. For now I'm trying to bootstrap gentoo prefix on top of Ubuntu on Docker.",
    "created_at": "2020-01-18T04:01:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404474",
    "user": "https://github.com/mkoeppe"
}
```

Thanks. For now I'm trying to bootstrap gentoo prefix on top of Ubuntu on Docker.



---

archive/issue_comments_404475.json:
```json
{
    "body": "`@` mjo you do know that the overlay has a \"vbraun\" branch where sgae-9999 checkouts Volker's merging branch do you? Pointing to some other branch is not that hard but I have never tried to test ticket that way. I mostly work on my vbraun branch so I know when something is being merged that causes problems.\n\n`@` mkoeppe for info sage-on-gentoo has a tester on prefix on top of ubuntu. So at least we know it works - mostly. There a few unidentified issue in doctesting going on at the moment https://github.com/cschwan/sage-on-gentoo/issues/560",
    "created_at": "2020-01-18T04:19:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404475",
    "user": "https://github.com/kiwifb"
}
```

`@` mjo you do know that the overlay has a "vbraun" branch where sgae-9999 checkouts Volker's merging branch do you? Pointing to some other branch is not that hard but I have never tried to test ticket that way. I mostly work on my vbraun branch so I know when something is being merged that causes problems.

`@` mkoeppe for info sage-on-gentoo has a tester on prefix on top of ubuntu. So at least we know it works - mostly. There a few unidentified issue in doctesting going on at the moment https://github.com/cschwan/sage-on-gentoo/issues/560



---

archive/issue_comments_404476.json:
```json
{
    "body": "a tester = a person who tests it?",
    "created_at": "2020-01-18T04:29:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404476",
    "user": "https://github.com/mkoeppe"
}
```

a tester = a person who tests it?



---

archive/issue_comments_404477.json:
```json
{
    "body": "Replying to [comment:21 mkoeppe]:\n> a tester = a person who tests it?\n\nYes.",
    "created_at": "2020-01-18T04:30:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404477",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:21 mkoeppe]:
> a tester = a person who tests it?

Yes.



---

archive/issue_comments_404478.json:
```json
{
    "body": "Attachment [Dockerfile-sage_gentoo](tarball://root/attachments/some-uuid/ticket28905/Dockerfile-sage_gentoo) by @mkoeppe created at 2020-01-18 04:33:58",
    "created_at": "2020-01-18T04:33:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404478",
    "user": "https://github.com/mkoeppe"
}
```

Attachment [Dockerfile-sage_gentoo](tarball://root/attachments/some-uuid/ticket28905/Dockerfile-sage_gentoo) by @mkoeppe created at 2020-01-18 04:33:58



---

archive/issue_comments_404479.json:
```json
{
    "body": "Anyway, this is how far I got in case someone would like to take a look.\nSorry for hijacking the ticket.",
    "created_at": "2020-01-18T04:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404479",
    "user": "https://github.com/mkoeppe"
}
```

Anyway, this is how far I got in case someone would like to take a look.
Sorry for hijacking the ticket.



---

archive/issue_comments_404480.json:
```json
{
    "body": "this branch does not go far enough: on Debian the headers are in `/usr/include/cdd/`, and\non Fedora they are in `/usr/include/cddlib/`.\n\nI think Singular is able to use cddlib headers from any of these locations.\n\nI think libcdd* ought to be tested too.",
    "created_at": "2020-01-18T09:23:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404480",
    "user": "https://github.com/dimpase"
}
```

this branch does not go far enough: on Debian the headers are in `/usr/include/cdd/`, and
on Fedora they are in `/usr/include/cddlib/`.

I think Singular is able to use cddlib headers from any of these locations.

I think libcdd* ought to be tested too.



---

archive/issue_comments_404481.json:
```json
{
    "body": "Still hoping for upstream to make a decision on the canonical install location of the headers.",
    "created_at": "2020-01-18T15:07:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404481",
    "user": "https://github.com/mkoeppe"
}
```

Still hoping for upstream to make a decision on the canonical install location of the headers.



---

archive/issue_comments_404482.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-01-20T14:54:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404482",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_404483.json:
```json
{
    "body": "Replying to [comment:24 dimpase]:\n> this branch does not go far enough: on Debian the headers are in `/usr/include/cdd/`, and\n> on Fedora they are in `/usr/include/cddlib/`.\n> \n\nI left a comment about this in the macro before I got sidetracked. It looks to me like the sage lattE and gfan spkgs only look for the cddlib headers in the standard locations, so the system cddlib will only be usable if the headers are in the standard location. Is that wrong?",
    "created_at": "2020-01-20T15:39:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404483",
    "user": "https://github.com/orlitzky"
}
```

Replying to [comment:24 dimpase]:
> this branch does not go far enough: on Debian the headers are in `/usr/include/cdd/`, and
> on Fedora they are in `/usr/include/cddlib/`.
> 

I left a comment about this in the macro before I got sidetracked. It looks to me like the sage lattE and gfan spkgs only look for the cddlib headers in the standard locations, so the system cddlib will only be usable if the headers are in the standard location. Is that wrong?



---

archive/issue_comments_404484.json:
```json
{
    "body": "`spkg-confugure.m4` can figure out the prefix, AC_SUBST it into an env.var., which can be used to modify CFLAGS/CXXFLAGS in spkg-install scripts of lattE etc.",
    "created_at": "2020-01-20T15:56:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404484",
    "user": "https://github.com/dimpase"
}
```

`spkg-confugure.m4` can figure out the prefix, AC_SUBST it into an env.var., which can be used to modify CFLAGS/CXXFLAGS in spkg-install scripts of lattE etc.



---

archive/issue_comments_404485.json:
```json
{
    "body": "Replying to [comment:28 dimpase]:\n> `spkg-confugure.m4` can figure out the prefix, AC_SUBST it into an env.var., which can be used to modify CFLAGS/CXXFLAGS in spkg-install scripts of lattE etc.\n\nWell, sure, but that's a lot more involved. Checking only the standard locations is correct unless we modify those spkgs, right?",
    "created_at": "2020-01-20T15:59:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404485",
    "user": "https://github.com/orlitzky"
}
```

Replying to [comment:28 dimpase]:
> `spkg-confugure.m4` can figure out the prefix, AC_SUBST it into an env.var., which can be used to modify CFLAGS/CXXFLAGS in spkg-install scripts of lattE etc.

Well, sure, but that's a lot more involved. Checking only the standard locations is correct unless we modify those spkgs, right?



---

archive/issue_comments_404486.json:
```json
{
    "body": "well, Singular goes out of its way to figure out the header location of cddlib. Indeed,\nfrom the log:\n\n```\nchecking whether to check for gfanlib... yes\nchecking setoper.h usability... yes\nchecking setoper.h presence... yes\nchecking for setoper.h... yes\nchecking cdd/setoper.h usability... no\nchecking cdd/setoper.h presence... no\nchecking for cdd/setoper.h... no\nchecking cddlib/setoper.h usability... no\nchecking cddlib/setoper.h presence... no\nchecking for cddlib/setoper.h... no\nchecking whether libcddgmp is usable... checking for dd_free_global_constants... yes\n```\n",
    "created_at": "2020-01-20T16:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404486",
    "user": "https://github.com/dimpase"
}
```

well, Singular goes out of its way to figure out the header location of cddlib. Indeed,
from the log:

```
checking whether to check for gfanlib... yes
checking setoper.h usability... yes
checking setoper.h presence... yes
checking for setoper.h... yes
checking cdd/setoper.h usability... no
checking cdd/setoper.h presence... no
checking for cdd/setoper.h... no
checking cddlib/setoper.h usability... no
checking cddlib/setoper.h presence... no
checking for cddlib/setoper.h... no
checking whether libcddgmp is usable... checking for dd_free_global_constants... yes
```




---

archive/issue_comments_404487.json:
```json
{
    "body": "I think the best solution is to:\n\n1. Merge this now, since it's correct with respect to the rest of the (current) tree.\n2. Report the fact that the headers can be installed in non-standard locations to lattE/gfan upstream.\n3. (a) If those packages make the header search more robust, great; we upgrade the spkgs and we're done. (b) If they say they won't, then we hack something together as in #28905#comment:29.\n4. We update the spkg-configure.m4 for cddlib to look in the non-standard locations as well.\n5. If cddlib upstream ever moves the headers, we can (at our leisure) simplify all of the checks.",
    "created_at": "2020-01-31T16:31:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404487",
    "user": "https://github.com/orlitzky"
}
```

I think the best solution is to:

1. Merge this now, since it's correct with respect to the rest of the (current) tree.
2. Report the fact that the headers can be installed in non-standard locations to lattE/gfan upstream.
3. (a) If those packages make the header search more robust, great; we upgrade the spkgs and we're done. (b) If they say they won't, then we hack something together as in #28905#comment:29.
4. We update the spkg-configure.m4 for cddlib to look in the non-standard locations as well.
5. If cddlib upstream ever moves the headers, we can (at our leisure) simplify all of the checks.



---

archive/issue_comments_404488.json:
```json
{
    "body": "I am happy to accept a PR at cddlib upstream to install the headers into `cdd/` on [GitHub](GitHub) btw.",
    "created_at": "2020-02-06T22:25:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404488",
    "user": "https://github.com/saraedum"
}
```

I am happy to accept a PR at cddlib upstream to install the headers into `cdd/` on [GitHub](GitHub) btw.



---

archive/issue_comments_404489.json:
```json
{
    "body": "The next release of cddlib will use the `cddlib` prefix for its headers. But for now, our latte and gfan packages only look for the bare `cdd.h`, so that's what we need to check for. Can we merge this now, and then update things as they change?",
    "created_at": "2020-03-26T18:18:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404489",
    "user": "https://github.com/orlitzky"
}
```

The next release of cddlib will use the `cddlib` prefix for its headers. But for now, our latte and gfan packages only look for the bare `cdd.h`, so that's what we need to check for. Can we merge this now, and then update things as they change?



---

archive/issue_comments_404490.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-26T18:18:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404490",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_404491.json:
```json
{
    "body": "Could you update the comment in the added file regarding the header file locations?",
    "created_at": "2020-03-26T19:36:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404491",
    "user": "https://github.com/mkoeppe"
}
```

Could you update the comment in the added file regarding the header file locations?



---

archive/issue_comments_404492.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-26T20:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404492",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_404493.json:
```json
{
    "body": "Sure, I added a real commit message too.",
    "created_at": "2020-03-26T20:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404493",
    "user": "https://github.com/orlitzky"
}
```

Sure, I added a real commit message too.



---

archive/issue_comments_404494.json:
```json
{
    "body": "Rebased to  9.1.beta8\n----\nNew commits:",
    "created_at": "2020-03-26T21:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404494",
    "user": "https://github.com/mkoeppe"
}
```

Rebased to  9.1.beta8
----
New commits:



---

archive/issue_comments_404495.json:
```json
{
    "body": "sorry, I messed this one up",
    "created_at": "2020-03-26T21:05:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404495",
    "user": "https://github.com/mkoeppe"
}
```

sorry, I messed this one up



---

archive/issue_comments_404496.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-26T21:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404496",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_404497.json:
```json
{
    "body": "Set it back to your commit",
    "created_at": "2020-03-26T21:06:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404497",
    "user": "https://github.com/mkoeppe"
}
```

Set it back to your commit



---

archive/issue_comments_404498.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-26T21:13:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404498",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_404499.json:
```json
{
    "body": "Testing at https://github.com/mkoeppe/sage/actions/runs/64126739",
    "created_at": "2020-03-26T21:18:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404499",
    "user": "https://github.com/mkoeppe"
}
```

Testing at https://github.com/mkoeppe/sage/actions/runs/64126739



---

archive/issue_comments_404500.json:
```json
{
    "body": "Detects cddlib correctly on `archlinux-latest-standard` (https://github.com/mkoeppe/sage/runs/537774833).\n\nWe don't have a test for Gentoo (#29105, hint hint), but I assume you have tested it there.\n\nAs expected, not detected on debian and fedora. I have created follow-up ticket #29413 for that and edited the ticket description.",
    "created_at": "2020-03-27T12:53:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404500",
    "user": "https://github.com/mkoeppe"
}
```

Detects cddlib correctly on `archlinux-latest-standard` (https://github.com/mkoeppe/sage/runs/537774833).

We don't have a test for Gentoo (#29105, hint hint), but I assume you have tested it there.

As expected, not detected on debian and fedora. I have created follow-up ticket #29413 for that and edited the ticket description.



---

archive/issue_comments_404501.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-27T12:53:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404501",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_404502.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-05T08:30:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28668#issuecomment-404502",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
