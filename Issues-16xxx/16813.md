# Issue 16813: symbolic Legendre / associated Legendre functions / polynomials

archive/issues_016576.json:
```json
{
    "assignees": [],
    "body": "Defect because there is no Sage binding for a result returned by Maxima:\n\n```\nsage: hypergeometric([-1/2,1/2],[2],4).simplify_hypergeometric()\n1/2*I*sqrt(3)*assoc_legendre_p(1/2, -1, -5/3)\nsage: assoc_legendre_p\n...\nNameError: name 'assoc_legendre_p' is not defined\n```\n\nExisting numeric functions are `legendre_P`, `legendre_Q`, `gen_legendre_P`, and `gen_legendre_Q` which correspond to P(n,x) / Q(n,x) and associated Legendre P(n,m,x) / Q(n,m,x).\n\nThey should be made symbolic. FLINT has fast code for P(n,x).\n\n* PQ(n,x)\n  * https://en.wikipedia.org/wiki/Legendre_polynomials\n  * http://mathworld.wolfram.com/LegendrePolynomial.html\n* PQ(n,m,x)\n  * https://en.wikipedia.org/wiki/Associated_Legendre_polynomials\n  * http://mathworld.wolfram.com/AssociatedLegendrePolynomial.html\n* functions PQ\n  * https://en.wikipedia.org/wiki/Legendre_function\n  * http://mathworld.wolfram.com/LegendreFunctionoftheFirstKind.html\n  * http://mathworld.wolfram.com/LegendreFunctionoftheSecondKind.html\n\nSee also http://ask.sagemath.org/question/27230/problem-with-hypergeometric/\n\nComponent: **symbolics**\n\nKeywords: **orthogonal**\n\nAuthor: **Ralf Stephan, Stefan Reiterer**\n\nBranch/Commit: **[`7238198`](https://github.com/sagemath/sagetrac-mirror/commit/7238198c59a7a042391198039e4c915c24fda86d)**\n\nReviewer: **Marc Mezzarobba, Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16813_\n\n",
    "closed_at": "2016-11-21T21:56:30Z",
    "created_at": "2014-08-13T15:15:55Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "symbolic Legendre / associated Legendre functions / polynomials",
    "type": "issue",
    "updated_at": "2016-11-21T21:56:30Z",
    "url": "https://github.com/sagemath/sage/issues/16813",
    "user": "https://github.com/rwst"
}
```
Defect because there is no Sage binding for a result returned by Maxima:

```
sage: hypergeometric([-1/2,1/2],[2],4).simplify_hypergeometric()
1/2*I*sqrt(3)*assoc_legendre_p(1/2, -1, -5/3)
sage: assoc_legendre_p
...
NameError: name 'assoc_legendre_p' is not defined
```

Existing numeric functions are `legendre_P`, `legendre_Q`, `gen_legendre_P`, and `gen_legendre_Q` which correspond to P(n,x) / Q(n,x) and associated Legendre P(n,m,x) / Q(n,m,x).

They should be made symbolic. FLINT has fast code for P(n,x).

* PQ(n,x)
  * https://en.wikipedia.org/wiki/Legendre_polynomials
  * http://mathworld.wolfram.com/LegendrePolynomial.html
* PQ(n,m,x)
  * https://en.wikipedia.org/wiki/Associated_Legendre_polynomials
  * http://mathworld.wolfram.com/AssociatedLegendrePolynomial.html
* functions PQ
  * https://en.wikipedia.org/wiki/Legendre_function
  * http://mathworld.wolfram.com/LegendreFunctionoftheFirstKind.html
  * http://mathworld.wolfram.com/LegendreFunctionoftheSecondKind.html

See also http://ask.sagemath.org/question/27230/problem-with-hypergeometric/

Component: **symbolics**

Keywords: **orthogonal**

Author: **Ralf Stephan, Stefan Reiterer**

Branch/Commit: **[`7238198`](https://github.com/sagemath/sagetrac-mirror/commit/7238198c59a7a042391198039e4c915c24fda86d)**

Reviewer: **Marc Mezzarobba, Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/16813_





---

archive/issue_events_238146.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-08-13T15:15:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238146"
}
```



---

archive/issue_events_238147.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-08-13T15:15:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238147"
}
```



---

archive/issue_events_238148.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-08-13T15:15:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238148"
}
```



---

archive/issue_events_238149.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-08-13T15:15:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238149"
}
```



---

archive/issue_comments_220518.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nHi!\n\nGood to see that someone else is working on making the orthogonal polynomials symbolic, since my research interests shifted heavily in the past years.\n\nA good read on Legendre polynomials is also the bible for ortho polys: Abramowitz and Stegun [http://people.math.sfu.ca/~cbm/aands/page_331.htm](http://people.math.sfu.ca/~cbm/aands/page_331.htm)\n\nThere you will find also much information on special values and other properties.\nI currently have some time left and can help with one thing or the other if you like,",
    "created_at": "2014-08-24T20:08:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220518",
    "user": "https://github.com/sagetrac-maldun"
}
```

<div id="comment:1" align="right">comment:1</div>

Hi!

Good to see that someone else is working on making the orthogonal polynomials symbolic, since my research interests shifted heavily in the past years.

A good read on Legendre polynomials is also the bible for ortho polys: Abramowitz and Stegun [http://people.math.sfu.ca/~cbm/aands/page_331.htm](http://people.math.sfu.ca/~cbm/aands/page_331.htm)

There you will find also much information on special values and other properties.
I currently have some time left and can help with one thing or the other if you like,



---

archive/issue_comments_220519.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nFine! See also http://trac.sagemath.org/wiki/symbolics/functions",
    "created_at": "2014-08-26T11:29:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220519",
    "user": "https://github.com/rwst"
}
```

<div id="comment:2" align="right">comment:2</div>

Fine! See also http://trac.sagemath.org/wiki/symbolics/functions



---

archive/issue_comments_220520.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nOK I have a question. What is the equivalent recursive algorithm to https://github.com/sagemath/sage/blob/master/src/sage/functions/orthogonal_polys.py#L812-834\nfor Legendre polynomials?\n\nThe link is valid as long #16812 is not merged.",
    "created_at": "2014-08-27T14:02:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220520",
    "user": "https://github.com/rwst"
}
```

<div id="comment:3" align="right">comment:3</div>

OK I have a question. What is the equivalent recursive algorithm to https://github.com/sagemath/sage/blob/master/src/sage/functions/orthogonal_polys.py#L812-834
for Legendre polynomials?

The link is valid as long #16812 is not merged.



---

archive/issue_comments_220521.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@rwst](#comment%3A3):\n> OK I have a question. What is the equivalent recursive algorithm to https://github.com/sagemath/sage/blob/master/src/sage/functions/orthogonal_polys.py#L812-834\n> for Legendre polynomials?\n> \n> The link is valid as long #16812 is not merged.\n\nHi!\n\nYou won't have luck to find an equivalent recursion algorithm for Legendre Polynomials, since the recursion algorithm for Chebyshev Polynomials uses the fact that cheby polynomials are cosines in disguise, and thus one is able to build Cheby polyis in O(log N) time. For Legendre polynomials you have to use the classic recursion formula given in [https://en.wikipedia.org/wiki/Legendre_polynomials#Recursive_definition](https://en.wikipedia.org/wiki/Legendre_polynomials#Recursive_definition)",
    "created_at": "2014-08-27T14:08:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220521",
    "user": "https://github.com/sagetrac-maldun"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@rwst](#comment%3A3):
> OK I have a question. What is the equivalent recursive algorithm to https://github.com/sagemath/sage/blob/master/src/sage/functions/orthogonal_polys.py#L812-834
> for Legendre polynomials?
> 
> The link is valid as long #16812 is not merged.

Hi!

You won't have luck to find an equivalent recursion algorithm for Legendre Polynomials, since the recursion algorithm for Chebyshev Polynomials uses the fact that cheby polynomials are cosines in disguise, and thus one is able to build Cheby polyis in O(log N) time. For Legendre polynomials you have to use the classic recursion formula given in [https://en.wikipedia.org/wiki/Legendre_polynomials#Recursive_definition](https://en.wikipedia.org/wiki/Legendre_polynomials#Recursive_definition)



---

archive/issue_comments_220522.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nMaybe this could help you:\n\nI already implemented all Orthopolys one time: https://github.com/sagemath/sage/files/ticket9706/trac_9706_ortho_polys.patch.gz\n\nthey only would need cleanup/restructuring. Maybe you can reuse some of the implemented methods (like recursions and derivatives)",
    "created_at": "2014-08-27T14:24:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220522",
    "user": "https://github.com/sagetrac-maldun"
}
```

<div id="comment:5" align="right">comment:5</div>

Maybe this could help you:

I already implemented all Orthopolys one time: https://github.com/sagemath/sage/files/ticket9706/trac_9706_ortho_polys.patch.gz

they only would need cleanup/restructuring. Maybe you can reuse some of the implemented methods (like recursions and derivatives)



---

archive/issue_comments_220523.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nSome timings for P(n,z):\n\n```\nsage: legendre_P(100,2.5)\n6.39483750487443e66\nsage: timeit('legendre_P(100,2.5)')\n25 loops, best of 3: 21 ms per loop\n\nsage: from mpmath import legenp \nsage: legenp(100,0,2.5)\nmpf('6.3948375048744286e+66')\nsage: timeit('legenp(100,0,2.5)')\n625 loops, best of 3: 97.2 \u00b5s per loop\n\nsage: from scipy.special import eval_legendre\nsage: eval_legendre(int(100),float(2.5))\n6.3948375048744324e+66\nsage: timeit('eval_legendre(int(100),float(2.5))')\n625 loops, best of 3: 7.62 \u00b5s per loop\n\nsage: eval_legendre(int(10^5),float(1.00001))\n3.1548483029540554e+192\nsage: timeit('eval_legendre(int(10^6),float(2.5))')\n25 loops, best of 3: 11.8 ms per loop\nsage: eval_legendre(int(10^6),float(2.5))\ninf\n\n```\nwhile `legenp` will already bail out at 10<sup>5</sup> because of F convergence issues.",
    "created_at": "2014-09-01T13:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220523",
    "user": "https://github.com/rwst"
}
```

<div id="comment:6" align="right">comment:6</div>

Some timings for P(n,z):

```
sage: legendre_P(100,2.5)
6.39483750487443e66
sage: timeit('legendre_P(100,2.5)')
25 loops, best of 3: 21 ms per loop

sage: from mpmath import legenp 
sage: legenp(100,0,2.5)
mpf('6.3948375048744286e+66')
sage: timeit('legenp(100,0,2.5)')
625 loops, best of 3: 97.2 µs per loop

sage: from scipy.special import eval_legendre
sage: eval_legendre(int(100),float(2.5))
6.3948375048744324e+66
sage: timeit('eval_legendre(int(100),float(2.5))')
625 loops, best of 3: 7.62 µs per loop

sage: eval_legendre(int(10^5),float(1.00001))
3.1548483029540554e+192
sage: timeit('eval_legendre(int(10^6),float(2.5))')
25 loops, best of 3: 11.8 ms per loop
sage: eval_legendre(int(10^6),float(2.5))
inf

```
while `legenp` will already bail out at 10<sup>5</sup> because of F convergence issues.



---

archive/issue_comments_220524.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nWith P(n,x) symbolics and algebra, Pari is much better than Maxima\n\n```\nsage: P.<t> = QQ[]\nsage: timeit('legendre_P(1000,t)')\n5 loops, best of 3: 2.8 s per loop\nsage: timeit('pari.pollegendre(1000,t)')\n625 loops, best of 3: 366 \u00b5s per loop\n```",
    "created_at": "2014-09-01T14:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220524",
    "user": "https://github.com/rwst"
}
```

<div id="comment:7" align="right">comment:7</div>

With P(n,x) symbolics and algebra, Pari is much better than Maxima

```
sage: P.<t> = QQ[]
sage: timeit('legendre_P(1000,t)')
5 loops, best of 3: 2.8 s per loop
sage: timeit('pari.pollegendre(1000,t)')
625 loops, best of 3: 366 µs per loop
```



---

archive/issue_comments_220525.json:
```json
{
    "body": "Branch: **[u/rws/symbolic_legendre___associated_legendre_functions___polynomials](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/symbolic_legendre___associated_legendre_functions___polynomials)**",
    "created_at": "2014-09-04T12:34:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220525",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/symbolic_legendre___associated_legendre_functions___polynomials](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/symbolic_legendre___associated_legendre_functions___polynomials)**



---

archive/issue_comments_220526.json:
```json
{
    "body": "Commit: **[`0f86b77`](https://github.com/sagemath/sagetrac-mirror/commit/0f86b77a9aa818add6848cacf9a3f371d49c7d3a)**",
    "created_at": "2014-09-04T12:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220526",
    "user": "https://github.com/rwst"
}
```

Commit: **[`0f86b77`](https://github.com/sagemath/sagetrac-mirror/commit/0f86b77a9aa818add6848cacf9a3f371d49c7d3a)**



---

archive/issue_comments_220527.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThis is a proof of concept patch, and one can already use `legendre_P` and see from that and the code how the other three functions will look like. So, now would be a good time for fundamental criticism 8)\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50da8c56ae2c9c7a94b7d613b6778122355fb63b\"><code>50da8c5</code></a></td><td><code>16813: skeleton P(n,x)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e74539b57c7a7418a1124ee03ef50fcd9f90f78a\"><code>e74539b</code></a></td><td><code>16813: P(n,x) refined, documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f86b77a9aa818add6848cacf9a3f371d49c7d3a\"><code>0f86b77</code></a></td><td><code>16813: fixes for doctest failures</code></td></tr></table>\n",
    "created_at": "2014-09-04T12:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220527",
    "user": "https://github.com/rwst"
}
```

<div id="comment:9" align="right">comment:9</div>

This is a proof of concept patch, and one can already use `legendre_P` and see from that and the code how the other three functions will look like. So, now would be a good time for fundamental criticism 8)

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50da8c56ae2c9c7a94b7d613b6778122355fb63b"><code>50da8c5</code></a></td><td><code>16813: skeleton P(n,x)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e74539b57c7a7418a1124ee03ef50fcd9f90f78a"><code>e74539b</code></a></td><td><code>16813: P(n,x) refined, documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f86b77a9aa818add6848cacf9a3f371d49c7d3a"><code>0f86b77</code></a></td><td><code>16813: fixes for doctest failures</code></td></tr></table>




---

archive/issue_comments_220528.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@sagetrac-maldun](#comment%3A1):\n> A good read on Legendre polynomials is also the bible for ortho polys: Abramowitz and Stegun [http://people.math.sfu.ca/~cbm/aands/page_331.htm](http://people.math.sfu.ca/~cbm/aands/page_331.htm)\n\nThis appears outdated, it is replaced by http://dlmf.nist.gov/14",
    "created_at": "2014-09-07T05:48:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220528",
    "user": "https://github.com/rwst"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@sagetrac-maldun](#comment%3A1):
> A good read on Legendre polynomials is also the bible for ortho polys: Abramowitz and Stegun [http://people.math.sfu.ca/~cbm/aands/page_331.htm](http://people.math.sfu.ca/~cbm/aands/page_331.htm)

This appears outdated, it is replaced by http://dlmf.nist.gov/14



---

archive/issue_comments_220529.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@rwst](#comment%3A10):\n> Replying to [@sagetrac-maldun](#comment%3A1):\n> > A good read on Legendre polynomials is also the bible for ortho polys: Abramowitz and Stegun [http://people.math.sfu.ca/~cbm/aands/page_331.htm](http://people.math.sfu.ca/~cbm/aands/page_331.htm)\n\n> This appears outdated, it is replaced by http://dlmf.nist.gov/14\n\nYou can't call a source outdated, which still covers information that the newer source doesn't. I checked your link, and some things from A&S are missign e.g. explicit representation of Legendre Polynomials with their polynomial coefficients.\nAnd on another note: I don't see much harm in citing a classic work on this topic ...",
    "created_at": "2014-09-07T09:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220529",
    "user": "https://github.com/sagetrac-maldun"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@rwst](#comment%3A10):
> Replying to [@sagetrac-maldun](#comment%3A1):
> > A good read on Legendre polynomials is also the bible for ortho polys: Abramowitz and Stegun [http://people.math.sfu.ca/~cbm/aands/page_331.htm](http://people.math.sfu.ca/~cbm/aands/page_331.htm)

> This appears outdated, it is replaced by http://dlmf.nist.gov/14

You can't call a source outdated, which still covers information that the newer source doesn't. I checked your link, and some things from A&S are missign e.g. explicit representation of Legendre Polynomials with their polynomial coefficients.
And on another note: I don't see much harm in citing a classic work on this topic ...



---

archive/issue_comments_220530.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@sagetrac-maldun](#comment%3A5):\n> I already implemented all Orthopolys one time: https://github.com/sagemath/sage/files/ticket9706/trac_9706_ortho_polys.patch.gz\n> \n> they only would need cleanup/restructuring. Maybe you can reuse some of the implemented methods (like recursions and derivatives)\n\nI am not sure about the derivatives. For `P(3,2,x).diff(x)` I get `-45*x^2 + 15` (Wolfram agrees) while with your formula (lines 2377-2395 of the patch) I get (after simplification) `-45*x^2 - 15`.\n\nUpdate: what's your reference there?",
    "created_at": "2014-09-09T16:24:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220530",
    "user": "https://github.com/rwst"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@sagetrac-maldun](#comment%3A5):
> I already implemented all Orthopolys one time: https://github.com/sagemath/sage/files/ticket9706/trac_9706_ortho_polys.patch.gz
> 
> they only would need cleanup/restructuring. Maybe you can reuse some of the implemented methods (like recursions and derivatives)

I am not sure about the derivatives. For `P(3,2,x).diff(x)` I get `-45*x^2 + 15` (Wolfram agrees) while with your formula (lines 2377-2395 of the patch) I get (after simplification) `-45*x^2 - 15`.

Update: what's your reference there?



---

archive/issue_comments_220531.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@rwst](#comment%3A12):\n> Replying to [@sagetrac-maldun](#comment%3A5):\n> > I already implemented all Orthopolys one time: https://github.com/sagemath/sage/files/ticket9706/trac_9706_ortho_polys.patch.gz\n> > \n> > they only would need cleanup/restructuring. Maybe you can reuse some of the implemented methods (like recursions and derivatives)\n\n> I am not sure about the derivatives. For `P(3,2,x).diff(x)` I get `-45*x^2 + 15` (Wolfram agrees) while with your formula (lines 2377-2395 of the patch) I get (after simplification) `-45*x^2 - 15`.\n> \n> Update: what's your reference there?\n\nIt seems you are right. from Gradshteyn-Ryzhik p.1004 formula 8.731-1 we have the relation\n\n```\nP(n,m,x).diff(x) = ((n+1-m)*P(n+1,m,x)-(n+1)*x*P(n,m,x))/(x**2-1)\n```\nThe same relation holds for gen_legendre_Q\n\nI suppose that's an copy/paste/rewrite mistake from my side.",
    "created_at": "2014-09-09T17:38:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220531",
    "user": "https://github.com/sagetrac-maldun"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@rwst](#comment%3A12):
> Replying to [@sagetrac-maldun](#comment%3A5):
> > I already implemented all Orthopolys one time: https://github.com/sagemath/sage/files/ticket9706/trac_9706_ortho_polys.patch.gz
> > 
> > they only would need cleanup/restructuring. Maybe you can reuse some of the implemented methods (like recursions and derivatives)

> I am not sure about the derivatives. For `P(3,2,x).diff(x)` I get `-45*x^2 + 15` (Wolfram agrees) while with your formula (lines 2377-2395 of the patch) I get (after simplification) `-45*x^2 - 15`.
> 
> Update: what's your reference there?

It seems you are right. from Gradshteyn-Ryzhik p.1004 formula 8.731-1 we have the relation

```
P(n,m,x).diff(x) = ((n+1-m)*P(n+1,m,x)-(n+1)*x*P(n,m,x))/(x**2-1)
```
The same relation holds for gen_legendre_Q

I suppose that's an copy/paste/rewrite mistake from my side.



---

archive/issue_comments_220532.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAlso, your recursive functions for `Q(n,x)` and `Q(n,m,x)` appear to be wrong:\n\n```\nsage: legendre_Q.eval_recursive(2,x).subs(x=3)\n13/2*I*pi + 13/2*log(2) - 9/2\nsage: legendre_Q.eval_recursive(2,x).subs(x=3).n()\n0.00545667363964419 + 20.4203522483337*I\nsage: legendre_Q(2,3.)\n0.00545667363964451 - 20.4203522483337*I\n```\nThe latter result from mpmath is supported by Wolfram.\n\nAs to `Q(n,m,x)`:\n\n```\nsage: gen_legendre_Q(2,1,x).subs(x=3)\n-1/8*sqrt(-2)*(72*I*pi + 72*log(2) - 50)\nsage: gen_legendre_Q(2,1,x).subs(x=3).n()\n39.9859464434253 + 0.0165114736149170*I\nsage: gen_legendre_Q(2,1,3.)\n-39.9859464434253 + 0.0165114736149193*I\n```\nAgain, Wolfram supports the latter value from mpmath (symbolic as `(25 i)/(2 sqrt(2))-18 i sqrt(2) ((log(4))/2+1/2 (-log(2)-i pi))`).",
    "created_at": "2014-09-12T15:28:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220532",
    "user": "https://github.com/rwst"
}
```

<div id="comment:14" align="right">comment:14</div>

Also, your recursive functions for `Q(n,x)` and `Q(n,m,x)` appear to be wrong:

```
sage: legendre_Q.eval_recursive(2,x).subs(x=3)
13/2*I*pi + 13/2*log(2) - 9/2
sage: legendre_Q.eval_recursive(2,x).subs(x=3).n()
0.00545667363964419 + 20.4203522483337*I
sage: legendre_Q(2,3.)
0.00545667363964451 - 20.4203522483337*I
```
The latter result from mpmath is supported by Wolfram.

As to `Q(n,m,x)`:

```
sage: gen_legendre_Q(2,1,x).subs(x=3)
-1/8*sqrt(-2)*(72*I*pi + 72*log(2) - 50)
sage: gen_legendre_Q(2,1,x).subs(x=3).n()
39.9859464434253 + 0.0165114736149170*I
sage: gen_legendre_Q(2,1,3.)
-39.9859464434253 + 0.0165114736149193*I
```
Again, Wolfram supports the latter value from mpmath (symbolic as `(25 i)/(2 sqrt(2))-18 i sqrt(2) ((log(4))/2+1/2 (-log(2)-i pi))`).



---

archive/issue_comments_220533.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nOK, I resolved it by using `conjugate()` on every logarithm in the `Q(n,x)` algorithms (on which the `Q(n,m,x)` recurrence is based, too).\n\nUpdate: it however makes symbolic work tedious and differentiation impossible, at the moment.\n\nSee also https://groups.google.com/forum/?hl=en#!topic/sage-support/bEMPMEYeZKU on derivatives of conjugates in Sage.",
    "created_at": "2014-09-13T08:37:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220533",
    "user": "https://github.com/rwst"
}
```

<div id="comment:15" align="right">comment:15</div>

OK, I resolved it by using `conjugate()` on every logarithm in the `Q(n,x)` algorithms (on which the `Q(n,m,x)` recurrence is based, too).

Update: it however makes symbolic work tedious and differentiation impossible, at the moment.

See also https://groups.google.com/forum/?hl=en#!topic/sage-support/bEMPMEYeZKU on derivatives of conjugates in Sage.



---

archive/issue_comments_220534.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThanks for resolving this issue! I suppose I wasn't careful enough with complex arguments. But in my defense: I hadn't time to test this codes well enough when I wrote them ... but hopefully they give some useful informations.\n\nconcerning complex conjugation: I hope my answer on the mailing list give some clues: [https://groups.google.com/forum/?hl=en#!topic/sage-support/bEMPMEYeZKU](https://groups.google.com/forum/?hl=en#!topic/sage-support/bEMPMEYeZKU)\n\nReplying to [@rwst](#comment%3A15):\n> OK, I resolved it by using `conjugate()` on every logarithm in the `Q(n,x)` algorithms (on which the `Q(n,m,x)` recurrence is based, too).\n> \n> Update: it however makes symbolic work tedious and differentiation impossible, at the moment.\n> \n> See also https://groups.google.com/forum/?hl=en#!topic/sage-support/bEMPMEYeZKU on derivatives of conjugates in Sage.",
    "created_at": "2014-09-13T13:51:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220534",
    "user": "https://github.com/sagetrac-maldun"
}
```

<div id="comment:16" align="right">comment:16</div>

Thanks for resolving this issue! I suppose I wasn't careful enough with complex arguments. But in my defense: I hadn't time to test this codes well enough when I wrote them ... but hopefully they give some useful informations.

concerning complex conjugation: I hope my answer on the mailing list give some clues: [https://groups.google.com/forum/?hl=en#!topic/sage-support/bEMPMEYeZKU](https://groups.google.com/forum/?hl=en#!topic/sage-support/bEMPMEYeZKU)

Replying to [@rwst](#comment%3A15):
> OK, I resolved it by using `conjugate()` on every logarithm in the `Q(n,x)` algorithms (on which the `Q(n,m,x)` recurrence is based, too).
> 
> Update: it however makes symbolic work tedious and differentiation impossible, at the moment.
> 
> See also https://groups.google.com/forum/?hl=en#!topic/sage-support/bEMPMEYeZKU on derivatives of conjugates in Sage.



---

archive/issue_comments_220535.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@sagetrac-maldun](#comment%3A16):\n> Thanks for resolving this issue!\n\nUnfortunately, while it would be easy to resolve this numerically, the instances of `conjugate()` introduced in the recurrence will make symbolic results from the recurrence unreadable and, in case of derivatives, impossible to use. A different way of computing the recurrences is needed, one which does away with usage of `conjugate()`.",
    "created_at": "2014-09-13T13:56:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220535",
    "user": "https://github.com/rwst"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@sagetrac-maldun](#comment%3A16):
> Thanks for resolving this issue!

Unfortunately, while it would be easy to resolve this numerically, the instances of `conjugate()` introduced in the recurrence will make symbolic results from the recurrence unreadable and, in case of derivatives, impossible to use. A different way of computing the recurrences is needed, one which does away with usage of `conjugate()`.



---

archive/issue_comments_220536.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nHi!\n\nWe have several possible ways out of this:\n1) avoid recursion for symbolic argument for Legendre_Q and use another library (maxima, flint, sympy ... ) for evaluation.\n2) Let it be, but avoid it as default method.\n3) Maybe more elegantly: There is a more closed relation for legendre_Q (but it's not really a recursion):\n\n```\nQ(n,z) = \u00bdP(n,z) ln((z+1)/(z-1)) - W(n-1,z)\n```\nwith\n\n```\nW(n,z) = \u03a3_{k=1}^n (1/k) P(k-1,z) P(n-k,z)\n```\n(Gradshteyn-Ryzhik p 1019f)\n\nMaybe we could find an recursion for W(n,z)\n\nHope this could be of some use\n\nEdit there should be a recursion since W(n,z) is the convolution of aseries of   holonomic functions, and if I remeber correctly there is an theorem saying that convolutions of holonomic functions are also holonomic, thus should have a recursion.\n\nEdit: The above mentioned relation can also be found here: [http://people.math.sfu.ca/~cbm/aands/page_334.htm](http://people.math.sfu.ca/~cbm/aands/page_334.htm)",
    "created_at": "2014-09-13T14:22:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220536",
    "user": "https://github.com/sagetrac-maldun"
}
```

<div id="comment:18" align="right">comment:18</div>

Hi!

We have several possible ways out of this:
1) avoid recursion for symbolic argument for Legendre_Q and use another library (maxima, flint, sympy ... ) for evaluation.
2) Let it be, but avoid it as default method.
3) Maybe more elegantly: There is a more closed relation for legendre_Q (but it's not really a recursion):

```
Q(n,z) = ½P(n,z) ln((z+1)/(z-1)) - W(n-1,z)
```
with

```
W(n,z) = Σ_{k=1}^n (1/k) P(k-1,z) P(n-k,z)
```
(Gradshteyn-Ryzhik p 1019f)

Maybe we could find an recursion for W(n,z)

Hope this could be of some use

Edit there should be a recursion since W(n,z) is the convolution of aseries of   holonomic functions, and if I remeber correctly there is an theorem saying that convolutions of holonomic functions are also holonomic, thus should have a recursion.

Edit: The above mentioned relation can also be found here: [http://people.math.sfu.ca/~cbm/aands/page_334.htm](http://people.math.sfu.ca/~cbm/aands/page_334.htm)



---

archive/issue_comments_220537.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n\n```\nsage: from ore_algebra import *\nsage: def W(n):\n    return sum([(1/k)*legendre_P(k-1,t)*legendre_P(n-k,t) for k in range(1,n+1)])\n....: \nsage: R.<t> = QQ['t']\nsage: guess([W(n) for n in range(1,10)], OreAlgebra(R['n'], 'Sn'))\n(-n - 3)*Sn^2 + (2*t*n + 5*t)*Sn - n - 2\n```",
    "created_at": "2014-09-13T15:11:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220537",
    "user": "https://github.com/rwst"
}
```

<div id="comment:19" align="right">comment:19</div>


```
sage: from ore_algebra import *
sage: def W(n):
    return sum([(1/k)*legendre_P(k-1,t)*legendre_P(n-k,t) for k in range(1,n+1)])
....: 
sage: R.<t> = QQ['t']
sage: guess([W(n) for n in range(1,10)], OreAlgebra(R['n'], 'Sn'))
(-n - 3)*Sn^2 + (2*t*n + 5*t)*Sn - n - 2
```



---

archive/issue_comments_220538.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nNice! I didn't know that sage already supports Ore Algebras.\nIt appears that my holonomic function package on Mathematica stopped to work.",
    "created_at": "2014-09-13T15:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220538",
    "user": "https://github.com/sagetrac-maldun"
}
```

<div id="comment:20" align="right">comment:20</div>

Nice! I didn't know that sage already supports Ore Algebras.
It appears that my holonomic function package on Mathematica stopped to work.



---

archive/issue_comments_220539.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI always need some time to figure out the final form (that offset of `n`!) but: n*W<sub>n</sub> = (2tn-t)*W<sub>n-1</sub> - (n-1)W<sub>n-2</sub> (W<sub>0</sub>=0, W<sub>1</sub>=1).",
    "created_at": "2014-09-13T16:05:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220539",
    "user": "https://github.com/rwst"
}
```

<div id="comment:21" align="right">comment:21</div>

I always need some time to figure out the final form (that offset of `n`!) but: n*W<sub>n</sub> = (2tn-t)*W<sub>n-1</sub> - (n-1)W<sub>n-2</sub> (W<sub>0</sub>=0, W<sub>1</sub>=1).



---

archive/issue_comments_220540.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nHowever, this will yield the same result unless the `log` has `conjugate` associated with it. This shows your recurrence is actually correct but numerical results derived from it by substitution may need a warning about the log branch. I know not enough about calculus, maybe I'll ask again, this time on sage-devel, if there should be a switch for `log()` to select the branch in case of numerical evaluation. What do you think?",
    "created_at": "2014-09-14T07:33:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220540",
    "user": "https://github.com/rwst"
}
```

<div id="comment:22" align="right">comment:22</div>

However, this will yield the same result unless the `log` has `conjugate` associated with it. This shows your recurrence is actually correct but numerical results derived from it by substitution may need a warning about the log branch. I know not enough about calculus, maybe I'll ask again, this time on sage-devel, if there should be a switch for `log()` to select the branch in case of numerical evaluation. What do you think?



---

archive/issue_comments_220541.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI think there must be another different formula, because Wolfram has this for `Q(2,x)`:\n\n```\nsage: ((3*x^2-1)/2*(log(x+1)-log(1-x))/2-3*x/2).subs(x=3)\n-13/2*I*pi + 13/2*log(4) - 13/2*log(2) - 9/2\nsage: ((3*x^2-1)/2*(log(x+1)-log(1-x))/2-3*x/2).subs(x=3).n()\n0.00545667363964419 - 20.4203522483337*I\n```\nwhich yields the correct value without use of `conjugate`.\n\nThe first few `Q(n,x)` from Wolfram are:\n\n```\nQ(0,x) = 1/2 log(x+1)-1/2 log(1-x)\nQ(1,x) = x (1/2 log(x+1)-1/2 log(1-x))-1\nQ(2,x) = 1/2 (3 x^2-1) (1/2 log(x+1)-1/2 log(1-x))-(3 x)/2\nQ(3,x) = -(5 x^2)/2-1/2 (3-5 x^2) x (1/2 log(x+1)-1/2 log(1-x))+2/3\n```\nwhich makes clear that instead of `log((1+x)/(1-x)).conjugate()` we should just use `log(1+x)-log(1-x)`, of course. Oh well.",
    "created_at": "2014-09-14T07:56:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220541",
    "user": "https://github.com/rwst"
}
```

<div id="comment:23" align="right">comment:23</div>

I think there must be another different formula, because Wolfram has this for `Q(2,x)`:

```
sage: ((3*x^2-1)/2*(log(x+1)-log(1-x))/2-3*x/2).subs(x=3)
-13/2*I*pi + 13/2*log(4) - 13/2*log(2) - 9/2
sage: ((3*x^2-1)/2*(log(x+1)-log(1-x))/2-3*x/2).subs(x=3).n()
0.00545667363964419 - 20.4203522483337*I
```
which yields the correct value without use of `conjugate`.

The first few `Q(n,x)` from Wolfram are:

```
Q(0,x) = 1/2 log(x+1)-1/2 log(1-x)
Q(1,x) = x (1/2 log(x+1)-1/2 log(1-x))-1
Q(2,x) = 1/2 (3 x^2-1) (1/2 log(x+1)-1/2 log(1-x))-(3 x)/2
Q(3,x) = -(5 x^2)/2-1/2 (3-5 x^2) x (1/2 log(x+1)-1/2 log(1-x))+2/3
```
which makes clear that instead of `log((1+x)/(1-x)).conjugate()` we should just use `log(1+x)-log(1-x)`, of course. Oh well.



---

archive/issue_comments_220542.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nOh yeah it's again the non uniqueness of the representation of the complex logarithm\n\n```\nsage: log((x+1)/(1-x)).subs(x=3)\nI*pi + log(2)\nsage: (log(x+1)-log(1-x)).subs(x=3).simplify_log()\n-I*pi + log(2)\nsage: log((x+1)/(1-x)).subs(x=3).conjugate()\n-I*pi + log(2)\n```\n\nconfusing as hell ...\n\nI think Wolfram uses the log(1+x)-log(1-x) representation simply by the fact that it is independent of the branch in the following sense:\nLet log(x) = ln|x| + i*arg(x) + 2k\u03c0i and log(y) = ln|y| + i*arg(y) + 2k\u03c0i\nthen \n\n```\nlog(x) - log(y) = ln|x| + i*arg(x) + 2k\u03c0i- ln|y| + i*arg(y) + 2k\u03c0i = \n= ln|x/y| + i*(arg(x) - arg(y)) + 0 \n```\nI.e. if we have the same branch on the logarithm the module of 2k\u03c0i cancels out.\n\nThat means the formula isn't exactly wrong, it uses simply a different branch of the logarithm. But the representation of log as difference saves us indeed a lot of trouble, and as showed above is independent of the branch we use.\n\nNevertheless I think we should stick to the recursion with W(n,x), because from a computational view it is a lot better since:\n\n1) The computational complexity is the same (solving a two term recursion)\n\n2) we save computation time since we don't have to simplify expressions containing logarithms but only polynomials which are much simpler to handle and expand.",
    "created_at": "2014-09-14T10:27:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220542",
    "user": "https://github.com/sagetrac-maldun"
}
```

<div id="comment:24" align="right">comment:24</div>

Oh yeah it's again the non uniqueness of the representation of the complex logarithm

```
sage: log((x+1)/(1-x)).subs(x=3)
I*pi + log(2)
sage: (log(x+1)-log(1-x)).subs(x=3).simplify_log()
-I*pi + log(2)
sage: log((x+1)/(1-x)).subs(x=3).conjugate()
-I*pi + log(2)
```

confusing as hell ...

I think Wolfram uses the log(1+x)-log(1-x) representation simply by the fact that it is independent of the branch in the following sense:
Let log(x) = ln|x| + i*arg(x) + 2kπi and log(y) = ln|y| + i*arg(y) + 2kπi
then 

```
log(x) - log(y) = ln|x| + i*arg(x) + 2kπi- ln|y| + i*arg(y) + 2kπi = 
= ln|x/y| + i*(arg(x) - arg(y)) + 0 
```
I.e. if we have the same branch on the logarithm the module of 2kπi cancels out.

That means the formula isn't exactly wrong, it uses simply a different branch of the logarithm. But the representation of log as difference saves us indeed a lot of trouble, and as showed above is independent of the branch we use.

Nevertheless I think we should stick to the recursion with W(n,x), because from a computational view it is a lot better since:

1) The computational complexity is the same (solving a two term recursion)

2) we save computation time since we don't have to simplify expressions containing logarithms but only polynomials which are much simpler to handle and expand.



---

archive/issue_comments_220543.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b67667758128b22771b899dc47d8bf6c18e00a4\"><code>0b67667</code></a></td><td><code>16813: Q(n,x) implementation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06df7c8884bdf258558ad1cf37338952b89bc95f\"><code>06df7c8</code></a></td><td><code>16813: implement P(n,m,x)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7bd4a70a273a4f1514caa4562f85763229c870a9\"><code>7bd4a70</code></a></td><td><code>Merge branch 'develop' into t/16813/symbolic_legendre___associated_legendre_functions___polynomials</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74ca8ea0fd8ef0eab57ceb1405e0887efd971bc9\"><code>74ca8ea</code></a></td><td><code>16813: implement Q(n,m,x); fixes, doctests</code></td></tr></table>\n",
    "created_at": "2014-09-14T13:52:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220543",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b67667758128b22771b899dc47d8bf6c18e00a4"><code>0b67667</code></a></td><td><code>16813: Q(n,x) implementation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06df7c8884bdf258558ad1cf37338952b89bc95f"><code>06df7c8</code></a></td><td><code>16813: implement P(n,m,x)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7bd4a70a273a4f1514caa4562f85763229c870a9"><code>7bd4a70</code></a></td><td><code>Merge branch 'develop' into t/16813/symbolic_legendre___associated_legendre_functions___polynomials</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74ca8ea0fd8ef0eab57ceb1405e0887efd971bc9"><code>74ca8ea</code></a></td><td><code>16813: implement Q(n,m,x); fixes, doctests</code></td></tr></table>




---

archive/issue_comments_220544.json:
```json
{
    "body": "Changed commit from **[`0f86b77`](https://github.com/sagemath/sagetrac-mirror/commit/0f86b77a9aa818add6848cacf9a3f371d49c7d3a)** to **[`74ca8ea`](https://github.com/sagemath/sagetrac-mirror/commit/74ca8ea0fd8ef0eab57ceb1405e0887efd971bc9)**",
    "created_at": "2014-09-14T13:52:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220544",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0f86b77`](https://github.com/sagemath/sagetrac-mirror/commit/0f86b77a9aa818add6848cacf9a3f371d49c7d3a)** to **[`74ca8ea`](https://github.com/sagemath/sagetrac-mirror/commit/74ca8ea0fd8ef0eab57ceb1405e0887efd971bc9)**



---

archive/issue_events_238150.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-09-14T14:01:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238150"
}
```



---

archive/issue_comments_220545.json:
```json
{
    "body": "Author: **Ralf Stephan**",
    "created_at": "2014-09-14T14:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220545",
    "user": "https://github.com/rwst"
}
```

Author: **Ralf Stephan**



---

archive/issue_comments_220546.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@sagetrac-maldun](#comment%3A24):\n> Nevertheless I think we should stick to the recursion with W(n,x), because from a computational view it is a lot better since:\n> \n> 1) The computational complexity is the same (solving a two term recursion)\n> \n> 2) we save computation time since we don't have to simplify expressions containing logarithms but only polynomials which are much simpler to handle and expand.\n\nWell, I have implemented your recurrence using multivariate polynomials where the generator `l` stands for the `log` term and gets substituted subsequently. This is already twice as fast as Maxima. However, your intuition was right that the `W(n,x)` formula is still faster, my guess because univariate polys are faster than multi. Note that the `P(n,x)` have to be computed, too, but nevertheless it's about 10x the speed of Maxima (which BTW uses the wrong log branch as well).\n\nI might add some introductory doc cleanup but the functions themselves are now finished. Please review.",
    "created_at": "2014-09-14T14:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220546",
    "user": "https://github.com/rwst"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@sagetrac-maldun](#comment%3A24):
> Nevertheless I think we should stick to the recursion with W(n,x), because from a computational view it is a lot better since:
> 
> 1) The computational complexity is the same (solving a two term recursion)
> 
> 2) we save computation time since we don't have to simplify expressions containing logarithms but only polynomials which are much simpler to handle and expand.

Well, I have implemented your recurrence using multivariate polynomials where the generator `l` stands for the `log` term and gets substituted subsequently. This is already twice as fast as Maxima. However, your intuition was right that the `W(n,x)` formula is still faster, my guess because univariate polys are faster than multi. Note that the `P(n,x)` have to be computed, too, but nevertheless it's about 10x the speed of Maxima (which BTW uses the wrong log branch as well).

I might add some introductory doc cleanup but the functions themselves are now finished. Please review.



---

archive/issue_comments_220547.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@rwst](#comment%3A26):\n\n> Well, I have implemented your recurrence using multivariate polynomials where the generator `l` stands for the `log` term and gets substituted subsequently. This is already twice as fast as Maxima. However, your intuition was right that the `W(n,x)` formula is still faster, my guess because univariate polys are faster than multi. Note that the `P(n,x)` have to be computed, too, but nevertheless it's about 10x the speed of Maxima (which BTW uses the wrong log branch as well).\n> \n> I might add some introductory doc cleanup but the functions themselves are now finished. Please review.\n\nIf Maxima uses also this branch of the logarithm we should make sure that changing the branch of the logarithm does not interfere with existing code. Have you already testet the complete sage library with\n\n```\nsage -testall\n```\n?\n\nWe should also ask on the mailing list if there are some objections with that. \n\nPersonally I'm fine with both, as long as it is consistent, since using another branch of the logarithm is not wrong, but maybe not expected. (Maybe I programmed the recursion that way, since I compared it with Maxima that time, so that the output does not change)",
    "created_at": "2014-09-14T15:49:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220547",
    "user": "https://github.com/sagetrac-maldun"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@rwst](#comment%3A26):

> Well, I have implemented your recurrence using multivariate polynomials where the generator `l` stands for the `log` term and gets substituted subsequently. This is already twice as fast as Maxima. However, your intuition was right that the `W(n,x)` formula is still faster, my guess because univariate polys are faster than multi. Note that the `P(n,x)` have to be computed, too, but nevertheless it's about 10x the speed of Maxima (which BTW uses the wrong log branch as well).
> 
> I might add some introductory doc cleanup but the functions themselves are now finished. Please review.

If Maxima uses also this branch of the logarithm we should make sure that changing the branch of the logarithm does not interfere with existing code. Have you already testet the complete sage library with

```
sage -testall
```
?

We should also ask on the mailing list if there are some objections with that. 

Personally I'm fine with both, as long as it is consistent, since using another branch of the logarithm is not wrong, but maybe not expected. (Maybe I programmed the recursion that way, since I compared it with Maxima that time, so that the output does not change)



---

archive/issue_comments_220548.json:
```json
{
    "body": "Changed author from **Ralf Stephan** to **Ralf Stephan, Stefan Reiterer**",
    "created_at": "2014-09-14T16:23:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220548",
    "user": "https://github.com/rwst"
}
```

Changed author from **Ralf Stephan** to **Ralf Stephan, Stefan Reiterer**



---

archive/issue_comments_220549.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@sagetrac-maldun](#comment%3A27):\n> Have you already testet the complete sage library with\n> \n> ```\n> sage -testall\n> ```\n> ?\n\nBuildbot task is queued.",
    "created_at": "2014-09-14T16:23:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220549",
    "user": "https://github.com/rwst"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@sagetrac-maldun](#comment%3A27):
> Have you already testet the complete sage library with
> 
> ```
> sage -testall
> ```
> ?

Buildbot task is queued.



---

archive/issue_comments_220550.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@rwst](#comment%3A28):\n> Replying to [@sagetrac-maldun](#comment%3A27):\n> > Have you already testet the complete sage library with\n> > \n> > ```\n> > sage -testall\n> > ```\n> > ?\n\n> Buildbot task is queued.\n\nI asked on sage-devel if there are other objections on using the log(1+z) - log(1-z) representation: https://groups.google.com/forum/?hl=en#!topic/sage-devel/5_4Pr8GypUA\nLet's see what the other developers think.",
    "created_at": "2014-09-15T08:30:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220550",
    "user": "https://github.com/sagetrac-maldun"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@rwst](#comment%3A28):
> Replying to [@sagetrac-maldun](#comment%3A27):
> > Have you already testet the complete sage library with
> > 
> > ```
> > sage -testall
> > ```
> > ?

> Buildbot task is queued.

I asked on sage-devel if there are other objections on using the log(1+z) - log(1-z) representation: https://groups.google.com/forum/?hl=en#!topic/sage-devel/5_4Pr8GypUA
Let's see what the other developers think.



---

archive/issue_comments_220551.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI'm afk for some time, will see when I get back.",
    "created_at": "2014-09-15T09:04:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220551",
    "user": "https://github.com/rwst"
}
```

<div id="comment:30" align="right">comment:30</div>

I'm afk for some time, will see when I get back.



---

archive/issue_comments_220552.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@sagetrac-maldun](#comment%3A29):\n> Replying to [@rwst](#comment%3A28):\n> > Replying to [@sagetrac-maldun](#comment%3A27):\n> > > Have you already testet the complete sage library with\n> > > \n> > > ```\n> > > sage -testall\n> > > ```\n> > > ?\n\n> > Buildbot task is queued.\n\nAnd tested successfully, see the top of the ticket.",
    "created_at": "2014-09-30T13:54:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220552",
    "user": "https://github.com/rwst"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@sagetrac-maldun](#comment%3A29):
> Replying to [@rwst](#comment%3A28):
> > Replying to [@sagetrac-maldun](#comment%3A27):
> > > Have you already testet the complete sage library with
> > > 
> > > ```
> > > sage -testall
> > > ```
> > > ?

> > Buildbot task is queued.

And tested successfully, see the top of the ticket.



---

archive/issue_comments_220553.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nVery good! Since there are no objections on sage-devel this ticket only needs review now.",
    "created_at": "2014-09-30T17:33:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220553",
    "user": "https://github.com/sagetrac-maldun"
}
```

<div id="comment:32" align="right">comment:32</div>

Very good! Since there are no objections on sage-devel this ticket only needs review now.



---

archive/issue_comments_220554.json:
```json
{
    "body": "Changed commit from **[`74ca8ea`](https://github.com/sagemath/sagetrac-mirror/commit/74ca8ea0fd8ef0eab57ceb1405e0887efd971bc9)** to **[`daf47c5`](https://github.com/sagemath/sagetrac-mirror/commit/daf47c5924ead67cea53c409ad37386095c8e49c)**",
    "created_at": "2014-12-06T09:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220554",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`74ca8ea`](https://github.com/sagemath/sagetrac-mirror/commit/74ca8ea0fd8ef0eab57ceb1405e0887efd971bc9)** to **[`daf47c5`](https://github.com/sagemath/sagetrac-mirror/commit/daf47c5924ead67cea53c409ad37386095c8e49c)**



---

archive/issue_comments_220555.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93915cc87c4d854247e8e83b4839dee729585002\"><code>93915cc</code></a></td><td><code>Merge branch 'develop' into t/16813/symbolic_legendre___associated_legendre_functions___polynomials</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/daf47c5924ead67cea53c409ad37386095c8e49c\"><code>daf47c5</code></a></td><td><code>16813: adaptations due to new BuiltinFunction code</code></td></tr></table>\n",
    "created_at": "2014-12-06T09:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220555",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93915cc87c4d854247e8e83b4839dee729585002"><code>93915cc</code></a></td><td><code>Merge branch 'develop' into t/16813/symbolic_legendre___associated_legendre_functions___polynomials</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/daf47c5924ead67cea53c409ad37386095c8e49c"><code>daf47c5</code></a></td><td><code>16813: adaptations due to new BuiltinFunction code</code></td></tr></table>




---

archive/issue_comments_220556.json:
```json
{
    "body": "Changed commit from **[`daf47c5`](https://github.com/sagemath/sagetrac-mirror/commit/daf47c5924ead67cea53c409ad37386095c8e49c)** to **[`a3c7c1e`](https://github.com/sagemath/sagetrac-mirror/commit/a3c7c1ee6d5043f6d741f96e258960a1438fb929)**",
    "created_at": "2015-02-24T09:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220556",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`daf47c5`](https://github.com/sagemath/sagetrac-mirror/commit/daf47c5924ead67cea53c409ad37386095c8e49c)** to **[`a3c7c1e`](https://github.com/sagemath/sagetrac-mirror/commit/a3c7c1ee6d5043f6d741f96e258960a1438fb929)**



---

archive/issue_comments_220557.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/779ea3aaf28f15280c791277ab8e15a365363d0f\"><code>779ea3a</code></a></td><td><code>Merge branch 'develop' into t/16813/symbolic_legendre___associated_legendre_functions___polynomials</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3c7c1ee6d5043f6d741f96e258960a1438fb929\"><code>a3c7c1e</code></a></td><td><code>16813: cosmetics</code></td></tr></table>\n",
    "created_at": "2015-02-24T09:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220557",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/779ea3aaf28f15280c791277ab8e15a365363d0f"><code>779ea3a</code></a></td><td><code>Merge branch 'develop' into t/16813/symbolic_legendre___associated_legendre_functions___polynomials</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3c7c1ee6d5043f6d741f96e258960a1438fb929"><code>a3c7c1e</code></a></td><td><code>16813: cosmetics</code></td></tr></table>




---

archive/issue_events_238151.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-03-12T09:23:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238151"
}
```



---

archive/issue_events_238152.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-03-12T09:23:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238152"
}
```



---

archive/issue_comments_220558.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nI'm getting several doctest failures like:\n\n```\nFile \"src/sage/functions/orthogonal_polys.py\", line 1426, in sage.functions.orthogonal_polys.Func_legendre_Q._maxima_init_evaled_\nFailed example:\n    legendre_Q._maxima_init_evaled_(20,x).coeff(x^10)\nExpected:\n    -29113619535/131072*log(-(x + 1)/(x - 1))\nGot:\n    doctest:1: DeprecationWarning: coeff is deprecated. Please use coefficient instead.\n    See http://trac.sagemath.org/17438 for details.\n    -29113619535/131072*log(-(x + 1)/(x - 1))\n```",
    "created_at": "2015-03-12T09:23:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220558",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:35" align="right">comment:35</div>

I'm getting several doctest failures like:

```
File "src/sage/functions/orthogonal_polys.py", line 1426, in sage.functions.orthogonal_polys.Func_legendre_Q._maxima_init_evaled_
Failed example:
    legendre_Q._maxima_init_evaled_(20,x).coeff(x^10)
Expected:
    -29113619535/131072*log(-(x + 1)/(x - 1))
Got:
    doctest:1: DeprecationWarning: coeff is deprecated. Please use coefficient instead.
    See http://trac.sagemath.org/17438 for details.
    -29113619535/131072*log(-(x + 1)/(x - 1))
```



---

archive/issue_comments_220559.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a062018ac09d7582e4d16e9af07fb9244b4e30c0\"><code>a062018</code></a></td><td><code>Merge branch 'develop' into t/16813/symbolic_legendre___associated_legendre_functions___polynomials</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e99dfa0a5cc82d168b2d3e90a4c2d94f65a21d5\"><code>4e99dfa</code></a></td><td><code>16813: fix doctests</code></td></tr></table>\n",
    "created_at": "2015-03-12T09:53:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220559",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a062018ac09d7582e4d16e9af07fb9244b4e30c0"><code>a062018</code></a></td><td><code>Merge branch 'develop' into t/16813/symbolic_legendre___associated_legendre_functions___polynomials</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e99dfa0a5cc82d168b2d3e90a4c2d94f65a21d5"><code>4e99dfa</code></a></td><td><code>16813: fix doctests</code></td></tr></table>




---

archive/issue_comments_220560.json:
```json
{
    "body": "Changed commit from **[`a3c7c1e`](https://github.com/sagemath/sagetrac-mirror/commit/a3c7c1ee6d5043f6d741f96e258960a1438fb929)** to **[`4e99dfa`](https://github.com/sagemath/sagetrac-mirror/commit/4e99dfa0a5cc82d168b2d3e90a4c2d94f65a21d5)**",
    "created_at": "2015-03-12T09:53:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220560",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a3c7c1e`](https://github.com/sagemath/sagetrac-mirror/commit/a3c7c1ee6d5043f6d741f96e258960a1438fb929)** to **[`4e99dfa`](https://github.com/sagemath/sagetrac-mirror/commit/4e99dfa0a5cc82d168b2d3e90a4c2d94f65a21d5)**



---

archive/issue_events_238153.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-12T09:53:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238153"
}
```



---

archive/issue_events_238154.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-12T09:53:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238154"
}
```



---

archive/issue_events_238155.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-12T09:53:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238155"
}
```



---

archive/issue_events_238156.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-12T09:53:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238156"
}
```



---

archive/issue_comments_220561.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nSorry if that's a stupid question, but why do you need to override `__call__`? In any case I guess a comment explaining the reason would be useful.",
    "created_at": "2015-03-12T15:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220561",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:38" align="right">comment:38</div>

Sorry if that's a stupid question, but why do you need to override `__call__`? In any case I guess a comment explaining the reason would be useful.



---

archive/issue_comments_220562.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\n\n```\nsage: legendre_P(0, 1).n()\n...\nAttributeError: 'int' object has no attribute 'n'\nsage: legendre_P(1, 1).n()\n1.00000000000000\n```",
    "created_at": "2015-03-12T15:27:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220562",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:39" align="right">comment:39</div>


```
sage: legendre_P(0, 1).n()
...
AttributeError: 'int' object has no attribute 'n'
sage: legendre_P(1, 1).n()
1.00000000000000
```



---

archive/issue_comments_220563.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\n\n```\nsage: legendre_P(42, 12345678)\n1464081544112412716366892468459853695115358209756840823628776385121841706762162962766108364297738809627122469598911070029409071998031560780937314580877929546448067606814039101080853578172130265741673137107647826759931295833598386722228898959000304822089300102623241891719774710215869248045233381461475507593850687226480251/549755813888\nsage: legendre_P(42, RR(12345678))\n+infinity\nsage: legendre_P(42, Reals(100)(12345678))\n2.6631488146675341638308827323e309\n```\n\n\u2192 Consistent so far. But:\n\n```\nsage: legendre_P(42, Reals(20)(12345678))\nlegendre_P(42, 1.2346e7)\n```",
    "created_at": "2015-03-12T15:32:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220563",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:40" align="right">comment:40</div>


```
sage: legendre_P(42, 12345678)
1464081544112412716366892468459853695115358209756840823628776385121841706762162962766108364297738809627122469598911070029409071998031560780937314580877929546448067606814039101080853578172130265741673137107647826759931295833598386722228898959000304822089300102623241891719774710215869248045233381461475507593850687226480251/549755813888
sage: legendre_P(42, RR(12345678))
+infinity
sage: legendre_P(42, Reals(100)(12345678))
2.6631488146675341638308827323e309
```

→ Consistent so far. But:

```
sage: legendre_P(42, Reals(20)(12345678))
legendre_P(42, 1.2346e7)
```



---

archive/issue_comments_220564.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nPerhaps related to the previous comment, I'm no fan of the mechanism used to choose `real_parent`. Do you have an example where this code would be useful that could not be handled at the level of `Function` or perhaps `OrthogonalPolynomial`?",
    "created_at": "2015-03-12T15:38:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220564",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:41" align="right">comment:41</div>

Perhaps related to the previous comment, I'm no fan of the mechanism used to choose `real_parent`. Do you have an example where this code would be useful that could not be handled at the level of `Function` or perhaps `OrthogonalPolynomial`?



---

archive/issue_comments_220565.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nMore on the wishlist side of things: The numerical evaluation methods return nonsense in cases where Maple, say, is accurate.\n\n```\nsage: legendre_P(201/2, 0).n()\n365146.687569733\nsage: legendre_P(201/2, 0).n(100).n()\n0.0561386178630179\n```",
    "created_at": "2015-03-12T15:52:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220565",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:42" align="right">comment:42</div>

More on the wishlist side of things: The numerical evaluation methods return nonsense in cases where Maple, say, is accurate.

```
sage: legendre_P(201/2, 0).n()
365146.687569733
sage: legendre_P(201/2, 0).n(100).n()
0.0561386178630179
```



---

archive/issue_events_238157.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-12T15:53:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238157"
}
```



---

archive/issue_events_238158.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-12T15:53:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238158"
}
```



---

archive/issue_comments_220566.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\n\n```\nsage: legendre_P(x, x, x)\n...\nTypeError: Symbolic function legendre_P takes exactly 2 arguments (3 given)\n```\nbut:\n\n```\nsage: legendre_P(1, x, x)\nx\n```",
    "created_at": "2015-03-12T16:12:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220566",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:44" align="right">comment:44</div>


```
sage: legendre_P(x, x, x)
...
TypeError: Symbolic function legendre_P takes exactly 2 arguments (3 given)
```
but:

```
sage: legendre_P(1, x, x)
x
```



---

archive/issue_comments_220567.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nWhy does `Func_legendre_P.__call__` contain:\n\n```\n       elif algorithm == 'recursive':\n           return self.eval_recursive(n, x)\n```\nwhile `Func_legendre_P` has no method `eval_recursive`?",
    "created_at": "2015-03-12T16:28:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220567",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:45" align="right">comment:45</div>

Why does `Func_legendre_P.__call__` contain:

```
       elif algorithm == 'recursive':
           return self.eval_recursive(n, x)
```
while `Func_legendre_P` has no method `eval_recursive`?



---

archive/issue_comments_220568.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47f5fa0a0a158b31bfce7a0205255da4bc7fb062\"><code>47f5fa0</code></a></td><td><code>16813: remove `__call__` methods; improve doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07814ad8c843399cd8d57d361e10eb15bb568e2e\"><code>07814ad</code></a></td><td><code>Merge branch 'develop' into t/16813/symbolic_legendre___associated_legendre_functions___polynomials</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2cc59c67f02f49e4d52aff909cbce4c347081650\"><code>2cc59c6</code></a></td><td><code>16813: remove real_parent stuff</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9df78de81e0c307a1181a6ad4453bc56a93870b2\"><code>9df78de</code></a></td><td><code>16813: more doctests</code></td></tr></table>\n",
    "created_at": "2015-03-13T16:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220568",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47f5fa0a0a158b31bfce7a0205255da4bc7fb062"><code>47f5fa0</code></a></td><td><code>16813: remove `__call__` methods; improve doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07814ad8c843399cd8d57d361e10eb15bb568e2e"><code>07814ad</code></a></td><td><code>Merge branch 'develop' into t/16813/symbolic_legendre___associated_legendre_functions___polynomials</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2cc59c67f02f49e4d52aff909cbce4c347081650"><code>2cc59c6</code></a></td><td><code>16813: remove real_parent stuff</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9df78de81e0c307a1181a6ad4453bc56a93870b2"><code>9df78de</code></a></td><td><code>16813: more doctests</code></td></tr></table>




---

archive/issue_comments_220569.json:
```json
{
    "body": "Changed commit from **[`4e99dfa`](https://github.com/sagemath/sagetrac-mirror/commit/4e99dfa0a5cc82d168b2d3e90a4c2d94f65a21d5)** to **[`9df78de`](https://github.com/sagemath/sagetrac-mirror/commit/9df78de81e0c307a1181a6ad4453bc56a93870b2)**",
    "created_at": "2015-03-13T16:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220569",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4e99dfa`](https://github.com/sagemath/sagetrac-mirror/commit/4e99dfa0a5cc82d168b2d3e90a4c2d94f65a21d5)** to **[`9df78de`](https://github.com/sagemath/sagetrac-mirror/commit/9df78de81e0c307a1181a6ad4453bc56a93870b2)**



---

archive/issue_events_238159.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-13T16:46:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238159"
}
```



---

archive/issue_events_238160.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-13T16:46:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238160"
}
```



---

archive/issue_comments_220570.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nThis addresses all issues. Indeed the changes were necessary, thanks for your input.\n\nIf you set one of the ortho poly tickets to positive, then please wait with the other, so I can remove merge conflicts.",
    "created_at": "2015-03-13T16:46:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220570",
    "user": "https://github.com/rwst"
}
```

<div id="comment:47" align="right">comment:47</div>

This addresses all issues. Indeed the changes were necessary, thanks for your input.

If you set one of the ortho poly tickets to positive, then please wait with the other, so I can remove merge conflicts.



---

archive/issue_comments_220571.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nThank you for fixing all this.\n\nOne more remark: the main module docstring needs updating (at least to remove the TODO about associated Legendre polynomials, perhaps also to clarify what relies on Maxima and what doesn't).",
    "created_at": "2015-03-14T08:21:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220571",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:48" align="right">comment:48</div>

Thank you for fixing all this.

One more remark: the main module docstring needs updating (at least to remove the TODO about associated Legendre polynomials, perhaps also to clarify what relies on Maxima and what doesn't).



---

archive/issue_comments_220572.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nAlso, like in the case of #17151, I think having:\n\n```\nsage: legendre_P(0, x).parent()\nInteger Ring\nsage: legendre_P(0, SR(1)).parent()\nInteger Ring\n```\nis a bug.\n\nCompare for example:\n\n```\nsage: sin(0).parent() # not sure I like this, but somehow makes sense\nInteger Ring\nsage: sin(SR(0)).parent()\nSymbolic Ring\n```",
    "created_at": "2015-03-14T08:44:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220572",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:49" align="right">comment:49</div>

Also, like in the case of #17151, I think having:

```
sage: legendre_P(0, x).parent()
Integer Ring
sage: legendre_P(0, SR(1)).parent()
Integer Ring
```
is a bug.

Compare for example:

```
sage: sin(0).parent() # not sure I like this, but somehow makes sense
Integer Ring
sage: sin(SR(0)).parent()
Symbolic Ring
```



---

archive/issue_comments_220573.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\n`legendre_P` does not know that `P(n, 1) == 1`.",
    "created_at": "2015-03-14T08:52:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220573",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:50" align="right">comment:50</div>

`legendre_P` does not know that `P(n, 1) == 1`.



---

archive/issue_comments_220574.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nI find it strange that `Func_legendre_Q` and `Func_assoc_legendre_{P,Q}`derive from `OrthogonalPolynomial` since these functions are not polynomials, even for fixed integer m and n. And in fact the same argument could apply to `Func_legendre_P` itself, since they seem to work for non-integer n, even though only the case of integer n appears to be documented.",
    "created_at": "2015-03-14T09:02:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220574",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:51" align="right">comment:51</div>

I find it strange that `Func_legendre_Q` and `Func_assoc_legendre_{P,Q}`derive from `OrthogonalPolynomial` since these functions are not polynomials, even for fixed integer m and n. And in fact the same argument could apply to `Func_legendre_P` itself, since they seem to work for non-integer n, even though only the case of integer n appears to be documented.



---

archive/issue_comments_220575.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nNot sure what to think about that:\n\n```\nsage: legendre_P(10, polygen(CC, 'x'))\n46189/256*x^10 - 109395/256*x^8 + 45045/128*x^6 - 15015/128*x^4 + 3465/256*x^2 - 63/256\nsage: legendre_P(10, polygen(CC, 'x'), algorithm='pari')\n180.425781250000*x^10 - 427.324218750000*x^8 + 351.914062500000*x^6 - 117.304687500000*x^4 + 13.5351562500000*x^2 - 0.246093750000000\nsage: legendre_P(10, polygen(CC, 'x'), coerce=False)\n...\nTypeError: arguments must be symbolic expressions\nsage: legendre_P(10, polygen(CC, 'x'), algorithm='pari', coerce=False)\n180.425781250000*x^10 - 427.324218750000*x^8 + 351.914062500000*x^6 - 117.304687500000*x^4 + 13.5351562500000*x^2 - 0.246093750000000\nsage: legendre_P(10, polygen(RIF, 'x'))\n46189/256*(x)^10 - 109395/256*(x)^8 + 45045/128*(x)^6 - 15015/128*(x)^4 + 3465/256*(x)^2 - 63/256\n```\n\nIs the idea that calls to `legendre_P(n, x)` with no `algorithm` keyword will always take the branch corresponding to `x` in `SR`, but the user can obtain faster evaluations at integers etc. by specifying `algorithm='pari'` is they know what they are doing?",
    "created_at": "2015-03-14T09:09:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220575",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:52" align="right">comment:52</div>

Not sure what to think about that:

```
sage: legendre_P(10, polygen(CC, 'x'))
46189/256*x^10 - 109395/256*x^8 + 45045/128*x^6 - 15015/128*x^4 + 3465/256*x^2 - 63/256
sage: legendre_P(10, polygen(CC, 'x'), algorithm='pari')
180.425781250000*x^10 - 427.324218750000*x^8 + 351.914062500000*x^6 - 117.304687500000*x^4 + 13.5351562500000*x^2 - 0.246093750000000
sage: legendre_P(10, polygen(CC, 'x'), coerce=False)
...
TypeError: arguments must be symbolic expressions
sage: legendre_P(10, polygen(CC, 'x'), algorithm='pari', coerce=False)
180.425781250000*x^10 - 427.324218750000*x^8 + 351.914062500000*x^6 - 117.304687500000*x^4 + 13.5351562500000*x^2 - 0.246093750000000
sage: legendre_P(10, polygen(RIF, 'x'))
46189/256*(x)^10 - 109395/256*(x)^8 + 45045/128*(x)^6 - 15015/128*(x)^4 + 3465/256*(x)^2 - 63/256
```

Is the idea that calls to `legendre_P(n, x)` with no `algorithm` keyword will always take the branch corresponding to `x` in `SR`, but the user can obtain faster evaluations at integers etc. by specifying `algorithm='pari'` is they know what they are doing?



---

archive/issue_comments_220576.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@mezzarobba](#comment%3A51):\n> I find it strange that `Func_assoc_legendre_{P,Q}`derive from `OrthogonalPolynomial` since these functions are not polynomials, even for fixed integer m and n.\n\nhttps://en.wikipedia.org/wiki/Associated_Legendre_polynomials\n\"...they satisfy the orthogonality condition...\"",
    "created_at": "2015-03-14T09:24:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220576",
    "user": "https://github.com/rwst"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@mezzarobba](#comment%3A51):
> I find it strange that `Func_assoc_legendre_{P,Q}`derive from `OrthogonalPolynomial` since these functions are not polynomials, even for fixed integer m and n.

https://en.wikipedia.org/wiki/Associated_Legendre_polynomials
"...they satisfy the orthogonality condition..."



---

archive/issue_comments_220577.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nOf course, I'd rather have it all under `functions/holonomic/`...",
    "created_at": "2015-03-14T09:26:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220577",
    "user": "https://github.com/rwst"
}
```

<div id="comment:54" align="right">comment:54</div>

Of course, I'd rather have it all under `functions/holonomic/`...



---

archive/issue_comments_220578.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nReplying to [@rwst](#comment%3A53):\n> Replying to [@mezzarobba](#comment%3A51):\n> > I find it strange that `Func_assoc_legendre_{P,Q}`derive from `OrthogonalPolynomial` since these functions are not polynomials, even for fixed integer m and n.\n\n> https://en.wikipedia.org/wiki/Associated_Legendre_polynomials\n> \"...they satisfy the orthogonality condition...\"\n\nSure, but they are not polynomials. It is necessarily wrong to use the class `OrthogonalPolynomial` for things that are not, strictly speaking, orthogonal polynomials if really necessary, but then there should at least be a clear warning in the documentation of that class.\n\nReplying to [@rwst](#comment%3A54):\n> Of course, I'd rather have it all under functions/holonomic/...\n\nI'm not sure being holonomic or not makes a big difference for a symbolic function. What do you have in mind?\n\n(As for me, I would like to have an implementation of general holonomic functions in Sage at some point, but I'm more thinking of a parent entirely separate from `SR` and with conversion methods to and from symbolic functions. Symbolic functions that happen to be holonomic could have a method that returns their representation using a system of linear functional equations, and could use that to implement operations for which no better function-specific code is available.)",
    "created_at": "2015-03-14T09:40:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220578",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:55" align="right">comment:55</div>

Replying to [@rwst](#comment%3A53):
> Replying to [@mezzarobba](#comment%3A51):
> > I find it strange that `Func_assoc_legendre_{P,Q}`derive from `OrthogonalPolynomial` since these functions are not polynomials, even for fixed integer m and n.

> https://en.wikipedia.org/wiki/Associated_Legendre_polynomials
> "...they satisfy the orthogonality condition..."

Sure, but they are not polynomials. It is necessarily wrong to use the class `OrthogonalPolynomial` for things that are not, strictly speaking, orthogonal polynomials if really necessary, but then there should at least be a clear warning in the documentation of that class.

Replying to [@rwst](#comment%3A54):
> Of course, I'd rather have it all under functions/holonomic/...

I'm not sure being holonomic or not makes a big difference for a symbolic function. What do you have in mind?

(As for me, I would like to have an implementation of general holonomic functions in Sage at some point, but I'm more thinking of a parent entirely separate from `SR` and with conversion methods to and from symbolic functions. Symbolic functions that happen to be holonomic could have a method that returns their representation using a system of linear functional equations, and could use that to implement operations for which no better function-specific code is available.)



---

archive/issue_comments_220579.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\n\n```\nsage: legendre_Q(-1., 0.)\n(+infinity)*sqrt(pi)*sin(0.500000000000000*pi)\n```",
    "created_at": "2015-03-14T09:45:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220579",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:56" align="right">comment:56</div>


```
sage: legendre_Q(-1., 0.)
(+infinity)*sqrt(pi)*sin(0.500000000000000*pi)
```



---

archive/issue_comments_220580.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\n\n```\nsage: legendre_Q(1, 1, algorithm='pari')\n...\nAttributeError: 'Func_legendre_Q' object has no attribute 'eval_pari'\n```\n\nbut\n\n```\nsage: legendre_Q(-1, 1, algorithm=pari)\n...\nTypeError: __call__() got an unexpected keyword argument 'algorithm'\n```",
    "created_at": "2015-03-14T09:46:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220580",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:57" align="right">comment:57</div>


```
sage: legendre_Q(1, 1, algorithm='pari')
...
AttributeError: 'Func_legendre_Q' object has no attribute 'eval_pari'
```

but

```
sage: legendre_Q(-1, 1, algorithm=pari)
...
TypeError: __call__() got an unexpected keyword argument 'algorithm'
```



---

archive/issue_comments_220581.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\n\n```\nsage: legendre_Q(-1, x)\n...\nUnboundLocalError: local variable 'help3' referenced before assignment\n```",
    "created_at": "2015-03-14T09:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220581",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:58" align="right">comment:58</div>


```
sage: legendre_Q(-1, x)
...
UnboundLocalError: local variable 'help3' referenced before assignment
```



---

archive/issue_comments_220582.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nI find it surprising that:\n\n```\nsage: legendre_Q(0, x)\n1/2*log(x + 1) - 1/2*log(-x + 1)\nsage: legendre_Q(0, pi)\n1/2*log(pi + 1) - 1/2*log(-pi + 1)\n```\nbut:\n\n```\nsage: legendre_Q(0, 2)\nlegendre_Q(0, 2)\n```\nand even:\n\n```\nsage: legendre_Q(0, SR(2))\nlegendre_Q(0, 2)\n```",
    "created_at": "2015-03-14T09:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220582",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:59" align="right">comment:59</div>

I find it surprising that:

```
sage: legendre_Q(0, x)
1/2*log(x + 1) - 1/2*log(-x + 1)
sage: legendre_Q(0, pi)
1/2*log(pi + 1) - 1/2*log(-pi + 1)
```
but:

```
sage: legendre_Q(0, 2)
legendre_Q(0, 2)
```
and even:

```
sage: legendre_Q(0, SR(2))
legendre_Q(0, 2)
```



---

archive/issue_comments_220583.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nA fun one:\n\n```\nsage: a = legendre_Q(0, 1/2)\nsage: a.n()\n0.549306144334055\nsage: maple(a).evalf()\n.5493061443-1.570796327*I\n```\n\nI think the issue is that Maple uses non-standard branch cuts for the Legendre functions, so that the conversion to Maple is not correct.",
    "created_at": "2015-03-14T10:04:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220583",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:60" align="right">comment:60</div>

A fun one:

```
sage: a = legendre_Q(0, 1/2)
sage: a.n()
0.549306144334055
sage: maple(a).evalf()
.5493061443-1.570796327*I
```

I think the issue is that Maple uses non-standard branch cuts for the Legendre functions, so that the conversion to Maple is not correct.



---

archive/issue_events_238161.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-03-14T10:07:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238161"
}
```



---

archive/issue_events_238162.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-03-14T10:07:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238162"
}
```



---

archive/issue_comments_220584.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nReplying to [@mezzarobba](#comment%3A52):\n> Is the idea that calls to `legendre_P(n, x)` with no `algorithm` keyword will always take the branch corresponding to `x` in `SR`, but the user can obtain faster evaluations at integers etc. by specifying `algorithm='pari'` is they know what they are doing?\n\nEffectively, one of the `__call__` methods (at this point of time `OrthogonalPolynomial.__call__`) dispatches to the resp. `eval_...` method. If no match is found (and `algorithm` is `None`) `__call__` returns to somewhere in the `BuiltinFunction/Function` classes to either return a held object or call `evalf`. Jeroen wanted to implement a default list of `algorithm/eval_...` pairs checked automatically but, if this keeps coming up, I'll put it high on my list.\n> I'm not sure being holonomic or not makes a big difference for a symbolic function. What do you have in mind?\n\nIt's just a natural category for special functions, corresponding to a D-finite series expansion.",
    "created_at": "2015-03-14T14:40:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220584",
    "user": "https://github.com/rwst"
}
```

<div id="comment:62" align="right">comment:62</div>

Replying to [@mezzarobba](#comment%3A52):
> Is the idea that calls to `legendre_P(n, x)` with no `algorithm` keyword will always take the branch corresponding to `x` in `SR`, but the user can obtain faster evaluations at integers etc. by specifying `algorithm='pari'` is they know what they are doing?

Effectively, one of the `__call__` methods (at this point of time `OrthogonalPolynomial.__call__`) dispatches to the resp. `eval_...` method. If no match is found (and `algorithm` is `None`) `__call__` returns to somewhere in the `BuiltinFunction/Function` classes to either return a held object or call `evalf`. Jeroen wanted to implement a default list of `algorithm/eval_...` pairs checked automatically but, if this keeps coming up, I'll put it high on my list.
> I'm not sure being holonomic or not makes a big difference for a symbolic function. What do you have in mind?

It's just a natural category for special functions, corresponding to a D-finite series expansion.



---

archive/issue_comments_220585.json:
```json
{
    "body": "Dependencies: **#17953**",
    "created_at": "2015-03-14T15:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220585",
    "user": "https://github.com/rwst"
}
```

Dependencies: **#17953**



---

archive/issue_comments_220586.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nReplying to [@mezzarobba](#comment%3A49):\n> Also, like in the case of #17151, I think having:\n> \n> ```\n> sage: legendre_P(0, x).parent()\n> Integer Ring\n> sage: legendre_P(0, SR(1)).parent()\n> Integer Ring\n> ```\n> is a bug.\n\nThis is now #17953.",
    "created_at": "2015-03-14T15:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220586",
    "user": "https://github.com/rwst"
}
```

<div id="comment:63" align="right">comment:63</div>

Replying to [@mezzarobba](#comment%3A49):
> Also, like in the case of #17151, I think having:
> 
> ```
> sage: legendre_P(0, x).parent()
> Integer Ring
> sage: legendre_P(0, SR(1)).parent()
> Integer Ring
> ```
> is a bug.

This is now #17953.



---

archive/issue_comments_220587.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,4 +12,5 @@\n   * https://en.wikipedia.org/wiki/Legendre_function\n   * http://mathworld.wolfram.com/LegendreFunctionoftheFirstKind.html\n   * http://mathworld.wolfram.com/LegendreFunctionoftheSecondKind.html\n- \n+\n+See also http://ask.sagemath.org/question/27230/problem-with-hypergeometric/\n``````\n",
    "created_at": "2015-06-29T12:49:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220587",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,4 +12,5 @@
   * https://en.wikipedia.org/wiki/Legendre_function
   * http://mathworld.wolfram.com/LegendreFunctionoftheFirstKind.html
   * http://mathworld.wolfram.com/LegendreFunctionoftheSecondKind.html
- 
+
+See also http://ask.sagemath.org/question/27230/problem-with-hypergeometric/
``````




---

archive/issue_comments_220588.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nFrom the ask.sagemath issue there is also this discrepancy:\n\n```\nsage: -1/2*sqrt(3)*gen_legendre_P(1/2, -1, -5/3)\n-0.483843755630126 + 0.369716687246133*I\n\nvs. Maple:\nA := z -> exp(I*Pi*z)*hypergeom([-z,1/2],[2],4):\nevalf(A(1/2)); -0.3697166872 + 0.4838437556 I\n```",
    "created_at": "2015-06-30T06:06:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220588",
    "user": "https://github.com/rwst"
}
```

<div id="comment:65" align="right">comment:65</div>

From the ask.sagemath issue there is also this discrepancy:

```
sage: -1/2*sqrt(3)*gen_legendre_P(1/2, -1, -5/3)
-0.483843755630126 + 0.369716687246133*I

vs. Maple:
A := z -> exp(I*Pi*z)*hypergeom([-z,1/2],[2],4):
evalf(A(1/2)); -0.3697166872 + 0.4838437556 I
```



---

archive/issue_comments_220589.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,13 @@\n+Defect because there is no Sage binding for a result returned by Maxima:\n+\n+```\n+sage: hypergeometric([-1/2,1/2],[2],4).simplify_hypergeometric()\n+1/2*I*sqrt(3)*assoc_legendre_p(1/2, -1, -5/3)\n+sage: assoc_legendre_p\n+...\n+NameError: name 'assoc_legendre_p' is not defined\n+```\n+\n Existing numeric functions are `legendre_P`, `legendre_Q`, `gen_legendre_P`, and `gen_legendre_Q` which correspond to P(n,x) / Q(n,x) and associated Legendre P(n,m,x) / Q(n,m,x).\n \n They should be made symbolic. FLINT has fast code for P(n,x).\n``````\n",
    "created_at": "2015-06-30T15:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220589",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,13 @@
+Defect because there is no Sage binding for a result returned by Maxima:
+
+```
+sage: hypergeometric([-1/2,1/2],[2],4).simplify_hypergeometric()
+1/2*I*sqrt(3)*assoc_legendre_p(1/2, -1, -5/3)
+sage: assoc_legendre_p
+...
+NameError: name 'assoc_legendre_p' is not defined
+```
+
 Existing numeric functions are `legendre_P`, `legendre_Q`, `gen_legendre_P`, and `gen_legendre_Q` which correspond to P(n,x) / Q(n,x) and associated Legendre P(n,m,x) / Q(n,m,x).
 
 They should be made symbolic. FLINT has fast code for P(n,x).
``````




---

archive/issue_events_238163.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-06-30T15:28:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238163"
}
```



---

archive/issue_events_238164.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-06-30T15:28:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238164"
}
```



---

archive/issue_comments_220590.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nReplying to [@mezzarobba](#comment%3A52):\n> Is the idea that calls to `legendre_P(n, x)` with no `algorithm` keyword will always take the branch corresponding to `x` in `SR`, but the user can obtain faster evaluations at integers etc. by specifying `algorithm='pari'` is they know what they are doing?\n\nNo, there is no idea, I just haven't figured out why the `BuiltinFunction` mechanism won't give me the original `x`, so I klugded something in `OrthogonalFunction.__call__` triggered by `algorithm`. This will have to be fixed but not today.",
    "created_at": "2015-06-30T16:17:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220590",
    "user": "https://github.com/rwst"
}
```

<div id="comment:67" align="right">comment:67</div>

Replying to [@mezzarobba](#comment%3A52):
> Is the idea that calls to `legendre_P(n, x)` with no `algorithm` keyword will always take the branch corresponding to `x` in `SR`, but the user can obtain faster evaluations at integers etc. by specifying `algorithm='pari'` is they know what they are doing?

No, there is no idea, I just haven't figured out why the `BuiltinFunction` mechanism won't give me the original `x`, so I klugded something in `OrthogonalFunction.__call__` triggered by `algorithm`. This will have to be fixed but not today.



---

archive/issue_comments_220591.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\n`@`mezzarobba: The problem with non-numeric arguments not getting through unconverted to `function::eval` cannot be solved with the current `BuiltinFunction`. Some numerics aren't even converted but throw an error, see #17790. I thus think that the given examples with `polygen(CC)` as argument cannot be implemented at the moment without kludging a taylor-made `__call__` method, and should be worked around using substitution. A solution will only be possible with #18832.",
    "created_at": "2015-07-01T07:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220591",
    "user": "https://github.com/rwst"
}
```

<div id="comment:68" align="right">comment:68</div>

`@`mezzarobba: The problem with non-numeric arguments not getting through unconverted to `function::eval` cannot be solved with the current `BuiltinFunction`. Some numerics aren't even converted but throw an error, see #17790. I thus think that the given examples with `polygen(CC)` as argument cannot be implemented at the moment without kludging a taylor-made `__call__` method, and should be worked around using substitution. A solution will only be possible with #18832.



---

archive/issue_comments_220592.json:
```json
{
    "body": "Changed commit from **[`9df78de`](https://github.com/sagemath/sagetrac-mirror/commit/9df78de81e0c307a1181a6ad4453bc56a93870b2)** to **[`32cc796`](https://github.com/sagemath/sagetrac-mirror/commit/32cc796b408be2a530c8885e3e100525ba042390)**",
    "created_at": "2015-07-01T09:38:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220592",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9df78de`](https://github.com/sagemath/sagetrac-mirror/commit/9df78de81e0c307a1181a6ad4453bc56a93870b2)** to **[`32cc796`](https://github.com/sagemath/sagetrac-mirror/commit/32cc796b408be2a530c8885e3e100525ba042390)**



---

archive/issue_comments_220593.json:
```json
{
    "body": "<div id=\"comment:69\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4379409b56cf7636de2321a2477402322e6d6ae\"><code>e437940</code></a></td><td><code>Merge branch 'develop' into t/16813/symbolic_legendre___associated_legendre_functions___polynomials</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3e05256e100027efa1ec9e8933d626c9bcb429b\"><code>c3e0525</code></a></td><td><code>16813: brought introduction up to date</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96e5e01f08b24ba9b435165eb647b198d2d20977\"><code>96e5e01</code></a></td><td><code>16813: rename base classes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32cc796b408be2a530c8885e3e100525ba042390\"><code>32cc796</code></a></td><td><code>16813: no more algorithm kwd; small fixes</code></td></tr></table>\n",
    "created_at": "2015-07-01T09:38:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220593",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:69"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4379409b56cf7636de2321a2477402322e6d6ae"><code>e437940</code></a></td><td><code>Merge branch 'develop' into t/16813/symbolic_legendre___associated_legendre_functions___polynomials</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3e05256e100027efa1ec9e8933d626c9bcb429b"><code>c3e0525</code></a></td><td><code>16813: brought introduction up to date</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96e5e01f08b24ba9b435165eb647b198d2d20977"><code>96e5e01</code></a></td><td><code>16813: rename base classes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32cc796b408be2a530c8885e3e100525ba042390"><code>32cc796</code></a></td><td><code>16813: no more algorithm kwd; small fixes</code></td></tr></table>




---

archive/issue_comments_220594.json:
```json
{
    "body": "<div id=\"comment:70\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21fc2aa4064e8cd9c5837c8c30887603e5d9b315\"><code>21fc2aa</code></a></td><td><code>16813: more cases with Q(n,x)</code></td></tr></table>\n",
    "created_at": "2015-07-01T13:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220594",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:70"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21fc2aa4064e8cd9c5837c8c30887603e5d9b315"><code>21fc2aa</code></a></td><td><code>16813: more cases with Q(n,x)</code></td></tr></table>




---

archive/issue_comments_220595.json:
```json
{
    "body": "Changed commit from **[`32cc796`](https://github.com/sagemath/sagetrac-mirror/commit/32cc796b408be2a530c8885e3e100525ba042390)** to **[`21fc2aa`](https://github.com/sagemath/sagetrac-mirror/commit/21fc2aa4064e8cd9c5837c8c30887603e5d9b315)**",
    "created_at": "2015-07-01T13:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220595",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`32cc796`](https://github.com/sagemath/sagetrac-mirror/commit/32cc796b408be2a530c8885e3e100525ba042390)** to **[`21fc2aa`](https://github.com/sagemath/sagetrac-mirror/commit/21fc2aa4064e8cd9c5837c8c30887603e5d9b315)**



---

archive/issue_events_238165.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-07-01T13:11:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238165"
}
```



---

archive/issue_events_238166.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-07-01T13:11:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238166"
}
```



---

archive/issue_events_238167.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-08-03T07:18:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238167"
}
```



---

archive/issue_events_238168.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-08-03T07:18:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238168"
}
```



---

archive/issue_comments_220596.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nneeds rebase, does not apply",
    "created_at": "2015-08-09T18:14:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220596",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:73" align="right">comment:73</div>

needs rebase, does not apply



---

archive/issue_events_238169.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-08-09T18:14:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238169"
}
```



---

archive/issue_events_238170.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-08-09T18:14:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238170"
}
```



---

archive/issue_comments_220597.json:
```json
{
    "body": "<div id=\"comment:74\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87488259454a950d4041cf72a1125e92b5d52cf5\"><code>8748825</code></a></td><td><code>Merge branch 'develop' into t/16813/symbolic_legendre___associated_legendre_functions___polynomials</code></td></tr></table>\n",
    "created_at": "2015-08-10T06:12:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220597",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:74"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87488259454a950d4041cf72a1125e92b5d52cf5"><code>8748825</code></a></td><td><code>Merge branch 'develop' into t/16813/symbolic_legendre___associated_legendre_functions___polynomials</code></td></tr></table>




---

archive/issue_comments_220598.json:
```json
{
    "body": "Changed commit from **[`21fc2aa`](https://github.com/sagemath/sagetrac-mirror/commit/21fc2aa4064e8cd9c5837c8c30887603e5d9b315)** to **[`8748825`](https://github.com/sagemath/sagetrac-mirror/commit/87488259454a950d4041cf72a1125e92b5d52cf5)**",
    "created_at": "2015-08-10T06:12:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220598",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`21fc2aa`](https://github.com/sagemath/sagetrac-mirror/commit/21fc2aa4064e8cd9c5837c8c30887603e5d9b315)** to **[`8748825`](https://github.com/sagemath/sagetrac-mirror/commit/87488259454a950d4041cf72a1125e92b5d52cf5)**



---

archive/issue_comments_220599.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nI have absolutely no idea why there is a merge conflict in `orthogonal_polys.py` when no one did a change there in the develop branch. Will see if this continues.",
    "created_at": "2015-08-10T06:16:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220599",
    "user": "https://github.com/rwst"
}
```

<div id="comment:75" align="right">comment:75</div>

I have absolutely no idea why there is a merge conflict in `orthogonal_polys.py` when no one did a change there in the develop branch. Will see if this continues.



---

archive/issue_events_238171.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-08-10T06:16:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238171"
}
```



---

archive/issue_events_238172.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-08-10T06:16:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238172"
}
```



---

archive/issue_comments_220600.json:
```json
{
    "body": "Changed branch from **[u/rws/symbolic_legendre___associated_legendre_functions___polynomials](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/symbolic_legendre___associated_legendre_functions___polynomials)** to **[u/rws/16813-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/16813-1)**",
    "created_at": "2015-10-24T06:44:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220600",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/symbolic_legendre___associated_legendre_functions___polynomials](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/symbolic_legendre___associated_legendre_functions___polynomials)** to **[u/rws/16813-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/16813-1)**



---

archive/issue_comments_220601.json:
```json
{
    "body": "Changed commit from **[`8748825`](https://github.com/sagemath/sagetrac-mirror/commit/87488259454a950d4041cf72a1125e92b5d52cf5)** to **[`f511634`](https://github.com/sagemath/sagetrac-mirror/commit/f511634dda1469513a78e1a42c81c62df857d0f0)**",
    "created_at": "2015-10-24T06:45:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220601",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[`8748825`](https://github.com/sagemath/sagetrac-mirror/commit/87488259454a950d4041cf72a1125e92b5d52cf5)** to **[`f511634`](https://github.com/sagemath/sagetrac-mirror/commit/f511634dda1469513a78e1a42c81c62df857d0f0)**



---

archive/issue_comments_220602.json:
```json
{
    "body": "Changed dependencies from **#17953** to none",
    "created_at": "2015-10-24T06:45:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220602",
    "user": "https://github.com/rwst"
}
```

Changed dependencies from **#17953** to none



---

archive/issue_comments_220603.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nSquashed it all into one commit.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f511634dda1469513a78e1a42c81c62df857d0f0\"><code>f511634</code></a></td><td><code>16813: symbolic Legendre / associated Legendre functions / polynomials</code></td></tr></table>\n",
    "created_at": "2015-10-24T06:45:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220603",
    "user": "https://github.com/rwst"
}
```

<div id="comment:78" align="right">comment:78</div>

Squashed it all into one commit.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f511634dda1469513a78e1a42c81c62df857d0f0"><code>f511634</code></a></td><td><code>16813: symbolic Legendre / associated Legendre functions / polynomials</code></td></tr></table>




---

archive/issue_events_238173.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-10-24T06:45:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238173"
}
```



---

archive/issue_events_238174.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-10-24T06:45:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238174"
}
```



---

archive/issue_events_238175.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-03-26T19:44:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238175"
}
```



---

archive/issue_events_238176.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-03-26T19:44:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238176"
}
```



---

archive/issue_comments_220604.json:
```json
{
    "body": "Changed keywords from none to **orthogonal**",
    "created_at": "2016-03-26T19:44:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220604",
    "user": "https://github.com/fchapoton"
}
```

Changed keywords from none to **orthogonal**



---

archive/issue_events_238177.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-03-26T19:44:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238177"
}
```



---

archive/issue_events_238178.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-03-26T19:44:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238178"
}
```



---

archive/issue_comments_220605.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nsome failing doctests, see bot report",
    "created_at": "2016-03-26T19:44:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220605",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:79" align="right">comment:79</div>

some failing doctests, see bot report



---

archive/issue_comments_220606.json:
```json
{
    "body": "<div id=\"comment:80\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdf55be9bd79aa68122ce80fab315730884ed54a\"><code>fdf55be</code></a></td><td><code>Merge branch 'u/rws/16813-1' of git://trac.sagemath.org/sage into tmp08</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b70ad8d85172b1a3cf13ca0cb8ef6ba61f982077\"><code>b70ad8d</code></a></td><td><code>16813: fix doctests</code></td></tr></table>\n",
    "created_at": "2016-03-27T05:52:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220606",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:80"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdf55be9bd79aa68122ce80fab315730884ed54a"><code>fdf55be</code></a></td><td><code>Merge branch 'u/rws/16813-1' of git://trac.sagemath.org/sage into tmp08</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b70ad8d85172b1a3cf13ca0cb8ef6ba61f982077"><code>b70ad8d</code></a></td><td><code>16813: fix doctests</code></td></tr></table>




---

archive/issue_comments_220607.json:
```json
{
    "body": "Changed commit from **[`f511634`](https://github.com/sagemath/sagetrac-mirror/commit/f511634dda1469513a78e1a42c81c62df857d0f0)** to **[`b70ad8d`](https://github.com/sagemath/sagetrac-mirror/commit/b70ad8d85172b1a3cf13ca0cb8ef6ba61f982077)**",
    "created_at": "2016-03-27T05:52:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220607",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f511634`](https://github.com/sagemath/sagetrac-mirror/commit/f511634dda1469513a78e1a42c81c62df857d0f0)** to **[`b70ad8d`](https://github.com/sagemath/sagetrac-mirror/commit/b70ad8d85172b1a3cf13ca0cb8ef6ba61f982077)**



---

archive/issue_comments_220608.json:
```json
{
    "body": "Dependencies: **#19464**",
    "created_at": "2016-03-27T05:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220608",
    "user": "https://github.com/rwst"
}
```

Dependencies: **#19464**



---

archive/issue_comments_220609.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nThe failure in `symbolic/expression_conversions.py` is due to a random bug and we now depend on #19464.",
    "created_at": "2016-03-27T05:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220609",
    "user": "https://github.com/rwst"
}
```

<div id="comment:81" align="right">comment:81</div>

The failure in `symbolic/expression_conversions.py` is due to a random bug and we now depend on #19464.



---

archive/issue_comments_220610.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nReplying to [@rwst](#comment%3A68):\n> `@`mezzarobba: The problem with non-numeric arguments not getting through unconverted to `function::eval` cannot be solved with the current `BuiltinFunction`. Some numerics aren't even converted but throw an error, see #17790. I thus think that the given examples with `polygen(CC)` as argument cannot be implemented at the moment without kludging a taylor-made `__call__` method, and should be worked around using substitution. A solution will only be possible with #18832.\n\nI have opened #20312 on which the above depends.",
    "created_at": "2016-03-29T13:42:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220610",
    "user": "https://github.com/rwst"
}
```

<div id="comment:82" align="right">comment:82</div>

Replying to [@rwst](#comment%3A68):
> `@`mezzarobba: The problem with non-numeric arguments not getting through unconverted to `function::eval` cannot be solved with the current `BuiltinFunction`. Some numerics aren't even converted but throw an error, see #17790. I thus think that the given examples with `polygen(CC)` as argument cannot be implemented at the moment without kludging a taylor-made `__call__` method, and should be worked around using substitution. A solution will only be possible with #18832.

I have opened #20312 on which the above depends.



---

archive/issue_comments_220611.json:
```json
{
    "body": "<div id=\"comment:83\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60b86493763a2914763fb1845cbd2fd0a41e116c\"><code>60b8649</code></a></td><td><code>Merge branch 'develop' into t/16813/16813-1</code></td></tr></table>\n",
    "created_at": "2016-07-19T07:33:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220611",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:83"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60b86493763a2914763fb1845cbd2fd0a41e116c"><code>60b8649</code></a></td><td><code>Merge branch 'develop' into t/16813/16813-1</code></td></tr></table>




---

archive/issue_comments_220612.json:
```json
{
    "body": "Changed commit from **[`b70ad8d`](https://github.com/sagemath/sagetrac-mirror/commit/b70ad8d85172b1a3cf13ca0cb8ef6ba61f982077)** to **[`60b8649`](https://github.com/sagemath/sagetrac-mirror/commit/60b86493763a2914763fb1845cbd2fd0a41e116c)**",
    "created_at": "2016-07-19T07:33:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220612",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b70ad8d`](https://github.com/sagemath/sagetrac-mirror/commit/b70ad8d85172b1a3cf13ca0cb8ef6ba61f982077)** to **[`60b8649`](https://github.com/sagemath/sagetrac-mirror/commit/60b86493763a2914763fb1845cbd2fd0a41e116c)**



---

archive/issue_events_238179.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-07-19T07:34:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238179"
}
```



---

archive/issue_events_238180.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-07-19T07:34:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238180"
}
```



---

archive/issue_comments_220613.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\nMaybe it's better to factor out the associated function stuff, regardless if Python or C++.",
    "created_at": "2016-08-04T06:22:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220613",
    "user": "https://github.com/rwst"
}
```

<div id="comment:85" align="right">comment:85</div>

Maybe it's better to factor out the associated function stuff, regardless if Python or C++.



---

archive/issue_comments_220614.json:
```json
{
    "body": "Reviewer: **Marc Mezzarobba**",
    "created_at": "2016-09-16T13:36:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220614",
    "user": "https://github.com/mezzarobba"
}
```

Reviewer: **Marc Mezzarobba**



---

archive/issue_events_238181.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2016-09-16T13:36:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238181"
}
```



---

archive/issue_events_238182.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2016-09-16T13:36:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238182"
}
```



---

archive/issue_comments_220615.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nTime to get this merged, I guess. I'm still not 100% happy with how evaluation behaves (ideally, in the cases where the function is a polynomial, one would like to be able to evaluate it on elements of any \u211a-algebra), but getting it right in all cases looks difficult, and imperfect code is more useful than no code at all  `:-)`.",
    "created_at": "2016-09-16T13:36:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220615",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:86" align="right">comment:86</div>

Time to get this merged, I guess. I'm still not 100% happy with how evaluation behaves (ideally, in the cases where the function is a polynomial, one would like to be able to evaluate it on elements of any ℚ-algebra), but getting it right in all cases looks difficult, and imperfect code is more useful than no code at all  `:-)`.



---

archive/issue_comments_220616.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nAgree and thanks for the review.",
    "created_at": "2016-09-16T14:04:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220616",
    "user": "https://github.com/rwst"
}
```

<div id="comment:87" align="right">comment:87</div>

Agree and thanks for the review.



---

archive/issue_events_238183.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-30T22:43:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238183"
}
```



---

archive/issue_events_238184.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-30T22:43:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238184"
}
```



---

archive/issue_comments_220617.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">comment:88</div>\n\nNeeds rebase.",
    "created_at": "2016-10-30T22:43:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220617",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:88" align="right">comment:88</div>

Needs rebase.



---

archive/issue_events_238185.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-30T22:43:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238185"
}
```



---

archive/issue_events_238186.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-30T22:43:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238186"
}
```



---

archive/issue_comments_220618.json:
```json
{
    "body": "Changed commit from **[`60b8649`](https://github.com/sagemath/sagetrac-mirror/commit/60b86493763a2914763fb1845cbd2fd0a41e116c)** to **[`7238198`](https://github.com/sagemath/sagetrac-mirror/commit/7238198c59a7a042391198039e4c915c24fda86d)**",
    "created_at": "2016-10-31T06:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220618",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`60b8649`](https://github.com/sagemath/sagetrac-mirror/commit/60b86493763a2914763fb1845cbd2fd0a41e116c)** to **[`7238198`](https://github.com/sagemath/sagetrac-mirror/commit/7238198c59a7a042391198039e4c915c24fda86d)**



---

archive/issue_comments_220619.json:
```json
{
    "body": "<div id=\"comment:89\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfccbb78bbfcdcd2305c217708c2d743b9e6a3a1\"><code>cfccbb7</code></a></td><td><code>Merge branch 'develop' into t/16813/16813-1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7238198c59a7a042391198039e4c915c24fda86d\"><code>7238198</code></a></td><td><code>fix doctest</code></td></tr></table>\n",
    "created_at": "2016-10-31T06:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220619",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:89"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfccbb78bbfcdcd2305c217708c2d743b9e6a3a1"><code>cfccbb7</code></a></td><td><code>Merge branch 'develop' into t/16813/16813-1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7238198c59a7a042391198039e4c915c24fda86d"><code>7238198</code></a></td><td><code>fix doctest</code></td></tr></table>




---

archive/issue_events_238187.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-10-31T06:13:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238187"
}
```



---

archive/issue_events_238188.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-10-31T06:13:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238188"
}
```



---

archive/issue_comments_220620.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nReview needed for the last two commits.",
    "created_at": "2016-10-31T06:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220620",
    "user": "https://github.com/rwst"
}
```

<div id="comment:90" align="right">comment:90</div>

Review needed for the last two commits.



---

archive/issue_events_238189.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-31T14:51:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238189"
}
```



---

archive/issue_events_238190.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-31T14:51:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238190"
}
```



---

archive/issue_comments_220621.json:
```json
{
    "body": "Changed reviewer from **Marc Mezzarobba** to **Marc Mezzarobba, Travis Scrimshaw**",
    "created_at": "2016-10-31T14:51:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220621",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Marc Mezzarobba** to **Marc Mezzarobba, Travis Scrimshaw**



---

archive/issue_comments_220622.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\nOne failing doctest, see patchbot.",
    "created_at": "2016-11-10T19:34:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220622",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:92" align="right">comment:92</div>

One failing doctest, see patchbot.



---

archive/issue_events_238191.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-10T19:34:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238191"
}
```



---

archive/issue_events_238192.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-10T19:34:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238192"
}
```



---

archive/issue_comments_220623.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nDoes not fail here. Note the patchbot is running 7.5beta1 not 2, and there were `gegenbauer` changes with pynac-0.7.0. I'll try to trigger the bots.",
    "created_at": "2016-11-11T07:30:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220623",
    "user": "https://github.com/rwst"
}
```

<div id="comment:93" align="right">comment:93</div>

Does not fail here. Note the patchbot is running 7.5beta1 not 2, and there were `gegenbauer` changes with pynac-0.7.0. I'll try to trigger the bots.



---

archive/issue_events_238193.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-11-11T07:30:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238193"
}
```



---

archive/issue_events_238194.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-11-11T07:30:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238194"
}
```



---

archive/issue_comments_220624.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nI ended up accidentally trying this on my beta1 as well. All is good.",
    "created_at": "2016-11-11T14:51:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220624",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:94" align="right">comment:94</div>

I ended up accidentally trying this on my beta1 as well. All is good.



---

archive/issue_events_238195.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-11T14:51:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238195"
}
```



---

archive/issue_events_238196.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-11T14:51:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238196"
}
```



---

archive/issue_comments_220625.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nThe dependency is invalid/wontfix. What are you depending on?",
    "created_at": "2016-11-19T22:38:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220625",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:95" align="right">comment:95</div>

The dependency is invalid/wontfix. What are you depending on?



---

archive/issue_comments_220626.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nReplying to [@vbraun](#comment%3A95):\n> The dependency is invalid/wontfix. What are you depending on?\n\nActually I don't recall and couldn't find out how `floor(x,hold=True)` was fixed. That bug was the reason for the `random_expr()` doctest fail in this and some other ticket. I'll remove the dependency.",
    "created_at": "2016-11-20T08:50:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220626",
    "user": "https://github.com/rwst"
}
```

<div id="comment:96" align="right">comment:96</div>

Replying to [@vbraun](#comment%3A95):
> The dependency is invalid/wontfix. What are you depending on?

Actually I don't recall and couldn't find out how `floor(x,hold=True)` was fixed. That bug was the reason for the `random_expr()` doctest fail in this and some other ticket. I'll remove the dependency.



---

archive/issue_comments_220627.json:
```json
{
    "body": "Changed dependencies from **#19464** to none",
    "created_at": "2016-11-20T08:50:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220627",
    "user": "https://github.com/rwst"
}
```

Changed dependencies from **#19464** to none



---

archive/issue_events_238197.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-21T21:56:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238197"
}
```



---

archive/issue_events_238198.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d6c2f9f2f5551fedba9219fcc47eaaad76f376d6",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-11-21T21:56:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16813#event-238198"
}
```



---

archive/issue_comments_220628.json:
```json
{
    "body": "Changed branch from **[u/rws/16813-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/16813-1)** to **[`7238198`](https://github.com/sagemath/sagetrac-mirror/commit/7238198c59a7a042391198039e4c915c24fda86d)**",
    "created_at": "2016-11-21T21:56:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16813",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16813#issuecomment-220628",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/rws/16813-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/16813-1)** to **[`7238198`](https://github.com/sagemath/sagetrac-mirror/commit/7238198c59a7a042391198039e4c915c24fda86d)**
