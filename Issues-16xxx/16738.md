# Issue 16738: Shortening some very long cluster doctests

archive/issues_016501.json:
```json
{
    "body": "After discussion about #16609, some very long doctests in mutation_type.py are much too long. And they are not really useful (they were used to test the correctness of rather long algorithms). Let us remove them now.\n\nhttps://groups.google.com/forum/#!topic/sage-devel/k3kIRIk475A\n\n**CC:**  stumpc5 gmoose05\n\n**Keywords:** cluster\n\n**Branch/Commit:** [1b4a3bebf4443d5bbc543b3fa618790c801f2055](https://github.com/sagemath/sagetrac-mirror/commit/1b4a3bebf4443d5bbc543b3fa618790c801f2055)\n\n**Reviewer:** Christian Stump\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/16738\n\n",
    "closed_at": "2014-08-04T16:03:17Z",
    "created_at": "2014-07-30T07:53:29Z",
    "labels": [
        "component: documentation",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "title": "Shortening some very long cluster doctests",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/16738",
    "user": "https://github.com/fchapoton"
}
```
After discussion about #16609, some very long doctests in mutation_type.py are much too long. And they are not really useful (they were used to test the correctness of rather long algorithms). Let us remove them now.

https://groups.google.com/forum/#!topic/sage-devel/k3kIRIk475A

**CC:**  stumpc5 gmoose05

**Keywords:** cluster

**Branch/Commit:** [1b4a3bebf4443d5bbc543b3fa618790c801f2055](https://github.com/sagemath/sagetrac-mirror/commit/1b4a3bebf4443d5bbc543b3fa618790c801f2055)

**Reviewer:** Christian Stump

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/16738





---

archive/issue_comments_221481.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"cluster\".",
    "created_at": "2014-07-30T07:56:23Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221481",
    "user": "https://github.com/fchapoton"
}
```

**Changing keywords** from "" to "cluster".



---

archive/issue_comments_221482.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n After discussion about #16609, some very long doctests in mutation_type.py are toolong. Let us remove them now.\n+\n+https://groups.google.com/forum/#!topic/sage-devel/k3kIRIk475A\n``````\n",
    "created_at": "2014-07-30T07:56:23Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221482",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 After discussion about #16609, some very long doctests in mutation_type.py are toolong. Let us remove them now.
+
+https://groups.google.com/forum/#!topic/sage-devel/k3kIRIk475A
``````




---

archive/issue_comments_221483.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe6fea5058e414bcdb9fae3be686e4222c9367aa\">fe6fea5</a></td><td><code>trac 16XXX shortening some cluster doctests</code></td></tr></table>\n",
    "created_at": "2014-07-30T07:56:23Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221483",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe6fea5058e414bcdb9fae3be686e4222c9367aa">fe6fea5</a></td><td><code>trac 16XXX shortening some cluster doctests</code></td></tr></table>




---

archive/issue_events_149987.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-30T07:56:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16738#event-149987"
}
```



---

archive/issue_comments_221484.json:
```json
{
    "body": "**Branch:** [u/chapoton/16738](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/16738)",
    "created_at": "2014-07-30T07:56:23Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221484",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/16738](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/16738)



---

archive/issue_comments_221485.json:
```json
{
    "body": "**Author:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2014-07-30T07:56:23Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221485",
    "user": "https://github.com/fchapoton"
}
```

**Author:** Frédéric Chapoton



---

archive/issue_comments_221486.json:
```json
{
    "body": "**Commit:** [fe6fea5058e414bcdb9fae3be686e4222c9367aa](https://github.com/sagemath/sagetrac-mirror/commit/fe6fea5058e414bcdb9fae3be686e4222c9367aa)",
    "created_at": "2014-07-30T07:56:23Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221486",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [fe6fea5058e414bcdb9fae3be686e4222c9367aa](https://github.com/sagemath/sagetrac-mirror/commit/fe6fea5058e414bcdb9fae3be686e4222c9367aa)



---

archive/issue_comments_221487.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-After discussion about #16609, some very long doctests in mutation_type.py are toolong. Let us remove them now.\n+After discussion about #16609, some very long doctests in mutation_type.py are much too long. And they are not really useful (they were used to test the correctness of rather long algorithms). Let us remove them now.\n \n https://groups.google.com/forum/#!topic/sage-devel/k3kIRIk475A\n``````\n",
    "created_at": "2014-07-30T13:37:09Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221487",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-After discussion about #16609, some very long doctests in mutation_type.py are toolong. Let us remove them now.
+After discussion about #16609, some very long doctests in mutation_type.py are much too long. And they are not really useful (they were used to test the correctness of rather long algorithms). Let us remove them now.
 
 https://groups.google.com/forum/#!topic/sage-devel/k3kIRIk475A
``````




---

archive/issue_comments_221488.json:
```json
{
    "body": "<a id='comment:3'></a>\nI'll review it, let me know once you it's ready. Also: thanks for doing it!",
    "created_at": "2014-07-30T13:48:44Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221488",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:3'></a>
I'll review it, let me know once you it's ready. Also: thanks for doing it!



---

archive/issue_comments_221489.json:
```json
{
    "body": "**Reviewer:** Christian Stump",
    "created_at": "2014-07-30T13:48:44Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221489",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

**Reviewer:** Christian Stump



---

archive/issue_comments_221490.json:
```json
{
    "body": "<a id='comment:4'></a>\nHello Christian,\n\nthanks for your time. I think it is ready for review. I have kept only the simplest tests about rank 2, marking the longer ones with `# not tested`. I think these functions were used to check thoroughly that there was no mistake in the code. One should keep them in the code to be able to run them if some mistake appears at some point, but it does not look necessary to run them every time.\n\nI have also taken this opportunity to do some little code formatting, like \n* lines of length at most 80\n* pep8 standard for code (no space after or before parenthesis, etc)\n* removed a lot of unused import statements (found with pyflakes)\n* comment out 2 unused variables",
    "created_at": "2014-07-30T13:58:14Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221490",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
Hello Christian,

thanks for your time. I think it is ready for review. I have kept only the simplest tests about rank 2, marking the longer ones with `# not tested`. I think these functions were used to check thoroughly that there was no mistake in the code. One should keep them in the code to be able to run them if some mistake appears at some point, but it does not look necessary to run them every time.

I have also taken this opportunity to do some little code formatting, like 
* lines of length at most 80
* pep8 standard for code (no space after or before parenthesis, etc)
* removed a lot of unused import statements (found with pyflakes)
* comment out 2 unused variables



---

archive/issue_comments_221491.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [chapoton](#comment%3A4):\n\nOkay, I'll look throught it then...",
    "created_at": "2014-07-30T14:01:23Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221491",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:5'></a>
Replying to [chapoton](#comment%3A4):

Okay, I'll look throught it then...



---

archive/issue_comments_221492.json:
```json
{
    "body": "<a id='comment:6'></a>\nout of curiosity: is the \"lines of length at most 80\" rule some sort of standard? I personally find it not very pleasant to be forced to only see 80 characters in a line.",
    "created_at": "2014-07-30T14:16:36Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221492",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:6'></a>
out of curiosity: is the "lines of length at most 80" rule some sort of standard? I personally find it not very pleasant to be forced to only see 80 characters in a line.



---

archive/issue_comments_221493.json:
```json
{
    "body": "<a id='comment:7'></a>\nThis is part of the pep8 code style guide:\n\nhttp://legacy.python.org/dev/peps/pep-0008/\n\nand we are told to try to follow that in sage here:\n\nhttp://www.sagemath.org/doc/developer/coding_basics.html",
    "created_at": "2014-07-30T15:35:59Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221493",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
This is part of the pep8 code style guide:

http://legacy.python.org/dev/peps/pep-0008/

and we are told to try to follow that in sage here:

http://www.sagemath.org/doc/developer/coding_basics.html



---

archive/issue_comments_221494.json:
```json
{
    "body": "<a id='comment:8'></a>\nI'd prefer to keep the tests (they are still useful to check that one doesn't accidentally break the code). But with less than 100-fold repetition, of course. I.e. k=10 or maybe 1.",
    "created_at": "2014-07-31T00:55:03Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221494",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>
I'd prefer to keep the tests (they are still useful to check that one doesn't accidentally break the code). But with less than 100-fold repetition, of course. I.e. k=10 or maybe 1.



---

archive/issue_comments_221495.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78fe6bf3843d71d81f7e5cc5aff36bb82c79768b\">78fe6bf</a></td><td><code>Merge branch 'u/chapoton/16738' of ssh://trac.sagemath.org:22/sage into 16738</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57aec1d9f6d5e1650be59c3218dc1e50a0d1efc0\">57aec1d</a></td><td><code>trac #16738 better choice of what to test in reasonable amount of time</code></td></tr></table>\n",
    "created_at": "2014-07-31T08:24:55Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221495",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78fe6bf3843d71d81f7e5cc5aff36bb82c79768b">78fe6bf</a></td><td><code>Merge branch 'u/chapoton/16738' of ssh://trac.sagemath.org:22/sage into 16738</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57aec1d9f6d5e1650be59c3218dc1e50a0d1efc0">57aec1d</a></td><td><code>trac #16738 better choice of what to test in reasonable amount of time</code></td></tr></table>




---

archive/issue_comments_221496.json:
```json
{
    "body": "**Changing commit** from \"[fe6fea5058e414bcdb9fae3be686e4222c9367aa](https://github.com/sagemath/sagetrac-mirror/commit/fe6fea5058e414bcdb9fae3be686e4222c9367aa)\" to \"[57aec1d9f6d5e1650be59c3218dc1e50a0d1efc0](https://github.com/sagemath/sagetrac-mirror/commit/57aec1d9f6d5e1650be59c3218dc1e50a0d1efc0)\".",
    "created_at": "2014-07-31T08:24:55Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221496",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fe6fea5058e414bcdb9fae3be686e4222c9367aa](https://github.com/sagemath/sagetrac-mirror/commit/fe6fea5058e414bcdb9fae3be686e4222c9367aa)" to "[57aec1d9f6d5e1650be59c3218dc1e50a0d1efc0](https://github.com/sagemath/sagetrac-mirror/commit/57aec1d9f6d5e1650be59c3218dc1e50a0d1efc0)".



---

archive/issue_comments_221497.json:
```json
{
    "body": "<a id='comment:10'></a>\nOk, I have kept a few more tests. Those that now have a `# not tested` are the really looooong ones.",
    "created_at": "2014-07-31T08:26:09Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221497",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
Ok, I have kept a few more tests. Those that now have a `# not tested` are the really looooong ones.



---

archive/issue_comments_221498.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [chapoton](#comment%3A10):\n> Ok, I have kept a few more tests. Those that now have a `# not tested` are the really looooong ones.\n\n\nI think that these `_random_multi_tests` are not worth doing a single time. Even doing them 100 times, it is unlikely to trigger a bug in the code (when working on that certainly tooo complicated functions, I had to do those tests 10000s of times to find possible issues). So I would still tag them as `{# not tested` since those 1.5sec of testing for practically no advantage doesn't seem to be worth spending on doctesting.",
    "created_at": "2014-07-31T08:43:47Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221498",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:11'></a>
Replying to [chapoton](#comment%3A10):
> Ok, I have kept a few more tests. Those that now have a `# not tested` are the really looooong ones.


I think that these `_random_multi_tests` are not worth doing a single time. Even doing them 100 times, it is unlikely to trigger a bug in the code (when working on that certainly tooo complicated functions, I had to do those tests 10000s of times to find possible issues). So I would still tag them as `{# not tested` since those 1.5sec of testing for practically no advantage doesn't seem to be worth spending on doctesting.



---

archive/issue_comments_221499.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b4a3bebf4443d5bbc543b3fa618790c801f2055\">1b4a3be</a></td><td><code>trac #16738 removing tests again</code></td></tr></table>\n",
    "created_at": "2014-07-31T09:06:56Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221499",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b4a3bebf4443d5bbc543b3fa618790c801f2055">1b4a3be</a></td><td><code>trac #16738 removing tests again</code></td></tr></table>




---

archive/issue_comments_221500.json:
```json
{
    "body": "**Changing commit** from \"[57aec1d9f6d5e1650be59c3218dc1e50a0d1efc0](https://github.com/sagemath/sagetrac-mirror/commit/57aec1d9f6d5e1650be59c3218dc1e50a0d1efc0)\" to \"[1b4a3bebf4443d5bbc543b3fa618790c801f2055](https://github.com/sagemath/sagetrac-mirror/commit/1b4a3bebf4443d5bbc543b3fa618790c801f2055)\".",
    "created_at": "2014-07-31T09:06:56Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221500",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[57aec1d9f6d5e1650be59c3218dc1e50a0d1efc0](https://github.com/sagemath/sagetrac-mirror/commit/57aec1d9f6d5e1650be59c3218dc1e50a0d1efc0)" to "[1b4a3bebf4443d5bbc543b3fa618790c801f2055](https://github.com/sagemath/sagetrac-mirror/commit/1b4a3bebf4443d5bbc543b3fa618790c801f2055)".



---

archive/issue_comments_221501.json:
```json
{
    "body": "<a id='comment:13'></a>\nThe patchbot is green. Christian, do you agree with current state ?",
    "created_at": "2014-08-01T20:23:23Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221501",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
The patchbot is green. Christian, do you agree with current state ?



---

archive/issue_events_149988.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/stumpc5",
    "created_at": "2014-08-03T06:34:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16738#event-149988"
}
```



---

archive/issue_events_149989.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/stumpc5",
    "created_at": "2014-08-03T06:34:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16738#event-149989"
}
```



---

archive/issue_comments_221502.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/16738](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/16738)\" to \"[1b4a3bebf4443d5bbc543b3fa618790c801f2055](https://github.com/sagemath/sagetrac-mirror/commit/1b4a3bebf4443d5bbc543b3fa618790c801f2055)\".",
    "created_at": "2014-08-04T16:03:17Z",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16738#issuecomment-221502",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/16738](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/16738)" to "[1b4a3bebf4443d5bbc543b3fa618790c801f2055](https://github.com/sagemath/sagetrac-mirror/commit/1b4a3bebf4443d5bbc543b3fa618790c801f2055)".



---

archive/issue_events_149990.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-04T16:03:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16738#event-149990"
}
```



---

archive/issue_events_149991.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-04T16:03:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16738",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16738#event-149991"
}
```
