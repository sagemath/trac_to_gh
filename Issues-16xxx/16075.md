# Issue 16075: Python 3 preparation: Handle the changes to "next()"

archive/issues_015838.json:
```json
{
    "body": "To advance some iterator `it` in Py2 often the iterator method is called directly `it.next()`.\nBut since Python 2.6 there is the //builtin function// `next()` which is compatible between Py2 and Py3: in Py2 it calls the iterator method `next()` while in Py3 it calls the special method `__next__()`.\n\nThis conversion from `it.next()` to `next(it)` can be performed safely in stage 1 (see also the remarks about `lib2to3.fixes.fix_next` in http://python-future.org/automatic_conversion.html#stage-1-safe-fixes).\n\nRemarks: The changes to the iterator protocol from Py2 `next()` to Py3 `__next__()` are subject of #18802 in stage 2.\n\nThis ticket is tracked as a dependency of meta-ticket ticket:15980.\n\nKeywords: python3\n\nBranch/Commit: 4f4db614d6fa1911b1eca63f7a4a7da062cd477f\n\nReviewer: Nicolas M. Thi\u00e9ry\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16075\n\n",
    "closed_at": "2016-04-14T21:57:01Z",
    "created_at": "2014-04-07T08:52:16Z",
    "labels": [
        "component: distribution"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Python 3 preparation: Handle the changes to \"next()\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16075",
    "user": "https://github.com/wluebbe"
}
```
To advance some iterator `it` in Py2 often the iterator method is called directly `it.next()`.
But since Python 2.6 there is the //builtin function// `next()` which is compatible between Py2 and Py3: in Py2 it calls the iterator method `next()` while in Py3 it calls the special method `__next__()`.

This conversion from `it.next()` to `next(it)` can be performed safely in stage 1 (see also the remarks about `lib2to3.fixes.fix_next` in http://python-future.org/automatic_conversion.html#stage-1-safe-fixes).

Remarks: The changes to the iterator protocol from Py2 `next()` to Py3 `__next__()` are subject of #18802 in stage 2.

This ticket is tracked as a dependency of meta-ticket ticket:15980.

Keywords: python3

Branch/Commit: 4f4db614d6fa1911b1eca63f7a4a7da062cd477f

Reviewer: Nicolas M. Thiéry

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16075





---

archive/issue_events_047296.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16075#event-47296"
}
```



---

archive/issue_events_047297.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16075#event-47297"
}
```



---

archive/issue_events_047298.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16075#event-47298"
}
```



---

archive/issue_comments_261373.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#17398\"",
    "created_at": "2014-11-25T20:13:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261373",
    "user": "https://github.com/a-andre"
}
```

Changing dependencies from "" to "#17398"



---

archive/issue_events_047299.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2015-06-02T21:21:57Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16075#event-47299"
}
```



---

archive/issue_events_047300.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2015-06-02T21:21:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16075#event-47300"
}
```



---

archive/issue_comments_261374.json:
```json
{
    "body": "Changing dependencies from \"#17398\" to \"#17398,#18592\"",
    "created_at": "2015-06-02T21:21:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261374",
    "user": "https://github.com/a-andre"
}
```

Changing dependencies from "#17398" to "#17398,#18592"



---

archive/issue_comments_261375.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,11 +1,8 @@\n-The tool 2to3 changes the use of iterator's `next()` method to the `next()` function.\n+To advance some iterator `it` in Py2 often the iterator method is called directly `it.next()`.\n+But since Python 2.6 there is the //builtin function// `next()` which is compatible between Py2 and Py3: in Py2 it calls the iterator method `next()` while in Py3 it calls the special method `__next__()`.\n \n+This conversion from `it.next()` to `next(it)` can be performed safely in stage 1 (see also the remarks about `lib2to3.fixes.fix_next` in http://python-future.org/automatic_conversion.html#stage-1-safe-fixes).\n \n-It also renames the `next()` method to `__next__`.\n+Remarks: The changes to the iterator protocol from Py2 `next()` to Py3 `__next__()` are subject of #18802 in stage 2.\n \n-\n-But the code has to depend on the Python version!\n-\n-There are 84 effected modules. \n-\n-This ticket is tracked as a dependency of meta-ticket ticket:16052.\n+This ticket is tracked as a dependency of meta-ticket ticket:15980.\n``````\n",
    "created_at": "2015-06-28T16:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261375",
    "user": "https://github.com/wluebbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,11 +1,8 @@
-The tool 2to3 changes the use of iterator's `next()` method to the `next()` function.
+To advance some iterator `it` in Py2 often the iterator method is called directly `it.next()`.
+But since Python 2.6 there is the //builtin function// `next()` which is compatible between Py2 and Py3: in Py2 it calls the iterator method `next()` while in Py3 it calls the special method `__next__()`.
 
+This conversion from `it.next()` to `next(it)` can be performed safely in stage 1 (see also the remarks about `lib2to3.fixes.fix_next` in http://python-future.org/automatic_conversion.html#stage-1-safe-fixes).
 
-It also renames the `next()` method to `__next__`.
+Remarks: The changes to the iterator protocol from Py2 `next()` to Py3 `__next__()` are subject of #18802 in stage 2.
 
-
-But the code has to depend on the Python version!
-
-There are 84 effected modules. 
-
-This ticket is tracked as a dependency of meta-ticket ticket:16052.
+This ticket is tracked as a dependency of meta-ticket ticket:15980.
``````




---

archive/issue_comments_261376.json:
```json
{
    "body": "Changing branch from \"\" to \"public/16075\"",
    "created_at": "2016-04-12T08:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261376",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "public/16075"



---

archive/issue_comments_261377.json:
```json
{
    "body": "Changing commit from \"\" to \"ed7b38b8ff391529672d7081a6999ff1d22d0eee\"",
    "created_at": "2016-04-12T08:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261377",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "ed7b38b8ff391529672d7081a6999ff1d22d0eee"



---

archive/issue_comments_261378.json:
```json
{
    "body": "<a id='comment:6'></a>\nNew commits:\n|                                                                                                                                          |                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[ed7b38b](http://git.sagemath.org/sage.git/commit/?id=ed7b38b8ff391529672d7081a6999ff1d22d0eee)|`trac #16075 .next into python3 format`|",
    "created_at": "2016-04-12T08:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261378",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
New commits:
|                                                                                                                                          |                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[ed7b38b](http://git.sagemath.org/sage.git/commit/?id=ed7b38b8ff391529672d7081a6999ff1d22d0eee)|`trac #16075 .next into python3 format`|



---

archive/issue_comments_261379.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-04-12T08:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261379",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_261380.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Nicolas M. Thi\u00e9ry\"",
    "created_at": "2016-04-12T08:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261380",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Nicolas M. Thiéry"



---

archive/issue_events_047301.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-04-12T08:14:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16075#event-47301"
}
```



---

archive/issue_events_047302.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-04-12T08:14:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16075#event-47302"
}
```



---

archive/issue_comments_261381.json:
```json
{
    "body": "Changing author from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2016-04-12T08:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261381",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "" to "Frédéric Chapoton"



---

archive/issue_comments_261382.json:
```json
{
    "body": "Changing dependencies from \"#17398,#18592\" to \"\"",
    "created_at": "2016-04-12T08:22:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261382",
    "user": "https://github.com/fchapoton"
}
```

Changing dependencies from "#17398,#18592" to ""



---

archive/issue_comments_261383.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|\n|[b2eddb2](http://git.sagemath.org/sage.git/commit/?id=b2eddb2ad789661b3862cd4a729f72f6dcf2f1fc)|`16075: revert 5e09bde1; the next method here is not meant to implement the iterator protocol`|\n|[b179553](http://git.sagemath.org/sage.git/commit/?id=b179553e62771458d8331f8551afe6502bdc2dbe)|`16075: while we are at it, some minor doc improvements`|",
    "created_at": "2016-04-12T08:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261383",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|
|[b2eddb2](http://git.sagemath.org/sage.git/commit/?id=b2eddb2ad789661b3862cd4a729f72f6dcf2f1fc)|`16075: revert 5e09bde1; the next method here is not meant to implement the iterator protocol`|
|[b179553](http://git.sagemath.org/sage.git/commit/?id=b179553e62771458d8331f8551afe6502bdc2dbe)|`16075: while we are at it, some minor doc improvements`|



---

archive/issue_comments_261384.json:
```json
{
    "body": "Changing commit from \"ed7b38b8ff391529672d7081a6999ff1d22d0eee\" to \"b179553e62771458d8331f8551afe6502bdc2dbe\"",
    "created_at": "2016-04-12T08:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261384",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ed7b38b8ff391529672d7081a6999ff1d22d0eee" to "b179553e62771458d8331f8551afe6502bdc2dbe"



---

archive/issue_comments_261385.json:
```json
{
    "body": "Changing commit from \"b179553e62771458d8331f8551afe6502bdc2dbe\" to \"b2eddb2ad789661b3862cd4a729f72f6dcf2f1fc\"",
    "created_at": "2016-04-12T09:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261385",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b179553e62771458d8331f8551afe6502bdc2dbe" to "b2eddb2ad789661b3862cd4a729f72f6dcf2f1fc"



---

archive/issue_comments_261386.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-04-12T09:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261386",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_261387.json:
```json
{
    "body": "<a id='comment:11'></a>\nMoved minor doc improvements to #20429.",
    "created_at": "2016-04-12T09:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261387",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Moved minor doc improvements to #20429.



---

archive/issue_comments_261388.json:
```json
{
    "body": "Changing commit from \"b2eddb2ad789661b3862cd4a729f72f6dcf2f1fc\" to \"e37c92047a584df8b56a94fc4489bfcc4f7eec8b\"",
    "created_at": "2016-04-12T14:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261388",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b2eddb2ad789661b3862cd4a729f72f6dcf2f1fc" to "e37c92047a584df8b56a94fc4489bfcc4f7eec8b"



---

archive/issue_comments_261389.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|\n|[b179553](http://git.sagemath.org/sage.git/commit/?id=b179553e62771458d8331f8551afe6502bdc2dbe)|`16075: while we are at it, some minor doc improvements`|\n|[4227bf4](http://git.sagemath.org/sage.git/commit/?id=4227bf4c7ae6c0b535f2aa965cca6bbfb5ea3005)|`16075: method renaming + comment to highlight that this is not following Python's protocol iterator, and thus not subject to Py2 -> Py3 incompatibility`|\n|[df0d54f](http://git.sagemath.org/sage.git/commit/?id=df0d54f6e0d1f064bbeba10db1eab07888953935)|`16075: review`|\n|[e37c920](http://git.sagemath.org/sage.git/commit/?id=e37c92047a584df8b56a94fc4489bfcc4f7eec8b)|`16075: xxx.next() -> next(xxx) in boost_graph for Python3 compatibility`|",
    "created_at": "2016-04-12T14:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261389",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
|[b179553](http://git.sagemath.org/sage.git/commit/?id=b179553e62771458d8331f8551afe6502bdc2dbe)|`16075: while we are at it, some minor doc improvements`|
|[4227bf4](http://git.sagemath.org/sage.git/commit/?id=4227bf4c7ae6c0b535f2aa965cca6bbfb5ea3005)|`16075: method renaming + comment to highlight that this is not following Python's protocol iterator, and thus not subject to Py2 -> Py3 incompatibility`|
|[df0d54f](http://git.sagemath.org/sage.git/commit/?id=df0d54f6e0d1f064bbeba10db1eab07888953935)|`16075: review`|
|[e37c920](http://git.sagemath.org/sage.git/commit/?id=e37c92047a584df8b56a94fc4489bfcc4f7eec8b)|`16075: xxx.next() -> next(xxx) in boost_graph for Python3 compatibility`|



---

archive/issue_comments_261390.json:
```json
{
    "body": "<a id='comment:13'></a>\nAh shoot, I still need to remove that commit from my branch. On it's way ...",
    "created_at": "2016-04-12T14:28:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261390",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:13'></a>
Ah shoot, I still need to remove that commit from my branch. On it's way ...



---

archive/issue_comments_261391.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|\n|[bc6a1e3](http://git.sagemath.org/sage.git/commit/?id=bc6a1e30abf968e5a14c50a7fa06b1e054295adf)|`16075: xxx.next() -> next(xxx) in boost_graph for Python3 compatibility`|\n|[45f6fb5](http://git.sagemath.org/sage.git/commit/?id=45f6fb5dde1cb2bf60acfa06b3abdbd184eb4ac5)|`16075: review`|\n|[e68cc70](http://git.sagemath.org/sage.git/commit/?id=e68cc70a4b71667bdf3057c87a87cd01deb51dc3)|`16075: method renaming + comment to highlight that this is not following Python's protocol iterator, and thus not subject to Py2 -> Py3 incompatibility`|",
    "created_at": "2016-04-12T14:35:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261391",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|
|[bc6a1e3](http://git.sagemath.org/sage.git/commit/?id=bc6a1e30abf968e5a14c50a7fa06b1e054295adf)|`16075: xxx.next() -> next(xxx) in boost_graph for Python3 compatibility`|
|[45f6fb5](http://git.sagemath.org/sage.git/commit/?id=45f6fb5dde1cb2bf60acfa06b3abdbd184eb4ac5)|`16075: review`|
|[e68cc70](http://git.sagemath.org/sage.git/commit/?id=e68cc70a4b71667bdf3057c87a87cd01deb51dc3)|`16075: method renaming + comment to highlight that this is not following Python's protocol iterator, and thus not subject to Py2 -> Py3 incompatibility`|



---

archive/issue_comments_261392.json:
```json
{
    "body": "Changing commit from \"e37c92047a584df8b56a94fc4489bfcc4f7eec8b\" to \"e68cc70a4b71667bdf3057c87a87cd01deb51dc3\"",
    "created_at": "2016-04-12T14:35:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261392",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e37c92047a584df8b56a94fc4489bfcc4f7eec8b" to "e68cc70a4b71667bdf3057c87a87cd01deb51dc3"



---

archive/issue_comments_261393.json:
```json
{
    "body": "<a id='comment:15'></a>\nOk, done. Now all the Python level calls to `.next()` on an actual iterator have been replaced by calls to `next(...)`.\n\nI have left most Cython files alone (or more precisely unrolled my changes after seeing that they were breaking stuff). The iterator protocol there already uses `.__next__`, so probably there is nothing to be changed. I could not find a good ref on the web about Cython + the iterator protocal + migration to Python 3 though.\n\nI believe this is good to go. Fr\u00e9d\u00e9ric, please proofread my changes!",
    "created_at": "2016-04-12T14:48:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261393",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:15'></a>
Ok, done. Now all the Python level calls to `.next()` on an actual iterator have been replaced by calls to `next(...)`.

I have left most Cython files alone (or more precisely unrolled my changes after seeing that they were breaking stuff). The iterator protocol there already uses `.__next__`, so probably there is nothing to be changed. I could not find a good ref on the web about Cython + the iterator protocal + migration to Python 3 though.

I believe this is good to go. Frédéric, please proofread my changes!



---

archive/issue_comments_261394.json:
```json
{
    "body": "Changing commit from \"e68cc70a4b71667bdf3057c87a87cd01deb51dc3\" to \"4f4db614d6fa1911b1eca63f7a4a7da062cd477f\"",
    "created_at": "2016-04-12T18:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261394",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e68cc70a4b71667bdf3057c87a87cd01deb51dc3" to "4f4db614d6fa1911b1eca63f7a4a7da062cd477f"



---

archive/issue_comments_261395.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------|\n|[4f4db61](http://git.sagemath.org/sage.git/commit/?id=4f4db614d6fa1911b1eca63f7a4a7da062cd477f)|`trac 16075 two details`|",
    "created_at": "2016-04-12T18:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261395",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                        |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
|[4f4db61](http://git.sagemath.org/sage.git/commit/?id=4f4db614d6fa1911b1eca63f7a4a7da062cd477f)|`trac 16075 two details`|



---

archive/issue_comments_261396.json:
```json
{
    "body": "<a id='comment:17'></a>\nok for me. If you agree with my last commit, you can set a positive review.",
    "created_at": "2016-04-12T18:44:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261396",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>
ok for me. If you agree with my last commit, you can set a positive review.



---

archive/issue_comments_261397.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-04-12T21:52:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261397",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_261398.json:
```json
{
    "body": "<a id='comment:19'></a>\nGood to go!",
    "created_at": "2016-04-12T21:53:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261398",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:19'></a>
Good to go!



---

archive/issue_comments_261399.json:
```json
{
    "body": "Changing branch from \"public/16075\" to \"4f4db614d6fa1911b1eca63f7a4a7da062cd477f\"",
    "created_at": "2016-04-14T21:57:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261399",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/16075" to "4f4db614d6fa1911b1eca63f7a4a7da062cd477f"



---

archive/issue_events_047303.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-14T21:57:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16075#event-47303"
}
```



---

archive/issue_comments_261400.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-04-14T21:57:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16075#issuecomment-261400",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
