# Issue 16579: Tides interface

archive/issues_016342.json:
```json
{
    "body": "This implements the generators of the needed .c files to run with tides. See #16578\n\n**Keywords:** sd59\n\n**Branch:** [48e5a6ac043196520f95991b47bcd2557c77b835](https://github.com/sagemath/sagetrac-mirror/commit/48e5a6ac043196520f95991b47bcd2557c77b835)\n\n**Reviewer:** Volker Braun\n\n**Author:** Miguel Marco\n\nIssue created by migration from https://trac.sagemath.org/ticket/16579\n\n",
    "closed_at": "2014-07-08T18:51:53Z",
    "created_at": "2014-06-28T05:06:04Z",
    "labels": [
        "component: interfaces",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Tides interface",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16579",
    "user": "https://github.com/miguelmarco"
}
```
This implements the generators of the needed .c files to run with tides. See #16578

**Keywords:** sd59

**Branch:** [48e5a6ac043196520f95991b47bcd2557c77b835](https://github.com/sagemath/sagetrac-mirror/commit/48e5a6ac043196520f95991b47bcd2557c77b835)

**Reviewer:** Volker Braun

**Author:** Miguel Marco

Issue created by migration from https://trac.sagemath.org/ticket/16579





---

archive/issue_comments_218123.json:
```json
{
    "body": "**Branch:** [u/mmarco/ticket/16579](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/16579)",
    "created_at": "2014-06-28T05:11:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218123",
    "user": "https://github.com/miguelmarco"
}
```

**Branch:** [u/mmarco/ticket/16579](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/16579)



---

archive/issue_comments_218124.json:
```json
{
    "body": "**Commit:** [25f8b757c35da948eaa3db5d60afacd250e1b57f](https://github.com/sagemath/sagetrac-mirror/commit/25f8b757c35da948eaa3db5d60afacd250e1b57f)",
    "created_at": "2014-06-28T05:18:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218124",
    "user": "https://github.com/miguelmarco"
}
```

**Commit:** [25f8b757c35da948eaa3db5d60afacd250e1b57f](https://github.com/sagemath/sagetrac-mirror/commit/25f8b757c35da948eaa3db5d60afacd250e1b57f)



---

archive/issue_events_148406.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2014-06-28T05:18:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16579#event-148406"
}
```



---

archive/issue_comments_218125.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25f8b757c35da948eaa3db5d60afacd250e1b57f\">25f8b75</a></td><td><code>Interface for tides.</code></td></tr></table>\n",
    "created_at": "2014-06-28T05:18:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218125",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25f8b757c35da948eaa3db5d60afacd250e1b57f">25f8b75</a></td><td><code>Interface for tides.</code></td></tr></table>




---

archive/issue_comments_218126.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ebcf706d5514cb3a705bce2bdbc35dfdd5c2f3e9\">ebcf706</a></td><td><code>Solved some issues in the doctests</code></td></tr></table>\n",
    "created_at": "2014-06-28T07:00:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218126",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ebcf706d5514cb3a705bce2bdbc35dfdd5c2f3e9">ebcf706</a></td><td><code>Solved some issues in the doctests</code></td></tr></table>




---

archive/issue_comments_218127.json:
```json
{
    "body": "**Changing commit** from \"[25f8b757c35da948eaa3db5d60afacd250e1b57f](https://github.com/sagemath/sagetrac-mirror/commit/25f8b757c35da948eaa3db5d60afacd250e1b57f)\" to \"[ebcf706d5514cb3a705bce2bdbc35dfdd5c2f3e9](https://github.com/sagemath/sagetrac-mirror/commit/ebcf706d5514cb3a705bce2bdbc35dfdd5c2f3e9)\".",
    "created_at": "2014-06-28T07:00:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218127",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[25f8b757c35da948eaa3db5d60afacd250e1b57f](https://github.com/sagemath/sagetrac-mirror/commit/25f8b757c35da948eaa3db5d60afacd250e1b57f)" to "[ebcf706d5514cb3a705bce2bdbc35dfdd5c2f3e9](https://github.com/sagemath/sagetrac-mirror/commit/ebcf706d5514cb3a705bce2bdbc35dfdd5c2f3e9)".



---

archive/issue_comments_218128.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"sd59\".",
    "created_at": "2014-06-28T07:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218128",
    "user": "https://github.com/miguelmarco"
}
```

**Changing keywords** from "" to "sd59".



---

archive/issue_comments_218129.json:
```json
{
    "body": "<a id='comment:5'></a>\nFirst quick pass\n\n- What is an IVP?\n- Please be more careful with the doc:\n  - symbollic -> symbolic\n  - desored -> desired\n  - paramters -> parameters\n- why did you lazy import `NN`?\n- as trigonometric functions are only used in `subexpressions_list` it would be better to import them only inside the function.\n- Are you sure that `subexpressions_list` must belong to this module?\n- In the function `subexpressions_parameters` the extra argument `parameters` is never tested.\n- You should **never** use an empty list in the definition of a function\n\n  ```\n  sage: def f(a=[]): return a\n  sage: a = f()\n  sage: a.append(18)\n  sage: f()\n  [18]\n  ```\n- why do you use `fast_callable`? There is no introspection directly from the expression?\n\nVincent",
    "created_at": "2014-06-28T18:17:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218129",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
First quick pass

- What is an IVP?
- Please be more careful with the doc:
  - symbollic -> symbolic
  - desored -> desired
  - paramters -> parameters
- why did you lazy import `NN`?
- as trigonometric functions are only used in `subexpressions_list` it would be better to import them only inside the function.
- Are you sure that `subexpressions_list` must belong to this module?
- In the function `subexpressions_parameters` the extra argument `parameters` is never tested.
- You should **never** use an empty list in the definition of a function

  ```
  sage: def f(a=[]): return a
  sage: a = f()
  sage: a.append(18)
  sage: f()
  [18]
  ```
- why do you use `fast_callable`? There is no introspection directly from the expression?

Vincent



---

archive/issue_events_148407.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-28T18:17:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16579#event-148407"
}
```



---

archive/issue_events_148408.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-28T18:17:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16579#event-148408"
}
```



---

archive/issue_comments_218130.json:
```json
{
    "body": "**Changing commit** from \"[ebcf706d5514cb3a705bce2bdbc35dfdd5c2f3e9](https://github.com/sagemath/sagetrac-mirror/commit/ebcf706d5514cb3a705bce2bdbc35dfdd5c2f3e9)\" to \"[8902f6146662270b68fca4745284f0aa32f8818f](https://github.com/sagemath/sagetrac-mirror/commit/8902f6146662270b68fca4745284f0aa32f8818f)\".",
    "created_at": "2014-06-28T18:33:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218130",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ebcf706d5514cb3a705bce2bdbc35dfdd5c2f3e9](https://github.com/sagemath/sagetrac-mirror/commit/ebcf706d5514cb3a705bce2bdbc35dfdd5c2f3e9)" to "[8902f6146662270b68fca4745284f0aa32f8818f](https://github.com/sagemath/sagetrac-mirror/commit/8902f6146662270b68fca4745284f0aa32f8818f)".



---

archive/issue_comments_218131.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8902f6146662270b68fca4745284f0aa32f8818f\">8902f61</a></td><td><code>Cleaned a little bit the header of the generated files</code></td></tr></table>\n",
    "created_at": "2014-06-28T18:33:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218131",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8902f6146662270b68fca4745284f0aa32f8818f">8902f61</a></td><td><code>Cleaned a little bit the header of the generated files</code></td></tr></table>




---

archive/issue_comments_218132.json:
```json
{
    "body": "<a id='comment:7'></a>\n- What is an IVP?\nAn inital value problem. Clarified in the documentation now.\n\n- Please be more careful with the doc:\nchecked.\n\n- why did you lazy import NN?\nsorry about that, at some point this code was in desolvers, that was automatically loaded and produced a circular dependency error at startup\n\n- as trigonometric functions are only used in subexpressions_list it would be better to import them only inside the function.\nThanks, changed.\n\n- Are you sure that subexpressions_list must belong to this module?\nI wrote it for this specific purpose (in fact it was originally inside the code of the generator_.. functions), but i am open to suggestions. Where would it fit better?\n\n- In the function subexpressions_parameters the extra argument parameters is never tested.\nAdded a doctest for that.\n\n- You should never use an empty list in the definition of a function\nups, you are right, took care of that.\n\n- why do you use fast_callable? There is no introspection directly from the expression?\nfast_callable does the job of deciding the correct order for the operations to be properly executed. Doing that directly from the expression tree is possible (and maybe not hard), but also not trivial.",
    "created_at": "2014-06-28T18:56:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218132",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:7'></a>
- What is an IVP?
An inital value problem. Clarified in the documentation now.

- Please be more careful with the doc:
checked.

- why did you lazy import NN?
sorry about that, at some point this code was in desolvers, that was automatically loaded and produced a circular dependency error at startup

- as trigonometric functions are only used in subexpressions_list it would be better to import them only inside the function.
Thanks, changed.

- Are you sure that subexpressions_list must belong to this module?
I wrote it for this specific purpose (in fact it was originally inside the code of the generator_.. functions), but i am open to suggestions. Where would it fit better?

- In the function subexpressions_parameters the extra argument parameters is never tested.
Added a doctest for that.

- You should never use an empty list in the definition of a function
ups, you are right, took care of that.

- why do you use fast_callable? There is no introspection directly from the expression?
fast_callable does the job of deciding the correct order for the operations to be properly executed. Doing that directly from the expression tree is possible (and maybe not hard), but also not trivial.



---

archive/issue_comments_218133.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d2177475f90db894a7439d3bbb4f5e2c0326ea7\">5d21774</a></td><td><code>revision changes</code></td></tr></table>\n",
    "created_at": "2014-06-28T18:57:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218133",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d2177475f90db894a7439d3bbb4f5e2c0326ea7">5d21774</a></td><td><code>revision changes</code></td></tr></table>




---

archive/issue_comments_218134.json:
```json
{
    "body": "**Changing commit** from \"[8902f6146662270b68fca4745284f0aa32f8818f](https://github.com/sagemath/sagetrac-mirror/commit/8902f6146662270b68fca4745284f0aa32f8818f)\" to \"[5d2177475f90db894a7439d3bbb4f5e2c0326ea7](https://github.com/sagemath/sagetrac-mirror/commit/5d2177475f90db894a7439d3bbb4f5e2c0326ea7)\".",
    "created_at": "2014-06-28T18:57:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218134",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8902f6146662270b68fca4745284f0aa32f8818f](https://github.com/sagemath/sagetrac-mirror/commit/8902f6146662270b68fca4745284f0aa32f8818f)" to "[5d2177475f90db894a7439d3bbb4f5e2c0326ea7](https://github.com/sagemath/sagetrac-mirror/commit/5d2177475f90db894a7439d3bbb4f5e2c0326ea7)".



---

archive/issue_events_148409.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2014-06-28T19:51:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16579#event-148409"
}
```



---

archive/issue_events_148410.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2014-06-28T19:51:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16579#event-148410"
}
```



---

archive/issue_comments_218135.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58ca5ccd0b1aa87fc721a5c533c2c26c03caa92a\">58ca5cc</a></td><td><code>solved function called with [] as parameter</code></td></tr></table>\n",
    "created_at": "2014-06-29T18:38:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218135",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58ca5ccd0b1aa87fc721a5c533c2c26c03caa92a">58ca5cc</a></td><td><code>solved function called with [] as parameter</code></td></tr></table>




---

archive/issue_comments_218136.json:
```json
{
    "body": "**Changing commit** from \"[5d2177475f90db894a7439d3bbb4f5e2c0326ea7](https://github.com/sagemath/sagetrac-mirror/commit/5d2177475f90db894a7439d3bbb4f5e2c0326ea7)\" to \"[58ca5ccd0b1aa87fc721a5c533c2c26c03caa92a](https://github.com/sagemath/sagetrac-mirror/commit/58ca5ccd0b1aa87fc721a5c533c2c26c03caa92a)\".",
    "created_at": "2014-06-29T18:38:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218136",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5d2177475f90db894a7439d3bbb4f5e2c0326ea7](https://github.com/sagemath/sagetrac-mirror/commit/5d2177475f90db894a7439d3bbb4f5e2c0326ea7)" to "[58ca5ccd0b1aa87fc721a5c533c2c26c03caa92a](https://github.com/sagemath/sagetrac-mirror/commit/58ca5ccd0b1aa87fc721a5c533c2c26c03caa92a)".



---

archive/issue_comments_218137.json:
```json
{
    "body": "**Dependencies:** #16578, #16579",
    "created_at": "2014-07-01T12:11:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218137",
    "user": "https://github.com/miguelmarco"
}
```

**Dependencies:** #16578, #16579



---

archive/issue_comments_218138.json:
```json
{
    "body": "**Changing dependencies** from \"#16578, #16579\" to \"\".",
    "created_at": "2014-07-01T12:15:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218138",
    "user": "https://github.com/miguelmarco"
}
```

**Changing dependencies** from "#16578, #16579" to "".



---

archive/issue_comments_218139.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48e5a6ac043196520f95991b47bcd2557c77b835\">48e5a6a</a></td><td><code>fixed non-ascii character</code></td></tr></table>\n",
    "created_at": "2014-07-01T18:39:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218139",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48e5a6ac043196520f95991b47bcd2557c77b835">48e5a6a</a></td><td><code>fixed non-ascii character</code></td></tr></table>




---

archive/issue_comments_218140.json:
```json
{
    "body": "**Changing commit** from \"[58ca5ccd0b1aa87fc721a5c533c2c26c03caa92a](https://github.com/sagemath/sagetrac-mirror/commit/58ca5ccd0b1aa87fc721a5c533c2c26c03caa92a)\" to \"[48e5a6ac043196520f95991b47bcd2557c77b835](https://github.com/sagemath/sagetrac-mirror/commit/48e5a6ac043196520f95991b47bcd2557c77b835)\".",
    "created_at": "2014-07-01T18:39:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218140",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[58ca5ccd0b1aa87fc721a5c533c2c26c03caa92a](https://github.com/sagemath/sagetrac-mirror/commit/58ca5ccd0b1aa87fc721a5c533c2c26c03caa92a)" to "[48e5a6ac043196520f95991b47bcd2557c77b835](https://github.com/sagemath/sagetrac-mirror/commit/48e5a6ac043196520f95991b47bcd2557c77b835)".



---

archive/issue_comments_218141.json:
```json
{
    "body": "**Reviewer:** Volker Braun",
    "created_at": "2014-07-08T13:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218141",
    "user": "https://github.com/vbraun"
}
```

**Reviewer:** Volker Braun



---

archive/issue_events_148411.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-08T18:51:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16579#event-148411"
}
```



---

archive/issue_events_148412.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-08T18:51:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16579#event-148412"
}
```



---

archive/issue_comments_218142.json:
```json
{
    "body": "**Changing branch** from \"[u/mmarco/ticket/16579](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/16579)\" to \"[48e5a6ac043196520f95991b47bcd2557c77b835](https://github.com/sagemath/sagetrac-mirror/commit/48e5a6ac043196520f95991b47bcd2557c77b835)\".",
    "created_at": "2014-07-08T18:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218142",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mmarco/ticket/16579](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/16579)" to "[48e5a6ac043196520f95991b47bcd2557c77b835](https://github.com/sagemath/sagetrac-mirror/commit/48e5a6ac043196520f95991b47bcd2557c77b835)".



---

archive/issue_comments_218143.json:
```json
{
    "body": "<a id='comment:16'></a>\nIn `genfiles_mpfr()`, what's the point of all these\n\n```\nN(parameter_values[i],digits=dig)\n```\nwhy not simply\n\n```\nparameter_values[i]\n```\nI'm making this change at #16025.",
    "created_at": "2014-10-16T18:21:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218143",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
In `genfiles_mpfr()`, what's the point of all these

```
N(parameter_values[i],digits=dig)
```
why not simply

```
parameter_values[i]
```
I'm making this change at #16025.



---

archive/issue_comments_218144.json:
```json
{
    "body": "**Changing commit** from \"[48e5a6ac043196520f95991b47bcd2557c77b835](https://github.com/sagemath/sagetrac-mirror/commit/48e5a6ac043196520f95991b47bcd2557c77b835)\" to \"\".",
    "created_at": "2014-10-16T18:21:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218144",
    "user": "https://github.com/jdemeyer"
}
```

**Changing commit** from "[48e5a6ac043196520f95991b47bcd2557c77b835](https://github.com/sagemath/sagetrac-mirror/commit/48e5a6ac043196520f95991b47bcd2557c77b835)" to "".



---

archive/issue_comments_218145.json:
```json
{
    "body": "<a id='comment:17'></a>\nIIRC we decided to force the number of digits of the output because mpfr_set_str requires a string with all the digits.\n\nThat is, if we are working with 10 digits of precision, we need to write 0.5 as 0.5000000000.",
    "created_at": "2014-10-16T20:48:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218145",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:17'></a>
IIRC we decided to force the number of digits of the output because mpfr_set_str requires a string with all the digits.

That is, if we are working with 10 digits of precision, we need to write 0.5 as 0.5000000000.



---

archive/issue_comments_218146.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [mmarco](#comment%3A17):\n> `mpfr_set_str` requires a string with all the digits.\n\nI'm pretty sure that this is not true. `mpfr_set_str()` is what Sage uses to create `RealNumber`s from strings and that works with any number of digits.",
    "created_at": "2014-10-16T20:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218146",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>
Replying to [mmarco](#comment%3A17):
> `mpfr_set_str` requires a string with all the digits.

I'm pretty sure that this is not true. `mpfr_set_str()` is what Sage uses to create `RealNumber`s from strings and that works with any number of digits.



---

archive/issue_comments_218147.json:
```json
{
    "body": "<a id='comment:19'></a>\nMPFR documentation states that \"Contrary to mpfr_strtofr, mpfr_set_str requires the whole string to represent a valid floating-point number\"\n\nAnyways i will ask the tides developpers about this. Maybe there are some reasons that i am missing.",
    "created_at": "2014-10-16T21:25:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218147",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:19'></a>
MPFR documentation states that "Contrary to mpfr_strtofr, mpfr_set_str requires the whole string to represent a valid floating-point number"

Anyways i will ask the tides developpers about this. Maybe there are some reasons that i am missing.



---

archive/issue_comments_218148.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [mmarco](#comment%3A19):\n> MPFR documentation states that \"Contrary to mpfr_strtofr, mpfr_set_str requires the whole string to represent a valid floating-point number\"\n\nSure, but `\"1\"` or `\"1.0\"` are valid floating point numbers just like `\"1.00000000000000000000\"`.",
    "created_at": "2014-10-17T05:45:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218148",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>
Replying to [mmarco](#comment%3A19):
> MPFR documentation states that "Contrary to mpfr_strtofr, mpfr_set_str requires the whole string to represent a valid floating-point number"

Sure, but `"1"` or `"1.0"` are valid floating point numbers just like `"1.00000000000000000000"`.



---

archive/issue_comments_218149.json:
```json
{
    "body": "<a id='comment:21'></a>\nMaybe i am understanding it in the wrong way, but as i get it, the sentence states that \"1.0\" will create a floating point number with less precission than \"1.0000000\".\n\nIn any case, we could check it using desolve_tides_mpfr (#16581) and compare the results with and without the change. A doctest should be added there in any case.",
    "created_at": "2014-10-17T08:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218149",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:21'></a>
Maybe i am understanding it in the wrong way, but as i get it, the sentence states that "1.0" will create a floating point number with less precission than "1.0000000".

In any case, we could check it using desolve_tides_mpfr (#16581) and compare the results with and without the change. A doctest should be added there in any case.



---

archive/issue_comments_218150.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [mmarco](#comment%3A21):\n> Maybe i am understanding it in the wrong way, but as i get it, the sentence states that \"1.0\" will create a floating point number with less precission than \"1.0000000\".\n\nThat's not what it says. The precision in MPFR is a property of the number, the input doesn't matter.",
    "created_at": "2014-10-17T08:18:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218150",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
Replying to [mmarco](#comment%3A21):
> Maybe i am understanding it in the wrong way, but as i get it, the sentence states that "1.0" will create a floating point number with less precission than "1.0000000".

That's not what it says. The precision in MPFR is a property of the number, the input doesn't matter.



---

archive/issue_comments_218151.json:
```json
{
    "body": "<a id='comment:23'></a>\nHello jdemeyer. I'm also a developer of sagetides, as well as a tides developer.\nYou are right with mpfr. From the very beginning we preset the number of digits (binary or decimal) and all the floating point variables of the code stores numbers of the same binary size.\n\n\nWe wrote 'N(parameter, digits = dig)' because, otherwise sage writes to text either the algebraic representation of the number (eg pi) or an insufficient floating point approximation.\n\nHowever, using string representation, it is the same computational effort parsing 0.10 0.100 or 0.1000000000, cause they have no exact representation. I personally prefer long strings because it is more clear for me to read so. I use sage as preprocessor to obtain C code to work with and edit it outside sage environmet.\n\nI hope this can clarify a bit the ticket.",
    "created_at": "2014-10-17T18:28:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218151",
    "user": "https://trac.sagemath.org/admin/accounts/users/iMark"
}
```

<a id='comment:23'></a>
Hello jdemeyer. I'm also a developer of sagetides, as well as a tides developer.
You are right with mpfr. From the very beginning we preset the number of digits (binary or decimal) and all the floating point variables of the code stores numbers of the same binary size.


We wrote 'N(parameter, digits = dig)' because, otherwise sage writes to text either the algebraic representation of the number (eg pi) or an insufficient floating point approximation.

However, using string representation, it is the same computational effort parsing 0.10 0.100 or 0.1000000000, cause they have no exact representation. I personally prefer long strings because it is more clear for me to read so. I use sage as preprocessor to obtain C code to work with and edit it outside sage environmet.

I hope this can clarify a bit the ticket.



---

archive/issue_comments_218152.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [iMark](#comment%3A23):\n> We wrote 'N(parameter, digits = dig)' because, otherwise sage writes to text either the algebraic representation of the number\n\nIf that is the reason, this should be\n1) documented\n2) tested in a doctest",
    "created_at": "2014-10-17T18:31:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218152",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'></a>
Replying to [iMark](#comment%3A23):
> We wrote 'N(parameter, digits = dig)' because, otherwise sage writes to text either the algebraic representation of the number

If that is the reason, this should be
1) documented
2) tested in a doctest



---

archive/issue_comments_218153.json:
```json
{
    "body": "<a id='comment:25'></a>\nOk, i will open a ticket for that.",
    "created_at": "2014-10-17T19:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218153",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:25'></a>
Ok, i will open a ticket for that.



---

archive/issue_comments_218154.json:
```json
{
    "body": "<a id='comment:26'></a>\nThis is now #17179",
    "created_at": "2014-10-19T21:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16579#issuecomment-218154",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:26'></a>
This is now #17179
