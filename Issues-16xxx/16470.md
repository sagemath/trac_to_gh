# Issue 16470: Add optional distance in BFS

archive/issues_016233.json:
```json
{
    "body": "There is no way to get the edge distance with a custom neighbor function. \n\nbreadth_first_search() does not report distance, and shortest_paths() does not give the option to specify a neighbor function.\n\nCC:  rudi\n\nKeywords: breadth first search distance\n\nBranch/Commit: [0087e5ba92a109cc892f72dcc7026584433278b0](https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0)\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Florian Oosterhof\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16470\n\n",
    "closed_at": "2014-10-25T17:01:34Z",
    "created_at": "2014-06-11T11:39:20Z",
    "labels": [
        "component: graph theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Add optional distance in BFS",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16470",
    "user": "https://trac.sagemath.org/admin/accounts/users/foosterhof"
}
```
There is no way to get the edge distance with a custom neighbor function. 

breadth_first_search() does not report distance, and shortest_paths() does not give the option to specify a neighbor function.

CC:  rudi

Keywords: breadth first search distance

Branch/Commit: [0087e5ba92a109cc892f72dcc7026584433278b0](https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0)

Reviewer: Frédéric Chapoton

Author: Florian Oosterhof

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16470





---

archive/issue_comments_275937.json:
```json
{
    "body": "<a id='comment:1'></a>\nI do not understand your problem, but do you know `g.distance(by_weight=True)` ? A BFS with a distance on the edges is called \"Dijkstra's algorithm\", and it is implemented in Sage.\n\nNathann",
    "created_at": "2014-06-11T13:19:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275937",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'></a>
I do not understand your problem, but do you know `g.distance(by_weight=True)` ? A BFS with a distance on the edges is called "Dijkstra's algorithm", and it is implemented in Sage.

Nathann



---

archive/issue_comments_275938.json:
```json
{
    "body": "Branch: [u/foosterhof/ticket/16470](https://github.com/sagemath/sagetrac-mirror/tree/u/foosterhof/ticket/16470)",
    "created_at": "2014-06-11T13:36:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275938",
    "user": "https://trac.sagemath.org/admin/accounts/users/foosterhof"
}
```

Branch: [u/foosterhof/ticket/16470](https://github.com/sagemath/sagetrac-mirror/tree/u/foosterhof/ticket/16470)



---

archive/issue_comments_275939.json:
```json
{
    "body": "<a id='comment:3'></a>\nI need BFS to report the distance as well, the minimum number of edges/arcs to be traversed for every vertex. The shortest_paths method implements this, but it does not have any option to specify a neighbor function, which is possible in the breadth_first_search method.\n\nMy commit is a small modification that does implement this.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|\n|[c0dd8ff](https://github.com/sagemath/sagetrac-mirror/commit/c0dd8ff023c173451a4126f0b1742eb16692f2db)|`Added optional argument (default False) to report distance along with vertex`|",
    "created_at": "2014-06-11T13:39:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275939",
    "user": "https://trac.sagemath.org/admin/accounts/users/foosterhof"
}
```

<a id='comment:3'></a>
I need BFS to report the distance as well, the minimum number of edges/arcs to be traversed for every vertex. The shortest_paths method implements this, but it does not have any option to specify a neighbor function, which is possible in the breadth_first_search method.

My commit is a small modification that does implement this.

---
New commits:
|                                                                                                                                          |                                                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
|[c0dd8ff](https://github.com/sagemath/sagetrac-mirror/commit/c0dd8ff023c173451a4126f0b1742eb16692f2db)|`Added optional argument (default False) to report distance along with vertex`|



---

archive/issue_comments_275940.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Reported upstream. No feedback yet.\"",
    "created_at": "2014-06-11T13:39:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275940",
    "user": "https://trac.sagemath.org/admin/accounts/users/foosterhof"
}
```

Changing upstream from "N/A" to "Reported upstream. No feedback yet."



---

archive/issue_comments_275941.json:
```json
{
    "body": "Commit: [c0dd8ff023c173451a4126f0b1742eb16692f2db](https://github.com/sagemath/sagetrac-mirror/commit/c0dd8ff023c173451a4126f0b1742eb16692f2db)",
    "created_at": "2014-06-11T13:39:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275941",
    "user": "https://trac.sagemath.org/admin/accounts/users/foosterhof"
}
```

Commit: [c0dd8ff023c173451a4126f0b1742eb16692f2db](https://github.com/sagemath/sagetrac-mirror/commit/c0dd8ff023c173451a4126f0b1742eb16692f2db)



---

archive/issue_comments_275942.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-11T13:39:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275942",
    "user": "https://trac.sagemath.org/admin/accounts/users/foosterhof"
}
```

Changing status from new to needs_review.



---

archive/issue_events_055067.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16470#event-55067"
}
```



---

archive/issue_comments_275943.json:
```json
{
    "body": "Changing commit from \"[c0dd8ff023c173451a4126f0b1742eb16692f2db](https://github.com/sagemath/sagetrac-mirror/commit/c0dd8ff023c173451a4126f0b1742eb16692f2db)\" to \"[0087e5ba92a109cc892f72dcc7026584433278b0](https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0)\"",
    "created_at": "2014-10-24T16:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275943",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "[c0dd8ff023c173451a4126f0b1742eb16692f2db](https://github.com/sagemath/sagetrac-mirror/commit/c0dd8ff023c173451a4126f0b1742eb16692f2db)" to "[0087e5ba92a109cc892f72dcc7026584433278b0](https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0)"



---

archive/issue_comments_275944.json:
```json
{
    "body": "Changing branch from \"[u/foosterhof/ticket/16470](https://github.com/sagemath/sagetrac-mirror/tree/u/foosterhof/ticket/16470)\" to \"[public/16470](https://github.com/sagemath/sagetrac-mirror/tree/public/16470)\"",
    "created_at": "2014-10-24T16:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275944",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "[u/foosterhof/ticket/16470](https://github.com/sagemath/sagetrac-mirror/tree/u/foosterhof/ticket/16470)" to "[public/16470](https://github.com/sagemath/sagetrac-mirror/tree/public/16470)"



---

archive/issue_comments_275945.json:
```json
{
    "body": "<a id='comment:5'></a>\nI have made a review commit. I still need to check that the doc builds, otherwise thinks look good to me.\n\nCan you have a look at my changes, and see if you agree with them ? They are mostly typographical.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|\n|[94262d9](https://github.com/sagemath/sagetrac-mirror/commit/94262d9f10cd55149f9ffe555d856010ae85c7d1)|`Merge branch 'u/foosterhof/ticket/16470' of trac.sagemath.org:sage into 16470`|\n|[0087e5b](https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0)|`trac #16470 reviewer's patch`|",
    "created_at": "2014-10-24T16:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275945",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
I have made a review commit. I still need to check that the doc builds, otherwise thinks look good to me.

Can you have a look at my changes, and see if you agree with them ? They are mostly typographical.

---
New commits:
|                                                                                                                                          |                                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|
|[94262d9](https://github.com/sagemath/sagetrac-mirror/commit/94262d9f10cd55149f9ffe555d856010ae85c7d1)|`Merge branch 'u/foosterhof/ticket/16470' of trac.sagemath.org:sage into 16470`|
|[0087e5b](https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0)|`trac #16470 reviewer's patch`|



---

archive/issue_comments_275946.json:
```json
{
    "body": "Reviewer: Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2014-10-24T17:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275946",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: Frédéric Chapoton



---

archive/issue_comments_275947.json:
```json
{
    "body": "<a id='comment:6'></a>\nPlease put your real name in the author field of the ticket.",
    "created_at": "2014-10-24T17:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275947",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
Please put your real name in the author field of the ticket.



---

archive/issue_comments_275948.json:
```json
{
    "body": "Changing upstream from \"Reported upstream. No feedback yet.\" to \"N/A\"",
    "created_at": "2014-10-24T17:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275948",
    "user": "https://github.com/fchapoton"
}
```

Changing upstream from "Reported upstream. No feedback yet." to "N/A"



---

archive/issue_comments_275949.json:
```json
{
    "body": "<a id='comment:8'></a>\nLooks good to me. You can set a positive review on my behalf if you agree with my small typographical changes. And please add your real name in the author field.",
    "created_at": "2014-10-24T18:02:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275949",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
Looks good to me. You can set a positive review on my behalf if you agree with my small typographical changes. And please add your real name in the author field.



---

archive/issue_comments_275950.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-10-24T18:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275950",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_275951.json:
```json
{
    "body": "<a id='comment:9'></a>\nThank you for reviewing. \n\nThe author of this patch was my student Florian Oosterhof, who worked on this code as a part of his bachelor thesis. I'm not sure if he is still active on the sage trac, so I added his name in the author field on his behalf.",
    "created_at": "2014-10-24T18:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275951",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:9'></a>
Thank you for reviewing. 

The author of this patch was my student Florian Oosterhof, who worked on this code as a part of his bachelor thesis. I'm not sure if he is still active on the sage trac, so I added his name in the author field on his behalf.



---

archive/issue_comments_275952.json:
```json
{
    "body": "Author: Florian Oosterhof",
    "created_at": "2014-10-24T18:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275952",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Author: Florian Oosterhof



---

archive/issue_comments_275953.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-10-25T17:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275953",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_055068.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-25T17:01:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16470#event-55068"
}
```



---

archive/issue_comments_275954.json:
```json
{
    "body": "Changing branch from \"[public/16470](https://github.com/sagemath/sagetrac-mirror/tree/public/16470)\" to \"[0087e5ba92a109cc892f72dcc7026584433278b0](https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0)\"",
    "created_at": "2014-10-25T17:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-275954",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[public/16470](https://github.com/sagemath/sagetrac-mirror/tree/public/16470)" to "[0087e5ba92a109cc892f72dcc7026584433278b0](https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0)"
