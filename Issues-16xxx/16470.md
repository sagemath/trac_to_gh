# Issue 16470: Add optional distance in BFS

archive/issues_016233.json:
```json
{
    "body": "There is no way to get the edge distance with a custom neighbor function. \n\nbreadth_first_search() does not report distance, and shortest_paths() does not give the option to specify a neighbor function.\n\n**CC:**  Rudi\n\n**Keywords:** breadth first search distance\n\n**Branch/Commit:** [0087e5ba92a109cc892f72dcc7026584433278b0](https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0)\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** Florian Oosterhof\n\nIssue created by migration from https://trac.sagemath.org/ticket/16470\n\n",
    "closed_at": "2014-10-25T17:01:34Z",
    "created_at": "2014-06-11T11:39:20Z",
    "labels": [
        "component: graph theory",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Add optional distance in BFS",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16470",
    "user": "https://trac.sagemath.org/admin/accounts/users/foosterhof"
}
```
There is no way to get the edge distance with a custom neighbor function. 

breadth_first_search() does not report distance, and shortest_paths() does not give the option to specify a neighbor function.

**CC:**  Rudi

**Keywords:** breadth first search distance

**Branch/Commit:** [0087e5ba92a109cc892f72dcc7026584433278b0](https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0)

**Reviewer:** Frédéric Chapoton

**Author:** Florian Oosterhof

Issue created by migration from https://trac.sagemath.org/ticket/16470





---

archive/issue_comments_215605.json:
```json
{
    "body": "<a id='comment:1'></a>\nI do not understand your problem, but do you know `g.distance(by_weight=True)` ? A BFS with a distance on the edges is called \"Dijkstra's algorithm\", and it is implemented in Sage.\n\nNathann",
    "created_at": "2014-06-11T13:19:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215605",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'></a>
I do not understand your problem, but do you know `g.distance(by_weight=True)` ? A BFS with a distance on the edges is called "Dijkstra's algorithm", and it is implemented in Sage.

Nathann



---

archive/issue_comments_215606.json:
```json
{
    "body": "**Branch:** [u/foosterhof/ticket/16470](https://github.com/sagemath/sagetrac-mirror/tree/u/foosterhof/ticket/16470)",
    "created_at": "2014-06-11T13:36:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215606",
    "user": "https://trac.sagemath.org/admin/accounts/users/foosterhof"
}
```

**Branch:** [u/foosterhof/ticket/16470](https://github.com/sagemath/sagetrac-mirror/tree/u/foosterhof/ticket/16470)



---

archive/issue_comments_215607.json:
```json
{
    "body": "<a id='comment:3'></a>\nI need BFS to report the distance as well, the minimum number of edges/arcs to be traversed for every vertex. The shortest_paths method implements this, but it does not have any option to specify a neighbor function, which is possible in the breadth_first_search method.\n\nMy commit is a small modification that does implement this.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0dd8ff023c173451a4126f0b1742eb16692f2db\">c0dd8ff</a></td><td><code>Added optional argument (default False) to report distance along with vertex</code></td></tr></table>\n",
    "created_at": "2014-06-11T13:39:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215607",
    "user": "https://trac.sagemath.org/admin/accounts/users/foosterhof"
}
```

<a id='comment:3'></a>
I need BFS to report the distance as well, the minimum number of edges/arcs to be traversed for every vertex. The shortest_paths method implements this, but it does not have any option to specify a neighbor function, which is possible in the breadth_first_search method.

My commit is a small modification that does implement this.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0dd8ff023c173451a4126f0b1742eb16692f2db">c0dd8ff</a></td><td><code>Added optional argument (default False) to report distance along with vertex</code></td></tr></table>




---

archive/issue_comments_215608.json:
```json
{
    "body": "**Upstream:** Reported upstream. No feedback yet.",
    "created_at": "2014-06-11T13:39:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215608",
    "user": "https://trac.sagemath.org/admin/accounts/users/foosterhof"
}
```

**Upstream:** Reported upstream. No feedback yet.



---

archive/issue_comments_215609.json:
```json
{
    "body": "**Commit:** [c0dd8ff023c173451a4126f0b1742eb16692f2db](https://github.com/sagemath/sagetrac-mirror/commit/c0dd8ff023c173451a4126f0b1742eb16692f2db)",
    "created_at": "2014-06-11T13:39:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215609",
    "user": "https://trac.sagemath.org/admin/accounts/users/foosterhof"
}
```

**Commit:** [c0dd8ff023c173451a4126f0b1742eb16692f2db](https://github.com/sagemath/sagetrac-mirror/commit/c0dd8ff023c173451a4126f0b1742eb16692f2db)



---

archive/issue_events_147169.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/foosterhof",
    "created_at": "2014-06-11T13:39:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16470#event-147169"
}
```



---

archive/issue_events_147170.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16470#event-147170"
}
```



---

archive/issue_events_147171.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16470#event-147171"
}
```



---

archive/issue_comments_215610.json:
```json
{
    "body": "**Changing commit** from \"[c0dd8ff023c173451a4126f0b1742eb16692f2db](https://github.com/sagemath/sagetrac-mirror/commit/c0dd8ff023c173451a4126f0b1742eb16692f2db)\" to \"[0087e5ba92a109cc892f72dcc7026584433278b0](https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0)\".",
    "created_at": "2014-10-24T16:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215610",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[c0dd8ff023c173451a4126f0b1742eb16692f2db](https://github.com/sagemath/sagetrac-mirror/commit/c0dd8ff023c173451a4126f0b1742eb16692f2db)" to "[0087e5ba92a109cc892f72dcc7026584433278b0](https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0)".



---

archive/issue_comments_215611.json:
```json
{
    "body": "**Changing branch** from \"[u/foosterhof/ticket/16470](https://github.com/sagemath/sagetrac-mirror/tree/u/foosterhof/ticket/16470)\" to \"[public/16470](https://github.com/sagemath/sagetrac-mirror/tree/public/16470)\".",
    "created_at": "2014-10-24T16:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215611",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/foosterhof/ticket/16470](https://github.com/sagemath/sagetrac-mirror/tree/u/foosterhof/ticket/16470)" to "[public/16470](https://github.com/sagemath/sagetrac-mirror/tree/public/16470)".



---

archive/issue_comments_215612.json:
```json
{
    "body": "<a id='comment:5'></a>\nI have made a review commit. I still need to check that the doc builds, otherwise thinks look good to me.\n\nCan you have a look at my changes, and see if you agree with them ? They are mostly typographical.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94262d9f10cd55149f9ffe555d856010ae85c7d1\">94262d9</a></td><td><code>Merge branch 'u/foosterhof/ticket/16470' of trac.sagemath.org:sage into 16470</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0\">0087e5b</a></td><td><code>trac #16470 reviewer's patch</code></td></tr></table>\n",
    "created_at": "2014-10-24T16:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215612",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
I have made a review commit. I still need to check that the doc builds, otherwise thinks look good to me.

Can you have a look at my changes, and see if you agree with them ? They are mostly typographical.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94262d9f10cd55149f9ffe555d856010ae85c7d1">94262d9</a></td><td><code>Merge branch 'u/foosterhof/ticket/16470' of trac.sagemath.org:sage into 16470</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0">0087e5b</a></td><td><code>trac #16470 reviewer's patch</code></td></tr></table>




---

archive/issue_comments_215613.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2014-10-24T17:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215613",
    "user": "https://github.com/fchapoton"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_comments_215614.json:
```json
{
    "body": "<a id='comment:6'></a>\nPlease put your real name in the author field of the ticket.",
    "created_at": "2014-10-24T17:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215614",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
Please put your real name in the author field of the ticket.



---

archive/issue_comments_215615.json:
```json
{
    "body": "**Changing upstream** from \"Reported upstream. No feedback yet.\" to \"\".",
    "created_at": "2014-10-24T17:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215615",
    "user": "https://github.com/fchapoton"
}
```

**Changing upstream** from "Reported upstream. No feedback yet." to "".



---

archive/issue_comments_215616.json:
```json
{
    "body": "<a id='comment:8'></a>\nLooks good to me. You can set a positive review on my behalf if you agree with my small typographical changes. And please add your real name in the author field.",
    "created_at": "2014-10-24T18:02:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215616",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
Looks good to me. You can set a positive review on my behalf if you agree with my small typographical changes. And please add your real name in the author field.



---

archive/issue_events_147172.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/Rudi",
    "created_at": "2014-10-24T18:15:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16470#event-147172"
}
```



---

archive/issue_events_147173.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/Rudi",
    "created_at": "2014-10-24T18:15:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16470#event-147173"
}
```



---

archive/issue_comments_215617.json:
```json
{
    "body": "<a id='comment:9'></a>\nThank you for reviewing. \n\nThe author of this patch was my student Florian Oosterhof, who worked on this code as a part of his bachelor thesis. I'm not sure if he is still active on the sage trac, so I added his name in the author field on his behalf.",
    "created_at": "2014-10-24T18:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215617",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:9'></a>
Thank you for reviewing. 

The author of this patch was my student Florian Oosterhof, who worked on this code as a part of his bachelor thesis. I'm not sure if he is still active on the sage trac, so I added his name in the author field on his behalf.



---

archive/issue_comments_215618.json:
```json
{
    "body": "**Author:** Florian Oosterhof",
    "created_at": "2014-10-24T18:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215618",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

**Author:** Florian Oosterhof



---

archive/issue_events_147174.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-25T17:01:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16470#event-147174"
}
```



---

archive/issue_events_147175.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-25T17:01:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16470#event-147175"
}
```



---

archive/issue_comments_215619.json:
```json
{
    "body": "**Changing branch** from \"[public/16470](https://github.com/sagemath/sagetrac-mirror/tree/public/16470)\" to \"[0087e5ba92a109cc892f72dcc7026584433278b0](https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0)\".",
    "created_at": "2014-10-25T17:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16470#issuecomment-215619",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/16470](https://github.com/sagemath/sagetrac-mirror/tree/public/16470)" to "[0087e5ba92a109cc892f72dcc7026584433278b0](https://github.com/sagemath/sagetrac-mirror/commit/0087e5ba92a109cc892f72dcc7026584433278b0)".
