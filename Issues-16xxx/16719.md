# Issue 16719: replace gap.eval with libgap calls in combinat/combinat.py

archive/issues_016482.json:
```json
{
    "assignees": [],
    "body": "As first reported in #15625 (comment:7) with `lucas_number1`, the same problem is encountered with gap evaluation of Stirling numbers:\n\n```\nsage: stirling_number1(1000,2)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-22-b29f3b3e2003> in <module>()\n----> 1 stirling_number1(Integer(1000),Integer(2))\n\n/home/ralf/sage/local/lib/python2.7/site-packages/sage/combinat/combinat.pyc in stirling_number1(n, k)\n    650     \"\"\"\n    651     return Integer(gap.eval(\"Stirling1({0},{1})\".format(Integer(n),\n--> 652                                                         Integer(k))))\n    653 \n    654 \n\n/home/ralf/sage/local/lib/python2.7/site-packages/sage/rings/integer.so in sage.rings.integer.Integer.__init__ (build/cythonized/sage/rings/integer.c:7902)()\n\nTypeError: unable to convert x (=<integer 301...000 (2566 digits)>) to an integer\n```\nThe way to go would be to replace `gap.eval` with `libgap.eval` and it's faster, too:\n\n```\nsage: timeit('Integer(gap.eval(\"Stirling1(100,2)\"))')\n625 loops, best of 3: 419 \u00b5s per loop\nsage: timeit('libgap.eval(\"Stirling1(100,2)\").sage()')\n625 loops, best of 3: 125 \u00b5s per loop\nsage: timeit('libgap.eval(\"Stirling1(1000,2)\").sage()')\n125 loops, best of 3: 6.45 ms per loop\n```\nAddendum: even faster would be to use `(n-1)!*H(n-1)` for `stirling(n,2)`, dependent on #16671:\n\n```\nsage: harmonic_number(99)*factorial(99)==stirling_number1(100,2)\nTrue\nsage: timeit('harmonic_number(99)*factorial(99)')\n625 loops, best of 3: 56.9 \u00b5s per loop\nsage: timeit('harmonic_number(999)*factorial(999)')\n625 loops, best of 3: 119 \u00b5s per loop\n```\n\n\nDepends on #17157\n\nCC:  @vbraun\n\nKeywords: **gap, bignum, expect, pexpect, libgap, stirling**\n\nBranch/Commit: **[`d6698e2`](https://github.com/sagemath/sagetrac-mirror/commit/d6698e2c4d7a3be2ff6c189a1bb24e55dda61616)**\n\nReviewer: **Jeroen Demeyer, Volker Braun**\n\nAuthor: **Ralf Stephan**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16719_\n\n",
    "closed_at": "2014-10-27T16:02:28Z",
    "created_at": "2014-07-27T07:19:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "replace gap.eval with libgap calls in combinat/combinat.py",
    "type": "issue",
    "updated_at": "2014-10-27T16:02:28Z",
    "url": "https://github.com/sagemath/sage/issues/16719",
    "user": "https://github.com/rwst"
}
```
As first reported in #15625 (comment:7) with `lucas_number1`, the same problem is encountered with gap evaluation of Stirling numbers:

```
sage: stirling_number1(1000,2)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-22-b29f3b3e2003> in <module>()
----> 1 stirling_number1(Integer(1000),Integer(2))

/home/ralf/sage/local/lib/python2.7/site-packages/sage/combinat/combinat.pyc in stirling_number1(n, k)
    650     """
    651     return Integer(gap.eval("Stirling1({0},{1})".format(Integer(n),
--> 652                                                         Integer(k))))
    653 
    654 

/home/ralf/sage/local/lib/python2.7/site-packages/sage/rings/integer.so in sage.rings.integer.Integer.__init__ (build/cythonized/sage/rings/integer.c:7902)()

TypeError: unable to convert x (=<integer 301...000 (2566 digits)>) to an integer
```
The way to go would be to replace `gap.eval` with `libgap.eval` and it's faster, too:

```
sage: timeit('Integer(gap.eval("Stirling1(100,2)"))')
625 loops, best of 3: 419 µs per loop
sage: timeit('libgap.eval("Stirling1(100,2)").sage()')
625 loops, best of 3: 125 µs per loop
sage: timeit('libgap.eval("Stirling1(1000,2)").sage()')
125 loops, best of 3: 6.45 ms per loop
```
Addendum: even faster would be to use `(n-1)!*H(n-1)` for `stirling(n,2)`, dependent on #16671:

```
sage: harmonic_number(99)*factorial(99)==stirling_number1(100,2)
True
sage: timeit('harmonic_number(99)*factorial(99)')
625 loops, best of 3: 56.9 µs per loop
sage: timeit('harmonic_number(999)*factorial(999)')
625 loops, best of 3: 119 µs per loop
```


Depends on #17157

CC:  @vbraun

Keywords: **gap, bignum, expect, pexpect, libgap, stirling**

Branch/Commit: **[`d6698e2`](https://github.com/sagemath/sagetrac-mirror/commit/d6698e2c4d7a3be2ff6c189a1bb24e55dda61616)**

Reviewer: **Jeroen Demeyer, Volker Braun**

Author: **Ralf Stephan**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/16719_





---

archive/issue_events_238998.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-27T07:19:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-238998"
}
```



---

archive/issue_events_238999.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-27T07:19:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "c: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-238999"
}
```



---

archive/issue_events_239000.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-27T07:19:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239000"
}
```



---

archive/issue_events_239001.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-27T07:19:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239001"
}
```



---

archive/issue_events_239002.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-27T07:59:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "c: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239002"
}
```



---

archive/issue_events_239003.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-27T07:59:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239003"
}
```



---

archive/issue_comments_218697.json:
```json
{
    "body": "Changed keywords from **gap, bignum, expect, pexpect** to **gap, bignum, expect, pexpect, libgap**",
    "created_at": "2014-07-27T07:59:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218697",
    "user": "https://github.com/rwst"
}
```

Changed keywords from **gap, bignum, expect, pexpect** to **gap, bignum, expect, pexpect, libgap**



---

archive/issue_comments_218698.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -18,4 +18,14 @@\n \n TypeError: unable to convert x (=<integer 301...000 (2566 digits)>) to an integer\n ```\n-Alternatively, this ticket may discuss abandoning the GAP expect interface for such big number results and use libpari instead.\n+The way to go would be to replace `gap.eval` with `libgap.eval` and it's faster, too:\n+\n+```\n+sage: timeit('Integer(gap.eval(\"Stirling1(100,2)\"))')\n+625 loops, best of 3: 419 \u00b5s per loop\n+sage: timeit('libgap.eval(\"Stirling1(100,2)\").sage()')\n+625 loops, best of 3: 125 \u00b5s per loop\n+sage: timeit('libgap.eval(\"Stirling1(1000,2)\").sage()')\n+125 loops, best of 3: 6.45 ms per loop\n+```\n+\n``````\n",
    "created_at": "2014-07-27T07:59:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218698",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -18,4 +18,14 @@
 
 TypeError: unable to convert x (=<integer 301...000 (2566 digits)>) to an integer
 ```
-Alternatively, this ticket may discuss abandoning the GAP expect interface for such big number results and use libpari instead.
+The way to go would be to replace `gap.eval` with `libgap.eval` and it's faster, too:
+
+```
+sage: timeit('Integer(gap.eval("Stirling1(100,2)"))')
+625 loops, best of 3: 419 µs per loop
+sage: timeit('libgap.eval("Stirling1(100,2)").sage()')
+625 loops, best of 3: 125 µs per loop
+sage: timeit('libgap.eval("Stirling1(1000,2)").sage()')
+125 loops, best of 3: 6.45 ms per loop
+```
+
``````




---

archive/issue_events_239004.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-27T07:59:10Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "title_is": "replace gap.eval with libgap.eval in combinat/combinat.py",
    "title_was": "not all gap integers get converted",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239004"
}
```



---

archive/issue_comments_218699.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -28,4 +28,12 @@\n sage: timeit('libgap.eval(\"Stirling1(1000,2)\").sage()')\n 125 loops, best of 3: 6.45 ms per loop\n ```\n+Addendum: even faster would be to use `(n-1)!*H(n-1)` for `stirling(n,2)`, dependent on #16671:\n \n+```\n+sage: harmonic_number(99)*factorial(99)==stirling_number1(100,2)\n+True\n+sage: timeit('harmonic_number(99)*factorial(99)')\n+625 loops, best of 3: 56.9 \u00b5s per loop\n+```\n+\n``````\n",
    "created_at": "2014-07-27T16:16:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218699",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -28,4 +28,12 @@
 sage: timeit('libgap.eval("Stirling1(1000,2)").sage()')
 125 loops, best of 3: 6.45 ms per loop
 ```
+Addendum: even faster would be to use `(n-1)!*H(n-1)` for `stirling(n,2)`, dependent on #16671:
 
+```
+sage: harmonic_number(99)*factorial(99)==stirling_number1(100,2)
+True
+sage: timeit('harmonic_number(99)*factorial(99)')
+625 loops, best of 3: 56.9 µs per loop
+```
+
``````




---

archive/issue_comments_218700.json:
```json
{
    "body": "Changed keywords from **gap, bignum, expect, pexpect, libgap** to **gap, bignum, expect, pexpect, libgap, stirling**",
    "created_at": "2014-07-27T16:19:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218700",
    "user": "https://github.com/rwst"
}
```

Changed keywords from **gap, bignum, expect, pexpect, libgap** to **gap, bignum, expect, pexpect, libgap, stirling**



---

archive/issue_comments_218701.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -35,5 +35,7 @@\n True\n sage: timeit('harmonic_number(99)*factorial(99)')\n 625 loops, best of 3: 56.9 \u00b5s per loop\n+sage: timeit('harmonic_number(999)*factorial(999)')\n+625 loops, best of 3: 119 \u00b5s per loop\n ```\n \n``````\n",
    "created_at": "2014-07-27T16:19:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218701",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -35,5 +35,7 @@
 True
 sage: timeit('harmonic_number(99)*factorial(99)')
 625 loops, best of 3: 56.9 µs per loop
+sage: timeit('harmonic_number(999)*factorial(999)')
+625 loops, best of 3: 119 µs per loop
 ```
 
``````




---

archive/issue_comments_218702.json:
```json
{
    "body": "Dependencies: **#16380**",
    "created_at": "2014-07-27T19:58:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218702",
    "user": "https://github.com/tscrim"
}
```

Dependencies: **#16380**



---

archive/issue_comments_218703.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAlso with #16380 (which I've added as a dependency because it's not been put into a release yet), we don't have to worry about the startup time of libgap anymore (which was *really* annoying). +1 to doing this.",
    "created_at": "2014-07-27T19:58:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218703",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">comment:4</div>

Also with #16380 (which I've added as a dependency because it's not been put into a release yet), we don't have to worry about the startup time of libgap anymore (which was *really* annoying). +1 to doing this.



---

archive/issue_comments_218704.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThis is blocked by:\n\n```\nsage: ans=libgap.eval(\"UnorderedTuples(['a','b','c'],2)\")\nsage: type(ans)\n<type 'sage.libs.gap.element.GapElement_List'>\nsage: a=ans.sage()\n---------------------------------------------------------------------------\nNotImplementedError                       Traceback (most recent call last)\n<ipython-input-4-43379484318b> in <module>()\n----> 1 a=ans.sage()\n\n/home/ralf/sage/local/lib/python2.7/site-packages/sage/libs/gap/element.so in sage.libs.gap.element.GapElement_List.sage (build/cythonized/sage/libs/gap/element.c:14661)()\n\n/home/ralf/sage/local/lib/python2.7/site-packages/sage/libs/gap/element.so in sage.libs.gap.element.GapElement_List.sage (build/cythonized/sage/libs/gap/element.c:14661)()\n\n/home/ralf/sage/local/lib/python2.7/site-packages/sage/libs/gap/element.so in sage.libs.gap.element.GapElement.sage (build/cythonized/sage/libs/gap/element.c:8749)()\n```\nSee #16750",
    "created_at": "2014-08-02T09:31:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218704",
    "user": "https://github.com/rwst"
}
```

<div id="comment:5" align="right">comment:5</div>

This is blocked by:

```
sage: ans=libgap.eval("UnorderedTuples(['a','b','c'],2)")
sage: type(ans)
<type 'sage.libs.gap.element.GapElement_List'>
sage: a=ans.sage()
---------------------------------------------------------------------------
NotImplementedError                       Traceback (most recent call last)
<ipython-input-4-43379484318b> in <module>()
----> 1 a=ans.sage()

/home/ralf/sage/local/lib/python2.7/site-packages/sage/libs/gap/element.so in sage.libs.gap.element.GapElement_List.sage (build/cythonized/sage/libs/gap/element.c:14661)()

/home/ralf/sage/local/lib/python2.7/site-packages/sage/libs/gap/element.so in sage.libs.gap.element.GapElement_List.sage (build/cythonized/sage/libs/gap/element.c:14661)()

/home/ralf/sage/local/lib/python2.7/site-packages/sage/libs/gap/element.so in sage.libs.gap.element.GapElement.sage (build/cythonized/sage/libs/gap/element.c:8749)()
```
See #16750



---

archive/issue_comments_218705.json:
```json
{
    "body": "Changed dependencies from **#16380** to **#16380, #16750**",
    "created_at": "2014-08-02T09:31:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218705",
    "user": "https://github.com/rwst"
}
```

Changed dependencies from **#16380** to **#16380, #16750**



---

archive/issue_comments_218706.json:
```json
{
    "body": "Branch: **[u/rws/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py)**",
    "created_at": "2014-08-02T09:33:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218706",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py)**



---

archive/issue_comments_218707.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16922b5195624f1f2afd684b246a31fb00f5269e\">16922b5</a></td><td><code>16719: replace gap with libgap</code></td></tr></table>\n",
    "created_at": "2014-08-02T13:12:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218707",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16922b5195624f1f2afd684b246a31fb00f5269e">16922b5</a></td><td><code>16719: replace gap with libgap</code></td></tr></table>




---

archive/issue_comments_218708.json:
```json
{
    "body": "Commit: **[`16922b5`](https://github.com/sagemath/sagetrac-mirror/commit/16922b5195624f1f2afd684b246a31fb00f5269e)**",
    "created_at": "2014-08-02T13:12:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218708",
    "user": "https://github.com/vbraun"
}
```

Commit: **[`16922b5`](https://github.com/sagemath/sagetrac-mirror/commit/16922b5195624f1f2afd684b246a31fb00f5269e)**



---

archive/issue_comments_218709.json:
```json
{
    "body": "Changed commit from **[`16922b5`](https://github.com/sagemath/sagetrac-mirror/commit/16922b5195624f1f2afd684b246a31fb00f5269e)** to **[`b69d63f`](https://github.com/sagemath/sagetrac-mirror/commit/b69d63ff8b1ab648b71b86d840b666108de31053)**",
    "created_at": "2014-08-03T07:04:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218709",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`16922b5`](https://github.com/sagemath/sagetrac-mirror/commit/16922b5195624f1f2afd684b246a31fb00f5269e)** to **[`b69d63f`](https://github.com/sagemath/sagetrac-mirror/commit/b69d63ff8b1ab648b71b86d840b666108de31053)**



---

archive/issue_comments_218710.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/843ba48dc7753d79e51ea61e7e2ec3daa9149878\">843ba48</a></td><td><code>Convert Gap chars into Python strings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b69d63ff8b1ab648b71b86d840b666108de31053\">b69d63f</a></td><td><code>Merge branch 'u/vbraun/libgap_fails_converting_string_gapelements_to_sage' of trac.sagemath.org:sage into t/16719/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py</code></td></tr></table>\n",
    "created_at": "2014-08-03T07:04:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218710",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/843ba48dc7753d79e51ea61e7e2ec3daa9149878">843ba48</a></td><td><code>Convert Gap chars into Python strings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b69d63ff8b1ab648b71b86d840b666108de31053">b69d63f</a></td><td><code>Merge branch 'u/vbraun/libgap_fails_converting_string_gapelements_to_sage' of trac.sagemath.org:sage into t/16719/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py</code></td></tr></table>




---

archive/issue_comments_218711.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nOK, now that strings get to GAP, back they get as `GapElement_List` of chars:\n\n```\nsage: ans = libgap.eval(\"UnorderedTuples(['a', 'b', 'c'],2)\"); ans\n[ \"aa\", \"ab\", \"ac\", \"bb\", \"bc\", \"cc\" ]\nsage: type(ans[0])\n<type 'sage.libs.gap.element.GapElement_List'>\nsage: ans.sage()\n[[\"'a'\", \"'a'\"],\n [\"'a'\", \"'b'\"],\n [\"'a'\", \"'c'\"],\n [\"'b'\", \"'b'\"],\n [\"'b'\", \"'c'\"],\n [\"'c'\", \"'c'\"]]\n```\nShouldn't lists of chars be converted to strings?",
    "created_at": "2014-08-03T07:16:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218711",
    "user": "https://github.com/rwst"
}
```

<div id="comment:9" align="right">comment:9</div>

OK, now that strings get to GAP, back they get as `GapElement_List` of chars:

```
sage: ans = libgap.eval("UnorderedTuples(['a', 'b', 'c'],2)"); ans
[ "aa", "ab", "ac", "bb", "bc", "cc" ]
sage: type(ans[0])
<type 'sage.libs.gap.element.GapElement_List'>
sage: ans.sage()
[["'a'", "'a'"],
 ["'a'", "'b'"],
 ["'a'", "'c'"],
 ["'b'", "'b'"],
 ["'b'", "'c'"],
 ["'c'", "'c'"]]
```
Shouldn't lists of chars be converted to strings?



---

archive/issue_comments_218712.json:
```json
{
    "body": "Author: **Ralf Stephan**",
    "created_at": "2014-08-03T07:18:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218712",
    "user": "https://github.com/rwst"
}
```

Author: **Ralf Stephan**



---

archive/issue_comments_218713.json:
```json
{
    "body": "Changed dependencies from **#16380, #16750** to **#16380**",
    "created_at": "2014-08-03T07:18:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218713",
    "user": "https://github.com/rwst"
}
```

Changed dependencies from **#16380, #16750** to **#16380**



---

archive/issue_comments_218714.json:
```json
{
    "body": "Merged: **#16750**",
    "created_at": "2014-08-03T07:18:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218714",
    "user": "https://github.com/rwst"
}
```

Merged: **#16750**



---

archive/issue_comments_218715.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/240cc103d6c9e8e31ce2b8f8e335eae56ccc42f0\">240cc10</a></td><td><code>16719 reviewer's patch: attempt to fix previous patch</code></td></tr></table>\n",
    "created_at": "2014-08-04T09:46:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218715",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/240cc103d6c9e8e31ce2b8f8e335eae56ccc42f0">240cc10</a></td><td><code>16719 reviewer's patch: attempt to fix previous patch</code></td></tr></table>




---

archive/issue_comments_218716.json:
```json
{
    "body": "Changed commit from **[`b69d63f`](https://github.com/sagemath/sagetrac-mirror/commit/b69d63ff8b1ab648b71b86d840b666108de31053)** to **[`240cc10`](https://github.com/sagemath/sagetrac-mirror/commit/240cc103d6c9e8e31ce2b8f8e335eae56ccc42f0)**",
    "created_at": "2014-08-04T09:46:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218716",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b69d63f`](https://github.com/sagemath/sagetrac-mirror/commit/b69d63ff8b1ab648b71b86d840b666108de31053)** to **[`240cc10`](https://github.com/sagemath/sagetrac-mirror/commit/240cc103d6c9e8e31ce2b8f8e335eae56ccc42f0)**



---

archive/issue_comments_218717.json:
```json
{
    "body": "Changed commit from **[`240cc10`](https://github.com/sagemath/sagetrac-mirror/commit/240cc103d6c9e8e31ce2b8f8e335eae56ccc42f0)** to **[`a1269fb`](https://github.com/sagemath/sagetrac-mirror/commit/a1269fb79a1ffdd429596f74865a8cbb5d4ccc91)**",
    "created_at": "2014-08-06T15:32:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218717",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`240cc10`](https://github.com/sagemath/sagetrac-mirror/commit/240cc103d6c9e8e31ce2b8f8e335eae56ccc42f0)** to **[`a1269fb`](https://github.com/sagemath/sagetrac-mirror/commit/a1269fb79a1ffdd429596f74865a8cbb5d4ccc91)**



---

archive/issue_comments_218718.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47f079690fcc348c93c91efc46dbdb35bb4a3455\">47f0796</a></td><td><code>Merge branch 'develop' into t/16719/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7cc26d56d116f0fe976a031948c49b77827aa9e6\">7cc26d5</a></td><td><code>Improve GAP String handling</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6fe1fc53719f295a78279635c25f581b39962912\">6fe1fc5</a></td><td><code>Treat the empty GAP list as list and not as string</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a4892d133667cf19748da7e91c3d5d9b70ee2e5\">6a4892d</a></td><td><code>Merge branch 't/16750/libgap_fails_converting_string_gapelements_to_sage' into t/16719/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1269fb79a1ffdd429596f74865a8cbb5d4ccc91\">a1269fb</a></td><td><code>16719: unordered_tuples() distinguishes now between set types</code></td></tr></table>\n",
    "created_at": "2014-08-06T15:32:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218718",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47f079690fcc348c93c91efc46dbdb35bb4a3455">47f0796</a></td><td><code>Merge branch 'develop' into t/16719/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7cc26d56d116f0fe976a031948c49b77827aa9e6">7cc26d5</a></td><td><code>Improve GAP String handling</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6fe1fc53719f295a78279635c25f581b39962912">6fe1fc5</a></td><td><code>Treat the empty GAP list as list and not as string</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a4892d133667cf19748da7e91c3d5d9b70ee2e5">6a4892d</a></td><td><code>Merge branch 't/16750/libgap_fails_converting_string_gapelements_to_sage' into t/16719/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1269fb79a1ffdd429596f74865a8cbb5d4ccc91">a1269fb</a></td><td><code>16719: unordered_tuples() distinguishes now between set types</code></td></tr></table>




---

archive/issue_comments_218719.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nIt felt more natural to give tuples of chars as string, but tuples of char+string as list of strings. If the latter had been the original behaviour the GAP T_CHAR hassle wouldn't have been necessary.\n\nPlease review.",
    "created_at": "2014-08-06T15:37:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218719",
    "user": "https://github.com/rwst"
}
```

<div id="comment:13" align="right">comment:13</div>

It felt more natural to give tuples of chars as string, but tuples of char+string as list of strings. If the latter had been the original behaviour the GAP T_CHAR hassle wouldn't have been necessary.

Please review.



---

archive/issue_events_239005.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-08-06T15:37:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239005"
}
```



---

archive/issue_events_239006.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239006"
}
```



---

archive/issue_events_239007.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239007"
}
```



---

archive/issue_comments_218720.json:
```json
{
    "body": "Changed dependencies from **#16380** to none",
    "created_at": "2014-08-15T07:14:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218720",
    "user": "https://github.com/kcrisman"
}
```

Changed dependencies from **#16380** to none



---

archive/issue_comments_218721.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e82786b9ba853be2e8433d2798b62865d9769062\">e82786b</a></td><td><code>Merge branch 'develop' into t/16719/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py</code></td></tr></table>\n",
    "created_at": "2014-08-20T14:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218721",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e82786b9ba853be2e8433d2798b62865d9769062">e82786b</a></td><td><code>Merge branch 'develop' into t/16719/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py</code></td></tr></table>




---

archive/issue_comments_218722.json:
```json
{
    "body": "Changed commit from **[`a1269fb`](https://github.com/sagemath/sagetrac-mirror/commit/a1269fb79a1ffdd429596f74865a8cbb5d4ccc91)** to **[`e82786b`](https://github.com/sagemath/sagetrac-mirror/commit/e82786b9ba853be2e8433d2798b62865d9769062)**",
    "created_at": "2014-08-20T14:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218722",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a1269fb`](https://github.com/sagemath/sagetrac-mirror/commit/a1269fb79a1ffdd429596f74865a8cbb5d4ccc91)** to **[`e82786b`](https://github.com/sagemath/sagetrac-mirror/commit/e82786b9ba853be2e8433d2798b62865d9769062)**



---

archive/issue_comments_218723.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nNote that this will conflict with #13982 for `unordered_tuples` (FYI I handled GAP's output as strings differently).",
    "created_at": "2014-08-22T03:45:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218723",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:17" align="right">comment:17</div>

Note that this will conflict with #13982 for `unordered_tuples` (FYI I handled GAP's output as strings differently).



---

archive/issue_comments_218724.json:
```json
{
    "body": "Changed merged from **#16750** to none",
    "created_at": "2014-08-22T03:45:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218724",
    "user": "https://github.com/tscrim"
}
```

Changed merged from **#16750** to none



---

archive/issue_comments_218725.json:
```json
{
    "body": "Dependencies: **#16750**",
    "created_at": "2014-08-22T03:45:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218725",
    "user": "https://github.com/tscrim"
}
```

Dependencies: **#16750**



---

archive/issue_comments_218726.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI wouldn't mind removing the unordered tuples bit from this patch, especially for speed reasons, and choice of algorithm. It's just that I don't like it that you simply remove that doctest that results in `['aa', 'ab', 'ac', 'bb', 'bc', 'cc']`. I think you should support it.",
    "created_at": "2014-08-22T06:00:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218726",
    "user": "https://github.com/rwst"
}
```

<div id="comment:19" align="right">comment:19</div>

I wouldn't mind removing the unordered tuples bit from this patch, especially for speed reasons, and choice of algorithm. It's just that I don't like it that you simply remove that doctest that results in `['aa', 'ab', 'ac', 'bb', 'bc', 'cc']`. I think you should support it.



---

archive/issue_comments_218727.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b156ad3ed4d929c2eb03daf228d120e018a15be\">5b156ad</a></td><td><code>16719: revert change to unordered_tuples(), handled by 13982</code></td></tr></table>\n",
    "created_at": "2014-08-26T10:29:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218727",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b156ad3ed4d929c2eb03daf228d120e018a15be">5b156ad</a></td><td><code>16719: revert change to unordered_tuples(), handled by 13982</code></td></tr></table>




---

archive/issue_comments_218728.json:
```json
{
    "body": "Changed commit from **[`e82786b`](https://github.com/sagemath/sagetrac-mirror/commit/e82786b9ba853be2e8433d2798b62865d9769062)** to **[`5b156ad`](https://github.com/sagemath/sagetrac-mirror/commit/5b156ad3ed4d929c2eb03daf228d120e018a15be)**",
    "created_at": "2014-08-26T10:29:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218728",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e82786b`](https://github.com/sagemath/sagetrac-mirror/commit/e82786b9ba853be2e8433d2798b62865d9769062)** to **[`5b156ad`](https://github.com/sagemath/sagetrac-mirror/commit/5b156ad3ed4d929c2eb03daf228d120e018a15be)**



---

archive/issue_comments_218729.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nFor `bell_number()`, I'm making the change at #17157, so you can remove that piece.",
    "created_at": "2014-10-15T21:46:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218729",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

For `bell_number()`, I'm making the change at #17157, so you can remove that piece.



---

archive/issue_comments_218730.json:
```json
{
    "body": "Changed branch from **[u/rws/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py)** to **[u/jdemeyer/ticket/16719](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16719)**",
    "created_at": "2014-10-16T09:58:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218730",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/rws/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/replace_gap_eval_with_libgap_eval_in_combinat_combinat_py)** to **[u/jdemeyer/ticket/16719](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16719)**



---

archive/issue_comments_218731.json:
```json
{
    "body": "Changed commit from **[`5b156ad`](https://github.com/sagemath/sagetrac-mirror/commit/5b156ad3ed4d929c2eb03daf228d120e018a15be)** to **[`4339c50`](https://github.com/sagemath/sagetrac-mirror/commit/4339c5019b84ff5bf27c79100912511dd4aa37e7)**",
    "created_at": "2014-10-16T09:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218731",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`5b156ad`](https://github.com/sagemath/sagetrac-mirror/commit/5b156ad3ed4d929c2eb03daf228d120e018a15be)** to **[`4339c50`](https://github.com/sagemath/sagetrac-mirror/commit/4339c5019b84ff5bf27c79100912511dd4aa37e7)**



---

archive/issue_comments_218732.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReviewer patch needs review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0266cef42895b095b8c7eca5718a1466300e1304\">0266cef</a></td><td><code>Improve formula for Bell numbers</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd229668a316b074baf520008b6ef418b4ec5c3e\">fd22966</a></td><td><code>Merge branch 'ticket/17157' into ticket/16719</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4339c5019b84ff5bf27c79100912511dd4aa37e7\">4339c50</a></td><td><code>Remove superfluous type conversions, use libgap for unordered_tuples()</code></td></tr></table>\n",
    "created_at": "2014-10-16T09:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218732",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

Reviewer patch needs review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0266cef42895b095b8c7eca5718a1466300e1304">0266cef</a></td><td><code>Improve formula for Bell numbers</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd229668a316b074baf520008b6ef418b4ec5c3e">fd22966</a></td><td><code>Merge branch 'ticket/17157' into ticket/16719</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4339c5019b84ff5bf27c79100912511dd4aa37e7">4339c50</a></td><td><code>Remove superfluous type conversions, use libgap for unordered_tuples()</code></td></tr></table>




---

archive/issue_comments_218733.json:
```json
{
    "body": "Changed dependencies from **#16750** to **#17157**",
    "created_at": "2014-10-16T09:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218733",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#16750** to **#17157**



---

archive/issue_comments_218734.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2014-10-16T09:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218734",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_218735.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/16719](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16719)** to **[u/vbraun/ticket/16719](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/16719)**",
    "created_at": "2014-10-26T11:52:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218735",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/ticket/16719](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16719)** to **[u/vbraun/ticket/16719](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/16719)**



---

archive/issue_comments_218736.json:
```json
{
    "body": "Changed commit from **[`4339c50`](https://github.com/sagemath/sagetrac-mirror/commit/4339c5019b84ff5bf27c79100912511dd4aa37e7)** to **[`9f4777d`](https://github.com/sagemath/sagetrac-mirror/commit/9f4777d9bab0aba2fe50cadb0f72b6bc46e4ef77)**",
    "created_at": "2014-10-26T11:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218736",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[`4339c50`](https://github.com/sagemath/sagetrac-mirror/commit/4339c5019b84ff5bf27c79100912511dd4aa37e7)** to **[`9f4777d`](https://github.com/sagemath/sagetrac-mirror/commit/9f4777d9bab0aba2fe50cadb0f72b6bc46e4ef77)**



---

archive/issue_comments_218737.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThe reviewer commits look good to me. I've added a patch to make the calls to my beautiful library interface less ugly ;-)\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f4777d9bab0aba2fe50cadb0f72b6bc46e4ef77\">9f4777d</a></td><td><code>Beautify libgap calls</code></td></tr></table>\n",
    "created_at": "2014-10-26T11:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218737",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">comment:25</div>

The reviewer commits look good to me. I've added a patch to make the calls to my beautiful library interface less ugly ;-)

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f4777d9bab0aba2fe50cadb0f72b6bc46e4ef77">9f4777d</a></td><td><code>Beautify libgap calls</code></td></tr></table>




---

archive/issue_comments_218738.json:
```json
{
    "body": "Changed reviewer from **Jeroen Demeyer** to **Jeroen Demeyer, Volker Braun**",
    "created_at": "2014-10-27T07:47:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218738",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Jeroen Demeyer** to **Jeroen Demeyer, Volker Braun**



---

archive/issue_events_239008.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-10-27T07:47:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239008"
}
```



---

archive/issue_events_239009.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-10-27T07:47:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239009"
}
```



---

archive/issue_events_239010.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-10-27T07:48:12Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "title_is": "replace gap.eval with libgap calls in combinat/combinat.py",
    "title_was": "replace gap.eval with libgap.eval in combinat/combinat.py",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239010"
}
```



---

archive/issue_events_239011.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-10-27T11:54:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239011"
}
```



---

archive/issue_events_239012.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-10-27T11:54:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239012"
}
```



---

archive/issue_comments_218739.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34c9b4c2300549a06d7dc27758527c5915fe76bf\">34c9b4c</a></td><td><code>Changes from the reviewers.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b47af6ae9f8dd1e6d870ec986f81fb6913d12e16\">b47af6a</a></td><td><code>A minor tweaking of the doc.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53a9d7e6e93156fbf36fcfc0bf2c9b1109a1a679\">53a9d7e</a></td><td><code>Families return output based on order of variable names. Fixed coercion issue.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/339b71d736c66aba83aa60899578558a0d182fca\">339b71d</a></td><td><code>Fixed some typos.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ce3f6ae55342d823bb971d5b11d1a36969a9f99\">3ce3f6a</a></td><td><code>Merge branch 'public/algebras/weyl_clifford-15300' of git://trac.sagemath.org/sage into clifford</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86982750ec7fcf5a9a531702ee038dc26cadb401\">8698275</a></td><td><code>lifting bilinear forms onto exterior algebras</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a002f4b47f23dea0b0dcd7b5dbf80a98af85b091\">a002f4b</a></td><td><code>Some tweaks to lifted_bilinear_form and fixed doctest.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff27bdc5d87967d0e7fd5c1305cef4340db816c7\">ff27bdc</a></td><td><code>further fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/330617caa6e52c1cc5d7b67ae41fd5cf30ef8dc9\">330617c</a></td><td><code>Merge commit 'ff27bdc5d87967d0e7fd5c1305cef4340db816c7' into ticket/17157</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6698e2c4d7a3be2ff6c189a1bb24e55dda61616\">d6698e2</a></td><td><code>Merge already-closed #17157 to resolve conflict</code></td></tr></table>\n",
    "created_at": "2014-10-27T11:54:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218739",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34c9b4c2300549a06d7dc27758527c5915fe76bf">34c9b4c</a></td><td><code>Changes from the reviewers.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b47af6ae9f8dd1e6d870ec986f81fb6913d12e16">b47af6a</a></td><td><code>A minor tweaking of the doc.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53a9d7e6e93156fbf36fcfc0bf2c9b1109a1a679">53a9d7e</a></td><td><code>Families return output based on order of variable names. Fixed coercion issue.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/339b71d736c66aba83aa60899578558a0d182fca">339b71d</a></td><td><code>Fixed some typos.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ce3f6ae55342d823bb971d5b11d1a36969a9f99">3ce3f6a</a></td><td><code>Merge branch 'public/algebras/weyl_clifford-15300' of git://trac.sagemath.org/sage into clifford</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86982750ec7fcf5a9a531702ee038dc26cadb401">8698275</a></td><td><code>lifting bilinear forms onto exterior algebras</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a002f4b47f23dea0b0dcd7b5dbf80a98af85b091">a002f4b</a></td><td><code>Some tweaks to lifted_bilinear_form and fixed doctest.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff27bdc5d87967d0e7fd5c1305cef4340db816c7">ff27bdc</a></td><td><code>further fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/330617caa6e52c1cc5d7b67ae41fd5cf30ef8dc9">330617c</a></td><td><code>Merge commit 'ff27bdc5d87967d0e7fd5c1305cef4340db816c7' into ticket/17157</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6698e2c4d7a3be2ff6c189a1bb24e55dda61616">d6698e2</a></td><td><code>Merge already-closed #17157 to resolve conflict</code></td></tr></table>




---

archive/issue_comments_218740.json:
```json
{
    "body": "Changed commit from **[`9f4777d`](https://github.com/sagemath/sagetrac-mirror/commit/9f4777d9bab0aba2fe50cadb0f72b6bc46e4ef77)** to **[`d6698e2`](https://github.com/sagemath/sagetrac-mirror/commit/d6698e2c4d7a3be2ff6c189a1bb24e55dda61616)**",
    "created_at": "2014-10-27T11:54:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218740",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9f4777d`](https://github.com/sagemath/sagetrac-mirror/commit/9f4777d9bab0aba2fe50cadb0f72b6bc46e4ef77)** to **[`d6698e2`](https://github.com/sagemath/sagetrac-mirror/commit/d6698e2c4d7a3be2ff6c189a1bb24e55dda61616)**



---

archive/issue_events_239013.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-27T16:02:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239013"
}
```



---

archive/issue_events_239014.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a554edb8cfc7cb0a7070668526bf5c8d97ef4562",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-10-27T16:02:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16719#event-239014"
}
```



---

archive/issue_comments_218741.json:
```json
{
    "body": "Changed branch from **[u/vbraun/ticket/16719](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/16719)** to **[`d6698e2`](https://github.com/sagemath/sagetrac-mirror/commit/d6698e2c4d7a3be2ff6c189a1bb24e55dda61616)**",
    "created_at": "2014-10-27T16:02:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16719#issuecomment-218741",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/ticket/16719](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/16719)** to **[`d6698e2`](https://github.com/sagemath/sagetrac-mirror/commit/d6698e2c4d7a3be2ff6c189a1bb24e55dda61616)**
