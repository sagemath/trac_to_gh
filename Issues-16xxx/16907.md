# Issue 16907: Adding two region plots yields surprising results

archive/issues_016670.json:
```json
{
    "body": "I have removed the branch from this ticket. Once #18286 is positively reviewed, I will set this too to positive review. - ppurka\n\n\n---\n\n\nAnd wrong ones, of course.  See [this sage-support thread](https://groups.google.com/forum/#!topic/sage-support/TRM4f-LJ6vE).\n\n```\nsage: disc1= region_plot(lambda x, y : x^2+y^2 < 1, (x, -1, 1), (y, -1, 1))\nsage: disc2= region_plot(lambda x, y : (x-0.7)^2+(y-0.7)^2 < 0.5, (x, -2, 2), (y, -2, 2) )\n```\nthen do `disc1+disc2` and `disc2+disc1` for some surprises.  Most likely we are abusing `contourf` in matplotlib a little by allowing the adding of these plots.\n\n**CC:**  @kcrisman @mkoeppe @videlec\n\n**Reviewer:** Punarbasu Purkayastha\n\n**Author:** Yuan Zhou\n\nIssue created by migration from https://trac.sagemath.org/ticket/16907\n\n",
    "closed_at": "2015-06-19T08:40:14Z",
    "created_at": "2014-08-29T19:42:24Z",
    "labels": [
        "component: graphics",
        "bug",
        "duplicate"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Adding two region plots yields surprising results",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16907",
    "user": "https://github.com/kcrisman"
}
```
I have removed the branch from this ticket. Once #18286 is positively reviewed, I will set this too to positive review. - ppurka


---


And wrong ones, of course.  See [this sage-support thread](https://groups.google.com/forum/#!topic/sage-support/TRM4f-LJ6vE).

```
sage: disc1= region_plot(lambda x, y : x^2+y^2 < 1, (x, -1, 1), (y, -1, 1))
sage: disc2= region_plot(lambda x, y : (x-0.7)^2+(y-0.7)^2 < 0.5, (x, -2, 2), (y, -2, 2) )
```
then do `disc1+disc2` and `disc2+disc1` for some surprises.  Most likely we are abusing `contourf` in matplotlib a little by allowing the adding of these plots.

**CC:**  @kcrisman @mkoeppe @videlec

**Reviewer:** Punarbasu Purkayastha

**Author:** Yuan Zhou

Issue created by migration from https://trac.sagemath.org/ticket/16907





---

archive/issue_comments_271966.json:
```json
{
    "body": "<a id='comment:1'></a>\ncc: me. Also, I don't see how this could be fixed. :(",
    "created_at": "2014-08-30T16:00:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271966",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:1'></a>
cc: me. Also, I don't see how this could be fixed. :(



---

archive/issue_comments_271967.json:
```json
{
    "body": "**Branch:** [u/yzh/region_plot](https://github.com/sagemath/sagetrac-mirror/tree/u/yzh/region_plot)",
    "created_at": "2015-04-19T09:34:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271967",
    "user": "https://github.com/yuan-zhou"
}
```

**Branch:** [u/yzh/region_plot](https://github.com/sagemath/sagetrac-mirror/tree/u/yzh/region_plot)



---

archive/issue_events_055742.json:
```json
{
    "actor": "https://github.com/yuan-zhou",
    "created_at": "2015-04-19T09:34:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16907#event-55742"
}
```



---

archive/issue_comments_271968.json:
```json
{
    "body": "**Commit:** [c0770dc34e8482eb5d1c04338820e361a2a4cb4b](https://github.com/sagemath/sagetrac-mirror/commit/c0770dc34e8482eb5d1c04338820e361a2a4cb4b)",
    "created_at": "2015-04-19T09:34:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271968",
    "user": "https://github.com/yuan-zhou"
}
```

**Commit:** [c0770dc34e8482eb5d1c04338820e361a2a4cb4b](https://github.com/sagemath/sagetrac-mirror/commit/c0770dc34e8482eb5d1c04338820e361a2a4cb4b)



---

archive/issue_comments_271969.json:
```json
{
    "body": "**Author:** Yuan Zhou",
    "created_at": "2015-04-19T09:34:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271969",
    "user": "https://github.com/yuan-zhou"
}
```

**Author:** Yuan Zhou



---

archive/issue_comments_271970.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2015-04-19T09:34:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271970",
    "user": "https://github.com/yuan-zhou"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_271971.json:
```json
{
    "body": "<a id='comment:4'></a>\nInteresting fix!  Do you think the change in the \"endpoints\" for the contours will make a big difference?  Thanks for the contribution, I'll put this on my list for things to review once the semester is over.",
    "created_at": "2015-04-20T13:20:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271971",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>
Interesting fix!  Do you think the change in the "endpoints" for the contours will make a big difference?  Thanks for the contribution, I'll put this on my list for things to review once the semester is over.



---

archive/issue_comments_271972.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [kcrisman](#comment%3A4):\n> Interesting fix!  Do you think the change in the \"endpoints\" for the contours will make a big difference?  Thanks for the contribution, I'll put this on my list for things to review once the semester is over.\n\n\nDo you mean the change of `contours` from `[-1e307, 0, 1e307]` to `[-1e-20, 0, 1e-20]`?\n \nYes, I think setting `contours=[-1e307, 0, 1e307]` was not a good idea. I tried \n\n```\nsage: x,y = var('x,y')\nsage: region_plot(x^2+y^2 < 1, (x, -1, 1), (y, -1, 1), incol='blue', outcol='red',alpha=0.5)\n``` \nwith setting `contours=[-0.2, 0, 0.2]`, and figured out that the meaning of the \"endpoints\" was quite different from what I had imagined.",
    "created_at": "2015-04-20T18:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271972",
    "user": "https://github.com/yuan-zhou"
}
```

<a id='comment:5'></a>
Replying to [kcrisman](#comment%3A4):
> Interesting fix!  Do you think the change in the "endpoints" for the contours will make a big difference?  Thanks for the contribution, I'll put this on my list for things to review once the semester is over.


Do you mean the change of `contours` from `[-1e307, 0, 1e307]` to `[-1e-20, 0, 1e-20]`?
 
Yes, I think setting `contours=[-1e307, 0, 1e307]` was not a good idea. I tried 

```
sage: x,y = var('x,y')
sage: region_plot(x^2+y^2 < 1, (x, -1, 1), (y, -1, 1), incol='blue', outcol='red',alpha=0.5)
``` 
with setting `contours=[-0.2, 0, 0.2]`, and figured out that the meaning of the "endpoints" was quite different from what I had imagined.



---

archive/issue_comments_271973.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ae38d4f8c7fe78a1039b443aa3a9d802bc3b869\">9ae38d4</a></td><td><code>Modify region_plot(): works for equation conditions as well</code></td></tr></table>\n",
    "created_at": "2015-04-23T01:14:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271973",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ae38d4f8c7fe78a1039b443aa3a9d802bc3b869">9ae38d4</a></td><td><code>Modify region_plot(): works for equation conditions as well</code></td></tr></table>




---

archive/issue_comments_271974.json:
```json
{
    "body": "**Changing commit** from \"[c0770dc34e8482eb5d1c04338820e361a2a4cb4b](https://github.com/sagemath/sagetrac-mirror/commit/c0770dc34e8482eb5d1c04338820e361a2a4cb4b)\" to \"[9ae38d4f8c7fe78a1039b443aa3a9d802bc3b869](https://github.com/sagemath/sagetrac-mirror/commit/9ae38d4f8c7fe78a1039b443aa3a9d802bc3b869)\".",
    "created_at": "2015-04-23T01:14:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271974",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c0770dc34e8482eb5d1c04338820e361a2a4cb4b](https://github.com/sagemath/sagetrac-mirror/commit/c0770dc34e8482eb5d1c04338820e361a2a4cb4b)" to "[9ae38d4f8c7fe78a1039b443aa3a9d802bc3b869](https://github.com/sagemath/sagetrac-mirror/commit/9ae38d4f8c7fe78a1039b443aa3a9d802bc3b869)".



---

archive/issue_comments_271975.json:
```json
{
    "body": "**Changing commit** from \"[9ae38d4f8c7fe78a1039b443aa3a9d802bc3b869](https://github.com/sagemath/sagetrac-mirror/commit/9ae38d4f8c7fe78a1039b443aa3a9d802bc3b869)\" to \"[7e336a1101995eea35abf373639db5d3a397399c](https://github.com/sagemath/sagetrac-mirror/commit/7e336a1101995eea35abf373639db5d3a397399c)\".",
    "created_at": "2015-05-11T21:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271975",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9ae38d4f8c7fe78a1039b443aa3a9d802bc3b869](https://github.com/sagemath/sagetrac-mirror/commit/9ae38d4f8c7fe78a1039b443aa3a9d802bc3b869)" to "[7e336a1101995eea35abf373639db5d3a397399c](https://github.com/sagemath/sagetrac-mirror/commit/7e336a1101995eea35abf373639db5d3a397399c)".



---

archive/issue_comments_271976.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e336a1101995eea35abf373639db5d3a397399c\">7e336a1</a></td><td><code>change the sagetrac ticket format</code></td></tr></table>\n",
    "created_at": "2015-05-11T21:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271976",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e336a1101995eea35abf373639db5d3a397399c">7e336a1</a></td><td><code>change the sagetrac ticket format</code></td></tr></table>




---

archive/issue_comments_271977.json:
```json
{
    "body": "<a id='comment:8'></a>\nWhy is there a duplicate ticket at #18286?",
    "created_at": "2015-05-11T21:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271977",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>
Why is there a duplicate ticket at #18286?



---

archive/issue_comments_271978.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,9 @@\n+I have removed the branch from this ticket. Once #18286 is positively reviewed, I will set this too to positive review. - ppurka\n+\n+\n+---\n+\n+\n And wrong ones, of course.  See [this sage-support thread](https://groups.google.com/forum/#!topic/sage-support/TRM4f-LJ6vE).\n \n ```\n``````\n",
    "created_at": "2015-05-16T15:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271978",
    "user": "https://github.com/ppurka"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,9 @@
+I have removed the branch from this ticket. Once #18286 is positively reviewed, I will set this too to positive review. - ppurka
+
+
+---
+
+
 And wrong ones, of course.  See [this sage-support thread](https://groups.google.com/forum/#!topic/sage-support/TRM4f-LJ6vE).
 
 ```
``````




---

archive/issue_comments_271979.json:
```json
{
    "body": "**Changing commit** from \"[7e336a1101995eea35abf373639db5d3a397399c](https://github.com/sagemath/sagetrac-mirror/commit/7e336a1101995eea35abf373639db5d3a397399c)\" to \"\".",
    "created_at": "2015-05-16T15:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271979",
    "user": "https://github.com/ppurka"
}
```

**Changing commit** from "[7e336a1101995eea35abf373639db5d3a397399c](https://github.com/sagemath/sagetrac-mirror/commit/7e336a1101995eea35abf373639db5d3a397399c)" to "".



---

archive/issue_comments_271980.json:
```json
{
    "body": "**Reviewer:** Punarbasu Purkayastha",
    "created_at": "2015-05-16T15:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271980",
    "user": "https://github.com/ppurka"
}
```

**Reviewer:** Punarbasu Purkayastha



---

archive/issue_comments_271981.json:
```json
{
    "body": "<a id='comment:9'></a>\nI have removed the branch from this ticket. Once #18286 is positively reviewed, I will set this too to positive review.",
    "created_at": "2015-05-16T15:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271981",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:9'></a>
I have removed the branch from this ticket. Once #18286 is positively reviewed, I will set this too to positive review.



---

archive/issue_comments_271982.json:
```json
{
    "body": "**Changing branch** from \"[u/yzh/region_plot](https://github.com/sagemath/sagetrac-mirror/tree/u/yzh/region_plot)\" to \"\".",
    "created_at": "2015-05-16T15:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271982",
    "user": "https://github.com/ppurka"
}
```

**Changing branch** from "[u/yzh/region_plot](https://github.com/sagemath/sagetrac-mirror/tree/u/yzh/region_plot)" to "".



---

archive/issue_comments_271983.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-05-20T22:46:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271983",
    "user": "https://github.com/ppurka"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_271984.json:
```json
{
    "body": "<a id='comment:11'></a>\nWhat am I supposed to do with this ticket? If you want it closed without merging a branch: This ticket should be set to  duplicate/invalid/wontfix, and #18286 should not depend on this ticket.",
    "created_at": "2015-05-21T18:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271984",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>
What am I supposed to do with this ticket? If you want it closed without merging a branch: This ticket should be set to  duplicate/invalid/wontfix, and #18286 should not depend on this ticket.



---

archive/issue_comments_271985.json:
```json
{
    "body": "**Changing status** from positive_review to needs_review.",
    "created_at": "2015-05-21T23:32:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271985",
    "user": "https://github.com/ppurka"
}
```

**Changing status** from positive_review to needs_review.



---

archive/issue_comments_271986.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-05-21T23:33:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16907#issuecomment-271986",
    "user": "https://github.com/ppurka"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_055743.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2015-05-21T23:33:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16907#event-55743"
}
```



---

archive/issue_events_055744.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2015-05-21T23:33:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16907#event-55744"
}
```



---

archive/issue_events_055745.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-19T08:40:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16907",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16907#event-55745"
}
```
