# Issue 16870: Use float("inf") instead of Infinity

archive/issues_016633.json:
```json
{
    "body": "Yes, it makes a difference in speed `T_T`\n\nNathann\n\nCC:  @videlec\n\nBranch/Commit: 583622deb2721df9db51a93990c118498917ff3c\n\nReviewer: Vincent Delecroix\n\nAuthor: Nathann Cohen\n\nDependencies: #16868\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16870\n\n",
    "closed_at": "2014-08-25T19:36:58Z",
    "created_at": "2014-08-22T22:15:21Z",
    "labels": [
        "component: combinatorial designs"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Use float(\"inf\") instead of Infinity",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16870",
    "user": "https://github.com/nathanncohen"
}
```
Yes, it makes a difference in speed `T_T`

Nathann

CC:  @videlec

Branch/Commit: 583622deb2721df9db51a93990c118498917ff3c

Reviewer: Vincent Delecroix

Author: Nathann Cohen

Dependencies: #16868

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16870





---

archive/issue_comments_282057.json:
```json
{
    "body": "Changing branch from \"\" to \"public/16870\"",
    "created_at": "2014-08-22T22:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282057",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "" to "public/16870"



---

archive/issue_comments_282058.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-08-22T22:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282058",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_282059.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorial designs.",
    "created_at": "2014-08-22T22:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282059",
    "user": "https://github.com/nathanncohen"
}
```

Changing component from PLEASE CHANGE to combinatorial designs.



---

archive/issue_comments_282060.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                          |                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[bfbad46](http://git.sagemath.org/sage.git/commit/?id=bfbad462c6b37b01a58201156ba9530999fb0936)|`trac #16864: use Python string .format() + doc`|\n|[3ca48dc](http://git.sagemath.org/sage.git/commit/?id=3ca48dc892f519799aea5c50c29569bbc30b0a68)|`trac #16817: OA for n=205,254,469,520,522,524,1262`|\n|[f9e6569](http://git.sagemath.org/sage.git/commit/?id=f9e656974f83548d276860dcf0cd6c2b8b38b5e0)|`trac #16817: docfix`|\n|[c92e9bf](http://git.sagemath.org/sage.git/commit/?id=c92e9bf7f9262577c3394f6f8fe5fb596d6c904b)|`trac #16846: a difference_matrices module`|\n|[fdab06e](http://git.sagemath.org/sage.git/commit/?id=fdab06e76453a91d280e5e556ec7abbc4c016a9d)|`trac #16846: Remove obsolete functions`|\n|[f7afe6f](http://git.sagemath.org/sage.git/commit/?id=f7afe6f10d690f12c568401e8850a713f6874d51)|`trac #16846: Broken doctests`|\n|[fd1bbc6](http://git.sagemath.org/sage.git/commit/?id=fd1bbc6686b99e38d200fecd32def5574d4ca806)|`trac #16846: Merge with updated #16817`|\n|[c66c19b](http://git.sagemath.org/sage.git/commit/?id=c66c19b305799452765ccf53d3380ee670700f85)|`trac #16846: review`|\n|[361c403](http://git.sagemath.org/sage.git/commit/?id=361c4034247f4b3944dbb52a1259b184dfc6a250)|`trac #16868: A real difference matrix has k columns`|\n|[ab25059](http://git.sagemath.org/sage.git/commit/?id=ab25059e918cfd4ffc1b5cbabca724219f319b7f)|`trac #16870: Use float(\"inf\") instead of Infinity`|",
    "created_at": "2014-08-22T22:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282060",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                          |                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[bfbad46](http://git.sagemath.org/sage.git/commit/?id=bfbad462c6b37b01a58201156ba9530999fb0936)|`trac #16864: use Python string .format() + doc`|
|[3ca48dc](http://git.sagemath.org/sage.git/commit/?id=3ca48dc892f519799aea5c50c29569bbc30b0a68)|`trac #16817: OA for n=205,254,469,520,522,524,1262`|
|[f9e6569](http://git.sagemath.org/sage.git/commit/?id=f9e656974f83548d276860dcf0cd6c2b8b38b5e0)|`trac #16817: docfix`|
|[c92e9bf](http://git.sagemath.org/sage.git/commit/?id=c92e9bf7f9262577c3394f6f8fe5fb596d6c904b)|`trac #16846: a difference_matrices module`|
|[fdab06e](http://git.sagemath.org/sage.git/commit/?id=fdab06e76453a91d280e5e556ec7abbc4c016a9d)|`trac #16846: Remove obsolete functions`|
|[f7afe6f](http://git.sagemath.org/sage.git/commit/?id=f7afe6f10d690f12c568401e8850a713f6874d51)|`trac #16846: Broken doctests`|
|[fd1bbc6](http://git.sagemath.org/sage.git/commit/?id=fd1bbc6686b99e38d200fecd32def5574d4ca806)|`trac #16846: Merge with updated #16817`|
|[c66c19b](http://git.sagemath.org/sage.git/commit/?id=c66c19b305799452765ccf53d3380ee670700f85)|`trac #16846: review`|
|[361c403](http://git.sagemath.org/sage.git/commit/?id=361c4034247f4b3944dbb52a1259b184dfc6a250)|`trac #16868: A real difference matrix has k columns`|
|[ab25059](http://git.sagemath.org/sage.git/commit/?id=ab25059e918cfd4ffc1b5cbabca724219f319b7f)|`trac #16870: Use float("inf") instead of Infinity`|



---

archive/issue_comments_282061.json:
```json
{
    "body": "Changing commit from \"\" to \"ab25059e918cfd4ffc1b5cbabca724219f319b7f\"",
    "created_at": "2014-08-22T22:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282061",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "ab25059e918cfd4ffc1b5cbabca724219f319b7f"



---

archive/issue_comments_282062.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|\n|[583622d](http://git.sagemath.org/sage.git/commit/?id=583622deb2721df9db51a93990c118498917ff3c)|`trac #16870: remove an import`|",
    "created_at": "2014-08-22T22:22:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282062",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
|[583622d](http://git.sagemath.org/sage.git/commit/?id=583622deb2721df9db51a93990c118498917ff3c)|`trac #16870: remove an import`|



---

archive/issue_comments_282063.json:
```json
{
    "body": "Changing commit from \"ab25059e918cfd4ffc1b5cbabca724219f319b7f\" to \"583622deb2721df9db51a93990c118498917ff3c\"",
    "created_at": "2014-08-22T22:22:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282063",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ab25059e918cfd4ffc1b5cbabca724219f319b7f" to "583622deb2721df9db51a93990c118498917ff3c"



---

archive/issue_comments_282064.json:
```json
{
    "body": "<a id='comment:4'></a>\nnew timings\n\n```\nsage: from sage.combinat.designs.latin_squares import MOLS_table\nsage: %time MOLS_table(30)\n...\nCPU times: user 11.2 s, sys: 20 ms, total: 11.2 s\nWall time: 11.2 s\n```\n\nold timings\n\n```\nsage: from sage.combinat.designs.latin_squares import MOLS_table\nsage: %time MOLS_table(30)\n...\nCPU times: user 12.1 s, sys: 28 ms, total: 12.1 s\nWall time: 12.1 s\n```\n\nApproximately one second to compare Sage infinity to an integer... WTF!\n\nVincent",
    "created_at": "2014-08-22T22:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282064",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>
new timings

```
sage: from sage.combinat.designs.latin_squares import MOLS_table
sage: %time MOLS_table(30)
...
CPU times: user 11.2 s, sys: 20 ms, total: 11.2 s
Wall time: 11.2 s
```

old timings

```
sage: from sage.combinat.designs.latin_squares import MOLS_table
sage: %time MOLS_table(30)
...
CPU times: user 12.1 s, sys: 28 ms, total: 12.1 s
Wall time: 12.1 s
```

Approximately one second to compare Sage infinity to an integer... WTF!

Vincent



---

archive/issue_comments_282065.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-22T22:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282065",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_282066.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2014-08-22T22:27:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282066",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_282067.json:
```json
{
    "body": "<a id='comment:7'></a>\nI've come across this before; it has something to do with the comparisons involving coercions IIRC. The nice thing is that it works exactly like an infinity:\n\n```\nsage: float('inf') == oo\nTrue\n```",
    "created_at": "2014-08-23T00:42:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282067",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
I've come across this before; it has something to do with the comparisons involving coercions IIRC. The nice thing is that it works exactly like an infinity:

```
sage: float('inf') == oo
True
```



---

archive/issue_comments_282068.json:
```json
{
    "body": "<a id='comment:8'></a>\n...... and it has not been implemented in Sage, so there is some hope that it is somehow efficient `-_-`\n\nNathann",
    "created_at": "2014-08-23T08:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282068",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>
...... and it has not been implemented in Sage, so there is some hope that it is somehow efficient `-_-`

Nathann



---

archive/issue_comments_282069.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2014-08-24T23:45:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282069",
    "user": "https://github.com/videlec"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_282070.json:
```json
{
    "body": "<a id='comment:9'></a>\nThis ticket has a dependency in needs review... so it has to wait.\n\nVincent",
    "created_at": "2014-08-24T23:45:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282070",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>
This ticket has a dependency in needs review... so it has to wait.

Vincent



---

archive/issue_comments_282071.json:
```json
{
    "body": "<a id='comment:10'></a>\nNow this is ok!",
    "created_at": "2014-08-25T00:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282071",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>
Now this is ok!



---

archive/issue_comments_282072.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-25T00:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282072",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_282073.json:
```json
{
    "body": "Changing branch from \"public/16870\" to \"583622deb2721df9db51a93990c118498917ff3c\"",
    "created_at": "2014-08-25T19:36:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282073",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/16870" to "583622deb2721df9db51a93990c118498917ff3c"



---

archive/issue_events_049320.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-25T19:36:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16870#event-49320"
}
```



---

archive/issue_comments_282074.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-08-25T19:36:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16870#issuecomment-282074",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
