# Issue 16992: Direct Fixdoctests

archive/issues_016755.json:
```json
{
    "assignees": [],
    "body": "Now that we are actually using a versions control system as it is intended, the `sage --fixdoctests` workflow is a bit antiquated:\n\n* Run `sage --fixdoctests src/sage/foo.py`\n* Get a diff printed to stdout\n* copy `src/sage/foo.py.out` to `src/sage/foo.py`\n* Run `git diff` to get the same diff again\n\nInstead, just overwrite the file directly. Use version control for the rest.\n\nBranch/Commit: **[`1b99c68`](https://github.com/sagemath/sagetrac-mirror/commit/1b99c68fdfe02cbbbc57fe4dab882505a136d3e6)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Volker Braun**\n\nComponent: **scripts**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16992_\n\n",
    "closed_at": "2014-09-19T15:08:56Z",
    "created_at": "2014-09-16T11:33:55Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20scripts",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Direct Fixdoctests",
    "type": "issue",
    "updated_at": "2014-09-19T15:08:56Z",
    "url": "https://github.com/sagemath/sage/issues/16992",
    "user": "https://github.com/vbraun"
}
```
Now that we are actually using a versions control system as it is intended, the `sage --fixdoctests` workflow is a bit antiquated:

* Run `sage --fixdoctests src/sage/foo.py`
* Get a diff printed to stdout
* copy `src/sage/foo.py.out` to `src/sage/foo.py`
* Run `git diff` to get the same diff again

Instead, just overwrite the file directly. Use version control for the rest.

Branch/Commit: **[`1b99c68`](https://github.com/sagemath/sagetrac-mirror/commit/1b99c68fdfe02cbbbc57fe4dab882505a136d3e6)**

Reviewer: **Jeroen Demeyer**

Author: **Volker Braun**

Component: **scripts**

_Issue created by migration from https://trac.sagemath.org/ticket/16992_





---

archive/issue_events_242827.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-16T11:33:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242827"
}
```



---

archive/issue_events_242828.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-16T11:33:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242828"
}
```



---

archive/issue_comments_224535.json:
```json
{
    "body": "Branch: **[u/vbraun/direct_fixdoctests](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/direct_fixdoctests)**",
    "created_at": "2014-09-16T13:07:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224535",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/direct_fixdoctests](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/direct_fixdoctests)**



---

archive/issue_comments_224536.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c5f2b0e915d525b7984b43721a869b6040ed20f\">8c5f2b0</a></td><td><code>Directly overwrite with fixed doctests</code></td></tr></table>\n",
    "created_at": "2014-09-16T13:10:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224536",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c5f2b0e915d525b7984b43721a869b6040ed20f">8c5f2b0</a></td><td><code>Directly overwrite with fixed doctests</code></td></tr></table>




---

archive/issue_events_242829.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-16T13:10:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20scripts",
    "label_color": "000080",
    "label_name": "c: scripts",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242829"
}
```



---

archive/issue_events_242830.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-16T13:10:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242830"
}
```



---

archive/issue_comments_224537.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,8 @@\n+Now that we are actually using a versions control system as it is intended, the `sage --fixdoctests` workflow is a bit antiquated:\n \n+* Run `sage --fixdoctests src/sage/foo.py`\n+* Get a diff printed to stdout\n+* copy `src/sage/foo.py.out` to `src/sage/foo.py`\n+* Run `git diff` to get the same diff again\n+\n+Instead, just overwrite the file directly. Use version control for the rest.\n``````\n",
    "created_at": "2014-09-16T13:10:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224537",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,8 @@
+Now that we are actually using a versions control system as it is intended, the `sage --fixdoctests` workflow is a bit antiquated:
 
+* Run `sage --fixdoctests src/sage/foo.py`
+* Get a diff printed to stdout
+* copy `src/sage/foo.py.out` to `src/sage/foo.py`
+* Run `git diff` to get the same diff again
+
+Instead, just overwrite the file directly. Use version control for the rest.
``````




---

archive/issue_comments_224538.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2014-09-16T13:10:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224538",
    "user": "https://github.com/vbraun"
}
```

Author: **Volker Braun**



---

archive/issue_events_242831.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-16T13:10:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242831"
}
```



---

archive/issue_comments_224539.json:
```json
{
    "body": "Commit: **[`8c5f2b0`](https://github.com/sagemath/sagetrac-mirror/commit/8c5f2b0e915d525b7984b43721a869b6040ed20f)**",
    "created_at": "2014-09-16T13:10:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224539",
    "user": "https://github.com/vbraun"
}
```

Commit: **[`8c5f2b0`](https://github.com/sagemath/sagetrac-mirror/commit/8c5f2b0e915d525b7984b43721a869b6040ed20f)**



---

archive/issue_comments_224540.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI would replace `sage -git` by `git` since this is supposed to be run from a Sage shell anyway.",
    "created_at": "2014-09-16T13:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224540",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

I would replace `sage -git` by `git` since this is supposed to be run from a Sage shell anyway.



---

archive/issue_comments_224541.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da59f20583c9a9aeb0ca64c9a1403da412666bd6\">da59f20</a></td><td><code>call git directly and from the right directory</code></td></tr></table>\n",
    "created_at": "2014-09-16T13:46:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224541",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da59f20583c9a9aeb0ca64c9a1403da412666bd6">da59f20</a></td><td><code>call git directly and from the right directory</code></td></tr></table>




---

archive/issue_comments_224542.json:
```json
{
    "body": "Changed commit from **[`8c5f2b0`](https://github.com/sagemath/sagetrac-mirror/commit/8c5f2b0e915d525b7984b43721a869b6040ed20f)** to **[`da59f20`](https://github.com/sagemath/sagetrac-mirror/commit/da59f20583c9a9aeb0ca64c9a1403da412666bd6)**",
    "created_at": "2014-09-16T13:46:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224542",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8c5f2b0`](https://github.com/sagemath/sagetrac-mirror/commit/8c5f2b0e915d525b7984b43721a869b6040ed20f)** to **[`da59f20`](https://github.com/sagemath/sagetrac-mirror/commit/da59f20583c9a9aeb0ca64c9a1403da412666bd6)**



---

archive/issue_events_242832.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-16T16:47:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242832"
}
```



---

archive/issue_events_242833.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-16T16:47:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242833"
}
```



---

archive/issue_comments_224543.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nYou also need to fix the documentation (output of `./sage --advanced`)",
    "created_at": "2014-09-16T16:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224543",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

You also need to fix the documentation (output of `./sage --advanced`)



---

archive/issue_comments_224544.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nAnd could you please add a `\\n` to the output file, because otherwise you always get\n\n```diff\ndiff --git a/src/sage/rings/integer.pyx b/src/sage/rings/integer.pyx\nindex c85ba09..59cb6c1 100644\n--- a/src/sage/rings/integer.pyx\n+++ b/src/sage/rings/integer.pyx\n@@ -6515,4 +6515,4 @@ cdef double mpz_get_d_nearest(mpz_t x) except? -648555075988944.5:\n     cdef double d = <double>q64\n     if resultsign < 0:\n         d = -d\n-    return ldexp(d, shift)\n+    return ldexp(d, shift)\n\\ No newline at end of file\n```\n(I know you didn't introduce this bug, but it's such a trivial fix...)",
    "created_at": "2014-09-16T16:51:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224544",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

And could you please add a `\n` to the output file, because otherwise you always get

```diff
diff --git a/src/sage/rings/integer.pyx b/src/sage/rings/integer.pyx
index c85ba09..59cb6c1 100644
--- a/src/sage/rings/integer.pyx
+++ b/src/sage/rings/integer.pyx
@@ -6515,4 +6515,4 @@ cdef double mpz_get_d_nearest(mpz_t x) except? -648555075988944.5:
     cdef double d = <double>q64
     if resultsign < 0:
         d = -d
-    return ldexp(d, shift)
+    return ldexp(d, shift)
\ No newline at end of file
```
(I know you didn't introduce this bug, but it's such a trivial fix...)



---

archive/issue_comments_224545.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nShouldn't\n\n```\nif relative.startswith('.'):\n```\nbe\n\n```\nif relative.startswith('..'):\n```\n(although it seems that `relpath` strips `./`)",
    "created_at": "2014-09-16T16:59:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224545",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

Shouldn't

```
if relative.startswith('.'):
```
be

```
if relative.startswith('..'):
```
(although it seems that `relpath` strips `./`)



---

archive/issue_comments_224546.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThere is of course a large margin for improvement in the `sage-fixdoctests` script (ideally, it should be integrated within the doctesting framework), but if you make the small changes I mentioned, I'm happy with this ticket.",
    "created_at": "2014-09-16T17:02:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224546",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

There is of course a large margin for improvement in the `sage-fixdoctests` script (ideally, it should be integrated within the doctesting framework), but if you make the small changes I mentioned, I'm happy with this ticket.



---

archive/issue_comments_224547.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2014-09-16T17:02:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224547",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_242834.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-16T18:33:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242834"
}
```



---

archive/issue_events_242835.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-16T18:33:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242835"
}
```



---

archive/issue_comments_224548.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\ndone",
    "created_at": "2014-09-16T18:33:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224548",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:9" align="right">comment:9</div>

done



---

archive/issue_comments_224549.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e397b3e6b1dfa0c0a7877adb89efa278495000f9\">e397b3e</a></td><td><code>Add newline at end of file and fix cmdline help</code></td></tr></table>\n",
    "created_at": "2014-09-16T18:33:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224549",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e397b3e6b1dfa0c0a7877adb89efa278495000f9">e397b3e</a></td><td><code>Add newline at end of file and fix cmdline help</code></td></tr></table>




---

archive/issue_comments_224550.json:
```json
{
    "body": "Changed commit from **[`da59f20`](https://github.com/sagemath/sagetrac-mirror/commit/da59f20583c9a9aeb0ca64c9a1403da412666bd6)** to **[`e397b3e`](https://github.com/sagemath/sagetrac-mirror/commit/e397b3e6b1dfa0c0a7877adb89efa278495000f9)**",
    "created_at": "2014-09-16T18:33:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224550",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`da59f20`](https://github.com/sagemath/sagetrac-mirror/commit/da59f20583c9a9aeb0ca64c9a1403da412666bd6)** to **[`e397b3e`](https://github.com/sagemath/sagetrac-mirror/commit/e397b3e6b1dfa0c0a7877adb89efa278495000f9)**



---

archive/issue_events_242836.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-09-16T18:33:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242836"
}
```



---

archive/issue_events_242837.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-09-16T18:33:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242837"
}
```



---

archive/issue_events_242838.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-16T19:35:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242838"
}
```



---

archive/issue_events_242839.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-16T19:35:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242839"
}
```



---

archive/issue_events_242840.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-09-18T14:35:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242840"
}
```



---

archive/issue_events_242841.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-09-18T14:35:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242841"
}
```



---

archive/issue_comments_224551.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b99c68fdfe02cbbbc57fe4dab882505a136d3e6\">1b99c68</a></td><td><code>Also fix the cmdline doctest</code></td></tr></table>\n",
    "created_at": "2014-09-18T14:35:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224551",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b99c68fdfe02cbbbc57fe4dab882505a136d3e6">1b99c68</a></td><td><code>Also fix the cmdline doctest</code></td></tr></table>




---

archive/issue_comments_224552.json:
```json
{
    "body": "Changed commit from **[`e397b3e`](https://github.com/sagemath/sagetrac-mirror/commit/e397b3e6b1dfa0c0a7877adb89efa278495000f9)** to **[`1b99c68`](https://github.com/sagemath/sagetrac-mirror/commit/1b99c68fdfe02cbbbc57fe4dab882505a136d3e6)**",
    "created_at": "2014-09-18T14:35:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224552",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e397b3e`](https://github.com/sagemath/sagetrac-mirror/commit/e397b3e6b1dfa0c0a7877adb89efa278495000f9)** to **[`1b99c68`](https://github.com/sagemath/sagetrac-mirror/commit/1b99c68fdfe02cbbbc57fe4dab882505a136d3e6)**



---

archive/issue_events_242842.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-18T14:36:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242842"
}
```



---

archive/issue_events_242843.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-18T14:36:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242843"
}
```



---

archive/issue_comments_224553.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nForgot the cmdline test...",
    "created_at": "2014-09-18T14:36:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224553",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:13" align="right">comment:13</div>

Forgot the cmdline test...



---

archive/issue_comments_224554.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAny reason you write\n\n```\nwith open(test_file, 'r') as f:\n    fixed_test = f.read()\n```\ninstead of\n\n```\n    fixed_test = open(test_file).read()\n```",
    "created_at": "2014-09-18T16:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224554",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Any reason you write

```
with open(test_file, 'r') as f:
    fixed_test = f.read()
```
instead of

```
    fixed_test = open(test_file).read()
```



---

archive/issue_comments_224555.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI don't really care either way much, but to me the first version makes it clearer how long the file is actually open for.",
    "created_at": "2014-09-18T16:37:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224555",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:15" align="right">comment:15</div>

I don't really care either way much, but to me the first version makes it clearer how long the file is actually open for.



---

archive/issue_comments_224556.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nlgtm (I was going to set positive_review but apparently you already did that :-p)",
    "created_at": "2014-09-18T19:23:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224556",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

lgtm (I was going to set positive_review but apparently you already did that :-p)



---

archive/issue_comments_224557.json:
```json
{
    "body": "Changed branch from **[u/vbraun/direct_fixdoctests](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/direct_fixdoctests)** to **[`1b99c68`](https://github.com/sagemath/sagetrac-mirror/commit/1b99c68fdfe02cbbbc57fe4dab882505a136d3e6)**",
    "created_at": "2014-09-19T15:08:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16992#issuecomment-224557",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/direct_fixdoctests](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/direct_fixdoctests)** to **[`1b99c68`](https://github.com/sagemath/sagetrac-mirror/commit/1b99c68fdfe02cbbbc57fe4dab882505a136d3e6)**



---

archive/issue_events_242844.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-19T15:08:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242844"
}
```



---

archive/issue_events_242845.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "11fe0aa68fee74ff6c981044f2b754c97ce52907",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-09-19T15:08:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16992",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16992#event-242845"
}
```
