# Issue 16953: Faster enumeration of points for toric varieties

archive/issues_016716.json:
```json
{
    "assignees": [],
    "body": "This ticket implements a specialized enumerator for points of a toric variety over a finite field. It uses linear algebra to solve the rescaling relations. It also parallelizes the enumeration of points for subvarieties of toric varieties. \n\nFor example:\n\n```\n$ cat quintic.sage \np = 3\nfor k in range(1, 5):\n    F = GF(p^k, 'a')\n    P4.<z0,z1,z2,z3,z4> = toric_varieties.P(4, base_ring=F)\n    X = P4.subscheme(z0^5+z1^5+z2^5+z3^5+z4^5-5*z0*z1*z2*z3*z4)\n    print k, X.point_set().cardinality()\n\n$ time sage quintic.sage \n1 36\n2 816\n3 20691\n4 688800\n\nreal 14m37.378s\nuser 136m37.989s\nsys 0m18.268s\n```\n\nCC:  @novoselt @sagetrac-jpflori @sagetrac-ursula\n\nBranch: **[49a7241](https://github.com/sagemath/sagetrac-mirror/commit/49a72410a19784c05c9fe320e28382df7e5b7338)**\n\nReviewer: **Ursula Whitcher**\n\nAuthor: **Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16953_\n\n",
    "closed_at": "2015-05-26T23:34:29Z",
    "created_at": "2014-09-09T16:59:09Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Faster enumeration of points for toric varieties",
    "type": "issue",
    "updated_at": "2015-09-06T16:25:22Z",
    "url": "https://github.com/sagemath/sage/issues/16953",
    "user": "https://github.com/vbraun"
}
```
This ticket implements a specialized enumerator for points of a toric variety over a finite field. It uses linear algebra to solve the rescaling relations. It also parallelizes the enumeration of points for subvarieties of toric varieties. 

For example:

```
$ cat quintic.sage 
p = 3
for k in range(1, 5):
    F = GF(p^k, 'a')
    P4.<z0,z1,z2,z3,z4> = toric_varieties.P(4, base_ring=F)
    X = P4.subscheme(z0^5+z1^5+z2^5+z3^5+z4^5-5*z0*z1*z2*z3*z4)
    print k, X.point_set().cardinality()

$ time sage quintic.sage 
1 36
2 816
3 20691
4 688800

real 14m37.378s
user 136m37.989s
sys 0m18.268s
```

CC:  @novoselt @sagetrac-jpflori @sagetrac-ursula

Branch: **[49a7241](https://github.com/sagemath/sagetrac-mirror/commit/49a72410a19784c05c9fe320e28382df7e5b7338)**

Reviewer: **Ursula Whitcher**

Author: **Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/16953_





---

archive/issue_events_224722.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-09T16:59:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224722"
}
```



---

archive/issue_events_224723.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-09T16:59:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "component: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224723"
}
```



---

archive/issue_events_224724.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-09T16:59:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224724"
}
```



---

archive/issue_events_224725.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-09T16:59:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224725"
}
```



---

archive/issue_comments_226397.json:
```json
{
    "body": "Branch: **[u/vbraun/faster_enumeration](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/faster_enumeration)**",
    "created_at": "2014-09-09T17:00:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226397",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/faster_enumeration](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/faster_enumeration)**



---

archive/issue_comments_226398.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a15c30f956a09959555244674abe420295b92f6\">0a15c30</a></td><td><code>Specialized point enumerator for finite fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f6951dc55e94acc5be936111e2ed05445c6f0ad\">6f6951d</a></td><td><code>speed up cardinality over finite field</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/266d921d01f02e1301fb9e2981599fd17d71b152\">266d921</a></td><td><code>Parallel enumerator for algebraic subvarieties</code></td></tr></table>\n",
    "created_at": "2014-09-11T22:47:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226398",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a15c30f956a09959555244674abe420295b92f6">0a15c30</a></td><td><code>Specialized point enumerator for finite fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f6951dc55e94acc5be936111e2ed05445c6f0ad">6f6951d</a></td><td><code>speed up cardinality over finite field</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/266d921d01f02e1301fb9e2981599fd17d71b152">266d921</a></td><td><code>Parallel enumerator for algebraic subvarieties</code></td></tr></table>




---

archive/issue_comments_226399.json:
```json
{
    "body": "Commit: **[266d921](https://github.com/sagemath/sagetrac-mirror/commit/266d921d01f02e1301fb9e2981599fd17d71b152)**",
    "created_at": "2014-09-11T22:47:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226399",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[266d921](https://github.com/sagemath/sagetrac-mirror/commit/266d921d01f02e1301fb9e2981599fd17d71b152)**



---

archive/issue_events_224726.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-11T23:14:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224726"
}
```



---

archive/issue_comments_226400.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-This ticket implements a specialized enumerator for points of a toric variety over a finite field. It uses linear algebra to solve the rescaling relations.\n+This ticket implements a specialized enumerator for points of a toric variety over a finite field. It uses linear algebra to solve the rescaling relations. It also parallelizes the enumeration of points for subvarieties of toric varieties.\n``````\n",
    "created_at": "2014-09-11T23:14:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226400",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-This ticket implements a specialized enumerator for points of a toric variety over a finite field. It uses linear algebra to solve the rescaling relations.
+This ticket implements a specialized enumerator for points of a toric variety over a finite field. It uses linear algebra to solve the rescaling relations. It also parallelizes the enumeration of points for subvarieties of toric varieties.
``````




---

archive/issue_comments_226401.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,23 @@\n-This ticket implements a specialized enumerator for points of a toric variety over a finite field. It uses linear algebra to solve the rescaling relations. It also parallelizes the enumeration of points for subvarieties of toric varieties.\n+This ticket implements a specialized enumerator for points of a toric variety over a finite field. It uses linear algebra to solve the rescaling relations. It also parallelizes the enumeration of points for subvarieties of toric varieties. \n+\n+For example:\n+\n+```\n+$ cat quintic.sage \n+p = 3\n+for k in range(1, 5):\n+    F = GF(p^k, 'a')\n+    P4.<z0,z1,z2,z3,z4> = toric_varieties.P(4, base_ring=F)\n+    X = P4.subscheme(z0^5+z1^5+z2^5+z3^5+z4^5-5*z0*z1*z2*z3*z4)\n+    print k, X.point_set().cardinality()\n+\n+$ time sage quintic.sage \n+1 36\n+2 816\n+3 20691\n+4 688800\n+\n+real\t14m37.378s\n+user\t136m37.989s\n+sys\t0m18.268s\n+```\n``````\n",
    "created_at": "2014-09-12T10:18:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226401",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,23 @@
-This ticket implements a specialized enumerator for points of a toric variety over a finite field. It uses linear algebra to solve the rescaling relations. It also parallelizes the enumeration of points for subvarieties of toric varieties.
+This ticket implements a specialized enumerator for points of a toric variety over a finite field. It uses linear algebra to solve the rescaling relations. It also parallelizes the enumeration of points for subvarieties of toric varieties. 
+
+For example:
+
+```
+$ cat quintic.sage 
+p = 3
+for k in range(1, 5):
+    F = GF(p^k, 'a')
+    P4.<z0,z1,z2,z3,z4> = toric_varieties.P(4, base_ring=F)
+    X = P4.subscheme(z0^5+z1^5+z2^5+z3^5+z4^5-5*z0*z1*z2*z3*z4)
+    print k, X.point_set().cardinality()
+
+$ time sage quintic.sage 
+1 36
+2 816
+3 20691
+4 688800
+
+real	14m37.378s
+user	136m37.989s
+sys	0m18.268s
+```
``````




---

archive/issue_comments_226402.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nAsking for the cardinality of a toric variety raises a Not Implemented Error:\n\n```\nP4.<z0,z1,z2,z3,z4> = toric_varieties.P(4)\n11\nP4.cardinality()\n12\nError in lines 2-2\nTraceback (most recent call last):\n  File \"/projects/fbc7bfa1-2c3e-4abc-b8d5-3a0b959a311d/.sagemathcloud/sage_server.py\", line 865, in execute\n    exec compile(block+'\\n', '', 'single') in namespace, locals\n  File \"\", line 1, in <module>\n  File \"/projects/fbc7bfa1-2c3e-4abc-b8d5-3a0b959a311d/sage-6.3-x86_64-Linux/local/lib/python2.7/site-packages/sage/categories/sets_cat.py\", line 1322, in cardinality\n    raise NotImplementedError(\"unknown cardinality\")\nNotImplementedError: unknown cardinality\n```\n\nShould P4.cardinality() have the same output as P4.point_set().cardinality()?",
    "created_at": "2014-11-04T17:47:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226402",
    "user": "https://github.com/sagetrac-ursula"
}
```

<div id="comment:5" align="right">Comment 5</div>

Asking for the cardinality of a toric variety raises a Not Implemented Error:

```
P4.<z0,z1,z2,z3,z4> = toric_varieties.P(4)
11
P4.cardinality()
12
Error in lines 2-2
Traceback (most recent call last):
  File "/projects/fbc7bfa1-2c3e-4abc-b8d5-3a0b959a311d/.sagemathcloud/sage_server.py", line 865, in execute
    exec compile(block+'\n', '', 'single') in namespace, locals
  File "", line 1, in <module>
  File "/projects/fbc7bfa1-2c3e-4abc-b8d5-3a0b959a311d/sage-6.3-x86_64-Linux/local/lib/python2.7/site-packages/sage/categories/sets_cat.py", line 1322, in cardinality
    raise NotImplementedError("unknown cardinality")
NotImplementedError: unknown cardinality
```

Should P4.cardinality() have the same output as P4.point_set().cardinality()?



---

archive/issue_comments_226403.json:
```json
{
    "body": "Changed commit from **[266d921](https://github.com/sagemath/sagetrac-mirror/commit/266d921d01f02e1301fb9e2981599fd17d71b152)** to **[fcfc680](https://github.com/sagemath/sagetrac-mirror/commit/fcfc680433e8721720bc076e3152b57d7dc768b7)**",
    "created_at": "2014-11-05T16:51:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226403",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[266d921](https://github.com/sagemath/sagetrac-mirror/commit/266d921d01f02e1301fb9e2981599fd17d71b152)** to **[fcfc680](https://github.com/sagemath/sagetrac-mirror/commit/fcfc680433e8721720bc076e3152b57d7dc768b7)**



---

archive/issue_comments_226404.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcfc680433e8721720bc076e3152b57d7dc768b7\">fcfc680</a></td><td><code>support the cardinality method from the category stuff</code></td></tr></table>\n",
    "created_at": "2014-11-05T16:51:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226404",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6" align="right">Comment 6</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcfc680433e8721720bc076e3152b57d7dc768b7">fcfc680</a></td><td><code>support the cardinality method from the category stuff</code></td></tr></table>




---

archive/issue_comments_226405.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nThe cardinality method is just inherited from the category framework. I've hooked it up to do the right thing.",
    "created_at": "2014-11-05T16:52:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226405",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7" align="right">Comment 7</div>

The cardinality method is just inherited from the category framework. I've hooked it up to do the right thing.



---

archive/issue_events_224727.json:
```json
{
    "actor": "https://github.com/sagetrac-ursula",
    "created_at": "2015-05-24T20:48:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224727"
}
```



---

archive/issue_events_224728.json:
```json
{
    "actor": "https://github.com/sagetrac-ursula",
    "created_at": "2015-05-24T20:48:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224728"
}
```



---

archive/issue_comments_226406.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nWhen I install this ticket with Sage 6.7, I get the following error on build:\n\nTraceback (most recent call last):\n  File \"setup.py\", line 559, in <module>\n    run_cythonize()\n  File \"setup.py\", line 551, in run_cythonize\n    'profile': profile,\n  File \"/projects/fbc7bfa1-2c3e-4abc-b8d5-3a0b959a311d/sage-6.7-x86_64-Linux/local/lib/python2.7/site-packages/Cython-0.22-py2.7-linux-x86_64.egg/Cython/Build/Dependencies.py\", line 754, in cytho\nnize\n    aliases=aliases)\n  File \"/projects/fbc7bfa1-2c3e-4abc-b8d5-3a0b959a311d/sage-6.7-x86_64-Linux/local/lib/python2.7/site-packages/Cython-0.22-py2.7-linux-x86_64.egg/Cython/Build/Dependencies.py\", line 649, in creat\ne_extension_list\n    for file in nonempty(extended_iglob(filepattern), \"'%s' doesn't match any files\" % filepattern):\n  File \"/projects/fbc7bfa1-2c3e-4abc-b8d5-3a0b959a311d/sage-6.7-x86_64-Linux/local/lib/python2.7/site-packages/Cython-0.22-py2.7-linux-x86_64.egg/Cython/Build/Dependencies.py\", line 103, in nonem\npty\n    raise ValueError(error_msg)\nValueError: 'sage/tests/parallel.pyx' doesn't match any files",
    "created_at": "2015-05-24T20:48:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226406",
    "user": "https://github.com/sagetrac-ursula"
}
```

<div id="comment:8" align="right">Comment 8</div>

When I install this ticket with Sage 6.7, I get the following error on build:

Traceback (most recent call last):
  File "setup.py", line 559, in <module>
    run_cythonize()
  File "setup.py", line 551, in run_cythonize
    'profile': profile,
  File "/projects/fbc7bfa1-2c3e-4abc-b8d5-3a0b959a311d/sage-6.7-x86_64-Linux/local/lib/python2.7/site-packages/Cython-0.22-py2.7-linux-x86_64.egg/Cython/Build/Dependencies.py", line 754, in cytho
nize
    aliases=aliases)
  File "/projects/fbc7bfa1-2c3e-4abc-b8d5-3a0b959a311d/sage-6.7-x86_64-Linux/local/lib/python2.7/site-packages/Cython-0.22-py2.7-linux-x86_64.egg/Cython/Build/Dependencies.py", line 649, in creat
e_extension_list
    for file in nonempty(extended_iglob(filepattern), "'%s' doesn't match any files" % filepattern):
  File "/projects/fbc7bfa1-2c3e-4abc-b8d5-3a0b959a311d/sage-6.7-x86_64-Linux/local/lib/python2.7/site-packages/Cython-0.22-py2.7-linux-x86_64.egg/Cython/Build/Dependencies.py", line 103, in nonem
pty
    raise ValueError(error_msg)
ValueError: 'sage/tests/parallel.pyx' doesn't match any files



---

archive/issue_comments_226407.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nThe actual functionality works fine, albeit slowly.  I would find it helpful if there were a way to save partial progress when computing a point set: I'm interested in examples that are large enough that the Sage cloud may kill the process before I'm done.",
    "created_at": "2015-05-24T20:55:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226407",
    "user": "https://github.com/sagetrac-ursula"
}
```

<div id="comment:9" align="right">Comment 9</div>

The actual functionality works fine, albeit slowly.  I would find it helpful if there were a way to save partial progress when computing a point set: I'm interested in examples that are large enough that the Sage cloud may kill the process before I'm done.



---

archive/issue_comments_226408.json:
```json
{
    "body": "Changed commit from **[fcfc680](https://github.com/sagemath/sagetrac-mirror/commit/fcfc680433e8721720bc076e3152b57d7dc768b7)** to **[49a7241](https://github.com/sagemath/sagetrac-mirror/commit/49a72410a19784c05c9fe320e28382df7e5b7338)**",
    "created_at": "2015-05-24T22:28:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226408",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fcfc680](https://github.com/sagemath/sagetrac-mirror/commit/fcfc680433e8721720bc076e3152b57d7dc768b7)** to **[49a7241](https://github.com/sagemath/sagetrac-mirror/commit/49a72410a19784c05c9fe320e28382df7e5b7338)**



---

archive/issue_comments_226409.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/126240b32fa606c9a9ebc023ed1006f2b07fe4c3\">126240b</a></td><td><code>Merge 6.8.beta0 into #16953</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49a72410a19784c05c9fe320e28382df7e5b7338\">49a7241</a></td><td><code>Remove the cardinality doctests</code></td></tr></table>\n",
    "created_at": "2015-05-24T22:28:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226409",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10" align="right">Comment 10</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/126240b32fa606c9a9ebc023ed1006f2b07fe4c3">126240b</a></td><td><code>Merge 6.8.beta0 into #16953</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49a72410a19784c05c9fe320e28382df7e5b7338">49a7241</a></td><td><code>Remove the cardinality doctests</code></td></tr></table>




---

archive/issue_events_224729.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-24T22:31:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224729"
}
```



---

archive/issue_events_224730.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-24T22:31:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224730"
}
```



---

archive/issue_comments_226410.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nI fixed the merge conflict. You probably need to run \"make\" when building with the patch.",
    "created_at": "2015-05-24T22:31:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226410",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:11" align="right">Comment 11</div>

I fixed the merge conflict. You probably need to run "make" when building with the patch.



---

archive/issue_events_224731.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-25T21:33:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224731"
}
```



---

archive/issue_events_224732.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-25T21:33:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224732"
}
```



---

archive/issue_comments_226411.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nHello,\n\nSome quick comments (I will not be able to check most of the mathematical contents of the code).\n\nSome cached method are really not needed. The multiplicative generator of finite field is already cached. So you could remove the `FiniteFieldPointEnumerator.multiplicative_generator`. And the multiplicative order of the multiplicative generator is `q-1` (where `q` is the cardinality of the field), isn't it?\n\nInstead of using `CartesianProduct`, use `itertools.product` (actually this is indirectely used). `CartesianProduct` is about to disappear.\n\nIf you want to copy a list, the fastest is by far `zero[:]` and not `copy(zero)`.\n\n```\nsage: timeit(\"copy(zero)\")\n625 loops, best of 3: 2.59 \u00b5s per loop\nsage: timeit(\"zero[:]\")\n625 loops, best of 3: 248 ns per loop\n```\n\nThe fastest way for zero test is `X.is_zero()` and not `X == 0`. The latter might involves coercion.\n\n```\nsage: K = GF(53**3, 'a')\nsage: b = K('a')+3*K('a')**2+12\nsage: timeit(\"b == 0\")\n625 loops, best of 3: 2.17 \u00b5s per loop\nsage: timeit(\"b.is_zero()\")\n625 loops, best of 3: 317 ns per loop\n```\n\nVincent\n\nPS: the hook for modifying the category code was very funny! Hopefully I erase the `Sets.ParentMethods.cardinality` before this ticket gets in ;-)",
    "created_at": "2015-05-25T21:33:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226411",
    "user": "https://github.com/videlec"
}
```

<div id="comment:12" align="right">Comment 12</div>

Hello,

Some quick comments (I will not be able to check most of the mathematical contents of the code).

Some cached method are really not needed. The multiplicative generator of finite field is already cached. So you could remove the `FiniteFieldPointEnumerator.multiplicative_generator`. And the multiplicative order of the multiplicative generator is `q-1` (where `q` is the cardinality of the field), isn't it?

Instead of using `CartesianProduct`, use `itertools.product` (actually this is indirectely used). `CartesianProduct` is about to disappear.

If you want to copy a list, the fastest is by far `zero[:]` and not `copy(zero)`.

```
sage: timeit("copy(zero)")
625 loops, best of 3: 2.59 µs per loop
sage: timeit("zero[:]")
625 loops, best of 3: 248 ns per loop
```

The fastest way for zero test is `X.is_zero()` and not `X == 0`. The latter might involves coercion.

```
sage: K = GF(53**3, 'a')
sage: b = K('a')+3*K('a')**2+12
sage: timeit("b == 0")
625 loops, best of 3: 2.17 µs per loop
sage: timeit("b.is_zero()")
625 loops, best of 3: 317 ns per loop
```

Vincent

PS: the hook for modifying the category code was very funny! Hopefully I erase the `Sets.ParentMethods.cardinality` before this ticket gets in ;-)



---

archive/issue_events_224733.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-25T22:27:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224733"
}
```



---

archive/issue_events_224734.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-25T22:27:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224734"
}
```



---

archive/issue_comments_226412.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nIMHO `copy(zero)` is much more readable that `zero[:]`. And `X.is_zero()` doesn't work for all numeric datatypes. Both are premature optimizations for something that isn't even cythonized. \n\nAlso, there isn't even a patch that deprecates CartesianProduct. You are getting ahead of yourself.",
    "created_at": "2015-05-25T22:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226412",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:13" align="right">Comment 13</div>

IMHO `copy(zero)` is much more readable that `zero[:]`. And `X.is_zero()` doesn't work for all numeric datatypes. Both are premature optimizations for something that isn't even cythonized. 

Also, there isn't even a patch that deprecates CartesianProduct. You are getting ahead of yourself.



---

archive/issue_comments_226413.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nI got this working with Sage 6.8; it behaves as advertised.",
    "created_at": "2015-05-25T23:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226413",
    "user": "https://github.com/sagetrac-ursula"
}
```

<div id="comment:14" align="right">Comment 14</div>

I got this working with Sage 6.8; it behaves as advertised.



---

archive/issue_comments_226414.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@vbraun](#comment%3A13):\n> IMHO `copy(zero)` is much more readable that `zero[:]`. And `X.is_zero()` doesn't work for all numeric datatypes. Both are premature optimizations for something that isn't even cythonized. \n\nAnd you forgot that `copy(X)` needs `from copy import copy` which is very readable. Doing `[zero]*n` each time would even be faster...\n\n> Also, there isn't even a patch that deprecates CartesianProduct. You are getting ahead of yourself.\n\nReally? what about #18411? Citation:\n\n```\nsage.combinat.cartesian_product.CartesianProduct is deprecated.\n```\n\nAnd these were not my only remarks...",
    "created_at": "2015-05-26T07:11:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226414",
    "user": "https://github.com/videlec"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@vbraun](#comment%3A13):
> IMHO `copy(zero)` is much more readable that `zero[:]`. And `X.is_zero()` doesn't work for all numeric datatypes. Both are premature optimizations for something that isn't even cythonized. 

And you forgot that `copy(X)` needs `from copy import copy` which is very readable. Doing `[zero]*n` each time would even be faster...

> Also, there isn't even a patch that deprecates CartesianProduct. You are getting ahead of yourself.

Really? what about #18411? Citation:

```
sage.combinat.cartesian_product.CartesianProduct is deprecated.
```

And these were not my only remarks...



---

archive/issue_events_224735.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-26T07:11:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224735"
}
```



---

archive/issue_events_224736.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-26T07:11:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224736"
}
```



---

archive/issue_comments_226415.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nReplying to [@videlec](#comment%3A15):\n> Replying to [@vbraun](#comment%3A13):\n> > IMHO `copy(zero)` is much more readable that `zero[:]`.ething that isn't even cythonized. \n\n> \n> And you forgot that `copy(X)` needs `from copy import copy` which is very readable\n\nI don't see how mixing up function bodies with import statements is ever going to yield a viable argument. In any case, I stand by my opinion that `copy(zero)` is much more readable that `zero[:]`.\n\n> Really? what about #18411? \n\nThere is no code on that ticket, and even if there were it depends on unfinished tickets. Its also unclear to me if it is ever going to be merged as some people have previously expressed a strong opinion on sage-devel for something that is named after cartesian product instead of `itertools.product`. In any case, this ticket long predates #18411 and is ready to be merged right now.",
    "created_at": "2015-05-26T07:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226415",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:16" align="right">Comment 16</div>

Replying to [@videlec](#comment%3A15):
> Replying to [@vbraun](#comment%3A13):
> > IMHO `copy(zero)` is much more readable that `zero[:]`.ething that isn't even cythonized. 

> 
> And you forgot that `copy(X)` needs `from copy import copy` which is very readable

I don't see how mixing up function bodies with import statements is ever going to yield a viable argument. In any case, I stand by my opinion that `copy(zero)` is much more readable that `zero[:]`.

> Really? what about #18411? 

There is no code on that ticket, and even if there were it depends on unfinished tickets. Its also unclear to me if it is ever going to be merged as some people have previously expressed a strong opinion on sage-devel for something that is named after cartesian product instead of `itertools.product`. In any case, this ticket long predates #18411 and is ready to be merged right now.



---

archive/issue_comments_226416.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nReplying to [@vbraun](#comment%3A16):\n> Replying to [@videlec](#comment%3A15):\n> > Replying to [@vbraun](#comment%3A13):\n> > > IMHO `copy(zero)` is much more readable that `zero[:]`.ething that isn't even cythonized. \n\n> > \n> > And you forgot that `copy(X)` needs `from copy import copy` which is very readable\n\n> \n> I don't see how mixing up function bodies with import statements is ever going to yield a viable argument. In any case, I stand by my opinion that `copy(zero)` is much more readable that `zero[:]`.\n> \n> > Really? what about #18411? \n\n> \n> There is no code on that ticket, and even if there were it depends on unfinished tickets. Its also unclear to me if it is ever going to be merged as some people have previously expressed a strong opinion on sage-devel for something that is named after cartesian product instead of `itertools.product`. In any case, this ticket long predates #18411 and is ready to be merged right now.\n\nThen there is `cartesian_product_iterator`.\n\nWhat about all your useless `cached_method`?",
    "created_at": "2015-05-26T07:20:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226416",
    "user": "https://github.com/videlec"
}
```

<div id="comment:17" align="right">Comment 17</div>

Replying to [@vbraun](#comment%3A16):
> Replying to [@videlec](#comment%3A15):
> > Replying to [@vbraun](#comment%3A13):
> > > IMHO `copy(zero)` is much more readable that `zero[:]`.ething that isn't even cythonized. 

> > 
> > And you forgot that `copy(X)` needs `from copy import copy` which is very readable

> 
> I don't see how mixing up function bodies with import statements is ever going to yield a viable argument. In any case, I stand by my opinion that `copy(zero)` is much more readable that `zero[:]`.
> 
> > Really? what about #18411? 

> 
> There is no code on that ticket, and even if there were it depends on unfinished tickets. Its also unclear to me if it is ever going to be merged as some people have previously expressed a strong opinion on sage-devel for something that is named after cartesian product instead of `itertools.product`. In any case, this ticket long predates #18411 and is ready to be merged right now.

Then there is `cartesian_product_iterator`.

What about all your useless `cached_method`?



---

archive/issue_comments_226417.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nReplying to [@videlec](#comment%3A17):\n> Then there is `cartesian_product_iterator`.\n\nHow about you discuss what to do with cartesian products on #18411?\n \n> What about all your useless `cached_method`?\n\nThey give names to quantities. Its true that you can replace the multiplicative order with q-1 everywhere, but it is not true that q-1 in a formula always refers to the order. Giving names to quantities makes code more readable as it explains the \"why\". And I'm using the general pattern of caching frequently-accessed methods, an extra `cached_method` has no performance impact but a forgotten `cached_method` can be very bad. Also, why should you have to read the finite fields implementation just to decide whether to cache something in this module?",
    "created_at": "2015-05-26T07:32:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226417",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">Comment 18</div>

Replying to [@videlec](#comment%3A17):
> Then there is `cartesian_product_iterator`.

How about you discuss what to do with cartesian products on #18411?
 
> What about all your useless `cached_method`?

They give names to quantities. Its true that you can replace the multiplicative order with q-1 everywhere, but it is not true that q-1 in a formula always refers to the order. Giving names to quantities makes code more readable as it explains the "why". And I'm using the general pattern of caching frequently-accessed methods, an extra `cached_method` has no performance impact but a forgotten `cached_method` can be very bad. Also, why should you have to read the finite fields implementation just to decide whether to cache something in this module?



---

archive/issue_events_224737.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-26T07:36:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224737"
}
```



---

archive/issue_events_224738.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-26T07:36:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224738"
}
```



---

archive/issue_comments_226418.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nReplying to [@vbraun](#comment%3A18):\n> Replying to [@videlec](#comment%3A17):\n> > What about all your useless `cached_method`?\n\n> \n> They give names to quantities. Its true that you can replace the multiplicative order with q-1 everywhere, but it is not true that q-1 in a formula always refers to the order. Giving names to quantities makes code more readable as it explains the \"why\".\n\nWhat annoys me is that you add 20 lines of code + documentation + a non documented function for something which can be replaced by `self.ring.cardinality() - 1` and `self.ring.multiplicative_generator()` for which the names are not at all mysterious.\n\n> And I'm using the general pattern of caching frequently-accessed methods, an extra `cached_method` has no performance impact but a forgotten `cached_method` can be very bad.\n\n`cached_method` can also have **negative** impact on performances (for not that frequently-accessed methods). Creating dictionaries is costly, object creation is costly, function call is costly.\n\n> Also, why should you have to read the finite fields implementation just to decide whether to cache something in this module?\n\nHopefully I did it for you. It is clear that `multiplicative_generator` is something critical in many application and it looks natural to cache this method at the level of finite fields. And as a finite field is mostly defined by its cardinality, you can expect the method `cardinality` to be fast.\n\nVincent",
    "created_at": "2015-05-26T07:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226418",
    "user": "https://github.com/videlec"
}
```

<div id="comment:20" align="right">Comment 20</div>

Replying to [@vbraun](#comment%3A18):
> Replying to [@videlec](#comment%3A17):
> > What about all your useless `cached_method`?

> 
> They give names to quantities. Its true that you can replace the multiplicative order with q-1 everywhere, but it is not true that q-1 in a formula always refers to the order. Giving names to quantities makes code more readable as it explains the "why".

What annoys me is that you add 20 lines of code + documentation + a non documented function for something which can be replaced by `self.ring.cardinality() - 1` and `self.ring.multiplicative_generator()` for which the names are not at all mysterious.

> And I'm using the general pattern of caching frequently-accessed methods, an extra `cached_method` has no performance impact but a forgotten `cached_method` can be very bad.

`cached_method` can also have **negative** impact on performances (for not that frequently-accessed methods). Creating dictionaries is costly, object creation is costly, function call is costly.

> Also, why should you have to read the finite fields implementation just to decide whether to cache something in this module?

Hopefully I did it for you. It is clear that `multiplicative_generator` is something critical in many application and it looks natural to cache this method at the level of finite fields. And as a finite field is mostly defined by its cardinality, you can expect the method `cardinality` to be fast.

Vincent



---

archive/issue_comments_226419.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nReplying to [@videlec](#comment%3A20):\n> What annoys me is that you add 20 lines of code + documentation + a non documented function for something which can be replaced by `self.ring.cardinality() - 1`\n\nLet me copy&paste what I sad before: Its true that you can replace the multiplicative order with q-1 everywhere, but it is not true that q-1 in a formula always refers to the order\n\n> `cached_method` can also have **negative** impact on performances (for not that frequently-accessed methods). Creating dictionaries is costly, object creation is costly, function call is costly.\n\nBenchmark or it is simply not true. There is no point in wasting effort on O(1) things. In fact it saves the `.ring` dictionary lookup but I didn't want to point that out since I consider that a stupid argument.\n\n> > Also, why should you have to read the finite fields implementation just to decide whether to cache something in this module?\n\n> Hopefully I did it for you.\n\nYou are missing the point, it is for the benefit of somebody reading the code in the future.",
    "created_at": "2015-05-26T07:53:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226419",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:21" align="right">Comment 21</div>

Replying to [@videlec](#comment%3A20):
> What annoys me is that you add 20 lines of code + documentation + a non documented function for something which can be replaced by `self.ring.cardinality() - 1`

Let me copy&paste what I sad before: Its true that you can replace the multiplicative order with q-1 everywhere, but it is not true that q-1 in a formula always refers to the order

> `cached_method` can also have **negative** impact on performances (for not that frequently-accessed methods). Creating dictionaries is costly, object creation is costly, function call is costly.

Benchmark or it is simply not true. There is no point in wasting effort on O(1) things. In fact it saves the `.ring` dictionary lookup but I didn't want to point that out since I consider that a stupid argument.

> > Also, why should you have to read the finite fields implementation just to decide whether to cache something in this module?

> Hopefully I did it for you.

You are missing the point, it is for the benefit of somebody reading the code in the future.



---

archive/issue_comments_226420.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nAs the person most interested in the functionality of this ticket, let me reiterate that the ability to save partial progress would be far more important to me than optimization around the edges.",
    "created_at": "2015-05-26T14:49:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226420",
    "user": "https://github.com/sagetrac-ursula"
}
```

<div id="comment:22" align="right">Comment 22</div>

As the person most interested in the functionality of this ticket, let me reiterate that the ability to save partial progress would be far more important to me than optimization around the edges.



---

archive/issue_events_224739.json:
```json
{
    "actor": "https://github.com/sagetrac-ursula",
    "created_at": "2015-05-26T14:49:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224739"
}
```



---

archive/issue_events_224740.json:
```json
{
    "actor": "https://github.com/sagetrac-ursula",
    "created_at": "2015-05-26T14:49:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224740"
}
```



---

archive/issue_comments_226421.json:
```json
{
    "body": "Reviewer: **Ursula Whitcher**",
    "created_at": "2015-05-26T19:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226421",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Ursula Whitcher**



---

archive/issue_comments_226422.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nI hear you, and I agree that checkpointing is an important feature. But its not really clear how that should be implemented or how the interface would look like. I guess the iterator is (or can be made) pickleable, but really checkpointing needs to be added on the `@parallel` level. In the short run its probably easier to email William to request a longer timeout on your project...",
    "created_at": "2015-05-26T19:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226422",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">Comment 24</div>

I hear you, and I agree that checkpointing is an important feature. But its not really clear how that should be implemented or how the interface would look like. I guess the iterator is (or can be made) pickleable, but really checkpointing needs to be added on the `@parallel` level. In the short run its probably easier to email William to request a longer timeout on your project...



---

archive/issue_events_224741.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-26T23:34:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224741"
}
```



---

archive/issue_events_224742.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8867ee49e4233bd043558db4dc069ef13213ea5c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-05-26T23:34:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16953#event-224742"
}
```



---

archive/issue_comments_226423.json:
```json
{
    "body": "Changed branch from **[u/vbraun/faster_enumeration](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/faster_enumeration)** to **[49a7241](https://github.com/sagemath/sagetrac-mirror/commit/49a72410a19784c05c9fe320e28382df7e5b7338)**",
    "created_at": "2015-05-26T23:34:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226423",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/faster_enumeration](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/faster_enumeration)** to **[49a7241](https://github.com/sagemath/sagetrac-mirror/commit/49a72410a19784c05c9fe320e28382df7e5b7338)**



---

archive/issue_comments_226424.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,7 +17,7 @@\n 3 20691\n 4 688800\n \n-real\t14m37.378s\n-user\t136m37.989s\n-sys\t0m18.268s\n+real 14m37.378s\n+user 136m37.989s\n+sys 0m18.268s\n ```\n``````\n",
    "created_at": "2015-09-06T16:25:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226424",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,7 +17,7 @@
 3 20691
 4 688800
 
-real	14m37.378s
-user	136m37.989s
-sys	0m18.268s
+real 14m37.378s
+user 136m37.989s
+sys 0m18.268s
 ```
``````




---

archive/issue_comments_226425.json:
```json
{
    "body": "Changed commit from **[49a7241](https://github.com/sagemath/sagetrac-mirror/commit/49a72410a19784c05c9fe320e28382df7e5b7338)** to none",
    "created_at": "2015-09-06T16:25:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16953#issuecomment-226425",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[49a7241](https://github.com/sagemath/sagetrac-mirror/commit/49a72410a19784c05c9fe320e28382df7e5b7338)** to none
