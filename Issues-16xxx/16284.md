# Issue 16284: Remove some deprecated code

archive/issues_016047.json:
```json
{
    "body": "Remove deprecated code from #7371, #8930, #10334, #11033, #12587, #13211 and from `coxeter_groups.py`.\n\nBranch/Commit: 05c583bffdfe7bcc1c1e9470828d451ffa8f9a43\n\nReviewer: Nathann Cohen, Travis Scrimshaw\n\nAuthor: Andr\u00e9 Apitzsch\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16284\n\n",
    "closed_at": "2014-05-13T08:42:13Z",
    "created_at": "2014-05-03T14:01:38Z",
    "labels": [
        "component: misc"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Remove some deprecated code",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16284",
    "user": "https://github.com/a-andre"
}
```
Remove deprecated code from #7371, #8930, #10334, #11033, #12587, #13211 and from `coxeter_groups.py`.

Branch/Commit: 05c583bffdfe7bcc1c1e9470828d451ffa8f9a43

Reviewer: Nathann Cohen, Travis Scrimshaw

Author: Andr√© Apitzsch

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16284





---

archive/issue_comments_266510.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-03T14:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266510",
    "user": "https://github.com/a-andre"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_266511.json:
```json
{
    "body": "Changing branch from \"\" to \"u/aapitzsch/ticket/16284\"",
    "created_at": "2014-05-03T14:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266511",
    "user": "https://github.com/a-andre"
}
```

Changing branch from "" to "u/aapitzsch/ticket/16284"



---

archive/issue_comments_266512.json:
```json
{
    "body": "Changing commit from \"\" to \"1fcbcacf0ac3ae2bc367e53a09fbf07e6af91236\"",
    "created_at": "2014-05-03T14:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266512",
    "user": "https://github.com/a-andre"
}
```

Changing commit from "" to "1fcbcacf0ac3ae2bc367e53a09fbf07e6af91236"



---

archive/issue_comments_266513.json:
```json
{
    "body": "<a id='comment:2'></a>Did you check that all long tests pass ? If so, it can go `:-)`\n\n(sorry, I cannot do this with my computer right now `^^;`)\n\nNathann",
    "created_at": "2014-05-03T14:13:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266513",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:2'></a>Did you check that all long tests pass ? If so, it can go `:-)`

(sorry, I cannot do this with my computer right now `^^;`)

Nathann



---

archive/issue_comments_266514.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Nathann Cohen\"",
    "created_at": "2014-05-03T14:13:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266514",
    "user": "https://github.com/nathanncohen"
}
```

Changing reviewer from "" to "Nathann Cohen"



---

archive/issue_comments_266515.json:
```json
{
    "body": "<a id='comment:3'></a>All long tests pass, but I'm not happy with\n\n```diff\n--- a/src/sage/homology/simplicial_complex.py\n+++ b/src/sage/homology/simplicial_complex.py\n@@ -816,21 +798,9 @@\n          C = None\n+         vertex_set = []\n          if maximal_faces is None:\n-             vertex_set = []\n              maximal_faces = []\n```\nWithout this change testing `src/sage/schemes/toric/divisor.py` will fail.",
    "created_at": "2014-05-03T14:43:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266515",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:3'></a>All long tests pass, but I'm not happy with

```diff
--- a/src/sage/homology/simplicial_complex.py
+++ b/src/sage/homology/simplicial_complex.py
@@ -816,21 +798,9 @@
          C = None
+         vertex_set = []
          if maximal_faces is None:
-             vertex_set = []
              maximal_faces = []
```
Without this change testing `src/sage/schemes/toric/divisor.py` will fail.



---

archive/issue_comments_266516.json:
```json
{
    "body": "<a id='comment:4'></a>Why don't you leave this `vertex_set = [] ` where it is and define `vertex_set=None` before, as it is the current default value ?\n\nNathann",
    "created_at": "2014-05-03T14:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266516",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>Why don't you leave this `vertex_set = [] ` where it is and define `vertex_set=None` before, as it is the current default value ?

Nathann



---

archive/issue_comments_266517.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 ncohen]:\n> Why don't you leave this `vertex_set = [] ` where it is and define `vertex_set=None` before, as it is the current default value ?\n> \n> Nathann\n\n\nI tried this, but it also failed.\nThe problematic line in `src/sage/schemes/toric/divisor.py` is\n\n```\nSimplicialComplex([c.ambient_ray_indices() for c in negative_cones])\n```\nThe passed list previously became `vertex_set` and now it becomes `maximal_faces`.\n\nSo maybe we should do\n\n```diff\n--- a/src/sage/homology/simplicial_complex.py\n+++ b/src/sage/homology/simplicial_complex.py\n@@ -816,21 +798,9 @@\n          C = None\n+         vertex_set = maximal_faces\n          if maximal_faces is None:\n              vertex_set = []\n              maximal_faces = []\n```\n\nWhat do you think?",
    "created_at": "2014-05-03T15:28:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266517",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:5'></a>Replying to [comment:4 ncohen]:
> Why don't you leave this `vertex_set = [] ` where it is and define `vertex_set=None` before, as it is the current default value ?
> 
> Nathann


I tried this, but it also failed.
The problematic line in `src/sage/schemes/toric/divisor.py` is

```
SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])
```
The passed list previously became `vertex_set` and now it becomes `maximal_faces`.

So maybe we should do

```diff
--- a/src/sage/homology/simplicial_complex.py
+++ b/src/sage/homology/simplicial_complex.py
@@ -816,21 +798,9 @@
          C = None
+         vertex_set = maximal_faces
          if maximal_faces is None:
              vertex_set = []
              maximal_faces = []
```

What do you think?



---

archive/issue_comments_266518.json:
```json
{
    "body": "<a id='comment:6'></a>> What do you think?\n\n\nI don't understand.... If there is a function which defined this parameter then it raised a deprecation warning, didn't it ? `O_o`\n\nNathann",
    "created_at": "2014-05-03T15:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266518",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'></a>> What do you think?


I don't understand.... If there is a function which defined this parameter then it raised a deprecation warning, didn't it ? `O_o`

Nathann



---

archive/issue_comments_266519.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 ncohen]:\n> > What do you think?\n\n> \n> I don't understand.... If there is a function which defined this parameter then it raised a deprecation warning, didn't it ? `O_o`\n\n\nThe deprecation warning was only raised if `vertex_set` and `maximal_faces` were defined, which was not the case in\n`SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])`.",
    "created_at": "2014-05-03T15:53:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266519",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:7'></a>Replying to [comment:6 ncohen]:
> > What do you think?

> 
> I don't understand.... If there is a function which defined this parameter then it raised a deprecation warning, didn't it ? `O_o`


The deprecation warning was only raised if `vertex_set` and `maximal_faces` were defined, which was not the case in
`SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])`.



---

archive/issue_comments_266520.json:
```json
{
    "body": "<a id='comment:8'></a>Oh. Then can't you just do the replacement above, and fix the broken doctest by replacing \n\n```\nSimplicialComplex([c.ambient_ray_indices() for c in negative_cones])\n```\n\nBy\n\n```\nSimplicialComplex(maximal_faces=[c.ambient_ray_indices() for c in negative_cones])\n```\n\nNathann",
    "created_at": "2014-05-03T15:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266520",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>Oh. Then can't you just do the replacement above, and fix the broken doctest by replacing 

```
SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])
```

By

```
SimplicialComplex(maximal_faces=[c.ambient_ray_indices() for c in negative_cones])
```

Nathann



---

archive/issue_comments_266521.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 ncohen]:\n> Oh. Then can't you just do the replacement above, and fix the broken doctest by replacing \n> \n> \n> ```\n> SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])\n> ```\n> \n> By\n> \n> \n> ```\n> SimplicialComplex(maximal_faces=[c.ambient_ray_indices() for c in negative_cones])\n> ```\n> \n\n\nAdding `maximal_faces=` won't change anything because it's (beside `**kwds`) the only remaining parameter passed to `__init__()` after applying this patch.",
    "created_at": "2014-05-03T16:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266521",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:9'></a>Replying to [comment:8 ncohen]:
> Oh. Then can't you just do the replacement above, and fix the broken doctest by replacing 
> 
> 
> ```
> SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])
> ```
> 
> By
> 
> 
> ```
> SimplicialComplex(maximal_faces=[c.ambient_ray_indices() for c in negative_cones])
> ```
> 


Adding `maximal_faces=` won't change anything because it's (beside `**kwds`) the only remaining parameter passed to `__init__()` after applying this patch.



---

archive/issue_comments_266522.json:
```json
{
    "body": "<a id='comment:10'></a>Oh right, sorry. Then I guess this cannot be solved without understanding the meaning of the command. The only way out is to get in touch with somebody who understands what this is about.\n\nNathann",
    "created_at": "2014-05-03T16:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266522",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>Oh right, sorry. Then I guess this cannot be solved without understanding the meaning of the command. The only way out is to get in touch with somebody who understands what this is about.

Nathann



---

archive/issue_comments_266523.json:
```json
{
    "body": "<a id='comment:11'></a>FTR, this is on my todo list. I will try to get to this tonight or tomorrow.",
    "created_at": "2014-05-05T22:01:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266523",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>FTR, this is on my todo list. I will try to get to this tonight or tomorrow.



---

archive/issue_comments_266524.json:
```json
{
    "body": "<a id='comment:12'></a>I think this is what should've been done in the first place (either that or it needs to be put in its original place and in the big block with the `reduce`).",
    "created_at": "2014-05-06T05:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266524",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>I think this is what should've been done in the first place (either that or it needs to be put in its original place and in the big block with the `reduce`).



---

archive/issue_events_048004.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16284#event-48004"
}
```



---

archive/issue_comments_266525.json:
```json
{
    "body": "<a id='comment:14'></a>Is this a positive review?",
    "created_at": "2014-05-07T21:21:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266525",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>Is this a positive review?



---

archive/issue_comments_266526.json:
```json
{
    "body": "<a id='comment:15'></a>I didn't get your earlier comment : do you think that this branch correctly deals with the code around `vertex_set` ? If so, then it is a positive review from the both of us `:-)`\n\nNathann",
    "created_at": "2014-05-08T09:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266526",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>I didn't get your earlier comment : do you think that this branch correctly deals with the code around `vertex_set` ? If so, then it is a positive review from the both of us `:-)`

Nathann



---

archive/issue_comments_266527.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-08T15:27:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266527",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_266528.json:
```json
{
    "body": "<a id='comment:16'></a>Yes.",
    "created_at": "2014-05-08T15:27:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266528",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>Yes.



---

archive/issue_comments_266529.json:
```json
{
    "body": "Changing work_issues from \"\" to \"merge latest beta\"",
    "created_at": "2014-05-12T09:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266529",
    "user": "https://github.com/vbraun"
}
```

Changing work_issues from "" to "merge latest beta"



---

archive/issue_comments_266530.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-05-12T09:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266530",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_266531.json:
```json
{
    "body": "<a id='comment:17'></a>Merge conflict, please fix",
    "created_at": "2014-05-12T09:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266531",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:17'></a>Merge conflict, please fix



---

archive/issue_comments_266532.json:
```json
{
    "body": "Changing commit from \"1fcbcacf0ac3ae2bc367e53a09fbf07e6af91236\" to \"05c583bffdfe7bcc1c1e9470828d451ffa8f9a43\"",
    "created_at": "2014-05-12T15:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266532",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1fcbcacf0ac3ae2bc367e53a09fbf07e6af91236" to "05c583bffdfe7bcc1c1e9470828d451ffa8f9a43"



---

archive/issue_comments_266533.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-12T15:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266533",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_266534.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-12T16:00:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266534",
    "user": "https://github.com/a-andre"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_266535.json:
```json
{
    "body": "Changing work_issues from \"merge latest beta\" to \"\"",
    "created_at": "2014-05-12T16:00:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266535",
    "user": "https://github.com/a-andre"
}
```

Changing work_issues from "merge latest beta" to ""



---

archive/issue_comments_266536.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-12T22:21:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266536",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_266537.json:
```json
{
    "body": "Changing reviewer from \"Nathann Cohen\" to \"Nathann Cohen, Travis Scrimshaw\"",
    "created_at": "2014-05-13T07:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266537",
    "user": "https://github.com/nathanncohen"
}
```

Changing reviewer from "Nathann Cohen" to "Nathann Cohen, Travis Scrimshaw"



---

archive/issue_events_048005.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-13T08:42:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16284#event-48005"
}
```



---

archive/issue_comments_266538.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-13T08:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266538",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_266539.json:
```json
{
    "body": "Changing branch from \"u/aapitzsch/ticket/16284\" to \"05c583bffdfe7bcc1c1e9470828d451ffa8f9a43\"",
    "created_at": "2014-05-13T08:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16284#issuecomment-266539",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/aapitzsch/ticket/16284" to "05c583bffdfe7bcc1c1e9470828d451ffa8f9a43"
