# Issue 16032: Bug in IncidenceStructure.dual_design

archive/issues_015795.json:
```json
{
    "assignees": [],
    "body": "As the title says.\n\nWith some other improvements.\n\nThe original code seems to have been written by a mathematician.\n\nNathann\n\nCC:  @dimpase\n\nBranch/Commit: **[`f6da4b7`](https://github.com/sagemath/sagetrac-mirror/commit/f6da4b77b3c0067eaab3b411720998e9c9cf07c4)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Nathann Cohen**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16032_\n\n",
    "closed_at": "2014-03-31T21:12:31Z",
    "created_at": "2014-03-30T20:54:44Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Bug in IncidenceStructure.dual_design",
    "type": "issue",
    "updated_at": "2014-03-31T21:12:31Z",
    "url": "https://github.com/sagemath/sage/issues/16032",
    "user": "https://github.com/nathanncohen"
}
```
As the title says.

With some other improvements.

The original code seems to have been written by a mathematician.

Nathann

CC:  @dimpase

Branch/Commit: **[`f6da4b7`](https://github.com/sagemath/sagetrac-mirror/commit/f6da4b77b3c0067eaab3b411720998e9c9cf07c4)**

Reviewer: **Dima Pasechnik**

Author: **Nathann Cohen**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/16032_





---

archive/issue_events_226727.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-03-30T20:54:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226727"
}
```



---

archive/issue_events_226728.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-03-30T20:54:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226728"
}
```



---

archive/issue_events_226729.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-03-30T20:54:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226729"
}
```



---

archive/issue_events_226730.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-03-30T20:54:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226730"
}
```



---

archive/issue_comments_203968.json:
```json
{
    "body": "Branch: **[u/ncohen/16032](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16032)**",
    "created_at": "2014-03-30T20:55:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203968",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[u/ncohen/16032](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16032)**



---

archive/issue_events_226731.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-03-30T20:55:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226731"
}
```



---

archive/issue_comments_203969.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fed439e930439205b79831251e528bfc6065ffec\"><code>fed439e</code></a></td><td><code>trac #16032: Bug in IncidenceStructure.dual_design</code></td></tr></table>\n",
    "created_at": "2014-03-30T20:57:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203969",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fed439e930439205b79831251e528bfc6065ffec"><code>fed439e</code></a></td><td><code>trac #16032: Bug in IncidenceStructure.dual_design</code></td></tr></table>




---

archive/issue_comments_203970.json:
```json
{
    "body": "Commit: **[`fed439e`](https://github.com/sagemath/sagetrac-mirror/commit/fed439e930439205b79831251e528bfc6065ffec)**",
    "created_at": "2014-03-30T20:57:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203970",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`fed439e`](https://github.com/sagemath/sagetrac-mirror/commit/fed439e930439205b79831251e528bfc6065ffec)**



---

archive/issue_comments_203971.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nWhat is the bug in question?",
    "created_at": "2014-03-30T22:05:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203971",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:3" align="right">comment:3</div>

What is the bug in question?



---

archive/issue_events_226732.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-03-30T22:47:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226732"
}
```



---

archive/issue_events_226733.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-03-30T22:47:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226733"
}
```



---

archive/issue_comments_203972.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nthere is a bug in the optional test: the line 422 in `incidence_structures.py` should be\n\n```\nsage: PP = designs.ProjectiveGeometryDesign(2,1,GF(4,'conway'), algorithm=\"gap\") # optional - gap_design\n```\nactually, it's weird that `ProjectivePlaneDesign` does not known about `algorithm=` at all.\nThis is a bug to be fixed, IMHO, perhaps on this ticket...\n\n---\n\nthe patch is:\n\n```\n--- a/src/sage/combinat/designs/incidence_structures.py\n+++ b/src/sage/combinat/designs/incidence_structures.py\n@@ -419,7 +419,7 @@ class IncidenceStructure(object):\n             sage: PP = designs.ProjectivePlaneDesign(4)\n             sage: PP.dual_design().is_block_design()\n             (True, [2, 21, 5, 1])\n-            sage: PP = designs.ProjectivePlaneDesign(4, algorithm=\"gap\") # optional - gap_design\n+            sage: PP = designs.ProjectiveGeometryDesign(2,1,GF(4,'conway'), algorithm=\"gap\") # optional - gap_design\n             sage: PP.dual_design().is_block_design()                     # optional - gap_design\n             (True, [2, 21, 5, 1])\n```\nwithout it, the test\n\n```\nsage -t --long --optional=sage,gap_design src/sage/combinat/designs/incidence_structures.py \n```\nfails.",
    "created_at": "2014-03-30T22:47:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203972",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">comment:4</div>

there is a bug in the optional test: the line 422 in `incidence_structures.py` should be

```
sage: PP = designs.ProjectiveGeometryDesign(2,1,GF(4,'conway'), algorithm="gap") # optional - gap_design
```
actually, it's weird that `ProjectivePlaneDesign` does not known about `algorithm=` at all.
This is a bug to be fixed, IMHO, perhaps on this ticket...

---

the patch is:

```
--- a/src/sage/combinat/designs/incidence_structures.py
+++ b/src/sage/combinat/designs/incidence_structures.py
@@ -419,7 +419,7 @@ class IncidenceStructure(object):
             sage: PP = designs.ProjectivePlaneDesign(4)
             sage: PP.dual_design().is_block_design()
             (True, [2, 21, 5, 1])
-            sage: PP = designs.ProjectivePlaneDesign(4, algorithm="gap") # optional - gap_design
+            sage: PP = designs.ProjectiveGeometryDesign(2,1,GF(4,'conway'), algorithm="gap") # optional - gap_design
             sage: PP.dual_design().is_block_design()                     # optional - gap_design
             (True, [2, 21, 5, 1])
```
without it, the test

```
sage -t --long --optional=sage,gap_design src/sage/combinat/designs/incidence_structures.py 
```
fails.



---

archive/issue_comments_203973.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nYoooooooo !\n\n> there is a bug in the optional test: the line 422 in `incidence_structures.py` should be\n> \n> ```\n> sage: PP = designs.ProjectiveGeometryDesign(2,1,GF(4,'conway'), algorithm=\"gap\") # optional - gap_design\n> ```\n\nNononono, I meant this \"algorithm=gap\" to be an argument of the function I tests, i.e. `dual_design`.\n\nAnd I rename this `gap_design` (which is not even the name of a spkg) to `gap_packages`.\n\n> actually, it's weird that `ProjectivePlaneDesign` does not known about `algorithm=` at all.\n> This is a bug to be fixed, IMHO, perhaps on this ticket...\n\nThe standard of the bugs I fix is MUCH higher than the bugs that are not fixed in combinat, really. If THIS is a bug their code should not even be allowed to run `:-P`\n\n> without it, the test\n> \n> ```\n> sage -t --long --optional=sage,gap_design src/sage/combinat/designs/incidence_structures.py \n> ```\n> fails.\n\nWell, as I said above the \"algorithm=gap\" was intended for the `dual_block` method. I don't see why we would call gap to compute a dual, but anyway `:-P`\n\nAaaaaaaaaaaaaand I added this `algorithm` argument in `ProjectivePlane` too.\n\nNathann",
    "created_at": "2014-03-31T07:58:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203973",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">comment:5</div>

Yoooooooo !

> there is a bug in the optional test: the line 422 in `incidence_structures.py` should be
> 
> ```
> sage: PP = designs.ProjectiveGeometryDesign(2,1,GF(4,'conway'), algorithm="gap") # optional - gap_design
> ```

Nononono, I meant this "algorithm=gap" to be an argument of the function I tests, i.e. `dual_design`.

And I rename this `gap_design` (which is not even the name of a spkg) to `gap_packages`.

> actually, it's weird that `ProjectivePlaneDesign` does not known about `algorithm=` at all.
> This is a bug to be fixed, IMHO, perhaps on this ticket...

The standard of the bugs I fix is MUCH higher than the bugs that are not fixed in combinat, really. If THIS is a bug their code should not even be allowed to run `:-P`

> without it, the test
> 
> ```
> sage -t --long --optional=sage,gap_design src/sage/combinat/designs/incidence_structures.py 
> ```
> fails.

Well, as I said above the "algorithm=gap" was intended for the `dual_block` method. I don't see why we would call gap to compute a dual, but anyway `:-P`

Aaaaaaaaaaaaaand I added this `algorithm` argument in `ProjectivePlane` too.

Nathann



---

archive/issue_events_226734.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-03-31T07:58:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226734"
}
```



---

archive/issue_events_226735.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-03-31T07:58:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226735"
}
```



---

archive/issue_comments_203974.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f82b15d762f97b65ab38e6d1f79af210c9b8a7e3\"><code>f82b15d</code></a></td><td><code>trac #16032: reviewer's remarks</code></td></tr></table>\n",
    "created_at": "2014-03-31T07:59:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203974",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f82b15d762f97b65ab38e6d1f79af210c9b8a7e3"><code>f82b15d</code></a></td><td><code>trac #16032: reviewer's remarks</code></td></tr></table>




---

archive/issue_comments_203975.json:
```json
{
    "body": "Changed commit from **[`fed439e`](https://github.com/sagemath/sagetrac-mirror/commit/fed439e930439205b79831251e528bfc6065ffec)** to **[`f82b15d`](https://github.com/sagemath/sagetrac-mirror/commit/f82b15d762f97b65ab38e6d1f79af210c9b8a7e3)**",
    "created_at": "2014-03-31T07:59:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203975",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fed439e`](https://github.com/sagemath/sagetrac-mirror/commit/fed439e930439205b79831251e528bfc6065ffec)** to **[`f82b15d`](https://github.com/sagemath/sagetrac-mirror/commit/f82b15d762f97b65ab38e6d1f79af210c9b8a7e3)**



---

archive/issue_events_226736.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-03-31T08:53:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226736"
}
```



---

archive/issue_events_226737.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-03-31T08:53:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226737"
}
```



---

archive/issue_comments_203976.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nOK!",
    "created_at": "2014-03-31T08:53:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203976",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

OK!



---

archive/issue_comments_203977.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2014-03-31T08:53:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203977",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_203978.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nYou don't mind my removing this \"if\", do you ? `:-PPPPP`\n\nNathann",
    "created_at": "2014-03-31T12:33:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203978",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:8" align="right">comment:8</div>

You don't mind my removing this "if", do you ? `:-PPPPP`

Nathann



---

archive/issue_comments_203979.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dcff95e93b99377e996ab4ed37b6eaf78944e37\"><code>7dcff95</code></a></td><td><code>trac 16032: This can be simplified... :-P</code></td></tr></table>\n",
    "created_at": "2014-03-31T12:33:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203979",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dcff95e93b99377e996ab4ed37b6eaf78944e37"><code>7dcff95</code></a></td><td><code>trac 16032: This can be simplified... :-P</code></td></tr></table>




---

archive/issue_events_226738.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-03-31T12:33:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226738"
}
```



---

archive/issue_events_226739.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2014-03-31T12:33:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226739"
}
```



---

archive/issue_comments_203980.json:
```json
{
    "body": "Changed commit from **[`f82b15d`](https://github.com/sagemath/sagetrac-mirror/commit/f82b15d762f97b65ab38e6d1f79af210c9b8a7e3)** to **[`7dcff95`](https://github.com/sagemath/sagetrac-mirror/commit/7dcff95e93b99377e996ab4ed37b6eaf78944e37)**",
    "created_at": "2014-03-31T12:33:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203980",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f82b15d`](https://github.com/sagemath/sagetrac-mirror/commit/f82b15d762f97b65ab38e6d1f79af210c9b8a7e3)** to **[`7dcff95`](https://github.com/sagemath/sagetrac-mirror/commit/7dcff95e93b99377e996ab4ed37b6eaf78944e37)**



---

archive/issue_comments_203981.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nshouldn't these matrices be created sparse?",
    "created_at": "2014-03-31T12:39:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203981",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

shouldn't these matrices be created sparse?



---

archive/issue_comments_203982.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAhahaha. Yes of course. Do I change that ?\n\nThis code is awful, I am already happy to see those two \"for\" reverted in order to avoid a useless test. Mathematicians should not write code, all they care about is whether the code can be read like a mathematical proof, and efficiency can go to hell.\n\nNathann",
    "created_at": "2014-03-31T12:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203982",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:11" align="right">comment:11</div>

Ahahaha. Yes of course. Do I change that ?

This code is awful, I am already happy to see those two "for" reverted in order to avoid a useless test. Mathematicians should not write code, all they care about is whether the code can be read like a mathematical proof, and efficiency can go to hell.

Nathann



---

archive/issue_comments_203983.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@nathanncohen](#comment%3A11):\n> Ahahaha. Yes of course. Do I change that ?\n\nyes please...\n\n> \n> This code is awful, I am already happy to see those two \"for\" reverted in order to avoid a useless test. Mathematicians should not write code, all they care about is whether the code can be read like a mathematical proof, and efficiency can go to hell.\n\nthey can be taught to write good code, IMHO :)",
    "created_at": "2014-03-31T12:43:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203983",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@nathanncohen](#comment%3A11):
> Ahahaha. Yes of course. Do I change that ?

yes please...

> 
> This code is awful, I am already happy to see those two "for" reverted in order to avoid a useless test. Mathematicians should not write code, all they care about is whether the code can be read like a mathematical proof, and efficiency can go to hell.

they can be taught to write good code, IMHO :)



---

archive/issue_comments_203984.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nYooooooo !\n\n> yes please...\n\nDone !\n\n> they can be taught to write good code, IMHO :)\n\nProbably. But most of your efforts will be wasted, and in the meantime you have to re-do the work when they turn their back.\n\nNathann",
    "created_at": "2014-03-31T12:50:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203984",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:13" align="right">comment:13</div>

Yooooooo !

> yes please...

Done !

> they can be taught to write good code, IMHO :)

Probably. But most of your efforts will be wasted, and in the meantime you have to re-do the work when they turn their back.

Nathann



---

archive/issue_comments_203985.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6da4b77b3c0067eaab3b411720998e9c9cf07c4\"><code>f6da4b7</code></a></td><td><code>trac #16032: These matrices should be sparse</code></td></tr></table>\n",
    "created_at": "2014-03-31T12:50:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203985",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6da4b77b3c0067eaab3b411720998e9c9cf07c4"><code>f6da4b7</code></a></td><td><code>trac #16032: These matrices should be sparse</code></td></tr></table>




---

archive/issue_comments_203986.json:
```json
{
    "body": "Changed commit from **[`7dcff95`](https://github.com/sagemath/sagetrac-mirror/commit/7dcff95e93b99377e996ab4ed37b6eaf78944e37)** to **[`f6da4b7`](https://github.com/sagemath/sagetrac-mirror/commit/f6da4b77b3c0067eaab3b411720998e9c9cf07c4)**",
    "created_at": "2014-03-31T12:50:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203986",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7dcff95`](https://github.com/sagemath/sagetrac-mirror/commit/7dcff95e93b99377e996ab4ed37b6eaf78944e37)** to **[`f6da4b7`](https://github.com/sagemath/sagetrac-mirror/commit/f6da4b77b3c0067eaab3b411720998e9c9cf07c4)**



---

archive/issue_events_226740.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-03-31T13:58:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226740"
}
```



---

archive/issue_events_226741.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2014-03-31T13:58:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226741"
}
```



---

archive/issue_comments_203987.json:
```json
{
    "body": "Changed branch from **[u/ncohen/16032](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16032)** to **[`f6da4b7`](https://github.com/sagemath/sagetrac-mirror/commit/f6da4b77b3c0067eaab3b411720998e9c9cf07c4)**",
    "created_at": "2014-03-31T21:12:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16032#issuecomment-203987",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/ncohen/16032](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16032)** to **[`f6da4b7`](https://github.com/sagemath/sagetrac-mirror/commit/f6da4b77b3c0067eaab3b411720998e9c9cf07c4)**



---

archive/issue_events_226742.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-31T21:12:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226742"
}
```



---

archive/issue_events_226743.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d4d9b9973aef98d5d4c9c02af2952aa94b304118",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-03-31T21:12:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16032",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16032#event-226743"
}
```
