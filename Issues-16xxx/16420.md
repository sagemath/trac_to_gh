# Issue 16420: Addition to algebraic combinatorics tutorial on Young's lattice and RSK

archive/issues_016183.json:
```json
{
    "body": "This patch adds a new chapter to the algebraic combinatorics thematic tutorial on Young's lattice and RSK.\n\nCC:  @tscrim sage-combinat\n\nKeywords: algebraic combinatorics, RSK\n\nBranch/Commit: a82b52d524c31097c38c33b50ebdf6fe8698cdb6\n\nReviewer: Travis Scrimshaw, Nicolas M. Thiery\n\nAuthor: Anne Schilling\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16420\n\n",
    "closed_at": "2014-06-04T14:48:12Z",
    "created_at": "2014-06-01T00:08:46Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Addition to algebraic combinatorics tutorial on Young's lattice and RSK",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16420",
    "user": "https://github.com/anneschilling"
}
```
This patch adds a new chapter to the algebraic combinatorics thematic tutorial on Young's lattice and RSK.

CC:  @tscrim sage-combinat

Keywords: algebraic combinatorics, RSK

Branch/Commit: a82b52d524c31097c38c33b50ebdf6fe8698cdb6

Reviewer: Travis Scrimshaw, Nicolas M. Thiery

Author: Anne Schilling

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16420





---

archive/issue_comments_211044.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-01T02:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16420#issuecomment-211044",
    "user": "https://github.com/anneschilling"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_211045.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2014-06-01T02:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16420#issuecomment-211045",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_211046.json:
```json
{
    "body": "<a id='comment:2'></a>I've made a few tweaks and expanded the exposition slightly. If you're happy with my changes, then you can set this to positive review.\n\n---\nNew commits:",
    "created_at": "2014-06-02T15:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16420#issuecomment-211046",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>I've made a few tweaks and expanded the exposition slightly. If you're happy with my changes, then you can set this to positive review.

---
New commits:



---

archive/issue_comments_211047.json:
```json
{
    "body": "<a id='comment:3'></a>Proofreading this now. I may have a couple changes, so please hold on :-)",
    "created_at": "2014-06-02T21:02:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16420#issuecomment-211047",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:3'></a>Proofreading this now. I may have a couple changes, so please hold on :-)



---

archive/issue_comments_211048.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-02T21:14:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16420#issuecomment-211048",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_211049.json:
```json
{
    "body": "<a id='comment:5'></a>Done; please review. You may further consider renaming `up_operator` to `U`, `up_operator_on_partition` to `U_on_basis` and similarly for down. Other than this, this looks good! Thanks!\n\n---\nNew commits:",
    "created_at": "2014-06-02T21:17:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16420#issuecomment-211049",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:5'></a>Done; please review. You may further consider renaming `up_operator` to `U`, `up_operator_on_partition` to `U_on_basis` and similarly for down. Other than this, this looks good! Thanks!

---
New commits:



---

archive/issue_comments_211050.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 nthiery]:\n> Done; please review. You may further consider renaming `up_operator` to `U`, `up_operator_on_partition` to `U_on_basis` and similarly for down. Other than this, this looks good! Thanks!\n\n\nHmm, thanks, but did you run the tests on your changes? They seem to have broken everything!",
    "created_at": "2014-06-02T21:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16420#issuecomment-211050",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:6'></a>Replying to [comment:5 nthiery]:
> Done; please review. You may further consider renaming `up_operator` to `U`, `up_operator_on_partition` to `U_on_basis` and similarly for down. Other than this, this looks good! Thanks!


Hmm, thanks, but did you run the tests on your changes? They seem to have broken everything!



---

archive/issue_comments_211051.json:
```json
{
    "body": "<a id='comment:7'></a>Well, with Nicolas' changes I get the following error messages:\n\n```\n\nsage -t rsk.rst\n**********************************************************************\nFile \"rsk.rst\", line 57, in doc.en.thematic_tutorials.algebraic_combinatorics.rsk\nFailed example:\n    U = QQY.module_morphism(U_on_basis)\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest doc.en.thematic_tutorials.algebraic_combinatorics.rsk[11]>\", line 1, in <module>\n        U = QQY.module_morphism(U_on_basis)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/modules_with_basis.py\", line 406, in module_morphism\n        return ModuleMorphismByLinearity(on_basis = on_basis, domain = self, **keywords)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/modules_with_basis.py\", line 1317, in __init__\n        raise ValueError(\"codomain(=%s) needs to have a base_ring attribute\"%(codomain))\n    ValueError: codomain(=None) needs to have a base_ring attribute\n**********************************************************************\nFile \"rsk.rst\", line 58, in doc.en.thematic_tutorials.algebraic_combinatorics.rsk\nFailed example:\n    D = QQY.module_morphism(D_on_basis)\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest doc.en.thematic_tutorials.algebraic_combinatorics.rsk[12]>\", line 1, in <module>\n        D = QQY.module_morphism(D_on_basis)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/modules_with_basis.py\", line 406, in module_morphism\n        return ModuleMorphismByLinearity(on_basis = on_basis, domain = self, **keywords)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/modules_with_basis.py\", line 1317, in __init__\n        raise ValueError(\"codomain(=%s) needs to have a base_ring attribute\"%(codomain))\n    ValueError: codomain(=None) needs to have a base_ring attribute\n**********************************************************************\nFile \"rsk.rst\", line 63, in doc.en.thematic_tutorials.algebraic_combinatorics.rsk\nFailed example:\n    for p in Partitions(3):\n        b = QQY(p)\n        assert D(U(b)) - U(D(b)) == b\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest doc.en.thematic_tutorials.algebraic_combinatorics.rsk[13]>\", line 3, in <module>\n        assert D(U(b)) - U(D(b)) == b\n    NameError: name 'D' is not defined\n**********************************************************************\nFile \"rsk.rst\", line 72, in doc.en.thematic_tutorials.algebraic_combinatorics.rsk\nFailed example:\n    for i in range(4):\n        u = U(u)\nException raised:\n    Traceback (most recent call last):\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest doc.en.thematic_tutorials.algebraic_combinatorics.rsk[15]>\", line 2, in <module>\n        u = U(u)\n    NameError: name 'U' is not defined\n**********************************************************************\nFile \"rsk.rst\", line 74, in doc.en.thematic_tutorials.algebraic_combinatorics.rsk\nFailed example:\n    u\nExpected:\n    B[[1, 1, 1, 1]] + 3*B[[2, 1, 1]] + 2*B[[2, 2]] + 3*B[[3, 1]] + B[[4]]\nGot:\n    B[[]]\n**********************************************************************\n1 item had failures:\n   5 of  30 in doc.en.thematic_tutorials.algebraic_combinatorics.rsk\n    [29 tests, 5 failures, 0.75 s]\n----------------------------------------------------------------------\nsage -t rsk.rst  # 5 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 0.9 seconds\n    cpu time: 0.6 seconds\n    cumulative wall time: 0.7 seconds\n```\nIf I change the morphism line to\n\n```\n    sage: U = QQY.module_morphism(U_on_basis, codomain = QQY)\n    sage: D = QQY.module_morphism(D_on_basis, codomain = QQY)\n```\nall tests pass. But that is weird since\n\n```\n\nsage: U_on_basis.codomain()\nFree module generated by {[], [1], [2], [1, 1], [3], [2, 1], [1, 1, 1], [4], [3, 1], [2, 2], [2, 1, 1], [1, 1, 1, 1], [5], [4, 1], [3, 2], [3, 1, 1], [2, 2, 1], [2, 1, 1, 1], [1, 1, 1, 1, 1]} over Rational Field\nsage: QQY\nFree module generated by {[], [1], [2], [1, 1], [3], [2, 1], [1, 1, 1], [4], [3, 1], [2, 2], [2, 1, 1], [1, 1, 1, 1], [5], [4, 1], [3, 2], [3, 1, 1], [2, 2, 1], [2, 1, 1, 1], [1, 1, 1, 1, 1]} over Rational Field\n```\nto which it is supposed to default.",
    "created_at": "2014-06-02T21:51:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16420#issuecomment-211051",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:7'></a>Well, with Nicolas' changes I get the following error messages:

```

sage -t rsk.rst
**********************************************************************
File "rsk.rst", line 57, in doc.en.thematic_tutorials.algebraic_combinatorics.rsk
Failed example:
    U = QQY.module_morphism(U_on_basis)
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest doc.en.thematic_tutorials.algebraic_combinatorics.rsk[11]>", line 1, in <module>
        U = QQY.module_morphism(U_on_basis)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/modules_with_basis.py", line 406, in module_morphism
        return ModuleMorphismByLinearity(on_basis = on_basis, domain = self, **keywords)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/modules_with_basis.py", line 1317, in __init__
        raise ValueError("codomain(=%s) needs to have a base_ring attribute"%(codomain))
    ValueError: codomain(=None) needs to have a base_ring attribute
**********************************************************************
File "rsk.rst", line 58, in doc.en.thematic_tutorials.algebraic_combinatorics.rsk
Failed example:
    D = QQY.module_morphism(D_on_basis)
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest doc.en.thematic_tutorials.algebraic_combinatorics.rsk[12]>", line 1, in <module>
        D = QQY.module_morphism(D_on_basis)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/modules_with_basis.py", line 406, in module_morphism
        return ModuleMorphismByLinearity(on_basis = on_basis, domain = self, **keywords)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/modules_with_basis.py", line 1317, in __init__
        raise ValueError("codomain(=%s) needs to have a base_ring attribute"%(codomain))
    ValueError: codomain(=None) needs to have a base_ring attribute
**********************************************************************
File "rsk.rst", line 63, in doc.en.thematic_tutorials.algebraic_combinatorics.rsk
Failed example:
    for p in Partitions(3):
        b = QQY(p)
        assert D(U(b)) - U(D(b)) == b
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest doc.en.thematic_tutorials.algebraic_combinatorics.rsk[13]>", line 3, in <module>
        assert D(U(b)) - U(D(b)) == b
    NameError: name 'D' is not defined
**********************************************************************
File "rsk.rst", line 72, in doc.en.thematic_tutorials.algebraic_combinatorics.rsk
Failed example:
    for i in range(4):
        u = U(u)
Exception raised:
    Traceback (most recent call last):
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest doc.en.thematic_tutorials.algebraic_combinatorics.rsk[15]>", line 2, in <module>
        u = U(u)
    NameError: name 'U' is not defined
**********************************************************************
File "rsk.rst", line 74, in doc.en.thematic_tutorials.algebraic_combinatorics.rsk
Failed example:
    u
Expected:
    B[[1, 1, 1, 1]] + 3*B[[2, 1, 1]] + 2*B[[2, 2]] + 3*B[[3, 1]] + B[[4]]
Got:
    B[[]]
**********************************************************************
1 item had failures:
   5 of  30 in doc.en.thematic_tutorials.algebraic_combinatorics.rsk
    [29 tests, 5 failures, 0.75 s]
----------------------------------------------------------------------
sage -t rsk.rst  # 5 doctests failed
----------------------------------------------------------------------
Total time for all tests: 0.9 seconds
    cpu time: 0.6 seconds
    cumulative wall time: 0.7 seconds
```
If I change the morphism line to

```
    sage: U = QQY.module_morphism(U_on_basis, codomain = QQY)
    sage: D = QQY.module_morphism(D_on_basis, codomain = QQY)
```
all tests pass. But that is weird since

```

sage: U_on_basis.codomain()
Free module generated by {[], [1], [2], [1, 1], [3], [2, 1], [1, 1, 1], [4], [3, 1], [2, 2], [2, 1, 1], [1, 1, 1, 1], [5], [4, 1], [3, 2], [3, 1, 1], [2, 2, 1], [2, 1, 1, 1], [1, 1, 1, 1, 1]} over Rational Field
sage: QQY
Free module generated by {[], [1], [2], [1, 1], [3], [2, 1], [1, 1, 1], [4], [3, 1], [2, 2], [2, 1, 1], [1, 1, 1, 1], [5], [4, 1], [3, 2], [3, 1, 1], [2, 2, 1], [2, 1, 1, 1], [1, 1, 1, 1, 1]} over Rational Field
```
to which it is supposed to default.



---

archive/issue_comments_211052.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-02T21:56:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16420#issuecomment-211052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_211053.json:
```json
{
    "body": "<a id='comment:9'></a>Ok, I figured out what the issue was. There was a :: missing in from of the definition of the operators on the basis, so it did not know what the codomain was. So now everything looks good! Thanks for the review.",
    "created_at": "2014-06-02T21:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16420#issuecomment-211053",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:9'></a>Ok, I figured out what the issue was. There was a :: missing in from of the definition of the operators on the basis, so it did not know what the codomain was. So now everything looks good! Thanks for the review.



---

archive/issue_comments_211054.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-06-02T21:57:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16420#issuecomment-211054",
    "user": "https://github.com/anneschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_211055.json:
```json
{
    "body": "<a id='comment:11'></a>Oops, I had checked the changed examples in Sage but indeed not run the test. Thanks for fixing!\n\nCheers,",
    "created_at": "2014-06-02T22:09:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16420#issuecomment-211055",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:11'></a>Oops, I had checked the changed examples in Sage but indeed not run the test. Thanks for fixing!

Cheers,



---

archive/issue_events_048321.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-04T14:48:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16420",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16420#event-48321"
}
```



---

archive/issue_comments_211056.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-06-04T14:48:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16420#issuecomment-211056",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
