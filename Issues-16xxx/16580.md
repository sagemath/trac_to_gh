# Issue 16580: FiniteStateMachine: cleanup code

archive/issues_016343.json:
```json
{
    "body": "#16067 introduced some changes into the finite state machine code by rewritting several instances of filter into list comprehensions. When re-reading the resulting code, I had the impression that the code can be simplified somewhat by combining it with the next lines (two occurrences). So I simplified these two occurrences.\n\nAnother occurrence touched very inefficient code in `_latex_` which was scheduled to be rewritten at some state anyway. So this is now done. Unfortunately, this changes the order of the transitions in the latex output, so the output in a few corresponding doctests had to be reordered, too.\n\nFurthermore, when #15990 rewrote the raise statement for Python 3 compatibility, one occurrence of the old syntax was re-introduced in a separate branch. Fixed this.\n\nFinally, added two doctests where I wanted to make sure that two methods work as promised.\n\nCC:  @dkrenn skropf\n\nKeywords: finite_state_machine\n\nBranch/Commit: 102be36393c29989a9c8a2346c1f087e5c03ad04\n\nReviewer: Daniel Krenn\n\nAuthor: Clemens Heuberger\n\nDependencies: #16557\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16580\n\n",
    "closed_at": "2014-07-31T00:44:26Z",
    "created_at": "2014-06-28T05:59:42Z",
    "labels": [
        "component: finite state machines",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "FiniteStateMachine: cleanup code",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16580",
    "user": "https://github.com/cheuberg"
}
```
#16067 introduced some changes into the finite state machine code by rewritting several instances of filter into list comprehensions. When re-reading the resulting code, I had the impression that the code can be simplified somewhat by combining it with the next lines (two occurrences). So I simplified these two occurrences.

Another occurrence touched very inefficient code in `_latex_` which was scheduled to be rewritten at some state anyway. So this is now done. Unfortunately, this changes the order of the transitions in the latex output, so the output in a few corresponding doctests had to be reordered, too.

Furthermore, when #15990 rewrote the raise statement for Python 3 compatibility, one occurrence of the old syntax was re-introduced in a separate branch. Fixed this.

Finally, added two doctests where I wanted to make sure that two methods work as promised.

CC:  @dkrenn skropf

Keywords: finite_state_machine

Branch/Commit: 102be36393c29989a9c8a2346c1f087e5c03ad04

Reviewer: Daniel Krenn

Author: Clemens Heuberger

Dependencies: #16557

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16580





---

archive/issue_comments_279019.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-28T05:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279019",
    "user": "https://github.com/cheuberg"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_279020.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Daniel Krenn\"",
    "created_at": "2014-07-19T17:49:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279020",
    "user": "https://github.com/dkrenn"
}
```

Changing reviewer from "" to "Daniel Krenn"



---

archive/issue_comments_279021.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-07-19T17:49:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279021",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_279022.json:
```json
{
    "body": "<a id='comment:2'></a>\nReviewed the patch...looks fine.",
    "created_at": "2014-07-19T17:49:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279022",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:2'></a>
Reviewed the patch...looks fine.



---

archive/issue_comments_279023.json:
```json
{
    "body": "<a id='comment:3'></a>\nFails on OSX:\n\n```\nsage -t --long src/sage/combinat/finite_state_machine.py\n**********************************************************************\nFile \"src/sage/combinat/finite_state_machine.py\", line 3318, in sage.combinat.finite_state_machine.FiniteStateMachine.?\nFailed example:\n    latex(T)\nExpected:\n    \\begin{tikzpicture}[auto, initial text=, >=latex]\n    \\node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\\mathcal{I}$};\n    \\node[state, accepting, accepting where=left] (v1) at (-6.000000, 3.000000) {$\\mathbf{0}$};\n    \\node[state, accepting, accepting where=45] (v2) at (6.000000, 3.000000) {$\\mathbf{3}$};\n    \\path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\\$ \\mid {\\scriptstyle w_{0} w_{0}}$} ++(45.00:10ex);\n    \\node[state] (v3) at (-2.000000, 3.000000) {$\\mathbf{1}$};\n    \\node[state] (v4) at (2.000000, 3.000000) {$\\mathbf{2}$};\n    \\path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{3}}$} (v2.201.57);\n    \\path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v2) edge[loop below] node {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{1}}$} (v3.298.69);\n    \\path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{-2}}$} (v0.51.31);\n    \\path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{0}}$} (v1.328.43);\n    \\path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{-3}}$} (v0.21.57);\n    \\path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{-1}}$} (v0.118.69);\n    \\path[->] (v0) edge[loop below] node {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{0}}$} (v0.148.43);\n    \\path[->] (v3) edge[loop above] node {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{2}}$} (v4.231.31);\n    \\end{tikzpicture}\nGot:\n    \\begin{tikzpicture}[auto, initial text=, >=latex]\n    \\node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\\mathcal{I}$};\n    \\node[state, accepting, accepting where=left] (v1) at (-6.000000, 3.000000) {$\\mathbf{0}$};\n    \\node[state, accepting, accepting where=45] (v2) at (6.000000, 3.000000) {$\\mathbf{3}$};\n    \\path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\\$ \\mid {\\scriptstyle w_{0} w_{0}}$} ++(45.00:10ex);\n    \\node[state] (v3) at (-2.000000, 3.000000) {$\\mathbf{1}$};\n    \\node[state] (v4) at (2.000000, 3.000000) {$\\mathbf{2}$};\n    \\path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{3}}$} (v2.201.57);\n    \\path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{2}}$} (v4.231.31);\n    \\path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{1}}$} (v3.298.69);\n    \\path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{-2}}$} (v0.51.31);\n    \\path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{0}}$} (v1.328.43);\n    \\path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{-3}}$} (v0.21.57);\n    \\path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{-1}}$} (v0.118.69);\n    \\path[->] (v0) edge[loop below] node {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{0}}$} (v0.148.43);\n    \\path[->] (v3) edge[loop above] node {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v2) edge[loop below] node {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\end{tikzpicture}\n**********************************************************************\nFile \"src/sage/combinat/finite_state_machine.py\", line 3352, in sage.combinat.finite_state_machine.FiniteStateMachine.?\nFailed example:\n    latex(T)\nExpected:\n    \\begin{tikzpicture}[auto, initial text=, >=latex, accepting text=, accepting/.style=accepting by arrow, accepting distance=10ex]\n    \\node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\\mathcal{I}$};\n    \\node[state] (v1) at (-6.000000, 3.000000) {$\\mathbf{0}$};\n    \\path[->] (v1.180.00) edge node[rotate=360.00, anchor=south] {$\\$ \\mid \\varepsilon$} ++(180.00:10ex);\n    \\node[state] (v2) at (6.000000, 3.000000) {$\\mathbf{3}$};\n    \\path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\\$ \\mid w_{0} w_{0}$} ++(45.00:10ex);\n    \\node[state] (v3) at (-2.000000, 3.000000) {$\\mathbf{1}$};\n    \\node[state] (v4) at (2.000000, 3.000000) {$\\mathbf{2}$};\n    \\path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {$w_{0}\\mid w_{0} w_{3}$} (v2.201.57);\n    \\path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v2) edge[loop below] node {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {$w_{0}\\mid w_{0} w_{1}$} (v3.298.69);\n    \\path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {$w_{0}\\mid w_{0} w_{-2}$} (v0.51.31);\n    \\path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {$w_{0}\\mid w_{0} w_{0}$} (v1.328.43);\n    \\path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {$w_{0}\\mid w_{0} w_{-3}$} (v0.21.57);\n    \\path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {$w_{0}\\mid w_{0} w_{-1}$} (v0.118.69);\n    \\path[->] (v0) edge[loop below] node {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {$w_{0}\\mid w_{0} w_{0}$} (v0.148.43);\n    \\path[->] (v3) edge[loop above] node {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {$w_{0}\\mid w_{0} w_{2}$} (v4.231.31);\n    \\end{tikzpicture}\nGot:\n    \\begin{tikzpicture}[auto, initial text=, >=latex, accepting text=, accepting/.style=accepting by arrow, accepting distance=10ex]\n    \\node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\\mathcal{I}$};\n    \\node[state] (v1) at (-6.000000, 3.000000) {$\\mathbf{0}$};\n    \\path[->] (v1.180.00) edge node[rotate=360.00, anchor=south] {$\\$ \\mid \\varepsilon$} ++(180.00:10ex);\n    \\node[state] (v2) at (6.000000, 3.000000) {$\\mathbf{3}$};\n    \\path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\\$ \\mid w_{0} w_{0}$} ++(45.00:10ex);\n    \\node[state] (v3) at (-2.000000, 3.000000) {$\\mathbf{1}$};\n    \\node[state] (v4) at (2.000000, 3.000000) {$\\mathbf{2}$};\n    \\path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {$w_{0}\\mid w_{0} w_{3}$} (v2.201.57);\n    \\path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {$w_{0}\\mid w_{0} w_{2}$} (v4.231.31);\n    \\path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {$w_{0}\\mid w_{0} w_{1}$} (v3.298.69);\n    \\path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {$w_{0}\\mid w_{0} w_{-2}$} (v0.51.31);\n    \\path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {$w_{0}\\mid w_{0} w_{0}$} (v1.328.43);\n    \\path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {$w_{0}\\mid w_{0} w_{-3}$} (v0.21.57);\n    \\path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {$w_{0}\\mid w_{0} w_{-1}$} (v0.118.69);\n    \\path[->] (v0) edge[loop below] node {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {$w_{0}\\mid w_{0} w_{0}$} (v0.148.43);\n    \\path[->] (v3) edge[loop above] node {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v2) edge[loop below] node {$w_{0}\\mid w_{0}$} ();\n    \\end{tikzpicture}\n**********************************************************************\n1 item had failures:\n   2 of 132 in sage.combinat.finite_state_machine.FiniteStateMachine.?\n    [1234 tests, 2 failures, 3.75 s]\n```",
    "created_at": "2014-07-20T03:22:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279023",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>
Fails on OSX:

```
sage -t --long src/sage/combinat/finite_state_machine.py
**********************************************************************
File "src/sage/combinat/finite_state_machine.py", line 3318, in sage.combinat.finite_state_machine.FiniteStateMachine.?
Failed example:
    latex(T)
Expected:
    \begin{tikzpicture}[auto, initial text=, >=latex]
    \node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\mathcal{I}$};
    \node[state, accepting, accepting where=left] (v1) at (-6.000000, 3.000000) {$\mathbf{0}$};
    \node[state, accepting, accepting where=45] (v2) at (6.000000, 3.000000) {$\mathbf{3}$};
    \path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\$ \mid {\scriptstyle w_{0} w_{0}}$} ++(45.00:10ex);
    \node[state] (v3) at (-2.000000, 3.000000) {$\mathbf{1}$};
    \node[state] (v4) at (2.000000, 3.000000) {$\mathbf{2}$};
    \path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{3}}$} (v2.201.57);
    \path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v2) edge[loop below] node {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{1}}$} (v3.298.69);
    \path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{-2}}$} (v0.51.31);
    \path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{0}}$} (v1.328.43);
    \path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{-3}}$} (v0.21.57);
    \path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{-1}}$} (v0.118.69);
    \path[->] (v0) edge[loop below] node {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{0}}$} (v0.148.43);
    \path[->] (v3) edge[loop above] node {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{2}}$} (v4.231.31);
    \end{tikzpicture}
Got:
    \begin{tikzpicture}[auto, initial text=, >=latex]
    \node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\mathcal{I}$};
    \node[state, accepting, accepting where=left] (v1) at (-6.000000, 3.000000) {$\mathbf{0}$};
    \node[state, accepting, accepting where=45] (v2) at (6.000000, 3.000000) {$\mathbf{3}$};
    \path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\$ \mid {\scriptstyle w_{0} w_{0}}$} ++(45.00:10ex);
    \node[state] (v3) at (-2.000000, 3.000000) {$\mathbf{1}$};
    \node[state] (v4) at (2.000000, 3.000000) {$\mathbf{2}$};
    \path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{3}}$} (v2.201.57);
    \path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{2}}$} (v4.231.31);
    \path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{1}}$} (v3.298.69);
    \path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{-2}}$} (v0.51.31);
    \path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{0}}$} (v1.328.43);
    \path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{-3}}$} (v0.21.57);
    \path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{-1}}$} (v0.118.69);
    \path[->] (v0) edge[loop below] node {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{0}}$} (v0.148.43);
    \path[->] (v3) edge[loop above] node {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v2) edge[loop below] node {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \end{tikzpicture}
**********************************************************************
File "src/sage/combinat/finite_state_machine.py", line 3352, in sage.combinat.finite_state_machine.FiniteStateMachine.?
Failed example:
    latex(T)
Expected:
    \begin{tikzpicture}[auto, initial text=, >=latex, accepting text=, accepting/.style=accepting by arrow, accepting distance=10ex]
    \node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\mathcal{I}$};
    \node[state] (v1) at (-6.000000, 3.000000) {$\mathbf{0}$};
    \path[->] (v1.180.00) edge node[rotate=360.00, anchor=south] {$\$ \mid \varepsilon$} ++(180.00:10ex);
    \node[state] (v2) at (6.000000, 3.000000) {$\mathbf{3}$};
    \path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\$ \mid w_{0} w_{0}$} ++(45.00:10ex);
    \node[state] (v3) at (-2.000000, 3.000000) {$\mathbf{1}$};
    \node[state] (v4) at (2.000000, 3.000000) {$\mathbf{2}$};
    \path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {$w_{0}\mid w_{0} w_{3}$} (v2.201.57);
    \path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {$w_{0}\mid w_{0}$} ();
    \path[->] (v2) edge[loop below] node {$w_{0}\mid w_{0}$} ();
    \path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {$w_{0}\mid w_{0} w_{1}$} (v3.298.69);
    \path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {$w_{0}\mid w_{0} w_{-2}$} (v0.51.31);
    \path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {$w_{0}\mid w_{0} w_{0}$} (v1.328.43);
    \path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {$w_{0}\mid w_{0} w_{-3}$} (v0.21.57);
    \path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {$w_{0}\mid w_{0} w_{-1}$} (v0.118.69);
    \path[->] (v0) edge[loop below] node {$w_{0}\mid w_{0}$} ();
    \path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {$w_{0}\mid w_{0}$} ();
    \path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {$w_{0}\mid w_{0} w_{0}$} (v0.148.43);
    \path[->] (v3) edge[loop above] node {$w_{0}\mid w_{0}$} ();
    \path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {$w_{0}\mid w_{0} w_{2}$} (v4.231.31);
    \end{tikzpicture}
Got:
    \begin{tikzpicture}[auto, initial text=, >=latex, accepting text=, accepting/.style=accepting by arrow, accepting distance=10ex]
    \node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\mathcal{I}$};
    \node[state] (v1) at (-6.000000, 3.000000) {$\mathbf{0}$};
    \path[->] (v1.180.00) edge node[rotate=360.00, anchor=south] {$\$ \mid \varepsilon$} ++(180.00:10ex);
    \node[state] (v2) at (6.000000, 3.000000) {$\mathbf{3}$};
    \path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\$ \mid w_{0} w_{0}$} ++(45.00:10ex);
    \node[state] (v3) at (-2.000000, 3.000000) {$\mathbf{1}$};
    \node[state] (v4) at (2.000000, 3.000000) {$\mathbf{2}$};
    \path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {$w_{0}\mid w_{0} w_{3}$} (v2.201.57);
    \path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {$w_{0}\mid w_{0}$} ();
    \path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {$w_{0}\mid w_{0} w_{2}$} (v4.231.31);
    \path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {$w_{0}\mid w_{0} w_{1}$} (v3.298.69);
    \path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {$w_{0}\mid w_{0} w_{-2}$} (v0.51.31);
    \path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {$w_{0}\mid w_{0} w_{0}$} (v1.328.43);
    \path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {$w_{0}\mid w_{0} w_{-3}$} (v0.21.57);
    \path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {$w_{0}\mid w_{0} w_{-1}$} (v0.118.69);
    \path[->] (v0) edge[loop below] node {$w_{0}\mid w_{0}$} ();
    \path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {$w_{0}\mid w_{0}$} ();
    \path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {$w_{0}\mid w_{0} w_{0}$} (v0.148.43);
    \path[->] (v3) edge[loop above] node {$w_{0}\mid w_{0}$} ();
    \path[->] (v2) edge[loop below] node {$w_{0}\mid w_{0}$} ();
    \end{tikzpicture}
**********************************************************************
1 item had failures:
   2 of 132 in sage.combinat.finite_state_machine.FiniteStateMachine.?
    [1234 tests, 2 failures, 3.75 s]
```



---

archive/issue_comments_279024.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-07-20T03:22:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279024",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_279025.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [vbraun](#comment%3A3):\n> Fails on OSX: [...]\n\n\nChecked again; works on my Debian. It seem that the output is correct, but the lines are permutated.",
    "created_at": "2014-07-20T07:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279025",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:5'></a>
Replying to [vbraun](#comment%3A3):
> Fails on OSX: [...]


Checked again; works on my Debian. It seem that the output is correct, but the lines are permutated.



---

archive/issue_comments_279026.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|\n|[4eef9c8](https://github.com/sagemath/sagetrac-mirror/commit/4eef9c8be87f02a8e100899a471cb1e6e5841a51)|`trac #16580: use OrderedDict instead of dict to have non-random output`|",
    "created_at": "2014-07-21T08:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279026",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
|[4eef9c8](https://github.com/sagemath/sagetrac-mirror/commit/4eef9c8be87f02a8e100899a471cb1e6e5841a51)|`trac #16580: use OrderedDict instead of dict to have non-random output`|



---

archive/issue_comments_279027.json:
```json
{
    "body": "Changing commit from \"fd618dcb88bf9771419caf8d86ce617b644e6e54\" to \"4eef9c8be87f02a8e100899a471cb1e6e5841a51\"",
    "created_at": "2014-07-21T08:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279027",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fd618dcb88bf9771419caf8d86ce617b644e6e54" to "4eef9c8be87f02a8e100899a471cb1e6e5841a51"



---

archive/issue_comments_279028.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-07-21T08:59:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279028",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_279029.json:
```json
{
    "body": "<a id='comment:7'></a>\nI now replaced a `dict` by an `OrderedDict` in order to avoid the problem that the order of the output seems to be architecture-dependent. The performance overhead should be bearable as we sort anyway to collect transitions between the same pairs of states.",
    "created_at": "2014-07-21T08:59:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279029",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:7'></a>
I now replaced a `dict` by an `OrderedDict` in order to avoid the problem that the order of the output seems to be architecture-dependent. The performance overhead should be bearable as we sort anyway to collect transitions between the same pairs of states.



---

archive/issue_comments_279030.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-07-21T09:35:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279030",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_279031.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-07-22T14:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279031",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_279032.json:
```json
{
    "body": "<a id='comment:9'></a>\nStill fails on osx\n\n```\nsage -t --long src/sage/combinat/finite_state_machine.py\n**********************************************************************\nFile \"src/sage/combinat/finite_state_machine.py\", line 3699, in sage.combinat.finite_state_machine.FiniteStateMachine.?\nFailed example:\n    latex(T)\nExpected:\n    \\begin{tikzpicture}[auto, initial text=, >=latex]\n    \\node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\\mathcal{I}$};\n    \\node[state, accepting, accepting where=left] (v1) at (-6.000000, 3.000000) {$\\mathbf{0}$};\n    \\node[state, accepting, accepting where=45] (v2) at (6.000000, 3.000000) {$\\mathbf{3}$};\n    \\path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\\$ \\mid {\\scriptstyle w_{0} w_{0}}$} ++(45.00:10ex);\n    \\node[state] (v3) at (-2.000000, 3.000000) {$\\mathbf{1}$};\n    \\node[state] (v4) at (2.000000, 3.000000) {$\\mathbf{2}$};\n    \\path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{0}}$} (v0.148.43);\n    \\path[->] (v3) edge[loop above] node {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{-1}}$} (v0.118.69);\n    \\path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{-2}}$} (v0.51.31);\n    \\path[->] (v2) edge[loop below] node {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{-3}}$} (v0.21.57);\n    \\path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{0}}$} (v1.328.43);\n    \\path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{1}}$} (v3.298.69);\n    \\path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{2}}$} (v4.231.31);\n    \\path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{3}}$} (v2.201.57);\n    \\path[->] (v0) edge[loop below] node {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\end{tikzpicture}\nGot:\n    \\begin{tikzpicture}[auto, initial text=, >=latex]\n    \\node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\\mathcal{I}$};\n    \\node[state, accepting, accepting where=left] (v1) at (-6.000000, 3.000000) {$\\mathbf{0}$};\n    \\node[state, accepting, accepting where=45] (v2) at (6.000000, 3.000000) {$\\mathbf{3}$};\n    \\path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\\$ \\mid {\\scriptstyle w_{0} w_{0}}$} ++(45.00:10ex);\n    \\node[state] (v3) at (-2.000000, 3.000000) {$\\mathbf{1}$};\n    \\node[state] (v4) at (2.000000, 3.000000) {$\\mathbf{2}$};\n    \\path[->] (v0) edge[loop below] node {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{0}}$} (v1.328.43);\n    \\path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{1}}$} (v3.298.69);\n    \\path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{2}}$} (v4.231.31);\n    \\path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{3}}$} (v2.201.57);\n    \\path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{0}}$} (v0.148.43);\n    \\path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{-1}}$} (v0.118.69);\n    \\path[->] (v3) edge[loop above] node {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{-2}}$} (v0.51.31);\n    \\path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0} w_{-3}}$} (v0.21.57);\n    \\path[->] (v2) edge[loop below] node {${\\scriptstyle w_{0}}\\mid {\\scriptstyle w_{0}}$} ();\n    \\end{tikzpicture}\n**********************************************************************\nFile \"src/sage/combinat/finite_state_machine.py\", line 3733, in sage.combinat.finite_state_machine.FiniteStateMachine.?\nFailed example:\n    latex(T)\nExpected:\n    \\begin{tikzpicture}[auto, initial text=, >=latex, accepting text=, accepting/.style=accepting by arrow, accepting distance=10ex]\n    \\node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\\mathcal{I}$};\n    \\node[state] (v1) at (-6.000000, 3.000000) {$\\mathbf{0}$};\n    \\path[->] (v1.180.00) edge node[rotate=360.00, anchor=south] {$\\$ \\mid \\varepsilon$} ++(180.00:10ex);\n    \\node[state] (v2) at (6.000000, 3.000000) {$\\mathbf{3}$};\n    \\path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\\$ \\mid w_{0} w_{0}$} ++(45.00:10ex);\n    \\node[state] (v3) at (-2.000000, 3.000000) {$\\mathbf{1}$};\n    \\node[state] (v4) at (2.000000, 3.000000) {$\\mathbf{2}$};\n    \\path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {$w_{0}\\mid w_{0} w_{0}$} (v0.148.43);\n    \\path[->] (v3) edge[loop above] node {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {$w_{0}\\mid w_{0} w_{-1}$} (v0.118.69);\n    \\path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {$w_{0}\\mid w_{0} w_{-2}$} (v0.51.31);\n    \\path[->] (v2) edge[loop below] node {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {$w_{0}\\mid w_{0} w_{-3}$} (v0.21.57);\n    \\path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {$w_{0}\\mid w_{0} w_{0}$} (v1.328.43);\n    \\path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {$w_{0}\\mid w_{0} w_{1}$} (v3.298.69);\n    \\path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {$w_{0}\\mid w_{0} w_{2}$} (v4.231.31);\n    \\path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {$w_{0}\\mid w_{0} w_{3}$} (v2.201.57);\n    \\path[->] (v0) edge[loop below] node {$w_{0}\\mid w_{0}$} ();\n    \\end{tikzpicture}\nGot:\n    \\begin{tikzpicture}[auto, initial text=, >=latex, accepting text=, accepting/.style=accepting by arrow, accepting distance=10ex]\n    \\node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\\mathcal{I}$};\n    \\node[state] (v1) at (-6.000000, 3.000000) {$\\mathbf{0}$};\n    \\path[->] (v1.180.00) edge node[rotate=360.00, anchor=south] {$\\$ \\mid \\varepsilon$} ++(180.00:10ex);\n    \\node[state] (v2) at (6.000000, 3.000000) {$\\mathbf{3}$};\n    \\path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\\$ \\mid w_{0} w_{0}$} ++(45.00:10ex);\n    \\node[state] (v3) at (-2.000000, 3.000000) {$\\mathbf{1}$};\n    \\node[state] (v4) at (2.000000, 3.000000) {$\\mathbf{2}$};\n    \\path[->] (v0) edge[loop below] node {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {$w_{0}\\mid w_{0} w_{0}$} (v1.328.43);\n    \\path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {$w_{0}\\mid w_{0} w_{1}$} (v3.298.69);\n    \\path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {$w_{0}\\mid w_{0} w_{2}$} (v4.231.31);\n    \\path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {$w_{0}\\mid w_{0} w_{3}$} (v2.201.57);\n    \\path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {$w_{0}\\mid w_{0} w_{0}$} (v0.148.43);\n    \\path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {$w_{0}\\mid w_{0} w_{-1}$} (v0.118.69);\n    \\path[->] (v3) edge[loop above] node {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {$w_{0}\\mid w_{0} w_{-2}$} (v0.51.31);\n    \\path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {$w_{0}\\mid w_{0}$} ();\n    \\path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {$w_{0}\\mid w_{0} w_{-3}$} (v0.21.57);\n    \\path[->] (v2) edge[loop below] node {$w_{0}\\mid w_{0}$} ();\n    \\end{tikzpicture}\n**********************************************************************\n1 item had failures:\n   2 of 132 in sage.combinat.finite_state_machine.FiniteStateMachine.?\n    [1249 tests, 2 failures, 3.23 s]\n```",
    "created_at": "2014-07-22T14:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279032",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:9'></a>
Still fails on osx

```
sage -t --long src/sage/combinat/finite_state_machine.py
**********************************************************************
File "src/sage/combinat/finite_state_machine.py", line 3699, in sage.combinat.finite_state_machine.FiniteStateMachine.?
Failed example:
    latex(T)
Expected:
    \begin{tikzpicture}[auto, initial text=, >=latex]
    \node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\mathcal{I}$};
    \node[state, accepting, accepting where=left] (v1) at (-6.000000, 3.000000) {$\mathbf{0}$};
    \node[state, accepting, accepting where=45] (v2) at (6.000000, 3.000000) {$\mathbf{3}$};
    \path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\$ \mid {\scriptstyle w_{0} w_{0}}$} ++(45.00:10ex);
    \node[state] (v3) at (-2.000000, 3.000000) {$\mathbf{1}$};
    \node[state] (v4) at (2.000000, 3.000000) {$\mathbf{2}$};
    \path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{0}}$} (v0.148.43);
    \path[->] (v3) edge[loop above] node {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{-1}}$} (v0.118.69);
    \path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{-2}}$} (v0.51.31);
    \path[->] (v2) edge[loop below] node {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{-3}}$} (v0.21.57);
    \path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{0}}$} (v1.328.43);
    \path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{1}}$} (v3.298.69);
    \path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{2}}$} (v4.231.31);
    \path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{3}}$} (v2.201.57);
    \path[->] (v0) edge[loop below] node {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \end{tikzpicture}
Got:
    \begin{tikzpicture}[auto, initial text=, >=latex]
    \node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\mathcal{I}$};
    \node[state, accepting, accepting where=left] (v1) at (-6.000000, 3.000000) {$\mathbf{0}$};
    \node[state, accepting, accepting where=45] (v2) at (6.000000, 3.000000) {$\mathbf{3}$};
    \path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\$ \mid {\scriptstyle w_{0} w_{0}}$} ++(45.00:10ex);
    \node[state] (v3) at (-2.000000, 3.000000) {$\mathbf{1}$};
    \node[state] (v4) at (2.000000, 3.000000) {$\mathbf{2}$};
    \path[->] (v0) edge[loop below] node {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{0}}$} (v1.328.43);
    \path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{1}}$} (v3.298.69);
    \path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{2}}$} (v4.231.31);
    \path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{3}}$} (v2.201.57);
    \path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{0}}$} (v0.148.43);
    \path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{-1}}$} (v0.118.69);
    \path[->] (v3) edge[loop above] node {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{-2}}$} (v0.51.31);
    \path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0} w_{-3}}$} (v0.21.57);
    \path[->] (v2) edge[loop below] node {${\scriptstyle w_{0}}\mid {\scriptstyle w_{0}}$} ();
    \end{tikzpicture}
**********************************************************************
File "src/sage/combinat/finite_state_machine.py", line 3733, in sage.combinat.finite_state_machine.FiniteStateMachine.?
Failed example:
    latex(T)
Expected:
    \begin{tikzpicture}[auto, initial text=, >=latex, accepting text=, accepting/.style=accepting by arrow, accepting distance=10ex]
    \node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\mathcal{I}$};
    \node[state] (v1) at (-6.000000, 3.000000) {$\mathbf{0}$};
    \path[->] (v1.180.00) edge node[rotate=360.00, anchor=south] {$\$ \mid \varepsilon$} ++(180.00:10ex);
    \node[state] (v2) at (6.000000, 3.000000) {$\mathbf{3}$};
    \path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\$ \mid w_{0} w_{0}$} ++(45.00:10ex);
    \node[state] (v3) at (-2.000000, 3.000000) {$\mathbf{1}$};
    \node[state] (v4) at (2.000000, 3.000000) {$\mathbf{2}$};
    \path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {$w_{0}\mid w_{0}$} ();
    \path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {$w_{0}\mid w_{0} w_{0}$} (v0.148.43);
    \path[->] (v3) edge[loop above] node {$w_{0}\mid w_{0}$} ();
    \path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {$w_{0}\mid w_{0} w_{-1}$} (v0.118.69);
    \path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {$w_{0}\mid w_{0}$} ();
    \path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {$w_{0}\mid w_{0} w_{-2}$} (v0.51.31);
    \path[->] (v2) edge[loop below] node {$w_{0}\mid w_{0}$} ();
    \path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {$w_{0}\mid w_{0} w_{-3}$} (v0.21.57);
    \path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {$w_{0}\mid w_{0} w_{0}$} (v1.328.43);
    \path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {$w_{0}\mid w_{0} w_{1}$} (v3.298.69);
    \path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {$w_{0}\mid w_{0} w_{2}$} (v4.231.31);
    \path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {$w_{0}\mid w_{0} w_{3}$} (v2.201.57);
    \path[->] (v0) edge[loop below] node {$w_{0}\mid w_{0}$} ();
    \end{tikzpicture}
Got:
    \begin{tikzpicture}[auto, initial text=, >=latex, accepting text=, accepting/.style=accepting by arrow, accepting distance=10ex]
    \node[state, initial, initial where=above] (v0) at (0.000000, 0.000000) {$\mathcal{I}$};
    \node[state] (v1) at (-6.000000, 3.000000) {$\mathbf{0}$};
    \path[->] (v1.180.00) edge node[rotate=360.00, anchor=south] {$\$ \mid \varepsilon$} ++(180.00:10ex);
    \node[state] (v2) at (6.000000, 3.000000) {$\mathbf{3}$};
    \path[->] (v2.45.00) edge node[rotate=45.00, anchor=south] {$\$ \mid w_{0} w_{0}$} ++(45.00:10ex);
    \node[state] (v3) at (-2.000000, 3.000000) {$\mathbf{1}$};
    \node[state] (v4) at (2.000000, 3.000000) {$\mathbf{2}$};
    \path[->] (v0) edge[loop below] node {$w_{0}\mid w_{0}$} ();
    \path[->] (v0.158.43) edge node[rotate=333.43, anchor=north] {$w_{0}\mid w_{0} w_{0}$} (v1.328.43);
    \path[->] (v0.128.69) edge node[rotate=303.69, anchor=north] {$w_{0}\mid w_{0} w_{1}$} (v3.298.69);
    \path[->] (v0.61.31) edge node[rotate=56.31, anchor=south] {$w_{0}\mid w_{0} w_{2}$} (v4.231.31);
    \path[->] (v0.31.57) edge node[rotate=26.57, anchor=south] {$w_{0}\mid w_{0} w_{3}$} (v2.201.57);
    \path[->] (v1.-21.57) edge node[rotate=-26.57, anchor=south] {$w_{0}\mid w_{0} w_{0}$} (v0.148.43);
    \path[->] (v1) edge[loop left] node[rotate=90, anchor=south] {$w_{0}\mid w_{0}$} ();
    \path[->] (v3.-51.31) edge node[rotate=-56.31, anchor=south] {$w_{0}\mid w_{0} w_{-1}$} (v0.118.69);
    \path[->] (v3) edge[loop above] node {$w_{0}\mid w_{0}$} ();
    \path[->] (v4.-118.69) edge node[rotate=56.31, anchor=north] {$w_{0}\mid w_{0} w_{-2}$} (v0.51.31);
    \path[->] (v4) edge[loop right] node[rotate=90, anchor=north] {$w_{0}\mid w_{0}$} ();
    \path[->] (v2.-148.43) edge node[rotate=26.57, anchor=north] {$w_{0}\mid w_{0} w_{-3}$} (v0.21.57);
    \path[->] (v2) edge[loop below] node {$w_{0}\mid w_{0}$} ();
    \end{tikzpicture}
**********************************************************************
1 item had failures:
   2 of 132 in sage.combinat.finite_state_machine.FiniteStateMachine.?
    [1249 tests, 2 failures, 3.23 s]
```



---

archive/issue_comments_279033.json:
```json
{
    "body": "<a id='comment:10'></a>\nThere seems to be a problem that 0<'I' does not always give the same answer; see\nhttps://groups.google.com/d/topic/sage-devel/zzVpd5yZ_Rw/discussion .",
    "created_at": "2014-07-22T17:00:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279033",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:10'></a>
There seems to be a problem that 0<'I' does not always give the same answer; see
https://groups.google.com/d/topic/sage-devel/zzVpd5yZ_Rw/discussion .



---

archive/issue_comments_279034.json:
```json
{
    "body": "<a id='comment:11'></a>\nWouldn't a doctest template like this:\n\n```\n    \\begin{tikzpicture}[auto, initial text=, >=latex, accepting text=, accepting/.style=accepting by arrow, accepting distance=10ex]\n...\n    \\node[state] (v1) at (-6.000000, 3.000000) {$\\mathbf{0}$};\n    \\path[->] (v1.180.00) edge node[rotate=360.00, anchor=south] {$\\$ \\mid \\varepsilon$} ++(180.00:10ex);\n...\n    \\end{tikzpicture}\n```\nbe good enough? Then the whole order thing gets avoided and we're still testing that the output has some of the desired characteristics.",
    "created_at": "2014-07-22T19:51:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279034",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:11'></a>
Wouldn't a doctest template like this:

```
    \begin{tikzpicture}[auto, initial text=, >=latex, accepting text=, accepting/.style=accepting by arrow, accepting distance=10ex]
...
    \node[state] (v1) at (-6.000000, 3.000000) {$\mathbf{0}$};
    \path[->] (v1.180.00) edge node[rotate=360.00, anchor=south] {$\$ \mid \varepsilon$} ++(180.00:10ex);
...
    \end{tikzpicture}
```
be good enough? Then the whole order thing gets avoided and we're still testing that the output has some of the desired characteristics.



---

archive/issue_comments_279035.json:
```json
{
    "body": "<a id='comment:12'></a>\nOr compare sets\n\n```\nsage: expected = \"\"\"\n....:    \\begin{tikzpicture}[auto, initial text=, >=latex, accepting text=, \n....:    ...\n....:    \\end{tikzpicture}\n....: \"\"\"\nsage: set(latex(T).splitlines()) == set(expected.splitlines())\n```\nOr write a convenience funtion to do the comparison and import it into the doctest.",
    "created_at": "2014-07-22T22:01:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279035",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'></a>
Or compare sets

```
sage: expected = """
....:    \begin{tikzpicture}[auto, initial text=, >=latex, accepting text=, 
....:    ...
....:    \end{tikzpicture}
....: """
sage: set(latex(T).splitlines()) == set(expected.splitlines())
```
Or write a convenience funtion to do the comparison and import it into the doctest.



---

archive/issue_comments_279036.json:
```json
{
    "body": "Changing commit from \"4eef9c8be87f02a8e100899a471cb1e6e5841a51\" to \"6dc0eca28f10488f8a0430cba8cdc6c5902d6b47\"",
    "created_at": "2014-07-23T06:01:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279036",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4eef9c8be87f02a8e100899a471cb1e6e5841a51" to "6dc0eca28f10488f8a0430cba8cdc6c5902d6b47"



---

archive/issue_comments_279037.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|\n|[6dc0eca](https://github.com/sagemath/sagetrac-mirror/commit/6dc0eca28f10488f8a0430cba8cdc6c5902d6b47)|`trac #16580: only use integer labels in doctests for latex_options`|",
    "created_at": "2014-07-23T06:01:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279037",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
|[6dc0eca](https://github.com/sagemath/sagetrac-mirror/commit/6dc0eca28f10488f8a0430cba8cdc6c5902d6b47)|`trac #16580: only use integer labels in doctests for latex_options`|



---

archive/issue_comments_279038.json:
```json
{
    "body": "Changing commit from \"6dc0eca28f10488f8a0430cba8cdc6c5902d6b47\" to \"102be36393c29989a9c8a2346c1f087e5c03ad04\"",
    "created_at": "2014-07-23T06:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279038",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6dc0eca28f10488f8a0430cba8cdc6c5902d6b47" to "102be36393c29989a9c8a2346c1f087e5c03ad04"



---

archive/issue_comments_279039.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------|\n|[102be36](https://github.com/sagemath/sagetrac-mirror/commit/102be36393c29989a9c8a2346c1f087e5c03ad04)|`Merge commit '1bfb513ca3a9dc11a232bdd6ee31625fe5822572' (#16557) of trac.sagemath.org:sage into fsm/code-cleanup-post-16067`|",
    "created_at": "2014-07-23T06:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279039",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------|
|[102be36](https://github.com/sagemath/sagetrac-mirror/commit/102be36393c29989a9c8a2346c1f087e5c03ad04)|`Merge commit '1bfb513ca3a9dc11a232bdd6ee31625fe5822572' (#16557) of trac.sagemath.org:sage into fsm/code-cleanup-post-16067`|



---

archive/issue_comments_279040.json:
```json
{
    "body": "<a id='comment:15'></a>\nThank you for your comments, here and on sage-devel.\n\nSo I understand that the result of `0 < 'I'` is intentionally random.\n\nFor the particular two sometimes failing doctests (I now could reproduce the failure by calling `sage -t` via a Makefile), the solution seems to be actually quite simple: In the sample transducer, I renamed the state `'I'` to `4`, now we are sorting integers and that should be well-defined.\n\nThis required merging of #16557 in order to avoid a merge conflict.\n\nTrac's automerge is still unhappy, but I cannot see the reason.",
    "created_at": "2014-07-23T06:27:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279040",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:15'></a>
Thank you for your comments, here and on sage-devel.

So I understand that the result of `0 < 'I'` is intentionally random.

For the particular two sometimes failing doctests (I now could reproduce the failure by calling `sage -t` via a Makefile), the solution seems to be actually quite simple: In the sample transducer, I renamed the state `'I'` to `4`, now we are sorting integers and that should be well-defined.

This required merging of #16557 in order to avoid a merge conflict.

Trac's automerge is still unhappy, but I cannot see the reason.



---

archive/issue_comments_279041.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-07-23T06:27:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279041",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_279042.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#16557\"",
    "created_at": "2014-07-23T06:27:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279042",
    "user": "https://github.com/cheuberg"
}
```

Changing dependencies from "" to "#16557"



---

archive/issue_comments_279043.json:
```json
{
    "body": "<a id='comment:16'></a>\nReviewed the changes. It's a positive_review for me.\n\nCan someone test it on osx and if tests pass give it a positive review?",
    "created_at": "2014-07-23T07:35:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279043",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:16'></a>
Reviewed the changes. It's a positive_review for me.

Can someone test it on osx and if tests pass give it a positive review?



---

archive/issue_comments_279044.json:
```json
{
    "body": "<a id='comment:17'></a>\nIt was now tested on osx as well (thanks to R.B.).",
    "created_at": "2014-07-30T10:54:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279044",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:17'></a>
It was now tested on osx as well (thanks to R.B.).



---

archive/issue_comments_279045.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-07-30T10:54:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279045",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_055336.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-31T00:44:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16580#event-55336"
}
```



---

archive/issue_comments_279046.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-07-31T00:44:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279046",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_279047.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/fsm/code-cleanup-post-16067\" to \"102be36393c29989a9c8a2346c1f087e5c03ad04\"",
    "created_at": "2014-07-31T00:44:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16580",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16580#issuecomment-279047",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/cheuberg/fsm/code-cleanup-post-16067" to "102be36393c29989a9c8a2346c1f087e5c03ad04"
