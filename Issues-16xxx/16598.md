# Issue 16598: New empty design classes for a better user interface and new is_group_divisible_design Cython function

archive/issues_016361.json:
```json
{
    "assignees": [
        "https://github.com/nathanncohen"
    ],
    "body": "This branch defines:\n\n- `GroupDivisibleDesign`\n- `PairwiseBalancedDesign`\n- `BalancedIncompleteBlockDesign`\n- `TransversalDesign`\n\nAll these classes (which inherit from `IncidenceStructure`) make it easier to do things like compute the `automorphism_group` of a transversal design.\n\nThe branch also adds a function `is_group_divisible_design` in `designs_pyx.pyx`, and an empty `is_pairwise_balanced_design` that call it. We can thus get rid of the ugly `_check_pbd`.\n\nNathann\n\nDepends on #16553\nDepends on #16766\n\nCC:  @videlec\n\nBranch/Commit: **[5f1fb98](https://github.com/sagemath/sagetrac-mirror/commit/5f1fb98b5a72459b220b87f1c902bda62e4a166a)**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Nathann Cohen**\n\nComponent: **combinatorial designs**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16598_\n\n",
    "closed_at": "2014-08-11T15:01:28Z",
    "created_at": "2014-07-01T09:53:41Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorial%20designs",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "New empty design classes for a better user interface and new is_group_divisible_design Cython function",
    "type": "issue",
    "updated_at": "2014-08-11T15:01:28Z",
    "url": "https://github.com/sagemath/sage/issues/16598",
    "user": "https://github.com/nathanncohen"
}
```
This branch defines:

- `GroupDivisibleDesign`
- `PairwiseBalancedDesign`
- `BalancedIncompleteBlockDesign`
- `TransversalDesign`

All these classes (which inherit from `IncidenceStructure`) make it easier to do things like compute the `automorphism_group` of a transversal design.

The branch also adds a function `is_group_divisible_design` in `designs_pyx.pyx`, and an empty `is_pairwise_balanced_design` that call it. We can thus get rid of the ugly `_check_pbd`.

Nathann

Depends on #16553
Depends on #16766

CC:  @videlec

Branch/Commit: **[5f1fb98](https://github.com/sagemath/sagetrac-mirror/commit/5f1fb98b5a72459b220b87f1c902bda62e4a166a)**

Reviewer: **Vincent Delecroix**

Author: **Nathann Cohen**

Component: **combinatorial designs**

_Issue created by migration from https://trac.sagemath.org/ticket/16598_





---

archive/issue_events_237249.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-01T09:53:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237249"
}
```



---

archive/issue_events_237250.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-01T09:53:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorial%20designs",
    "label_color": "0000ff",
    "label_name": "c: combinatorial designs",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237250"
}
```



---

archive/issue_events_237251.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-01T09:53:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237251"
}
```



---

archive/issue_events_237252.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-01T09:53:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237252"
}
```



---

archive/issue_events_237253.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-01T09:56:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237253"
}
```



---

archive/issue_comments_216142.json:
```json
{
    "body": "Branch: **[u/ncohen/16553](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16553)**",
    "created_at": "2014-07-01T09:56:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216142",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[u/ncohen/16553](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16553)**



---

archive/issue_comments_216143.json:
```json
{
    "body": "Commit: **[ff72248](https://github.com/sagemath/sagetrac-mirror/commit/ff72248b89697ebc63ce170e600b3b7764c7c178)**",
    "created_at": "2014-07-01T09:56:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216143",
    "user": "https://github.com/nathanncohen"
}
```

Commit: **[ff72248](https://github.com/sagemath/sagetrac-mirror/commit/ff72248b89697ebc63ce170e600b3b7764c7c178)**



---

archive/issue_comments_216144.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff72248b89697ebc63ce170e600b3b7764c7c178\">ff72248</a></td><td><code>trac #16553: Clean IncidenceStructure</code></td></tr></table>\n",
    "created_at": "2014-07-01T09:56:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216144",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff72248b89697ebc63ce170e600b3b7764c7c178">ff72248</a></td><td><code>trac #16553: Clean IncidenceStructure</code></td></tr></table>




---

archive/issue_comments_216145.json:
```json
{
    "body": "Dependencies: **#16553**",
    "created_at": "2014-07-01T09:56:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216145",
    "user": "https://github.com/nathanncohen"
}
```

Dependencies: **#16553**



---

archive/issue_comments_216146.json:
```json
{
    "body": "Changed branch from **[u/ncohen/16553](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16553)** to **[u/ncohen/16598](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16598)**",
    "created_at": "2014-07-01T09:57:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216146",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[u/ncohen/16553](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16553)** to **[u/ncohen/16598](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16598)**



---

archive/issue_comments_216147.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4dc250afc93889e8bee051d0d2fc9ed07fae7ca6\">4dc250a</a></td><td><code>trac #16553: Clean IncidenceStructure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd609fcef6ba2923a6659e7c2dd35edf828467cf\">bd609fc</a></td><td><code>trac #16553: is_t_design</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11994efa18b15a9a0330a0816c7aea24fb2bc498\">11994ef</a></td><td><code>trac #16553: Review</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7a97ea3ca390627aed24693e5314568234dfdf3\">e7a97ea</a></td><td><code>trac #16553: doc fix + deprecation is_block_design</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c0dd71a1ecaf61af062ff7ddedf4e95f38d5b22\">3c0dd71</a></td><td><code>trac #16553v3: change .points() -> .ground_set()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52b71777445b45770ad8ebceeb73da791c7145ac\">52b7177</a></td><td><code>trac #16553: merge sage 6.3.beta5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0698433258c4f863cc1585ece2065b5e4e1b41eb\">0698433</a></td><td><code>trac #16553: deprecated alias .points() + fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1575f3131e0663b699d9c0a35b0afb88912d7a7a\">1575f31</a></td><td><code>trac #16598: Useless new classes and a replacement for _check_pbd</code></td></tr></table>\n",
    "created_at": "2014-07-01T09:57:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216147",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4dc250afc93889e8bee051d0d2fc9ed07fae7ca6">4dc250a</a></td><td><code>trac #16553: Clean IncidenceStructure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd609fcef6ba2923a6659e7c2dd35edf828467cf">bd609fc</a></td><td><code>trac #16553: is_t_design</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11994efa18b15a9a0330a0816c7aea24fb2bc498">11994ef</a></td><td><code>trac #16553: Review</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7a97ea3ca390627aed24693e5314568234dfdf3">e7a97ea</a></td><td><code>trac #16553: doc fix + deprecation is_block_design</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c0dd71a1ecaf61af062ff7ddedf4e95f38d5b22">3c0dd71</a></td><td><code>trac #16553v3: change .points() -> .ground_set()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52b71777445b45770ad8ebceeb73da791c7145ac">52b7177</a></td><td><code>trac #16553: merge sage 6.3.beta5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0698433258c4f863cc1585ece2065b5e4e1b41eb">0698433</a></td><td><code>trac #16553: deprecated alias .points() + fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1575f3131e0663b699d9c0a35b0afb88912d7a7a">1575f31</a></td><td><code>trac #16598: Useless new classes and a replacement for _check_pbd</code></td></tr></table>




---

archive/issue_comments_216148.json:
```json
{
    "body": "Changed commit from **[ff72248](https://github.com/sagemath/sagetrac-mirror/commit/ff72248b89697ebc63ce170e600b3b7764c7c178)** to **[1575f31](https://github.com/sagemath/sagetrac-mirror/commit/1575f3131e0663b699d9c0a35b0afb88912d7a7a)**",
    "created_at": "2014-07-01T09:57:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216148",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[ff72248](https://github.com/sagemath/sagetrac-mirror/commit/ff72248b89697ebc63ce170e600b3b7764c7c178)** to **[1575f31](https://github.com/sagemath/sagetrac-mirror/commit/1575f3131e0663b699d9c0a35b0afb88912d7a7a)**



---

archive/issue_comments_216149.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdaf1e2e834f3895d1fb096a139446bf8620d319\">cdaf1e2</a></td><td><code>trac #16598: Useless new classes and a replacement for _check_pbd</code></td></tr></table>\n",
    "created_at": "2014-07-01T09:58:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216149",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdaf1e2e834f3895d1fb096a139446bf8620d319">cdaf1e2</a></td><td><code>trac #16598: Useless new classes and a replacement for _check_pbd</code></td></tr></table>




---

archive/issue_comments_216150.json:
```json
{
    "body": "Changed commit from **[1575f31](https://github.com/sagemath/sagetrac-mirror/commit/1575f3131e0663b699d9c0a35b0afb88912d7a7a)** to **[cdaf1e2](https://github.com/sagemath/sagetrac-mirror/commit/cdaf1e2e834f3895d1fb096a139446bf8620d319)**",
    "created_at": "2014-07-01T09:58:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216150",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1575f31](https://github.com/sagemath/sagetrac-mirror/commit/1575f3131e0663b699d9c0a35b0afb88912d7a7a)** to **[cdaf1e2](https://github.com/sagemath/sagetrac-mirror/commit/cdaf1e2e834f3895d1fb096a139446bf8620d319)**



---

archive/issue_comments_216151.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHey Nathann,\n\nIn group divisible design, there must be more parameters:\n- `v` the size of the ground set\n- `K` the admissible size of the blocks\n- `G` the admissible size of the groups\nThe definition seems to be standard (see the big paper of Hanani and the definition IV.1.3 of the Handbook)\n\nAnyway, GDD is just a strict generalization of PBD and it is very clear from Handbook IV.1.3.\nThat way, your `is_pbd` would just be a lambda function.\n\nActually, it would be nicer that `IncidenceStructure` would actually be a `GroupDivisibleDesign` (groups being the partition into points). The points can be ordered in such way that the groups are\n\n```\n0 1 ... g1-1|g1 g1+1 ... g1+g2-1|...\n```\nand then the new class would just need an extra `._group_sizes` attribute that would be an integer partition.\n\nSome methods are not well adapted to group divisible designs\n- `dual`: is the dual well defined for GDD?\n- `incidence_matrix`: must be the incidence matrix group/block (or put a flag allowing to have points/blocks)\n- `automorphis_group` is wrong since it must preserver the groups\n\nWhy do you use tuples where everywhere in `IncidenceStructure` there are lists?\n\nWould you mind having a \"stupid\" `.group_sizes()` method?\n\nVincent",
    "created_at": "2014-07-01T12:23:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216151",
    "user": "https://github.com/videlec"
}
```

<div id="comment:4" align="right">comment:4</div>

Hey Nathann,

In group divisible design, there must be more parameters:
- `v` the size of the ground set
- `K` the admissible size of the blocks
- `G` the admissible size of the groups
The definition seems to be standard (see the big paper of Hanani and the definition IV.1.3 of the Handbook)

Anyway, GDD is just a strict generalization of PBD and it is very clear from Handbook IV.1.3.
That way, your `is_pbd` would just be a lambda function.

Actually, it would be nicer that `IncidenceStructure` would actually be a `GroupDivisibleDesign` (groups being the partition into points). The points can be ordered in such way that the groups are

```
0 1 ... g1-1|g1 g1+1 ... g1+g2-1|...
```
and then the new class would just need an extra `._group_sizes` attribute that would be an integer partition.

Some methods are not well adapted to group divisible designs
- `dual`: is the dual well defined for GDD?
- `incidence_matrix`: must be the incidence matrix group/block (or put a flag allowing to have points/blocks)
- `automorphis_group` is wrong since it must preserver the groups

Why do you use tuples where everywhere in `IncidenceStructure` there are lists?

Would you mind having a "stupid" `.group_sizes()` method?

Vincent



---

archive/issue_events_237254.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-07-01T12:23:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237254"
}
```



---

archive/issue_events_237255.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-07-01T12:23:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237255"
}
```



---

archive/issue_comments_216152.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nNote that a solution for computing the automorphism group is as follows:\n1. compute the automorphism group of the partition into groups (the generators can be provided by hand, and I can provide a function for it)\n2. compute the automorphism group of the block design (ie forget about the groups)\n3. make the intersection\n\nI think that it is not that bad in terms of efficiency.\n\nVincent",
    "created_at": "2014-07-01T12:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216152",
    "user": "https://github.com/videlec"
}
```

<div id="comment:5" align="right">comment:5</div>

Note that a solution for computing the automorphism group is as follows:
1. compute the automorphism group of the partition into groups (the generators can be provided by hand, and I can provide a function for it)
2. compute the automorphism group of the block design (ie forget about the groups)
3. make the intersection

I think that it is not that bad in terms of efficiency.

Vincent



---

archive/issue_comments_216153.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nYo !\n\n> In group divisible design, there must be more parameters:\n> - `v` the size of the ground set\n> - `K` the admissible size of the blocks\n> - `G` the admissible size of the groups\n> The definition seems to be standard (see the big paper of Hanani and the definition IV.1.3 of the Handbook)\n\nSeems more than we need at the moment, but okay ...\n\n> Anyway, GDD is just a strict generalization of PBD and it is very clear from Handbook IV.1.3.\n> That way, your `is_pbd` would just be a lambda function.\n\nlambda functions have no documentation. But yes, the code just takes one line.\n\n> Actually, it would be nicer that `IncidenceStructure` would actually be a `GroupDivisibleDesign` (groups being the partition into points). The points can be ordered in such way that the groups are\n> \n> ```\n> 0 1 ... g1-1|g1 g1+1 ... g1+g2-1|...\n> ```\n> and then the new class would just need an extra `._group_sizes` attribute that would be an integer partition.\n\nUntil we want GDD to be defined on something different than `0,...,n-1` just like you did for `IncidenceStructure`\n\n> Some methods are not well adapted to group divisible designs\n> - `dual`: is the dual well defined for GDD?\n\nGiven that the GDD is a set of blocks, why not ? Plus you wanted two lines above that GDD be equal to an `IncidenceStructure`.\n\n> - `incidence_matrix`: must be the incidence matrix group/block (or put a flag allowing to have points/blocks)\n\nWhy ?\n\n> - `automorphis_group` is wrong since it must preserver the groups\n\nThen the implementation is correct.\n\n> Why do you use tuples where everywhere in `IncidenceStructure` there are lists?\n> \n> Would you mind having a \"stupid\" `.group_sizes()` method?\n\nYes, I hate those methods. Write it if you want one.\n\nNathann",
    "created_at": "2014-07-01T12:37:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216153",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

Yo !

> In group divisible design, there must be more parameters:
> - `v` the size of the ground set
> - `K` the admissible size of the blocks
> - `G` the admissible size of the groups
> The definition seems to be standard (see the big paper of Hanani and the definition IV.1.3 of the Handbook)

Seems more than we need at the moment, but okay ...

> Anyway, GDD is just a strict generalization of PBD and it is very clear from Handbook IV.1.3.
> That way, your `is_pbd` would just be a lambda function.

lambda functions have no documentation. But yes, the code just takes one line.

> Actually, it would be nicer that `IncidenceStructure` would actually be a `GroupDivisibleDesign` (groups being the partition into points). The points can be ordered in such way that the groups are
> 
> ```
> 0 1 ... g1-1|g1 g1+1 ... g1+g2-1|...
> ```
> and then the new class would just need an extra `._group_sizes` attribute that would be an integer partition.

Until we want GDD to be defined on something different than `0,...,n-1` just like you did for `IncidenceStructure`

> Some methods are not well adapted to group divisible designs
> - `dual`: is the dual well defined for GDD?

Given that the GDD is a set of blocks, why not ? Plus you wanted two lines above that GDD be equal to an `IncidenceStructure`.

> - `incidence_matrix`: must be the incidence matrix group/block (or put a flag allowing to have points/blocks)

Why ?

> - `automorphis_group` is wrong since it must preserver the groups

Then the implementation is correct.

> Why do you use tuples where everywhere in `IncidenceStructure` there are lists?
> 
> Would you mind having a "stupid" `.group_sizes()` method?

Yes, I hate those methods. Write it if you want one.

Nathann



---

archive/issue_comments_216154.json:
```json
{
    "body": "Changed commit from **[cdaf1e2](https://github.com/sagemath/sagetrac-mirror/commit/cdaf1e2e834f3895d1fb096a139446bf8620d319)** to **[3f8cebb](https://github.com/sagemath/sagetrac-mirror/commit/3f8cebb0d68d7e7ae0e9c763e9bc78a1bdb847dd)**",
    "created_at": "2014-07-01T13:06:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216154",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cdaf1e2](https://github.com/sagemath/sagetrac-mirror/commit/cdaf1e2e834f3895d1fb096a139446bf8620d319)** to **[3f8cebb](https://github.com/sagemath/sagetrac-mirror/commit/3f8cebb0d68d7e7ae0e9c763e9bc78a1bdb847dd)**



---

archive/issue_comments_216155.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f8cebb0d68d7e7ae0e9c763e9bc78a1bdb847dd\">3f8cebb</a></td><td><code>trac #16598: G and K as arguments of GDD</code></td></tr></table>\n",
    "created_at": "2014-07-01T13:06:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216155",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f8cebb0d68d7e7ae0e9c763e9bc78a1bdb847dd">3f8cebb</a></td><td><code>trac #16598: G and K as arguments of GDD</code></td></tr></table>




---

archive/issue_events_237256.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-01T13:07:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237256"
}
```



---

archive/issue_events_237257.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-01T13:07:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237257"
}
```



---

archive/issue_comments_216156.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n> Then the implementation is correct.\n\ni.e. an automorphism send a non-covered pair of vertices u,v on another non-covered pair of vertices u,v. So a group is sent on another group with the same cardinality.\n\nIt corresponds to the notion of automorphism group you expect for BIBD (`K=[1]`), and it also corresponds to the notion of group that you expect on transversal designs (`K=[k]`).\n\nNathann",
    "created_at": "2014-07-01T13:54:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216156",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

> Then the implementation is correct.

i.e. an automorphism send a non-covered pair of vertices u,v on another non-covered pair of vertices u,v. So a group is sent on another group with the same cardinality.

It corresponds to the notion of automorphism group you expect for BIBD (`K=[1]`), and it also corresponds to the notion of group that you expect on transversal designs (`K=[k]`).

Nathann



---

archive/issue_comments_216157.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI got it for the automorphism group! Thanks. But your definition of gdd is wrong: any pair of points is either in a group or in lambda blocks **but not both**. And this is why the blocks completely determine the groups: two points are in the same group if they are not in a block!\n\nWhat do you think of having only one class (with blocks and groups) and methods:\n- `.is_t_design(self,t,v,k,l)`\n- `.is_group_divisible_design(self,v,G,K,l)`\n- `.is_partially_balanced_design(self,v,K,l)`\nI do not like the fact of having one extra empty class whose only purpose is a check at creation... Moreover, if we switch to mutable classes it would be cool that after transformations we check the kind of thing we obtain. The only thing that bother me a little bit is this `dual` method which does not make any sense for groups (perhaps it does??).\n\nWhy do you not translate the groups over integers as it is the case for blocks?\n\nYou really like to use tuple of tuples for groups and list of lists for blocks (see [comment:4](#comment:4) above)?\n\nVincent",
    "created_at": "2014-07-02T06:33:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216157",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">comment:10</div>

I got it for the automorphism group! Thanks. But your definition of gdd is wrong: any pair of points is either in a group or in lambda blocks **but not both**. And this is why the blocks completely determine the groups: two points are in the same group if they are not in a block!

What do you think of having only one class (with blocks and groups) and methods:
- `.is_t_design(self,t,v,k,l)`
- `.is_group_divisible_design(self,v,G,K,l)`
- `.is_partially_balanced_design(self,v,K,l)`
I do not like the fact of having one extra empty class whose only purpose is a check at creation... Moreover, if we switch to mutable classes it would be cool that after transformations we check the kind of thing we obtain. The only thing that bother me a little bit is this `dual` method which does not make any sense for groups (perhaps it does??).

Why do you not translate the groups over integers as it is the case for blocks?

You really like to use tuple of tuples for groups and list of lists for blocks (see [comment:4](#comment:4) above)?

Vincent



---

archive/issue_events_237258.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-07-02T06:33:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237258"
}
```



---

archive/issue_events_237259.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-07-02T06:33:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237259"
}
```



---

archive/issue_comments_216158.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nHello !\n\n> I got it for the automorphism group! Thanks. But your definition of gdd is wrong:\n\nAhahahahah. Well, that's what I intended, but... is the new version clearer ?\n\n> What do you think of having only one class (with blocks and groups) and methods:\n> - `.is_t_design(self,t,v,k,l)`\n> - `.is_group_divisible_design(self,v,G,K,l)`\n> - `.is_partially_balanced_design(self,v,K,l)`\n\nHow would you call the class ? If you want to have these functions as methods of something, the only choice I see is `IncidenceStructure`. We would have no `.groups()` method but those functions could get the groups as an argument.\n\n> I do not like the fact of having one extra empty class whose only purpose is a check at creation... \n\nI just created GDD because it was the common generalization of `TD` and `PBD`. Mostly for the doc at the moment, and we will have some place to put code that works on groups. \n\n> Moreover, if we switch to mutable classes it would be cool that after transformations we check the kind of thing we obtain. \n\nHmmmm... I don't expect that GDD or anything that inherits from it will ever be mutable. `IncidenceStructure` could be mutable someday, though. It wouldn't be cool to have a GDD object which is not a GDD. Plus as you noticed, most of these objects are created from others, rarely modified inplace.\n\n> The only thing that bother me a little bit is this `dual` method which does not make any sense for groups (perhaps it does??).\n\nWell, it just does not consider them. To me those \"groups\" are a parameter of the design, nothing else... The dual of a dual of a GDD is a GDD, so everything is cool. The blocks are forgotten (they can be re-computed automatically anyway), but who cares ? I don't think that you would find any other definition of the dual of a GDD anywhere...\n\n> Why do you not translate the groups over integers as it is the case for blocks?\n\nOh. I thought that I would only define GDD for integer ground set, but indeed it also handles the non-integer case almost for free as we know that \"._blocks\" are already translated to integers. You are right. I will updated that in a second.\n\n> You really like to use tuple of tuples for groups and list of lists for blocks (see [comment:4](#comment:4) above)?\n\nI don't understand. `.groups()` returns lists at the moment (before my commit)\n\n```\ndef groups(self):\n    return map(list,self._groups)\n```\n\nOh, I see ! You meant for internal storage ! Fixed in the new commit.\n\nNathann\n\nP.S. : While writing the commit, I made IncidenceStructure mutable. But it's not reaaaaaaaaaaallly a problem, it preserves all the structure ! `:-D`",
    "created_at": "2014-07-02T10:48:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216158",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:11" align="right">comment:11</div>

Hello !

> I got it for the automorphism group! Thanks. But your definition of gdd is wrong:

Ahahahahah. Well, that's what I intended, but... is the new version clearer ?

> What do you think of having only one class (with blocks and groups) and methods:
> - `.is_t_design(self,t,v,k,l)`
> - `.is_group_divisible_design(self,v,G,K,l)`
> - `.is_partially_balanced_design(self,v,K,l)`

How would you call the class ? If you want to have these functions as methods of something, the only choice I see is `IncidenceStructure`. We would have no `.groups()` method but those functions could get the groups as an argument.

> I do not like the fact of having one extra empty class whose only purpose is a check at creation... 

I just created GDD because it was the common generalization of `TD` and `PBD`. Mostly for the doc at the moment, and we will have some place to put code that works on groups. 

> Moreover, if we switch to mutable classes it would be cool that after transformations we check the kind of thing we obtain. 

Hmmmm... I don't expect that GDD or anything that inherits from it will ever be mutable. `IncidenceStructure` could be mutable someday, though. It wouldn't be cool to have a GDD object which is not a GDD. Plus as you noticed, most of these objects are created from others, rarely modified inplace.

> The only thing that bother me a little bit is this `dual` method which does not make any sense for groups (perhaps it does??).

Well, it just does not consider them. To me those "groups" are a parameter of the design, nothing else... The dual of a dual of a GDD is a GDD, so everything is cool. The blocks are forgotten (they can be re-computed automatically anyway), but who cares ? I don't think that you would find any other definition of the dual of a GDD anywhere...

> Why do you not translate the groups over integers as it is the case for blocks?

Oh. I thought that I would only define GDD for integer ground set, but indeed it also handles the non-integer case almost for free as we know that "._blocks" are already translated to integers. You are right. I will updated that in a second.

> You really like to use tuple of tuples for groups and list of lists for blocks (see [comment:4](#comment:4) above)?

I don't understand. `.groups()` returns lists at the moment (before my commit)

```
def groups(self):
    return map(list,self._groups)
```

Oh, I see ! You meant for internal storage ! Fixed in the new commit.

Nathann

P.S. : While writing the commit, I made IncidenceStructure mutable. But it's not reaaaaaaaaaaallly a problem, it preserves all the structure ! `:-D`



---

archive/issue_events_237260.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-02T10:48:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237260"
}
```



---

archive/issue_events_237261.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-02T10:48:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237261"
}
```



---

archive/issue_comments_216159.json:
```json
{
    "body": "Changed commit from **[3f8cebb](https://github.com/sagemath/sagetrac-mirror/commit/3f8cebb0d68d7e7ae0e9c763e9bc78a1bdb847dd)** to **[fa3c715](https://github.com/sagemath/sagetrac-mirror/commit/fa3c715732a965786f86a2a0ce7087c63294519a)**",
    "created_at": "2014-07-02T10:49:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216159",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3f8cebb](https://github.com/sagemath/sagetrac-mirror/commit/3f8cebb0d68d7e7ae0e9c763e9bc78a1bdb847dd)** to **[fa3c715](https://github.com/sagemath/sagetrac-mirror/commit/fa3c715732a965786f86a2a0ce7087c63294519a)**



---

archive/issue_comments_216160.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa3c715732a965786f86a2a0ce7087c63294519a\">fa3c715</a></td><td><code>trac #16598: Relabel, review, doc fix, ...</code></td></tr></table>\n",
    "created_at": "2014-07-02T10:49:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216160",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa3c715732a965786f86a2a0ce7087c63294519a">fa3c715</a></td><td><code>trac #16598: Relabel, review, doc fix, ...</code></td></tr></table>




---

archive/issue_comments_216161.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHi Nathann,\n\nGroups are not a parameter. If you have a GDD, the group are completely determined by the blocks: define the groups in such way that two points are in the same group if and only if they do not belong to a common block.\n\nSo, it makes sense to have `.is_gdd()` at the level of `IncidenceStructure` and make it returns the groups if needed. We can also have a method `.groups()` on `IncidenceStructure` without any attribute `._groups` defined.\n\nWhat do you think?\n\nVincent",
    "created_at": "2014-07-02T11:11:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216161",
    "user": "https://github.com/videlec"
}
```

<div id="comment:13" align="right">comment:13</div>

Hi Nathann,

Groups are not a parameter. If you have a GDD, the group are completely determined by the blocks: define the groups in such way that two points are in the same group if and only if they do not belong to a common block.

So, it makes sense to have `.is_gdd()` at the level of `IncidenceStructure` and make it returns the groups if needed. We can also have a method `.groups()` on `IncidenceStructure` without any attribute `._groups` defined.

What do you think?

Vincent



---

archive/issue_comments_216162.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n> Groups are not a parameter. \n\nv and k are not a parameter of a BIBD either, they can be deduced. Same for K in PBD.\n\n> If you have a GDD, the group are completely determined by the blocks: define the groups in such way that two points are in the same group if and only if they do not belong to a common block.\n\nI know, I mentionned it in my last comment....\n\n> So, it makes sense to have `.is_gdd()` at the level of `IncidenceStructure` and make it returns the groups if needed. We can also have a method `.groups()` on `IncidenceStructure` without any attribute `._groups` defined.\n> \n> What do you think?\n\nI don't like it, you cannot define \"groups\" properly at this level. What do you think the \"groups\" of `IncidenceStructure(3,[This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro))` should be ?\n\nNathann",
    "created_at": "2014-07-02T11:41:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216162",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

> Groups are not a parameter. 

v and k are not a parameter of a BIBD either, they can be deduced. Same for K in PBD.

> If you have a GDD, the group are completely determined by the blocks: define the groups in such way that two points are in the same group if and only if they do not belong to a common block.

I know, I mentionned it in my last comment....

> So, it makes sense to have `.is_gdd()` at the level of `IncidenceStructure` and make it returns the groups if needed. We can also have a method `.groups()` on `IncidenceStructure` without any attribute `._groups` defined.
> 
> What do you think?

I don't like it, you cannot define "groups" properly at this level. What do you think the "groups" of `IncidenceStructure(3,[This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro))` should be ?

Nathann



---

archive/issue_comments_216163.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@nathanncohen](#comment:14):\n> > So, it makes sense to have `.is_gdd()` at the level of `IncidenceStructure` and make it returns the groups if needed. We can also have a method `.groups()` on `IncidenceStructure` without any attribute `._groups` defined.\n> > \n> > What do you think?\n\n> \n> I don't like it, you cannot define \"groups\" properly at this level. What do you think the \"groups\" of `IncidenceStructure(3,[This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro))` should be ?\n\nAll right, add the extra assumption that each point is covered by at least one block! If not `.groups()` raises an exception.",
    "created_at": "2014-07-02T11:45:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216163",
    "user": "https://github.com/videlec"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@nathanncohen](#comment:14):
> > So, it makes sense to have `.is_gdd()` at the level of `IncidenceStructure` and make it returns the groups if needed. We can also have a method `.groups()` on `IncidenceStructure` without any attribute `._groups` defined.
> > 
> > What do you think?

> 
> I don't like it, you cannot define "groups" properly at this level. What do you think the "groups" of `IncidenceStructure(3,[This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro))` should be ?

All right, add the extra assumption that each point is covered by at least one block! If not `.groups()` raises an exception.



---

archive/issue_comments_216164.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n> All right, add the extra assumption that each point is covered by at least one block! If not `.groups()` raises an exception.\n\nIt's unrelated. What are the blocks of `IncidenceStructure(4,[[0,1],[1,2],[2,3]])` ? I am just telling you that {\"u~v\" if the pair `u,v` is not covered by a block} is not an equivalence relation unless you are in a GDD.\n\nNathann",
    "created_at": "2014-07-02T11:50:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216164",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

> All right, add the extra assumption that each point is covered by at least one block! If not `.groups()` raises an exception.

It's unrelated. What are the blocks of `IncidenceStructure(4,[[0,1],[1,2],[2,3]])` ? I am just telling you that {"u~v" if the pair `u,v` is not covered by a block} is not an equivalence relation unless you are in a GDD.

Nathann



---

archive/issue_comments_216165.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@nathanncohen](#comment:16):\n> > All right, add the extra assumption that each point is covered by at least one block! If not `.groups()` raises an exception.\n\n> \n> It's unrelated. What are the blocks of `IncidenceStructure(4,[[0,1],[1,2],[2,3]])` ? I am just telling you that {\"u~v\" if the pair `u,v` is not covered by a block} is not an equivalence relation unless you are in a GDD.\n\nFor GDD you have an extra assumption of the existence of a lambda:\n\n```\nblocks = [[0,1],[0,2]]\ngroups = [[0],[1,2]]\n```\nis not a GDD (0 is covered by two blocks, but 1 and 2 are covered by one block). But \"not being in a block\" for pairs is an equivalence relation...\n\nI definitely agree that \"not being in the same block\" is not an equivalence relation for many incidence structures (lack of transitivity)... but it is well defined and symmetric.\n\nVincent",
    "created_at": "2014-07-02T13:52:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216165",
    "user": "https://github.com/videlec"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@nathanncohen](#comment:16):
> > All right, add the extra assumption that each point is covered by at least one block! If not `.groups()` raises an exception.

> 
> It's unrelated. What are the blocks of `IncidenceStructure(4,[[0,1],[1,2],[2,3]])` ? I am just telling you that {"u~v" if the pair `u,v` is not covered by a block} is not an equivalence relation unless you are in a GDD.

For GDD you have an extra assumption of the existence of a lambda:

```
blocks = [[0,1],[0,2]]
groups = [[0],[1,2]]
```
is not a GDD (0 is covered by two blocks, but 1 and 2 are covered by one block). But "not being in a block" for pairs is an equivalence relation...

I definitely agree that "not being in the same block" is not an equivalence relation for many incidence structures (lack of transitivity)... but it is well defined and symmetric.

Vincent



---

archive/issue_comments_216166.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n> For GDD you have an extra assumption of the existence of a lambda:\n> \n> ```\n> blocks = [[0,1],[0,2]]\n> groups = [[0],[1,2]]\n> ```\n> is not a GDD (0 is covered by two blocks, but 1 and 2 are covered by one block). But \"not being in a block\" for pairs is an equivalence relation...\n\nSince when do you need to be regular to be a GDD ? Even PBD are not necessarily regular ! Lambda is about pairs of vertices.\n\nNathann",
    "created_at": "2014-07-02T13:54:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216166",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:18" align="right">comment:18</div>

> For GDD you have an extra assumption of the existence of a lambda:
> 
> ```
> blocks = [[0,1],[0,2]]
> groups = [[0],[1,2]]
> ```
> is not a GDD (0 is covered by two blocks, but 1 and 2 are covered by one block). But "not being in a block" for pairs is an equivalence relation...

Since when do you need to be regular to be a GDD ? Even PBD are not necessarily regular ! Lambda is about pairs of vertices.

Nathann



---

archive/issue_comments_216167.json:
```json
{
    "body": "Changed commit from **[fa3c715](https://github.com/sagemath/sagetrac-mirror/commit/fa3c715732a965786f86a2a0ce7087c63294519a)** to **[1a5a4b8](https://github.com/sagemath/sagetrac-mirror/commit/1a5a4b8203a2ad104d617a150e2029dbe3a315b1)**",
    "created_at": "2014-07-02T14:11:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216167",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fa3c715](https://github.com/sagemath/sagetrac-mirror/commit/fa3c715732a965786f86a2a0ce7087c63294519a)** to **[1a5a4b8](https://github.com/sagemath/sagetrac-mirror/commit/1a5a4b8203a2ad104d617a150e2029dbe3a315b1)**



---

archive/issue_comments_216168.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a5a4b8203a2ad104d617a150e2029dbe3a315b1\">1a5a4b8</a></td><td><code>trac #16598: The constructors implicitly assumed that the ground set was made of integers</code></td></tr></table>\n",
    "created_at": "2014-07-02T14:11:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216168",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a5a4b8203a2ad104d617a150e2029dbe3a315b1">1a5a4b8</a></td><td><code>trac #16598: The constructors implicitly assumed that the ground set was made of integers</code></td></tr></table>




---

archive/issue_comments_216169.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nHi Nathann,\n\nI added a little commit of cleaning (and also replace the deepcopy by something more explicit) at `u/vdelecroix/16598`.\n\nThe semantic of `copy=True/False` is currently not the same with `.blocks()` and `.groups()`. I decided (and you did not complain) that with `copy=False` it just returns a pointer to the attribute `._blocks` which means something on the integers... whatever the ground set could be. If you think it is bad, then we need to change it in `.blocks()` and `.points()`. Otherwise, change it in `.groups()`.\n\nIn the function `is_group_divisible_design` it is assumed that the ground set is `{0, ..., v-1}` (which is just find since it is called with the internal data from `GroupDivisibleDesign`). It would be cool to specify it in the doc...\n\nWhat is the point of `matrix[i*n+j] != <unsigned short> -1` (in `is_group_divisible_design`)?\n\nVincent",
    "created_at": "2014-07-03T06:51:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216169",
    "user": "https://github.com/videlec"
}
```

<div id="comment:20" align="right">comment:20</div>

Hi Nathann,

I added a little commit of cleaning (and also replace the deepcopy by something more explicit) at `u/vdelecroix/16598`.

The semantic of `copy=True/False` is currently not the same with `.blocks()` and `.groups()`. I decided (and you did not complain) that with `copy=False` it just returns a pointer to the attribute `._blocks` which means something on the integers... whatever the ground set could be. If you think it is bad, then we need to change it in `.blocks()` and `.points()`. Otherwise, change it in `.groups()`.

In the function `is_group_divisible_design` it is assumed that the ground set is `{0, ..., v-1}` (which is just find since it is called with the internal data from `GroupDivisibleDesign`). It would be cool to specify it in the doc...

What is the point of `matrix[i*n+j] != <unsigned short> -1` (in `is_group_divisible_design`)?

Vincent



---

archive/issue_events_237262.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-07-03T06:51:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237262"
}
```



---

archive/issue_events_237263.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-07-03T06:51:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237263"
}
```



---

archive/issue_events_237264.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-03T10:30:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237264"
}
```



---

archive/issue_events_237265.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-03T10:30:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237265"
}
```



---

archive/issue_comments_216170.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n> I added a little commit of cleaning (and also replace the deepcopy by something more explicit) at `u/vdelecroix/16598`.\n\nLooks good !\n\n> The semantic of `copy=True/False` is currently not the same with `.blocks()` and `.groups()`. I decided [...]\n\nOh, cool ! Actually I thought it was written the way I first wrote `.groups` and I thought that it was not the correct way to implement it, and so I implemented it this way to follow what I thought was the previou choice. I prefer it this way too ! Fixed.\n\n> In the function `is_group_divisible_design` it is assumed that the ground set is `{0, ..., v-1}` (which is just find since it is called with the internal data from `GroupDivisibleDesign`). It would be cool to specify it in the doc...\n\nIt was specified in the documentation of the mandatory argument `v`, but I added another occurrence in the one-line description of the function\n\n> What is the point of `matrix[i*n+j] != <unsigned short> -1` (in `is_group_divisible_design`)?\n\nLeftover from a previous implementation. Removed !\n\nNathann",
    "created_at": "2014-07-03T10:30:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216170",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:21" align="right">comment:21</div>

> I added a little commit of cleaning (and also replace the deepcopy by something more explicit) at `u/vdelecroix/16598`.

Looks good !

> The semantic of `copy=True/False` is currently not the same with `.blocks()` and `.groups()`. I decided [...]

Oh, cool ! Actually I thought it was written the way I first wrote `.groups` and I thought that it was not the correct way to implement it, and so I implemented it this way to follow what I thought was the previou choice. I prefer it this way too ! Fixed.

> In the function `is_group_divisible_design` it is assumed that the ground set is `{0, ..., v-1}` (which is just find since it is called with the internal data from `GroupDivisibleDesign`). It would be cool to specify it in the doc...

It was specified in the documentation of the mandatory argument `v`, but I added another occurrence in the one-line description of the function

> What is the point of `matrix[i*n+j] != <unsigned short> -1` (in `is_group_divisible_design`)?

Leftover from a previous implementation. Removed !

Nathann



---

archive/issue_comments_216171.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f454c82aebdfcfc027cda8eea8396f313bc441e0\">f454c82</a></td><td><code>trac #16598: reviewer</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/494d82657000af8d4361a630035227c6aab6f5de\">494d826</a></td><td><code>trac #16598: Reviewer's comments</code></td></tr></table>\n",
    "created_at": "2014-07-03T10:30:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216171",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f454c82aebdfcfc027cda8eea8396f313bc441e0">f454c82</a></td><td><code>trac #16598: reviewer</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/494d82657000af8d4361a630035227c6aab6f5de">494d826</a></td><td><code>trac #16598: Reviewer's comments</code></td></tr></table>




---

archive/issue_comments_216172.json:
```json
{
    "body": "Changed commit from **[1a5a4b8](https://github.com/sagemath/sagetrac-mirror/commit/1a5a4b8203a2ad104d617a150e2029dbe3a315b1)** to **[494d826](https://github.com/sagemath/sagetrac-mirror/commit/494d82657000af8d4361a630035227c6aab6f5de)**",
    "created_at": "2014-07-03T10:30:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216172",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1a5a4b8](https://github.com/sagemath/sagetrac-mirror/commit/1a5a4b8203a2ad104d617a150e2029dbe3a315b1)** to **[494d826](https://github.com/sagemath/sagetrac-mirror/commit/494d82657000af8d4361a630035227c6aab6f5de)**



---

archive/issue_events_237266.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2014-07-03T14:57:20Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "title_is": "Useful classes for designs and a replacement for _check_pbd",
    "title_was": "Useless new classes and a replacement for _check_pbd",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237266"
}
```



---

archive/issue_comments_216173.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n`O_o`",
    "created_at": "2014-07-03T14:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216173",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:24" align="right">comment:24</div>

`O_o`



---

archive/issue_comments_216174.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nHey man, I still name my tickets how I see fit, can't I ? `O_o`",
    "created_at": "2014-07-03T14:59:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216174",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:25" align="right">comment:25</div>

Hey man, I still name my tickets how I see fit, can't I ? `O_o`



---

archive/issue_events_237267.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-03T14:59:35Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "title_is": "Useless new design classes and a replacement for _check_pbd",
    "title_was": "Useful classes for designs and a replacement for _check_pbd",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237267"
}
```



---

archive/issue_comments_216175.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nOf course you can - you just did it and the system didn't stop you, since it's brainless.\n\nThis is however not your ticket, it is a ticket (authored by you) intended to be merged into a public collaborative project, where it is helpful to have meaningful titles/descriptions/commits. If the title is reflective of this ticket, I am ready to set it to positive review as invalid/wontfix.",
    "created_at": "2014-07-03T15:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216175",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:26" align="right">comment:26</div>

Of course you can - you just did it and the system didn't stop you, since it's brainless.

This is however not your ticket, it is a ticket (authored by you) intended to be merged into a public collaborative project, where it is helpful to have meaningful titles/descriptions/commits. If the title is reflective of this ticket, I am ready to set it to positive review as invalid/wontfix.



---

archive/issue_comments_216176.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nHopefully, humans are not computers and they do understand humour... if you base your reviews on (first degree interpretation of) title of tickets I am not sure it is only the system which is brainless.",
    "created_at": "2014-07-03T15:57:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216176",
    "user": "https://github.com/videlec"
}
```

<div id="comment:27" align="right">comment:27</div>

Hopefully, humans are not computers and they do understand humour... if you base your reviews on (first degree interpretation of) title of tickets I am not sure it is only the system which is brainless.



---

archive/issue_comments_216177.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIt seems that one cannot have an enjoyable conversation with anybody, these days ... I don't get it. It cannot be the weather, it is summer !\n\nNathann",
    "created_at": "2014-07-03T15:57:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216177",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:28" align="right">comment:28</div>

It seems that one cannot have an enjoyable conversation with anybody, these days ... I don't get it. It cannot be the weather, it is summer !

Nathann



---

archive/issue_comments_216178.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@videlec](#comment:27):\n> Hopefully, humans are not computers and they do understand humour... if you base your reviews on (first degree interpretation of) title of tickets I am not sure it is only the system which is brainless.\n\nYes, and when these smart humans look at changelogs to get a sense of new functionality, of course they don't stop there: they open each ticket, read the description, the discussion, and the source code of the branch. And who cares about commit messages when it is so easy to look at diff for anything and make your own judgment unbiased by authors humour?\n\nOr perhaps I am wrong all the way from the start and nobody cares about new functionality or history, so it absolutely does not matter what one can or cannot see in changelogs.",
    "created_at": "2014-07-03T16:05:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216178",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@videlec](#comment:27):
> Hopefully, humans are not computers and they do understand humour... if you base your reviews on (first degree interpretation of) title of tickets I am not sure it is only the system which is brainless.

Yes, and when these smart humans look at changelogs to get a sense of new functionality, of course they don't stop there: they open each ticket, read the description, the discussion, and the source code of the branch. And who cares about commit messages when it is so easy to look at diff for anything and make your own judgment unbiased by authors humour?

Or perhaps I am wrong all the way from the start and nobody cares about new functionality or history, so it absolutely does not matter what one can or cannot see in changelogs.



---

archive/issue_comments_216179.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\n> Or perhaps I am wrong all the way from the start and nobody cares about new functionality or history, so it absolutely does not matter what one can or cannot see in changelogs.\n\nYou are wrong if you believe that you can edit somebody else's ticket without asking for their opinion first. This is not a software development issue, this is called common sense.\n\nNow, as you can see that you do not bring anything to the work going on here, let's stop this. Or continue by email/sage-devel if you like, but let's not polute this trac ticket.\n\nThe same \"smart humans\" you mentionned like to read the trac tickets message by message when they are done with reading the changelog, and we are just wasting their valuable time.\n\nNathann",
    "created_at": "2014-07-03T16:16:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216179",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:30" align="right">comment:30</div>

> Or perhaps I am wrong all the way from the start and nobody cares about new functionality or history, so it absolutely does not matter what one can or cannot see in changelogs.

You are wrong if you believe that you can edit somebody else's ticket without asking for their opinion first. This is not a software development issue, this is called common sense.

Now, as you can see that you do not bring anything to the work going on here, let's stop this. Or continue by email/sage-devel if you like, but let's not polute this trac ticket.

The same "smart humans" you mentionned like to read the trac tickets message by message when they are done with reading the changelog, and we are just wasting their valuable time.

Nathann



---

archive/issue_comments_216180.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\n> > Or perhaps I am wrong all the way from the start and nobody cares about new functionality or history, so it absolutely does not matter what one can or cannot see in changelogs.\n\n> \n> You are wrong if you believe that you can edit somebody else's ticket without asking for their opinion first. This is not a software development issue, this is called common sense.\n\nTo be far, Nathann, I think the intent was just to clarify the intent of the ticket to those who might not know the whole history of the 'useless classes'.  This seems pretty reasonable, since there are hundreds (if not thousands) of people who browse Trac.  Humor is a pretty slippery thing - all about context :-)\n\nAs to ownership, I would probably disagree that anyone \"owns\" any given ticket, any more than William \"owns\" Sage, but rather that there is significant moral authority vested in knowing the particular code and situation very well.  So people shouldn't change titles without reason, but if there is a helpful title change (as this one was clearly intending to be) we can agree it's in the common good.  Naturally, determining how the Sage community governs itself on this issue is for sage-devel - see also Steven Weber's \"The Success of Open Source\" for background reading on governance in open-source communities.  Should really be required reading for anyone who spends more than a few hours a week on Trac :-)",
    "created_at": "2014-07-05T01:04:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216180",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:31" align="right">comment:31</div>

> > Or perhaps I am wrong all the way from the start and nobody cares about new functionality or history, so it absolutely does not matter what one can or cannot see in changelogs.

> 
> You are wrong if you believe that you can edit somebody else's ticket without asking for their opinion first. This is not a software development issue, this is called common sense.

To be far, Nathann, I think the intent was just to clarify the intent of the ticket to those who might not know the whole history of the 'useless classes'.  This seems pretty reasonable, since there are hundreds (if not thousands) of people who browse Trac.  Humor is a pretty slippery thing - all about context :-)

As to ownership, I would probably disagree that anyone "owns" any given ticket, any more than William "owns" Sage, but rather that there is significant moral authority vested in knowing the particular code and situation very well.  So people shouldn't change titles without reason, but if there is a helpful title change (as this one was clearly intending to be) we can agree it's in the common good.  Naturally, determining how the Sage community governs itself on this issue is for sage-devel - see also Steven Weber's "The Success of Open Source" for background reading on governance in open-source communities.  Should really be required reading for anyone who spends more than a few hours a week on Trac :-)



---

archive/issue_events_237268.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-05T09:52:40Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "subject": "https://github.com/nathanncohen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237268"
}
```



---

archive/issue_comments_216181.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n(I don't even know what this field is for, but I need to put my name there for political reasons)",
    "created_at": "2014-07-05T09:52:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216181",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:32" align="right">comment:32</div>

(I don't even know what this field is for, but I need to put my name there for political reasons)



---

archive/issue_comments_216182.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nOh, by the way I answered the sage-devel thread : https://groups.google.com/forum/#!topic/sage-devel/do7EAtPq4Kg\n\nNathann",
    "created_at": "2014-07-05T09:56:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216182",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:33" align="right">comment:33</div>

Oh, by the way I answered the sage-devel thread : https://groups.google.com/forum/#!topic/sage-devel/do7EAtPq4Kg

Nathann



---

archive/issue_events_237269.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-06T09:32:43Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "title_is": "New empty design classes for a better user interface and new is_group_divisible_design Cython function",
    "title_was": "Useless new design classes and a replacement for _check_pbd",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237269"
}
```



---

archive/issue_comments_216183.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8251fb1c1f22a1b7c6a15bd8be9686cdd5f54e6\">e8251fb</a></td><td><code>trac #16598: Merged with 6.3.beta6</code></td></tr></table>\n",
    "created_at": "2014-07-19T10:20:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216183",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8251fb1c1f22a1b7c6a15bd8be9686cdd5f54e6">e8251fb</a></td><td><code>trac #16598: Merged with 6.3.beta6</code></td></tr></table>




---

archive/issue_comments_216184.json:
```json
{
    "body": "Changed commit from **[494d826](https://github.com/sagemath/sagetrac-mirror/commit/494d82657000af8d4361a630035227c6aab6f5de)** to **[e8251fb](https://github.com/sagemath/sagetrac-mirror/commit/e8251fb1c1f22a1b7c6a15bd8be9686cdd5f54e6)**",
    "created_at": "2014-07-19T10:20:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216184",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[494d826](https://github.com/sagemath/sagetrac-mirror/commit/494d82657000af8d4361a630035227c6aab6f5de)** to **[e8251fb](https://github.com/sagemath/sagetrac-mirror/commit/e8251fb1c1f22a1b7c6a15bd8be9686cdd5f54e6)**



---

archive/issue_comments_216185.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nHi Nathann,\n\n1) There is a problem with your `relabel` method\n\n```\nsage: I = IncidenceStructure(3, [[0,1,2],[0,1]])\nsage: I.relabel({0:'a',1:'b',2:'c'})\nsage: I._point_to_index\n{0: 0, 1: 1, 2: 2}\n```\nbut should be `{'a':0, 'b': 1, 'c': 2}`.\n\n2) For the string representation of divisible design, would not you prefer `Group Divisible Design on 40 points of type 10^4` instead of the current `Group Divisible Design on 40 points and type 10^4`\n\n3) This is very bad\n\n```\nround(sqrt(len(blocks)))\n```\n(i.e. it involves the symbolic ring). You would prefer using the method `sqrtrem` of Sage integers\n\n```\nsage: i,j = 103.sqrtrem()\nsage: 103 == i**2 + j\nTrue\n```\n\n4) In `is_group_divisible_design` the parts `# Check that the groups belong to [0,...,n-1]` and `# Check that the groups belong to [0,...,n-1]` are very complicated. It is not clear to me that it would be the fastest option (did you do some timings?). Would you mind having a more Pythonic version:\n\n```\n# Check that the groups belong to [0,...,n-1]\nif any(i < 0 or i >= n for g in groups for i in g):\n    # bad groups\n    ...\nif any(i < 0 or i >= n for b in blocks for i in b):\n    # bad blocks\n    ...\n```\n\nThat's all for now.\n\nVincent",
    "created_at": "2014-07-19T12:47:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216185",
    "user": "https://github.com/videlec"
}
```

<div id="comment:36" align="right">comment:36</div>

Hi Nathann,

1) There is a problem with your `relabel` method

```
sage: I = IncidenceStructure(3, [[0,1,2],[0,1]])
sage: I.relabel({0:'a',1:'b',2:'c'})
sage: I._point_to_index
{0: 0, 1: 1, 2: 2}
```
but should be `{'a':0, 'b': 1, 'c': 2}`.

2) For the string representation of divisible design, would not you prefer `Group Divisible Design on 40 points of type 10^4` instead of the current `Group Divisible Design on 40 points and type 10^4`

3) This is very bad

```
round(sqrt(len(blocks)))
```
(i.e. it involves the symbolic ring). You would prefer using the method `sqrtrem` of Sage integers

```
sage: i,j = 103.sqrtrem()
sage: 103 == i**2 + j
True
```

4) In `is_group_divisible_design` the parts `# Check that the groups belong to [0,...,n-1]` and `# Check that the groups belong to [0,...,n-1]` are very complicated. It is not clear to me that it would be the fastest option (did you do some timings?). Would you mind having a more Pythonic version:

```
# Check that the groups belong to [0,...,n-1]
if any(i < 0 or i >= n for g in groups for i in g):
    # bad groups
    ...
if any(i < 0 or i >= n for b in blocks for i in b):
    # bad blocks
    ...
```

That's all for now.

Vincent



---

archive/issue_events_237270.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-07-19T12:47:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237270"
}
```



---

archive/issue_events_237271.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-07-19T12:47:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237271"
}
```



---

archive/issue_comments_216186.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nYOoooooooo !\n\n> 1) There is a problem with your `relabel` method\n\nGloops. Sorry 'bout that `:-/`\n\n> 2) For the string representation of divisible design, would not you prefer `Group Divisible Design on 40 points of type 10^4` instead of the current `Group Divisible Design on 40 points and type 10^4`\n\nI don't care. I changed it,\n\n> 3) This is very bad\n> \n> ```\n> round(sqrt(len(blocks)))\n> ```\n> (i.e. it involves the symbolic ring).\n\nIs it bad to involve the symbolic ring ? `O_o`\n\nI imported sqrt from Python instead.\n\n> 4) In `is_group_divisible_design` the parts `# Check that the groups belong to [0,...,n-1]` and `# Check that the groups belong to [0,...,n-1]` are very complicated. It is not clear to me that it would be the fastest option (did you do some timings?). Would you mind having a more Pythonic version:\n> \n> ```\n> # Check that the groups belong to [0,...,n-1]\n> if any(i < 0 or i >= n for g in groups for i in g):\n>     # bad groups\n>     ...\n> if any(i < 0 or i >= n for b in blocks for i in b):\n>     # bad blocks\n>     ...\n> ```\n\nThis code raises an exception when i cannot be turned into an integer. I simplified it a bit, though.\n\nNathann",
    "created_at": "2014-07-19T17:27:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216186",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:37" align="right">comment:37</div>

YOoooooooo !

> 1) There is a problem with your `relabel` method

Gloops. Sorry 'bout that `:-/`

> 2) For the string representation of divisible design, would not you prefer `Group Divisible Design on 40 points of type 10^4` instead of the current `Group Divisible Design on 40 points and type 10^4`

I don't care. I changed it,

> 3) This is very bad
> 
> ```
> round(sqrt(len(blocks)))
> ```
> (i.e. it involves the symbolic ring).

Is it bad to involve the symbolic ring ? `O_o`

I imported sqrt from Python instead.

> 4) In `is_group_divisible_design` the parts `# Check that the groups belong to [0,...,n-1]` and `# Check that the groups belong to [0,...,n-1]` are very complicated. It is not clear to me that it would be the fastest option (did you do some timings?). Would you mind having a more Pythonic version:
> 
> ```
> # Check that the groups belong to [0,...,n-1]
> if any(i < 0 or i >= n for g in groups for i in g):
>     # bad groups
>     ...
> if any(i < 0 or i >= n for b in blocks for i in b):
>     # bad blocks
>     ...
> ```

This code raises an exception when i cannot be turned into an integer. I simplified it a bit, though.

Nathann



---

archive/issue_events_237272.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-19T17:27:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237272"
}
```



---

archive/issue_events_237273.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-07-19T17:27:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237273"
}
```



---

archive/issue_comments_216187.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a44b83e01080869d82e96c265d73761e9a779b6\">8a44b83</a></td><td><code>trac #16598: Review</code></td></tr></table>\n",
    "created_at": "2014-07-19T17:27:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216187",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a44b83e01080869d82e96c265d73761e9a779b6">8a44b83</a></td><td><code>trac #16598: Review</code></td></tr></table>




---

archive/issue_comments_216188.json:
```json
{
    "body": "Changed commit from **[e8251fb](https://github.com/sagemath/sagetrac-mirror/commit/e8251fb1c1f22a1b7c6a15bd8be9686cdd5f54e6)** to **[8a44b83](https://github.com/sagemath/sagetrac-mirror/commit/8a44b83e01080869d82e96c265d73761e9a779b6)**",
    "created_at": "2014-07-19T17:27:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216188",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e8251fb](https://github.com/sagemath/sagetrac-mirror/commit/e8251fb1c1f22a1b7c6a15bd8be9686cdd5f54e6)** to **[8a44b83](https://github.com/sagemath/sagetrac-mirror/commit/8a44b83e01080869d82e96c265d73761e9a779b6)**



---

archive/issue_comments_216189.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nHi,\n\nCould we move ` _relabel_bibd` as a method of `BalancedIncompleteBlockDesign`?\n\n(not very important) Why did you put the classes `PairwiseBalancedDesign` and `BalancedIncompleteBlockDesign` in the file `bibd.py` and not in `incidence_structure.py`? I am not sure about what is the best organization should be, but right now it is not clear at all where to look to find something.\n\nVincent",
    "created_at": "2014-07-19T19:28:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216189",
    "user": "https://github.com/videlec"
}
```

<div id="comment:39" align="right">comment:39</div>

Hi,

Could we move ` _relabel_bibd` as a method of `BalancedIncompleteBlockDesign`?

(not very important) Why did you put the classes `PairwiseBalancedDesign` and `BalancedIncompleteBlockDesign` in the file `bibd.py` and not in `incidence_structure.py`? I am not sure about what is the best organization should be, but right now it is not clear at all where to look to find something.

Vincent



---

archive/issue_comments_216190.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\n> Could we move ` _relabel_bibd` as a method of `BalancedIncompleteBlockDesign`?\n\nHmmmm.. Well, it woud mean that we have to build BIBD objects during the recursive constructions too... I'd prefer to keep it this way if you don't mind `:-/`\n\n> (not very important) Why did you put the classes `PairwiseBalancedDesign` and `BalancedIncompleteBlockDesign` in the file `bibd.py` and not in `incidence_structure.py`? I am not sure about what is the best organization should be, but right now it is not clear at all where to look to find something.\n\nWell, that `BalancedIncompleteBlockDesign` is defined is `bibd.py` is hardly a surprise. I feel that PBD are very close to BIBD but indeed, if GDD are in IncidenceStructure then indeed it can be moved there. What do you think ?\n\nNathann",
    "created_at": "2014-07-19T19:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216190",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:40" align="right">comment:40</div>

> Could we move ` _relabel_bibd` as a method of `BalancedIncompleteBlockDesign`?

Hmmmm.. Well, it woud mean that we have to build BIBD objects during the recursive constructions too... I'd prefer to keep it this way if you don't mind `:-/`

> (not very important) Why did you put the classes `PairwiseBalancedDesign` and `BalancedIncompleteBlockDesign` in the file `bibd.py` and not in `incidence_structure.py`? I am not sure about what is the best organization should be, but right now it is not clear at all where to look to find something.

Well, that `BalancedIncompleteBlockDesign` is defined is `bibd.py` is hardly a surprise. I feel that PBD are very close to BIBD but indeed, if GDD are in IncidenceStructure then indeed it can be moved there. What do you think ?

Nathann



---

archive/issue_comments_216191.json:
```json
{
    "body": "Changed commit from **[8a44b83](https://github.com/sagemath/sagetrac-mirror/commit/8a44b83e01080869d82e96c265d73761e9a779b6)** to **[ea8b144](https://github.com/sagemath/sagetrac-mirror/commit/ea8b144f5dd28d40102e5ccb06edab716951867a)**",
    "created_at": "2014-07-23T12:11:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216191",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8a44b83](https://github.com/sagemath/sagetrac-mirror/commit/8a44b83e01080869d82e96c265d73761e9a779b6)** to **[ea8b144](https://github.com/sagemath/sagetrac-mirror/commit/ea8b144f5dd28d40102e5ccb06edab716951867a)**



---

archive/issue_comments_216192.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea8b144f5dd28d40102e5ccb06edab716951867a\">ea8b144</a></td><td><code>trac #16598: Code simplification</code></td></tr></table>\n",
    "created_at": "2014-07-23T12:11:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216192",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea8b144f5dd28d40102e5ccb06edab716951867a">ea8b144</a></td><td><code>trac #16598: Code simplification</code></td></tr></table>




---

archive/issue_comments_216193.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@nathanncohen](#comment:37):\n> YOoooooooo !\n> \n> > 1) There is a problem with your `relabel` method\n\n> \n> Gloops. Sorry 'bout that `:-/`\n\nThere is still a subtle issue. When we ask for a relabeling we do not necessarily want to relabel the points. More precisely, if the ground set is {0,1,2,3} and I want to relabel {0:1, 1:3, 2:1, 3:0} I would like the ground set to be fixed and the blocks to be changed... what do you think?\n \n> > 3) This is very bad\n> > \n> > ```\n> > round(sqrt(len(blocks)))\n> > ```\n> > (i.e. it involves the symbolic ring).\n\n> \n> Is it bad to involve the symbolic ring ? `O_o`\n\nYes: SR is very slow and unreliable (though for sqrt of integers it should be ok).\n\nVincent",
    "created_at": "2014-08-08T10:49:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216193",
    "user": "https://github.com/videlec"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@nathanncohen](#comment:37):
> YOoooooooo !
> 
> > 1) There is a problem with your `relabel` method

> 
> Gloops. Sorry 'bout that `:-/`

There is still a subtle issue. When we ask for a relabeling we do not necessarily want to relabel the points. More precisely, if the ground set is {0,1,2,3} and I want to relabel {0:1, 1:3, 2:1, 3:0} I would like the ground set to be fixed and the blocks to be changed... what do you think?
 
> > 3) This is very bad
> > 
> > ```
> > round(sqrt(len(blocks)))
> > ```
> > (i.e. it involves the symbolic ring).

> 
> Is it bad to involve the symbolic ring ? `O_o`

Yes: SR is very slow and unreliable (though for sqrt of integers it should be ok).

Vincent



---

archive/issue_comments_216194.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nupdated version at u/vdelecroix/16598 (above 6.3.rc1 and #16766)\n\nVincent",
    "created_at": "2014-08-08T10:50:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216194",
    "user": "https://github.com/videlec"
}
```

<div id="comment:43" align="right">comment:43</div>

updated version at u/vdelecroix/16598 (above 6.3.rc1 and #16766)

Vincent



---

archive/issue_comments_216195.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nYoooooooo !!\n\n> There is still a subtle issue. When we ask for a relabeling we do not necessarily want to relabel the points. More precisely, if the ground set is {0,1,2,3} and I want to relabel {0:1, 1:3, 2:1, 3:0} I would like the ground set to be fixed and the blocks to be changed... what do you think?\n\nI don't understand. You are just relabeling with the same ground sets, what's the problem with that ? And how does that badly affect the blocks ? Some will change, some will not, what's the problem ?\n\n> Yes: SR is very slow and unreliable (though for sqrt of integers it should be ok).\n\n\"B\u00f4f\". If it does not work it's a bug report, and if Sage cannot compute square roots safely we should fork it quick `:-P`\n\nNathann",
    "created_at": "2014-08-08T11:00:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216195",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:44" align="right">comment:44</div>

Yoooooooo !!

> There is still a subtle issue. When we ask for a relabeling we do not necessarily want to relabel the points. More precisely, if the ground set is {0,1,2,3} and I want to relabel {0:1, 1:3, 2:1, 3:0} I would like the ground set to be fixed and the blocks to be changed... what do you think?

I don't understand. You are just relabeling with the same ground sets, what's the problem with that ? And how does that badly affect the blocks ? Some will change, some will not, what's the problem ?

> Yes: SR is very slow and unreliable (though for sqrt of integers it should be ok).

"Bf". If it does not work it's a bug report, and if Sage cannot compute square roots safely we should fork it quick `:-P`

Nathann



---

archive/issue_comments_216196.json:
```json
{
    "body": "Changed commit from **[ea8b144](https://github.com/sagemath/sagetrac-mirror/commit/ea8b144f5dd28d40102e5ccb06edab716951867a)** to **[1a9ae44](https://github.com/sagemath/sagetrac-mirror/commit/1a9ae44eb163fd218e592c47ecb49a87cb7741d2)**",
    "created_at": "2014-08-08T11:02:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216196",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[ea8b144](https://github.com/sagemath/sagetrac-mirror/commit/ea8b144f5dd28d40102e5ccb06edab716951867a)** to **[1a9ae44](https://github.com/sagemath/sagetrac-mirror/commit/1a9ae44eb163fd218e592c47ecb49a87cb7741d2)**



---

archive/issue_comments_216197.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/081aa8b39d8fceb1066a7e14ae739617fce53320\">081aa8b</a></td><td><code>trac #16598: merge with 6.3.rc1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49ae09d68c23ecf4f94332187d2560144bcb6f50\">49ae09d</a></td><td><code>trac #16766: Improve the doc of combinat/designs/</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d626290b67e3d14ceafa817b6c8d0388f232157e\">d626290</a></td><td><code>trac #16766: we don t want designs.deprecated_function_alias</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f9ee773df53f5d60a2f4400b0aabacaf7a78975\">8f9ee77</a></td><td><code>trac #16766: Broken doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47cebb3a009164cffd6dd84ee62c6e0544c02147\">47cebb3</a></td><td><code>trac #16766: Broken doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cda4b63625f50133ceedfcd6709933f013ddfda\">6cda4b6</a></td><td><code>trac #16766: Git 101: How to create a conflict with 10 others patches in needs_review</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06e330be39aecb4b9177c2260eaee16d13eb591d\">06e330b</a></td><td><code>trac #16766: form -> from</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a9ae44eb163fd218e592c47ecb49a87cb7741d2\">1a9ae44</a></td><td><code>trac #16598: merge #16766 (documentation update)</code></td></tr></table>\n",
    "created_at": "2014-08-08T11:02:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216197",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:45"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/081aa8b39d8fceb1066a7e14ae739617fce53320">081aa8b</a></td><td><code>trac #16598: merge with 6.3.rc1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49ae09d68c23ecf4f94332187d2560144bcb6f50">49ae09d</a></td><td><code>trac #16766: Improve the doc of combinat/designs/</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d626290b67e3d14ceafa817b6c8d0388f232157e">d626290</a></td><td><code>trac #16766: we don t want designs.deprecated_function_alias</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f9ee773df53f5d60a2f4400b0aabacaf7a78975">8f9ee77</a></td><td><code>trac #16766: Broken doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47cebb3a009164cffd6dd84ee62c6e0544c02147">47cebb3</a></td><td><code>trac #16766: Broken doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cda4b63625f50133ceedfcd6709933f013ddfda">6cda4b6</a></td><td><code>trac #16766: Git 101: How to create a conflict with 10 others patches in needs_review</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06e330be39aecb4b9177c2260eaee16d13eb591d">06e330b</a></td><td><code>trac #16766: form -> from</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a9ae44eb163fd218e592c47ecb49a87cb7741d2">1a9ae44</a></td><td><code>trac #16598: merge #16766 (documentation update)</code></td></tr></table>




---

archive/issue_comments_216198.json:
```json
{
    "body": "Changed branch from **[u/ncohen/16598](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16598)** to **[u/vdelecroix/16598](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16598)**",
    "created_at": "2014-08-08T11:02:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216198",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[u/ncohen/16598](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16598)** to **[u/vdelecroix/16598](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16598)**



---

archive/issue_comments_216199.json:
```json
{
    "body": "Changed dependencies from **#16553** to **#16553, #16766**",
    "created_at": "2014-08-08T11:08:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216199",
    "user": "https://github.com/videlec"
}
```

Changed dependencies from **#16553** to **#16553, #16766**



---

archive/issue_comments_216200.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@nathanncohen](#comment:44):\n> Yoooooooo !!\n> \n> > There is still a subtle issue. When we ask for a relabeling we do not necessarily want to relabel the points. More precisely, if the ground set is {0,1,2,3} and I want to relabel {0:1, 1:3, 2:1, 3:0} I would like the ground set to be fixed and the blocks to be changed... what do you think?\n\n> \n> I don't understand. You are just relabeling with the same ground sets, what's the problem with that ? And how does that badly affect the blocks ? Some will change, some will not, what's the problem ?\n\n```\nsage: I = IncidenceStructure(4,[[0,1,2],[1,3]])\nsage: I.ground_set()\n[0, 1, 2, 3]\nsage: I.relabel({0:3,1:2,2:1,3:0})\nsage: I.ground_set()\n[3, 2, 1, 0]\n```\nthe ground set has changed...\n\nVincent",
    "created_at": "2014-08-09T06:51:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216200",
    "user": "https://github.com/videlec"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@nathanncohen](#comment:44):
> Yoooooooo !!
> 
> > There is still a subtle issue. When we ask for a relabeling we do not necessarily want to relabel the points. More precisely, if the ground set is {0,1,2,3} and I want to relabel {0:1, 1:3, 2:1, 3:0} I would like the ground set to be fixed and the blocks to be changed... what do you think?

> 
> I don't understand. You are just relabeling with the same ground sets, what's the problem with that ? And how does that badly affect the blocks ? Some will change, some will not, what's the problem ?

```
sage: I = IncidenceStructure(4,[[0,1,2],[1,3]])
sage: I.ground_set()
[0, 1, 2, 3]
sage: I.relabel({0:3,1:2,2:1,3:0})
sage: I.ground_set()
[3, 2, 1, 0]
```
the ground set has changed...

Vincent



---

archive/issue_comments_216201.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nYooooo !\n\n> ```\n> sage: I = IncidenceStructure(4,[[0,1,2],[1,3]])\n> sage: I.ground_set()\n> [0, 1, 2, 3]\n> sage: I.relabel({0:3,1:2,2:1,3:0})\n> sage: I.ground_set()\n> [3, 2, 1, 0]\n> ```\n> the ground set has changed...\n\nWell, as a list it has, not as a set... \n\nI think that being smart here only raises new problems. Relabelling all blocks takes much more time and memory than relabelling the points only. We could hide that by returning a sorted list of points, but well... \n\nNathann",
    "created_at": "2014-08-10T07:41:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216201",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:48" align="right">comment:48</div>

Yooooo !

> ```
> sage: I = IncidenceStructure(4,[[0,1,2],[1,3]])
> sage: I.ground_set()
> [0, 1, 2, 3]
> sage: I.relabel({0:3,1:2,2:1,3:0})
> sage: I.ground_set()
> [3, 2, 1, 0]
> ```
> the ground set has changed...

Well, as a list it has, not as a set... 

I think that being smart here only raises new problems. Relabelling all blocks takes much more time and memory than relabelling the points only. We could hide that by returning a sorted list of points, but well... 

Nathann



---

archive/issue_comments_216202.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nHello,\n\nAll right, we will see in the future.\n\nVincent",
    "created_at": "2014-08-10T13:04:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216202",
    "user": "https://github.com/videlec"
}
```

<div id="comment:49" align="right">comment:49</div>

Hello,

All right, we will see in the future.

Vincent



---

archive/issue_events_237274.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-10T13:04:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237274"
}
```



---

archive/issue_events_237275.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-10T13:04:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237275"
}
```



---

archive/issue_events_237276.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237276"
}
```



---

archive/issue_events_237277.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237277"
}
```



---

archive/issue_events_237278.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-10T23:06:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237278"
}
```



---

archive/issue_events_237279.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-10T23:06:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237279"
}
```



---

archive/issue_comments_216203.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReviewer name",
    "created_at": "2014-08-10T23:06:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216203",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:51" align="right">comment:51</div>

Reviewer name



---

archive/issue_events_237280.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-11T07:40:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237280"
}
```



---

archive/issue_events_237281.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-11T07:40:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237281"
}
```



---

archive/issue_comments_216204.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2014-08-11T07:40:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216204",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_216205.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/16598](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16598)** to **[public/16598](https://github.com/sagemath/sagetrac-mirror/tree/public/16598)**",
    "created_at": "2014-08-11T08:01:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216205",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[u/vdelecroix/16598](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16598)** to **[public/16598](https://github.com/sagemath/sagetrac-mirror/tree/public/16598)**



---

archive/issue_comments_216206.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f1fb98b5a72459b220b87f1c902bda62e4a166a\">5f1fb98</a></td><td><code>trac #16598: Merged with 6.3</code></td></tr></table>\n",
    "created_at": "2014-08-11T08:01:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216206",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:53"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f1fb98b5a72459b220b87f1c902bda62e4a166a">5f1fb98</a></td><td><code>trac #16598: Merged with 6.3</code></td></tr></table>




---

archive/issue_comments_216207.json:
```json
{
    "body": "Changed commit from **[1a9ae44](https://github.com/sagemath/sagetrac-mirror/commit/1a9ae44eb163fd218e592c47ecb49a87cb7741d2)** to **[5f1fb98](https://github.com/sagemath/sagetrac-mirror/commit/5f1fb98b5a72459b220b87f1c902bda62e4a166a)**",
    "created_at": "2014-08-11T08:01:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216207",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[1a9ae44](https://github.com/sagemath/sagetrac-mirror/commit/1a9ae44eb163fd218e592c47ecb49a87cb7741d2)** to **[5f1fb98](https://github.com/sagemath/sagetrac-mirror/commit/5f1fb98b5a72459b220b87f1c902bda62e4a166a)**



---

archive/issue_comments_216208.json:
```json
{
    "body": "Changed branch from **[public/16598](https://github.com/sagemath/sagetrac-mirror/tree/public/16598)** to **[5f1fb98](https://github.com/sagemath/sagetrac-mirror/commit/5f1fb98b5a72459b220b87f1c902bda62e4a166a)**",
    "created_at": "2014-08-11T15:01:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16598#issuecomment-216208",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/16598](https://github.com/sagemath/sagetrac-mirror/tree/public/16598)** to **[5f1fb98](https://github.com/sagemath/sagetrac-mirror/commit/5f1fb98b5a72459b220b87f1c902bda62e4a166a)**



---

archive/issue_events_237282.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-11T15:01:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237282"
}
```



---

archive/issue_events_237283.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "de8eb16629ffc16b349d68df9eccee067684d019",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-08-11T15:01:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16598",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16598#event-237283"
}
```
