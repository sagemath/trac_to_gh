# Issue 16931: Elliptic curve point counting over F_q using PARI

archive/issues_016694.json:
```json
{
    "assignees": [],
    "body": "PARI now supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!\n\nCC:  @pjbruin @JohnCremona @kedlaya @jpflori @defeo\n\nKeywords: **sd87**\n\nBranch/Commit: **[`209e7d6`](https://github.com/sagemath/sagetrac-mirror/commit/209e7d619854f31458df537125422378a5cb9a01)**\n\nReviewer: **David Roe, John Cremona**\n\nAuthor: **Jeroen Demeyer**\n\nComponent: **elliptic curves**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16931_\n\n",
    "closed_at": "2018-11-15T22:57:15Z",
    "created_at": "2014-09-04T12:54:32Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20elliptic%20curves",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Elliptic curve point counting over F_q using PARI",
    "type": "issue",
    "updated_at": "2018-11-15T22:57:15Z",
    "url": "https://github.com/sagemath/sage/issues/16931",
    "user": "https://github.com/jdemeyer"
}
```
PARI now supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!

CC:  @pjbruin @JohnCremona @kedlaya @jpflori @defeo

Keywords: **sd87**

Branch/Commit: **[`209e7d6`](https://github.com/sagemath/sagetrac-mirror/commit/209e7d619854f31458df537125422378a5cb9a01)**

Reviewer: **David Roe, John Cremona**

Author: **Jeroen Demeyer**

Component: **elliptic curves**

_Issue created by migration from https://trac.sagemath.org/ticket/16931_





---

archive/issue_events_242029.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-04T12:54:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242029"
}
```



---

archive/issue_events_242030.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-04T12:54:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20elliptic%20curves",
    "label_color": "0000ff",
    "label_name": "c: elliptic curves",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242030"
}
```



---

archive/issue_events_242031.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-04T12:54:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242031"
}
```



---

archive/issue_events_242032.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-04T12:54:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242032"
}
```



---

archive/issue_comments_223349.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,12 @@\n The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!\n+\n+Sneak preview:\n+\n+```\n+sage: k.<a> = GF(5^20)\n+sage: E = EllipticCurve_from_j(a)\n+sage: timeit('E.cardinality_bsgs()')\n+5 loops, best of 3: 2.18 s per loop\n+sage: timeit('E.cardinality_pari()')\n+625 loops, best of 3: 18.8 \u00b5s per loop\n+```\n``````\n",
    "created_at": "2014-09-04T12:57:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223349",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,12 @@
 The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!
+
+Sneak preview:
+
+```
+sage: k.<a> = GF(5^20)
+sage: E = EllipticCurve_from_j(a)
+sage: timeit('E.cardinality_bsgs()')
+5 loops, best of 3: 2.18 s per loop
+sage: timeit('E.cardinality_pari()')
+625 loops, best of 3: 18.8 µs per loop
+```
``````




---

archive/issue_comments_223350.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,15 @@\n The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!\n \n Sneak preview:\n+\n+```\n+sage: k.<a> = GF(2^5, impl='pari_ffelt')\n+sage: E = EllipticCurve_from_j(a)\n+sage: timeit('E.cardinality_exhaustive()')\n+5 loops, best of 3: 212 ms per loop\n+sage: timeit('E.cardinality_pari()')\n+625 loops, best of 3: 10.6 \u00b5s per loop\n+```\n \n ```\n sage: k.<a> = GF(5^20)\n``````\n",
    "created_at": "2014-09-04T13:02:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223350",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,15 @@
 The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!
 
 Sneak preview:
+
+```
+sage: k.<a> = GF(2^5, impl='pari_ffelt')
+sage: E = EllipticCurve_from_j(a)
+sage: timeit('E.cardinality_exhaustive()')
+5 loops, best of 3: 212 ms per loop
+sage: timeit('E.cardinality_pari()')
+625 loops, best of 3: 10.6 µs per loop
+```
 
 ```
 sage: k.<a> = GF(5^20)
``````




---

archive/issue_comments_223351.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,21 +1 @@\n The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!\n-\n-Sneak preview:\n-\n-```\n-sage: k.<a> = GF(2^5, impl='pari_ffelt')\n-sage: E = EllipticCurve_from_j(a)\n-sage: timeit('E.cardinality_exhaustive()')\n-5 loops, best of 3: 212 ms per loop\n-sage: timeit('E.cardinality_pari()')\n-625 loops, best of 3: 10.6 \u00b5s per loop\n-```\n-\n-```\n-sage: k.<a> = GF(5^20)\n-sage: E = EllipticCurve_from_j(a)\n-sage: timeit('E.cardinality_bsgs()')\n-5 loops, best of 3: 2.18 s per loop\n-sage: timeit('E.cardinality_pari()')\n-625 loops, best of 3: 18.8 \u00b5s per loop\n-```\n``````\n",
    "created_at": "2014-09-04T14:05:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223351",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,21 +1 @@
 The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!
-
-Sneak preview:
-
-```
-sage: k.<a> = GF(2^5, impl='pari_ffelt')
-sage: E = EllipticCurve_from_j(a)
-sage: timeit('E.cardinality_exhaustive()')
-5 loops, best of 3: 212 ms per loop
-sage: timeit('E.cardinality_pari()')
-625 loops, best of 3: 10.6 µs per loop
-```
-
-```
-sage: k.<a> = GF(5^20)
-sage: E = EllipticCurve_from_j(a)
-sage: timeit('E.cardinality_bsgs()')
-5 loops, best of 3: 2.18 s per loop
-sage: timeit('E.cardinality_pari()')
-625 loops, best of 3: 18.8 µs per loop
-```
``````




---

archive/issue_comments_223352.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nNever mind the timings, PARI does its own caching now...",
    "created_at": "2014-09-04T14:05:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223352",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

Never mind the timings, PARI does its own caching now...



---

archive/issue_comments_223353.json:
```json
{
    "body": "Changed dependencies from **#15767, #16927, #8373, #16930** to **#15767, #16927, #8373, #16930, #16934**",
    "created_at": "2014-09-07T21:31:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223353",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#15767, #16927, #8373, #16930** to **#15767, #16927, #8373, #16930, #16934**



---

archive/issue_comments_223354.json:
```json
{
    "body": "Branch: **[u/jdemeyer/ticket/16931](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16931)**",
    "created_at": "2014-09-08T12:45:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223354",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/ticket/16931](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16931)**



---

archive/issue_comments_223355.json:
```json
{
    "body": "Commit: **[`51a753d`](https://github.com/sagemath/sagetrac-mirror/commit/51a753d5ec93fcd9c0228450eb6623827d4c97b1)**",
    "created_at": "2014-09-08T14:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223355",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`51a753d`](https://github.com/sagemath/sagetrac-mirror/commit/51a753d5ec93fcd9c0228450eb6623827d4c97b1)**



---

archive/issue_comments_223356.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8286a4c3e661246576813bbfb470a4b5e05eca77\"><code>8286a4c</code></a></td><td><code>Add ffprimroot, fflog, fforder</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63ec17af4cc391fb5bcfef7c9c113488806dac21\"><code>63ec17a</code></a></td><td><code>Allow modulus=\"primitive\" in finite field constructor</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abcf8a6d4042dc08a3d10d494da1df2eba62a592\"><code>abcf8a6</code></a></td><td><code>Deprecate non-polynomial modulus argument in constructor of implementations of finite fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8cdbd7920c73713a3a8dbea697451649f0434f0a\"><code>8cdbd79</code></a></td><td><code>Improve computation of j-invariant over smaller field</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f805a232edca4511d8576f669ee0d4587f22170\"><code>8f805a2</code></a></td><td><code>Trac 16934: always put finite field implementation in factory key</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8923777303eeee0c48736316f03bf55f4bde2380\"><code>8923777</code></a></td><td><code>Trac 16934: remove method FiniteFieldFactory.other_keys()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e2681e0df90efaeb294a2010943cfe2c0e1bdc3\"><code>5e2681e</code></a></td><td><code>Trac 16934: more cleaning up</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffb74fa8116d1a60e255300370ca4467e3b36732\"><code>ffb74fa</code></a></td><td><code>Trac 16934: add doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51a753d5ec93fcd9c0228450eb6623827d4c97b1\"><code>51a753d</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>\n",
    "created_at": "2014-09-08T14:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223356",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8286a4c3e661246576813bbfb470a4b5e05eca77"><code>8286a4c</code></a></td><td><code>Add ffprimroot, fflog, fforder</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63ec17af4cc391fb5bcfef7c9c113488806dac21"><code>63ec17a</code></a></td><td><code>Allow modulus="primitive" in finite field constructor</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abcf8a6d4042dc08a3d10d494da1df2eba62a592"><code>abcf8a6</code></a></td><td><code>Deprecate non-polynomial modulus argument in constructor of implementations of finite fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8cdbd7920c73713a3a8dbea697451649f0434f0a"><code>8cdbd79</code></a></td><td><code>Improve computation of j-invariant over smaller field</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f805a232edca4511d8576f669ee0d4587f22170"><code>8f805a2</code></a></td><td><code>Trac 16934: always put finite field implementation in factory key</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8923777303eeee0c48736316f03bf55f4bde2380"><code>8923777</code></a></td><td><code>Trac 16934: remove method FiniteFieldFactory.other_keys()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e2681e0df90efaeb294a2010943cfe2c0e1bdc3"><code>5e2681e</code></a></td><td><code>Trac 16934: more cleaning up</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffb74fa8116d1a60e255300370ca4467e3b36732"><code>ffb74fa</code></a></td><td><code>Trac 16934: add doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51a753d5ec93fcd9c0228450eb6623827d4c97b1"><code>51a753d</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>




---

archive/issue_comments_223357.json:
```json
{
    "body": "Changed dependencies from **#15767, #16927, #8373, #16930, #16934** to **#15767, #16927, #8373, #16930, #16934, #16944**",
    "created_at": "2014-09-08T14:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223357",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#15767, #16927, #8373, #16930, #16934** to **#15767, #16927, #8373, #16930, #16934, #16944**



---

archive/issue_comments_223358.json:
```json
{
    "body": "Changed dependencies from **#15767, #16927, #8373, #16930, #16934, #16944** to **#15767, #16927, #8373, #16930, #16934, #16944, #16946**",
    "created_at": "2014-09-08T21:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223358",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#15767, #16927, #8373, #16930, #16934, #16944** to **#15767, #16927, #8373, #16930, #16934, #16944, #16946**



---

archive/issue_comments_223359.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ff6d122251c38719f6e7c3340722802f52b160e\"><code>9ff6d12</code></a></td><td><code>Return FFELT in GF(q) -> PARI conversion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9335f7698bad8c391582f05b621afec092789039\"><code>9335f76</code></a></td><td><code>Add residue_field() method to polynomials over GF(p)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aeae7f9327699f880882d6a1db2083425a0ab7b5\"><code>aeae7f9</code></a></td><td><code>Merge branches 'ticket/16944' and 'ticket/16946' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f05d8c11fa2c57015063ab8466d07fb09d54493e\"><code>f05d8c1</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>\n",
    "created_at": "2014-09-08T21:39:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223359",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ff6d122251c38719f6e7c3340722802f52b160e"><code>9ff6d12</code></a></td><td><code>Return FFELT in GF(q) -> PARI conversion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9335f7698bad8c391582f05b621afec092789039"><code>9335f76</code></a></td><td><code>Add residue_field() method to polynomials over GF(p)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aeae7f9327699f880882d6a1db2083425a0ab7b5"><code>aeae7f9</code></a></td><td><code>Merge branches 'ticket/16944' and 'ticket/16946' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f05d8c11fa2c57015063ab8466d07fb09d54493e"><code>f05d8c1</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>




---

archive/issue_comments_223360.json:
```json
{
    "body": "Changed commit from **[`51a753d`](https://github.com/sagemath/sagetrac-mirror/commit/51a753d5ec93fcd9c0228450eb6623827d4c97b1)** to **[`f05d8c1`](https://github.com/sagemath/sagetrac-mirror/commit/f05d8c11fa2c57015063ab8466d07fb09d54493e)**",
    "created_at": "2014-09-08T21:39:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223360",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`51a753d`](https://github.com/sagemath/sagetrac-mirror/commit/51a753d5ec93fcd9c0228450eb6623827d4c97b1)** to **[`f05d8c1`](https://github.com/sagemath/sagetrac-mirror/commit/f05d8c11fa2c57015063ab8466d07fb09d54493e)**



---

archive/issue_comments_223361.json:
```json
{
    "body": "Changed commit from **[`f05d8c1`](https://github.com/sagemath/sagetrac-mirror/commit/f05d8c11fa2c57015063ab8466d07fb09d54493e)** to **[`6a80f7f`](https://github.com/sagemath/sagetrac-mirror/commit/6a80f7f165f699d382a03b000d84ff4f35ef4d47)**",
    "created_at": "2014-09-08T22:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223361",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f05d8c1`](https://github.com/sagemath/sagetrac-mirror/commit/f05d8c11fa2c57015063ab8466d07fb09d54493e)** to **[`6a80f7f`](https://github.com/sagemath/sagetrac-mirror/commit/6a80f7f165f699d382a03b000d84ff4f35ef4d47)**



---

archive/issue_comments_223362.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a80f7f165f699d382a03b000d84ff4f35ef4d47\"><code>6a80f7f</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>\n",
    "created_at": "2014-09-08T22:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223362",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a80f7f165f699d382a03b000d84ff4f35ef4d47"><code>6a80f7f</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>




---

archive/issue_comments_223363.json:
```json
{
    "body": "Changed dependencies from **#15767, #16927, #8373, #16930, #16934, #16944, #16946** to **#15767, #16927, #8373, #16930, #16934, #16944, #16946, #16947**",
    "created_at": "2014-09-09T09:42:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223363",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#15767, #16927, #8373, #16930, #16934, #16944, #16946** to **#15767, #16927, #8373, #16930, #16934, #16944, #16946, #16947**



---

archive/issue_comments_223364.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c3274e5bd7b02cbbc1d35e51bef840e01a4534b\"><code>7c3274e</code></a></td><td><code>Use pari_ffelt for residue fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28ddd587d3c2ba71d2bb1d33e7c47a16df7a3922\"><code>28ddd58</code></a></td><td><code>Merge branches 'ticket/16944' and 'ticket/16947' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f9c038c5050535412649afb1fb19f473a280700\"><code>4f9c038</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>\n",
    "created_at": "2014-09-09T12:28:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223364",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c3274e5bd7b02cbbc1d35e51bef840e01a4534b"><code>7c3274e</code></a></td><td><code>Use pari_ffelt for residue fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28ddd587d3c2ba71d2bb1d33e7c47a16df7a3922"><code>28ddd58</code></a></td><td><code>Merge branches 'ticket/16944' and 'ticket/16947' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f9c038c5050535412649afb1fb19f473a280700"><code>4f9c038</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>




---

archive/issue_comments_223365.json:
```json
{
    "body": "Changed commit from **[`6a80f7f`](https://github.com/sagemath/sagetrac-mirror/commit/6a80f7f165f699d382a03b000d84ff4f35ef4d47)** to **[`4f9c038`](https://github.com/sagemath/sagetrac-mirror/commit/4f9c038c5050535412649afb1fb19f473a280700)**",
    "created_at": "2014-09-09T12:28:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223365",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6a80f7f`](https://github.com/sagemath/sagetrac-mirror/commit/6a80f7f165f699d382a03b000d84ff4f35ef4d47)** to **[`4f9c038`](https://github.com/sagemath/sagetrac-mirror/commit/4f9c038c5050535412649afb1fb19f473a280700)**



---

archive/issue_comments_223366.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2049945d20f8e5561da7b1e80ece0255d43b3bdd\"><code>2049945</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>\n",
    "created_at": "2014-09-09T13:55:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223366",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2049945d20f8e5561da7b1e80ece0255d43b3bdd"><code>2049945</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>




---

archive/issue_comments_223367.json:
```json
{
    "body": "Changed commit from **[`4f9c038`](https://github.com/sagemath/sagetrac-mirror/commit/4f9c038c5050535412649afb1fb19f473a280700)** to **[`2049945`](https://github.com/sagemath/sagetrac-mirror/commit/2049945d20f8e5561da7b1e80ece0255d43b3bdd)**",
    "created_at": "2014-09-09T13:55:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223367",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4f9c038`](https://github.com/sagemath/sagetrac-mirror/commit/4f9c038c5050535412649afb1fb19f473a280700)** to **[`2049945`](https://github.com/sagemath/sagetrac-mirror/commit/2049945d20f8e5561da7b1e80ece0255d43b3bdd)**



---

archive/issue_comments_223368.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!\n+\n+It has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606), however it seems that these only appear over large fields which were infeasible with the old Sage algorithm anyway, so we don't really lose anything.\n``````\n",
    "created_at": "2014-09-09T19:43:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223368",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!
+
+It has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606), however it seems that these only appear over large fields which were infeasible with the old Sage algorithm anyway, so we don't really lose anything.
``````




---

archive/issue_comments_223369.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!\n \n-It has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606), however it seems that these only appear over large fields which were infeasible with the old Sage algorithm anyway, so we don't really lose anything.\n+It has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606), however it seems that these only appear over large fields of small characteristic which were infeasible with the old Sage algorithm anyway, so we don't really lose anything.\n``````\n",
    "created_at": "2014-09-09T19:43:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223369",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!
 
-It has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606), however it seems that these only appear over large fields which were infeasible with the old Sage algorithm anyway, so we don't really lose anything.
+It has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606), however it seems that these only appear over large fields of small characteristic which were infeasible with the old Sage algorithm anyway, so we don't really lose anything.
``````




---

archive/issue_comments_223370.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!\n \n-It has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606), however it seems that these only appear over large fields of small characteristic which were infeasible with the old Sage algorithm anyway, so we don't really lose anything.\n+It has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606), so we can currently not remove the old code...\n``````\n",
    "created_at": "2014-09-09T20:38:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223370",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!
 
-It has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606), however it seems that these only appear over large fields of small characteristic which were infeasible with the old Sage algorithm anyway, so we don't really lose anything.
+It has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606), so we can currently not remove the old code...
``````




---

archive/issue_comments_223371.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!\n \n-It has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606), so we can currently not remove the old code...\n+The PARI implementation has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606) though...\n``````\n",
    "created_at": "2014-09-09T20:48:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223371",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!
 
-It has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606), so we can currently not remove the old code...
+The PARI implementation has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606) though...
``````




---

archive/issue_comments_223372.json:
```json
{
    "body": "Upstream: **Reported upstream. Developers acknowledge bug.**",
    "created_at": "2014-09-09T20:48:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223372",
    "user": "https://github.com/jdemeyer"
}
```

Upstream: **Reported upstream. Developers acknowledge bug.**



---

archive/issue_comments_223373.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!\n \n-The PARI implementation has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606) though...\n+The implementation in PARI-2.7.1 has some [issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606) but these are fixed in PARI master.\n``````\n",
    "created_at": "2014-09-14T16:37:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223373",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!
 
-The PARI implementation has some [known issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606) though...
+The implementation in PARI-2.7.1 has some [issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606) but these are fixed in PARI master.
``````




---

archive/issue_comments_223374.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Developers acknowledge bug.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2014-09-14T16:37:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223374",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Reported upstream. Developers acknowledge bug.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_223375.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1 @@\n-The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!\n-\n-The implementation in PARI-2.7.1 has some [issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606) but these are fixed in PARI master.\n+PARI now supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!\n``````\n",
    "created_at": "2015-12-11T13:42:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223375",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1 @@
-The new version of PARI (#15767) supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!
-
-The implementation in PARI-2.7.1 has some [issues](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1606) but these are fixed in PARI master.
+PARI now supports point counting over `F_q` instead of `F_p`. We should use this new functionality in Sage!
``````




---

archive/issue_events_242033.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-12-11T13:42:47Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "title_is": "Elliptic curve point counting over F_q using PARI",
    "title_was": "Elliptic curve point counting over F_q using new PARI",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242033"
}
```



---

archive/issue_events_242034.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-12-11T13:42:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242034"
}
```



---

archive/issue_events_242035.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-12-11T13:42:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242035"
}
```



---

archive/issue_comments_223376.json:
```json
{
    "body": "Changed dependencies from **#15767, #16927, #8373, #16930, #16934, #16944, #16946, #16947** to **#16949**",
    "created_at": "2015-12-11T13:42:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223376",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#15767, #16927, #8373, #16930, #16934, #16944, #16946, #16947** to **#16949**



---

archive/issue_comments_223377.json:
```json
{
    "body": "Changed commit from **[`2049945`](https://github.com/sagemath/sagetrac-mirror/commit/2049945d20f8e5561da7b1e80ece0255d43b3bdd)** to **[`d760c63`](https://github.com/sagemath/sagetrac-mirror/commit/d760c63324cf7f0b4f6656455ad5a044f43a5200)**",
    "created_at": "2015-12-11T15:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223377",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2049945`](https://github.com/sagemath/sagetrac-mirror/commit/2049945d20f8e5561da7b1e80ece0255d43b3bdd)** to **[`d760c63`](https://github.com/sagemath/sagetrac-mirror/commit/d760c63324cf7f0b4f6656455ad5a044f43a5200)**



---

archive/issue_comments_223378.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46393f34e5bf179dfc79a4fa597838ef18910981\"><code>46393f3</code></a></td><td><code>Implement elliptic curve gens() using PARI</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d760c63324cf7f0b4f6656455ad5a044f43a5200\"><code>d760c63</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>\n",
    "created_at": "2015-12-11T15:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223378",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46393f34e5bf179dfc79a4fa597838ef18910981"><code>46393f3</code></a></td><td><code>Implement elliptic curve gens() using PARI</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d760c63324cf7f0b4f6656455ad5a044f43a5200"><code>d760c63</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>




---

archive/issue_comments_223379.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e93e62ea717e4391ec2ae441ec161ff88f3fd2c\"><code>7e93e62</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>\n",
    "created_at": "2015-12-11T15:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223379",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e93e62ea717e4391ec2ae441ec161ff88f3fd2c"><code>7e93e62</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>




---

archive/issue_comments_223380.json:
```json
{
    "body": "Changed commit from **[`d760c63`](https://github.com/sagemath/sagetrac-mirror/commit/d760c63324cf7f0b4f6656455ad5a044f43a5200)** to **[`7e93e62`](https://github.com/sagemath/sagetrac-mirror/commit/7e93e62ea717e4391ec2ae441ec161ff88f3fd2c)**",
    "created_at": "2015-12-11T15:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223380",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d760c63`](https://github.com/sagemath/sagetrac-mirror/commit/d760c63324cf7f0b4f6656455ad5a044f43a5200)** to **[`7e93e62`](https://github.com/sagemath/sagetrac-mirror/commit/7e93e62ea717e4391ec2ae441ec161ff88f3fd2c)**



---

archive/issue_events_242036.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-12-11T15:33:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242036"
}
```



---

archive/issue_comments_223381.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThanks for your work on this.  First two few small points:\n\n1. In the documentation for ellcard(), we need to say that when self is defined over Q and p is a prime of bad reduction then the number returned is the size of the group of nonsingular points on the reduction (i.e. p-1, p+1 or p depending).  I wondered about this, did some experiments, and then verified with the pari documentation.\n\n2. Why is ellorder() removed?\n\nI think someone other than me should review this.  There is a vast amount of code written by me being removed here, which is hard.  Without going into the details of the pari implementation I would not want to agree to removing the special code for j=0 and j=1728 in characteristics 2 and 3.  We had to do quite a lot of mathematics to get this right, which was not in the literature, and even the examples here are quite instructive.\n\nSecondly, the old code was careful to only ever do counting over the field generated over the prime field by the j-invariant.  From there is is quite easy to get the cardinality of any twist over any extension.  Do you know that pari does that too?  Try taking a curve over a small field, base-changing to an extension, applying  a random twist, and then asking for the cardinality.  With my code it swould take no longer than on the original.  Is that still true?\n\nI thought we had a convention for situations like this, that a Sage-only implementation could be kept and used if some parameter 'algorithm' was set?  The parameter could be 'pari' by default.",
    "created_at": "2015-12-11T15:59:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223381",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:23" align="right">comment:23</div>

Thanks for your work on this.  First two few small points:

1. In the documentation for ellcard(), we need to say that when self is defined over Q and p is a prime of bad reduction then the number returned is the size of the group of nonsingular points on the reduction (i.e. p-1, p+1 or p depending).  I wondered about this, did some experiments, and then verified with the pari documentation.

2. Why is ellorder() removed?

I think someone other than me should review this.  There is a vast amount of code written by me being removed here, which is hard.  Without going into the details of the pari implementation I would not want to agree to removing the special code for j=0 and j=1728 in characteristics 2 and 3.  We had to do quite a lot of mathematics to get this right, which was not in the literature, and even the examples here are quite instructive.

Secondly, the old code was careful to only ever do counting over the field generated over the prime field by the j-invariant.  From there is is quite easy to get the cardinality of any twist over any extension.  Do you know that pari does that too?  Try taking a curve over a small field, base-changing to an extension, applying  a random twist, and then asking for the cardinality.  With my code it swould take no longer than on the original.  Is that still true?

I thought we had a convention for situations like this, that a Sage-only implementation could be kept and used if some parameter 'algorithm' was set?  The parameter could be 'pari' by default.



---

archive/issue_comments_223382.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n> There is a vast amount of code written by me being removed here, which is hard.\n\nFor the record, I totally understand that. I had the same feeling when the PARI people implemented splitting field for polynomials over QQ which completely outperformed my implementation.\n\nHowever, I consider it a \"fact of life\" that old code has to make place for new and better code.\n\n> I thought we had a convention for situations like this, that a Sage-only implementation could be kept and used if some parameter 'algorithm' was set? The parameter could be 'pari' by default.\n\nI'm not really sure if that's a convention. Honestly, I don't really see the point of keeping the old code. I did keep all old doctests, which I think is important.",
    "created_at": "2015-12-11T16:07:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223382",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

> There is a vast amount of code written by me being removed here, which is hard.

For the record, I totally understand that. I had the same feeling when the PARI people implemented splitting field for polynomials over QQ which completely outperformed my implementation.

However, I consider it a "fact of life" that old code has to make place for new and better code.

> I thought we had a convention for situations like this, that a Sage-only implementation could be kept and used if some parameter 'algorithm' was set? The parameter could be 'pari' by default.

I'm not really sure if that's a convention. Honestly, I don't really see the point of keeping the old code. I did keep all old doctests, which I think is important.



---

archive/issue_comments_223383.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@jdemeyer](#comment:24):\n> > There is a vast amount of code written by me being removed here, which is hard.\n\n> \n> For the record, I totally understand that. I had the same feeling when the PARI people implemented splitting field for polynomials over QQ which completely outperformed my implementation.\n\nI'm glad you know how this feels.  Does Sage use the pari splitting field implementation now?\n\n> \n> However, I consider it a \"fact of life\" that old code has to make place for new and better code.\n\nOf course!   There may be some benefit in keeping an independent implementation though, in case of bugs being found later.\n\n> \n> > I thought we had a convention for situations like this, that a Sage-only implementation could be kept and used if some parameter 'algorithm' was set? The parameter could be 'pari' by default.\n\n> \n> I'm not really sure if that's a convention. Honestly, I don't really see the point of keeping the old code. I did keep all old doctests, which I think is important.\n\nAgreed -- and looking more closely I see that you did move the tests for the special cases j=0, 1728 and not *re*move them.  Thanks.\n\nI will ask the pari-devs about the other points.",
    "created_at": "2015-12-11T16:46:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223383",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@jdemeyer](#comment:24):
> > There is a vast amount of code written by me being removed here, which is hard.

> 
> For the record, I totally understand that. I had the same feeling when the PARI people implemented splitting field for polynomials over QQ which completely outperformed my implementation.

I'm glad you know how this feels.  Does Sage use the pari splitting field implementation now?

> 
> However, I consider it a "fact of life" that old code has to make place for new and better code.

Of course!   There may be some benefit in keeping an independent implementation though, in case of bugs being found later.

> 
> > I thought we had a convention for situations like this, that a Sage-only implementation could be kept and used if some parameter 'algorithm' was set? The parameter could be 'pari' by default.

> 
> I'm not really sure if that's a convention. Honestly, I don't really see the point of keeping the old code. I did keep all old doctests, which I think is important.

Agreed -- and looking more closely I see that you did move the tests for the special cases j=0, 1728 and not *re*move them.  Thanks.

I will ask the pari-devs about the other points.



---

archive/issue_comments_223384.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@JohnCremona](#comment:25):\n> I'm glad you know how this feels.  Does Sage use the pari splitting field implementation now?\n\nNo, it doesn't. PARI only works with irreducible polynomials and I'm not sure if PARI works in the relative case (where the base field is a number field). My implementation is more general.",
    "created_at": "2015-12-11T19:39:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223384",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@JohnCremona](#comment:25):
> I'm glad you know how this feels.  Does Sage use the pari splitting field implementation now?

No, it doesn't. PARI only works with irreducible polynomials and I'm not sure if PARI works in the relative case (where the base field is a number field). My implementation is more general.



---

archive/issue_comments_223385.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@JohnCremona](#comment:25):\n> looking more closely\n\n`git` tip: do you know about the `--patience` option?\n\nThe default diff algorithm in `git` tries to minimize the number of changes. But this isn't really what you want, since it might match a random empty line from the old code with an unrelated empty line from the new code. With the `--patience` option, `git` uses a different algorithm which doesn't suffer from this: even though the `diff` will be larger, logical blocks will be kept together.",
    "created_at": "2015-12-11T19:54:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223385",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@JohnCremona](#comment:25):
> looking more closely

`git` tip: do you know about the `--patience` option?

The default diff algorithm in `git` tries to minimize the number of changes. But this isn't really what you want, since it might match a random empty line from the old code with an unrelated empty line from the new code. With the `--patience` option, `git` uses a different algorithm which doesn't suffer from this: even though the `diff` will be larger, logical blocks will be kept together.



---

archive/issue_comments_223386.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/16931](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16931)** to **[u/kedlaya/ticket/16931](https://github.com/sagemath/sagetrac-mirror/tree/u/kedlaya/ticket/16931)**",
    "created_at": "2016-08-18T01:51:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223386",
    "user": "https://github.com/kedlaya"
}
```

Changed branch from **[u/jdemeyer/ticket/16931](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16931)** to **[u/kedlaya/ticket/16931](https://github.com/sagemath/sagetrac-mirror/tree/u/kedlaya/ticket/16931)**



---

archive/issue_comments_223387.json:
```json
{
    "body": "Changed commit from **[`7e93e62`](https://github.com/sagemath/sagetrac-mirror/commit/7e93e62ea717e4391ec2ae441ec161ff88f3fd2c)** to **[`2be66ca`](https://github.com/sagemath/sagetrac-mirror/commit/2be66ca92ed226775dc5a2b92cb43657e20954c6)**",
    "created_at": "2016-08-18T01:51:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223387",
    "user": "https://github.com/kedlaya"
}
```

Changed commit from **[`7e93e62`](https://github.com/sagemath/sagetrac-mirror/commit/7e93e62ea717e4391ec2ae441ec161ff88f3fd2c)** to **[`2be66ca`](https://github.com/sagemath/sagetrac-mirror/commit/2be66ca92ed226775dc5a2b92cb43657e20954c6)**



---

archive/issue_comments_223388.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nMerged with current develop branch (7.4beta0). \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46393f34e5bf179dfc79a4fa597838ef18910981\"><code>46393f3</code></a></td><td><code>Implement elliptic curve gens() using PARI</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e93e62ea717e4391ec2ae441ec161ff88f3fd2c\"><code>7e93e62</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2be66ca92ed226775dc5a2b92cb43657e20954c6\"><code>2be66ca</code></a></td><td><code>Merge branch 'u/jdemeyer/ticket/16931' into current develop (7.4beta0)</code></td></tr></table>\n",
    "created_at": "2016-08-18T01:51:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223388",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:30" align="right">comment:30</div>

Merged with current develop branch (7.4beta0). 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46393f34e5bf179dfc79a4fa597838ef18910981"><code>46393f3</code></a></td><td><code>Implement elliptic curve gens() using PARI</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e93e62ea717e4391ec2ae441ec161ff88f3fd2c"><code>7e93e62</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2be66ca92ed226775dc5a2b92cb43657e20954c6"><code>2be66ca</code></a></td><td><code>Merge branch 'u/jdemeyer/ticket/16931' into current develop (7.4beta0)</code></td></tr></table>




---

archive/issue_comments_223389.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nI'm not sure I did this merge correctly. If not, we can switch back to jdemeyer's branch.",
    "created_at": "2016-08-18T03:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223389",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:31" align="right">comment:31</div>

I'm not sure I did this merge correctly. If not, we can switch back to jdemeyer's branch.



---

archive/issue_comments_223390.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI think it's better to look at #16949 first anyway.",
    "created_at": "2016-08-18T08:51:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223390",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

I think it's better to look at #16949 first anyway.



---

archive/issue_comments_223391.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nAnd in any case, adding 4499 lines to `src/sage/libs/pari/gen.pyx` cannot be right...",
    "created_at": "2016-08-18T09:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223391",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:33" align="right">comment:33</div>

And in any case, adding 4499 lines to `src/sage/libs/pari/gen.pyx` cannot be right...



---

archive/issue_events_242037.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-18T09:20:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242037"
}
```



---

archive/issue_events_242038.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-18T09:20:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242038"
}
```



---

archive/issue_events_242039.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-18T09:20:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242039"
}
```



---

archive/issue_events_242040.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-18T09:20:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242040"
}
```



---

archive/issue_comments_223392.json:
```json
{
    "body": "Changed branch from **[u/kedlaya/ticket/16931](https://github.com/sagemath/sagetrac-mirror/tree/u/kedlaya/ticket/16931)** to **[u/jdemeyer/ticket/16931](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16931)**",
    "created_at": "2016-08-18T09:39:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223392",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/kedlaya/ticket/16931](https://github.com/sagemath/sagetrac-mirror/tree/u/kedlaya/ticket/16931)** to **[u/jdemeyer/ticket/16931](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16931)**



---

archive/issue_comments_223393.json:
```json
{
    "body": "Changed commit from **[`2be66ca`](https://github.com/sagemath/sagetrac-mirror/commit/2be66ca92ed226775dc5a2b92cb43657e20954c6)** to **[`78133cf`](https://github.com/sagemath/sagetrac-mirror/commit/78133cf80ce8d5265139ad704f43a66e2f144a36)**",
    "created_at": "2016-08-18T14:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223393",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2be66ca`](https://github.com/sagemath/sagetrac-mirror/commit/2be66ca92ed226775dc5a2b92cb43657e20954c6)** to **[`78133cf`](https://github.com/sagemath/sagetrac-mirror/commit/78133cf80ce8d5265139ad704f43a66e2f144a36)**



---

archive/issue_comments_223394.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e6e6b51b8b8fd3077ae40b455be55f0da842eae\"><code>9e6e6b5</code></a></td><td><code>Further fixes to abelian_group() and gens()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78133cf80ce8d5265139ad704f43a66e2f144a36\"><code>78133cf</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>\n",
    "created_at": "2016-08-18T14:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223394",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e6e6b51b8b8fd3077ae40b455be55f0da842eae"><code>9e6e6b5</code></a></td><td><code>Further fixes to abelian_group() and gens()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78133cf80ce8d5265139ad704f43a66e2f144a36"><code>78133cf</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>




---

archive/issue_comments_223395.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@JohnCremona](#comment:23):\n> Secondly, the old code was careful to only ever do counting over the field generated over the prime field by the j-invariant.  From there is is quite easy to get the cardinality of any twist over any extension.  Do you know that pari does that too?  Try taking a curve over a small field, base-changing to an extension, applying  a random twist, and then asking for the cardinality.  With my code it swould take no longer than on the original.  Is that still true?\n\nThis still has to be checked.",
    "created_at": "2016-08-18T14:30:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223395",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@JohnCremona](#comment:23):
> Secondly, the old code was careful to only ever do counting over the field generated over the prime field by the j-invariant.  From there is is quite easy to get the cardinality of any twist over any extension.  Do you know that pari does that too?  Try taking a curve over a small field, base-changing to an extension, applying  a random twist, and then asking for the cardinality.  With my code it swould take no longer than on the original.  Is that still true?

This still has to be checked.



---

archive/issue_comments_223396.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@JohnCremona](#comment:25):\n> I will ask the pari-devs about the other points.\n\nJohn, did you do this? I don't find anything on the PARI mailing lists.",
    "created_at": "2016-08-18T14:38:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223396",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@JohnCremona](#comment:25):
> I will ask the pari-devs about the other points.

John, did you do this? I don't find anything on the PARI mailing lists.



---

archive/issue_comments_223397.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@jdemeyer](#comment:37):\n> Replying to [@JohnCremona](#comment:25):\n> > I will ask the pari-devs about the other points.\n\n> \n> John, did you do this? I don't find anything on the PARI mailing lists.\n\nI emailed Bill and Karim, CC-ing you, and this was their reply (last December):\n\nOn Fri, Dec 11, 2015 at 04:58:38PM +0000, John Cremona wrote:\n> Dear Karim and Bill,\n\n>\n>1.  I put a lot of effort into the cases j=0 and j=1728, which in\n> characteristics 2 and 3 (when they are the same case!) required\n> considerable care.  For example, for p=2 the number of isomorphism\n> classes is either 3 or 7 depending on the parity of the degree over\n> F_2, i.e. that is the number of twists, so the idea is to determine\n> which of the 3 or 7 cases you are in and apply the appropriate\n>formula.  What does pari do in these cases?\n\nFor p=3, this is the function F3xq_ellcardj().\nThe curve and its twists become identical in some degree-6 extension\nof the base field so we can identify the twist by using Kummer theory.\nThe formula is not straightforward, but optimal for efficiency.\n\nFor p=2, I never finished to compute the equivalent formula\n(I think one need a degree 24 extension).\nSo instead we use random points to discriminate between the possible\ncandidates given by Deuring. This is done in F2xq_ellcard().\n\nI wrote about one-sixth of the formula. If you know about the complete\nformula in this case, please tell me!\n\n> 2. If the j-invariant is defined over a much smaller field than the\n> field of definition of the curve, then what I do (or Sage does) is to\n> point-count on some curve with that j, over the field generated over\n> the prime field by j;  use the standard formula to get the point-count\n> of that curve over the original field of definition; and then decide\n> on whether a final quadratic twist is needed.  Does your code do that?\n\nWe do not always do it, because computing minimal polynomial was\nquite slow. Quite recently we have added faster methods to compute the\nminimal polynomial so we can revisit this point.\n\nPractical example with this would be welcome.\n\nCheers,\nBill.",
    "created_at": "2016-08-18T19:34:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223397",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@jdemeyer](#comment:37):
> Replying to [@JohnCremona](#comment:25):
> > I will ask the pari-devs about the other points.

> 
> John, did you do this? I don't find anything on the PARI mailing lists.

I emailed Bill and Karim, CC-ing you, and this was their reply (last December):

On Fri, Dec 11, 2015 at 04:58:38PM +0000, John Cremona wrote:
> Dear Karim and Bill,

>
>1.  I put a lot of effort into the cases j=0 and j=1728, which in
> characteristics 2 and 3 (when they are the same case!) required
> considerable care.  For example, for p=2 the number of isomorphism
> classes is either 3 or 7 depending on the parity of the degree over
> F_2, i.e. that is the number of twists, so the idea is to determine
> which of the 3 or 7 cases you are in and apply the appropriate
>formula.  What does pari do in these cases?

For p=3, this is the function F3xq_ellcardj().
The curve and its twists become identical in some degree-6 extension
of the base field so we can identify the twist by using Kummer theory.
The formula is not straightforward, but optimal for efficiency.

For p=2, I never finished to compute the equivalent formula
(I think one need a degree 24 extension).
So instead we use random points to discriminate between the possible
candidates given by Deuring. This is done in F2xq_ellcard().

I wrote about one-sixth of the formula. If you know about the complete
formula in this case, please tell me!

> 2. If the j-invariant is defined over a much smaller field than the
> field of definition of the curve, then what I do (or Sage does) is to
> point-count on some curve with that j, over the field generated over
> the prime field by j;  use the standard formula to get the point-count
> of that curve over the original field of definition; and then decide
> on whether a final quadratic twist is needed.  Does your code do that?

We do not always do it, because computing minimal polynomial was
quite slow. Quite recently we have added faster methods to compute the
minimal polynomial so we can revisit this point.

Practical example with this would be welcome.

Cheers,
Bill.



---

archive/issue_comments_223398.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nI also sort of feel it might be useful to keep the old Sage point counting code (exhaustive/bsgs/special j's), modify the _pari version and keep the wrapper dealing with field of definition and special j's.\n\nWith this sort of code it is always better to be able to double check results btw two independent implementations.",
    "created_at": "2016-11-17T15:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223398",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:39" align="right">comment:39</div>

I also sort of feel it might be useful to keep the old Sage point counting code (exhaustive/bsgs/special j's), modify the _pari version and keep the wrapper dealing with field of definition and special j's.

With this sort of code it is always better to be able to double check results btw two independent implementations.



---

archive/issue_comments_223399.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nThanks for saying that, as it sounds better not coming from me.  I put a lot of work into that, knowing quite well that it was no good for cryptographically large cases.",
    "created_at": "2016-11-17T15:47:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223399",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:40" align="right">comment:40</div>

Thanks for saying that, as it sounds better not coming from me.  I put a lot of work into that, knowing quite well that it was no good for cryptographically large cases.



---

archive/issue_comments_223400.json:
```json
{
    "body": "Changed keywords from none to **sd87**",
    "created_at": "2017-07-17T17:42:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223400",
    "user": "https://github.com/roed314"
}
```

Changed keywords from none to **sd87**



---

archive/issue_comments_223401.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nFrom what I see in PARI/GP code, all special cases are now specially treated:\n* p=2: http://pari.math.u-bordeaux.fr/cgi-bin/gitweb.cgi?p=pari.git;a=blob;f=src/basemath/F2xqE.c;h=ea2ad6eb00c5d1f7c03046c454a2fb67aa61eb9e;hb=HEAD#l805 and commit http://pari.math.u-bordeaux.fr/cgi-bin/gitweb.cgi?p=pari.git;a=blobdiff;f=src/basemath/F2xqE.c;h=3c183ebcd1bec9545fa489fb2f0303961b2d99b2;hp=a057f8c51201c23f7a7c54390c8f9e6c66c1387c;hb=b2648cdaec00f184010132847748c4dbfa90dfba;hpb=0135506024b4d42f388f68d7b74f41217dd93719\n* p=3: http://pari.math.u-bordeaux.fr/cgi-bin/gitweb.cgi?p=pari.git;a=blob;f=src/basemath/FlxqE.c;h=e91d28ccb66f4c24ffc165f84e667d2f76598741;hb=HEAD#l1576 and commit http://pari.math.u-bordeaux.fr/cgi-bin/gitweb.cgi?p=pari.git;a=commit;h=3f93b26f2bdc7188bc59e11b033e2d067274ba14\n* p>3: http://pari.math.u-bordeaux.fr/cgi-bin/gitweb.cgi?p=pari.git;a=blob;f=src/basemath/FlxqE.c;h=e91d28ccb66f4c24ffc165f84e667d2f76598741;hb=HEAD#l1605 and http://pari.math.u-bordeaux.fr/cgi-bin/gitweb.cgi?p=pari.git;a=blob;f=src/basemath/FpE.c;h=d1574d410a08b9ede9e68b8275afc00d1a18873e;hb=HEAD#l1946",
    "created_at": "2017-07-17T19:41:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223401",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:43" align="right">comment:43</div>

From what I see in PARI/GP code, all special cases are now specially treated:
* p=2: http://pari.math.u-bordeaux.fr/cgi-bin/gitweb.cgi?p=pari.git;a=blob;f=src/basemath/F2xqE.c;h=ea2ad6eb00c5d1f7c03046c454a2fb67aa61eb9e;hb=HEAD#l805 and commit http://pari.math.u-bordeaux.fr/cgi-bin/gitweb.cgi?p=pari.git;a=blobdiff;f=src/basemath/F2xqE.c;h=3c183ebcd1bec9545fa489fb2f0303961b2d99b2;hp=a057f8c51201c23f7a7c54390c8f9e6c66c1387c;hb=b2648cdaec00f184010132847748c4dbfa90dfba;hpb=0135506024b4d42f388f68d7b74f41217dd93719
* p=3: http://pari.math.u-bordeaux.fr/cgi-bin/gitweb.cgi?p=pari.git;a=blob;f=src/basemath/FlxqE.c;h=e91d28ccb66f4c24ffc165f84e667d2f76598741;hb=HEAD#l1576 and commit http://pari.math.u-bordeaux.fr/cgi-bin/gitweb.cgi?p=pari.git;a=commit;h=3f93b26f2bdc7188bc59e11b033e2d067274ba14
* p>3: http://pari.math.u-bordeaux.fr/cgi-bin/gitweb.cgi?p=pari.git;a=blob;f=src/basemath/FlxqE.c;h=e91d28ccb66f4c24ffc165f84e667d2f76598741;hb=HEAD#l1605 and http://pari.math.u-bordeaux.fr/cgi-bin/gitweb.cgi?p=pari.git;a=blob;f=src/basemath/FpE.c;h=d1574d410a08b9ede9e68b8275afc00d1a18873e;hb=HEAD#l1946



---

archive/issue_comments_223402.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nI would still suggest we keep John's code even though it's not used by default.\nIt could still be used to double check PARI/GP results in doctests.",
    "created_at": "2017-07-17T19:42:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223402",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:44" align="right">comment:44</div>

I would still suggest we keep John's code even though it's not used by default.
It could still be used to double check PARI/GP results in doctests.



---

archive/issue_comments_223403.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nSame about Sage's naive and BSGS code.",
    "created_at": "2017-07-17T19:45:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223403",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:45" align="right">comment:45</div>

Same about Sage's naive and BSGS code.



---

archive/issue_comments_223404.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nAnd PARI/GP does not use the \"minpoly/field of definition\" trick as far as I know.",
    "created_at": "2017-07-17T19:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223404",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:46" align="right">comment:46</div>

And PARI/GP does not use the "minpoly/field of definition" trick as far as I know.



---

archive/issue_comments_223405.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nCan this ticket be finished off?",
    "created_at": "2018-04-13T08:53:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223405",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:47" align="right">comment:47</div>

Can this ticket be finished off?



---

archive/issue_comments_223406.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nThe only remaining questions are:\n\n1. What to do with the old code (mostly written by John Cremona I think).\n\n2. Do we need to implement the \"smaller field of definition of the `j`-invariant\" trick? As far as I can tell, this is the only optimization which is in the Sage code but not in PARI/GP.",
    "created_at": "2018-04-14T09:01:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223406",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:48" align="right">comment:48</div>

The only remaining questions are:

1. What to do with the old code (mostly written by John Cremona I think).

2. Do we need to implement the "smaller field of definition of the `j`-invariant" trick? As far as I can tell, this is the only optimization which is in the Sage code but not in PARI/GP.



---

archive/issue_comments_223407.json:
```json
{
    "body": "Changed upstream from **Fixed upstream, but not in a stable release.** to **Fixed upstream, in a later stable release.**",
    "created_at": "2018-04-14T09:01:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223407",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Fixed upstream, but not in a stable release.** to **Fixed upstream, in a later stable release.**



---

archive/issue_comments_223408.json:
```json
{
    "body": "Changed dependencies from **#16949** to none",
    "created_at": "2018-04-14T09:01:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223408",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#16949** to none



---

archive/issue_events_242041.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-14T09:01:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242041"
}
```



---

archive/issue_events_242042.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-14T09:01:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242042"
}
```



---

archive/issue_comments_223409.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nReplying to [@jdemeyer](#comment:48):\n> The only remaining questions are:\n> \n> 1. What to do with the old code (mostly written by John Cremona I think).\n> \n> 2. Do we need to implement the \"smaller field of definition of the `j`-invariant\" trick? As far as I can tell, this is the only optimization which is in the Sage code but not in PARI/GP.\n\nI agree with jpflori that keeping the old code as something to compare with if bugs arise is a good idea.  This also means that we can check to see if the j-invariant is in a subfield of the base field when selecting the algorithm.",
    "created_at": "2018-04-14T17:04:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223409",
    "user": "https://github.com/roed314"
}
```

<div id="comment:49" align="right">comment:49</div>

Replying to [@jdemeyer](#comment:48):
> The only remaining questions are:
> 
> 1. What to do with the old code (mostly written by John Cremona I think).
> 
> 2. Do we need to implement the "smaller field of definition of the `j`-invariant" trick? As far as I can tell, this is the only optimization which is in the Sage code but not in PARI/GP.

I agree with jpflori that keeping the old code as something to compare with if bugs arise is a good idea.  This also means that we can check to see if the j-invariant is in a subfield of the base field when selecting the algorithm.



---

archive/issue_comments_223410.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nI'm inclined to move all the old code to a new file, say `src/sage/schemes/elliptic_curves/ell_finite_field_cardinality.py` because then it becomes easier to differentiate between the old and the new code.",
    "created_at": "2018-04-18T10:05:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223410",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:50" align="right">comment:50</div>

I'm inclined to move all the old code to a new file, say `src/sage/schemes/elliptic_curves/ell_finite_field_cardinality.py` because then it becomes easier to differentiate between the old and the new code.



---

archive/issue_comments_223411.json:
```json
{
    "body": "<div id=\"comment:51\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6b96caecce9269135e90bd8e366e1befdbb8a87\"><code>e6b96ca</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>\n",
    "created_at": "2018-04-18T12:15:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223411",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:51"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6b96caecce9269135e90bd8e366e1befdbb8a87"><code>e6b96ca</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>




---

archive/issue_comments_223412.json:
```json
{
    "body": "Changed commit from **[`78133cf`](https://github.com/sagemath/sagetrac-mirror/commit/78133cf80ce8d5265139ad704f43a66e2f144a36)** to **[`e6b96ca`](https://github.com/sagemath/sagetrac-mirror/commit/e6b96caecce9269135e90bd8e366e1befdbb8a87)**",
    "created_at": "2018-04-18T12:15:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223412",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`78133cf`](https://github.com/sagemath/sagetrac-mirror/commit/78133cf80ce8d5265139ad704f43a66e2f144a36)** to **[`e6b96ca`](https://github.com/sagemath/sagetrac-mirror/commit/e6b96caecce9269135e90bd8e366e1befdbb8a87)**



---

archive/issue_comments_223413.json:
```json
{
    "body": "Changed commit from **[`e6b96ca`](https://github.com/sagemath/sagetrac-mirror/commit/e6b96caecce9269135e90bd8e366e1befdbb8a87)** to **[`f61b91e`](https://github.com/sagemath/sagetrac-mirror/commit/f61b91e02401f400482f17822d2ba4c98a4fe457)**",
    "created_at": "2018-04-19T15:33:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223413",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e6b96ca`](https://github.com/sagemath/sagetrac-mirror/commit/e6b96caecce9269135e90bd8e366e1befdbb8a87)** to **[`f61b91e`](https://github.com/sagemath/sagetrac-mirror/commit/f61b91e02401f400482f17822d2ba4c98a4fe457)**



---

archive/issue_comments_223414.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f61b91e02401f400482f17822d2ba4c98a4fe457\"><code>f61b91e</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>\n",
    "created_at": "2018-04-19T15:33:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223414",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f61b91e02401f400482f17822d2ba4c98a4fe457"><code>f61b91e</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>




---

archive/issue_comments_223415.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6d4402fa7ea6a0d2e8e3366c35e7d07ed6da394\"><code>c6d4402</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>\n",
    "created_at": "2018-04-19T16:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223415",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6d4402fa7ea6a0d2e8e3366c35e7d07ed6da394"><code>c6d4402</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>




---

archive/issue_comments_223416.json:
```json
{
    "body": "Changed commit from **[`f61b91e`](https://github.com/sagemath/sagetrac-mirror/commit/f61b91e02401f400482f17822d2ba4c98a4fe457)** to **[`c6d4402`](https://github.com/sagemath/sagetrac-mirror/commit/c6d4402fa7ea6a0d2e8e3366c35e7d07ed6da394)**",
    "created_at": "2018-04-19T16:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223416",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f61b91e`](https://github.com/sagemath/sagetrac-mirror/commit/f61b91e02401f400482f17822d2ba4c98a4fe457)** to **[`c6d4402`](https://github.com/sagemath/sagetrac-mirror/commit/c6d4402fa7ea6a0d2e8e3366c35e7d07ed6da394)**



---

archive/issue_events_242043.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-19T16:08:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242043"
}
```



---

archive/issue_events_242044.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-19T16:08:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242044"
}
```



---

archive/issue_events_242045.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242045"
}
```



---

archive/issue_events_242046.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242046"
}
```



---

archive/issue_comments_223417.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nupdate milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223417",
    "user": "https://github.com/videlec"
}
```

<div id="comment:55" align="right">comment:55</div>

update milestone 8.3 -> 8.4



---

archive/issue_comments_223418.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nIf anybody cares about this ticket, let me know. Then I'll rebase this.",
    "created_at": "2018-08-07T14:23:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223418",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:56" align="right">comment:56</div>

If anybody cares about this ticket, let me know. Then I'll rebase this.



---

archive/issue_comments_223419.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nI care -- and will review.",
    "created_at": "2018-08-07T14:27:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223419",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:57" align="right">comment:57</div>

I care -- and will review.



---

archive/issue_comments_223420.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nEven if not strictly required, it might be safest to base this on PARI 2.11 (#25567).",
    "created_at": "2018-08-07T14:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223420",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:58" align="right">comment:58</div>

Even if not strictly required, it might be safest to base this on PARI 2.11 (#25567).



---

archive/issue_events_242047.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-08-07T14:40:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242047"
}
```



---

archive/issue_events_242048.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-08-07T14:40:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242048"
}
```



---

archive/issue_comments_223421.json:
```json
{
    "body": "Dependencies: **#25567**",
    "created_at": "2018-08-07T14:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223421",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#25567**



---

archive/issue_comments_223422.json:
```json
{
    "body": "<div id=\"comment:59\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/209e7d619854f31458df537125422378a5cb9a01\"><code>209e7d6</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>\n",
    "created_at": "2018-11-13T13:36:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223422",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:59"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/209e7d619854f31458df537125422378a5cb9a01"><code>209e7d6</code></a></td><td><code>Elliptic curve point counting over F_q using PARI</code></td></tr></table>




---

archive/issue_comments_223423.json:
```json
{
    "body": "Changed commit from **[`c6d4402`](https://github.com/sagemath/sagetrac-mirror/commit/c6d4402fa7ea6a0d2e8e3366c35e7d07ed6da394)** to **[`209e7d6`](https://github.com/sagemath/sagetrac-mirror/commit/209e7d619854f31458df537125422378a5cb9a01)**",
    "created_at": "2018-11-13T13:36:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223423",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c6d4402`](https://github.com/sagemath/sagetrac-mirror/commit/c6d4402fa7ea6a0d2e8e3366c35e7d07ed6da394)** to **[`209e7d6`](https://github.com/sagemath/sagetrac-mirror/commit/209e7d619854f31458df537125422378a5cb9a01)**



---

archive/issue_comments_223424.json:
```json
{
    "body": "Changed dependencies from **#25567** to none",
    "created_at": "2018-11-13T13:37:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223424",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#25567** to none



---

archive/issue_events_242049.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-11-13T13:37:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242049"
}
```



---

archive/issue_events_242050.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-11-13T13:37:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242050"
}
```



---

archive/issue_comments_223425.json:
```json
{
    "body": "Changed upstream from **Fixed upstream, in a later stable release.** to none",
    "created_at": "2018-11-13T13:37:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223425",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Fixed upstream, in a later stable release.** to none



---

archive/issue_comments_223426.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nLooks good to me!",
    "created_at": "2018-11-14T06:48:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223426",
    "user": "https://github.com/roed314"
}
```

<div id="comment:61" align="right">comment:61</div>

Looks good to me!



---

archive/issue_events_242051.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-11-14T06:48:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242051"
}
```



---

archive/issue_events_242052.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-11-14T06:48:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242052"
}
```



---

archive/issue_comments_223427.json:
```json
{
    "body": "Reviewer: **David Roe, John Cremona**",
    "created_at": "2018-11-14T06:48:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223427",
    "user": "https://github.com/roed314"
}
```

Reviewer: **David Roe, John Cremona**



---

archive/issue_events_242053.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-15T22:57:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242053"
}
```



---

archive/issue_events_242054.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d0dcdd26a654c27b4739145030ee662b200c83be",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-11-15T22:57:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16931#event-242054"
}
```



---

archive/issue_comments_223428.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/16931](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16931)** to **[`209e7d6`](https://github.com/sagemath/sagetrac-mirror/commit/209e7d619854f31458df537125422378a5cb9a01)**",
    "created_at": "2018-11-15T22:57:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16931",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16931#issuecomment-223428",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/ticket/16931](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16931)** to **[`209e7d6`](https://github.com/sagemath/sagetrac-mirror/commit/209e7d619854f31458df537125422378a5cb9a01)**
