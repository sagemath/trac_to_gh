# Issue 16587: f(expr,hold).n() fails for all generalized functions

archive/issues_016350.json:
```json
{
    "body": "\n```\nsage: M = sgn((3/2),hold=True); M.n()\n...\nTypeError: cannot evaluate symbolic expression numerically\n```\nThe original problem is now resolved, it was reported in http://ask.sagemath.org/question/8535/problem-with-sign-sgn-and-n/ by Louis Cypher:\n\n```\nsage: M = sgn(cos(3/2))\nsage: M.n()\nTypeError                                 Traceback (most recent call last)\n<ipython-input-5-0f11e9bd1e87> in <module>()\n----> 1 M.n()\n\n/home/ralf/sage/local/lib/python2.7/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression._numerical_approx (build/cythonized/sage/symbolic/expression.cpp:24086)()\n\nTypeError: cannot evaluate symbolic expression numerically\n```\nkcrisman:\n\nProblem seems to be that in `M.n??` we see that it's looking for `is_a_numeric(x._gobj)` but apparently that fails, as does the constant, so it thinks we are looking at evaluating `sgn(cos(x))` instead of `sgn(cos(3/2))`.\n\n\n**CC:**  @kcrisman\n\n**Keywords:** sgn, evaluation\n\n**Branch/Commit:** [e7880b7caa636ff4d24bccacb5c21f4285d1164c](https://github.com/sagemath/sagetrac-mirror/commit/e7880b7caa636ff4d24bccacb5c21f4285d1164c)\n\n**Reviewer:** Paul Masson\n\n**Author:** Ralf Stephan\n\n**Dependencies:** #17130, #17285\n\nIssue created by migration from https://trac.sagemath.org/ticket/16587\n\n",
    "closed_at": "2016-07-09T16:29:25Z",
    "created_at": "2014-06-29T16:16:48Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "f(expr,hold).n() fails for all generalized functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16587",
    "user": "https://github.com/rwst"
}
```

```
sage: M = sgn((3/2),hold=True); M.n()
...
TypeError: cannot evaluate symbolic expression numerically
```
The original problem is now resolved, it was reported in http://ask.sagemath.org/question/8535/problem-with-sign-sgn-and-n/ by Louis Cypher:

```
sage: M = sgn(cos(3/2))
sage: M.n()
TypeError                                 Traceback (most recent call last)
<ipython-input-5-0f11e9bd1e87> in <module>()
----> 1 M.n()

/home/ralf/sage/local/lib/python2.7/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression._numerical_approx (build/cythonized/sage/symbolic/expression.cpp:24086)()

TypeError: cannot evaluate symbolic expression numerically
```
kcrisman:

Problem seems to be that in `M.n??` we see that it's looking for `is_a_numeric(x._gobj)` but apparently that fails, as does the constant, so it thinks we are looking at evaluating `sgn(cos(x))` instead of `sgn(cos(3/2))`.


**CC:**  @kcrisman

**Keywords:** sgn, evaluation

**Branch/Commit:** [e7880b7caa636ff4d24bccacb5c21f4285d1164c](https://github.com/sagemath/sagetrac-mirror/commit/e7880b7caa636ff4d24bccacb5c21f4285d1164c)

**Reviewer:** Paul Masson

**Author:** Ralf Stephan

**Dependencies:** #17130, #17285

Issue created by migration from https://trac.sagemath.org/ticket/16587





---

archive/issue_comments_263961.json:
```json
{
    "body": "<a id='comment:1'></a>\nYou can always feel free to cc: me on any ticket coming from something I was involved in :)",
    "created_at": "2014-06-30T13:00:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263961",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'></a>
You can always feel free to cc: me on any ticket coming from something I was involved in :)



---

archive/issue_events_054941.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16587#event-54941"
}
```



---

archive/issue_events_054942.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "rename": {
        "from": "evaluation of sgn(expr) fails",
        "to": "f(expr).n() fails for all generalized functions"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16587#event-54942"
}
```



---

archive/issue_comments_263962.json:
```json
{
    "body": "<a id='comment:3'></a>\nActually all functions in `generalized.py` show this problem. Moreover, the `cos` can be left out:\n\n```\nsage: M = sgn((3/2),hold=True); M.n()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-18-b9940d9ad473> in <module>()\n----> 1 M = sgn((Integer(3)/Integer(2)),hold=True); M.n()\n\n/home/ralf/sage/local/lib/python2.7/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression._numerical_approx (build/cythonized/sage/symbolic/expression.cpp:27093)()\n\nTypeError: cannot evaluate symbolic expression numerically\n```\nAll the generalized functions have this code in `_eval_()` and I believe the bug to be there:\n\n```\n        try:\n            approx_x = ComplexIntervalField()(x)\n            if bool(approx_x.imag() == 0):      # x is real\n                if bool(approx_x.real() == 0):  # x is zero\n                    return ...\n                else:\n                    return ...\n            else:\n                return ...            # x is complex\n        except Exception:                     # x is symbolic\n            pass\n        return None\n```",
    "created_at": "2014-11-02T16:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263962",
    "user": "https://github.com/rwst"
}
```

<a id='comment:3'></a>
Actually all functions in `generalized.py` show this problem. Moreover, the `cos` can be left out:

```
sage: M = sgn((3/2),hold=True); M.n()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-18-b9940d9ad473> in <module>()
----> 1 M = sgn((Integer(3)/Integer(2)),hold=True); M.n()

/home/ralf/sage/local/lib/python2.7/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression._numerical_approx (build/cythonized/sage/symbolic/expression.cpp:27093)()

TypeError: cannot evaluate symbolic expression numerically
```
All the generalized functions have this code in `_eval_()` and I believe the bug to be there:

```
        try:
            approx_x = ComplexIntervalField()(x)
            if bool(approx_x.imag() == 0):      # x is real
                if bool(approx_x.real() == 0):  # x is zero
                    return ...
                else:
                    return ...
            else:
                return ...            # x is complex
        except Exception:                     # x is symbolic
            pass
        return None
```



---

archive/issue_comments_263963.json:
```json
{
    "body": "<a id='comment:4'></a>\nIsn't the problem simply that these functions are missing an `_evalf_()` method?",
    "created_at": "2014-11-03T09:39:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263963",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
Isn't the problem simply that these functions are missing an `_evalf_()` method?



---

archive/issue_comments_263964.json:
```json
{
    "body": "<a id='comment:5'></a>\nThanks. This begs for a subclass of `BuiltinFunction`.",
    "created_at": "2014-11-03T17:05:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263964",
    "user": "https://github.com/rwst"
}
```

<a id='comment:5'></a>
Thanks. This begs for a subclass of `BuiltinFunction`.



---

archive/issue_comments_263965.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [rws](#comment%3A5):\n> Thanks. This begs for a subclass of `BuiltinFunction`.\n  \nI don't see why.",
    "created_at": "2014-11-03T19:59:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263965",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
Replying to [rws](#comment%3A5):
> Thanks. This begs for a subclass of `BuiltinFunction`.
  
I don't see why.



---

archive/issue_comments_263966.json:
```json
{
    "body": "<a id='comment:7'></a>\nLet me also mention that this ticket touches on similar issues as #17130. So if you make a patch, I would prefer it to be based on #17130 (although that ticket is still in needs_review).",
    "created_at": "2014-11-03T20:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263966",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>
Let me also mention that this ticket touches on similar issues as #17130. So if you make a patch, I would prefer it to be based on #17130 (although that ticket is still in needs_review).



---

archive/issue_comments_263967.json:
```json
{
    "body": "**Branch:** [u/rws/f_expr__n___fails_for_all_generalized_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/f_expr__n___fails_for_all_generalized_functions)",
    "created_at": "2014-11-04T09:54:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263967",
    "user": "https://github.com/rwst"
}
```

**Branch:** [u/rws/f_expr__n___fails_for_all_generalized_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/f_expr__n___fails_for_all_generalized_functions)



---

archive/issue_comments_263968.json:
```json
{
    "body": "**Commit:** [44ca3ad0846f9e991e1cc54db796db304efc6938](https://github.com/sagemath/sagetrac-mirror/commit/44ca3ad0846f9e991e1cc54db796db304efc6938)",
    "created_at": "2014-11-04T09:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263968",
    "user": "https://github.com/rwst"
}
```

**Commit:** [44ca3ad0846f9e991e1cc54db796db304efc6938](https://github.com/sagemath/sagetrac-mirror/commit/44ca3ad0846f9e991e1cc54db796db304efc6938)



---

archive/issue_comments_263969.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [jdemeyer](#comment%3A6):\n> Replying to [rws](#comment%3A5):\n> > Thanks. This begs for a subclass of `BuiltinFunction`.\n  \n> I don't see why.\nBecause I didn't want to create an `evalf` for everyone of these. Documentation writing is pending your approval of this construct.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d107297a5d8867f1a1e9996678ffa441adc8a2d\">6d10729</a></td><td><code>Simplify numerical evaluation of BuiltinFunctions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6e1ed44a663f7410fddb2e3e4c134aa3a0ce8cf\">b6e1ed4</a></td><td><code>Merge remote-tracking branches 'origin/u/jdemeyer/ticket/17131' and 'origin/u/jdemeyer/ticket/17133' into ticket/17130</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b83feedfb20cd22f0762b0476540bfd2aed48987\">b83feed</a></td><td><code>Merge branch 'u/jdemeyer/ticket/17130' of trac.sagemath.org:sage into t/16587/f_expr__n___fails_for_all_generalized_functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44ca3ad0846f9e991e1cc54db796db304efc6938\">44ca3ad</a></td><td><code>16587: factor out general evalf</code></td></tr></table>\n",
    "created_at": "2014-11-04T09:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263969",
    "user": "https://github.com/rwst"
}
```

<a id='comment:9'></a>
Replying to [jdemeyer](#comment%3A6):
> Replying to [rws](#comment%3A5):
> > Thanks. This begs for a subclass of `BuiltinFunction`.
  
> I don't see why.
Because I didn't want to create an `evalf` for everyone of these. Documentation writing is pending your approval of this construct.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d107297a5d8867f1a1e9996678ffa441adc8a2d">6d10729</a></td><td><code>Simplify numerical evaluation of BuiltinFunctions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6e1ed44a663f7410fddb2e3e4c134aa3a0ce8cf">b6e1ed4</a></td><td><code>Merge remote-tracking branches 'origin/u/jdemeyer/ticket/17131' and 'origin/u/jdemeyer/ticket/17133' into ticket/17130</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b83feedfb20cd22f0762b0476540bfd2aed48987">b83feed</a></td><td><code>Merge branch 'u/jdemeyer/ticket/17130' of trac.sagemath.org:sage into t/16587/f_expr__n___fails_for_all_generalized_functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44ca3ad0846f9e991e1cc54db796db304efc6938">44ca3ad</a></td><td><code>16587: factor out general evalf</code></td></tr></table>




---

archive/issue_comments_263970.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [rws](#comment%3A9):\n> Because I didn't want to create an `evalf` for everyone of these.\n\nBut now you create a `gen_eval()` method for everyone of those, why is that better?\n\n> Documentation writing is pending your approval of this construct.\n\nNo, I still do not see the reason for a new class.",
    "created_at": "2014-11-04T10:20:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263970",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
Replying to [rws](#comment%3A9):
> Because I didn't want to create an `evalf` for everyone of these.

But now you create a `gen_eval()` method for everyone of those, why is that better?

> Documentation writing is pending your approval of this construct.

No, I still do not see the reason for a new class.



---

archive/issue_comments_263971.json:
```json
{
    "body": "<a id='comment:11'></a>\nAlso, do we really need the `ComplexIntervalField` stuff in `_eval_`? I would replace it by a simple `if x == 0` or something like other functions...",
    "created_at": "2014-11-04T10:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263971",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Also, do we really need the `ComplexIntervalField` stuff in `_eval_`? I would replace it by a simple `if x == 0` or something like other functions...



---

archive/issue_comments_263972.json:
```json
{
    "body": "<a id='comment:12'></a>\nWe also should decide whether\n\n```\nsage: sgn(cos(3/2))\n```\nshould automatically simplify to\n\n```\n1\n```\nor remain unevaluated.",
    "created_at": "2014-11-04T10:32:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263972",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
We also should decide whether

```
sage: sgn(cos(3/2))
```
should automatically simplify to

```
1
```
or remain unevaluated.



---

archive/issue_comments_263973.json:
```json
{
    "body": "<a id='comment:13'></a>\nRelated: #17285",
    "created_at": "2014-11-04T10:37:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263973",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
Related: #17285



---

archive/issue_comments_263974.json:
```json
{
    "body": "**Changing commit** from \"[44ca3ad0846f9e991e1cc54db796db304efc6938](https://github.com/sagemath/sagetrac-mirror/commit/44ca3ad0846f9e991e1cc54db796db304efc6938)\" to \"[cc22a9b489a841b23a6e9455bfea80a0b423c0e1](https://github.com/sagemath/sagetrac-mirror/commit/cc22a9b489a841b23a6e9455bfea80a0b423c0e1)\".",
    "created_at": "2014-11-04T16:06:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263974",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[44ca3ad0846f9e991e1cc54db796db304efc6938](https://github.com/sagemath/sagetrac-mirror/commit/44ca3ad0846f9e991e1cc54db796db304efc6938)" to "[cc22a9b489a841b23a6e9455bfea80a0b423c0e1](https://github.com/sagemath/sagetrac-mirror/commit/cc22a9b489a841b23a6e9455bfea80a0b423c0e1)".



---

archive/issue_comments_263975.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc22a9b489a841b23a6e9455bfea80a0b423c0e1\">cc22a9b</a></td><td><code>16587: roll back previous commit, less the small fixes</code></td></tr></table>\n",
    "created_at": "2014-11-04T16:06:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263975",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc22a9b489a841b23a6e9455bfea80a0b423c0e1">cc22a9b</a></td><td><code>16587: roll back previous commit, less the small fixes</code></td></tr></table>




---

archive/issue_comments_263976.json:
```json
{
    "body": "<a id='comment:15'></a>\nPlease confirm this is what you think should go in as basic change to address the original issue. I feel `sgn(cos(3/2))` should give `1`. I'll try now if this works without `ComplexIntervalField`.",
    "created_at": "2014-11-04T16:09:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263976",
    "user": "https://github.com/rwst"
}
```

<a id='comment:15'></a>
Please confirm this is what you think should go in as basic change to address the original issue. I feel `sgn(cos(3/2))` should give `1`. I'll try now if this works without `ComplexIntervalField`.



---

archive/issue_comments_263977.json:
```json
{
    "body": "**Dependencies:** #17130, #17285",
    "created_at": "2014-11-05T20:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263977",
    "user": "https://github.com/jdemeyer"
}
```

**Dependencies:** #17130, #17285



---

archive/issue_comments_263978.json:
```json
{
    "body": "<a id='comment:16'></a>\nAfter thinking about this more, perhaps the `ComplexIntervalField` solution isn't so bad after all. In any case, #17285 is the main reason that\n\n```\nsgn(cos(3/2))\n```\ndoesn't currently simplify to `1`.",
    "created_at": "2014-11-05T20:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263978",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
After thinking about this more, perhaps the `ComplexIntervalField` solution isn't so bad after all. In any case, #17285 is the main reason that

```
sgn(cos(3/2))
```
doesn't currently simplify to `1`.



---

archive/issue_comments_263979.json:
```json
{
    "body": "<a id='comment:17'></a>\nIs this related?\nhttps://groups.google.com/forum/?hl=en#!topic/sage-devel/rkkdK5qbPY0",
    "created_at": "2015-03-31T06:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263979",
    "user": "https://github.com/rwst"
}
```

<a id='comment:17'></a>
Is this related?
https://groups.google.com/forum/?hl=en#!topic/sage-devel/rkkdK5qbPY0



---

archive/issue_comments_263980.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [jdemeyer](#comment%3A4):\n> Isn't the problem simply that these functions are missing an `_evalf_()` method?\n\nTo finally answer this, no, it will still trigger the exception with `M = sgn((3/2),hold=True); M.n()` and with `M = sgn(cos(3/2)); M.n()`.",
    "created_at": "2015-03-31T07:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263980",
    "user": "https://github.com/rwst"
}
```

<a id='comment:18'></a>
Replying to [jdemeyer](#comment%3A4):
> Isn't the problem simply that these functions are missing an `_evalf_()` method?

To finally answer this, no, it will still trigger the exception with `M = sgn((3/2),hold=True); M.n()` and with `M = sgn(cos(3/2)); M.n()`.



---

archive/issue_comments_263981.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -14,3 +14,6 @@\n kcrisman:\n \n Problem seems to be that in `M.n??` we see that it's looking for `is_a_numeric(x._gobj)` but apparently that fails, as does the constant, so it thinks we are looking at evaluating `sgn(cos(x))` instead of `sgn(cos(3/2))`.\n+\n+UPDATE:\n+The problem also appears with `polylog(2.,.9).n()` for example.\n``````\n",
    "created_at": "2015-05-27T05:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263981",
    "user": "https://github.com/rwst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -14,3 +14,6 @@
 kcrisman:
 
 Problem seems to be that in `M.n??` we see that it's looking for `is_a_numeric(x._gobj)` but apparently that fails, as does the constant, so it thinks we are looking at evaluating `sgn(cos(x))` instead of `sgn(cos(3/2))`.
+
+UPDATE:
+The problem also appears with `polylog(2.,.9).n()` for example.
``````




---

archive/issue_comments_263982.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,14 @@\n-As reported in http://ask.sagemath.org/question/8535/problem-with-sign-sgn-and-n/ by Louis Cypher:\n+\n+```\n+sage: M = sgn((3/2),hold=True); M.n()\n+...\n+TypeError: cannot evaluate symbolic expression numerically\n+sage: polylog(2.,.9).n()\n+...\n+TypeError: cannot evaluate symbolic expression numerically\n+\n+```\n+The original problem is now resolved, it was reported in http://ask.sagemath.org/question/8535/problem-with-sign-sgn-and-n/ by Louis Cypher:\n \n ```\n sage: M = sgn(cos(3/2))\n@@ -15,5 +25,3 @@\n \n Problem seems to be that in `M.n??` we see that it's looking for `is_a_numeric(x._gobj)` but apparently that fails, as does the constant, so it thinks we are looking at evaluating `sgn(cos(x))` instead of `sgn(cos(3/2))`.\n \n-UPDATE:\n-The problem also appears with `polylog(2.,.9).n()` for example.\n``````\n",
    "created_at": "2015-07-06T15:07:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263982",
    "user": "https://github.com/rwst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,14 @@
-As reported in http://ask.sagemath.org/question/8535/problem-with-sign-sgn-and-n/ by Louis Cypher:
+
+```
+sage: M = sgn((3/2),hold=True); M.n()
+...
+TypeError: cannot evaluate symbolic expression numerically
+sage: polylog(2.,.9).n()
+...
+TypeError: cannot evaluate symbolic expression numerically
+
+```
+The original problem is now resolved, it was reported in http://ask.sagemath.org/question/8535/problem-with-sign-sgn-and-n/ by Louis Cypher:
 
 ```
 sage: M = sgn(cos(3/2))
@@ -15,5 +25,3 @@
 
 Problem seems to be that in `M.n??` we see that it's looking for `is_a_numeric(x._gobj)` but apparently that fails, as does the constant, so it thinks we are looking at evaluating `sgn(cos(x))` instead of `sgn(cos(3/2))`.
 
-UPDATE:
-The problem also appears with `polylog(2.,.9).n()` for example.
``````




---

archive/issue_events_054943.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "rename": {
        "from": "f(expr).n() fails for all generalized functions",
        "to": "f(expr,hold).n() fails for all generalized functions"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16587#event-54943"
}
```



---

archive/issue_comments_263983.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/f_expr__n___fails_for_all_generalized_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/f_expr__n___fails_for_all_generalized_functions)\" to \"[u/rws/16587](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/16587)\".",
    "created_at": "2015-07-08T13:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263983",
    "user": "https://github.com/rwst"
}
```

**Changing branch** from "[u/rws/f_expr__n___fails_for_all_generalized_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/f_expr__n___fails_for_all_generalized_functions)" to "[u/rws/16587](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/16587)".



---

archive/issue_comments_263984.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,10 +3,6 @@\n sage: M = sgn((3/2),hold=True); M.n()\n ...\n TypeError: cannot evaluate symbolic expression numerically\n-sage: polylog(2.,.9).n()\n-...\n-TypeError: cannot evaluate symbolic expression numerically\n-\n ```\n The original problem is now resolved, it was reported in http://ask.sagemath.org/question/8535/problem-with-sign-sgn-and-n/ by Louis Cypher:\n \n``````\n",
    "created_at": "2015-07-08T13:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263984",
    "user": "https://github.com/rwst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,10 +3,6 @@
 sage: M = sgn((3/2),hold=True); M.n()
 ...
 TypeError: cannot evaluate symbolic expression numerically
-sage: polylog(2.,.9).n()
-...
-TypeError: cannot evaluate symbolic expression numerically
-
 ```
 The original problem is now resolved, it was reported in http://ask.sagemath.org/question/8535/problem-with-sign-sgn-and-n/ by Louis Cypher:
 
``````




---

archive/issue_events_054944.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-07-08T13:06:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16587#event-54944"
}
```



---

archive/issue_events_054945.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-07-08T13:06:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16587#event-54945"
}
```



---

archive/issue_comments_263985.json:
```json
{
    "body": "**Changing commit** from \"[cc22a9b489a841b23a6e9455bfea80a0b423c0e1](https://github.com/sagemath/sagetrac-mirror/commit/cc22a9b489a841b23a6e9455bfea80a0b423c0e1)\" to \"[7ef7c92cba5293f3d2c9f84e8488164b390b2458](https://github.com/sagemath/sagetrac-mirror/commit/7ef7c92cba5293f3d2c9f84e8488164b390b2458)\".",
    "created_at": "2015-07-08T13:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263985",
    "user": "https://github.com/rwst"
}
```

**Changing commit** from "[cc22a9b489a841b23a6e9455bfea80a0b423c0e1](https://github.com/sagemath/sagetrac-mirror/commit/cc22a9b489a841b23a6e9455bfea80a0b423c0e1)" to "[7ef7c92cba5293f3d2c9f84e8488164b390b2458](https://github.com/sagemath/sagetrac-mirror/commit/7ef7c92cba5293f3d2c9f84e8488164b390b2458)".



---

archive/issue_comments_263986.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2015-07-08T13:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263986",
    "user": "https://github.com/rwst"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_263987.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [jdemeyer](#comment%3A4):\n> Isn't the problem simply that these functions are missing an `_evalf_()` method?\n\nYou were of course right. Please review. The polylog issue mentioned previously is part of #18386.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ef7c92cba5293f3d2c9f84e8488164b390b2458\">7ef7c92</a></td><td><code>16587: f(expr,hold).n() fails for all generalized functions</code></td></tr></table>\n",
    "created_at": "2015-07-08T13:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263987",
    "user": "https://github.com/rwst"
}
```

<a id='comment:22'></a>
Replying to [jdemeyer](#comment%3A4):
> Isn't the problem simply that these functions are missing an `_evalf_()` method?

You were of course right. Please review. The polylog issue mentioned previously is part of #18386.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ef7c92cba5293f3d2c9f84e8488164b390b2458">7ef7c92</a></td><td><code>16587: f(expr,hold).n() fails for all generalized functions</code></td></tr></table>




---

archive/issue_comments_263988.json:
```json
{
    "body": "**Author:** Ralf Stephan",
    "created_at": "2015-07-08T13:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263988",
    "user": "https://github.com/rwst"
}
```

**Author:** Ralf Stephan



---

archive/issue_comments_263989.json:
```json
{
    "body": "<a id='comment:23'></a>\nI tried to checkout this ticket and rebuild Sage but that failed. Branch needs updating.",
    "created_at": "2016-07-07T01:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263989",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:23'></a>
I tried to checkout this ticket and rebuild Sage but that failed. Branch needs updating.



---

archive/issue_comments_263990.json:
```json
{
    "body": "**Reviewer:** Paul Masson",
    "created_at": "2016-07-07T01:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263990",
    "user": "https://github.com/paulmasson"
}
```

**Reviewer:** Paul Masson



---

archive/issue_events_054946.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2016-07-07T01:39:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16587#event-54946"
}
```



---

archive/issue_events_054947.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2016-07-07T01:39:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16587#event-54947"
}
```



---

archive/issue_comments_263991.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7159eb400a9ddf09b36c7a7c2d4b42be24df3bd\">e7159eb</a></td><td><code>Merge branch 'develop' into t/16587/16587</code></td></tr></table>\n",
    "created_at": "2016-07-07T05:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263991",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7159eb400a9ddf09b36c7a7c2d4b42be24df3bd">e7159eb</a></td><td><code>Merge branch 'develop' into t/16587/16587</code></td></tr></table>




---

archive/issue_comments_263992.json:
```json
{
    "body": "**Changing commit** from \"[7ef7c92cba5293f3d2c9f84e8488164b390b2458](https://github.com/sagemath/sagetrac-mirror/commit/7ef7c92cba5293f3d2c9f84e8488164b390b2458)\" to \"[e7159eb400a9ddf09b36c7a7c2d4b42be24df3bd](https://github.com/sagemath/sagetrac-mirror/commit/e7159eb400a9ddf09b36c7a7c2d4b42be24df3bd)\".",
    "created_at": "2016-07-07T05:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263992",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7ef7c92cba5293f3d2c9f84e8488164b390b2458](https://github.com/sagemath/sagetrac-mirror/commit/7ef7c92cba5293f3d2c9f84e8488164b390b2458)" to "[e7159eb400a9ddf09b36c7a7c2d4b42be24df3bd](https://github.com/sagemath/sagetrac-mirror/commit/e7159eb400a9ddf09b36c7a7c2d4b42be24df3bd)".



---

archive/issue_comments_263993.json:
```json
{
    "body": "<a id='comment:25'></a>\nThe branch merges cleanly with develop (green link) so it should have worked after `git merge develop` on your machine. However, I've done it for you in the branch now, so you can simply check out.",
    "created_at": "2016-07-07T05:46:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263993",
    "user": "https://github.com/rwst"
}
```

<a id='comment:25'></a>
The branch merges cleanly with develop (green link) so it should have worked after `git merge develop` on your machine. However, I've done it for you in the branch now, so you can simply check out.



---

archive/issue_comments_263994.json:
```json
{
    "body": "<a id='comment:26'></a>\nDoctests pass. `dirac_delta`, `heaviside`, `unit_step` and `sign` function as expected for real arguments.\n\n`kronecker_delta` returns an unexpected error for real arguments:\n\n```\nsage: kronecker_delta(1,2,hold=True).n()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-27-089ce283036d> in <module>()\n----> 1 kronecker_delta(Integer(1),Integer(2),hold=True).n()\n\n/Users/Masson/Downloads/GitHub/sage/src/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._numerical_approx (/Users/Masson/Downloads/GitHub/sage/src/build/cythonized/sage/symbolic/expression.cpp:31167)()\n   5430             pass          # try again with complex\n   5431             kwds['parent'] = R.complex_field()\n-> 5432             x = x._convert(kwds)\n   5433 \n   5434         # we have to consider constants as well, since infinity is a constant\n\n/Users/Masson/Downloads/GitHub/sage/src/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._convert (/Users/Masson/Downloads/GitHub/sage/src/build/cythonized/sage/symbolic/expression.cpp:9677)()\n   1242             -0.989992496600445*sqrt(2)\n   1243         \"\"\"\n-> 1244         cdef GEx res = self._gobj.evalf(0, kwds)\n   1245         return new_Expression_from_GEx(self._parent, res)\n   1246 \n\nTypeError: _evalf_() takes exactly 2 arguments (5 given)\n\n```\n\nLooks like its trying to evaluate arguments as complex numbers.\n\nAnd for future reference, is it expected practice for people to merge the current develop branch before pushing to Trac? Or is it a matter of how the branch is assembled, especially for older tickets, and I just need to pay attention to what gets pulled?",
    "created_at": "2016-07-08T01:31:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263994",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:26'></a>
Doctests pass. `dirac_delta`, `heaviside`, `unit_step` and `sign` function as expected for real arguments.

`kronecker_delta` returns an unexpected error for real arguments:

```
sage: kronecker_delta(1,2,hold=True).n()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-27-089ce283036d> in <module>()
----> 1 kronecker_delta(Integer(1),Integer(2),hold=True).n()

/Users/Masson/Downloads/GitHub/sage/src/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._numerical_approx (/Users/Masson/Downloads/GitHub/sage/src/build/cythonized/sage/symbolic/expression.cpp:31167)()
   5430             pass          # try again with complex
   5431             kwds['parent'] = R.complex_field()
-> 5432             x = x._convert(kwds)
   5433 
   5434         # we have to consider constants as well, since infinity is a constant

/Users/Masson/Downloads/GitHub/sage/src/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._convert (/Users/Masson/Downloads/GitHub/sage/src/build/cythonized/sage/symbolic/expression.cpp:9677)()
   1242             -0.989992496600445*sqrt(2)
   1243         """
-> 1244         cdef GEx res = self._gobj.evalf(0, kwds)
   1245         return new_Expression_from_GEx(self._parent, res)
   1246 

TypeError: _evalf_() takes exactly 2 arguments (5 given)

```

Looks like its trying to evaluate arguments as complex numbers.

And for future reference, is it expected practice for people to merge the current develop branch before pushing to Trac? Or is it a matter of how the branch is assembled, especially for older tickets, and I just need to pay attention to what gets pulled?



---

archive/issue_comments_263995.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [paulmasson](#comment%3A26):\n> And for future reference, is it expected practice for people to merge the current develop branch before pushing to Trac? Or is it a matter of how the branch is assembled, especially for older tickets, and I just need to pay attention to what gets pulled?\n\n\nThere should be as few merge commits as possible but you can't always adhere to that.\n\nAs author, you of course need to merge if what you uploaded before doesn't with develop (red link on ticket). But as you saw, there was a branch that was so old that it could no longer be compiled so I needed to merge it too. Note that as a reviewer you do not need to do `git trac checkout 12345; git merge develop` to get an up-to-date version of an older branch (that still merges cleanly). You can also branch from develop and pull changes: `git checkout -b tmp; git trac pull 12345`. This way your local Sage is not changed to the version of the branch and only the specific branch changes need to be compiled in.\n\nSo, to answer, in principle you need not merge the current develop branch before pushing as long as the branch merges cleanly with develop. A good reason to do it nevertheless would be that you want to make sure your changes pass tests (which are always done by patchbot or the RM with develop). What you want to pay attention to as reviewer OTOH is the age of the last merge commit (or the first commit if none) and rather pull (see above) than checkout if older than say 18 months.",
    "created_at": "2016-07-08T13:12:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263995",
    "user": "https://github.com/rwst"
}
```

<a id='comment:27'></a>
Replying to [paulmasson](#comment%3A26):
> And for future reference, is it expected practice for people to merge the current develop branch before pushing to Trac? Or is it a matter of how the branch is assembled, especially for older tickets, and I just need to pay attention to what gets pulled?


There should be as few merge commits as possible but you can't always adhere to that.

As author, you of course need to merge if what you uploaded before doesn't with develop (red link on ticket). But as you saw, there was a branch that was so old that it could no longer be compiled so I needed to merge it too. Note that as a reviewer you do not need to do `git trac checkout 12345; git merge develop` to get an up-to-date version of an older branch (that still merges cleanly). You can also branch from develop and pull changes: `git checkout -b tmp; git trac pull 12345`. This way your local Sage is not changed to the version of the branch and only the specific branch changes need to be compiled in.

So, to answer, in principle you need not merge the current develop branch before pushing as long as the branch merges cleanly with develop. A good reason to do it nevertheless would be that you want to make sure your changes pass tests (which are always done by patchbot or the RM with develop). What you want to pay attention to as reviewer OTOH is the age of the last merge commit (or the first commit if none) and rather pull (see above) than checkout if older than say 18 months.



---

archive/issue_comments_263996.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/16587](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/16587)\" to \"[u/rws/16587-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/16587-1)\".",
    "created_at": "2016-07-08T14:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263996",
    "user": "https://github.com/rwst"
}
```

**Changing branch** from "[u/rws/16587](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/16587)" to "[u/rws/16587-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/16587-1)".



---

archive/issue_comments_263997.json:
```json
{
    "body": "<a id='comment:29'></a>\nI rewrote it all and pushed a new branch (this is also a way to get rid of merge commits). There was danger of infinite loops (see #12121). It also resolved the `kronecker` issue. Please review.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7880b7caa636ff4d24bccacb5c21f4285d1164c\">e7880b7</a></td><td><code>16587: f(expr,hold).n() fails for all generalized functions</code></td></tr></table>\n",
    "created_at": "2016-07-08T14:31:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263997",
    "user": "https://github.com/rwst"
}
```

<a id='comment:29'></a>
I rewrote it all and pushed a new branch (this is also a way to get rid of merge commits). There was danger of infinite loops (see #12121). It also resolved the `kronecker` issue. Please review.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7880b7caa636ff4d24bccacb5c21f4285d1164c">e7880b7</a></td><td><code>16587: f(expr,hold).n() fails for all generalized functions</code></td></tr></table>




---

archive/issue_comments_263998.json:
```json
{
    "body": "**Changing commit** from \"[e7159eb400a9ddf09b36c7a7c2d4b42be24df3bd](https://github.com/sagemath/sagetrac-mirror/commit/e7159eb400a9ddf09b36c7a7c2d4b42be24df3bd)\" to \"[e7880b7caa636ff4d24bccacb5c21f4285d1164c](https://github.com/sagemath/sagetrac-mirror/commit/e7880b7caa636ff4d24bccacb5c21f4285d1164c)\".",
    "created_at": "2016-07-08T14:31:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263998",
    "user": "https://github.com/rwst"
}
```

**Changing commit** from "[e7159eb400a9ddf09b36c7a7c2d4b42be24df3bd](https://github.com/sagemath/sagetrac-mirror/commit/e7159eb400a9ddf09b36c7a7c2d4b42be24df3bd)" to "[e7880b7caa636ff4d24bccacb5c21f4285d1164c](https://github.com/sagemath/sagetrac-mirror/commit/e7880b7caa636ff4d24bccacb5c21f4285d1164c)".



---

archive/issue_comments_263999.json:
```json
{
    "body": "<a id='comment:30'></a>\nDoctests pass. Functions behaved as expected as per ticket. Ready to go.",
    "created_at": "2016-07-08T21:47:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-263999",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:30'></a>
Doctests pass. Functions behaved as expected as per ticket. Ready to go.



---

archive/issue_comments_264000.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2016-07-08T21:47:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-264000",
    "user": "https://github.com/paulmasson"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_264001.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/16587-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/16587-1)\" to \"[e7880b7caa636ff4d24bccacb5c21f4285d1164c](https://github.com/sagemath/sagetrac-mirror/commit/e7880b7caa636ff4d24bccacb5c21f4285d1164c)\".",
    "created_at": "2016-07-09T16:29:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16587#issuecomment-264001",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/rws/16587-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/16587-1)" to "[e7880b7caa636ff4d24bccacb5c21f4285d1164c](https://github.com/sagemath/sagetrac-mirror/commit/e7880b7caa636ff4d24bccacb5c21f4285d1164c)".



---

archive/issue_events_054948.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-09T16:29:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16587",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16587#event-54948"
}
```
