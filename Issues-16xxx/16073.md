# Issue 16073: Python 3 preparation: The semantic of map() function is changed

archive/issues_015836.json:
```json
{
    "body": "In Py2 `map()` returns a list, while in Py3 `map()` returns an iterator (as `itertools.imap()` does in Py2).\n\nThe tool 2to3 wraps `map()` usages with a call to `list()`.\n\n\nAn alternative approach is to add `from future_builtins import map` and to check the code.\n\nThis ticket is tracked as a dependency of meta-ticket ticket:16052.\n\nCC:  @embray @jdemeyer @kiwifb @tscrim @jhpalmieri @vinklein\n\nKeywords: python3\n\nAuthor: Wilfried Luebbe, Andr\u00e9 Apitzsch\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16073\n\n",
    "closed_at": "2019-06-04T15:26:35Z",
    "created_at": "2014-04-07T08:48:41Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Python 3 preparation: The semantic of map() function is changed",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16073",
    "user": "https://github.com/wluebbe"
}
```
In Py2 `map()` returns a list, while in Py3 `map()` returns an iterator (as `itertools.imap()` does in Py2).

The tool 2to3 wraps `map()` usages with a call to `list()`.


An alternative approach is to add `from future_builtins import map` and to check the code.

This ticket is tracked as a dependency of meta-ticket ticket:16052.

CC:  @embray @jdemeyer @kiwifb @tscrim @jhpalmieri @vinklein

Keywords: python3

Author: Wilfried Luebbe, Andr√© Apitzsch

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16073





---

archive/issue_events_061595.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16073#event-61595"
}
```



---

archive/issue_comments_257740.json:
```json
{
    "body": "Changing commit from \"\" to \"8c8e5dc6783c29333679e28d38ea596f520e3258\"",
    "created_at": "2014-05-22T09:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257740",
    "user": "https://github.com/wluebbe"
}
```

Changing commit from "" to "8c8e5dc6783c29333679e28d38ea596f520e3258"



---

archive/issue_comments_257741.json:
```json
{
    "body": "Changing branch from \"\" to \"u/wluebbe/ticket/16073\"",
    "created_at": "2014-05-22T09:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257741",
    "user": "https://github.com/wluebbe"
}
```

Changing branch from "" to "u/wluebbe/ticket/16073"



---

archive/issue_comments_257742.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis first commit was generated by `2to3`. **It has failing doctests! ** These will be fixed with a separate commit.\n\n---\nNew commits:\n|                                                                                                                                          |                                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[8c8e5dc](https://github.com/sagemath/sagetrac-mirror/commit/8c8e5dc6783c29333679e28d38ea596f520e3258)|`trac #16073: changes generated by \"2to3 -w -f map src/sage\"`|",
    "created_at": "2014-05-22T09:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257742",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:2'></a>
This first commit was generated by `2to3`. **It has failing doctests! ** These will be fixed with a separate commit.

---
New commits:
|                                                                                                                                          |                                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[8c8e5dc](https://github.com/sagemath/sagetrac-mirror/commit/8c8e5dc6783c29333679e28d38ea596f520e3258)|`trac #16073: changes generated by "2to3 -w -f map src/sage"`|



---

archive/issue_comments_257743.json:
```json
{
    "body": "Changing commit from \"8c8e5dc6783c29333679e28d38ea596f520e3258\" to \"b786139346f3c79ef980824ca607b8c0d40f2c22\"",
    "created_at": "2014-05-22T13:08:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257743",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8c8e5dc6783c29333679e28d38ea596f520e3258" to "b786139346f3c79ef980824ca607b8c0d40f2c22"



---

archive/issue_comments_257744.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[b786139](https://github.com/sagemath/sagetrac-mirror/commit/b786139346f3c79ef980824ca607b8c0d40f2c22)|`trac #16073: fix an error exposed by the generated code`|",
    "created_at": "2014-05-22T13:08:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257744",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[b786139](https://github.com/sagemath/sagetrac-mirror/commit/b786139346f3c79ef980824ca607b8c0d40f2c22)|`trac #16073: fix an error exposed by the generated code`|



---

archive/issue_comments_257745.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe problem was that in one module the standard library function `list` had been overwritten. Now all doctests pass.",
    "created_at": "2014-05-22T13:11:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257745",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:4'></a>
The problem was that in one module the standard library function `list` had been overwritten. Now all doctests pass.



---

archive/issue_comments_257746.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe code would now certainly benefit from changing expressions like `list(map(...))` into a list comprehension. \n\nThis is more pythonic, more readable (especially in the case `list(map(lambda ...))` ) and it avoids redundant list creation in Python 2. But it's a lot of stuff to check and change ...",
    "created_at": "2014-05-22T13:25:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257746",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:5'></a>
The code would now certainly benefit from changing expressions like `list(map(...))` into a list comprehension. 

This is more pythonic, more readable (especially in the case `list(map(lambda ...))` ) and it avoids redundant list creation in Python 2. But it's a lot of stuff to check and change ...



---

archive/issue_comments_257747.json:
```json
{
    "body": "<a id='comment:6'></a>\nThis patch will cause a lot of merge conflicts with #16067 `filter`. It seems advisable to wait until #16067 is merged and then regenerate this patch.\n\nSomebody to review #16067 ... ;-)",
    "created_at": "2014-05-22T13:43:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257747",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:6'></a>
This patch will cause a lot of merge conflicts with #16067 `filter`. It seems advisable to wait until #16067 is merged and then regenerate this patch.

Somebody to review #16067 ... ;-)



---

archive/issue_comments_257748.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-22T13:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257748",
    "user": "https://github.com/wluebbe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_257749.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-22T13:44:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257749",
    "user": "https://github.com/wluebbe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_257750.json:
```json
{
    "body": "Changing author from \"\" to \"Wilfried Luebbe\"",
    "created_at": "2014-05-22T13:44:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257750",
    "user": "https://github.com/wluebbe"
}
```

Changing author from "" to "Wilfried Luebbe"



---

archive/issue_events_061596.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16073#event-61596"
}
```



---

archive/issue_events_061597.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16073#event-61597"
}
```



---

archive/issue_comments_257751.json:
```json
{
    "body": "Changing commit from \"b786139346f3c79ef980824ca607b8c0d40f2c22\" to \"9ebf5fd033b4a6340c817c52ee7b257484cb8ebb\"",
    "created_at": "2014-10-07T18:06:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257751",
    "user": "https://github.com/a-andre"
}
```

Changing commit from "b786139346f3c79ef980824ca607b8c0d40f2c22" to "9ebf5fd033b4a6340c817c52ee7b257484cb8ebb"



---

archive/issue_comments_257752.json:
```json
{
    "body": "<a id='comment:10'></a>\nRebased.\n\n---\nNew commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[9ebf5fd](https://github.com/sagemath/sagetrac-mirror/commit/9ebf5fd033b4a6340c817c52ee7b257484cb8ebb)|`Merge remote-tracking branch 'origin/develop' into 16073`|",
    "created_at": "2014-10-07T18:06:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257752",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:10'></a>
Rebased.

---
New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[9ebf5fd](https://github.com/sagemath/sagetrac-mirror/commit/9ebf5fd033b4a6340c817c52ee7b257484cb8ebb)|`Merge remote-tracking branch 'origin/develop' into 16073`|



---

archive/issue_comments_257753.json:
```json
{
    "body": "Changing branch from \"u/wluebbe/ticket/16073\" to \"public/16073\"",
    "created_at": "2014-10-07T18:06:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257753",
    "user": "https://github.com/a-andre"
}
```

Changing branch from "u/wluebbe/ticket/16073" to "public/16073"



---

archive/issue_comments_257754.json:
```json
{
    "body": "Changing commit from \"9ebf5fd033b4a6340c817c52ee7b257484cb8ebb\" to \"dc803c154c077bb345715e40a662fa14beb38c99\"",
    "created_at": "2014-10-09T20:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257754",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9ebf5fd033b4a6340c817c52ee7b257484cb8ebb" to "dc803c154c077bb345715e40a662fa14beb38c99"



---

archive/issue_comments_257755.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[dc803c1](https://github.com/sagemath/sagetrac-mirror/commit/dc803c154c077bb345715e40a662fa14beb38c99)|`remove some unnecessary conversions to list`|",
    "created_at": "2014-10-09T20:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257755",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[dc803c1](https://github.com/sagemath/sagetrac-mirror/commit/dc803c154c077bb345715e40a662fa14beb38c99)|`remove some unnecessary conversions to list`|



---

archive/issue_comments_257756.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-10-09T20:30:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257756",
    "user": "https://github.com/a-andre"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_257757.json:
```json
{
    "body": "<a id='comment:13'></a>\nThe patch is red.\n\nEither way, shouldn't it be only wrapping some of the uses, rather than all of them?",
    "created_at": "2014-11-13T19:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257757",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:13'></a>
The patch is red.

Either way, shouldn't it be only wrapping some of the uses, rather than all of them?



---

archive/issue_comments_257758.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[6ddc5fc](https://github.com/sagemath/sagetrac-mirror/commit/6ddc5fc6e2673e0e0edd31e11b1c37350230ca48)|`Merge remote-tracking branch 'origin/develop' into 16073`|",
    "created_at": "2014-11-13T20:49:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[6ddc5fc](https://github.com/sagemath/sagetrac-mirror/commit/6ddc5fc6e2673e0e0edd31e11b1c37350230ca48)|`Merge remote-tracking branch 'origin/develop' into 16073`|



---

archive/issue_comments_257759.json:
```json
{
    "body": "Changing commit from \"dc803c154c077bb345715e40a662fa14beb38c99\" to \"6ddc5fc6e2673e0e0edd31e11b1c37350230ca48\"",
    "created_at": "2014-11-13T20:49:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257759",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dc803c154c077bb345715e40a662fa14beb38c99" to "6ddc5fc6e2673e0e0edd31e11b1c37350230ca48"



---

archive/issue_comments_257760.json:
```json
{
    "body": "<a id='comment:15'></a>\nOK, but as I expected there are some questionable things here.\n\n```\n- r = sum ( map( lambda x: x[2], cycle ) )\n+ r = sum ( [x[2] for x in cycle] )\n```\nWouldn't keeping the old line be better? Summing an iterator should be faster than summing a list which has been constructed merely to be summed.",
    "created_at": "2014-11-13T20:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257760",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:15'></a>
OK, but as I expected there are some questionable things here.

```
- r = sum ( map( lambda x: x[2], cycle ) )
+ r = sum ( [x[2] for x in cycle] )
```
Wouldn't keeping the old line be better? Summing an iterator should be faster than summing a list which has been constructed merely to be summed.



---

archive/issue_comments_257761.json:
```json
{
    "body": "Changing commit from \"6ddc5fc6e2673e0e0edd31e11b1c37350230ca48\" to \"8331e848b1ab06e87ed5114926d941083ff0ae7f\"",
    "created_at": "2014-11-13T21:36:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257761",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6ddc5fc6e2673e0e0edd31e11b1c37350230ca48" to "8331e848b1ab06e87ed5114926d941083ff0ae7f"



---

archive/issue_comments_257762.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[8331e84](https://github.com/sagemath/sagetrac-mirror/commit/8331e848b1ab06e87ed5114926d941083ff0ae7f)|`remove more unnecessary conversions to list`|",
    "created_at": "2014-11-13T21:36:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257762",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[8331e84](https://github.com/sagemath/sagetrac-mirror/commit/8331e848b1ab06e87ed5114926d941083ff0ae7f)|`remove more unnecessary conversions to list`|



---

archive/issue_comments_257763.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [darij](#comment%3A15):\n> OK, but as I expected there are some questionable things here.\n> \n> ```\n> - r = sum ( map( lambda x: x[2], cycle ) )\n> + r = sum ( [x[2] for x in cycle] )\n> ```\n> Wouldn't keeping the old line be better? Summing an iterator should be faster than summing a list which has been constructed merely to be summed.\n\n\nYou are right.\n\nIn this case we should write\n\n```\nr = sum ( (x[2] for x in cycle) )\n```\n\nFeel free to fix it (and others), currently I have no time to check the necessity of `list()` wrapping.",
    "created_at": "2014-11-13T21:44:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257763",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:17'></a>
Replying to [darij](#comment%3A15):
> OK, but as I expected there are some questionable things here.
> 
> ```
> - r = sum ( map( lambda x: x[2], cycle ) )
> + r = sum ( [x[2] for x in cycle] )
> ```
> Wouldn't keeping the old line be better? Summing an iterator should be faster than summing a list which has been constructed merely to be summed.


You are right.

In this case we should write

```
r = sum ( (x[2] for x in cycle) )
```

Feel free to fix it (and others), currently I have no time to check the necessity of `list()` wrapping.



---

archive/issue_comments_257764.json:
```json
{
    "body": "<a id='comment:18'></a>\n\n```\n- return \"\".join(map(lambda x: self._character_to_code[x], string))\n+ return \"\".join([self._character_to_code[x] for x in string])\n```\nWondering if this is a good step forward, given that you can join an iterator to a string:\n\n```\n>>> map(lambda x: x+x, ['a','b','c'])\n<map object at 0x7fd747ddee10>\n>>> \"blah\".join(map(lambda x: x+x, ['a','b','c']))\n'aablahbbblahcc'\n```\n(Python 3).\n\n---\n\n```\n- map(\n- lambda x: chr(ord(x) + 49),\n- list(str(num[0]))),\n+ [chr(ord(x) + 49) for x in list(str(num[0]))],\n```\nCan't we get rid of the `list`?\n\n---\n\n```\n- a,b,c,d,e,f = map(G,R)\n+ a,b,c,d,e,f = list(map(G,R))\n```\nThis seems to not be necessary:\n\n```\n>>> a,b,c = iter([1,2,3])\n>>> a\n1\n>>> b\n2\n>>> c\n3\n```\n\n---\n\nThis is unnecessary:\n\n```\n- if all(map(lambda s: s.is_final, state.label())):\n+ if all([s.is_final for s in state.label()]):\n```\nIf anything then `all` definitely works on iterators.\n\n---\n\nHere is the thing that worries me the most: There are tools for automatic translation of python2 into 3. I am not sure if we should, or are going to, release them on the Sage library; but if we are, I would rather not do any manual work unless we can make sure that it will not interfere with the automated changes. I have a hunches that a well-written bot could do better than some of the changes in this patch (for instance, it should be a rule that `all(map(...))` can stay as it is rather than being replaced by `all(list(map(...)))`), thus leading to better speed, whereas with the changes already done it would not simplify them back to what they should be. This does not speak against edits such as replacing `list` variables by `list_` and likewise, which are the right thing to do either way. But I would be wary of making changes that possibly complicate the situation without knowing that it will become untangled when the time comes to actually switch to python 3.",
    "created_at": "2014-11-14T21:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257764",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:18'></a>

```
- return "".join(map(lambda x: self._character_to_code[x], string))
+ return "".join([self._character_to_code[x] for x in string])
```
Wondering if this is a good step forward, given that you can join an iterator to a string:

```
>>> map(lambda x: x+x, ['a','b','c'])
<map object at 0x7fd747ddee10>
>>> "blah".join(map(lambda x: x+x, ['a','b','c']))
'aablahbbblahcc'
```
(Python 3).

---

```
- map(
- lambda x: chr(ord(x) + 49),
- list(str(num[0]))),
+ [chr(ord(x) + 49) for x in list(str(num[0]))],
```
Can't we get rid of the `list`?

---

```
- a,b,c,d,e,f = map(G,R)
+ a,b,c,d,e,f = list(map(G,R))
```
This seems to not be necessary:

```
>>> a,b,c = iter([1,2,3])
>>> a
1
>>> b
2
>>> c
3
```

---

This is unnecessary:

```
- if all(map(lambda s: s.is_final, state.label())):
+ if all([s.is_final for s in state.label()]):
```
If anything then `all` definitely works on iterators.

---

Here is the thing that worries me the most: There are tools for automatic translation of python2 into 3. I am not sure if we should, or are going to, release them on the Sage library; but if we are, I would rather not do any manual work unless we can make sure that it will not interfere with the automated changes. I have a hunches that a well-written bot could do better than some of the changes in this patch (for instance, it should be a rule that `all(map(...))` can stay as it is rather than being replaced by `all(list(map(...)))`), thus leading to better speed, whereas with the changes already done it would not simplify them back to what they should be. This does not speak against edits such as replacing `list` variables by `list_` and likewise, which are the right thing to do either way. But I would be wary of making changes that possibly complicate the situation without knowing that it will become untangled when the time comes to actually switch to python 3.



---

archive/issue_comments_257765.json:
```json
{
    "body": "Changing commit from \"8331e848b1ab06e87ed5114926d941083ff0ae7f\" to \"99e57e20ca0f39d11c00a263f82a9de7d4f836ae\"",
    "created_at": "2014-11-15T21:23:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257765",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8331e848b1ab06e87ed5114926d941083ff0ae7f" to "99e57e20ca0f39d11c00a263f82a9de7d4f836ae"



---

archive/issue_comments_257766.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[99e57e2](https://github.com/sagemath/sagetrac-mirror/commit/99e57e20ca0f39d11c00a263f82a9de7d4f836ae)|`remove furthr unnecessary conversions to list`|",
    "created_at": "2014-11-15T21:23:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257766",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[99e57e2](https://github.com/sagemath/sagetrac-mirror/commit/99e57e20ca0f39d11c00a263f82a9de7d4f836ae)|`remove furthr unnecessary conversions to list`|



---

archive/issue_comments_257767.json:
```json
{
    "body": "<a id='comment:20'></a>\nDarij thanks. I hopefully made all the changes you suggested.\n\nReplying to [darij](#comment%3A18):\n> Here is the thing that worries me the most: There are tools for automatic translation of python2 into 3. I am not sure if we should, or are going to, release them on the Sage library; but if we are, I would rather not do any manual work unless we can make sure that it will not interfere with the automated changes. I have a hunches that a well-written bot could do better than some of the changes in this patch (for instance, it should be a rule that `all(map(...))` can stay as it is rather than being replaced by `all(list(map(...)))`), thus leading to better speed, whereas with the changes already done it would not simplify them back to what they should be. This does not speak against edits such as replacing `list` variables by `list_` and likewise, which are the right thing to do either way. But I would be wary of making changes that possibly complicate the situation without knowing that it will become untangled when the time comes to actually switch to python 3.\n\n\nThese tools don't work well in all cases and usually one can disable special fixes. So manual work won't interfere with automated changes.\n\nThe target of these changes is to simplify the switch to python 3 without complicating the situation. :)",
    "created_at": "2014-11-15T21:48:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257767",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:20'></a>
Darij thanks. I hopefully made all the changes you suggested.

Replying to [darij](#comment%3A18):
> Here is the thing that worries me the most: There are tools for automatic translation of python2 into 3. I am not sure if we should, or are going to, release them on the Sage library; but if we are, I would rather not do any manual work unless we can make sure that it will not interfere with the automated changes. I have a hunches that a well-written bot could do better than some of the changes in this patch (for instance, it should be a rule that `all(map(...))` can stay as it is rather than being replaced by `all(list(map(...)))`), thus leading to better speed, whereas with the changes already done it would not simplify them back to what they should be. This does not speak against edits such as replacing `list` variables by `list_` and likewise, which are the right thing to do either way. But I would be wary of making changes that possibly complicate the situation without knowing that it will become untangled when the time comes to actually switch to python 3.


These tools don't work well in all cases and usually one can disable special fixes. So manual work won't interfere with automated changes.

The target of these changes is to simplify the switch to python 3 without complicating the situation. :)



---

archive/issue_comments_257768.json:
```json
{
    "body": "<a id='comment:21'></a>\nI got \n\n```\n1 item had failures:\n   3 of 211 in sage.tests.cmdline.test_executable\n    [210 tests, 3 failures, 29.22 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/tests/cmdline.py  # 3 doctests failed\n```\nwhile there were no failures with plain sage 6.4. I have not yet found the cause.",
    "created_at": "2014-11-16T13:00:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257768",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:21'></a>
I got 

```
1 item had failures:
   3 of 211 in sage.tests.cmdline.test_executable
    [210 tests, 3 failures, 29.22 s]
----------------------------------------------------------------------
sage -t --long src/sage/tests/cmdline.py  # 3 doctests failed
```
while there were no failures with plain sage 6.4. I have not yet found the cause.



---

archive/issue_comments_257769.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [wluebbe](#comment%3A21):\n> I got \n> \n> ```\n> 1 item had failures:\n>    3 of 211 in sage.tests.cmdline.test_executable\n>     [210 tests, 3 failures, 29.22 s]\n> ----------------------------------------------------------------------\n> sage -t --long src/sage/tests/cmdline.py  # 3 doctests failed\n> ```\n> while there were no failures with plain sage 6.4. I have not yet found the cause.\n\n\nI have no problems with `cmdline.py`. Results keep the same with and without merging `origin/develop` into `16073`.\n\n```\nsage -t --long src/sage/tests/cmdline.py\n    [210 tests, 32.88 s]\n----------------------------------------------------------------------\nAll tests passed!\n```",
    "created_at": "2014-11-16T16:10:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257769",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:22'></a>
Replying to [wluebbe](#comment%3A21):
> I got 
> 
> ```
> 1 item had failures:
>    3 of 211 in sage.tests.cmdline.test_executable
>     [210 tests, 3 failures, 29.22 s]
> ----------------------------------------------------------------------
> sage -t --long src/sage/tests/cmdline.py  # 3 doctests failed
> ```
> while there were no failures with plain sage 6.4. I have not yet found the cause.


I have no problems with `cmdline.py`. Results keep the same with and without merging `origin/develop` into `16073`.

```
sage -t --long src/sage/tests/cmdline.py
    [210 tests, 32.88 s]
----------------------------------------------------------------------
All tests passed!
```



---

archive/issue_comments_257770.json:
```json
{
    "body": "<a id='comment:23'></a>\nStrange! And Volker just released sage-6.5.beta0 and auto-merge failed again ... :-(\n\nBy the way, back in June I was working to replace `map` with list comprehension or generator expressions (mostly). It was not quite complete when I took some time off.\n\nI want to give that approach a fresh start on sage-6.5.beta0. I will describe the reasoning tomorrow (or so ...).",
    "created_at": "2014-11-16T16:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257770",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:23'></a>
Strange! And Volker just released sage-6.5.beta0 and auto-merge failed again ... :-(

By the way, back in June I was working to replace `map` with list comprehension or generator expressions (mostly). It was not quite complete when I took some time off.

I want to give that approach a fresh start on sage-6.5.beta0. I will describe the reasoning tomorrow (or so ...).



---

archive/issue_comments_257771.json:
```json
{
    "body": "Changing commit from \"99e57e20ca0f39d11c00a263f82a9de7d4f836ae\" to \"f47ac2b0aeef8cd6172206c1f6ef36c326dafdc9\"",
    "created_at": "2014-11-16T17:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257771",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "99e57e20ca0f39d11c00a263f82a9de7d4f836ae" to "f47ac2b0aeef8cd6172206c1f6ef36c326dafdc9"



---

archive/issue_comments_257772.json:
```json
{
    "body": "<a id='comment:24'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[f47ac2b](https://github.com/sagemath/sagetrac-mirror/commit/f47ac2b0aeef8cd6172206c1f6ef36c326dafdc9)|`Merge remote-tracking branch 'origin/develop' into 16073`|",
    "created_at": "2014-11-16T17:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257772",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[f47ac2b](https://github.com/sagemath/sagetrac-mirror/commit/f47ac2b0aeef8cd6172206c1f6ef36c326dafdc9)|`Merge remote-tracking branch 'origin/develop' into 16073`|



---

archive/issue_comments_257773.json:
```json
{
    "body": "<a id='comment:25'></a>\nI uploaded a new branch `u/wluebbe/ticket/16073-2`.\n\nMy goal is to replace all `map` calls with list comprehension or generator expressions. Currently there are still about 40 `list(map(...` in the code (somehow my regexp did not find them :-/ ) and a number of `map`s in the doctests. So there is still some work to do.\n\nThe drawback of wrapping `map` with `list` is that in Python2 this is redundant.\nIf a context accepts iterators then in Python2 `map` cannot exploit this (as it returns a list). Remapping `map` in Python2 on its iterator version `itertools.imap` requires extra code.\n\nThe current branch does change list comprehensions to generator expressions in all possible cases. I would rather leave this refactoring to a new ticket since there are lots of applicable cases separate from 16073.\n\nI am very much interested in feedback to `u/wluebbe/ticket/16073-2`.",
    "created_at": "2014-11-18T16:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257773",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:25'></a>
I uploaded a new branch `u/wluebbe/ticket/16073-2`.

My goal is to replace all `map` calls with list comprehension or generator expressions. Currently there are still about 40 `list(map(...` in the code (somehow my regexp did not find them :-/ ) and a number of `map`s in the doctests. So there is still some work to do.

The drawback of wrapping `map` with `list` is that in Python2 this is redundant.
If a context accepts iterators then in Python2 `map` cannot exploit this (as it returns a list). Remapping `map` in Python2 on its iterator version `itertools.imap` requires extra code.

The current branch does change list comprehensions to generator expressions in all possible cases. I would rather leave this refactoring to a new ticket since there are lots of applicable cases separate from 16073.

I am very much interested in feedback to `u/wluebbe/ticket/16073-2`.



---

archive/issue_comments_257774.json:
```json
{
    "body": "<a id='comment:26'></a>\nwluebbe: sorry for the stupid question, but what is the precise difference between the two branches? I cannot tell it from the post.",
    "created_at": "2014-11-18T16:15:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257774",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:26'></a>
wluebbe: sorry for the stupid question, but what is the precise difference between the two branches? I cannot tell it from the post.



---

archive/issue_comments_257775.json:
```json
{
    "body": "<a id='comment:27'></a>\nThe 2 branches (the current `public/16073` and `u/wluebbe/ticket/16073-2`) are alternative approaches. \nI did not want to be so impolite and just swap the branches :-)\nAnd I did not think it is appropriate to open a separate ticket.",
    "created_at": "2014-11-18T16:32:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257775",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:27'></a>
The 2 branches (the current `public/16073` and `u/wluebbe/ticket/16073-2`) are alternative approaches. 
I did not want to be so impolite and just swap the branches :-)
And I did not think it is appropriate to open a separate ticket.



---

archive/issue_comments_257776.json:
```json
{
    "body": "<a id='comment:28'></a>\nI have added your branch to #15379 (an accidental duplicate ticket I made a year ago) to be able to see it on the trac viewer.\n\nI have to say I have no idea which of your two branches is the better one :/",
    "created_at": "2014-11-19T06:42:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257776",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:28'></a>
I have added your branch to #15379 (an accidental duplicate ticket I made a year ago) to be able to see it on the trac viewer.

I have to say I have no idea which of your two branches is the better one :/



---

archive/issue_comments_257777.json:
```json
{
    "body": "<a id='comment:29'></a>\nMy branch gets rid of (mostly) all `map(...)` and `list(map(...))` calls replacing them with list comprehension or generator expressions.\nThere are currently a few (about 40) `list(map(...))` calls left over (as e.g. in  `src/sage/graphs/bipartite_graph.py` lines 643ff).",
    "created_at": "2014-11-19T08:38:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257777",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:29'></a>
My branch gets rid of (mostly) all `map(...)` and `list(map(...))` calls replacing them with list comprehension or generator expressions.
There are currently a few (about 40) `list(map(...))` calls left over (as e.g. in  `src/sage/graphs/bipartite_graph.py` lines 643ff).



---

archive/issue_comments_257778.json:
```json
{
    "body": "Changing commit from \"f47ac2b0aeef8cd6172206c1f6ef36c326dafdc9\" to \"cf901f987a14edbad31608be8f5cf88b9d099748\"",
    "created_at": "2015-03-02T21:33:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257778",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f47ac2b0aeef8cd6172206c1f6ef36c326dafdc9" to "cf901f987a14edbad31608be8f5cf88b9d099748"



---

archive/issue_comments_257779.json:
```json
{
    "body": "<a id='comment:30'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[cf901f9](https://github.com/sagemath/sagetrac-mirror/commit/cf901f987a14edbad31608be8f5cf88b9d099748)|`Merge remote-tracking branch 'origin/develop' into 16073`|",
    "created_at": "2015-03-02T21:33:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257779",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[cf901f9](https://github.com/sagemath/sagetrac-mirror/commit/cf901f987a14edbad31608be8f5cf88b9d099748)|`Merge remote-tracking branch 'origin/develop' into 16073`|



---

archive/issue_comments_257780.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-05T19:12:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257780",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_257781.json:
```json
{
    "body": "<a id='comment:31'></a>\ndoes not apply",
    "created_at": "2015-05-05T19:12:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257781",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'></a>
does not apply



---

archive/issue_comments_257782.json:
```json
{
    "body": "Changing commit from \"cf901f987a14edbad31608be8f5cf88b9d099748\" to \"2c1de15add5af1438c4be1bab3b21accff978e9a\"",
    "created_at": "2015-05-06T18:49:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257782",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cf901f987a14edbad31608be8f5cf88b9d099748" to "2c1de15add5af1438c4be1bab3b21accff978e9a"



---

archive/issue_comments_257783.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[2c1de15](https://github.com/sagemath/sagetrac-mirror/commit/2c1de15add5af1438c4be1bab3b21accff978e9a)|`Merge remote-tracking branch 'origin/develop' into 16073`|",
    "created_at": "2015-05-06T18:49:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257783",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[2c1de15](https://github.com/sagemath/sagetrac-mirror/commit/2c1de15add5af1438c4be1bab3b21accff978e9a)|`Merge remote-tracking branch 'origin/develop' into 16073`|



---

archive/issue_comments_257784.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-05-06T18:50:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257784",
    "user": "https://github.com/a-andre"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_257785.json:
```json
{
    "body": "Changing author from \"Wilfried Luebbe\" to \"Wilfried Luebbe, Andr\u00e9 Apitzsch\"",
    "created_at": "2015-05-06T18:50:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257785",
    "user": "https://github.com/a-andre"
}
```

Changing author from "Wilfried Luebbe" to "Wilfried Luebbe, Andr√© Apitzsch"



---

archive/issue_comments_257786.json:
```json
{
    "body": "<a id='comment:34'></a>\nI find `[func(_) for _ in L]` more readable than `list(map(func, L))`.",
    "created_at": "2015-05-06T19:32:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257786",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:34'></a>
I find `[func(_) for _ in L]` more readable than `list(map(func, L))`.



---

archive/issue_comments_257787.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [jdemeyer](#comment%3A34):\n> I find `[func(_) for _ in L]` more readable than `list(map(func, L))`.\n\n\nI will change it.",
    "created_at": "2015-05-06T20:39:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257787",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:35'></a>
Replying to [jdemeyer](#comment%3A34):
> I find `[func(_) for _ in L]` more readable than `list(map(func, L))`.


I will change it.



---

archive/issue_comments_257788.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-06T20:39:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257788",
    "user": "https://github.com/a-andre"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_257789.json:
```json
{
    "body": "<a id='comment:36'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[3ce7033](https://github.com/sagemath/sagetrac-mirror/commit/3ce7033d5eb0377908986f18fa0b2e0681b303af)|`make 'list(map(..))' more readable`|",
    "created_at": "2015-05-08T09:17:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257789",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[3ce7033](https://github.com/sagemath/sagetrac-mirror/commit/3ce7033d5eb0377908986f18fa0b2e0681b303af)|`make 'list(map(..))' more readable`|



---

archive/issue_comments_257790.json:
```json
{
    "body": "Changing commit from \"2c1de15add5af1438c4be1bab3b21accff978e9a\" to \"3ce7033d5eb0377908986f18fa0b2e0681b303af\"",
    "created_at": "2015-05-08T09:17:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257790",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2c1de15add5af1438c4be1bab3b21accff978e9a" to "3ce7033d5eb0377908986f18fa0b2e0681b303af"



---

archive/issue_comments_257791.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-05-08T09:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257791",
    "user": "https://github.com/a-andre"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_257792.json:
```json
{
    "body": "<a id='comment:38'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[02ceae7](https://github.com/sagemath/sagetrac-mirror/commit/02ceae747267fe0610ebbcfb126712742cca189d)|`revert changes in random_variable.py`|",
    "created_at": "2015-05-08T10:38:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257792",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[02ceae7](https://github.com/sagemath/sagetrac-mirror/commit/02ceae747267fe0610ebbcfb126712742cca189d)|`revert changes in random_variable.py`|



---

archive/issue_comments_257793.json:
```json
{
    "body": "Changing commit from \"3ce7033d5eb0377908986f18fa0b2e0681b303af\" to \"02ceae747267fe0610ebbcfb126712742cca189d\"",
    "created_at": "2015-05-08T10:38:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257793",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3ce7033d5eb0377908986f18fa0b2e0681b303af" to "02ceae747267fe0610ebbcfb126712742cca189d"



---

archive/issue_comments_257794.json:
```json
{
    "body": "<a id='comment:39'></a>\nI'm sorry but this is much too boring to review.",
    "created_at": "2015-05-12T08:47:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257794",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:39'></a>
I'm sorry but this is much too boring to review.



---

archive/issue_comments_257795.json:
```json
{
    "body": "<a id='comment:40'></a>\nAre the changes scripted? If so, can you just tell me which script you used to generate them, then I'll review the script instead.",
    "created_at": "2015-05-12T08:50:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257795",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:40'></a>
Are the changes scripted? If so, can you just tell me which script you used to generate them, then I'll review the script instead.



---

archive/issue_comments_257796.json:
```json
{
    "body": "<a id='comment:41'></a>\nReplying to [jdemeyer](#comment%3A40):\n> Are the changes scripted? If so, can you just tell me which script you used to generate them, then I'll review the script instead.\n\n\nThere is no script. But if necessary we can split this ticket.",
    "created_at": "2015-05-12T16:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257796",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:41'></a>
Replying to [jdemeyer](#comment%3A40):
> Are the changes scripted? If so, can you just tell me which script you used to generate them, then I'll review the script instead.


There is no script. But if necessary we can split this ticket.



---

archive/issue_comments_257797.json:
```json
{
    "body": "Changing commit from \"02ceae747267fe0610ebbcfb126712742cca189d\" to \"ce34bea5d35fbba9d7c3d4a642c51cbe87d18e22\"",
    "created_at": "2015-05-14T08:08:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257797",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "02ceae747267fe0610ebbcfb126712742cca189d" to "ce34bea5d35fbba9d7c3d4a642c51cbe87d18e22"



---

archive/issue_comments_257798.json:
```json
{
    "body": "<a id='comment:42'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[ce34bea](https://github.com/sagemath/sagetrac-mirror/commit/ce34bea5d35fbba9d7c3d4a642c51cbe87d18e22)|`Merge remote-tracking branch 'origin/develop' into 16073`|",
    "created_at": "2015-05-14T08:08:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257798",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[ce34bea](https://github.com/sagemath/sagetrac-mirror/commit/ce34bea5d35fbba9d7c3d4a642c51cbe87d18e22)|`Merge remote-tracking branch 'origin/develop' into 16073`|



---

archive/issue_events_061598.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2015-05-14T08:09:41Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16073#event-61598"
}
```



---

archive/issue_events_061599.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2015-05-14T08:09:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16073#event-61599"
}
```



---

archive/issue_comments_257799.json:
```json
{
    "body": "<a id='comment:44'></a>\nReplying to [aapitzsch](#comment%3A41):\n> There is no script.\n\nThat actually worries me. If one has to manually review each individual change, that is *a lot* of changes to review and a lot of potential for mistakes also.",
    "created_at": "2015-05-21T10:18:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257799",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:44'></a>
Replying to [aapitzsch](#comment%3A41):
> There is no script.

That actually worries me. If one has to manually review each individual change, that is *a lot* of changes to review and a lot of potential for mistakes also.



---

archive/issue_comments_257800.json:
```json
{
    "body": "<a id='comment:45'></a>\nI still can split this ticket. Would it be sufficient to move the changes in `src/sage/combinat/` to a new ticket?",
    "created_at": "2015-05-22T12:04:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257800",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:45'></a>
I still can split this ticket. Would it be sufficient to move the changes in `src/sage/combinat/` to a new ticket?



---

archive/issue_comments_257801.json:
```json
{
    "body": "<a id='comment:46'></a>\nWell, my preferred solution would be if the majority of the changes would be scripted.\n\nSplitting would help also but maybe 2 pieces are not enough.",
    "created_at": "2015-05-22T15:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257801",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:46'></a>
Well, my preferred solution would be if the majority of the changes would be scripted.

Splitting would help also but maybe 2 pieces are not enough.



---

archive/issue_comments_257802.json:
```json
{
    "body": "Changing commit from \"ce34bea5d35fbba9d7c3d4a642c51cbe87d18e22\" to \"2916b218b07d9ae20dd030737392df9a1f55419b\"",
    "created_at": "2015-05-22T16:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257802",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ce34bea5d35fbba9d7c3d4a642c51cbe87d18e22" to "2916b218b07d9ae20dd030737392df9a1f55419b"



---

archive/issue_comments_257803.json:
```json
{
    "body": "<a id='comment:47'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[2916b21](https://github.com/sagemath/sagetrac-mirror/commit/2916b218b07d9ae20dd030737392df9a1f55419b)|`revert changes in src/sage/combinat`|",
    "created_at": "2015-05-22T16:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257803",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[2916b21](https://github.com/sagemath/sagetrac-mirror/commit/2916b218b07d9ae20dd030737392df9a1f55419b)|`revert changes in src/sage/combinat`|



---

archive/issue_comments_257804.json:
```json
{
    "body": "<a id='comment:48'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------|\n|[038b947](https://github.com/sagemath/sagetrac-mirror/commit/038b9475df4bbda26bdba92b20f2318bbbca5d10)|`revert more changes`|",
    "created_at": "2015-05-22T16:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257804",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                     |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------|
|[038b947](https://github.com/sagemath/sagetrac-mirror/commit/038b9475df4bbda26bdba92b20f2318bbbca5d10)|`revert more changes`|



---

archive/issue_comments_257805.json:
```json
{
    "body": "Changing commit from \"2916b218b07d9ae20dd030737392df9a1f55419b\" to \"038b9475df4bbda26bdba92b20f2318bbbca5d10\"",
    "created_at": "2015-05-22T16:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257805",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2916b218b07d9ae20dd030737392df9a1f55419b" to "038b9475df4bbda26bdba92b20f2318bbbca5d10"



---

archive/issue_comments_257806.json:
```json
{
    "body": "<a id='comment:49'></a>\nI added three additional tickets (#18472, #18473, #18474).",
    "created_at": "2015-05-22T16:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257806",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:49'></a>
I added three additional tickets (#18472, #18473, #18474).



---

archive/issue_comments_257807.json:
```json
{
    "body": "<a id='comment:50'></a>\nCan this now be set to closed?",
    "created_at": "2015-05-27T22:46:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257807",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:50'></a>
Can this now be set to closed?



---

archive/issue_comments_257808.json:
```json
{
    "body": "<a id='comment:51'></a>\nNo, unfortunately there are still a significant number of `map`s in the code base.\n\n`@`Andr\u00e9: Can you please move the branch `public/16073` from this ticket into a new, separate ticket. Then I will review the change. - Reason: I will create one (maybe two) extra tickets/changes (this is now #18531) for the leftover `map`s that I found during the review of #18473 and #18474. And I would prefer that this tickets only refers to the tickets containing the changes.",
    "created_at": "2015-05-28T06:17:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257808",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:51'></a>
No, unfortunately there are still a significant number of `map`s in the code base.

`@`Andr√©: Can you please move the branch `public/16073` from this ticket into a new, separate ticket. Then I will review the change. - Reason: I will create one (maybe two) extra tickets/changes (this is now #18531) for the leftover `map`s that I found during the review of #18473 and #18474. And I would prefer that this tickets only refers to the tickets containing the changes.



---

archive/issue_comments_257809.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-28T06:17:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257809",
    "user": "https://github.com/wluebbe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_257810.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#18472, #18473, #18474, #18531\"",
    "created_at": "2015-05-28T06:17:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257810",
    "user": "https://github.com/wluebbe"
}
```

Changing dependencies from "" to "#18472, #18473, #18474, #18531"



---

archive/issue_comments_257811.json:
```json
{
    "body": "Changing commit from \"038b9475df4bbda26bdba92b20f2318bbbca5d10\" to \"2df6d8488ef2496ff22cdf45027fc08ab40fe913\"",
    "created_at": "2015-05-28T06:54:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257811",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "038b9475df4bbda26bdba92b20f2318bbbca5d10" to "2df6d8488ef2496ff22cdf45027fc08ab40fe913"



---

archive/issue_comments_257812.json:
```json
{
    "body": "<a id='comment:52'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[2df6d84](https://github.com/sagemath/sagetrac-mirror/commit/2df6d8488ef2496ff22cdf45027fc08ab40fe913)|`Merge remote-tracking branch 'origin/develop' into 16073`|",
    "created_at": "2015-05-28T06:54:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257812",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:52'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[2df6d84](https://github.com/sagemath/sagetrac-mirror/commit/2df6d8488ef2496ff22cdf45027fc08ab40fe913)|`Merge remote-tracking branch 'origin/develop' into 16073`|



---

archive/issue_comments_257813.json:
```json
{
    "body": "Changing commit from \"2df6d8488ef2496ff22cdf45027fc08ab40fe913\" to \"\"",
    "created_at": "2015-05-28T06:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257813",
    "user": "https://github.com/a-andre"
}
```

Changing commit from "2df6d8488ef2496ff22cdf45027fc08ab40fe913" to ""



---

archive/issue_comments_257814.json:
```json
{
    "body": "Changing branch from \"public/16073\" to \"\"",
    "created_at": "2015-05-28T06:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257814",
    "user": "https://github.com/a-andre"
}
```

Changing branch from "public/16073" to ""



---

archive/issue_comments_257815.json:
```json
{
    "body": "Changing dependencies from \"#18472, #18473, #18474, #18531\" to \"#18472, #18473, #18474, #18531, #18532\"",
    "created_at": "2015-05-28T06:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257815",
    "user": "https://github.com/a-andre"
}
```

Changing dependencies from "#18472, #18473, #18474, #18531" to "#18472, #18473, #18474, #18531, #18532"



---

archive/issue_comments_257816.json:
```json
{
    "body": "<a id='comment:54'></a>\nThere are still a lot of `map()` call in the code. \n\nBut //not all// occurrences must be  removed: there are a number of places where a Py3 `map()`-iterator leads to the same result as the Py2 `map()`.\n\nHere is a long (but incomplete) list:\n\n```\nall(here_is_an_iterable_allowed)\nany(here_is_an_iterable_allowed)\nbytearray(here_is_an_iterable_allowed)\ndict(here_is_an_iterable_of_key_value_pairs_allowed)\nfilter(function, here_is_an_iterable_allowed)\nfrozenset(here_is_an_iterable_allowed)\nlist(here_is_an_iterable_allowed)\nmap(function, here_is_an_iterable_allowed)\nmax(here_is_an_iterable_allowed)\nmin(here_is_an_iterable_allowed)\nreduce(function, here_is_an_iterable_allowed)\nset(here_is_an_iterable_allowed)\nsorted(here_is_an_iterable_allowed)\nsum(here_is_an_iterable_allowed)\ntuple(here_is_an_iterable_allowed)\nzip(here_is_an_iterable_allowed)\n\n''.join(here_is_an_iterable_allowed)\na,b,c* = here_is_an_iterable_allowed\nx[i:j] = here_is_an_iterable_allowed\na_dict.update(here_is_an_iterable_of_key_value_pairs_allowed)\nfile.writelines(here_is_an_iterable_allowed)\nmath.fsum(here_is_an_iterable_allowed)\n\nand MANY functions in module itertools.\n\nfor i in here_is_an_iterable_allowed:\n    pass\n[2*x for x in here_is_an_iterable_allowed]\n(2*x for x in here_is_an_iterable_allowed)\n```\n\nBut if the use of `map` includes a `lambda` then replacing it with a list comprehension improves the readability!",
    "created_at": "2015-05-28T12:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257816",
    "user": "https://github.com/wluebbe"
}
```

<a id='comment:54'></a>
There are still a lot of `map()` call in the code. 

But //not all// occurrences must be  removed: there are a number of places where a Py3 `map()`-iterator leads to the same result as the Py2 `map()`.

Here is a long (but incomplete) list:

```
all(here_is_an_iterable_allowed)
any(here_is_an_iterable_allowed)
bytearray(here_is_an_iterable_allowed)
dict(here_is_an_iterable_of_key_value_pairs_allowed)
filter(function, here_is_an_iterable_allowed)
frozenset(here_is_an_iterable_allowed)
list(here_is_an_iterable_allowed)
map(function, here_is_an_iterable_allowed)
max(here_is_an_iterable_allowed)
min(here_is_an_iterable_allowed)
reduce(function, here_is_an_iterable_allowed)
set(here_is_an_iterable_allowed)
sorted(here_is_an_iterable_allowed)
sum(here_is_an_iterable_allowed)
tuple(here_is_an_iterable_allowed)
zip(here_is_an_iterable_allowed)

''.join(here_is_an_iterable_allowed)
a,b,c* = here_is_an_iterable_allowed
x[i:j] = here_is_an_iterable_allowed
a_dict.update(here_is_an_iterable_of_key_value_pairs_allowed)
file.writelines(here_is_an_iterable_allowed)
math.fsum(here_is_an_iterable_allowed)

and MANY functions in module itertools.

for i in here_is_an_iterable_allowed:
    pass
[2*x for x in here_is_an_iterable_allowed]
(2*x for x in here_is_an_iterable_allowed)
```

But if the use of `map` includes a `lambda` then replacing it with a list comprehension improves the readability!



---

archive/issue_comments_257817.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,4 @@\n \n An alternative approach is to add `from future_builtins import map` and to check the code.\n \n-There are 171 effected modules. \n-\n This ticket is tracked as a dependency of meta-ticket ticket:16052.\n``````\n",
    "created_at": "2015-05-30T12:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257817",
    "user": "https://github.com/wluebbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,4 @@
 
 An alternative approach is to add `from future_builtins import map` and to check the code.
 
-There are 171 effected modules. 
-
 This ticket is tracked as a dependency of meta-ticket ticket:16052.
``````




---

archive/issue_comments_257818.json:
```json
{
    "body": "Changing dependencies from \"#18472, #18473, #18474, #18531, #18532\" to \"#18472, #18473, #18474, #18531, #18532, #18553\"",
    "created_at": "2015-05-30T12:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257818",
    "user": "https://github.com/wluebbe"
}
```

Changing dependencies from "#18472, #18473, #18474, #18531, #18532" to "#18472, #18473, #18474, #18531, #18532, #18553"



---

archive/issue_events_061600.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-04-28T06:50:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16073#event-61600"
}
```



---

archive/issue_events_061601.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-04-28T06:50:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16073#event-61601"
}
```



---

archive/issue_comments_257819.json:
```json
{
    "body": "Changing dependencies from \"#18472, #18473, #18474, #18531, #18532, #18553\" to \"\"",
    "created_at": "2016-05-02T13:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257819",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#18472, #18473, #18474, #18531, #18532, #18553" to ""



---

archive/issue_comments_257820.json:
```json
{
    "body": "<a id='comment:58'></a>\nsee #22121 and #22127 for steps in this direction",
    "created_at": "2017-01-03T09:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257820",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:58'></a>
see #22121 and #22127 for steps in this direction



---

archive/issue_events_061602.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-01T12:52:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16073#event-61602"
}
```



---

archive/issue_events_061603.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-01T12:52:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16073#event-61603"
}
```



---

archive/issue_comments_257821.json:
```json
{
    "body": "<a id='comment:60'></a>\nanother step in #23084",
    "created_at": "2017-05-26T09:55:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257821",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:60'></a>
another step in #23084



---

archive/issue_comments_257822.json:
```json
{
    "body": "<a id='comment:61'></a>\nanother step in #23130",
    "created_at": "2017-06-02T19:04:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257822",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:61'></a>
another step in #23130



---

archive/issue_comments_257823.json:
```json
{
    "body": "<a id='comment:62'></a>\nnext #24382",
    "created_at": "2017-12-15T14:10:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257823",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:62'></a>
next #24382



---

archive/issue_comments_257824.json:
```json
{
    "body": "<a id='comment:63'></a>\nnext in #24572",
    "created_at": "2018-01-19T16:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257824",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:63'></a>
next in #24572



---

archive/issue_comments_257825.json:
```json
{
    "body": "<a id='comment:64'></a>\nSome more in #25231",
    "created_at": "2018-04-23T14:24:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257825",
    "user": "https://github.com/embray"
}
```

<a id='comment:64'></a>
Some more in #25231



---

archive/issue_comments_257826.json:
```json
{
    "body": "<a id='comment:65'></a>\nSome more in #25418",
    "created_at": "2018-05-21T18:00:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257826",
    "user": "https://github.com/embray"
}
```

<a id='comment:65'></a>
Some more in #25418



---

archive/issue_comments_257827.json:
```json
{
    "body": "<a id='comment:66'></a>\nSome more in #25925",
    "created_at": "2018-07-25T13:09:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257827",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:66'></a>
Some more in #25925



---

archive/issue_events_061604.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-04T09:49:50Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16073#event-61604"
}
```



---

archive/issue_events_061605.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-04T09:49:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16073#event-61605"
}
```



---

archive/issue_comments_257828.json:
```json
{
    "body": "<a id='comment:67'></a>\nProbably one coud close this one too ? Agreed ?",
    "created_at": "2019-06-04T09:49:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257828",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:67'></a>
Probably one coud close this one too ? Agreed ?



---

archive/issue_comments_257829.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-06-04T14:19:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257829",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_257830.json:
```json
{
    "body": "<a id='comment:69'></a>\nSure.",
    "created_at": "2019-06-04T14:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257830",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:69'></a>
Sure.



---

archive/issue_comments_257831.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-06-04T14:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257831",
    "user": "https://github.com/vinklein"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_257832.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-06-04T15:26:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16073#issuecomment-257832",
    "user": "https://github.com/fchapoton"
}
```

Resolution: fixed



---

archive/issue_events_061606.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-04T15:26:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16073",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16073#event-61606"
}
```
