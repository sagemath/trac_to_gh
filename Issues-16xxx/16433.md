# Issue 16433: clique_with_loops.is_strongly_regular() is True

archive/issues_016196.json:
```json
{
    "assignees": [],
    "body": "In #16370 Vincent reported the following\n\n```\nsage: BIBD = designs.BalancedIncompleteBlockDesign(31,6)\nsage: V = map(Set, BIBD.blocks())\nsage: G = Graph([V, lambda x,y: x&y])\nsage: G.is_strongly_regular(parameters=True)\n(31, 32, 31, -1)\n```\n\nThe parameters should always be positive, and this bug comes from the fact that G is a clique with loops. And well, strongly regular graphs are assumed to be simple, so let's keep Sage's code simple without trying to generalize definitions `:-P`\n\nNathann\n\nCC:  @videlec\n\nBranch/Commit: **[4e717d3](https://github.com/sagemath/sagetrac-mirror/commit/4e717d3bb11a562c260a34f6031a0def3bec162d)**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Nathann Cohen**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16433_\n\n",
    "closed_at": "2014-06-04T22:02:18Z",
    "created_at": "2014-06-03T17:02:09Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "clique_with_loops.is_strongly_regular() is True",
    "type": "issue",
    "updated_at": "2014-06-04T22:02:18Z",
    "url": "https://github.com/sagemath/sage/issues/16433",
    "user": "https://github.com/nathanncohen"
}
```
In #16370 Vincent reported the following

```
sage: BIBD = designs.BalancedIncompleteBlockDesign(31,6)
sage: V = map(Set, BIBD.blocks())
sage: G = Graph([V, lambda x,y: x&y])
sage: G.is_strongly_regular(parameters=True)
(31, 32, 31, -1)
```

The parameters should always be positive, and this bug comes from the fact that G is a clique with loops. And well, strongly regular graphs are assumed to be simple, so let's keep Sage's code simple without trying to generalize definitions `:-P`

Nathann

CC:  @videlec

Branch/Commit: **[4e717d3](https://github.com/sagemath/sagetrac-mirror/commit/4e717d3bb11a562c260a34f6031a0def3bec162d)**

Reviewer: **Vincent Delecroix**

Author: **Nathann Cohen**

_Issue created by migration from https://trac.sagemath.org/ticket/16433_





---

archive/issue_events_217126.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-03T17:02:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16433#event-217126"
}
```



---

archive/issue_events_217127.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-03T17:02:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16433#event-217127"
}
```



---

archive/issue_events_217128.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-03T17:02:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16433#event-217128"
}
```



---

archive/issue_events_217129.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-03T17:02:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16433#event-217129"
}
```



---

archive/issue_events_217130.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-06-03T17:02:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16433#event-217130"
}
```



---

archive/issue_comments_214730.json:
```json
{
    "body": "Branch: **[u/ncohen/16433](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16433)**",
    "created_at": "2014-06-03T17:02:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214730",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[u/ncohen/16433](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16433)**



---

archive/issue_comments_214731.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea1f5b8888379d2a587b995c04b6bd34bb70ecf5\">ea1f5b8</a></td><td><code>trac #16433: clique_with_loops.is_strongly_regular() is True</code></td></tr></table>\n",
    "created_at": "2014-06-03T17:03:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214731",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea1f5b8888379d2a587b995c04b6bd34bb70ecf5">ea1f5b8</a></td><td><code>trac #16433: clique_with_loops.is_strongly_regular() is True</code></td></tr></table>




---

archive/issue_comments_214732.json:
```json
{
    "body": "Commit: **[ea1f5b8](https://github.com/sagemath/sagetrac-mirror/commit/ea1f5b8888379d2a587b995c04b6bd34bb70ecf5)**",
    "created_at": "2014-06-03T17:03:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214732",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[ea1f5b8](https://github.com/sagemath/sagetrac-mirror/commit/ea1f5b8888379d2a587b995c04b6bd34bb70ecf5)**



---

archive/issue_comments_214733.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nHi Nathann,\n\nNice fix! I added docs. See u/vdelecroix/16433. Have a look and put positive review if you like.\n\nVincent",
    "created_at": "2014-06-03T19:06:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214733",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'>Comment 3:</a>
Hi Nathann,

Nice fix! I added docs. See u/vdelecroix/16433. Have a look and put positive review if you like.

Vincent



---

archive/issue_comments_214734.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nYo !\n\n> Nice fix! I added docs. See u/vdelecroix/16433. Have a look and put positive review if you like.\n\nSounds a bit counter-productive to add such comments here while we implement `OrthogonalArrayGraphs` just near. Don't you prefer to have this patch depend on #16370 so that you can link to the doc of `OrthogonalArrayGraph` (with stuff like a seealso block) ? By the way we have a LOT of strongly reguar graphs in Sage (including families), so unless you want to make a list of them these comments do not make much sense to me... The doc about BIBD and OA graphs really belong to the doc of those functions, not to the doc of this method.\n\nWhat we should do perhaps is begin to index the SRG we can build somewhere. But I don't know how to do this properly atm...\n\nSo it's up to you. If you insist on adding this I don't mind.\n\nNathann",
    "created_at": "2014-06-04T12:55:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214734",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'>Comment 4:</a>
Yo !

> Nice fix! I added docs. See u/vdelecroix/16433. Have a look and put positive review if you like.

Sounds a bit counter-productive to add such comments here while we implement `OrthogonalArrayGraphs` just near. Don't you prefer to have this patch depend on #16370 so that you can link to the doc of `OrthogonalArrayGraph` (with stuff like a seealso block) ? By the way we have a LOT of strongly reguar graphs in Sage (including families), so unless you want to make a list of them these comments do not make much sense to me... The doc about BIBD and OA graphs really belong to the doc of those functions, not to the doc of this method.

What we should do perhaps is begin to index the SRG we can build somewhere. But I don't know how to do this properly atm...

So it's up to you. If you insist on adding this I don't mind.

Nathann



---

archive/issue_comments_214735.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nHi,\n\nReplying to [@nathanncohen](#comment%3A4):\n> Yo !\n> \n> > Nice fix! I added docs. See u/vdelecroix/16433. Have a look and put positive review if you like.\n\n> \n> Sounds a bit counter-productive to add such comments here while we implement `OrthogonalArrayGraphs` just near. Don't you prefer to have this patch depend on #16370 so that you can link to the doc of `OrthogonalArrayGraph` (with stuff like a seealso block) ? By the way we have a LOT of strongly reguar graphs in Sage (including families), so unless you want to make a list of them these comments do not make much sense to me... The doc about BIBD and OA graphs really belong to the doc of those functions, not to the doc of this method.\n\nI do know nothing about strongly regular graphs, so I was very enthusiastic of having this one. But you are right it does not make much sense.\n\n> What we should do perhaps is begin to index the SRG we can build somewhere. But I don't know how to do this properly atm...\n\nOk. Just keep this in mind.\n\n> So it's up to you. If you insist on adding this I don't mind.\n\nJust add the doctest about the errors (there are at the very end of the doc in the commit). I do not mind if you do a copy paste and keep it in your branch.\n\nVincent",
    "created_at": "2014-06-04T14:07:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214735",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'>Comment 5:</a>
Hi,

Replying to [@nathanncohen](#comment%3A4):
> Yo !
> 
> > Nice fix! I added docs. See u/vdelecroix/16433. Have a look and put positive review if you like.

> 
> Sounds a bit counter-productive to add such comments here while we implement `OrthogonalArrayGraphs` just near. Don't you prefer to have this patch depend on #16370 so that you can link to the doc of `OrthogonalArrayGraph` (with stuff like a seealso block) ? By the way we have a LOT of strongly reguar graphs in Sage (including families), so unless you want to make a list of them these comments do not make much sense to me... The doc about BIBD and OA graphs really belong to the doc of those functions, not to the doc of this method.

I do know nothing about strongly regular graphs, so I was very enthusiastic of having this one. But you are right it does not make much sense.

> What we should do perhaps is begin to index the SRG we can build somewhere. But I don't know how to do this properly atm...

Ok. Just keep this in mind.

> So it's up to you. If you insist on adding this I don't mind.

Just add the doctest about the errors (there are at the very end of the doc in the commit). I do not mind if you do a copy paste and keep it in your branch.

Vincent



---

archive/issue_comments_214736.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nYo !\n\n> I do know nothing about strongly regular graphs, so I was very enthusiastic of having this one. But you are right it does not make much sense.\n\nWhat about your branch then ?... Do you update it ?\n\n> > What we should do perhaps is begin to index the SRG we can build somewhere. But I don't know how to do this properly atm...\n\n> \n> Ok. Just keep this in mind.\n\nOf course I keep this in mind. I have been implementing families for this only...\nhttp://trac.sagemath.org/ticket/14631\nhttp://trac.sagemath.org/ticket/16362\n\n> Just add the doctest about the errors (there are at the very end of the doc in the commit). I do not mind if you do a copy paste and keep it in your branch.\n\nOkay Okay so I update your branch ...\n\nNathann",
    "created_at": "2014-06-04T14:26:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214736",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'>Comment 6:</a>
Yo !

> I do know nothing about strongly regular graphs, so I was very enthusiastic of having this one. But you are right it does not make much sense.

What about your branch then ?... Do you update it ?

> > What we should do perhaps is begin to index the SRG we can build somewhere. But I don't know how to do this properly atm...

> 
> Ok. Just keep this in mind.

Of course I keep this in mind. I have been implementing families for this only...
http://trac.sagemath.org/ticket/14631
http://trac.sagemath.org/ticket/16362

> Just add the doctest about the errors (there are at the very end of the doc in the commit). I do not mind if you do a copy paste and keep it in your branch.

Okay Okay so I update your branch ...

Nathann



---

archive/issue_comments_214737.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nOkay, turns out I cannot add a reference to the OA graphs because the ticket may be closed as wontfix. So I do what I can.\n\nNathann",
    "created_at": "2014-06-04T14:30:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214737",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'>Comment 7:</a>
Okay, turns out I cannot add a reference to the OA graphs because the ticket may be closed as wontfix. So I do what I can.

Nathann



---

archive/issue_comments_214738.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e717d3bb11a562c260a34f6031a0def3bec162d\">4e717d3</a></td><td><code>trac #16433: more doc</code></td></tr></table>\n",
    "created_at": "2014-06-04T14:31:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214738",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e717d3bb11a562c260a34f6031a0def3bec162d">4e717d3</a></td><td><code>trac #16433: more doc</code></td></tr></table>




---

archive/issue_comments_214739.json:
```json
{
    "body": "Changed commit from **[ea1f5b8](https://github.com/sagemath/sagetrac-mirror/commit/ea1f5b8888379d2a587b995c04b6bd34bb70ecf5)** to **[4e717d3](https://github.com/sagemath/sagetrac-mirror/commit/4e717d3bb11a562c260a34f6031a0def3bec162d)**",
    "created_at": "2014-06-04T14:31:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214739",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ea1f5b8](https://github.com/sagemath/sagetrac-mirror/commit/ea1f5b8888379d2a587b995c04b6bd34bb70ecf5)** to **[4e717d3](https://github.com/sagemath/sagetrac-mirror/commit/4e717d3bb11a562c260a34f6031a0def3bec162d)**



---

archive/issue_comments_214740.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nPerfect. Thanks.",
    "created_at": "2014-06-04T15:10:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214740",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'>Comment 9:</a>
Perfect. Thanks.



---

archive/issue_events_217131.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-04T15:10:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16433#event-217131"
}
```



---

archive/issue_events_217132.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-04T15:10:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16433#event-217132"
}
```



---

archive/issue_comments_214741.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2014-06-04T15:10:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214741",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_214742.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nHow did you manage to make me the author of the last commit ???",
    "created_at": "2014-06-04T15:11:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214742",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'>Comment 10:</a>
How did you manage to make me the author of the last commit ???



---

archive/issue_comments_214743.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\n> How did you manage to make me the author of the last commit ???\n\nWhen you run git commit --amend instead of git commit you do not create a new commit but add your changes to the last commit. I just did that. I does not change the author's name.\n\nYou can also set the author manually when you do a commit btw.\n\nNathann",
    "created_at": "2014-06-04T15:12:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214743",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'>Comment 11:</a>
> How did you manage to make me the author of the last commit ???

When you run git commit --amend instead of git commit you do not create a new commit but add your changes to the last commit. I just did that. I does not change the author's name.

You can also set the author manually when you do a commit btw.

Nathann



---

archive/issue_events_217133.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-04T22:02:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16433#event-217133"
}
```



---

archive/issue_events_217134.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ac9e526703b36cba0dd40ee9888dfb5eccd5ffe9",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-06-04T22:02:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16433#event-217134"
}
```



---

archive/issue_comments_214744.json:
```json
{
    "body": "Changed branch from **[u/ncohen/16433](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16433)** to **[4e717d3](https://github.com/sagemath/sagetrac-mirror/commit/4e717d3bb11a562c260a34f6031a0def3bec162d)**",
    "created_at": "2014-06-04T22:02:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16433",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16433#issuecomment-214744",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/ncohen/16433](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16433)** to **[4e717d3](https://github.com/sagemath/sagetrac-mirror/commit/4e717d3bb11a562c260a34f6031a0def3bec162d)**
