# Issue 16645: Restore displaying animations in notebook

archive/issues_016408.json:
```json
{
    "body": "#12827 broke display of animations, and while #16608 restored that functionality for `Animation.show()`, it remains broken for methods `Animation.gif()` and `Animation.ffmpeg()`. Based on #15515, a more complete fix is possible.\n\nKeywords: notebook, animate\n\nBranch/Commit: 2c5f58bd16352a82c7c7b9ad6f1c17cd86a33571\n\nReviewer: Volker Braun\n\nAuthor: Martin von Gagern\n\nDependencies: #15515, #16608\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16645\n\n",
    "closed_at": "2014-07-14T14:38:10Z",
    "created_at": "2014-07-11T07:10:33Z",
    "labels": [
        "component: graphics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Restore displaying animations in notebook",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16645",
    "user": "https://github.com/gagern"
}
```
#12827 broke display of animations, and while #16608 restored that functionality for `Animation.show()`, it remains broken for methods `Animation.gif()` and `Animation.ffmpeg()`. Based on #15515, a more complete fix is possible.

Keywords: notebook, animate

Branch/Commit: 2c5f58bd16352a82c7c7b9ad6f1c17cd86a33571

Reviewer: Volker Braun

Author: Martin von Gagern

Dependencies: #15515, #16608

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16645





---

archive/issue_comments_280752.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gagern/ticket/16645\"",
    "created_at": "2014-07-11T08:04:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280752",
    "user": "https://github.com/gagern"
}
```

Changing branch from "" to "u/gagern/ticket/16645"



---

archive/issue_comments_280753.json:
```json
{
    "body": "Changing commit from \"\" to \"9f30e9400f6fda042bf579e720ffee772c751f1e\"",
    "created_at": "2014-07-11T08:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280753",
    "user": "https://github.com/gagern"
}
```

Changing commit from "" to "9f30e9400f6fda042bf579e720ffee772c751f1e"



---

archive/issue_comments_280754.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-07-11T08:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280754",
    "user": "https://github.com/gagern"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_280755.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[58b9c46](https://github.com/sagemath/sagetrac-mirror/commit/58b9c46c732978aa1b82ba4f15f31919d8f3f3c3)|`minimal fix to restore functionality`|\n|[16cbd2d](https://github.com/sagemath/sagetrac-mirror/commit/16cbd2d59b4b5bbb330668255345fc2d53f3afee)|`Merge branch 'develop' into ticket/16533-stopgap`|\n|[b3e656b](https://github.com/sagemath/sagetrac-mirror/commit/b3e656b4507d9f6544e87641614836dc6275e929)|`graphics_filename: return a tmp_filename() if not in EMBEDDED_MODE`|\n|[69b285d](https://github.com/sagemath/sagetrac-mirror/commit/69b285d7fb1ebf189aea0b7cde311880ec884d6d)|`Restore possibly positional arguments.`|\n|[e3c5542](https://github.com/sagemath/sagetrac-mirror/commit/e3c55428aeb70ded8dc9e66742c2cf68eae57350)|`Merge branch ticket/15515 into ticket/16608 to create ticket/16645.`|\n|[9f30e94](https://github.com/sagemath/sagetrac-mirror/commit/9f30e9400f6fda042bf579e720ffee772c751f1e)|`Always use graphics_filename instead of tmp_filename.`|",
    "created_at": "2014-07-11T08:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280755",
    "user": "https://github.com/gagern"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[58b9c46](https://github.com/sagemath/sagetrac-mirror/commit/58b9c46c732978aa1b82ba4f15f31919d8f3f3c3)|`minimal fix to restore functionality`|
|[16cbd2d](https://github.com/sagemath/sagetrac-mirror/commit/16cbd2d59b4b5bbb330668255345fc2d53f3afee)|`Merge branch 'develop' into ticket/16533-stopgap`|
|[b3e656b](https://github.com/sagemath/sagetrac-mirror/commit/b3e656b4507d9f6544e87641614836dc6275e929)|`graphics_filename: return a tmp_filename() if not in EMBEDDED_MODE`|
|[69b285d](https://github.com/sagemath/sagetrac-mirror/commit/69b285d7fb1ebf189aea0b7cde311880ec884d6d)|`Restore possibly positional arguments.`|
|[e3c5542](https://github.com/sagemath/sagetrac-mirror/commit/e3c55428aeb70ded8dc9e66742c2cf68eae57350)|`Merge branch ticket/15515 into ticket/16608 to create ticket/16645.`|
|[9f30e94](https://github.com/sagemath/sagetrac-mirror/commit/9f30e9400f6fda042bf579e720ffee772c751f1e)|`Always use graphics_filename instead of tmp_filename.`|



---

archive/issue_comments_280756.json:
```json
{
    "body": "<a id='comment:3'></a>\nNote that only [9f30e94](https://github.com/sagemath/sagetrac-mirror/commit/9f30e9400f6fda042bf579e720ffee772c751f1e) is new for this ticket here, all the other commits listed above are parts of some already closed tickets and should end up in the develop branch pretty soon. So it is enough to review just that single commit.",
    "created_at": "2014-07-11T08:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280756",
    "user": "https://github.com/gagern"
}
```

<a id='comment:3'></a>
Note that only [9f30e94](https://github.com/sagemath/sagetrac-mirror/commit/9f30e9400f6fda042bf579e720ffee772c751f1e) is new for this ticket here, all the other commits listed above are parts of some already closed tickets and should end up in the develop branch pretty soon. So it is enough to review just that single commit.



---

archive/issue_comments_280757.json:
```json
{
    "body": "Changing commit from \"9f30e9400f6fda042bf579e720ffee772c751f1e\" to \"bb7307f0649cfa90916f74c102d1d09a424b759a\"",
    "created_at": "2014-07-11T09:22:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280757",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9f30e9400f6fda042bf579e720ffee772c751f1e" to "bb7307f0649cfa90916f74c102d1d09a424b759a"



---

archive/issue_comments_280758.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|\n|[bb7307f](https://github.com/sagemath/sagetrac-mirror/commit/bb7307f0649cfa90916f74c102d1d09a424b759a)|`Prevent doctest from leaking file into current working directory.`|",
    "created_at": "2014-07-11T09:22:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
|[bb7307f](https://github.com/sagemath/sagetrac-mirror/commit/bb7307f0649cfa90916f74c102d1d09a424b759a)|`Prevent doctest from leaking file into current working directory.`|



---

archive/issue_comments_280759.json:
```json
{
    "body": "<a id='comment:5'></a>\n[These are the changes](http://git.sagemath.org/sage.git/diff/?h=u/gagern/ticket/16645&id2=e3c55428aeb70ded8dc9e66742c2cf68eae57350) that need reviewing in this ticket here.",
    "created_at": "2014-07-11T21:23:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280759",
    "user": "https://github.com/gagern"
}
```

<a id='comment:5'></a>
[These are the changes](http://git.sagemath.org/sage.git/diff/?h=u/gagern/ticket/16645&id2=e3c55428aeb70ded8dc9e66742c2cf68eae57350) that need reviewing in this ticket here.



---

archive/issue_comments_280760.json:
```json
{
    "body": "<a id='comment:6'></a>\n`tmp_filename` is already a global in Sage, you don't need\n\n```\nsage: f = sage.misc.temporary_file.tmp_filename(ext='.png')\n```\nin doctests.`",
    "created_at": "2014-07-13T05:10:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280760",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'></a>
`tmp_filename` is already a global in Sage, you don't need

```
sage: f = sage.misc.temporary_file.tmp_filename(ext='.png')
```
in doctests.`



---

archive/issue_comments_280761.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Volker Braun\"",
    "created_at": "2014-07-13T05:10:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280761",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "" to "Volker Braun"



---

archive/issue_comments_280762.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-07-13T05:15:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280762",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_280763.json:
```json
{
    "body": "<a id='comment:8'></a>\nlgtm",
    "created_at": "2014-07-13T05:15:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280763",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>
lgtm



---

archive/issue_comments_280764.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n|                                                                                                                                          |                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|\n|[2c5f58b](https://github.com/sagemath/sagetrac-mirror/commit/2c5f58bd16352a82c7c7b9ad6f1c17cd86a33571)|`Avoid unneccessary qualification of tmp_filename in doctests.`|",
    "created_at": "2014-07-13T07:38:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280764",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
|                                                                                                                                          |                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
|[2c5f58b](https://github.com/sagemath/sagetrac-mirror/commit/2c5f58bd16352a82c7c7b9ad6f1c17cd86a33571)|`Avoid unneccessary qualification of tmp_filename in doctests.`|



---

archive/issue_comments_280765.json:
```json
{
    "body": "Changing commit from \"bb7307f0649cfa90916f74c102d1d09a424b759a\" to \"2c5f58bd16352a82c7c7b9ad6f1c17cd86a33571\"",
    "created_at": "2014-07-13T07:38:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280765",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bb7307f0649cfa90916f74c102d1d09a424b759a" to "2c5f58bd16352a82c7c7b9ad6f1c17cd86a33571"



---

archive/issue_comments_280766.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2014-07-13T07:38:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280766",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_280767.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [vbraun](#comment%3A6):\n> `tmp_filename` is already a global in Sage [\u2026]\n\n\nThanks for the review, and for pointing this out. I did copy and paste that from [745a3bb](https://github.com/sagemath/sagetrac-mirror/commit/745a3bbdb8ac6499b0c650d005ab77dc1e47434f) from #12827, and addressed both instances now.",
    "created_at": "2014-07-13T07:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280767",
    "user": "https://github.com/gagern"
}
```

<a id='comment:10'></a>
Replying to [vbraun](#comment%3A6):
> `tmp_filename` is already a global in Sage […]


Thanks for the review, and for pointing this out. I did copy and paste that from [745a3bb](https://github.com/sagemath/sagetrac-mirror/commit/745a3bbdb8ac6499b0c650d005ab77dc1e47434f) from #12827, and addressed both instances now.



---

archive/issue_comments_280768.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-07-13T07:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280768",
    "user": "https://github.com/gagern"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_280769.json:
```json
{
    "body": "Changing branch from \"u/gagern/ticket/16645\" to \"2c5f58bd16352a82c7c7b9ad6f1c17cd86a33571\"",
    "created_at": "2014-07-14T14:38:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280769",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/gagern/ticket/16645" to "2c5f58bd16352a82c7c7b9ad6f1c17cd86a33571"



---

archive/issue_events_055527.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-14T14:38:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16645#event-55527"
}
```



---

archive/issue_comments_280770.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-07-14T14:38:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16645",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16645#issuecomment-280770",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
