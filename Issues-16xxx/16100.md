# Issue 16100: Keep going in doc errors

archive/issues_015863.json:
```json
{
    "assignees": [],
    "body": "\n```\n$ sage -docbuild -h\nUsage: sage -docbuild [OPTIONS] DOCUMENT (FORMAT | COMMAND)\n\n[...]\n\n  Advanced:\n    Use these options with care.\n\n    -S OPTS, --sphinx-opts=OPTS\n                        pass comma-separated OPTS to sphinx-build\n    -U, --update-mtimes\n                        before building reference manual, update modification\n                        times for auto-generated ReST files\n    -k, --keep-going    Do not abort on errors but continue as much as\n                        possible after an error\n```\n\nCC:  @nathanncohen @jhpalmieri\n\nKeywords: **days57**\n\nBranch/Commit: **[1e7bc36](https://github.com/sagemath/sagetrac-mirror/commit/1e7bc36e6ecda3e167bb12b1b78c87dc41b8fa82)**\n\nReviewer: **Nicolas M. Thi\u00e9ry**\n\nAuthor: **Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16100_\n\n",
    "closed_at": "2014-04-09T09:39:30Z",
    "created_at": "2014-04-08T14:02:43Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20documentation",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Keep going in doc errors",
    "type": "issue",
    "updated_at": "2014-04-09T09:39:30Z",
    "url": "https://github.com/sagemath/sage/issues/16100",
    "user": "https://github.com/vbraun"
}
```

```
$ sage -docbuild -h
Usage: sage -docbuild [OPTIONS] DOCUMENT (FORMAT | COMMAND)

[...]

  Advanced:
    Use these options with care.

    -S OPTS, --sphinx-opts=OPTS
                        pass comma-separated OPTS to sphinx-build
    -U, --update-mtimes
                        before building reference manual, update modification
                        times for auto-generated ReST files
    -k, --keep-going    Do not abort on errors but continue as much as
                        possible after an error
```

CC:  @nathanncohen @jhpalmieri

Keywords: **days57**

Branch/Commit: **[1e7bc36](https://github.com/sagemath/sagetrac-mirror/commit/1e7bc36e6ecda3e167bb12b1b78c87dc41b8fa82)**

Reviewer: **Nicolas M. Thiéry**

Author: **Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/16100_





---

archive/issue_events_212383.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-08T14:02:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16100#event-212383"
}
```



---

archive/issue_events_212384.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-08T14:02:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16100#event-212384"
}
```



---

archive/issue_events_212385.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2014-04-08T14:08:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "component: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16100#event-212385"
}
```



---

archive/issue_comments_207692.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2014-04-08T14:08:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207692",
    "user": "https://github.com/nthiery"
}
```

Author: **Volker Braun**



---

archive/issue_events_212386.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2014-04-08T14:08:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16100#event-212386"
}
```



---

archive/issue_comments_207693.json:
```json
{
    "body": "Reviewer: **Nicolas M. Thi\u00e9ry**",
    "created_at": "2014-04-08T14:08:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207693",
    "user": "https://github.com/nthiery"
}
```

Reviewer: **Nicolas M. Thiéry**



---

archive/issue_comments_207694.json:
```json
{
    "body": "Branch: **[u/vbraun/keep_going_in_doc_errors](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/keep_going_in_doc_errors)**",
    "created_at": "2014-04-08T14:17:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207694",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/keep_going_in_doc_errors](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/keep_going_in_doc_errors)**



---

archive/issue_events_212387.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-08T14:20:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16100#event-212387"
}
```



---

archive/issue_comments_207695.json:
```json
{
    "body": "Commit: **[0e912bf](https://github.com/sagemath/sagetrac-mirror/commit/0e912bff9562e40c44963c9549dc1a48a5554293)**",
    "created_at": "2014-04-08T14:20:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207695",
    "user": "https://github.com/vbraun"
}
```

Commit: **[0e912bf](https://github.com/sagemath/sagetrac-mirror/commit/0e912bff9562e40c44963c9549dc1a48a5554293)**



---

archive/issue_comments_207696.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,18 @@\n \n+```\n+$ sage -docbuild -h\n+Usage: sage -docbuild [OPTIONS] DOCUMENT (FORMAT | COMMAND)\n+\n+[...]\n+\n+  Advanced:\n+    Use these options with care.\n+\n+    -S OPTS, --sphinx-opts=OPTS\n+                        pass comma-separated OPTS to sphinx-build\n+    -U, --update-mtimes\n+                        before building reference manual, update modification\n+                        times for auto-generated ReST files\n+    -k, --keep-going    Do not abort on errors but continue as much as\n+                        possible after an error\n+```\n``````\n",
    "created_at": "2014-04-08T14:20:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207696",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,18 @@
 
+```
+$ sage -docbuild -h
+Usage: sage -docbuild [OPTIONS] DOCUMENT (FORMAT | COMMAND)
+
+[...]
+
+  Advanced:
+    Use these options with care.
+
+    -S OPTS, --sphinx-opts=OPTS
+                        pass comma-separated OPTS to sphinx-build
+    -U, --update-mtimes
+                        before building reference manual, update modification
+                        times for auto-generated ReST files
+    -k, --keep-going    Do not abort on errors but continue as much as
+                        possible after an error
+```
``````




---

archive/issue_comments_207697.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e912bff9562e40c44963c9549dc1a48a5554293\">0e912bf</a></td><td><code>Add sage -docbuild -k option to keep going after errors</code></td></tr></table>\n",
    "created_at": "2014-04-08T14:20:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207697",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:3" align="right">Comment 3</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e912bff9562e40c44963c9549dc1a48a5554293">0e912bf</a></td><td><code>Add sage -docbuild -k option to keep going after errors</code></td></tr></table>




---

archive/issue_comments_207698.json:
```json
{
    "body": "Changed keywords from **** to **days57**",
    "created_at": "2014-04-08T14:20:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207698",
    "user": "https://github.com/vbraun"
}
```

Changed keywords from **** to **days57**



---

archive/issue_comments_207699.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nAHahahah. Thank you Volker `:-D`",
    "created_at": "2014-04-08T14:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207699",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">Comment 5</div>

AHahahah. Thank you Volker `:-D`



---

archive/issue_comments_207700.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nHMmmmmmm... I try to read and understand how it works, but it does not work for my own use yet. The \"raise OSError\" which is called when there is a broken link in a page is in custom-sphinx-build.py.\n\nI added a commit for that in public/16100. Is that okay for you ?  If it is I will look again at your commit and review it properly, i.e. try to understand it `:-P`\n\nNathann",
    "created_at": "2014-04-08T14:40:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207700",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">Comment 6</div>

HMmmmmmm... I try to read and understand how it works, but it does not work for my own use yet. The "raise OSError" which is called when there is a broken link in a page is in custom-sphinx-build.py.

I added a commit for that in public/16100. Is that okay for you ?  If it is I will look again at your commit and review it properly, i.e. try to understand it `:-P`

Nathann



---

archive/issue_comments_207701.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nYup, Volker is working on that right now :-)",
    "created_at": "2014-04-08T14:54:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207701",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:7" align="right">Comment 7</div>

Yup, Volker is working on that right now :-)



---

archive/issue_comments_207702.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nWell, short of this I agree with the commit. The only thing is that the \"if ABORT_ON_ERROR:\" added before the raise makes me wonder if anything is displayed when the exception is caught. Not having the exception is cool, thinking that nothing happened is something different `:-P`\n\nAnd I do not know how to test that.\n\nUnfortunately I have to leave right now, and I may not be near a computer for the next few days...\n\nThank you very much again, Volker ! I want to keep the links working, and this really helps to track them `:-)`\n\nNathann",
    "created_at": "2014-04-08T15:02:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207702",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:8" align="right">Comment 8</div>

Well, short of this I agree with the commit. The only thing is that the "if ABORT_ON_ERROR:" added before the raise makes me wonder if anything is displayed when the exception is caught. Not having the exception is cool, thinking that nothing happened is something different `:-P`

And I do not know how to test that.

Unfortunately I have to leave right now, and I may not be near a computer for the next few days...

Thank you very much again, Volker ! I want to keep the links working, and this really helps to track them `:-)`

Nathann



---

archive/issue_comments_207703.json:
```json
{
    "body": "Changed commit from **[0e912bf](https://github.com/sagemath/sagetrac-mirror/commit/0e912bff9562e40c44963c9549dc1a48a5554293)** to **[d51fa29](https://github.com/sagemath/sagetrac-mirror/commit/d51fa29ccb34691959a99f967c17e0a2999130b2)**",
    "created_at": "2014-04-08T15:37:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207703",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0e912bf](https://github.com/sagemath/sagetrac-mirror/commit/0e912bff9562e40c44963c9549dc1a48a5554293)** to **[d51fa29](https://github.com/sagemath/sagetrac-mirror/commit/d51fa29ccb34691959a99f967c17e0a2999130b2)**



---

archive/issue_comments_207704.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d51fa29ccb34691959a99f967c17e0a2999130b2\">d51fa29</a></td><td><code>when aborting wait until the end of the source file</code></td></tr></table>\n",
    "created_at": "2014-04-08T15:37:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207704",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9" align="right">Comment 9</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d51fa29ccb34691959a99f967c17e0a2999130b2">d51fa29</a></td><td><code>when aborting wait until the end of the source file</code></td></tr></table>




---

archive/issue_comments_207705.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nThe actual error message consists of three lines and looks like\n\n```\n[geometry ] <autodoc>:0: ERROR: Unknown directive type \"blah\".\n[geometry ] .. blah::\n[geometry ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/geometry/cone.py:docstring of sage.geometry.cone:0: ERROR: Unknown directive type \"foo\".\n```\nIf we raise the error on the first error line then we lose the important information about the file that contains the error. The updated patch will spit out all error messages in the file before aborting (or not abort if you pass `-k`).",
    "created_at": "2014-04-08T15:41:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207705",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:10" align="right">Comment 10</div>

The actual error message consists of three lines and looks like

```
[geometry ] <autodoc>:0: ERROR: Unknown directive type "blah".
[geometry ] .. blah::
[geometry ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/geometry/cone.py:docstring of sage.geometry.cone:0: ERROR: Unknown directive type "foo".
```
If we raise the error on the first error line then we lose the important information about the file that contains the error. The updated patch will spit out all error messages in the file before aborting (or not abort if you pass `-k`).



---

archive/issue_comments_207706.json:
```json
{
    "body": "Changed commit from **[d51fa29](https://github.com/sagemath/sagetrac-mirror/commit/d51fa29ccb34691959a99f967c17e0a2999130b2)** to **[1e7bc36](https://github.com/sagemath/sagetrac-mirror/commit/1e7bc36e6ecda3e167bb12b1b78c87dc41b8fa82)**",
    "created_at": "2014-04-08T17:32:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207706",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d51fa29](https://github.com/sagemath/sagetrac-mirror/commit/d51fa29ccb34691959a99f967c17e0a2999130b2)** to **[1e7bc36](https://github.com/sagemath/sagetrac-mirror/commit/1e7bc36e6ecda3e167bb12b1b78c87dc41b8fa82)**



---

archive/issue_comments_207707.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e7bc36e6ecda3e167bb12b1b78c87dc41b8fa82\">1e7bc36</a></td><td><code>only print backtrace once</code></td></tr></table>\n",
    "created_at": "2014-04-08T17:32:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207707",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11" align="right">Comment 11</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e7bc36e6ecda3e167bb12b1b78c87dc41b8fa82">1e7bc36</a></td><td><code>only print backtrace once</code></td></tr></table>




---

archive/issue_comments_207708.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nNicolas reviewed the ticket",
    "created_at": "2014-04-08T17:38:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207708",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:12" align="right">Comment 12</div>

Nicolas reviewed the ticket



---

archive/issue_events_212388.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-08T17:38:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16100#event-212388"
}
```



---

archive/issue_events_212389.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-08T17:38:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16100#event-212389"
}
```



---

archive/issue_comments_207709.json:
```json
{
    "body": "Changed branch from **[u/vbraun/keep_going_in_doc_errors](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/keep_going_in_doc_errors)** to **[1e7bc36](https://github.com/sagemath/sagetrac-mirror/commit/1e7bc36e6ecda3e167bb12b1b78c87dc41b8fa82)**",
    "created_at": "2014-04-09T09:39:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16100#issuecomment-207709",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/keep_going_in_doc_errors](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/keep_going_in_doc_errors)** to **[1e7bc36](https://github.com/sagemath/sagetrac-mirror/commit/1e7bc36e6ecda3e167bb12b1b78c87dc41b8fa82)**



---

archive/issue_events_212390.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-09T09:39:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16100#event-212390"
}
```



---

archive/issue_events_212391.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "24e16e7c77bceaa404135b1fdd1a82a6a11361ec",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-04-09T09:39:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16100",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16100#event-212391"
}
```
