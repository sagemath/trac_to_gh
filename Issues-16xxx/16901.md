# Issue 16901: cythonized function in combinatorial designs must be interruptible

archive/issues_016664.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nRight now, we can not interrupt `MOLS_table`... this is a consequence of the intensive cythonization.\n\n```\nsage: \nsage: from sage.combinat.designs.latin_squares import MOLS_table\nsage: MOLS_table(10000)\n       0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19\n    ________________________________________________________________________________ \n  0| +oo +oo   1   2   3   4   1   6   7   8   2  10   5  12   4   4  15  16   5  18 \n 20|   4   5   3  22   7  24   4  26   5  28   4  30  31   5   4   5   8  36   4   5 \n 40|   7  40   5  42   5   6   4  46   8  48   6   5   5  52   5   6   7   7   5  58 \n^CException KeyboardInterrupt: KeyboardInterrupt() in 'sage.combinat.designs.orthogonal_arrays_find_recursive.is_available' ignored\n360|   7 360   6   7   7   7   6 366  15  15   7  15   7 372   7  15   7  13   7 378 \n380|   7  12   7 382  15  15   7  15   7 388   7  16   7   7   7   7   8 396   7   7 \n400|  15 400   7  15  11   8   7  15   8 408   7  13   8  12  10   9  18  15   7 418 \n^CException KeyboardInterrupt: KeyboardInterrupt() in 'sage.combinat.designs.orthogonal_arrays_find_recursive.is_available' ignored\n...\n```\n\nWe need more `sig_on()`, `sig_off()`.\n\nDepends on #16879\n\nCC:  @nathanncohen\n\nComponent: **combinatorial designs**\n\nAuthor: **Vincent Delecroix**\n\nBranch/Commit: **[`6097260`](https://github.com/sagemath/sagetrac-mirror/commit/6097260461d3d20653d3406db362b4e9c9a8b40c)**\n\nReviewer: **Nathann Cohen**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16901_\n\n",
    "closed_at": "2014-09-08T08:48:47Z",
    "created_at": "2014-08-29T09:31:24Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorial%20designs",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "cythonized function in combinatorial designs must be interruptible",
    "type": "issue",
    "updated_at": "2014-09-08T08:48:47Z",
    "url": "https://github.com/sagemath/sage/issues/16901",
    "user": "https://github.com/videlec"
}
```
<div id="comment:0"></div>

Right now, we can not interrupt `MOLS_table`... this is a consequence of the intensive cythonization.

```
sage: 
sage: from sage.combinat.designs.latin_squares import MOLS_table
sage: MOLS_table(10000)
       0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19
    ________________________________________________________________________________ 
  0| +oo +oo   1   2   3   4   1   6   7   8   2  10   5  12   4   4  15  16   5  18 
 20|   4   5   3  22   7  24   4  26   5  28   4  30  31   5   4   5   8  36   4   5 
 40|   7  40   5  42   5   6   4  46   8  48   6   5   5  52   5   6   7   7   5  58 
^CException KeyboardInterrupt: KeyboardInterrupt() in 'sage.combinat.designs.orthogonal_arrays_find_recursive.is_available' ignored
360|   7 360   6   7   7   7   6 366  15  15   7  15   7 372   7  15   7  13   7 378 
380|   7  12   7 382  15  15   7  15   7 388   7  16   7   7   7   7   8 396   7   7 
400|  15 400   7  15  11   8   7  15   8 408   7  13   8  12  10   9  18  15   7 418 
^CException KeyboardInterrupt: KeyboardInterrupt() in 'sage.combinat.designs.orthogonal_arrays_find_recursive.is_available' ignored
...
```

We need more `sig_on()`, `sig_off()`.

Depends on #16879

CC:  @nathanncohen

Component: **combinatorial designs**

Author: **Vincent Delecroix**

Branch/Commit: **[`6097260`](https://github.com/sagemath/sagetrac-mirror/commit/6097260461d3d20653d3406db362b4e9c9a8b40c)**

Reviewer: **Nathann Cohen**

_Issue created by migration from https://trac.sagemath.org/ticket/16901_





---

archive/issue_events_239441.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-29T09:31:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239441"
}
```



---

archive/issue_events_239442.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-29T09:31:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorial%20designs",
    "label_color": "0000ff",
    "label_name": "c: combinatorial designs",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239442"
}
```



---

archive/issue_events_239443.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-29T09:31:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239443"
}
```



---

archive/issue_events_239444.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-29T09:31:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239444"
}
```



---

archive/issue_comments_222679.json:
```json
{
    "body": "Commit: **[`00f4fdb`](https://github.com/sagemath/sagetrac-mirror/commit/00f4fdb067d61ec76b87efb0f250a4937bda9046)**",
    "created_at": "2014-08-29T09:58:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222679",
    "user": "https://github.com/videlec"
}
```

Commit: **[`00f4fdb`](https://github.com/sagemath/sagetrac-mirror/commit/00f4fdb067d61ec76b87efb0f250a4937bda9046)**



---

archive/issue_comments_222680.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nIt is better with the branch applied as it becomes interruptible. Nevertheless it is not ideal since it may happen that after an interruption you are not able to call `MOLS_table` anymore... got strange error like\n\n```\nTypeError                                 Traceback (most recent call last)\n<ipython-input-4-3880577162c6> in <module>()\n----> 1 MOLS_table(Integer(10000))\n\n/opt/sage_flatsurf/local/lib/python2.7/site-packages/sage/combinat/designs/latin_squares.pyc in MOLS_table(number_of_lines, compare)\n    513         if i%20==0:\n    514             print \"\\n%3d|\"%i,\n--> 515         k = mutually_orthogonal_latin_squares(None,i,existence=True)\n    516         if compare:\n    517             if i < 2 or hb[i] == k:\n\n/opt/sage_flatsurf/local/lib/python2.7/site-packages/sage/combinat/designs/latin_squares.pyc in mutually_orthogonal_latin_squares(k, n, partitions, check, existence)\n    359             raise ValueError(\"there are no bound on k when 0<=n<=1\")\n    360 \n--> 361         k = orthogonal_array(None,n,existence=True) - 2\n    362         if existence:\n    363             return k\n\n/opt/sage_flatsurf/local/lib/python2.7/site-packages/sage/combinat/designs/orthogonal_arrays.pyc in orthogonal_array(k, n, t, resolvable, check, existence)\n    811         else:\n    812             for k in range(t-1,n+2):\n--> 813                 if not orthogonal_array(k+1,n,t=t,existence=True):\n    814                     break\n    815         if existence:\n\n/opt/sage_flatsurf/local/lib/python2.7/site-packages/sage/combinat/designs/orthogonal_arrays.pyc in orthogonal_array(k, n, t, resolvable, check, existence)\n    909         OA = OA_from_quasi_difference_matrix(M,G,add_col=True)\n    910 \n--> 911     elif may_be_available and find_recursive_construction(k,n):\n    912         _OA_cache_set(k,n,True)\n    913         if existence:\n\n/opt/sage_flatsurf/local/lib/python2.7/site-packages/sage/misc/cachefunc.so in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:4678)()\n\n/opt/sage_flatsurf/local/lib/python2.7/site-packages/sage/combinat/designs/orthogonal_arrays_find_recursive.so in sage.combinat.designs.orthogonal_arrays_find_recursive.find_recursive_construction (build/cythonized/sage/combinat/designs/orthogonal_arrays_find_recursive.c:2565)()\n\nTypeError: function takes exactly 3 arguments (2 given)\n```\n\nVincent\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80e0ceff43edca6fd46d99ee3e3f4b452200a5da\"><code>80e0cef</code></a></td><td><code>trac #16879: orthogonal_array_recursive.py -> pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/054911031ccdf219a52dbc4a83a5d0e7376541d7\"><code>0549110</code></a></td><td><code>trac #16879: a is_available function in orthogonal_arrays_recursive</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0201bcb08be6a4dad3a9d8eec1c9302e88b29328\"><code>0201bcb</code></a></td><td><code>trac #16879: more speed up</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1100184a070d350a0a537527485eb02ef87a6b8\"><code>b110018</code></a></td><td><code>trac #16879: rename orthogonal_arrays_recursive to orthogonal_arrays_find_recursive</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9e04753f45301c24c8c0811ae215cd4d7885aa2\"><code>d9e0475</code></a></td><td><code>trac #16879: Move constructions from orthogonal_arrays_find to orthogonal_arrays_build (this, and only this)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5031aee11c668df05d0d955292f7111ffbb985c0\"><code>5031aee</code></a></td><td><code>trac #16879: Fix the import statements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c1893f75b17657458a441e512a00be0ceba7728\"><code>0c1893f</code></a></td><td><code>trac #16879: Fix the doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a3869d56d0458e66f4e427f2e9c2930157dd141\"><code>6a3869d</code></a></td><td><code>trac #16879: speed up</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7129d6e80c8d3eb11d09e2cd620882a14d6e73d\"><code>d7129d6</code></a></td><td><code>trac #16879: Trivial stuff</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00f4fdb067d61ec76b87efb0f250a4937bda9046\"><code>00f4fdb</code></a></td><td><code>trac #16879: make cython code in OA interruptible</code></td></tr></table>\n",
    "created_at": "2014-08-29T09:58:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222680",
    "user": "https://github.com/videlec"
}
```

<div id="comment:1" align="right">comment:1</div>

It is better with the branch applied as it becomes interruptible. Nevertheless it is not ideal since it may happen that after an interruption you are not able to call `MOLS_table` anymore... got strange error like

```
TypeError                                 Traceback (most recent call last)
<ipython-input-4-3880577162c6> in <module>()
----> 1 MOLS_table(Integer(10000))

/opt/sage_flatsurf/local/lib/python2.7/site-packages/sage/combinat/designs/latin_squares.pyc in MOLS_table(number_of_lines, compare)
    513         if i%20==0:
    514             print "\n%3d|"%i,
--> 515         k = mutually_orthogonal_latin_squares(None,i,existence=True)
    516         if compare:
    517             if i < 2 or hb[i] == k:

/opt/sage_flatsurf/local/lib/python2.7/site-packages/sage/combinat/designs/latin_squares.pyc in mutually_orthogonal_latin_squares(k, n, partitions, check, existence)
    359             raise ValueError("there are no bound on k when 0<=n<=1")
    360 
--> 361         k = orthogonal_array(None,n,existence=True) - 2
    362         if existence:
    363             return k

/opt/sage_flatsurf/local/lib/python2.7/site-packages/sage/combinat/designs/orthogonal_arrays.pyc in orthogonal_array(k, n, t, resolvable, check, existence)
    811         else:
    812             for k in range(t-1,n+2):
--> 813                 if not orthogonal_array(k+1,n,t=t,existence=True):
    814                     break
    815         if existence:

/opt/sage_flatsurf/local/lib/python2.7/site-packages/sage/combinat/designs/orthogonal_arrays.pyc in orthogonal_array(k, n, t, resolvable, check, existence)
    909         OA = OA_from_quasi_difference_matrix(M,G,add_col=True)
    910 
--> 911     elif may_be_available and find_recursive_construction(k,n):
    912         _OA_cache_set(k,n,True)
    913         if existence:

/opt/sage_flatsurf/local/lib/python2.7/site-packages/sage/misc/cachefunc.so in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:4678)()

/opt/sage_flatsurf/local/lib/python2.7/site-packages/sage/combinat/designs/orthogonal_arrays_find_recursive.so in sage.combinat.designs.orthogonal_arrays_find_recursive.find_recursive_construction (build/cythonized/sage/combinat/designs/orthogonal_arrays_find_recursive.c:2565)()

TypeError: function takes exactly 3 arguments (2 given)
```

Vincent

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80e0ceff43edca6fd46d99ee3e3f4b452200a5da"><code>80e0cef</code></a></td><td><code>trac #16879: orthogonal_array_recursive.py -> pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/054911031ccdf219a52dbc4a83a5d0e7376541d7"><code>0549110</code></a></td><td><code>trac #16879: a is_available function in orthogonal_arrays_recursive</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0201bcb08be6a4dad3a9d8eec1c9302e88b29328"><code>0201bcb</code></a></td><td><code>trac #16879: more speed up</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1100184a070d350a0a537527485eb02ef87a6b8"><code>b110018</code></a></td><td><code>trac #16879: rename orthogonal_arrays_recursive to orthogonal_arrays_find_recursive</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9e04753f45301c24c8c0811ae215cd4d7885aa2"><code>d9e0475</code></a></td><td><code>trac #16879: Move constructions from orthogonal_arrays_find to orthogonal_arrays_build (this, and only this)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5031aee11c668df05d0d955292f7111ffbb985c0"><code>5031aee</code></a></td><td><code>trac #16879: Fix the import statements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c1893f75b17657458a441e512a00be0ceba7728"><code>0c1893f</code></a></td><td><code>trac #16879: Fix the doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a3869d56d0458e66f4e427f2e9c2930157dd141"><code>6a3869d</code></a></td><td><code>trac #16879: speed up</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7129d6e80c8d3eb11d09e2cd620882a14d6e73d"><code>d7129d6</code></a></td><td><code>trac #16879: Trivial stuff</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00f4fdb067d61ec76b87efb0f250a4937bda9046"><code>00f4fdb</code></a></td><td><code>trac #16879: make cython code in OA interruptible</code></td></tr></table>




---

archive/issue_comments_222681.json:
```json
{
    "body": "Branch: **[u/vdelecroix/16901](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16901)**",
    "created_at": "2014-08-29T09:58:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222681",
    "user": "https://github.com/videlec"
}
```

Branch: **[u/vdelecroix/16901](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16901)**



---

archive/issue_comments_222682.json:
```json
{
    "body": "Dependencies: **#16879**",
    "created_at": "2014-08-29T09:59:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222682",
    "user": "https://github.com/videlec"
}
```

Dependencies: **#16879**



---

archive/issue_events_239445.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-29T11:14:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239445"
}
```



---

archive/issue_comments_222683.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2014-08-29T11:42:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222683",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_events_239446.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-29T11:42:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239446"
}
```



---

archive/issue_events_239447.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-29T11:42:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239447"
}
```



---

archive/issue_comments_222684.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nYo !\n\nSeems to do the job, thanks !\n\n```\n-        return orthogonal_array(k,n,existence=True)\n+        ans = orthogonal_array(k,n,existence=True)\n+        return ans\n```\n\nIs `return orthogonal_array(k,n,existence=True)` declared politically incorrect now ? `:-P`\n\nNathann\n\nP.S. : the commit's ticket contains the wrong number but we probably won't base anything on this branch so it is not a problem.",
    "created_at": "2014-08-29T11:42:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222684",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:4" align="right">comment:4</div>

Yo !

Seems to do the job, thanks !

```
-        return orthogonal_array(k,n,existence=True)
+        ans = orthogonal_array(k,n,existence=True)
+        return ans
```

Is `return orthogonal_array(k,n,existence=True)` declared politically incorrect now ? `:-P`

Nathann

P.S. : the commit's ticket contains the wrong number but we probably won't base anything on this branch so it is not a problem.



---

archive/issue_events_239448.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-08-29T11:43:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239448"
}
```



---

archive/issue_events_239449.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-08-29T11:43:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239449"
}
```



---

archive/issue_comments_222685.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThe messages in the ticket description\n\n```\n^CException KeyboardInterrupt: KeyboardInterrupt() in 'sage.combinat.designs.orthogonal_arrays_find_recursive.is_available' ignored\n```\nshow that the issue is not just `sig_on()`/`sig_off()` but also missing `except` clauses in `cdef` functions, see also #16233 for how to fix this.\n\nAlso, your codes mixes Cython and Python, so I would go with [sig_check()](http://www.sagemath.org/doc/developer/coding_in_cython.html#using-sig-check) in the inner loops which is much safer than `sig_on()` and `sig_off()`.",
    "created_at": "2014-08-29T11:43:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222685",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

The messages in the ticket description

```
^CException KeyboardInterrupt: KeyboardInterrupt() in 'sage.combinat.designs.orthogonal_arrays_find_recursive.is_available' ignored
```
show that the issue is not just `sig_on()`/`sig_off()` but also missing `except` clauses in `cdef` functions, see also #16233 for how to fix this.

Also, your codes mixes Cython and Python, so I would go with [sig_check()](http://www.sagemath.org/doc/developer/coding_in_cython.html#using-sig-check) in the inner loops which is much safer than `sig_on()` and `sig_off()`.



---

archive/issue_comments_222686.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nPerhaps the warning at [http://www.sagemath.org/doc/developer/coding_in_cython.html#using-sig-on-and-sig-off](http://www.sagemath.org/doc/developer/coding_in_cython.html#using-sig-on-and-sig-off) is not clear enough, but really **the code inside sig_on() should be pure C or Cython code**.",
    "created_at": "2014-08-29T11:45:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222686",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Perhaps the warning at [http://www.sagemath.org/doc/developer/coding_in_cython.html#using-sig-on-and-sig-off](http://www.sagemath.org/doc/developer/coding_in_cython.html#using-sig-on-and-sig-off) is not clear enough, but really **the code inside sig_on() should be pure C or Cython code**.



---

archive/issue_comments_222687.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis ticket inspired me to create #16902.",
    "created_at": "2014-08-29T11:47:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222687",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

This ticket inspired me to create #16902.



---

archive/issue_comments_222688.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@jdemeyer](#comment%3A7):\n> This ticket inspired me to create #16902.\n\nThanks, I am carefully reading it!\n\nBy the way, I got something very strange here. `find_recursive_construction` is a cached function (with the decorator in `sage.misc.cachefunc`). It appears that after some of the interruption, the `CachedFunction` class suddenly decided that the function now takes 3 arguments instead of 2... and trying to call it with 3 values instead of 2 I just got an unhandled  SIGSEGV.\n\nMight be something subtle going on with exception and cache but I do not know why. I can describe the case in more details.\n\nVincent",
    "created_at": "2014-08-29T16:49:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222688",
    "user": "https://github.com/videlec"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@jdemeyer](#comment%3A7):
> This ticket inspired me to create #16902.

Thanks, I am carefully reading it!

By the way, I got something very strange here. `find_recursive_construction` is a cached function (with the decorator in `sage.misc.cachefunc`). It appears that after some of the interruption, the `CachedFunction` class suddenly decided that the function now takes 3 arguments instead of 2... and trying to call it with 3 values instead of 2 I just got an unhandled  SIGSEGV.

Might be something subtle going on with exception and cache but I do not know why. I can describe the case in more details.

Vincent



---

archive/issue_comments_222689.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@videlec](#comment%3A8):\n> By the way, I got something very strange here. `find_recursive_construction` is a cached function (with the decorator in `sage.misc.cachefunc`). It appears that after some of the interruption, the `CachedFunction` class suddenly decided that the function now takes 3 arguments instead of 2... and trying to call it with 3 values instead of 2 I just got an unhandled  SIGSEGV.\n> \n> Might be something subtle going on with exception and cache but I do not know why. I can describe the case in more details.\n\nPersonally, I would not bother too much with this. Interrupting Python (as opposed to Cython) code can give all kinds of undefined behaviour...",
    "created_at": "2014-08-29T16:57:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222689",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@videlec](#comment%3A8):
> By the way, I got something very strange here. `find_recursive_construction` is a cached function (with the decorator in `sage.misc.cachefunc`). It appears that after some of the interruption, the `CachedFunction` class suddenly decided that the function now takes 3 arguments instead of 2... and trying to call it with 3 values instead of 2 I just got an unhandled  SIGSEGV.
> 
> Might be something subtle going on with exception and cache but I do not know why. I can describe the case in more details.

Personally, I would not bother too much with this. Interrupting Python (as opposed to Cython) code can give all kinds of undefined behaviour...



---

archive/issue_comments_222690.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a54ef1458ec570aa3680507aa25963c0e8471468\"><code>a54ef14</code></a></td><td><code>trac #16901: make cython code in OA interruptible</code></td></tr></table>\n",
    "created_at": "2014-08-29T17:03:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222690",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a54ef1458ec570aa3680507aa25963c0e8471468"><code>a54ef14</code></a></td><td><code>trac #16901: make cython code in OA interruptible</code></td></tr></table>




---

archive/issue_comments_222691.json:
```json
{
    "body": "Changed commit from **[`00f4fdb`](https://github.com/sagemath/sagetrac-mirror/commit/00f4fdb067d61ec76b87efb0f250a4937bda9046)** to **[`a54ef14`](https://github.com/sagemath/sagetrac-mirror/commit/a54ef1458ec570aa3680507aa25963c0e8471468)**",
    "created_at": "2014-08-29T17:03:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222691",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`00f4fdb`](https://github.com/sagemath/sagetrac-mirror/commit/00f4fdb067d61ec76b87efb0f250a4937bda9046)** to **[`a54ef14`](https://github.com/sagemath/sagetrac-mirror/commit/a54ef1458ec570aa3680507aa25963c0e8471468)**



---

archive/issue_comments_222692.json:
```json
{
    "body": "Changed commit from **[`a54ef14`](https://github.com/sagemath/sagetrac-mirror/commit/a54ef1458ec570aa3680507aa25963c0e8471468)** to **[`4917f85`](https://github.com/sagemath/sagetrac-mirror/commit/4917f8563795f8976910c7d798ae7909b3a0396d)**",
    "created_at": "2014-08-29T17:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222692",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a54ef14`](https://github.com/sagemath/sagetrac-mirror/commit/a54ef1458ec570aa3680507aa25963c0e8471468)** to **[`4917f85`](https://github.com/sagemath/sagetrac-mirror/commit/4917f8563795f8976910c7d798ae7909b3a0396d)**



---

archive/issue_comments_222693.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4917f8563795f8976910c7d798ae7909b3a0396d\"><code>4917f85</code></a></td><td><code>trac #16901: make cython code in OA interruptible</code></td></tr></table>\n",
    "created_at": "2014-08-29T17:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222693",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4917f8563795f8976910c7d798ae7909b3a0396d"><code>4917f85</code></a></td><td><code>trac #16901: make cython code in OA interruptible</code></td></tr></table>




---

archive/issue_comments_222694.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAll right, very simple one line change which makes us loose only 0.02 secs for the generation of the 1800 first MOLS.\n\nVincent",
    "created_at": "2014-08-29T17:07:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222694",
    "user": "https://github.com/videlec"
}
```

<div id="comment:12" align="right">comment:12</div>

All right, very simple one line change which makes us loose only 0.02 secs for the generation of the 1800 first MOLS.

Vincent



---

archive/issue_events_239450.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-29T17:07:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239450"
}
```



---

archive/issue_events_239451.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-29T17:07:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239451"
}
```



---

archive/issue_comments_222695.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nOkayyyyyyyy.. This being said, why did you change the bint to int ?\n\nNathann",
    "created_at": "2014-08-29T17:11:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222695",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:13" align="right">comment:13</div>

Okayyyyyyyy.. This being said, why did you change the bint to int ?

Nathann



---

archive/issue_comments_222696.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@nathanncohen](#comment%3A13):\n> Okayyyyyyyy.. This being said, why did you change the bint to int ?\n\nThe exception is propagated with the return value `-1`, I think it is cleaner to make it an int.\n\nAnyway, the choice `int/bint` is just a compiler instruction for Cython. There is no gain of having it a `bint` type here since it is always used in C code. The purpose of the bint type is to mix well Python booleans with C ints. One difference (that I learn few seconds ago) is in\n\n```\ndef f(b):\n   int x = b\n   bint y = b\n```\nThe first conversion will involves `b.__int__` while the second `b.__nonzero__`.\n\nVincent",
    "created_at": "2014-08-29T17:26:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222696",
    "user": "https://github.com/videlec"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@nathanncohen](#comment%3A13):
> Okayyyyyyyy.. This being said, why did you change the bint to int ?

The exception is propagated with the return value `-1`, I think it is cleaner to make it an int.

Anyway, the choice `int/bint` is just a compiler instruction for Cython. There is no gain of having it a `bint` type here since it is always used in C code. The purpose of the bint type is to mix well Python booleans with C ints. One difference (that I learn few seconds ago) is in

```
def f(b):
   int x = b
   bint y = b
```
The first conversion will involves `b.__int__` while the second `b.__nonzero__`.

Vincent



---

archive/issue_events_239452.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-29T17:28:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239452"
}
```



---

archive/issue_events_239453.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-29T17:28:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239453"
}
```



---

archive/issue_comments_222697.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nYo !\n\n> The exception is propagated with the return value `-1`, I think it is cleaner to make it an int.\n\nOh right, right.\n\n> Anyway, the choice `int/bint` is just a compiler instruction for Cython. There is no gain of having it a `bint` type here since it is always used in C code.\n\nOf course, but there if there is no reason to change that into an 'int' it was better to keep it. And that's a good reason to change it. Good to go !\n\n> The purpose of the bint type is to mix well Python booleans with C ints. One difference (that I learn few seconds ago) is in\n> \n> ```\n> def f(b):\n>    int x = b\n>    bint y = b\n> ```\n> The first conversion will involves `b.__int__` while the second `b.__nonzero__`.\n\nI hate Python.\n\nNathann",
    "created_at": "2014-08-29T17:28:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222697",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:15" align="right">comment:15</div>

Yo !

> The exception is propagated with the return value `-1`, I think it is cleaner to make it an int.

Oh right, right.

> Anyway, the choice `int/bint` is just a compiler instruction for Cython. There is no gain of having it a `bint` type here since it is always used in C code.

Of course, but there if there is no reason to change that into an 'int' it was better to keep it. And that's a good reason to change it. Good to go !

> The purpose of the bint type is to mix well Python booleans with C ints. One difference (that I learn few seconds ago) is in
> 
> ```
> def f(b):
>    int x = b
>    bint y = b
> ```
> The first conversion will involves `b.__int__` while the second `b.__nonzero__`.

I hate Python.

Nathann



---

archive/issue_comments_222698.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@nathanncohen](#comment%3A15):\n> > The purpose of the bint type is to mix well Python booleans with C ints. One difference (that I learn few seconds ago) is in\n> > \n> > ```\n> > def f(b):\n> >    int x = b\n> >    bint y = b\n> > ```\n> > The first conversion will involves `b.__int__` while the second `b.__nonzero__`.\n> \n> \n> I hate Python.\n\nLet me see. You want strongly typed, checked at compilation code... hum, use Haskell!\n\nVincent",
    "created_at": "2014-08-29T17:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222698",
    "user": "https://github.com/videlec"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@nathanncohen](#comment%3A15):
> > The purpose of the bint type is to mix well Python booleans with C ints. One difference (that I learn few seconds ago) is in
> > 
> > ```
> > def f(b):
> >    int x = b
> >    bint y = b
> > ```
> > The first conversion will involves `b.__int__` while the second `b.__nonzero__`.
> 
> 
> I hate Python.

Let me see. You want strongly typed, checked at compilation code... hum, use Haskell!

Vincent



---

archive/issue_comments_222699.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nWhy is everybody trying to use logic to prove that I must like this or that thing ?\n\nI hate Python AND I hate Haskell. Though I never used Haskell, of course.\n\nNathann",
    "created_at": "2014-08-29T20:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222699",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:17" align="right">comment:17</div>

Why is everybody trying to use logic to prove that I must like this or that thing ?

I hate Python AND I hate Haskell. Though I never used Haskell, of course.

Nathann



---

archive/issue_comments_222700.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nDoesn't work. Also, use bint for what would be a boolean in Python and int for integers. E.g. simplifies debugging if you can just switch the method to cpdef and you get a Python boolean instead of some integer.\n\n```\nsage -t --long --warn-long 43.5 src/sage/combinat/designs/orthogonal_arrays_find_recursive.pyx  # 13 doctests failed\nsage -t --long --warn-long 43.5 src/sage/combinat/designs/orthogonal_arrays_build_recursive.py  # 3 doctests failed\nsage -t --long --warn-long 43.5 src/sage/combinat/designs/orthogonal_arrays.py  # 11 doctests failed\n```",
    "created_at": "2014-09-05T17:09:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222700",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">comment:18</div>

Doesn't work. Also, use bint for what would be a boolean in Python and int for integers. E.g. simplifies debugging if you can just switch the method to cpdef and you get a Python boolean instead of some integer.

```
sage -t --long --warn-long 43.5 src/sage/combinat/designs/orthogonal_arrays_find_recursive.pyx  # 13 doctests failed
sage -t --long --warn-long 43.5 src/sage/combinat/designs/orthogonal_arrays_build_recursive.py  # 3 doctests failed
sage -t --long --warn-long 43.5 src/sage/combinat/designs/orthogonal_arrays.py  # 11 doctests failed
```



---

archive/issue_events_239454.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-05T17:09:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239454"
}
```



---

archive/issue_events_239455.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-05T17:09:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239455"
}
```



---

archive/issue_comments_222701.json:
```json
{
    "body": "Changed commit from **[`4917f85`](https://github.com/sagemath/sagetrac-mirror/commit/4917f8563795f8976910c7d798ae7909b3a0396d)** to **[`e5343b2`](https://github.com/sagemath/sagetrac-mirror/commit/e5343b297f02c90ad2100e9563b8fc9d372d6b3a)**",
    "created_at": "2014-09-05T19:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222701",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4917f85`](https://github.com/sagemath/sagetrac-mirror/commit/4917f8563795f8976910c7d798ae7909b3a0396d)** to **[`e5343b2`](https://github.com/sagemath/sagetrac-mirror/commit/e5343b297f02c90ad2100e9563b8fc9d372d6b3a)**



---

archive/issue_comments_222702.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5343b297f02c90ad2100e9563b8fc9d372d6b3a\"><code>e5343b2</code></a></td><td><code>trac #16901: being careful with return value</code></td></tr></table>\n",
    "created_at": "2014-09-05T19:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222702",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5343b297f02c90ad2100e9563b8fc9d372d6b3a"><code>e5343b2</code></a></td><td><code>trac #16901: being careful with return value</code></td></tr></table>




---

archive/issue_events_239456.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-09-05T19:26:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239456"
}
```



---

archive/issue_events_239457.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-09-05T19:26:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239457"
}
```



---

archive/issue_comments_222703.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nHum.. I wonder what happened!\n\nVincent",
    "created_at": "2014-09-05T19:26:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222703",
    "user": "https://github.com/videlec"
}
```

<div id="comment:21" align="right">comment:21</div>

Hum.. I wonder what happened!

Vincent



---

archive/issue_comments_222704.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI don't get what you did in your latest commit: you change the first \"return\" to give a boolean, yet in the second one you change a 'True' into a '1' `O_o`\n\nNathann",
    "created_at": "2014-09-06T07:31:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222704",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:22" align="right">comment:22</div>

I don't get what you did in your latest commit: you change the first "return" to give a boolean, yet in the second one you change a 'True' into a '1' `O_o`

Nathann



---

archive/issue_comments_222705.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThe function is returned an `int`. So anyway Cython will convert `True` to 1. If you prefer `1 -> True` and `0 -> False` fell free to do it.\n\nVincent",
    "created_at": "2014-09-06T07:44:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222705",
    "user": "https://github.com/videlec"
}
```

<div id="comment:23" align="right">comment:23</div>

The function is returned an `int`. So anyway Cython will convert `True` to 1. If you prefer `1 -> True` and `0 -> False` fell free to do it.

Vincent



---

archive/issue_comments_222706.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nWhy did you change it in the first place ? `O_o`",
    "created_at": "2014-09-06T07:45:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222706",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:24" align="right">comment:24</div>

Why did you change it in the first place ? `O_o`



---

archive/issue_comments_222707.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@nathanncohen](#comment%3A24):\n> Why did you change it in the first place ? `O_o`\n\nTo make cython happier ;=)",
    "created_at": "2014-09-06T07:48:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222707",
    "user": "https://github.com/videlec"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@nathanncohen](#comment%3A24):
> Why did you change it in the first place ? `O_o`

To make cython happier ;=)



---

archive/issue_comments_222708.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nWith different types of output ? `O_o`\n\nNathann",
    "created_at": "2014-09-06T07:49:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222708",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:26" align="right">comment:26</div>

With different types of output ? `O_o`

Nathann



---

archive/issue_comments_222709.json:
```json
{
    "body": "Changed commit from **[`e5343b2`](https://github.com/sagemath/sagetrac-mirror/commit/e5343b297f02c90ad2100e9563b8fc9d372d6b3a)** to **[`6097260`](https://github.com/sagemath/sagetrac-mirror/commit/6097260461d3d20653d3406db362b4e9c9a8b40c)**",
    "created_at": "2014-09-06T08:34:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222709",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e5343b2`](https://github.com/sagemath/sagetrac-mirror/commit/e5343b297f02c90ad2100e9563b8fc9d372d6b3a)** to **[`6097260`](https://github.com/sagemath/sagetrac-mirror/commit/6097260461d3d20653d3406db362b4e9c9a8b40c)**



---

archive/issue_comments_222710.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6097260461d3d20653d3406db362b4e9c9a8b40c\"><code>6097260</code></a></td><td><code>trac #16901: make cython code in OA interruptible</code></td></tr></table>\n",
    "created_at": "2014-09-06T08:34:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222710",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6097260461d3d20653d3406db362b4e9c9a8b40c"><code>6097260</code></a></td><td><code>trac #16901: make cython code in OA interruptible</code></td></tr></table>




---

archive/issue_comments_222711.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\ndone.\n\nVincent",
    "created_at": "2014-09-06T08:35:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222711",
    "user": "https://github.com/videlec"
}
```

<div id="comment:28" align="right">comment:28</div>

done.

Vincent



---

archive/issue_events_239458.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-09-06T15:03:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239458"
}
```



---

archive/issue_events_239459.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-09-06T15:03:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239459"
}
```



---

archive/issue_events_239460.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-08T08:48:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239460"
}
```



---

archive/issue_events_239461.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "eedcf0316e8d6eb9774e64b68c1940ba7a77ab85",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-09-08T08:48:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16901#event-239461"
}
```



---

archive/issue_comments_222712.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/16901](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16901)** to **[`6097260`](https://github.com/sagemath/sagetrac-mirror/commit/6097260461d3d20653d3406db362b4e9c9a8b40c)**",
    "created_at": "2014-09-08T08:48:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16901#issuecomment-222712",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vdelecroix/16901](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16901)** to **[`6097260`](https://github.com/sagemath/sagetrac-mirror/commit/6097260461d3d20653d3406db362b4e9c9a8b40c)**
