# Issue 16570: Animate example looks broken

archive/issues_016333.json:
```json
{
    "assignees": [],
    "body": "There is one example used in several places in the documentation of module `animate`:\n\n```\nsage: a = animate([sin(x + float(k)) for k in srange(0,2*pi,0.3)],\n....:                xmin=0, xmax=2*pi, figsize=[2,1]) # indirect doctest\n```\n\nHowever, at least on my system the individual frames are of slightly different sizes, ranging from 184\u00d784 to 184\u00d790. And the image looks pretty strange as well:\n\n![](https://github.com/sagemath/sage/files/ticket16570/broken-example.gif)\n\nThis seems to be mostly due to the fact that the axis range, described by `xmin` and `xmax`, doesn't automatically fix a range for `x`. Instead, it seems as if `x` will automatically range from `-1` to `1`, but clipped to approximately the axis range.\n\nMy suggested remedy is to actually provide a range for `x`, and I'll upload a branch for this. I'll also address some other documentation and testsuite issues in this. Some of the tests take longer than one second, but aren't marked as long. One figure looks so small you can't see anything. And the information a user receives in response to `animate?` is pretty sparse, since most examples are at the module level. So I introduced a cross reference to that.\n\nThis ticket is a spin-off from some work I did for #16533.\n\nCC:  @nilesjohnson\n\nBranch: **[`9d9e590`](https://github.com/sagemath/sagetrac-mirror/commit/9d9e590f5ef642a06f45056ac282fe696131c435)**\n\nReviewer: **Jakob Kroeker, Karl-Dieter Crisman**\n\nAuthor: **Martin von Gagern**\n\nComponent: **graphics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16570_\n\n",
    "closed_at": "2014-11-19T08:32:06Z",
    "created_at": "2014-06-27T18:11:34Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Animate example looks broken",
    "type": "issue",
    "updated_at": "2015-04-13T15:11:28Z",
    "url": "https://github.com/sagemath/sage/issues/16570",
    "user": "https://github.com/gagern"
}
```
There is one example used in several places in the documentation of module `animate`:

```
sage: a = animate([sin(x + float(k)) for k in srange(0,2*pi,0.3)],
....:                xmin=0, xmax=2*pi, figsize=[2,1]) # indirect doctest
```

However, at least on my system the individual frames are of slightly different sizes, ranging from 184×84 to 184×90. And the image looks pretty strange as well:

![](https://github.com/sagemath/sage/files/ticket16570/broken-example.gif)

This seems to be mostly due to the fact that the axis range, described by `xmin` and `xmax`, doesn't automatically fix a range for `x`. Instead, it seems as if `x` will automatically range from `-1` to `1`, but clipped to approximately the axis range.

My suggested remedy is to actually provide a range for `x`, and I'll upload a branch for this. I'll also address some other documentation and testsuite issues in this. Some of the tests take longer than one second, but aren't marked as long. One figure looks so small you can't see anything. And the information a user receives in response to `animate?` is pretty sparse, since most examples are at the module level. So I introduced a cross reference to that.

This ticket is a spin-off from some work I did for #16533.

CC:  @nilesjohnson

Branch: **[`9d9e590`](https://github.com/sagemath/sagetrac-mirror/commit/9d9e590f5ef642a06f45056ac282fe696131c435)**

Reviewer: **Jakob Kroeker, Karl-Dieter Crisman**

Author: **Martin von Gagern**

Component: **graphics**

_Issue created by migration from https://trac.sagemath.org/ticket/16570_





---

archive/issue_events_234617.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2014-06-27T18:11:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234617"
}
```



---

archive/issue_events_234618.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2014-06-27T18:11:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234618"
}
```



---

archive/issue_events_234619.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2014-06-27T18:11:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234619"
}
```



---

archive/issue_events_234620.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2014-06-27T18:11:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234620"
}
```



---

archive/issue_comments_215411.json:
```json
{
    "body": "Attachment: **[broken-example.gif](https://github.com/sagemath/sage/files/ticket16570/broken-example.gif)**\n\nCurrent broken state of the example",
    "created_at": "2014-06-27T18:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215411",
    "user": "https://github.com/gagern"
}
```

Attachment: **[broken-example.gif](https://github.com/sagemath/sage/files/ticket16570/broken-example.gif)**

Current broken state of the example



---

archive/issue_comments_215412.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,7 +5,11 @@\n ....:                xmin=0, xmax=2*pi, figsize=[2,1]) # indirect doctest\n ```\n \n-However, at least on my system the individual frames are of slightly different sizes, ranging from 184\u00d784 to 184\u00d790. And the image looks pretty strange as well. This seems to be mostly due to the fact that the axis range, described by `xmin` and `xmax`, doesn't automatically fix a range for `x`. Instead, it seems as if `x` will automatically range from `-1` to `1`, but clipped to approximately the axis range.\n+However, at least on my system the individual frames are of slightly different sizes, ranging from 184\u00d784 to 184\u00d790. And the image looks pretty strange as well:\n+\n+![](https://github.com/sagemath/sage/files/ticket16570/broken-example.gif)\n+\n+This seems to be mostly due to the fact that the axis range, described by `xmin` and `xmax`, doesn't automatically fix a range for `x`. Instead, it seems as if `x` will automatically range from `-1` to `1`, but clipped to approximately the axis range.\n \n My suggested remedy is to actually provide a range for `x`, and I'll upload a branch for this. I'll also address some other documentation and testsuite issues in this. Some of the tests take longer than one second, but aren't marked as long. One figure looks so small you can't see anything. And the information a user receives in response to `animate?` is pretty sparse, since most examples are at the module level. So I introduced a cross reference to that.\n \n``````\n",
    "created_at": "2014-06-27T18:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215412",
    "user": "https://github.com/gagern"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,7 +5,11 @@
 ....:                xmin=0, xmax=2*pi, figsize=[2,1]) # indirect doctest
 ```
 
-However, at least on my system the individual frames are of slightly different sizes, ranging from 184×84 to 184×90. And the image looks pretty strange as well. This seems to be mostly due to the fact that the axis range, described by `xmin` and `xmax`, doesn't automatically fix a range for `x`. Instead, it seems as if `x` will automatically range from `-1` to `1`, but clipped to approximately the axis range.
+However, at least on my system the individual frames are of slightly different sizes, ranging from 184×84 to 184×90. And the image looks pretty strange as well:
+
+![](https://github.com/sagemath/sage/files/ticket16570/broken-example.gif)
+
+This seems to be mostly due to the fact that the axis range, described by `xmin` and `xmax`, doesn't automatically fix a range for `x`. Instead, it seems as if `x` will automatically range from `-1` to `1`, but clipped to approximately the axis range.
 
 My suggested remedy is to actually provide a range for `x`, and I'll upload a branch for this. I'll also address some other documentation and testsuite issues in this. Some of the tests take longer than one second, but aren't marked as long. One figure looks so small you can't see anything. And the information a user receives in response to `animate?` is pretty sparse, since most examples are at the module level. So I introduced a cross reference to that.
 
``````




---

archive/issue_comments_215413.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nIncluding image in the ticket description.",
    "created_at": "2014-06-27T18:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215413",
    "user": "https://github.com/gagern"
}
```

<div id="comment:1" align="right">comment:1</div>

Including image in the ticket description.



---

archive/issue_comments_215414.json:
```json
{
    "body": "Branch: **[u/gagern/ticket/16570](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/16570)**",
    "created_at": "2014-06-27T18:16:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215414",
    "user": "https://github.com/gagern"
}
```

Branch: **[u/gagern/ticket/16570](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/16570)**



---

archive/issue_comments_215415.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04665b0adccb1afb3599372e9bf72545541b8ea3\"><code>04665b0</code></a></td><td><code>Fix frame size for standard example animation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/368dca2860fd72ae05de65c4aa561938e2da7024\"><code>368dca2</code></a></td><td><code>Mark some animation tests as long time.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5155020dc2931d166f360f044a08b7b7bb78b24\"><code>d515502</code></a></td><td><code>Minor improvements to aminate documentation.</code></td></tr></table>\n",
    "created_at": "2014-06-27T18:18:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215415",
    "user": "https://github.com/gagern"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04665b0adccb1afb3599372e9bf72545541b8ea3"><code>04665b0</code></a></td><td><code>Fix frame size for standard example animation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/368dca2860fd72ae05de65c4aa561938e2da7024"><code>368dca2</code></a></td><td><code>Mark some animation tests as long time.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5155020dc2931d166f360f044a08b7b7bb78b24"><code>d515502</code></a></td><td><code>Minor improvements to aminate documentation.</code></td></tr></table>




---

archive/issue_comments_215416.json:
```json
{
    "body": "Commit: **[`d515502`](https://github.com/sagemath/sagetrac-mirror/commit/d5155020dc2931d166f360f044a08b7b7bb78b24)**",
    "created_at": "2014-06-27T18:18:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215416",
    "user": "https://github.com/gagern"
}
```

Commit: **[`d515502`](https://github.com/sagemath/sagetrac-mirror/commit/d5155020dc2931d166f360f044a08b7b7bb78b24)**



---

archive/issue_events_234621.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2014-06-27T20:42:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234621"
}
```



---

archive/issue_comments_215417.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nCan you add a comment about frame size in the documentation itself to warn the user of bad examples? Maybe you can even refer to this ticket.",
    "created_at": "2014-07-13T12:15:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215417",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:5" align="right">comment:5</div>

Can you add a comment about frame size in the documentation itself to warn the user of bad examples? Maybe you can even refer to this ticket.



---

archive/issue_comments_215418.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@ppurka](#comment:5):\n> Can you add a comment about frame size in the documentation itself to warn the user of bad examples?\n\nReasonable suggestion, but I'm somewhat uncertain where to put this. I guess it would be best to put this into the docstring of the whole module. There it might go after the warning about the need for ImageMagick or FFmpeg, or as one of the examples, towards the end.\n\nAs a side note, my code from #16571 introduces a doc test which exhibits the APNG generator complaining about incorrect sizes. Mainly to help people understand the error message issued in this case.\n\n> Maybe you can even refer to this ticket.\n\nI'd probably word this as follows:\n\n\u201cNote that it is your responsibility to provide frames with matching sizes. Otherwise the result is undefined: the animation might fail to save, fail to play back, or simply look strange. Most often you'll want to ensure common coordinate systems as well, so passing `xmin, xmax, ymin, ymax` as parameters is quite common. Prior to trac ticket !#16570, one of the running examples in the documentation violated this requirement:\u201d\n\nThen I'd paste the broken example, but only the construction, without the command to display it. That way there is not much work for the doctests, and we can add checks for common frame size to the implementation later on without breaking that doctest.\n\nIn the long run, a better alternative might be not to warn users but to avoid the unexpected behavior by choosing a common coordinate system automatically. But that will be more work. I just filed #16654 to keep track of that idea.",
    "created_at": "2014-07-13T15:23:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215418",
    "user": "https://github.com/gagern"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@ppurka](#comment:5):
> Can you add a comment about frame size in the documentation itself to warn the user of bad examples?

Reasonable suggestion, but I'm somewhat uncertain where to put this. I guess it would be best to put this into the docstring of the whole module. There it might go after the warning about the need for ImageMagick or FFmpeg, or as one of the examples, towards the end.

As a side note, my code from #16571 introduces a doc test which exhibits the APNG generator complaining about incorrect sizes. Mainly to help people understand the error message issued in this case.

> Maybe you can even refer to this ticket.

I'd probably word this as follows:

“Note that it is your responsibility to provide frames with matching sizes. Otherwise the result is undefined: the animation might fail to save, fail to play back, or simply look strange. Most often you'll want to ensure common coordinate systems as well, so passing `xmin, xmax, ymin, ymax` as parameters is quite common. Prior to trac ticket !#16570, one of the running examples in the documentation violated this requirement:”

Then I'd paste the broken example, but only the construction, without the command to display it. That way there is not much work for the doctests, and we can add checks for common frame size to the implementation later on without breaking that doctest.

In the long run, a better alternative might be not to warn users but to avoid the unexpected behavior by choosing a common coordinate system automatically. But that will be more work. I just filed #16654 to keep track of that idea.



---

archive/issue_comments_215419.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis looks good to me -- I wouldn't worry about the additional warning.  Unfortunately I won't have time to give it a proper review for some weeks.",
    "created_at": "2014-07-15T12:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215419",
    "user": "https://github.com/nilesjohnson"
}
```

<div id="comment:7" align="right">comment:7</div>

This looks good to me -- I wouldn't worry about the additional warning.  Unfortunately I won't have time to give it a proper review for some weeks.



---

archive/issue_events_234622.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234622"
}
```



---

archive/issue_events_234623.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234623"
}
```



---

archive/issue_events_234624.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2014-08-11T15:26:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234624"
}
```



---

archive/issue_events_234625.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2014-08-11T15:26:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234625"
}
```



---

archive/issue_comments_215420.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI'm about to review this one and have some questions:\n- what should the line \n\n```\n a.show() # optional -- ImageMagick\n```\ndo? (I have ImageMagick installed), but nothing happens: nothing is displayed in the notebook and no error occurs.\nHowever, I can save the gif and then look at it using a viewer, e.g. 'gthumb'\n- how to show the animation in the notebook (if at all?)\n \n\nThere is also a (unchanged) line in the doctest\n`a.gif() # not tested`\n\nQ: what does that mean?\n\nWhat should I look at in addition?",
    "created_at": "2014-08-11T15:26:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215420",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:9" align="right">comment:9</div>

I'm about to review this one and have some questions:
- what should the line 

```
 a.show() # optional -- ImageMagick
```
do? (I have ImageMagick installed), but nothing happens: nothing is displayed in the notebook and no error occurs.
However, I can save the gif and then look at it using a viewer, e.g. 'gthumb'
- how to show the animation in the notebook (if at all?)
 

There is also a (unchanged) line in the doctest
`a.gif() # not tested`

Q: what does that mean?

What should I look at in addition?



---

archive/issue_comments_215421.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThe issue with `a.show()` producing no output in the notebook should have been fixed by #16608, merged in Sage 6.3.beta6. What version of Sage are you using?",
    "created_at": "2014-08-11T15:33:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215421",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:10" align="right">comment:10</div>

The issue with `a.show()` producing no output in the notebook should have been fixed by #16608, merged in Sage 6.3.beta6. What version of Sage are you using?



---

archive/issue_comments_215422.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\n> What version of Sage are you using? \n\nIf I didn't miss or screw op something, I just checked out the ticket.\nIf I remember correctly, 'sage' showed me that I'm on 6.3.beta4.\n\nProbably I should rebase first, or someone else should rebase the ticket?",
    "created_at": "2014-08-11T16:05:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215422",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:11" align="right">comment:11</div>

> What version of Sage are you using? 

If I didn't miss or screw op something, I just checked out the ticket.
If I remember correctly, 'sage' showed me that I'm on 6.3.beta4.

Probably I should rebase first, or someone else should rebase the ticket?



---

archive/issue_comments_215423.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nLet's view testing it and rebasing it as two separate tasks. To test: if your `develop` branch is up-to-date, you should be able to check out the branch for this ticket, type `git merge develop` (then `make`), and then see if things here work the way they're supposed to. I think we can leave rebasing this ticket to the authors, and we can leave it until later, unless the `merge` doesn't work.",
    "created_at": "2014-08-11T16:48:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215423",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:12" align="right">comment:12</div>

Let's view testing it and rebasing it as two separate tasks. To test: if your `develop` branch is up-to-date, you should be able to check out the branch for this ticket, type `git merge develop` (then `make`), and then see if things here work the way they're supposed to. I think we can leave rebasing this ticket to the authors, and we can leave it until later, unless the `merge` doesn't work.



---

archive/issue_comments_215424.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nSince #16571 and (by transitivity) #16650 depends on this, rebasing would mean changes to those dependent tickets. I'd prefer the merge instead. I'm building 6.3 just now, and once that's done, I'll try the merge and push if that works as expected.",
    "created_at": "2014-08-11T17:05:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215424",
    "user": "https://github.com/gagern"
}
```

<div id="comment:13" align="right">comment:13</div>

Since #16571 and (by transitivity) #16650 depends on this, rebasing would mean changes to those dependent tickets. I'd prefer the merge instead. I'm building 6.3 just now, and once that's done, I'll try the merge and push if that works as expected.



---

archive/issue_comments_215425.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/050c3b8afb736b20e46feb85f9273fba35336688\"><code>050c3b8</code></a></td><td><code>Merge tag '6.3' into ticket/16570</code></td></tr></table>\n",
    "created_at": "2014-08-11T19:47:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215425",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/050c3b8afb736b20e46feb85f9273fba35336688"><code>050c3b8</code></a></td><td><code>Merge tag '6.3' into ticket/16570</code></td></tr></table>




---

archive/issue_comments_215426.json:
```json
{
    "body": "Changed commit from **[`d515502`](https://github.com/sagemath/sagetrac-mirror/commit/d5155020dc2931d166f360f044a08b7b7bb78b24)** to **[`050c3b8`](https://github.com/sagemath/sagetrac-mirror/commit/050c3b8afb736b20e46feb85f9273fba35336688)**",
    "created_at": "2014-08-11T19:47:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215426",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d515502`](https://github.com/sagemath/sagetrac-mirror/commit/d5155020dc2931d166f360f044a08b7b7bb78b24)** to **[`050c3b8`](https://github.com/sagemath/sagetrac-mirror/commit/050c3b8afb736b20e46feb85f9273fba35336688)**



---

archive/issue_comments_215427.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@sagetrac-jakobkroeker](#comment:9):\n\nThanks for reviewing this. As already mentioned, the `a.show()` line should work again now, displaying the image inside the notebook. The `a.gif()` line should show the animation as well, thanks to #16645. The latter is not run as part of the automated doctests, but I'd say please include this in your manual test, since it should work in the notebook. On the other hand, since I don't touch that line, if it doesn't work that's likely best dealt with in a separate ticket.",
    "created_at": "2014-08-11T19:53:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215427",
    "user": "https://github.com/gagern"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@sagetrac-jakobkroeker](#comment:9):

Thanks for reviewing this. As already mentioned, the `a.show()` line should work again now, displaying the image inside the notebook. The `a.gif()` line should show the animation as well, thanks to #16645. The latter is not run as part of the automated doctests, but I'd say please include this in your manual test, since it should work in the notebook. On the other hand, since I don't touch that line, if it doesn't work that's likely best dealt with in a separate ticket.



---

archive/issue_events_234626.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2014-08-11T19:54:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234626"
}
```



---

archive/issue_events_234627.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2014-08-11T19:54:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234627"
}
```



---

archive/issue_events_234628.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2014-08-12T10:30:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234628"
}
```



---

archive/issue_events_234629.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2014-08-12T10:30:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234629"
}
```



---

archive/issue_comments_215428.json:
```json
{
    "body": "Reviewer: **Jakob Kroeker**",
    "created_at": "2014-08-12T10:30:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215428",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

Reviewer: **Jakob Kroeker**



---

archive/issue_comments_215429.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\ngood, after I updated the ffmpeg 0.6.5 manually on my machine (Scientific Linux 6.5), the doctests passed!\n\nOtherwise ffmpeg 0.6.5. complains about the 'long' parameter argument. This might be a different new(?) issue, since several universities have SL installations. (SL packages are dated)\n\nAll fixed examples worked as expected. However, there are two other broken animate examples;\nwould you mind to fix them in this ticket? (see below)\n\nWhat also should be changed (maybe also in this ticket, since it is a pretty small change),\nis storing the name of the temporary directory in variable named 'dir'. 'dir' is a keyword/a method\nand should not be overwritten\n\n```\n############# # problem with the varying axis range #############  \n#################### line 417\n\na = animate([plot(x^2 + n) for n in range(4)])\na.show()\n\n#################### line 449\nE = EllipticCurve('37a')\nv = [E.change_ring(GF(p)).plot(pointsize=30) for p in [97, 101, 103, 107]]\na = animate(v, xmin=0, ymin=0)\na\na.show() # optional -- ImageMagick\n```\nThere is also one example with unreadable axis labels:\n\n```\n##############   problem with the axis labels - unreadable #############  \n############# line 294\na = animate([circle((i,0),1) for i in srange(0,2,0.4)],\n                xmin=0, ymin=-1, xmax=3, ymax=1, figsize=[2,1])\na.show()        # optional -- ImageMagick\nb = animate([circle((0,i),1,hue=0) for i in srange(0,2,0.4)],\n                xmin=0, ymin=-1, xmax=1, ymax=3, figsize=[1,2])\nb.show()        # optional -- ImageMagick\n```\n\nand two examples with unfortunate axis range, but that is probably discussable:\n\n```\n#############   image section not optimal: #############  \n#############  line 326\na = animate([circle((i,0),1,thickness=20*i) for i in srange(0,2,0.4)],\n                xmin=0, ymin=-1, xmax=3, ymax=1, figsize=[2,1], axes=False)\na.show()             # optional -- ImageMagick\nb = animate([circle((0,i),1,hue=0,thickness=20*i) for i in srange(0,2,0.4)],\n                xmin=0, ymin=-1, xmax=1, ymax=3, figsize=[1,2], axes=False)\nb.show()             # optional -- ImageMagick\np = a*b              # indirect doctest\nlen(a), len(b)\nlen(p)\n(a*b).show()         # optional -- ImageMagick\n\n#################### line 352\na = animate([circle((i,0),1,thickness=20*i) for i in srange(0,2,0.4)],\n             xmin=0, ymin=-1, xmax=3, ymax=1, figsize=[2,1], axes=False)\na.show()\n```",
    "created_at": "2014-08-12T10:30:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215429",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:17" align="right">comment:17</div>

good, after I updated the ffmpeg 0.6.5 manually on my machine (Scientific Linux 6.5), the doctests passed!

Otherwise ffmpeg 0.6.5. complains about the 'long' parameter argument. This might be a different new(?) issue, since several universities have SL installations. (SL packages are dated)

All fixed examples worked as expected. However, there are two other broken animate examples;
would you mind to fix them in this ticket? (see below)

What also should be changed (maybe also in this ticket, since it is a pretty small change),
is storing the name of the temporary directory in variable named 'dir'. 'dir' is a keyword/a method
and should not be overwritten

```
############# # problem with the varying axis range #############  
#################### line 417

a = animate([plot(x^2 + n) for n in range(4)])
a.show()

#################### line 449
E = EllipticCurve('37a')
v = [E.change_ring(GF(p)).plot(pointsize=30) for p in [97, 101, 103, 107]]
a = animate(v, xmin=0, ymin=0)
a
a.show() # optional -- ImageMagick
```
There is also one example with unreadable axis labels:

```
##############   problem with the axis labels - unreadable #############  
############# line 294
a = animate([circle((i,0),1) for i in srange(0,2,0.4)],
                xmin=0, ymin=-1, xmax=3, ymax=1, figsize=[2,1])
a.show()        # optional -- ImageMagick
b = animate([circle((0,i),1,hue=0) for i in srange(0,2,0.4)],
                xmin=0, ymin=-1, xmax=1, ymax=3, figsize=[1,2])
b.show()        # optional -- ImageMagick
```

and two examples with unfortunate axis range, but that is probably discussable:

```
#############   image section not optimal: #############  
#############  line 326
a = animate([circle((i,0),1,thickness=20*i) for i in srange(0,2,0.4)],
                xmin=0, ymin=-1, xmax=3, ymax=1, figsize=[2,1], axes=False)
a.show()             # optional -- ImageMagick
b = animate([circle((0,i),1,hue=0,thickness=20*i) for i in srange(0,2,0.4)],
                xmin=0, ymin=-1, xmax=1, ymax=3, figsize=[1,2], axes=False)
b.show()             # optional -- ImageMagick
p = a*b              # indirect doctest
len(a), len(b)
len(p)
(a*b).show()         # optional -- ImageMagick

#################### line 352
a = animate([circle((i,0),1,thickness=20*i) for i in srange(0,2,0.4)],
             xmin=0, ymin=-1, xmax=3, ymax=1, figsize=[2,1], axes=False)
a.show()
```



---

archive/issue_comments_215430.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5e766dcccea56a5af130dc4f7cde649997dc646\"><code>a5e766d</code></a></td><td><code>Improve some more animation examples.</code></td></tr></table>\n",
    "created_at": "2014-09-02T16:21:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215430",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5e766dcccea56a5af130dc4f7cde649997dc646"><code>a5e766d</code></a></td><td><code>Improve some more animation examples.</code></td></tr></table>




---

archive/issue_comments_215431.json:
```json
{
    "body": "Changed commit from **[`050c3b8`](https://github.com/sagemath/sagetrac-mirror/commit/050c3b8afb736b20e46feb85f9273fba35336688)** to **[`a5e766d`](https://github.com/sagemath/sagetrac-mirror/commit/a5e766dcccea56a5af130dc4f7cde649997dc646)**",
    "created_at": "2014-09-02T16:21:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215431",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`050c3b8`](https://github.com/sagemath/sagetrac-mirror/commit/050c3b8afb736b20e46feb85f9273fba35336688)** to **[`a5e766d`](https://github.com/sagemath/sagetrac-mirror/commit/a5e766dcccea56a5af130dc4f7cde649997dc646)**



---

archive/issue_events_234630.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2014-09-02T16:22:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234630"
}
```



---

archive/issue_events_234631.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2014-09-02T16:22:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234631"
}
```



---

archive/issue_comments_215432.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@sagetrac-jakobkroeker](#comment:17):\n> Otherwise ffmpeg 0.6.5. complains about the 'long' parameter argument. This might be a different new(?) issue, since several universities have SL installations. (SL packages are dated)\n\nSounds like a different issue, yes. We might have to implement some version detection there. Will you file a ticket for this? According to the [FFmpeg News archive](http://ffmpeg.org/archive.html) that version dates from January 2012.\n\n> All fixed examples worked as expected. However, there are two other\n> broken animate examples; would you mind to fix them in this ticket? (see below)\n\nI did so in the commit I just pushed.\n\n> What also should be changed (maybe also in this ticket, since it is a pretty small\n> change), is storing the name of the temporary directory in variable named 'dir'.\n> 'dir' is a keyword/a method and should not be overwritten\n\nOverwriting [the dir builtin](https://docs.python.org/2/library/functions.html#dir) within the tests causes no immediate harm. Only when users adapt these tests and therefore loose access to the builtin, then we'd have some impact. Nevertheless, I'll change the name to `td`.\n\nI fixed the other plots you mentioned. In the case of `a*b`, the \"unfortunate\" range might in fact help demonstrate how this operation behaves in the presence of non-matching ranges, so I'd leave that as it is. And the last unfortunate range has no impact on the issue being demonstrated, so I'll leave that as well.\n\nI hope you'll have time to give this a positive review, even though I took quite long to react to your input.",
    "created_at": "2014-09-02T16:22:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215432",
    "user": "https://github.com/gagern"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@sagetrac-jakobkroeker](#comment:17):
> Otherwise ffmpeg 0.6.5. complains about the 'long' parameter argument. This might be a different new(?) issue, since several universities have SL installations. (SL packages are dated)

Sounds like a different issue, yes. We might have to implement some version detection there. Will you file a ticket for this? According to the [FFmpeg News archive](http://ffmpeg.org/archive.html) that version dates from January 2012.

> All fixed examples worked as expected. However, there are two other
> broken animate examples; would you mind to fix them in this ticket? (see below)

I did so in the commit I just pushed.

> What also should be changed (maybe also in this ticket, since it is a pretty small
> change), is storing the name of the temporary directory in variable named 'dir'.
> 'dir' is a keyword/a method and should not be overwritten

Overwriting [the dir builtin](https://docs.python.org/2/library/functions.html#dir) within the tests causes no immediate harm. Only when users adapt these tests and therefore loose access to the builtin, then we'd have some impact. Nevertheless, I'll change the name to `td`.

I fixed the other plots you mentioned. In the case of `a*b`, the "unfortunate" range might in fact help demonstrate how this operation behaves in the presence of non-matching ranges, so I'd leave that as it is. And the last unfortunate range has no impact on the issue being demonstrated, so I'll leave that as well.

I hope you'll have time to give this a positive review, even though I took quite long to react to your input.



---

archive/issue_comments_215433.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nExcept the `x^2` plot (line 417, ff) everything is ok now.\nFor that example `ymax` changes during the animation for me.\nIf that is not by intention, I would set  `ymax=4` or similar.\n\n> Overwriting \u200bthe dir builtin within the tests causes no immediate harm. Only when users adapt these tests and therefore loose access to the builtin, then we'd have some impact. \n\nThat is exactly why I issued the usage of `dir` !\n\n> Nevertheless, I'll change the name to td\n\nin general I find self-descriptive naming like `'tempDir'` better,\nbut that is up to you if you want to keep 'td' or change it to something more descriptive.",
    "created_at": "2014-09-17T14:16:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215433",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:20" align="right">comment:20</div>

Except the `x^2` plot (line 417, ff) everything is ok now.
For that example `ymax` changes during the animation for me.
If that is not by intention, I would set  `ymax=4` or similar.

> Overwriting ​the dir builtin within the tests causes no immediate harm. Only when users adapt these tests and therefore loose access to the builtin, then we'd have some impact. 

That is exactly why I issued the usage of `dir` !

> Nevertheless, I'll change the name to td

in general I find self-descriptive naming like `'tempDir'` better,
but that is up to you if you want to keep 'td' or change it to something more descriptive.



---

archive/issue_events_234632.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2014-09-17T14:16:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234632"
}
```



---

archive/issue_events_234633.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2014-09-17T14:16:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234633"
}
```



---

archive/issue_comments_215434.json:
```json
{
    "body": "Changed branch from **[u/gagern/ticket/16570](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/16570)** to **[u/jakobkroeker/ticket/16570](https://github.com/sagemath/sagetrac-mirror/tree/u/jakobkroeker/ticket/16570)**",
    "created_at": "2014-09-17T16:41:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215434",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

Changed branch from **[u/gagern/ticket/16570](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/16570)** to **[u/jakobkroeker/ticket/16570](https://github.com/sagemath/sagetrac-mirror/tree/u/jakobkroeker/ticket/16570)**



---

archive/issue_comments_215435.json:
```json
{
    "body": "Changed commit from **[`a5e766d`](https://github.com/sagemath/sagetrac-mirror/commit/a5e766dcccea56a5af130dc4f7cde649997dc646)** to **[`9df42a4`](https://github.com/sagemath/sagetrac-mirror/commit/9df42a472cd18d9f7b0eaa3cf820c515f74e54a6)**",
    "created_at": "2014-09-17T16:47:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215435",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

Changed commit from **[`a5e766d`](https://github.com/sagemath/sagetrac-mirror/commit/a5e766dcccea56a5af130dc4f7cde649997dc646)** to **[`9df42a4`](https://github.com/sagemath/sagetrac-mirror/commit/9df42a472cd18d9f7b0eaa3cf820c515f74e54a6)**



---

archive/issue_events_234634.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2014-09-17T16:47:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234634"
}
```



---

archive/issue_events_234635.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2014-09-17T16:47:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234635"
}
```



---

archive/issue_comments_215436.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nHello,\n\nI set the `ymax` limit to 4 for the `x^2` example:\n\nhttps://github.com/sagemath/sagetrac-mirror/commit/811ab08ce3e55c8314ddc81b73671b2cbf611786\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba4cfedc1f2b778a9918c823cfd545ebb650996f\"><code>ba4cfed</code></a></td><td><code>Merge branch 'develop' into ticket/16570</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30015024d8fae3c1257cd2f81fdb3abe23a13edd\"><code>3001502</code></a></td><td><code>Merge branch 'u/gagern/ticket/16570' of git://trac.sagemath.org/sage into ticket/16570</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/811ab08ce3e55c8314ddc81b73671b2cbf611786\"><code>811ab08</code></a></td><td><code>fixed max y-axis range to 4 for the x^2 example</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9df42a472cd18d9f7b0eaa3cf820c515f74e54a6\"><code>9df42a4</code></a></td><td><code>Merge branch 'u/gagern/ticket/16570' into ticket/16570</code></td></tr></table>\n",
    "created_at": "2014-09-17T16:47:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215436",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:22" align="right">comment:22</div>

Hello,

I set the `ymax` limit to 4 for the `x^2` example:

https://github.com/sagemath/sagetrac-mirror/commit/811ab08ce3e55c8314ddc81b73671b2cbf611786

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba4cfedc1f2b778a9918c823cfd545ebb650996f"><code>ba4cfed</code></a></td><td><code>Merge branch 'develop' into ticket/16570</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30015024d8fae3c1257cd2f81fdb3abe23a13edd"><code>3001502</code></a></td><td><code>Merge branch 'u/gagern/ticket/16570' of git://trac.sagemath.org/sage into ticket/16570</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/811ab08ce3e55c8314ddc81b73671b2cbf611786"><code>811ab08</code></a></td><td><code>fixed max y-axis range to 4 for the x^2 example</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9df42a472cd18d9f7b0eaa3cf820c515f74e54a6"><code>9df42a4</code></a></td><td><code>Merge branch 'u/gagern/ticket/16570' into ticket/16570</code></td></tr></table>




---

archive/issue_comments_215437.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI didn't see it remarked here, but this behaviour is a regression. I happened to try the example in 5.10 and there the animation appeared as one would expect. So it seems that xmin and xmax were used as bounds for x at some point before.\n\nIt might be worth tracking down what caused the regression (perhaps check the history of the files where changes on this ticket were made) so that we make sure we're fixing the regression properly, not just partially patching up the issue.",
    "created_at": "2014-09-17T17:11:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215437",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:23" align="right">comment:23</div>

I didn't see it remarked here, but this behaviour is a regression. I happened to try the example in 5.10 and there the animation appeared as one would expect. So it seems that xmin and xmax were used as bounds for x at some point before.

It might be worth tracking down what caused the regression (perhaps check the history of the files where changes on this ticket were made) so that we make sure we're fixing the regression properly, not just partially patching up the issue.



---

archive/issue_comments_215438.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@nbruin](#comment:23):\n> [\u2026] this behaviour is a regression. I happened to try the example in 5.10 and there the animation appeared as one would expect. So it seems that xmin and xmax were used as bounds for x at some point before.\n\nAfter almost two days of bisecting, I got the culprit: it's #12827 \u2013 again.\n\n[9eddf99](https://github.com/sagemath/sagetrac-mirror/commit/9eddf99b572caa0c28ffa40dd154ad9c8f952255) broke the example, causing error messages instead. By [5a10336](https://github.com/sagemath/sagetrac-mirror/commit/5a10336948b7befec35c0c0d99defbceb348e5d9) the example could be executed again, but looked broken as described. Looking at [the changes in between](https://github.com/sagemath/sagetrac-mirror/compare/0c6fcdf462e329c80eeaf2841ac1659308aad90c...5a10336948b7befec35c0c0d99defbceb348e5d9) the issue becomes apparent. The `__init__` method is changed like this:\n\n```\n-        w = []\n-        for x in v:\n-            if not isinstance(x, sage.plot.graphics.Graphics):\n-                x = plot.plot(x, (kwds.get('xmin',0), kwds.get('xmax', 1)))\n-            w.append(x)\n-        if len(w) == 0:\n-            w = [sage.plot.graphics.Graphics()]\n-        self._frames = w\n+        ## \n+        ## code for type-checking input -- seems like a bad idea\n+        ##\n+        # if typecheck_input:\n+        #     w = []\n+        #     for x in v:\n+        #         if not is_graphic(x):\n+        #             x = plot.plot(x, (kwds.get('xmin',0), kwds.get('xmax', 1)))\n+        #         w.append(x)\n+        #     if len(w) == 0:\n+        #         w = [plot.Graphics()]\n+        # else:\n+        #     w = v\n+        self._frames = v\n         self._kwds = kwds\n```\n\nand as a replacement we get the new `make_image` method:\n\n```\n+        p = plot.plot(frame)\n+        p.save_image(filename, **kwds)\n```\n\nIf I move the `**kwds` from the `sage_image` call to the `plot` call, the example looks nice again. I guess I'll try this change and see how the rest of the animate test suite behaves for this.",
    "created_at": "2014-10-07T16:17:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215438",
    "user": "https://github.com/gagern"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@nbruin](#comment:23):
> […] this behaviour is a regression. I happened to try the example in 5.10 and there the animation appeared as one would expect. So it seems that xmin and xmax were used as bounds for x at some point before.

After almost two days of bisecting, I got the culprit: it's #12827 – again.

[9eddf99](https://github.com/sagemath/sagetrac-mirror/commit/9eddf99b572caa0c28ffa40dd154ad9c8f952255) broke the example, causing error messages instead. By [5a10336](https://github.com/sagemath/sagetrac-mirror/commit/5a10336948b7befec35c0c0d99defbceb348e5d9) the example could be executed again, but looked broken as described. Looking at [the changes in between](https://github.com/sagemath/sagetrac-mirror/compare/0c6fcdf462e329c80eeaf2841ac1659308aad90c...5a10336948b7befec35c0c0d99defbceb348e5d9) the issue becomes apparent. The `__init__` method is changed like this:

```
-        w = []
-        for x in v:
-            if not isinstance(x, sage.plot.graphics.Graphics):
-                x = plot.plot(x, (kwds.get('xmin',0), kwds.get('xmax', 1)))
-            w.append(x)
-        if len(w) == 0:
-            w = [sage.plot.graphics.Graphics()]
-        self._frames = w
+        ## 
+        ## code for type-checking input -- seems like a bad idea
+        ##
+        # if typecheck_input:
+        #     w = []
+        #     for x in v:
+        #         if not is_graphic(x):
+        #             x = plot.plot(x, (kwds.get('xmin',0), kwds.get('xmax', 1)))
+        #         w.append(x)
+        #     if len(w) == 0:
+        #         w = [plot.Graphics()]
+        # else:
+        #     w = v
+        self._frames = v
         self._kwds = kwds
```

and as a replacement we get the new `make_image` method:

```
+        p = plot.plot(frame)
+        p.save_image(filename, **kwds)
```

If I move the `**kwds` from the `sage_image` call to the `plot` call, the example looks nice again. I guess I'll try this change and see how the rest of the animate test suite behaves for this.



---

archive/issue_events_234636.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2014-10-07T16:21:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234636"
}
```



---

archive/issue_events_234637.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2014-10-07T16:21:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234637"
}
```



---

archive/issue_comments_215439.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@gagern](#comment:24):\n> Replying to [@nbruin](#comment:23):\n> > [\u2026] this behaviour is a regression. I happened to try the example in 5.10 and there the animation appeared as one would expect. So it seems that xmin and xmax were used as bounds for x at some point before.\n\n> \n> After almost two days of bisecting, I got the culprit: it's #12827 \u2013 again.\n\nBummer.  Thanks for investigating; I will look into this too.",
    "created_at": "2014-10-08T14:00:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215439",
    "user": "https://github.com/nilesjohnson"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@gagern](#comment:24):
> Replying to [@nbruin](#comment:23):
> > […] this behaviour is a regression. I happened to try the example in 5.10 and there the animation appeared as one would expect. So it seems that xmin and xmax were used as bounds for x at some point before.

> 
> After almost two days of bisecting, I got the culprit: it's #12827 – again.

Bummer.  Thanks for investigating; I will look into this too.



---

archive/issue_comments_215440.json:
```json
{
    "body": "Changed branch from **[u/jakobkroeker/ticket/16570](https://github.com/sagemath/sagetrac-mirror/tree/u/jakobkroeker/ticket/16570)** to **[u/gagern/ticket/16570](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/16570)**",
    "created_at": "2014-10-08T22:26:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215440",
    "user": "https://github.com/gagern"
}
```

Changed branch from **[u/jakobkroeker/ticket/16570](https://github.com/sagemath/sagetrac-mirror/tree/u/jakobkroeker/ticket/16570)** to **[u/gagern/ticket/16570](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/16570)**



---

archive/issue_comments_215441.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nOK, things look good if I simply pass the keywords to the `plot` function.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/403a9e602cd9ec4c77d9688fa752ab432470300f\"><code>403a9e6</code></a></td><td><code>animate: Pass keyword arguments to plot constructor.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e4d39c5b66b1188fbfdaf2784f625a9ab1a0fc4\"><code>9e4d39c</code></a></td><td><code>Merge tag '6.4.beta4' into ticket/16570</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e14ebdb141a8a8a82e1bcc75d90d80c61adeceeb\"><code>e14ebdb</code></a></td><td><code>Mark some animation tests as long time.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17d4f90286041ea73184cc7b231edb6a05b82f60\"><code>17d4f90</code></a></td><td><code>Minor improvements to aminate documentation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07eaa4c4164dd734dccd6c14730bc70256efaf93\"><code>07eaa4c</code></a></td><td><code>Improve some more animation examples.</code></td></tr></table>\n",
    "created_at": "2014-10-08T22:31:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215441",
    "user": "https://github.com/gagern"
}
```

<div id="comment:28" align="right">comment:28</div>

OK, things look good if I simply pass the keywords to the `plot` function.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/403a9e602cd9ec4c77d9688fa752ab432470300f"><code>403a9e6</code></a></td><td><code>animate: Pass keyword arguments to plot constructor.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e4d39c5b66b1188fbfdaf2784f625a9ab1a0fc4"><code>9e4d39c</code></a></td><td><code>Merge tag '6.4.beta4' into ticket/16570</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e14ebdb141a8a8a82e1bcc75d90d80c61adeceeb"><code>e14ebdb</code></a></td><td><code>Mark some animation tests as long time.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17d4f90286041ea73184cc7b231edb6a05b82f60"><code>17d4f90</code></a></td><td><code>Minor improvements to aminate documentation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07eaa4c4164dd734dccd6c14730bc70256efaf93"><code>07eaa4c</code></a></td><td><code>Improve some more animation examples.</code></td></tr></table>




---

archive/issue_comments_215442.json:
```json
{
    "body": "Changed commit from **[`9df42a4`](https://github.com/sagemath/sagetrac-mirror/commit/9df42a472cd18d9f7b0eaa3cf820c515f74e54a6)** to **[`07eaa4c`](https://github.com/sagemath/sagetrac-mirror/commit/07eaa4c4164dd734dccd6c14730bc70256efaf93)**",
    "created_at": "2014-10-08T22:31:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215442",
    "user": "https://github.com/gagern"
}
```

Changed commit from **[`9df42a4`](https://github.com/sagemath/sagetrac-mirror/commit/9df42a472cd18d9f7b0eaa3cf820c515f74e54a6)** to **[`07eaa4c`](https://github.com/sagemath/sagetrac-mirror/commit/07eaa4c4164dd734dccd6c14730bc70256efaf93)**



---

archive/issue_events_234638.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2014-10-08T22:31:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234638"
}
```



---

archive/issue_events_234639.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2014-10-08T22:31:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234639"
}
```



---

archive/issue_comments_215443.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d9e590f5ef642a06f45056ac282fe696131c435\"><code>9d9e590</code></a></td><td><code>fixed max y-axis range to 4 for the x^2 example</code></td></tr></table>\n",
    "created_at": "2014-10-08T22:34:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215443",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d9e590f5ef642a06f45056ac282fe696131c435"><code>9d9e590</code></a></td><td><code>fixed max y-axis range to 4 for the x^2 example</code></td></tr></table>




---

archive/issue_comments_215444.json:
```json
{
    "body": "Changed commit from **[`07eaa4c`](https://github.com/sagemath/sagetrac-mirror/commit/07eaa4c4164dd734dccd6c14730bc70256efaf93)** to **[`9d9e590`](https://github.com/sagemath/sagetrac-mirror/commit/9d9e590f5ef642a06f45056ac282fe696131c435)**",
    "created_at": "2014-10-08T22:34:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215444",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`07eaa4c`](https://github.com/sagemath/sagetrac-mirror/commit/07eaa4c4164dd734dccd6c14730bc70256efaf93)** to **[`9d9e590`](https://github.com/sagemath/sagetrac-mirror/commit/9d9e590f5ef642a06f45056ac282fe696131c435)**



---

archive/issue_comments_215445.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nIs there any further review needed here?  It seems like you all have reviewed each other's work, except maybe the keyword bit, which is fine.   Tests pass (I don't have ffmpeg but I don't think anything really changed there.)",
    "created_at": "2014-11-13T20:36:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215445",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:30" align="right">comment:30</div>

Is there any further review needed here?  It seems like you all have reviewed each other's work, except maybe the keyword bit, which is fine.   Tests pass (I don't have ffmpeg but I don't think anything really changed there.)



---

archive/issue_comments_215446.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@kcrisman](#comment:30):\n> Is there any further review needed here?  It seems like you all have reviewed each other's work, except maybe the keyword bit, which is fine.\n\nAs far as I see it, [403a9e6](https://github.com/sagemath/sagetrac-mirror/commit/403a9e602cd9ec4c77d9688fa752ab432470300f) with the keyword argument handling was the only bit without review. If you consider it fine, feel free to name yourself a reviewer as well, and give this thing a positive review. I'd be glad for it.",
    "created_at": "2014-11-16T20:07:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215446",
    "user": "https://github.com/gagern"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@kcrisman](#comment:30):
> Is there any further review needed here?  It seems like you all have reviewed each other's work, except maybe the keyword bit, which is fine.

As far as I see it, [403a9e6](https://github.com/sagemath/sagetrac-mirror/commit/403a9e602cd9ec4c77d9688fa752ab432470300f) with the keyword argument handling was the only bit without review. If you consider it fine, feel free to name yourself a reviewer as well, and give this thing a positive review. I'd be glad for it.



---

archive/issue_events_234640.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2014-11-17T12:45:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234640"
}
```



---

archive/issue_events_234641.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2014-11-17T12:45:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234641"
}
```



---

archive/issue_comments_215447.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n> OK, things look good if I simply pass the keywords to the plot function\n\nI'm not too familiar with sage/python,\nbut I guess, in `make_image()` `**kwds` should also be passed to `save_image()`?",
    "created_at": "2014-11-17T12:45:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215447",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:32" align="right">comment:32</div>

> OK, things look good if I simply pass the keywords to the plot function

I'm not too familiar with sage/python,
but I guess, in `make_image()` `**kwds` should also be passed to `save_image()`?



---

archive/issue_comments_215448.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@sagetrac-jakobkroeker](#comment:32):\n> but I guess, in `make_image()` `**kwds` should also be passed to `save_image()`?\n\n[graphics.save](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/plot/graphics.py?id=d1eeb8f187ec15f7c032a35e3dc19654482da26d#n2946) (which is what `save_image` delegates to) will combine arguments from three sources: `self.SHOW_OPTIONS` which contains default values, `self._extra_kwds` which obtains keywords from the `plot` function, and the `kwds` passed to `save` itself. Looking at [plot](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/plot/plot.py?id=d1eeb8f187ec15f7c032a35e3dc19654482da26d#n1236) we see that all show-relevant keywords (as determined by `Graphics._extract_kwds_for_show`) will get passed to `_set_extra_kwds` *except* `xmin` and `xmax` which are explicitely ignored.\n\nSo what's the conclusion here? As long as a keyword argument is deemed suitable for `show`, i.e. matches a key in `Graphics.SHOW_OPTIONS`, then passing it as an agument to `plot` is enough, and we gain nothing by repeating those arguments for `save`. Are there any arguments which make sense for `save` but do not fall in that category? Since [show](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/plot/graphics.py?id=d1eeb8f187ec15f7c032a35e3dc19654482da26d#n3387) is little more than a call to `save` followed by launching the viewer, this should in my opinion not be the case. I'd say there is no need to repeat the arguments, and if any arguments would be needed for `show`, then that would be a bug in its own right.",
    "created_at": "2014-11-17T13:47:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215448",
    "user": "https://github.com/gagern"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@sagetrac-jakobkroeker](#comment:32):
> but I guess, in `make_image()` `**kwds` should also be passed to `save_image()`?

[graphics.save](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/plot/graphics.py?id=d1eeb8f187ec15f7c032a35e3dc19654482da26d#n2946) (which is what `save_image` delegates to) will combine arguments from three sources: `self.SHOW_OPTIONS` which contains default values, `self._extra_kwds` which obtains keywords from the `plot` function, and the `kwds` passed to `save` itself. Looking at [plot](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/plot/plot.py?id=d1eeb8f187ec15f7c032a35e3dc19654482da26d#n1236) we see that all show-relevant keywords (as determined by `Graphics._extract_kwds_for_show`) will get passed to `_set_extra_kwds` *except* `xmin` and `xmax` which are explicitely ignored.

So what's the conclusion here? As long as a keyword argument is deemed suitable for `show`, i.e. matches a key in `Graphics.SHOW_OPTIONS`, then passing it as an agument to `plot` is enough, and we gain nothing by repeating those arguments for `save`. Are there any arguments which make sense for `save` but do not fall in that category? Since [show](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/plot/graphics.py?id=d1eeb8f187ec15f7c032a35e3dc19654482da26d#n3387) is little more than a call to `save` followed by launching the viewer, this should in my opinion not be the case. I'd say there is no need to repeat the arguments, and if any arguments would be needed for `show`, then that would be a bug in its own right.



---

archive/issue_comments_215449.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\n> > OK, things look good if I simply pass the keywords to the plot function\n\n> \n> I'm not too familiar with sage/python,\n> but I guess, in `make_image()` `**kwds` should also be passed to `save_image()`?\n> \n\nIn principle, the [very first line](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/plot/plot.py?id=d1eeb8f187ec15f7c032a35e3dc19654482da26d#n1236) in `plot.plot` being\n\n```\nG_kwds = Graphics._extract_kwds_for_show(kwds, ignore=['xmin', 'xmax'])\n```\nand near the end being\n\n```\nG._set_extra_kwds(G_kwds)\n```\nshould suffice for that, but if you can think of a way this messes it up, that would be helpful.\n\nEdit: looks like Martin and I agree on this.",
    "created_at": "2014-11-17T13:48:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215449",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:34" align="right">comment:34</div>

> > OK, things look good if I simply pass the keywords to the plot function

> 
> I'm not too familiar with sage/python,
> but I guess, in `make_image()` `**kwds` should also be passed to `save_image()`?
> 

In principle, the [very first line](https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/plot/plot.py?id=d1eeb8f187ec15f7c032a35e3dc19654482da26d#n1236) in `plot.plot` being

```
G_kwds = Graphics._extract_kwds_for_show(kwds, ignore=['xmin', 'xmax'])
```
and near the end being

```
G._set_extra_kwds(G_kwds)
```
should suffice for that, but if you can think of a way this messes it up, that would be helpful.

Edit: looks like Martin and I agree on this.



---

archive/issue_events_234642.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-17T13:49:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234642"
}
```



---

archive/issue_events_234643.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-17T13:49:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234643"
}
```



---

archive/issue_comments_215450.json:
```json
{
    "body": "Changed reviewer from **Jakob Kroeker** to **Jakob Kroeker, Karl-Dieter Crisman**",
    "created_at": "2014-11-17T13:49:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215450",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Jakob Kroeker** to **Jakob Kroeker, Karl-Dieter Crisman**



---

archive/issue_comments_215451.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n> G_kwds = Graphics._extract_kwds_for_show(kwds, ignore=['xmin', 'xmax'])\n\nI have a question related to the `xmin/xmax` weirdness (my subjective impression), which has no influence on the positive review of this ticket:\n\n- why is `xmin` and `xmax` ignored for G_kwds?\n- there is ` xmin ` and `xmax` for starting and ending x value and same options names (for show() ) to limit the horizontal x-axis?\n- is the `xmin/xmax ` stuff (axis limit, start/end x value, ignored options)  documentation for `plot(), show()` sufficient and understandable for users ?",
    "created_at": "2014-11-17T20:47:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215451",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:36" align="right">comment:36</div>

> G_kwds = Graphics._extract_kwds_for_show(kwds, ignore=['xmin', 'xmax'])

I have a question related to the `xmin/xmax` weirdness (my subjective impression), which has no influence on the positive review of this ticket:

- why is `xmin` and `xmax` ignored for G_kwds?
- there is ` xmin ` and `xmax` for starting and ending x value and same options names (for show() ) to limit the horizontal x-axis?
- is the `xmin/xmax ` stuff (axis limit, start/end x value, ignored options)  documentation for `plot(), show()` sufficient and understandable for users ?



---

archive/issue_comments_215452.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nSee this #13368",
    "created_at": "2014-11-17T23:22:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215452",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:37" align="right">comment:37</div>

See this #13368



---

archive/issue_comments_215453.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\n> See this #13368\n\nYes, I agree, and now that I look at that again I agree with my former idea this was a bad cut-paste.  Let's continue discussion there, if necessary.",
    "created_at": "2014-11-18T02:03:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215453",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:38" align="right">comment:38</div>

> See this #13368

Yes, I agree, and now that I look at that again I agree with my former idea this was a bad cut-paste.  Let's continue discussion there, if necessary.



---

archive/issue_events_234644.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-19T08:32:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234644"
}
```



---

archive/issue_events_234645.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0250556f45c5c3008f1d6001be179299c6834feb",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-11-19T08:32:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16570#event-234645"
}
```



---

archive/issue_comments_215454.json:
```json
{
    "body": "Changed branch from **[u/gagern/ticket/16570](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/16570)** to **[`9d9e590`](https://github.com/sagemath/sagetrac-mirror/commit/9d9e590f5ef642a06f45056ac282fe696131c435)**",
    "created_at": "2014-11-19T08:32:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215454",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gagern/ticket/16570](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/16570)** to **[`9d9e590`](https://github.com/sagemath/sagetrac-mirror/commit/9d9e590f5ef642a06f45056ac282fe696131c435)**



---

archive/issue_comments_215455.json:
```json
{
    "body": "Changed commit from **[`9d9e590`](https://github.com/sagemath/sagetrac-mirror/commit/9d9e590f5ef642a06f45056ac282fe696131c435)** to none",
    "created_at": "2015-04-13T15:11:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215455",
    "user": "https://github.com/kcrisman"
}
```

Changed commit from **[`9d9e590`](https://github.com/sagemath/sagetrac-mirror/commit/9d9e590f5ef642a06f45056ac282fe696131c435)** to none



---

archive/issue_comments_215456.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nPossible bad outcome to this revealed in #18176.",
    "created_at": "2015-04-13T15:11:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16570",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16570#issuecomment-215456",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:40" align="right">comment:40</div>

Possible bad outcome to this revealed in #18176.
