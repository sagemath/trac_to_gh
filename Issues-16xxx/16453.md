# Issue 16453: Cythonize quiver paths

archive/issues_016216.json:
```json
{
    "body": "Currently, `sage.quivers.paths` is Python code and rather slow. The purpose of this ticket is to provide a speed-up, using \"bounded integer sequences\" introduced at #15820.\n\n**CC:**  @nthiery @nathanncohen stumpc5 @saliola\n\n**Branch:** [3c4c54a8b536e24881c2e0a88c77d0340193b358](https://github.com/sagemath/sagetrac-mirror/commit/3c4c54a8b536e24881c2e0a88c77d0340193b358)\n\n**Reviewer:** Vincent Delecroix\n\n**Author:** Simon King\n\n**Dependencies:** #15820 #17564\n\nIssue created by migration from https://trac.sagemath.org/ticket/16453\n\n",
    "closed_at": "2015-05-25T22:49:47Z",
    "created_at": "2014-06-07T08:47:55Z",
    "labels": [
        "component: algebra",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Cythonize quiver paths",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16453",
    "user": "https://github.com/simon-king-jena"
}
```
Currently, `sage.quivers.paths` is Python code and rather slow. The purpose of this ticket is to provide a speed-up, using "bounded integer sequences" introduced at #15820.

**CC:**  @nthiery @nathanncohen stumpc5 @saliola

**Branch:** [3c4c54a8b536e24881c2e0a88c77d0340193b358](https://github.com/sagemath/sagetrac-mirror/commit/3c4c54a8b536e24881c2e0a88c77d0340193b358)

**Reviewer:** Vincent Delecroix

**Author:** Simon King

**Dependencies:** #15820 #17564

Issue created by migration from https://trac.sagemath.org/ticket/16453





---

archive/issue_comments_260017.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Currently, `sage.quivers.paths` is Python code and rather slow. The purpose of this ticket is to provide a speed-up, using \"bounded integer sequences\" introduced at #15820.\n``````\n",
    "created_at": "2014-06-07T08:55:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260017",
    "user": "https://github.com/simon-king-jena"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Currently, `sage.quivers.paths` is Python code and rather slow. The purpose of this ticket is to provide a speed-up, using "bounded integer sequences" introduced at #15820.
``````




---

archive/issue_comments_260018.json:
```json
{
    "body": "**Dependencies:** 15820",
    "created_at": "2014-06-07T08:55:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260018",
    "user": "https://github.com/simon-king-jena"
}
```

**Dependencies:** 15820



---

archive/issue_comments_260019.json:
```json
{
    "body": "**Branch:** [u/SimonKing/cythonize_quiver_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cythonize_quiver_paths)",
    "created_at": "2014-06-07T08:57:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260019",
    "user": "https://github.com/simon-king-jena"
}
```

**Branch:** [u/SimonKing/cythonize_quiver_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cythonize_quiver_paths)



---

archive/issue_comments_260020.json:
```json
{
    "body": "**Commit:** [ab27a4c315291cd01661407043b8ee51af7c4624](https://github.com/sagemath/sagetrac-mirror/commit/ab27a4c315291cd01661407043b8ee51af7c4624)",
    "created_at": "2014-06-07T08:58:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260020",
    "user": "https://github.com/simon-king-jena"
}
```

**Commit:** [ab27a4c315291cd01661407043b8ee51af7c4624](https://github.com/sagemath/sagetrac-mirror/commit/ab27a4c315291cd01661407043b8ee51af7c4624)



---

archive/issue_comments_260021.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64ac7bab9d4c85136e9845878d69d82be7c300f8\">64ac7ba</a></td><td><code>Pickling of bounded integer sequence. Documentation of cdef functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/050b118c9ce92b3c640ad4ea66b5c02dce87a172\">050b118</a></td><td><code>Improve access to items of bounded integer sequences</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2e35470203398b1636175965cc8b1fdc89549b9\">c2e3547</a></td><td><code>Improve conversion \"list->bounded integer sequence\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/836f63fb96241033953e42d6d18becfaa4fe33b7\">836f63f</a></td><td><code>Improve iteration and list/string conversion of bounded integer sequences</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8a299ba54fa05d6851fd492019d9996e7e31515\">c8a299b</a></td><td><code>More documentation of bounded integer sequences</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/775d7955c67cb27af3ec8877491a3d7478fa8579\">775d795</a></td><td><code>Improve index computation for bounded integer sequences</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/391a102f2b5623979c214a725092eeb3dbe180f6\">391a102</a></td><td><code>Improve bounded integer subsequent containment test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/735939e593c9c302ff42c4973cbfe2e48eb22644\">735939e</a></td><td><code>Improve slicing of bounded integer sequences</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c900a2cd4045aa3463be31d76c9f047b05571958\">c900a2c</a></td><td><code>Take care of GMP's removal of trailing zeroes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab27a4c315291cd01661407043b8ee51af7c4624\">ab27a4c</a></td><td><code>Merge branch 'u/SimonKing/ticket/15820' of trac.sagemath.org:sage into t/16453/cythonize_quiver_paths</code></td></tr></table>\n",
    "created_at": "2014-06-07T08:58:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260021",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:3'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64ac7bab9d4c85136e9845878d69d82be7c300f8">64ac7ba</a></td><td><code>Pickling of bounded integer sequence. Documentation of cdef functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/050b118c9ce92b3c640ad4ea66b5c02dce87a172">050b118</a></td><td><code>Improve access to items of bounded integer sequences</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2e35470203398b1636175965cc8b1fdc89549b9">c2e3547</a></td><td><code>Improve conversion "list->bounded integer sequence"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/836f63fb96241033953e42d6d18becfaa4fe33b7">836f63f</a></td><td><code>Improve iteration and list/string conversion of bounded integer sequences</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8a299ba54fa05d6851fd492019d9996e7e31515">c8a299b</a></td><td><code>More documentation of bounded integer sequences</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/775d7955c67cb27af3ec8877491a3d7478fa8579">775d795</a></td><td><code>Improve index computation for bounded integer sequences</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/391a102f2b5623979c214a725092eeb3dbe180f6">391a102</a></td><td><code>Improve bounded integer subsequent containment test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/735939e593c9c302ff42c4973cbfe2e48eb22644">735939e</a></td><td><code>Improve slicing of bounded integer sequences</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c900a2cd4045aa3463be31d76c9f047b05571958">c900a2c</a></td><td><code>Take care of GMP's removal of trailing zeroes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab27a4c315291cd01661407043b8ee51af7c4624">ab27a4c</a></td><td><code>Merge branch 'u/SimonKing/ticket/15820' of trac.sagemath.org:sage into t/16453/cythonize_quiver_paths</code></td></tr></table>




---

archive/issue_comments_260022.json:
```json
{
    "body": "**Changing dependencies** from \"15820\" to \"#15820\".",
    "created_at": "2014-06-07T08:58:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260022",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing dependencies** from "15820" to "#15820".



---

archive/issue_comments_260023.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b22a570834c8956a40b2441a41fede068bcd112e\">b22a570</a></td><td><code>Initial cythoned version of quiver paths</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1192c211965ea1dcf1fdbaeaec7e68bf61ba265e\">1192c21</a></td><td><code>Allow empty slices; bounded integer sequence -> bool</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef2c812c44c43c925547570ade6233312ebb05d7\">ef2c812</a></td><td><code>Merge branch 'u/SimonKing/ticket/15820' of trac.sagemath.org:sage into t/16453/cythonize_quiver_paths</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54482aa70d4e25ff702f31d2aa32c6d5199d53b6\">54482aa</a></td><td><code>Making cythoned quiver paths work</code></td></tr></table>\n",
    "created_at": "2014-06-09T17:27:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260023",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b22a570834c8956a40b2441a41fede068bcd112e">b22a570</a></td><td><code>Initial cythoned version of quiver paths</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1192c211965ea1dcf1fdbaeaec7e68bf61ba265e">1192c21</a></td><td><code>Allow empty slices; bounded integer sequence -> bool</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef2c812c44c43c925547570ade6233312ebb05d7">ef2c812</a></td><td><code>Merge branch 'u/SimonKing/ticket/15820' of trac.sagemath.org:sage into t/16453/cythonize_quiver_paths</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54482aa70d4e25ff702f31d2aa32c6d5199d53b6">54482aa</a></td><td><code>Making cythoned quiver paths work</code></td></tr></table>




---

archive/issue_comments_260024.json:
```json
{
    "body": "**Changing commit** from \"[ab27a4c315291cd01661407043b8ee51af7c4624](https://github.com/sagemath/sagetrac-mirror/commit/ab27a4c315291cd01661407043b8ee51af7c4624)\" to \"[54482aa70d4e25ff702f31d2aa32c6d5199d53b6](https://github.com/sagemath/sagetrac-mirror/commit/54482aa70d4e25ff702f31d2aa32c6d5199d53b6)\".",
    "created_at": "2014-06-09T17:27:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260024",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ab27a4c315291cd01661407043b8ee51af7c4624](https://github.com/sagemath/sagetrac-mirror/commit/ab27a4c315291cd01661407043b8ee51af7c4624)" to "[54482aa70d4e25ff702f31d2aa32c6d5199d53b6](https://github.com/sagemath/sagetrac-mirror/commit/54482aa70d4e25ff702f31d2aa32c6d5199d53b6)".



---

archive/issue_comments_260025.json:
```json
{
    "body": "<a id='comment:5'></a>\nI have provided a cythoned version of quiver paths (i.e., elements of path semigroups), based on the bounded integer sequences of #15820. All tests pass, so, needs review.\n\nI didn't do timings yet. And hopefully it is ok that I slightly changed the syntax to create a path:\n\n```\n   old                       new\nQ((1,1))                  Q([(1,1)])\nQ([(1,2,'a'), (2,3,'b')]  Q(['a','b'])  # old syntax still works\nQ((1,2,'a'))              Q([(1,2,'a')]) or Q('a')\n```",
    "created_at": "2014-06-09T17:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260025",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:5'></a>
I have provided a cythoned version of quiver paths (i.e., elements of path semigroups), based on the bounded integer sequences of #15820. All tests pass, so, needs review.

I didn't do timings yet. And hopefully it is ok that I slightly changed the syntax to create a path:

```
   old                       new
Q((1,1))                  Q([(1,1)])
Q([(1,2,'a'), (2,3,'b')]  Q(['a','b'])  # old syntax still works
Q((1,2,'a'))              Q([(1,2,'a')]) or Q('a')
```



---

archive/issue_comments_260026.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2014-06-09T17:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260026",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_260027.json:
```json
{
    "body": "**Author:** Simon King",
    "created_at": "2014-06-09T17:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260027",
    "user": "https://github.com/simon-king-jena"
}
```

**Author:** Simon King



---

archive/issue_comments_260028.json:
```json
{
    "body": "<a id='comment:7'></a>\nI think I should also provide something like a gcd for paths. This is likely to be implemented as a function in sage.misc.bounded_integer_sequences computing the largest overlap between two sequences S1, S2, i.e.: `largest_overlap(S1,S2)` is the smallest number `i` such that S2 starts with `S1[i:]`. This is something that will obviously be relevant when implementing Gr\u00f6bner bases for path algebras.",
    "created_at": "2014-06-11T10:04:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260028",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:7'></a>
I think I should also provide something like a gcd for paths. This is likely to be implemented as a function in sage.misc.bounded_integer_sequences computing the largest overlap between two sequences S1, S2, i.e.: `largest_overlap(S1,S2)` is the smallest number `i` such that S2 starts with `S1[i:]`. This is something that will obviously be relevant when implementing Gröbner bases for path algebras.



---

archive/issue_comments_260029.json:
```json
{
    "body": "**Changing commit** from \"[54482aa70d4e25ff702f31d2aa32c6d5199d53b6](https://github.com/sagemath/sagetrac-mirror/commit/54482aa70d4e25ff702f31d2aa32c6d5199d53b6)\" to \"[7964292f07b816bc1fa8bc31e6b59c04f383ac54](https://github.com/sagemath/sagetrac-mirror/commit/7964292f07b816bc1fa8bc31e6b59c04f383ac54)\".",
    "created_at": "2014-06-11T15:22:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260029",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[54482aa70d4e25ff702f31d2aa32c6d5199d53b6](https://github.com/sagemath/sagetrac-mirror/commit/54482aa70d4e25ff702f31d2aa32c6d5199d53b6)" to "[7964292f07b816bc1fa8bc31e6b59c04f383ac54](https://github.com/sagemath/sagetrac-mirror/commit/7964292f07b816bc1fa8bc31e6b59c04f383ac54)".



---

archive/issue_comments_260030.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff4477a1600b44031c2fb962ff3c5ab24c110410\">ff4477a</a></td><td><code>Remove biseq_to_str. Add max_overlap. Fix boundary violations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/080eb8274173a07d3e7cc90eefb8f317a076c362\">080eb82</a></td><td><code>Merge branch 'ticket/15820' into t/16453/cythonize_quiver_paths</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7964292f07b816bc1fa8bc31e6b59c04f383ac54\">7964292</a></td><td><code>Implement \"gcd\" for quiver paths</code></td></tr></table>\n",
    "created_at": "2014-06-11T15:22:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260030",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff4477a1600b44031c2fb962ff3c5ab24c110410">ff4477a</a></td><td><code>Remove biseq_to_str. Add max_overlap. Fix boundary violations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/080eb8274173a07d3e7cc90eefb8f317a076c362">080eb82</a></td><td><code>Merge branch 'ticket/15820' into t/16453/cythonize_quiver_paths</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7964292f07b816bc1fa8bc31e6b59c04f383ac54">7964292</a></td><td><code>Implement "gcd" for quiver paths</code></td></tr></table>




---

archive/issue_comments_260031.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe \"largest overlap\" was implemented in the latest commit of #15820. Here, I use it for \"greatest common divisor\" of paths P1, P2. This returns a triple C1, G, C2, so that G is of maximal length with the property `P1=C1*G` and `P2=G*C2`. Still needing review...",
    "created_at": "2014-06-11T15:25:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260031",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:9'></a>
The "largest overlap" was implemented in the latest commit of #15820. Here, I use it for "greatest common divisor" of paths P1, P2. This returns a triple C1, G, C2, so that G is of maximal length with the property `P1=C1*G` and `P2=G*C2`. Still needing review...



---

archive/issue_comments_260032.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c82764117398eff2a4d678a7b830b4b08b134176\">c827641</a></td><td><code>Provide Cython headers for quiver paths</code></td></tr></table>\n",
    "created_at": "2014-06-20T14:11:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260032",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c82764117398eff2a4d678a7b830b4b08b134176">c827641</a></td><td><code>Provide Cython headers for quiver paths</code></td></tr></table>




---

archive/issue_comments_260033.json:
```json
{
    "body": "**Changing commit** from \"[7964292f07b816bc1fa8bc31e6b59c04f383ac54](https://github.com/sagemath/sagetrac-mirror/commit/7964292f07b816bc1fa8bc31e6b59c04f383ac54)\" to \"[c82764117398eff2a4d678a7b830b4b08b134176](https://github.com/sagemath/sagetrac-mirror/commit/c82764117398eff2a4d678a7b830b4b08b134176)\".",
    "created_at": "2014-06-20T14:11:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260033",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7964292f07b816bc1fa8bc31e6b59c04f383ac54](https://github.com/sagemath/sagetrac-mirror/commit/7964292f07b816bc1fa8bc31e6b59c04f383ac54)" to "[c82764117398eff2a4d678a7b830b4b08b134176](https://github.com/sagemath/sagetrac-mirror/commit/c82764117398eff2a4d678a7b830b4b08b134176)".



---

archive/issue_comments_260034.json:
```json
{
    "body": "<a id='comment:11'></a>\nIn follow-up tickets, I will probably need to cimport quiver paths. Hence, I added a Cython header.",
    "created_at": "2014-06-20T14:13:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260034",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:11'></a>
In follow-up tickets, I will probably need to cimport quiver paths. Hence, I added a Cython header.



---

archive/issue_comments_260035.json:
```json
{
    "body": "**Changing commit** from \"[c82764117398eff2a4d678a7b830b4b08b134176](https://github.com/sagemath/sagetrac-mirror/commit/c82764117398eff2a4d678a7b830b4b08b134176)\" to \"[7414f89322df1772109f7b412c357d56c209812a](https://github.com/sagemath/sagetrac-mirror/commit/7414f89322df1772109f7b412c357d56c209812a)\".",
    "created_at": "2014-07-22T11:49:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260035",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c82764117398eff2a4d678a7b830b4b08b134176](https://github.com/sagemath/sagetrac-mirror/commit/c82764117398eff2a4d678a7b830b4b08b134176)" to "[7414f89322df1772109f7b412c357d56c209812a](https://github.com/sagemath/sagetrac-mirror/commit/7414f89322df1772109f7b412c357d56c209812a)".



---

archive/issue_comments_260036.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd1675d01a5d5ef78f6bbd204ecc4a6b08fb46b4\">fd1675d</a></td><td><code>Merge branch 'develop' into t/15820/ticket/15820</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93546db866564a80d80df30de48934697e2b0d1d\">93546db</a></td><td><code>Fix subsequence containment test.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4708952937e6a75b71be370fee913ab527ccc4b1\">4708952</a></td><td><code>Initial cythoned version of quiver paths</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a1f36e8162c3edf9390e5a6decc308ce403b9b9\">7a1f36e</a></td><td><code>Making cythoned quiver paths work</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d083c55403f3543f465fa257fcf40bb048dfc23f\">d083c55</a></td><td><code>Implement \"gcd\" for quiver paths</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7414f89322df1772109f7b412c357d56c209812a\">7414f89</a></td><td><code>Provide Cython headers for quiver paths</code></td></tr></table>\n",
    "created_at": "2014-07-22T11:49:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260036",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd1675d01a5d5ef78f6bbd204ecc4a6b08fb46b4">fd1675d</a></td><td><code>Merge branch 'develop' into t/15820/ticket/15820</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93546db866564a80d80df30de48934697e2b0d1d">93546db</a></td><td><code>Fix subsequence containment test.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4708952937e6a75b71be370fee913ab527ccc4b1">4708952</a></td><td><code>Initial cythoned version of quiver paths</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a1f36e8162c3edf9390e5a6decc308ce403b9b9">7a1f36e</a></td><td><code>Making cythoned quiver paths work</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d083c55403f3543f465fa257fcf40bb048dfc23f">d083c55</a></td><td><code>Implement "gcd" for quiver paths</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7414f89322df1772109f7b412c357d56c209812a">7414f89</a></td><td><code>Provide Cython headers for quiver paths</code></td></tr></table>




---

archive/issue_comments_260037.json:
```json
{
    "body": "<a id='comment:13'></a>\nIn the outspoken expectation that nobody except myself has used the branch from this ticket, I took the liberty to rebase it on top of the latest fix at #15820. So, this is a forced push.\n\nI suppose it still needs review.",
    "created_at": "2014-07-22T11:50:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260037",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:13'></a>
In the outspoken expectation that nobody except myself has used the branch from this ticket, I took the liberty to rebase it on top of the latest fix at #15820. So, this is a forced push.

I suppose it still needs review.



---

archive/issue_events_054622.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16453#event-54622"
}
```



---

archive/issue_comments_260038.json:
```json
{
    "body": "**Work_Issues:** merge new version of #15820",
    "created_at": "2014-09-04T15:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260038",
    "user": "https://github.com/simon-king-jena"
}
```

**Work_Issues:** merge new version of #15820



---

archive/issue_comments_260039.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2014-09-04T15:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260039",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_260040.json:
```json
{
    "body": "<a id='comment:16'></a>\nWow. This will be quite some work. By simply merging the new commits and doing the appropriate changes to cope with the changed API of \"bounded integer sequences\", I get some crashes and failures.",
    "created_at": "2014-09-04T16:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260040",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:16'></a>
Wow. This will be quite some work. By simply merging the new commits and doing the appropriate changes to cope with the changed API of "bounded integer sequences", I get some crashes and failures.



---

archive/issue_comments_260041.json:
```json
{
    "body": "**Changing commit** from \"[7414f89322df1772109f7b412c357d56c209812a](https://github.com/sagemath/sagetrac-mirror/commit/7414f89322df1772109f7b412c357d56c209812a)\" to \"[2d6938879da7e85b4caaaa52f9cf62e6756fadfc](https://github.com/sagemath/sagetrac-mirror/commit/2d6938879da7e85b4caaaa52f9cf62e6756fadfc)\".",
    "created_at": "2014-09-04T22:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260041",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7414f89322df1772109f7b412c357d56c209812a](https://github.com/sagemath/sagetrac-mirror/commit/7414f89322df1772109f7b412c357d56c209812a)" to "[2d6938879da7e85b4caaaa52f9cf62e6756fadfc](https://github.com/sagemath/sagetrac-mirror/commit/2d6938879da7e85b4caaaa52f9cf62e6756fadfc)".



---

archive/issue_comments_260042.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b2f7138142f6672beb43ee77d187393e5405a21\">3b2f713</a></td><td><code>Merge branch 'develop' into t/15820/ticket/15820</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c69c67ccf3093a3c947ebbe83d5224daf695c3f9\">c69c67c</a></td><td><code>Use a bitmask when slicing bounded integer sequences</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b331dc4f12e7291e9537f607ed155085cabc3fcd\">b331dc4</a></td><td><code>Fix mem leak converting zero-valued biseq_t to list</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b53dc82d032d5a787e10731938f9048b620031b\">7b53dc8</a></td><td><code>Try to improve memory management for biseq_t, and add a stress test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c9f0f28529af66a5c0a00a8c0116ed02ac58f5a\">7c9f0f2</a></td><td><code>Biseq refactored, so that only pointers are passed around.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0aa3cbcfb1be64154ad32a419f250a9c6e52dcf2\">0aa3cbc</a></td><td><code>Fix corner cases in item access for bounded integer sequences</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f20dc096832f260edee2f28b3007bf42263f54ac\">f20dc09</a></td><td><code>Fix writing out of bounds, and assert that the bounds are respected</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23000df880913fb5776d0fec4a88385e31c26a4d\">23000df</a></td><td><code>Merge branch 'u/SimonKing/ticket/15820' of git://trac.sagemath.org/sage into t/16453/cythonize_quiver_paths</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d6938879da7e85b4caaaa52f9cf62e6756fadfc\">2d69388</a></td><td><code>Cope with the recent API changes of #15820.</code></td></tr></table>\n",
    "created_at": "2014-09-04T22:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260042",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b2f7138142f6672beb43ee77d187393e5405a21">3b2f713</a></td><td><code>Merge branch 'develop' into t/15820/ticket/15820</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c69c67ccf3093a3c947ebbe83d5224daf695c3f9">c69c67c</a></td><td><code>Use a bitmask when slicing bounded integer sequences</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b331dc4f12e7291e9537f607ed155085cabc3fcd">b331dc4</a></td><td><code>Fix mem leak converting zero-valued biseq_t to list</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b53dc82d032d5a787e10731938f9048b620031b">7b53dc8</a></td><td><code>Try to improve memory management for biseq_t, and add a stress test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c9f0f28529af66a5c0a00a8c0116ed02ac58f5a">7c9f0f2</a></td><td><code>Biseq refactored, so that only pointers are passed around.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0aa3cbcfb1be64154ad32a419f250a9c6e52dcf2">0aa3cbc</a></td><td><code>Fix corner cases in item access for bounded integer sequences</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f20dc096832f260edee2f28b3007bf42263f54ac">f20dc09</a></td><td><code>Fix writing out of bounds, and assert that the bounds are respected</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23000df880913fb5776d0fec4a88385e31c26a4d">23000df</a></td><td><code>Merge branch 'u/SimonKing/ticket/15820' of git://trac.sagemath.org/sage into t/16453/cythonize_quiver_paths</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d6938879da7e85b4caaaa52f9cf62e6756fadfc">2d69388</a></td><td><code>Cope with the recent API changes of #15820.</code></td></tr></table>




---

archive/issue_comments_260043.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2014-09-04T22:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260043",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_260044.json:
```json
{
    "body": "**Changing work_issues** from \"merge new version of #15820\" to \"\".",
    "created_at": "2014-09-04T22:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260044",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing work_issues** from "merge new version of #15820" to "".



---

archive/issue_comments_260045.json:
```json
{
    "body": "<a id='comment:18'></a>\nAfter all, it was easy to cope with the changes of #15820. All tests pass, needs review!!",
    "created_at": "2014-09-04T22:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260045",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:18'></a>
After all, it was easy to cope with the changes of #15820. All tests pass, needs review!!



---

archive/issue_comments_260046.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2f4a64482aa904fdbd01740845eda8d83b621b6\">e2f4a64</a></td><td><code>Count paths in quivers, in terms of generating functions</code></td></tr></table>\n",
    "created_at": "2014-09-15T14:41:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260046",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2f4a64482aa904fdbd01740845eda8d83b621b6">e2f4a64</a></td><td><code>Count paths in quivers, in terms of generating functions</code></td></tr></table>




---

archive/issue_comments_260047.json:
```json
{
    "body": "**Changing commit** from \"[2d6938879da7e85b4caaaa52f9cf62e6756fadfc](https://github.com/sagemath/sagetrac-mirror/commit/2d6938879da7e85b4caaaa52f9cf62e6756fadfc)\" to \"[e2f4a64482aa904fdbd01740845eda8d83b621b6](https://github.com/sagemath/sagetrac-mirror/commit/e2f4a64482aa904fdbd01740845eda8d83b621b6)\".",
    "created_at": "2014-09-15T14:41:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260047",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2d6938879da7e85b4caaaa52f9cf62e6756fadfc](https://github.com/sagemath/sagetrac-mirror/commit/2d6938879da7e85b4caaaa52f9cf62e6756fadfc)" to "[e2f4a64482aa904fdbd01740845eda8d83b621b6](https://github.com/sagemath/sagetrac-mirror/commit/e2f4a64482aa904fdbd01740845eda8d83b621b6)".



---

archive/issue_comments_260048.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d665747aa2972c496c7a37bf0ab11d19d981b823\">d665747</a></td><td><code>Fix a typo in the doc</code></td></tr></table>\n",
    "created_at": "2014-09-15T14:44:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260048",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d665747aa2972c496c7a37bf0ab11d19d981b823">d665747</a></td><td><code>Fix a typo in the doc</code></td></tr></table>




---

archive/issue_comments_260049.json:
```json
{
    "body": "**Changing commit** from \"[e2f4a64482aa904fdbd01740845eda8d83b621b6](https://github.com/sagemath/sagetrac-mirror/commit/e2f4a64482aa904fdbd01740845eda8d83b621b6)\" to \"[d665747aa2972c496c7a37bf0ab11d19d981b823](https://github.com/sagemath/sagetrac-mirror/commit/d665747aa2972c496c7a37bf0ab11d19d981b823)\".",
    "created_at": "2014-09-15T14:44:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260049",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e2f4a64482aa904fdbd01740845eda8d83b621b6](https://github.com/sagemath/sagetrac-mirror/commit/e2f4a64482aa904fdbd01740845eda8d83b621b6)" to "[d665747aa2972c496c7a37bf0ab11d19d981b823](https://github.com/sagemath/sagetrac-mirror/commit/d665747aa2972c496c7a37bf0ab11d19d981b823)".



---

archive/issue_comments_260050.json:
```json
{
    "body": "<a id='comment:21'></a>\nI added a new feature: Counting of paths (in terms of generating functions), for arbitrary quivers. Needs review...\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d665747aa2972c496c7a37bf0ab11d19d981b823\">d665747</a></td><td><code>Fix a typo in the doc</code></td></tr></table>\n",
    "created_at": "2014-09-15T14:45:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260050",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:21'></a>
I added a new feature: Counting of paths (in terms of generating functions), for arbitrary quivers. Needs review...

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d665747aa2972c496c7a37bf0ab11d19d981b823">d665747</a></td><td><code>Fix a typo in the doc</code></td></tr></table>




---

archive/issue_comments_260051.json:
```json
{
    "body": "**Changing commit** from \"[d665747aa2972c496c7a37bf0ab11d19d981b823](https://github.com/sagemath/sagetrac-mirror/commit/d665747aa2972c496c7a37bf0ab11d19d981b823)\" to \"[26f00294c17be63b9faa7268cd517b0e430223e3](https://github.com/sagemath/sagetrac-mirror/commit/26f00294c17be63b9faa7268cd517b0e430223e3)\".",
    "created_at": "2014-09-15T14:55:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260051",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d665747aa2972c496c7a37bf0ab11d19d981b823](https://github.com/sagemath/sagetrac-mirror/commit/d665747aa2972c496c7a37bf0ab11d19d981b823)" to "[26f00294c17be63b9faa7268cd517b0e430223e3](https://github.com/sagemath/sagetrac-mirror/commit/26f00294c17be63b9faa7268cd517b0e430223e3)".



---

archive/issue_comments_260052.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26f00294c17be63b9faa7268cd517b0e430223e3\">26f0029</a></td><td><code>Fix further doc typos and the wording in a comment</code></td></tr></table>\n",
    "created_at": "2014-09-15T14:55:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26f00294c17be63b9faa7268cd517b0e430223e3">26f0029</a></td><td><code>Fix further doc typos and the wording in a comment</code></td></tr></table>




---

archive/issue_comments_260053.json:
```json
{
    "body": "<a id='comment:23'></a>\nHow can I obtain the letter `\u00e9` in `Poincar\u00e9` in the docs? I thought that `\\\\'e` would work---isn't latex used for typesetting? Apart from this minor detail, I think the code is fine.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26f00294c17be63b9faa7268cd517b0e430223e3\">26f0029</a></td><td><code>Fix further doc typos and the wording in a comment</code></td></tr></table>\n",
    "created_at": "2014-09-15T14:57:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260053",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:23'></a>
How can I obtain the letter `é` in `Poincaré` in the docs? I thought that `\\'e` would work---isn't latex used for typesetting? Apart from this minor detail, I think the code is fine.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26f00294c17be63b9faa7268cd517b0e430223e3">26f0029</a></td><td><code>Fix further doc typos and the wording in a comment</code></td></tr></table>




---

archive/issue_comments_260054.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [SimonKing](#comment%3A23):\n> How can I obtain the letter `\u00e9` in `Poincar\u00e9` in the docs? I thought that `\\\\'e` would work---isn't latex used for typesetting? \n\n\nYes, but only for typesetting math stuff. I would just insert the character directly in unicode, and add the usual header to the file:\n\n```\n## -*- encoding: utf-8 -*-\n```",
    "created_at": "2014-09-15T15:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260054",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:24'></a>
Replying to [SimonKing](#comment%3A23):
> How can I obtain the letter `é` in `Poincaré` in the docs? I thought that `\\'e` would work---isn't latex used for typesetting? 


Yes, but only for typesetting math stuff. I would just insert the character directly in unicode, and add the usual header to the file:

```
## -*- encoding: utf-8 -*-
```



---

archive/issue_comments_260055.json:
```json
{
    "body": "**Changing commit** from \"[26f00294c17be63b9faa7268cd517b0e430223e3](https://github.com/sagemath/sagetrac-mirror/commit/26f00294c17be63b9faa7268cd517b0e430223e3)\" to \"[f60c7c1e2dafa1930ef23319d8d3917003ad7c9a](https://github.com/sagemath/sagetrac-mirror/commit/f60c7c1e2dafa1930ef23319d8d3917003ad7c9a)\".",
    "created_at": "2014-09-15T20:00:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260055",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[26f00294c17be63b9faa7268cd517b0e430223e3](https://github.com/sagemath/sagetrac-mirror/commit/26f00294c17be63b9faa7268cd517b0e430223e3)" to "[f60c7c1e2dafa1930ef23319d8d3917003ad7c9a](https://github.com/sagemath/sagetrac-mirror/commit/f60c7c1e2dafa1930ef23319d8d3917003ad7c9a)".



---

archive/issue_comments_260056.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f60c7c1e2dafa1930ef23319d8d3917003ad7c9a\">f60c7c1</a></td><td><code>Fix utf-8 characters</code></td></tr></table>\n",
    "created_at": "2014-09-15T20:00:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260056",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f60c7c1e2dafa1930ef23319d8d3917003ad7c9a">f60c7c1</a></td><td><code>Fix utf-8 characters</code></td></tr></table>




---

archive/issue_comments_260057.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2014-09-16T10:37:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260057",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_260058.json:
```json
{
    "body": "<a id='comment:26'></a>\nNeeds work. I just found the following totally wrong answer of `poincare_series()`:\n\n```\nsage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup()\nsage: S.inject_variables()\nDefining e_0, e_1, e_2, a, b, c, d, e, f\nsage: S.poincare_series((e*b, b*f, f*f, c*a, d*c, a*d, f*e, d*d*d*d, a*c*b*e, c*b*e*a*c, b*e*a*c*b))[0,0]\n(948568795032094272909893509191171341133987714380927500611236528192824358010355712*t^6 - 474284397516047136454946754595585670566993857190463750305618264096412179005177856*t^5 + 1422853192548141409364840263786757011700981571571391250916854792289236537015533568*t^4 - 1422853192548141409364840263786757011700981571571391250916854792289236537015533568*t^3 + 1897137590064188545819787018382342682267975428761855001222473056385648716020711424*t^2 - 948568795032094272909893509191171341133987714380927500611236528192824358010355712*t + 474284397516047136454946754595585670566993857190463750305618264096412179005177856)/(-474284397516047136454946754595585670566993857190463750305618264096412179005177856*t^11 + 1422853192548141409364840263786757011700981571571391250916854792289236537015533568*t^10 - 1897137590064188545819787018382342682267975428761855001222473056385648716020711424*t^9 + 3319990782612329955184627282169099693968957000333246252139327848674885253036244992*t^8 - 2371421987580235682274733772977928352834969285952318751528091320482060895025889280*t^7 + 1897137590064188545819787018382342682267975428761855001222473056385648716020711424*t^6 + 2371421987580235682274733772977928352834969285952318751528091320482060895025889280*t^5 - 2371421987580235682274733772977928352834969285952318751528091320482060895025889280*t^4 + 1422853192548141409364840263786757011700981571571391250916854792289236537015533568*t^3 + 948568795032094272909893509191171341133987714380927500611236528192824358010355712*t^2 - 948568795032094272909893509191171341133987714380927500611236528192824358010355712*t + 474284397516047136454946754595585670566993857190463750305618264096412179005177856)\n```\nThe correct answer would be a polynomil (what we have here is obtained from the principal 2-block of Mathieu group M11, which is finite). And the constant coefficient should just be 1 (since there is precisely one path of length zero from vertex 0 to vertex 0). I need to check the underlying maths, probably I got something wrong there.",
    "created_at": "2014-09-16T10:37:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260058",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:26'></a>
Needs work. I just found the following totally wrong answer of `poincare_series()`:

```
sage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup()
sage: S.inject_variables()
Defining e_0, e_1, e_2, a, b, c, d, e, f
sage: S.poincare_series((e*b, b*f, f*f, c*a, d*c, a*d, f*e, d*d*d*d, a*c*b*e, c*b*e*a*c, b*e*a*c*b))[0,0]
(948568795032094272909893509191171341133987714380927500611236528192824358010355712*t^6 - 474284397516047136454946754595585670566993857190463750305618264096412179005177856*t^5 + 1422853192548141409364840263786757011700981571571391250916854792289236537015533568*t^4 - 1422853192548141409364840263786757011700981571571391250916854792289236537015533568*t^3 + 1897137590064188545819787018382342682267975428761855001222473056385648716020711424*t^2 - 948568795032094272909893509191171341133987714380927500611236528192824358010355712*t + 474284397516047136454946754595585670566993857190463750305618264096412179005177856)/(-474284397516047136454946754595585670566993857190463750305618264096412179005177856*t^11 + 1422853192548141409364840263786757011700981571571391250916854792289236537015533568*t^10 - 1897137590064188545819787018382342682267975428761855001222473056385648716020711424*t^9 + 3319990782612329955184627282169099693968957000333246252139327848674885253036244992*t^8 - 2371421987580235682274733772977928352834969285952318751528091320482060895025889280*t^7 + 1897137590064188545819787018382342682267975428761855001222473056385648716020711424*t^6 + 2371421987580235682274733772977928352834969285952318751528091320482060895025889280*t^5 - 2371421987580235682274733772977928352834969285952318751528091320482060895025889280*t^4 + 1422853192548141409364840263786757011700981571571391250916854792289236537015533568*t^3 + 948568795032094272909893509191171341133987714380927500611236528192824358010355712*t^2 - 948568795032094272909893509191171341133987714380927500611236528192824358010355712*t + 474284397516047136454946754595585670566993857190463750305618264096412179005177856)
```
The correct answer would be a polynomil (what we have here is obtained from the principal 2-block of Mathieu group M11, which is finite). And the constant coefficient should just be 1 (since there is precisely one path of length zero from vertex 0 to vertex 0). I need to check the underlying maths, probably I got something wrong there.



---

archive/issue_comments_260059.json:
```json
{
    "body": "<a id='comment:27'></a>\nMy counting formula is wrong, but in addition to that there seems to be a problem with quotient fields of rational polynomial rings. This shall be tracked in a different ticket, of course:\n\n```\nsage: P.<t> = QQ[]\nsage: p = 4/(-4*t)\nsage: p   # OK, fractions are not automatically reduced\n4/(-4*t)\nsage: p.reduce()\nsage: p   # What the heck...\n4/(-4*t)\nsage: p == -1/t   # At least sage gets this right\nTrue\n```",
    "created_at": "2014-09-16T12:45:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260059",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:27'></a>
My counting formula is wrong, but in addition to that there seems to be a problem with quotient fields of rational polynomial rings. This shall be tracked in a different ticket, of course:

```
sage: P.<t> = QQ[]
sage: p = 4/(-4*t)
sage: p   # OK, fractions are not automatically reduced
4/(-4*t)
sage: p.reduce()
sage: p   # What the heck...
4/(-4*t)
sage: p == -1/t   # At least sage gets this right
True
```



---

archive/issue_comments_260060.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [SimonKing](#comment%3A27):\n> My counting formula is wrong, but in addition to that there seems to be a problem with quotient fields of rational polynomial rings. This shall be tracked in a different ticket, of course:\n> \n> ```\n> sage: P.<t> = QQ[]\n> sage: p = 4/(-4*t)\n> sage: p   # OK, fractions are not automatically reduced\n> 4/(-4*t)\n> sage: p.reduce()\n> sage: p   # What the heck...\n> 4/(-4*t)\n> sage: p == -1/t   # At least sage gets this right\n> True\n> ```\n\n\nIt's not completely unreasonable: in a field, the gcd of two elements can be arguably always set to 1. This is not what Sage does, but that's presumably Singular's choice.\n\n```\n    sage: gcd(4/1, 4/1)\n    4\n```\n\nI don't know if it helps, but if you do the same calculation over ZZ, you get the desired result.",
    "created_at": "2014-09-16T14:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260060",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:28'></a>
Replying to [SimonKing](#comment%3A27):
> My counting formula is wrong, but in addition to that there seems to be a problem with quotient fields of rational polynomial rings. This shall be tracked in a different ticket, of course:
> 
> ```
> sage: P.<t> = QQ[]
> sage: p = 4/(-4*t)
> sage: p   # OK, fractions are not automatically reduced
> 4/(-4*t)
> sage: p.reduce()
> sage: p   # What the heck...
> 4/(-4*t)
> sage: p == -1/t   # At least sage gets this right
> True
> ```


It's not completely unreasonable: in a field, the gcd of two elements can be arguably always set to 1. This is not what Sage does, but that's presumably Singular's choice.

```
    sage: gcd(4/1, 4/1)
    4
```

I don't know if it helps, but if you do the same calculation over ZZ, you get the desired result.



---

archive/issue_comments_260061.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [nthiery](#comment%3A28):\n> I don't know if it helps, but if you do the same calculation over ZZ, you get the desired result.\n\n\nIt helps to get a nicer normalisation. However, the main problem is that my formula is plain wrong.",
    "created_at": "2014-09-16T22:31:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260061",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:29'></a>
Replying to [nthiery](#comment%3A28):
> I don't know if it helps, but if you do the same calculation over ZZ, you get the desired result.


It helps to get a nicer normalisation. However, the main problem is that my formula is plain wrong.



---

archive/issue_comments_260062.json:
```json
{
    "body": "<a id='comment:30'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a82bc32f098849223ef7a41e916a3323031264f\">9a82bc3</a></td><td><code>Remove broken relative path counting</code></td></tr></table>\n",
    "created_at": "2014-09-28T14:29:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260062",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a82bc32f098849223ef7a41e916a3323031264f">9a82bc3</a></td><td><code>Remove broken relative path counting</code></td></tr></table>




---

archive/issue_comments_260063.json:
```json
{
    "body": "**Changing commit** from \"[f60c7c1e2dafa1930ef23319d8d3917003ad7c9a](https://github.com/sagemath/sagetrac-mirror/commit/f60c7c1e2dafa1930ef23319d8d3917003ad7c9a)\" to \"[9a82bc32f098849223ef7a41e916a3323031264f](https://github.com/sagemath/sagetrac-mirror/commit/9a82bc32f098849223ef7a41e916a3323031264f)\".",
    "created_at": "2014-09-28T14:29:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260063",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f60c7c1e2dafa1930ef23319d8d3917003ad7c9a](https://github.com/sagemath/sagetrac-mirror/commit/f60c7c1e2dafa1930ef23319d8d3917003ad7c9a)" to "[9a82bc32f098849223ef7a41e916a3323031264f](https://github.com/sagemath/sagetrac-mirror/commit/9a82bc32f098849223ef7a41e916a3323031264f)".



---

archive/issue_comments_260064.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2014-09-28T14:35:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260064",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_260065.json:
```json
{
    "body": "<a id='comment:31'></a>\nI gave up path counting. Hence, I preserved the counting of *all* paths (which is correctly implemented), but I removed the function that was supposed to count those paths which do not contain a sub-path out of a finite list. It is broken, and I currently don't know how to fix it. So, better get the working bits into Sage ASAP. Needs review.",
    "created_at": "2014-09-28T14:35:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260065",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:31'></a>
I gave up path counting. Hence, I preserved the counting of *all* paths (which is correctly implemented), but I removed the function that was supposed to count those paths which do not contain a sub-path out of a finite list. It is broken, and I currently don't know how to fix it. So, better get the working bits into Sage ASAP. Needs review.



---

archive/issue_comments_260066.json:
```json
{
    "body": "**Changing commit** from \"[9a82bc32f098849223ef7a41e916a3323031264f](https://github.com/sagemath/sagetrac-mirror/commit/9a82bc32f098849223ef7a41e916a3323031264f)\" to \"[a14a8af78fba9e829b349b37dcc37f57c593a24b](https://github.com/sagemath/sagetrac-mirror/commit/a14a8af78fba9e829b349b37dcc37f57c593a24b)\".",
    "created_at": "2014-10-18T22:27:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260066",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9a82bc32f098849223ef7a41e916a3323031264f](https://github.com/sagemath/sagetrac-mirror/commit/9a82bc32f098849223ef7a41e916a3323031264f)" to "[a14a8af78fba9e829b349b37dcc37f57c593a24b](https://github.com/sagemath/sagetrac-mirror/commit/a14a8af78fba9e829b349b37dcc37f57c593a24b)".



---

archive/issue_comments_260067.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cea38bb0a7d6f748cfc1feef357df5e22eb7b652\">cea38bb</a></td><td><code>Change doc according to the changed functionality of list_to_biseq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4611f8aa591616f118b50ebc2d2516c635e40318\">4611f8a</a></td><td><code>Minor changes in the docs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/815d77c77f48605ea33b87a88120aaabadfb5f7f\">815d77c</a></td><td><code>mpn_r/lshift should only be used with strictly positive shift</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6dfb1cb1c6dc5704e2a8918cf2aeabdd8dbef69a\">6dfb1cb</a></td><td><code>Make contains_biseq interruptible and add to its doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfd7898a1f883c931026f46a526a0ec88bd73db6\">bfd7898</a></td><td><code>Merge branch 'develop' into t/15820/ticket/15820, since apparently the bitset code changed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47c639d55d3c07670b8b52a629f7cf86a8beb7ce\">47c639d</a></td><td><code>Rewrite bounded integer sequences using sage.misc.bitset</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3260e2d9f5bf0483770cc5235c00cd24c4eb310\">e3260e2</a></td><td><code>Typographical improvements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eeb30fb9a193df9572373f33949e03e35bbd20f0\">eeb30fb</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aac3a049805ab29aea8a0d3439c1eadf6605eab1\">aac3a04</a></td><td><code>Fix cornercase in unpickling</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a14a8af78fba9e829b349b37dcc37f57c593a24b\">a14a8af</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths, fixing pickling</code></td></tr></table>\n",
    "created_at": "2014-10-18T22:27:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260067",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cea38bb0a7d6f748cfc1feef357df5e22eb7b652">cea38bb</a></td><td><code>Change doc according to the changed functionality of list_to_biseq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4611f8aa591616f118b50ebc2d2516c635e40318">4611f8a</a></td><td><code>Minor changes in the docs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/815d77c77f48605ea33b87a88120aaabadfb5f7f">815d77c</a></td><td><code>mpn_r/lshift should only be used with strictly positive shift</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6dfb1cb1c6dc5704e2a8918cf2aeabdd8dbef69a">6dfb1cb</a></td><td><code>Make contains_biseq interruptible and add to its doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfd7898a1f883c931026f46a526a0ec88bd73db6">bfd7898</a></td><td><code>Merge branch 'develop' into t/15820/ticket/15820, since apparently the bitset code changed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47c639d55d3c07670b8b52a629f7cf86a8beb7ce">47c639d</a></td><td><code>Rewrite bounded integer sequences using sage.misc.bitset</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3260e2d9f5bf0483770cc5235c00cd24c4eb310">e3260e2</a></td><td><code>Typographical improvements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eeb30fb9a193df9572373f33949e03e35bbd20f0">eeb30fb</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aac3a049805ab29aea8a0d3439c1eadf6605eab1">aac3a04</a></td><td><code>Fix cornercase in unpickling</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a14a8af78fba9e829b349b37dcc37f57c593a24b">a14a8af</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths, fixing pickling</code></td></tr></table>




---

archive/issue_comments_260068.json:
```json
{
    "body": "**Changing commit** from \"[a14a8af78fba9e829b349b37dcc37f57c593a24b](https://github.com/sagemath/sagetrac-mirror/commit/a14a8af78fba9e829b349b37dcc37f57c593a24b)\" to \"[0670dd128ca39eb031d42958c2334c6e6dad2ea9](https://github.com/sagemath/sagetrac-mirror/commit/0670dd128ca39eb031d42958c2334c6e6dad2ea9)\".",
    "created_at": "2014-10-21T14:43:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260068",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a14a8af78fba9e829b349b37dcc37f57c593a24b](https://github.com/sagemath/sagetrac-mirror/commit/a14a8af78fba9e829b349b37dcc37f57c593a24b)" to "[0670dd128ca39eb031d42958c2334c6e6dad2ea9](https://github.com/sagemath/sagetrac-mirror/commit/0670dd128ca39eb031d42958c2334c6e6dad2ea9)".



---

archive/issue_comments_260069.json:
```json
{
    "body": "<a id='comment:33'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b182ba27bdaeb0f066daf1b575db3588b3195f89\">b182ba2</a></td><td><code>Use mpn_l/rshift only with nonzero shift</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f5a53e7b23e406c553d789f83604cd4a7f90655\">1f5a53e</a></td><td><code>Change the naming schemes of functions according to conventions in gmp and bitset</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0670dd128ca39eb031d42958c2334c6e6dad2ea9\">0670dd1</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths</code></td></tr></table>\n",
    "created_at": "2014-10-21T14:43:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260069",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b182ba27bdaeb0f066daf1b575db3588b3195f89">b182ba2</a></td><td><code>Use mpn_l/rshift only with nonzero shift</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f5a53e7b23e406c553d789f83604cd4a7f90655">1f5a53e</a></td><td><code>Change the naming schemes of functions according to conventions in gmp and bitset</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0670dd128ca39eb031d42958c2334c6e6dad2ea9">0670dd1</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths</code></td></tr></table>




---

archive/issue_comments_260070.json:
```json
{
    "body": "**Changing commit** from \"[0670dd128ca39eb031d42958c2334c6e6dad2ea9](https://github.com/sagemath/sagetrac-mirror/commit/0670dd128ca39eb031d42958c2334c6e6dad2ea9)\" to \"[3c682566b4eaa680d34612dfe7526eabc3127482](https://github.com/sagemath/sagetrac-mirror/commit/3c682566b4eaa680d34612dfe7526eabc3127482)\".",
    "created_at": "2014-10-21T22:42:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260070",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0670dd128ca39eb031d42958c2334c6e6dad2ea9](https://github.com/sagemath/sagetrac-mirror/commit/0670dd128ca39eb031d42958c2334c6e6dad2ea9)" to "[3c682566b4eaa680d34612dfe7526eabc3127482](https://github.com/sagemath/sagetrac-mirror/commit/3c682566b4eaa680d34612dfe7526eabc3127482)".



---

archive/issue_comments_260071.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef69d1e6eb30a9551bb45d1e91f6180454d78b86\">ef69d1e</a></td><td><code>Create sage.data_structures, move biseq into it, and amend types in biseq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83be138062f619a237e86650807c44b38eec94e5\">83be138</a></td><td><code>Reword documentation of biseq_s</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c682566b4eaa680d34612dfe7526eabc3127482\">3c68256</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths (changed module location)</code></td></tr></table>\n",
    "created_at": "2014-10-21T22:42:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260071",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef69d1e6eb30a9551bb45d1e91f6180454d78b86">ef69d1e</a></td><td><code>Create sage.data_structures, move biseq into it, and amend types in biseq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83be138062f619a237e86650807c44b38eec94e5">83be138</a></td><td><code>Reword documentation of biseq_s</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c682566b4eaa680d34612dfe7526eabc3127482">3c68256</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths (changed module location)</code></td></tr></table>




---

archive/issue_comments_260072.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c69daf5a4cdbb08f39ca577c9c02bfe483969b9\">8c69daf</a></td><td><code>Upgrade Cython to 0.21.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88e5ecaa30a54cfadbfe4fc1c0ee6d1840041ee8\">88e5eca</a></td><td><code>Merge branch 'ticket/17195' into ticket/15820</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83f8a5648815d7c25eb0c9f9b4bdaf04dd90335e\">83f8a56</a></td><td><code>Relax assumptions for bitset functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ae75a1f8fcfee0f78faf9bb4bb006149b535c45\">3ae75a1</a></td><td><code>Move bitset to sage.data_structures</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a955118f13e91ca6829b9da06172873f13f5b0b\">7a95511</a></td><td><code>Merge branch 'ticket/17196' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23762a31e383d765cbfe6d5bf958d5d592e1513d\">23762a3</a></td><td><code>Import data_structures into global namespace</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4aafd2f8ad2e86693b46735429bc7eb079e0e610\">4aafd2f</a></td><td><code>Merge branch 'ticket/17196' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d22c1ca23727402e376c7f772c2f51b8ed6af1f1\">d22c1ca</a></td><td><code>Lots of fixes for bounded integer sequences</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41c40cf2c59734e7e665ba9c2350da2930c9cc8e\">41c40cf</a></td><td><code>Don't use mpn_rshift for shifting two limbs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02e0f034770672c4fb254c405dd9bb4bb3d82435\">02e0f03</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths</code></td></tr></table>\n",
    "created_at": "2014-10-23T14:11:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260072",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c69daf5a4cdbb08f39ca577c9c02bfe483969b9">8c69daf</a></td><td><code>Upgrade Cython to 0.21.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88e5ecaa30a54cfadbfe4fc1c0ee6d1840041ee8">88e5eca</a></td><td><code>Merge branch 'ticket/17195' into ticket/15820</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83f8a5648815d7c25eb0c9f9b4bdaf04dd90335e">83f8a56</a></td><td><code>Relax assumptions for bitset functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ae75a1f8fcfee0f78faf9bb4bb006149b535c45">3ae75a1</a></td><td><code>Move bitset to sage.data_structures</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a955118f13e91ca6829b9da06172873f13f5b0b">7a95511</a></td><td><code>Merge branch 'ticket/17196' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23762a31e383d765cbfe6d5bf958d5d592e1513d">23762a3</a></td><td><code>Import data_structures into global namespace</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4aafd2f8ad2e86693b46735429bc7eb079e0e610">4aafd2f</a></td><td><code>Merge branch 'ticket/17196' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d22c1ca23727402e376c7f772c2f51b8ed6af1f1">d22c1ca</a></td><td><code>Lots of fixes for bounded integer sequences</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41c40cf2c59734e7e665ba9c2350da2930c9cc8e">41c40cf</a></td><td><code>Don't use mpn_rshift for shifting two limbs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02e0f034770672c4fb254c405dd9bb4bb3d82435">02e0f03</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths</code></td></tr></table>




---

archive/issue_comments_260073.json:
```json
{
    "body": "**Changing commit** from \"[3c682566b4eaa680d34612dfe7526eabc3127482](https://github.com/sagemath/sagetrac-mirror/commit/3c682566b4eaa680d34612dfe7526eabc3127482)\" to \"[02e0f034770672c4fb254c405dd9bb4bb3d82435](https://github.com/sagemath/sagetrac-mirror/commit/02e0f034770672c4fb254c405dd9bb4bb3d82435)\".",
    "created_at": "2014-10-23T14:11:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260073",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3c682566b4eaa680d34612dfe7526eabc3127482](https://github.com/sagemath/sagetrac-mirror/commit/3c682566b4eaa680d34612dfe7526eabc3127482)" to "[02e0f034770672c4fb254c405dd9bb4bb3d82435](https://github.com/sagemath/sagetrac-mirror/commit/02e0f034770672c4fb254c405dd9bb4bb3d82435)".



---

archive/issue_comments_260074.json:
```json
{
    "body": "<a id='comment:36'></a>\nNote for the reviewer (if there is any...): The previous merges have all been needed because of changed interface or changed import locations. Hence, non-trivial merges.",
    "created_at": "2014-10-23T14:14:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260074",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:36'></a>
Note for the reviewer (if there is any...): The previous merges have all been needed because of changed interface or changed import locations. Hence, non-trivial merges.



---

archive/issue_comments_260075.json:
```json
{
    "body": "**Changing commit** from \"[02e0f034770672c4fb254c405dd9bb4bb3d82435](https://github.com/sagemath/sagetrac-mirror/commit/02e0f034770672c4fb254c405dd9bb4bb3d82435)\" to \"[e0601de052d8bc2cc77ef7c7509de5ca33996f61](https://github.com/sagemath/sagetrac-mirror/commit/e0601de052d8bc2cc77ef7c7509de5ca33996f61)\".",
    "created_at": "2014-10-29T14:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260075",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[02e0f034770672c4fb254c405dd9bb4bb3d82435](https://github.com/sagemath/sagetrac-mirror/commit/02e0f034770672c4fb254c405dd9bb4bb3d82435)" to "[e0601de052d8bc2cc77ef7c7509de5ca33996f61](https://github.com/sagemath/sagetrac-mirror/commit/e0601de052d8bc2cc77ef7c7509de5ca33996f61)".



---

archive/issue_comments_260076.json:
```json
{
    "body": "<a id='comment:37'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d258591bab37466eb6392443ed2e84cf699102c\">7d25859</a></td><td><code>Speed-up for testing bounds</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a10b734c7f81e44bb401c1fec2dc82bd0e98d5e\">8a10b73</a></td><td><code>Use plain size_t, not biseq_item_t</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa7cde09b93359371f236ce6da13bb8f5a947a08\">fa7cde0</a></td><td><code>Use original data in error message</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e03f19d4bc2379e44e0b8adc32c13ac6e0bcabb\">6e03f19</a></td><td><code>Code and speed improvement for biseq containment test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5b066dc218d7fb6e5e13eb19cce4720d4a2d057\">b5b066d</a></td><td><code>Code simplification for biseq_*, bound check for bitset shifts</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/43f78ad50eee7259ab06d5eec1d4cdb03a43f50b\">43f78ad</a></td><td><code>Adding a reference to trac</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a0dd469527c8a4f39d8d891703fcf5feecda9a1\">7a0dd46</a></td><td><code>Some improvements of the doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6723c7e44dbae3118e3dff259fd0e633915b53c9\">6723c7e</a></td><td><code>Fix highest bits of bitsets after fixing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6ef6d5c5faffe4059b1539f00e25dd98b9481c0\">b6ef6d5</a></td><td><code>Rename biseq_slice -> biseq_init_slice</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0601de052d8bc2cc77ef7c7509de5ca33996f61\">e0601de</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths (function renamed)</code></td></tr></table>\n",
    "created_at": "2014-10-29T14:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260076",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d258591bab37466eb6392443ed2e84cf699102c">7d25859</a></td><td><code>Speed-up for testing bounds</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a10b734c7f81e44bb401c1fec2dc82bd0e98d5e">8a10b73</a></td><td><code>Use plain size_t, not biseq_item_t</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa7cde09b93359371f236ce6da13bb8f5a947a08">fa7cde0</a></td><td><code>Use original data in error message</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e03f19d4bc2379e44e0b8adc32c13ac6e0bcabb">6e03f19</a></td><td><code>Code and speed improvement for biseq containment test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5b066dc218d7fb6e5e13eb19cce4720d4a2d057">b5b066d</a></td><td><code>Code simplification for biseq_*, bound check for bitset shifts</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/43f78ad50eee7259ab06d5eec1d4cdb03a43f50b">43f78ad</a></td><td><code>Adding a reference to trac</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a0dd469527c8a4f39d8d891703fcf5feecda9a1">7a0dd46</a></td><td><code>Some improvements of the doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6723c7e44dbae3118e3dff259fd0e633915b53c9">6723c7e</a></td><td><code>Fix highest bits of bitsets after fixing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6ef6d5c5faffe4059b1539f00e25dd98b9481c0">b6ef6d5</a></td><td><code>Rename biseq_slice -> biseq_init_slice</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0601de052d8bc2cc77ef7c7509de5ca33996f61">e0601de</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths (function renamed)</code></td></tr></table>




---

archive/issue_comments_260077.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a6ff878ed2fd6e8a9d37971822b43f992a70cb3\">8a6ff87</a></td><td><code>Merge branch 'develop' into t/16453/cythonize_quiver_paths (conflict in bitset.pxi)</code></td></tr></table>\n",
    "created_at": "2014-11-20T11:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260077",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a6ff878ed2fd6e8a9d37971822b43f992a70cb3">8a6ff87</a></td><td><code>Merge branch 'develop' into t/16453/cythonize_quiver_paths (conflict in bitset.pxi)</code></td></tr></table>




---

archive/issue_comments_260078.json:
```json
{
    "body": "**Changing commit** from \"[e0601de052d8bc2cc77ef7c7509de5ca33996f61](https://github.com/sagemath/sagetrac-mirror/commit/e0601de052d8bc2cc77ef7c7509de5ca33996f61)\" to \"[8a6ff878ed2fd6e8a9d37971822b43f992a70cb3](https://github.com/sagemath/sagetrac-mirror/commit/8a6ff878ed2fd6e8a9d37971822b43f992a70cb3)\".",
    "created_at": "2014-11-20T11:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260078",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e0601de052d8bc2cc77ef7c7509de5ca33996f61](https://github.com/sagemath/sagetrac-mirror/commit/e0601de052d8bc2cc77ef7c7509de5ca33996f61)" to "[8a6ff878ed2fd6e8a9d37971822b43f992a70cb3](https://github.com/sagemath/sagetrac-mirror/commit/8a6ff878ed2fd6e8a9d37971822b43f992a70cb3)".



---

archive/issue_comments_260079.json:
```json
{
    "body": "**Work_Issues:** Fix issue in bounded integer sequences",
    "created_at": "2014-11-20T11:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260079",
    "user": "https://github.com/simon-king-jena"
}
```

**Work_Issues:** Fix issue in bounded integer sequences



---

archive/issue_comments_260080.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2014-11-20T11:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260080",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_260081.json:
```json
{
    "body": "<a id='comment:39'></a>\nAfter resolving the merge conflict, some test of bounded integer sequences fails. Note that it works fine if one just merges `develop` into #15820. So, the problem has apparently been created here, and thus it should be fixed here.",
    "created_at": "2014-11-20T11:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260081",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:39'></a>
After resolving the merge conflict, some test of bounded integer sequences fails. Note that it works fine if one just merges `develop` into #15820. So, the problem has apparently been created here, and thus it should be fixed here.



---

archive/issue_comments_260082.json:
```json
{
    "body": "<a id='comment:40'></a>\nThe corner case\n\n```\n        sage: S = BoundedIntegerSequence(8,[])\n        sage: S\n        <>\n        sage: loads(dumps(S)) == S\n        True\n```\nfails.",
    "created_at": "2014-11-20T11:49:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260082",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:40'></a>
The corner case

```
        sage: S = BoundedIntegerSequence(8,[])
        sage: S
        <>
        sage: loads(dumps(S)) == S
        True
```
fails.



---

archive/issue_comments_260083.json:
```json
{
    "body": "**Changing commit** from \"[8a6ff878ed2fd6e8a9d37971822b43f992a70cb3](https://github.com/sagemath/sagetrac-mirror/commit/8a6ff878ed2fd6e8a9d37971822b43f992a70cb3)\" to \"[e0e2860a8e79c8b970a321929a787f57dc385958](https://github.com/sagemath/sagetrac-mirror/commit/e0e2860a8e79c8b970a321929a787f57dc385958)\".",
    "created_at": "2014-11-20T11:53:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260083",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8a6ff878ed2fd6e8a9d37971822b43f992a70cb3](https://github.com/sagemath/sagetrac-mirror/commit/8a6ff878ed2fd6e8a9d37971822b43f992a70cb3)" to "[e0e2860a8e79c8b970a321929a787f57dc385958](https://github.com/sagemath/sagetrac-mirror/commit/e0e2860a8e79c8b970a321929a787f57dc385958)".



---

archive/issue_comments_260084.json:
```json
{
    "body": "<a id='comment:41'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0e2860a8e79c8b970a321929a787f57dc385958\">e0e2860</a></td><td><code>Fix a corner case of pickling bounded integer sequences</code></td></tr></table>\n",
    "created_at": "2014-11-20T11:53:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260084",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0e2860a8e79c8b970a321929a787f57dc385958">e0e2860</a></td><td><code>Fix a corner case of pickling bounded integer sequences</code></td></tr></table>




---

archive/issue_comments_260085.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2014-11-20T11:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260085",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_260086.json:
```json
{
    "body": "<a id='comment:42'></a>\nFixed.",
    "created_at": "2014-11-20T11:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260086",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:42'></a>
Fixed.



---

archive/issue_comments_260087.json:
```json
{
    "body": "<a id='comment:43'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e5f21754e6c056d71609830729c093ba09b56a6\">7e5f217</a></td><td><code>Reorganize logic of bitset shifts</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0a5c78fc58c86fa830c6223d735a1507b3c434c\">d0a5c78</a></td><td><code>Move bitset_fix() function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c646186f3522ab9bf3210ddc9bd3baf7b1b4664\">0c64618</a></td><td><code>Documentation fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93e64fd518f9088da631e6b4126c740f7722af77\">93e64fd</a></td><td><code>Always raise OverflowError if list item is out of bounds</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/411fe4e04b87e5fdf87e4c3f4052e6747e09eca8\">411fe4e</a></td><td><code>Simplify/fix the logic of some biseq functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf166a67ba74f42f619671129f09028b9c174a1d\">cf166a6</a></td><td><code>Generalise biseq_max_overlap() and rename as biseq_reverse_contains()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8db9f6542a54ead67c1df3d069103b620e85eea6\">8db9f65</a></td><td><code>Various improvements to BoundedIntegerSequence</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/962c67443ad4c60bc000072ae2fbb96389802ab9\">962c674</a></td><td><code>Merge branch 'u/jdemeyer/ticket/15820' of git://trac.sagemath.org/sage into t/15820/ticket/15820</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63d2693eb4915632e3cb806730a4eb56dc26008e\">63d2693</a></td><td><code>More descriptive function name for bounded integer sequences</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af690caf7e23036d521176581bb0a38cefc4e442\">af690ca</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths</code></td></tr></table>\n",
    "created_at": "2014-12-05T08:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260087",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e5f21754e6c056d71609830729c093ba09b56a6">7e5f217</a></td><td><code>Reorganize logic of bitset shifts</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0a5c78fc58c86fa830c6223d735a1507b3c434c">d0a5c78</a></td><td><code>Move bitset_fix() function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c646186f3522ab9bf3210ddc9bd3baf7b1b4664">0c64618</a></td><td><code>Documentation fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93e64fd518f9088da631e6b4126c740f7722af77">93e64fd</a></td><td><code>Always raise OverflowError if list item is out of bounds</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/411fe4e04b87e5fdf87e4c3f4052e6747e09eca8">411fe4e</a></td><td><code>Simplify/fix the logic of some biseq functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf166a67ba74f42f619671129f09028b9c174a1d">cf166a6</a></td><td><code>Generalise biseq_max_overlap() and rename as biseq_reverse_contains()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8db9f6542a54ead67c1df3d069103b620e85eea6">8db9f65</a></td><td><code>Various improvements to BoundedIntegerSequence</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/962c67443ad4c60bc000072ae2fbb96389802ab9">962c674</a></td><td><code>Merge branch 'u/jdemeyer/ticket/15820' of git://trac.sagemath.org/sage into t/15820/ticket/15820</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63d2693eb4915632e3cb806730a4eb56dc26008e">63d2693</a></td><td><code>More descriptive function name for bounded integer sequences</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af690caf7e23036d521176581bb0a38cefc4e442">af690ca</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths</code></td></tr></table>




---

archive/issue_comments_260088.json:
```json
{
    "body": "**Changing commit** from \"[e0e2860a8e79c8b970a321929a787f57dc385958](https://github.com/sagemath/sagetrac-mirror/commit/e0e2860a8e79c8b970a321929a787f57dc385958)\" to \"[af690caf7e23036d521176581bb0a38cefc4e442](https://github.com/sagemath/sagetrac-mirror/commit/af690caf7e23036d521176581bb0a38cefc4e442)\".",
    "created_at": "2014-12-05T08:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260088",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e0e2860a8e79c8b970a321929a787f57dc385958](https://github.com/sagemath/sagetrac-mirror/commit/e0e2860a8e79c8b970a321929a787f57dc385958)" to "[af690caf7e23036d521176581bb0a38cefc4e442](https://github.com/sagemath/sagetrac-mirror/commit/af690caf7e23036d521176581bb0a38cefc4e442)".



---

archive/issue_comments_260089.json:
```json
{
    "body": "<a id='comment:44'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1560ce8dff16ed1fceabcc5656312f718d874211\">1560ce8</a></td><td><code>Rename biseq_reverse_contains as biseq_startswith_tail</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e9e1c51f6524bfa2d2c55d197b82a983dd01184\">4e9e1c5</a></td><td><code>Add interrupt handling to bounded integer sequences</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/126ee26af9339d6d91b735066d184c410f572bbc\">126ee26</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths</code></td></tr></table>\n",
    "created_at": "2014-12-06T14:05:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260089",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1560ce8dff16ed1fceabcc5656312f718d874211">1560ce8</a></td><td><code>Rename biseq_reverse_contains as biseq_startswith_tail</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e9e1c51f6524bfa2d2c55d197b82a983dd01184">4e9e1c5</a></td><td><code>Add interrupt handling to bounded integer sequences</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/126ee26af9339d6d91b735066d184c410f572bbc">126ee26</a></td><td><code>Merge branch 't/15820/ticket/15820' into t/16453/cythonize_quiver_paths</code></td></tr></table>




---

archive/issue_comments_260090.json:
```json
{
    "body": "**Changing commit** from \"[af690caf7e23036d521176581bb0a38cefc4e442](https://github.com/sagemath/sagetrac-mirror/commit/af690caf7e23036d521176581bb0a38cefc4e442)\" to \"[126ee26af9339d6d91b735066d184c410f572bbc](https://github.com/sagemath/sagetrac-mirror/commit/126ee26af9339d6d91b735066d184c410f572bbc)\".",
    "created_at": "2014-12-06T14:05:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260090",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[af690caf7e23036d521176581bb0a38cefc4e442](https://github.com/sagemath/sagetrac-mirror/commit/af690caf7e23036d521176581bb0a38cefc4e442)" to "[126ee26af9339d6d91b735066d184c410f572bbc](https://github.com/sagemath/sagetrac-mirror/commit/126ee26af9339d6d91b735066d184c410f572bbc)".



---

archive/issue_comments_260091.json:
```json
{
    "body": "<a id='comment:45'></a>\nI really don't see how something can be reviewed if a dependency doesn't automatically merge. Thus, the new merge commit. Sorry for git fanatics.",
    "created_at": "2014-12-06T14:26:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260091",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:45'></a>
I really don't see how something can be reviewed if a dependency doesn't automatically merge. Thus, the new merge commit. Sorry for git fanatics.



---

archive/issue_comments_260092.json:
```json
{
    "body": "<a id='comment:46'></a>\nIs this change needed?\n\n```diff\ndiff --git a/src/sage/data_structures/bounded_integer_sequences.pyx b/src/sage/data_structures/bounded_integer_sequences.pyx\nindex 0ff59d8..29868ff 100644\n--- a/src/sage/data_structures/bounded_integer_sequences.pyx\n+++ b/src/sage/data_structures/bounded_integer_sequences.pyx\n@@ -714,7 +714,7 @@ cdef class BoundedIntegerSequence:\n             True\n \n         \"\"\"\n-        return NewBISEQ, (bitset_pickle(self.data.data), self.data.itembitsize, self.data.length)\n+        return NewBISEQ, (bitset_pickle(self.data.data) if self.data.length>0 else (), self.data.itembitsize, self.data.length)\n \n     def __len__(self):\n         \"\"\"\n@@ -1357,7 +1357,7 @@ cpdef BoundedIntegerSequence NewBISEQ(tuple bitset_data, mp_bitcnt_t itembitsize\n     # bitset_unpickle assumes that out.data.data is initialised.\n     biseq_init(out.data, length, itembitsize)\n     sig_on()\n-    bitset_unpickle(out.data.data, bitset_data)\n+    if bitset_data: bitset_unpickle(out.data.data, bitset_data)\n     sig_off()\n     return out\n \n```",
    "created_at": "2014-12-06T14:55:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260092",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:46'></a>
Is this change needed?

```diff
diff --git a/src/sage/data_structures/bounded_integer_sequences.pyx b/src/sage/data_structures/bounded_integer_sequences.pyx
index 0ff59d8..29868ff 100644
--- a/src/sage/data_structures/bounded_integer_sequences.pyx
+++ b/src/sage/data_structures/bounded_integer_sequences.pyx
@@ -714,7 +714,7 @@ cdef class BoundedIntegerSequence:
             True
 
         """
-        return NewBISEQ, (bitset_pickle(self.data.data), self.data.itembitsize, self.data.length)
+        return NewBISEQ, (bitset_pickle(self.data.data) if self.data.length>0 else (), self.data.itembitsize, self.data.length)
 
     def __len__(self):
         """
@@ -1357,7 +1357,7 @@ cpdef BoundedIntegerSequence NewBISEQ(tuple bitset_data, mp_bitcnt_t itembitsize
     # bitset_unpickle assumes that out.data.data is initialised.
     biseq_init(out.data, length, itembitsize)
     sig_on()
-    bitset_unpickle(out.data.data, bitset_data)
+    if bitset_data: bitset_unpickle(out.data.data, bitset_data)
     sig_off()
     return out
 
```



---

archive/issue_comments_260093.json:
```json
{
    "body": "<a id='comment:47'></a>\nWhy so many includes in `src/sage/quivers/paths.pxd`? You should try to limit the includes to what you really need. Otherwise you're adding unneeded dependencies leading to more and slower recompiles. You should add the following change (plus moving some includes which you need in the `.pyx` file to the `.pyx` file)\n\n```diff\ndiff --git a/src/sage/quivers/paths.pxd b/src/sage/quivers/paths.pxd\nindex fd187fc..da7e8fb 100644\n--- a/src/sage/quivers/paths.pxd\n+++ b/src/sage/quivers/paths.pxd\n@@ -1,16 +1,5 @@\n-from sage.structure.element cimport MonoidElement, Element\n-from sage.data_structures.bounded_integer_sequences cimport *\n-from sage.libs.gmp.types cimport *\n-from sage.libs.gmp.mpn cimport mpn_cmp\n-\n-include \"sage/ext/python.pxi\"\n-include \"sage/ext/cdefs.pxi\"\n-include \"sage/ext/stdsage.pxi\"\n-include \"sage/libs/ntl/decl.pxi\"\n-include \"sage/ext/interrupt.pxi\"\n-\n-cdef extern from \"Python.h\":\n-    bint PySlice_Check(PyObject* ob)\n+from sage.structure.element cimport MonoidElement\n+from sage.data_structures.bounded_integer_sequences cimport biseq_t\n \n cdef class QuiverPath(MonoidElement):\n     cdef biseq_t _path\n```",
    "created_at": "2014-12-06T15:04:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260093",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:47'></a>
Why so many includes in `src/sage/quivers/paths.pxd`? You should try to limit the includes to what you really need. Otherwise you're adding unneeded dependencies leading to more and slower recompiles. You should add the following change (plus moving some includes which you need in the `.pyx` file to the `.pyx` file)

```diff
diff --git a/src/sage/quivers/paths.pxd b/src/sage/quivers/paths.pxd
index fd187fc..da7e8fb 100644
--- a/src/sage/quivers/paths.pxd
+++ b/src/sage/quivers/paths.pxd
@@ -1,16 +1,5 @@
-from sage.structure.element cimport MonoidElement, Element
-from sage.data_structures.bounded_integer_sequences cimport *
-from sage.libs.gmp.types cimport *
-from sage.libs.gmp.mpn cimport mpn_cmp
-
-include "sage/ext/python.pxi"
-include "sage/ext/cdefs.pxi"
-include "sage/ext/stdsage.pxi"
-include "sage/libs/ntl/decl.pxi"
-include "sage/ext/interrupt.pxi"
-
-cdef extern from "Python.h":
-    bint PySlice_Check(PyObject* ob)
+from sage.structure.element cimport MonoidElement
+from sage.data_structures.bounded_integer_sequences cimport biseq_t
 
 cdef class QuiverPath(MonoidElement):
     cdef biseq_t _path
```



---

archive/issue_comments_260094.json:
```json
{
    "body": "<a id='comment:48'></a>\nAlso recall that you can `cimport` the `PySlice` functions `from cpython.slice`.",
    "created_at": "2014-12-06T15:05:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260094",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:48'></a>
Also recall that you can `cimport` the `PySlice` functions `from cpython.slice`.



---

archive/issue_comments_260095.json:
```json
{
    "body": "<a id='comment:49'></a>\nI use mpn_cmp and I use several `biseq_*` functions. So, I need to cimport stuff. You are right about the gmp.types and ntl/decl. \n\nAlso I should probably use sig_on (around the raw bitset operations), so, better leave ext/interrupt in.\n\nBut I'll soon provide a commit that reduces the imports.",
    "created_at": "2014-12-06T16:12:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260095",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:49'></a>
I use mpn_cmp and I use several `biseq_*` functions. So, I need to cimport stuff. You are right about the gmp.types and ntl/decl. 

Also I should probably use sig_on (around the raw bitset operations), so, better leave ext/interrupt in.

But I'll soon provide a commit that reduces the imports.



---

archive/issue_comments_260096.json:
```json
{
    "body": "<a id='comment:50'></a>\nReplying to [SimonKing](#comment%3A49):\n> I use mpn_cmp and I use several `biseq_*` functions. So, I need to cimport stuff.\n\nYes, in the `.pyx` file, not the `.pxd` file.",
    "created_at": "2014-12-06T16:14:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260096",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:50'></a>
Replying to [SimonKing](#comment%3A49):
> I use mpn_cmp and I use several `biseq_*` functions. So, I need to cimport stuff.

Yes, in the `.pyx` file, not the `.pxd` file.



---

archive/issue_comments_260097.json:
```json
{
    "body": "<a id='comment:51'></a>\nReplying to [jdemeyer](#comment%3A50):\n> Replying to [SimonKing](#comment%3A49):\n> > I use mpn_cmp and I use several `biseq_*` functions. So, I need to cimport stuff.\n\n> Yes, in the `.pyx` file, not the `.pxd` file.\n\nNot?? I thought that it is one of the jobs of the `.pxd` file to do cimports.",
    "created_at": "2014-12-06T16:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260097",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:51'></a>
Replying to [jdemeyer](#comment%3A50):
> Replying to [SimonKing](#comment%3A49):
> > I use mpn_cmp and I use several `biseq_*` functions. So, I need to cimport stuff.

> Yes, in the `.pyx` file, not the `.pxd` file.

Not?? I thought that it is one of the jobs of the `.pxd` file to do cimports.



---

archive/issue_comments_260098.json:
```json
{
    "body": "<a id='comment:52'></a>\nReplying to [jdemeyer](#comment%3A46):\n> Is this change needed?\n> \n> ```diff\n> diff --git a/src/sage/data_structures/bounded_integer_sequences.pyx b/src/sage/data_structures/bounded_integer_sequences.pyx\n> index 0ff59d8..29868ff 100644\n> --- a/src/sage/data_structures/bounded_integer_sequences.pyx\n> +++ b/src/sage/data_structures/bounded_integer_sequences.pyx\n> @@ -714,7 +714,7 @@ cdef class BoundedIntegerSequence:\n>              True\n>  \n>          \"\"\"\n> -        return NewBISEQ, (bitset_pickle(self.data.data), self.data.itembitsize, self.data.length)\n> +        return NewBISEQ, (bitset_pickle(self.data.data) if self.data.length>0 else (), self.data.itembitsize, self.data.length)\n>  \n>      def __len__(self):\n>          \"\"\"\n> @@ -1357,7 +1357,7 @@ cpdef BoundedIntegerSequence NewBISEQ(tuple bitset_data, mp_bitcnt_t itembitsize\n>      # bitset_unpickle assumes that out.data.data is initialised.\n>      biseq_init(out.data, length, itembitsize)\n>      sig_on()\n> -    bitset_unpickle(out.data.data, bitset_data)\n> +    if bitset_data: bitset_unpickle(out.data.data, bitset_data)\n>      sig_off()\n>      return out\n>  \n> ```\n\n\nAt one point it was needed, and I think I added a test catching it. Perhaps the underlying problem has now been fixed on the level of bounded integer sequences or even on the level of bitsets. I need to check...",
    "created_at": "2014-12-06T16:38:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260098",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:52'></a>
Replying to [jdemeyer](#comment%3A46):
> Is this change needed?
> 
> ```diff
> diff --git a/src/sage/data_structures/bounded_integer_sequences.pyx b/src/sage/data_structures/bounded_integer_sequences.pyx
> index 0ff59d8..29868ff 100644
> --- a/src/sage/data_structures/bounded_integer_sequences.pyx
> +++ b/src/sage/data_structures/bounded_integer_sequences.pyx
> @@ -714,7 +714,7 @@ cdef class BoundedIntegerSequence:
>              True
>  
>          """
> -        return NewBISEQ, (bitset_pickle(self.data.data), self.data.itembitsize, self.data.length)
> +        return NewBISEQ, (bitset_pickle(self.data.data) if self.data.length>0 else (), self.data.itembitsize, self.data.length)
>  
>      def __len__(self):
>          """
> @@ -1357,7 +1357,7 @@ cpdef BoundedIntegerSequence NewBISEQ(tuple bitset_data, mp_bitcnt_t itembitsize
>      # bitset_unpickle assumes that out.data.data is initialised.
>      biseq_init(out.data, length, itembitsize)
>      sig_on()
> -    bitset_unpickle(out.data.data, bitset_data)
> +    if bitset_data: bitset_unpickle(out.data.data, bitset_data)
>      sig_off()
>      return out
>  
> ```


At one point it was needed, and I think I added a test catching it. Perhaps the underlying problem has now been fixed on the level of bounded integer sequences or even on the level of bitsets. I need to check...



---

archive/issue_comments_260099.json:
```json
{
    "body": "<a id='comment:53'></a>\nPS: If it *is* needed, then I guess it should be moved to #15820. However, this would probably mean to change git history, isn't it?",
    "created_at": "2014-12-06T16:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260099",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:53'></a>
PS: If it *is* needed, then I guess it should be moved to #15820. However, this would probably mean to change git history, isn't it?



---

archive/issue_comments_260100.json:
```json
{
    "body": "<a id='comment:54'></a>\nReplying to [SimonKing](#comment%3A51):\n> I thought that it is one of the jobs of the `.pxd` file to do cimports.\n\nNo, think of `.pxd` file like C `.h` files: it is needed for *other* modules to cimport this module: if another module does `from sage.quivers.paths cimport *`, then Cython will use the `paths.pxd` to do this cimport.\n\nThat's also the reason why the `.pxd` files should be minimal: every module which cimports `sage.quivers.paths` will need to look at all the stuff you put in the `paths.pxd` file.",
    "created_at": "2014-12-06T16:45:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260100",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:54'></a>
Replying to [SimonKing](#comment%3A51):
> I thought that it is one of the jobs of the `.pxd` file to do cimports.

No, think of `.pxd` file like C `.h` files: it is needed for *other* modules to cimport this module: if another module does `from sage.quivers.paths cimport *`, then Cython will use the `paths.pxd` to do this cimport.

That's also the reason why the `.pxd` files should be minimal: every module which cimports `sage.quivers.paths` will need to look at all the stuff you put in the `paths.pxd` file.



---

archive/issue_comments_260101.json:
```json
{
    "body": "<a id='comment:55'></a>\nIt turns out that the change to pickling of bounded integer sequences isn't needed. So, I'll remove it.",
    "created_at": "2014-12-06T16:45:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260101",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:55'></a>
It turns out that the change to pickling of bounded integer sequences isn't needed. So, I'll remove it.



---

archive/issue_comments_260102.json:
```json
{
    "body": "**Changing commit** from \"[126ee26af9339d6d91b735066d184c410f572bbc](https://github.com/sagemath/sagetrac-mirror/commit/126ee26af9339d6d91b735066d184c410f572bbc)\" to \"[6a6d913c1720b0310508b938e8688f72d8ed7350](https://github.com/sagemath/sagetrac-mirror/commit/6a6d913c1720b0310508b938e8688f72d8ed7350)\".",
    "created_at": "2014-12-06T17:23:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260102",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[126ee26af9339d6d91b735066d184c410f572bbc](https://github.com/sagemath/sagetrac-mirror/commit/126ee26af9339d6d91b735066d184c410f572bbc)" to "[6a6d913c1720b0310508b938e8688f72d8ed7350](https://github.com/sagemath/sagetrac-mirror/commit/6a6d913c1720b0310508b938e8688f72d8ed7350)".



---

archive/issue_comments_260103.json:
```json
{
    "body": "<a id='comment:56'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a6d913c1720b0310508b938e8688f72d8ed7350\">6a6d913</a></td><td><code>Do less imports in path's pxd file; signal handling in one function</code></td></tr></table>\n",
    "created_at": "2014-12-06T17:23:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260103",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:56'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a6d913c1720b0310508b938e8688f72d8ed7350">6a6d913</a></td><td><code>Do less imports in path's pxd file; signal handling in one function</code></td></tr></table>




---

archive/issue_comments_260104.json:
```json
{
    "body": "<a id='comment:57'></a>\nHope it's better now...",
    "created_at": "2014-12-06T17:24:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260104",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:57'></a>
Hope it's better now...



---

archive/issue_comments_260105.json:
```json
{
    "body": "**Changing commit** from \"[6a6d913c1720b0310508b938e8688f72d8ed7350](https://github.com/sagemath/sagetrac-mirror/commit/6a6d913c1720b0310508b938e8688f72d8ed7350)\" to \"[73b65398410ca968bff08f7d3d1c399a8caaecee](https://github.com/sagemath/sagetrac-mirror/commit/73b65398410ca968bff08f7d3d1c399a8caaecee)\".",
    "created_at": "2014-12-06T17:25:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260105",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6a6d913c1720b0310508b938e8688f72d8ed7350](https://github.com/sagemath/sagetrac-mirror/commit/6a6d913c1720b0310508b938e8688f72d8ed7350)" to "[73b65398410ca968bff08f7d3d1c399a8caaecee](https://github.com/sagemath/sagetrac-mirror/commit/73b65398410ca968bff08f7d3d1c399a8caaecee)".



---

archive/issue_comments_260106.json:
```json
{
    "body": "<a id='comment:58'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73b65398410ca968bff08f7d3d1c399a8caaecee\">73b6539</a></td><td><code>revert a change to pickling of bounded integer sequences</code></td></tr></table>\n",
    "created_at": "2014-12-06T17:25:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260106",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73b65398410ca968bff08f7d3d1c399a8caaecee">73b6539</a></td><td><code>revert a change to pickling of bounded integer sequences</code></td></tr></table>




---

archive/issue_comments_260107.json:
```json
{
    "body": "<a id='comment:59'></a>\nCurrently, I encode paths as a sequence of integers, where each integer uniquely determines an arrow in the quiver: The integers are bounded from above by the number of oriented arrows of the quiver.\n\nThere would be an alternative, sparser encoding as a sequence of integers, if one additionally provides the starting point: Each integer uniquely determines an outgoing arrow at one given vertex. \n\nExample: Assume that the underlying graph is just a cycle formed by 8 edges, and we have one arrow in each direction for each edge. Let x be the starting vertex of arrow 1, and the consecutive arrows in an oriented circle are numbered 1,...,8, and in the opposite circle are numbered 9,...16. Then, to encode the cycle starting at x, we currently present it as `<1,2,3,4,5,6,7,8>` in one and `<9,10,11,12,13,14,15,16>` in the other orientation.\n\nBut with the alternative encoding, we observe that there is exactly two outgoing arrows at each vertex. One directed circle starting at x could just be encoded as `(x, <1,1,1,1,1,1,1,1>)` and the opposite direction as `(x, <2,2,2,2,2,2,2,2>)`.\n\nIn other words, the bounded integer sequence in the current implementation has bound 17, but in the alternative implementation only has bound 3. It require less memory and thus some arithmetic operations might be faster. Detection of a sub-path will be slower, since it involves more work than testing a sub-sequence of a bounded integer sequence.\n\nI am not sure what will be better for my application (computing Gr\u00f6bner bases does involve detection of sub-paths!).\n\nMy strategical question: Can I wait with the decision of what implementation to choose? Should it better be settled right away?\n\nActually, some operations (such as concatenation!) would stay exactly the same as they are now, and also note that currently I store start and end point of a path as cdef attributes of the path anyway. So, it may even be possible to have a parameter to choose the implementation at run time.\n\nWhat do you think of it?",
    "created_at": "2014-12-06T21:32:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260107",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:59'></a>
Currently, I encode paths as a sequence of integers, where each integer uniquely determines an arrow in the quiver: The integers are bounded from above by the number of oriented arrows of the quiver.

There would be an alternative, sparser encoding as a sequence of integers, if one additionally provides the starting point: Each integer uniquely determines an outgoing arrow at one given vertex. 

Example: Assume that the underlying graph is just a cycle formed by 8 edges, and we have one arrow in each direction for each edge. Let x be the starting vertex of arrow 1, and the consecutive arrows in an oriented circle are numbered 1,...,8, and in the opposite circle are numbered 9,...16. Then, to encode the cycle starting at x, we currently present it as `<1,2,3,4,5,6,7,8>` in one and `<9,10,11,12,13,14,15,16>` in the other orientation.

But with the alternative encoding, we observe that there is exactly two outgoing arrows at each vertex. One directed circle starting at x could just be encoded as `(x, <1,1,1,1,1,1,1,1>)` and the opposite direction as `(x, <2,2,2,2,2,2,2,2>)`.

In other words, the bounded integer sequence in the current implementation has bound 17, but in the alternative implementation only has bound 3. It require less memory and thus some arithmetic operations might be faster. Detection of a sub-path will be slower, since it involves more work than testing a sub-sequence of a bounded integer sequence.

I am not sure what will be better for my application (computing Gröbner bases does involve detection of sub-paths!).

My strategical question: Can I wait with the decision of what implementation to choose? Should it better be settled right away?

Actually, some operations (such as concatenation!) would stay exactly the same as they are now, and also note that currently I store start and end point of a path as cdef attributes of the path anyway. So, it may even be possible to have a parameter to choose the implementation at run time.

What do you think of it?



---

archive/issue_comments_260108.json:
```json
{
    "body": "<a id='comment:60'></a>\nI wouldn't worry about the bounds of your integers, I would guess that fast operations are more important. But if you really care, you need to benchmark...",
    "created_at": "2014-12-06T21:50:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260108",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:60'></a>
I wouldn't worry about the bounds of your integers, I would guess that fast operations are more important. But if you really care, you need to benchmark...



---

archive/issue_comments_260109.json:
```json
{
    "body": "**Changing commit** from \"[73b65398410ca968bff08f7d3d1c399a8caaecee](https://github.com/sagemath/sagetrac-mirror/commit/73b65398410ca968bff08f7d3d1c399a8caaecee)\" to \"[73ac68974379d51ff7a4a22aed7539b480668be8](https://github.com/sagemath/sagetrac-mirror/commit/73ac68974379d51ff7a4a22aed7539b480668be8)\".",
    "created_at": "2014-12-08T15:50:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260109",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[73b65398410ca968bff08f7d3d1c399a8caaecee](https://github.com/sagemath/sagetrac-mirror/commit/73b65398410ca968bff08f7d3d1c399a8caaecee)" to "[73ac68974379d51ff7a4a22aed7539b480668be8](https://github.com/sagemath/sagetrac-mirror/commit/73ac68974379d51ff7a4a22aed7539b480668be8)".



---

archive/issue_comments_260110.json:
```json
{
    "body": "<a id='comment:61'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73ac68974379d51ff7a4a22aed7539b480668be8\">73ac689</a></td><td><code>Allow to choose two alternative encodings of paths</code></td></tr></table>\n",
    "created_at": "2014-12-08T15:50:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260110",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73ac68974379d51ff7a4a22aed7539b480668be8">73ac689</a></td><td><code>Allow to choose two alternative encodings of paths</code></td></tr></table>




---

archive/issue_comments_260111.json:
```json
{
    "body": "<a id='comment:62'></a>\nReplying to [jdemeyer](#comment%3A60):\n> I wouldn't worry about the bounds of your integers, I would guess that fast operations are more important.\n\n\nThe point is that the speed of most operations depends on the bound of the integers. And the bound of the integers depends on the encoding.\n\n> But if you really care, you need to benchmark...\n\n\nIn the latest commit, I allow to choose between two implementations. The choice happens when creating a path semigroup. Of course, having two implementations *in a single element class* is not optimal. I did it in this way in order to be able to do some benchmarks. Later, we should either pick a single implementation once and for all, or we should provide two distinct element classes for the two implementations.\n\nNext, I'll try to come up with meaningful benchmarks.",
    "created_at": "2014-12-08T15:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260111",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:62'></a>
Replying to [jdemeyer](#comment%3A60):
> I wouldn't worry about the bounds of your integers, I would guess that fast operations are more important.


The point is that the speed of most operations depends on the bound of the integers. And the bound of the integers depends on the encoding.

> But if you really care, you need to benchmark...


In the latest commit, I allow to choose between two implementations. The choice happens when creating a path semigroup. Of course, having two implementations *in a single element class* is not optimal. I did it in this way in order to be able to do some benchmarks. Later, we should either pick a single implementation once and for all, or we should provide two distinct element classes for the two implementations.

Next, I'll try to come up with meaningful benchmarks.



---

archive/issue_comments_260112.json:
```json
{
    "body": "<a id='comment:63'></a>\nIn my applications, I will likely use paths as dictionary keys, I will multiply them, I will (for two-sided modules) test subpath containment or (for right modules) detect initial segments, and I will extract sub-paths.\n\nThe following benchmark may thus be representative for what is needed for two-sided modules:\n\n```\nsage: def test1(p1,p2):\n....:     D = {}\n....:     for i in range(1,100):\n....:         D[p2^i*p1*p2^i] = i\n....:     q = p2^10*p1*p2^50\n....:     for x in D.keys():\n....:         assert x.has_subpath(q) or D[x] < 50\n....:     q = p2*p1*p2^120\n....:     for x in D.keys():\n....:         assert q.has_initial_segment(x[(D[x]-1)*len(p2):])\n....:         \n```\nLet's apply this to the dense encoding:\n\n```\nsage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup()\nsage: S.inject_variables()\nDefining e_0, e_1, e_2, a, b, c, d, e, f\nsage: p1 = a*d*c*b*f*e\nsage: p2 = b*e*a*c\nsage: %timeit test1(p1,p2)\n1 loops, best of 3: 420 ms per loop\n```\nAnd for the non-dense encoding:\n\n```\nsage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup(False)\nsage: S.inject_variables()\nDefining e_0, e_1, e_2, a, b, c, d, e, f\nsage: p1 = a*d*c*b*f*e\nsage: p2 = b*e*a*c\nsage: %timeit test1(p1,p2)\n100 loops, best of 3: 4.26 ms per loop\n```\n\nThe following benchmark hopefully addresses the tasks that are important in the case of right modules:\n\n```\nsage: def test2(p1,p2):\n....:     D = {}\n....:     for i in range(1,100):\n....:         D[p2^i*p1*p2^i] = i\n....:     q = p2^10*p1*p2^50\n....:     for x in D.keys():\n....:         assert D[x]<10 or (x[(D[x]-10)*len(p2):].has_initial_segment(q) or D[x]<50)\n....:         \n```\nIn the dense encoding:\n\n```\nsage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup()\nsage: S.inject_variables()\nDefining e_0, e_1, e_2, a, b, c, d, e, f\nsage: p1 = a*d*c*b*f*e\nsage: p2 = b*e*a*c\nsage: %timeit test2(p1,p2)\n1 loops, best of 3: 306 ms per loop\n```\nVersus the non-dense:\n\n```\nsage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup(False)\nsage: S.inject_variables()\nDefining e_0, e_1, e_2, a, b, c, d, e, f\nsage: p1 = a*d*c*b*f*e\nsage: p2 = b*e*a*c\nsage: %timeit test2(p1,p2)\n100 loops, best of 3: 3.99 ms per loop\n```\n\nThe last benchmark shows that I should certainly avoid computing overlap (gcd) in the dense encoding:\n\n```\nsage: def test3(p1,p2):\n....:     D = {}\n....:     for i in range(1,100):\n....:         D[p2^i*p1*p2^i] = i\n....:     q = p2^10*p1*p2^50\n....:     for x in D.keys():\n....:         assert D[x]<10 or (x[(D[x]-10)*len(p2):].has_initial_segment(q) or D[x]<50)\n....:     q = p2*p1*p2^120\n....:     for x in D.keys():\n....:         assert all(q.gcd(x))\n....:         \n```\nThe dense encoding:\n\n```\nsage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup()\nsage: S.inject_variables()\nDefining e_0, e_1, e_2, a, b, c, d, e, f\nsage: p1 = a*d*c*b*f*e\nsage: p2 = b*e*a*c\nsage: %timeit test3(p1,p2)\n1 loops, best of 3: 1.44 s per loop\n```\nThe non-dense encoding:\n\n```\nsage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup(False)\nsage: S.inject_variables()\nDefining e_0, e_1, e_2, a, b, c, d, e, f\nsage: p1 = a*d*c*b*f*e\nsage: p2 = b*e*a*c\nsage: %timeit test3(p1,p2)\n100 loops, best of 3: 9.31 ms per loop\n```\n\nLooks like the non-dense encoding beats the dense encoding in all tests. However, in the following test, the dense encoding is slightly faster:\n\n```\nsage: def test4(p1,p2):                                                          \n....:     D = {}\n....:     for i in range(1,100):\n....:         D[p2^i*p1*p2^i] = i\n....:     q = p2^10 \n....:     for x in D.keys():\n....:         assert x.has_initial_segment(q) or D[x]<10\n....:         \n```\nDense:\n\n```\nsage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup()\nsage: S.inject_variables()\nDefining e_0, e_1, e_2, a, b, c, d, e, f\nsage: p1 = a*d*c*b*f*e\nsage: p2 = b*e*a*c\nsage: %timeit test4(p1,p2)\n1000 loops, best of 3: 1.47 ms per loop\n```\nNon-dense:\n\n```\nsage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup(False)\nsage: S.inject_variables()\nDefining e_0, e_1, e_2, a, b, c, d, e, f\nsage: p1 = a*d*c*b*f*e\nsage: p2 = b*e*a*c\nsage: %timeit test4(p1,p2)\n1000 loops, best of 3: 1.57 ms per loop\n```\n\n__Conclusion__\n\nIt seems to me that the dense encoding may be an interesting idea, but for most (if not all) applications is not better than the simpler non-dense encoding.\n\n__Question__\n\nShall I simply remove the dense implementation? Or should I turn it into a separate element class, so that a potential user may benefit from alternative implementations?",
    "created_at": "2014-12-08T22:37:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260112",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:63'></a>
In my applications, I will likely use paths as dictionary keys, I will multiply them, I will (for two-sided modules) test subpath containment or (for right modules) detect initial segments, and I will extract sub-paths.

The following benchmark may thus be representative for what is needed for two-sided modules:

```
sage: def test1(p1,p2):
....:     D = {}
....:     for i in range(1,100):
....:         D[p2^i*p1*p2^i] = i
....:     q = p2^10*p1*p2^50
....:     for x in D.keys():
....:         assert x.has_subpath(q) or D[x] < 50
....:     q = p2*p1*p2^120
....:     for x in D.keys():
....:         assert q.has_initial_segment(x[(D[x]-1)*len(p2):])
....:         
```
Let's apply this to the dense encoding:

```
sage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup()
sage: S.inject_variables()
Defining e_0, e_1, e_2, a, b, c, d, e, f
sage: p1 = a*d*c*b*f*e
sage: p2 = b*e*a*c
sage: %timeit test1(p1,p2)
1 loops, best of 3: 420 ms per loop
```
And for the non-dense encoding:

```
sage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup(False)
sage: S.inject_variables()
Defining e_0, e_1, e_2, a, b, c, d, e, f
sage: p1 = a*d*c*b*f*e
sage: p2 = b*e*a*c
sage: %timeit test1(p1,p2)
100 loops, best of 3: 4.26 ms per loop
```

The following benchmark hopefully addresses the tasks that are important in the case of right modules:

```
sage: def test2(p1,p2):
....:     D = {}
....:     for i in range(1,100):
....:         D[p2^i*p1*p2^i] = i
....:     q = p2^10*p1*p2^50
....:     for x in D.keys():
....:         assert D[x]<10 or (x[(D[x]-10)*len(p2):].has_initial_segment(q) or D[x]<50)
....:         
```
In the dense encoding:

```
sage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup()
sage: S.inject_variables()
Defining e_0, e_1, e_2, a, b, c, d, e, f
sage: p1 = a*d*c*b*f*e
sage: p2 = b*e*a*c
sage: %timeit test2(p1,p2)
1 loops, best of 3: 306 ms per loop
```
Versus the non-dense:

```
sage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup(False)
sage: S.inject_variables()
Defining e_0, e_1, e_2, a, b, c, d, e, f
sage: p1 = a*d*c*b*f*e
sage: p2 = b*e*a*c
sage: %timeit test2(p1,p2)
100 loops, best of 3: 3.99 ms per loop
```

The last benchmark shows that I should certainly avoid computing overlap (gcd) in the dense encoding:

```
sage: def test3(p1,p2):
....:     D = {}
....:     for i in range(1,100):
....:         D[p2^i*p1*p2^i] = i
....:     q = p2^10*p1*p2^50
....:     for x in D.keys():
....:         assert D[x]<10 or (x[(D[x]-10)*len(p2):].has_initial_segment(q) or D[x]<50)
....:     q = p2*p1*p2^120
....:     for x in D.keys():
....:         assert all(q.gcd(x))
....:         
```
The dense encoding:

```
sage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup()
sage: S.inject_variables()
Defining e_0, e_1, e_2, a, b, c, d, e, f
sage: p1 = a*d*c*b*f*e
sage: p2 = b*e*a*c
sage: %timeit test3(p1,p2)
1 loops, best of 3: 1.44 s per loop
```
The non-dense encoding:

```
sage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup(False)
sage: S.inject_variables()
Defining e_0, e_1, e_2, a, b, c, d, e, f
sage: p1 = a*d*c*b*f*e
sage: p2 = b*e*a*c
sage: %timeit test3(p1,p2)
100 loops, best of 3: 9.31 ms per loop
```

Looks like the non-dense encoding beats the dense encoding in all tests. However, in the following test, the dense encoding is slightly faster:

```
sage: def test4(p1,p2):                                                          
....:     D = {}
....:     for i in range(1,100):
....:         D[p2^i*p1*p2^i] = i
....:     q = p2^10 
....:     for x in D.keys():
....:         assert x.has_initial_segment(q) or D[x]<10
....:         
```
Dense:

```
sage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup()
sage: S.inject_variables()
Defining e_0, e_1, e_2, a, b, c, d, e, f
sage: p1 = a*d*c*b*f*e
sage: p2 = b*e*a*c
sage: %timeit test4(p1,p2)
1000 loops, best of 3: 1.47 ms per loop
```
Non-dense:

```
sage: S = DiGraph({0:{1:['a'], 2:['b']}, 1:{0:['c'], 1:['d']}, 2:{0:['e'],2:['f']}}).path_semigroup(False)
sage: S.inject_variables()
Defining e_0, e_1, e_2, a, b, c, d, e, f
sage: p1 = a*d*c*b*f*e
sage: p2 = b*e*a*c
sage: %timeit test4(p1,p2)
1000 loops, best of 3: 1.57 ms per loop
```

__Conclusion__

It seems to me that the dense encoding may be an interesting idea, but for most (if not all) applications is not better than the simpler non-dense encoding.

__Question__

Shall I simply remove the dense implementation? Or should I turn it into a separate element class, so that a potential user may benefit from alternative implementations?



---

archive/issue_comments_260113.json:
```json
{
    "body": "<a id='comment:64'></a>\nReplying to [SimonKing](#comment%3A63):\n> Shall I simply remove the dense implementation? Or should I turn it into a separate element class, so that a potential user may benefit from alternative implementations?\n\n\nIf I were you, I would keep just one implementation.",
    "created_at": "2014-12-09T09:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260113",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:64'></a>
Replying to [SimonKing](#comment%3A63):
> Shall I simply remove the dense implementation? Or should I turn it into a separate element class, so that a potential user may benefit from alternative implementations?


If I were you, I would keep just one implementation.



---

archive/issue_comments_260114.json:
```json
{
    "body": "<a id='comment:65'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/043229740ec4760d5f1d0e7352fae82760e7f34f\">0432297</a></td><td><code>Remove alternative implementation of paths, because of benchmark results</code></td></tr></table>\n",
    "created_at": "2014-12-09T11:37:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260114",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:65'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/043229740ec4760d5f1d0e7352fae82760e7f34f">0432297</a></td><td><code>Remove alternative implementation of paths, because of benchmark results</code></td></tr></table>




---

archive/issue_comments_260115.json:
```json
{
    "body": "**Changing commit** from \"[73ac68974379d51ff7a4a22aed7539b480668be8](https://github.com/sagemath/sagetrac-mirror/commit/73ac68974379d51ff7a4a22aed7539b480668be8)\" to \"[043229740ec4760d5f1d0e7352fae82760e7f34f](https://github.com/sagemath/sagetrac-mirror/commit/043229740ec4760d5f1d0e7352fae82760e7f34f)\".",
    "created_at": "2014-12-09T11:37:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260115",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[73ac68974379d51ff7a4a22aed7539b480668be8](https://github.com/sagemath/sagetrac-mirror/commit/73ac68974379d51ff7a4a22aed7539b480668be8)" to "[043229740ec4760d5f1d0e7352fae82760e7f34f](https://github.com/sagemath/sagetrac-mirror/commit/043229740ec4760d5f1d0e7352fae82760e7f34f)".



---

archive/issue_comments_260116.json:
```json
{
    "body": "<a id='comment:66'></a>\nReplying to [jdemeyer](#comment%3A64):\n> If I were you, I would keep just one implementation.\n\n\nDone!",
    "created_at": "2014-12-09T11:38:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260116",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:66'></a>
Replying to [jdemeyer](#comment%3A64):
> If I were you, I would keep just one implementation.


Done!



---

archive/issue_comments_260117.json:
```json
{
    "body": "<a id='comment:67'></a>\nOne failing doctest here:\n\n```\nFile \"src/sage/quivers/paths.pyx\", line 773, in sage.quivers.paths.NewQuiverPath\nFailed example:\n    p.__reduce__()\nExpected:\n    (<...NewQuiverPath>,\n     (Partial semigroup formed by the directed paths of Multi-digraph on 3 vertices,\n      1,\n      3,\n      (0, 4L, 1, 4, (4L,)),\n      2L,\n      2))\nGot:\n    (<built-in function NewQuiverPath>,\n     (Partial semigroup formed by the directed paths of Multi-digraph on 3 vertices,\n      1,\n      3,\n      (0, 4L, 1, 8, (4L,)),\n      2L,\n      2))\n```",
    "created_at": "2014-12-26T19:36:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260117",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:67'></a>
One failing doctest here:

```
File "src/sage/quivers/paths.pyx", line 773, in sage.quivers.paths.NewQuiverPath
Failed example:
    p.__reduce__()
Expected:
    (<...NewQuiverPath>,
     (Partial semigroup formed by the directed paths of Multi-digraph on 3 vertices,
      1,
      3,
      (0, 4L, 1, 4, (4L,)),
      2L,
      2))
Got:
    (<built-in function NewQuiverPath>,
     (Partial semigroup formed by the directed paths of Multi-digraph on 3 vertices,
      1,
      3,
      (0, 4L, 1, 8, (4L,)),
      2L,
      2))
```



---

archive/issue_comments_260118.json:
```json
{
    "body": "**Changing branch** from \"[u/SimonKing/cythonize_quiver_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cythonize_quiver_paths)\" to \"[public/ticket/16453](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16453)\".",
    "created_at": "2014-12-26T19:50:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260118",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/SimonKing/cythonize_quiver_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cythonize_quiver_paths)" to "[public/ticket/16453](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16453)".



---

archive/issue_comments_260119.json:
```json
{
    "body": "<a id='comment:68'></a>\nI have corrected the formatting in several places in the doc in the public/ticket/16453 branch.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86b5b1973fc1a417ded444cddb8d37d7b39f9b4d\">86b5b19</a></td><td><code>Merge branch 'u/SimonKing/cythonize_quiver_paths' of ssh://trac.sagemath.org:22/sage into 6.5.b4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2abe9e77963283f9b4034316d824ae84bbbdeebc\">2abe9e7</a></td><td><code>trac #16453 correcting a few misformatted docs</code></td></tr></table>\n",
    "created_at": "2014-12-26T19:50:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260119",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:68'></a>
I have corrected the formatting in several places in the doc in the public/ticket/16453 branch.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86b5b1973fc1a417ded444cddb8d37d7b39f9b4d">86b5b19</a></td><td><code>Merge branch 'u/SimonKing/cythonize_quiver_paths' of ssh://trac.sagemath.org:22/sage into 6.5.b4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2abe9e77963283f9b4034316d824ae84bbbdeebc">2abe9e7</a></td><td><code>trac #16453 correcting a few misformatted docs</code></td></tr></table>




---

archive/issue_comments_260120.json:
```json
{
    "body": "**Changing commit** from \"[043229740ec4760d5f1d0e7352fae82760e7f34f](https://github.com/sagemath/sagetrac-mirror/commit/043229740ec4760d5f1d0e7352fae82760e7f34f)\" to \"[2abe9e77963283f9b4034316d824ae84bbbdeebc](https://github.com/sagemath/sagetrac-mirror/commit/2abe9e77963283f9b4034316d824ae84bbbdeebc)\".",
    "created_at": "2014-12-26T19:50:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260120",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[043229740ec4760d5f1d0e7352fae82760e7f34f](https://github.com/sagemath/sagetrac-mirror/commit/043229740ec4760d5f1d0e7352fae82760e7f34f)" to "[2abe9e77963283f9b4034316d824ae84bbbdeebc](https://github.com/sagemath/sagetrac-mirror/commit/2abe9e77963283f9b4034316d824ae84bbbdeebc)".



---

archive/issue_comments_260121.json:
```json
{
    "body": "<a id='comment:69'></a>\nReplying to [chapoton](#comment%3A67):\n> One failing doctest here:\n> \n> ```\n> File \"src/sage/quivers/paths.pyx\", line 773, in sage.quivers.paths.NewQuiverPath\n> Failed example:\n>     p.__reduce__()\n> Expected:\n>     (<...NewQuiverPath>,\n>      (Partial semigroup formed by the directed paths of Multi-digraph on 3 vertices,\n>       1,\n>       3,\n>       (0, 4L, 1, 4, (4L,)),\n>       2L,\n>       2))\n> Got:\n>     (<built-in function NewQuiverPath>,\n>      (Partial semigroup formed by the directed paths of Multi-digraph on 3 vertices,\n>       1,\n>       3,\n>       (0, 4L, 1, 8, (4L,)),\n>       2L,\n>       2))\n> ```\n\n\nDid I not correct that error?\n\nToo bad, it could be that I corrected it in #17435, since I had the impression I had introduced it there. Well, with mercurial we could now simply move the patch from there to here...\n\nThe explanation of above error is of course that I made the tests on a 32bit machine, but you have 64bit. Meanwhile, I have switched to 64bit too, and at that point I corrected the error (but on the wrong ticket, I am afraid).",
    "created_at": "2014-12-27T09:48:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260121",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:69'></a>
Replying to [chapoton](#comment%3A67):
> One failing doctest here:
> 
> ```
> File "src/sage/quivers/paths.pyx", line 773, in sage.quivers.paths.NewQuiverPath
> Failed example:
>     p.__reduce__()
> Expected:
>     (<...NewQuiverPath>,
>      (Partial semigroup formed by the directed paths of Multi-digraph on 3 vertices,
>       1,
>       3,
>       (0, 4L, 1, 4, (4L,)),
>       2L,
>       2))
> Got:
>     (<built-in function NewQuiverPath>,
>      (Partial semigroup formed by the directed paths of Multi-digraph on 3 vertices,
>       1,
>       3,
>       (0, 4L, 1, 8, (4L,)),
>       2L,
>       2))
> ```


Did I not correct that error?

Too bad, it could be that I corrected it in #17435, since I had the impression I had introduced it there. Well, with mercurial we could now simply move the patch from there to here...

The explanation of above error is of course that I made the tests on a 32bit machine, but you have 64bit. Meanwhile, I have switched to 64bit too, and at that point I corrected the error (but on the wrong ticket, I am afraid).



---

archive/issue_comments_260122.json:
```json
{
    "body": "<a id='comment:70'></a>\nReplying to [SimonKing](#comment%3A69):\n> Well, with mercurial we could now simply move the patch from there to here...\n\n\n... whereas now we will most likely get a merge conflict if we fix the same error here.",
    "created_at": "2014-12-27T09:49:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260122",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:70'></a>
Replying to [SimonKing](#comment%3A69):
> Well, with mercurial we could now simply move the patch from there to here...


... whereas now we will most likely get a merge conflict if we fix the same error here.



---

archive/issue_comments_260123.json:
```json
{
    "body": "<a id='comment:71'></a>\nSee commit 880801f at #17435.",
    "created_at": "2014-12-27T09:51:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260123",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:71'></a>
See commit 880801f at #17435.



---

archive/issue_comments_260124.json:
```json
{
    "body": "<a id='comment:72'></a>\nIn any case, `(0, 4L, 1, 4, (4L,))` from the doctest should simply become `(0, 4L, 1, ..., (4L,))` so that both the output for 64 and 32 bit will be accepted.",
    "created_at": "2014-12-27T09:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260124",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:72'></a>
In any case, `(0, 4L, 1, 4, (4L,))` from the doctest should simply become `(0, 4L, 1, ..., (4L,))` so that both the output for 64 and 32 bit will be accepted.



---

archive/issue_comments_260125.json:
```json
{
    "body": "<a id='comment:73'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ba5cde9d5464440fb3be6258bad7a6fbd64cc7d\">1ba5cde</a></td><td><code>trac #16453 correct failing doctest</code></td></tr></table>\n",
    "created_at": "2014-12-27T12:45:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260125",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:73'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ba5cde9d5464440fb3be6258bad7a6fbd64cc7d">1ba5cde</a></td><td><code>trac #16453 correct failing doctest</code></td></tr></table>




---

archive/issue_comments_260126.json:
```json
{
    "body": "**Changing commit** from \"[2abe9e77963283f9b4034316d824ae84bbbdeebc](https://github.com/sagemath/sagetrac-mirror/commit/2abe9e77963283f9b4034316d824ae84bbbdeebc)\" to \"[1ba5cde9d5464440fb3be6258bad7a6fbd64cc7d](https://github.com/sagemath/sagetrac-mirror/commit/1ba5cde9d5464440fb3be6258bad7a6fbd64cc7d)\".",
    "created_at": "2014-12-27T12:45:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260126",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2abe9e77963283f9b4034316d824ae84bbbdeebc](https://github.com/sagemath/sagetrac-mirror/commit/2abe9e77963283f9b4034316d824ae84bbbdeebc)" to "[1ba5cde9d5464440fb3be6258bad7a6fbd64cc7d](https://github.com/sagemath/sagetrac-mirror/commit/1ba5cde9d5464440fb3be6258bad7a6fbd64cc7d)".



---

archive/issue_comments_260127.json:
```json
{
    "body": "<a id='comment:74'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e03b66156f5b5212bfeffc937887ae5c29a1a6ca\">e03b661</a></td><td><code>trac #16453 document one function missing doc</code></td></tr></table>\n",
    "created_at": "2014-12-27T12:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260127",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:74'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e03b66156f5b5212bfeffc937887ae5c29a1a6ca">e03b661</a></td><td><code>trac #16453 document one function missing doc</code></td></tr></table>




---

archive/issue_comments_260128.json:
```json
{
    "body": "**Changing commit** from \"[1ba5cde9d5464440fb3be6258bad7a6fbd64cc7d](https://github.com/sagemath/sagetrac-mirror/commit/1ba5cde9d5464440fb3be6258bad7a6fbd64cc7d)\" to \"[e03b66156f5b5212bfeffc937887ae5c29a1a6ca](https://github.com/sagemath/sagetrac-mirror/commit/e03b66156f5b5212bfeffc937887ae5c29a1a6ca)\".",
    "created_at": "2014-12-27T12:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260128",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1ba5cde9d5464440fb3be6258bad7a6fbd64cc7d](https://github.com/sagemath/sagetrac-mirror/commit/1ba5cde9d5464440fb3be6258bad7a6fbd64cc7d)" to "[e03b66156f5b5212bfeffc937887ae5c29a1a6ca](https://github.com/sagemath/sagetrac-mirror/commit/e03b66156f5b5212bfeffc937887ae5c29a1a6ca)".



---

archive/issue_comments_260129.json:
```json
{
    "body": "<a id='comment:75'></a>\nThank you for fixing this!\n\nI hope I understand correctly that I should not merge it into #17435 now. I think I have put #17435 to \"needs work\" because of merge issues. But if it works as it is, then, according to Volker, I should simply leave it, and postpone merging until being requested by either the reviewer or the release manager.",
    "created_at": "2014-12-28T00:14:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260129",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:75'></a>
Thank you for fixing this!

I hope I understand correctly that I should not merge it into #17435 now. I think I have put #17435 to "needs work" because of merge issues. But if it works as it is, then, according to Volker, I should simply leave it, and postpone merging until being requested by either the reviewer or the release manager.



---

archive/issue_comments_260130.json:
```json
{
    "body": "<a id='comment:76'></a>\nIn these 3 cases, why don't you use the corresponding `biseq` functions?\n\n```\nreturn mpn_cmp(cself._path.data.bits, other._path.data.bits, cself._path.data.limbs)\n```\n\n```\ncdef mp_limb_t* p = self._path.data.bits\nfor i from self._path.data.limbs>i>=0:\n    h0 = h\n    h += deref(postinc(p))\n    if h<h0: # overflow\n        preinc(h)\n```\n\n```\nout._path.itembitsize = itembitsize\nout._path.mask_item = limb_lower_bits_up(itembitsize)\nout._path.length = length\nif length>0:\n    sig_on()\n    bitset_init(out._path.data, 1)\n    bitset_unpickle(out._path.data, bitset_data)\n    sig_off()\n```\n(and the corresponding `bitset_pickle()` of course)",
    "created_at": "2014-12-28T21:07:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260130",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:76'></a>
In these 3 cases, why don't you use the corresponding `biseq` functions?

```
return mpn_cmp(cself._path.data.bits, other._path.data.bits, cself._path.data.limbs)
```

```
cdef mp_limb_t* p = self._path.data.bits
for i from self._path.data.limbs>i>=0:
    h0 = h
    h += deref(postinc(p))
    if h<h0: # overflow
        preinc(h)
```

```
out._path.itembitsize = itembitsize
out._path.mask_item = limb_lower_bits_up(itembitsize)
out._path.length = length
if length>0:
    sig_on()
    bitset_init(out._path.data, 1)
    bitset_unpickle(out._path.data, bitset_data)
    sig_off()
```
(and the corresponding `bitset_pickle()` of course)



---

archive/issue_comments_260131.json:
```json
{
    "body": "**Changing work_issues** from \"Fix issue in bounded integer sequences\" to \"\".",
    "created_at": "2014-12-28T21:08:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260131",
    "user": "https://github.com/jdemeyer"
}
```

**Changing work_issues** from "Fix issue in bounded integer sequences" to "".



---

archive/issue_comments_260132.json:
```json
{
    "body": "<a id='comment:78'></a>\nAnd this isn't really wrong:\n\n```\nfor i from 0<=i<self._path.length:\n```\nbut it's better expressed as\n\n```\nfor i in range(self._path.length):\n```",
    "created_at": "2014-12-28T21:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260132",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:78'></a>
And this isn't really wrong:

```
for i from 0<=i<self._path.length:
```
but it's better expressed as

```
for i in range(self._path.length):
```



---

archive/issue_comments_260133.json:
```json
{
    "body": "<a id='comment:79'></a>\nAnd since `_start` and `_end` are C ints, you might as well replace\n\n```\ncdef mp_limb_t h = (hash(self._start)<<4)^hash(self._end)\n```\nby something like\n\n```\ncdef Py_hash_t h = self._start*(<Py_hash_t>1073807360) + self._end\n```\n(note that hashes should use `Py_hash_t` as type)",
    "created_at": "2014-12-28T21:24:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260133",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:79'></a>
And since `_start` and `_end` are C ints, you might as well replace

```
cdef mp_limb_t h = (hash(self._start)<<4)^hash(self._end)
```
by something like

```
cdef Py_hash_t h = self._start*(<Py_hash_t>1073807360) + self._end
```
(note that hashes should use `Py_hash_t` as type)



---

archive/issue_comments_260134.json:
```json
{
    "body": "<a id='comment:80'></a>\nReplying to [jdemeyer](#comment%3A79):\n> And since `_start` and `_end` are C ints, you might as well replace\n> \n> ```\n> cdef mp_limb_t h = (hash(self._start)<<4)^hash(self._end)\n> ```\n> by something like\n> \n> ```\n> cdef Py_hash_t h = self._start*(<Py_hash_t>1073807360) + self._end\n> ```\n> (note that hashes should use `Py_hash_t` as type)\n\n\nNever heard of `Py_hash_t` before---I thought the hash is just a `long`. I guess you are right that the multiplication with a large number yields a better hash (by mixing the data) than a simple shift.",
    "created_at": "2014-12-29T01:32:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260134",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:80'></a>
Replying to [jdemeyer](#comment%3A79):
> And since `_start` and `_end` are C ints, you might as well replace
> 
> ```
> cdef mp_limb_t h = (hash(self._start)<<4)^hash(self._end)
> ```
> by something like
> 
> ```
> cdef Py_hash_t h = self._start*(<Py_hash_t>1073807360) + self._end
> ```
> (note that hashes should use `Py_hash_t` as type)


Never heard of `Py_hash_t` before---I thought the hash is just a `long`. I guess you are right that the multiplication with a large number yields a better hash (by mixing the data) than a simple shift.



---

archive/issue_comments_260135.json:
```json
{
    "body": "<a id='comment:81'></a>\nReplying to [jdemeyer](#comment%3A76):\n> In these 3 cases, why don't you use the corresponding `biseq` functions?\n> \n> ```\n> return mpn_cmp(cself._path.data.bits, other._path.data.bits, cself._path.data.limbs)\n> ```\n\n\nThere is no dedicated comparison function for `biseq_t`. The comparison of `BoundedIntegerSequence` would first check the type of the given arguments (needed, since coercion is not involved), then compare the bounds of the two integer sequences, and finally call `bitset_cmp` (which mainly does `mpn_cmp`). But here, we already know (by coercion) that the two paths belong to the same semigroup, thus, have the same type and bound.\n\n> ```\n> cdef mp_limb_t* p = self._path.data.bits\n> for i from self._path.data.limbs>i>=0:\n>     h0 = h\n>     h += deref(postinc(p))\n>     if h<h0: # overflow\n>         preinc(h)\n> ```\n\n\nThat's for hash. Again, there is no dedicated hash function for `biseq_t`.\n\n> ```\n> out._path.itembitsize = itembitsize\n> out._path.mask_item = limb_lower_bits_up(itembitsize)\n> out._path.length = length\n> if length>0:\n>     sig_on()\n>     bitset_init(out._path.data, 1)\n>     bitset_unpickle(out._path.data, bitset_data)\n>     sig_off()\n> ```\n> (and the corresponding `bitset_pickle()` of course)\n\n\nPickling is defined for `BoundedIntegerSequence`, not for `biseq_t`.\n\nOr are you saying I *should* implement those functions on the level of `biseq_t`?",
    "created_at": "2014-12-29T01:44:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260135",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:81'></a>
Replying to [jdemeyer](#comment%3A76):
> In these 3 cases, why don't you use the corresponding `biseq` functions?
> 
> ```
> return mpn_cmp(cself._path.data.bits, other._path.data.bits, cself._path.data.limbs)
> ```


There is no dedicated comparison function for `biseq_t`. The comparison of `BoundedIntegerSequence` would first check the type of the given arguments (needed, since coercion is not involved), then compare the bounds of the two integer sequences, and finally call `bitset_cmp` (which mainly does `mpn_cmp`). But here, we already know (by coercion) that the two paths belong to the same semigroup, thus, have the same type and bound.

> ```
> cdef mp_limb_t* p = self._path.data.bits
> for i from self._path.data.limbs>i>=0:
>     h0 = h
>     h += deref(postinc(p))
>     if h<h0: # overflow
>         preinc(h)
> ```


That's for hash. Again, there is no dedicated hash function for `biseq_t`.

> ```
> out._path.itembitsize = itembitsize
> out._path.mask_item = limb_lower_bits_up(itembitsize)
> out._path.length = length
> if length>0:
>     sig_on()
>     bitset_init(out._path.data, 1)
>     bitset_unpickle(out._path.data, bitset_data)
>     sig_off()
> ```
> (and the corresponding `bitset_pickle()` of course)


Pickling is defined for `BoundedIntegerSequence`, not for `biseq_t`.

Or are you saying I *should* implement those functions on the level of `biseq_t`?



---

archive/issue_comments_260136.json:
```json
{
    "body": "<a id='comment:82'></a>\nReplying to [SimonKing](#comment%3A80):\n> Never heard of `Py_hash_t` before---I thought the hash is just a `long`.\n\nThat's very likely true, but a `mp_limb_t` *isn't* a `long`, so the type needs fixing anyway. And using `Py_hash_t` is explicit, it's clear that you're computing a hash.",
    "created_at": "2014-12-29T21:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260136",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:82'></a>
Replying to [SimonKing](#comment%3A80):
> Never heard of `Py_hash_t` before---I thought the hash is just a `long`.

That's very likely true, but a `mp_limb_t` *isn't* a `long`, so the type needs fixing anyway. And using `Py_hash_t` is explicit, it's clear that you're computing a hash.



---

archive/issue_comments_260137.json:
```json
{
    "body": "<a id='comment:83'></a>\nReplying to [SimonKing](#comment%3A81):\n> Or are you saying I *should* implement those functions on the level of `biseq_t`?\n\nI never noticed that these functions aren't defined for `biseq_t`, but the answer is obviously: yes, they should be implemented on the level of `biseq_t` (in a different ticket).",
    "created_at": "2014-12-29T21:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260137",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:83'></a>
Replying to [SimonKing](#comment%3A81):
> Or are you saying I *should* implement those functions on the level of `biseq_t`?

I never noticed that these functions aren't defined for `biseq_t`, but the answer is obviously: yes, they should be implemented on the level of `biseq_t` (in a different ticket).



---

archive/issue_comments_260138.json:
```json
{
    "body": "<a id='comment:84'></a>\nLet me also mention that I do not intend to fully review this ticket, I only checked some technicalities and stuff related to #15820.",
    "created_at": "2014-12-29T21:28:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260138",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:84'></a>
Let me also mention that I do not intend to fully review this ticket, I only checked some technicalities and stuff related to #15820.



---

archive/issue_comments_260139.json:
```json
{
    "body": "<a id='comment:85'></a>\nReplying to [jdemeyer](#comment%3A83):\n> Replying to [SimonKing](#comment%3A81):\n> > Or are you saying I *should* implement those functions on the level of `biseq_t`?\n\n> I never noticed that these functions aren't defined for `biseq_t`, but the answer is obviously: yes, they should be implemented on the level of `biseq_t` (in a different ticket).\n\n... which would become a dependency for this ticket, right?",
    "created_at": "2014-12-29T21:41:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260139",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:85'></a>
Replying to [jdemeyer](#comment%3A83):
> Replying to [SimonKing](#comment%3A81):
> > Or are you saying I *should* implement those functions on the level of `biseq_t`?

> I never noticed that these functions aren't defined for `biseq_t`, but the answer is obviously: yes, they should be implemented on the level of `biseq_t` (in a different ticket).

... which would become a dependency for this ticket, right?



---

archive/issue_comments_260140.json:
```json
{
    "body": "<a id='comment:86'></a>\nI created #17564 for the additional biseq functions.",
    "created_at": "2014-12-30T09:20:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260140",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:86'></a>
I created #17564 for the additional biseq functions.



---

archive/issue_comments_260141.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2014-12-30T09:20:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260141",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_260142.json:
```json
{
    "body": "**Work_Issues:** Rebase wrt #17564",
    "created_at": "2014-12-30T09:20:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260142",
    "user": "https://github.com/simon-king-jena"
}
```

**Work_Issues:** Rebase wrt #17564



---

archive/issue_comments_260143.json:
```json
{
    "body": "**Changing dependencies** from \"#15820\" to \"#15820 #17564\".",
    "created_at": "2014-12-30T09:20:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260143",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing dependencies** from "#15820" to "#15820 #17564".



---

archive/issue_comments_260144.json:
```json
{
    "body": "<a id='comment:87'></a>\nRecently I was told that I use too many merge commits.\n\nSo, question: Shall I rebase and force-push the branch here? Shall I merge the branch from #17564 into the branch here? What else?",
    "created_at": "2014-12-30T09:26:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260144",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:87'></a>
Recently I was told that I use too many merge commits.

So, question: Shall I rebase and force-push the branch here? Shall I merge the branch from #17564 into the branch here? What else?



---

archive/issue_comments_260145.json:
```json
{
    "body": "<a id='comment:88'></a>\nI'm not going to discuss about the git stuff...\n\n(but personally: I would `merge --squash` this branch on top of #17564)",
    "created_at": "2014-12-30T10:19:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260145",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:88'></a>
I'm not going to discuss about the git stuff...

(but personally: I would `merge --squash` this branch on top of #17564)



---

archive/issue_comments_260146.json:
```json
{
    "body": "<a id='comment:89'></a>\nReplying to [jdemeyer](#comment%3A88):\n> I'm not going to discuss about the git stuff...\n> \n> (but personally: I would `merge --squash` this branch on top of #17564)\n\n\nSince I tend to get things wrong in git, I need more details.\n\nDo I understand correctly that you suggest to take all the commits from here, squash them into one commit, and force-push here. Thus:\n\n```\ngit checkout -b new_branch_for_here branch_17564\ngit merge --squash branch_from_here\ngit commit\ngit trac push --forced --ticket=16453\n```\n(or however a forced push is done).\n\nI am not sure that that's what I want. If I understood correctly what Nathann said, he as a reviewer prefers to have a sequence of commits each addressing a single feature, and ideally there should be no merge commits and no commits that simply revert the effect of previous mistaken commits. If Nathann reads it: Would this be what you'd like to get?\n\nSo, perhaps\n\n```\ngit checkout branch_from_here\ngit rebase -i branch_17564\n```\nfollowed by a forced push would be better, since then I can interactively choose which commits from here to squash and which to preserve.\n\nAnyway, I'd agree to force-push, even though #17435 is based on this ticket. Probably I am the only one who is actively using these branches.",
    "created_at": "2014-12-30T11:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260146",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:89'></a>
Replying to [jdemeyer](#comment%3A88):
> I'm not going to discuss about the git stuff...
> 
> (but personally: I would `merge --squash` this branch on top of #17564)


Since I tend to get things wrong in git, I need more details.

Do I understand correctly that you suggest to take all the commits from here, squash them into one commit, and force-push here. Thus:

```
git checkout -b new_branch_for_here branch_17564
git merge --squash branch_from_here
git commit
git trac push --forced --ticket=16453
```
(or however a forced push is done).

I am not sure that that's what I want. If I understood correctly what Nathann said, he as a reviewer prefers to have a sequence of commits each addressing a single feature, and ideally there should be no merge commits and no commits that simply revert the effect of previous mistaken commits. If Nathann reads it: Would this be what you'd like to get?

So, perhaps

```
git checkout branch_from_here
git rebase -i branch_17564
```
followed by a forced push would be better, since then I can interactively choose which commits from here to squash and which to preserve.

Anyway, I'd agree to force-push, even though #17435 is based on this ticket. Probably I am the only one who is actively using these branches.



---

archive/issue_comments_260147.json:
```json
{
    "body": "<a id='comment:90'></a>\nReplying to [SimonKing](#comment%3A89):\n> \n> ```\n> git checkout -b new_branch_for_here branch_17564\n> git merge --squash branch_from_here\n> git commit\n> git trac push --forced --ticket=16453\n> ```\n> (or however a forced push is done).\n> \n> I am not sure that that's what I want. If I understood correctly what Nathann said, he as a reviewer prefers to have a sequence of commits each addressing a single feature, ...\n\n\nOn the other hand, I don't see how this could be naturally split into features. We have a relatively straight forward cython implementation of paths on top of bounded integer sequences, and we apply the new paths in `path_semigroup`. So, I guess a single commit should be easy enough to review.",
    "created_at": "2014-12-30T17:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260147",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:90'></a>
Replying to [SimonKing](#comment%3A89):
> 
> ```
> git checkout -b new_branch_for_here branch_17564
> git merge --squash branch_from_here
> git commit
> git trac push --forced --ticket=16453
> ```
> (or however a forced push is done).
> 
> I am not sure that that's what I want. If I understood correctly what Nathann said, he as a reviewer prefers to have a sequence of commits each addressing a single feature, ...


On the other hand, I don't see how this could be naturally split into features. We have a relatively straight forward cython implementation of paths on top of bounded integer sequences, and we apply the new paths in `path_semigroup`. So, I guess a single commit should be easy enough to review.



---

archive/issue_comments_260148.json:
```json
{
    "body": "**Changing commit** from \"[e03b66156f5b5212bfeffc937887ae5c29a1a6ca](https://github.com/sagemath/sagetrac-mirror/commit/e03b66156f5b5212bfeffc937887ae5c29a1a6ca)\" to \"[9d56888d08c500f692116354e5ba0f498a84c6d0](https://github.com/sagemath/sagetrac-mirror/commit/9d56888d08c500f692116354e5ba0f498a84c6d0)\".",
    "created_at": "2014-12-30T18:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260148",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e03b66156f5b5212bfeffc937887ae5c29a1a6ca](https://github.com/sagemath/sagetrac-mirror/commit/e03b66156f5b5212bfeffc937887ae5c29a1a6ca)" to "[9d56888d08c500f692116354e5ba0f498a84c6d0](https://github.com/sagemath/sagetrac-mirror/commit/9d56888d08c500f692116354e5ba0f498a84c6d0)".



---

archive/issue_comments_260149.json:
```json
{
    "body": "<a id='comment:91'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2a69ab9a9d5d3e276e937ae013bb63046a7eabd\">f2a69ab</a></td><td><code>More useful functions for biseq_t</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd3fd824ce08e1459ab2c140c59e713425a86e8f\">fd3fd82</a></td><td><code>Better hash function for biseq_t. Document the new functions.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b10c1727fb575ebad493b76e1546dfa3cd819dd1\">b10c172</a></td><td><code>Cython implementation of quiver paths</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d56888d08c500f692116354e5ba0f498a84c6d0\">9d56888</a></td><td><code>Use Cython implementation of paths in path algebras/representations</code></td></tr></table>\n",
    "created_at": "2014-12-30T18:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260149",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:91'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2a69ab9a9d5d3e276e937ae013bb63046a7eabd">f2a69ab</a></td><td><code>More useful functions for biseq_t</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd3fd824ce08e1459ab2c140c59e713425a86e8f">fd3fd82</a></td><td><code>Better hash function for biseq_t. Document the new functions.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b10c1727fb575ebad493b76e1546dfa3cd819dd1">b10c172</a></td><td><code>Cython implementation of quiver paths</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d56888d08c500f692116354e5ba0f498a84c6d0">9d56888</a></td><td><code>Use Cython implementation of paths in path algebras/representations</code></td></tr></table>




---

archive/issue_comments_260150.json:
```json
{
    "body": "**Changing work_issues** from \"Rebase wrt #17564\" to \"\".",
    "created_at": "2014-12-30T19:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260150",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing work_issues** from "Rebase wrt #17564" to "".



---

archive/issue_comments_260151.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2014-12-30T19:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260151",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_260152.json:
```json
{
    "body": "<a id='comment:92'></a>\nI have rebased the branch on top of #17564, squashing the old commits into two commits (one for the Cython implementation, the other for applying the Cython implementation in Python modules).\n\nIt is a forced push, but I guess the new commit history is a lot clearer (and hopefully easier to review `;-)`!) than the old, and I also guess that nobody but me has used the branch, or was about to give a full review to the old branch.",
    "created_at": "2014-12-30T19:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260152",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:92'></a>
I have rebased the branch on top of #17564, squashing the old commits into two commits (one for the Cython implementation, the other for applying the Cython implementation in Python modules).

It is a forced push, but I guess the new commit history is a lot clearer (and hopefully easier to review `;-)`!) than the old, and I also guess that nobody but me has used the branch, or was about to give a full review to the old branch.



---

archive/issue_comments_260153.json:
```json
{
    "body": "<a id='comment:93'></a>\nHello Simon,\n\nThese paths have more applications than quivers (e.g. [train-tracks for free group automorphisms](https://github.com/coulbois/sage-train-track)). Could you move it from `src.sage.quivers` to `sage.graphs`? And also remove the name 'quivers' from there.. why not `GraphPaths`? Actually, for train track automorphisms one needs the groupoid of paths (that is authorize to take edges in reversed direction). As far as I understand, it is different from yours. Do you have an idea for a compatible terminology?\n\nVincent",
    "created_at": "2015-01-19T18:27:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260153",
    "user": "https://github.com/videlec"
}
```

<a id='comment:93'></a>
Hello Simon,

These paths have more applications than quivers (e.g. [train-tracks for free group automorphisms](https://github.com/coulbois/sage-train-track)). Could you move it from `src.sage.quivers` to `sage.graphs`? And also remove the name 'quivers' from there.. why not `GraphPaths`? Actually, for train track automorphisms one needs the groupoid of paths (that is authorize to take edges in reversed direction). As far as I understand, it is different from yours. Do you have an idea for a compatible terminology?

Vincent



---

archive/issue_comments_260154.json:
```json
{
    "body": "**Changing status** from needs_review to needs_info.",
    "created_at": "2015-01-19T18:27:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260154",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_review to needs_info.



---

archive/issue_comments_260155.json:
```json
{
    "body": "<a id='comment:94'></a>\nHi Vincent,\n\nReplying to [vdelecroix](#comment%3A93):\n> These paths have more applications than quivers (e.g. [train-tracks for free group automorphisms](https://github.com/coulbois/sage-train-track)). Could you move it from `src.sage.quivers` to `sage.graphs`?\n\n\n`sage.graphs` is quite large already, that's why I created the new module `sage.quivers`, for everything that implements representation theoretic aspects of directed multigraphs.\n\nI could imagine to use cythoned path algebra elements (see #17435) to provide a better implementation of free associative algebras, but a potential application is no reason to move the code, IMHO.\n\nDo you really need oriented paths for train tracks? Or do you rather need sequences of integers to implement train tracks? If the integers are subject to a global bound, then see `sage.data_structures.bounded_integer_sequences`.\n\n> And also remove the name 'quivers' from there.. why not `GraphPaths`?\n\n\nMost people understand \"graph\" as a non-directed graph. But we are talking here about objects for which orientation is absolutely essential. The original Python code for quivers and their representation had to make a difference between two different notions of paths in a graph, one being a sequence of vertices, the other being a sequence of edges. `QuiverPaths` is about paths as sequences of *directed* edges.\n\nWhen developing the current Python code for quiver representations, there was some discussion about terminology. \"Quiver\" is a well-established mathematical notion, so, good to use. It is the same as multi-digraph, but is a shorter word. It seems that the decision was to use \"`DiGraph`\" in Sage to denote the mere directed graph, whereas one uses \"`Quiver`\" when one considers the directed graph as an algebraic object.\n\nWhile it may be acceptable to replace the word \"Quiver\" by \"`DiGraph`\", it can certainly not be replaced by the word \"Graph\". Hence, changing `QuiverPath` into `GraphPath` would be misleading. I am against that change.\n\n> Actually, for train track automorphisms one needs the groupoid of paths (that is authorize to take edges in reversed direction). As far as I understand, it is different from yours. Do you have an idea for a compatible terminology?\n\n\nWell, the current terminology for the algebraic object formed by the oriented paths in a multi-digraph subject to concatenation is \"path semigroup\", and thus the terminology for your groupoid of invertible paths would naturally be \"path groupoid\", isn't it?",
    "created_at": "2015-01-19T19:17:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260155",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:94'></a>
Hi Vincent,

Replying to [vdelecroix](#comment%3A93):
> These paths have more applications than quivers (e.g. [train-tracks for free group automorphisms](https://github.com/coulbois/sage-train-track)). Could you move it from `src.sage.quivers` to `sage.graphs`?


`sage.graphs` is quite large already, that's why I created the new module `sage.quivers`, for everything that implements representation theoretic aspects of directed multigraphs.

I could imagine to use cythoned path algebra elements (see #17435) to provide a better implementation of free associative algebras, but a potential application is no reason to move the code, IMHO.

Do you really need oriented paths for train tracks? Or do you rather need sequences of integers to implement train tracks? If the integers are subject to a global bound, then see `sage.data_structures.bounded_integer_sequences`.

> And also remove the name 'quivers' from there.. why not `GraphPaths`?


Most people understand "graph" as a non-directed graph. But we are talking here about objects for which orientation is absolutely essential. The original Python code for quivers and their representation had to make a difference between two different notions of paths in a graph, one being a sequence of vertices, the other being a sequence of edges. `QuiverPaths` is about paths as sequences of *directed* edges.

When developing the current Python code for quiver representations, there was some discussion about terminology. "Quiver" is a well-established mathematical notion, so, good to use. It is the same as multi-digraph, but is a shorter word. It seems that the decision was to use "`DiGraph`" in Sage to denote the mere directed graph, whereas one uses "`Quiver`" when one considers the directed graph as an algebraic object.

While it may be acceptable to replace the word "Quiver" by "`DiGraph`", it can certainly not be replaced by the word "Graph". Hence, changing `QuiverPath` into `GraphPath` would be misleading. I am against that change.

> Actually, for train track automorphisms one needs the groupoid of paths (that is authorize to take edges in reversed direction). As far as I understand, it is different from yours. Do you have an idea for a compatible terminology?


Well, the current terminology for the algebraic object formed by the oriented paths in a multi-digraph subject to concatenation is "path semigroup", and thus the terminology for your groupoid of invertible paths would naturally be "path groupoid", isn't it?



---

archive/issue_comments_260156.json:
```json
{
    "body": "<a id='comment:95'></a>\nHi again,\n\nReplying to [SimonKing](#comment%3A94):\n> Replying to [vdelecroix](#comment%3A93):\n> > These paths have more applications than quivers (e.g. [train-tracks for free group automorphisms](https://github.com/coulbois/sage-train-track)). Could you move it from `src.sage.quivers` to `sage.graphs`?\n\n> \n> `sage.graphs` is quite large already, that's why I created the new module `sage.quivers`, for everything that implements representation theoretic aspects of directed multigraphs.\n> \n> I could imagine to use cythonized path algebra elements (see #17435) to provide a better implementation of free associative algebras, but a potential application is no reason to move the code, IMHO.\n> \n> Do you really need oriented paths for train tracks? Or do you rather need sequences of integers to implement train tracks? If the integers are subject to a global bound, then see `sage.data_structures.bounded_integer_sequences`.\n\n\nYes, I really mean oriented paths. And also (di)graph maps, that is function that maps edges to paths. These are not at all quiver morphisms as they are defined in wikipedia.\n\n> > And also remove the name 'quivers' from there.. why not `GraphPaths`?\n\n> \n> Most people understand \"graph\" as a non-directed graph. But we are talking here about objects for which orientation is absolutely essential. The original Python code for quivers and their representation had to make a difference between two different notions of paths in a graph, one being a sequence of vertices, the other being a sequence of edges. `QuiverPaths` is about paths as sequences of *directed* edges.\n\n\nThen `DiGraphPaths`? If you say `Quiver` in a talk on Geometric Group Theory to talk about train-track, I bet that the public would be quite surprised. \n\n> When developing the current Python code for quiver representations, there was some discussion about terminology. \"Quiver\" is a well-established mathematical notion, so, good to use. It is the same as multi-digraph, but is a shorter word. It seems that the decision was to use \"`DiGraph`\" in Sage to denote the mere directed graph, whereas one uses \"`Quiver`\" when one considers the directed graph as an algebraic object.\n\n\nI see. But Quiver for me already denotes representation theory (you should agree with me since you said \"`sage.quiver` for everything that implements representation theoretic aspects of directed multigraphs\" and Wikipedia as well).\n\n> While it may be acceptable to replace the word \"Quiver\" by \"`DiGraph`\", it can certainly not be replaced by the word \"Graph\". Hence, changing `QuiverPath` into `GraphPath` would be misleading. I am against that change.\n\n\nAll right, I understand. But `DiGraphPath`? My concern is that if Thierry did not mentioned to me your previous ticket about sequences of bounded integers I would never have found it.\n\n> > Actually, for train track automorphisms one needs the groupoid of paths (that is authorize to take edges in reversed direction). As far as I understand, it is different from yours. Do you have an idea for a compatible terminology?\n\n> \n> Well, the current terminology for the algebraic object formed by the oriented paths in a multi-digraph subject to concatenation is \"path semigroup\", and thus the terminology for your groupoid of invertible paths would naturally be \"path groupoid\", isn't it?\n\n\nIt is. But I do not want to have it in `src.sage.quivers` and it would be logical to have it close to implementation of the path semigroup (and they will surely share some of their features).\n\nI would be happy to finish the review of this ticket, but I want it to be a starting point for the path groupoid as well.\n\nVincent",
    "created_at": "2015-01-19T19:47:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260156",
    "user": "https://github.com/videlec"
}
```

<a id='comment:95'></a>
Hi again,

Replying to [SimonKing](#comment%3A94):
> Replying to [vdelecroix](#comment%3A93):
> > These paths have more applications than quivers (e.g. [train-tracks for free group automorphisms](https://github.com/coulbois/sage-train-track)). Could you move it from `src.sage.quivers` to `sage.graphs`?

> 
> `sage.graphs` is quite large already, that's why I created the new module `sage.quivers`, for everything that implements representation theoretic aspects of directed multigraphs.
> 
> I could imagine to use cythonized path algebra elements (see #17435) to provide a better implementation of free associative algebras, but a potential application is no reason to move the code, IMHO.
> 
> Do you really need oriented paths for train tracks? Or do you rather need sequences of integers to implement train tracks? If the integers are subject to a global bound, then see `sage.data_structures.bounded_integer_sequences`.


Yes, I really mean oriented paths. And also (di)graph maps, that is function that maps edges to paths. These are not at all quiver morphisms as they are defined in wikipedia.

> > And also remove the name 'quivers' from there.. why not `GraphPaths`?

> 
> Most people understand "graph" as a non-directed graph. But we are talking here about objects for which orientation is absolutely essential. The original Python code for quivers and their representation had to make a difference between two different notions of paths in a graph, one being a sequence of vertices, the other being a sequence of edges. `QuiverPaths` is about paths as sequences of *directed* edges.


Then `DiGraphPaths`? If you say `Quiver` in a talk on Geometric Group Theory to talk about train-track, I bet that the public would be quite surprised. 

> When developing the current Python code for quiver representations, there was some discussion about terminology. "Quiver" is a well-established mathematical notion, so, good to use. It is the same as multi-digraph, but is a shorter word. It seems that the decision was to use "`DiGraph`" in Sage to denote the mere directed graph, whereas one uses "`Quiver`" when one considers the directed graph as an algebraic object.


I see. But Quiver for me already denotes representation theory (you should agree with me since you said "`sage.quiver` for everything that implements representation theoretic aspects of directed multigraphs" and Wikipedia as well).

> While it may be acceptable to replace the word "Quiver" by "`DiGraph`", it can certainly not be replaced by the word "Graph". Hence, changing `QuiverPath` into `GraphPath` would be misleading. I am against that change.


All right, I understand. But `DiGraphPath`? My concern is that if Thierry did not mentioned to me your previous ticket about sequences of bounded integers I would never have found it.

> > Actually, for train track automorphisms one needs the groupoid of paths (that is authorize to take edges in reversed direction). As far as I understand, it is different from yours. Do you have an idea for a compatible terminology?

> 
> Well, the current terminology for the algebraic object formed by the oriented paths in a multi-digraph subject to concatenation is "path semigroup", and thus the terminology for your groupoid of invertible paths would naturally be "path groupoid", isn't it?


It is. But I do not want to have it in `src.sage.quivers` and it would be logical to have it close to implementation of the path semigroup (and they will surely share some of their features).

I would be happy to finish the review of this ticket, but I want it to be a starting point for the path groupoid as well.

Vincent



---

archive/issue_comments_260157.json:
```json
{
    "body": "**Changing status** from needs_info to needs_review.",
    "created_at": "2015-03-27T15:57:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260157",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_info to needs_review.



---

archive/issue_comments_260158.json:
```json
{
    "body": "<a id='comment:96'></a>\nback to **needs review**, so that the patchbot can have a look",
    "created_at": "2015-03-27T15:57:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260158",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:96'></a>
back to **needs review**, so that the patchbot can have a look



---

archive/issue_comments_260159.json:
```json
{
    "body": "<a id='comment:97'></a>\ncoverage is not 100%, see patchbot report",
    "created_at": "2015-03-30T08:01:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260159",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:97'></a>
coverage is not 100%, see patchbot report



---

archive/issue_comments_260160.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2015-03-30T08:01:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260160",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_260161.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2015-03-31T10:09:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260161",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_260162.json:
```json
{
    "body": "<a id='comment:98'></a>\nI don't know why \"git trac push\" didn't work. Anyway, \"git push\" did work, and I am updating the \"commit\" field manually.\n\nI added a doctest for the lazy attribute `_nb_arrows` of path semigroups. I don't think one should not add a doctest for `QuiverPaths.__cmp__`: As usual for Cythonised element classes, one has to copy the `__cmp__` from `sage.structure.element`, because of technical reasons. The actual comparison is done in `_cmp_c_impl`, which *is* doctested.\n\nBut perhaps it makes sense to remove the phrase\n\n```\n        As usual in Sage, the ``__cmp__`` method of a Python sub-class of\n        :class:`sage.structure.element.Element` can assume that both arguments\n        belong to the same parent.\n```\nfrom the documentation of `_cmp_c_impl`, since after all it is not a Python sub-class any longer. Will do this next.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b10c1727fb575ebad493b76e1546dfa3cd819dd1\">b10c172</a></td><td><code>Cython implementation of quiver paths</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d56888d08c500f692116354e5ba0f498a84c6d0\">9d56888</a></td><td><code>Use Cython implementation of paths in path algebras/representations</code></td></tr></table>\n",
    "created_at": "2015-03-31T10:09:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260162",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:98'></a>
I don't know why "git trac push" didn't work. Anyway, "git push" did work, and I am updating the "commit" field manually.

I added a doctest for the lazy attribute `_nb_arrows` of path semigroups. I don't think one should not add a doctest for `QuiverPaths.__cmp__`: As usual for Cythonised element classes, one has to copy the `__cmp__` from `sage.structure.element`, because of technical reasons. The actual comparison is done in `_cmp_c_impl`, which *is* doctested.

But perhaps it makes sense to remove the phrase

```
        As usual in Sage, the ``__cmp__`` method of a Python sub-class of
        :class:`sage.structure.element.Element` can assume that both arguments
        belong to the same parent.
```
from the documentation of `_cmp_c_impl`, since after all it is not a Python sub-class any longer. Will do this next.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b10c1727fb575ebad493b76e1546dfa3cd819dd1">b10c172</a></td><td><code>Cython implementation of quiver paths</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d56888d08c500f692116354e5ba0f498a84c6d0">9d56888</a></td><td><code>Use Cython implementation of paths in path algebras/representations</code></td></tr></table>




---

archive/issue_comments_260163.json:
```json
{
    "body": "<a id='comment:99'></a>\nGosh, I HATE the flaky trac! Why has my manual update of the commit field been automatically reverted, so that the doctest fix isn't visible? Anyway, I will first remove the `_cmp_c_impl` comment and then try to push again.",
    "created_at": "2015-03-31T10:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260163",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:99'></a>
Gosh, I HATE the flaky trac! Why has my manual update of the commit field been automatically reverted, so that the doctest fix isn't visible? Anyway, I will first remove the `_cmp_c_impl` comment and then try to push again.



---

archive/issue_comments_260164.json:
```json
{
    "body": "<a id='comment:0'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b10c1727fb575ebad493b76e1546dfa3cd819dd1\">b10c172</a></td><td><code>Cython implementation of quiver paths</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d56888d08c500f692116354e5ba0f498a84c6d0\">9d56888</a></td><td><code>Use Cython implementation of paths in path algebras/representations</code></td></tr></table>\n",
    "created_at": "2015-03-31T10:14:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260164",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:0'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b10c1727fb575ebad493b76e1546dfa3cd819dd1">b10c172</a></td><td><code>Cython implementation of quiver paths</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d56888d08c500f692116354e5ba0f498a84c6d0">9d56888</a></td><td><code>Use Cython implementation of paths in path algebras/representations</code></td></tr></table>




---

archive/issue_comments_260165.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b10c1727fb575ebad493b76e1546dfa3cd819dd1\">b10c172</a></td><td><code>Cython implementation of quiver paths</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d56888d08c500f692116354e5ba0f498a84c6d0\">9d56888</a></td><td><code>Use Cython implementation of paths in path algebras/representations</code></td></tr></table>\n",
    "created_at": "2015-03-31T10:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260165",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b10c1727fb575ebad493b76e1546dfa3cd819dd1">b10c172</a></td><td><code>Cython implementation of quiver paths</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d56888d08c500f692116354e5ba0f498a84c6d0">9d56888</a></td><td><code>Use Cython implementation of paths in path algebras/representations</code></td></tr></table>




---

archive/issue_comments_260166.json:
```json
{
    "body": "<a id='comment:2'></a>\nI tried to manually set the commit field to `b39b21d486dc28651b1c65536e2f6d43121b4135`, but it didn't work. I give up.",
    "created_at": "2015-03-31T10:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260166",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:2'></a>
I tried to manually set the commit field to `b39b21d486dc28651b1c65536e2f6d43121b4135`, but it didn't work. I give up.



---

archive/issue_comments_260167.json:
```json
{
    "body": "<a id='comment:3'></a>\nTrying to change the status at the same time as the commit field. See if it works...\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b10c1727fb575ebad493b76e1546dfa3cd819dd1\">b10c172</a></td><td><code>Cython implementation of quiver paths</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d56888d08c500f692116354e5ba0f498a84c6d0\">9d56888</a></td><td><code>Use Cython implementation of paths in path algebras/representations</code></td></tr></table>\n",
    "created_at": "2015-03-31T10:23:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260167",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:3'></a>
Trying to change the status at the same time as the commit field. See if it works...

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b10c1727fb575ebad493b76e1546dfa3cd819dd1">b10c172</a></td><td><code>Cython implementation of quiver paths</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d56888d08c500f692116354e5ba0f498a84c6d0">9d56888</a></td><td><code>Use Cython implementation of paths in path algebras/representations</code></td></tr></table>




---

archive/issue_comments_260168.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2015-03-31T10:23:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260168",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_260169.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2015-03-31T10:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260169",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_260170.json:
```json
{
    "body": "<a id='comment:4'></a>\nNope.",
    "created_at": "2015-03-31T10:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260170",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:4'></a>
Nope.



---

archive/issue_comments_260171.json:
```json
{
    "body": "<a id='comment:5'></a>\nI still don't know why \"git trac push\" didn't push to the attached branch. But, as it turns out, \"git push\" did not push to the public branch attached to the ticket, but to a different remote branch. So, I am attaching the different branch now. Hopefully it works...",
    "created_at": "2015-03-31T20:03:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260171",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:5'></a>
I still don't know why "git trac push" didn't push to the attached branch. But, as it turns out, "git push" did not push to the public branch attached to the ticket, but to a different remote branch. So, I am attaching the different branch now. Hopefully it works...



---

archive/issue_comments_260172.json:
```json
{
    "body": "**Changing branch** from \"[public/ticket/16453](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16453)\" to \"[u/SimonKing/cythonize_quiver_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cythonize_quiver_paths)\".",
    "created_at": "2015-03-31T20:03:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260172",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing branch** from "[public/ticket/16453](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16453)" to "[u/SimonKing/cythonize_quiver_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cythonize_quiver_paths)".



---

archive/issue_comments_260173.json:
```json
{
    "body": "**Changing commit** from \"[9d56888d08c500f692116354e5ba0f498a84c6d0](https://github.com/sagemath/sagetrac-mirror/commit/9d56888d08c500f692116354e5ba0f498a84c6d0)\" to \"[b39b21d486dc28651b1c65536e2f6d43121b4135](https://github.com/sagemath/sagetrac-mirror/commit/b39b21d486dc28651b1c65536e2f6d43121b4135)\".",
    "created_at": "2015-03-31T20:03:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260173",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing commit** from "[9d56888d08c500f692116354e5ba0f498a84c6d0](https://github.com/sagemath/sagetrac-mirror/commit/9d56888d08c500f692116354e5ba0f498a84c6d0)" to "[b39b21d486dc28651b1c65536e2f6d43121b4135](https://github.com/sagemath/sagetrac-mirror/commit/b39b21d486dc28651b1c65536e2f6d43121b4135)".



---

archive/issue_comments_260174.json:
```json
{
    "body": "<a id='comment:6'></a>\nOne way to push on a given remote branch is\n\n```\ngit push trac HEAD:NAME_OF_THE_REMOTE_BRANCH\n```\n(where `trac` might have to be replaced with the name you give to the remote git server). Otherwise, there are default in `%SAGE_SRC/.git/config` for the `git push` command. You can also edit with some git command.\n\nVincent",
    "created_at": "2015-03-31T20:06:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260174",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>
One way to push on a given remote branch is

```
git push trac HEAD:NAME_OF_THE_REMOTE_BRANCH
```
(where `trac` might have to be replaced with the name you give to the remote git server). Otherwise, there are default in `%SAGE_SRC/.git/config` for the `git push` command. You can also edit with some git command.

Vincent



---

archive/issue_comments_260175.json:
```json
{
    "body": "<a id='comment:7'></a>\nWTF??? Can it be that my local branch was different from the remote (public) branch that has been attached? I don't see the former commits.",
    "created_at": "2015-03-31T20:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260175",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:7'></a>
WTF??? Can it be that my local branch was different from the remote (public) branch that has been attached? I don't see the former commits.



---

archive/issue_comments_260176.json:
```json
{
    "body": "<a id='comment:8'></a>\nI just tested: The old and the new branch are totally different. The old branch was based on 6.5.beta4, the new is based on 6.5.beta0.\n\nWhat shall I do? I guess I restore the old (public) branch, since it is based on a more recent beta, and will then move the latest two commits of the new branch on top of the old branch. Wouldn't have happened with mercurial, I suppose.",
    "created_at": "2015-03-31T20:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260176",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:8'></a>
I just tested: The old and the new branch are totally different. The old branch was based on 6.5.beta4, the new is based on 6.5.beta0.

What shall I do? I guess I restore the old (public) branch, since it is based on a more recent beta, and will then move the latest two commits of the new branch on top of the old branch. Wouldn't have happened with mercurial, I suppose.



---

archive/issue_comments_260177.json:
```json
{
    "body": "**Changing commit** from \"[b39b21d486dc28651b1c65536e2f6d43121b4135](https://github.com/sagemath/sagetrac-mirror/commit/b39b21d486dc28651b1c65536e2f6d43121b4135)\" to \"[70503e3e08b07e650efa899bcceefdf73a698de3](https://github.com/sagemath/sagetrac-mirror/commit/70503e3e08b07e650efa899bcceefdf73a698de3)\".",
    "created_at": "2015-03-31T20:20:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260177",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing commit** from "[b39b21d486dc28651b1c65536e2f6d43121b4135](https://github.com/sagemath/sagetrac-mirror/commit/b39b21d486dc28651b1c65536e2f6d43121b4135)" to "[70503e3e08b07e650efa899bcceefdf73a698de3](https://github.com/sagemath/sagetrac-mirror/commit/70503e3e08b07e650efa899bcceefdf73a698de3)".



---

archive/issue_comments_260178.json:
```json
{
    "body": "<a id='comment:9'></a>\nProbably, at some point in the past, I have moved this ticket from the `u/SimonKing` branch to the public branch, after cleaning everything by rebasing what I had before. Wouldn't have been needed with mercurial either, I suppose.\n\nAnyway. The branch at `u/SimonKing` was a mess, because of work done in one series of commits that was reverted in other commits. The `public` branch is nicer, and is what should be reviewed...",
    "created_at": "2015-03-31T20:20:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260178",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:9'></a>
Probably, at some point in the past, I have moved this ticket from the `u/SimonKing` branch to the public branch, after cleaning everything by rebasing what I had before. Wouldn't have been needed with mercurial either, I suppose.

Anyway. The branch at `u/SimonKing` was a mess, because of work done in one series of commits that was reverted in other commits. The `public` branch is nicer, and is what should be reviewed...



---

archive/issue_comments_260179.json:
```json
{
    "body": "**Changing branch** from \"[u/SimonKing/cythonize_quiver_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cythonize_quiver_paths)\" to \"[public/ticket/16453](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16453)\".",
    "created_at": "2015-03-31T20:20:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260179",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing branch** from "[u/SimonKing/cythonize_quiver_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cythonize_quiver_paths)" to "[public/ticket/16453](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16453)".



---

archive/issue_comments_260180.json:
```json
{
    "body": "<a id='comment:0'></a>\nThis needs to be rebased, presumably because of Trac #17890\n\nI have tried to do that and it did build, but some comparison tests were failing.",
    "created_at": "2015-05-07T08:54:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260180",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:0'></a>
This needs to be rebased, presumably because of Trac #17890

I have tried to do that and it did build, but some comparison tests were failing.



---

archive/issue_comments_260181.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2015-05-07T08:54:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260181",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_260182.json:
```json
{
    "body": "<a id='comment:1'></a>\nHello,\n\n0. I still would be very happy to have a class `GraphPaths` that would avoid quiver terminology. Though, I can factor out what I need for train-tracks later on.\n\n1. Why `deg` instead of `degree`? And why not making aliases\n\n```\ndegree = __len__\nlength = __len__\n```\n That would avoid duplication of the documentation.\n\n2. For the slices, it is much faster to use `PySlice_GetIndicesEx` (see e.g. `sage.combinat.words.word_char`)\n\n3. Please add a definition for `gcd`\n\n4. In `sage.combinat.words` we used `has_prefix` instead of `has_initial_segment`. It would be cool to keep a uniform terminology if it is not too bad from the quiver terminology point of view.\n\n5. `PY_NEW(X)` -> `X.__new__`\n\n6. Are you sure you need to initialize the `_path.length` to `0` in `__cinit__`?\n\n7. Why would you need the function `NewQuiverPath` that essentially duplicates the `_new_`. Note that most parents implement `_new_X`. Moreover, because you can use `type.__new__` I would rather remove your method `_new_`.\n\nVincent",
    "created_at": "2015-05-13T13:17:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260182",
    "user": "https://github.com/videlec"
}
```

<a id='comment:1'></a>
Hello,

0. I still would be very happy to have a class `GraphPaths` that would avoid quiver terminology. Though, I can factor out what I need for train-tracks later on.

1. Why `deg` instead of `degree`? And why not making aliases

```
degree = __len__
length = __len__
```
 That would avoid duplication of the documentation.

2. For the slices, it is much faster to use `PySlice_GetIndicesEx` (see e.g. `sage.combinat.words.word_char`)

3. Please add a definition for `gcd`

4. In `sage.combinat.words` we used `has_prefix` instead of `has_initial_segment`. It would be cool to keep a uniform terminology if it is not too bad from the quiver terminology point of view.

5. `PY_NEW(X)` -> `X.__new__`

6. Are you sure you need to initialize the `_path.length` to `0` in `__cinit__`?

7. Why would you need the function `NewQuiverPath` that essentially duplicates the `_new_`. Note that most parents implement `_new_X`. Moreover, because you can use `type.__new__` I would rather remove your method `_new_`.

Vincent



---

archive/issue_comments_260183.json:
```json
{
    "body": "<a id='comment:112'></a>\nHi!\n\nReplying to [vdelecroix](#comment%3A111):\n> 0. I still would be very happy to have a class `GraphPaths` that would avoid quiver terminology. Though, I can factor out what I need for train-tracks later on.\n\n\nI would somehow prefer to keep it there. After all, it was created with applications on quivers in mind.\n\n> 1. Why `deg` instead of `degree`?\n\n\nI think I was used to \"deg\" from a different CAS. Since it is `degree()` for polynomials, and since generally we seem to avoid abbreviations in method names, I agree this should be changed.\n\n> And why not making aliases\n> \n> ```\n> degree = __len__\n> length = __len__\n> ```\n>  That would avoid duplication of the documentation.\n\n\nGood idea!\n\n> 2. For the slices, it is much faster to use `PySlice_GetIndicesEx` (see e.g. `sage.combinat.words.word_char`)\n\n\nThanks for the hint!\n\n> 4. In `sage.combinat.words` we used `has_prefix` instead of `has_initial_segment`. It would be cool to keep a uniform terminology if it is not too bad from the quiver terminology point of view.\n\n\nThere is no particular reason for choosing \"has_initial_segment\". So, a uniform terminology seems possible here.\n\n> 5. `PY_NEW(X)` -> `X.__new__`\n\n\nOK, I heard that meanwhile the speed is the same.\n\n> 6. Are you sure you need to initialize the `_path.length` to `0` in `__cinit__`?\n\n\nI am sure that I did it for a reason (i.e., something crashed when not setting the length to zero in `__cinit__`), but I don't recall. Let's try if it works...\n\n> 7. Why would you need the function `NewQuiverPath` that essentially duplicates the `_new_`. Note that most parents implement `_new_X`. Moreover, because you can use `type.__new__` I would rather remove your method `_new_`.\n\n\nOK, that somehow makes sense. I don't think I can provide `_new_X` on the parent, since I need to take care of cdef stuff (the parent isn't in a cython file), but replacing `QuiverPath._new_` by `NewQuiverPath` should be possible.\n\nAnd of course I should take care of merging...",
    "created_at": "2015-05-13T13:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260183",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:112'></a>
Hi!

Replying to [vdelecroix](#comment%3A111):
> 0. I still would be very happy to have a class `GraphPaths` that would avoid quiver terminology. Though, I can factor out what I need for train-tracks later on.


I would somehow prefer to keep it there. After all, it was created with applications on quivers in mind.

> 1. Why `deg` instead of `degree`?


I think I was used to "deg" from a different CAS. Since it is `degree()` for polynomials, and since generally we seem to avoid abbreviations in method names, I agree this should be changed.

> And why not making aliases
> 
> ```
> degree = __len__
> length = __len__
> ```
>  That would avoid duplication of the documentation.


Good idea!

> 2. For the slices, it is much faster to use `PySlice_GetIndicesEx` (see e.g. `sage.combinat.words.word_char`)


Thanks for the hint!

> 4. In `sage.combinat.words` we used `has_prefix` instead of `has_initial_segment`. It would be cool to keep a uniform terminology if it is not too bad from the quiver terminology point of view.


There is no particular reason for choosing "has_initial_segment". So, a uniform terminology seems possible here.

> 5. `PY_NEW(X)` -> `X.__new__`


OK, I heard that meanwhile the speed is the same.

> 6. Are you sure you need to initialize the `_path.length` to `0` in `__cinit__`?


I am sure that I did it for a reason (i.e., something crashed when not setting the length to zero in `__cinit__`), but I don't recall. Let's try if it works...

> 7. Why would you need the function `NewQuiverPath` that essentially duplicates the `_new_`. Note that most parents implement `_new_X`. Moreover, because you can use `type.__new__` I would rather remove your method `_new_`.


OK, that somehow makes sense. I don't think I can provide `_new_X` on the parent, since I need to take care of cdef stuff (the parent isn't in a cython file), but replacing `QuiverPath._new_` by `NewQuiverPath` should be possible.

And of course I should take care of merging...



---

archive/issue_comments_260184.json:
```json
{
    "body": "<a id='comment:113'></a>\nReplying to [SimonKing](#comment%3A112):\n> > 7. Why would you need the function `NewQuiverPath` that essentially duplicates the `_new_`. Note that most parents implement `_new_X`. Moreover, because you can use `type.__new__` I would rather remove your method `_new_`.\n  \n> \n> OK, that somehow makes sense. I don't think I can provide `_new_X` on the parent, since I need to take care of cdef stuff (the parent isn't in a cython file), but replacing `QuiverPath._new_` by `NewQuiverPath` should be possible.\n\n\nOTOH, when having a quiver path `p`, I find it simpler to write `p._new_(s,e)` instead of `NewQuiverPath(p._parent,s,e, None)`.",
    "created_at": "2015-05-13T19:56:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260184",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:113'></a>
Replying to [SimonKing](#comment%3A112):
> > 7. Why would you need the function `NewQuiverPath` that essentially duplicates the `_new_`. Note that most parents implement `_new_X`. Moreover, because you can use `type.__new__` I would rather remove your method `_new_`.
  
> 
> OK, that somehow makes sense. I don't think I can provide `_new_X` on the parent, since I need to take care of cdef stuff (the parent isn't in a cython file), but replacing `QuiverPath._new_` by `NewQuiverPath` should be possible.


OTOH, when having a quiver path `p`, I find it simpler to write `p._new_(s,e)` instead of `NewQuiverPath(p._parent,s,e, None)`.



---

archive/issue_comments_260185.json:
```json
{
    "body": "**Changing commit** from \"[70503e3e08b07e650efa899bcceefdf73a698de3](https://github.com/sagemath/sagetrac-mirror/commit/70503e3e08b07e650efa899bcceefdf73a698de3)\" to \"[3e94fefc1367448db316992d513935900d9d59f7](https://github.com/sagemath/sagetrac-mirror/commit/3e94fefc1367448db316992d513935900d9d59f7)\".",
    "created_at": "2015-05-13T20:18:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260185",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[70503e3e08b07e650efa899bcceefdf73a698de3](https://github.com/sagemath/sagetrac-mirror/commit/70503e3e08b07e650efa899bcceefdf73a698de3)" to "[3e94fefc1367448db316992d513935900d9d59f7](https://github.com/sagemath/sagetrac-mirror/commit/3e94fefc1367448db316992d513935900d9d59f7)".



---

archive/issue_comments_260186.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e94fefc1367448db316992d513935900d9d59f7\">3e94fef</a></td><td><code>Merge with 6.7.beta4, cope with the change of _cmp_c_impl -> _cmp_</code></td></tr></table>\n",
    "created_at": "2015-05-13T20:18:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260186",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e94fefc1367448db316992d513935900d9d59f7">3e94fef</a></td><td><code>Merge with 6.7.beta4, cope with the change of _cmp_c_impl -> _cmp_</code></td></tr></table>




---

archive/issue_comments_260187.json:
```json
{
    "body": "<a id='comment:5'></a>\nI have merged, so that all tests in src/sage/quivers pass. Next I'll address your comments.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e94fefc1367448db316992d513935900d9d59f7\">3e94fef</a></td><td><code>Merge with 6.7.beta4, cope with the change of _cmp_c_impl -> _cmp_</code></td></tr></table>\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e94fefc1367448db316992d513935900d9d59f7\">3e94fef</a></td><td><code>Merge with 6.7.beta4, cope with the change of _cmp_c_impl -> _cmp_</code></td></tr></table>\n",
    "created_at": "2015-05-13T20:19:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260187",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:5'></a>
I have merged, so that all tests in src/sage/quivers pass. Next I'll address your comments.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e94fefc1367448db316992d513935900d9d59f7">3e94fef</a></td><td><code>Merge with 6.7.beta4, cope with the change of _cmp_c_impl -> _cmp_</code></td></tr></table>

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e94fefc1367448db316992d513935900d9d59f7">3e94fef</a></td><td><code>Merge with 6.7.beta4, cope with the change of _cmp_c_impl -> _cmp_</code></td></tr></table>




---

archive/issue_comments_260188.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93f531038c26bcbc0778d2ed589eedc7524426f4\">93f5310</a></td><td><code>Address reviewer's comments</code></td></tr></table>\n",
    "created_at": "2015-05-13T20:38:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260188",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93f531038c26bcbc0778d2ed589eedc7524426f4">93f5310</a></td><td><code>Address reviewer's comments</code></td></tr></table>




---

archive/issue_comments_260189.json:
```json
{
    "body": "**Changing commit** from \"[3e94fefc1367448db316992d513935900d9d59f7](https://github.com/sagemath/sagetrac-mirror/commit/3e94fefc1367448db316992d513935900d9d59f7)\" to \"[93f531038c26bcbc0778d2ed589eedc7524426f4](https://github.com/sagemath/sagetrac-mirror/commit/93f531038c26bcbc0778d2ed589eedc7524426f4)\".",
    "created_at": "2015-05-13T20:38:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260189",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3e94fefc1367448db316992d513935900d9d59f7](https://github.com/sagemath/sagetrac-mirror/commit/3e94fefc1367448db316992d513935900d9d59f7)" to "[93f531038c26bcbc0778d2ed589eedc7524426f4](https://github.com/sagemath/sagetrac-mirror/commit/93f531038c26bcbc0778d2ed589eedc7524426f4)".



---

archive/issue_comments_260190.json:
```json
{
    "body": "<a id='comment:117'></a>\nReplying to [vdelecroix](#comment%3A111):\n> 1. Why `deg` instead of `degree`? And why not making aliases\n> \n> ```\n> degree = __len__\n> length = __len__\n> ```\n>  That would avoid duplication of the documentation.\n\n\nDone\n \n> 2. For the slices, it is much faster to use `PySlice_GetIndicesEx` (see e.g. `sage.combinat.words.word_char`)\n\n\nDone\n\n> 3. Please add a definition for `gcd`\n\n\nOops, I just notice I forgot this...\n\n> 4. In `sage.combinat.words` we used `has_prefix` instead of `has_initial_segment`. It would be cool to keep a uniform terminology if it is not too bad from the quiver terminology point of view.\n\n\nDone.\n\n> 5. `PY_NEW(X)` -> `X.__new__`\n\n\n`QuiverPath.__new__` should do the job.\n\n> 6. Are you sure you need to initialize the `_path.length` to `0` in `__cinit__`?\n\n\nI removed it, and the tests still pass.\n\n> 7. Why would you need the function `NewQuiverPath` that essentially duplicates the `_new_`. Note that most parents implement `_new_X`. Moreover, because you can use `type.__new__` I would rather remove your method `_new_`.\n\n\nI kept `_new_`, since I find such functions practical (and I think there are other examples of elements having a `_new_` method to create a new element with the same parent).",
    "created_at": "2015-05-13T20:41:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260190",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:117'></a>
Replying to [vdelecroix](#comment%3A111):
> 1. Why `deg` instead of `degree`? And why not making aliases
> 
> ```
> degree = __len__
> length = __len__
> ```
>  That would avoid duplication of the documentation.


Done
 
> 2. For the slices, it is much faster to use `PySlice_GetIndicesEx` (see e.g. `sage.combinat.words.word_char`)


Done

> 3. Please add a definition for `gcd`


Oops, I just notice I forgot this...

> 4. In `sage.combinat.words` we used `has_prefix` instead of `has_initial_segment`. It would be cool to keep a uniform terminology if it is not too bad from the quiver terminology point of view.


Done.

> 5. `PY_NEW(X)` -> `X.__new__`


`QuiverPath.__new__` should do the job.

> 6. Are you sure you need to initialize the `_path.length` to `0` in `__cinit__`?


I removed it, and the tests still pass.

> 7. Why would you need the function `NewQuiverPath` that essentially duplicates the `_new_`. Note that most parents implement `_new_X`. Moreover, because you can use `type.__new__` I would rather remove your method `_new_`.


I kept `_new_`, since I find such functions practical (and I think there are other examples of elements having a `_new_` method to create a new element with the same parent).



---

archive/issue_comments_260191.json:
```json
{
    "body": "**Changing commit** from \"[93f531038c26bcbc0778d2ed589eedc7524426f4](https://github.com/sagemath/sagetrac-mirror/commit/93f531038c26bcbc0778d2ed589eedc7524426f4)\" to \"[cbde0c38b829a0cfe16ccae32c12361208fc9abb](https://github.com/sagemath/sagetrac-mirror/commit/cbde0c38b829a0cfe16ccae32c12361208fc9abb)\".",
    "created_at": "2015-05-13T20:44:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260191",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[93f531038c26bcbc0778d2ed589eedc7524426f4](https://github.com/sagemath/sagetrac-mirror/commit/93f531038c26bcbc0778d2ed589eedc7524426f4)" to "[cbde0c38b829a0cfe16ccae32c12361208fc9abb](https://github.com/sagemath/sagetrac-mirror/commit/cbde0c38b829a0cfe16ccae32c12361208fc9abb)".



---

archive/issue_comments_260192.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cbde0c38b829a0cfe16ccae32c12361208fc9abb\">cbde0c3</a></td><td><code>Elaborate on the meaning of gcd for paths</code></td></tr></table>\n",
    "created_at": "2015-05-13T20:44:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260192",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cbde0c38b829a0cfe16ccae32c12361208fc9abb">cbde0c3</a></td><td><code>Elaborate on the meaning of gcd for paths</code></td></tr></table>




---

archive/issue_comments_260193.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2015-05-13T20:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260193",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_260194.json:
```json
{
    "body": "<a id='comment:9'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cbde0c38b829a0cfe16ccae32c12361208fc9abb\">cbde0c3</a></td><td><code>Elaborate on the meaning of gcd for paths</code></td></tr></table>\n",
    "created_at": "2015-05-13T20:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260194",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:9'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cbde0c38b829a0cfe16ccae32c12361208fc9abb">cbde0c3</a></td><td><code>Elaborate on the meaning of gcd for paths</code></td></tr></table>




---

archive/issue_comments_260195.json:
```json
{
    "body": "**Reviewer:** Vincent Delecroix",
    "created_at": "2015-05-15T17:29:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260195",
    "user": "https://github.com/videlec"
}
```

**Reviewer:** Vincent Delecroix



---

archive/issue_comments_260196.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2015-05-15T17:29:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260196",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_260197.json:
```json
{
    "body": "<a id='comment:0'></a>\n8. This is not properly cythonized\n\n```\ncdef int a,b,c\n...\nc = cmp(a,b)\n```\n  What you obtain is: creation of a Python int to store `a`, of a Python int to store `b`, comparison invoking Python comparison, cast back the result to an int... the best solution would be to modify Cython. But in the meantine you can do something smarter\n\n   And this is even worse\n\n```\nc = cmp((cself._start,cself._end), (other._start,other._end))\n```\n   since you are building tuples.\n\n9. Could you replace the older style `for i from a <= i < b` with `for i in range(a,b)`?\n\n10. There is no need to declare `cdef object C`.\n\n21. In the reverse you are calling the constructor. It will be much faster to call `QuiverPath.__new__` and you use some C operation on bitseq to reverse the path.\n\n32. I maintain that the quiver terminology is bad ;-)\n\n```\nsage: G = DiGraph()\nsage: G.add_edge(0,0,'a')\nsage: M = G.path_semigroup()\nsage: M.an_element()\ne_0\nsage: type(_)   # WTF?\n<type 'sage.quivers.paths.QuiverPath'>\n```\n\nVincent",
    "created_at": "2015-05-15T17:29:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260197",
    "user": "https://github.com/videlec"
}
```

<a id='comment:0'></a>
8. This is not properly cythonized

```
cdef int a,b,c
...
c = cmp(a,b)
```
  What you obtain is: creation of a Python int to store `a`, of a Python int to store `b`, comparison invoking Python comparison, cast back the result to an int... the best solution would be to modify Cython. But in the meantine you can do something smarter

   And this is even worse

```
c = cmp((cself._start,cself._end), (other._start,other._end))
```
   since you are building tuples.

9. Could you replace the older style `for i from a <= i < b` with `for i in range(a,b)`?

10. There is no need to declare `cdef object C`.

21. In the reverse you are calling the constructor. It will be much faster to call `QuiverPath.__new__` and you use some C operation on bitseq to reverse the path.

32. I maintain that the quiver terminology is bad ;-)

```
sage: G = DiGraph()
sage: G.add_edge(0,0,'a')
sage: M = G.path_semigroup()
sage: M.an_element()
e_0
sage: type(_)   # WTF?
<type 'sage.quivers.paths.QuiverPath'>
```

Vincent



---

archive/issue_comments_260198.json:
```json
{
    "body": "<a id='comment:1'></a>\nHere is a timing for comparison. First, as it is now:\n\n```\nsage: D = DiGraph({0:{0:['x','y','z']}}).path_semigroup()\nsage: L = sum([list(D.iter_paths_by_length_and_startpoint(i,0)) for i in range(5)], [])\nsage: def test(L):\n....:     for a in L:\n....:         for b in L:\n....:             cmp(a,b)\n....:             \nsage: %timeit test(L)\n100 loops, best of 3: 9.65 ms per loop\n```\n\nAnd with an attempt to replace \"cmp\" with \"if\" clauses:\n\n```\nsage: %timeit test(L)\n100 loops, best of 3: 5.79 ms per loop\n```\nThus, it helps. I thought cython would be \"clever\" when dealing with cmp.",
    "created_at": "2015-05-15T21:35:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260198",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:1'></a>
Here is a timing for comparison. First, as it is now:

```
sage: D = DiGraph({0:{0:['x','y','z']}}).path_semigroup()
sage: L = sum([list(D.iter_paths_by_length_and_startpoint(i,0)) for i in range(5)], [])
sage: def test(L):
....:     for a in L:
....:         for b in L:
....:             cmp(a,b)
....:             
sage: %timeit test(L)
100 loops, best of 3: 9.65 ms per loop
```

And with an attempt to replace "cmp" with "if" clauses:

```
sage: %timeit test(L)
100 loops, best of 3: 5.79 ms per loop
```
Thus, it helps. I thought cython would be "clever" when dealing with cmp.



---

archive/issue_comments_260199.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9168ed301ca46c7694812b5766cda3644634e289\">9168ed3</a></td><td><code>Some Cython tweaks for quiver paths</code></td></tr></table>\n",
    "created_at": "2015-05-15T21:58:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260199",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9168ed301ca46c7694812b5766cda3644634e289">9168ed3</a></td><td><code>Some Cython tweaks for quiver paths</code></td></tr></table>




---

archive/issue_comments_260200.json:
```json
{
    "body": "**Changing commit** from \"[cbde0c38b829a0cfe16ccae32c12361208fc9abb](https://github.com/sagemath/sagetrac-mirror/commit/cbde0c38b829a0cfe16ccae32c12361208fc9abb)\" to \"[9168ed301ca46c7694812b5766cda3644634e289](https://github.com/sagemath/sagetrac-mirror/commit/9168ed301ca46c7694812b5766cda3644634e289)\".",
    "created_at": "2015-05-15T21:58:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260200",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cbde0c38b829a0cfe16ccae32c12361208fc9abb](https://github.com/sagemath/sagetrac-mirror/commit/cbde0c38b829a0cfe16ccae32c12361208fc9abb)" to "[9168ed301ca46c7694812b5766cda3644634e289](https://github.com/sagemath/sagetrac-mirror/commit/9168ed301ca46c7694812b5766cda3644634e289)".



---

archive/issue_comments_260201.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2015-05-15T22:08:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260201",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_260202.json:
```json
{
    "body": "<a id='comment:123'></a>\nReplying to [vdelecroix](#comment%3A120):\n> 8. This is not properly cythonized\n\n\nI replaced cmp by boring \"if\" clauses. It is faster, according to my previous comment.\n \n> 9. Could you replace the older style `for i from a <= i < b` with `for i in range(a,b)`?\n> \n> 10. There is no need to declare `cdef object C`.\n\n\nDone and done.\n\n> 11. In the reverse you are calling the constructor. It will be much faster to call `QuiverPath.__new__` and you use some C operation on bitseq to reverse the path.\n\n\nHere is a comparison. The old code:\n\n```\nsage: D = DiGraph({0:{0:['x','y','z']}}).path_semigroup()\nsage: L = sum([list(D.iter_paths_by_length_and_startpoint(i,0)) for i in range(5)], [])\nsage: %timeit [p.reverse() for p in L]\n10 loops, best of 3: 44.3 ms per loop\n```\nThe new code:\n\n```\nsage: %timeit [p.reverse() for p in L]\n10 loops, best of 3: 44 ms per loop\n```\n\nHmmm. It didn't really improve. Perhaps you have a better idea to make it faster?\n\nBest regards,\n\nSimon",
    "created_at": "2015-05-15T22:08:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260202",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:123'></a>
Replying to [vdelecroix](#comment%3A120):
> 8. This is not properly cythonized


I replaced cmp by boring "if" clauses. It is faster, according to my previous comment.
 
> 9. Could you replace the older style `for i from a <= i < b` with `for i in range(a,b)`?
> 
> 10. There is no need to declare `cdef object C`.


Done and done.

> 11. In the reverse you are calling the constructor. It will be much faster to call `QuiverPath.__new__` and you use some C operation on bitseq to reverse the path.


Here is a comparison. The old code:

```
sage: D = DiGraph({0:{0:['x','y','z']}}).path_semigroup()
sage: L = sum([list(D.iter_paths_by_length_and_startpoint(i,0)) for i in range(5)], [])
sage: %timeit [p.reverse() for p in L]
10 loops, best of 3: 44.3 ms per loop
```
The new code:

```
sage: %timeit [p.reverse() for p in L]
10 loops, best of 3: 44 ms per loop
```

Hmmm. It didn't really improve. Perhaps you have a better idea to make it faster?

Best regards,

Simon



---

archive/issue_comments_260203.json:
```json
{
    "body": "<a id='comment:124'></a>\nReplying to [SimonKing](#comment%3A123):\n> Replying to [vdelecroix](#comment%3A120):\n> > 8. This is not properly cythonized\n  \n> \n> I replaced cmp by boring \"if\" clauses. It is faster, according to my previous comment.\n\n\nMe too. I just run cython on a `cmp(a,b)` and just found out the crazy piece of code I get! I will see whether I can provide a fix on the Cython side.\n\nFor the sake of this ticket, you might factor:\n\n```\ncdef inline int c_int_cmp(int a, int b):\n   return (a > b) - (a < b)\n```\nand then\n\n```\ncdef int c\nc = c_int_cmp(other._path.length, cself._path.length)\nif c: return c\nc = c_int_cmp(cself._start, other._start)\nif c: return c\nc = c_int_cmp(cself._end, other._end)\nif c: return c\n...\n```\n  that way when Cython is up to date with `cmp` you can just replace `c_int_cmp -> cmp`.\n\n> > 11. In the reverse you are calling the constructor. It will be much faster to call `QuiverPath.__new__` and you use some C operation on bitseq to reverse the path.\n  \n> \n> Here is a comparison. The old code:\n\n\nI guess this is because of the line\n\n```\nQ = self._parent.reverse()\n```\nI will do some profiling.\n\nBest\nVincent",
    "created_at": "2015-05-16T08:29:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260203",
    "user": "https://github.com/videlec"
}
```

<a id='comment:124'></a>
Replying to [SimonKing](#comment%3A123):
> Replying to [vdelecroix](#comment%3A120):
> > 8. This is not properly cythonized
  
> 
> I replaced cmp by boring "if" clauses. It is faster, according to my previous comment.


Me too. I just run cython on a `cmp(a,b)` and just found out the crazy piece of code I get! I will see whether I can provide a fix on the Cython side.

For the sake of this ticket, you might factor:

```
cdef inline int c_int_cmp(int a, int b):
   return (a > b) - (a < b)
```
and then

```
cdef int c
c = c_int_cmp(other._path.length, cself._path.length)
if c: return c
c = c_int_cmp(cself._start, other._start)
if c: return c
c = c_int_cmp(cself._end, other._end)
if c: return c
...
```
  that way when Cython is up to date with `cmp` you can just replace `c_int_cmp -> cmp`.

> > 11. In the reverse you are calling the constructor. It will be much faster to call `QuiverPath.__new__` and you use some C operation on bitseq to reverse the path.
  
> 
> Here is a comparison. The old code:


I guess this is because of the line

```
Q = self._parent.reverse()
```
I will do some profiling.

Best
Vincent



---

archive/issue_comments_260204.json:
```json
{
    "body": "<a id='comment:5'></a>\nIndeed. Adding `@cached_method` to `PathSemigroup.reverse` I got a great speedup. With\n\n```\nsage: G = DiGraph(loops=True)\nsage: G.add_edge(1,1,'a')\nsage: G.add_edge(1,2,'b')\nsage: G.add_edge(2,1,'c')\nsage: P = G.path_semigroup()\nsage: e1,e2,a,b,c=P.gens()\nsage: p = a*b*c*b*c*a*a\n```\n\nthen without cache\n\n```\nsage: timeit(\"p.reverse()\", number=1000)\n1000 loops, best of 3: 179 \u00b5s per loop\n```\nand with cache\n\n```\nsage: timeit(\"p.reverse()\", number=1000)\n1000 loops, best of 3: 1 \u00b5s per loop\n```\n\nIs it worth it? Actually it would be nicer for `P.reverse().reverse() is P` to be true. Possible hack\n\n```\n@cached_method\ndef reverse(self):\n    p = self._quiver.reverse().path_semigroup()\n    p.reverse.set_cache(self)\n    return p\n```\n\nVincent",
    "created_at": "2015-05-16T09:52:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260204",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
Indeed. Adding `@cached_method` to `PathSemigroup.reverse` I got a great speedup. With

```
sage: G = DiGraph(loops=True)
sage: G.add_edge(1,1,'a')
sage: G.add_edge(1,2,'b')
sage: G.add_edge(2,1,'c')
sage: P = G.path_semigroup()
sage: e1,e2,a,b,c=P.gens()
sage: p = a*b*c*b*c*a*a
```

then without cache

```
sage: timeit("p.reverse()", number=1000)
1000 loops, best of 3: 179 µs per loop
```
and with cache

```
sage: timeit("p.reverse()", number=1000)
1000 loops, best of 3: 1 µs per loop
```

Is it worth it? Actually it would be nicer for `P.reverse().reverse() is P` to be true. Possible hack

```
@cached_method
def reverse(self):
    p = self._quiver.reverse().path_semigroup()
    p.reverse.set_cache(self)
    return p
```

Vincent



---

archive/issue_comments_260205.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2015-05-16T09:54:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260205",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_260206.json:
```json
{
    "body": "<a id='comment:127'></a>\nReplying to [vdelecroix](#comment%3A125):\n> Indeed. Adding `@cached_method` to `PathSemigroup.reverse` I got a great speedup.\n\n\nNo surprise. Obviously that's the bottle neck.\n\n> Is it worth it?\n\n\nI am surprised that it isn't cached_method yet. Clearly, creating the reverse of the quiver of a path semigroup should be done only once.\n\n> Actually it would be nicer for `P.reverse().reverse() is P` to be true.\n\n\nWhat is P here? If P is a path semigroup, I agree that `P.reverse().reverse()` should be identical with P. But if P is a path, I would disagree.\n\n> Possible hack\n> \n> ```\n> @cached_method\n> def reverse(self):\n>     p = self._quiver.reverse().path_semigroup()\n>     p.reverse.set_cache(self)\n>     return p\n> ```\n\n\nIs that really needed? I thought that `UniqueRepresentation` did the job. So, using a `cached_method` would not be needed to ensure uniqueness, but would speed-up things.\n\nI'll test.",
    "created_at": "2015-05-16T21:06:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260206",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:127'></a>
Replying to [vdelecroix](#comment%3A125):
> Indeed. Adding `@cached_method` to `PathSemigroup.reverse` I got a great speedup.


No surprise. Obviously that's the bottle neck.

> Is it worth it?


I am surprised that it isn't cached_method yet. Clearly, creating the reverse of the quiver of a path semigroup should be done only once.

> Actually it would be nicer for `P.reverse().reverse() is P` to be true.


What is P here? If P is a path semigroup, I agree that `P.reverse().reverse()` should be identical with P. But if P is a path, I would disagree.

> Possible hack
> 
> ```
> @cached_method
> def reverse(self):
>     p = self._quiver.reverse().path_semigroup()
>     p.reverse.set_cache(self)
>     return p
> ```


Is that really needed? I thought that `UniqueRepresentation` did the job. So, using a `cached_method` would not be needed to ensure uniqueness, but would speed-up things.

I'll test.



---

archive/issue_comments_260207.json:
```json
{
    "body": "**Changing commit** from \"[9168ed301ca46c7694812b5766cda3644634e289](https://github.com/sagemath/sagetrac-mirror/commit/9168ed301ca46c7694812b5766cda3644634e289)\" to \"[3f0adee12d6a268d339151628cb6b57b08c1d047](https://github.com/sagemath/sagetrac-mirror/commit/3f0adee12d6a268d339151628cb6b57b08c1d047)\".",
    "created_at": "2015-05-16T21:12:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260207",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9168ed301ca46c7694812b5766cda3644634e289](https://github.com/sagemath/sagetrac-mirror/commit/9168ed301ca46c7694812b5766cda3644634e289)" to "[3f0adee12d6a268d339151628cb6b57b08c1d047](https://github.com/sagemath/sagetrac-mirror/commit/3f0adee12d6a268d339151628cb6b57b08c1d047)".



---

archive/issue_comments_260208.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f0adee12d6a268d339151628cb6b57b08c1d047\">3f0adee</a></td><td><code>Use cached_method on PathSemigroup.reverese, for efficiency</code></td></tr></table>\n",
    "created_at": "2015-05-16T21:12:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260208",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f0adee12d6a268d339151628cb6b57b08c1d047">3f0adee</a></td><td><code>Use cached_method on PathSemigroup.reverese, for efficiency</code></td></tr></table>




---

archive/issue_comments_260209.json:
```json
{
    "body": "<a id='comment:9'></a>\nIndeed. With the current code, we already have \n\n```\nsage: D = DiGraph({0:{1:['x','y','z']}, 1:{0:['a','b','c']}}).path_semigroup()\nsage: D.reverse().reverse() is D\nTrue\n```\nTiming:\n\n```\nsage: %timeit D.reverse().reverse()\n1000 loops, best of 3: 806 \u00b5s per loop\n```\n\nBut with a cached method, we get\n\n```\nsage: D = DiGraph({0:{1:['x','y','z']}, 1:{0:['a','b','c']}}).path_semigroup()\nsage: D.reverse().reverse() is D\nTrue\nsage: %timeit D.reverse().reverse()\nThe slowest run took 16.68 times longer than the fastest. This could mean that an intermediate result is being cached \n1000000 loops, best of 3: 243 ns per loop\n```\n\nI'd be against having `p.reverse().reverse() is p` for a *path* p.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f0adee12d6a268d339151628cb6b57b08c1d047\">3f0adee</a></td><td><code>Use cached_method on PathSemigroup.reverese, for efficiency</code></td></tr></table>\n",
    "created_at": "2015-05-16T21:13:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260209",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:9'></a>
Indeed. With the current code, we already have 

```
sage: D = DiGraph({0:{1:['x','y','z']}, 1:{0:['a','b','c']}}).path_semigroup()
sage: D.reverse().reverse() is D
True
```
Timing:

```
sage: %timeit D.reverse().reverse()
1000 loops, best of 3: 806 µs per loop
```

But with a cached method, we get

```
sage: D = DiGraph({0:{1:['x','y','z']}, 1:{0:['a','b','c']}}).path_semigroup()
sage: D.reverse().reverse() is D
True
sage: %timeit D.reverse().reverse()
The slowest run took 16.68 times longer than the fastest. This could mean that an intermediate result is being cached 
1000000 loops, best of 3: 243 ns per loop
```

I'd be against having `p.reverse().reverse() is p` for a *path* p.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f0adee12d6a268d339151628cb6b57b08c1d047">3f0adee</a></td><td><code>Use cached_method on PathSemigroup.reverese, for efficiency</code></td></tr></table>




---

archive/issue_comments_260210.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2015-05-16T21:13:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260210",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_260211.json:
```json
{
    "body": "<a id='comment:0'></a>\nHi Simon,\n\n12. Trailing whitespaces in the last line of the docstring of `has_prefix`. And also one in `_cmp_`.\n\n23. In `__getitem__` you are building the whole list of edges of the unerlying graph but uses only at most two! I also guess that in the particular case that you are building a path starting from the same vertex there is no need to build this list.\n\n34. Still in `__getitem__`, what about supporting `-1` for the slices, i.e. `path[::-1]` would return the reverse? You can put that on the wish list, but this is how words behave\n\n```\nsage: w = Word(\"abbaaca\")\nsage: w[::-1]\nword: acaabba\nsage: w[4:1:-1]\nword: aab\n```\n  and by the way `reverse` is called `reversal` there\n\n```\nsage: w.reversal()\nword: acaabba\n```\n\n15. Still with terminology, there are two different notions of *subword* and *factors*:\n   - the *factors* of `aba` are ``, `a`, `b`, `ab`, `ba` and `aba`,\n   - `aa` is a *subword* of `aba` but not a *factor*.\n\n   But I guess that `subpath` is clear enough.\n\n26. Could you make `_cmp_`, `_repr_`, `__getitem__`, `__mod__`, `__iter__`, `_mul_` appear in the documentation (using the sphinx directive `automethod`)? `__len__` is ok since it has aliases.\n\n37. Could you avoid mentioning `self` in the method descriptions? You can replace by `this path`.\n\n48. The convention for `__nonzero__` is different from words where the empty word is considered zero. What do you think?\n\n59. There is no need to duplicate the `INPUT/OUTPUT` in the class docstring and the `__init__`. Accessing the help on the class with `?` you are getting both. And I found strange to have an `OUTPUT` section here.\n\n20. (independent of this ticket) The category is set to semigroup but would rather be semigroupoid... this is a partial operation! In particular the `TestSuite` failed on any non-trivial graphs because it tries to multiply `None` with paths. Though I like the convention of returning `None` if multiplication is not defined.\n\nVincent",
    "created_at": "2015-05-17T10:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260211",
    "user": "https://github.com/videlec"
}
```

<a id='comment:0'></a>
Hi Simon,

12. Trailing whitespaces in the last line of the docstring of `has_prefix`. And also one in `_cmp_`.

23. In `__getitem__` you are building the whole list of edges of the unerlying graph but uses only at most two! I also guess that in the particular case that you are building a path starting from the same vertex there is no need to build this list.

34. Still in `__getitem__`, what about supporting `-1` for the slices, i.e. `path[::-1]` would return the reverse? You can put that on the wish list, but this is how words behave

```
sage: w = Word("abbaaca")
sage: w[::-1]
word: acaabba
sage: w[4:1:-1]
word: aab
```
  and by the way `reverse` is called `reversal` there

```
sage: w.reversal()
word: acaabba
```

15. Still with terminology, there are two different notions of *subword* and *factors*:
   - the *factors* of `aba` are ``, `a`, `b`, `ab`, `ba` and `aba`,
   - `aa` is a *subword* of `aba` but not a *factor*.

   But I guess that `subpath` is clear enough.

26. Could you make `_cmp_`, `_repr_`, `__getitem__`, `__mod__`, `__iter__`, `_mul_` appear in the documentation (using the sphinx directive `automethod`)? `__len__` is ok since it has aliases.

37. Could you avoid mentioning `self` in the method descriptions? You can replace by `this path`.

48. The convention for `__nonzero__` is different from words where the empty word is considered zero. What do you think?

59. There is no need to duplicate the `INPUT/OUTPUT` in the class docstring and the `__init__`. Accessing the help on the class with `?` you are getting both. And I found strange to have an `OUTPUT` section here.

20. (independent of this ticket) The category is set to semigroup but would rather be semigroupoid... this is a partial operation! In particular the `TestSuite` failed on any non-trivial graphs because it tries to multiply `None` with paths. Though I like the convention of returning `None` if multiplication is not defined.

Vincent



---

archive/issue_comments_260212.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2015-05-17T10:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260212",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_260213.json:
```json
{
    "body": "<a id='comment:131'></a>\nHi Vincent,\n\nI just found that I need to revert my previous changes in the `reverse()` (soon to become `reversal()`) method: I can not simply revert the underlying bounded integer sequence, since in the reversed quiver the edge numbering won't match.\n\nThe big question is whether it is possible to create a reverse quiver so that the numbering DOES match...\n\nWhat I write below refers to a commit that I can't publish, because of the problem with \"reverse()\". But perhaps you can already comment...\n\nReplying to [vdelecroix](#comment%3A130):\n> 12. Trailing whitespaces in the last line of the docstring of `has_prefix`. And also one in `_cmp_`.\n\n\nDone.\n \n> 13. In `__getitem__` you are building the whole list of edges of the unerlying graph but uses only at most two!\n\n\nI know the INDEX of two edges in the list of all edges of the underlying graph, and I need to find out the start resp. end point of the two edges. Please tell me how to get the two edges (and ask for there start/end points) without having to pick them from the list of all edges.\n\n> I also guess that in the particular case that you are building a path starting from the same vertex there is no need to build this list.\n\n\nI think the only case in which there is no need to find out the start/end points of two edges (given by indices) in the graph is the case of `p[:]` (which returns `p`). I made this a special case, but other than that I don't see how to avoid the list of all edges (unless there is a cached TUPLE of edges of the graph, so that there is no need to re-create a list each time the list of edges is requested).\n\nHmmm, perhaps it makes sense to store the tuple of edges in the path semigroup! What do you think?\n\n> 14. Still in `__getitem__`, what about supporting `-1` for the slices, i.e. `path[::-1]` would return the reverse?\n\n\nOK, good idea.\n\n> 15. Still with terminology, there are two different notions of *subword* and *factors*:\n>    - the *factors* of `aba` are ``, `a`, `b`, `ab`, `ba` and `aba`,\n>    - `aa` is a *subword* of `aba` but not a *factor*.\n\n\nWho says that? I would never say that `aa` is a subword of `aba`.\n\n> 16. Could you make `_cmp_`, `_repr_`, `__getitem__`, `__mod__`, `__iter__`, `_mul_` appear in the documentation (using the sphinx directive `automethod`)? `__len__` is ok since it has aliases.\n\n\nIt is not very common to include magic Python methods (or their SageMath equivalents) into the docs. For good or bad.\n \n> 17. Could you avoid mentioning `self` in the method descriptions? You can replace by `this path`.\n\n\nI tried to. In one case, where `self` appears in an equation, I left it in.\n\n> 18. The convention for `__nonzero__` is different from words where the empty word is considered zero. What do you think?\n\n\nI guess you may be right. But I hope it won't create a problem in path algebras. If it does, then I should take care of it there, though.\n\n> 19. There is no need to duplicate the `INPUT/OUTPUT` in the class docstring and the `__init__`. Accessing the help on the class with `?` you are getting both. And I found strange to have an `OUTPUT` section here.\n\n\nOK. I hope it is fine to remove it from the class and keep it in `__init__`.\n\n> 20. (independent of this ticket) The category is set to semigroup but would rather be semigroupoid... this is a partial operation!\n\n\nIndeed, but I think we have no semigroupoid yet.\n\n> Though I like the convention of returning `None` if multiplication is not defined.\n\n\nI don't like that convention, but I think it is a well-established convention in the category/coercion world.",
    "created_at": "2015-05-17T11:32:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260213",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:131'></a>
Hi Vincent,

I just found that I need to revert my previous changes in the `reverse()` (soon to become `reversal()`) method: I can not simply revert the underlying bounded integer sequence, since in the reversed quiver the edge numbering won't match.

The big question is whether it is possible to create a reverse quiver so that the numbering DOES match...

What I write below refers to a commit that I can't publish, because of the problem with "reverse()". But perhaps you can already comment...

Replying to [vdelecroix](#comment%3A130):
> 12. Trailing whitespaces in the last line of the docstring of `has_prefix`. And also one in `_cmp_`.


Done.
 
> 13. In `__getitem__` you are building the whole list of edges of the unerlying graph but uses only at most two!


I know the INDEX of two edges in the list of all edges of the underlying graph, and I need to find out the start resp. end point of the two edges. Please tell me how to get the two edges (and ask for there start/end points) without having to pick them from the list of all edges.

> I also guess that in the particular case that you are building a path starting from the same vertex there is no need to build this list.


I think the only case in which there is no need to find out the start/end points of two edges (given by indices) in the graph is the case of `p[:]` (which returns `p`). I made this a special case, but other than that I don't see how to avoid the list of all edges (unless there is a cached TUPLE of edges of the graph, so that there is no need to re-create a list each time the list of edges is requested).

Hmmm, perhaps it makes sense to store the tuple of edges in the path semigroup! What do you think?

> 14. Still in `__getitem__`, what about supporting `-1` for the slices, i.e. `path[::-1]` would return the reverse?


OK, good idea.

> 15. Still with terminology, there are two different notions of *subword* and *factors*:
>    - the *factors* of `aba` are ``, `a`, `b`, `ab`, `ba` and `aba`,
>    - `aa` is a *subword* of `aba` but not a *factor*.


Who says that? I would never say that `aa` is a subword of `aba`.

> 16. Could you make `_cmp_`, `_repr_`, `__getitem__`, `__mod__`, `__iter__`, `_mul_` appear in the documentation (using the sphinx directive `automethod`)? `__len__` is ok since it has aliases.


It is not very common to include magic Python methods (or their SageMath equivalents) into the docs. For good or bad.
 
> 17. Could you avoid mentioning `self` in the method descriptions? You can replace by `this path`.


I tried to. In one case, where `self` appears in an equation, I left it in.

> 18. The convention for `__nonzero__` is different from words where the empty word is considered zero. What do you think?


I guess you may be right. But I hope it won't create a problem in path algebras. If it does, then I should take care of it there, though.

> 19. There is no need to duplicate the `INPUT/OUTPUT` in the class docstring and the `__init__`. Accessing the help on the class with `?` you are getting both. And I found strange to have an `OUTPUT` section here.


OK. I hope it is fine to remove it from the class and keep it in `__init__`.

> 20. (independent of this ticket) The category is set to semigroup but would rather be semigroupoid... this is a partial operation!


Indeed, but I think we have no semigroupoid yet.

> Though I like the convention of returning `None` if multiplication is not defined.


I don't like that convention, but I think it is a well-established convention in the category/coercion world.



---

archive/issue_comments_260214.json:
```json
{
    "body": "<a id='comment:132'></a>\nReplying to [SimonKing](#comment%3A131):\n> The big question is whether it is possible to create a reverse quiver so that the numbering DOES match\n\n>\n> ...\n> \n> Hmmm, perhaps it makes sense to store the tuple of edges in the path semigroup! What do you think?\n\n\nThe problem with \"reverse\" is that graphs sort the edges first by start- and endpoint and then by label. However, for my code, it makes more sense to just sort by labels (which are supposed to be unique). So, I could address both issues by storing a sorted list of edges and edge labels in the path semigroup.",
    "created_at": "2015-05-17T13:39:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260214",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:132'></a>
Replying to [SimonKing](#comment%3A131):
> The big question is whether it is possible to create a reverse quiver so that the numbering DOES match

>
> ...
> 
> Hmmm, perhaps it makes sense to store the tuple of edges in the path semigroup! What do you think?


The problem with "reverse" is that graphs sort the edges first by start- and endpoint and then by label. However, for my code, it makes more sense to just sort by labels (which are supposed to be unique). So, I could address both issues by storing a sorted list of edges and edge labels in the path semigroup.



---

archive/issue_comments_260215.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [SimonKing](#comment%3A131):\n> Hi Vincent,\n> \n> I just found that I need to revert my previous changes in the `reverse()` (soon to become `reversal()`) method: I can not simply revert the underlying bounded integer sequence, since in the reversed quiver the edge numbering won't match.\n> \n> The big question is whether it is possible to create a reverse quiver so that the numbering DOES match...\n\n\nI see... one way is to keep in the `PathSemigroup`:\n- the list of edges\n- a dictionary `edge -> index`\nIn order to ensure canonicity, you can just sort the list with respect to the labels. The problem is that in the constructor you check uniqueness but not sortability and that might be an issue! Do you mind if the labels are asked to have a total order? As a first approximation you can check that they all have the same type being one of: `int`, `float`, `Integer`, `Rational`, `str`, ... (and possibly add a keyword `assume_total_order`).\n\nThis is basically what you did propose but you need to check that the set of labels is indeed sortable!\n\n> Replying to [vdelecroix](#comment%3A130):\n> > 13. In `__getitem__` you are building the whole list of edges of the unerlying graph but uses only at most two!\n  \n> \n> I know the INDEX of two edges in the list of all edges of the underlying graph, and I need to find out the start resp. end point of the two edges. Please tell me how to get the two edges (and ask for there start/end points) without having to pick them from the list of all edges.\n> \n> > I also guess that in the particular case that you are building a path starting from the same vertex there is no need to build this list.\n\n> \n> I think the only case in which there is no need to find out the start/end points of two edges (given by indices) in the graph is the case of `p[:]` (which returns `p`). I made this a special case, but other than that I don't see how to avoid the list of all edges (unless there is a cached TUPLE of edges of the graph, so that there is no need to re-create a list each time the list of edges is requested).\n> \n> Hmmm, perhaps it makes sense to store the tuple of edges in the path semigroup! What do you think?\n\n\nWould make sense if moreover it helps to ensure compatibility with the reverse!\n\n> > 15. Still with terminology, there are two different notions of *subword* and *factors*:\n> >    - the *factors* of `aba` are ``, `a`, `b`, `ab`, `ba` and `aba`,\n> >    - `aa` is a *subword* of `aba` but not a *factor*.\n  \n> \n> Who says that? I would never say that `aa` is a subword of `aba`.\n\n\nSage does\n\n```\nsage: Word(\"aa\").is_subword_of(Word(\"aba\"))\nTrue\n```\nAnd in Lothaire book \"combinatorics on words\"\n\n```\nA word v in A^* is said to be a subword of x in A^* if \n\n    v = a_1 a_2 ... a_n\n\nand there exists y_0, y_1, ..., y_n in A^* such that\n\n   x = y_0 a_1 y_1 a_2 ... a_n y_n\n\nTherefore v is a subword of is it is a sub-sequence of x.\n```\n \n> > 18. The convention for `__nonzero__` is different from words where the empty word is considered zero. What do you think?\n  \n> \n> I guess you may be right. But I hope it won't create a problem in path algebras. If it does, then I should take care of it there, though.\n\n\nI do not know. If you look at the category of groups for instance, there is an implementation of `__nonzero__` in elements as `return False`. So I was more asking what do you think instead of asking you to change anything.",
    "created_at": "2015-05-17T13:41:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260215",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>
Replying to [SimonKing](#comment%3A131):
> Hi Vincent,
> 
> I just found that I need to revert my previous changes in the `reverse()` (soon to become `reversal()`) method: I can not simply revert the underlying bounded integer sequence, since in the reversed quiver the edge numbering won't match.
> 
> The big question is whether it is possible to create a reverse quiver so that the numbering DOES match...


I see... one way is to keep in the `PathSemigroup`:
- the list of edges
- a dictionary `edge -> index`
In order to ensure canonicity, you can just sort the list with respect to the labels. The problem is that in the constructor you check uniqueness but not sortability and that might be an issue! Do you mind if the labels are asked to have a total order? As a first approximation you can check that they all have the same type being one of: `int`, `float`, `Integer`, `Rational`, `str`, ... (and possibly add a keyword `assume_total_order`).

This is basically what you did propose but you need to check that the set of labels is indeed sortable!

> Replying to [vdelecroix](#comment%3A130):
> > 13. In `__getitem__` you are building the whole list of edges of the unerlying graph but uses only at most two!
  
> 
> I know the INDEX of two edges in the list of all edges of the underlying graph, and I need to find out the start resp. end point of the two edges. Please tell me how to get the two edges (and ask for there start/end points) without having to pick them from the list of all edges.
> 
> > I also guess that in the particular case that you are building a path starting from the same vertex there is no need to build this list.

> 
> I think the only case in which there is no need to find out the start/end points of two edges (given by indices) in the graph is the case of `p[:]` (which returns `p`). I made this a special case, but other than that I don't see how to avoid the list of all edges (unless there is a cached TUPLE of edges of the graph, so that there is no need to re-create a list each time the list of edges is requested).
> 
> Hmmm, perhaps it makes sense to store the tuple of edges in the path semigroup! What do you think?


Would make sense if moreover it helps to ensure compatibility with the reverse!

> > 15. Still with terminology, there are two different notions of *subword* and *factors*:
> >    - the *factors* of `aba` are ``, `a`, `b`, `ab`, `ba` and `aba`,
> >    - `aa` is a *subword* of `aba` but not a *factor*.
  
> 
> Who says that? I would never say that `aa` is a subword of `aba`.


Sage does

```
sage: Word("aa").is_subword_of(Word("aba"))
True
```
And in Lothaire book "combinatorics on words"

```
A word v in A^* is said to be a subword of x in A^* if 

    v = a_1 a_2 ... a_n

and there exists y_0, y_1, ..., y_n in A^* such that

   x = y_0 a_1 y_1 a_2 ... a_n y_n

Therefore v is a subword of is it is a sub-sequence of x.
```
 
> > 18. The convention for `__nonzero__` is different from words where the empty word is considered zero. What do you think?
  
> 
> I guess you may be right. But I hope it won't create a problem in path algebras. If it does, then I should take care of it there, though.


I do not know. If you look at the category of groups for instance, there is an implementation of `__nonzero__` in elements as `return False`. So I was more asking what do you think instead of asking you to change anything.



---

archive/issue_comments_260216.json:
```json
{
    "body": "<a id='comment:134'></a>\nReplying to [vdelecroix](#comment%3A133):\n> In order to ensure canonicity, you can just sort the list with respect to the labels. The problem is that in the constructor you check uniqueness but not sortability and that might be an issue! Do you mind if the labels are asked to have a total order? As a first approximation you can check that they all have the same type being one of: `int`, `float`, `Integer`, `Rational`, `str`, ... (and possibly add a keyword `assume_total_order`).\n\n\nI do check that all vertex labels are integers and all edge labels are strings.\n\n\n> This is basically what you did propose but you need to check that the set of labels is indeed sortable!\n\n\nWell, I just sort them...\n \n> Sage does\n> \n> ```\n> sage: Word(\"aa\").is_subword_of(Word(\"aba\"))\n> True\n> ```\n\n\nUnbelievable. Both from algebraic and linguistic point of view I would say that Sage's answer is wrong.\n\n> And in Lothaire book \"combinatorics on words\"\n> \n> ```\n> A word v in A^* is said to be a subword of x in A^* if \n> \n>     v = a_1 a_2 ... a_n\n> \n> and there exists y_0, y_1, ..., y_n in A^* such that\n> \n>    x = y_0 a_1 y_1 a_2 ... a_n y_n\n> \n> Therefore v is a subword of is it is a sub-sequence of x.\n> ```\n\n\nNice notion, but nothing that I would call a subword or sub-sequence.",
    "created_at": "2015-05-17T14:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260216",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:134'></a>
Replying to [vdelecroix](#comment%3A133):
> In order to ensure canonicity, you can just sort the list with respect to the labels. The problem is that in the constructor you check uniqueness but not sortability and that might be an issue! Do you mind if the labels are asked to have a total order? As a first approximation you can check that they all have the same type being one of: `int`, `float`, `Integer`, `Rational`, `str`, ... (and possibly add a keyword `assume_total_order`).


I do check that all vertex labels are integers and all edge labels are strings.


> This is basically what you did propose but you need to check that the set of labels is indeed sortable!


Well, I just sort them...
 
> Sage does
> 
> ```
> sage: Word("aa").is_subword_of(Word("aba"))
> True
> ```


Unbelievable. Both from algebraic and linguistic point of view I would say that Sage's answer is wrong.

> And in Lothaire book "combinatorics on words"
> 
> ```
> A word v in A^* is said to be a subword of x in A^* if 
> 
>     v = a_1 a_2 ... a_n
> 
> and there exists y_0, y_1, ..., y_n in A^* such that
> 
>    x = y_0 a_1 y_1 a_2 ... a_n y_n
> 
> Therefore v is a subword of is it is a sub-sequence of x.
> ```


Nice notion, but nothing that I would call a subword or sub-sequence.



---

archive/issue_comments_260217.json:
```json
{
    "body": "<a id='comment:135'></a>\nReplying to [SimonKing](#comment%3A134):\n> Nice notion, but nothing that I would call a subword or sub-sequence.\n\n\nSorry, I have to correct myself.\n\nI do call it a sub-sequence (in calculus, one has statements such as \"x is a cumulation point of a sequence if and only if there is a sub-sequence converging to x\"), but I would not call it a sub-word. Python seems to agree:\n\n```\nsage: 'aa' in 'abac'\nFalse\nsage: 'ba' in 'abac'\nTrue\n```\n\nAnd in the case of paths, it is *not* true that a sub-sequence of arrows gives rise to a path (in a path, the end/starting points of consecutive arrows must match). So, for sub-paths, it simply makes no sense to adopt the notion of a sub-word that Sage unfortunately uses.",
    "created_at": "2015-05-17T14:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260217",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:135'></a>
Replying to [SimonKing](#comment%3A134):
> Nice notion, but nothing that I would call a subword or sub-sequence.


Sorry, I have to correct myself.

I do call it a sub-sequence (in calculus, one has statements such as "x is a cumulation point of a sequence if and only if there is a sub-sequence converging to x"), but I would not call it a sub-word. Python seems to agree:

```
sage: 'aa' in 'abac'
False
sage: 'ba' in 'abac'
True
```

And in the case of paths, it is *not* true that a sub-sequence of arrows gives rise to a path (in a path, the end/starting points of consecutive arrows must match). So, for sub-paths, it simply makes no sense to adopt the notion of a sub-word that Sage unfortunately uses.



---

archive/issue_comments_260218.json:
```json
{
    "body": "<a id='comment:136'></a>\nReplying to [SimonKing](#comment%3A135):\n> Replying to [SimonKing](#comment%3A134):\n> > Nice notion, but nothing that I would call a subword or sub-sequence.\n\n> \n> Sorry, I have to correct myself.\n> Python seems to agree:\n> \n> ```\n> sage: 'aa' in 'abac'\n> False\n> sage: 'ba' in 'abac'\n> True\n> ```\n\n\nHere I do not like so much Python convention because you might not want consider 'contains' as an equivalent of 'factor'. For words, we did adopt the convetion that 'contains' means that the letter is contained in. Just like for lists, tuples\n\n```\nsage: [0, 1] in [0, 1, 2]\nFalse\nsage: 0 in [0, 1, 2]\nTrue\n```\n\n> And in the case of paths, it is *not* true that a sub-sequence of arrows gives rise to a path (in a path, the end/starting points of consecutive arrows must match). So, for sub-paths, it simply makes no sense to adopt the notion of a sub-word that Sage unfortunately uses.\n\n\nThat's why I said there is no ambiguity for paths ;-)",
    "created_at": "2015-05-17T14:30:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260218",
    "user": "https://github.com/videlec"
}
```

<a id='comment:136'></a>
Replying to [SimonKing](#comment%3A135):
> Replying to [SimonKing](#comment%3A134):
> > Nice notion, but nothing that I would call a subword or sub-sequence.

> 
> Sorry, I have to correct myself.
> Python seems to agree:
> 
> ```
> sage: 'aa' in 'abac'
> False
> sage: 'ba' in 'abac'
> True
> ```


Here I do not like so much Python convention because you might not want consider 'contains' as an equivalent of 'factor'. For words, we did adopt the convetion that 'contains' means that the letter is contained in. Just like for lists, tuples

```
sage: [0, 1] in [0, 1, 2]
False
sage: 0 in [0, 1, 2]
True
```

> And in the case of paths, it is *not* true that a sub-sequence of arrows gives rise to a path (in a path, the end/starting points of consecutive arrows must match). So, for sub-paths, it simply makes no sense to adopt the notion of a sub-word that Sage unfortunately uses.


That's why I said there is no ambiguity for paths ;-)



---

archive/issue_comments_260219.json:
```json
{
    "body": "<a id='comment:7'></a>\nFor the record: The changes discussed in the previous comments seem mostly harmless. But in fact, they break most of the tests, for reasons that are currently a mystery for me.",
    "created_at": "2015-05-17T15:58:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260219",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:7'></a>
For the record: The changes discussed in the previous comments seem mostly harmless. But in fact, they break most of the tests, for reasons that are currently a mystery for me.



---

archive/issue_comments_260220.json:
```json
{
    "body": "<a id='comment:8'></a>\n*All* of the errors are caused by the change of `__nonzero__`.",
    "created_at": "2015-05-17T16:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260220",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:8'></a>
*All* of the errors are caused by the change of `__nonzero__`.



---

archive/issue_comments_260221.json:
```json
{
    "body": "<a id='comment:139'></a>\nReplying to [SimonKing](#comment%3A138):\n> *All* of the errors are caused by the change of `__nonzero__`.\n\n\n... but it was possible to cope with it. So, soon I can push my changes...",
    "created_at": "2015-05-17T16:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260221",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:139'></a>
Replying to [SimonKing](#comment%3A138):
> *All* of the errors are caused by the change of `__nonzero__`.


... but it was possible to cope with it. So, soon I can push my changes...



---

archive/issue_comments_260222.json:
```json
{
    "body": "<a id='comment:0'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/028c85d54ce3fb932f167c1109e9b2aee96390ee\">028c85d</a></td><td><code>Store edge tuple as attribute of path semigroups; length zero path evaluate to false; fix some typos</code></td></tr></table>\n",
    "created_at": "2015-05-17T16:28:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260222",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:0'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/028c85d54ce3fb932f167c1109e9b2aee96390ee">028c85d</a></td><td><code>Store edge tuple as attribute of path semigroups; length zero path evaluate to false; fix some typos</code></td></tr></table>




---

archive/issue_comments_260223.json:
```json
{
    "body": "**Changing commit** from \"[3f0adee12d6a268d339151628cb6b57b08c1d047](https://github.com/sagemath/sagetrac-mirror/commit/3f0adee12d6a268d339151628cb6b57b08c1d047)\" to \"[028c85d54ce3fb932f167c1109e9b2aee96390ee](https://github.com/sagemath/sagetrac-mirror/commit/028c85d54ce3fb932f167c1109e9b2aee96390ee)\".",
    "created_at": "2015-05-17T16:28:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260223",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3f0adee12d6a268d339151628cb6b57b08c1d047](https://github.com/sagemath/sagetrac-mirror/commit/3f0adee12d6a268d339151628cb6b57b08c1d047)" to "[028c85d54ce3fb932f167c1109e9b2aee96390ee](https://github.com/sagemath/sagetrac-mirror/commit/028c85d54ce3fb932f167c1109e9b2aee96390ee)".



---

archive/issue_comments_260224.json:
```json
{
    "body": "**Changing commit** from \"[028c85d54ce3fb932f167c1109e9b2aee96390ee](https://github.com/sagemath/sagetrac-mirror/commit/028c85d54ce3fb932f167c1109e9b2aee96390ee)\" to \"[2dd32060428bd4cf0b150773de8867d91e380d2d](https://github.com/sagemath/sagetrac-mirror/commit/2dd32060428bd4cf0b150773de8867d91e380d2d)\".",
    "created_at": "2015-05-17T16:42:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260224",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[028c85d54ce3fb932f167c1109e9b2aee96390ee](https://github.com/sagemath/sagetrac-mirror/commit/028c85d54ce3fb932f167c1109e9b2aee96390ee)" to "[2dd32060428bd4cf0b150773de8867d91e380d2d](https://github.com/sagemath/sagetrac-mirror/commit/2dd32060428bd4cf0b150773de8867d91e380d2d)".



---

archive/issue_comments_260225.json:
```json
{
    "body": "<a id='comment:1'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2dd32060428bd4cf0b150773de8867d91e380d2d\">2dd3206</a></td><td><code>Fix path slicing with step -1, and add test</code></td></tr></table>\n",
    "created_at": "2015-05-17T16:42:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260225",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2dd32060428bd4cf0b150773de8867d91e380d2d">2dd3206</a></td><td><code>Fix path slicing with step -1, and add test</code></td></tr></table>




---

archive/issue_comments_260226.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2015-05-17T16:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260226",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_260227.json:
```json
{
    "body": "<a id='comment:142'></a>\nI think the two preceding commits address your concerns. In detail:\n\nReplying to [vdelecroix](#comment%3A130):\n> 12. Trailing whitespaces in the last line of the docstring of `has_prefix`. And also one in `_cmp_`.\n\n\nFixed.\n \n> 13. In `__getitem__` you are building the whole list of edges of the unerlying graph but uses only at most two! I also guess that in the particular case that you are building a path starting from the same vertex there is no need to build this list.\n\n\nFixed, by storing a tuple of sorted edge labels and sorted edges.\n\n> 14. Still in `__getitem__`, what about supporting `-1` for the slices, i.e. `path[::-1]` would return the reverse? You can put that on the wish list, but this is how words behave\n> \n> ```\n> sage: w = Word(\"abbaaca\")\n> sage: w[::-1]\n> word: acaabba\n> sage: w[4:1:-1]\n> word: aab\n> ```\n\n\nDone.\n\n>   and by the way `reverse` is called `reversal` there\n\n> {{{\n> sage: w.reversal()\n> word: acaabba\n> }}}\n\n\nI changed \"reverse\" to \"reversal\".\n \n> 15. Still with terminology, there are two different notions of *subword* and *factors*:\n>    - the *factors* of `aba` are ``, `a`, `b`, `ab`, `ba` and `aba`,\n>    - `aa` is a *subword* of `aba` but not a *factor*.\n\n\nSee previous discussion.\n\n> 16. Could you make `_cmp_`, `_repr_`, `__getitem__`, `__mod__`, `__iter__`, `_mul_` appear in the documentation (using the sphinx directive `automethod`)? `__len__` is ok since it has aliases.\n\n\nNot done yet. If you think that magic methods should belong to the reference manual: Can you give me a pointer how to do so? I am not in all cases (e.g., `_repr_`) convinced that the docstrings do belong to the reference manual.\n \n> 17. Could you avoid mentioning `self` in the method descriptions? You can replace by `this path`.\n\n\nDone, with exception of one equation.\n\n> 18. The convention for `__nonzero__` is different from words where the empty word is considered zero. What do you think?\n\n\nDone, which involved changes in other places.\n\n> 19. There is no need to duplicate the `INPUT/OUTPUT` in the class docstring and the `__init__`. Accessing the help on the class with `?` you are getting both. And I found strange to have an `OUTPUT` section here.\n\n\nOUTPUT is removed and INPUT is now only in the `__init__` docstring.",
    "created_at": "2015-05-17T16:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260227",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:142'></a>
I think the two preceding commits address your concerns. In detail:

Replying to [vdelecroix](#comment%3A130):
> 12. Trailing whitespaces in the last line of the docstring of `has_prefix`. And also one in `_cmp_`.


Fixed.
 
> 13. In `__getitem__` you are building the whole list of edges of the unerlying graph but uses only at most two! I also guess that in the particular case that you are building a path starting from the same vertex there is no need to build this list.


Fixed, by storing a tuple of sorted edge labels and sorted edges.

> 14. Still in `__getitem__`, what about supporting `-1` for the slices, i.e. `path[::-1]` would return the reverse? You can put that on the wish list, but this is how words behave
> 
> ```
> sage: w = Word("abbaaca")
> sage: w[::-1]
> word: acaabba
> sage: w[4:1:-1]
> word: aab
> ```


Done.

>   and by the way `reverse` is called `reversal` there

> {{{
> sage: w.reversal()
> word: acaabba
> }}}


I changed "reverse" to "reversal".
 
> 15. Still with terminology, there are two different notions of *subword* and *factors*:
>    - the *factors* of `aba` are ``, `a`, `b`, `ab`, `ba` and `aba`,
>    - `aa` is a *subword* of `aba` but not a *factor*.


See previous discussion.

> 16. Could you make `_cmp_`, `_repr_`, `__getitem__`, `__mod__`, `__iter__`, `_mul_` appear in the documentation (using the sphinx directive `automethod`)? `__len__` is ok since it has aliases.


Not done yet. If you think that magic methods should belong to the reference manual: Can you give me a pointer how to do so? I am not in all cases (e.g., `_repr_`) convinced that the docstrings do belong to the reference manual.
 
> 17. Could you avoid mentioning `self` in the method descriptions? You can replace by `this path`.


Done, with exception of one equation.

> 18. The convention for `__nonzero__` is different from words where the empty word is considered zero. What do you think?


Done, which involved changes in other places.

> 19. There is no need to duplicate the `INPUT/OUTPUT` in the class docstring and the `__init__`. Accessing the help on the class with `?` you are getting both. And I found strange to have an `OUTPUT` section here.


OUTPUT is removed and INPUT is now only in the `__init__` docstring.



---

archive/issue_comments_260228.json:
```json
{
    "body": "<a id='comment:3'></a>\nPS: Here is an improved timing, that probably is due to 1. caching the path semigroup of the reverse quiver and 2. storing the sorted edges and edge labels as attributes of path semigroups:\n\n```\nsage: D = DiGraph({0:{0:['x','y','z']}}).path_semigroup()\nsage: L = sum([list(D.iter_paths_by_length_and_startpoint(i,0)) for i in range(5)], [])\nsage: %timeit [p.reversal() for p in L]\nThe slowest run took 8.48 times longer than the fastest. This could mean that an intermediate result is being cached \n10000 loops, best of 3: 94.5 \u00b5s per loop\nsage: %timeit [p.reversal() for p in L]\n10000 loops, best of 3: 95.7 \u00b5s per loop\n```\nBefore, it was about 44 ms (not \u00b5s).",
    "created_at": "2015-05-17T16:57:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260228",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:3'></a>
PS: Here is an improved timing, that probably is due to 1. caching the path semigroup of the reverse quiver and 2. storing the sorted edges and edge labels as attributes of path semigroups:

```
sage: D = DiGraph({0:{0:['x','y','z']}}).path_semigroup()
sage: L = sum([list(D.iter_paths_by_length_and_startpoint(i,0)) for i in range(5)], [])
sage: %timeit [p.reversal() for p in L]
The slowest run took 8.48 times longer than the fastest. This could mean that an intermediate result is being cached 
10000 loops, best of 3: 94.5 µs per loop
sage: %timeit [p.reversal() for p in L]
10000 loops, best of 3: 95.7 µs per loop
```
Before, it was about 44 ms (not µs).



---

archive/issue_comments_260229.json:
```json
{
    "body": "<a id='comment:4'></a>\nAnother timing, for getitem:\n\n```\nsage: Q = DiGraph({1:{2:['a']}, 2:{3:['b']}, 3:{4:['c'], 1:['d']}}).path_semigroup()\nsage: p = Q([(1, 2, 'a'), (2, 3, 'b'), (3, 1, 'd'), (1, 2, 'a'), (2, 3, 'b'), (3, 4, 'c')])\nsage: %timeit p[3]\nThe slowest run took 23.67 times longer than the fastest. This could mean that an intermediate result is being cached \n1000000 loops, best of 3: 1.23 \u00b5s per loop\nsage: %timeit p[3]\nThe slowest run took 21.02 times longer than the fastest. This could mean that an intermediate result is being cached \n1000000 loops, best of 3: 1.24 \u00b5s per loop\nsage: %timeit p[1:4]\nThe slowest run took 35.55 times longer than the fastest. This could mean that an intermediate result is being cached \n1000000 loops, best of 3: 1.1 \u00b5s per loop\nsage: %timeit p[1:4]\nThe slowest run took 20.14 times longer than the fastest. This could mean that an intermediate result is being cached \n1000000 loops, best of 3: 1.1 \u00b5s per loop\n```\nRemoving the last two commits, getitem is much slower:\n\n```\nsage: Q = DiGraph({1:{2:['a']}, 2:{3:['b']}, 3:{4:['c'], 1:['d']}}).path_semigroup()\nsage: p = Q([(1, 2, 'a'), (2, 3, 'b'), (3, 1, 'd'), (1, 2, 'a'), (2, 3, 'b'), (3, 4, 'c')])\nsage: %timeit p[3]\nThe slowest run took 4.54 times longer than the fastest. This could mean that an intermediate result is being cached \n100000 loops, best of 3: 13.6 \u00b5s per loop\nsage: %timeit p[3]\nThe slowest run took 4.32 times longer than the fastest. This could mean that an intermediate result is being cached \n100000 loops, best of 3: 13.7 \u00b5s per loop\nsage: %timeit p[1:4]\nThe slowest run took 4.52 times longer than the fastest. This could mean that an intermediate result is being cached \n100000 loops, best of 3: 13 \u00b5s per loop\nsage: %timeit p[1:4]\nThe slowest run took 4.42 times longer than the fastest. This could mean that an intermediate result is being cached \n100000 loops, best of 3: 13.1 \u00b5s per loop\n```\n\nI suppose the reason for the improvement is, again, avoiding to recreate the list of edges of the quiver.",
    "created_at": "2015-05-17T17:03:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260229",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:4'></a>
Another timing, for getitem:

```
sage: Q = DiGraph({1:{2:['a']}, 2:{3:['b']}, 3:{4:['c'], 1:['d']}}).path_semigroup()
sage: p = Q([(1, 2, 'a'), (2, 3, 'b'), (3, 1, 'd'), (1, 2, 'a'), (2, 3, 'b'), (3, 4, 'c')])
sage: %timeit p[3]
The slowest run took 23.67 times longer than the fastest. This could mean that an intermediate result is being cached 
1000000 loops, best of 3: 1.23 µs per loop
sage: %timeit p[3]
The slowest run took 21.02 times longer than the fastest. This could mean that an intermediate result is being cached 
1000000 loops, best of 3: 1.24 µs per loop
sage: %timeit p[1:4]
The slowest run took 35.55 times longer than the fastest. This could mean that an intermediate result is being cached 
1000000 loops, best of 3: 1.1 µs per loop
sage: %timeit p[1:4]
The slowest run took 20.14 times longer than the fastest. This could mean that an intermediate result is being cached 
1000000 loops, best of 3: 1.1 µs per loop
```
Removing the last two commits, getitem is much slower:

```
sage: Q = DiGraph({1:{2:['a']}, 2:{3:['b']}, 3:{4:['c'], 1:['d']}}).path_semigroup()
sage: p = Q([(1, 2, 'a'), (2, 3, 'b'), (3, 1, 'd'), (1, 2, 'a'), (2, 3, 'b'), (3, 4, 'c')])
sage: %timeit p[3]
The slowest run took 4.54 times longer than the fastest. This could mean that an intermediate result is being cached 
100000 loops, best of 3: 13.6 µs per loop
sage: %timeit p[3]
The slowest run took 4.32 times longer than the fastest. This could mean that an intermediate result is being cached 
100000 loops, best of 3: 13.7 µs per loop
sage: %timeit p[1:4]
The slowest run took 4.52 times longer than the fastest. This could mean that an intermediate result is being cached 
100000 loops, best of 3: 13 µs per loop
sage: %timeit p[1:4]
The slowest run took 4.42 times longer than the fastest. This could mean that an intermediate result is being cached 
100000 loops, best of 3: 13.1 µs per loop
```

I suppose the reason for the improvement is, again, avoiding to recreate the list of edges of the quiver.



---

archive/issue_comments_260230.json:
```json
{
    "body": "<a id='comment:5'></a>\nAccording to the plugin, I forgot to add tests for one function in `paths.pyx`. But which one?\n\nIt seems to be `__cmp__`, but that's in fact tested in `_cmp_`.",
    "created_at": "2015-05-17T23:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260230",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:5'></a>
According to the plugin, I forgot to add tests for one function in `paths.pyx`. But which one?

It seems to be `__cmp__`, but that's in fact tested in `_cmp_`.



---

archive/issue_comments_260231.json:
```json
{
    "body": "<a id='comment:6'></a>\n\n```\ndef __cmp__(self, other):\n    r\"\"\"\n    TESTS::\n\n        sage: print \"this is tested in _cmp_\"  # indirect doctest\n        this is tested in _cmp_\n    \"\"\"\n```\n\nMore seriously, you can try to compare an empty path with the integer 1 here.\n\nVincent",
    "created_at": "2015-05-18T07:32:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260231",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>

```
def __cmp__(self, other):
    r"""
    TESTS::

        sage: print "this is tested in _cmp_"  # indirect doctest
        this is tested in _cmp_
    """
```

More seriously, you can try to compare an empty path with the integer 1 here.

Vincent



---

archive/issue_comments_260232.json:
```json
{
    "body": "<a id='comment:7'></a>\nAnd I just noticed that you have an unused variable `cdef tuple arrow` in the constructor of paths.",
    "created_at": "2015-05-18T07:34:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260232",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>
And I just noticed that you have an unused variable `cdef tuple arrow` in the constructor of paths.



---

archive/issue_comments_260233.json:
```json
{
    "body": "**Changing commit** from \"[2dd32060428bd4cf0b150773de8867d91e380d2d](https://github.com/sagemath/sagetrac-mirror/commit/2dd32060428bd4cf0b150773de8867d91e380d2d)\" to \"[832742b7f0b0977d8de178332fec7b082fb6003c](https://github.com/sagemath/sagetrac-mirror/commit/832742b7f0b0977d8de178332fec7b082fb6003c)\".",
    "created_at": "2015-05-18T09:07:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260233",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2dd32060428bd4cf0b150773de8867d91e380d2d](https://github.com/sagemath/sagetrac-mirror/commit/2dd32060428bd4cf0b150773de8867d91e380d2d)" to "[832742b7f0b0977d8de178332fec7b082fb6003c](https://github.com/sagemath/sagetrac-mirror/commit/832742b7f0b0977d8de178332fec7b082fb6003c)".



---

archive/issue_comments_260234.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/832742b7f0b0977d8de178332fec7b082fb6003c\">832742b</a></td><td><code>Addressing reviewer's comments on quiver paths</code></td></tr></table>\n",
    "created_at": "2015-05-18T09:07:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260234",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/832742b7f0b0977d8de178332fec7b082fb6003c">832742b</a></td><td><code>Addressing reviewer's comments on quiver paths</code></td></tr></table>




---

archive/issue_comments_260235.json:
```json
{
    "body": "<a id='comment:149'></a>\nReplying to [vdelecroix](#comment%3A147):\n> And I just noticed that you have an unused variable `cdef tuple arrow` in the constructor of paths.\n\n\nI removed that line and added a test for `__cmp__` (sorry, I forgot to add \"indirect doctest\").",
    "created_at": "2015-05-18T09:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260235",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:149'></a>
Replying to [vdelecroix](#comment%3A147):
> And I just noticed that you have an unused variable `cdef tuple arrow` in the constructor of paths.


I removed that line and added a test for `__cmp__` (sorry, I forgot to add "indirect doctest").



---

archive/issue_comments_260236.json:
```json
{
    "body": "<a id='comment:150'></a>\nReplying to [SimonKing](#comment%3A149):\n> I removed that line and added a test for `__cmp__` (sorry, I forgot to add \"indirect doctest\").\n\n\nNice! The coverage script is clever enough to find that comparison *is* tested:\n\n```\n> ./sage --coverage src/sage/quivers/\n------------------------------------------------------------------------\nNo functions in src/sage/quivers/__init__.py\n------------------------------------------------------------------------\nSCORE src/sage/quivers/algebra.py: 100.0% (19 of 19)\n------------------------------------------------------------------------\nSCORE src/sage/quivers/homspace.py: 100.0% (16 of 16)\n------------------------------------------------------------------------\nSCORE src/sage/quivers/morphism.py: 100.0% (34 of 34)\n------------------------------------------------------------------------\nSCORE src/sage/quivers/path_semigroup.py: 100.0% (27 of 27)\n------------------------------------------------------------------------\nSCORE src/sage/quivers/paths.pyx: 100.0% (19 of 19)\n------------------------------------------------------------------------\nSCORE src/sage/quivers/representation.py: 100.0% (57 of 57)\n------------------------------------------------------------------------\n```",
    "created_at": "2015-05-18T09:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260236",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:150'></a>
Replying to [SimonKing](#comment%3A149):
> I removed that line and added a test for `__cmp__` (sorry, I forgot to add "indirect doctest").


Nice! The coverage script is clever enough to find that comparison *is* tested:

```
> ./sage --coverage src/sage/quivers/
------------------------------------------------------------------------
No functions in src/sage/quivers/__init__.py
------------------------------------------------------------------------
SCORE src/sage/quivers/algebra.py: 100.0% (19 of 19)
------------------------------------------------------------------------
SCORE src/sage/quivers/homspace.py: 100.0% (16 of 16)
------------------------------------------------------------------------
SCORE src/sage/quivers/morphism.py: 100.0% (34 of 34)
------------------------------------------------------------------------
SCORE src/sage/quivers/path_semigroup.py: 100.0% (27 of 27)
------------------------------------------------------------------------
SCORE src/sage/quivers/paths.pyx: 100.0% (19 of 19)
------------------------------------------------------------------------
SCORE src/sage/quivers/representation.py: 100.0% (57 of 57)
------------------------------------------------------------------------
```



---

archive/issue_comments_260237.json:
```json
{
    "body": "**Changing branch** from \"[public/ticket/16453](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16453)\" to \"[u/vdelecroix/16453](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16453)\".",
    "created_at": "2015-05-24T11:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260237",
    "user": "https://github.com/videlec"
}
```

**Changing branch** from "[public/ticket/16453](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16453)" to "[u/vdelecroix/16453](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16453)".



---

archive/issue_comments_260238.json:
```json
{
    "body": "<a id='comment:1'></a>\nHello Simon,\n\n21. I propose a commit to simplify the `check` in element construction. It removes the argument from the `QuiverPath` and move all the code to check inside ` PathSemigroup`. In doing so I removed the ability to initialize a path from\n\n```\n[(1,1), (1,2,'a'), (2,2)]\n```\n  Tell me what you think.\n\n22. Are you intensively using the iteration over paths? If so, note that it can be much much faster.\n\nVincent\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c4c54a8b536e24881c2e0a88c77d0340193b358\">3c4c54a</a></td><td><code>Trac #16453: put all the check in path_semigroup.py</code></td></tr></table>\n",
    "created_at": "2015-05-24T11:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260238",
    "user": "https://github.com/videlec"
}
```

<a id='comment:1'></a>
Hello Simon,

21. I propose a commit to simplify the `check` in element construction. It removes the argument from the `QuiverPath` and move all the code to check inside ` PathSemigroup`. In doing so I removed the ability to initialize a path from

```
[(1,1), (1,2,'a'), (2,2)]
```
  Tell me what you think.

22. Are you intensively using the iteration over paths? If so, note that it can be much much faster.

Vincent

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c4c54a8b536e24881c2e0a88c77d0340193b358">3c4c54a</a></td><td><code>Trac #16453: put all the check in path_semigroup.py</code></td></tr></table>




---

archive/issue_comments_260239.json:
```json
{
    "body": "**Changing commit** from \"[832742b7f0b0977d8de178332fec7b082fb6003c](https://github.com/sagemath/sagetrac-mirror/commit/832742b7f0b0977d8de178332fec7b082fb6003c)\" to \"[3c4c54a8b536e24881c2e0a88c77d0340193b358](https://github.com/sagemath/sagetrac-mirror/commit/3c4c54a8b536e24881c2e0a88c77d0340193b358)\".",
    "created_at": "2015-05-24T11:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260239",
    "user": "https://github.com/videlec"
}
```

**Changing commit** from "[832742b7f0b0977d8de178332fec7b082fb6003c](https://github.com/sagemath/sagetrac-mirror/commit/832742b7f0b0977d8de178332fec7b082fb6003c)" to "[3c4c54a8b536e24881c2e0a88c77d0340193b358](https://github.com/sagemath/sagetrac-mirror/commit/3c4c54a8b536e24881c2e0a88c77d0340193b358)".



---

archive/issue_comments_260240.json:
```json
{
    "body": "<a id='comment:152'></a>\nReplying to [vdelecroix](#comment%3A151):\n> 21. I propose a commit to simplify the `check` in element construction. It removes the argument from the `QuiverPath` and move all the code to check inside ` PathSemigroup`.\n\n\nI think that's rather reasonable.\n\n> In doing so I removed the ability to initialize a path from\n> \n> ```\n> [(1,1), (1,2,'a'), (2,2)]\n> ```\n>   Tell me what you think.\n\n\nIn my applications, I would never represent a path in that way. So, it's fine for me.\n\n> 22. Are you intensively using the iteration over paths?\n\n\nNo.\n\n> If so, note that it can be much much faster.\n\n\nHow? I don't use iteration so much, but other people might do.",
    "created_at": "2015-05-25T15:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260240",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:152'></a>
Replying to [vdelecroix](#comment%3A151):
> 21. I propose a commit to simplify the `check` in element construction. It removes the argument from the `QuiverPath` and move all the code to check inside ` PathSemigroup`.


I think that's rather reasonable.

> In doing so I removed the ability to initialize a path from
> 
> ```
> [(1,1), (1,2,'a'), (2,2)]
> ```
>   Tell me what you think.


In my applications, I would never represent a path in that way. So, it's fine for me.

> 22. Are you intensively using the iteration over paths?


No.

> If so, note that it can be much much faster.


How? I don't use iteration so much, but other people might do.



---

archive/issue_comments_260241.json:
```json
{
    "body": "<a id='comment:153'></a>\nReplying to [SimonKing](#comment%3A152):\n> > 22. Are you intensively using the iteration over paths?\n  \n> \n> No.\n> \n> > If so, note that it can be much much faster.\n\n> \n> How? I don't use iteration so much, but other people might do.\n\n\n- no recursion, this is a simple depth first search in the tree of all paths\n- initialize all paths of length 1 as `QuiverPath`s, put them in a dictionary `s -> path of length 1 with label s` or `i -> list of edges starting from i` (I would use the second form). Then use concatenation to build larger paths from smaller ones.\n- maintain the list of prefix used\n\nDo you want it to be done in this ticket?\n\nVincent",
    "created_at": "2015-05-25T19:20:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260241",
    "user": "https://github.com/videlec"
}
```

<a id='comment:153'></a>
Replying to [SimonKing](#comment%3A152):
> > 22. Are you intensively using the iteration over paths?
  
> 
> No.
> 
> > If so, note that it can be much much faster.

> 
> How? I don't use iteration so much, but other people might do.


- no recursion, this is a simple depth first search in the tree of all paths
- initialize all paths of length 1 as `QuiverPath`s, put them in a dictionary `s -> path of length 1 with label s` or `i -> list of edges starting from i` (I would use the second form). Then use concatenation to build larger paths from smaller ones.
- maintain the list of prefix used

Do you want it to be done in this ticket?

Vincent



---

archive/issue_comments_260242.json:
```json
{
    "body": "<a id='comment:154'></a>\nReplying to [vdelecroix](#comment%3A153):\n> Do you want it to be done in this ticket?\n\n\nThe purpose of this ticket is to obtain a speed-up by using Cython code based on bounded integer sequences. Hence, obtaining a speed-up by using a better algorithm should perhaps better be done on a separate ticket.",
    "created_at": "2015-05-25T20:27:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260242",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:154'></a>
Replying to [vdelecroix](#comment%3A153):
> Do you want it to be done in this ticket?


The purpose of this ticket is to obtain a speed-up by using Cython code based on bounded integer sequences. Hence, obtaining a speed-up by using a better algorithm should perhaps better be done on a separate ticket.



---

archive/issue_comments_260243.json:
```json
{
    "body": "<a id='comment:5'></a>\nI am done with the review of your commits.\n\nIf you are ok with `\u200b3c4c54a` then you can set to positive review.\n\nVincent",
    "created_at": "2015-05-25T20:39:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260243",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
I am done with the review of your commits.

If you are ok with `​3c4c54a` then you can set to positive review.

Vincent



---

archive/issue_comments_260244.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-05-25T20:47:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260244",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_260245.json:
```json
{
    "body": "<a id='comment:156'></a>\nReplying to [vdelecroix](#comment%3A155):\n> I am done with the review of your commits.\n> \n> If you are ok with `\u200b3c4c54a` then you can set to positive review.\n\n\nI am! And the patchbot confirms that tests pass.\n\nJust to cross-verify: The patchbot complains that the branch introduces a non-ascii character (in \"Poincar\u00e9\"). Since I use the encoding utf-8 in the file, the documentation should build fine. So, do you agree that the non-ascii character is not a problem?",
    "created_at": "2015-05-25T20:47:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260245",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:156'></a>
Replying to [vdelecroix](#comment%3A155):
> I am done with the review of your commits.
> 
> If you are ok with `​3c4c54a` then you can set to positive review.


I am! And the patchbot confirms that tests pass.

Just to cross-verify: The patchbot complains that the branch introduces a non-ascii character (in "Poincaré"). Since I use the encoding utf-8 in the file, the documentation should build fine. So, do you agree that the non-ascii character is not a problem?



---

archive/issue_comments_260246.json:
```json
{
    "body": "<a id='comment:7'></a>\nAccording to [PEP 0263](https://www.python.org/dev/peps/pep-0263/) this is not the proper way to declare encoding. Should be one of\n\n```\n# coding=<encoding name>\n# -*- coding: <encoding name> -*-\n# vim: set fileencoding=<encoding name> :\n```\n(i.e. it uses `coding` and not `encoding`).\n\nOn the other hand, the unicode plugin of the patchbot is broken I think.",
    "created_at": "2015-05-25T21:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260246",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>
According to [PEP 0263](https://www.python.org/dev/peps/pep-0263/) this is not the proper way to declare encoding. Should be one of

```
# coding=<encoding name>
# -*- coding: <encoding name> -*-
# vim: set fileencoding=<encoding name> :
```
(i.e. it uses `coding` and not `encoding`).

On the other hand, the unicode plugin of the patchbot is broken I think.



---

archive/issue_events_054623.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-25T22:49:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16453#event-54623"
}
```



---

archive/issue_comments_260247.json:
```json
{
    "body": "**Changing branch** from \"[u/vdelecroix/16453](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16453)\" to \"[3c4c54a8b536e24881c2e0a88c77d0340193b358](https://github.com/sagemath/sagetrac-mirror/commit/3c4c54a8b536e24881c2e0a88c77d0340193b358)\".",
    "created_at": "2015-05-25T22:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260247",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/vdelecroix/16453](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16453)" to "[3c4c54a8b536e24881c2e0a88c77d0340193b358](https://github.com/sagemath/sagetrac-mirror/commit/3c4c54a8b536e24881c2e0a88c77d0340193b358)".



---

archive/issue_comments_260248.json:
```json
{
    "body": "**Changing commit** from \"[3c4c54a8b536e24881c2e0a88c77d0340193b358](https://github.com/sagemath/sagetrac-mirror/commit/3c4c54a8b536e24881c2e0a88c77d0340193b358)\" to \"\".",
    "created_at": "2016-01-22T10:35:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260248",
    "user": "https://github.com/jdemeyer"
}
```

**Changing commit** from "[3c4c54a8b536e24881c2e0a88c77d0340193b358](https://github.com/sagemath/sagetrac-mirror/commit/3c4c54a8b536e24881c2e0a88c77d0340193b358)" to "".



---

archive/issue_comments_260249.json:
```json
{
    "body": "<a id='comment:9'></a>\nIn `__mod__(self, other)`, is there any particular reason why you want to support `other = None`?",
    "created_at": "2016-01-22T10:35:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260249",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
In `__mod__(self, other)`, is there any particular reason why you want to support `other = None`?



---

archive/issue_comments_260250.json:
```json
{
    "body": "<a id='comment:0'></a>\nIf you don't object, I will remove support for `self % None` in #269.",
    "created_at": "2016-01-22T11:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260250",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:0'></a>
If you don't object, I will remove support for `self % None` in #269.



---

archive/issue_comments_260251.json:
```json
{
    "body": "<a id='comment:161'></a>\nReplying to [jdemeyer](#comment%3A160):\n> If you don't object, I will remove support for `self % None` in #269.\n\n\nI don't recall whether I need \"a%None\" for anything. So, I guess it can be dropped.",
    "created_at": "2016-01-22T14:21:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16453",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16453#issuecomment-260251",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:161'></a>
Replying to [jdemeyer](#comment%3A160):
> If you don't object, I will remove support for `self % None` in #269.


I don't recall whether I need "a%None" for anything. So, I guess it can be dropped.
