# Issue 16585: improved PolynomialSequence

archive/issues_016348.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nThis now works:\n\n```python\nsage: sr = mq.SR(1,1,2,4, gf2=True)\nsage: F,s = sr.polynomial_system()\nsage: I = F.ideal()\nsage: I.random_element(degree=3) # new: return some funny distribution, #11850\nk100*k102*x102 + k100*k102*x110 + ...\n\nsage: I.random_element(degree=3, compute_gb=True, terms=True) # new: uniformly random up to degree 3\nk100*k101*w112 + k100*k102*k110 + k100*k102*w102 + k100*k103*w111 + ...\n\nsage: F.is_groebner() # new: PolynomialSequence.is_groebner, cf. #10856\nFalse\n\nsage: F.maximal_degree() # new: PolynomialSequence.maximal_degree, cf. \n2\n\nsage: gb = F.groebner_basis(algorithm='magma') # new: this used to fail\nsage: gb.is_groebner()\nTrue\n\nsage: gb.maximal_degree() \n1\n\nsage: M = Sequence([f.lm() for f in F]) # new: this used to fail cf. #10680\nsage: M.maximal_degree()\n2\n\nsage: F.reduced() # new: interreduced_basis() moved to Sequence\nPolynomial Sequence with 60 Polynomials in 36 Variables\n```\n\nThis ticket replaces #11850, #10856, #10680\n\nCC:  @miguelmarco\n\nComponent: **commutative algebra**\n\nKeywords: **sd59**\n\nAuthor: **Martin Albrecht**\n\nBranch/Commit: **[`1b208b5`](https://github.com/sagemath/sagetrac-mirror/commit/1b208b5a2d4722637f82b14ef92ab46d4ab4d0e9)**\n\nReviewer: **Jakob Kroeker**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16585_\n\n",
    "closed_at": "2015-01-29T13:26:14Z",
    "created_at": "2014-06-29T04:17:13Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "improved PolynomialSequence",
    "type": "issue",
    "updated_at": "2015-01-29T13:26:14Z",
    "url": "https://github.com/sagemath/sage/issues/16585",
    "user": "https://github.com/malb"
}
```
<div id="comment:0"></div>

This now works:

```python
sage: sr = mq.SR(1,1,2,4, gf2=True)
sage: F,s = sr.polynomial_system()
sage: I = F.ideal()
sage: I.random_element(degree=3) # new: return some funny distribution, #11850
k100*k102*x102 + k100*k102*x110 + ...

sage: I.random_element(degree=3, compute_gb=True, terms=True) # new: uniformly random up to degree 3
k100*k101*w112 + k100*k102*k110 + k100*k102*w102 + k100*k103*w111 + ...

sage: F.is_groebner() # new: PolynomialSequence.is_groebner, cf. #10856
False

sage: F.maximal_degree() # new: PolynomialSequence.maximal_degree, cf. 
2

sage: gb = F.groebner_basis(algorithm='magma') # new: this used to fail
sage: gb.is_groebner()
True

sage: gb.maximal_degree() 
1

sage: M = Sequence([f.lm() for f in F]) # new: this used to fail cf. #10680
sage: M.maximal_degree()
2

sage: F.reduced() # new: interreduced_basis() moved to Sequence
Polynomial Sequence with 60 Polynomials in 36 Variables
```

This ticket replaces #11850, #10856, #10680

CC:  @miguelmarco

Component: **commutative algebra**

Keywords: **sd59**

Author: **Martin Albrecht**

Branch/Commit: **[`1b208b5`](https://github.com/sagemath/sagetrac-mirror/commit/1b208b5a2d4722637f82b14ef92ab46d4ab4d0e9)**

Reviewer: **Jakob Kroeker**

_Issue created by migration from https://trac.sagemath.org/ticket/16585_





---

archive/issue_events_234910.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-06-29T04:17:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234910"
}
```



---

archive/issue_events_234911.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-06-29T04:17:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
    "label_color": "0000ff",
    "label_name": "c: commutative algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234911"
}
```



---

archive/issue_events_234912.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-06-29T04:17:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234912"
}
```



---

archive/issue_events_234913.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-06-29T04:17:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234913"
}
```



---

archive/issue_comments_215818.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -30,3 +30,5 @@\n sage: F.reduced() # new: interreduced_basis() moved to Sequence\n Polynomial Sequence with 60 Polynomials in 36 Variables\n ```\n+\n+This ticket replaces #11850, #10856, #10680\n``````\n",
    "created_at": "2014-06-29T04:39:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215818",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -30,3 +30,5 @@
 sage: F.reduced() # new: interreduced_basis() moved to Sequence
 Polynomial Sequence with 60 Polynomials in 36 Variables
 ```
+
+This ticket replaces #11850, #10856, #10680
``````




---

archive/issue_events_234914.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2014-06-29T04:39:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234914"
}
```



---

archive/issue_comments_215819.json:
```json
{
    "body": "Commit: **[`fef7d3b`](https://github.com/sagemath/sagetrac-mirror/commit/fef7d3bf43c0a2222fa9ddaf2809fd74603577fd)**",
    "created_at": "2014-06-29T04:39:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215819",
    "user": "https://github.com/malb"
}
```

Commit: **[`fef7d3b`](https://github.com/sagemath/sagetrac-mirror/commit/fef7d3bf43c0a2222fa9ddaf2809fd74603577fd)**



---

archive/issue_comments_215820.json:
```json
{
    "body": "Branch: **[u/malb/t16585_mpolynomial_sequence](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t16585_mpolynomial_sequence)**",
    "created_at": "2014-06-29T04:39:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215820",
    "user": "https://github.com/malb"
}
```

Branch: **[u/malb/t16585_mpolynomial_sequence](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t16585_mpolynomial_sequence)**



---

archive/issue_comments_215821.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nAnyone up for reviewing this?",
    "created_at": "2014-08-04T17:23:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215821",
    "user": "https://github.com/malb"
}
```

<div id="comment:2" align="right">comment:2</div>

Anyone up for reviewing this?



---

archive/issue_comments_215822.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThis obviously needs to be merged with the latest development version.\n\nApart from that, this ticket seems to do a lot of things (not only fixing several independent bugs, but also refactoring code), so it could be seen as a patch bomb which is a bad thing. Since this patch touches Magma-related stuff, only people who have Magma could review this.",
    "created_at": "2014-08-04T17:46:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215822",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

This obviously needs to be merged with the latest development version.

Apart from that, this ticket seems to do a lot of things (not only fixing several independent bugs, but also refactoring code), so it could be seen as a patch bomb which is a bad thing. Since this patch touches Magma-related stuff, only people who have Magma could review this.



---

archive/issue_comments_215823.json:
```json
{
    "body": "Changed commit from **[`fef7d3b`](https://github.com/sagemath/sagetrac-mirror/commit/fef7d3bf43c0a2222fa9ddaf2809fd74603577fd)** to **[`6e9ef02`](https://github.com/sagemath/sagetrac-mirror/commit/6e9ef02bae16c9ec564b901d2a573bcb8f65ee6d)**",
    "created_at": "2014-08-05T09:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215823",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fef7d3b`](https://github.com/sagemath/sagetrac-mirror/commit/fef7d3bf43c0a2222fa9ddaf2809fd74603577fd)** to **[`6e9ef02`](https://github.com/sagemath/sagetrac-mirror/commit/6e9ef02bae16c9ec564b901d2a573bcb8f65ee6d)**



---

archive/issue_comments_215824.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e9ef02bae16c9ec564b901d2a573bcb8f65ee6d\"><code>6e9ef02</code></a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t16585_mpolynomial_sequence</code></td></tr></table>\n",
    "created_at": "2014-08-05T09:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215824",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e9ef02bae16c9ec564b901d2a573bcb8f65ee6d"><code>6e9ef02</code></a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t16585_mpolynomial_sequence</code></td></tr></table>




---

archive/issue_events_234915.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234915"
}
```



---

archive/issue_events_234916.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234916"
}
```



---

archive/issue_events_234917.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2014-10-05T12:05:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234917"
}
```



---

archive/issue_events_234918.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2014-10-05T12:05:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234918"
}
```



---

archive/issue_comments_215825.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nFirst remark:\n\nin the commit\t1b7927cb54bb2943ad2ae1a43c8e3befdf6703b6\nin file src/sage/rings/polynomial/multi_polynomial_ideal.py\nat line 4139 I think it should be \n`if d >= 0` instead of `if d > 0`\n\nSecond remark:\n\nin the commit \tfffdbe0c8f9a248b3436d9c846bcd7b04a036d88\nyou introduce option terms=True to choose maximum number of terms.\nI don't like it, because the option is not self-descriptive,\nbut try to convince me.\n\nThird remark: \nin \t81c951fa9d428816a44dd8855d5a00ec4c3cf2b3\n\nyou change the default option 'choose_degree=False' \nChanging default options is dangerous since it may break\nexisting code. Please give reasons why this change is still ok\n\ncommits\n \t3b6c11a13eb300f0a2bf6acb56d7b9001b03e1f8\n\tc2a8506eed5d9db0106b38d1c643f503d19ab54a\n        37fb67cce683927cd248b518602e81a2e33ac134\n\nlooks ok for me\n\nI will continue the review tomorrow evening.\n\nJakob",
    "created_at": "2014-10-05T12:05:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215825",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:6" align="right">comment:6</div>

First remark:

in the commit	1b7927cb54bb2943ad2ae1a43c8e3befdf6703b6
in file src/sage/rings/polynomial/multi_polynomial_ideal.py
at line 4139 I think it should be 
`if d >= 0` instead of `if d > 0`

Second remark:

in the commit 	fffdbe0c8f9a248b3436d9c846bcd7b04a036d88
you introduce option terms=True to choose maximum number of terms.
I don't like it, because the option is not self-descriptive,
but try to convince me.

Third remark: 
in 	81c951fa9d428816a44dd8855d5a00ec4c3cf2b3

you change the default option 'choose_degree=False' 
Changing default options is dangerous since it may break
existing code. Please give reasons why this change is still ok

commits
 	3b6c11a13eb300f0a2bf6acb56d7b9001b03e1f8
	c2a8506eed5d9db0106b38d1c643f503d19ab54a
        37fb67cce683927cd248b518602e81a2e33ac134

looks ok for me

I will continue the review tomorrow evening.

Jakob



---

archive/issue_comments_215826.json:
```json
{
    "body": "Reviewer: **Jakob Kroeker**",
    "created_at": "2014-10-05T12:05:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215826",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

Reviewer: **Jakob Kroeker**



---

archive/issue_comments_215827.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nOk, here the missing review comments:\n\n##############################################################################\n1.\n\"make sure we use the polynomial ring as ring not the monoid\", in\nfile `./src/sage/rings/polynomial/multi_polynomial_sequence.py`\n\n\nI think there is a failing example, if the input below is legal:\n\n```\nR.<x,y,z> = PolynomialRing(QQ)\nI = Ideal(5000*x*R,y*x+5) #error\n# Ring is Monoid of ideals of Multivariate Polynomial Ring in x, y, z over Rational Field =>error:\n# R must be a commutative ring\n```\n\nupdate: something is fishy with the next failing example:\na. what was K ?\nb. how to reproduce \"not a constant polynomial\" error\n\n\n\nsecond failing example (different error):\n\n```\nR.<x,y,z> = PolynomialRing(QQ)\nI = Ideal(5000*x*K+y*x,y*x+5) \n# TypeError: not a constant polynomial\n```\n\n#######################################################\n2.\nin  commit  [9ee750ef52d6d6ba43254a07ffbf9cea1160315f](https://github.com/sagemath/sagetrac-mirror/commit/9ee750ef52d6d6ba43254a07ffbf9cea1160315f)\nsnippet:\n\n```\n+ try:\n+ c = K.characteristic()\n+ except NotImplementedError:\n+ c = 0\n```\n\nWhy is c set to zero?  At least this should be documented. \nIs it not possible to have a different characteristic in case of an NotImplementedError? Do you have an example which hits this issue?\n\n####################################################################\n3.\nrefactored (lib)Singular GB code,\nin commit    [e60f83a9e1584a899e8c79171ce177474b9fed06](https://github.com/sagemath/sagetrac-mirror/commit/e60f83a9e1584a899e8c79171ce177474b9fed06)\nin src/sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx ,\nline 114, ff.`sage_ideal_to_singular_ideal`\nIs there a corresponding test for a conversion from \"`or a list of generators`\"? \nIf not, could you add one?\n\nSame commit, \nin file 'src/sage/rings/polynomial/polynomial_singular_interface.py\nrenaming `singular_default` to `singular`; why? \nAt other places there are singular_default usages.\nIs there a difference?\n\n####################################################################\n4.\nSame commit,\nIt seems that reduce examples show no examples for explicitly reducing leading coefficient,\nCould you add an example or a test which hits \"`ret.append(f.lc()**(-1)*f)`\"?\n\n####################################################################\n5.\nSequence has no 'reduced' function\nIs that ok?\nExample:\n\n```\nR.<x> = PolynomialRing(QQ)\nF = Sequence([x,x+1])\nF.reduced() # fails\n```\n\n\n\n####################################################################\n6.\ncommit  [a88b44703751c13e451252ca2da671679077711e](https://github.com/sagemath/sagetrac-mirror/commit/a88b44703751c13e451252ca2da671679077711e) \n(fix Magma interface broken when moving decorators around):\n\nCould you explain what may get wrong and add an example?",
    "created_at": "2014-10-27T18:21:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215827",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:7" align="right">comment:7</div>

Ok, here the missing review comments:

##############################################################################
1.
"make sure we use the polynomial ring as ring not the monoid", in
file `./src/sage/rings/polynomial/multi_polynomial_sequence.py`


I think there is a failing example, if the input below is legal:

```
R.<x,y,z> = PolynomialRing(QQ)
I = Ideal(5000*x*R,y*x+5) #error
# Ring is Monoid of ideals of Multivariate Polynomial Ring in x, y, z over Rational Field =>error:
# R must be a commutative ring
```

update: something is fishy with the next failing example:
a. what was K ?
b. how to reproduce "not a constant polynomial" error



second failing example (different error):

```
R.<x,y,z> = PolynomialRing(QQ)
I = Ideal(5000*x*K+y*x,y*x+5) 
# TypeError: not a constant polynomial
```

#######################################################
2.
in  commit  [9ee750ef52d6d6ba43254a07ffbf9cea1160315f](https://github.com/sagemath/sagetrac-mirror/commit/9ee750ef52d6d6ba43254a07ffbf9cea1160315f)
snippet:

```
+ try:
+ c = K.characteristic()
+ except NotImplementedError:
+ c = 0
```

Why is c set to zero?  At least this should be documented. 
Is it not possible to have a different characteristic in case of an NotImplementedError? Do you have an example which hits this issue?

####################################################################
3.
refactored (lib)Singular GB code,
in commit    [e60f83a9e1584a899e8c79171ce177474b9fed06](https://github.com/sagemath/sagetrac-mirror/commit/e60f83a9e1584a899e8c79171ce177474b9fed06)
in src/sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx ,
line 114, ff.`sage_ideal_to_singular_ideal`
Is there a corresponding test for a conversion from "`or a list of generators`"? 
If not, could you add one?

Same commit, 
in file 'src/sage/rings/polynomial/polynomial_singular_interface.py
renaming `singular_default` to `singular`; why? 
At other places there are singular_default usages.
Is there a difference?

####################################################################
4.
Same commit,
It seems that reduce examples show no examples for explicitly reducing leading coefficient,
Could you add an example or a test which hits "`ret.append(f.lc()**(-1)*f)`"?

####################################################################
5.
Sequence has no 'reduced' function
Is that ok?
Example:

```
R.<x> = PolynomialRing(QQ)
F = Sequence([x,x+1])
F.reduced() # fails
```



####################################################################
6.
commit  [a88b44703751c13e451252ca2da671679077711e](https://github.com/sagemath/sagetrac-mirror/commit/a88b44703751c13e451252ca2da671679077711e) 
(fix Magma interface broken when moving decorators around):

Could you explain what may get wrong and add an example?



---

archive/issue_comments_215828.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80d99737917e1e1ce660b9a1bcee526fe37b9ef4\"><code>80d9973</code></a></td><td><code>add option terms=True for random element in multivariate polynomial rings + bugfix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81cf80ac3cbb7deedb5f1f158fe0886755f7f99f\"><code>81cf80a</code></a></td><td><code>PolynomialSequence.is_groebner</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1acc1c4c9c6667f10d4a8ae590787cb3fae5ea7\"><code>e1acc1c</code></a></td><td><code>MPolynomialIdeal.random_element</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac26dd85e29e38b1d494e4c67ae288ae2dcec471\"><code>ac26dd8</code></a></td><td><code>BooleanPolynomialRing.random_element(terms=True)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d6f99435f68db5b380a9e1d1c5ec25766ae2a9f\"><code>5d6f994</code></a></td><td><code>don't use choose_degree=True as it biases the distribution</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f47a64071d90f966ed2435aab86a652997bb837\"><code>3f47a64</code></a></td><td><code>fix Magma interface broken when moving decorators around</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae4110c775add164fb01fb11809956e90e48f565\"><code>ae4110c</code></a></td><td><code>moved interreduced_basis to sequence also for Boolean polynomials</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fa7a24f29191d824955155d1829f38dcc84d1a5\"><code>0fa7a24</code></a></td><td><code>MPolynomialIdeal.random_element bugfix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/563baf0eb12037b6d66ff3b9bf4dbb377d06357f\"><code>563baf0</code></a></td><td><code>Change terms=True to terms=Infinity</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0241972230aec8d6ca71dffeca933df5ef9b963\"><code>c024197</code></a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t16585_mpolynomial_sequence</code></td></tr></table>\n",
    "created_at": "2014-11-03T22:04:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215828",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80d99737917e1e1ce660b9a1bcee526fe37b9ef4"><code>80d9973</code></a></td><td><code>add option terms=True for random element in multivariate polynomial rings + bugfix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81cf80ac3cbb7deedb5f1f158fe0886755f7f99f"><code>81cf80a</code></a></td><td><code>PolynomialSequence.is_groebner</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1acc1c4c9c6667f10d4a8ae590787cb3fae5ea7"><code>e1acc1c</code></a></td><td><code>MPolynomialIdeal.random_element</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac26dd85e29e38b1d494e4c67ae288ae2dcec471"><code>ac26dd8</code></a></td><td><code>BooleanPolynomialRing.random_element(terms=True)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d6f99435f68db5b380a9e1d1c5ec25766ae2a9f"><code>5d6f994</code></a></td><td><code>don't use choose_degree=True as it biases the distribution</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f47a64071d90f966ed2435aab86a652997bb837"><code>3f47a64</code></a></td><td><code>fix Magma interface broken when moving decorators around</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae4110c775add164fb01fb11809956e90e48f565"><code>ae4110c</code></a></td><td><code>moved interreduced_basis to sequence also for Boolean polynomials</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fa7a24f29191d824955155d1829f38dcc84d1a5"><code>0fa7a24</code></a></td><td><code>MPolynomialIdeal.random_element bugfix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/563baf0eb12037b6d66ff3b9bf4dbb377d06357f"><code>563baf0</code></a></td><td><code>Change terms=True to terms=Infinity</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0241972230aec8d6ca71dffeca933df5ef9b963"><code>c024197</code></a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into u/malb/t16585_mpolynomial_sequence</code></td></tr></table>




---

archive/issue_comments_215829.json:
```json
{
    "body": "Changed commit from **[`6e9ef02`](https://github.com/sagemath/sagetrac-mirror/commit/6e9ef02bae16c9ec564b901d2a573bcb8f65ee6d)** to **[`c024197`](https://github.com/sagemath/sagetrac-mirror/commit/c0241972230aec8d6ca71dffeca933df5ef9b963)**",
    "created_at": "2014-11-03T22:04:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215829",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6e9ef02`](https://github.com/sagemath/sagetrac-mirror/commit/6e9ef02bae16c9ec564b901d2a573bcb8f65ee6d)** to **[`c024197`](https://github.com/sagemath/sagetrac-mirror/commit/c0241972230aec8d6ca71dffeca933df5ef9b963)**



---

archive/issue_comments_215830.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHi Jakob, thanks for your review. I started addressing the issues you identified.\n\n> in file src/sage/rings/polynomial/multi_polynomial_ideal.py at line 4139 I\n> think it should be if d >= 0 instead of if d > 0\n\nFixed: `0fa7a24`\n\n> you introduce option terms=True to choose maximum number of terms.  I don't\n> like it, because the option is not self-descriptive, but try to convince me.\n\nI agree, so I changed it. I changed the `True` to `Infinity` and changed the behaviour such that when requesting more terms than exist the number is silently reduced to the maximum number of available terms: `563baf0`\n\nPS: Because I am stupid, though, I rebased instead of merged. Hence, I believe you'll have to check out the code again, i.e. you can't just git pull again in your current branch. Sorry for that!",
    "created_at": "2014-11-03T22:07:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215830",
    "user": "https://github.com/malb"
}
```

<div id="comment:9" align="right">comment:9</div>

Hi Jakob, thanks for your review. I started addressing the issues you identified.

> in file src/sage/rings/polynomial/multi_polynomial_ideal.py at line 4139 I
> think it should be if d >= 0 instead of if d > 0

Fixed: `0fa7a24`

> you introduce option terms=True to choose maximum number of terms.  I don't
> like it, because the option is not self-descriptive, but try to convince me.

I agree, so I changed it. I changed the `True` to `Infinity` and changed the behaviour such that when requesting more terms than exist the number is silently reduced to the maximum number of available terms: `563baf0`

PS: Because I am stupid, though, I rebased instead of merged. Hence, I believe you'll have to check out the code again, i.e. you can't just git pull again in your current branch. Sorry for that!



---

archive/issue_comments_215831.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n> you can't just git pull again in your current branch\n> I believe you'll have to check out the code again\n\nThanks for the hint! \nIts likely that otherwise I  would get confused by the merge conflicts.",
    "created_at": "2014-11-18T14:36:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215831",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:10" align="right">comment:10</div>

> you can't just git pull again in your current branch
> I believe you'll have to check out the code again

Thanks for the hint! 
Its likely that otherwise I  would get confused by the merge conflicts.



---

archive/issue_comments_215832.json:
```json
{
    "body": "Changed commit from **[`c024197`](https://github.com/sagemath/sagetrac-mirror/commit/c0241972230aec8d6ca71dffeca933df5ef9b963)** to **[`620322d`](https://github.com/sagemath/sagetrac-mirror/commit/620322d9c80b1b30e71ce89d09e5ee42e079163d)**",
    "created_at": "2015-01-02T12:46:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215832",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c024197`](https://github.com/sagemath/sagetrac-mirror/commit/c0241972230aec8d6ca71dffeca933df5ef9b963)** to **[`620322d`](https://github.com/sagemath/sagetrac-mirror/commit/620322d9c80b1b30e71ce89d09e5ee42e079163d)**



---

archive/issue_comments_215833.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/667dde3698cf21a9f2c52db599653cef9f9977f3\"><code>667dde3</code></a></td><td><code>Merge branch 'develop' into u/malb/t16585_mpolynomial_sequence</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dfe5ed0274c5ea714e08c2389ba45b304451e987\"><code>dfe5ed0</code></a></td><td><code>Merge branch 'develop' into u/malb/t16585_mpolynomial_sequence</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d4e7f76daf68017955a11f27b4557951014b452\"><code>3d4e7f7</code></a></td><td><code>Add test for conversion to singular ideals from ideals and sequences</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/adeffda099ac9df2fe8b38fb23851bf762ba3eba\"><code>adeffda</code></a></td><td><code>Document why we can assume c = 0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36fce47041a10ecd17928ffc595a3bb8a7c6a19b\"><code>36fce47</code></a></td><td><code>Add test for reduction of leading coefficients</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/620322d9c80b1b30e71ce89d09e5ee42e079163d\"><code>620322d</code></a></td><td><code>Add another test for reduction of leading coefficients</code></td></tr></table>\n",
    "created_at": "2015-01-02T12:46:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215833",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/667dde3698cf21a9f2c52db599653cef9f9977f3"><code>667dde3</code></a></td><td><code>Merge branch 'develop' into u/malb/t16585_mpolynomial_sequence</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dfe5ed0274c5ea714e08c2389ba45b304451e987"><code>dfe5ed0</code></a></td><td><code>Merge branch 'develop' into u/malb/t16585_mpolynomial_sequence</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d4e7f76daf68017955a11f27b4557951014b452"><code>3d4e7f7</code></a></td><td><code>Add test for conversion to singular ideals from ideals and sequences</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/adeffda099ac9df2fe8b38fb23851bf762ba3eba"><code>adeffda</code></a></td><td><code>Document why we can assume c = 0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36fce47041a10ecd17928ffc595a3bb8a7c6a19b"><code>36fce47</code></a></td><td><code>Add test for reduction of leading coefficients</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/620322d9c80b1b30e71ce89d09e5ee42e079163d"><code>620322d</code></a></td><td><code>Add another test for reduction of leading coefficients</code></td></tr></table>




---

archive/issue_comments_215834.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n> you change the default option 'choose_degree=False' Changing default options\n> is dangerous since it may break existing code. Please give reasons why this\n> change is still ok\n\nIt changes the behaviour of a random sampler so the output is not deterministic anyway. Also, ``choose_degree=True``does not return what I\u2019d expect from a random sampler: something uniform if possible. Mod p the new default lives up to this expectation if we consider uniform to mean: uniform of a given degree.\n\n> \"make sure we use the polynomial ring as ring not the monoid\", in file\n> ./src/sage/rings/polynomial/multi_polynomial_sequence.py\n> \n> I think there is a failing example, if the input below is legal:\n\n```\nsage: R.<x,y,z> = PolynomialRing(QQ)\nsage: I = Ideal(5000*x*R,y*x+5) #error\n# Ring is Monoid of ideals of Multivariate Polynomial Ring in x, y, z over Rational Field =>error:\n# R must be a commutative ring\n```\n\nI don\u2019t think this is connected. I\u2019m getting the same error with sage 6.4.1. Also, The business of monoid vs ring only occurs when PolyBoRi implements the ring.\n\n> a second failing example (different error):\n\n```\nsage: R.<x,y,z> = PolynomialRing(QQ)\nsage: I = Ideal(5000*x*K+y*x,y*x+5) \n# TypeError: not a constant polynomial\n```\n\nSee above.\n\n> Why is c set to zero? At least this should be documented.  Is it not possible\n> to have a different characteristic in case of an NotImplementedError?? Do you\n> have an example which hits this issue?\n\nI added a comment:\n\n\\# We assume that our ring has characteristic zero if it does not implement a\n\\# characteristic(). For example, generic quotient rings do not have a characteristic()\n\\# method implemented. It is okay to set c = 0 here because we're only using the\n\\# characteristic to pick a more specialized implementation for c = 2.\n\n> in src/sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx , line\n> 114, ff.sage_ideal_to_singular_ideal Is there a corresponding test for a\n> conversion from \"or a list of generators\"?  If not, could you add one?\n\nI added a test.\n\n> in file 'src/sage/rings/polynomial/polynomial_singular_interface.py renaming\n> singular_default to singular; why?  At other places there are singular_default\n> usages. Is there a difference?\n\nThere is no need to rename singular to singular_default so I dropped it. It makes no difference either way.\n\n> It seems that reduce examples show no examples for explicitly reducing leading\n> coefficient, Could you add an example or a test which hits\n> \"ret.append(f.lc()**(-1)*f)\"?\n\nI added one.\n\n> Sequence has no 'reduced' function Is that ok? Example:\n\nI think this is fine as Sequence is not only for polynomials but for anything. However, reduced() only seems to make sense for polynomials.\n\n> (fix Magma interface broken when moving decorators around): Could you explain\n> what may get wrong and add an example?\n\nUnfortunately, I forgot. I could investigate if you insist.",
    "created_at": "2015-01-02T12:54:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215834",
    "user": "https://github.com/malb"
}
```

<div id="comment:12" align="right">comment:12</div>

> you change the default option 'choose_degree=False' Changing default options
> is dangerous since it may break existing code. Please give reasons why this
> change is still ok

It changes the behaviour of a random sampler so the output is not deterministic anyway. Also, ``choose_degree=True``does not return what I’d expect from a random sampler: something uniform if possible. Mod p the new default lives up to this expectation if we consider uniform to mean: uniform of a given degree.

> "make sure we use the polynomial ring as ring not the monoid", in file
> ./src/sage/rings/polynomial/multi_polynomial_sequence.py
> 
> I think there is a failing example, if the input below is legal:

```
sage: R.<x,y,z> = PolynomialRing(QQ)
sage: I = Ideal(5000*x*R,y*x+5) #error
# Ring is Monoid of ideals of Multivariate Polynomial Ring in x, y, z over Rational Field =>error:
# R must be a commutative ring
```

I don’t think this is connected. I’m getting the same error with sage 6.4.1. Also, The business of monoid vs ring only occurs when PolyBoRi implements the ring.

> a second failing example (different error):

```
sage: R.<x,y,z> = PolynomialRing(QQ)
sage: I = Ideal(5000*x*K+y*x,y*x+5) 
# TypeError: not a constant polynomial
```

See above.

> Why is c set to zero? At least this should be documented.  Is it not possible
> to have a different characteristic in case of an NotImplementedError?? Do you
> have an example which hits this issue?

I added a comment:

\# We assume that our ring has characteristic zero if it does not implement a
\# characteristic(). For example, generic quotient rings do not have a characteristic()
\# method implemented. It is okay to set c = 0 here because we're only using the
\# characteristic to pick a more specialized implementation for c = 2.

> in src/sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx , line
> 114, ff.sage_ideal_to_singular_ideal Is there a corresponding test for a
> conversion from "or a list of generators"?  If not, could you add one?

I added a test.

> in file 'src/sage/rings/polynomial/polynomial_singular_interface.py renaming
> singular_default to singular; why?  At other places there are singular_default
> usages. Is there a difference?

There is no need to rename singular to singular_default so I dropped it. It makes no difference either way.

> It seems that reduce examples show no examples for explicitly reducing leading
> coefficient, Could you add an example or a test which hits
> "ret.append(f.lc()**(-1)*f)"?

I added one.

> Sequence has no 'reduced' function Is that ok? Example:

I think this is fine as Sequence is not only for polynomials but for anything. However, reduced() only seems to make sense for polynomials.

> (fix Magma interface broken when moving decorators around): Could you explain
> what may get wrong and add an example?

Unfortunately, I forgot. I could investigate if you insist.



---

archive/issue_events_234919.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-01-02T12:54:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234919"
}
```



---

archive/issue_events_234920.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-01-02T12:54:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234920"
}
```



---

archive/issue_comments_215835.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nPS: Thanks again for your comments and sorry for taking so long to reply!",
    "created_at": "2015-01-02T12:54:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215835",
    "user": "https://github.com/malb"
}
```

<div id="comment:13" align="right">comment:13</div>

PS: Thanks again for your comments and sorry for taking so long to reply!



---

archive/issue_comments_215836.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n> Thanks again for your comments and sorry for taking so long to reply!\n\nYou are welcome!\n\nPS: I'm currently busy so I can't promise to look \nat the patch earlier than next Thursday",
    "created_at": "2015-01-10T18:26:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215836",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:14" align="right">comment:14</div>

> Thanks again for your comments and sorry for taking so long to reply!

You are welcome!

PS: I'm currently busy so I can't promise to look 
at the patch earlier than next Thursday



---

archive/issue_events_234921.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2015-01-24T18:16:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234921"
}
```



---

archive/issue_events_234922.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2015-01-24T18:16:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234922"
}
```



---

archive/issue_comments_215837.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\npositive review.\n\nI rebased the commits on recent develop branch\n\nand ran all the tests again.",
    "created_at": "2015-01-24T18:16:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215837",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:15" align="right">comment:15</div>

positive review.

I rebased the commits on recent develop branch

and ran all the tests again.



---

archive/issue_comments_215838.json:
```json
{
    "body": "Changed branch from **[u/malb/t16585_mpolynomial_sequence](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t16585_mpolynomial_sequence)** to **[u/jakobkroeker/t16585_mpolynomial_sequence.rebased](https://github.com/sagemath/sagetrac-mirror/tree/u/jakobkroeker/t16585_mpolynomial_sequence.rebased)**",
    "created_at": "2015-01-24T18:16:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215838",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

Changed branch from **[u/malb/t16585_mpolynomial_sequence](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t16585_mpolynomial_sequence)** to **[u/jakobkroeker/t16585_mpolynomial_sequence.rebased](https://github.com/sagemath/sagetrac-mirror/tree/u/jakobkroeker/t16585_mpolynomial_sequence.rebased)**



---

archive/issue_comments_215839.json:
```json
{
    "body": "Changed commit from **[`620322d`](https://github.com/sagemath/sagetrac-mirror/commit/620322d9c80b1b30e71ce89d09e5ee42e079163d)** to **[`68c684c`](https://github.com/sagemath/sagetrac-mirror/commit/68c684cb7ddea420460ac12797f59b2ba6457b37)**",
    "created_at": "2015-01-24T18:16:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215839",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

Changed commit from **[`620322d`](https://github.com/sagemath/sagetrac-mirror/commit/620322d9c80b1b30e71ce89d09e5ee42e079163d)** to **[`68c684c`](https://github.com/sagemath/sagetrac-mirror/commit/68c684cb7ddea420460ac12797f59b2ba6457b37)**



---

archive/issue_events_234923.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-25T18:24:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234923"
}
```



---

archive/issue_events_234924.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-25T18:24:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234924"
}
```



---

archive/issue_comments_215840.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nBreaks PDF docs:\n\n```\n! Package inputenc Error: Unicode char \\u8:\u1d62 not set up for use with LaTeX.\n\nSee the inputenc package documentation for explanation.\nType  H <return>  for immediate help.\n ...                                              \n                                                  \nl.22080 ...element in this ideal as $r = \\sum h\u1d62\n                                                  \u00b7f\u1d62$.\n? \n```",
    "created_at": "2015-01-25T18:24:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215840",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:16" align="right">comment:16</div>

Breaks PDF docs:

```
! Package inputenc Error: Unicode char \u8:ᵢ not set up for use with LaTeX.

See the inputenc package documentation for explanation.
Type  H <return>  for immediate help.
 ...                                              
                                                  
l.22080 ...element in this ideal as $r = \sum hᵢ
                                                  ·fᵢ$.
? 
```



---

archive/issue_comments_215841.json:
```json
{
    "body": "Changed commit from **[`68c684c`](https://github.com/sagemath/sagetrac-mirror/commit/68c684cb7ddea420460ac12797f59b2ba6457b37)** to **[`1b208b5`](https://github.com/sagemath/sagetrac-mirror/commit/1b208b5a2d4722637f82b14ef92ab46d4ab4d0e9)**",
    "created_at": "2015-01-25T19:49:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215841",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`68c684c`](https://github.com/sagemath/sagetrac-mirror/commit/68c684cb7ddea420460ac12797f59b2ba6457b37)** to **[`1b208b5`](https://github.com/sagemath/sagetrac-mirror/commit/1b208b5a2d4722637f82b14ef92ab46d4ab4d0e9)**



---

archive/issue_comments_215842.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b208b5a2d4722637f82b14ef92ab46d4ab4d0e9\"><code>1b208b5</code></a></td><td><code>removed unicode char from documentation</code></td></tr></table>\n",
    "created_at": "2015-01-25T19:49:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215842",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b208b5a2d4722637f82b14ef92ab46d4ab4d0e9"><code>1b208b5</code></a></td><td><code>removed unicode char from documentation</code></td></tr></table>




---

archive/issue_comments_215843.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n`./sage --docbuild reference pdf` went through without errors with Jakob's fix.",
    "created_at": "2015-01-26T10:16:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215843",
    "user": "https://github.com/malb"
}
```

<div id="comment:18" align="right">comment:18</div>

`./sage --docbuild reference pdf` went through without errors with Jakob's fix.



---

archive/issue_events_234925.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-01-26T10:16:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234925"
}
```



---

archive/issue_events_234926.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-01-26T10:16:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234926"
}
```



---

archive/issue_comments_215844.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nthe reference builds,\nbut building all pdf documentation fails\n\n```\n./sage --nodotsage --docbuild all pdf\n```",
    "created_at": "2015-01-26T10:43:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215844",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:19" align="right">comment:19</div>

the reference builds,
but building all pdf documentation fails

```
./sage --nodotsage --docbuild all pdf
```



---

archive/issue_events_234927.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2015-01-26T10:43:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234927"
}
```



---

archive/issue_events_234928.json:
```json
{
    "actor": "https://github.com/sagetrac-jakobkroeker",
    "created_at": "2015-01-26T10:43:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234928"
}
```



---

archive/issue_comments_215845.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nWhat is the error message?",
    "created_at": "2015-01-26T14:08:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215845",
    "user": "https://github.com/malb"
}
```

<div id="comment:20" align="right">comment:20</div>

What is the error message?



---

archive/issue_comments_215846.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n>What is the error message?\n\nthe failure was likely related to incremental docbuild (I didn' keep the error message)\n\nRunning 'make doc-clean' first did the trick ( the docbuild succeeds with warnings)\n\n1. Can you confirm that './sage --nodotsage --docbuild all pdf' succeeds`?\n\n2. Did I forget to review some other important aspects ? I must admit that there is a hint in the review checklist http://www.sagemath.org/doc/developer/trac.html?highlight=review to test if the reference manual builds or not.",
    "created_at": "2015-01-26T14:21:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215846",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:21" align="right">comment:21</div>

>What is the error message?

the failure was likely related to incremental docbuild (I didn' keep the error message)

Running 'make doc-clean' first did the trick ( the docbuild succeeds with warnings)

1. Can you confirm that './sage --nodotsage --docbuild all pdf' succeeds`?

2. Did I forget to review some other important aspects ? I must admit that there is a hint in the review checklist http://www.sagemath.org/doc/developer/trac.html?highlight=review to test if the reference manual builds or not.



---

archive/issue_comments_215847.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI can confirm than `make doc-pdf` succeeds. I think this should be all :).",
    "created_at": "2015-01-26T14:35:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215847",
    "user": "https://github.com/malb"
}
```

<div id="comment:22" align="right">comment:22</div>

I can confirm than `make doc-pdf` succeeds. I think this should be all :).



---

archive/issue_events_234929.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-01-26T14:35:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234929"
}
```



---

archive/issue_events_234930.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-01-26T14:35:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234930"
}
```



---

archive/issue_comments_215848.json:
```json
{
    "body": "Changed branch from **[u/jakobkroeker/t16585_mpolynomial_sequence.rebased](https://github.com/sagemath/sagetrac-mirror/tree/u/jakobkroeker/t16585_mpolynomial_sequence.rebased)** to **[`1b208b5`](https://github.com/sagemath/sagetrac-mirror/commit/1b208b5a2d4722637f82b14ef92ab46d4ab4d0e9)**",
    "created_at": "2015-01-29T13:26:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16585#issuecomment-215848",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jakobkroeker/t16585_mpolynomial_sequence.rebased](https://github.com/sagemath/sagetrac-mirror/tree/u/jakobkroeker/t16585_mpolynomial_sequence.rebased)** to **[`1b208b5`](https://github.com/sagemath/sagetrac-mirror/commit/1b208b5a2d4722637f82b14ef92ab46d4ab4d0e9)**



---

archive/issue_events_234931.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-01-29T13:26:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234931"
}
```



---

archive/issue_events_234932.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4bdbaeda432a36ffd4302b63192007a7a492ad8d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-01-29T13:26:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16585",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16585#event-234932"
}
```
