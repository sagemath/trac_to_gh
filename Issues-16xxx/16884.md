# Issue 16884: Quasi-difference matrices (database+is_QDM)

archive/issues_016647.json:
```json
{
    "assignees": [],
    "body": "A new database entry for quasi-difference matrices. As a result:\n\n- The Vmt vectors are added to the quasi-difference matrices database entry, and not anymore to `OA_constructions`\n\n- The old OA constructions based on QDM are converted to QDM constructors.\n\n- The OA constructor now queries the QDM database entry (and so it gets the QDM+Vmt)\n\nTwo notes:\n\n- There is no `is_quasi_difference_matrix` right now, so the QDM are tested through the OA they generate.\n\n- There is no `designs.quasi_difference_matrix` because I did not know how to write it in such a way that it would be easy to find a QDM that builds an OA. The problem is that a QDM is defined with 5 parameters `(n,_,_,_,u)` and that the `n` of an `OA(k,n)` is the sum `n+u`. Consequently, if you want to build an `OA(k,n)` from a QDM you must try all pairs `n'+u = n` and that's a waste of time.\n\n- Right now the DM are not added to the dictionary of QDM. I did not see the point, given that the DM are already queried by `orthogonal_arrays()` through their constructor (which will also contain additional constructions of DM).\n\n\n\nDepends on #16879\n\nCC:  @videlec\n\nComponent: **combinatorial designs**\n\nAuthor: **Nathann Cohen**\n\nBranch/Commit: **[`f0b7bab`](https://github.com/sagemath/sagetrac-mirror/commit/f0b7bab049e078a663702a935ea5f09facd396ed)**\n\nReviewer: **Vincent Delecroix**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16884_\n\n",
    "closed_at": "2014-09-06T11:02:25Z",
    "created_at": "2014-08-26T22:02:04Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorial%20designs",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Quasi-difference matrices (database+is_QDM)",
    "type": "issue",
    "updated_at": "2014-09-06T11:02:25Z",
    "url": "https://github.com/sagemath/sage/issues/16884",
    "user": "https://github.com/nathanncohen"
}
```
A new database entry for quasi-difference matrices. As a result:

- The Vmt vectors are added to the quasi-difference matrices database entry, and not anymore to `OA_constructions`

- The old OA constructions based on QDM are converted to QDM constructors.

- The OA constructor now queries the QDM database entry (and so it gets the QDM+Vmt)

Two notes:

- There is no `is_quasi_difference_matrix` right now, so the QDM are tested through the OA they generate.

- There is no `designs.quasi_difference_matrix` because I did not know how to write it in such a way that it would be easy to find a QDM that builds an OA. The problem is that a QDM is defined with 5 parameters `(n,_,_,_,u)` and that the `n` of an `OA(k,n)` is the sum `n+u`. Consequently, if you want to build an `OA(k,n)` from a QDM you must try all pairs `n'+u = n` and that's a waste of time.

- Right now the DM are not added to the dictionary of QDM. I did not see the point, given that the DM are already queried by `orthogonal_arrays()` through their constructor (which will also contain additional constructions of DM).



Depends on #16879

CC:  @videlec

Component: **combinatorial designs**

Author: **Nathann Cohen**

Branch/Commit: **[`f0b7bab`](https://github.com/sagemath/sagetrac-mirror/commit/f0b7bab049e078a663702a935ea5f09facd396ed)**

Reviewer: **Vincent Delecroix**

_Issue created by migration from https://trac.sagemath.org/ticket/16884_





---

archive/issue_events_239196.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-26T22:02:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239196"
}
```



---

archive/issue_events_239197.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-26T22:02:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorial%20designs",
    "label_color": "0000ff",
    "label_name": "c: combinatorial designs",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239197"
}
```



---

archive/issue_events_239198.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-26T22:02:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239198"
}
```



---

archive/issue_events_239199.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-26T22:02:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239199"
}
```



---

archive/issue_events_239200.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-26T22:02:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239200"
}
```



---

archive/issue_comments_222330.json:
```json
{
    "body": "Branch: **[public/16884](https://github.com/sagemath/sagetrac-mirror/tree/public/16884)**",
    "created_at": "2014-08-26T22:02:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222330",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[public/16884](https://github.com/sagemath/sagetrac-mirror/tree/public/16884)**



---

archive/issue_comments_222331.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nOh, I forgot to say why this patch is useful:\n\nThere is a problem currently with the way Sage manages Vmt vectors. Indeed, from a Vmt ont can build a quasi-difference matrix with `k=m+2` columns, and for `OA(9,514)` (see last commit) the OA construction has to do a small change: 1) build the QDM from the Vmt; 2) Remove a column from the QDM; 3) Build the OA from the reduced QDM.\n\nNow, building the OA from the reduced QDM means filling a hole with an `OA(9,57)` (which exists). If the QDM is not reduced first, turning the QDM into an OA required an `OA(10,57)`, which we don't have.\n\nFor this reason the `OA(9,514)` was not included in the Vmt vectors, and this branch fixes it.\n\nThe good thing is that with this branch everything is handled correctly (and the QDM automatically reduced if needed), which means that we can add to the Vmt database some Vmt that cannot be turned into complete OA.\n\nTwo good points:\n\n1) I can not add another Vmt which had the same problem as this 514 thing and creates an OA that we do not have already\n\n2) I can now add Vmt that will produce incomplete OA that can be used by `incomplete_orthogonal_array` to get OA with holes of size `>1`, and that means perhaps being able to use the Brouwer-van Rees version of Wilson's construction.\n\nNathann",
    "created_at": "2014-08-26T22:12:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222331",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:2" align="right">comment:2</div>

Oh, I forgot to say why this patch is useful:

There is a problem currently with the way Sage manages Vmt vectors. Indeed, from a Vmt ont can build a quasi-difference matrix with `k=m+2` columns, and for `OA(9,514)` (see last commit) the OA construction has to do a small change: 1) build the QDM from the Vmt; 2) Remove a column from the QDM; 3) Build the OA from the reduced QDM.

Now, building the OA from the reduced QDM means filling a hole with an `OA(9,57)` (which exists). If the QDM is not reduced first, turning the QDM into an OA required an `OA(10,57)`, which we don't have.

For this reason the `OA(9,514)` was not included in the Vmt vectors, and this branch fixes it.

The good thing is that with this branch everything is handled correctly (and the QDM automatically reduced if needed), which means that we can add to the Vmt database some Vmt that cannot be turned into complete OA.

Two good points:

1) I can not add another Vmt which had the same problem as this 514 thing and creates an OA that we do not have already

2) I can now add Vmt that will produce incomplete OA that can be used by `incomplete_orthogonal_array` to get OA with holes of size `>1`, and that means perhaps being able to use the Brouwer-van Rees version of Wilson's construction.

Nathann



---

archive/issue_comments_222332.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6fbe31b726c88e63a64702aae749a0824b12ff5c\"><code>6fbe31b</code></a></td><td><code>trac #16879: orthogonal_array_recursive.py -> pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b1977dca2ad045051e337f0f96c860ce245fdb6\"><code>5b1977d</code></a></td><td><code>trac #16879: a is_available function in orthogonal_arrays_recursive</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/613d30a4a3e5796bbc353f8c734e8f9a144acfa9\"><code>613d30a</code></a></td><td><code>trac #16879: more speed up</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d927f2dfd04163a1961b2a2a77bbfde90476f9e\"><code>4d927f2</code></a></td><td><code>trac #16879: rename orthogonal_arrays_recursive to orthogonal_arrays_find_recursive</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33523712ee72de9881a422850d8055c40e72579e\"><code>3352371</code></a></td><td><code>trac #16879: Move constructions from orthogonal_arrays_find to orthogonal_arrays_build (this, and only this)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a42144dbe791ffb54d875f2b6aecbeefb5a11b56\"><code>a42144d</code></a></td><td><code>trac #16879: Fix the import statements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3db376f043c01b5ff58e46a845bb69e704c1eacf\"><code>3db376f</code></a></td><td><code>trac #16879: Fix the doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a44247a4dc0aac8cddff6c5f47e4b6eba984f535\"><code>a44247a</code></a></td><td><code>trac #16884: Remove OA constructors (they will be turned into QDM constructors)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8f61a97ce1995e6aa7a1b0ded4fe27d2c250b27\"><code>b8f61a9</code></a></td><td><code>trac #16884: A database entry for Quasi-difference matrices. +doc and stuff</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fab7df1d9c61c974db44b80920f542f3ebdfbfd3\"><code>fab7df1</code></a></td><td><code>trac #16884: Convert OA(9,514) into a Vmt</code></td></tr></table>\n",
    "created_at": "2014-08-26T22:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222332",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6fbe31b726c88e63a64702aae749a0824b12ff5c"><code>6fbe31b</code></a></td><td><code>trac #16879: orthogonal_array_recursive.py -> pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b1977dca2ad045051e337f0f96c860ce245fdb6"><code>5b1977d</code></a></td><td><code>trac #16879: a is_available function in orthogonal_arrays_recursive</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/613d30a4a3e5796bbc353f8c734e8f9a144acfa9"><code>613d30a</code></a></td><td><code>trac #16879: more speed up</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d927f2dfd04163a1961b2a2a77bbfde90476f9e"><code>4d927f2</code></a></td><td><code>trac #16879: rename orthogonal_arrays_recursive to orthogonal_arrays_find_recursive</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33523712ee72de9881a422850d8055c40e72579e"><code>3352371</code></a></td><td><code>trac #16879: Move constructions from orthogonal_arrays_find to orthogonal_arrays_build (this, and only this)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a42144dbe791ffb54d875f2b6aecbeefb5a11b56"><code>a42144d</code></a></td><td><code>trac #16879: Fix the import statements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3db376f043c01b5ff58e46a845bb69e704c1eacf"><code>3db376f</code></a></td><td><code>trac #16879: Fix the doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a44247a4dc0aac8cddff6c5f47e4b6eba984f535"><code>a44247a</code></a></td><td><code>trac #16884: Remove OA constructors (they will be turned into QDM constructors)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8f61a97ce1995e6aa7a1b0ded4fe27d2c250b27"><code>b8f61a9</code></a></td><td><code>trac #16884: A database entry for Quasi-difference matrices. +doc and stuff</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fab7df1d9c61c974db44b80920f542f3ebdfbfd3"><code>fab7df1</code></a></td><td><code>trac #16884: Convert OA(9,514) into a Vmt</code></td></tr></table>




---

archive/issue_comments_222333.json:
```json
{
    "body": "Commit: **[`fab7df1`](https://github.com/sagemath/sagetrac-mirror/commit/fab7df1d9c61c974db44b80920f542f3ebdfbfd3)**",
    "created_at": "2014-08-26T22:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222333",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`fab7df1`](https://github.com/sagemath/sagetrac-mirror/commit/fab7df1d9c61c974db44b80920f542f3ebdfbfd3)**



---

archive/issue_comments_222334.json:
```json
{
    "body": "Changed commit from **[`fab7df1`](https://github.com/sagemath/sagetrac-mirror/commit/fab7df1d9c61c974db44b80920f542f3ebdfbfd3)** to **[`3fc2696`](https://github.com/sagemath/sagetrac-mirror/commit/3fc2696ba6e20a6b01b913897e66b258759ddb45)**",
    "created_at": "2014-08-26T22:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222334",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fab7df1`](https://github.com/sagemath/sagetrac-mirror/commit/fab7df1d9c61c974db44b80920f542f3ebdfbfd3)** to **[`3fc2696`](https://github.com/sagemath/sagetrac-mirror/commit/3fc2696ba6e20a6b01b913897e66b258759ddb45)**



---

archive/issue_comments_222335.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3fc2696ba6e20a6b01b913897e66b258759ddb45\"><code>3fc2696</code></a></td><td><code>trac #16884: broken doctest</code></td></tr></table>\n",
    "created_at": "2014-08-26T22:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222335",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3fc2696ba6e20a6b01b913897e66b258759ddb45"><code>3fc2696</code></a></td><td><code>trac #16884: broken doctest</code></td></tr></table>




---

archive/issue_comments_222336.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nExcept that there is a stupid test that ensures that something wrong holds, i.e. that all Vmt can be turned into full OA.\n\nI will implement a `is_quasi_difference_matrix` to change that test, but in the meantime I will just avoid the bad case.\n\nNathann\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3fc2696ba6e20a6b01b913897e66b258759ddb45\"><code>3fc2696</code></a></td><td><code>trac #16884: broken doctest</code></td></tr></table>\n",
    "created_at": "2014-08-26T22:24:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222336",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">comment:5</div>

Except that there is a stupid test that ensures that something wrong holds, i.e. that all Vmt can be turned into full OA.

I will implement a `is_quasi_difference_matrix` to change that test, but in the meantime I will just avoid the bad case.

Nathann

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3fc2696ba6e20a6b01b913897e66b258759ddb45"><code>3fc2696</code></a></td><td><code>trac #16884: broken doctest</code></td></tr></table>




---

archive/issue_comments_222337.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHere is a real fix.\n\nNathann",
    "created_at": "2014-08-27T17:35:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222337",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

Here is a real fix.

Nathann



---

archive/issue_events_239201.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-27T17:35:45Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "title_is": "Quasi-difference matrices (database+is_QDM)",
    "title_was": "A database entry for Quasi-difference matrices",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239201"
}
```



---

archive/issue_comments_222338.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc157e6e7837aeeccb080e17e1ab838506386df9\"><code>bc157e6</code></a></td><td><code>trac #16884: is_quasi_difference_matrix</code></td></tr></table>\n",
    "created_at": "2014-08-27T17:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222338",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc157e6e7837aeeccb080e17e1ab838506386df9"><code>bc157e6</code></a></td><td><code>trac #16884: is_quasi_difference_matrix</code></td></tr></table>




---

archive/issue_comments_222339.json:
```json
{
    "body": "Changed commit from **[`3fc2696`](https://github.com/sagemath/sagetrac-mirror/commit/3fc2696ba6e20a6b01b913897e66b258759ddb45)** to **[`bc157e6`](https://github.com/sagemath/sagetrac-mirror/commit/bc157e6e7837aeeccb080e17e1ab838506386df9)**",
    "created_at": "2014-08-27T17:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222339",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3fc2696`](https://github.com/sagemath/sagetrac-mirror/commit/3fc2696ba6e20a6b01b913897e66b258759ddb45)** to **[`bc157e6`](https://github.com/sagemath/sagetrac-mirror/commit/bc157e6e7837aeeccb080e17e1ab838506386df9)**



---

archive/issue_comments_222340.json:
```json
{
    "body": "Changed commit from **[`bc157e6`](https://github.com/sagemath/sagetrac-mirror/commit/bc157e6e7837aeeccb080e17e1ab838506386df9)** to **[`a2922a4`](https://github.com/sagemath/sagetrac-mirror/commit/a2922a439d868932a4b5a38dd9095941d83fc15a)**",
    "created_at": "2014-08-27T18:01:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222340",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bc157e6`](https://github.com/sagemath/sagetrac-mirror/commit/bc157e6e7837aeeccb080e17e1ab838506386df9)** to **[`a2922a4`](https://github.com/sagemath/sagetrac-mirror/commit/a2922a439d868932a4b5a38dd9095941d83fc15a)**



---

archive/issue_comments_222341.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2922a439d868932a4b5a38dd9095941d83fc15a\"><code>a2922a4</code></a></td><td><code>trac #16884: A V(12,185) that yields a OA(11,2406)</code></td></tr></table>\n",
    "created_at": "2014-08-27T18:01:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222341",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2922a439d868932a4b5a38dd9095941d83fc15a"><code>a2922a4</code></a></td><td><code>trac #16884: A V(12,185) that yields a OA(11,2406)</code></td></tr></table>




---

archive/issue_comments_222342.json:
```json
{
    "body": "Changed commit from **[`a2922a4`](https://github.com/sagemath/sagetrac-mirror/commit/a2922a439d868932a4b5a38dd9095941d83fc15a)** to **[`15c78ba`](https://github.com/sagemath/sagetrac-mirror/commit/15c78ba967f5f15644a7eb83f2825de3ba5fd7fd)**",
    "created_at": "2014-08-28T22:34:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222342",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a2922a4`](https://github.com/sagemath/sagetrac-mirror/commit/a2922a439d868932a4b5a38dd9095941d83fc15a)** to **[`15c78ba`](https://github.com/sagemath/sagetrac-mirror/commit/15c78ba967f5f15644a7eb83f2825de3ba5fd7fd)**



---

archive/issue_comments_222343.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9e04753f45301c24c8c0811ae215cd4d7885aa2\"><code>d9e0475</code></a></td><td><code>trac #16879: Move constructions from orthogonal_arrays_find to orthogonal_arrays_build (this, and only this)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5031aee11c668df05d0d955292f7111ffbb985c0\"><code>5031aee</code></a></td><td><code>trac #16879: Fix the import statements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c1893f75b17657458a441e512a00be0ceba7728\"><code>0c1893f</code></a></td><td><code>trac #16879: Fix the doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a3869d56d0458e66f4e427f2e9c2930157dd141\"><code>6a3869d</code></a></td><td><code>trac #16879: speed up</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7129d6e80c8d3eb11d09e2cd620882a14d6e73d\"><code>d7129d6</code></a></td><td><code>trac #16879: Trivial stuff</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/197948683b0ce2b48c32388bd6e1721197b5a56e\"><code>1979486</code></a></td><td><code>trac #16884: Remove OA constructors (they will be turned into QDM constructors)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f23e0cf91e989dd462f78aa123040acba13055dc\"><code>f23e0cf</code></a></td><td><code>trac #16884: A database entry for Quasi-difference matrices. +doc and stuff</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f074c38f8e432a1bec8a9df9f978139388ad8de3\"><code>f074c38</code></a></td><td><code>trac #16884: Convert OA(9,514) into a Vmt</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/781b168879114caa1da5708d8e1fcd0aa9be0f02\"><code>781b168</code></a></td><td><code>trac #16884: is_quasi_difference_matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15c78ba967f5f15644a7eb83f2825de3ba5fd7fd\"><code>15c78ba</code></a></td><td><code>trac #16884: A V(12,185) that yields a OA(11,2406)</code></td></tr></table>\n",
    "created_at": "2014-08-28T22:34:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222343",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9e04753f45301c24c8c0811ae215cd4d7885aa2"><code>d9e0475</code></a></td><td><code>trac #16879: Move constructions from orthogonal_arrays_find to orthogonal_arrays_build (this, and only this)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5031aee11c668df05d0d955292f7111ffbb985c0"><code>5031aee</code></a></td><td><code>trac #16879: Fix the import statements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c1893f75b17657458a441e512a00be0ceba7728"><code>0c1893f</code></a></td><td><code>trac #16879: Fix the doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a3869d56d0458e66f4e427f2e9c2930157dd141"><code>6a3869d</code></a></td><td><code>trac #16879: speed up</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7129d6e80c8d3eb11d09e2cd620882a14d6e73d"><code>d7129d6</code></a></td><td><code>trac #16879: Trivial stuff</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/197948683b0ce2b48c32388bd6e1721197b5a56e"><code>1979486</code></a></td><td><code>trac #16884: Remove OA constructors (they will be turned into QDM constructors)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f23e0cf91e989dd462f78aa123040acba13055dc"><code>f23e0cf</code></a></td><td><code>trac #16884: A database entry for Quasi-difference matrices. +doc and stuff</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f074c38f8e432a1bec8a9df9f978139388ad8de3"><code>f074c38</code></a></td><td><code>trac #16884: Convert OA(9,514) into a Vmt</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/781b168879114caa1da5708d8e1fcd0aa9be0f02"><code>781b168</code></a></td><td><code>trac #16884: is_quasi_difference_matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15c78ba967f5f15644a7eb83f2825de3ba5fd7fd"><code>15c78ba</code></a></td><td><code>trac #16884: A V(12,185) that yields a OA(11,2406)</code></td></tr></table>




---

archive/issue_events_239202.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-29T11:17:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239202"
}
```



---

archive/issue_events_239203.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-29T11:17:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239203"
}
```



---

archive/issue_comments_222344.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHello,\n\n1) In the definition of quasi difference matrix, why do you require the group G to be Abelian? I saw that your definition coincides with the one from the handbook... but still. The question is just why. I don't mind the restriction since I do not know of any example on a non-commutative group.\n\n2) You did not modify the doctests, is it on purpose\n\n```\n$ sage -coverage database.py\n------------------------------------------------------------------------\nSCORE database.py: 100.0% (68 of 68)\n\nPossibly wrong (function name doesn't occur in doctests):\n     * line 1955: def QDM_19_6_1_0_1()\n     * line 1987: def QDM_21_5_1_0_1()\n     * line 2032: def QDM_21_6_1_0_5()\n     * line 2070: def QDM_25_6_1_0_5()\n     * line 2113: def QDM_33_6_1_0_1()\n     * line 2154: def QDM_37_6_1_0_1()\n     * line 2190: def QDM_35_7_1_0_7()\n     * line 2225: def QDM_45_7_1_0_9()\n     * line 2260: def QDM_54_7_1_0_8()\n     * line 2295: def QDM_57_9_1_0_8()\n------------------------------------------------------------------------\n```\n\nFor the following see `public/16884b`\n\n1') I got an error building the doc, because you used `::` instead of `:` in `is_quasi_difference_matrix`.\n\nVincent",
    "created_at": "2014-08-29T11:17:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222344",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">comment:10</div>

Hello,

1) In the definition of quasi difference matrix, why do you require the group G to be Abelian? I saw that your definition coincides with the one from the handbook... but still. The question is just why. I don't mind the restriction since I do not know of any example on a non-commutative group.

2) You did not modify the doctests, is it on purpose

```
$ sage -coverage database.py
------------------------------------------------------------------------
SCORE database.py: 100.0% (68 of 68)

Possibly wrong (function name doesn't occur in doctests):
     * line 1955: def QDM_19_6_1_0_1()
     * line 1987: def QDM_21_5_1_0_1()
     * line 2032: def QDM_21_6_1_0_5()
     * line 2070: def QDM_25_6_1_0_5()
     * line 2113: def QDM_33_6_1_0_1()
     * line 2154: def QDM_37_6_1_0_1()
     * line 2190: def QDM_35_7_1_0_7()
     * line 2225: def QDM_45_7_1_0_9()
     * line 2260: def QDM_54_7_1_0_8()
     * line 2295: def QDM_57_9_1_0_8()
------------------------------------------------------------------------
```

For the following see `public/16884b`

1') I got an error building the doc, because you used `::` instead of `:` in `is_quasi_difference_matrix`.

Vincent



---

archive/issue_comments_222345.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nHello !\n\n> 1) In the definition of quasi difference matrix, why do you require the group G to be Abelian? I saw that your definition coincides with the one from the handbook... but still. The question is just why. I don't mind the restriction since I do not know of any example on a non-commutative group.\n\nNo other reason, I just took the def from the Handbook.\n\n> 2) You did not modify the doctests, is it on purpose\n\nNonono it is a mistake, I first wrote those functions when we had no `is_quasi_difference_matrix` function and I had no other choice. It is fixed. Plus the '0' in the functions was actually a 1 and I had forgotten to update it.\n\nI also changed the layout of the QDM dictionary: as for other dictionaries, the 'k' is a key. It is easier this way, I learned that by writing my update to the Brouwer-van Rees construction (which I will update now).\n\nAnd after the Brouwer-van Rees construction is reviewed I will have to thing hard about a `find_*` function. The good news is that it should make many - disappear `:-P`\n\nNathann",
    "created_at": "2014-08-29T12:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222345",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:11" align="right">comment:11</div>

Hello !

> 1) In the definition of quasi difference matrix, why do you require the group G to be Abelian? I saw that your definition coincides with the one from the handbook... but still. The question is just why. I don't mind the restriction since I do not know of any example on a non-commutative group.

No other reason, I just took the def from the Handbook.

> 2) You did not modify the doctests, is it on purpose

Nonono it is a mistake, I first wrote those functions when we had no `is_quasi_difference_matrix` function and I had no other choice. It is fixed. Plus the '0' in the functions was actually a 1 and I had forgotten to update it.

I also changed the layout of the QDM dictionary: as for other dictionaries, the 'k' is a key. It is easier this way, I learned that by writing my update to the Brouwer-van Rees construction (which I will update now).

And after the Brouwer-van Rees construction is reviewed I will have to thing hard about a `find_*` function. The good news is that it should make many - disappear `:-P`

Nathann



---

archive/issue_events_239204.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-29T13:26:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239204"
}
```



---

archive/issue_events_239205.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-29T13:26:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239205"
}
```



---

archive/issue_comments_222346.json:
```json
{
    "body": "Changed commit from **[`15c78ba`](https://github.com/sagemath/sagetrac-mirror/commit/15c78ba967f5f15644a7eb83f2825de3ba5fd7fd)** to **[`f0b7bab`](https://github.com/sagemath/sagetrac-mirror/commit/f0b7bab049e078a663702a935ea5f09facd396ed)**",
    "created_at": "2014-08-29T13:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222346",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`15c78ba`](https://github.com/sagemath/sagetrac-mirror/commit/15c78ba967f5f15644a7eb83f2825de3ba5fd7fd)** to **[`f0b7bab`](https://github.com/sagemath/sagetrac-mirror/commit/f0b7bab049e078a663702a935ea5f09facd396ed)**



---

archive/issue_comments_222347.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0be5b0bb735ba176f67203a81cdcfbcb38c2eb2c\"><code>0be5b0b</code></a></td><td><code>trac #16884: fix documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0b7bab049e078a663702a935ea5f09facd396ed\"><code>f0b7bab</code></a></td><td><code>trac #16884: Doctest + a couple of fixes</code></td></tr></table>\n",
    "created_at": "2014-08-29T13:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222347",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0be5b0bb735ba176f67203a81cdcfbcb38c2eb2c"><code>0be5b0b</code></a></td><td><code>trac #16884: fix documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0b7bab049e078a663702a935ea5f09facd396ed"><code>f0b7bab</code></a></td><td><code>trac #16884: Doctest + a couple of fixes</code></td></tr></table>




---

archive/issue_comments_222348.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nHere it is !\n\nNathann",
    "created_at": "2014-08-29T13:27:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222348",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

Here it is !

Nathann



---

archive/issue_comments_222349.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@nathanncohen](#comment%3A11):\n> > 2) You did not modify the doctests, is it on purpose\n\n> \n> Nonono it is a mistake, I first wrote those functions when we had no `is_quasi_difference_matrix` function and I had no other choice. It is fixed. Plus the '0' in the functions was actually a 1 and I had forgotten to update it.\n> \n> I also changed the layout of the QDM dictionary: as for other dictionaries, the 'k' is a key.\n\nYou mean a value I gues. As the code is\n\n```\nfor ((n,k,lmbda,mu,u),f) in [...]:\n    if not (n+u,lmbda) in QDM:\n        QDM[n+u,lmbda] = {}\n    QDM[n+u,lmbda][n,lmbda,mu,u] = (k,f)\n\n```\n\n> And after the Brouwer-van Rees construction is reviewed I will have to thing hard about a `find_*` function. The good news is that it should make many - disappear `:-P`\n\nYou can also set the values by hand (but still try hard to find more values).\n\nMore comments:\n\n3) When there does exist a good `QDM` to build an `OA(k,n)`, could we use `_OA_cache_set(kk,n,True)` instead of `_OA_cache_set(k,n,True)`. We will win some few calls (especially when running `MOLS_table`).\n\n4) I wonder if such things as 3) above is doable with `difference_matrix` as well. For example we could put a call to `_OA_cache_set` inside `difference_matrix` to set the existence to a potentially bigger `k`. Alternatively, one can write `_OA_cache_set(n,difference_matrix(n,None,existence=True))` in the core of `orthogonal_array` but it might be slower.\n\nVincent",
    "created_at": "2014-08-29T18:35:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222349",
    "user": "https://github.com/videlec"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@nathanncohen](#comment%3A11):
> > 2) You did not modify the doctests, is it on purpose

> 
> Nonono it is a mistake, I first wrote those functions when we had no `is_quasi_difference_matrix` function and I had no other choice. It is fixed. Plus the '0' in the functions was actually a 1 and I had forgotten to update it.
> 
> I also changed the layout of the QDM dictionary: as for other dictionaries, the 'k' is a key.

You mean a value I gues. As the code is

```
for ((n,k,lmbda,mu,u),f) in [...]:
    if not (n+u,lmbda) in QDM:
        QDM[n+u,lmbda] = {}
    QDM[n+u,lmbda][n,lmbda,mu,u] = (k,f)

```

> And after the Brouwer-van Rees construction is reviewed I will have to thing hard about a `find_*` function. The good news is that it should make many - disappear `:-P`

You can also set the values by hand (but still try hard to find more values).

More comments:

3) When there does exist a good `QDM` to build an `OA(k,n)`, could we use `_OA_cache_set(kk,n,True)` instead of `_OA_cache_set(k,n,True)`. We will win some few calls (especially when running `MOLS_table`).

4) I wonder if such things as 3) above is doable with `difference_matrix` as well. For example we could put a call to `_OA_cache_set` inside `difference_matrix` to set the existence to a potentially bigger `k`. Alternatively, one can write `_OA_cache_set(n,difference_matrix(n,None,existence=True))` in the core of `orthogonal_array` but it might be slower.

Vincent



---

archive/issue_events_239206.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-29T18:35:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239206"
}
```



---

archive/issue_events_239207.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-29T18:35:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239207"
}
```



---

archive/issue_comments_222350.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nYo !\n\n> You mean a value I gues. As the code is\n\nIndeed. And I may do the same for 'mu' in the future too. This variable is mostly useless.\n\n> You can also set the values by hand (but still try hard to find more values).\n\nI began to write something which may more or less work. But today I had to clean the house in which I spent the week, tomorrow will be filled with travelling and sunday too. Adventure `:-P`\n\n> 3) When there does exist a good `QDM` to build an `OA(k,n)`, could we use `_OA_cache_set(kk,n,True)` instead of `_OA_cache_set(k,n,True)`. We will win some few calls (especially when running `MOLS_table`).\n\nI don't understand your sentence `O_o`\n\n> 4) I wonder if such things as 3) above is doable with `difference_matrix` as well. For example we could put a call to `_OA_cache_set` inside `difference_matrix` to set the existence to a potentially bigger `k`. Alternatively, one can write `_OA_cache_set(n,difference_matrix(n,None,existence=True))` in the core of `orthogonal_array` but it might be slower.\n\nHmmmm.. I prefer that only the OA constructor plays with the `OA_cache`. I thought once or twice while coding that it was a good thing but I forgot why.\n\nNathann",
    "created_at": "2014-08-29T20:46:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222350",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

Yo !

> You mean a value I gues. As the code is

Indeed. And I may do the same for 'mu' in the future too. This variable is mostly useless.

> You can also set the values by hand (but still try hard to find more values).

I began to write something which may more or less work. But today I had to clean the house in which I spent the week, tomorrow will be filled with travelling and sunday too. Adventure `:-P`

> 3) When there does exist a good `QDM` to build an `OA(k,n)`, could we use `_OA_cache_set(kk,n,True)` instead of `_OA_cache_set(k,n,True)`. We will win some few calls (especially when running `MOLS_table`).

I don't understand your sentence `O_o`

> 4) I wonder if such things as 3) above is doable with `difference_matrix` as well. For example we could put a call to `_OA_cache_set` inside `difference_matrix` to set the existence to a potentially bigger `k`. Alternatively, one can write `_OA_cache_set(n,difference_matrix(n,None,existence=True))` in the core of `orthogonal_array` but it might be slower.

Hmmmm.. I prefer that only the OA constructor plays with the `OA_cache`. I thought once or twice while coding that it was a good thing but I forgot why.

Nathann



---

archive/issue_events_239208.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-29T21:13:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239208"
}
```



---

archive/issue_events_239209.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-29T21:13:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239209"
}
```



---

archive/issue_comments_222351.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@nathanncohen](#comment%3A16):\n\n> > 3) When there does exist a good `QDM` to build an `OA(k,n)`, could we use `_OA_cache_set(kk,n,True)` instead of `_OA_cache_set(k,n,True)`. We will win some few calls (especially when running `MOLS_table`).\n\n> \n> I don't understand your sentence `O_o`\n\nNevermind. I was wrong. My question should have been: if I ask for `orthogonal_array(None,n,existence=True)` is there a better strategy to adopt when dealing with quasi-difference matrix case. The answer is yes, but it is not nice to write down in your flow of `if/elif/elif/...`.\n\nGood to go!\n\nVincent",
    "created_at": "2014-08-29T21:13:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222351",
    "user": "https://github.com/videlec"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@nathanncohen](#comment%3A16):

> > 3) When there does exist a good `QDM` to build an `OA(k,n)`, could we use `_OA_cache_set(kk,n,True)` instead of `_OA_cache_set(k,n,True)`. We will win some few calls (especially when running `MOLS_table`).

> 
> I don't understand your sentence `O_o`

Nevermind. I was wrong. My question should have been: if I ask for `orthogonal_array(None,n,existence=True)` is there a better strategy to adopt when dealing with quasi-difference matrix case. The answer is yes, but it is not nice to write down in your flow of `if/elif/elif/...`.

Good to go!

Vincent



---

archive/issue_comments_222352.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2014-08-30T07:23:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222352",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_events_239210.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-06T11:02:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239210"
}
```



---

archive/issue_events_239211.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7fcdd27519dcc0cd0c220efde20d55e567efba30",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-09-06T11:02:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16884#event-239211"
}
```



---

archive/issue_comments_222353.json:
```json
{
    "body": "Changed branch from **[public/16884](https://github.com/sagemath/sagetrac-mirror/tree/public/16884)** to **[`f0b7bab`](https://github.com/sagemath/sagetrac-mirror/commit/f0b7bab049e078a663702a935ea5f09facd396ed)**",
    "created_at": "2014-09-06T11:02:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16884#issuecomment-222353",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/16884](https://github.com/sagemath/sagetrac-mirror/tree/public/16884)** to **[`f0b7bab`](https://github.com/sagemath/sagetrac-mirror/commit/f0b7bab049e078a663702a935ea5f09facd396ed)**
