# Issue 16681: Random doctest failures in sage/rings/algebraic_closure_finite_field.py

archive/issues_016444.json:
```json
{
    "assignees": [],
    "body": "This is caused by #15390\n\n```\nsage -t --long src/sage/rings/algebraic_closure_finite_field.py\n**********************************************************************\nFile \"src/sage/rings/algebraic_closure_finite_field.py\", line 940, in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial\nFailed example:\n    for d in xrange(10):\n        p = R.random_element(degree=randint(2,8))\n        assert p.factor().prod() == p\nException raised:\n    Traceback (most recent call last):\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial[4]>\", line 3, in <module>\n        assert p.factor().prod() == p\n    AssertionError\n**********************************************************************\n1 item had failures:\n   1 of   6 in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial\n```\n\nFirst of all, you should use a form of assert that gives some minimal information when it can fail, e.g. in the form below. The following fails occasionally and makes it easy enough to reproduce:\n\n```\nsage: K = GF(3).algebraic_closure()\nsage: R = PolynomialRing(K, 'T')\nsage: T = R.gen()\nsage: for d in xrange(1000):\n....:         p = R.random_element(degree=8)\n....:         assert p.factor().prod() == p, p.factor()\n....:     \n---------------------------------------------------------------------------\nAssertionError                            Traceback (most recent call last)\n<ipython-input-22-f31a401fb53b> in <module>()\n      1 for d in xrange(Integer(1000)):\n      2         p = R.random_element(degree=Integer(8))\n----> 3         assert p.factor().prod() == p, p.factor()\n      4 \n\nAssertionError: T * (T + 1) * (T + z5 + 1) * (T + z5^3 + 1) * (T + 2*z5^4 + z5) * (T + 2*z5^4 + 2*z5^2) * (T + 2*z5^4 + 2*z5^3 + z5^2 + z5)\n```\n\nOn a related note, a random element can be zero:\n\n```\nsage: K = GF(3).algebraic_closure()\nsage: R = PolynomialRing(K, 'T')\nsage: T = R.gen()\nsage: for d in xrange(1000):\n....:         p = R.random_element(degree=randint(2,8))\n....:         assert p.factor().prod() == p, p\n....:     \n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-15-db4aacba08d5> in <module>()\n      1 for d in xrange(Integer(1000)):\n      2         p = R.random_element(degree=randint(Integer(2),Integer(8)))\n----> 3         assert p.factor().prod() == p, p\n      4 \n\n/home/release/Sage/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_element.so in sage.rings.polynomial.polynomial_element.Polynomial.factor (build/cythonized/sage/rings/polynomial/polynomial_element.c:23530)()\n\nValueError: factorization of 0 not defined\n```\n\nDepends on #16682\n\nCC:  @pjbruin @defeo @videlec @miguelmarco jpflori\n\nKeywords: **random_fail**\n\nBranch: **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)**\n\nReviewer: **Volker Braun**\n\nAuthor: **Vincent Delecroix**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16681_\n\n",
    "closed_at": "2014-08-28T18:42:03Z",
    "created_at": "2014-07-19T04:54:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20number%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Random doctest failures in sage/rings/algebraic_closure_finite_field.py",
    "type": "issue",
    "updated_at": "2014-09-03T13:19:59Z",
    "url": "https://github.com/sagemath/sage/issues/16681",
    "user": "https://github.com/vbraun"
}
```
This is caused by #15390

```
sage -t --long src/sage/rings/algebraic_closure_finite_field.py
**********************************************************************
File "src/sage/rings/algebraic_closure_finite_field.py", line 940, in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial
Failed example:
    for d in xrange(10):
        p = R.random_element(degree=randint(2,8))
        assert p.factor().prod() == p
Exception raised:
    Traceback (most recent call last):
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial[4]>", line 3, in <module>
        assert p.factor().prod() == p
    AssertionError
**********************************************************************
1 item had failures:
   1 of   6 in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial
```

First of all, you should use a form of assert that gives some minimal information when it can fail, e.g. in the form below. The following fails occasionally and makes it easy enough to reproduce:

```
sage: K = GF(3).algebraic_closure()
sage: R = PolynomialRing(K, 'T')
sage: T = R.gen()
sage: for d in xrange(1000):
....:         p = R.random_element(degree=8)
....:         assert p.factor().prod() == p, p.factor()
....:     
---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
<ipython-input-22-f31a401fb53b> in <module>()
      1 for d in xrange(Integer(1000)):
      2         p = R.random_element(degree=Integer(8))
----> 3         assert p.factor().prod() == p, p.factor()
      4 

AssertionError: T * (T + 1) * (T + z5 + 1) * (T + z5^3 + 1) * (T + 2*z5^4 + z5) * (T + 2*z5^4 + 2*z5^2) * (T + 2*z5^4 + 2*z5^3 + z5^2 + z5)
```

On a related note, a random element can be zero:

```
sage: K = GF(3).algebraic_closure()
sage: R = PolynomialRing(K, 'T')
sage: T = R.gen()
sage: for d in xrange(1000):
....:         p = R.random_element(degree=randint(2,8))
....:         assert p.factor().prod() == p, p
....:     
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-15-db4aacba08d5> in <module>()
      1 for d in xrange(Integer(1000)):
      2         p = R.random_element(degree=randint(Integer(2),Integer(8)))
----> 3         assert p.factor().prod() == p, p
      4 

/home/release/Sage/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_element.so in sage.rings.polynomial.polynomial_element.Polynomial.factor (build/cythonized/sage/rings/polynomial/polynomial_element.c:23530)()

ValueError: factorization of 0 not defined
```

Depends on #16682

CC:  @pjbruin @defeo @videlec @miguelmarco jpflori

Keywords: **random_fail**

Branch: **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)**

Reviewer: **Volker Braun**

Author: **Vincent Delecroix**

_Issue created by migration from https://trac.sagemath.org/ticket/16681_





---

archive/issue_events_220895.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-19T04:54:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220895"
}
```



---

archive/issue_events_220896.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-19T04:54:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20number%20theory",
    "label_color": "0000ff",
    "label_name": "component: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220896"
}
```



---

archive/issue_events_220897.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-19T04:54:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220897"
}
```



---

archive/issue_events_220898.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-19T04:54:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220898"
}
```



---

archive/issue_comments_220479.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,28 @@\n-This is caused by #15390. \n+This is caused by #15390\n \n-First of all, you should use a form of assert that gives some minimal information when it can fail, e.g. in the form below.\n+```\n+sage -t --long src/sage/rings/algebraic_closure_finite_field.py\n+**********************************************************************\n+File \"src/sage/rings/algebraic_closure_finite_field.py\", line 940, in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial\n+Failed example:\n+    for d in xrange(10):\n+        p = R.random_element(degree=randint(2,8))\n+        assert p.factor().prod() == p\n+Exception raised:\n+    Traceback (most recent call last):\n+      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n+        self.execute(example, compiled, test.globs)\n+      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n+        exec compiled in globs\n+      File \"<doctest sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial[4]>\", line 3, in <module>\n+        assert p.factor().prod() == p\n+    AssertionError\n+**********************************************************************\n+1 item had failures:\n+   1 of   6 in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial\n+```\n \n-The following fails occasionally on OSX 10.9 (cf. algebraic_closure_finite_field.py line 910)\n+First of all, you should use a form of assert that gives some minimal information when it can fail, e.g. in the form below. The following fails occasionally and makes it easy enough to reproduce:\n \n ```\n sage: K = GF(3).algebraic_closure()\n``````\n",
    "created_at": "2014-07-19T04:56:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220479",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,28 @@
-This is caused by #15390. 
+This is caused by #15390
 
-First of all, you should use a form of assert that gives some minimal information when it can fail, e.g. in the form below.
+```
+sage -t --long src/sage/rings/algebraic_closure_finite_field.py
+**********************************************************************
+File "src/sage/rings/algebraic_closure_finite_field.py", line 940, in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial
+Failed example:
+    for d in xrange(10):
+        p = R.random_element(degree=randint(2,8))
+        assert p.factor().prod() == p
+Exception raised:
+    Traceback (most recent call last):
+      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
+        self.execute(example, compiled, test.globs)
+      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
+        exec compiled in globs
+      File "<doctest sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial[4]>", line 3, in <module>
+        assert p.factor().prod() == p
+    AssertionError
+**********************************************************************
+1 item had failures:
+   1 of   6 in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial
+```
 
-The following fails occasionally on OSX 10.9 (cf. algebraic_closure_finite_field.py line 910)
+First of all, you should use a form of assert that gives some minimal information when it can fail, e.g. in the form below. The following fails occasionally and makes it easy enough to reproduce:
 
 ```
 sage: K = GF(3).algebraic_closure()
``````




---

archive/issue_comments_220480.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nHi,\n\nNice catch! I am on it.\n\nFor the \"related note\", if a polynomial with degree between 2 and 8 can be zero there is definitely a bug but not caused by #15390.\n\nVincent",
    "created_at": "2014-07-19T10:00:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220480",
    "user": "https://github.com/videlec"
}
```

<a id='comment:2'>Comment 2:</a>
Hi,

Nice catch! I am on it.

For the "related note", if a polynomial with degree between 2 and 8 can be zero there is definitely a bug but not caused by #15390.

Vincent



---

archive/issue_comments_220481.json:
```json
{
    "body": "Dependencies: **#16682**",
    "created_at": "2014-07-19T10:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220481",
    "user": "https://github.com/videlec"
}
```

Dependencies: **#16682**



---

archive/issue_comments_220482.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nI do not understand...\n\n```\nsage: K = GF(5).algebraic_closure()\nsage: R = PolynomialRing(K, 'T')\nsage: while True:\n....:     p = R.random_element(degree=(2,10))\n....:     fac = p.factor()\n....:     assert fac.prod() == p, (p,fac)\nTraceback (most recent call last):\n...\nAssertionError: (2*T^6 + 2*T^5 + 4*T^4 + 2*T^2 + 2*T + 2, (2) * (T + 3) * (T + 3*z5^3 + 2*z5^2 + 1) * (T + 2*z5^4 + 3*z5^2 + 4*z5 + 1) * (T + 2*z5^4 + z5^3 + z5^2 + 3) * (T + 2*z5^4 + 2*z5^3 + 2) * (T + 2*z5^4 + 4*z5^3 + z5^2 + 3*z5 + 2))\nsage: p == fac.prod()          # fine\nFalse\nsage: p.factor() == fac        # What!?\nFalse\nsage: p.factor().prod() == p   # What again!?\nTrue\n```",
    "created_at": "2014-07-19T10:49:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220482",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'>Comment 4:</a>
I do not understand...

```
sage: K = GF(5).algebraic_closure()
sage: R = PolynomialRing(K, 'T')
sage: while True:
....:     p = R.random_element(degree=(2,10))
....:     fac = p.factor()
....:     assert fac.prod() == p, (p,fac)
Traceback (most recent call last):
...
AssertionError: (2*T^6 + 2*T^5 + 4*T^4 + 2*T^2 + 2*T + 2, (2) * (T + 3) * (T + 3*z5^3 + 2*z5^2 + 1) * (T + 2*z5^4 + 3*z5^2 + 4*z5 + 1) * (T + 2*z5^4 + z5^3 + z5^2 + 3) * (T + 2*z5^4 + 2*z5^3 + 2) * (T + 2*z5^4 + 4*z5^3 + z5^2 + 3*z5 + 2))
sage: p == fac.prod()          # fine
False
sage: p.factor() == fac        # What!?
False
sage: p.factor().prod() == p   # What again!?
True
```



---

archive/issue_comments_220483.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nThe factorization is not cached but recomputed every time. Sometimes, it is wrong.",
    "created_at": "2014-07-19T15:09:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220483",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'>Comment 5:</a>
The factorization is not cached but recomputed every time. Sometimes, it is wrong.



---

archive/issue_comments_220484.json:
```json
{
    "body": "Changed keywords from **** to **random_fail**",
    "created_at": "2014-07-25T05:01:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220484",
    "user": "https://github.com/vbraun"
}
```

Changed keywords from **** to **random_fail**



---

archive/issue_events_220899.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220899"
}
```



---

archive/issue_events_220900.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220900"
}
```



---

archive/issue_comments_220485.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nAll right. The root finding algorithm from #15390 was wrong.\n\nVincent\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2fa4809681cfb0519b4c137d215ec6963f7dac1\">a2fa480</a></td><td><code>trac #16682: fix random_element in polynomial ring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36ee521f145b9d17feed59e60221171e25eb3e2b\">36ee521</a></td><td><code>trac #16682: the zero polynomial has degree -1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49b9331a39455ac33d52e971b0b99294a0bc8c8f\">49b9331</a></td><td><code>trac #16682: merge 6.3.rc0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/589caad6a78988d4bb3aab3c55bd6e0be6d20c29\">589caad</a></td><td><code>trac #16682: input check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b9ac1b8d1bf915db89a704fd8c491f6d130e8ad\">6b9ac1b</a></td><td><code>trac #16682: better random element</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1b61ff878eeb8c894a5cb00c672cbd3e3b4cddd\">e1b61ff</a></td><td><code>trac #16682: fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e0f8d9e9ac0bf228959b68d480b12a93cc911a4\">1e0f8d9</a></td><td><code>trac #16682: merge sage 6.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/975fb54a89391fcf189d336908e46be53c389f43\">975fb54</a></td><td><code>trac #16881: fix factorization</code></td></tr></table>\n",
    "created_at": "2014-08-13T10:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220485",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'>Comment 8:</a>
All right. The root finding algorithm from #15390 was wrong.

Vincent

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2fa4809681cfb0519b4c137d215ec6963f7dac1">a2fa480</a></td><td><code>trac #16682: fix random_element in polynomial ring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36ee521f145b9d17feed59e60221171e25eb3e2b">36ee521</a></td><td><code>trac #16682: the zero polynomial has degree -1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49b9331a39455ac33d52e971b0b99294a0bc8c8f">49b9331</a></td><td><code>trac #16682: merge 6.3.rc0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/589caad6a78988d4bb3aab3c55bd6e0be6d20c29">589caad</a></td><td><code>trac #16682: input check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b9ac1b8d1bf915db89a704fd8c491f6d130e8ad">6b9ac1b</a></td><td><code>trac #16682: better random element</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1b61ff878eeb8c894a5cb00c672cbd3e3b4cddd">e1b61ff</a></td><td><code>trac #16682: fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e0f8d9e9ac0bf228959b68d480b12a93cc911a4">1e0f8d9</a></td><td><code>trac #16682: merge sage 6.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/975fb54a89391fcf189d336908e46be53c389f43">975fb54</a></td><td><code>trac #16881: fix factorization</code></td></tr></table>




---

archive/issue_events_220901.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-13T10:27:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220901"
}
```



---

archive/issue_comments_220486.json:
```json
{
    "body": "Commit: **[975fb54](https://github.com/sagemath/sagetrac-mirror/commit/975fb54a89391fcf189d336908e46be53c389f43)**",
    "created_at": "2014-08-13T10:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220486",
    "user": "https://github.com/videlec"
}
```

Commit: **[975fb54](https://github.com/sagemath/sagetrac-mirror/commit/975fb54a89391fcf189d336908e46be53c389f43)**



---

archive/issue_comments_220487.json:
```json
{
    "body": "Branch: **[u/vdelecroix/16881](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16881)**",
    "created_at": "2014-08-13T10:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220487",
    "user": "https://github.com/videlec"
}
```

Branch: **[u/vdelecroix/16881](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16881)**



---

archive/issue_comments_220488.json:
```json
{
    "body": "Author: **Vincent Delecroix**",
    "created_at": "2014-08-13T10:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220488",
    "user": "https://github.com/videlec"
}
```

Author: **Vincent Delecroix**



---

archive/issue_events_220902.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-24T16:01:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220902"
}
```



---

archive/issue_events_220903.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-24T16:01:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220903"
}
```



---

archive/issue_comments_220489.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2014-08-24T16:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220489",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_comments_220490.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nlgtm",
    "created_at": "2014-08-24T16:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220490",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:9'>Comment 9:</a>
lgtm



---

archive/issue_events_220904.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-24T20:07:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220904"
}
```



---

archive/issue_events_220905.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-24T20:07:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220905"
}
```



---

archive/issue_comments_220491.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\n\n```\nsage -t src/sage/matrix/matrix2.pyx\n**********************************************************************\nFile \"src/sage/matrix/matrix2.pyx\", line 5349, in sage.matrix.matrix2.Matrix.diagonal.eigenvalues\nFailed example:\n    ev = M.eigenvalues(); ev\nExpected:\n    [2*z3, 2*z3 + 2, 2*z3 + 1]\nGot:\n    [2*z3 + 1, 2*z3 + 2, 2*z3]\n**********************************************************************\nFile \"src/sage/matrix/matrix2.pyx\", line 5359, in sage.matrix.matrix2.Matrix.diagonal.eigenvalues\nFailed example:\n    e.as_finite_field_element()\nExpected:\n    (Finite Field in z3 of size 3^3, 2*z3, Ring morphism:\n      From: Finite Field in z3 of size 3^3\n      To:   Algebraic closure of Finite Field of size 3\n      Defn: z3 |--> z3)\nGot:\n    (Finite Field in z3 of size 3^3, 2*z3 + 1, Ring morphism:\n      From: Finite Field in z3 of size 3^3\n      To:   Algebraic closure of Finite Field of size 3\n      Defn: z3 |--> z3)\n**********************************************************************\n1 item had failures:\n   2 of  19 in sage.matrix.matrix2.Matrix.diagonal.eigenvalues\n    [2116 tests, 2 failures, 8.52 s]\n----------------------------------------------------------------------\nsage -t src/sage/matrix/matrix2.pyx  # 2 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 9.1 seconds\n    cpu time: 8.4 seconds\n    cumulative wall time: 8.5 seconds\n```",
    "created_at": "2014-08-24T20:07:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220491",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'>Comment 10:</a>

```
sage -t src/sage/matrix/matrix2.pyx
**********************************************************************
File "src/sage/matrix/matrix2.pyx", line 5349, in sage.matrix.matrix2.Matrix.diagonal.eigenvalues
Failed example:
    ev = M.eigenvalues(); ev
Expected:
    [2*z3, 2*z3 + 2, 2*z3 + 1]
Got:
    [2*z3 + 1, 2*z3 + 2, 2*z3]
**********************************************************************
File "src/sage/matrix/matrix2.pyx", line 5359, in sage.matrix.matrix2.Matrix.diagonal.eigenvalues
Failed example:
    e.as_finite_field_element()
Expected:
    (Finite Field in z3 of size 3^3, 2*z3, Ring morphism:
      From: Finite Field in z3 of size 3^3
      To:   Algebraic closure of Finite Field of size 3
      Defn: z3 |--> z3)
Got:
    (Finite Field in z3 of size 3^3, 2*z3 + 1, Ring morphism:
      From: Finite Field in z3 of size 3^3
      To:   Algebraic closure of Finite Field of size 3
      Defn: z3 |--> z3)
**********************************************************************
1 item had failures:
   2 of  19 in sage.matrix.matrix2.Matrix.diagonal.eigenvalues
    [2116 tests, 2 failures, 8.52 s]
----------------------------------------------------------------------
sage -t src/sage/matrix/matrix2.pyx  # 2 doctests failed
----------------------------------------------------------------------
Total time for all tests: 9.1 seconds
    cpu time: 8.4 seconds
    cumulative wall time: 8.5 seconds
```



---

archive/issue_comments_220492.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae\">f6dc356</a></td><td><code>trac #16881: fix documentation issue</code></td></tr></table>\n",
    "created_at": "2014-08-24T20:15:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220492",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae">f6dc356</a></td><td><code>trac #16881: fix documentation issue</code></td></tr></table>




---

archive/issue_comments_220493.json:
```json
{
    "body": "Changed commit from **[975fb54](https://github.com/sagemath/sagetrac-mirror/commit/975fb54a89391fcf189d336908e46be53c389f43)** to **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)**",
    "created_at": "2014-08-24T20:15:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220493",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[975fb54](https://github.com/sagemath/sagetrac-mirror/commit/975fb54a89391fcf189d336908e46be53c389f43)** to **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)**



---

archive/issue_events_220906.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-24T20:15:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220906"
}
```



---

archive/issue_events_220907.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-08-24T20:15:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220907"
}
```



---

archive/issue_comments_220494.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nMight be a good idea to sort the eigenvalues in `.eigenvalues()`...\n\nVincent",
    "created_at": "2014-08-24T20:15:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220494",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'>Comment 12:</a>
Might be a good idea to sort the eigenvalues in `.eigenvalues()`...

Vincent



---

archive/issue_events_220908.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-25T10:27:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220908"
}
```



---

archive/issue_events_220909.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "124f9bcb946a3b0139f94d10496be63e50df0f81",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-08-25T10:27:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220909"
}
```



---

archive/issue_comments_220495.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/16881](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16881)** to **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)**",
    "created_at": "2014-08-25T10:27:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220495",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vdelecroix/16881](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16881)** to **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)**



---

archive/issue_comments_220496.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nGot another random failure with this ticket merged:\n\n```\nsage -t src/sage/rings/algebraic_closure_finite_field.py\n**********************************************************************\nFile \"src/sage/rings/algebraic_closure_finite_field.py\", line 942, in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial\nFailed example:\n    for d in xrange(10):\n        p = R.random_element(degree=randint(2,8))\n        assert p.factor().prod() == p, \"error in the factorization of p={}\".format(p)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 843, in compile_and_execute\n        exec compiled in globs\n      File \"<doctest sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial[4]>\", line 3, in <module>\n        assert p.factor().prod() == p, \"error in the factorization of p={}\".format(p)\n    AssertionError: error in the factorization of p=T^7 + T^6 + T^5 + 2*T^4 + 2*T^3 + 2*T^2 + T + 2\n**********************************************************************\n1 item had failures:\n   1 of   6 in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial\n    [175 tests, 1 failure, 5.03 s]\n```",
    "created_at": "2014-08-25T20:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220496",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'>Comment 14:</a>
Got another random failure with this ticket merged:

```
sage -t src/sage/rings/algebraic_closure_finite_field.py
**********************************************************************
File "src/sage/rings/algebraic_closure_finite_field.py", line 942, in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial
Failed example:
    for d in xrange(10):
        p = R.random_element(degree=randint(2,8))
        assert p.factor().prod() == p, "error in the factorization of p={}".format(p)
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 843, in compile_and_execute
        exec compiled in globs
      File "<doctest sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial[4]>", line 3, in <module>
        assert p.factor().prod() == p, "error in the factorization of p={}".format(p)
    AssertionError: error in the factorization of p=T^7 + T^6 + T^5 + 2*T^4 + 2*T^3 + 2*T^2 + T + 2
**********************************************************************
1 item had failures:
   1 of   6 in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._factor_univariate_polynomial
    [175 tests, 1 failure, 5.03 s]
```



---

archive/issue_comments_220497.json:
```json
{
    "body": "Changed commit from **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)** to none",
    "created_at": "2014-08-25T20:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220497",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)** to none



---

archive/issue_comments_220498.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nHello,\n\nAs said on [this thread on sage-devel](https://groups.google.com/forum/#!topic/sage-devel/pk36tDZIo0c) the bug has nothing to do with algebraic closure of finite fields.\n\nNevertheless, the algorithm which I implemented at a first glance was wrong so:\n- either I move the branch to another ticket\n- or I open a new ticket for the bug about factorization of polynomials over finite fields\n\nVincent",
    "created_at": "2014-08-26T22:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220498",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'>Comment 15:</a>
Hello,

As said on [this thread on sage-devel](https://groups.google.com/forum/#!topic/sage-devel/pk36tDZIo0c) the bug has nothing to do with algebraic closure of finite fields.

Nevertheless, the algorithm which I implemented at a first glance was wrong so:
- either I move the branch to another ticket
- or I open a new ticket for the bug about factorization of polynomials over finite fields

Vincent



---

archive/issue_comments_220499.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nEither way is fine with me. However you decide to split the ticket, feel free to set this branch back to positive review.",
    "created_at": "2014-08-27T10:18:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220499",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:17'>Comment 17:</a>
Either way is fine with me. However you decide to split the ticket, feel free to set this branch back to positive review.



---

archive/issue_comments_220500.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nThe new ticket to track the bug is #16885. It is in critical, I am not sure this is right.\n\nFor the current branch, what about the random failure? Should I tag the test with a `#bug`?\n\nVincent",
    "created_at": "2014-08-27T10:29:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220500",
    "user": "https://github.com/videlec"
}
```

<a id='comment:18'>Comment 18:</a>
The new ticket to track the bug is #16885. It is in critical, I am not sure this is right.

For the current branch, what about the random failure? Should I tag the test with a `#bug`?

Vincent



---

archive/issue_comments_220501.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nLet's keep the test as it is for now, hopefully you can figure out what is wrong ;-)",
    "created_at": "2014-08-27T10:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220501",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:19'>Comment 19:</a>
Let's keep the test as it is for now, hopefully you can figure out what is wrong ;-)



---

archive/issue_events_220910.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-27T10:36:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220910"
}
```



---

archive/issue_events_220911.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-27T10:36:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220911"
}
```



---

archive/issue_events_220912.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-27T10:36:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220912"
}
```



---

archive/issue_comments_220502.json:
```json
{
    "body": "Changed branch from **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)** to **[u/vdelecroix/16881](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16881)**",
    "created_at": "2014-08-27T10:37:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220502",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)** to **[u/vdelecroix/16881](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16881)**



---

archive/issue_comments_220503.json:
```json
{
    "body": "Commit: **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)**",
    "created_at": "2014-08-27T10:37:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220503",
    "user": "https://github.com/vbraun"
}
```

Commit: **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)**



---

archive/issue_comments_220504.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2fa4809681cfb0519b4c137d215ec6963f7dac1\">a2fa480</a></td><td><code>trac #16682: fix random_element in polynomial ring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36ee521f145b9d17feed59e60221171e25eb3e2b\">36ee521</a></td><td><code>trac #16682: the zero polynomial has degree -1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49b9331a39455ac33d52e971b0b99294a0bc8c8f\">49b9331</a></td><td><code>trac #16682: merge 6.3.rc0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/589caad6a78988d4bb3aab3c55bd6e0be6d20c29\">589caad</a></td><td><code>trac #16682: input check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b9ac1b8d1bf915db89a704fd8c491f6d130e8ad\">6b9ac1b</a></td><td><code>trac #16682: better random element</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1b61ff878eeb8c894a5cb00c672cbd3e3b4cddd\">e1b61ff</a></td><td><code>trac #16682: fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e0f8d9e9ac0bf228959b68d480b12a93cc911a4\">1e0f8d9</a></td><td><code>trac #16682: merge sage 6.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/975fb54a89391fcf189d336908e46be53c389f43\">975fb54</a></td><td><code>trac #16881: fix factorization</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae\">f6dc356</a></td><td><code>trac #16881: fix documentation issue</code></td></tr></table>\n",
    "created_at": "2014-08-27T10:37:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220504",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'>Comment 22:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2fa4809681cfb0519b4c137d215ec6963f7dac1">a2fa480</a></td><td><code>trac #16682: fix random_element in polynomial ring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36ee521f145b9d17feed59e60221171e25eb3e2b">36ee521</a></td><td><code>trac #16682: the zero polynomial has degree -1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49b9331a39455ac33d52e971b0b99294a0bc8c8f">49b9331</a></td><td><code>trac #16682: merge 6.3.rc0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/589caad6a78988d4bb3aab3c55bd6e0be6d20c29">589caad</a></td><td><code>trac #16682: input check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b9ac1b8d1bf915db89a704fd8c491f6d130e8ad">6b9ac1b</a></td><td><code>trac #16682: better random element</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1b61ff878eeb8c894a5cb00c672cbd3e3b4cddd">e1b61ff</a></td><td><code>trac #16682: fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e0f8d9e9ac0bf228959b68d480b12a93cc911a4">1e0f8d9</a></td><td><code>trac #16682: merge sage 6.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/975fb54a89391fcf189d336908e46be53c389f43">975fb54</a></td><td><code>trac #16881: fix factorization</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae">f6dc356</a></td><td><code>trac #16881: fix documentation issue</code></td></tr></table>




---

archive/issue_events_220913.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-28T18:42:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220913"
}
```



---

archive/issue_events_220914.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-28T18:42:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16681#event-220914"
}
```



---

archive/issue_comments_220505.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/16881](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16881)** to **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)**",
    "created_at": "2014-08-28T18:42:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220505",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vdelecroix/16881](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16881)** to **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)**



---

archive/issue_comments_220506.json:
```json
{
    "body": "Changed commit from **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)** to none",
    "created_at": "2014-09-03T12:37:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220506",
    "user": "https://github.com/nthiery"
}
```

Changed commit from **[f6dc356](https://github.com/sagemath/sagetrac-mirror/commit/f6dc3562a5b553bebaffc70c64b65ea63466ccae)** to none



---

archive/issue_comments_220507.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nFor the record, I just got this error once, with 6.4.beta 2:\n\n```\nsage -t src/sage/rings/algebraic_closure_finite_field.py\n**********************************************************************\nFile \"src/sage/rings/algebraic_closure_finite_field.py\", line 890, in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._roots_univariate_polynomi\nal\nFailed example:\n    for _ in xrange(10):\n        p = R.random_element(degree=randint(2,8))\n        for r in p.roots(K, multiplicities=False):\n            assert p(r).is_zero(), \"r={} is not a root of p={}\".format(r,p)\nException raised:\n    Traceback (most recent call last):\n      File \"/opt/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/opt/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 843, in compile_and_execute\n        exec compiled in globs\n      File \"<doctest sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._roots_univariate_polynomial[4]>\", line 4, in <module>\n        assert p(r).is_zero(), \"r={} is not a root of p={}\".format(r,p)\n    AssertionError: r=4*t6^3 + 2*t6^2 + 1 is not a root of p=4*x^7 + 2*x^6 + 2*x^5 + 3*x^4 + 2*x^3 + 4*x^2 + 4*x\n**********************************************************************\n1 item had failures:\n   1 of   6 in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._roots_univariate_polynomial\n    [175 tests, 1 failure, 5.58 s]\n```",
    "created_at": "2014-09-03T12:37:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220507",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:24'>Comment 24:</a>
For the record, I just got this error once, with 6.4.beta 2:

```
sage -t src/sage/rings/algebraic_closure_finite_field.py
**********************************************************************
File "src/sage/rings/algebraic_closure_finite_field.py", line 890, in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._roots_univariate_polynomi
al
Failed example:
    for _ in xrange(10):
        p = R.random_element(degree=randint(2,8))
        for r in p.roots(K, multiplicities=False):
            assert p(r).is_zero(), "r={} is not a root of p={}".format(r,p)
Exception raised:
    Traceback (most recent call last):
      File "/opt/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/opt/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 843, in compile_and_execute
        exec compiled in globs
      File "<doctest sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._roots_univariate_polynomial[4]>", line 4, in <module>
        assert p(r).is_zero(), "r={} is not a root of p={}".format(r,p)
    AssertionError: r=4*t6^3 + 2*t6^2 + 1 is not a root of p=4*x^7 + 2*x^6 + 2*x^5 + 3*x^4 + 2*x^3 + 4*x^2 + 4*x
**********************************************************************
1 item had failures:
   1 of   6 in sage.rings.algebraic_closure_finite_field.AlgebraicClosureFiniteField_generic._roots_univariate_polynomial
    [175 tests, 1 failure, 5.58 s]
```



---

archive/issue_comments_220508.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nDid you try with the fix from #16885?",
    "created_at": "2014-09-03T12:51:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220508",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:25'>Comment 25:</a>
Did you try with the fix from #16885?



---

archive/issue_comments_220509.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nNo. But also I only got biten by this once, so even if I tried a couple times with #16885, this would not necessarily mean much. But if you think that's useful, I can go for it.",
    "created_at": "2014-09-03T12:59:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220509",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:26'>Comment 26:</a>
No. But also I only got biten by this once, so even if I tried a couple times with #16885, this would not necessarily mean much. But if you think that's useful, I can go for it.



---

archive/issue_comments_220510.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nDon't really know, it somehow looks related...\n#16885 should fix a very insidious and rarely occurring bug messing with the current characteristic and polynomial defining a finite field which might cause your error.",
    "created_at": "2014-09-03T13:08:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220510",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:27'>Comment 27:</a>
Don't really know, it somehow looks related...
#16885 should fix a very insidious and rarely occurring bug messing with the current characteristic and polynomial defining a finite field which might cause your error.



---

archive/issue_comments_220511.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nOk. Ping me if you need more data point. Right now, I'll reserve the power for testing other tickets of mine. I forgot to mention: my machine is a standard Ubuntu box.",
    "created_at": "2014-09-03T13:19:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16681",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16681#issuecomment-220511",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:28'>Comment 28:</a>
Ok. Ping me if you need more data point. Right now, I'll reserve the power for testing other tickets of mine. I forgot to mention: my machine is a standard Ubuntu box.
