# Issue 16261: Default behaviour of AdditiveAbelianGroup(a_tuple)

archive/issues_016024.json:
```json
{
    "assignees": [],
    "body": "This ticket follows the conversation on \nhttps://groups.google.com/forum/#!topic/sage-support/yexpjig9BSg\n\n```\nsage: H = AdditiveAbelianGroup([0,2])\nsage: H((2,0))\n(0, 0)\nsage: H(vector((2,0)))\n(2, 0)\n\nsage: H((1,0)).order()\n2\nsage: H(vector((1,0))).order()\n+Infinity\n```\n\nWith this branch there is no need to wrap a tuple into a vector to avoid the \"if isinstance(x,(tuple,list))\" and what should be the default behaviour IS the default behaviour. And it barely breaks doctests once one replaced the old `[G([1,2])` by `G.linear_combination_of_smith_form_gens([1,2])`\n\nCC:  @vbraun @jhpalmieri @simon-king-jena @tscrim\n\nBranch: **[36cf500](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Nathann Cohen**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16261_\n\n",
    "closed_at": "2014-08-18T14:54:20Z",
    "created_at": "2014-04-28T16:06:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20group%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Default behaviour of AdditiveAbelianGroup(a_tuple)",
    "type": "issue",
    "updated_at": "2015-05-20T21:06:33Z",
    "url": "https://github.com/sagemath/sage/issues/16261",
    "user": "https://github.com/nathanncohen"
}
```
This ticket follows the conversation on 
https://groups.google.com/forum/#!topic/sage-support/yexpjig9BSg

```
sage: H = AdditiveAbelianGroup([0,2])
sage: H((2,0))
(0, 0)
sage: H(vector((2,0)))
(2, 0)

sage: H((1,0)).order()
2
sage: H(vector((1,0))).order()
+Infinity
```

With this branch there is no need to wrap a tuple into a vector to avoid the "if isinstance(x,(tuple,list))" and what should be the default behaviour IS the default behaviour. And it barely breaks doctests once one replaced the old `[G([1,2])` by `G.linear_combination_of_smith_form_gens([1,2])`

CC:  @vbraun @jhpalmieri @simon-king-jena @tscrim

Branch: **[36cf500](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)**

Reviewer: **Travis Scrimshaw**

Author: **Nathann Cohen**

_Issue created by migration from https://trac.sagemath.org/ticket/16261_





---

archive/issue_events_207013.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-28T16:06:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207013"
}
```



---

archive/issue_events_207014.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-28T16:06:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20group%20theory",
    "label_color": "0000ff",
    "label_name": "component: group theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207014"
}
```



---

archive/issue_events_207015.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-28T16:06:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207015"
}
```



---

archive/issue_events_207016.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-28T16:06:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207016"
}
```



---

archive/issue_comments_210842.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/270545adf1dfc9e7554cb2f78700402f787a56b4\">270545a</a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>\n",
    "created_at": "2014-04-28T16:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210842",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/270545adf1dfc9e7554cb2f78700402f787a56b4">270545a</a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>




---

archive/issue_comments_210843.json:
```json
{
    "body": "Commit: **[270545a](https://github.com/sagemath/sagetrac-mirror/commit/270545adf1dfc9e7554cb2f78700402f787a56b4)**",
    "created_at": "2014-04-28T16:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210843",
    "user": "https://github.com/nathanncohen"
}
```

Commit: **[270545a](https://github.com/sagemath/sagetrac-mirror/commit/270545adf1dfc9e7554cb2f78700402f787a56b4)**



---

archive/issue_comments_210844.json:
```json
{
    "body": "Branch: **[u/ncohen/16261](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16261)**",
    "created_at": "2014-04-28T16:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210844",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[u/ncohen/16261](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16261)**



---

archive/issue_comments_210845.json:
```json
{
    "body": "Changed commit from **[270545a](https://github.com/sagemath/sagetrac-mirror/commit/270545adf1dfc9e7554cb2f78700402f787a56b4)** to **[cdecd43](https://github.com/sagemath/sagetrac-mirror/commit/cdecd43022a6c78f40655374c3eb804b810483e9)**",
    "created_at": "2014-04-28T16:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210845",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[270545a](https://github.com/sagemath/sagetrac-mirror/commit/270545adf1dfc9e7554cb2f78700402f787a56b4)** to **[cdecd43](https://github.com/sagemath/sagetrac-mirror/commit/cdecd43022a6c78f40655374c3eb804b810483e9)**



---

archive/issue_comments_210846.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdecd43022a6c78f40655374c3eb804b810483e9\">cdecd43</a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>\n",
    "created_at": "2014-04-28T16:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210846",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdecd43022a6c78f40655374c3eb804b810483e9">cdecd43</a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>




---

archive/issue_events_207017.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-28T16:42:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207017"
}
```



---

archive/issue_events_207018.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-28T16:48:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207018"
}
```



---

archive/issue_events_207019.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-28T16:48:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207019"
}
```



---

archive/issue_comments_210847.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nYou didn't implement `linear_combination_of_gens`, leaving no way to do that without tripping the warning. Also, you should obviously run the whole testsuite.",
    "created_at": "2014-04-28T16:48:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210847",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'>Comment 4:</a>
You didn't implement `linear_combination_of_gens`, leaving no way to do that without tripping the warning. Also, you should obviously run the whole testsuite.



---

archive/issue_comments_210848.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nI do not think it is bad to always generate this warning, and I find `linear_combination_of_gens` far too extreme. I am pretty sure that nobody who really uses this only had inputs in smith form, or he would have given  up already. \n\nI am running all the tests right now (it found something in ellipti curves already) but it takes times.. And well, we used to have patchbots for this `:-P`\n\nNathann",
    "created_at": "2014-04-28T16:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210848",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'>Comment 5:</a>
I do not think it is bad to always generate this warning, and I find `linear_combination_of_gens` far too extreme. I am pretty sure that nobody who really uses this only had inputs in smith form, or he would have given  up already. 

I am running all the tests right now (it found something in ellipti curves already) but it takes times.. And well, we used to have patchbots for this `:-P`

Nathann



---

archive/issue_comments_210849.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nby the way : anybody who used the syntax on purpose will move to `.linear_sum_of_smith_generators`, and those who wanted the normal sum wrapped everything with \"vectors\" and will not even see the warning `:-P`",
    "created_at": "2014-04-28T16:57:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210849",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'>Comment 6:</a>
by the way : anybody who used the syntax on purpose will move to `.linear_sum_of_smith_generators`, and those who wanted the normal sum wrapped everything with "vectors" and will not even see the warning `:-P`



---

archive/issue_comments_210850.json:
```json
{
    "body": "Changed commit from **[cdecd43](https://github.com/sagemath/sagetrac-mirror/commit/cdecd43022a6c78f40655374c3eb804b810483e9)** to **[04683ed](https://github.com/sagemath/sagetrac-mirror/commit/04683ed9d981b1a561163867eee8f63044733fc9)**",
    "created_at": "2014-04-28T18:38:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210850",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cdecd43](https://github.com/sagemath/sagetrac-mirror/commit/cdecd43022a6c78f40655374c3eb804b810483e9)** to **[04683ed](https://github.com/sagemath/sagetrac-mirror/commit/04683ed9d981b1a561163867eee8f63044733fc9)**



---

archive/issue_comments_210851.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04683ed9d981b1a561163867eee8f63044733fc9\">04683ed</a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>\n",
    "created_at": "2014-04-28T18:38:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210851",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>Comment 7:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04683ed9d981b1a561163867eee8f63044733fc9">04683ed</a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>




---

archive/issue_comments_210852.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nNow passes all tests except one, see discussion on the sage-support thread.\n\nNathann",
    "created_at": "2014-04-28T18:38:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210852",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'>Comment 8:</a>
Now passes all tests except one, see discussion on the sage-support thread.

Nathann



---

archive/issue_comments_210853.json:
```json
{
    "body": "Changed commit from **[04683ed](https://github.com/sagemath/sagetrac-mirror/commit/04683ed9d981b1a561163867eee8f63044733fc9)** to **[fe241f1](https://github.com/sagemath/sagetrac-mirror/commit/fe241f151b7652552560d0867803309bc3e2f8e0)**",
    "created_at": "2014-04-28T18:45:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210853",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[04683ed](https://github.com/sagemath/sagetrac-mirror/commit/04683ed9d981b1a561163867eee8f63044733fc9)** to **[fe241f1](https://github.com/sagemath/sagetrac-mirror/commit/fe241f151b7652552560d0867803309bc3e2f8e0)**



---

archive/issue_comments_210854.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe241f151b7652552560d0867803309bc3e2f8e0\">fe241f1</a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>\n",
    "created_at": "2014-04-28T18:45:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210854",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe241f151b7652552560d0867803309bc3e2f8e0">fe241f1</a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>




---

archive/issue_comments_210855.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\n(all doctests pass !)",
    "created_at": "2014-04-28T18:45:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210855",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'>Comment 10:</a>
(all doctests pass !)



---

archive/issue_comments_210856.json:
```json
{
    "body": "Changed commit from **[fe241f1](https://github.com/sagemath/sagetrac-mirror/commit/fe241f151b7652552560d0867803309bc3e2f8e0)** to **[5d78cfc](https://github.com/sagemath/sagetrac-mirror/commit/5d78cfc86f64819c0427941c882015dd2e3df73e)**",
    "created_at": "2014-04-28T18:46:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210856",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fe241f1](https://github.com/sagemath/sagetrac-mirror/commit/fe241f151b7652552560d0867803309bc3e2f8e0)** to **[5d78cfc](https://github.com/sagemath/sagetrac-mirror/commit/5d78cfc86f64819c0427941c882015dd2e3df73e)**



---

archive/issue_comments_210857.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d78cfc86f64819c0427941c882015dd2e3df73e\">5d78cfc</a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>\n",
    "created_at": "2014-04-28T18:46:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210857",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d78cfc86f64819c0427941c882015dd2e3df73e">5d78cfc</a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>




---

archive/issue_events_207020.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-28T18:46:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207020"
}
```



---

archive/issue_events_207021.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-28T18:46:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207021"
}
```



---

archive/issue_comments_210858.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nThe problem is not quite introduced by this change, but this change does make the problem a little more visible: Why are you singling out `Z/2Z x Z/3Z` as a group that can be explicitly represented and not\n`Z^2/ span( [1,1],[-1,5])`, with generators the classes of the standard basis?",
    "created_at": "2014-04-28T19:02:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210858",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:13'>Comment 13:</a>
The problem is not quite introduced by this change, but this change does make the problem a little more visible: Why are you singling out `Z/2Z x Z/3Z` as a group that can be explicitly represented and not
`Z^2/ span( [1,1],[-1,5])`, with generators the classes of the standard basis?



---

archive/issue_comments_210859.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nYooooooooo !\n\n> The problem is not quite introduced by this change, but this change does make the problem a little more visible: Why are you singling out `Z/2Z x Z/3Z` as a group that can be explicitly represented and not\n> `Z^2/ span( [1,1],[-1,5])`, with generators the classes of the standard basis?\n\nDo I misunderstand your question or are you saying that you would like to use any base you like instead of (1,0),(0,1), or the smith form ?\n\nI just need this new form for a couple of things I am implementing... But I am afraid of having to touch these files myself, because I have a good idea of what I forgot about groups since I began a PhD in graph theory... and it scares me `:-D`\n\nNathann",
    "created_at": "2014-04-28T19:54:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210859",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'>Comment 14:</a>
Yooooooooo !

> The problem is not quite introduced by this change, but this change does make the problem a little more visible: Why are you singling out `Z/2Z x Z/3Z` as a group that can be explicitly represented and not
> `Z^2/ span( [1,1],[-1,5])`, with generators the classes of the standard basis?

Do I misunderstand your question or are you saying that you would like to use any base you like instead of (1,0),(0,1), or the smith form ?

I just need this new form for a couple of things I am implementing... But I am afraid of having to touch these files myself, because I have a good idea of what I forgot about groups since I began a PhD in graph theory... and it scares me `:-D`

Nathann



---

archive/issue_comments_210860.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nReplying to [@nathanncohen](#comment%3A14):\n> Do I misunderstand your question or are you saying that you would like to use any base you like instead of (1,0),(0,1), or the smith form ?\n\nBasically, yes. The problem is that presently, AdditiveAbelianGroup is a little too lax in what it accepts as \"invariants\". In the classification of (finite) abelian groups, the \"invariants\" `[a1,a2,...,ar]` are subject to the additional condition that `ai` divides `a(i+1)`. Otherwise they aren't really invariants.\n\nIf you're going to allow abelian groups to be specified in forms different from smith normal form, I think it's a little strange to just limit to these \"diagonal\" forms. In general, you specify a finitely generated abelian group using generators and relations, i.e., `ZZ^r` modulo some submodule. Since the underlying machinery is that of ZZ-modules anyway, why not do it properly?",
    "created_at": "2014-04-29T00:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210860",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:15'>Comment 15:</a>
Replying to [@nathanncohen](#comment%3A14):
> Do I misunderstand your question or are you saying that you would like to use any base you like instead of (1,0),(0,1), or the smith form ?

Basically, yes. The problem is that presently, AdditiveAbelianGroup is a little too lax in what it accepts as "invariants". In the classification of (finite) abelian groups, the "invariants" `[a1,a2,...,ar]` are subject to the additional condition that `ai` divides `a(i+1)`. Otherwise they aren't really invariants.

If you're going to allow abelian groups to be specified in forms different from smith normal form, I think it's a little strange to just limit to these "diagonal" forms. In general, you specify a finitely generated abelian group using generators and relations, i.e., `ZZ^r` modulo some submodule. Since the underlying machinery is that of ZZ-modules anyway, why not do it properly?



---

archive/issue_comments_210861.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nYoooooooooooo !\n\n> If you're going to allow abelian groups to be specified in forms different from smith normal form, I think it's a little strange to just limit to these \"diagonal\" forms. In general, you specify a finitely generated abelian group using generators and relations, i.e., `ZZ^r` modulo some submodule. Since the underlying machinery is that of ZZ-modules anyway, why not do it properly?\n\nAhahaah. Very simple : I have no idea how. I already said that I didn't feel at ease editing group code, so if you want anything more general than what is in the branch, I'm sorry to say that you will have to write the code yourself `:-)`\n\nAnd I agree with you that more bases should be allowed indeed.\n\nOh, and if you have any idea of how to make Sage see `G = GF(8,'x').cartesian_product(GF(5))` as a group, it would be cool by the way.\n\n```\nsage: G([1,1])+G([1,1])\nTypeError: unsupported operand type(s) for +: 'CartesianProduct_with_category.element_class' and 'CartesianProduct_with_category.element_class'\n```\n\nGod.. These things are SO broken :\n\n```\nsage: list(G)          \nAttributeError: 'CartesianProduct_with_category' object has no attribute 'list'\n```\n\nPerhaps this is the problem :\n\n```\nsage: g=GF(8,'x')              \nsage: g.category()             \nCategory of finite fields\nsage: gg=g.cartesian_product(g)\nsage: gg.category()            \nCategory of Cartesian products of monoids\n```\n\nThis `gg` should be a product of groups I guess...\n\nNathann",
    "created_at": "2014-04-29T06:55:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210861",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:16'>Comment 16:</a>
Yoooooooooooo !

> If you're going to allow abelian groups to be specified in forms different from smith normal form, I think it's a little strange to just limit to these "diagonal" forms. In general, you specify a finitely generated abelian group using generators and relations, i.e., `ZZ^r` modulo some submodule. Since the underlying machinery is that of ZZ-modules anyway, why not do it properly?

Ahahaah. Very simple : I have no idea how. I already said that I didn't feel at ease editing group code, so if you want anything more general than what is in the branch, I'm sorry to say that you will have to write the code yourself `:-)`

And I agree with you that more bases should be allowed indeed.

Oh, and if you have any idea of how to make Sage see `G = GF(8,'x').cartesian_product(GF(5))` as a group, it would be cool by the way.

```
sage: G([1,1])+G([1,1])
TypeError: unsupported operand type(s) for +: 'CartesianProduct_with_category.element_class' and 'CartesianProduct_with_category.element_class'
```

God.. These things are SO broken :

```
sage: list(G)          
AttributeError: 'CartesianProduct_with_category' object has no attribute 'list'
```

Perhaps this is the problem :

```
sage: g=GF(8,'x')              
sage: g.category()             
Category of finite fields
sage: gg=g.cartesian_product(g)
sage: gg.category()            
Category of Cartesian products of monoids
```

This `gg` should be a product of groups I guess...

Nathann



---

archive/issue_events_207022.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207022"
}
```



---

archive/issue_events_207023.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207023"
}
```



---

archive/issue_comments_210862.json:
```json
{
    "body": "Work Issues: **merge conflict**",
    "created_at": "2014-05-18T16:46:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210862",
    "user": "https://github.com/rwst"
}
```

Work Issues: **merge conflict**



---

archive/issue_comments_210863.json:
```json
{
    "body": "Changed commit from **[5d78cfc](https://github.com/sagemath/sagetrac-mirror/commit/5d78cfc86f64819c0427941c882015dd2e3df73e)** to **[c185874](https://github.com/sagemath/sagetrac-mirror/commit/c1858741b33741bac325cf96a8166712273151bf)**",
    "created_at": "2014-05-18T18:36:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210863",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5d78cfc](https://github.com/sagemath/sagetrac-mirror/commit/5d78cfc86f64819c0427941c882015dd2e3df73e)** to **[c185874](https://github.com/sagemath/sagetrac-mirror/commit/c1858741b33741bac325cf96a8166712273151bf)**



---

archive/issue_comments_210864.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1858741b33741bac325cf96a8166712273151bf\">c185874</a></td><td><code>trac #16261: Merged with 6.3.beta1</code></td></tr></table>\n",
    "created_at": "2014-05-18T18:36:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210864",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1858741b33741bac325cf96a8166712273151bf">c185874</a></td><td><code>trac #16261: Merged with 6.3.beta1</code></td></tr></table>




---

archive/issue_comments_210865.json:
```json
{
    "body": "Changed work issues from **merge conflict** to none",
    "created_at": "2014-05-18T18:36:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210865",
    "user": "https://github.com/nathanncohen"
}
```

Changed work issues from **merge conflict** to none



---

archive/issue_comments_210866.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nFixed.\n\nNathann",
    "created_at": "2014-05-18T18:36:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210866",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'>Comment 20:</a>
Fixed.

Nathann



---

archive/issue_comments_210867.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\n\n```\nsage -t --long src/sage/combinat/designs/database.py  # 4 doctests failed\nsage -t --long src/sage/combinat/designs/orthogonal_arrays.py  # 2 doctests failed\n```",
    "created_at": "2014-05-19T06:03:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210867",
    "user": "https://github.com/rwst"
}
```

<a id='comment:21'>Comment 21:</a>

```
sage -t --long src/sage/combinat/designs/database.py  # 4 doctests failed
sage -t --long src/sage/combinat/designs/orthogonal_arrays.py  # 2 doctests failed
```



---

archive/issue_events_207024.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-19T06:03:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207024"
}
```



---

archive/issue_events_207025.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-19T06:03:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207025"
}
```



---

archive/issue_comments_210868.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nNot on my computer.... Can you tell me which doctests fail ?\n\nNathann",
    "created_at": "2014-05-19T07:59:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210868",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'>Comment 22:</a>
Not on my computer.... Can you tell me which doctests fail ?

Nathann



---

archive/issue_comments_210869.json:
```json
{
    "body": "Attachment: **[doctest.txt](https://github.com/sagemath/sage/files/ticket16261/doctest.txt)**\n\nlog of doctest fails",
    "created_at": "2014-05-19T08:47:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210869",
    "user": "https://github.com/rwst"
}
```

Attachment: **[doctest.txt](https://github.com/sagemath/sage/files/ticket16261/doctest.txt)**

log of doctest fails



---

archive/issue_comments_210870.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nLog is attached. Hope you tested 6.3.beta1.",
    "created_at": "2014-05-19T08:48:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210870",
    "user": "https://github.com/rwst"
}
```

<a id='comment:23'>Comment 23:</a>
Log is attached. Hope you tested 6.3.beta1.



---

archive/issue_comments_210871.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nSorry, the reason was more stupid than that : I had forgotten to recompile.\n\nBtw, do you plan on reviewing all the tickets you set to `needs_work` ?\n\nNathann",
    "created_at": "2014-05-19T09:01:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210871",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'>Comment 24:</a>
Sorry, the reason was more stupid than that : I had forgotten to recompile.

Btw, do you plan on reviewing all the tickets you set to `needs_work` ?

Nathann



---

archive/issue_events_207026.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-05-19T09:01:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207026"
}
```



---

archive/issue_events_207027.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-05-19T09:01:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207027"
}
```



---

archive/issue_comments_210872.json:
```json
{
    "body": "Changed commit from **[c185874](https://github.com/sagemath/sagetrac-mirror/commit/c1858741b33741bac325cf96a8166712273151bf)** to **[890c448](https://github.com/sagemath/sagetrac-mirror/commit/890c448ad9ea547feb778b5f8e69f6bbac452f1d)**",
    "created_at": "2014-05-19T09:01:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210872",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c185874](https://github.com/sagemath/sagetrac-mirror/commit/c1858741b33741bac325cf96a8166712273151bf)** to **[890c448](https://github.com/sagemath/sagetrac-mirror/commit/890c448ad9ea547feb778b5f8e69f6bbac452f1d)**



---

archive/issue_comments_210873.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/890c448ad9ea547feb778b5f8e69f6bbac452f1d\">890c448</a></td><td><code>trac #16261: Broken doctests</code></td></tr></table>\n",
    "created_at": "2014-05-19T09:01:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210873",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>Comment 25:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/890c448ad9ea547feb778b5f8e69f6bbac452f1d">890c448</a></td><td><code>trac #16261: Broken doctests</code></td></tr></table>




---

archive/issue_comments_210874.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nReplying to [@nathanncohen](#comment%3A24):\n> Btw, do you plan on reviewing all the tickets you set to `needs_work` ?\n\nNo.",
    "created_at": "2014-05-19T09:06:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210874",
    "user": "https://github.com/rwst"
}
```

<a id='comment:26'>Comment 26:</a>
Replying to [@nathanncohen](#comment%3A24):
> Btw, do you plan on reviewing all the tickets you set to `needs_work` ?

No.



---

archive/issue_events_207028.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207028"
}
```



---

archive/issue_events_207029.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207029"
}
```



---

archive/issue_comments_210875.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nYo Travis ! Now it is my turn `:-)`\n\nNathann",
    "created_at": "2014-08-16T13:49:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210875",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'>Comment 28:</a>
Yo Travis ! Now it is my turn `:-)`

Nathann



---

archive/issue_comments_210876.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2014-08-16T17:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210876",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_210877.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nHey Nathann,\n\nI gave the `short_repr` more functional-type and cleaner (IMO) implementation. I've also made some lines shorter and made line breaks at more logical positions.\n\nAs for finding the orders of the original cyclic groups in `short_repr`, I think the current implementation is okay for now. You could make this data into a (cached) method, but IDK if this is worthwhile or useful for anyone. A \"better\" fix would be to pass this data from the factory function to the class, but you should deal with handling old pickles which don't (a priori) contain this part of the class's input.\n\nSo in the end, if you're okay with my changes, then positive review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa17e43fe1097a6d9e2ef504544a81bb78e92b1a\">aa17e43</a></td><td><code>Merge branch 'u/ncohen/16261' of trac.sagemath.org:sage into public/groups/additive_abelian_groups-16261</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb\">36cf500</a></td><td><code>Better IMO short_repr method and made some lines shorter/logically line broken.</code></td></tr></table>\n",
    "created_at": "2014-08-16T17:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210877",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:29'>Comment 29:</a>
Hey Nathann,

I gave the `short_repr` more functional-type and cleaner (IMO) implementation. I've also made some lines shorter and made line breaks at more logical positions.

As for finding the orders of the original cyclic groups in `short_repr`, I think the current implementation is okay for now. You could make this data into a (cached) method, but IDK if this is worthwhile or useful for anyone. A "better" fix would be to pass this data from the factory function to the class, but you should deal with handling old pickles which don't (a priori) contain this part of the class's input.

So in the end, if you're okay with my changes, then positive review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa17e43fe1097a6d9e2ef504544a81bb78e92b1a">aa17e43</a></td><td><code>Merge branch 'u/ncohen/16261' of trac.sagemath.org:sage into public/groups/additive_abelian_groups-16261</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb">36cf500</a></td><td><code>Better IMO short_repr method and made some lines shorter/logically line broken.</code></td></tr></table>




---

archive/issue_comments_210878.json:
```json
{
    "body": "Changed commit from **[890c448](https://github.com/sagemath/sagetrac-mirror/commit/890c448ad9ea547feb778b5f8e69f6bbac452f1d)** to **[36cf500](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)**",
    "created_at": "2014-08-16T17:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210878",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[890c448](https://github.com/sagemath/sagetrac-mirror/commit/890c448ad9ea547feb778b5f8e69f6bbac452f1d)** to **[36cf500](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)**



---

archive/issue_comments_210879.json:
```json
{
    "body": "Changed branch from **[u/ncohen/16261](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16261)** to **[public/groups/additive_abelian_groups_tuples-16261](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/additive_abelian_groups_tuples-16261)**",
    "created_at": "2014-08-16T17:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210879",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/ncohen/16261](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16261)** to **[public/groups/additive_abelian_groups_tuples-16261](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/additive_abelian_groups_tuples-16261)**



---

archive/issue_events_207030.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-16T19:11:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207030"
}
```



---

archive/issue_events_207031.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-16T19:11:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207031"
}
```



---

archive/issue_comments_210880.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nLooks good ! Thank you for that. It is risky to touch combinat/designs/database.py these days but hopefully this won't conflict with anything as you only modify function at the middle of the code `:-P`\n\nThanks for your help !\n\nNathann",
    "created_at": "2014-08-16T19:11:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210880",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:30'>Comment 30:</a>
Looks good ! Thank you for that. It is risky to touch combinat/designs/database.py these days but hopefully this won't conflict with anything as you only modify function at the middle of the code `:-P`

Thanks for your help !

Nathann



---

archive/issue_comments_210881.json:
```json
{
    "body": "Changed branch from **[public/groups/additive_abelian_groups_tuples-16261](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/additive_abelian_groups_tuples-16261)** to **[36cf500](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)**",
    "created_at": "2014-08-18T14:54:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210881",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/groups/additive_abelian_groups_tuples-16261](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/additive_abelian_groups_tuples-16261)** to **[36cf500](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)**



---

archive/issue_events_207032.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-18T14:54:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207032"
}
```



---

archive/issue_events_207033.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e342211fd1204a23a1fe1b91f08912d958fe2750",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-08-18T14:54:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-207033"
}
```



---

archive/issue_comments_210882.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nA question: with the old behavior, I could do\n\n```\nG = AdditiveAbelianGroup([0,0])\nG(a)\n```\nand have it return something sensible (and the *same* thing) whether `a` was a vector, a list, a tuple, or an element of `G`. This now gives a deprecation warning if `a` is a list or tuple. On the other hand\n\n```\nG.linear_combination_of_smith_form_gens(a)\n```\ngives an outright error if `a` is an element of `G`. Should I do\n\n```\nG(vector(a))\n```\nto recover this behavior?",
    "created_at": "2014-08-27T18:18:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210882",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:32'>Comment 32:</a>
A question: with the old behavior, I could do

```
G = AdditiveAbelianGroup([0,0])
G(a)
```
and have it return something sensible (and the *same* thing) whether `a` was a vector, a list, a tuple, or an element of `G`. This now gives a deprecation warning if `a` is a list or tuple. On the other hand

```
G.linear_combination_of_smith_form_gens(a)
```
gives an outright error if `a` is an element of `G`. Should I do

```
G(vector(a))
```
to recover this behavior?



---

archive/issue_comments_210883.json:
```json
{
    "body": "Changed commit from **[36cf500](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)** to none",
    "created_at": "2014-08-27T18:18:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210883",
    "user": "https://github.com/jhpalmieri"
}
```

Changed commit from **[36cf500](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)** to none



---

archive/issue_comments_210884.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nI think you only got the *same* thing by coincidence, the Smith form generators happened to be chosen equal to the given basis. But we didn't make any guarantees that this was so, and for more complicated groups you'd be in for a surprise.",
    "created_at": "2014-08-27T18:32:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210884",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'>Comment 33:</a>
I think you only got the *same* thing by coincidence, the Smith form generators happened to be chosen equal to the given basis. But we didn't make any guarantees that this was so, and for more complicated groups you'd be in for a surprise.



---

archive/issue_comments_210885.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nSo if I'm working with free abelian groups, there is no way to guarantee that `G(a)` will return the same thing if `a` is the tuple (1,2), the list [1,2], the vector (1,2), or the group element (1,2)?",
    "created_at": "2014-08-27T18:48:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210885",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:34'>Comment 34:</a>
So if I'm working with free abelian groups, there is no way to guarantee that `G(a)` will return the same thing if `a` is the tuple (1,2), the list [1,2], the vector (1,2), or the group element (1,2)?



---

archive/issue_comments_210886.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\n`G(vector(a))` should work, I think. Do you want linear combinations of Smith form generators or linear combinations of given generators (if the group doesn't happen to be free)?",
    "created_at": "2014-08-27T19:27:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210886",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:35'>Comment 35:</a>
`G(vector(a))` should work, I think. Do you want linear combinations of Smith form generators or linear combinations of given generators (if the group doesn't happen to be free)?



---

archive/issue_comments_210887.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nFor my particular uses, I only want to work with free groups. If I happened to have a non-free group, I think I would want linear combinations of given generators.",
    "created_at": "2014-08-27T19:56:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210887",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:36'>Comment 36:</a>
For my particular uses, I only want to work with free groups. If I happened to have a non-free group, I think I would want linear combinations of given generators.



---

archive/issue_comments_210888.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nI bumped into this doctesting Judson's Abstract Algebra book.\n\n```\nG = AdditiveAbelianGroup([14])\nb = G([2])\n```\n\nwas fine for the novices, but `b = G(vector([2]))` looks more complicated than necessary.\n\nAnybody on this ticket have a better idea?  I mean besides me ever getting my act together on #9773.",
    "created_at": "2015-05-20T19:57:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210888",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:37'>Comment 37:</a>
I bumped into this doctesting Judson's Abstract Algebra book.

```
G = AdditiveAbelianGroup([14])
b = G([2])
```

was fine for the novices, but `b = G(vector([2]))` looks more complicated than necessary.

Anybody on this ticket have a better idea?  I mean besides me ever getting my act together on #9773.



---

archive/issue_comments_210889.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\n> was fine for the novices, but `b = G(vector([2]))` looks more complicated than necessary.\n\nWhat do you mean? `G([2])` works in the latest release, and it will stay this way: we will only remove the *warning* in several months.\n\nThe meaning of the command changed, but the command itsels will remain available.\n\nNathann",
    "created_at": "2015-05-20T20:00:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210889",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:38'>Comment 38:</a>
> was fine for the novices, but `b = G(vector([2]))` looks more complicated than necessary.

What do you mean? `G([2])` works in the latest release, and it will stay this way: we will only remove the *warning* in several months.

The meaning of the command changed, but the command itsels will remain available.

Nathann



---

archive/issue_comments_210890.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nOK, I understood the warning to mean behavior was changing and students were going to need to do some sort of linear combination drill.  (Yes, I did skim through this ticket.)  And of course the warning gets in the way for doctesting, but I know how to work around that cleanly.\n\nThanks very much for the quick and helpful reply, Nathann.\n\nRob",
    "created_at": "2015-05-20T21:06:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-210890",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:39'>Comment 39:</a>
OK, I understood the warning to mean behavior was changing and students were going to need to do some sort of linear combination drill.  (Yes, I did skim through this ticket.)  And of course the warning gets in the way for doctesting, but I know how to work around that cleanly.

Thanks very much for the quick and helpful reply, Nathann.

Rob
