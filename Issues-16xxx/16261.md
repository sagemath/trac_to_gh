# Issue 16261: Default behaviour of AdditiveAbelianGroup(a_tuple)

archive/issues_016024.json:
```json
{
    "assignees": [],
    "body": "This ticket follows the conversation on \nhttps://groups.google.com/forum/#!topic/sage-support/yexpjig9BSg\n\n```\nsage: H = AdditiveAbelianGroup([0,2])\nsage: H((2,0))\n(0, 0)\nsage: H(vector((2,0)))\n(2, 0)\n\nsage: H((1,0)).order()\n2\nsage: H(vector((1,0))).order()\n+Infinity\n```\n\nWith this branch there is no need to wrap a tuple into a vector to avoid the \"if isinstance(x,(tuple,list))\" and what should be the default behaviour IS the default behaviour. And it barely breaks doctests once one replaced the old `[G([1,2])` by `G.linear_combination_of_smith_form_gens([1,2])`\n\nCC:  @vbraun @jhpalmieri @simon-king-jena @tscrim\n\nComponent: **group theory**\n\nAuthor: **Nathann Cohen**\n\nBranch: **[`36cf500`](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)**\n\nReviewer: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16261_\n\n",
    "closed_at": "2014-08-18T14:54:20Z",
    "created_at": "2014-04-28T16:06:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Default behaviour of AdditiveAbelianGroup(a_tuple)",
    "type": "issue",
    "updated_at": "2015-05-20T21:06:33Z",
    "url": "https://github.com/sagemath/sage/issues/16261",
    "user": "https://github.com/nathanncohen"
}
```
This ticket follows the conversation on 
https://groups.google.com/forum/#!topic/sage-support/yexpjig9BSg

```
sage: H = AdditiveAbelianGroup([0,2])
sage: H((2,0))
(0, 0)
sage: H(vector((2,0)))
(2, 0)

sage: H((1,0)).order()
2
sage: H(vector((1,0))).order()
+Infinity
```

With this branch there is no need to wrap a tuple into a vector to avoid the "if isinstance(x,(tuple,list))" and what should be the default behaviour IS the default behaviour. And it barely breaks doctests once one replaced the old `[G([1,2])` by `G.linear_combination_of_smith_form_gens([1,2])`

CC:  @vbraun @jhpalmieri @simon-king-jena @tscrim

Component: **group theory**

Author: **Nathann Cohen**

Branch: **[`36cf500`](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)**

Reviewer: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/16261_





---

archive/issue_events_230161.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-28T16:06:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230161"
}
```



---

archive/issue_events_230162.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-28T16:06:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
    "label_color": "0000ff",
    "label_name": "c: group theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230162"
}
```



---

archive/issue_events_230163.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-28T16:06:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230163"
}
```



---

archive/issue_events_230164.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-28T16:06:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230164"
}
```



---

archive/issue_comments_208305.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/270545adf1dfc9e7554cb2f78700402f787a56b4\"><code>270545a</code></a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>\n",
    "created_at": "2014-04-28T16:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208305",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/270545adf1dfc9e7554cb2f78700402f787a56b4"><code>270545a</code></a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>




---

archive/issue_comments_208306.json:
```json
{
    "body": "Commit: **[`270545a`](https://github.com/sagemath/sagetrac-mirror/commit/270545adf1dfc9e7554cb2f78700402f787a56b4)**",
    "created_at": "2014-04-28T16:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208306",
    "user": "https://github.com/nathanncohen"
}
```

Commit: **[`270545a`](https://github.com/sagemath/sagetrac-mirror/commit/270545adf1dfc9e7554cb2f78700402f787a56b4)**



---

archive/issue_comments_208307.json:
```json
{
    "body": "Branch: **[u/ncohen/16261](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16261)**",
    "created_at": "2014-04-28T16:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208307",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[u/ncohen/16261](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16261)**



---

archive/issue_comments_208308.json:
```json
{
    "body": "Changed commit from **[`270545a`](https://github.com/sagemath/sagetrac-mirror/commit/270545adf1dfc9e7554cb2f78700402f787a56b4)** to **[`cdecd43`](https://github.com/sagemath/sagetrac-mirror/commit/cdecd43022a6c78f40655374c3eb804b810483e9)**",
    "created_at": "2014-04-28T16:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208308",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`270545a`](https://github.com/sagemath/sagetrac-mirror/commit/270545adf1dfc9e7554cb2f78700402f787a56b4)** to **[`cdecd43`](https://github.com/sagemath/sagetrac-mirror/commit/cdecd43022a6c78f40655374c3eb804b810483e9)**



---

archive/issue_comments_208309.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdecd43022a6c78f40655374c3eb804b810483e9\"><code>cdecd43</code></a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>\n",
    "created_at": "2014-04-28T16:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208309",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdecd43022a6c78f40655374c3eb804b810483e9"><code>cdecd43</code></a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>




---

archive/issue_events_230165.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-28T16:42:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230165"
}
```



---

archive/issue_events_230166.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-28T16:48:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230166"
}
```



---

archive/issue_events_230167.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-28T16:48:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230167"
}
```



---

archive/issue_comments_208310.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nYou didn't implement `linear_combination_of_gens`, leaving no way to do that without tripping the warning. Also, you should obviously run the whole testsuite.",
    "created_at": "2014-04-28T16:48:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208310",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:4" align="right">comment:4</div>

You didn't implement `linear_combination_of_gens`, leaving no way to do that without tripping the warning. Also, you should obviously run the whole testsuite.



---

archive/issue_comments_208311.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI do not think it is bad to always generate this warning, and I find `linear_combination_of_gens` far too extreme. I am pretty sure that nobody who really uses this only had inputs in smith form, or he would have given  up already. \n\nI am running all the tests right now (it found something in ellipti curves already) but it takes times.. And well, we used to have patchbots for this `:-P`\n\nNathann",
    "created_at": "2014-04-28T16:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208311",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">comment:5</div>

I do not think it is bad to always generate this warning, and I find `linear_combination_of_gens` far too extreme. I am pretty sure that nobody who really uses this only had inputs in smith form, or he would have given  up already. 

I am running all the tests right now (it found something in ellipti curves already) but it takes times.. And well, we used to have patchbots for this `:-P`

Nathann



---

archive/issue_comments_208312.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nby the way : anybody who used the syntax on purpose will move to `.linear_sum_of_smith_generators`, and those who wanted the normal sum wrapped everything with \"vectors\" and will not even see the warning `:-P`",
    "created_at": "2014-04-28T16:57:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208312",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

by the way : anybody who used the syntax on purpose will move to `.linear_sum_of_smith_generators`, and those who wanted the normal sum wrapped everything with "vectors" and will not even see the warning `:-P`



---

archive/issue_comments_208313.json:
```json
{
    "body": "Changed commit from **[`cdecd43`](https://github.com/sagemath/sagetrac-mirror/commit/cdecd43022a6c78f40655374c3eb804b810483e9)** to **[`04683ed`](https://github.com/sagemath/sagetrac-mirror/commit/04683ed9d981b1a561163867eee8f63044733fc9)**",
    "created_at": "2014-04-28T18:38:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208313",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cdecd43`](https://github.com/sagemath/sagetrac-mirror/commit/cdecd43022a6c78f40655374c3eb804b810483e9)** to **[`04683ed`](https://github.com/sagemath/sagetrac-mirror/commit/04683ed9d981b1a561163867eee8f63044733fc9)**



---

archive/issue_comments_208314.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04683ed9d981b1a561163867eee8f63044733fc9\"><code>04683ed</code></a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>\n",
    "created_at": "2014-04-28T18:38:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208314",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04683ed9d981b1a561163867eee8f63044733fc9"><code>04683ed</code></a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>




---

archive/issue_comments_208315.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nNow passes all tests except one, see discussion on the sage-support thread.\n\nNathann",
    "created_at": "2014-04-28T18:38:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208315",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:8" align="right">comment:8</div>

Now passes all tests except one, see discussion on the sage-support thread.

Nathann



---

archive/issue_comments_208316.json:
```json
{
    "body": "Changed commit from **[`04683ed`](https://github.com/sagemath/sagetrac-mirror/commit/04683ed9d981b1a561163867eee8f63044733fc9)** to **[`fe241f1`](https://github.com/sagemath/sagetrac-mirror/commit/fe241f151b7652552560d0867803309bc3e2f8e0)**",
    "created_at": "2014-04-28T18:45:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208316",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`04683ed`](https://github.com/sagemath/sagetrac-mirror/commit/04683ed9d981b1a561163867eee8f63044733fc9)** to **[`fe241f1`](https://github.com/sagemath/sagetrac-mirror/commit/fe241f151b7652552560d0867803309bc3e2f8e0)**



---

archive/issue_comments_208317.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe241f151b7652552560d0867803309bc3e2f8e0\"><code>fe241f1</code></a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>\n",
    "created_at": "2014-04-28T18:45:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208317",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe241f151b7652552560d0867803309bc3e2f8e0"><code>fe241f1</code></a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>




---

archive/issue_comments_208318.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n(all doctests pass !)",
    "created_at": "2014-04-28T18:45:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208318",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:10" align="right">comment:10</div>

(all doctests pass !)



---

archive/issue_comments_208319.json:
```json
{
    "body": "Changed commit from **[`fe241f1`](https://github.com/sagemath/sagetrac-mirror/commit/fe241f151b7652552560d0867803309bc3e2f8e0)** to **[`5d78cfc`](https://github.com/sagemath/sagetrac-mirror/commit/5d78cfc86f64819c0427941c882015dd2e3df73e)**",
    "created_at": "2014-04-28T18:46:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208319",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fe241f1`](https://github.com/sagemath/sagetrac-mirror/commit/fe241f151b7652552560d0867803309bc3e2f8e0)** to **[`5d78cfc`](https://github.com/sagemath/sagetrac-mirror/commit/5d78cfc86f64819c0427941c882015dd2e3df73e)**



---

archive/issue_comments_208320.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d78cfc86f64819c0427941c882015dd2e3df73e\"><code>5d78cfc</code></a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>\n",
    "created_at": "2014-04-28T18:46:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208320",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d78cfc86f64819c0427941c882015dd2e3df73e"><code>5d78cfc</code></a></td><td><code>trac #16261: Default behaviour of AdditiveAbelianGroup(a_tuple)</code></td></tr></table>




---

archive/issue_events_230168.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-28T18:46:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230168"
}
```



---

archive/issue_events_230169.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-28T18:46:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230169"
}
```



---

archive/issue_comments_208321.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe problem is not quite introduced by this change, but this change does make the problem a little more visible: Why are you singling out `Z/2Z x Z/3Z` as a group that can be explicitly represented and not\n`Z^2/ span( [1,1],[-1,5])`, with generators the classes of the standard basis?",
    "created_at": "2014-04-28T19:02:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208321",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:13" align="right">comment:13</div>

The problem is not quite introduced by this change, but this change does make the problem a little more visible: Why are you singling out `Z/2Z x Z/3Z` as a group that can be explicitly represented and not
`Z^2/ span( [1,1],[-1,5])`, with generators the classes of the standard basis?



---

archive/issue_comments_208322.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nYooooooooo !\n\n> The problem is not quite introduced by this change, but this change does make the problem a little more visible: Why are you singling out `Z/2Z x Z/3Z` as a group that can be explicitly represented and not\n> `Z^2/ span( [1,1],[-1,5])`, with generators the classes of the standard basis?\n\nDo I misunderstand your question or are you saying that you would like to use any base you like instead of (1,0),(0,1), or the smith form ?\n\nI just need this new form for a couple of things I am implementing... But I am afraid of having to touch these files myself, because I have a good idea of what I forgot about groups since I began a PhD in graph theory... and it scares me `:-D`\n\nNathann",
    "created_at": "2014-04-28T19:54:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208322",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

Yooooooooo !

> The problem is not quite introduced by this change, but this change does make the problem a little more visible: Why are you singling out `Z/2Z x Z/3Z` as a group that can be explicitly represented and not
> `Z^2/ span( [1,1],[-1,5])`, with generators the classes of the standard basis?

Do I misunderstand your question or are you saying that you would like to use any base you like instead of (1,0),(0,1), or the smith form ?

I just need this new form for a couple of things I am implementing... But I am afraid of having to touch these files myself, because I have a good idea of what I forgot about groups since I began a PhD in graph theory... and it scares me `:-D`

Nathann



---

archive/issue_comments_208323.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@nathanncohen](#comment%3A14):\n> Do I misunderstand your question or are you saying that you would like to use any base you like instead of (1,0),(0,1), or the smith form ?\n\nBasically, yes. The problem is that presently, AdditiveAbelianGroup is a little too lax in what it accepts as \"invariants\". In the classification of (finite) abelian groups, the \"invariants\" `[a1,a2,...,ar]` are subject to the additional condition that `ai` divides `a(i+1)`. Otherwise they aren't really invariants.\n\nIf you're going to allow abelian groups to be specified in forms different from smith normal form, I think it's a little strange to just limit to these \"diagonal\" forms. In general, you specify a finitely generated abelian group using generators and relations, i.e., `ZZ^r` modulo some submodule. Since the underlying machinery is that of ZZ-modules anyway, why not do it properly?",
    "created_at": "2014-04-29T00:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208323",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@nathanncohen](#comment%3A14):
> Do I misunderstand your question or are you saying that you would like to use any base you like instead of (1,0),(0,1), or the smith form ?

Basically, yes. The problem is that presently, AdditiveAbelianGroup is a little too lax in what it accepts as "invariants". In the classification of (finite) abelian groups, the "invariants" `[a1,a2,...,ar]` are subject to the additional condition that `ai` divides `a(i+1)`. Otherwise they aren't really invariants.

If you're going to allow abelian groups to be specified in forms different from smith normal form, I think it's a little strange to just limit to these "diagonal" forms. In general, you specify a finitely generated abelian group using generators and relations, i.e., `ZZ^r` modulo some submodule. Since the underlying machinery is that of ZZ-modules anyway, why not do it properly?



---

archive/issue_comments_208324.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nYoooooooooooo !\n\n> If you're going to allow abelian groups to be specified in forms different from smith normal form, I think it's a little strange to just limit to these \"diagonal\" forms. In general, you specify a finitely generated abelian group using generators and relations, i.e., `ZZ^r` modulo some submodule. Since the underlying machinery is that of ZZ-modules anyway, why not do it properly?\n\nAhahaah. Very simple : I have no idea how. I already said that I didn't feel at ease editing group code, so if you want anything more general than what is in the branch, I'm sorry to say that you will have to write the code yourself `:-)`\n\nAnd I agree with you that more bases should be allowed indeed.\n\nOh, and if you have any idea of how to make Sage see `G = GF(8,'x').cartesian_product(GF(5))` as a group, it would be cool by the way.\n\n```\nsage: G([1,1])+G([1,1])\nTypeError: unsupported operand type(s) for +: 'CartesianProduct_with_category.element_class' and 'CartesianProduct_with_category.element_class'\n```\n\nGod.. These things are SO broken :\n\n```\nsage: list(G)          \nAttributeError: 'CartesianProduct_with_category' object has no attribute 'list'\n```\n\nPerhaps this is the problem :\n\n```\nsage: g=GF(8,'x')              \nsage: g.category()             \nCategory of finite fields\nsage: gg=g.cartesian_product(g)\nsage: gg.category()            \nCategory of Cartesian products of monoids\n```\n\nThis `gg` should be a product of groups I guess...\n\nNathann",
    "created_at": "2014-04-29T06:55:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208324",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

Yoooooooooooo !

> If you're going to allow abelian groups to be specified in forms different from smith normal form, I think it's a little strange to just limit to these "diagonal" forms. In general, you specify a finitely generated abelian group using generators and relations, i.e., `ZZ^r` modulo some submodule. Since the underlying machinery is that of ZZ-modules anyway, why not do it properly?

Ahahaah. Very simple : I have no idea how. I already said that I didn't feel at ease editing group code, so if you want anything more general than what is in the branch, I'm sorry to say that you will have to write the code yourself `:-)`

And I agree with you that more bases should be allowed indeed.

Oh, and if you have any idea of how to make Sage see `G = GF(8,'x').cartesian_product(GF(5))` as a group, it would be cool by the way.

```
sage: G([1,1])+G([1,1])
TypeError: unsupported operand type(s) for +: 'CartesianProduct_with_category.element_class' and 'CartesianProduct_with_category.element_class'
```

God.. These things are SO broken :

```
sage: list(G)          
AttributeError: 'CartesianProduct_with_category' object has no attribute 'list'
```

Perhaps this is the problem :

```
sage: g=GF(8,'x')              
sage: g.category()             
Category of finite fields
sage: gg=g.cartesian_product(g)
sage: gg.category()            
Category of Cartesian products of monoids
```

This `gg` should be a product of groups I guess...

Nathann



---

archive/issue_events_230170.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230170"
}
```



---

archive/issue_events_230171.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230171"
}
```



---

archive/issue_comments_208325.json:
```json
{
    "body": "Work Issues: **merge conflict**",
    "created_at": "2014-05-18T16:46:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208325",
    "user": "https://github.com/rwst"
}
```

Work Issues: **merge conflict**



---

archive/issue_comments_208326.json:
```json
{
    "body": "Changed commit from **[`5d78cfc`](https://github.com/sagemath/sagetrac-mirror/commit/5d78cfc86f64819c0427941c882015dd2e3df73e)** to **[`c185874`](https://github.com/sagemath/sagetrac-mirror/commit/c1858741b33741bac325cf96a8166712273151bf)**",
    "created_at": "2014-05-18T18:36:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208326",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5d78cfc`](https://github.com/sagemath/sagetrac-mirror/commit/5d78cfc86f64819c0427941c882015dd2e3df73e)** to **[`c185874`](https://github.com/sagemath/sagetrac-mirror/commit/c1858741b33741bac325cf96a8166712273151bf)**



---

archive/issue_comments_208327.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1858741b33741bac325cf96a8166712273151bf\"><code>c185874</code></a></td><td><code>trac #16261: Merged with 6.3.beta1</code></td></tr></table>\n",
    "created_at": "2014-05-18T18:36:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208327",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1858741b33741bac325cf96a8166712273151bf"><code>c185874</code></a></td><td><code>trac #16261: Merged with 6.3.beta1</code></td></tr></table>




---

archive/issue_comments_208328.json:
```json
{
    "body": "Changed work issues from **merge conflict** to none",
    "created_at": "2014-05-18T18:36:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208328",
    "user": "https://github.com/nathanncohen"
}
```

Changed work issues from **merge conflict** to none



---

archive/issue_comments_208329.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nFixed.\n\nNathann",
    "created_at": "2014-05-18T18:36:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208329",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:20" align="right">comment:20</div>

Fixed.

Nathann



---

archive/issue_comments_208330.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n\n```\nsage -t --long src/sage/combinat/designs/database.py  # 4 doctests failed\nsage -t --long src/sage/combinat/designs/orthogonal_arrays.py  # 2 doctests failed\n```",
    "created_at": "2014-05-19T06:03:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208330",
    "user": "https://github.com/rwst"
}
```

<div id="comment:21" align="right">comment:21</div>


```
sage -t --long src/sage/combinat/designs/database.py  # 4 doctests failed
sage -t --long src/sage/combinat/designs/orthogonal_arrays.py  # 2 doctests failed
```



---

archive/issue_events_230172.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-19T06:03:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230172"
}
```



---

archive/issue_events_230173.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-19T06:03:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230173"
}
```



---

archive/issue_comments_208331.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nNot on my computer.... Can you tell me which doctests fail ?\n\nNathann",
    "created_at": "2014-05-19T07:59:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208331",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:22" align="right">comment:22</div>

Not on my computer.... Can you tell me which doctests fail ?

Nathann



---

archive/issue_comments_208332.json:
```json
{
    "body": "Attachment: **[doctest.txt](https://github.com/sagemath/sage/files/ticket16261/doctest.txt)**\n\nlog of doctest fails",
    "created_at": "2014-05-19T08:47:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208332",
    "user": "https://github.com/rwst"
}
```

Attachment: **[doctest.txt](https://github.com/sagemath/sage/files/ticket16261/doctest.txt)**

log of doctest fails



---

archive/issue_comments_208333.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nLog is attached. Hope you tested 6.3.beta1.",
    "created_at": "2014-05-19T08:48:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208333",
    "user": "https://github.com/rwst"
}
```

<div id="comment:23" align="right">comment:23</div>

Log is attached. Hope you tested 6.3.beta1.



---

archive/issue_comments_208334.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nSorry, the reason was more stupid than that : I had forgotten to recompile.\n\nBtw, do you plan on reviewing all the tickets you set to `needs_work` ?\n\nNathann",
    "created_at": "2014-05-19T09:01:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208334",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:24" align="right">comment:24</div>

Sorry, the reason was more stupid than that : I had forgotten to recompile.

Btw, do you plan on reviewing all the tickets you set to `needs_work` ?

Nathann



---

archive/issue_events_230174.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-05-19T09:01:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230174"
}
```



---

archive/issue_events_230175.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-05-19T09:01:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230175"
}
```



---

archive/issue_comments_208335.json:
```json
{
    "body": "Changed commit from **[`c185874`](https://github.com/sagemath/sagetrac-mirror/commit/c1858741b33741bac325cf96a8166712273151bf)** to **[`890c448`](https://github.com/sagemath/sagetrac-mirror/commit/890c448ad9ea547feb778b5f8e69f6bbac452f1d)**",
    "created_at": "2014-05-19T09:01:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208335",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c185874`](https://github.com/sagemath/sagetrac-mirror/commit/c1858741b33741bac325cf96a8166712273151bf)** to **[`890c448`](https://github.com/sagemath/sagetrac-mirror/commit/890c448ad9ea547feb778b5f8e69f6bbac452f1d)**



---

archive/issue_comments_208336.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/890c448ad9ea547feb778b5f8e69f6bbac452f1d\"><code>890c448</code></a></td><td><code>trac #16261: Broken doctests</code></td></tr></table>\n",
    "created_at": "2014-05-19T09:01:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208336",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/890c448ad9ea547feb778b5f8e69f6bbac452f1d"><code>890c448</code></a></td><td><code>trac #16261: Broken doctests</code></td></tr></table>




---

archive/issue_comments_208337.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@nathanncohen](#comment%3A24):\n> Btw, do you plan on reviewing all the tickets you set to `needs_work` ?\n\nNo.",
    "created_at": "2014-05-19T09:06:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208337",
    "user": "https://github.com/rwst"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@nathanncohen](#comment%3A24):
> Btw, do you plan on reviewing all the tickets you set to `needs_work` ?

No.



---

archive/issue_events_230176.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230176"
}
```



---

archive/issue_events_230177.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230177"
}
```



---

archive/issue_comments_208338.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nYo Travis ! Now it is my turn `:-)`\n\nNathann",
    "created_at": "2014-08-16T13:49:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208338",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:28" align="right">comment:28</div>

Yo Travis ! Now it is my turn `:-)`

Nathann



---

archive/issue_comments_208339.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2014-08-16T17:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208339",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_208340.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nHey Nathann,\n\nI gave the `short_repr` more functional-type and cleaner (IMO) implementation. I've also made some lines shorter and made line breaks at more logical positions.\n\nAs for finding the orders of the original cyclic groups in `short_repr`, I think the current implementation is okay for now. You could make this data into a (cached) method, but IDK if this is worthwhile or useful for anyone. A \"better\" fix would be to pass this data from the factory function to the class, but you should deal with handling old pickles which don't (a priori) contain this part of the class's input.\n\nSo in the end, if you're okay with my changes, then positive review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa17e43fe1097a6d9e2ef504544a81bb78e92b1a\"><code>aa17e43</code></a></td><td><code>Merge branch 'u/ncohen/16261' of trac.sagemath.org:sage into public/groups/additive_abelian_groups-16261</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb\"><code>36cf500</code></a></td><td><code>Better IMO short_repr method and made some lines shorter/logically line broken.</code></td></tr></table>\n",
    "created_at": "2014-08-16T17:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208340",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:29" align="right">comment:29</div>

Hey Nathann,

I gave the `short_repr` more functional-type and cleaner (IMO) implementation. I've also made some lines shorter and made line breaks at more logical positions.

As for finding the orders of the original cyclic groups in `short_repr`, I think the current implementation is okay for now. You could make this data into a (cached) method, but IDK if this is worthwhile or useful for anyone. A "better" fix would be to pass this data from the factory function to the class, but you should deal with handling old pickles which don't (a priori) contain this part of the class's input.

So in the end, if you're okay with my changes, then positive review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa17e43fe1097a6d9e2ef504544a81bb78e92b1a"><code>aa17e43</code></a></td><td><code>Merge branch 'u/ncohen/16261' of trac.sagemath.org:sage into public/groups/additive_abelian_groups-16261</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb"><code>36cf500</code></a></td><td><code>Better IMO short_repr method and made some lines shorter/logically line broken.</code></td></tr></table>




---

archive/issue_comments_208341.json:
```json
{
    "body": "Changed commit from **[`890c448`](https://github.com/sagemath/sagetrac-mirror/commit/890c448ad9ea547feb778b5f8e69f6bbac452f1d)** to **[`36cf500`](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)**",
    "created_at": "2014-08-16T17:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208341",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`890c448`](https://github.com/sagemath/sagetrac-mirror/commit/890c448ad9ea547feb778b5f8e69f6bbac452f1d)** to **[`36cf500`](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)**



---

archive/issue_comments_208342.json:
```json
{
    "body": "Changed branch from **[u/ncohen/16261](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16261)** to **[public/groups/additive_abelian_groups_tuples-16261](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/additive_abelian_groups_tuples-16261)**",
    "created_at": "2014-08-16T17:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208342",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/ncohen/16261](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16261)** to **[public/groups/additive_abelian_groups_tuples-16261](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/additive_abelian_groups_tuples-16261)**



---

archive/issue_events_230178.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-16T19:11:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230178"
}
```



---

archive/issue_events_230179.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-16T19:11:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230179"
}
```



---

archive/issue_comments_208343.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nLooks good ! Thank you for that. It is risky to touch combinat/designs/database.py these days but hopefully this won't conflict with anything as you only modify function at the middle of the code `:-P`\n\nThanks for your help !\n\nNathann",
    "created_at": "2014-08-16T19:11:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208343",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:30" align="right">comment:30</div>

Looks good ! Thank you for that. It is risky to touch combinat/designs/database.py these days but hopefully this won't conflict with anything as you only modify function at the middle of the code `:-P`

Thanks for your help !

Nathann



---

archive/issue_comments_208344.json:
```json
{
    "body": "Changed branch from **[public/groups/additive_abelian_groups_tuples-16261](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/additive_abelian_groups_tuples-16261)** to **[`36cf500`](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)**",
    "created_at": "2014-08-18T14:54:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208344",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/groups/additive_abelian_groups_tuples-16261](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/additive_abelian_groups_tuples-16261)** to **[`36cf500`](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)**



---

archive/issue_events_230180.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-18T14:54:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230180"
}
```



---

archive/issue_events_230181.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e342211fd1204a23a1fe1b91f08912d958fe2750",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-08-18T14:54:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16261#event-230181"
}
```



---

archive/issue_comments_208345.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nA question: with the old behavior, I could do\n\n```\nG = AdditiveAbelianGroup([0,0])\nG(a)\n```\nand have it return something sensible (and the *same* thing) whether `a` was a vector, a list, a tuple, or an element of `G`. This now gives a deprecation warning if `a` is a list or tuple. On the other hand\n\n```\nG.linear_combination_of_smith_form_gens(a)\n```\ngives an outright error if `a` is an element of `G`. Should I do\n\n```\nG(vector(a))\n```\nto recover this behavior?",
    "created_at": "2014-08-27T18:18:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208345",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:32" align="right">comment:32</div>

A question: with the old behavior, I could do

```
G = AdditiveAbelianGroup([0,0])
G(a)
```
and have it return something sensible (and the *same* thing) whether `a` was a vector, a list, a tuple, or an element of `G`. This now gives a deprecation warning if `a` is a list or tuple. On the other hand

```
G.linear_combination_of_smith_form_gens(a)
```
gives an outright error if `a` is an element of `G`. Should I do

```
G(vector(a))
```
to recover this behavior?



---

archive/issue_comments_208346.json:
```json
{
    "body": "Changed commit from **[`36cf500`](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)** to none",
    "created_at": "2014-08-27T18:18:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208346",
    "user": "https://github.com/jhpalmieri"
}
```

Changed commit from **[`36cf500`](https://github.com/sagemath/sagetrac-mirror/commit/36cf5008dd7712178b5b96ef38b9eb8518c7ddfb)** to none



---

archive/issue_comments_208347.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI think you only got the *same* thing by coincidence, the Smith form generators happened to be chosen equal to the given basis. But we didn't make any guarantees that this was so, and for more complicated groups you'd be in for a surprise.",
    "created_at": "2014-08-27T18:32:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208347",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:33" align="right">comment:33</div>

I think you only got the *same* thing by coincidence, the Smith form generators happened to be chosen equal to the given basis. But we didn't make any guarantees that this was so, and for more complicated groups you'd be in for a surprise.



---

archive/issue_comments_208348.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nSo if I'm working with free abelian groups, there is no way to guarantee that `G(a)` will return the same thing if `a` is the tuple (1,2), the list [1,2], the vector (1,2), or the group element (1,2)?",
    "created_at": "2014-08-27T18:48:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208348",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:34" align="right">comment:34</div>

So if I'm working with free abelian groups, there is no way to guarantee that `G(a)` will return the same thing if `a` is the tuple (1,2), the list [1,2], the vector (1,2), or the group element (1,2)?



---

archive/issue_comments_208349.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\n`G(vector(a))` should work, I think. Do you want linear combinations of Smith form generators or linear combinations of given generators (if the group doesn't happen to be free)?",
    "created_at": "2014-08-27T19:27:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208349",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:35" align="right">comment:35</div>

`G(vector(a))` should work, I think. Do you want linear combinations of Smith form generators or linear combinations of given generators (if the group doesn't happen to be free)?



---

archive/issue_comments_208350.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nFor my particular uses, I only want to work with free groups. If I happened to have a non-free group, I think I would want linear combinations of given generators.",
    "created_at": "2014-08-27T19:56:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208350",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:36" align="right">comment:36</div>

For my particular uses, I only want to work with free groups. If I happened to have a non-free group, I think I would want linear combinations of given generators.



---

archive/issue_comments_208351.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nI bumped into this doctesting Judson's Abstract Algebra book.\n\n```\nG = AdditiveAbelianGroup([14])\nb = G([2])\n```\n\nwas fine for the novices, but `b = G(vector([2]))` looks more complicated than necessary.\n\nAnybody on this ticket have a better idea?  I mean besides me ever getting my act together on #9773.",
    "created_at": "2015-05-20T19:57:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208351",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:37" align="right">comment:37</div>

I bumped into this doctesting Judson's Abstract Algebra book.

```
G = AdditiveAbelianGroup([14])
b = G([2])
```

was fine for the novices, but `b = G(vector([2]))` looks more complicated than necessary.

Anybody on this ticket have a better idea?  I mean besides me ever getting my act together on #9773.



---

archive/issue_comments_208352.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\n> was fine for the novices, but `b = G(vector([2]))` looks more complicated than necessary.\n\nWhat do you mean? `G([2])` works in the latest release, and it will stay this way: we will only remove the *warning* in several months.\n\nThe meaning of the command changed, but the command itsels will remain available.\n\nNathann",
    "created_at": "2015-05-20T20:00:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208352",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:38" align="right">comment:38</div>

> was fine for the novices, but `b = G(vector([2]))` looks more complicated than necessary.

What do you mean? `G([2])` works in the latest release, and it will stay this way: we will only remove the *warning* in several months.

The meaning of the command changed, but the command itsels will remain available.

Nathann



---

archive/issue_comments_208353.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nOK, I understood the warning to mean behavior was changing and students were going to need to do some sort of linear combination drill.  (Yes, I did skim through this ticket.)  And of course the warning gets in the way for doctesting, but I know how to work around that cleanly.\n\nThanks very much for the quick and helpful reply, Nathann.\n\nRob",
    "created_at": "2015-05-20T21:06:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16261#issuecomment-208353",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:39" align="right">comment:39</div>

OK, I understood the warning to mean behavior was changing and students were going to need to do some sort of linear combination drill.  (Yes, I did skim through this ticket.)  And of course the warning gets in the way for doctesting, but I know how to work around that cleanly.

Thanks very much for the quick and helpful reply, Nathann.

Rob
