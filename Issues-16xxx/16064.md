# Issue 16064: Python 3 preparation: Handle basestring (Py2) vs. str (Py3)

archive/issues_015827.json:
```json
{
    "assignees": [],
    "body": "From the Python 2 documentation [basestring()](https://docs.python.org/2/library/functions.html#basestring):\n    This abstract type is the superclass for str and unicode. It cannot be called or instantiated, but it can be used to test whether an object is an instance of str or unicode. isinstance(obj, basestring) is equivalent to isinstance(obj, (str, unicode)).\n    New in version 2.3.\n    This is not available in Python 3.\n\nThe tool 2to3 changes `basestring` into `str` (the only string type  in Py3).\n\nThere are 27 effected modules. \n\nThis ticket is tracked as a dependency of meta-ticket ticket:16052.\n\n\nDepends on #18492\n\nComponent: **distribution**\n\nAuthor: **Andr\u00e9 Apitzsch**\n\nBranch/Commit: **[`7e60f88`](https://github.com/sagemath/sagetrac-mirror/commit/7e60f88fba8805110e89fa2f7093d61a2d78542d)**\n\nReviewer: **Ralf Stephan, Wilfried Luebbe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16064_\n\n",
    "closed_at": "2015-06-11T13:50:58Z",
    "created_at": "2014-04-07T08:28:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20distribution",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/c%3A%20python3"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Python 3 preparation: Handle basestring (Py2) vs. str (Py3)",
    "type": "issue",
    "updated_at": "2015-06-11T13:50:58Z",
    "url": "https://github.com/sagemath/sage/issues/16064",
    "user": "https://github.com/wluebbe"
}
```
From the Python 2 documentation [basestring()](https://docs.python.org/2/library/functions.html#basestring):
    This abstract type is the superclass for str and unicode. It cannot be called or instantiated, but it can be used to test whether an object is an instance of str or unicode. isinstance(obj, basestring) is equivalent to isinstance(obj, (str, unicode)).
    New in version 2.3.
    This is not available in Python 3.

The tool 2to3 changes `basestring` into `str` (the only string type  in Py3).

There are 27 effected modules. 

This ticket is tracked as a dependency of meta-ticket ticket:16052.


Depends on #18492

Component: **distribution**

Author: **André Apitzsch**

Branch/Commit: **[`7e60f88`](https://github.com/sagemath/sagetrac-mirror/commit/7e60f88fba8805110e89fa2f7093d61a2d78542d)**

Reviewer: **Ralf Stephan, Wilfried Luebbe**

_Issue created by migration from https://trac.sagemath.org/ticket/16064_





---

archive/issue_events_227156.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-07T08:28:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227156"
}
```



---

archive/issue_events_227157.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-07T08:28:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20distribution",
    "label_color": "0000b0",
    "label_name": "c: distribution",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227157"
}
```



---

archive/issue_events_227158.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-07T08:28:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227158"
}
```



---

archive/issue_events_227159.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-07T08:28:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227159"
}
```



---

archive/issue_events_227160.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-04-07T08:28:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "0000b0",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227160"
}
```



---

archive/issue_events_227161.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227161"
}
```



---

archive/issue_events_227162.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227162"
}
```



---

archive/issue_comments_204503.json:
```json
{
    "body": "Author: **Andr\u00e9 Apitzsch**",
    "created_at": "2014-05-18T18:14:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204503",
    "user": "https://github.com/a-andre"
}
```

Author: **André Apitzsch**



---

archive/issue_comments_204504.json:
```json
{
    "body": "Branch: **[u/aapitzsch/ticket/16064](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/16064)**",
    "created_at": "2014-05-18T18:14:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204504",
    "user": "https://github.com/a-andre"
}
```

Branch: **[u/aapitzsch/ticket/16064](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/16064)**



---

archive/issue_events_227163.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2014-05-18T18:14:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227163"
}
```



---

archive/issue_comments_204505.json:
```json
{
    "body": "Commit: **[`e1252a4`](https://github.com/sagemath/sagetrac-mirror/commit/e1252a45810b1dd857e978336f504843b412bf4d)**",
    "created_at": "2014-05-18T18:14:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204505",
    "user": "https://github.com/a-andre"
}
```

Commit: **[`e1252a4`](https://github.com/sagemath/sagetrac-mirror/commit/e1252a45810b1dd857e978336f504843b412bf4d)**



---

archive/issue_comments_204506.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1252a45810b1dd857e978336f504843b412bf4d\"><code>e1252a4</code></a></td><td><code>replace basestring by str</code></td></tr></table>\n",
    "created_at": "2014-05-18T18:14:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204506",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1252a45810b1dd857e978336f504843b412bf4d"><code>e1252a4</code></a></td><td><code>replace basestring by str</code></td></tr></table>




---

archive/issue_events_227164.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-21T06:25:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227164"
}
```



---

archive/issue_events_227165.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-21T06:25:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227165"
}
```



---

archive/issue_comments_204507.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nEyeballed and patchbotted ok. Just a naive question: wouldn't the `... str = basestring` snippet be needed in every affected file?",
    "created_at": "2014-05-21T06:25:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204507",
    "user": "https://github.com/rwst"
}
```

<div id="comment:3" align="right">comment:3</div>

Eyeballed and patchbotted ok. Just a naive question: wouldn't the `... str = basestring` snippet be needed in every affected file?



---

archive/issue_comments_204508.json:
```json
{
    "body": "Reviewer: **Ralf Stephan**",
    "created_at": "2014-05-21T06:26:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204508",
    "user": "https://github.com/rwst"
}
```

Reviewer: **Ralf Stephan**



---

archive/issue_comments_204509.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nFor unicode strings in Python 2.7 the change will not give the same result as before. See\n\n```\nPython 2.7.6 (default, Mar 22 2014, 22:59:56) \n[GCC 4.8.2] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> s ='a str'\n>>> su = u'a u-str'\n>>> isinstance(s, basestring)\nTrue\n>>> isinstance(su, basestring)\nTrue\n>>> isinstance(s, str)\nTrue\n>>> isinstance(su, str)\nFalse\n>>> \n``` \nAs we want a single Python 2 / 3 code base I think this is not the right solution.",
    "created_at": "2014-05-21T06:40:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204509",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:5" align="right">comment:5</div>

For unicode strings in Python 2.7 the change will not give the same result as before. See

```
Python 2.7.6 (default, Mar 22 2014, 22:59:56) 
[GCC 4.8.2] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> s ='a str'
>>> su = u'a u-str'
>>> isinstance(s, basestring)
True
>>> isinstance(su, basestring)
True
>>> isinstance(s, str)
True
>>> isinstance(su, str)
False
>>> 
``` 
As we want a single Python 2 / 3 code base I think this is not the right solution.



---

archive/issue_events_227166.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-21T06:40:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227166"
}
```



---

archive/issue_events_227167.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-21T06:40:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227167"
}
```



---

archive/issue_comments_204510.json:
```json
{
    "body": "Changed commit from **[`e1252a4`](https://github.com/sagemath/sagetrac-mirror/commit/e1252a45810b1dd857e978336f504843b412bf4d)** to **[`7fc09f9`](https://github.com/sagemath/sagetrac-mirror/commit/7fc09f93ebc4b0a662440b79b9d734b1e43d0420)**",
    "created_at": "2014-06-07T14:07:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204510",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e1252a4`](https://github.com/sagemath/sagetrac-mirror/commit/e1252a45810b1dd857e978336f504843b412bf4d)** to **[`7fc09f9`](https://github.com/sagemath/sagetrac-mirror/commit/7fc09f93ebc4b0a662440b79b9d734b1e43d0420)**



---

archive/issue_comments_204511.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4ce4d1a0f89ee69bae1cceba3f6698881b00eb5\"><code>f4ce4d1</code></a></td><td><code>replace basestring by str if python version >= 3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7fc09f93ebc4b0a662440b79b9d734b1e43d0420\"><code>7fc09f9</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into py3_basestring</code></td></tr></table>\n",
    "created_at": "2014-06-07T14:07:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204511",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4ce4d1a0f89ee69bae1cceba3f6698881b00eb5"><code>f4ce4d1</code></a></td><td><code>replace basestring by str if python version >= 3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7fc09f93ebc4b0a662440b79b9d734b1e43d0420"><code>7fc09f9</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into py3_basestring</code></td></tr></table>




---

archive/issue_events_227168.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2014-06-07T14:09:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227168"
}
```



---

archive/issue_events_227169.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2014-06-07T14:09:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227169"
}
```



---

archive/issue_comments_204512.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63eaffd5133fc3afb87ac12140aa56f800c12abd\"><code>63eaffd</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into py3_basestring</code></td></tr></table>\n",
    "created_at": "2014-06-19T19:18:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204512",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63eaffd5133fc3afb87ac12140aa56f800c12abd"><code>63eaffd</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into py3_basestring</code></td></tr></table>




---

archive/issue_comments_204513.json:
```json
{
    "body": "Changed commit from **[`7fc09f9`](https://github.com/sagemath/sagetrac-mirror/commit/7fc09f93ebc4b0a662440b79b9d734b1e43d0420)** to **[`63eaffd`](https://github.com/sagemath/sagetrac-mirror/commit/63eaffd5133fc3afb87ac12140aa56f800c12abd)**",
    "created_at": "2014-06-19T19:18:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204513",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7fc09f9`](https://github.com/sagemath/sagetrac-mirror/commit/7fc09f93ebc4b0a662440b79b9d734b1e43d0420)** to **[`63eaffd`](https://github.com/sagemath/sagetrac-mirror/commit/63eaffd5133fc3afb87ac12140aa56f800c12abd)**



---

archive/issue_events_227170.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227170"
}
```



---

archive/issue_events_227171.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227171"
}
```



---

archive/issue_comments_204514.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3df268bee99266bfb2d75c3d22edb653089b9928\"><code>3df268b</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into py3_basestring</code></td></tr></table>\n",
    "created_at": "2014-08-13T19:36:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204514",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3df268bee99266bfb2d75c3d22edb653089b9928"><code>3df268b</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into py3_basestring</code></td></tr></table>




---

archive/issue_comments_204515.json:
```json
{
    "body": "Changed commit from **[`63eaffd`](https://github.com/sagemath/sagetrac-mirror/commit/63eaffd5133fc3afb87ac12140aa56f800c12abd)** to **[`3df268b`](https://github.com/sagemath/sagetrac-mirror/commit/3df268bee99266bfb2d75c3d22edb653089b9928)**",
    "created_at": "2014-08-13T19:36:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204515",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`63eaffd`](https://github.com/sagemath/sagetrac-mirror/commit/63eaffd5133fc3afb87ac12140aa56f800c12abd)** to **[`3df268b`](https://github.com/sagemath/sagetrac-mirror/commit/3df268bee99266bfb2d75c3d22edb653089b9928)**



---

archive/issue_comments_204516.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI have a general question about Python3 tickets: would it not be better to simply use the `2to3` tool at build time (i.e. when doing `sage -b`)? This would fix not only this ticket, but also many others and there would be no need to uglify the code like in this patch.",
    "created_at": "2014-08-14T10:25:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204516",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

I have a general question about Python3 tickets: would it not be better to simply use the `2to3` tool at build time (i.e. when doing `sage -b`)? This would fix not only this ticket, but also many others and there would be no need to uglify the code like in this patch.



---

archive/issue_comments_204517.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nYou are right using `2to3` would be the better way, but the tool doesn't touch doctests and it will not fix all compatibility issues.\n\nIMO we should change as much as possible (if it is not ugly) upstream to reduce work for `2to3`.\nAnd in the long run we have to change it anyway.\nChanges like #16442, #16529 and even #16071 (if we leave the `izip` part out) should be fine.\n\nLet's skip this ticket for the moment and maybe replaced it by using `2to3` at build time.",
    "created_at": "2014-08-14T21:59:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204517",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:12" align="right">comment:12</div>

You are right using `2to3` would be the better way, but the tool doesn't touch doctests and it will not fix all compatibility issues.

IMO we should change as much as possible (if it is not ugly) upstream to reduce work for `2to3`.
And in the long run we have to change it anyway.
Changes like #16442, #16529 and even #16071 (if we leave the `izip` part out) should be fine.

Let's skip this ticket for the moment and maybe replaced it by using `2to3` at build time.



---

archive/issue_comments_204518.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nCython files should support `basestring` out of the box in Python 3. So no changes are needed to `.pyx` files.",
    "created_at": "2014-11-28T11:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204518",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Cython files should support `basestring` out of the box in Python 3. So no changes are needed to `.pyx` files.



---

archive/issue_events_227172.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-28T11:26:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227172"
}
```



---

archive/issue_events_227173.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-28T11:26:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227173"
}
```



---

archive/issue_comments_204519.json:
```json
{
    "body": "Changed commit from **[`3df268b`](https://github.com/sagemath/sagetrac-mirror/commit/3df268bee99266bfb2d75c3d22edb653089b9928)** to **[`bc70272`](https://github.com/sagemath/sagetrac-mirror/commit/bc70272c0df69ebee3b8f080866a61ef900e2f37)**",
    "created_at": "2014-11-28T16:18:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204519",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3df268b`](https://github.com/sagemath/sagetrac-mirror/commit/3df268bee99266bfb2d75c3d22edb653089b9928)** to **[`bc70272`](https://github.com/sagemath/sagetrac-mirror/commit/bc70272c0df69ebee3b8f080866a61ef900e2f37)**



---

archive/issue_comments_204520.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc70272c0df69ebee3b8f080866a61ef900e2f37\"><code>bc70272</code></a></td><td><code>revert basestring changes in *.pyx files</code></td></tr></table>\n",
    "created_at": "2014-11-28T16:18:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204520",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc70272c0df69ebee3b8f080866a61ef900e2f37"><code>bc70272</code></a></td><td><code>revert basestring changes in *.pyx files</code></td></tr></table>




---

archive/issue_events_227174.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2014-11-28T16:21:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227174"
}
```



---

archive/issue_events_227175.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2014-11-28T16:21:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227175"
}
```



---

archive/issue_events_227176.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-02-07T14:11:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227176"
}
```



---

archive/issue_events_227177.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-02-07T14:11:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227177"
}
```



---

archive/issue_comments_204521.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nYou wrote:\n\nReplying to [@a-andre](#comment%3A12):\n> Let's skip this ticket for the moment and maybe replaced it by using `2to3` at build time.\n\nbut later set the ticket to `needs_review`... So I don't understand, what is the status of this ticket? I'm changing both the milestone to `pending` and the status to `needs_work` (as there are merge conflicts anyway), please feel free to revert one or both if appropriate.",
    "created_at": "2015-02-07T14:11:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204521",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:16" align="right">comment:16</div>

You wrote:

Replying to [@a-andre](#comment%3A12):
> Let's skip this ticket for the moment and maybe replaced it by using `2to3` at build time.

but later set the ticket to `needs_review`... So I don't understand, what is the status of this ticket? I'm changing both the milestone to `pending` and the status to `needs_work` (as there are merge conflicts anyway), please feel free to revert one or both if appropriate.



---

archive/issue_events_227178.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-02-07T14:11:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227178"
}
```



---

archive/issue_events_227179.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-02-07T14:11:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227179"
}
```



---

archive/issue_events_227180.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-25T07:05:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227180"
}
```



---

archive/issue_events_227181.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-25T07:05:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227181"
}
```



---

archive/issue_comments_204522.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nSee #18492 for a much better approach using `six`.",
    "created_at": "2015-05-25T07:05:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204522",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

See #18492 for a much better approach using `six`.



---

archive/issue_comments_204523.json:
```json
{
    "body": "Changed branch from **[u/aapitzsch/ticket/16064](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/16064)** to **[u/aapitzsch/ticket/16064_2](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/16064_2)**",
    "created_at": "2015-05-25T20:11:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204523",
    "user": "https://github.com/a-andre"
}
```

Changed branch from **[u/aapitzsch/ticket/16064](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/16064)** to **[u/aapitzsch/ticket/16064_2](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/16064_2)**



---

archive/issue_events_227182.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2015-05-25T20:11:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227182"
}
```



---

archive/issue_events_227183.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2015-05-25T20:11:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227183"
}
```



---

archive/issue_comments_204524.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nMade use of `six`.\n\nI haven't added `six` as a dependency because that's done in #18492.",
    "created_at": "2015-05-25T20:11:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204524",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:18" align="right">comment:18</div>

Made use of `six`.

I haven't added `six` as a dependency because that's done in #18492.



---

archive/issue_comments_204525.json:
```json
{
    "body": "Changed commit from **[`bc70272`](https://github.com/sagemath/sagetrac-mirror/commit/bc70272c0df69ebee3b8f080866a61ef900e2f37)** to none",
    "created_at": "2015-05-25T20:11:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204525",
    "user": "https://github.com/a-andre"
}
```

Changed commit from **[`bc70272`](https://github.com/sagemath/sagetrac-mirror/commit/bc70272c0df69ebee3b8f080866a61ef900e2f37)** to none



---

archive/issue_comments_204526.json:
```json
{
    "body": "Changed branch from **[u/aapitzsch/ticket/16064_2](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/16064_2)** to **[u/aapitzsch/16064_2](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/16064_2)**",
    "created_at": "2015-05-25T20:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204526",
    "user": "https://github.com/a-andre"
}
```

Changed branch from **[u/aapitzsch/ticket/16064_2](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/16064_2)** to **[u/aapitzsch/16064_2](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/16064_2)**



---

archive/issue_comments_204527.json:
```json
{
    "body": "Commit: **[`002892e`](https://github.com/sagemath/sagetrac-mirror/commit/002892eb3e5ece1d1e1c440831cf03521c36ea66)**",
    "created_at": "2015-05-25T20:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204527",
    "user": "https://github.com/a-andre"
}
```

Commit: **[`002892e`](https://github.com/sagemath/sagetrac-mirror/commit/002892eb3e5ece1d1e1c440831cf03521c36ea66)**



---

archive/issue_comments_204528.json:
```json
{
    "body": "Dependencies: **#18492**",
    "created_at": "2015-05-26T06:06:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204528",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#18492**



---

archive/issue_comments_204529.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThe patch looks fine. Testing is OK.\n\nBut in `sage-6.8.beta3` there are still `basestring`s in ` sage/quivers/algebra.py\t` line 277 and in `sage/quivers/path_semigroup.py` lines 340 / 348. The are NOT present `sage-6.8.beta0` on which the patch is based. I haven't found out why.\n\nCan you base the patch on `sage-6.8.beta3` and change the 3 remaining `basestring`s. Then I would set the ticket to positive review.",
    "created_at": "2015-06-09T11:15:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204529",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:21" align="right">comment:21</div>

The patch looks fine. Testing is OK.

But in `sage-6.8.beta3` there are still `basestring`s in ` sage/quivers/algebra.py	` line 277 and in `sage/quivers/path_semigroup.py` lines 340 / 348. The are NOT present `sage-6.8.beta0` on which the patch is based. I haven't found out why.

Can you base the patch on `sage-6.8.beta3` and change the 3 remaining `basestring`s. Then I would set the ticket to positive review.



---

archive/issue_events_227184.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2015-06-09T11:15:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227184"
}
```



---

archive/issue_events_227185.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2015-06-09T11:15:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227185"
}
```



---

archive/issue_comments_204530.json:
```json
{
    "body": "Changed commit from **[`002892e`](https://github.com/sagemath/sagetrac-mirror/commit/002892eb3e5ece1d1e1c440831cf03521c36ea66)** to **[`b16df45`](https://github.com/sagemath/sagetrac-mirror/commit/b16df45af9855bad1a2687db25d57e8fa881a8cf)**",
    "created_at": "2015-06-09T16:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204530",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`002892e`](https://github.com/sagemath/sagetrac-mirror/commit/002892eb3e5ece1d1e1c440831cf03521c36ea66)** to **[`b16df45`](https://github.com/sagemath/sagetrac-mirror/commit/b16df45af9855bad1a2687db25d57e8fa881a8cf)**



---

archive/issue_comments_204531.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eaa8dc7495f9c161e1bc43ca61565a44cb16f98b\"><code>eaa8dc7</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into py3_basestring_six</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b16df45af9855bad1a2687db25d57e8fa881a8cf\"><code>b16df45</code></a></td><td><code>replace remaining basestring by six.string_types</code></td></tr></table>\n",
    "created_at": "2015-06-09T16:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204531",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eaa8dc7495f9c161e1bc43ca61565a44cb16f98b"><code>eaa8dc7</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into py3_basestring_six</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b16df45af9855bad1a2687db25d57e8fa881a8cf"><code>b16df45</code></a></td><td><code>replace remaining basestring by six.string_types</code></td></tr></table>




---

archive/issue_events_227186.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2015-06-09T16:56:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227186"
}
```



---

archive/issue_events_227187.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2015-06-09T16:56:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227187"
}
```



---

archive/issue_comments_204532.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nRight at the beginning of test `--all --long` (after a fresh `make`!) I get LOTS of errors like\n\n```\nFile \"src/sage/combinat/root_system/non_symmetric_macdonald_polynomials.py\", line 62, in sage.combinat.root_system.non_symmetric_macdonald_polynomials.NonSymmetricMacdonaldPolynomials\nFailed example:\n    E = NonSymmetricMacdonaldPolynomials([\"A\",2,1])\nException raised:\n    Traceback (most recent call last):\n      File \"/home/wluebbe/sage-6.8.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/wluebbe/sage-6.8.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.combinat.root_system.non_symmetric_macdonald_polynomials.NonSymmetricMacdonaldPolynomials[0]>\", line 1, in <module>\n        E = NonSymmetricMacdonaldPolynomials([\"A\",Integer(2),Integer(1)])\n      File \"sage/misc/lazy_import.pyx\", line 383, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:3453)\n        return self._get_object()(*args, **kwds)\n      File \"sage/misc/classcall_metaclass.pyx\", line 326, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1204)\n        return cls.classcall(cls, *args, **kwds)\n      File \"/home/wluebbe/sage-6.8.beta3/local/lib/python2.7/site-packages/sage/combinat/root_system/non_symmetric_macdonald_polynomials.py\", line 1208, in __classcall__\n        q = K(q)\n      File \"sage/structure/parent.pyx\", line 1095, in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9523)\n        return mor._call_(x)\n      File \"sage/structure/coerce_maps.pyx\", line 109, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (build/cythonized/sage/structure/coerce_maps.c:4402)\n        raise\n      File \"sage/structure/coerce_maps.pyx\", line 104, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (build/cythonized/sage/structure/coerce_maps.c:4309)\n        return C._element_constructor(x)\n      File \"/home/wluebbe/sage-6.8.beta3/local/lib/python2.7/site-packages/sage/rings/fraction_field.py\", line 563, in _element_constructor_\n        x = sage_eval(x, self.gens_dict_recursive())\n      File \"/home/wluebbe/sage-6.8.beta3/local/lib/python2.7/site-packages/sage/misc/sage_eval.py\", line 181, in sage_eval\n        if not isinstance(source, six.string_types):\n    AttributeError: 'module' object has no attribute 'string_types'\n```\nApparently the module `six` has not yet the attribute `string_types`. This seems to be the symptom of a circular import. But why after this last, small change?",
    "created_at": "2015-06-09T18:51:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204532",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:24" align="right">comment:24</div>

Right at the beginning of test `--all --long` (after a fresh `make`!) I get LOTS of errors like

```
File "src/sage/combinat/root_system/non_symmetric_macdonald_polynomials.py", line 62, in sage.combinat.root_system.non_symmetric_macdonald_polynomials.NonSymmetricMacdonaldPolynomials
Failed example:
    E = NonSymmetricMacdonaldPolynomials(["A",2,1])
Exception raised:
    Traceback (most recent call last):
      File "/home/wluebbe/sage-6.8.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/wluebbe/sage-6.8.beta3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.combinat.root_system.non_symmetric_macdonald_polynomials.NonSymmetricMacdonaldPolynomials[0]>", line 1, in <module>
        E = NonSymmetricMacdonaldPolynomials(["A",Integer(2),Integer(1)])
      File "sage/misc/lazy_import.pyx", line 383, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:3453)
        return self._get_object()(*args, **kwds)
      File "sage/misc/classcall_metaclass.pyx", line 326, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1204)
        return cls.classcall(cls, *args, **kwds)
      File "/home/wluebbe/sage-6.8.beta3/local/lib/python2.7/site-packages/sage/combinat/root_system/non_symmetric_macdonald_polynomials.py", line 1208, in __classcall__
        q = K(q)
      File "sage/structure/parent.pyx", line 1095, in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9523)
        return mor._call_(x)
      File "sage/structure/coerce_maps.pyx", line 109, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (build/cythonized/sage/structure/coerce_maps.c:4402)
        raise
      File "sage/structure/coerce_maps.pyx", line 104, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (build/cythonized/sage/structure/coerce_maps.c:4309)
        return C._element_constructor(x)
      File "/home/wluebbe/sage-6.8.beta3/local/lib/python2.7/site-packages/sage/rings/fraction_field.py", line 563, in _element_constructor_
        x = sage_eval(x, self.gens_dict_recursive())
      File "/home/wluebbe/sage-6.8.beta3/local/lib/python2.7/site-packages/sage/misc/sage_eval.py", line 181, in sage_eval
        if not isinstance(source, six.string_types):
    AttributeError: 'module' object has no attribute 'string_types'
```
Apparently the module `six` has not yet the attribute `string_types`. This seems to be the symptom of a circular import. But why after this last, small change?



---

archive/issue_comments_204533.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nApparently both `fraction.field.py` and `sage-eval.py` (see the last 2 listed files) contain `import six`. \nAnd at the point where the error occurs the import process for module `six` (started in `fraction.field.py`) is not yet complete.",
    "created_at": "2015-06-09T19:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204533",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:25" align="right">comment:25</div>

Apparently both `fraction.field.py` and `sage-eval.py` (see the last 2 listed files) contain `import six`. 
And at the point where the error occurs the import process for module `six` (started in `fraction.field.py`) is not yet complete.



---

archive/issue_comments_204534.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e60f88fba8805110e89fa2f7093d61a2d78542d\"><code>7e60f88</code></a></td><td><code>prevent relative import of six</code></td></tr></table>\n",
    "created_at": "2015-06-09T22:22:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204534",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e60f88fba8805110e89fa2f7093d61a2d78542d"><code>7e60f88</code></a></td><td><code>prevent relative import of six</code></td></tr></table>




---

archive/issue_comments_204535.json:
```json
{
    "body": "Changed commit from **[`b16df45`](https://github.com/sagemath/sagetrac-mirror/commit/b16df45af9855bad1a2687db25d57e8fa881a8cf)** to **[`7e60f88`](https://github.com/sagemath/sagetrac-mirror/commit/7e60f88fba8805110e89fa2f7093d61a2d78542d)**",
    "created_at": "2015-06-09T22:22:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204535",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b16df45`](https://github.com/sagemath/sagetrac-mirror/commit/b16df45af9855bad1a2687db25d57e8fa881a8cf)** to **[`7e60f88`](https://github.com/sagemath/sagetrac-mirror/commit/7e60f88fba8805110e89fa2f7093d61a2d78542d)**



---

archive/issue_comments_204536.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThere is a new `six.py` in misc which is relative imported instead of the expected `six` module.",
    "created_at": "2015-06-09T22:24:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204536",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:27" align="right">comment:27</div>

There is a new `six.py` in misc which is relative imported instead of the expected `six` module.



---

archive/issue_comments_204537.json:
```json
{
    "body": "Changed reviewer from **Ralf Stephan** to **Wilfried Luebbe**",
    "created_at": "2015-06-10T07:21:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204537",
    "user": "https://github.com/wluebbe"
}
```

Changed reviewer from **Ralf Stephan** to **Wilfried Luebbe**



---

archive/issue_events_227188.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2015-06-10T07:21:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227188"
}
```



---

archive/issue_events_227189.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2015-06-10T07:21:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227189"
}
```



---

archive/issue_comments_204538.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI did not think of a new `six.py` module in `src/sage/misc`! \n\nAll test passed. Looks good.",
    "created_at": "2015-06-10T07:21:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204538",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:28" align="right">comment:28</div>

I did not think of a new `six.py` module in `src/sage/misc`! 

All test passed. Looks good.



---

archive/issue_comments_204539.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nYou were not satisfied with my part of the review, sir?",
    "created_at": "2015-06-10T07:58:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204539",
    "user": "https://github.com/rwst"
}
```

<div id="comment:29" align="right">comment:29</div>

You were not satisfied with my part of the review, sir?



---

archive/issue_comments_204540.json:
```json
{
    "body": "Changed reviewer from **Wilfried Luebbe** to **Ralf Stephan, Wilfried Luebbe**",
    "created_at": "2015-06-10T07:58:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204540",
    "user": "https://github.com/rwst"
}
```

Changed reviewer from **Wilfried Luebbe** to **Ralf Stephan, Wilfried Luebbe**



---

archive/issue_comments_204541.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@rwst](#comment%3A29):\n> You were not satisfied with my part of the review, sir?\n\nSorry about that.",
    "created_at": "2015-06-10T08:54:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204541",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@rwst](#comment%3A29):
> You were not satisfied with my part of the review, sir?

Sorry about that.



---

archive/issue_comments_204542.json:
```json
{
    "body": "Changed branch from **[u/aapitzsch/16064_2](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/16064_2)** to **[`7e60f88`](https://github.com/sagemath/sagetrac-mirror/commit/7e60f88fba8805110e89fa2f7093d61a2d78542d)**",
    "created_at": "2015-06-11T13:50:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16064#issuecomment-204542",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/aapitzsch/16064_2](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/16064_2)** to **[`7e60f88`](https://github.com/sagemath/sagetrac-mirror/commit/7e60f88fba8805110e89fa2f7093d61a2d78542d)**



---

archive/issue_events_227190.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-11T13:50:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227190"
}
```



---

archive/issue_events_227191.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "51e7dcd5dff27b2f3492ad8b6158a5bb903f9135",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-06-11T13:50:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16064",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16064#event-227191"
}
```
