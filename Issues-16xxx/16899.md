# Issue 16899: Allow complex functions in implicit_plot

archive/issues_016662.json:
```json
{
    "body": "Currently implicit_plot does not allow you to plot the zero sets of complex functions. It would be nice if one could do this. (This was mentioned in an [email thread](https://groups.google.com/forum/#!topic/sage-support/dZg1Fz25fyY) last year but I haven't found any other work on it.)\n\n**CC:**  @orlitzky\n\n**Keywords:** fast_callable\n\n**Reviewer:** Dima Pasechnik\n\n**Dependencies:** #32234, #8450\n\nIssue created by migration from https://trac.sagemath.org/ticket/16899\n\n",
    "closed_at": "2021-12-03T18:41:01Z",
    "created_at": "2014-08-28T19:26:59Z",
    "labels": [
        "component: graphics",
        "minor",
        "enhancement",
        "invalid"
    ],
    "title": "Allow complex functions in implicit_plot",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16899",
    "user": "https://trac.sagemath.org/admin/accounts/users/ajdunlap"
}
```
Currently implicit_plot does not allow you to plot the zero sets of complex functions. It would be nice if one could do this. (This was mentioned in an [email thread](https://groups.google.com/forum/#!topic/sage-support/dZg1Fz25fyY) last year but I haven't found any other work on it.)

**CC:**  @orlitzky

**Keywords:** fast_callable

**Reviewer:** Dima Pasechnik

**Dependencies:** #32234, #8450

Issue created by migration from https://trac.sagemath.org/ticket/16899





---

archive/issue_comments_226746.json:
```json
{
    "body": "<a id='comment:1'></a>\nI think this would be solved by switching `contour_plot` to use `fast_callable` instead of `fast_float`, as was done for `plot` in #15030.",
    "created_at": "2014-08-28T19:52:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16899#issuecomment-226746",
    "user": "https://trac.sagemath.org/admin/accounts/users/ajdunlap"
}
```

<a id='comment:1'></a>
I think this would be solved by switching `contour_plot` to use `fast_callable` instead of `fast_float`, as was done for `plot` in #15030.



---

archive/issue_comments_226747.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"fast_callable\".",
    "created_at": "2014-08-28T21:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16899#issuecomment-226747",
    "user": "https://trac.sagemath.org/admin/accounts/users/ajdunlap"
}
```

**Changing keywords** from "" to "fast_callable".



---

archive/issue_events_154757.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-22T00:55:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16899#event-154757"
}
```



---

archive/issue_events_154758.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-22T00:55:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16899#event-154758"
}
```



---

archive/issue_comments_226748.json:
```json
{
    "body": "**Dependencies:** #32234",
    "created_at": "2021-07-22T00:55:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16899#issuecomment-226748",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #32234



---

archive/issue_events_154759.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-22T00:55:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16899#event-154759"
}
```



---

archive/issue_comments_226749.json:
```json
{
    "body": "<a id='comment:4'></a>\nThis is probably fixed by #8450, but bugs in `contour_plot` are getting in the way (#21042).",
    "created_at": "2021-07-26T19:35:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16899#issuecomment-226749",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:4'></a>
This is probably fixed by #8450, but bugs in `contour_plot` are getting in the way (#21042).



---

archive/issue_events_154760.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-07-29T12:21:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16899#event-154760"
}
```



---

archive/issue_events_154761.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-07-29T12:21:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "label": "duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16899#event-154761"
}
```



---

archive/issue_comments_226750.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe following modification of the email example `z - |z|` works after #8450:\n\n```\nsage: x,y = SR.var('x,y')                                                       \nsage: z = x + I*y                                                               \nsage: f = (z - abs(z)).real()                                                   \nsage: implicit_plot(f + 0.2, (0,1), (0,1))\n```\n\nFirst, you have to take the real part of the answer, since the plotting functions are expecting a real result. But then to avoid the issue in #21042, we have to perturb the whole thing (by 0.2, in my example).\n\nIf we are willing to accept the need to add `real()` onto the example, then I think we can consider this fixed by #8450, and deal with the `contour_plot()` zero issue on its own ticket.",
    "created_at": "2021-07-29T12:21:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16899#issuecomment-226750",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:5'></a>
The following modification of the email example `z - |z|` works after #8450:

```
sage: x,y = SR.var('x,y')                                                       
sage: z = x + I*y                                                               
sage: f = (z - abs(z)).real()                                                   
sage: implicit_plot(f + 0.2, (0,1), (0,1))
```

First, you have to take the real part of the answer, since the plotting functions are expecting a real result. But then to avoid the issue in #21042, we have to perturb the whole thing (by 0.2, in my example).

If we are willing to accept the need to add `real()` onto the example, then I think we can consider this fixed by #8450, and deal with the `contour_plot()` zero issue on its own ticket.



---

archive/issue_comments_226751.json:
```json
{
    "body": "**Changing dependencies** from \"#32234\" to \"#32234, #8450\".",
    "created_at": "2021-07-29T12:21:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16899#issuecomment-226751",
    "user": "https://github.com/orlitzky"
}
```

**Changing dependencies** from "#32234" to "#32234, #8450".



---

archive/issue_events_154762.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-07-29T12:21:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16899#event-154762"
}
```



---

archive/issue_events_154763.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-07-29T12:21:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16899#event-154763"
}
```



---

archive/issue_comments_226752.json:
```json
{
    "body": "<a id='comment:6'></a>\nIs an example akin to the one in [comment:5](#comment%3A5) in docstrings of #8450 or #21042 ?",
    "created_at": "2021-12-03T10:42:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16899#issuecomment-226752",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
Is an example akin to the one in [comment:5](#comment%3A5) in docstrings of #8450 or #21042 ?



---

archive/issue_comments_226753.json:
```json
{
    "body": "<a id='comment:7'></a>\n#8450 adds a similar test for `contour_plot`, which is what `implicit_plot` uses, so I think we're good.",
    "created_at": "2021-12-03T12:28:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16899#issuecomment-226753",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:7'></a>
#8450 adds a similar test for `contour_plot`, which is what `implicit_plot` uses, so I think we're good.



---

archive/issue_comments_226754.json:
```json
{
    "body": "<a id='comment:8'></a>\nOK.",
    "created_at": "2021-12-03T13:10:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16899#issuecomment-226754",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
OK.



---

archive/issue_comments_226755.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2021-12-03T13:10:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16899#issuecomment-226755",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_events_154764.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-12-03T13:10:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16899#event-154764"
}
```



---

archive/issue_events_154765.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-12-03T13:10:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16899#event-154765"
}
```



---

archive/issue_events_154766.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-03T18:41:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16899#event-154766"
}
```



---

archive/issue_events_154767.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-03T18:41:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16899",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16899#event-154767"
}
```
