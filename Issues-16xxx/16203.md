# Issue 16203: conversion from SR.series to PowerSeries

archive/issues_015966.json:
```json
{
    "body": "CC:  @kcrisman\n\nKeywords: series conversion days71\n\n```\nsage: R.<x> = PowerSeriesRing(SR)\nsage: var('y')\ny\nsage: ex=1/(1-y)\nsage: ex.series(y,20)\n1 + 1*y + 1*y^2 + 1*y^3 + 1*y^4 + 1*y^5 + 1*y^6 + 1*y^7 + 1*y^8 + 1*y^9 + 1*y^10 + 1*y^11 + 1*y^12 + 1*y^13 + 1*y^14 + 1*y^15 + 1*y^16 + 1*y^17 + 1*y^18 + 1*y^19 + Order(y^20)\nsage: s=R(_); s\n1 + y + y^2 + y^3 + y^4 + y^5 + y^6 + y^7 + y^8 + y^9 + y^10 + y^11 + y^12 + y^13 + y^14 + y^15 + y^16 + y^17 + y^18 + y^19 + Order(y^20)\nsage: type(s)\n<type 'sage.rings.power_series_poly.PowerSeries_poly'>\nsage: s.list()\n[1 + 1*y + 1*y^2 + 1*y^3 + 1*y^4 + 1*y^5 + 1*y^6 + 1*y^7 + 1*y^8 + 1*y^9 + 1*y^10 + 1*y^11 + 1*y^12 + 1*y^13 + 1*y^14 + 1*y^15 + 1*y^16 + 1*y^17 + 1*y^18 + 1*y^19 + Order(y^20)]\n```\nThe correct result would be `1 + x + x^2...`. Obviously `Order(20)` is not recognized as a marker for the existence of a power series. The whole symbolic expression is taken as a constant.\n\nAlso reported in http://ask.sagemath.org/question/24777/how-to-convert-a-taylor-polynomial-to-a-power-series/ and http://ask.sagemath.org/question/24968/coefficients-in-polynomial-ring-over-symbolic-ring/\n\nIssue created by migration from https://trac.sagemath.org/ticket/16203\n\n",
    "closed_at": "2016-03-28T07:24:14Z",
    "created_at": "2014-04-22T07:43:31Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "conversion from SR.series to PowerSeries",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16203",
    "user": "https://github.com/rwst"
}
```
CC:  @kcrisman

Keywords: series conversion days71

```
sage: R.<x> = PowerSeriesRing(SR)
sage: var('y')
y
sage: ex=1/(1-y)
sage: ex.series(y,20)
1 + 1*y + 1*y^2 + 1*y^3 + 1*y^4 + 1*y^5 + 1*y^6 + 1*y^7 + 1*y^8 + 1*y^9 + 1*y^10 + 1*y^11 + 1*y^12 + 1*y^13 + 1*y^14 + 1*y^15 + 1*y^16 + 1*y^17 + 1*y^18 + 1*y^19 + Order(y^20)
sage: s=R(_); s
1 + y + y^2 + y^3 + y^4 + y^5 + y^6 + y^7 + y^8 + y^9 + y^10 + y^11 + y^12 + y^13 + y^14 + y^15 + y^16 + y^17 + y^18 + y^19 + Order(y^20)
sage: type(s)
<type 'sage.rings.power_series_poly.PowerSeries_poly'>
sage: s.list()
[1 + 1*y + 1*y^2 + 1*y^3 + 1*y^4 + 1*y^5 + 1*y^6 + 1*y^7 + 1*y^8 + 1*y^9 + 1*y^10 + 1*y^11 + 1*y^12 + 1*y^13 + 1*y^14 + 1*y^15 + 1*y^16 + 1*y^17 + 1*y^18 + 1*y^19 + Order(y^20)]
```
The correct result would be `1 + x + x^2...`. Obviously `Order(20)` is not recognized as a marker for the existence of a power series. The whole symbolic expression is taken as a constant.

Also reported in http://ask.sagemath.org/question/24777/how-to-convert-a-taylor-polynomial-to-a-power-series/ and http://ask.sagemath.org/question/24968/coefficients-in-polynomial-ring-over-symbolic-ring/

Issue created by migration from https://trac.sagemath.org/ticket/16203





---

archive/issue_events_047740.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16203#event-47740"
}
```



---

archive/issue_events_047741.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16203#event-47741"
}
```



---

archive/issue_events_047742.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16203#event-47742"
}
```



---

archive/issue_comments_206914.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-12-03T09:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206914",
    "user": "https://github.com/rwst"
}
```

New commits:



---

archive/issue_comments_206915.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-12-04T15:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206915",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_206916.json:
```json
{
    "body": "This also resolves #16198\n\n---\nNew commits:",
    "created_at": "2014-12-04T15:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206916",
    "user": "https://github.com/rwst"
}
```

This also resolves #16198

---
New commits:



---

archive/issue_comments_206917.json:
```json
{
    "body": "As currently stated in the description, this is the correct result as the variable for `PowerSeriesRing` is `x`, whereas we have some symbolic expression in `y` (so is naturally an element in the coefficient ring). Having mismatched variable names automatically converting over seems fraught with problems and could lead to subtle bugs.",
    "created_at": "2014-12-04T18:49:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206917",
    "user": "https://github.com/tscrim"
}
```

As currently stated in the description, this is the correct result as the variable for `PowerSeriesRing` is `x`, whereas we have some symbolic expression in `y` (so is naturally an element in the coefficient ring). Having mismatched variable names automatically converting over seems fraught with problems and could lead to subtle bugs.



---

archive/issue_comments_206918.json:
```json
{
    "body": "Replying to [comment:11 tscrim]:\n> As currently stated in the description, this is the correct result as the variable for `PowerSeriesRing` is `x`, whereas we have some symbolic expression in `y` (so is naturally an element in the coefficient ring). Having mismatched variable names automatically converting over seems fraught with problems and could lead to subtle bugs.\n\nI see. So, conversion to an existing power series ring should only be allowed if the series expansion variable has the same name as the ring var. Multiple vars aren't supported by SR.series anyway.",
    "created_at": "2014-12-05T08:26:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206918",
    "user": "https://github.com/rwst"
}
```

Replying to [comment:11 tscrim]:
> As currently stated in the description, this is the correct result as the variable for `PowerSeriesRing` is `x`, whereas we have some symbolic expression in `y` (so is naturally an element in the coefficient ring). Having mismatched variable names automatically converting over seems fraught with problems and could lead to subtle bugs.

I see. So, conversion to an existing power series ring should only be allowed if the series expansion variable has the same name as the ring var. Multiple vars aren't supported by SR.series anyway.



---

archive/issue_comments_206919.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-05T09:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206919",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_206920.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-01-23T08:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206920",
    "user": "https://github.com/rwst"
}
```

New commits:



---

archive/issue_comments_206921.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-01-25T15:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206921",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_206922.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-01-25T16:41:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206922",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_206923.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-23T16:39:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206923",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_047743.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-20T15:50:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16203#event-47743"
}
```



---

archive/issue_events_047744.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-20T15:50:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16203#event-47744"
}
```



---

archive/issue_comments_206924.json:
```json
{
    "body": "Pending because #17659 is pending.",
    "created_at": "2015-04-20T15:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206924",
    "user": "https://github.com/rwst"
}
```

Pending because #17659 is pending.



---

archive/issue_events_047745.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-02-05T08:10:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16203#event-47745"
}
```



---

archive/issue_events_047746.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-02-05T08:10:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16203#event-47746"
}
```



---

archive/issue_comments_206925.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-02-05T08:10:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206925",
    "user": "https://github.com/rwst"
}
```

New commits:



---

archive/issue_comments_206926.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-03-21T15:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206926",
    "user": "https://trac.sagemath.org/admin/accounts/users/maurimo"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_206927.json:
```json
{
    "body": "\"is\" should be \"==\".\nThe changes to ring.pyx are unrelated and should be removed.\nEverything else looks alright.",
    "created_at": "2016-03-21T15:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206927",
    "user": "https://trac.sagemath.org/admin/accounts/users/maurimo"
}
```

"is" should be "==".
The changes to ring.pyx are unrelated and should be removed.
Everything else looks alright.



---

archive/issue_comments_206928.json:
```json
{
    "body": "Changing keywords from \"series conversion\" to \"series conversion days71\".",
    "created_at": "2016-03-21T15:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206928",
    "user": "https://trac.sagemath.org/admin/accounts/users/maurimo"
}
```

Changing keywords from "series conversion" to "series conversion days71".



---

archive/issue_comments_206929.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-03-21T16:17:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206929",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_206930.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-03-21T16:17:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206930",
    "user": "https://github.com/rwst"
}
```

New commits:



---

archive/issue_comments_206931.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-21T16:19:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206931",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_206932.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-03-27T09:28:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206932",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_206933.json:
```json
{
    "body": "Thanks!",
    "created_at": "2016-03-27T12:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206933",
    "user": "https://github.com/rwst"
}
```

Thanks!



---

archive/issue_events_047747.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-28T07:24:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16203#event-47747"
}
```



---

archive/issue_comments_206934.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-03-28T07:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16203#issuecomment-206934",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
