# Issue 16234: Assorted fixes and optimizations in sage-combinat (mostly partitions and tableaux)

archive/issues_015997.json:
```json
{
    "body": "CC:  @jessicapalencia @tscrim @anneschilling sage-combinat stumpc5 vivianepons @nthiery gchatel\n\nKeywords: combinat, tableaux, partitions, findstat, documentation, integer_list, mutability\n\n- Improve documentation of promotion operators (there are three of them in Sage) on SSYTs.\n\n- Add doc to Lascoux-Sch\u00fctzenberger action on tableaux.\n\n- Add a few more `@`combinatorial_map decorators on tableaux, partitions, posets.\n\n- Fix doc of the Greene-Kleitman partition method on finite posets.\n\n- Speed up `is_column_strict` and three further methods on tableaux. PSA: don't use `copy.deepcopy` unless you really don't know the internal structure of the objects you are copying.\n\n- Fix a bug in the iterator of `Partitions(..., outer=a)` that caused `a` to be mutated occasionally, and that required `a` to be a list (as opposed to, more reasonably, a partition or tuple):\n\n```\nsage: a = [4,2,1,1,1,1,1]\nsage: for p in Partitions(8, outer=a, min_slope=-1):\n    print p\n....:     \n[3, 2, 1, 1, 1]\n[2, 2, 1, 1, 1, 1]\n[2, 1, 1, 1, 1, 1, 1]\nsage: a\n[3, 2, 1, 1, 1, 1, 1]\n```\n\nIssue created by migration from https://trac.sagemath.org/ticket/16234\n\n",
    "closed_at": "2014-10-29T10:39:10Z",
    "created_at": "2014-04-25T06:44:46Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Assorted fixes and optimizations in sage-combinat (mostly partitions and tableaux)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16234",
    "user": "https://github.com/darijgr"
}
```
CC:  @jessicapalencia @tscrim @anneschilling sage-combinat stumpc5 vivianepons @nthiery gchatel

Keywords: combinat, tableaux, partitions, findstat, documentation, integer_list, mutability

- Improve documentation of promotion operators (there are three of them in Sage) on SSYTs.

- Add doc to Lascoux-Sch√ºtzenberger action on tableaux.

- Add a few more `@`combinatorial_map decorators on tableaux, partitions, posets.

- Fix doc of the Greene-Kleitman partition method on finite posets.

- Speed up `is_column_strict` and three further methods on tableaux. PSA: don't use `copy.deepcopy` unless you really don't know the internal structure of the objects you are copying.

- Fix a bug in the iterator of `Partitions(..., outer=a)` that caused `a` to be mutated occasionally, and that required `a` to be a list (as opposed to, more reasonably, a partition or tuple):

```
sage: a = [4,2,1,1,1,1,1]
sage: for p in Partitions(8, outer=a, min_slope=-1):
    print p
....:     
[3, 2, 1, 1, 1]
[2, 2, 1, 1, 1, 1]
[2, 1, 1, 1, 1, 1, 1]
sage: a
[3, 2, 1, 1, 1, 1, 1]
```

Issue created by migration from https://trac.sagemath.org/ticket/16234





---

archive/issue_comments_207366.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-04-25T06:44:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16234#issuecomment-207366",
    "user": "https://github.com/darijgr"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_207367.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2014-04-25T06:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16234#issuecomment-207367",
    "user": "https://github.com/darijgr"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_events_047847.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16234#event-47847"
}
```



---

archive/issue_events_047848.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16234#event-47848"
}
```



---

archive/issue_events_047849.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16234#event-47849"
}
```



---

archive/issue_comments_207368.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-16T15:11:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16234#issuecomment-207368",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_207369.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-25T00:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16234#issuecomment-207369",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_207370.json:
```json
{
    "body": "Changing keywords from \"combinat, tableaux, partitions, findstat, documentation\" to \"combinat, tableaux, partitions, findstat, documentation, integer_list, mutability\".",
    "created_at": "2014-10-25T00:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16234#issuecomment-207370",
    "user": "https://github.com/darijgr"
}
```

Changing keywords from "combinat, tableaux, partitions, findstat, documentation" to "combinat, tableaux, partitions, findstat, documentation, integer_list, mutability".



---

archive/issue_comments_207371.json:
```json
{
    "body": "Hi Darij, thank you very much for this work!\n\n\nThere is something wrong with the documentation of `symmetric_group_action_on_values`. I must say that I didn't know this operation, so I don't know its definition. But from the code, it seems that your documentation doesn't quite correspond to what is done in the code. When you write this:\n\n\n```\n        Then, let `a` be the number of opening\n        parentheses in the word, and `b` the number of closing\n        parentheses (notice that all opening parentheses are left of\n        all closing parentheses). Replace the first `b` parentheses\n        by the letters `i+1`, and replace the remaining `a` parentheses\n        by the letters `i`.\n```\n\n\nIndeed, the action of `s_1` on `[This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro)` should give `[This is the Trac macro *2,1* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#2,1-macro)` which is not a semi-standard tableau... (you obtain the unmatched parenthesizes `)(`).  The code answers `[This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro)`, I must say that it is quite obscure and I don't understand what they're doing. But obviously, the documentation does not explain it correctly. Do you have the paper reference where this operation is described? \n\nApart from that, it seems good to me.",
    "created_at": "2014-10-27T13:56:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16234#issuecomment-207371",
    "user": "https://github.com/VivianePons"
}
```

Hi Darij, thank you very much for this work!


There is something wrong with the documentation of `symmetric_group_action_on_values`. I must say that I didn't know this operation, so I don't know its definition. But from the code, it seems that your documentation doesn't quite correspond to what is done in the code. When you write this:


```
        Then, let `a` be the number of opening
        parentheses in the word, and `b` the number of closing
        parentheses (notice that all opening parentheses are left of
        all closing parentheses). Replace the first `b` parentheses
        by the letters `i+1`, and replace the remaining `a` parentheses
        by the letters `i`.
```


Indeed, the action of `s_1` on `[This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro)` should give `[This is the Trac macro *2,1* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#2,1-macro)` which is not a semi-standard tableau... (you obtain the unmatched parenthesizes `)(`).  The code answers `[This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro)`, I must say that it is quite obscure and I don't understand what they're doing. But obviously, the documentation does not explain it correctly. Do you have the paper reference where this operation is described? 

Apart from that, it seems good to me.



---

archive/issue_comments_207372.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-10-27T13:56:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16234#issuecomment-207372",
    "user": "https://github.com/VivianePons"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_207373.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-27T14:28:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16234#issuecomment-207373",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_207374.json:
```json
{
    "body": "Thank you -- this should be fixed now.",
    "created_at": "2014-10-27T14:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16234#issuecomment-207374",
    "user": "https://github.com/darijgr"
}
```

Thank you -- this should be fixed now.



---

archive/issue_comments_207375.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-10-27T14:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16234#issuecomment-207375",
    "user": "https://github.com/darijgr"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_207376.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-10-28T13:23:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16234#issuecomment-207376",
    "user": "https://github.com/VivianePons"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_207377.json:
```json
{
    "body": "Well, this is mostly doc improvement. I read everything and it seems quite fine for me. I run the tests on every changed files and built the documentation.",
    "created_at": "2014-10-28T13:23:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16234#issuecomment-207377",
    "user": "https://github.com/VivianePons"
}
```

Well, this is mostly doc improvement. I read everything and it seems quite fine for me. I run the tests on every changed files and built the documentation.



---

archive/issue_comments_207378.json:
```json
{
    "body": "Thanks for the review!",
    "created_at": "2014-10-28T16:30:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16234#issuecomment-207378",
    "user": "https://github.com/darijgr"
}
```

Thanks for the review!



---

archive/issue_comments_207379.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-10-29T10:39:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16234#issuecomment-207379",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_047850.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-29T10:39:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16234",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16234#event-47850"
}
```
