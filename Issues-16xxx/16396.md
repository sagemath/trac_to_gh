# Issue 16396: upgrade Sphinx to 1.2

archive/issues_016159.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nAccording to https://groups.google.com/forum/#!topic/sphinx-users/EC7_wNtE5To Sphinx-1.2 is 25% faster than 1.1.2, and this matters with doc-clean Sage builds.\n(This assumption turned out to be false, see [comment:18](#comment%3A18))\n\nSource:\n [https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz](https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz)\n\nUpstream: **Reported upstream. No feedback yet.**\n\nCC:  @strogdon @SnarkBoojum\n\nComponent: **documentation**\n\nKeywords: **speed, slow, rst**\n\nAuthor: **Ralf Stephan, Steven Trogdon**\n\nBranch: **[`de9630d`](https://github.com/sagemath/sagetrac-mirror/commit/de9630d5106c3336b4c8207c04a0a23f91f4db12)**\n\nReviewer: **Fran\u00e7ois Bissey, Julien Puydt, John Palmieri**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16396_\n\n",
    "closed_at": "2014-10-24T10:14:41Z",
    "created_at": "2014-05-25T15:21:26Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20documentation",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/c%3A%20build"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "upgrade Sphinx to 1.2",
    "type": "issue",
    "updated_at": "2014-11-19T16:07:29Z",
    "url": "https://github.com/sagemath/sage/issues/16396",
    "user": "https://github.com/rwst"
}
```
<div id="comment:0"></div>

According to https://groups.google.com/forum/#!topic/sphinx-users/EC7_wNtE5To Sphinx-1.2 is 25% faster than 1.1.2, and this matters with doc-clean Sage builds.
(This assumption turned out to be false, see [comment:18](#comment%3A18))

Source:
 [https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz](https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz)

Upstream: **Reported upstream. No feedback yet.**

CC:  @strogdon @SnarkBoojum

Component: **documentation**

Keywords: **speed, slow, rst**

Author: **Ralf Stephan, Steven Trogdon**

Branch: **[`de9630d`](https://github.com/sagemath/sagetrac-mirror/commit/de9630d5106c3336b4c8207c04a0a23f91f4db12)**

Reviewer: **Fran√ßois Bissey, Julien Puydt, John Palmieri**

_Issue created by migration from https://trac.sagemath.org/ticket/16396_





---

archive/issue_events_232080.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-25T15:21:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232080"
}
```



---

archive/issue_events_232081.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-25T15:21:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232081"
}
```



---

archive/issue_events_232082.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-25T15:21:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232082"
}
```



---

archive/issue_events_232083.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-25T15:21:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232083"
}
```



---

archive/issue_events_232084.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-25T15:21:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232084"
}
```



---

archive/issue_comments_211561.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThe sage-on-gentoo experience with this is that we need to clean up a number of things before upgrading. It of course can be done at the same time.",
    "created_at": "2014-05-27T22:58:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211561",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:1" align="right">comment:1</div>

The sage-on-gentoo experience with this is that we need to clean up a number of things before upgrading. It of course can be done at the same time.



---

archive/issue_comments_211562.json:
```json
{
    "body": "Branch: **[u/rws/upgrade_sphinx_to_1_2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_sphinx_to_1_2)**",
    "created_at": "2014-05-28T07:37:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211562",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/upgrade_sphinx_to_1_2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_sphinx_to_1_2)**



---

archive/issue_comments_211563.json:
```json
{
    "body": "Commit: **[`cd12a2b`](https://github.com/sagemath/sagetrac-mirror/commit/cd12a2bfbea0cb98f48d69b009e7d3c8ccdae885)**",
    "created_at": "2014-05-28T07:52:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211563",
    "user": "https://github.com/rwst"
}
```

Commit: **[`cd12a2b`](https://github.com/sagemath/sagetrac-mirror/commit/cd12a2bfbea0cb98f48d69b009e7d3c8ccdae885)**



---

archive/issue_comments_211564.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd12a2bfbea0cb98f48d69b009e7d3c8ccdae885\"><code>cd12a2b</code></a></td><td><code>16396: sphinx-1.2.2 install: fix grammar script; bump version</code></td></tr></table>\n\n---\nLots of `SEEALSO` problems apparently.",
    "created_at": "2014-05-28T07:52:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211564",
    "user": "https://github.com/rwst"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd12a2bfbea0cb98f48d69b009e7d3c8ccdae885"><code>cd12a2b</code></a></td><td><code>16396: sphinx-1.2.2 install: fix grammar script; bump version</code></td></tr></table>

---
Lots of `SEEALSO` problems apparently.



---

archive/issue_comments_211565.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50e24c23c2d80d64bf50fc288f328f56fe022003\"><code>50e24c2</code></a></td><td><code>16396: fix SEEALSO indentation</code></td></tr></table>\n",
    "created_at": "2014-05-28T08:26:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211565",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50e24c23c2d80d64bf50fc288f328f56fe022003"><code>50e24c2</code></a></td><td><code>16396: fix SEEALSO indentation</code></td></tr></table>




---

archive/issue_comments_211566.json:
```json
{
    "body": "Changed commit from **[`cd12a2b`](https://github.com/sagemath/sagetrac-mirror/commit/cd12a2bfbea0cb98f48d69b009e7d3c8ccdae885)** to **[`50e24c2`](https://github.com/sagemath/sagetrac-mirror/commit/50e24c23c2d80d64bf50fc288f328f56fe022003)**",
    "created_at": "2014-05-28T08:26:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211566",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cd12a2b`](https://github.com/sagemath/sagetrac-mirror/commit/cd12a2bfbea0cb98f48d69b009e7d3c8ccdae885)** to **[`50e24c2`](https://github.com/sagemath/sagetrac-mirror/commit/50e24c23c2d80d64bf50fc288f328f56fe022003)**



---

archive/issue_events_232085.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-28T08:37:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232085"
}
```



---

archive/issue_comments_211567.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2014-05-28T08:37:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211567",
    "user": "https://github.com/rwst"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_211568.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nFurther, I get a crash which is reported at https://bitbucket.org/birkenfeld/sphinx/issue/1475/typeerror-in-get_js_index",
    "created_at": "2014-05-28T08:37:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211568",
    "user": "https://github.com/rwst"
}
```

<div id="comment:5" align="right">comment:5</div>

Further, I get a crash which is reported at https://bitbucket.org/birkenfeld/sphinx/issue/1475/typeerror-in-get_js_index



---

archive/issue_events_232086.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-28T09:11:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232086"
}
```



---

archive/issue_events_232087.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-28T09:11:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232087"
}
```



---

archive/issue_comments_211569.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nUpstream says:\n\n```\nSphinx-1.2 has changed the signature of sphinx.search.IndexBuilder class (e5bd5a84b5fd) and Sage extension has used the IndexBuilder directly without a appended argument.\n\nI think you can build the document with Sphinx-1.1.3. Alternatively, please contact to sage documentation maintainer.\n```",
    "created_at": "2014-05-28T09:11:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211569",
    "user": "https://github.com/rwst"
}
```

<div id="comment:6" align="right">comment:6</div>

Upstream says:

```
Sphinx-1.2 has changed the signature of sphinx.search.IndexBuilder class (e5bd5a84b5fd) and Sage extension has used the IndexBuilder directly without a appended argument.

I think you can build the document with Sphinx-1.1.3. Alternatively, please contact to sage documentation maintainer.
```



---

archive/issue_comments_211570.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers deny it's a bug.**",
    "created_at": "2014-05-28T09:11:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211570",
    "user": "https://github.com/rwst"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers deny it's a bug.**



---

archive/issue_comments_211571.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI will have a look. I have a number of patches for sphinx 1.2 in sage-on-gentoo. We have success at building the html doc with sphinx 1.2. However there is a mystery on whether or not we can build the pdf documentation at the moment.",
    "created_at": "2014-05-28T10:36:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211571",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:7" align="right">comment:7</div>

I will have a look. I have a number of patches for sphinx 1.2 in sage-on-gentoo. We have success at building the html doc with sphinx 1.2. However there is a mystery on whether or not we can build the pdf documentation at the moment.



---

archive/issue_comments_211572.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nOK, you did the right thing for SEEALSO what you are missing can be found here [https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/sage-doc/files/sage-doc-6.2-sphinx.patch](https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/sage-doc/files/sage-doc-6.2-sphinx.patch) that should solve the crash you reported. Not that because you are not sage-on-gentoo you do not have to bother with testing the sphinx version. However we would appreciate if you did.",
    "created_at": "2014-05-28T10:47:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211572",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:8" align="right">comment:8</div>

OK, you did the right thing for SEEALSO what you are missing can be found here [https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/sage-doc/files/sage-doc-6.2-sphinx.patch](https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/sage-doc/files/sage-doc-6.2-sphinx.patch) that should solve the crash you reported. Not that because you are not sage-on-gentoo you do not have to bother with testing the sphinx version. However we would appreciate if you did.



---

archive/issue_comments_211573.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f81c55d97be3e5eaf8e25443e87f853f3628b883\"><code>f81c55d</code></a></td><td><code>16396: fixing sage-doc-9999-r1 with Steve's help</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53bf86e6d78f000e728cf3d57efa2a62d1664412\"><code>53bf86e</code></a></td><td><code>16396: Depend on Sage since docs are now built</code></td></tr></table>\n",
    "created_at": "2014-05-28T15:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211573",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f81c55d97be3e5eaf8e25443e87f853f3628b883"><code>f81c55d</code></a></td><td><code>16396: fixing sage-doc-9999-r1 with Steve's help</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53bf86e6d78f000e728cf3d57efa2a62d1664412"><code>53bf86e</code></a></td><td><code>16396: Depend on Sage since docs are now built</code></td></tr></table>




---

archive/issue_comments_211574.json:
```json
{
    "body": "Changed commit from **[`50e24c2`](https://github.com/sagemath/sagetrac-mirror/commit/50e24c23c2d80d64bf50fc288f328f56fe022003)** to **[`53bf86e`](https://github.com/sagemath/sagetrac-mirror/commit/53bf86e6d78f000e728cf3d57efa2a62d1664412)**",
    "created_at": "2014-05-28T15:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211574",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`50e24c2`](https://github.com/sagemath/sagetrac-mirror/commit/50e24c23c2d80d64bf50fc288f328f56fe022003)** to **[`53bf86e`](https://github.com/sagemath/sagetrac-mirror/commit/53bf86e6d78f000e728cf3d57efa2a62d1664412)**



---

archive/issue_comments_211575.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Developers deny it's a bug.** to none",
    "created_at": "2014-05-28T16:02:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211575",
    "user": "https://github.com/rwst"
}
```

Changed upstream from **Reported upstream. Developers deny it's a bug.** to none



---

archive/issue_comments_211576.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI did a `sage -tp --long src/doc/` if you meant that. Except for pdf it's ready for review now. Not sure if we should wait for it.",
    "created_at": "2014-05-28T16:02:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211576",
    "user": "https://github.com/rwst"
}
```

<div id="comment:10" align="right">comment:10</div>

I did a `sage -tp --long src/doc/` if you meant that. Except for pdf it's ready for review now. Not sure if we should wait for it.



---

archive/issue_events_232088.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-28T16:02:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232088"
}
```



---

archive/issue_events_232089.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-28T16:02:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232089"
}
```



---

archive/issue_comments_211577.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nCan you provide a link to the new tarball?",
    "created_at": "2014-05-28T16:55:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211577",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:11" align="right">comment:11</div>

Can you provide a link to the new tarball?



---

archive/issue_comments_211578.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIn sage-on-gentoo pdf generation is officially broken with sphinx 1.2.2. Some math is generated in pure tex rather than latex (\"\\(...\\)\" rather than \"$...$\") and it breaks the pdf engine. We are investigating at this stage.",
    "created_at": "2014-05-28T23:48:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211578",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:12" align="right">comment:12</div>

In sage-on-gentoo pdf generation is officially broken with sphinx 1.2.2. Some math is generated in pure tex rather than latex ("\(...\)" rather than "$...$") and it breaks the pdf engine. We are investigating at this stage.



---

archive/issue_comments_211579.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n According to https://groups.google.com/forum/#!topic/sphinx-users/EC7_wNtE5To Sphinx-1.2 is 25% faster than 1.1.2, and this matters with doc-clean Sage builds.\n+\n+The tarball is at https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz#md5=3dc73ccaa8d0bfb2d62fb671b1f7e8a4\n``````\n",
    "created_at": "2014-05-29T07:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211579",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 According to https://groups.google.com/forum/#!topic/sphinx-users/EC7_wNtE5To Sphinx-1.2 is 25% faster than 1.1.2, and this matters with doc-clean Sage builds.
+
+The tarball is at https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz#md5=3dc73ccaa8d0bfb2d62fb671b1f7e8a4
``````




---

archive/issue_comments_211580.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nIf the pdf issue is an upstream issue, is there a ticket? Can you please add it to this ticket description and set the resp. field? Any other links with information?\n\nTarball link is added.",
    "created_at": "2014-05-29T07:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211580",
    "user": "https://github.com/rwst"
}
```

<div id="comment:13" align="right">comment:13</div>

If the pdf issue is an upstream issue, is there a ticket? Can you please add it to this ticket description and set the resp. field? Any other links with information?

Tarball link is added.



---

archive/issue_comments_211581.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI should say that I manually untarred, renamed the `Sphinx` directory to `sphinx` and re`bzip`ped. There must be a better way of doing this, as there is no difference in names to  the previous version.",
    "created_at": "2014-05-29T07:12:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211581",
    "user": "https://github.com/rwst"
}
```

<div id="comment:14" align="right">comment:14</div>

I should say that I manually untarred, renamed the `Sphinx` directory to `sphinx` and re`bzip`ped. There must be a better way of doing this, as there is no difference in names to  the previous version.



---

archive/issue_comments_211582.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@rwst](#comment%3A13):\n> If the pdf issue is an upstream issue, is there a ticket? Can you please add it to this ticket description and set the resp. field? Any other links with information?\n> \n> Tarball link is added.\n\nWe don't know yet if it is an upstream issue or something that sage's doc need to be adapted to. sage-on-gentoo is technically downstream from you not upstream.",
    "created_at": "2014-05-29T07:14:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211582",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@rwst](#comment%3A13):
> If the pdf issue is an upstream issue, is there a ticket? Can you please add it to this ticket description and set the resp. field? Any other links with information?
> 
> Tarball link is added.

We don't know yet if it is an upstream issue or something that sage's doc need to be adapted to. sage-on-gentoo is technically downstream from you not upstream.



---

archive/issue_comments_211583.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nFor what it's worth, I did several iterations of `make doc-clean` followed by `make`. Docbuilding did not speed up with the new version of Sphinx:\n\n- old version: 219.8 seconds, 217.3 seconds, 224.7 seconds\n- new version: 227.5 seconds, 218.3 seconds, 219.5 seconds\n\n(This was with 4 threads.) Given the problems with PDF building, maybe there isn't much hurry with this? Or are other people seeing a speed improvement with the new version?",
    "created_at": "2014-05-29T19:44:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211583",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:16" align="right">comment:16</div>

For what it's worth, I did several iterations of `make doc-clean` followed by `make`. Docbuilding did not speed up with the new version of Sphinx:

- old version: 219.8 seconds, 217.3 seconds, 224.7 seconds
- new version: 227.5 seconds, 218.3 seconds, 219.5 seconds

(This was with 4 threads.) Given the problems with PDF building, maybe there isn't much hurry with this? Or are other people seeing a speed improvement with the new version?



---

archive/issue_comments_211584.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2014-05-29T21:41:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211584",
    "user": "https://github.com/kiwifb"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_211585.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOK Steve has found the commit of sphinx that break things for pdflatex and I have left a comment of the corresponding issue [https://bitbucket.org/birkenfeld/sphinx/issue/929/parsed-literal-creates-bad-latex-math](https://bitbucket.org/birkenfeld/sphinx/issue/929/parsed-literal-creates-bad-latex-math).\nIf they don't pick up the comment in a couple of day I'll open an issue proper with them.",
    "created_at": "2014-05-29T21:41:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211585",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:17" align="right">comment:17</div>

OK Steve has found the commit of sphinx that break things for pdflatex and I have left a comment of the corresponding issue [https://bitbucket.org/birkenfeld/sphinx/issue/929/parsed-literal-creates-bad-latex-math](https://bitbucket.org/birkenfeld/sphinx/issue/929/parsed-literal-creates-bad-latex-math).
If they don't pick up the comment in a couple of day I'll open an issue proper with them.



---

archive/issue_comments_211586.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@jhpalmieri](#comment%3A16):\n> For what it's worth, I did several iterations of `make doc-clean` followed by `make`. Docbuilding did not speed up with the new version of Sphinx:\n> \n> - old version: 219.8 seconds, 217.3 seconds, 224.7 seconds\n> - new version: 227.5 seconds, 218.3 seconds, 219.5 seconds\n> \n> (This was with 4 threads.) Given the problems with PDF building, maybe there isn't much hurry with this? Or are other people seeing a speed improvement with the new version?\n\nNo, it confirms my impression. There is no hurry. I thought it might somehow fix the docbuild issue discussed in sage-releases but I cannot reproduce that at the moment, so I cannot even look if Sphinx-1.2 makes a difference there.",
    "created_at": "2014-05-30T05:47:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211586",
    "user": "https://github.com/rwst"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@jhpalmieri](#comment%3A16):
> For what it's worth, I did several iterations of `make doc-clean` followed by `make`. Docbuilding did not speed up with the new version of Sphinx:
> 
> - old version: 219.8 seconds, 217.3 seconds, 224.7 seconds
> - new version: 227.5 seconds, 218.3 seconds, 219.5 seconds
> 
> (This was with 4 threads.) Given the problems with PDF building, maybe there isn't much hurry with this? Or are other people seeing a speed improvement with the new version?

No, it confirms my impression. There is no hurry. I thought it might somehow fix the docbuild issue discussed in sage-releases but I cannot reproduce that at the moment, so I cannot even look if Sphinx-1.2 makes a difference there.



---

archive/issue_comments_211587.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nGiven the lack of answer to my first comment on the commit that breaks pdf generation I opened a brand new issue for the problem: [https://bitbucket.org/birkenfeld/sphinx/issue/1480/latex-math-output-is-broken-for-inline](https://bitbucket.org/birkenfeld/sphinx/issue/1480/latex-math-output-is-broken-for-inline)",
    "created_at": "2014-06-04T02:45:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211587",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:20" align="right">comment:20</div>

Given the lack of answer to my first comment on the commit that breaks pdf generation I opened a brand new issue for the problem: [https://bitbucket.org/birkenfeld/sphinx/issue/1480/latex-math-output-is-broken-for-inline](https://bitbucket.org/birkenfeld/sphinx/issue/1480/latex-math-output-is-broken-for-inline)



---

archive/issue_comments_211588.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nUpstream is quite unresponsive. If anyone has a direct line they can try that. I think it is time to patch on our side.",
    "created_at": "2014-06-10T21:48:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211588",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:21" align="right">comment:21</div>

Upstream is quite unresponsive. If anyone has a direct line they can try that. I think it is time to patch on our side.



---

archive/issue_comments_211589.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI believe I have a patch that's not to invasive, i.e. it basically reverts to the old behavior when using inline math and doesn't disrupt (hopefully) the need to use pure tex in a verbatim (alltt) environment. I'll post here since it will take me time to remember how to commit\n\n```\n--- sphinx/writers/latex.py.orig        2014-06-05 23:38:03.808669401 -0500\n+++ sphinx/writers/latex.py     2014-06-05 23:27:22.752376713 -0500\n@@ -264,6 +264,7 @@\n         self.next_figure_ids = set()\n         self.next_table_ids = set()\n         # flags\n+        self.verbatim = False\n         self.in_title = 0\n         self.in_production_list = 0\n         self.in_footnote = 0\n@@ -1319,6 +1320,7 @@\n                                    (self.curfilestack[-1], node.line))\n         if node.rawsource != node.astext():\n             # most probably a parsed-literal block -- don't highlight\n+            self.verbatim = True\n             self.body.append('\\\\begin{alltt}\\n')\n         else:\n             code = node.astext().rstrip('\\n')\n@@ -1351,6 +1353,7 @@\n             raise nodes.SkipNode\n     def depart_literal_block(self, node):\n         self.body.append('\\n\\\\end{alltt}\\n')\n+        self.verbatim = False\n     visit_doctest_block = visit_literal_block\n     depart_doctest_block = depart_literal_block\n \n--- sphinx/ext/mathbase.py.orig 2014-06-05 23:39:36.773293241 -0500\n+++ sphinx/ext/mathbase.py      2014-06-05 23:18:53.949020605 -0500\n@@ -88,7 +88,10 @@\n \n \n def latex_visit_math(self, node):\n-    self.body.append('\\\\(' + node['latex'] + '\\\\)')\n+    if self.verbatim:\n+        self.body.append('\\\\(' + node['latex'] + '\\\\)')\n+    else:\n+        self.body.append('$' + node['latex'] + '$')\n     raise nodes.SkipNode\n \n def latex_visit_displaymath(self, node):\n```",
    "created_at": "2014-06-10T22:36:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211589",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:22" align="right">comment:22</div>

I believe I have a patch that's not to invasive, i.e. it basically reverts to the old behavior when using inline math and doesn't disrupt (hopefully) the need to use pure tex in a verbatim (alltt) environment. I'll post here since it will take me time to remember how to commit

```
--- sphinx/writers/latex.py.orig        2014-06-05 23:38:03.808669401 -0500
+++ sphinx/writers/latex.py     2014-06-05 23:27:22.752376713 -0500
@@ -264,6 +264,7 @@
         self.next_figure_ids = set()
         self.next_table_ids = set()
         # flags
+        self.verbatim = False
         self.in_title = 0
         self.in_production_list = 0
         self.in_footnote = 0
@@ -1319,6 +1320,7 @@
                                    (self.curfilestack[-1], node.line))
         if node.rawsource != node.astext():
             # most probably a parsed-literal block -- don't highlight
+            self.verbatim = True
             self.body.append('\\begin{alltt}\n')
         else:
             code = node.astext().rstrip('\n')
@@ -1351,6 +1353,7 @@
             raise nodes.SkipNode
     def depart_literal_block(self, node):
         self.body.append('\n\\end{alltt}\n')
+        self.verbatim = False
     visit_doctest_block = visit_literal_block
     depart_doctest_block = depart_literal_block
 
--- sphinx/ext/mathbase.py.orig 2014-06-05 23:39:36.773293241 -0500
+++ sphinx/ext/mathbase.py      2014-06-05 23:18:53.949020605 -0500
@@ -88,7 +88,10 @@
 
 
 def latex_visit_math(self, node):
-    self.body.append('\\(' + node['latex'] + '\\)')
+    if self.verbatim:
+        self.body.append('\\(' + node['latex'] + '\\)')
+    else:
+        self.body.append('$' + node['latex'] + '$')
     raise nodes.SkipNode
 
 def latex_visit_displaymath(self, node):
```



---

archive/issue_comments_211590.json:
```json
{
    "body": "Changed commit from **[`53bf86e`](https://github.com/sagemath/sagetrac-mirror/commit/53bf86e6d78f000e728cf3d57efa2a62d1664412)** to **[`761be30`](https://github.com/sagemath/sagetrac-mirror/commit/761be309a895a85c91ec24af8acc69eca0126faf)**",
    "created_at": "2014-07-28T13:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211590",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`53bf86e`](https://github.com/sagemath/sagetrac-mirror/commit/53bf86e6d78f000e728cf3d57efa2a62d1664412)** to **[`761be30`](https://github.com/sagemath/sagetrac-mirror/commit/761be309a895a85c91ec24af8acc69eca0126faf)**



---

archive/issue_comments_211591.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86ba11c9988892b5740f686d12045f01c21e2a07\"><code>86ba11c</code></a></td><td><code>Merge branch 'develop' into t/16396/upgrade_sphinx_to_1_2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/761be309a895a85c91ec24af8acc69eca0126faf\"><code>761be30</code></a></td><td><code>16396: latex math output is broken for inline math in chapters</code></td></tr></table>\n",
    "created_at": "2014-07-28T13:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211591",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86ba11c9988892b5740f686d12045f01c21e2a07"><code>86ba11c</code></a></td><td><code>Merge branch 'develop' into t/16396/upgrade_sphinx_to_1_2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/761be309a895a85c91ec24af8acc69eca0126faf"><code>761be30</code></a></td><td><code>16396: latex math output is broken for inline math in chapters</code></td></tr></table>




---

archive/issue_comments_211592.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@strogdon](#comment%3A22):\n> I believe I have a patch that's not to invasive, i.e. it basically reverts to the old behavior when using inline math and doesn't disrupt (hopefully) the need to use pure tex in a verbatim (alltt) environment. I'll post here since it will take me time to remember how to commit\n\nThanks, I have added your patch with you as author.",
    "created_at": "2014-07-28T13:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211592",
    "user": "https://github.com/rwst"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@strogdon](#comment%3A22):
> I believe I have a patch that's not to invasive, i.e. it basically reverts to the old behavior when using inline math and doesn't disrupt (hopefully) the need to use pure tex in a verbatim (alltt) environment. I'll post here since it will take me time to remember how to commit

Thanks, I have added your patch with you as author.



---

archive/issue_events_232090.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232090"
}
```



---

archive/issue_events_232091.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232091"
}
```



---

archive/issue_comments_211593.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nAnything left to do with this ticket?",
    "created_at": "2014-08-11T22:29:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211593",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:26" align="right">comment:26</div>

Anything left to do with this ticket?



---

archive/issue_comments_211594.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI wanted to give it a try, but it failed to download the tarball from sagemath.org ; when I took the tarball from the link in the ticket description the sums didn't match.",
    "created_at": "2014-08-22T17:35:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211594",
    "user": "https://github.com/SnarkBoojum"
}
```

<div id="comment:28" align="right">comment:28</div>

I wanted to give it a try, but it failed to download the tarball from sagemath.org ; when I took the tarball from the link in the ticket description the sums didn't match.



---

archive/issue_comments_211595.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nThere are several wrong things. checksums.ini looks for \n\n```\ntarball=sphinx-VERSION.tar.bz2\n```\nthe linked tarball is Sphinx-1.2.2.tar.gz so of course the checksum won't match. We need to recommit that with \n\n```\ntarball=Sphinx-VERSION.tar.gz\n```\nand new checksum to be sure. Once checksum.ini is corrected for the right filename run\n\n```\n./sage -sh sage-fix-pkg-checksums\n```\nAs detailed in [http://sagemath.org/doc/developer/packaging.html#checksums](http://sagemath.org/doc/developer/packaging.html#checksums).",
    "created_at": "2014-08-24T02:44:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211595",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:29" align="right">comment:29</div>

There are several wrong things. checksums.ini looks for 

```
tarball=sphinx-VERSION.tar.bz2
```
the linked tarball is Sphinx-1.2.2.tar.gz so of course the checksum won't match. We need to recommit that with 

```
tarball=Sphinx-VERSION.tar.gz
```
and new checksum to be sure. Once checksum.ini is corrected for the right filename run

```
./sage -sh sage-fix-pkg-checksums
```
As detailed in [http://sagemath.org/doc/developer/packaging.html#checksums](http://sagemath.org/doc/developer/packaging.html#checksums).



---

archive/issue_comments_211596.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nChanging the filename doesn't modify the checksum as far as I know, so I just renamed the tarball. The fact that it was wrong was enough to see the ticket wasn't ready for review.",
    "created_at": "2014-08-24T06:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211596",
    "user": "https://github.com/SnarkBoojum"
}
```

<div id="comment:30" align="right">comment:30</div>

Changing the filename doesn't modify the checksum as far as I know, so I just renamed the tarball. The fact that it was wrong was enough to see the ticket wasn't ready for review.



---

archive/issue_events_232092.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-08-24T07:20:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232092"
}
```



---

archive/issue_events_232093.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-08-24T07:20:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232093"
}
```



---

archive/issue_comments_211597.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@SnarkBoojum](#comment%3A30):\n> Changing the filename doesn't modify the checksum as far as I know, so I just renamed the tarball. The fact that it was wrong was enough to see the ticket wasn't ready for review.\n\nIt is indeed not ready to review. Switching to French Julien. \n\nIl est vrai que changer le nom de fichier ne suffit pas. Mon commentaire a deux instructions:\n* changer le nom\n* executer le script \"./sage -sh sage-fix-pkg-checksums\" qui va recalculer les checksums d'apres les fichiers que tu as deja telecharge.\n\nRenommer un tar.gz en tar.bz2 n'est pas une bonne idee, decompresser et recompresser ne donneras pas la meme checksum, si la version de bzip2 n'est pas completement identique le bzip2 serat legerement different.",
    "created_at": "2014-08-24T07:20:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211597",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@SnarkBoojum](#comment%3A30):
> Changing the filename doesn't modify the checksum as far as I know, so I just renamed the tarball. The fact that it was wrong was enough to see the ticket wasn't ready for review.

It is indeed not ready to review. Switching to French Julien. 

Il est vrai que changer le nom de fichier ne suffit pas. Mon commentaire a deux instructions:
* changer le nom
* executer le script "./sage -sh sage-fix-pkg-checksums" qui va recalculer les checksums d'apres les fichiers que tu as deja telecharge.

Renommer un tar.gz en tar.bz2 n'est pas une bonne idee, decompresser et recompresser ne donneras pas la meme checksum, si la version de bzip2 n'est pas completement identique le bzip2 serat legerement different.



---

archive/issue_comments_211598.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nOoooooooh, I hadn't noticed the original was a .gz and not a .bz2! Indeed, no wonder that didn't work... I had only seen the Sphinx vs sphinx.\n\nI'll probably give it a try later today, to see exactly how much work is involved in fixing that ticket. I'm quite interested in getting docutils upgraded, and this is a prerequisite!",
    "created_at": "2014-08-24T07:50:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211598",
    "user": "https://github.com/SnarkBoojum"
}
```

<div id="comment:32" align="right">comment:32</div>

Ooooooooh, I hadn't noticed the original was a .gz and not a .bz2! Indeed, no wonder that didn't work... I had only seen the Sphinx vs sphinx.

I'll probably give it a try later today, to see exactly how much work is involved in fixing that ticket. I'm quite interested in getting docutils upgraded, and this is a prerequisite!



---

archive/issue_comments_211599.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nOk, doing things less stupidly does make things better (who would have thought?! ;-P ) : it builds and there are three failing doctests, which are trivial to fix: those doctests expect a newline before a div, and there are none now:\n\n```\nsage -t --long local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg/sagenb/misc/sphinxify.py\n**********************************************************************\nFile \"local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg/sagenb/misc/sphinxify.py\", line 69, in sagenb.misc.sphinxify.sphinxify\nFailed example:\n    sphinxify('A test')\nExpected:\n    '\\n<div class=\"docstring\">\\n    \\n  <p>A test</p>\\n\\n\\n</div>'\nGot:\n    '<div class=\"docstring\">\\n    \\n  <p>A test</p>\\n\\n\\n</div>'\n**********************************************************************\nFile \"local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg/sagenb/misc/sphinxify.py\", line 71, in sagenb.misc.sphinxify.sphinxify\nFailed example:\n    sphinxify('**Testing**\\n`monospace`')\nExpected:\n    '\\n<div class=\"docstring\"...<strong>Testing</strong>\\n<span class=\"math\"...</p>\\n\\n\\n</div>'\nGot:\n    '<div class=\"docstring\">\\n    \\n  <p><strong>Testing</strong>\\n<span class=\"math\">monospace</span></p>\\n\\n\\n</div>'\n**********************************************************************\nFile \"local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg/sagenb/misc/sphinxify.py\", line 73, in sagenb.misc.sphinxify.sphinxify\nFailed example:\n    sphinxify('`x=y`')\nExpected:\n    '\\n<div class=\"docstring\">\\n    \\n  <p><span class=\"math\">x=y</span></p>\\n\\n\\n</div>'\nGot:\n    '<div class=\"docstring\">\\n    \\n  <p><span class=\"math\">x=y</span></p>\\n\\n\\n</div>'\n**********************************************************************\n1 item had failures:\n   3 of  10 in sagenb.misc.sphinxify.sphinxify\n    [14 tests, 3 failures, 0.44 s]\n```\n\nI also had a look at the branch to see how the patches looked like : there is a strange chunk on src/doc/common/multidocs.py with a test on whether the sphinx version is less or above 1.2... which makes no sense if we're upgrading to 1.2.2!\n\nSo I would say : rebase the branch, fix the tarball issues (name, checksum), remove the chunk mentioned above, fix the doctests and it will be good to review and close!\n\nPS: in fact, I may give git-trac a try and push a patch fixing the doctests this evening... if I manage to.",
    "created_at": "2014-08-24T18:17:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211599",
    "user": "https://github.com/SnarkBoojum"
}
```

<div id="comment:33" align="right">comment:33</div>

Ok, doing things less stupidly does make things better (who would have thought?! ;-P ) : it builds and there are three failing doctests, which are trivial to fix: those doctests expect a newline before a div, and there are none now:

```
sage -t --long local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg/sagenb/misc/sphinxify.py
**********************************************************************
File "local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg/sagenb/misc/sphinxify.py", line 69, in sagenb.misc.sphinxify.sphinxify
Failed example:
    sphinxify('A test')
Expected:
    '\n<div class="docstring">\n    \n  <p>A test</p>\n\n\n</div>'
Got:
    '<div class="docstring">\n    \n  <p>A test</p>\n\n\n</div>'
**********************************************************************
File "local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg/sagenb/misc/sphinxify.py", line 71, in sagenb.misc.sphinxify.sphinxify
Failed example:
    sphinxify('**Testing**\n`monospace`')
Expected:
    '\n<div class="docstring"...<strong>Testing</strong>\n<span class="math"...</p>\n\n\n</div>'
Got:
    '<div class="docstring">\n    \n  <p><strong>Testing</strong>\n<span class="math">monospace</span></p>\n\n\n</div>'
**********************************************************************
File "local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg/sagenb/misc/sphinxify.py", line 73, in sagenb.misc.sphinxify.sphinxify
Failed example:
    sphinxify('`x=y`')
Expected:
    '\n<div class="docstring">\n    \n  <p><span class="math">x=y</span></p>\n\n\n</div>'
Got:
    '<div class="docstring">\n    \n  <p><span class="math">x=y</span></p>\n\n\n</div>'
**********************************************************************
1 item had failures:
   3 of  10 in sagenb.misc.sphinxify.sphinxify
    [14 tests, 3 failures, 0.44 s]
```

I also had a look at the branch to see how the patches looked like : there is a strange chunk on src/doc/common/multidocs.py with a test on whether the sphinx version is less or above 1.2... which makes no sense if we're upgrading to 1.2.2!

So I would say : rebase the branch, fix the tarball issues (name, checksum), remove the chunk mentioned above, fix the doctests and it will be good to review and close!

PS: in fact, I may give git-trac a try and push a patch fixing the doctests this evening... if I manage to.



---

archive/issue_comments_211600.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nHmmmmmm... it's in sagenb... how does one proceed in such a case? Ask sagenb to make a new release with patched doctests, then push a ticket to upgrade to that, making this one depend on that new ticket, etc?",
    "created_at": "2014-08-24T18:38:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211600",
    "user": "https://github.com/SnarkBoojum"
}
```

<div id="comment:34" align="right">comment:34</div>

Hmmmmmm... it's in sagenb... how does one proceed in such a case? Ask sagenb to make a new release with patched doctests, then push a ticket to upgrade to that, making this one depend on that new ticket, etc?



---

archive/issue_comments_211601.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@SnarkBoojum](#comment%3A33):\n> Ok, doing things less stupidly does make things better (who would have thought?! ;-P ) > I also had a look at the branch to see how the patches looked like : there is a strange chunk on src/doc/common/multidocs.py with a test on whether the sphinx version is less or above 1.2... which makes no sense if we're upgrading to 1.2.2!\n\nSee [#16396 comment:8](https://github.com/sagemath/sage/issues/16396#comment:8) but like I said we are not strongly attached to it.\n\nFor sagenb you can open a ticket on their github [https://github.com/sagemath/sagenb](https://github.com/sagemath/sagenb) and yes we'll need a new release.",
    "created_at": "2014-08-25T22:52:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211601",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@SnarkBoojum](#comment%3A33):
> Ok, doing things less stupidly does make things better (who would have thought?! ;-P ) > I also had a look at the branch to see how the patches looked like : there is a strange chunk on src/doc/common/multidocs.py with a test on whether the sphinx version is less or above 1.2... which makes no sense if we're upgrading to 1.2.2!

See [#16396 comment:8](https://github.com/sagemath/sage/issues/16396#comment:8) but like I said we are not strongly attached to it.

For sagenb you can open a ticket on their github [https://github.com/sagemath/sagenb](https://github.com/sagemath/sagenb) and yes we'll need a new release.



---

archive/issue_comments_211602.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nDo you want to open an issue for sagenb and make a pull request or would you prefer I do it Julien?",
    "created_at": "2014-08-29T10:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211602",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:36" align="right">comment:36</div>

Do you want to open an issue for sagenb and make a pull request or would you prefer I do it Julien?



---

archive/issue_comments_211603.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nFirst eclib and its detection of NTL, now sagenb and its sphinx doctests... you're late to the [party](https://github.com/sagemath/sagenb/pull/215) again! ;-P",
    "created_at": "2014-08-29T18:43:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211603",
    "user": "https://github.com/SnarkBoojum"
}
```

<div id="comment:37" align="right">comment:37</div>

First eclib and its detection of NTL, now sagenb and its sphinx doctests... you're late to the [party](https://github.com/sagemath/sagenb/pull/215) again! ;-P



---

archive/issue_comments_211604.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@SnarkBoojum](#comment%3A37):\n> First eclib and its detection of NTL, now sagenb and its sphinx doctests... you're late to the [party](https://github.com/sagemath/sagenb/pull/215) again! ;-P\n\nYes you work while I sleep. I cannot really complain about that ;)",
    "created_at": "2014-08-30T10:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211604",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@SnarkBoojum](#comment%3A37):
> First eclib and its detection of NTL, now sagenb and its sphinx doctests... you're late to the [party](https://github.com/sagemath/sagenb/pull/215) again! ;-P

Yes you work while I sleep. I cannot really complain about that ;)



---

archive/issue_comments_211605.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nSomething is wrong with your patches. First, `checksums.ini` contains the patch:\n\n```diff\ndiff --git a/build/pkgs/sphinx/checksums.ini b/build/pkgs/sphinx/checksums.ini\nindex a9fda75..5befdc5 100644\n--- a/build/pkgs/sphinx/checksums.ini\n+++ b/build/pkgs/sphinx/checksums.ini\n@@ -1,4 +1,4 @@\n tarball=sphinx-VERSION.tar.bz2\n-sha1=2a6f238185a58cbb5c597c985d715ab9653e0fbe\n-md5=9ea0a6f218779ddbe3222c5ef8c0f6e6\n-cksum=1040528499\n+sha1=deb2a9308d50a508ed9c26b02373a3965c2a5500\n+md5=a81ab4ca80eec8fa1cc72cb5858f7f5a\n+cksum=2539330004\n```\nwhich neither matches the filename of the actual download, the extension, nor the md5sum of the download when converted to the correct extension using\n\n```\ngunzip -c Sphinx-1.2.2.tar.gz | bzip2 > sphinx-1.2.2.tar.bz2\n```",
    "created_at": "2014-09-07T12:49:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211605",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:39" align="right">comment:39</div>

Something is wrong with your patches. First, `checksums.ini` contains the patch:

```diff
diff --git a/build/pkgs/sphinx/checksums.ini b/build/pkgs/sphinx/checksums.ini
index a9fda75..5befdc5 100644
--- a/build/pkgs/sphinx/checksums.ini
+++ b/build/pkgs/sphinx/checksums.ini
@@ -1,4 +1,4 @@
 tarball=sphinx-VERSION.tar.bz2
-sha1=2a6f238185a58cbb5c597c985d715ab9653e0fbe
-md5=9ea0a6f218779ddbe3222c5ef8c0f6e6
-cksum=1040528499
+sha1=deb2a9308d50a508ed9c26b02373a3965c2a5500
+md5=a81ab4ca80eec8fa1cc72cb5858f7f5a
+cksum=2539330004
```
which neither matches the filename of the actual download, the extension, nor the md5sum of the download when converted to the correct extension using

```
gunzip -c Sphinx-1.2.2.tar.gz | bzip2 > sphinx-1.2.2.tar.bz2
```



---

archive/issue_comments_211606.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,16 @@\n According to https://groups.google.com/forum/#!topic/sphinx-users/EC7_wNtE5To Sphinx-1.2 is 25% faster than 1.1.2, and this matters with doc-clean Sage builds.\n \n The tarball is at https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz#md5=3dc73ccaa8d0bfb2d62fb671b1f7e8a4\n+\n+Commands to proceed with the installation and testing.\n+\n+```\n+$ git checkout -b develop ticket/16396\n+$ git trac pull 16396\n+$ cd SAGE_ROOT/upstream\n+$ wget -c 'https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz#md5=3dc73ccaa8d0bfb2d62fb671b1f7e8a4'\n+$ gunzip -c Sphinx-1.2.2.tar.gz | bzip2 > sphinx-1.2.2.tar.bz2\n+$ ../sage -sh -c sage-fix-pkg-checksums\n+$ ../sage -i sphinx\n+$ ../sage -b\n+```\n``````\n",
    "created_at": "2014-09-07T13:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211606",
    "user": "https://github.com/ppurka"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,16 @@
 According to https://groups.google.com/forum/#!topic/sphinx-users/EC7_wNtE5To Sphinx-1.2 is 25% faster than 1.1.2, and this matters with doc-clean Sage builds.
 
 The tarball is at https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz#md5=3dc73ccaa8d0bfb2d62fb671b1f7e8a4
+
+Commands to proceed with the installation and testing.
+
+```
+$ git checkout -b develop ticket/16396
+$ git trac pull 16396
+$ cd SAGE_ROOT/upstream
+$ wget -c 'https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz#md5=3dc73ccaa8d0bfb2d62fb671b1f7e8a4'
+$ gunzip -c Sphinx-1.2.2.tar.gz | bzip2 > sphinx-1.2.2.tar.bz2
+$ ../sage -sh -c sage-fix-pkg-checksums
+$ ../sage -i sphinx
+$ ../sage -b
+```
``````




---

archive/issue_comments_211607.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI checked that when the sagenb upgrade #16911 will be done, this ticket will go well.",
    "created_at": "2014-09-08T14:55:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211607",
    "user": "https://github.com/SnarkBoojum"
}
```

<div id="comment:41" align="right">comment:41</div>

I checked that when the sagenb upgrade #16911 will be done, this ticket will go well.



---

archive/issue_comments_211608.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nWhat's the status?",
    "created_at": "2014-10-09T07:55:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211608",
    "user": "https://github.com/SnarkBoojum"
}
```

<div id="comment:42" align="right">comment:42</div>

What's the status?



---

archive/issue_comments_211609.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nAre we getting a new sagenb in that can take this and a new docutils?",
    "created_at": "2014-10-09T08:13:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211609",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:43" align="right">comment:43</div>

Are we getting a new sagenb in that can take this and a new docutils?



---

archive/issue_comments_211610.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nFrom what I know, we need a new sagenb(#16911) so we can get a new sphinx(here) so we can get a new docutils(#16733) (in that order). And Volker has added a reverse dep from the new sphinx to the new sagenb to the mix, see #16911.",
    "created_at": "2014-10-09T08:32:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211610",
    "user": "https://github.com/SnarkBoojum"
}
```

<div id="comment:44" align="right">comment:44</div>

From what I know, we need a new sagenb(#16911) so we can get a new sphinx(here) so we can get a new docutils(#16733) (in that order). And Volker has added a reverse dep from the new sphinx to the new sagenb to the mix, see #16911.



---

archive/issue_comments_211611.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nOK so #16911 is positively reviewed, it looks like we need to check everything here, ppurka said the checksum is wrong so it has to be checked and given a last test. After we put on a positive review and hope that it get in the next beta/rc. Can you do the work on the checksum I have a couple of other issues I am dealing with.",
    "created_at": "2014-10-09T08:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211611",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:45" align="right">comment:45</div>

OK so #16911 is positively reviewed, it looks like we need to check everything here, ppurka said the checksum is wrong so it has to be checked and given a last test. After we put on a positive review and hope that it get in the next beta/rc. Can you do the work on the checksum I have a couple of other issues I am dealing with.



---

archive/issue_comments_211612.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nOk, I started from ppurka's update_sagenb branch, merged the t/16396/upgrade_sphinx_to_1_2 branch, got the upstream tarball and fixed the checksums as in the ticket description, reinstalled sagenb, reinstalled sphinx, rebuilt sage, then \"make ptestlong\".\n\nAll tests passed.",
    "created_at": "2014-10-15T07:11:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211612",
    "user": "https://github.com/SnarkBoojum"
}
```

<div id="comment:46" align="right">comment:46</div>

Ok, I started from ppurka's update_sagenb branch, merged the t/16396/upgrade_sphinx_to_1_2 branch, got the upstream tarball and fixed the checksums as in the ticket description, reinstalled sagenb, reinstalled sphinx, rebuilt sage, then "make ptestlong".

All tests passed.



---

archive/issue_comments_211613.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nYou also need to submit the updated checksums to the ticket. Then,  you can set this to needs review so that @kiwifb can confirm the changes.",
    "created_at": "2014-10-15T10:55:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211613",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:47" align="right">comment:47</div>

You also need to submit the updated checksums to the ticket. Then,  you can set this to needs review so that @kiwifb can confirm the changes.



---

archive/issue_comments_211614.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nI'm actually reviewing the ticket...",
    "created_at": "2014-10-15T12:59:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211614",
    "user": "https://github.com/SnarkBoojum"
}
```

<div id="comment:48" align="right">comment:48</div>

I'm actually reviewing the ticket...



---

archive/issue_comments_211615.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nIf there isn't too much left to do here other than this checksum/tarball issue, it would be wonderful to get this and #16911 in the next beta.",
    "created_at": "2014-10-17T14:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211615",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:49" align="right">comment:49</div>

If there isn't too much left to do here other than this checksum/tarball issue, it would be wonderful to get this and #16911 in the next beta.



---

archive/issue_comments_211616.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nI am working on updating the branch (package name, checksums and patch refresh to eliminate fuzz). I'll also update the description once I am finished. It will then be up to Julien to push the button.\nI am not doing anything new, just clean up.",
    "created_at": "2014-10-19T09:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211616",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:50" align="right">comment:50</div>

I am working on updating the branch (package name, checksums and patch refresh to eliminate fuzz). I'll also update the description once I am finished. It will then be up to Julien to push the button.
I am not doing anything new, just clean up.



---

archive/issue_comments_211617.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nHere it comes....\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/428dcc685e35ffee200792a307167084e6afdbf1\"><code>428dcc6</code></a></td><td><code>Correct checksum, refresh patch to eliminate the fuzz.</code></td></tr></table>\n",
    "created_at": "2014-10-19T10:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211617",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:51" align="right">comment:51</div>

Here it comes....

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/428dcc685e35ffee200792a307167084e6afdbf1"><code>428dcc6</code></a></td><td><code>Correct checksum, refresh patch to eliminate the fuzz.</code></td></tr></table>




---

archive/issue_events_232094.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-10-19T10:45:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232094"
}
```



---

archive/issue_events_232095.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-10-19T10:45:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232095"
}
```



---

archive/issue_comments_211618.json:
```json
{
    "body": "Changed branch from **[u/rws/upgrade_sphinx_to_1_2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_sphinx_to_1_2)** to **[u/fbissey/sphinx-1.2.2](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sphinx-1.2.2)**",
    "created_at": "2014-10-19T10:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211618",
    "user": "https://github.com/kiwifb"
}
```

Changed branch from **[u/rws/upgrade_sphinx_to_1_2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/upgrade_sphinx_to_1_2)** to **[u/fbissey/sphinx-1.2.2](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sphinx-1.2.2)**



---

archive/issue_comments_211619.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,16 +1,4 @@\n According to https://groups.google.com/forum/#!topic/sphinx-users/EC7_wNtE5To Sphinx-1.2 is 25% faster than 1.1.2, and this matters with doc-clean Sage builds.\n \n-The tarball is at https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz#md5=3dc73ccaa8d0bfb2d62fb671b1f7e8a4\n-\n-Commands to proceed with the installation and testing.\n-\n-```\n-$ git checkout -b develop ticket/16396\n-$ git trac pull 16396\n-$ cd SAGE_ROOT/upstream\n-$ wget -c 'https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz#md5=3dc73ccaa8d0bfb2d62fb671b1f7e8a4'\n-$ gunzip -c Sphinx-1.2.2.tar.gz | bzip2 > sphinx-1.2.2.tar.bz2\n-$ ../sage -sh -c sage-fix-pkg-checksums\n-$ ../sage -i sphinx\n-$ ../sage -b\n-```\n+Source:\n+ [https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz](https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz)\n``````\n",
    "created_at": "2014-10-19T10:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211619",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,16 +1,4 @@
 According to https://groups.google.com/forum/#!topic/sphinx-users/EC7_wNtE5To Sphinx-1.2 is 25% faster than 1.1.2, and this matters with doc-clean Sage builds.
 
-The tarball is at https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz#md5=3dc73ccaa8d0bfb2d62fb671b1f7e8a4
-
-Commands to proceed with the installation and testing.
-
-```
-$ git checkout -b develop ticket/16396
-$ git trac pull 16396
-$ cd SAGE_ROOT/upstream
-$ wget -c 'https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz#md5=3dc73ccaa8d0bfb2d62fb671b1f7e8a4'
-$ gunzip -c Sphinx-1.2.2.tar.gz | bzip2 > sphinx-1.2.2.tar.bz2
-$ ../sage -sh -c sage-fix-pkg-checksums
-$ ../sage -i sphinx
-$ ../sage -b
-```
+Source:
+ [https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz](https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz)
``````




---

archive/issue_comments_211620.json:
```json
{
    "body": "Changed commit from **[`761be30`](https://github.com/sagemath/sagetrac-mirror/commit/761be309a895a85c91ec24af8acc69eca0126faf)** to **[`428dcc6`](https://github.com/sagemath/sagetrac-mirror/commit/428dcc685e35ffee200792a307167084e6afdbf1)**",
    "created_at": "2014-10-19T10:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211620",
    "user": "https://github.com/kiwifb"
}
```

Changed commit from **[`761be30`](https://github.com/sagemath/sagetrac-mirror/commit/761be309a895a85c91ec24af8acc69eca0126faf)** to **[`428dcc6`](https://github.com/sagemath/sagetrac-mirror/commit/428dcc685e35ffee200792a307167084e6afdbf1)**



---

archive/issue_comments_211621.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey, Julien Puydt**",
    "created_at": "2014-10-19T10:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211621",
    "user": "https://github.com/kiwifb"
}
```

Reviewer: **Fran√ßois Bissey, Julien Puydt**



---

archive/issue_comments_211622.json:
```json
{
    "body": "Author: **Ralph Stephan**",
    "created_at": "2014-10-19T10:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211622",
    "user": "https://github.com/kiwifb"
}
```

Author: **Ralph Stephan**



---

archive/issue_comments_211623.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nIs the change from `sphinx` to `Sphinx` going to cause any upgrading troubles?",
    "created_at": "2014-10-21T17:13:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211623",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:52" align="right">comment:52</div>

Is the change from `sphinx` to `Sphinx` going to cause any upgrading troubles?



---

archive/issue_comments_211624.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@kcrisman](#comment%3A52):\n> Is the change from `sphinx` to `Sphinx` going to cause any upgrading troubles?\n\nI've tried this and I didn't see an issue. But Fran\u00e7ois may see something.",
    "created_at": "2014-10-21T17:39:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211624",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@kcrisman](#comment%3A52):
> Is the change from `sphinx` to `Sphinx` going to cause any upgrading troubles?

I've tried this and I didn't see an issue. But Fran√ßois may see something.



---

archive/issue_comments_211625.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nWe've been there before with another package. The answer is not anymore. Since Julien is not around and Steve tried it I am pushing the button to get on with this. We waited long enough.",
    "created_at": "2014-10-21T19:08:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211625",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:54" align="right">comment:54</div>

We've been there before with another package. The answer is not anymore. Since Julien is not around and Steve tried it I am pushing the button to get on with this. We waited long enough.



---

archive/issue_events_232096.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-10-21T19:08:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232096"
}
```



---

archive/issue_events_232097.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-10-21T19:08:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232097"
}
```



---

archive/issue_comments_211626.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nAnd now to get the sphinx patches out of #16733 so hopefully #16736 can be resolved.",
    "created_at": "2014-10-21T19:37:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211626",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:55" align="right">comment:55</div>

And now to get the sphinx patches out of #16733 so hopefully #16736 can be resolved.



---

archive/issue_comments_211627.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nBreaks pdf docs for me with\n\n```\n! LATEX ERROR: BAD MATH ENVIRONMENT DELIMITER.\n\nSEE THE LATEX MANUAL OR LATEX COMPANION FOR EXPLANATION.\nType  H <return>  for immediate help.\n ...                                              \n                                                  \nl.222 ... index subgroups of \\({\\rm SL}_2(\\ZZ)\\))}\n                                                  \n? \n! Emergency stop.\n ...                                              \n                                                  \nl.222 ... index subgroups of \\({\\rm SL}_2(\\ZZ)\\))}\n                                                  \n!  ==> Fatal error occurred, no output PDF file produced!\nTranscript written on arithgroup.log.\nMakefile:55: recipe for target 'arithgroup.pdf' failed\nmake[1]: *** [arithgroup.pdf] Error 1\n```\nI think the tex code has been around for a while, but the new sphinx doesn't allow these math delimiters. I would just change them to the usual dollar sign or backtick.",
    "created_at": "2014-10-22T23:02:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211627",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:56" align="right">comment:56</div>

Breaks pdf docs for me with

```
! LATEX ERROR: BAD MATH ENVIRONMENT DELIMITER.

SEE THE LATEX MANUAL OR LATEX COMPANION FOR EXPLANATION.
Type  H <return>  for immediate help.
 ...                                              
                                                  
l.222 ... index subgroups of \({\rm SL}_2(\ZZ)\))}
                                                  
? 
! Emergency stop.
 ...                                              
                                                  
l.222 ... index subgroups of \({\rm SL}_2(\ZZ)\))}
                                                  
!  ==> Fatal error occurred, no output PDF file produced!
Transcript written on arithgroup.log.
Makefile:55: recipe for target 'arithgroup.pdf' failed
make[1]: *** [arithgroup.pdf] Error 1
```
I think the tex code has been around for a while, but the new sphinx doesn't allow these math delimiters. I would just change them to the usual dollar sign or backtick.



---

archive/issue_events_232098.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-22T23:02:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232098"
}
```



---

archive/issue_events_232099.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-22T23:02:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232099"
}
```



---

archive/issue_comments_211628.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nThis should have been taken care of with this commit:\n\nhttps://github.com/sagemath/sagetrac-mirror/commit/761be309a895a85c91ec24af8acc69eca0126faf\n\nHowever the name of the patch file, `inline-latex` doesn't have a `.patch` extension and thus it is never applied.",
    "created_at": "2014-10-23T00:15:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211628",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:57" align="right">comment:57</div>

This should have been taken care of with this commit:

https://github.com/sagemath/sagetrac-mirror/commit/761be309a895a85c91ec24af8acc69eca0126faf

However the name of the patch file, `inline-latex` doesn't have a `.patch` extension and thus it is never applied.



---

archive/issue_comments_211629.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nDarn I missed that. I will take care of this shortly.",
    "created_at": "2014-10-23T00:19:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211629",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:58" align="right">comment:58</div>

Darn I missed that. I will take care of this shortly.



---

archive/issue_comments_211630.json:
```json
{
    "body": "Changed commit from **[`428dcc6`](https://github.com/sagemath/sagetrac-mirror/commit/428dcc685e35ffee200792a307167084e6afdbf1)** to **[`de9630d`](https://github.com/sagemath/sagetrac-mirror/commit/de9630d5106c3336b4c8207c04a0a23f91f4db12)**",
    "created_at": "2014-10-23T00:25:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211630",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`428dcc6`](https://github.com/sagemath/sagetrac-mirror/commit/428dcc685e35ffee200792a307167084e6afdbf1)** to **[`de9630d`](https://github.com/sagemath/sagetrac-mirror/commit/de9630d5106c3336b4c8207c04a0a23f91f4db12)**



---

archive/issue_comments_211631.json:
```json
{
    "body": "<div id=\"comment:59\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de9630d5106c3336b4c8207c04a0a23f91f4db12\"><code>de9630d</code></a></td><td><code>Get the right extension for the inline-latex patch</code></td></tr></table>\n",
    "created_at": "2014-10-23T00:25:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211631",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:59"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de9630d5106c3336b4c8207c04a0a23f91f4db12"><code>de9630d</code></a></td><td><code>Get the right extension for the inline-latex patch</code></td></tr></table>




---

archive/issue_comments_211632.json:
```json
{
    "body": "<div id=\"comment:60\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de9630d5106c3336b4c8207c04a0a23f91f4db12\"><code>de9630d</code></a></td><td><code>Get the right extension for the inline-latex patch</code></td></tr></table>\n",
    "created_at": "2014-10-23T00:26:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211632",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:60"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de9630d5106c3336b4c8207c04a0a23f91f4db12"><code>de9630d</code></a></td><td><code>Get the right extension for the inline-latex patch</code></td></tr></table>




---

archive/issue_comments_211633.json:
```json
{
    "body": "Changed reviewer from **Fran\u00e7ois Bissey, Julien Puydt** to **Fran\u00e7ois Bissey, Julien Puydt, John Palmieri**",
    "created_at": "2014-10-23T00:26:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211633",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Fran√ßois Bissey, Julien Puydt** to **Fran√ßois Bissey, Julien Puydt, John Palmieri**



---

archive/issue_comments_211634.json:
```json
{
    "body": "Changed author from **Ralph Stephan** to **Ralph Stephan, Steven Trogdon**",
    "created_at": "2014-10-23T00:26:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211634",
    "user": "https://github.com/kcrisman"
}
```

Changed author from **Ralph Stephan** to **Ralph Stephan, Steven Trogdon**



---

archive/issue_events_232100.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-10-23T00:26:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232100"
}
```



---

archive/issue_events_232101.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2014-10-23T00:26:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232101"
}
```



---

archive/issue_comments_211635.json:
```json
{
    "body": "Changed reviewer from **Fran\u00e7ois Bissey, Julien Puydt, John Palmieri** to **Fran\u00e7ois Bissey, Julien Puydt**",
    "created_at": "2014-10-23T00:26:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211635",
    "user": "https://github.com/kiwifb"
}
```

Changed reviewer from **Fran√ßois Bissey, Julien Puydt, John Palmieri** to **Fran√ßois Bissey, Julien Puydt**



---

archive/issue_comments_211636.json:
```json
{
    "body": "Changed author from **Ralph Stephan, Steven Trogdon** to **Ralph Stephan**",
    "created_at": "2014-10-23T00:26:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211636",
    "user": "https://github.com/kiwifb"
}
```

Changed author from **Ralph Stephan, Steven Trogdon** to **Ralph Stephan**



---

archive/issue_comments_211637.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nFixed.",
    "created_at": "2014-10-23T00:26:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211637",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:61" align="right">comment:61</div>

Fixed.



---

archive/issue_comments_211638.json:
```json
{
    "body": "Changed reviewer from **Fran\u00e7ois Bissey, Julien Puydt** to **Fran\u00e7ois Bissey, Julien Puydt, John Palmieri**",
    "created_at": "2014-10-23T00:34:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211638",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Fran√ßois Bissey, Julien Puydt** to **Fran√ßois Bissey, Julien Puydt, John Palmieri**



---

archive/issue_comments_211639.json:
```json
{
    "body": "Changed author from **Ralph Stephan** to **Ralph Stephan, Steven Trogdon**",
    "created_at": "2014-10-23T00:34:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211639",
    "user": "https://github.com/kcrisman"
}
```

Changed author from **Ralph Stephan** to **Ralph Stephan, Steven Trogdon**



---

archive/issue_events_232102.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2014-10-23T03:18:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232102"
}
```



---

archive/issue_events_232103.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2014-10-23T03:18:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232103"
}
```



---

archive/issue_comments_211640.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nThis works for me.",
    "created_at": "2014-10-23T03:18:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211640",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:63" align="right">comment:63</div>

This works for me.



---

archive/issue_comments_211641.json:
```json
{
    "body": "Changed branch from **[u/fbissey/sphinx-1.2.2](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sphinx-1.2.2)** to **[`de9630d`](https://github.com/sagemath/sagetrac-mirror/commit/de9630d5106c3336b4c8207c04a0a23f91f4db12)**",
    "created_at": "2014-10-24T10:14:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211641",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/fbissey/sphinx-1.2.2](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/sphinx-1.2.2)** to **[`de9630d`](https://github.com/sagemath/sagetrac-mirror/commit/de9630d5106c3336b4c8207c04a0a23f91f4db12)**



---

archive/issue_events_232104.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-24T10:14:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232104"
}
```



---

archive/issue_events_232105.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ca7cc5e741ee69c19d9bfa2e7c22126ad27ed488",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-10-24T10:14:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16396#event-232105"
}
```



---

archive/issue_comments_211642.json:
```json
{
    "body": "Changed commit from **[`de9630d`](https://github.com/sagemath/sagetrac-mirror/commit/de9630d5106c3336b4c8207c04a0a23f91f4db12)** to none",
    "created_at": "2014-10-28T08:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211642",
    "user": "https://github.com/slel"
}
```

Changed commit from **[`de9630d`](https://github.com/sagemath/sagetrac-mirror/commit/de9630d5106c3336b4c8207c04a0a23f91f4db12)** to none



---

archive/issue_comments_211643.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nThe upstream [sphinx ticket](https://bitbucket.org/birkenfeld/sphinx/issue/1480/latex-math-output-is-broken-for-inline) has a question from 2014-07-13, can someone add a comment there?",
    "created_at": "2014-10-28T08:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211643",
    "user": "https://github.com/slel"
}
```

<div id="comment:65" align="right">comment:65</div>

The upstream [sphinx ticket](https://bitbucket.org/birkenfeld/sphinx/issue/1480/latex-math-output-is-broken-for-inline) has a question from 2014-07-13, can someone add a comment there?



---

archive/issue_comments_211644.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n According to https://groups.google.com/forum/#!topic/sphinx-users/EC7_wNtE5To Sphinx-1.2 is 25% faster than 1.1.2, and this matters with doc-clean Sage builds.\n+(This assumption turned out to be false, see [comment:18](#comment%3A18))\n \n Source:\n  [https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz](https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz)\n``````\n",
    "created_at": "2014-10-29T14:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211644",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,5 @@
 According to https://groups.google.com/forum/#!topic/sphinx-users/EC7_wNtE5To Sphinx-1.2 is 25% faster than 1.1.2, and this matters with doc-clean Sage builds.
+(This assumption turned out to be false, see [comment:18](#comment%3A18))
 
 Source:
  [https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz](https://pypi.python.org/packages/source/S/Sphinx/Sphinx-1.2.2.tar.gz)
``````




---

archive/issue_comments_211645.json:
```json
{
    "body": "Changed author from **Ralph Stephan, Steven Trogdon** to **Ralf Stephan, Steven Trogdon**",
    "created_at": "2014-10-29T14:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211645",
    "user": "https://github.com/rwst"
}
```

Changed author from **Ralph Stephan, Steven Trogdon** to **Ralf Stephan, Steven Trogdon**



---

archive/issue_comments_211646.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nReplying to [@slel](#comment%3A65):\n> The upstream [sphinx ticket](https://bitbucket.org/birkenfeld/sphinx/issue/1480/latex-math-output-is-broken-for-inline) has a question from 2014-07-13, can someone add a comment there?\n\nI'm the one that commented there. And the suggested patch is included in this ticket. What were you thinking of in terms of comment?",
    "created_at": "2014-10-29T15:13:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211646",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:67" align="right">comment:67</div>

Replying to [@slel](#comment%3A65):
> The upstream [sphinx ticket](https://bitbucket.org/birkenfeld/sphinx/issue/1480/latex-math-output-is-broken-for-inline) has a question from 2014-07-13, can someone add a comment there?

I'm the one that commented there. And the suggested patch is included in this ticket. What were you thinking of in terms of comment?



---

archive/issue_comments_211647.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nReplying to [@kiwifb](#comment%3A50):\n> I am working on updating the branch (package name, checksums and patch refresh to eliminate fuzz). I'll also update the description once I am finished. It will then be up to Julien to push the button.\n> I am not doing anything new, just clean up.\n\nSorry, I've been away for two weeks, then my browser didn't let me connect to trac (I just found the time to dig and behead the beast). Great work, thanks!",
    "created_at": "2014-11-06T07:45:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211647",
    "user": "https://github.com/SnarkBoojum"
}
```

<div id="comment:68" align="right">comment:68</div>

Replying to [@kiwifb](#comment%3A50):
> I am working on updating the branch (package name, checksums and patch refresh to eliminate fuzz). I'll also update the description once I am finished. It will then be up to Julien to push the button.
> I am not doing anything new, just clean up.

Sorry, I've been away for two weeks, then my browser didn't let me connect to trac (I just found the time to dig and behead the beast). Great work, thanks!



---

archive/issue_comments_211648.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\n<psa>For future reference, folks, please do use/read SPKG.txt.  This caused some annoyance in #17265 because of #17369.</psa>",
    "created_at": "2014-11-19T16:07:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16396#issuecomment-211648",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:69" align="right">comment:69</div>

<psa>For future reference, folks, please do use/read SPKG.txt.  This caused some annoyance in #17265 because of #17369.</psa>
