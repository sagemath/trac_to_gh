# Issue 16263: directional lighting in tachyon

archive/issues_016026.json:
```json
{
    "assignees": [],
    "body": "Tachyon supports directional lighting with the syntax \n\n```\nDIRECTIONAL_LIGHT\n    DIRECTION 0.0 -1.0 0.0\n    COLOR 1.0 0.0 0.0\n```\n\nImplement this in sage.\n\nKeywords: **tachyon**\n\nBranch/Commit: **[u/niles/16263/tachyon-lights](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/16263/tachyon-lights) @ [`84d0b89`](https://github.com/sagemath/sagetrac-mirror/commit/84d0b894e5f34347220672f465a02350a641b890)**\n\nComponent: **graphics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16263_\n\n",
    "created_at": "2014-04-28T18:44:38Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "directional lighting in tachyon",
    "type": "issue",
    "updated_at": "2022-12-29T01:28:25Z",
    "url": "https://github.com/sagemath/sage/issues/16263",
    "user": "https://github.com/nilesjohnson"
}
```
Tachyon supports directional lighting with the syntax 

```
DIRECTIONAL_LIGHT
    DIRECTION 0.0 -1.0 0.0
    COLOR 1.0 0.0 0.0
```

Implement this in sage.

Keywords: **tachyon**

Branch/Commit: **[u/niles/16263/tachyon-lights](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/16263/tachyon-lights) @ [`84d0b89`](https://github.com/sagemath/sagetrac-mirror/commit/84d0b894e5f34347220672f465a02350a641b890)**

Component: **graphics**

_Issue created by migration from https://trac.sagemath.org/ticket/16263_





---

archive/issue_events_232313.json:
```json
{
    "actor": "https://github.com/nilesjohnson",
    "created_at": "2014-04-28T18:44:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16263",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16263#event-232313"
}
```



---

archive/issue_events_232314.json:
```json
{
    "actor": "https://github.com/nilesjohnson",
    "created_at": "2014-04-28T18:44:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16263",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16263#event-232314"
}
```



---

archive/issue_events_232315.json:
```json
{
    "actor": "https://github.com/nilesjohnson",
    "created_at": "2014-04-28T18:44:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16263",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16263#event-232315"
}
```



---

archive/issue_events_232316.json:
```json
{
    "actor": "https://github.com/nilesjohnson",
    "created_at": "2014-04-28T18:44:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16263",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16263#event-232316"
}
```



---

archive/issue_events_232317.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16263",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16263#event-232317"
}
```



---

archive/issue_events_232318.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16263",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16263#event-232318"
}
```



---

archive/issue_comments_208421.json:
```json
{
    "body": "Branch: **[u/niles/16263/tachyon-lights](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/16263/tachyon-lights)**",
    "created_at": "2014-05-19T20:03:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16263#issuecomment-208421",
    "user": "https://github.com/nilesjohnson"
}
```

Branch: **[u/niles/16263/tachyon-lights](https://github.com/sagemath/sagetrac-mirror/tree/u/niles/16263/tachyon-lights)**



---

archive/issue_comments_208422.json:
```json
{
    "body": "Commit: **[`84d0b89`](https://github.com/sagemath/sagetrac-mirror/commit/84d0b894e5f34347220672f465a02350a641b890)**",
    "created_at": "2014-05-19T20:03:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16263#issuecomment-208422",
    "user": "https://github.com/nilesjohnson"
}
```

Commit: **[`84d0b89`](https://github.com/sagemath/sagetrac-mirror/commit/84d0b894e5f34347220672f465a02350a641b890)**



---

archive/issue_comments_208423.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI've done a little with this and then put it down; I'm attaching what I have so it doesn't get lost.  The basic functionality is there, but needs to be documented.\n\nAt the moment, it's not clear that directional lights really produce something drastically better than the standard trick of just putting a light *really* far away.  Here is some code I used for testing:\n\n```\np = 3\nq = 5\ndef K(s):\n    \"\"\"\n    a (p,q) torus knot\n    \"\"\"\n    var('t')\n    r = cos(q*t + s) + 2\n    x = fast_callable(r*cos(p*t + s),vars=[t])\n    y = fast_callable(r*sin(p*t + s) ,vars=[t])\n    z = fast_callable(-sin(q*t + s) ,vars=[t])\n    def func(t):\n        return (x(t),y(t),z(t))\n    return func\n\nX = Tachyon(camera_center=(4,4,10))\nX.texture('t')\nX.texture('mirror', ambient=0.05, diffuse=0.05, specular=.9, opacity=0.9, color=(.8,.8,.8))\nX.texture('grey', color=(.8,.8,.8), texfunc=3)\nX.parametric_plot(K(0),0,2*pi,'t',min_depth=6)\nX.parametric_plot(K(pi/4),0,2*pi,'grey',min_depth=6)\nX.parametric_plot(K(-pi/4),0,2*pi,'mirror',min_depth=6)\nX.light((0,0,20),.5,(1,1,1))     # standard lights\nX.light((-10,0,10),.5,(1,1,1))\n\nY = Tachyon(camera_center=(4,4,10))\nY.texture('t')\nY.texture('white',ambient=.8,diffuse=.8,specular=.1,color=(1,1,1))\nY.texture('mirror', ambient=0.05, diffuse=0.05, specular=.9, opacity=0.9, color=(.8,.8,.8))\nY.texture('grey', color=(.8,.8,.8), texfunc=3)\nY.parametric_plot(K(0),0,2*pi,'t',min_depth=6)\nY.parametric_plot(K(pi/4),0,2*pi,'grey',min_depth=6)\nY.parametric_plot(K(-pi/4),0,2*pi,'mirror',min_depth=6)\nY.plane((0,0,-20),(0,0,1),'white')\nY.light((0,0,1),.5,(1,1,1),'directional')    # directional lights\nY.light((-1,1,0),.5,(1,1,1),'directional')\n```",
    "created_at": "2014-05-19T20:03:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16263#issuecomment-208423",
    "user": "https://github.com/nilesjohnson"
}
```

<div id="comment:2" align="right">comment:2</div>

I've done a little with this and then put it down; I'm attaching what I have so it doesn't get lost.  The basic functionality is there, but needs to be documented.

At the moment, it's not clear that directional lights really produce something drastically better than the standard trick of just putting a light *really* far away.  Here is some code I used for testing:

```
p = 3
q = 5
def K(s):
    """
    a (p,q) torus knot
    """
    var('t')
    r = cos(q*t + s) + 2
    x = fast_callable(r*cos(p*t + s),vars=[t])
    y = fast_callable(r*sin(p*t + s) ,vars=[t])
    z = fast_callable(-sin(q*t + s) ,vars=[t])
    def func(t):
        return (x(t),y(t),z(t))
    return func

X = Tachyon(camera_center=(4,4,10))
X.texture('t')
X.texture('mirror', ambient=0.05, diffuse=0.05, specular=.9, opacity=0.9, color=(.8,.8,.8))
X.texture('grey', color=(.8,.8,.8), texfunc=3)
X.parametric_plot(K(0),0,2*pi,'t',min_depth=6)
X.parametric_plot(K(pi/4),0,2*pi,'grey',min_depth=6)
X.parametric_plot(K(-pi/4),0,2*pi,'mirror',min_depth=6)
X.light((0,0,20),.5,(1,1,1))     # standard lights
X.light((-10,0,10),.5,(1,1,1))

Y = Tachyon(camera_center=(4,4,10))
Y.texture('t')
Y.texture('white',ambient=.8,diffuse=.8,specular=.1,color=(1,1,1))
Y.texture('mirror', ambient=0.05, diffuse=0.05, specular=.9, opacity=0.9, color=(.8,.8,.8))
Y.texture('grey', color=(.8,.8,.8), texfunc=3)
Y.parametric_plot(K(0),0,2*pi,'t',min_depth=6)
Y.parametric_plot(K(pi/4),0,2*pi,'grey',min_depth=6)
Y.parametric_plot(K(-pi/4),0,2*pi,'mirror',min_depth=6)
Y.plane((0,0,-20),(0,0,1),'white')
Y.light((0,0,1),.5,(1,1,1),'directional')    # directional lights
Y.light((-1,1,0),.5,(1,1,1),'directional')
```



---

archive/issue_events_232319.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16263",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16263#event-232319"
}
```



---

archive/issue_events_232320.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16263",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16263#event-232320"
}
```



---

archive/issue_events_232321.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:28:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16263",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16263#event-232321"
}
```
