# Issue 16590: interface sympy Diophantine function(s)

archive/issues_016353.json:
```json
{
    "body": "In sympy the solution of Diophantine equations is available for several types of equations (http://docs.sympy.org/latest/modules/solvers/diophantine.html). This meta-ticket aims at\n\n* implementing a global `solve_diophantine()` function that wraps the sympy functionality and takes\n  1. symbolic expressions (up to order 2)\n  2. univariate polynomials (up to order 2)\n  3. multivariate polynomials (up to order 2)\n  4. quadratic forms\n* where useful implementing member functions `solve_diophantine()`\n\nIt is however not possible to directly make the resp. sympy functions fully usable with Sage, from within Sage. If desired that must be done in sympy.\n\nUntil then there is the following workaround:\n\n```\nsage: from sympy.solvers.diophantine import *\nsage: from sympy import sympify\nsage: var('x,y,m')\n(x, y, m)\nsage: diop_solve(sympify(x**2 + y**2 - 5))\n{(-2, -1), (-2, 1), (2, -1), (2, 1)}\nsage: diop_solve(sympify(x**2 - 3*y**2 - 1))\n{(-sqrt(3)*(-sqrt(3) + 2)**t/2 + (-sqrt(3) + 2)**t + sqrt(3)*(sqrt(3) + 2)**t/2 + (sqrt(3) + 2)**t,\n  -sqrt(3)*(-sqrt(3) + 2)**t/3 + (-sqrt(3) + 2)**t/2 + (sqrt(3) + 2)**t/2 + sqrt(3)*(sqrt(3) + 2)**t/3)}\n```\n\nAssignee: @rwst\n\nCC:  @JohnCremona\n\nKeywords: pellian, integers, solution\n\nBranch/Commit: 9a8c2f3b419b5f199a7f2b1d61ac507924f559b1\n\nReviewer: Kannappan Sampath, Travis Scrimshaw\n\nAuthor: Ralf Stephan\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16590\n\n",
    "closed_at": "2015-05-25T07:29:57Z",
    "created_at": "2014-06-30T06:24:27Z",
    "labels": [
        "component: number theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.7",
    "title": "interface sympy Diophantine function(s)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16590",
    "user": "https://github.com/rwst"
}
```
In sympy the solution of Diophantine equations is available for several types of equations (http://docs.sympy.org/latest/modules/solvers/diophantine.html). This meta-ticket aims at

* implementing a global `solve_diophantine()` function that wraps the sympy functionality and takes
  1. symbolic expressions (up to order 2)
  2. univariate polynomials (up to order 2)
  3. multivariate polynomials (up to order 2)
  4. quadratic forms
* where useful implementing member functions `solve_diophantine()`

It is however not possible to directly make the resp. sympy functions fully usable with Sage, from within Sage. If desired that must be done in sympy.

Until then there is the following workaround:

```
sage: from sympy.solvers.diophantine import *
sage: from sympy import sympify
sage: var('x,y,m')
(x, y, m)
sage: diop_solve(sympify(x**2 + y**2 - 5))
{(-2, -1), (-2, 1), (2, -1), (2, 1)}
sage: diop_solve(sympify(x**2 - 3*y**2 - 1))
{(-sqrt(3)*(-sqrt(3) + 2)**t/2 + (-sqrt(3) + 2)**t + sqrt(3)*(sqrt(3) + 2)**t/2 + (sqrt(3) + 2)**t,
  -sqrt(3)*(-sqrt(3) + 2)**t/3 + (-sqrt(3) + 2)**t/2 + (sqrt(3) + 2)**t/2 + sqrt(3)*(sqrt(3) + 2)**t/3)}
```

Assignee: @rwst

CC:  @JohnCremona

Keywords: pellian, integers, solution

Branch/Commit: 9a8c2f3b419b5f199a7f2b1d61ac507924f559b1

Reviewer: Kannappan Sampath, Travis Scrimshaw

Author: Ralf Stephan

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16590





---

archive/issue_comments_228464.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n In sympy solution of Diophantine equations is available for several types of equations. This meta-ticket aims at\n \n * making the resp. sympy functions fully usable with Sage\n-  1. symbolic expressions\n+  1. symbolic expressions (#16591)\n   2. univariate polynomials\n   3. multivariate polynomials\n   4. quadratic forms\n```\n",
    "created_at": "2014-06-30T06:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228464",
    "user": "https://github.com/rwst"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,7 +1,7 @@
 In sympy solution of Diophantine equations is available for several types of equations. This meta-ticket aims at
 
 * making the resp. sympy functions fully usable with Sage
-  1. symbolic expressions
+  1. symbolic expressions (#16591)
   2. univariate polynomials
   3. multivariate polynomials
   4. quadratic forms
```




---

archive/issue_comments_228465.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+In sympy the solution of Diophantine equations is available for several types of equations (http://docs.sympy.org/latest/modules/solvers/diophantine.html). This meta-ticket aims at\n \n+* making the resp. sympy functions fully usable with Sage\n+  1. symbolic expressions (#16591)\n+  2. univariate polynomials\n+  3. multivariate polynomials\n+  4. quadratic forms\n+  5. lists of linear 1/2/3\n+* implementing a global `solve_diophantine()` function that wraps the sympy functionality\n+* where useful implementing member functions `solve_diophantine()`\n \n Comment: 1\n \n```\n",
    "created_at": "2014-06-30T06:47:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228465",
    "user": "https://github.com/rwst"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,13 @@
+In sympy the solution of Diophantine equations is available for several types of equations (http://docs.sympy.org/latest/modules/solvers/diophantine.html). This meta-ticket aims at
 
+* making the resp. sympy functions fully usable with Sage
+  1. symbolic expressions (#16591)
+  2. univariate polynomials
+  3. multivariate polynomials
+  4. quadratic forms
+  5. lists of linear 1/2/3
+* implementing a global `solve_diophantine()` function that wraps the sympy functionality
+* where useful implementing member functions `solve_diophantine()`
 
 Comment: 1
 
```




---

archive/issue_comments_228466.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+In sympy the solution of Diophantine equations is available for several types of equations (http://docs.sympy.org/latest/modules/solvers/diophantine.html). This meta-ticket aims at\n \n+* implementing a global `solve_diophantine()` function that wraps the sympy functionality and takes\n+  1. symbolic expressions (up to order 2)\n+  2. univariate polynomials (up to order 2)\n+  3. multivariate polynomials (up to order 2)\n+  4. quadratic forms\n+* where useful implementing member functions `solve_diophantine()`\n+\n+It is however not possible to directly make the resp. sympy functions fully usable with Sage, from within Sage. If desired that must be done in sympy.\n \n Comment: 1\n \n```\n",
    "created_at": "2014-06-30T09:02:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228466",
    "user": "https://github.com/rwst"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,13 @@
+In sympy the solution of Diophantine equations is available for several types of equations (http://docs.sympy.org/latest/modules/solvers/diophantine.html). This meta-ticket aims at
 
+* implementing a global `solve_diophantine()` function that wraps the sympy functionality and takes
+  1. symbolic expressions (up to order 2)
+  2. univariate polynomials (up to order 2)
+  3. multivariate polynomials (up to order 2)
+  4. quadratic forms
+* where useful implementing member functions `solve_diophantine()`
+
+It is however not possible to directly make the resp. sympy functions fully usable with Sage, from within Sage. If desired that must be done in sympy.
 
 Comment: 1
 
```




---

archive/issue_comments_228467.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,27 @@\n+In sympy the solution of Diophantine equations is available for several types of equations (http://docs.sympy.org/latest/modules/solvers/diophantine.html). This meta-ticket aims at\n \n+* implementing a global `solve_diophantine()` function that wraps the sympy functionality and takes\n+  1. symbolic expressions (up to order 2)\n+  2. univariate polynomials (up to order 2)\n+  3. multivariate polynomials (up to order 2)\n+  4. quadratic forms\n+* where useful implementing member functions `solve_diophantine()`\n+\n+It is however not possible to directly make the resp. sympy functions fully usable with Sage, from within Sage. If desired that must be done in sympy.\n+\n+Until then there is the following workaround:\n+\n+```\n+sage: from sympy.solvers.diophantine import *\n+sage: from sympy import sympify\n+sage: var('x,y,m')\n+(x, y, m)\n+sage: diop_solve(sympify(x**2 + y**2 - 5))\n+{(-2, -1), (-2, 1), (2, -1), (2, 1)}\n+sage: diop_solve(sympify(x**2 - 3*y**2 - 1))\n+{(-sqrt(3)*(-sqrt(3) + 2)**t/2 + (-sqrt(3) + 2)**t + sqrt(3)*(sqrt(3) + 2)**t/2 + (sqrt(3) + 2)**t,\n+  -sqrt(3)*(-sqrt(3) + 2)**t/3 + (-sqrt(3) + 2)**t/2 + (sqrt(3) + 2)**t/2 + sqrt(3)*(sqrt(3) + 2)**t/3)}\n+```\n \n Comment: 1\n \n```\n",
    "created_at": "2014-06-30T09:26:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228467",
    "user": "https://github.com/rwst"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,27 @@
+In sympy the solution of Diophantine equations is available for several types of equations (http://docs.sympy.org/latest/modules/solvers/diophantine.html). This meta-ticket aims at
 
+* implementing a global `solve_diophantine()` function that wraps the sympy functionality and takes
+  1. symbolic expressions (up to order 2)
+  2. univariate polynomials (up to order 2)
+  3. multivariate polynomials (up to order 2)
+  4. quadratic forms
+* where useful implementing member functions `solve_diophantine()`
+
+It is however not possible to directly make the resp. sympy functions fully usable with Sage, from within Sage. If desired that must be done in sympy.
+
+Until then there is the following workaround:
+
+```
+sage: from sympy.solvers.diophantine import *
+sage: from sympy import sympify
+sage: var('x,y,m')
+(x, y, m)
+sage: diop_solve(sympify(x**2 + y**2 - 5))
+{(-2, -1), (-2, 1), (2, -1), (2, 1)}
+sage: diop_solve(sympify(x**2 - 3*y**2 - 1))
+{(-sqrt(3)*(-sqrt(3) + 2)**t/2 + (-sqrt(3) + 2)**t + sqrt(3)*(sqrt(3) + 2)**t/2 + (sqrt(3) + 2)**t,
+  -sqrt(3)*(-sqrt(3) + 2)**t/3 + (-sqrt(3) + 2)**t/2 + (sqrt(3) + 2)**t/2 + sqrt(3)*(sqrt(3) + 2)**t/3)}
+```
 
 Comment: 1
 
```




---

archive/issue_comments_228468.json:
```json
{
    "body": "<a id='comment:5'></a>However, the last solution shown in the workaround is incomplete, see https://github.com/sympy/sympy/issues/7671. Still, it would be good to have the functionality at hand in Sage.",
    "created_at": "2014-06-30T13:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228468",
    "user": "https://github.com/rwst"
}
```

<a id='comment:5'></a>However, the last solution shown in the workaround is incomplete, see https://github.com/sympy/sympy/issues/7671. Still, it would be good to have the functionality at hand in Sage.



---

archive/issue_comments_228469.json:
```json
{
    "body": "<a id='comment:6'></a>\n```\nsage: sage: from sympy.solvers.diophantine import *\nsage: sage: from sympy import sympify\nsage: diop_solve(sympify(x*y-10))\n{(-10, -1), (-5, -2), (-2, -5), (-1, -10), (1, 10), (2, 5), (5, 2), (10, 1)}\n\nsage: solve(x*y==10,x)\n[x == 10/y]\nsage: assume(x,'integer')\nsage: assume(y,'integer')\nsage: solve(x*y==10,x,y,solution_dict=True)\n([{x: 10/y}], [1])\n```\nSolve with assumption `'integer'` for all variables should definitely call `diop_solve()`, but also the shorter `solve_diophantine(expr)` without assumptions should be available. Not sure what the output of `[1]` above means.",
    "created_at": "2014-07-03T16:27:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228469",
    "user": "https://github.com/rwst"
}
```

<a id='comment:6'></a>
```
sage: sage: from sympy.solvers.diophantine import *
sage: sage: from sympy import sympify
sage: diop_solve(sympify(x*y-10))
{(-10, -1), (-5, -2), (-2, -5), (-1, -10), (1, 10), (2, 5), (5, 2), (10, 1)}

sage: solve(x*y==10,x)
[x == 10/y]
sage: assume(x,'integer')
sage: assume(y,'integer')
sage: solve(x*y==10,x,y,solution_dict=True)
([{x: 10/y}], [1])
```
Solve with assumption `'integer'` for all variables should definitely call `diop_solve()`, but also the shorter `solve_diophantine(expr)` without assumptions should be available. Not sure what the output of `[1]` above means.



---

archive/issue_comments_228470.json:
```json
{
    "body": "<a id='comment:7'></a>Irrelevant comment deleted. Sorry.",
    "created_at": "2014-07-04T15:43:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228470",
    "user": "https://github.com/rwst"
}
```

<a id='comment:7'></a>Irrelevant comment deleted. Sorry.



---

archive/issue_comments_228471.json:
```json
{
    "body": "Set assignee to @rwst.",
    "created_at": "2014-07-05T15:23:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228471",
    "user": "https://github.com/rwst"
}
```

Set assignee to @rwst.



---

archive/issue_comments_228472.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-08T16:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228472",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228473.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-09T08:55:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228473",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228474.json:
```json
{
    "body": "<a id='comment:13'></a>This is completed IMO, modulo the review. The failing doctest depends on #16624, so I'll wait with setting 'needs review' for that.",
    "created_at": "2014-07-09T08:57:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228474",
    "user": "https://github.com/rwst"
}
```

<a id='comment:13'></a>This is completed IMO, modulo the review. The failing doctest depends on #16624, so I'll wait with setting 'needs review' for that.



---

archive/issue_events_048671.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16590#event-48671"
}
```



---

archive/issue_comments_228475.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-03T10:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228475",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228476.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-11-03T10:53:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228476",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_228477.json:
```json
{
    "body": "<a id='comment:16'></a>Merged in #16624.\n\nEdit: removed nonsense",
    "created_at": "2014-11-03T10:53:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228477",
    "user": "https://github.com/rwst"
}
```

<a id='comment:16'></a>Merged in #16624.

Edit: removed nonsense



---

archive/issue_comments_228478.json:
```json
{
    "body": "<a id='comment:17'></a>The `x^2-9` doctest failure is only fixed in sympy master but not 0.7.5, so we would still have to wait for this fix. I would however support any reviewer that wants to have the code in Sage---just remove that doctest, the failure is not our fault.",
    "created_at": "2014-11-03T15:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228478",
    "user": "https://github.com/rwst"
}
```

<a id='comment:17'></a>The `x^2-9` doctest failure is only fixed in sympy master but not 0.7.5, so we would still have to wait for this fix. I would however support any reviewer that wants to have the code in Sage---just remove that doctest, the failure is not our fault.



---

archive/issue_comments_228479.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-05T13:56:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228479",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_048672.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-05T14:03:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16590#event-48672"
}
```



---

archive/issue_events_048673.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-05T14:03:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16590#event-48673"
}
```



---

archive/issue_comments_228480.json:
```json
{
    "body": "<a id='comment:20'></a>With the new sympy, also the last doctest passes. Squashed it all into one commit.\n\n---\nNew commits:",
    "created_at": "2015-03-05T14:03:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228480",
    "user": "https://github.com/rwst"
}
```

<a id='comment:20'></a>With the new sympy, also the last doctest passes. Squashed it all into one commit.

---
New commits:



---

archive/issue_comments_228481.json:
```json
{
    "body": "<a id='comment:21'></a>Some of the tests depend on ordering at the moment:\n\n```\nFile \"src/sage/symbolic/expression.pyx\", line 10089, in sage.symbolic.expression.Expression.solve_diophantine\nFailed example:\n    solve_diophantine(x^2+y^2==25)\nExpected:\n    [(-4, 3), (4, -3), (0, -5), (-4, -3), (0, 5), (4, 3)]\nGot:\n    [(4, -3), (0, -5), (-4, -3), (-4, 3), (0, 5), (4, 3)]\n**********************************************************************\nFile \"src/sage/symbolic/expression.pyx\", line 10105, in sage.symbolic.expression.Expression.solve_diophantine\nFailed example:\n    solve_diophantine(x*y-y==10, (x,y))\nExpected:\n    [(6, 2), (2, 10), (3, 5), (0, -10), (-1, -5), (11, 1), (-4, -2), (-9, -1)]\nGot:\n    [(-1, -5), (0, -10), (-9, -1), (-4, -2), (2, 10), (11, 1), (6, 2), (3, 5)]\n**********************************************************************\nFile \"src/sage/symbolic/expression.pyx\", line 10107, in sage.symbolic.expression.Expression.solve_diophantine\nFailed example:\n    solve_diophantine(x*y-y==10, solution_dict=True)\nExpected:\n    [{x: 6, y: 2},\n     {x: 2, y: 10},\n     {x: 3, y: 5},\n     {x: 0, y: -10},\n     {x: -1, y: -5},\n     {x: 11, y: 1},\n     {x: -4, y: -2},\n     {x: -9, y: -1}]\nGot:\n    [{y: -5, x: -1},\n     {y: -10, x: 0},\n     {y: -1, x: -9},\n     {y: -2, x: -4},\n     {y: 10, x: 2},\n     {y: 1, x: 11},\n     {y: 2, x: 6},\n     {y: 5, x: 3}]\n```",
    "created_at": "2015-04-15T09:48:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228481",
    "user": "https://trac.sagemath.org/admin/accounts/users/jkeitel"
}
```

<a id='comment:21'></a>Some of the tests depend on ordering at the moment:

```
File "src/sage/symbolic/expression.pyx", line 10089, in sage.symbolic.expression.Expression.solve_diophantine
Failed example:
    solve_diophantine(x^2+y^2==25)
Expected:
    [(-4, 3), (4, -3), (0, -5), (-4, -3), (0, 5), (4, 3)]
Got:
    [(4, -3), (0, -5), (-4, -3), (-4, 3), (0, 5), (4, 3)]
**********************************************************************
File "src/sage/symbolic/expression.pyx", line 10105, in sage.symbolic.expression.Expression.solve_diophantine
Failed example:
    solve_diophantine(x*y-y==10, (x,y))
Expected:
    [(6, 2), (2, 10), (3, 5), (0, -10), (-1, -5), (11, 1), (-4, -2), (-9, -1)]
Got:
    [(-1, -5), (0, -10), (-9, -1), (-4, -2), (2, 10), (11, 1), (6, 2), (3, 5)]
**********************************************************************
File "src/sage/symbolic/expression.pyx", line 10107, in sage.symbolic.expression.Expression.solve_diophantine
Failed example:
    solve_diophantine(x*y-y==10, solution_dict=True)
Expected:
    [{x: 6, y: 2},
     {x: 2, y: 10},
     {x: 3, y: 5},
     {x: 0, y: -10},
     {x: -1, y: -5},
     {x: 11, y: 1},
     {x: -4, y: -2},
     {x: -9, y: -1}]
Got:
    [{y: -5, x: -1},
     {y: -10, x: 0},
     {y: -1, x: -9},
     {y: -2, x: -4},
     {y: 10, x: 2},
     {y: 1, x: 11},
     {y: 2, x: 6},
     {y: 5, x: 3}]
```



---

archive/issue_comments_228482.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-15T14:26:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228482",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228483.json:
```json
{
    "body": "<a id='comment:23'></a>Fixed. Why dictionaries have to be sorted to be comparable is beyond me.",
    "created_at": "2015-04-15T14:27:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228483",
    "user": "https://github.com/rwst"
}
```

<a id='comment:23'></a>Fixed. Why dictionaries have to be sorted to be comparable is beyond me.



---

archive/issue_comments_228484.json:
```json
{
    "body": "<a id='comment:24'></a>Passes all patchbot tests.",
    "created_at": "2015-04-20T06:28:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228484",
    "user": "https://github.com/rwst"
}
```

<a id='comment:24'></a>Passes all patchbot tests.



---

archive/issue_comments_228485.json:
```json
{
    "body": "<a id='comment:25'></a>I would like to review this ticket and perhaps contribute more code around this theme. I am working on a review of this code and should be available before the end of this week. :-)",
    "created_at": "2015-05-12T07:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228485",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:25'></a>I would like to review this ticket and perhaps contribute more code around this theme. I am working on a review of this code and should be available before the end of this week. :-)



---

archive/issue_events_048674.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-05-12T08:20:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16590#event-48674"
}
```



---

archive/issue_events_048675.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-05-12T08:20:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16590#event-48675"
}
```



---

archive/issue_comments_228486.json:
```json
{
    "body": "<a id='comment:27'></a>OK, so this ticket is really an interface to Sympy code and all the tests pass. \n\nA suggestion that you might want to consider: Pell's equation is in no reasonable sense a correct attribution. I would prefer Brahmagupta-Pell equation. For historic comments, see A. Weil's book \"Number Theory, An approach through history from Hammurapi to Legendre\" or Whitford's book \"Pell's equation\" for some of the early history. \n\nModulo this, positive review.",
    "created_at": "2015-05-14T22:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228486",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:27'></a>OK, so this ticket is really an interface to Sympy code and all the tests pass. 

A suggestion that you might want to consider: Pell's equation is in no reasonable sense a correct attribution. I would prefer Brahmagupta-Pell equation. For historic comments, see A. Weil's book "Number Theory, An approach through history from Hammurapi to Legendre" or Whitford's book "Pell's equation" for some of the early history. 

Modulo this, positive review.



---

archive/issue_comments_228487.json:
```json
{
    "body": "<a id='comment:29'></a>I agree with the attribution change. Please add your name to the Reviewers field of the ticket. Thanks for the review.\n\n---\nNew commits:",
    "created_at": "2015-05-15T06:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228487",
    "user": "https://github.com/rwst"
}
```

<a id='comment:29'></a>I agree with the attribution change. Please add your name to the Reviewers field of the ticket. Thanks for the review.

---
New commits:



---

archive/issue_comments_228488.json:
```json
{
    "body": "<a id='comment:30'></a>Would anyone believe I actually recently have a use for this, for me coming and my combinatorial/representation theory background? :P Just a trivial push to get this into Sage.",
    "created_at": "2015-05-18T15:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228488",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:30'></a>Would anyone believe I actually recently have a use for this, for me coming and my combinatorial/representation theory background? :P Just a trivial push to get this into Sage.



---

archive/issue_comments_228489.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-18T15:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228489",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_228490.json:
```json
{
    "body": "<a id='comment:31'></a>doctests depends on x/y order which is apparently random:\n\n```\nsage -t --long src/sage/symbolic/expression.pyx\n**********************************************************************\nFile \"src/sage/symbolic/expression.pyx\", line 10122, in sage.symbolic.expression.Expression.solve_diophantine\nFailed example:\n    res.sort(); res\nExpected:\n    [{y: -1, x: -9},\n     {y: -2, x: -4},\n     {y: -5, x: -1},\n     {y: -10, x: 0},\n     {y: 10, x: 2},\n     {y: 5, x: 3},\n     {y: 2, x: 6},\n     {y: 1, x: 11}]\nGot:\n    [{x: 0, y: -10},\n     {x: -1, y: -5},\n     {x: -4, y: -2},\n     {x: -9, y: -1},\n     {x: 11, y: 1},\n     {x: 6, y: 2},\n     {x: 3, y: 5},\n     {x: 2, y: 10}]\n**********************************************************************\n1 item had failures:\n   1 of  20 in sage.symbolic.expression.Expression.solve_diophantine\n    [2394 tests, 1 failure, 31.23 s]\n```",
    "created_at": "2015-05-18T19:27:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228490",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:31'></a>doctests depends on x/y order which is apparently random:

```
sage -t --long src/sage/symbolic/expression.pyx
**********************************************************************
File "src/sage/symbolic/expression.pyx", line 10122, in sage.symbolic.expression.Expression.solve_diophantine
Failed example:
    res.sort(); res
Expected:
    [{y: -1, x: -9},
     {y: -2, x: -4},
     {y: -5, x: -1},
     {y: -10, x: 0},
     {y: 10, x: 2},
     {y: 5, x: 3},
     {y: 2, x: 6},
     {y: 1, x: 11}]
Got:
    [{x: 0, y: -10},
     {x: -1, y: -5},
     {x: -4, y: -2},
     {x: -9, y: -1},
     {x: 11, y: 1},
     {x: 6, y: 2},
     {x: 3, y: 5},
     {x: 2, y: 10}]
**********************************************************************
1 item had failures:
   1 of  20 in sage.symbolic.expression.Expression.solve_diophantine
    [2394 tests, 1 failure, 31.23 s]
```



---

archive/issue_comments_228491.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-05-18T19:27:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228491",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_228492.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-24T15:59:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228492",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228493.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-05-24T16:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228493",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_228494.json:
```json
{
    "body": "<a id='comment:34'></a>This test\n\n```python\nall(sol[i] == res[i] for i in range(len(sol)))\n```\nstill depends on the order of the *solutions* (which is machine dependent as per Volker's note), not the (only) print order of the `dict`s. So I think a better test would be\n\n```python\nall(solution in res for solution in sol)\n```",
    "created_at": "2015-05-24T16:26:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228494",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:34'></a>This test

```python
all(sol[i] == res[i] for i in range(len(sol)))
```
still depends on the order of the *solutions* (which is machine dependent as per Volker's note), not the (only) print order of the `dict`s. So I think a better test would be

```python
all(solution in res for solution in sol)
```



---

archive/issue_comments_228495.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-24T16:32:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228495",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228496.json:
```json
{
    "body": "<a id='comment:36'></a>Thanks!",
    "created_at": "2015-05-24T16:32:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228496",
    "user": "https://github.com/rwst"
}
```

<a id='comment:36'></a>Thanks!



---

archive/issue_comments_228497.json:
```json
{
    "body": "<a id='comment:37'></a>Sorry, I just realized this isn't quite sufficient. We should also add an `and len(res) == len(sol)` as there could be more \"solutions\" in `sol` than there should be. Once you add that, you can set positive review. Thanks.",
    "created_at": "2015-05-24T16:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228497",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:37'></a>Sorry, I just realized this isn't quite sufficient. We should also add an `and len(res) == len(sol)` as there could be more "solutions" in `sol` than there should be. Once you add that, you can set positive review. Thanks.



---

archive/issue_comments_228498.json:
```json
{
    "body": "<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-24T16:43:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228498",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228499.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-24T16:44:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228499",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_048676.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-25T07:29:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16590#event-48676"
}
```



---

archive/issue_comments_228500.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-05-25T07:29:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16590",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16590#issuecomment-228500",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
