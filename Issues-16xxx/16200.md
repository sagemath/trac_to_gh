# Issue 16200: FiniteStateMachine._latex_: typeset state labels in math mode

archive/issues_015963.json:
```json
{
    "body": "Currently, state labels are not typeset in LaTeX's math mode, but transition labels are.\nFurthermore, the default behaviour is to pipe the label through latex(), which by definition\nproduces output suitable for math mode. Therefore, I consider this to be a bug and change the behaviour.\n\nThis is an incompatible change; however, relying on the old behaviour will either make no difference (if the label was an integer or a string (this is protected by \\text anyway)) or lead to an error\nwhen typesetting with tikz.\n\nWhile doing that, I also include a space after the comma in the coordinate tuples (PEP 8 probably does not apply to TeX code included in a docstring, but nevertheless ...).\n\nCC:  @dkrenn skropf\n\nKeywords: finite_state_machine\n\nBranch/Commit: 4d389d92b022cb0b8a49b4884e8635d0fb0ae9a4\n\nReviewer: Daniel Krenn\n\nAuthor: Clemens Heuberger\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16200\n\n",
    "closed_at": "2014-04-22T22:02:25Z",
    "created_at": "2014-04-21T18:38:10Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "FiniteStateMachine._latex_: typeset state labels in math mode",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16200",
    "user": "https://github.com/cheuberg"
}
```
Currently, state labels are not typeset in LaTeX's math mode, but transition labels are.
Furthermore, the default behaviour is to pipe the label through latex(), which by definition
produces output suitable for math mode. Therefore, I consider this to be a bug and change the behaviour.

This is an incompatible change; however, relying on the old behaviour will either make no difference (if the label was an integer or a string (this is protected by \text anyway)) or lead to an error
when typesetting with tikz.

While doing that, I also include a space after the comma in the coordinate tuples (PEP 8 probably does not apply to TeX code included in a docstring, but nevertheless ...).

CC:  @dkrenn skropf

Keywords: finite_state_machine

Branch/Commit: 4d389d92b022cb0b8a49b4884e8635d0fb0ae9a4

Reviewer: Daniel Krenn

Author: Clemens Heuberger

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16200





---

archive/issue_comments_268544.json:
```json
{
    "body": "Changing branch from \"\" to \"u/cheuberg/fsm/latex-state-label\"",
    "created_at": "2014-04-21T18:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16200",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16200#issuecomment-268544",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "" to "u/cheuberg/fsm/latex-state-label"



---

archive/issue_comments_268545.json:
```json
{
    "body": "Changing commit from \"\" to \"4d389d92b022cb0b8a49b4884e8635d0fb0ae9a4\"",
    "created_at": "2014-04-21T18:49:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16200",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16200#issuecomment-268545",
    "user": "https://github.com/cheuberg"
}
```

Changing commit from "" to "4d389d92b022cb0b8a49b4884e8635d0fb0ae9a4"



---

archive/issue_comments_268546.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-04-21T18:49:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16200",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16200#issuecomment-268546",
    "user": "https://github.com/cheuberg"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_268547.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|\n|[4d389d9](https://github.com/sagemath/sagetrac-mirror/commit/4d389d92b022cb0b8a49b4884e8635d0fb0ae9a4)|`FiniteStateMachine._latex_: typeset state labels in math mode (#16200)`|",
    "created_at": "2014-04-21T18:49:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16200",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16200#issuecomment-268547",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
|[4d389d9](https://github.com/sagemath/sagetrac-mirror/commit/4d389d92b022cb0b8a49b4884e8635d0fb0ae9a4)|`FiniteStateMachine._latex_: typeset state labels in math mode (#16200)`|



---

archive/issue_comments_268548.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Daniel Krenn\"",
    "created_at": "2014-04-22T07:58:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16200",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16200#issuecomment-268548",
    "user": "https://github.com/dkrenn"
}
```

Changing reviewer from "" to "Daniel Krenn"



---

archive/issue_comments_268549.json:
```json
{
    "body": "<a id='comment:3'></a>\nreviewed changes, code is ok, doctests pass, documentation builds --> positive_review",
    "created_at": "2014-04-22T07:58:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16200",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16200#issuecomment-268549",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:3'></a>
reviewed changes, code is ok, doctests pass, documentation builds --> positive_review



---

archive/issue_comments_268550.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-04-22T07:58:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16200",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16200#issuecomment-268550",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_268551.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/fsm/latex-state-label\" to \"4d389d92b022cb0b8a49b4884e8635d0fb0ae9a4\"",
    "created_at": "2014-04-22T22:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16200",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16200#issuecomment-268551",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/cheuberg/fsm/latex-state-label" to "4d389d92b022cb0b8a49b4884e8635d0fb0ae9a4"



---

archive/issue_comments_268552.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-04-22T22:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16200",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16200#issuecomment-268552",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_054327.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-22T22:02:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16200",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16200#event-54327"
}
```
