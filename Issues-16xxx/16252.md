# Issue 16252: optional doctest broken in oeis

archive/issues_016015.json:
```json
{
    "assignees": [
        "https://github.com/videlec"
    ],
    "body": "Most of the doctests in oeis are broken (as the database has been updated).\n\nTo run the test do\n\n```\n./sage -t --optional=sage,internet SAGE_ROOT/src/sage/databases/oeis.py\n```\n\nDepends on #18637\n\nCC:  @sagetrac-tmonteil\n\nKeywords: **oeis**\n\nBranch/Commit: **[`d457a51`](https://github.com/sagemath/sagetrac-mirror/commit/d457a51680d91ae93b36f1fe470c4972202e0a55)**\n\nReviewer: **Wilfried Luebbe, Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Vincent Delecroix, Thierry Monteil**\n\nComponent: **doctest coverage**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16252_\n\n",
    "closed_at": "2016-01-23T20:42:38Z",
    "created_at": "2014-04-27T14:17:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/doctest%20coverage",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/doctest%20coverage"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "optional doctest broken in oeis",
    "type": "issue",
    "updated_at": "2016-01-23T20:42:38Z",
    "url": "https://github.com/sagemath/sage/issues/16252",
    "user": "https://github.com/videlec"
}
```
Most of the doctests in oeis are broken (as the database has been updated).

To run the test do

```
./sage -t --optional=sage,internet SAGE_ROOT/src/sage/databases/oeis.py
```

Depends on #18637

CC:  @sagetrac-tmonteil

Keywords: **oeis**

Branch/Commit: **[`d457a51`](https://github.com/sagemath/sagetrac-mirror/commit/d457a51680d91ae93b36f1fe470c4972202e0a55)**

Reviewer: **Wilfried Luebbe, Frédéric Chapoton**

Author: **Vincent Delecroix, Thierry Monteil**

Component: **doctest coverage**

_Issue created by migration from https://trac.sagemath.org/ticket/16252_





---

archive/issue_events_233169.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-04-27T14:17:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233169"
}
```



---

archive/issue_events_233170.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-04-27T14:17:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233170"
}
```



---

archive/issue_events_233171.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-04-27T14:17:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233171"
}
```



---

archive/issue_events_233172.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-04-27T14:17:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233172"
}
```



---

archive/issue_events_233173.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-04-27T14:17:46Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "subject": "https://github.com/videlec",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233173"
}
```



---

archive/issue_comments_207895.json:
```json
{
    "body": "Changed keywords from none to **oeis**",
    "created_at": "2014-04-27T14:56:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207895",
    "user": "https://github.com/videlec"
}
```

Changed keywords from none to **oeis**



---

archive/issue_events_233174.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-04-27T14:56:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/doctest%20coverage",
    "label_color": "696969",
    "label_name": "doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233174"
}
```



---

archive/issue_events_233175.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-04-27T14:56:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233175"
}
```



---

archive/issue_comments_207896.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,7 @@\n Most of the doctests in oeis are broken (as the database has been updated).\n+\n+To run the test do\n+\n+```\n+sage -t --optional=sage,internet SAGE_ROOT/src/sage/database/oeis.py\n+```\n``````\n",
    "created_at": "2014-04-27T14:56:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207896",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,7 @@
 Most of the doctests in oeis are broken (as the database has been updated).
+
+To run the test do
+
+```
+sage -t --optional=sage,internet SAGE_ROOT/src/sage/database/oeis.py
+```
``````




---

archive/issue_comments_207897.json:
```json
{
    "body": "Commit: **[`1c3471f`](https://github.com/sagemath/sagetrac-mirror/commit/1c3471f3105c3654d97166f07f44a729cbb0122d)**",
    "created_at": "2014-04-27T14:56:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207897",
    "user": "https://github.com/videlec"
}
```

Commit: **[`1c3471f`](https://github.com/sagemath/sagetrac-mirror/commit/1c3471f3105c3654d97166f07f44a729cbb0122d)**



---

archive/issue_comments_207898.json:
```json
{
    "body": "Branch: **[u/vdelecroix/16252](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16252)**",
    "created_at": "2014-04-27T14:56:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207898",
    "user": "https://github.com/videlec"
}
```

Branch: **[u/vdelecroix/16252](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16252)**



---

archive/issue_comments_207899.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b57017903cfe976bc3c8f1adda47127467b2f73c\"><code>b570179</code></a></td><td><code>trac 14567: continued fraction (based on 6.2.rc0)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c3471f3105c3654d97166f07f44a729cbb0122d\"><code>1c3471f</code></a></td><td><code>trac 16252: clean import + doctest errors in oeis</code></td></tr></table>\n",
    "created_at": "2014-04-27T14:56:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207899",
    "user": "https://github.com/videlec"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b57017903cfe976bc3c8f1adda47127467b2f73c"><code>b570179</code></a></td><td><code>trac 14567: continued fraction (based on 6.2.rc0)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c3471f3105c3654d97166f07f44a729cbb0122d"><code>1c3471f</code></a></td><td><code>trac 16252: clean import + doctest errors in oeis</code></td></tr></table>




---

archive/issue_comments_207900.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\n2 doctest failures:\n\n```\n ./sage -t --optional=sage,internet src/sage/databases/oeis.py\nRunning doctests with ID 2014-05-02-10-48-57-d24662df.\nDoctesting 1 file.\nsage -t src/sage/databases/oeis.py\n**********************************************************************\nFile \"src/sage/databases/oeis.py\", line 835, in sage.databases.oeis.OEISSequence.keywords\nFailed example:\n    f.keywords()                          # optional -- internet\nExpected:\n    ('core', 'nonn', 'easy', 'nice', 'hear')\nGot:\n    ('core', 'nonn', 'easy', 'nice', 'hear', 'changed')\n**********************************************************************\nFile \"src/sage/databases/oeis.py\", line 1730, in sage.databases.oeis.OEISSequence.programs\nFailed example:\n    ee = oeis('A001113') ; ee             # optional -- internet\nExpected:\n    A001113: Decimal expansion of e.\nGot:\n    Created new window in existing browser session.\n    A001113: Decimal expansion of e.\n**********************************************************************\n2 items had failures:\n   1 of   7 in sage.databases.oeis.OEISSequence.keywords\n   1 of   7 in sage.databases.oeis.OEISSequence.programs\n    [258 tests, 2 failures, 67.62 s]\n----------------------------------------------------------------------\nsage -t src/sage/databases/oeis.py  # 2 doctests failed\n```\nHave the keywords changed again `...,'nice', 'hear', 'changed')`? Then one could consider this test as brittle :-/\n\n\nAnd the statement `Created new window in existing browser session.` is true - while not expected. It opened `http://oeis.org/A000045` a new tab in Chromium (ubuntu 14.04)",
    "created_at": "2014-05-02T09:06:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207900",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:2" align="right">comment:2</div>

2 doctest failures:

```
 ./sage -t --optional=sage,internet src/sage/databases/oeis.py
Running doctests with ID 2014-05-02-10-48-57-d24662df.
Doctesting 1 file.
sage -t src/sage/databases/oeis.py
**********************************************************************
File "src/sage/databases/oeis.py", line 835, in sage.databases.oeis.OEISSequence.keywords
Failed example:
    f.keywords()                          # optional -- internet
Expected:
    ('core', 'nonn', 'easy', 'nice', 'hear')
Got:
    ('core', 'nonn', 'easy', 'nice', 'hear', 'changed')
**********************************************************************
File "src/sage/databases/oeis.py", line 1730, in sage.databases.oeis.OEISSequence.programs
Failed example:
    ee = oeis('A001113') ; ee             # optional -- internet
Expected:
    A001113: Decimal expansion of e.
Got:
    Created new window in existing browser session.
    A001113: Decimal expansion of e.
**********************************************************************
2 items had failures:
   1 of   7 in sage.databases.oeis.OEISSequence.keywords
   1 of   7 in sage.databases.oeis.OEISSequence.programs
    [258 tests, 2 failures, 67.62 s]
----------------------------------------------------------------------
sage -t src/sage/databases/oeis.py  # 2 doctests failed
```
Have the keywords changed again `...,'nice', 'hear', 'changed')`? Then one could consider this test as brittle :-/


And the statement `Created new window in existing browser session.` is true - while not expected. It opened `http://oeis.org/A000045` a new tab in Chromium (ubuntu 14.04)



---

archive/issue_events_233176.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-02T09:06:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233176"
}
```



---

archive/issue_events_233177.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-02T09:06:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233177"
}
```



---

archive/issue_comments_207901.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,5 +3,5 @@\n To run the test do\n \n ```\n-sage -t --optional=sage,internet SAGE_ROOT/src/sage/database/oeis.py\n+./sage -t --optional=sage,internet SAGE_ROOT/src/sage/databases/oeis.py\n ```\n``````\n",
    "created_at": "2014-05-02T09:06:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207901",
    "user": "https://github.com/wluebbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,5 +3,5 @@
 To run the test do
 
 ```
-sage -t --optional=sage,internet SAGE_ROOT/src/sage/database/oeis.py
+./sage -t --optional=sage,internet SAGE_ROOT/src/sage/databases/oeis.py
 ```
``````




---

archive/issue_comments_207902.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/458ad19a5d36dd5347685b1d5c046cf604a1ad04\"><code>458ad19</code></a></td><td><code>correct one doctest</code></td></tr></table>\n",
    "created_at": "2014-05-02T09:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207902",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/458ad19a5d36dd5347685b1d5c046cf604a1ad04"><code>458ad19</code></a></td><td><code>correct one doctest</code></td></tr></table>




---

archive/issue_comments_207903.json:
```json
{
    "body": "Changed commit from **[`1c3471f`](https://github.com/sagemath/sagetrac-mirror/commit/1c3471f3105c3654d97166f07f44a729cbb0122d)** to **[`458ad19`](https://github.com/sagemath/sagetrac-mirror/commit/458ad19a5d36dd5347685b1d5c046cf604a1ad04)**",
    "created_at": "2014-05-02T09:32:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207903",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1c3471f`](https://github.com/sagemath/sagetrac-mirror/commit/1c3471f3105c3654d97166f07f44a729cbb0122d)** to **[`458ad19`](https://github.com/sagemath/sagetrac-mirror/commit/458ad19a5d36dd5347685b1d5c046cf604a1ad04)**



---

archive/issue_comments_207904.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHi Wilfried,\n\nThanks for looking at this.\n\nI modified a bit the first test in order to make it more robust to small changes in the database. I do not understand what happened with the second one. Only the method `browse` and `links` should open some windows in your browser. Could you try again?\n\nVincent",
    "created_at": "2014-05-02T09:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207904",
    "user": "https://github.com/videlec"
}
```

<div id="comment:4" align="right">comment:4</div>

Hi Wilfried,

Thanks for looking at this.

I modified a bit the first test in order to make it more robust to small changes in the database. I do not understand what happened with the second one. Only the method `browse` and `links` should open some windows in your browser. Could you try again?

Vincent



---

archive/issue_events_233178.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-05-02T09:33:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233178"
}
```



---

archive/issue_events_233179.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-05-02T09:33:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233179"
}
```



---

archive/issue_comments_207905.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nHi Vincent,\n\nthe first failure is gone - the second not.\n\nI replaced `45` by `10` in line 1645 (doctest of `browse()` and got \n\n```\nFile \"src/sage/databases/oeis.py\", line 1645, in sage.databases.oeis.OEISSequence.browse\nFailed example:\n    f = oeis(10) ; f                      # optional -- internet, webbrowser\nExpected:\n    A000045: Fibonacci numbers: F(n) = F(n-1) + F(n-2) with F(0) = 0 and F(1) = 1.\nGot:\n    A000010: Euler totient function phi(n): count numbers <= n and prime to n.\n**********************************************************************\nFile \"src/sage/databases/oeis.py\", line 1735, in sage.databases.oeis.OEISSequence.programs\nFailed example:\n    ee = oeis('A001113') ; ee             # optional -- internet\nExpected:\n    A001113: Decimal expansion of e.\nGot:\n    Created new window in existing browser session.\n    A001113: Decimal expansion of e.\n**********************************************************************\n2 items had failures:\n   1 of   3 in sage.databases.oeis.OEISSequence.browse\n   1 of   7 in sage.databases.oeis.OEISSequence.programs\n    [261 tests, 2 failures, 71.93 s]\n```\nNow the first failure is expected. My browser opened `http://oeis.org/A000010`.\nThis seems to indicate that the new message `Created new ...` is left over by the doctest of browse(). But why? Don't you see this behavior?\n\nThis is what I get in a terminal\n\n```\nsage: import sage.databases.o\nsage.databases.odlyzko  sage.databases.oeis     \nsage: import sage.databases.oeis\nsage: f = oeis(1)\nsage: f\nA000001: Number of groups of order n.\nsage: f.browse()\nsage: Created new window in existing browser session.\n\nsage: f.show()\nID\nA000001\n```\nAfter `sage: Created new window in existing browser session.` I had to press ENTER to  see the `sage:` prompt again.",
    "created_at": "2014-05-02T11:19:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207905",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:5" align="right">comment:5</div>

Hi Vincent,

the first failure is gone - the second not.

I replaced `45` by `10` in line 1645 (doctest of `browse()` and got 

```
File "src/sage/databases/oeis.py", line 1645, in sage.databases.oeis.OEISSequence.browse
Failed example:
    f = oeis(10) ; f                      # optional -- internet, webbrowser
Expected:
    A000045: Fibonacci numbers: F(n) = F(n-1) + F(n-2) with F(0) = 0 and F(1) = 1.
Got:
    A000010: Euler totient function phi(n): count numbers <= n and prime to n.
**********************************************************************
File "src/sage/databases/oeis.py", line 1735, in sage.databases.oeis.OEISSequence.programs
Failed example:
    ee = oeis('A001113') ; ee             # optional -- internet
Expected:
    A001113: Decimal expansion of e.
Got:
    Created new window in existing browser session.
    A001113: Decimal expansion of e.
**********************************************************************
2 items had failures:
   1 of   3 in sage.databases.oeis.OEISSequence.browse
   1 of   7 in sage.databases.oeis.OEISSequence.programs
    [261 tests, 2 failures, 71.93 s]
```
Now the first failure is expected. My browser opened `http://oeis.org/A000010`.
This seems to indicate that the new message `Created new ...` is left over by the doctest of browse(). But why? Don't you see this behavior?

This is what I get in a terminal

```
sage: import sage.databases.o
sage.databases.odlyzko  sage.databases.oeis     
sage: import sage.databases.oeis
sage: f = oeis(1)
sage: f
A000001: Number of groups of order n.
sage: f.browse()
sage: Created new window in existing browser session.

sage: f.show()
ID
A000001
```
After `sage: Created new window in existing browser session.` I had to press ENTER to  see the `sage:` prompt again.



---

archive/issue_events_233180.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-02T11:19:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233180"
}
```



---

archive/issue_events_233181.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-02T11:19:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233181"
}
```



---

archive/issue_comments_207906.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThe doctest failure is likely environment dependent:\n\n\nThe module `webbrowser` is a Python standard module. It use some logic to select a suitable browser and calls it with `subprocess.Popen()`. The message `Created new ...` is issued by Chromium (revealed be a Google search :-).\n\nToday I closed my Chromium *Version 34.0.1847.116 Ubuntu 14.04 aura (260972)* before starting the test. The result:\n\n```\nFile \"src/sage/databases/oeis.py\", line 1735, in sage.databases.oeis.OEISSequence.programs\nFailed example:\n    ee = oeis('A001113') ; ee             # optional -- internet\nExpected:\n    A001113: Decimal expansion of e.\nGot:\n    ATTENTION: default value of option force_s3tc_enable overridden by environment.\n    [12960:12960:0505/151917:ERROR:sandbox_linux.cc(268)] InitializeSandbox() called with multiple threads in process gpu-process\n    A001113: Decimal expansion of e.\n**********************************************************************\n1 item had failures:\n   1 of   7 in sage.databases.oeis.OEISSequence.programs\n    [261 tests, 1 failure, 78.67 s]\n```\nSo there are environments (e.g. mine) that can produce some unexpected browser output.\n\nAt last I got `All tests passed!` with \n\n```\n            sage: ee = oeis('A001113') ; ee             # optional -- internet\n            Created new window in existing browser session.\n            A001113: Decimal expansion of e.\n```\nBut this is not really a solution :-((",
    "created_at": "2014-05-05T14:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207906",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:6" align="right">comment:6</div>

The doctest failure is likely environment dependent:


The module `webbrowser` is a Python standard module. It use some logic to select a suitable browser and calls it with `subprocess.Popen()`. The message `Created new ...` is issued by Chromium (revealed be a Google search :-).

Today I closed my Chromium *Version 34.0.1847.116 Ubuntu 14.04 aura (260972)* before starting the test. The result:

```
File "src/sage/databases/oeis.py", line 1735, in sage.databases.oeis.OEISSequence.programs
Failed example:
    ee = oeis('A001113') ; ee             # optional -- internet
Expected:
    A001113: Decimal expansion of e.
Got:
    ATTENTION: default value of option force_s3tc_enable overridden by environment.
    [12960:12960:0505/151917:ERROR:sandbox_linux.cc(268)] InitializeSandbox() called with multiple threads in process gpu-process
    A001113: Decimal expansion of e.
**********************************************************************
1 item had failures:
   1 of   7 in sage.databases.oeis.OEISSequence.programs
    [261 tests, 1 failure, 78.67 s]
```
So there are environments (e.g. mine) that can produce some unexpected browser output.

At last I got `All tests passed!` with 

```
            sage: ee = oeis('A001113') ; ee             # optional -- internet
            Created new window in existing browser session.
            A001113: Decimal expansion of e.
```
But this is not really a solution :-((



---

archive/issue_comments_207907.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHi,\n\nI do have a problem since the line\n\n```\nsage: ee = oeis('A001113')\n```\ndoes not call webbrowser. It is only the following that does\n\n```\nsage: ee.browse()\n```\nHence I do not really understand what happens on your computer (even if it is now clear that it depends on the browser).\n\nMaybe there is a way to turn off the writing of the subprocess on stdout/stderr... I will dig in. There are partial answers on [stackoverflow](http://stackoverflow.com/questions/1352361/suppress-redirect-stderr-when-calling-python-webrowser) but which are plateform and installation dependent... but it is better than nothing!\n\nVincent",
    "created_at": "2014-05-05T15:32:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207907",
    "user": "https://github.com/videlec"
}
```

<div id="comment:7" align="right">comment:7</div>

Hi,

I do have a problem since the line

```
sage: ee = oeis('A001113')
```
does not call webbrowser. It is only the following that does

```
sage: ee.browse()
```
Hence I do not really understand what happens on your computer (even if it is now clear that it depends on the browser).

Maybe there is a way to turn off the writing of the subprocess on stdout/stderr... I will dig in. There are partial answers on [stackoverflow](http://stackoverflow.com/questions/1352361/suppress-redirect-stderr-when-calling-python-webrowser) but which are plateform and installation dependent... but it is better than nothing!

Vincent



---

archive/issue_comments_207908.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHi Vincent, \n\nthe browser is called in a doctest of `browse()` in line 1645 `sage: f = oeis(45) ; f`. \n\nThis can be seen in my comment 5 where I changed `oeis(45)` to `oeis(10)`. The browser opened A000010. The message from Chromium then surfaced in the other (later) doctest from line 1735.\n\nMaybe this is (one more) hint that *some* test are better suited for a testing framework like [nose](https://pypi.python.org/pypi/nose/1.3.2) or [py.test](https://pypi.python.org/pypi/pytest/2.5.2). But that's a whole new story ...",
    "created_at": "2014-05-05T16:07:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207908",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:8" align="right">comment:8</div>

Hi Vincent, 

the browser is called in a doctest of `browse()` in line 1645 `sage: f = oeis(45) ; f`. 

This can be seen in my comment 5 where I changed `oeis(45)` to `oeis(10)`. The browser opened A000010. The message from Chromium then surfaced in the other (later) doctest from line 1735.

Maybe this is (one more) hint that *some* test are better suited for a testing framework like [nose](https://pypi.python.org/pypi/nose/1.3.2) or [py.test](https://pypi.python.org/pypi/pytest/2.5.2). But that's a whole new story ...



---

archive/issue_comments_207909.json:
```json
{
    "body": "Changed commit from **[`458ad19`](https://github.com/sagemath/sagetrac-mirror/commit/458ad19a5d36dd5347685b1d5c046cf604a1ad04)** to **[`6fa9592`](https://github.com/sagemath/sagetrac-mirror/commit/6fa9592c2f7b19135b9a6baf54bcd64fc9f0352e)**",
    "created_at": "2014-05-05T16:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207909",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`458ad19`](https://github.com/sagemath/sagetrac-mirror/commit/458ad19a5d36dd5347685b1d5c046cf604a1ad04)** to **[`6fa9592`](https://github.com/sagemath/sagetrac-mirror/commit/6fa9592c2f7b19135b9a6baf54bcd64fc9f0352e)**



---

archive/issue_comments_207910.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6fa9592c2f7b19135b9a6baf54bcd64fc9f0352e\"><code>6fa9592</code></a></td><td><code>trac #16252: typo that makes test failed!</code></td></tr></table>\n",
    "created_at": "2014-05-05T16:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207910",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6fa9592c2f7b19135b9a6baf54bcd64fc9f0352e"><code>6fa9592</code></a></td><td><code>trac #16252: typo that makes test failed!</code></td></tr></table>




---

archive/issue_comments_207911.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHi,\n\nThere was a typo in the documentation. In order to skip the doctest one should write\n\n```\nsage: f.browse() # optional -- internet webbrowser\n```\nand not\n\n```\nsage: f.browse() # optional -- internet, webbrowser\n```\n\nI did the correction in the last commit. Could you try again? You should get no error with\n\n```\n./sage -t --optional=sage,internet SAGE_ROOT/src/sage/databases/oeis.py\n```\nbut might get one with\n\n```\n./sage -t --optional=sage,internet,webbrowser SAGE_ROOT/src/sage/databases/oeis.py\n```\n\nVincent",
    "created_at": "2014-05-05T16:35:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207911",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">comment:10</div>

Hi,

There was a typo in the documentation. In order to skip the doctest one should write

```
sage: f.browse() # optional -- internet webbrowser
```
and not

```
sage: f.browse() # optional -- internet, webbrowser
```

I did the correction in the last commit. Could you try again? You should get no error with

```
./sage -t --optional=sage,internet SAGE_ROOT/src/sage/databases/oeis.py
```
but might get one with

```
./sage -t --optional=sage,internet,webbrowser SAGE_ROOT/src/sage/databases/oeis.py
```

Vincent



---

archive/issue_events_233182.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-05T19:22:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233182"
}
```



---

archive/issue_events_233183.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-05T19:22:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233183"
}
```



---

archive/issue_comments_207912.json:
```json
{
    "body": "Reviewer: **Wilfried Luebbe**",
    "created_at": "2014-05-05T19:22:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207912",
    "user": "https://github.com/wluebbe"
}
```

Reviewer: **Wilfried Luebbe**



---

archive/issue_comments_207913.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nHi,\n\njust as you predicted ...\n\n```\n~/sage-6.2.rc0$ ./sage -t --optional=sage,internet src/sage/databases/oeis.py\nRunning doctests with ID 2014-05-05-21-13-21-9a2728e4.\nDoctesting 1 file.\nsage -t src/sage/databases/oeis.py\n    [259 tests, 74.00 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 74.1 seconds\n    cpu time: 1.4 seconds\n    cumulative wall time: 74.0 seconds\nwluebbe@Willis-Ubuntu:~/sage-6.2.rc0$ ./sage -t --optional=sage,internet,webbrowser src/sage/databases/oeis.py\nRunning doctests with ID 2014-05-05-21-16-48-fbdfca29.\nDoctesting 1 file.\nsage -t src/sage/databases/oeis.py\n**********************************************************************\nFile \"src/sage/databases/oeis.py\", line 637, in sage.databases.oeis.OEISSequence.__init__\nFailed example:\n    sfibo = oeis('A039834')               # optional -- internet\nExpected nothing\nGot:\n    Created new window in existing browser session.\n**********************************************************************\nFile \"src/sage/databases/oeis.py\", line 1735, in sage.databases.oeis.OEISSequence.programs\nFailed example:\n    ee = oeis('A001113') ; ee             # optional -- internet\nExpected:\n    A001113: Decimal expansion of e.\nGot:\n    Created new window in existing browser session.\n    Created new window in existing browser session.\n    A001113: Decimal expansion of e.\n**********************************************************************\n2 items had failures:\n   1 of   3 in sage.databases.oeis.OEISSequence.__init__\n   1 of   7 in sage.databases.oeis.OEISSequence.programs\n    [264 tests, 2 failures, 76.03 s]\n----------------------------------------------------------------------\nsage -t src/sage/databases/oeis.py  # 2 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 76.1 seconds\n    cpu time: 1.4 seconds\n    cumulative wall time: 76.0 seconds\n```\nTherefore I say: the patch looks good! - Doctest with (optional) webbrowser Chromium is a different story.",
    "created_at": "2014-05-05T19:22:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207913",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:11" align="right">comment:11</div>

Hi,

just as you predicted ...

```
~/sage-6.2.rc0$ ./sage -t --optional=sage,internet src/sage/databases/oeis.py
Running doctests with ID 2014-05-05-21-13-21-9a2728e4.
Doctesting 1 file.
sage -t src/sage/databases/oeis.py
    [259 tests, 74.00 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 74.1 seconds
    cpu time: 1.4 seconds
    cumulative wall time: 74.0 seconds
wluebbe@Willis-Ubuntu:~/sage-6.2.rc0$ ./sage -t --optional=sage,internet,webbrowser src/sage/databases/oeis.py
Running doctests with ID 2014-05-05-21-16-48-fbdfca29.
Doctesting 1 file.
sage -t src/sage/databases/oeis.py
**********************************************************************
File "src/sage/databases/oeis.py", line 637, in sage.databases.oeis.OEISSequence.__init__
Failed example:
    sfibo = oeis('A039834')               # optional -- internet
Expected nothing
Got:
    Created new window in existing browser session.
**********************************************************************
File "src/sage/databases/oeis.py", line 1735, in sage.databases.oeis.OEISSequence.programs
Failed example:
    ee = oeis('A001113') ; ee             # optional -- internet
Expected:
    A001113: Decimal expansion of e.
Got:
    Created new window in existing browser session.
    Created new window in existing browser session.
    A001113: Decimal expansion of e.
**********************************************************************
2 items had failures:
   1 of   3 in sage.databases.oeis.OEISSequence.__init__
   1 of   7 in sage.databases.oeis.OEISSequence.programs
    [264 tests, 2 failures, 76.03 s]
----------------------------------------------------------------------
sage -t src/sage/databases/oeis.py  # 2 doctests failed
----------------------------------------------------------------------
Total time for all tests: 76.1 seconds
    cpu time: 1.4 seconds
    cumulative wall time: 76.0 seconds
```
Therefore I say: the patch looks good! - Doctest with (optional) webbrowser Chromium is a different story.



---

archive/issue_comments_207914.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThanks!\n\nVincent",
    "created_at": "2014-05-05T21:07:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207914",
    "user": "https://github.com/videlec"
}
```

<div id="comment:12" align="right">comment:12</div>

Thanks!

Vincent



---

archive/issue_comments_207915.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHi,\n\ni am a bit lost with the new framework, how it is possible that this ticket get positive review while  #14567 is not settled ?\n\nCould it be better to fix OEIS-changes in a self-contained ticket, and continued_fractions changes (even in oeis.py) in the other one ?",
    "created_at": "2014-05-05T22:05:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207915",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:13" align="right">comment:13</div>

Hi,

i am a bit lost with the new framework, how it is possible that this ticket get positive review while  #14567 is not settled ?

Could it be better to fix OEIS-changes in a self-contained ticket, and continued_fractions changes (even in oeis.py) in the other one ?



---

archive/issue_comments_207916.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nHi Thierry,\n\nIn the current state, this one will wait until #14567 gets reviewed. If there are some changes in #14567 then either there is a trivial merge and everything is fine, or the merge is non trivial and it will need another (short) review.\n\nIt might be better that #14567 gets reviewed... if you want to fix this one independently of #14567, it is up to you.\n\nVincent",
    "created_at": "2014-05-06T04:54:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207916",
    "user": "https://github.com/videlec"
}
```

<div id="comment:14" align="right">comment:14</div>

Hi Thierry,

In the current state, this one will wait until #14567 gets reviewed. If there are some changes in #14567 then either there is a trivial merge and everything is fine, or the merge is non trivial and it will need another (short) review.

It might be better that #14567 gets reviewed... if you want to fix this one independently of #14567, it is up to you.

Vincent



---

archive/issue_events_233184.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233184"
}
```



---

archive/issue_events_233185.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233185"
}
```



---

archive/issue_events_233186.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-07T11:56:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233186"
}
```



---

archive/issue_events_233187.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-07T11:56:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233187"
}
```



---

archive/issue_comments_207917.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nWhile focusing on the doctest failures in `oeis.py` I missed the on dependency #14567 (and that the patch contained much more than `oeis.py`).\n\nTherefore I think this ticket should stay with *needs review* until #14567 is positive. Then I will review this again :-)\n\nMeanwhile I discovered some more optional doctest failures (#16302) ...",
    "created_at": "2014-05-07T11:56:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207917",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:16" align="right">comment:16</div>

While focusing on the doctest failures in `oeis.py` I missed the on dependency #14567 (and that the patch contained much more than `oeis.py`).

Therefore I think this ticket should stay with *needs review* until #14567 is positive. Then I will review this again :-)

Meanwhile I discovered some more optional doctest failures (#16302) ...



---

archive/issue_events_233188.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-07T11:56:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233188"
}
```



---

archive/issue_events_233189.json:
```json
{
    "actor": "https://github.com/wluebbe",
    "created_at": "2014-05-07T11:56:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233189"
}
```



---

archive/issue_events_233190.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233190"
}
```



---

archive/issue_events_233191.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233191"
}
```



---

archive/issue_events_233192.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-07T13:01:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233192"
}
```



---

archive/issue_events_233193.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-01T11:17:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233193"
}
```



---

archive/issue_events_233194.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-02-01T11:17:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233194"
}
```



---

archive/issue_comments_207918.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThe doctests are broken again due to updates in the sloane database...\n\nVincent",
    "created_at": "2015-02-01T11:17:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207918",
    "user": "https://github.com/videlec"
}
```

<div id="comment:20" align="right">comment:20</div>

The doctests are broken again due to updates in the sloane database...

Vincent



---

archive/issue_comments_207919.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/16252](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16252)** to **[u/tmonteil/16252](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/16252)**",
    "created_at": "2015-06-10T17:59:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207919",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed branch from **[u/vdelecroix/16252](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/16252)** to **[u/tmonteil/16252](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/16252)**



---

archive/issue_comments_207920.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nSince i could not merge Vincent's branch to the current develop branch, i made a new one based on latest 6.8.beta3 (and current version of OEIS).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6818bfa22b2029b35057535a5e1ca6c77df32c12\"><code>6818bfa</code></a></td><td><code>#16252 let oeis work with new continued fractions.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/754a8cd7bd161726e169f3df9af8c813c4bdd02d\"><code>754a8cd</code></a></td><td><code>#16252 move rarely used import statements to methods.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c683186cad731a09200d84fbf44ab3c4e658d61\"><code>8c68318</code></a></td><td><code>#16252 no space between doctest options.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c395b4133a58e35d3dd79dc89ed8a1599a855f2a\"><code>c395b41</code></a></td><td><code>#16252 fix broken doctests.</code></td></tr></table>\n",
    "created_at": "2015-06-10T18:03:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207920",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:22" align="right">comment:22</div>

Since i could not merge Vincent's branch to the current develop branch, i made a new one based on latest 6.8.beta3 (and current version of OEIS).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6818bfa22b2029b35057535a5e1ca6c77df32c12"><code>6818bfa</code></a></td><td><code>#16252 let oeis work with new continued fractions.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/754a8cd7bd161726e169f3df9af8c813c4bdd02d"><code>754a8cd</code></a></td><td><code>#16252 move rarely used import statements to methods.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c683186cad731a09200d84fbf44ab3c4e658d61"><code>8c68318</code></a></td><td><code>#16252 no space between doctest options.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c395b4133a58e35d3dd79dc89ed8a1599a855f2a"><code>c395b41</code></a></td><td><code>#16252 fix broken doctests.</code></td></tr></table>




---

archive/issue_comments_207921.json:
```json
{
    "body": "Changed author from **vincent delecroix** to **Vincent Delecroix, Thierry Monteil**",
    "created_at": "2015-06-10T18:03:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207921",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed author from **vincent delecroix** to **Vincent Delecroix, Thierry Monteil**



---

archive/issue_comments_207922.json:
```json
{
    "body": "Changed commit from **[`6fa9592`](https://github.com/sagemath/sagetrac-mirror/commit/6fa9592c2f7b19135b9a6baf54bcd64fc9f0352e)** to **[`c395b41`](https://github.com/sagemath/sagetrac-mirror/commit/c395b4133a58e35d3dd79dc89ed8a1599a855f2a)**",
    "created_at": "2015-06-10T18:03:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207922",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed commit from **[`6fa9592`](https://github.com/sagemath/sagetrac-mirror/commit/6fa9592c2f7b19135b9a6baf54bcd64fc9f0352e)** to **[`c395b41`](https://github.com/sagemath/sagetrac-mirror/commit/c395b4133a58e35d3dd79dc89ed8a1599a855f2a)**



---

archive/issue_events_233195.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-06-10T18:03:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233195"
}
```



---

archive/issue_events_233196.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-06-10T18:03:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233196"
}
```



---

archive/issue_comments_207923.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI agree that the tests need to be fixed, but can we do it in such a way that they won't break frequently due to changes in the database?",
    "created_at": "2015-06-10T18:22:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207923",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:23" align="right">comment:23</div>

I agree that the tests need to be fixed, but can we do it in such a way that they won't break frequently due to changes in the database?



---

archive/issue_comments_207924.json:
```json
{
    "body": "Changed branch from **[u/tmonteil/16252](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/16252)** to **[public/ticket/16252](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16252)**",
    "created_at": "2015-06-10T18:28:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207924",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/tmonteil/16252](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/16252)** to **[public/ticket/16252](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16252)**



---

archive/issue_comments_207925.json:
```json
{
    "body": "Changed commit from **[`c395b41`](https://github.com/sagemath/sagetrac-mirror/commit/c395b4133a58e35d3dd79dc89ed8a1599a855f2a)** to **[`80e0525`](https://github.com/sagemath/sagetrac-mirror/commit/80e05256e112a54e45886bd7b69548ac5c5b6111)**",
    "created_at": "2015-06-10T18:28:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207925",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`c395b41`](https://github.com/sagemath/sagetrac-mirror/commit/c395b4133a58e35d3dd79dc89ed8a1599a855f2a)** to **[`80e0525`](https://github.com/sagemath/sagetrac-mirror/commit/80e05256e112a54e45886bd7b69548ac5c5b6111)**



---

archive/issue_comments_207926.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI have made some pep8 cleanup.\n\nI was about to give a positive review, but I agree it is not good to be forced to update the test all the time..\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80e05256e112a54e45886bd7b69548ac5c5b6111\"><code>80e0525</code></a></td><td><code>trac #16252 pep8 details</code></td></tr></table>\n",
    "created_at": "2015-06-10T18:28:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207926",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">comment:24</div>

I have made some pep8 cleanup.

I was about to give a positive review, but I agree it is not good to be forced to update the test all the time..

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80e05256e112a54e45886bd7b69548ac5c5b6111"><code>80e0525</code></a></td><td><code>trac #16252 pep8 details</code></td></tr></table>




---

archive/issue_comments_207927.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nTo expand on this: because of #18558, many tests labeled \"optional\" will now be run. This is not true yet for \"optional - internet\" tests, but that could change, and then we want robust tests.",
    "created_at": "2015-06-10T19:12:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207927",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:25" align="right">comment:25</div>

To expand on this: because of #18558, many tests labeled "optional" will now be run. This is not true yet for "optional - internet" tests, but that could change, and then we want robust tests.



---

archive/issue_comments_207928.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI don't like this: `\\xc3\\xa9`: can we please support unicode instead?",
    "created_at": "2015-06-10T19:24:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207928",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

I don't like this: `\xc3\xa9`: can we please support unicode instead?



---

archive/issue_comments_207929.json:
```json
{
    "body": "Changed dependencies from **#14567** to **#18637**",
    "created_at": "2015-06-10T19:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207929",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#14567** to **#18637**



---

archive/issue_comments_207930.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThis needs to be rebased to #18637.",
    "created_at": "2015-06-10T19:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207930",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

This needs to be rebased to #18637.



---

archive/issue_events_233197.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-10T19:30:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233197"
}
```



---

archive/issue_events_233198.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-10T19:30:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233198"
}
```



---

archive/issue_comments_207931.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nAnd this also looks like a regression:\n\n```diff\n- QQ as continued fractions\n+ <class 'sage.rings.continued_fraction.ContinuedFraction_periodic'>\n```",
    "created_at": "2015-06-10T19:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207931",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

And this also looks like a regression:

```diff
- QQ as continued fractions
+ <class 'sage.rings.continued_fraction.ContinuedFraction_periodic'>
```



---

archive/issue_events_233199.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-10T19:30:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233199"
}
```



---

archive/issue_events_233200.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-10T19:30:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233200"
}
```



---

archive/issue_comments_207932.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@jdemeyer](#comment:28):\n> And this also looks like a regression:\n> \n> ```diff\n> - QQ as continued fractions\n> + <class 'sage.rings.continued_fraction.ContinuedFraction_periodic'>\n> ```\n\nIt is not (or at least independent from that ticket). Comes from #14567.",
    "created_at": "2015-06-10T19:39:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207932",
    "user": "https://github.com/videlec"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@jdemeyer](#comment:28):
> And this also looks like a regression:
> 
> ```diff
> - QQ as continued fractions
> + <class 'sage.rings.continued_fraction.ContinuedFraction_periodic'>
> ```

It is not (or at least independent from that ticket). Comes from #14567.



---

archive/issue_comments_207933.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@videlec](#comment:29):\n> Comes from #14567.\n\nI think it comes from this change on this ticket:\n\n```diff\n- return ContinuedFractionField()(self.first_terms())\n+ from sage.rings.continued_fraction import continued_fraction\n+ return continued_fraction(self.first_terms())\n```",
    "created_at": "2015-06-10T19:46:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207933",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@videlec](#comment:29):
> Comes from #14567.

I think it comes from this change on this ticket:

```diff
- return ContinuedFractionField()(self.first_terms())
+ from sage.rings.continued_fraction import continued_fraction
+ return continued_fraction(self.first_terms())
```



---

archive/issue_comments_207934.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@jdemeyer](#comment:30):\n> Replying to [@videlec](#comment:29):\n> > Comes from #14567.\n\n> I think it comes from this change on this ticket:\n> \n> ```diff\n> - return ContinuedFractionField()(self.first_terms())\n> + from sage.rings.continued_fraction import continued_fraction\n> + return continued_fraction(self.first_terms())\n> ```\n\nRight. But the continued fraction field is likely to be deprecated. It serves no purpose unless being there.",
    "created_at": "2015-06-10T19:51:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207934",
    "user": "https://github.com/videlec"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@jdemeyer](#comment:30):
> Replying to [@videlec](#comment:29):
> > Comes from #14567.

> I think it comes from this change on this ticket:
> 
> ```diff
> - return ContinuedFractionField()(self.first_terms())
> + from sage.rings.continued_fraction import continued_fraction
> + return continued_fraction(self.first_terms())
> ```

Right. But the continued fraction field is likely to be deprecated. It serves no purpose unless being there.



---

archive/issue_comments_207935.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nConcerning workaround doctests that are robust to database changes.\n\nReplying to [@jhpalmieri](#comment:23):\n> I agree that the tests need to be fixed, but can we do it in such a way that they won't break frequently due to changes in the database?\n\nThe \"doc\" part of the doctest is important too. As you can check, most failed doctests are designed to be examples for the user. I think the user should be exposed to what she will actually get, even if there is some small noise in the result, humans can adapt to such noise, and they need examples.\n\nReplying to [@fchapoton](#comment:24):\n> I was about to give a positive review, but I agree it is not good to be forced to update the test all the time..\n\nWe are not, the users are able to understand the examples even if they slightly differ from what they will get by testing themselves. In my opinion, those should be updated from time to time but there is no hurry to be on the edge, it is not like openssl or so.\n\nReplying to [@jhpalmieri](#comment:25):\n> To expand on this: because of #18558, many tests labeled \"optional\" will now be run. This is not true yet for \"optional - internet\" tests, but that could change, and then we want robust tests.\n\nI am -1 to run the internet doctests by default, or we are going to flood OEIS servers for almost no benefit. Actually, this is why a fake OEIS entry is hardcoded in the file (those tests are run everytime).\n\nThe robustness can be achieved as follows : run internet doctests once before a release and fix them if they are severe (e.g. change in the database structure, change in the URL scheme).",
    "created_at": "2015-06-10T20:26:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207935",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:32" align="right">comment:32</div>

Concerning workaround doctests that are robust to database changes.

Replying to [@jhpalmieri](#comment:23):
> I agree that the tests need to be fixed, but can we do it in such a way that they won't break frequently due to changes in the database?

The "doc" part of the doctest is important too. As you can check, most failed doctests are designed to be examples for the user. I think the user should be exposed to what she will actually get, even if there is some small noise in the result, humans can adapt to such noise, and they need examples.

Replying to [@fchapoton](#comment:24):
> I was about to give a positive review, but I agree it is not good to be forced to update the test all the time..

We are not, the users are able to understand the examples even if they slightly differ from what they will get by testing themselves. In my opinion, those should be updated from time to time but there is no hurry to be on the edge, it is not like openssl or so.

Replying to [@jhpalmieri](#comment:25):
> To expand on this: because of #18558, many tests labeled "optional" will now be run. This is not true yet for "optional - internet" tests, but that could change, and then we want robust tests.

I am -1 to run the internet doctests by default, or we are going to flood OEIS servers for almost no benefit. Actually, this is why a fake OEIS entry is hardcoded in the file (those tests are run everytime).

The robustness can be achieved as follows : run internet doctests once before a release and fix them if they are severe (e.g. change in the database structure, change in the URL scheme).



---

archive/issue_comments_207936.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@videlec](#comment:31):\n> \n> Right. But the continued fraction field is likely to be deprecated. It serves no purpose unless being there.\n\n\nTo complement Vincent's answer, there is a semantic issue in using `ContinuedFractionField()`.\n\nThe problem is that most (if not all) continued fractions in OEIS corrrespond to irrational numbers (OEIS is not much about periodic sequences), so a parent modelling the rationals is not appropriate, even if we only have the fist few partial coefficients (like elements of `RDF` are rationals but do not represent rational numbers). Perhaps should we use `type` instead of `parent` here (i used `parent` to be consistent with other cases) ?\n\nActually, i am planning to plug infinite sequences implemented in Sage with oeis calss (e.g. Fibonacci), so that we could ask for arbitrary many partial coefficients for the related continued fraction, not only those provided by `.first_terms()` method.",
    "created_at": "2015-06-10T20:40:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207936",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@videlec](#comment:31):
> 
> Right. But the continued fraction field is likely to be deprecated. It serves no purpose unless being there.


To complement Vincent's answer, there is a semantic issue in using `ContinuedFractionField()`.

The problem is that most (if not all) continued fractions in OEIS corrrespond to irrational numbers (OEIS is not much about periodic sequences), so a parent modelling the rationals is not appropriate, even if we only have the fist few partial coefficients (like elements of `RDF` are rationals but do not represent rational numbers). Perhaps should we use `type` instead of `parent` here (i used `parent` to be consistent with other cases) ?

Actually, i am planning to plug infinite sequences implemented in Sage with oeis calss (e.g. Fibonacci), so that we could ask for arbitrary many partial coefficients for the related continued fraction, not only those provided by `.first_terms()` method.



---

archive/issue_comments_207937.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@sagetrac-tmonteil](#comment:32):\n> Concerning workaround doctests that are robust to database changes.\n> \n> Replying to [@jhpalmieri](#comment:23):\n> > I agree that the tests need to be fixed, but can we do it in such a way that they won't break frequently due to changes in the database?\n\n> \n> The \"doc\" part of the doctest is important too. \n\nOf course there has to be a balance, but I don't know of any examples where we intentionally allow failed doctests for the sake of this balance. Instead, it is often possible to write doctests which are both illustrative and correct.\n\n> Replying to [@jhpalmieri](#comment:25):\n> > To expand on this: because of #18558, many tests labeled \"optional\" will now be run. This is not true yet for \"optional - internet\" tests, but that could change, and then we want robust tests.\n\n> \n> I am -1 to run the internet doctests by default, or we are going to flood OEIS servers for almost no benefit. Actually, this is why a fake OEIS entry is hardcoded in the file (those tests are run everytime).\n\nI think there may be valid reasons to not run internet doctests by default, but I'm not  convinced by this one. If you are worried that we might flood the OEIS servers, then rewrite the doctests to avoid this. For example, I can easily imagine someone adding \"internet\" to the optional doctest tags for the patchbots.\n\n> The robustness can be achieved as follows : run internet doctests once before a release and fix them if they are severe (e.g. change in the database structure, change in the URL scheme).\n\nAccording to everything I know about Sage's doctesting, there is no tolerance for failed doctests. We don't fix them only if they are severe.",
    "created_at": "2015-06-10T21:32:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207937",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@sagetrac-tmonteil](#comment:32):
> Concerning workaround doctests that are robust to database changes.
> 
> Replying to [@jhpalmieri](#comment:23):
> > I agree that the tests need to be fixed, but can we do it in such a way that they won't break frequently due to changes in the database?

> 
> The "doc" part of the doctest is important too. 

Of course there has to be a balance, but I don't know of any examples where we intentionally allow failed doctests for the sake of this balance. Instead, it is often possible to write doctests which are both illustrative and correct.

> Replying to [@jhpalmieri](#comment:25):
> > To expand on this: because of #18558, many tests labeled "optional" will now be run. This is not true yet for "optional - internet" tests, but that could change, and then we want robust tests.

> 
> I am -1 to run the internet doctests by default, or we are going to flood OEIS servers for almost no benefit. Actually, this is why a fake OEIS entry is hardcoded in the file (those tests are run everytime).

I think there may be valid reasons to not run internet doctests by default, but I'm not  convinced by this one. If you are worried that we might flood the OEIS servers, then rewrite the doctests to avoid this. For example, I can easily imagine someone adding "internet" to the optional doctest tags for the patchbots.

> The robustness can be achieved as follows : run internet doctests once before a release and fix them if they are severe (e.g. change in the database structure, change in the URL scheme).

According to everything I know about Sage's doctesting, there is no tolerance for failed doctests. We don't fix them only if they are severe.



---

archive/issue_comments_207938.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@videlec](#comment:31):\n> Right. But the continued fraction field is likely to be deprecated. It serves no purpose unless being there.\n\nFine, but then change the `parent()` doctest to `type()`. The fact that `parent()` returns `type()` for a non-`Element` is an implementation detail which shouldn't be exposed by these doctests.\n\n(of course, I wonder why the result of `continued_fraction()` is no longer an `Element` but that's off topic)",
    "created_at": "2015-06-10T21:43:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207938",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@videlec](#comment:31):
> Right. But the continued fraction field is likely to be deprecated. It serves no purpose unless being there.

Fine, but then change the `parent()` doctest to `type()`. The fact that `parent()` returns `type()` for a non-`Element` is an implementation detail which shouldn't be exposed by these doctests.

(of course, I wonder why the result of `continued_fraction()` is no longer an `Element` but that's off topic)



---

archive/issue_comments_207939.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7b0416a762a464d94799b482df28b5ae82dd302\"><code>a7b0416</code></a></td><td><code>#16252 Add a `__getslice__` method to FancyTuple to fix comment 26.</code></td></tr></table>\n",
    "created_at": "2015-06-12T11:14:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207939",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7b0416a762a464d94799b482df28b5ae82dd302"><code>a7b0416</code></a></td><td><code>#16252 Add a `__getslice__` method to FancyTuple to fix comment 26.</code></td></tr></table>




---

archive/issue_comments_207940.json:
```json
{
    "body": "Changed commit from **[`80e0525`](https://github.com/sagemath/sagetrac-mirror/commit/80e05256e112a54e45886bd7b69548ac5c5b6111)** to **[`a7b0416`](https://github.com/sagemath/sagetrac-mirror/commit/a7b0416a762a464d94799b482df28b5ae82dd302)**",
    "created_at": "2015-06-12T11:14:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207940",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`80e0525`](https://github.com/sagemath/sagetrac-mirror/commit/80e05256e112a54e45886bd7b69548ac5c5b6111)** to **[`a7b0416`](https://github.com/sagemath/sagetrac-mirror/commit/a7b0416a762a464d94799b482df28b5ae82dd302)**



---

archive/issue_comments_207941.json:
```json
{
    "body": "Changed commit from **[`a7b0416`](https://github.com/sagemath/sagetrac-mirror/commit/a7b0416a762a464d94799b482df28b5ae82dd302)** to **[`08557ad`](https://github.com/sagemath/sagetrac-mirror/commit/08557ad4a5d117edc486e81af7804bd2c169dc75)**",
    "created_at": "2015-06-12T11:22:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207941",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a7b0416`](https://github.com/sagemath/sagetrac-mirror/commit/a7b0416a762a464d94799b482df28b5ae82dd302)** to **[`08557ad`](https://github.com/sagemath/sagetrac-mirror/commit/08557ad4a5d117edc486e81af7804bd2c169dc75)**



---

archive/issue_comments_207942.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08557ad4a5d117edc486e81af7804bd2c169dc75\"><code>08557ad</code></a></td><td><code>#16252 : parent -> type for continued fractions (comment 31)</code></td></tr></table>\n",
    "created_at": "2015-06-12T11:22:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207942",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08557ad4a5d117edc486e81af7804bd2c169dc75"><code>08557ad</code></a></td><td><code>#16252 : parent -> type for continued fractions (comment 31)</code></td></tr></table>




---

archive/issue_comments_207943.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@jhpalmieri](#comment:34):\n> Of course there has to be a balance, but I don't know of any examples where we intentionally allow failed doctests for the sake of this balance. Instead, it is often possible to write doctests which are both illustrative and correct.\n\nThe goal of this ticket is precisely about fixing broken doctests. We do not intentionally allow failed doctests, they will all be illustrative and correct once this ticket get merged. I am just saying that such broken doctests do not exhibit new bugs or regression in Sage, but only minor changes in remote database. As such, they are less important than all the nonfixed bugs that are waiting on trac without breaking any doctest. The aim of this module is about querying a remote dynamic database, if we want to be illustrative, we should show the results provided by the database, and they are subject to changes.\n\n> I think there may be valid reasons to not run internet doctests by default, but I'm not  convinced by this one. If you are worried that we might flood the OEIS servers, then rewrite the doctests to avoid this. For example, I can easily imagine someone adding \"internet\" to the optional doctest tags for the patchbots.\n\nThe thing is that i do not want to use something like `not tested` because it should be possible to test them in order to fix them easily. Since the doctests should still be runable, they will be runable by any patchbot as well. What do you suggest ? Should we add a `please_do_not_run_by_default` keyword ?",
    "created_at": "2015-06-12T12:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207943",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@jhpalmieri](#comment:34):
> Of course there has to be a balance, but I don't know of any examples where we intentionally allow failed doctests for the sake of this balance. Instead, it is often possible to write doctests which are both illustrative and correct.

The goal of this ticket is precisely about fixing broken doctests. We do not intentionally allow failed doctests, they will all be illustrative and correct once this ticket get merged. I am just saying that such broken doctests do not exhibit new bugs or regression in Sage, but only minor changes in remote database. As such, they are less important than all the nonfixed bugs that are waiting on trac without breaking any doctest. The aim of this module is about querying a remote dynamic database, if we want to be illustrative, we should show the results provided by the database, and they are subject to changes.

> I think there may be valid reasons to not run internet doctests by default, but I'm not  convinced by this one. If you are worried that we might flood the OEIS servers, then rewrite the doctests to avoid this. For example, I can easily imagine someone adding "internet" to the optional doctest tags for the patchbots.

The thing is that i do not want to use something like `not tested` because it should be possible to test them in order to fix them easily. Since the doctests should still be runable, they will be runable by any patchbot as well. What do you suggest ? Should we add a `please_do_not_run_by_default` keyword ?



---

archive/issue_comments_207944.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@sagetrac-tmonteil](#comment:38):\n> Should we add a `please_do_not_run_by_default` keyword ?\n\nI think that keyword is called `optional - internet`.",
    "created_at": "2015-06-12T12:17:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207944",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@sagetrac-tmonteil](#comment:38):
> Should we add a `please_do_not_run_by_default` keyword ?

I think that keyword is called `optional - internet`.



---

archive/issue_comments_207945.json:
```json
{
    "body": "Changed commit from **[`08557ad`](https://github.com/sagemath/sagetrac-mirror/commit/08557ad4a5d117edc486e81af7804bd2c169dc75)** to **[`bc41b61`](https://github.com/sagemath/sagetrac-mirror/commit/bc41b61d608c4f0dcee3a49f72d05853e0458506)**",
    "created_at": "2015-06-12T12:38:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207945",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`08557ad`](https://github.com/sagemath/sagetrac-mirror/commit/08557ad4a5d117edc486e81af7804bd2c169dc75)** to **[`bc41b61`](https://github.com/sagemath/sagetrac-mirror/commit/bc41b61d608c4f0dcee3a49f72d05853e0458506)**



---

archive/issue_comments_207946.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc41b61d608c4f0dcee3a49f72d05853e0458506\"><code>bc41b61</code></a></td><td><code>#16252 fix OEIS doctests not in oeis.py.</code></td></tr></table>\n",
    "created_at": "2015-06-12T12:38:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207946",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc41b61d608c4f0dcee3a49f72d05853e0458506"><code>bc41b61</code></a></td><td><code>#16252 fix OEIS doctests not in oeis.py.</code></td></tr></table>




---

archive/issue_comments_207947.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nReplying to [@jdemeyer](#comment:27):\n> This needs to be rebased to #18637.\n\nI can not fetch the branch, `git trac fetch 18637` leads to an error.",
    "created_at": "2015-06-12T13:10:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207947",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:41" align="right">comment:41</div>

Replying to [@jdemeyer](#comment:27):
> This needs to be rebased to #18637.

I can not fetch the branch, `git trac fetch 18637` leads to an error.



---

archive/issue_comments_207948.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@sagetrac-tmonteil](#comment:41):\n> I can not fetch the branch, `git trac fetch 18637` leads to an error.\n\nIt seems that i have been victim of [this](http://thread.gmane.org/gmane.comp.mathematics.sage.devel/75678) [issue](https://groups.google.com/forum/?fromgroups#!searchin/sage-devel/branch$20ticket$20closed/sage-devel/FJuKA4OiMWY/mAJeDFlAXX8J).",
    "created_at": "2015-06-12T17:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207948",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@sagetrac-tmonteil](#comment:41):
> I can not fetch the branch, `git trac fetch 18637` leads to an error.

It seems that i have been victim of [this](http://thread.gmane.org/gmane.comp.mathematics.sage.devel/75678) [issue](https://groups.google.com/forum/?fromgroups#!searchin/sage-devel/branch$20ticket$20closed/sage-devel/FJuKA4OiMWY/mAJeDFlAXX8J).



---

archive/issue_comments_207949.json:
```json
{
    "body": "Changed commit from **[`bc41b61`](https://github.com/sagemath/sagetrac-mirror/commit/bc41b61d608c4f0dcee3a49f72d05853e0458506)** to **[`50b983a`](https://github.com/sagemath/sagetrac-mirror/commit/50b983ae7a64a3ae7cd3e7c55a021f24e65dd30c)**",
    "created_at": "2015-06-12T17:35:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207949",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bc41b61`](https://github.com/sagemath/sagetrac-mirror/commit/bc41b61d608c4f0dcee3a49f72d05853e0458506)** to **[`50b983a`](https://github.com/sagemath/sagetrac-mirror/commit/50b983ae7a64a3ae7cd3e7c55a021f24e65dd30c)**



---

archive/issue_comments_207950.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23736ea85fa50142a3e1fd3fe7ca4c0ce34669f5\"><code>23736ea</code></a></td><td><code>Fix some optional/not tested tags</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d63b0c9834909b81dbf44eae2a64e60ab9b3189c\"><code>d63b0c9</code></a></td><td><code>Minor optional doctest fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8036f11f215a1ae39bab8c89b0d818481b3446a6\"><code>8036f11</code></a></td><td><code>Fix doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50b983ae7a64a3ae7cd3e7c55a021f24e65dd30c\"><code>50b983a</code></a></td><td><code>#16252 merge with #18637 (comment 27).</code></td></tr></table>\n",
    "created_at": "2015-06-12T17:35:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207950",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23736ea85fa50142a3e1fd3fe7ca4c0ce34669f5"><code>23736ea</code></a></td><td><code>Fix some optional/not tested tags</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d63b0c9834909b81dbf44eae2a64e60ab9b3189c"><code>d63b0c9</code></a></td><td><code>Minor optional doctest fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8036f11f215a1ae39bab8c89b0d818481b3446a6"><code>8036f11</code></a></td><td><code>Fix doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50b983ae7a64a3ae7cd3e7c55a021f24e65dd30c"><code>50b983a</code></a></td><td><code>#16252 merge with #18637 (comment 27).</code></td></tr></table>




---

archive/issue_comments_207951.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nI hope i did the merge the correct way. What looks weird to me is that when i click on the merge commit ([50b983a](https://github.com/sagemath/sagetrac-mirror/commit/50b983ae7a64a3ae7cd3e7c55a021f24e65dd30c)) i see tons of changes that correspond to #18637, wile i would expect to see only the few minor choices i had to make between the two versions. So, i wonder how could this be reviewed. Is there a got tool to see what non-automatic was done in a merge commit ? Otherwise, i could use a merge commit to insert some bad code and be almost sure that it will not be reviewed because it will be considered as code coming from the other branch.",
    "created_at": "2015-06-12T17:51:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207951",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:44" align="right">comment:44</div>

I hope i did the merge the correct way. What looks weird to me is that when i click on the merge commit ([50b983a](https://github.com/sagemath/sagetrac-mirror/commit/50b983ae7a64a3ae7cd3e7c55a021f24e65dd30c)) i see tons of changes that correspond to #18637, wile i would expect to see only the few minor choices i had to make between the two versions. So, i wonder how could this be reviewed. Is there a got tool to see what non-automatic was done in a merge commit ? Otherwise, i could use a merge commit to insert some bad code and be almost sure that it will not be reviewed because it will be considered as code coming from the other branch.



---

archive/issue_events_233201.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-06-12T17:52:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233201"
}
```



---

archive/issue_events_233202.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-06-12T17:52:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233202"
}
```



---

archive/issue_comments_207952.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nReplying to [@sagetrac-tmonteil](#comment:44):\n> I hope i did the merge the correct way. What looks weird to me is that when i click on the merge commit ([50b983a](https://github.com/sagemath/sagetrac-mirror/commit/50b983ae7a64a3ae7cd3e7c55a021f24e65dd30c)) i see tons of changes that correspond to #18637, wile i would expect to see only the few minor choices i had to make between the two versions. So, i wonder how could this be reviewed. Is there a got tool to see what non-automatic was done in a merge commit ? Otherwise, i could use a merge commit to insert some bad code and be almost sure that it will not be reviewed because it will be considered as code coming from the other branch.\n\nI think it's best to review the branch as a whole, not the individual commits. Especially for a ticket like this with not so many changes this is the best.",
    "created_at": "2015-06-12T19:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207952",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:46" align="right">comment:46</div>

Replying to [@sagetrac-tmonteil](#comment:44):
> I hope i did the merge the correct way. What looks weird to me is that when i click on the merge commit ([50b983a](https://github.com/sagemath/sagetrac-mirror/commit/50b983ae7a64a3ae7cd3e7c55a021f24e65dd30c)) i see tons of changes that correspond to #18637, wile i would expect to see only the few minor choices i had to make between the two versions. So, i wonder how could this be reviewed. Is there a got tool to see what non-automatic was done in a merge commit ? Otherwise, i could use a merge commit to insert some bad code and be almost sure that it will not be reviewed because it will be considered as code coming from the other branch.

I think it's best to review the branch as a whole, not the individual commits. Especially for a ticket like this with not so many changes this is the best.



---

archive/issue_comments_207953.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\npatchbot now complains about pickle. This usually means a unicode character problem.\nMaybe the word \"Lam\u00e9\" is the culprit..",
    "created_at": "2015-06-13T12:15:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207953",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:47" align="right">comment:47</div>

patchbot now complains about pickle. This usually means a unicode character problem.
Maybe the word "Lamé" is the culprit..



---

archive/issue_comments_207954.json:
```json
{
    "body": "<div id=\"comment:48\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5a07018a08ed45936bf26b8a04c7e799f4ba185\"><code>c5a0701</code></a></td><td><code>#16252 declare the oeis.py file unicode.</code></td></tr></table>\n",
    "created_at": "2015-06-13T16:35:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207954",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5a07018a08ed45936bf26b8a04c7e799f4ba185"><code>c5a0701</code></a></td><td><code>#16252 declare the oeis.py file unicode.</code></td></tr></table>




---

archive/issue_comments_207955.json:
```json
{
    "body": "Changed commit from **[`50b983a`](https://github.com/sagemath/sagetrac-mirror/commit/50b983ae7a64a3ae7cd3e7c55a021f24e65dd30c)** to **[`c5a0701`](https://github.com/sagemath/sagetrac-mirror/commit/c5a07018a08ed45936bf26b8a04c7e799f4ba185)**",
    "created_at": "2015-06-13T16:35:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207955",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`50b983a`](https://github.com/sagemath/sagetrac-mirror/commit/50b983ae7a64a3ae7cd3e7c55a021f24e65dd30c)** to **[`c5a0701`](https://github.com/sagemath/sagetrac-mirror/commit/c5a07018a08ed45936bf26b8a04c7e799f4ba185)**



---

archive/issue_comments_207956.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nApparently, no patchbot is willing to work on this ticket anymore :/",
    "created_at": "2015-06-22T19:52:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207956",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:49" align="right">comment:49</div>

Apparently, no patchbot is willing to work on this ticket anymore :/



---

archive/issue_comments_207957.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b6ffa3466735f1af7d5c71c3d34ed32a1b87efb\"><code>8b6ffa3</code></a></td><td><code>#16252 forgot an \"internet\" tag + make an example more explicit.</code></td></tr></table>\n",
    "created_at": "2015-07-08T16:32:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207957",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b6ffa3466735f1af7d5c71c3d34ed32a1b87efb"><code>8b6ffa3</code></a></td><td><code>#16252 forgot an "internet" tag + make an example more explicit.</code></td></tr></table>




---

archive/issue_comments_207958.json:
```json
{
    "body": "Changed commit from **[`c5a0701`](https://github.com/sagemath/sagetrac-mirror/commit/c5a07018a08ed45936bf26b8a04c7e799f4ba185)** to **[`8b6ffa3`](https://github.com/sagemath/sagetrac-mirror/commit/8b6ffa3466735f1af7d5c71c3d34ed32a1b87efb)**",
    "created_at": "2015-07-08T16:32:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207958",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c5a0701`](https://github.com/sagemath/sagetrac-mirror/commit/c5a07018a08ed45936bf26b8a04c7e799f4ba185)** to **[`8b6ffa3`](https://github.com/sagemath/sagetrac-mirror/commit/8b6ffa3466735f1af7d5c71c3d34ed32a1b87efb)**



---

archive/issue_comments_207959.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nJust a detail, but what's with all the changes of the form\n\n```diff\n- sage: oeis(seq)[0]  # optional - internet\n+ sage: oeis(seq)[0]                              # optional -- internet\n```",
    "created_at": "2015-07-08T19:01:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207959",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:51" align="right">comment:51</div>

Just a detail, but what's with all the changes of the form

```diff
- sage: oeis(seq)[0]  # optional - internet
+ sage: oeis(seq)[0]                              # optional -- internet
```



---

archive/issue_comments_207960.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nIt is more readable when you access the doc from the command line.",
    "created_at": "2015-07-08T22:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207960",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:52" align="right">comment:52</div>

It is more readable when you access the doc from the command line.



---

archive/issue_comments_207961.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nBroken doctest in `combinat/species/library.py`. Otherwise it looks good.\n\nNathann",
    "created_at": "2015-09-02T12:41:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207961",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:53" align="right">comment:53</div>

Broken doctest in `combinat/species/library.py`. Otherwise it looks good.

Nathann



---

archive/issue_events_233203.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-09-02T12:41:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233203"
}
```



---

archive/issue_events_233204.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-09-02T12:41:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233204"
}
```



---

archive/issue_comments_207962.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nActually:\n\n```\nsage -t --long quickref.py  # 1 doctest failed\nsage -t --long integer_list.py  # 1 doctest failed\nsage -t --long species/library.py  # 1 doctest failed\n\n```",
    "created_at": "2015-09-02T13:11:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207962",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:54" align="right">comment:54</div>

Actually:

```
sage -t --long quickref.py  # 1 doctest failed
sage -t --long integer_list.py  # 1 doctest failed
sage -t --long species/library.py  # 1 doctest failed

```



---

archive/issue_comments_207963.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nVery broken:\n\n```\nsage -t --optional=sage,internet src/sage/databases/oeis.py\n```\ngives\n\n```\nsage -t src/sage/databases/oeis.py  # 25 doctests failed\n```",
    "created_at": "2015-09-18T11:25:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207963",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:55" align="right">comment:55</div>

Very broken:

```
sage -t --optional=sage,internet src/sage/databases/oeis.py
```
gives

```
sage -t src/sage/databases/oeis.py  # 25 doctests failed
```



---

archive/issue_comments_207964.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nInstead of fixing the doctests by changing their expected output, we should really test those features without relying on the exact text received from the OEIS. These doctests are broken most of the time nowadays.\n\nNathann",
    "created_at": "2015-09-18T12:01:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207964",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:56" align="right">comment:56</div>

Instead of fixing the doctests by changing their expected output, we should really test those features without relying on the exact text received from the OEIS. These doctests are broken most of the time nowadays.

Nathann



---

archive/issue_comments_207965.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nReplying to [@nathanncohen](#comment:54):\n> Actually:\n> \n> ```\n> sage -t --long quickref.py  # 1 doctest failed\n> sage -t --long integer_list.py  # 1 doctest failed\n> sage -t --long species/library.py  # 1 doctest failed\n> \n> ```\n\nThanks, i updated the branch (and merged it with the latest beta).",
    "created_at": "2015-09-18T19:29:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207965",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:57" align="right">comment:57</div>

Replying to [@nathanncohen](#comment:54):
> Actually:
> 
> ```
> sage -t --long quickref.py  # 1 doctest failed
> sage -t --long integer_list.py  # 1 doctest failed
> sage -t --long species/library.py  # 1 doctest failed
> 
> ```

Thanks, i updated the branch (and merged it with the latest beta).



---

archive/issue_comments_207966.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c2d4b8e88b0c9a5db4c60bd0734b08d104050b7\"><code>3c2d4b8</code></a></td><td><code>Merge branch 'develop' into t/16252/public/ticket/16252</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98a98842d6a51f6ca225162f575dc3ba9ea7ad3b\"><code>98a9884</code></a></td><td><code>#16252 : fix some doctests (comment 54).</code></td></tr></table>\n",
    "created_at": "2015-09-18T19:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207966",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c2d4b8e88b0c9a5db4c60bd0734b08d104050b7"><code>3c2d4b8</code></a></td><td><code>Merge branch 'develop' into t/16252/public/ticket/16252</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98a98842d6a51f6ca225162f575dc3ba9ea7ad3b"><code>98a9884</code></a></td><td><code>#16252 : fix some doctests (comment 54).</code></td></tr></table>




---

archive/issue_comments_207967.json:
```json
{
    "body": "Changed commit from **[`8b6ffa3`](https://github.com/sagemath/sagetrac-mirror/commit/8b6ffa3466735f1af7d5c71c3d34ed32a1b87efb)** to **[`98a9884`](https://github.com/sagemath/sagetrac-mirror/commit/98a98842d6a51f6ca225162f575dc3ba9ea7ad3b)**",
    "created_at": "2015-09-18T19:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207967",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8b6ffa3`](https://github.com/sagemath/sagetrac-mirror/commit/8b6ffa3466735f1af7d5c71c3d34ed32a1b87efb)** to **[`98a9884`](https://github.com/sagemath/sagetrac-mirror/commit/98a98842d6a51f6ca225162f575dc3ba9ea7ad3b)**



---

archive/issue_comments_207968.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nReplying to [@fchapoton](#comment:55):\n> Very broken:\n> \n> ```\n> sage -t --optional=sage,internet src/sage/databases/oeis.py\n> ```\n> gives\n> \n> ```\n> sage -t src/sage/databases/oeis.py  # 25 doctests failed\n> ```\n\nI do not see any error here, did you apply the branch ?",
    "created_at": "2015-09-18T19:30:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207968",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:59" align="right">comment:59</div>

Replying to [@fchapoton](#comment:55):
> Very broken:
> 
> ```
> sage -t --optional=sage,internet src/sage/databases/oeis.py
> ```
> gives
> 
> ```
> sage -t src/sage/databases/oeis.py  # 25 doctests failed
> ```

I do not see any error here, did you apply the branch ?



---

archive/issue_comments_207969.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nReplying to [@nathanncohen](#comment:56):\n> Instead of fixing the doctests by changing their expected output, we should really test those features without relying on the exact text received from the OEIS. These doctests are broken most of the time nowadays.\n> \n> Nathann\n\nThe problem is that those doctests have a role of documentation, not test. They are an illustration of some mathematical concept, hence the actual text is important. In the last commit, the oeis calls are supposed to illustrate things about:\n\n- Genus of modular group Gamma_0(n),\n- Motzkin numbers,\n- species of simple graphs,\n- Coefficients of a Bessel function,\n\nnot about testing Sage/oeis features, so writing indirect doctests that will not show the results provided by the OEIS database might not be interesting.",
    "created_at": "2015-09-18T19:46:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207969",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:60" align="right">comment:60</div>

Replying to [@nathanncohen](#comment:56):
> Instead of fixing the doctests by changing their expected output, we should really test those features without relying on the exact text received from the OEIS. These doctests are broken most of the time nowadays.
> 
> Nathann

The problem is that those doctests have a role of documentation, not test. They are an illustration of some mathematical concept, hence the actual text is important. In the last commit, the oeis calls are supposed to illustrate things about:

- Genus of modular group Gamma_0(n),
- Motzkin numbers,
- species of simple graphs,
- Coefficients of a Bessel function,

not about testing Sage/oeis features, so writing indirect doctests that will not show the results provided by the OEIS database might not be interesting.



---

archive/issue_events_233205.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-09-18T19:47:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233205"
}
```



---

archive/issue_events_233206.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-09-18T19:47:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233206"
}
```



---

archive/issue_comments_207970.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\n> The problem is that those doctests have a role of documentation, not test. \n\nThen add a `# random` flag at the end of those lines, so that the tests do not break so often. And where you actually need to test something, add it in a TEST section where you can be as unclear as you want to test what you want to test (as you don't need to be understood by a newcomer), so that what should be tested is tested.\n\nNathann",
    "created_at": "2015-09-18T19:57:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207970",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:62" align="right">comment:62</div>

> The problem is that those doctests have a role of documentation, not test. 

Then add a `# random` flag at the end of those lines, so that the tests do not break so often. And where you actually need to test something, add it in a TEST section where you can be as unclear as you want to test what you want to test (as you don't need to be understood by a newcomer), so that what should be tested is tested.

Nathann



---

archive/issue_comments_207971.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nReplying to [@nathanncohen](#comment:62):\n> Then add a `# random` flag at the end of those lines, so that the tests do not break so often. And where you actually need to test something, add it in a TEST section where you can be as unclear as you want to test what you want to test (as you don't need to be understood by a newcomer), so that what should be tested is tested.\n\nThe tests do not break at all thanks to the `# internet` flag, which is not turned on by default. It has the same effect than `# random` except that we can run them from time to time to check/update.\n\nPlease read the whole thread, all this has already been discussed, in particular see [comment 39 (jdemeyer)](#comment:39):\n> Replying to [@sagetrac-tmonteil](#comment:38):\n> > Should we add a `please_do_not_run_by_default` keyword ?\n\n> I think that keyword is called `optional - internet`.",
    "created_at": "2015-09-19T08:37:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207971",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:63" align="right">comment:63</div>

Replying to [@nathanncohen](#comment:62):
> Then add a `# random` flag at the end of those lines, so that the tests do not break so often. And where you actually need to test something, add it in a TEST section where you can be as unclear as you want to test what you want to test (as you don't need to be understood by a newcomer), so that what should be tested is tested.

The tests do not break at all thanks to the `# internet` flag, which is not turned on by default. It has the same effect than `# random` except that we can run them from time to time to check/update.

Please read the whole thread, all this has already been discussed, in particular see [comment 39 (jdemeyer)](#comment:39):
> Replying to [@sagetrac-tmonteil](#comment:38):
> > Should we add a `please_do_not_run_by_default` keyword ?

> I think that keyword is called `optional - internet`.



---

archive/issue_comments_207972.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\n> The tests do not break at all thanks to the `# internet` flag, which is not turned on by default. It has the same effect than `# random` except that we can run them from time to time to check/update.\n\nNo, it has not. It gives you a way to have a clean documentation that is helpful to the users even if the remote database changes, and it gives you a way to write consistent tests why will not break even if the database changes.\n\n> Please read the whole thread\n\nI do not care at all if you like to write broken test and to fix them every two months. I just mentionned a way to do the job properly, and I will not fight with you if you do not care. Have fun fixing them again in 6 months.\n\nNathann",
    "created_at": "2015-09-19T08:51:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207972",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:64" align="right">comment:64</div>

> The tests do not break at all thanks to the `# internet` flag, which is not turned on by default. It has the same effect than `# random` except that we can run them from time to time to check/update.

No, it has not. It gives you a way to have a clean documentation that is helpful to the users even if the remote database changes, and it gives you a way to write consistent tests why will not break even if the database changes.

> Please read the whole thread

I do not care at all if you like to write broken test and to fix them every two months. I just mentionned a way to do the job properly, and I will not fight with you if you do not care. Have fun fixing them again in 6 months.

Nathann



---

archive/issue_comments_207973.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nThanks for your actual contribution on this ticket.\n\nNow, if someone could review it, the changes could enter Sage.",
    "created_at": "2015-09-29T14:12:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207973",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:65" align="right">comment:65</div>

Thanks for your actual contribution on this ticket.

Now, if someone could review it, the changes could enter Sage.



---

archive/issue_comments_207974.json:
```json
{
    "body": "<div id=\"comment:66\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f3602e4ecd2f62cbb2109789134ba1d0cf68fc5\"><code>6f3602e</code></a></td><td><code>Merge branch 'public/ticket/16252' into 6.10.b4</code></td></tr></table>\n",
    "created_at": "2015-11-13T20:01:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207974",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f3602e4ecd2f62cbb2109789134ba1d0cf68fc5"><code>6f3602e</code></a></td><td><code>Merge branch 'public/ticket/16252' into 6.10.b4</code></td></tr></table>




---

archive/issue_comments_207975.json:
```json
{
    "body": "Changed commit from **[`98a9884`](https://github.com/sagemath/sagetrac-mirror/commit/98a98842d6a51f6ca225162f575dc3ba9ea7ad3b)** to **[`6f3602e`](https://github.com/sagemath/sagetrac-mirror/commit/6f3602e4ecd2f62cbb2109789134ba1d0cf68fc5)**",
    "created_at": "2015-11-13T20:01:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207975",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`98a9884`](https://github.com/sagemath/sagetrac-mirror/commit/98a98842d6a51f6ca225162f575dc3ba9ea7ad3b)** to **[`6f3602e`](https://github.com/sagemath/sagetrac-mirror/commit/6f3602e4ecd2f62cbb2109789134ba1d0cf68fc5)**



---

archive/issue_comments_207976.json:
```json
{
    "body": "<div id=\"comment:67\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/753ffc79d56005fd18927c1de3a0a1f28ccf91dc\"><code>753ffc7</code></a></td><td><code>trac #16252 updating</code></td></tr></table>\n",
    "created_at": "2015-11-13T20:49:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207976",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:67"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/753ffc79d56005fd18927c1de3a0a1f28ccf91dc"><code>753ffc7</code></a></td><td><code>trac #16252 updating</code></td></tr></table>




---

archive/issue_comments_207977.json:
```json
{
    "body": "Changed commit from **[`6f3602e`](https://github.com/sagemath/sagetrac-mirror/commit/6f3602e4ecd2f62cbb2109789134ba1d0cf68fc5)** to **[`753ffc7`](https://github.com/sagemath/sagetrac-mirror/commit/753ffc79d56005fd18927c1de3a0a1f28ccf91dc)**",
    "created_at": "2015-11-13T20:49:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207977",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6f3602e`](https://github.com/sagemath/sagetrac-mirror/commit/6f3602e4ecd2f62cbb2109789134ba1d0cf68fc5)** to **[`753ffc7`](https://github.com/sagemath/sagetrac-mirror/commit/753ffc79d56005fd18927c1de3a0a1f28ccf91dc)**



---

archive/issue_events_233207.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-11-13T20:50:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233207"
}
```



---

archive/issue_events_233208.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-11-13T20:50:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233208"
}
```



---

archive/issue_comments_207978.json:
```json
{
    "body": "<div id=\"comment:69\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d5ed5671ceaf7bcceee79d4c95952b4709cc50e\"><code>2d5ed56</code></a></td><td><code>Merge branch 'public/ticket/16252' into 7.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d457a51680d91ae93b36f1fe470c4972202e0a55\"><code>d457a51</code></a></td><td><code>trac #16252 update</code></td></tr></table>\n",
    "created_at": "2016-01-22T13:20:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207978",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:69"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d5ed5671ceaf7bcceee79d4c95952b4709cc50e"><code>2d5ed56</code></a></td><td><code>Merge branch 'public/ticket/16252' into 7.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d457a51680d91ae93b36f1fe470c4972202e0a55"><code>d457a51</code></a></td><td><code>trac #16252 update</code></td></tr></table>




---

archive/issue_comments_207979.json:
```json
{
    "body": "Changed commit from **[`753ffc7`](https://github.com/sagemath/sagetrac-mirror/commit/753ffc79d56005fd18927c1de3a0a1f28ccf91dc)** to **[`d457a51`](https://github.com/sagemath/sagetrac-mirror/commit/d457a51680d91ae93b36f1fe470c4972202e0a55)**",
    "created_at": "2016-01-22T13:20:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207979",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`753ffc7`](https://github.com/sagemath/sagetrac-mirror/commit/753ffc79d56005fd18927c1de3a0a1f28ccf91dc)** to **[`d457a51`](https://github.com/sagemath/sagetrac-mirror/commit/d457a51680d91ae93b36f1fe470c4972202e0a55)**



---

archive/issue_events_233209.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-01-22T13:32:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233209"
}
```



---

archive/issue_events_233210.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-01-22T13:32:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233210"
}
```



---

archive/issue_comments_207980.json:
```json
{
    "body": "Changed reviewer from **Wilfried Luebbe** to **Wilfried Luebbe, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2016-01-22T13:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207980",
    "user": "https://github.com/fchapoton"
}
```

Changed reviewer from **Wilfried Luebbe** to **Wilfried Luebbe, Frédéric Chapoton**



---

archive/issue_comments_207981.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nok, looks good to me.",
    "created_at": "2016-01-22T13:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207981",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:70" align="right">comment:70</div>

ok, looks good to me.



---

archive/issue_comments_207982.json:
```json
{
    "body": "Changed branch from **[public/ticket/16252](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16252)** to **[`d457a51`](https://github.com/sagemath/sagetrac-mirror/commit/d457a51680d91ae93b36f1fe470c4972202e0a55)**",
    "created_at": "2016-01-23T20:42:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16252#issuecomment-207982",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/ticket/16252](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16252)** to **[`d457a51`](https://github.com/sagemath/sagetrac-mirror/commit/d457a51680d91ae93b36f1fe470c4972202e0a55)**



---

archive/issue_events_233211.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-23T20:42:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233211"
}
```



---

archive/issue_events_233212.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f64d1544e39096d2c8a415a1ba8d9769294cf845",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-01-23T20:42:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16252",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16252#event-233212"
}
```
