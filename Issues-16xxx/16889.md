# Issue 16889: Doctest tolerance: allow spaces and use intervals

archive/issues_016652.json:
```json
{
    "assignees": [],
    "body": "The doctesting framework should ignore whitespace before numbers and between the sign and the number when testing with `(abs|rel) tol`. There are two reasons why:\n\n1. The spacing of matrices is unpredictable. You could have\n\n```\n[1.0 0.0]\n[1.0 0.0]\n```\nvs\n\n```\n[0.999999 0.0]\n[     1.0 0.0]\n```\nNote the added space between `[` and `1.0`.\n\n2. Complex numbers or polynomials\n\n```\n1.0 + 1e-16*I\n```\nvs\n\n```\n1.0 - 1e-16*I\n```\nHere you want to compare ` + 1e-16` and ` - 1e-16` with the sign for your tolerance computations.\n\nAfter some consideration, I decided it actually makes a lot of sense to use interval arithmetic for doctest tolerances, this is implemented on this ticket.\n\nCC:  @zimmermann6\n\nBranch/Commit: **[1f858c7](https://github.com/sagemath/sagetrac-mirror/commit/1f858c7511d147e2f93dd0fd4e160fed8ad4f234)**\n\nReviewer: **Volker Braun**\n\nAuthor: **Jeroen Demeyer**\n\nMerged: **sage-6.4.beta3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16889_\n\n",
    "closed_at": "2014-09-06T11:03:04Z",
    "created_at": "2014-08-27T14:43:50Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20doctest%20framework",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Doctest tolerance: allow spaces and use intervals",
    "type": "issue",
    "updated_at": "2015-01-07T19:30:40Z",
    "url": "https://github.com/sagemath/sage/issues/16889",
    "user": "https://github.com/jdemeyer"
}
```
The doctesting framework should ignore whitespace before numbers and between the sign and the number when testing with `(abs|rel) tol`. There are two reasons why:

1. The spacing of matrices is unpredictable. You could have

```
[1.0 0.0]
[1.0 0.0]
```
vs

```
[0.999999 0.0]
[     1.0 0.0]
```
Note the added space between `[` and `1.0`.

2. Complex numbers or polynomials

```
1.0 + 1e-16*I
```
vs

```
1.0 - 1e-16*I
```
Here you want to compare ` + 1e-16` and ` - 1e-16` with the sign for your tolerance computations.

After some consideration, I decided it actually makes a lot of sense to use interval arithmetic for doctest tolerances, this is implemented on this ticket.

CC:  @zimmermann6

Branch/Commit: **[1f858c7](https://github.com/sagemath/sagetrac-mirror/commit/1f858c7511d147e2f93dd0fd4e160fed8ad4f234)**

Reviewer: **Volker Braun**

Author: **Jeroen Demeyer**

Merged: **sage-6.4.beta3**

_Issue created by migration from https://trac.sagemath.org/ticket/16889_





---

archive/issue_events_215796.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-08-27T14:43:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16889#event-215796"
}
```



---

archive/issue_events_215797.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-08-27T14:43:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20doctest%20framework",
    "label_color": "000080",
    "label_name": "component: doctest framework",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16889#event-215797"
}
```



---

archive/issue_events_215798.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-08-27T14:43:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16889#event-215798"
}
```



---

archive/issue_events_215799.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-08-27T14:43:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16889#event-215799"
}
```



---

archive/issue_comments_224986.json:
```json
{
    "body": "Branch: **[u/jdemeyer/ticket/16889](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16889)**",
    "created_at": "2014-08-27T15:04:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-224986",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/ticket/16889](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16889)**



---

archive/issue_comments_224987.json:
```json
{
    "body": "Commit: **[46301ac](https://github.com/sagemath/sagetrac-mirror/commit/46301acf040394a5660c7a9a7262116cfc721804)**",
    "created_at": "2014-08-27T16:01:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-224987",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[46301ac](https://github.com/sagemath/sagetrac-mirror/commit/46301acf040394a5660c7a9a7262116cfc721804)**



---

archive/issue_comments_224988.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46301acf040394a5660c7a9a7262116cfc721804\">46301ac</a></td><td><code>Doctest tolerance: allow spaces</code></td></tr></table>\n",
    "created_at": "2014-08-27T16:01:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-224988",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46301acf040394a5660c7a9a7262116cfc721804">46301ac</a></td><td><code>Doctest tolerance: allow spaces</code></td></tr></table>




---

archive/issue_comments_224989.json:
```json
{
    "body": "Changed commit from **[46301ac](https://github.com/sagemath/sagetrac-mirror/commit/46301acf040394a5660c7a9a7262116cfc721804)** to **[291a442](https://github.com/sagemath/sagetrac-mirror/commit/291a442c8b006a8224e76cc68df7ad9708333c96)**",
    "created_at": "2014-08-27T18:52:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-224989",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[46301ac](https://github.com/sagemath/sagetrac-mirror/commit/46301acf040394a5660c7a9a7262116cfc721804)** to **[291a442](https://github.com/sagemath/sagetrac-mirror/commit/291a442c8b006a8224e76cc68df7ad9708333c96)**



---

archive/issue_comments_224990.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/291a442c8b006a8224e76cc68df7ad9708333c96\">291a442</a></td><td><code>Doctest tolerance: allow spaces</code></td></tr></table>\n",
    "created_at": "2014-08-27T18:52:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-224990",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/291a442c8b006a8224e76cc68df7ad9708333c96">291a442</a></td><td><code>Doctest tolerance: allow spaces</code></td></tr></table>




---

archive/issue_comments_224991.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nPaul Zimmermann: this needs a minor change to a French book doctest. When using `# tol`, you may no longer split doctest results like\n\n```\n1.5 -\n2.3\n```\nThe minus sign may not be on its own line, you need to write\n\n```\n1.5\n- 2.3\n```",
    "created_at": "2014-08-27T19:17:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-224991",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'>Comment 4:</a>
Paul Zimmermann: this needs a minor change to a French book doctest. When using `# tol`, you may no longer split doctest results like

```
1.5 -
2.3
```
The minus sign may not be on its own line, you need to write

```
1.5
- 2.3
```



---

archive/issue_comments_224992.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -24,4 +24,4 @@\n ```\n 1.0 - 1e-16*I\n ```\n-Here you want to compare ` + 1e-16` and ` - 1e-16` for your tolerance computations.\n+Here you want to compare ` + 1e-16` and ` - 1e-16` with the sign for your tolerance computations.\n``````\n",
    "created_at": "2014-08-27T19:19:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-224992",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -24,4 +24,4 @@
 ```
 1.0 - 1e-16*I
 ```
-Here you want to compare ` + 1e-16` and ` - 1e-16` for your tolerance computations.
+Here you want to compare ` + 1e-16` and ` - 1e-16` with the sign for your tolerance computations.
``````




---

archive/issue_events_215800.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-08-27T19:19:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16889#event-215800"
}
```



---

archive/issue_comments_224993.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nin the source of the french book, I've changed to:\n\n```\n  [0.347521510119 + 0.566550553398*I, 0.347521510119 - 0.566550553398*I,\n  0.345023776962 + 0.439908702386*I, 0.345023776962 - 0.439908702386*I,\n  -0.517257614325 + 0.512958206789*I,\n  -0.517257614325 - 0.512958206789*I, -1.36699716455, -9.98357818097]\n```\nwhich uses the same number of lines, and should not make any overfull hbox.\nIs that ok?\n\nPaul",
    "created_at": "2014-08-27T20:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-224993",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:6'>Comment 6:</a>
in the source of the french book, I've changed to:

```
  [0.347521510119 + 0.566550553398*I, 0.347521510119 - 0.566550553398*I,
  0.345023776962 + 0.439908702386*I, 0.345023776962 - 0.439908702386*I,
  -0.517257614325 + 0.512958206789*I,
  -0.517257614325 - 0.512958206789*I, -1.36699716455, -9.98357818097]
```
which uses the same number of lines, and should not make any overfull hbox.
Is that ok?

Paul



---

archive/issue_comments_224994.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@zimmermann6](#comment%3A6):\n> in the source of the french book, I've changed to:\n> \n> ```\n>   [0.347521510119 + 0.566550553398*I, 0.347521510119 - 0.566550553398*I,\n>   0.345023776962 + 0.439908702386*I, 0.345023776962 - 0.439908702386*I,\n>   -0.517257614325 + 0.512958206789*I,\n>   -0.517257614325 - 0.512958206789*I, -1.36699716455, -9.98357818097]\n> ```\n> which uses the same number of lines, and should not make any overfull hbox.\n> Is that ok?\n\nYes, that would be good. However, note that Sage itself actually formats the results as in my patch, with one value per line.",
    "created_at": "2014-08-27T20:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-224994",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@zimmermann6](#comment%3A6):
> in the source of the french book, I've changed to:
> 
> ```
>   [0.347521510119 + 0.566550553398*I, 0.347521510119 - 0.566550553398*I,
>   0.345023776962 + 0.439908702386*I, 0.345023776962 - 0.439908702386*I,
>   -0.517257614325 + 0.512958206789*I,
>   -0.517257614325 - 0.512958206789*I, -1.36699716455, -9.98357818097]
> ```
> which uses the same number of lines, and should not make any overfull hbox.
> Is that ok?

Yes, that would be good. However, note that Sage itself actually formats the results as in my patch, with one value per line.



---

archive/issue_comments_224995.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nok, however in our book we allow ourselves not to follow 100% the Sage output format, up to spaces\nand line breaks, to save some vertical space.\n\nPaul",
    "created_at": "2014-08-27T20:32:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-224995",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:8'>Comment 8:</a>
ok, however in our book we allow ourselves not to follow 100% the Sage output format, up to spaces
and line breaks, to save some vertical space.

Paul



---

archive/issue_comments_224996.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nFun fact: this ticket relies on functionality added in 2006:\n\n```diff\ncommit 04043acc648e0bca14725f147b2040e204ae1f9b\nAuthor: William Stein <wstein@ucsd.edu>\nDate:   Mon May 29 01:10:56 2006 +0000\n\n    [project @ mpfr -- can coerce in numbers ignoring space, e.g. RR('1 E7') now works (which is what pari outputs!)]\n\ndiff --git a/src/sage/ext/mpfr.pyx b/src/sage/ext/mpfr.pyx\nindex 8f92208..afc9b72 100644\n--- a/src/sage/ext/mpfr.pyx\n+++ b/src/sage/ext/mpfr.pyx\n@@ -602,7 +602,7 @@ cdef class RealNumber(element.RingElement):\n             d = parent(x.denominator())\n             mpfr_div(self.value, n.value, d.value, parent.rnd)\n         else:\n-            s = str(x)\n+            s = str(x).replace(' ','')\n             if mpfr_set_str(self.value, s, base, parent.rnd):\n                 if s == 'NaN' or s == '@NaN@':\n                     mpfr_set_nan(self.value)\n```",
    "created_at": "2014-08-27T20:32:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-224996",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'>Comment 9:</a>
Fun fact: this ticket relies on functionality added in 2006:

```diff
commit 04043acc648e0bca14725f147b2040e204ae1f9b
Author: William Stein <wstein@ucsd.edu>
Date:   Mon May 29 01:10:56 2006 +0000

    [project @ mpfr -- can coerce in numbers ignoring space, e.g. RR('1 E7') now works (which is what pari outputs!)]

diff --git a/src/sage/ext/mpfr.pyx b/src/sage/ext/mpfr.pyx
index 8f92208..afc9b72 100644
--- a/src/sage/ext/mpfr.pyx
+++ b/src/sage/ext/mpfr.pyx
@@ -602,7 +602,7 @@ cdef class RealNumber(element.RingElement):
             d = parent(x.denominator())
             mpfr_div(self.value, n.value, d.value, parent.rnd)
         else:
-            s = str(x)
+            s = str(x).replace(' ','')
             if mpfr_set_str(self.value, s, base, parent.rnd):
                 if s == 'NaN' or s == '@NaN@':
                     mpfr_set_nan(self.value)
```



---

archive/issue_comments_224997.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-The doctesting framework should ignore spaces before numbers when testing with `abs/rel tol`. There are two reasons why:\n+The doctesting framework should ignore whitespace before numbers and between the sign and the number when testing with `(abs|rel) tol`. There are two reasons why:\n \n 1. The spacing of matrices is unpredictable. You could have\n \n``````\n",
    "created_at": "2014-08-28T06:51:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-224997",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-The doctesting framework should ignore spaces before numbers when testing with `abs/rel tol`. There are two reasons why:
+The doctesting framework should ignore whitespace before numbers and between the sign and the number when testing with `(abs|rel) tol`. There are two reasons why:
 
 1. The spacing of matrices is unpredictable. You could have
 
``````




---

archive/issue_comments_224998.json:
```json
{
    "body": "Changed commit from **[291a442](https://github.com/sagemath/sagetrac-mirror/commit/291a442c8b006a8224e76cc68df7ad9708333c96)** to **[dde3a3a](https://github.com/sagemath/sagetrac-mirror/commit/dde3a3a13ad9d78afe014743d31b766e0ced2af8)**",
    "created_at": "2014-08-28T13:55:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-224998",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[291a442](https://github.com/sagemath/sagetrac-mirror/commit/291a442c8b006a8224e76cc68df7ad9708333c96)** to **[dde3a3a](https://github.com/sagemath/sagetrac-mirror/commit/dde3a3a13ad9d78afe014743d31b766e0ced2af8)**



---

archive/issue_comments_224999.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dde3a3a13ad9d78afe014743d31b766e0ced2af8\">dde3a3a</a></td><td><code>Use intervals for doctest tolerances</code></td></tr></table>\n",
    "created_at": "2014-08-28T13:55:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-224999",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dde3a3a13ad9d78afe014743d31b766e0ced2af8">dde3a3a</a></td><td><code>Use intervals for doctest tolerances</code></td></tr></table>




---

archive/issue_events_215801.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-08-28T13:57:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "title_is": "Doctest tolerance: allow spaces and use intervals",
    "title_was": "Doctest tolerance: allow spaces",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16889#event-215801"
}
```



---

archive/issue_comments_225000.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -25,3 +25,5 @@\n 1.0 - 1e-16*I\n ```\n Here you want to compare ` + 1e-16` and ` - 1e-16` with the sign for your tolerance computations.\n+\n+After some consideration, I decided it actually makes a lot of sense to use interval arithmetic for doctest tolerances, this is implemented on this ticket.\n``````\n",
    "created_at": "2014-08-28T13:57:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-225000",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -25,3 +25,5 @@
 1.0 - 1e-16*I
 ```
 Here you want to compare ` + 1e-16` and ` - 1e-16` with the sign for your tolerance computations.
+
+After some consideration, I decided it actually makes a lot of sense to use interval arithmetic for doctest tolerances, this is implemented on this ticket.
``````




---

archive/issue_comments_225001.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59b511ea9efef56e1e9226216ff67212575e4cde\">59b511e</a></td><td><code>Add tolerance test file</code></td></tr></table>\n",
    "created_at": "2014-08-28T21:26:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-225001",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59b511ea9efef56e1e9226216ff67212575e4cde">59b511e</a></td><td><code>Add tolerance test file</code></td></tr></table>




---

archive/issue_comments_225002.json:
```json
{
    "body": "Changed commit from **[dde3a3a](https://github.com/sagemath/sagetrac-mirror/commit/dde3a3a13ad9d78afe014743d31b766e0ced2af8)** to **[59b511e](https://github.com/sagemath/sagetrac-mirror/commit/59b511ea9efef56e1e9226216ff67212575e4cde)**",
    "created_at": "2014-08-28T21:26:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-225002",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dde3a3a](https://github.com/sagemath/sagetrac-mirror/commit/dde3a3a13ad9d78afe014743d31b766e0ced2af8)** to **[59b511e](https://github.com/sagemath/sagetrac-mirror/commit/59b511ea9efef56e1e9226216ff67212575e4cde)**



---

archive/issue_comments_225003.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nThis looks good to me. How about renaming the `tolerance.rst` to `must_fail.rst` or so and have an explanatory sentence about what is going on at the top. I fear that somebody will sooner or later \"fix\" the failing doctests if its not clear ;-)",
    "created_at": "2014-08-29T10:16:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-225003",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'>Comment 14:</a>
This looks good to me. How about renaming the `tolerance.rst` to `must_fail.rst` or so and have an explanatory sentence about what is going on at the top. I fear that somebody will sooner or later "fix" the failing doctests if its not clear ;-)



---

archive/issue_comments_225004.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f858c7511d147e2f93dd0fd4e160fed8ad4f234\">1f858c7</a></td><td><code>Add comment that we test failing tests</code></td></tr></table>\n",
    "created_at": "2014-08-29T10:30:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-225004",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'>Comment 15:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f858c7511d147e2f93dd0fd4e160fed8ad4f234">1f858c7</a></td><td><code>Add comment that we test failing tests</code></td></tr></table>




---

archive/issue_comments_225005.json:
```json
{
    "body": "Changed commit from **[59b511e](https://github.com/sagemath/sagetrac-mirror/commit/59b511ea9efef56e1e9226216ff67212575e4cde)** to **[1f858c7](https://github.com/sagemath/sagetrac-mirror/commit/1f858c7511d147e2f93dd0fd4e160fed8ad4f234)**",
    "created_at": "2014-08-29T10:30:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-225005",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[59b511e](https://github.com/sagemath/sagetrac-mirror/commit/59b511ea9efef56e1e9226216ff67212575e4cde)** to **[1f858c7](https://github.com/sagemath/sagetrac-mirror/commit/1f858c7511d147e2f93dd0fd4e160fed8ad4f234)**



---

archive/issue_comments_225006.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2014-09-01T19:22:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-225006",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_events_215802.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-01T19:22:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16889#event-215802"
}
```



---

archive/issue_events_215803.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-01T19:22:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16889#event-215803"
}
```



---

archive/issue_events_215804.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-01T21:36:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16889#event-215804"
}
```



---

archive/issue_events_215805.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-01T21:36:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16889#event-215805"
}
```



---

archive/issue_comments_225007.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nDoctests fail because the line numbers are shifted, e.g. http://build.sagemath.org/sage/builders/%20%20fast%20Volker%20Desktop%20%28Fedora%2020%20x86_64%29%20incremental/builds/416/steps/shell_4/logs/stdio",
    "created_at": "2014-09-01T21:36:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-225007",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:17'>Comment 17:</a>
Doctests fail because the line numbers are shifted, e.g. http://build.sagemath.org/sage/builders/%20%20fast%20Volker%20Desktop%20%28Fedora%2020%20x86_64%29%20incremental/builds/416/steps/shell_4/logs/stdio



---

archive/issue_comments_225008.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/16889](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16889)** to **[u/vbraun/ticket/16889](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/16889)**",
    "created_at": "2014-09-01T21:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-225008",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/ticket/16889](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/16889)** to **[u/vbraun/ticket/16889](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/16889)**



---

archive/issue_events_215806.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-02T08:42:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16889#event-215806"
}
```



---

archive/issue_events_215807.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-02T08:42:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16889#event-215807"
}
```



---

archive/issue_comments_225009.json:
```json
{
    "body": "Changed branch from **[u/vbraun/ticket/16889](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/16889)** to **[1f858c7](https://github.com/sagemath/sagetrac-mirror/commit/1f858c7511d147e2f93dd0fd4e160fed8ad4f234)**",
    "created_at": "2014-09-06T11:03:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-225009",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/ticket/16889](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/16889)** to **[1f858c7](https://github.com/sagemath/sagetrac-mirror/commit/1f858c7511d147e2f93dd0fd4e160fed8ad4f234)**



---

archive/issue_events_215808.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-06T11:03:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16889#event-215808"
}
```



---

archive/issue_events_215809.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-06T11:03:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16889#event-215809"
}
```



---

archive/issue_comments_225010.json:
```json
{
    "body": "Merged: **sage-6.4.beta3**",
    "created_at": "2015-01-07T19:30:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16889#issuecomment-225010",
    "user": "https://github.com/kcrisman"
}
```

Merged: **sage-6.4.beta3**
