# Issue 16926: Merge the features of SymmetricGroupAlgebra and SymmetricGroup.algebra

archive/issues_016689.json:
```json
{
    "assignees": [],
    "body": "\nWe have different implementations of the algebra of the symmetric group, and more may come in the future:\n- `SymmetricGroupAlgebra(K, n)`\n- `SymmetricGroup(n).algebra(K)`\n- `WeylGroup(['A',3]).algebra(K)`\n- ...\n\nThey mostly differ in how the elements of the symmetric group are represented, and each representation can have its advantage depending on the application in mind. So it's fine to keep them all. On the other hand, currently only the first one makes use of the special features of the symmetric group. After a discussion, we came up with a plan to share those features across all implementations:\n\n- Make the categories and functionality as coherent as possible.\n- Have `SymmetricGroupAlgebra` take an optional input for the index set.\n\n\nDepends on #17981\n\nCC:  @sagetrac-sage-combinat @tscrim @darijgr @avirmaux\n\nKeywords: **days64**\n\nBranch/Commit: **[`bf9fc43`](https://github.com/sagemath/sagetrac-mirror/commit/bf9fc43cd076381692686dbe26f66a61f7955c1a)**\n\nReviewer: **Darij Grinberg, Nicolas M. Thi\u00e9ry**\n\nAuthor: **Travis Scrimshaw**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16926_\n\n",
    "closed_at": "2015-03-21T12:37:55Z",
    "created_at": "2014-09-03T11:39:57Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Merge the features of SymmetricGroupAlgebra and SymmetricGroup.algebra",
    "type": "issue",
    "updated_at": "2015-03-21T12:37:55Z",
    "url": "https://github.com/sagemath/sage/issues/16926",
    "user": "https://github.com/nthiery"
}
```

We have different implementations of the algebra of the symmetric group, and more may come in the future:
- `SymmetricGroupAlgebra(K, n)`
- `SymmetricGroup(n).algebra(K)`
- `WeylGroup(['A',3]).algebra(K)`
- ...

They mostly differ in how the elements of the symmetric group are represented, and each representation can have its advantage depending on the application in mind. So it's fine to keep them all. On the other hand, currently only the first one makes use of the special features of the symmetric group. After a discussion, we came up with a plan to share those features across all implementations:

- Make the categories and functionality as coherent as possible.
- Have `SymmetricGroupAlgebra` take an optional input for the index set.


Depends on #17981

CC:  @sagetrac-sage-combinat @tscrim @darijgr @avirmaux

Keywords: **days64**

Branch/Commit: **[`bf9fc43`](https://github.com/sagemath/sagetrac-mirror/commit/bf9fc43cd076381692686dbe26f66a61f7955c1a)**

Reviewer: **Darij Grinberg, Nicolas M. Thi√©ry**

Author: **Travis Scrimshaw**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/16926_





---

archive/issue_events_239749.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2014-09-03T11:39:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239749"
}
```



---

archive/issue_events_239750.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2014-09-03T11:39:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239750"
}
```



---

archive/issue_events_239751.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2014-09-03T11:39:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239751"
}
```



---

archive/issue_events_239752.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2014-09-03T11:39:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239752"
}
```



---

archive/issue_comments_223105.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,4 +13,6 @@\n \n Put `SymmetricGroupAlgebra` in this category, and strip away all the code that is not needed anymore.\n \n+Cross ref the different implementations in the documentation.\n+\n Volunteers?\n``````\n",
    "created_at": "2014-09-03T11:40:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223105",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,4 +13,6 @@
 
 Put `SymmetricGroupAlgebra` in this category, and strip away all the code that is not needed anymore.
 
+Cross ref the different implementations in the documentation.
+
 Volunteers?
``````




---

archive/issue_comments_223106.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI don't even know how this is going to happen. AlgebraWithBases? Coercions back and forth?",
    "created_at": "2014-09-03T11:44:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223106",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:2" align="right">comment:2</div>

I don't even know how this is going to happen. AlgebraWithBases? Coercions back and forth?



---

archive/issue_comments_223107.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@darijgr](#comment%3A2):\n> I don't even know how this is going to happen. AlgebraWithBases? Coercions back and forth?\n\nLater on, it could make sense to connect by coercions and an `AlgebraWithBases`, but we don't need this for now. Each implementation would be standalone, just sharing common features through a common abstract class (in the category SymmetricGroups().Algebras(...)).",
    "created_at": "2014-09-03T11:53:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223107",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@darijgr](#comment%3A2):
> I don't even know how this is going to happen. AlgebraWithBases? Coercions back and forth?

Later on, it could make sense to connect by coercions and an `AlgebraWithBases`, but we don't need this for now. Each implementation would be standalone, just sharing common features through a common abstract class (in the category SymmetricGroups().Algebras(...)).



---

archive/issue_comments_223108.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIsn't that harder? There'd be quite a lot of functionality to triplicate...",
    "created_at": "2014-09-03T11:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223108",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:4" align="right">comment:4</div>

Isn't that harder? There'd be quite a lot of functionality to triplicate...



---

archive/issue_comments_223109.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@darijgr](#comment%3A4):\n> Isn't that harder? There'd be quite a lot of functionality to triplicate...\n\nYou mean, harder with just the `SymmetricGroups.Algebra` approach?\n\nThere is nothing to triplicate in this approach. Everything common is implemented exactly once, in SymmetricGroups.Algebra.",
    "created_at": "2014-09-03T12:25:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223109",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@darijgr](#comment%3A4):
> Isn't that harder? There'd be quite a lot of functionality to triplicate...

You mean, harder with just the `SymmetricGroups.Algebra` approach?

There is nothing to triplicate in this approach. Everything common is implemented exactly once, in SymmetricGroups.Algebra.



---

archive/issue_comments_223110.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nOh, you want to move things like the Young-Jucys-Murphy elements and the seminormal basis to an abstract base class?\n\nGood idea actually, as long as we can ensure this doesn't slow them down on the standard SymmetricGroupAlgebra.",
    "created_at": "2014-09-03T12:28:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223110",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:6" align="right">comment:6</div>

Oh, you want to move things like the Young-Jucys-Murphy elements and the seminormal basis to an abstract base class?

Good idea actually, as long as we can ensure this doesn't slow them down on the standard SymmetricGroupAlgebra.



---

archive/issue_comments_223111.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@darijgr](#comment%3A6):\n> Oh, you want to move things like the Young-Jucys-Murphy elements and the seminormal basis to an abstract base class?\n\nPrecisely.\n\n> Good idea actually, as long as we can ensure this doesn't slow them down on the standard SymmetricGroupAlgebra.\n\nThat's something to be checked, but a priori given the kind of algorithms, I doubt it would.",
    "created_at": "2014-09-03T12:40:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223111",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@darijgr](#comment%3A6):
> Oh, you want to move things like the Young-Jucys-Murphy elements and the seminormal basis to an abstract base class?

Precisely.

> Good idea actually, as long as we can ensure this doesn't slow them down on the standard SymmetricGroupAlgebra.

That's something to be checked, but a priori given the kind of algorithms, I doubt it would.



---

archive/issue_comments_223112.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI second using an ABC rather than a category. Also as mentioned in my comment on #16925, I think `SymmetricGroupAlgebra` should actually use the group an an indexing set for the basis, thus keeping that as `SymmetricGroup(n).algebra(K)` (alternatively merging in the general `GroupAlgebra` implementation).",
    "created_at": "2014-09-03T19:26:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223112",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:8" align="right">comment:8</div>

I second using an ABC rather than a category. Also as mentioned in my comment on #16925, I think `SymmetricGroupAlgebra` should actually use the group an an indexing set for the basis, thus keeping that as `SymmetricGroup(n).algebra(K)` (alternatively merging in the general `GroupAlgebra` implementation).



---

archive/issue_comments_223113.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nBut we absolutely need to keep the `SGA(p)` syntax working for `SGA` a symmetric group algebra and `p` a permutation. And we'd do well to not slow it down by any significant amount.",
    "created_at": "2014-09-03T19:28:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223113",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:9" align="right">comment:9</div>

But we absolutely need to keep the `SGA(p)` syntax working for `SGA` a symmetric group algebra and `p` a permutation. And we'd do well to not slow it down by any significant amount.



---

archive/issue_comments_223114.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@darijgr](#comment%3A9):\n> But we absolutely need to keep the `SGA(p)` syntax working for `SGA` a symmetric group algebra and `p` a permutation. And we'd do well to not slow it down by any significant amount.\n\nI agree (and this is easy enough to do with `_element_constructor_`). In fact, using the gap group, we'll significantly speed up the multiplication. Perhaps being clever by using a hybrid approach, we can speed up computing the basis too (IDK yet, haven't tried).",
    "created_at": "2014-09-03T19:32:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223114",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@darijgr](#comment%3A9):
> But we absolutely need to keep the `SGA(p)` syntax working for `SGA` a symmetric group algebra and `p` a permutation. And we'd do well to not slow it down by any significant amount.

I agree (and this is easy enough to do with `_element_constructor_`). In fact, using the gap group, we'll significantly speed up the multiplication. Perhaps being clever by using a hybrid approach, we can speed up computing the basis too (IDK yet, haven't tried).



---

archive/issue_comments_223115.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@tscrim](#comment%3A8):\n> I second using an ABC rather than a category.\n\nThe category is doing just that: providing an ABC. Granted, it might look a bit overkill since we might not need an ABC for the elements or other functorial constructions. But in exchange  (S_n).algebra() is automatically made to inherit from the ABC in a way that is uniform with all the other stuff about XXX algebras: no need to insert manually that ABC in `SymmetricGroup.algebra`.",
    "created_at": "2014-09-03T20:11:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223115",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@tscrim](#comment%3A8):
> I second using an ABC rather than a category.

The category is doing just that: providing an ABC. Granted, it might look a bit overkill since we might not need an ABC for the elements or other functorial constructions. But in exchange  (S_n).algebra() is automatically made to inherit from the ABC in a way that is uniform with all the other stuff about XXX algebras: no need to insert manually that ABC in `SymmetricGroup.algebra`.



---

archive/issue_comments_223116.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI don't really like the idea of putting into a category as opposed to having a proper ABC. Doing with an ABC means we can have automatic coercion by just doing:\n\n```python\ndef _coerce_map_from_(self, X):\n    if isinstance(X, SGA_abstract):\n        return True\n    return super(SGA_abstract, self)._coerce_map_from_(X)\n```\n(We can't do this with categories, nor do I think we should for that matter.)\nAlso as you mentioned, it's overkill to me. Also if we were to have this in the category, we'd still have to override the `algebra` method (or worse, a check on the group in the generic group algebra). Although I'm still of the opinion that we should merge the generic group algebra of S<sub>n</sub> into `SymmetricGroupAlgebra` and get that to work. I'm not sure what we'll need/want to do w.r.t. the Weyl group one, I haven't thought about how this will figure in yet.\n\nAlso since this is the same object in the \"same\" realization, IMO the `WithRealizations` framework shouldn't be used here either. It also possible to convince to go this route, but I don't really think it'll be the best way.",
    "created_at": "2014-09-04T05:54:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223116",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">comment:12</div>

I don't really like the idea of putting into a category as opposed to having a proper ABC. Doing with an ABC means we can have automatic coercion by just doing:

```python
def _coerce_map_from_(self, X):
    if isinstance(X, SGA_abstract):
        return True
    return super(SGA_abstract, self)._coerce_map_from_(X)
```
(We can't do this with categories, nor do I think we should for that matter.)
Also as you mentioned, it's overkill to me. Also if we were to have this in the category, we'd still have to override the `algebra` method (or worse, a check on the group in the generic group algebra). Although I'm still of the opinion that we should merge the generic group algebra of S<sub>n</sub> into `SymmetricGroupAlgebra` and get that to work. I'm not sure what we'll need/want to do w.r.t. the Weyl group one, I haven't thought about how this will figure in yet.

Also since this is the same object in the "same" realization, IMO the `WithRealizations` framework shouldn't be used here either. It also possible to convince to go this route, but I don't really think it'll be the best way.



---

archive/issue_comments_223117.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nSilly question, no doubt, but what is an **ABC**?",
    "created_at": "2014-11-06T23:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223117",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:13" align="right">comment:13</div>

Silly question, no doubt, but what is an **ABC**?



---

archive/issue_comments_223118.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAn **A**bstract **B**ase **C**lass.",
    "created_at": "2014-11-07T02:24:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223118",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:14" align="right">comment:14</div>

An **A**bstract **B**ase **C**lass.



---

archive/issue_comments_223119.json:
```json
{
    "body": "Commit: **[`f15f40c`](https://github.com/sagemath/sagetrac-mirror/commit/f15f40cd95cd94cd3e4a3b843fd0b257746d43f0)**",
    "created_at": "2015-02-07T23:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223119",
    "user": "https://github.com/tscrim"
}
```

Commit: **[`f15f40c`](https://github.com/sagemath/sagetrac-mirror/commit/f15f40cd95cd94cd3e4a3b843fd0b257746d43f0)**



---

archive/issue_events_239753.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-02-07T23:18:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239753"
}
```



---

archive/issue_comments_223120.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,14 +5,8 @@\n - `WeylGroup(['A',3]).algebra(K)`\n - ...\n \n-They mostly differ in how the elements of the symmetric group are represented, and each representation can have its advantage depending on the application in mind. So it's fine to keep them all. On the other hand, currently only the first one makes use of the special features of the symmetric group. Here is a plan to share those features across all implementations:\n+They mostly differ in how the elements of the symmetric group are represented, and each representation can have its advantage depending on the application in mind. So it's fine to keep them all. On the other hand, currently only the first one makes use of the special features of the symmetric group. After a discussion, we came up with a plan to share those features across all implementations:\n \n-Create a category `SymmetricGroups`. Put the relevant groups in this category.\n+- Make the categories and functionality as coherent as possible.\n+- Have `SymmetricGroupAlgebra` take an optional input for the index set.\n \n-Generalize the features (Yucis-Murphy elements, ...) from `SymmetricGroupAlgebra` to the category `SymmetricGroups.Algebras`.\n-\n-Put `SymmetricGroupAlgebra` in this category, and strip away all the code that is not needed anymore.\n-\n-Cross ref the different implementations in the documentation.\n-\n-Volunteers?\n``````\n",
    "created_at": "2015-02-07T23:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223120",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,14 +5,8 @@
 - `WeylGroup(['A',3]).algebra(K)`
 - ...
 
-They mostly differ in how the elements of the symmetric group are represented, and each representation can have its advantage depending on the application in mind. So it's fine to keep them all. On the other hand, currently only the first one makes use of the special features of the symmetric group. Here is a plan to share those features across all implementations:
+They mostly differ in how the elements of the symmetric group are represented, and each representation can have its advantage depending on the application in mind. So it's fine to keep them all. On the other hand, currently only the first one makes use of the special features of the symmetric group. After a discussion, we came up with a plan to share those features across all implementations:
 
-Create a category `SymmetricGroups`. Put the relevant groups in this category.
+- Make the categories and functionality as coherent as possible.
+- Have `SymmetricGroupAlgebra` take an optional input for the index set.
 
-Generalize the features (Yucis-Murphy elements, ...) from `SymmetricGroupAlgebra` to the category `SymmetricGroups.Algebras`.
-
-Put `SymmetricGroupAlgebra` in this category, and strip away all the code that is not needed anymore.
-
-Cross ref the different implementations in the documentation.
-
-Volunteers?
``````




---

archive/issue_comments_223121.json:
```json
{
    "body": "Author: **Travis Scrimshaw**",
    "created_at": "2015-02-07T23:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223121",
    "user": "https://github.com/tscrim"
}
```

Author: **Travis Scrimshaw**



---

archive/issue_comments_223122.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nOkay, done. So some notes for the reviewer:\n\n- Currently `descents` behavior differs from that given by the category, so as to avoid backwards incompatible change, we leave warning messages and leave the behavior alone.\n\n- `reduced_word()` does not respect the order of multiplication and needs to be fixed so that `TestSuite` passes.\n\n- I've added as much common functionality between `SymmetricGroup` and `Permutations` since the former is a gap version of the latter. I'm leaving `WeylGroup` alone because it is a matrix group, but if someone wants to add better support for conjugacy classes, then go ahead.\n\n- I made a bunch of other optimizations for iterating over elements and micro-optimizations.\n\n- I abstracted `StandardPermutations_n` to better reflect the mathematics.\n\n- Better and more careful handling of parents during multiplication.\n\n- The `from_*` now can take a parent as input to better control their output (this was needed).\n\nSome todo's for later:\n\n1. Improve the speed of multiplying Sage permutations:\n\n```\nsage: S = SymmetricGroup(5)\nsage: R = S.simple_reflections()\nsage: %timeit prod(R)\n10000 loops, best of 3: 36.6 \u00b5s per loop\nsage: P = Permutations(5)\nsage: R = P.simple_reflections()\nsage: %timeit prod(R)\n1000 loops, best of 3: 413 \u00b5s per loop\n```\n\n2. Refactor the `Permutation` class to better be an element class, especially parsing of input (hard and tedious).\n\n3. Fix the issues noted above (also hard).\n\nHowever, IMO the current version should be reviewed and included into Sage (as it is needed for #11111).\n\nThis is the other option, which I am keeping here for the official record:\n\n* Create a category `SymmetricGroups`. Put the relevant groups in this category.\n* Generalize the features (Yucis-Murphy elements, ...) from `SymmetricGroupAlgebra` to the category `SymmetricGroups.Algebras`.\n* Put `SymmetricGroupAlgebra` in this category, and strip away all the code that is not needed anymore.\n* Cross ref the different implementations in the documentation.\n \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8144d477a29de3bfd56e2f12041066de09772973\"><code>8144d47</code></a></td><td><code>Added optional argument for indexing set of SGA.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2d9dcd50fb3cc1aac6a1d8ffc2538c61bfecaf6\"><code>a2d9dcd</code></a></td><td><code>Initial setting of StandardPermutations_n to be in FiniteWeylGroups.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/765cbdb27ce49c48c0fb8ed6402345b0de3d4136\"><code>765cbdb</code></a></td><td><code>Fixes and tweaks and speedups.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a63dfd39c3e0ab47239102d10ce55a1e8b711962\"><code>a63dfd3</code></a></td><td><code>Added support for conjugacy classes for permutation groups.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f15f40cd95cd94cd3e4a3b843fd0b257746d43f0\"><code>f15f40c</code></a></td><td><code>Some additional fixes and cleanup.</code></td></tr></table>\n",
    "created_at": "2015-02-07T23:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223122",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:15" align="right">comment:15</div>

Okay, done. So some notes for the reviewer:

- Currently `descents` behavior differs from that given by the category, so as to avoid backwards incompatible change, we leave warning messages and leave the behavior alone.

- `reduced_word()` does not respect the order of multiplication and needs to be fixed so that `TestSuite` passes.

- I've added as much common functionality between `SymmetricGroup` and `Permutations` since the former is a gap version of the latter. I'm leaving `WeylGroup` alone because it is a matrix group, but if someone wants to add better support for conjugacy classes, then go ahead.

- I made a bunch of other optimizations for iterating over elements and micro-optimizations.

- I abstracted `StandardPermutations_n` to better reflect the mathematics.

- Better and more careful handling of parents during multiplication.

- The `from_*` now can take a parent as input to better control their output (this was needed).

Some todo's for later:

1. Improve the speed of multiplying Sage permutations:

```
sage: S = SymmetricGroup(5)
sage: R = S.simple_reflections()
sage: %timeit prod(R)
10000 loops, best of 3: 36.6 ¬µs per loop
sage: P = Permutations(5)
sage: R = P.simple_reflections()
sage: %timeit prod(R)
1000 loops, best of 3: 413 ¬µs per loop
```

2. Refactor the `Permutation` class to better be an element class, especially parsing of input (hard and tedious).

3. Fix the issues noted above (also hard).

However, IMO the current version should be reviewed and included into Sage (as it is needed for #11111).

This is the other option, which I am keeping here for the official record:

* Create a category `SymmetricGroups`. Put the relevant groups in this category.
* Generalize the features (Yucis-Murphy elements, ...) from `SymmetricGroupAlgebra` to the category `SymmetricGroups.Algebras`.
* Put `SymmetricGroupAlgebra` in this category, and strip away all the code that is not needed anymore.
* Cross ref the different implementations in the documentation.
 
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8144d477a29de3bfd56e2f12041066de09772973"><code>8144d47</code></a></td><td><code>Added optional argument for indexing set of SGA.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2d9dcd50fb3cc1aac6a1d8ffc2538c61bfecaf6"><code>a2d9dcd</code></a></td><td><code>Initial setting of StandardPermutations_n to be in FiniteWeylGroups.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/765cbdb27ce49c48c0fb8ed6402345b0de3d4136"><code>765cbdb</code></a></td><td><code>Fixes and tweaks and speedups.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a63dfd39c3e0ab47239102d10ce55a1e8b711962"><code>a63dfd3</code></a></td><td><code>Added support for conjugacy classes for permutation groups.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f15f40cd95cd94cd3e4a3b843fd0b257746d43f0"><code>f15f40c</code></a></td><td><code>Some additional fixes and cleanup.</code></td></tr></table>




---

archive/issue_comments_223123.json:
```json
{
    "body": "Branch: **[public/combinat/fix_sga-16926](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_sga-16926)**",
    "created_at": "2015-02-07T23:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223123",
    "user": "https://github.com/tscrim"
}
```

Branch: **[public/combinat/fix_sga-16926](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_sga-16926)**



---

archive/issue_comments_223124.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nNot sure if I'm going to be reviewing this (time is short as usual and I'm still not good at OOP -- case in point, I don't know what mixins are for), but a few remarks.\n\nFirst, a trivial group needs no generators. So this\n\n```\n+ if self.n <= 1:\n+ return (self.one(),)\n```\ncan be replaced by\n\n```\n+ if self.n <= 1:\n+ return ()\n```\n\nSecond, you are testing for the order-of-multiplication global in `has_left_descent` and in `has_right_descent`. I understand the reasoning behind it, but I don't like it, as it spreads a bad design choice further. Can we agree that the \"left\" in \"left descent\" stands for \"left action\" rather than \"multiplying with s_i from the left\", or is this too revisionistic?",
    "created_at": "2015-02-08T03:13:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223124",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:16" align="right">comment:16</div>

Not sure if I'm going to be reviewing this (time is short as usual and I'm still not good at OOP -- case in point, I don't know what mixins are for), but a few remarks.

First, a trivial group needs no generators. So this

```
+ if self.n <= 1:
+ return (self.one(),)
```
can be replaced by

```
+ if self.n <= 1:
+ return ()
```

Second, you are testing for the order-of-multiplication global in `has_left_descent` and in `has_right_descent`. I understand the reasoning behind it, but I don't like it, as it spreads a bad design choice further. Can we agree that the "left" in "left descent" stands for "left action" rather than "multiplying with s_i from the left", or is this too revisionistic?



---

archive/issue_comments_223125.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e9844721de9e043f94c4307b8df6c6dc78bd048\"><code>8e98447</code></a></td><td><code>Merge branch 'public/combinat/fix_sga-16926' of trac.sagemath.org:sage into public/combinat/fix_sga-16926</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6597e7936048b8f30018a5e4a6e566836f6e5e68\"><code>6597e79</code></a></td><td><code>Change Darij requested plus fixed a trivial doctest.</code></td></tr></table>\n",
    "created_at": "2015-02-16T19:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223125",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e9844721de9e043f94c4307b8df6c6dc78bd048"><code>8e98447</code></a></td><td><code>Merge branch 'public/combinat/fix_sga-16926' of trac.sagemath.org:sage into public/combinat/fix_sga-16926</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6597e7936048b8f30018a5e4a6e566836f6e5e68"><code>6597e79</code></a></td><td><code>Change Darij requested plus fixed a trivial doctest.</code></td></tr></table>




---

archive/issue_comments_223126.json:
```json
{
    "body": "Changed commit from **[`f15f40c`](https://github.com/sagemath/sagetrac-mirror/commit/f15f40cd95cd94cd3e4a3b843fd0b257746d43f0)** to **[`6597e79`](https://github.com/sagemath/sagetrac-mirror/commit/6597e7936048b8f30018a5e4a6e566836f6e5e68)**",
    "created_at": "2015-02-16T19:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223126",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f15f40c`](https://github.com/sagemath/sagetrac-mirror/commit/f15f40cd95cd94cd3e4a3b843fd0b257746d43f0)** to **[`6597e79`](https://github.com/sagemath/sagetrac-mirror/commit/6597e7936048b8f30018a5e4a6e566836f6e5e68)**



---

archive/issue_comments_223127.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@darijgr](#comment%3A16):\n> Not sure if I'm going to be reviewing this (time is short as usual and I'm still not good at OOP -- case in point, I don't know what mixins are for), but a few remarks.\n\nI appreciate any time you can devote, plus I'd think it would be best that Nicolas takes a good look at this patch (and possibly have Aladin merge it into his current version of #11111 and test it there too).\n\n(Mixins are as they sound to be, they are classes you \"mix in\" the class heirarchy which typically contain general or independent features. [This SO thread](http://stackoverflow.com/questions/533631/what-is-a-mixin-and-why-are-they-useful) I think gives a good overview of them.)\n\n> First, a trivial group needs no generators. ...\n\nGood point; fixed.\n\n> Second, you are testing for the order-of-multiplication global in `has_left_descent` and in `has_right_descent`. I understand the reasoning behind it, but I don't like it, as it spreads a bad design choice further. Can we agree that the \"left\" in \"left descent\" stands for \"left action\" rather than \"multiplying with s_i from the left\", or is this too revisionistic?\n\nIt breaks the generic implementation of the `long_element` method, which relies on the multiplication on the left corresponding to `has_left_descent`. I feel these changes further shows `permutation.py` can be a minefield...but I'm trying to make do with what I have.",
    "created_at": "2015-02-16T19:11:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223127",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@darijgr](#comment%3A16):
> Not sure if I'm going to be reviewing this (time is short as usual and I'm still not good at OOP -- case in point, I don't know what mixins are for), but a few remarks.

I appreciate any time you can devote, plus I'd think it would be best that Nicolas takes a good look at this patch (and possibly have Aladin merge it into his current version of #11111 and test it there too).

(Mixins are as they sound to be, they are classes you "mix in" the class heirarchy which typically contain general or independent features. [This SO thread](http://stackoverflow.com/questions/533631/what-is-a-mixin-and-why-are-they-useful) I think gives a good overview of them.)

> First, a trivial group needs no generators. ...

Good point; fixed.

> Second, you are testing for the order-of-multiplication global in `has_left_descent` and in `has_right_descent`. I understand the reasoning behind it, but I don't like it, as it spreads a bad design choice further. Can we agree that the "left" in "left descent" stands for "left action" rather than "multiplying with s_i from the left", or is this too revisionistic?

It breaks the generic implementation of the `long_element` method, which relies on the multiplication on the left corresponding to `has_left_descent`. I feel these changes further shows `permutation.py` can be a minefield...but I'm trying to make do with what I have.



---

archive/issue_comments_223128.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nHello,\n\nI would love to try to merge into #11111 but this last one cause too many merge conflicts. And some requiere more knowledge than I actually have in order to be solved (in particular those in set.py and integer_ring.py).",
    "created_at": "2015-02-17T13:42:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223128",
    "user": "https://github.com/avirmaux"
}
```

<div id="comment:19" align="right">comment:19</div>

Hello,

I would love to try to merge into #11111 but this last one cause too many merge conflicts. And some requiere more knowledge than I actually have in order to be solved (in particular those in set.py and integer_ring.py).



---

archive/issue_comments_223129.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nShouldn't the `__contains__` and `__iter__` methods on `StandardPermutations_n_abstract` be in `StandardPermutations_n` instead? (Not sure about the other methods.) I find it strange to see an ABC whose most methods are anything but abstract.",
    "created_at": "2015-02-17T21:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223129",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:20" align="right">comment:20</div>

Shouldn't the `__contains__` and `__iter__` methods on `StandardPermutations_n_abstract` be in `StandardPermutations_n` instead? (Not sure about the other methods.) I find it strange to see an ABC whose most methods are anything but abstract.



---

archive/issue_comments_223130.json:
```json
{
    "body": "Changed commit from **[`6597e79`](https://github.com/sagemath/sagetrac-mirror/commit/6597e7936048b8f30018a5e4a6e566836f6e5e68)** to **[`18b3441`](https://github.com/sagemath/sagetrac-mirror/commit/18b3441e41e0f30b6bc02bd5a746096b17189e27)**",
    "created_at": "2015-02-17T21:55:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223130",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6597e79`](https://github.com/sagemath/sagetrac-mirror/commit/6597e7936048b8f30018a5e4a6e566836f6e5e68)** to **[`18b3441`](https://github.com/sagemath/sagetrac-mirror/commit/18b3441e41e0f30b6bc02bd5a746096b17189e27)**



---

archive/issue_comments_223131.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18b3441e41e0f30b6bc02bd5a746096b17189e27\"><code>18b3441</code></a></td><td><code>Using itertools and moved methods from n_abstract.</code></td></tr></table>\n",
    "created_at": "2015-02-17T21:55:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223131",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18b3441e41e0f30b6bc02bd5a746096b17189e27"><code>18b3441</code></a></td><td><code>Using itertools and moved methods from n_abstract.</code></td></tr></table>




---

archive/issue_comments_223132.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\n`__contains__` is a definite no because the subclasses want that to use that check. However, I moved `__iter__` and a bunch of other methods to `StandardPermutations_n` since they were (potentially) giving wrong results. I also used `itertools` for the iteration because it was ~20x faster:\n\n```\nsage: %timeit len(list(itertools.permutations(range(1,6), 5)))\n10000 loops, best of 3: 36.5 \u00b5s per loop\nsage: %timeit len(list(Permutations_set._fast_iter(range(1,6))))\n1000 loops, best of 3: 658 \u00b5s per loop\n```",
    "created_at": "2015-02-17T21:58:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223132",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">comment:22</div>

`__contains__` is a definite no because the subclasses want that to use that check. However, I moved `__iter__` and a bunch of other methods to `StandardPermutations_n` since they were (potentially) giving wrong results. I also used `itertools` for the iteration because it was ~20x faster:

```
sage: %timeit len(list(itertools.permutations(range(1,6), 5)))
10000 loops, best of 3: 36.5 ¬µs per loop
sage: %timeit len(list(Permutations_set._fast_iter(range(1,6))))
1000 loops, best of 3: 658 ¬µs per loop
```



---

archive/issue_comments_223133.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThat's a nice find you made in the itertools. Good to see that \"fast\" iterator gone!\n\nI'll shortly push my \"fix\" to the l2r/r2l issue. But meanwhile, I disagree about `__contains__`. This method tests containment in Permutations(n), not in whatever subclass we have inherit from `StandardPermutations_n_abstract`. If it stays in the ABC, then every subclass that does not override it will have a wrong `__contains__` test. If you just want to be able to use it out of subclasses, why not `@`classmethod or `@`staticmethod?",
    "created_at": "2015-02-18T04:38:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223133",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:23" align="right">comment:23</div>

That's a nice find you made in the itertools. Good to see that "fast" iterator gone!

I'll shortly push my "fix" to the l2r/r2l issue. But meanwhile, I disagree about `__contains__`. This method tests containment in Permutations(n), not in whatever subclass we have inherit from `StandardPermutations_n_abstract`. If it stays in the ABC, then every subclass that does not override it will have a wrong `__contains__` test. If you just want to be able to use it out of subclasses, why not `@`classmethod or `@`staticmethod?



---

archive/issue_comments_223134.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@darijgr](#comment%3A23):\n> But meanwhile, I disagree about `__contains__`. This method tests containment in Permutations(n), not in whatever subclass we have inherit from `StandardPermutations_n_abstract`. If it stays in the ABC, then every subclass that does not override it will have a wrong `__contains__` test. If you just want to be able to use it out of subclasses, why not `@`classmethod or `@`staticmethod?\n\nIt would potentially give false positives, but it's better than the generic one from `Parent` (which is part of the test):\n\n```\nsage: P = Permutations(5, avoiding=[1,4,2,3])\nsage: P([1,4,2,3,5]) in P\nTrue\n```\nThe idea is to override it for extra information and to include a super call so as to avoid duplicating code (i.e., this is good OOP).",
    "created_at": "2015-02-18T04:52:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223134",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@darijgr](#comment%3A23):
> But meanwhile, I disagree about `__contains__`. This method tests containment in Permutations(n), not in whatever subclass we have inherit from `StandardPermutations_n_abstract`. If it stays in the ABC, then every subclass that does not override it will have a wrong `__contains__` test. If you just want to be able to use it out of subclasses, why not `@`classmethod or `@`staticmethod?

It would potentially give false positives, but it's better than the generic one from `Parent` (which is part of the test):

```
sage: P = Permutations(5, avoiding=[1,4,2,3])
sage: P([1,4,2,3,5]) in P
True
```
The idea is to override it for extra information and to include a super call so as to avoid duplicating code (i.e., this is good OOP).



---

archive/issue_comments_223135.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b3a48fafc0ae60a5efc21f83b9016b403564dec\"><code>2b3a48f</code></a></td><td><code>Merge branch 'public/combinat/fix_sga-16926' of git://trac.sagemath.org/sage into sga</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1202558f449a7797c86143a59e5c3e32a5349d8\"><code>f120255</code></a></td><td><code>allow circumventing mult variable in has_left/right_descent methods</code></td></tr></table>\n",
    "created_at": "2015-02-18T04:56:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223135",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b3a48fafc0ae60a5efc21f83b9016b403564dec"><code>2b3a48f</code></a></td><td><code>Merge branch 'public/combinat/fix_sga-16926' of git://trac.sagemath.org/sage into sga</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1202558f449a7797c86143a59e5c3e32a5349d8"><code>f120255</code></a></td><td><code>allow circumventing mult variable in has_left/right_descent methods</code></td></tr></table>




---

archive/issue_comments_223136.json:
```json
{
    "body": "Changed commit from **[`18b3441`](https://github.com/sagemath/sagetrac-mirror/commit/18b3441e41e0f30b6bc02bd5a746096b17189e27)** to **[`f120255`](https://github.com/sagemath/sagetrac-mirror/commit/f1202558f449a7797c86143a59e5c3e32a5349d8)**",
    "created_at": "2015-02-18T04:56:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223136",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`18b3441`](https://github.com/sagemath/sagetrac-mirror/commit/18b3441e41e0f30b6bc02bd5a746096b17189e27)** to **[`f120255`](https://github.com/sagemath/sagetrac-mirror/commit/f1202558f449a7797c86143a59e5c3e32a5349d8)**



---

archive/issue_comments_223137.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nAh, if it was already semi-broken this way, then it's fine. I've added a warning in the doc, however.\n\nNot a review yet, but just a patch for the 'mult' issue. Are you OK with it?",
    "created_at": "2015-02-18T04:57:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223137",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:26" align="right">comment:26</div>

Ah, if it was already semi-broken this way, then it's fine. I've added a warning in the doc, however.

Not a review yet, but just a patch for the 'mult' issue. Are you OK with it?



---

archive/issue_comments_223138.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nYes, it works for me.",
    "created_at": "2015-02-18T04:58:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223138",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">comment:27</div>

Yes, it works for me.



---

archive/issue_comments_223139.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/caf4f43a19035e37cb4b4c67f0f040af84783c9e\"><code>caf4f43</code></a></td><td><code>some more edits</code></td></tr></table>\n",
    "created_at": "2015-02-18T06:52:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223139",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/caf4f43a19035e37cb4b4c67f0f040af84783c9e"><code>caf4f43</code></a></td><td><code>some more edits</code></td></tr></table>




---

archive/issue_comments_223140.json:
```json
{
    "body": "Changed commit from **[`f120255`](https://github.com/sagemath/sagetrac-mirror/commit/f1202558f449a7797c86143a59e5c3e32a5349d8)** to **[`caf4f43`](https://github.com/sagemath/sagetrac-mirror/commit/caf4f43a19035e37cb4b4c67f0f040af84783c9e)**",
    "created_at": "2015-02-18T06:52:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223140",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f120255`](https://github.com/sagemath/sagetrac-mirror/commit/f1202558f449a7797c86143a59e5c3e32a5349d8)** to **[`caf4f43`](https://github.com/sagemath/sagetrac-mirror/commit/caf4f43a19035e37cb4b4c67f0f040af84783c9e)**



---

archive/issue_comments_223141.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nPart of the review done (sorry, I'm slow). I fear I need explanations on this:\n\n```\n+        def __mul__(self, other):\n+            r\"\"\"\n+            Multiply ``self`` and ``other``.\n+\n+            EXAMPLES::\n+\n+                sage: P = Permutations(4)\n+                sage: P.simple_reflection(1) * Permutation([6,5,4,3,2,1])\n+                [5, 6, 4, 3, 2, 1]\n+            \"\"\"\n+            if (not isinstance(other, StandardPermutations_n.Element)\n+                or self.parent() != other.parent()):\n+                return Permutation.__mul__(self, other)\n+            return self._mul_(other)\n+\n+        def _mul_(self, other):\n+            r\"\"\"\n+            Multiply ``self`` and ``other``.\n+\n+            EXAMPLES::\n+\n+                sage: P = Permutations(4)\n+                sage: P.prod(P.gens()).parent() is P\n+                True\n+            \"\"\"\n+            p = list(Permutation.__mul__(self, other))\n+            return self.__class__(self.parent(), p)\n```\nor someone else will have to vow for its correctness.",
    "created_at": "2015-02-18T06:53:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223141",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:29" align="right">comment:29</div>

Part of the review done (sorry, I'm slow). I fear I need explanations on this:

```
+        def __mul__(self, other):
+            r"""
+            Multiply ``self`` and ``other``.
+
+            EXAMPLES::
+
+                sage: P = Permutations(4)
+                sage: P.simple_reflection(1) * Permutation([6,5,4,3,2,1])
+                [5, 6, 4, 3, 2, 1]
+            """
+            if (not isinstance(other, StandardPermutations_n.Element)
+                or self.parent() != other.parent()):
+                return Permutation.__mul__(self, other)
+            return self._mul_(other)
+
+        def _mul_(self, other):
+            r"""
+            Multiply ``self`` and ``other``.
+
+            EXAMPLES::
+
+                sage: P = Permutations(4)
+                sage: P.prod(P.gens()).parent() is P
+                True
+            """
+            p = list(Permutation.__mul__(self, other))
+            return self.__class__(self.parent(), p)
```
or someone else will have to vow for its correctness.



---

archive/issue_comments_223142.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f38fe13587fac895809d5f9d5fcf21b12bd23f0a\"><code>f38fe13</code></a></td><td><code>I don't understand the index_set argument, and it is used incorrectly here -- the retract methods are supposed to go into a different SGA, and making it have the same index_set as the domain causes bugs</code></td></tr></table>\n",
    "created_at": "2015-02-18T16:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223142",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f38fe13587fac895809d5f9d5fcf21b12bd23f0a"><code>f38fe13</code></a></td><td><code>I don't understand the index_set argument, and it is used incorrectly here -- the retract methods are supposed to go into a different SGA, and making it have the same index_set as the domain causes bugs</code></td></tr></table>




---

archive/issue_comments_223143.json:
```json
{
    "body": "Changed commit from **[`caf4f43`](https://github.com/sagemath/sagetrac-mirror/commit/caf4f43a19035e37cb4b4c67f0f040af84783c9e)** to **[`f38fe13`](https://github.com/sagemath/sagetrac-mirror/commit/f38fe13587fac895809d5f9d5fcf21b12bd23f0a)**",
    "created_at": "2015-02-18T16:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223143",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`caf4f43`](https://github.com/sagemath/sagetrac-mirror/commit/caf4f43a19035e37cb4b4c67f0f040af84783c9e)** to **[`f38fe13`](https://github.com/sagemath/sagetrac-mirror/commit/f38fe13587fac895809d5f9d5fcf21b12bd23f0a)**



---

archive/issue_comments_223144.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nNot done yet (symgp_conjugacy_class.py remains), but there are some things I don't get about this that I'd prefer to have answered before I go on.\n\n- The `_mul_` issue, as above.\n\n- The meaning of the index_set parameter: is it just there to allow building the symmetric group algebra with different basis keys?\n\n- `_coerce_map_from_` claims that there exists a coercion from `SymmetricGroup(3).algebra(QQ)` to `SymmetricGroupAlgebra(QQ, 3)`, but applying this coercion to elements fails. This is because `StandardPermutations_n_abstract.__call__` does not take a permutation group element as a parameter. I am not sure what to do about it, since I wouldn't be happy with duck-typing in that constructor.\n\n- Various methods don't work for `SymmetricGroup(3).algebra(QQ)`, and the fix is not as simple as adding `index_set=self.basis().keys()`.",
    "created_at": "2015-02-18T16:58:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223144",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:31" align="right">comment:31</div>

Not done yet (symgp_conjugacy_class.py remains), but there are some things I don't get about this that I'd prefer to have answered before I go on.

- The `_mul_` issue, as above.

- The meaning of the index_set parameter: is it just there to allow building the symmetric group algebra with different basis keys?

- `_coerce_map_from_` claims that there exists a coercion from `SymmetricGroup(3).algebra(QQ)` to `SymmetricGroupAlgebra(QQ, 3)`, but applying this coercion to elements fails. This is because `StandardPermutations_n_abstract.__call__` does not take a permutation group element as a parameter. I am not sure what to do about it, since I wouldn't be happy with duck-typing in that constructor.

- Various methods don't work for `SymmetricGroup(3).algebra(QQ)`, and the fix is not as simple as adding `index_set=self.basis().keys()`.



---

archive/issue_comments_223145.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI am implementing a coercion map from `SymmetricGroup` to `Permutations(n)`, and I need #17981 since I am having `_coerce_map_from_` return a lambda function representing the coercion map. Changes coming shortly.",
    "created_at": "2015-03-17T21:59:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223145",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:32" align="right">comment:32</div>

I am implementing a coercion map from `SymmetricGroup` to `Permutations(n)`, and I need #17981 since I am having `_coerce_map_from_` return a lambda function representing the coercion map. Changes coming shortly.



---

archive/issue_comments_223146.json:
```json
{
    "body": "Dependencies: **#17981**",
    "created_at": "2015-03-17T21:59:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223146",
    "user": "https://github.com/tscrim"
}
```

Dependencies: **#17981**



---

archive/issue_comments_223147.json:
```json
{
    "body": "Changed commit from **[`f38fe13`](https://github.com/sagemath/sagetrac-mirror/commit/f38fe13587fac895809d5f9d5fcf21b12bd23f0a)** to **[`d4568f6`](https://github.com/sagemath/sagetrac-mirror/commit/d4568f6e72f40500e1a39d56b4a4f74146fcab29)**",
    "created_at": "2015-03-17T22:21:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223147",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f38fe13`](https://github.com/sagemath/sagetrac-mirror/commit/f38fe13587fac895809d5f9d5fcf21b12bd23f0a)** to **[`d4568f6`](https://github.com/sagemath/sagetrac-mirror/commit/d4568f6e72f40500e1a39d56b4a4f74146fcab29)**



---

archive/issue_comments_223148.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd15df47f6cf77b0c62425756d2d0e6b2741be3a\"><code>cd15df4</code></a></td><td><code>Merge branch 'develop' into public/combinat/fix_sga-16926</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d01b36d83ed5cda7b73517e6cc9c45b65e1101a4\"><code>d01b36d</code></a></td><td><code>Merge branch 'develop' into public/combinat/fix_sga-16926</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c95381e84f798bea298dc14739e1e60cf385bf4\"><code>0c95381</code></a></td><td><code>Merge branch 'develop' into public/combinat/fix_sga-16926</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb7e15472fe044648092058985e683c9a9248b42\"><code>cb7e154</code></a></td><td><code>Some fixing of the index_set options.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9ebdd7bcb4cff58d52d26a532cff3186bbf4c6f\"><code>c9ebdd7</code></a></td><td><code>Implement coerce map for Permutations(n).</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0973dc8b5d147adcd3b2e4451efa8b3dbeeb912\"><code>b0973dc</code></a></td><td><code>Fix coercion map when `_coerce_map_from_` returns a callable.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd0fcd151cca116148cb20d0a218550bde54350d\"><code>bd0fcd1</code></a></td><td><code>Merge branch 'public/coerce/fix_coerce_map_from_callable' into public/combinat/fix_sga-16926</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4568f6e72f40500e1a39d56b4a4f74146fcab29\"><code>d4568f6</code></a></td><td><code>Finish implementing coercion maps from SymmetricGroup to Permutations(n).</code></td></tr></table>\n",
    "created_at": "2015-03-17T22:21:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223148",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd15df47f6cf77b0c62425756d2d0e6b2741be3a"><code>cd15df4</code></a></td><td><code>Merge branch 'develop' into public/combinat/fix_sga-16926</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d01b36d83ed5cda7b73517e6cc9c45b65e1101a4"><code>d01b36d</code></a></td><td><code>Merge branch 'develop' into public/combinat/fix_sga-16926</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c95381e84f798bea298dc14739e1e60cf385bf4"><code>0c95381</code></a></td><td><code>Merge branch 'develop' into public/combinat/fix_sga-16926</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb7e15472fe044648092058985e683c9a9248b42"><code>cb7e154</code></a></td><td><code>Some fixing of the index_set options.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9ebdd7bcb4cff58d52d26a532cff3186bbf4c6f"><code>c9ebdd7</code></a></td><td><code>Implement coerce map for Permutations(n).</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0973dc8b5d147adcd3b2e4451efa8b3dbeeb912"><code>b0973dc</code></a></td><td><code>Fix coercion map when `_coerce_map_from_` returns a callable.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd0fcd151cca116148cb20d0a218550bde54350d"><code>bd0fcd1</code></a></td><td><code>Merge branch 'public/coerce/fix_coerce_map_from_callable' into public/combinat/fix_sga-16926</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4568f6e72f40500e1a39d56b4a4f74146fcab29"><code>d4568f6</code></a></td><td><code>Finish implementing coercion maps from SymmetricGroup to Permutations(n).</code></td></tr></table>




---

archive/issue_comments_223149.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9666765a5d7cbab9bfb2b284017fc15be0ab1518\"><code>9666765</code></a></td><td><code>Allowing methods to work for other indexing sets.</code></td></tr></table>\n",
    "created_at": "2015-03-18T05:19:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223149",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9666765a5d7cbab9bfb2b284017fc15be0ab1518"><code>9666765</code></a></td><td><code>Allowing methods to work for other indexing sets.</code></td></tr></table>




---

archive/issue_comments_223150.json:
```json
{
    "body": "Changed commit from **[`d4568f6`](https://github.com/sagemath/sagetrac-mirror/commit/d4568f6e72f40500e1a39d56b4a4f74146fcab29)** to **[`9666765`](https://github.com/sagemath/sagetrac-mirror/commit/9666765a5d7cbab9bfb2b284017fc15be0ab1518)**",
    "created_at": "2015-03-18T05:19:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223150",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d4568f6`](https://github.com/sagemath/sagetrac-mirror/commit/d4568f6e72f40500e1a39d56b4a4f74146fcab29)** to **[`9666765`](https://github.com/sagemath/sagetrac-mirror/commit/9666765a5d7cbab9bfb2b284017fc15be0ab1518)**



---

archive/issue_comments_223151.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nSo the coercion now worked with my changes to having a coercion from the indexing sets, but a bunch of methods were broken using `SymmetricGroup(n)`. I've fixed this by casting the elements into a `Permutations(n)` element (essentially a `Permutation` instance), which may not be the fastest for elements of `SymmetricGroup(n)`, but it works and generalized (when there is a conversion) and is still very fast for elements of `Permutations(n)`. However, IMO other indexing sets (such as with a `WeylGroup`) can wait for later since they just use the general `GroupAlgebra` class.",
    "created_at": "2015-03-18T05:23:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223151",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:35" align="right">comment:35</div>

So the coercion now worked with my changes to having a coercion from the indexing sets, but a bunch of methods were broken using `SymmetricGroup(n)`. I've fixed this by casting the elements into a `Permutations(n)` element (essentially a `Permutation` instance), which may not be the fastest for elements of `SymmetricGroup(n)`, but it works and generalized (when there is a conversion) and is still very fast for elements of `Permutations(n)`. However, IMO other indexing sets (such as with a `WeylGroup`) can wait for later since they just use the general `GroupAlgebra` class.



---

archive/issue_comments_223152.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nShould not algebra_generators return a Family instead of a list ?",
    "created_at": "2015-03-18T17:04:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223152",
    "user": "https://github.com/avirmaux"
}
```

<div id="comment:36" align="right">comment:36</div>

Should not algebra_generators return a Family instead of a list ?



---

archive/issue_comments_223153.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7daaa83ee93aace69ce63e3ad80d1c5e43f5cdd7\"><code>7daaa83</code></a></td><td><code>Made algebra_generators return a Family.</code></td></tr></table>\n",
    "created_at": "2015-03-18T18:20:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223153",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7daaa83ee93aace69ce63e3ad80d1c5e43f5cdd7"><code>7daaa83</code></a></td><td><code>Made algebra_generators return a Family.</code></td></tr></table>




---

archive/issue_comments_223154.json:
```json
{
    "body": "Changed commit from **[`9666765`](https://github.com/sagemath/sagetrac-mirror/commit/9666765a5d7cbab9bfb2b284017fc15be0ab1518)** to **[`7daaa83`](https://github.com/sagemath/sagetrac-mirror/commit/7daaa83ee93aace69ce63e3ad80d1c5e43f5cdd7)**",
    "created_at": "2015-03-18T18:20:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223154",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9666765`](https://github.com/sagemath/sagetrac-mirror/commit/9666765a5d7cbab9bfb2b284017fc15be0ab1518)** to **[`7daaa83`](https://github.com/sagemath/sagetrac-mirror/commit/7daaa83ee93aace69ce63e3ad80d1c5e43f5cdd7)**



---

archive/issue_comments_223155.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@avirmaux](#comment%3A36):\n> Should not algebra_generators return a Family instead of a list ?\n\nAlthough this was the current implementation, I think this is a good as time as any to make this change. Ducktyping and how `Family` works means this shouldn't break anyone's code.",
    "created_at": "2015-03-18T18:21:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223155",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@avirmaux](#comment%3A36):
> Should not algebra_generators return a Family instead of a list ?

Although this was the current implementation, I think this is a good as time as any to make this change. Ducktyping and how `Family` works means this shouldn't break anyone's code.



---

archive/issue_comments_223156.json:
```json
{
    "body": "Changed commit from **[`7daaa83`](https://github.com/sagemath/sagetrac-mirror/commit/7daaa83ee93aace69ce63e3ad80d1c5e43f5cdd7)** to **[`f11ba24`](https://github.com/sagemath/sagetrac-mirror/commit/f11ba248bd9cf4e88949cb628fa38063b04c0787)**",
    "created_at": "2015-03-19T05:14:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223156",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7daaa83`](https://github.com/sagemath/sagetrac-mirror/commit/7daaa83ee93aace69ce63e3ad80d1c5e43f5cdd7)** to **[`f11ba24`](https://github.com/sagemath/sagetrac-mirror/commit/f11ba248bd9cf4e88949cb628fa38063b04c0787)**



---

archive/issue_comments_223157.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f11ba248bd9cf4e88949cb628fa38063b04c0787\"><code>f11ba24</code></a></td><td><code>further corrections in SymmetricGroupAlgebra</code></td></tr></table>\n",
    "created_at": "2015-03-19T05:14:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223157",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f11ba248bd9cf4e88949cb628fa38063b04c0787"><code>f11ba24</code></a></td><td><code>further corrections in SymmetricGroupAlgebra</code></td></tr></table>




---

archive/issue_comments_223158.json:
```json
{
    "body": "Changed commit from **[`f11ba24`](https://github.com/sagemath/sagetrac-mirror/commit/f11ba248bd9cf4e88949cb628fa38063b04c0787)** to **[`de5eb2f`](https://github.com/sagemath/sagetrac-mirror/commit/de5eb2ffa58726499d0c2a6a396d1bdcc9fedfbc)**",
    "created_at": "2015-03-19T06:09:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223158",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f11ba24`](https://github.com/sagemath/sagetrac-mirror/commit/f11ba248bd9cf4e88949cb628fa38063b04c0787)** to **[`de5eb2f`](https://github.com/sagemath/sagetrac-mirror/commit/de5eb2ffa58726499d0c2a6a396d1bdcc9fedfbc)**



---

archive/issue_comments_223159.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de5eb2ffa58726499d0c2a6a396d1bdcc9fedfbc\"><code>de5eb2f</code></a></td><td><code>more fixes & warnings</code></td></tr></table>\n",
    "created_at": "2015-03-19T06:09:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223159",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de5eb2ffa58726499d0c2a6a396d1bdcc9fedfbc"><code>de5eb2f</code></a></td><td><code>more fixes & warnings</code></td></tr></table>




---

archive/issue_comments_223160.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d097fdf6dc78cf7c1bc97781062bd22418f8d8ef\"><code>d097fdf</code></a></td><td><code>review complete(?):</code></td></tr></table>\n",
    "created_at": "2015-03-19T06:52:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223160",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d097fdf6dc78cf7c1bc97781062bd22418f8d8ef"><code>d097fdf</code></a></td><td><code>review complete(?):</code></td></tr></table>




---

archive/issue_comments_223161.json:
```json
{
    "body": "Changed commit from **[`de5eb2f`](https://github.com/sagemath/sagetrac-mirror/commit/de5eb2ffa58726499d0c2a6a396d1bdcc9fedfbc)** to **[`d097fdf`](https://github.com/sagemath/sagetrac-mirror/commit/d097fdf6dc78cf7c1bc97781062bd22418f8d8ef)**",
    "created_at": "2015-03-19T06:52:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223161",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`de5eb2f`](https://github.com/sagemath/sagetrac-mirror/commit/de5eb2ffa58726499d0c2a6a396d1bdcc9fedfbc)** to **[`d097fdf`](https://github.com/sagemath/sagetrac-mirror/commit/d097fdf6dc78cf7c1bc97781062bd22418f8d8ef)**



---

archive/issue_comments_223162.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6657c31932284db43898aee3dc33ca3f5558b544\"><code>6657c31</code></a></td><td><code>what subsets?</code></td></tr></table>\n",
    "created_at": "2015-03-19T06:55:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223162",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6657c31932284db43898aee3dc33ca3f5558b544"><code>6657c31</code></a></td><td><code>what subsets?</code></td></tr></table>




---

archive/issue_comments_223163.json:
```json
{
    "body": "Changed commit from **[`d097fdf`](https://github.com/sagemath/sagetrac-mirror/commit/d097fdf6dc78cf7c1bc97781062bd22418f8d8ef)** to **[`6657c31`](https://github.com/sagemath/sagetrac-mirror/commit/6657c31932284db43898aee3dc33ca3f5558b544)**",
    "created_at": "2015-03-19T06:55:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223163",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d097fdf`](https://github.com/sagemath/sagetrac-mirror/commit/d097fdf6dc78cf7c1bc97781062bd22418f8d8ef)** to **[`6657c31`](https://github.com/sagemath/sagetrac-mirror/commit/6657c31932284db43898aee3dc33ca3f5558b544)**



---

archive/issue_comments_223164.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nI'm done reviewing the functionality of this patch -- it is a good step forward, although I wish it would address the problem in a more systematic way (e.g., using `AlgebraWithRealizations` to put the different bases and indexing sets for the symmetric group algebra on equal footing, and also to get rid of the accursed `mult` global variable). It doesn't introduce any new technical debt, though, that's for sure, and it cleans up some of the existing.\n\nOn the other hand, I cannot promise that this branch causes no speed regressions. Someone who is better at this might want to check this. To me it seems that it slows down the product of two `Permutations(n)` elements by 50% (refining its parent, though), slows down `retract_okounkov_vershik` on symmetric group algebra elements by a bit, and speeds up `left_action_product` on a symmetric group algebra noticeably.",
    "created_at": "2015-03-19T07:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223164",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:43" align="right">comment:43</div>

I'm done reviewing the functionality of this patch -- it is a good step forward, although I wish it would address the problem in a more systematic way (e.g., using `AlgebraWithRealizations` to put the different bases and indexing sets for the symmetric group algebra on equal footing, and also to get rid of the accursed `mult` global variable). It doesn't introduce any new technical debt, though, that's for sure, and it cleans up some of the existing.

On the other hand, I cannot promise that this branch causes no speed regressions. Someone who is better at this might want to check this. To me it seems that it slows down the product of two `Permutations(n)` elements by 50% (refining its parent, though), slows down `retract_okounkov_vershik` on symmetric group algebra elements by a bit, and speeds up `left_action_product` on a symmetric group algebra noticeably.



---

archive/issue_comments_223165.json:
```json
{
    "body": "Changed commit from **[`6657c31`](https://github.com/sagemath/sagetrac-mirror/commit/6657c31932284db43898aee3dc33ca3f5558b544)** to **[`947bed4`](https://github.com/sagemath/sagetrac-mirror/commit/947bed483cd03fbd03cc0741235e50fd8b568193)**",
    "created_at": "2015-03-19T19:01:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223165",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6657c31`](https://github.com/sagemath/sagetrac-mirror/commit/6657c31932284db43898aee3dc33ca3f5558b544)** to **[`947bed4`](https://github.com/sagemath/sagetrac-mirror/commit/947bed483cd03fbd03cc0741235e50fd8b568193)**



---

archive/issue_comments_223166.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/662421daa611f739e6c13598afe5f4d06383f2b8\"><code>662421d</code></a></td><td><code>Cythonized permutation multiplication and trying to remove speed regression.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/947bed483cd03fbd03cc0741235e50fd8b568193\"><code>947bed4</code></a></td><td><code>Merge branch 'public/combinat/fix_sga-16926' of trac.sagemath.org:sage into public/combinat/fix_sga-16926</code></td></tr></table>\n",
    "created_at": "2015-03-19T19:01:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223166",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/662421daa611f739e6c13598afe5f4d06383f2b8"><code>662421d</code></a></td><td><code>Cythonized permutation multiplication and trying to remove speed regression.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/947bed483cd03fbd03cc0741235e50fd8b568193"><code>947bed4</code></a></td><td><code>Merge branch 'public/combinat/fix_sga-16926' of trac.sagemath.org:sage into public/combinat/fix_sga-16926</code></td></tr></table>




---

archive/issue_comments_223167.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nI've made some tweaks to the permutations multiplication, which significantly drops the number of function calls according to `%prun`, as well as cythonizing it. Here's my timings:\n\n```\nsage: P = Permutations(5)\nsage: x = P.random_element()\nsage: y = P.random_element()\nsage: %timeit x*y\n10000 loops, best of 3: 61.2 \u00b5s per loop\nsage: P = Permutations(100)\nsage: x = P.random_element()\nsage: y = P.random_element()\nsage: %timeit x*y\n1000 loops, best of 3: 167 \u00b5s per loop\n```\nBefore:\n\n```\nsage: %timeit x*y\n10000 loops, best of 3: 87.3 \u00b5s per loop\nsage: %timeit x*y\n1000 loops, best of 3: 210 \u00b5s per loop\n```\nI don't care so much on `retract_okounkov_vershik`, but since you say its a very minor regression, I'm not going to consider it (in fact, it might be faster now with faster multiplication). Here's some timings of `left_action_product`:\n\n```\nsage: P = Permutations(5)\nsage: x = P.random_element()\nsage: Q = Permutations(100)\nsage: y = Q.random_element()\nsage: %timeit x*y\n1000 loops, best of 3: 300 \u00b5s per loop\nsage: %timeit x.left_action_product(y)\n10000 loops, best of 3: 167 \u00b5s per loop\n```\nBefore:\n\n```\nsage: %timeit x*y\n1000 loops, best of 3: 225 \u00b5s per loop\nsage: %timeit x.left_action_product(y)\n1000 loops, best of 3: 212 \u00b5s per loop\n```\nSo there's ~20% slowdown when multiplying different parents, which surprises me somewhat. Let me see if I can fix that for a few minutes...",
    "created_at": "2015-03-19T19:04:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223167",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:45" align="right">comment:45</div>

I've made some tweaks to the permutations multiplication, which significantly drops the number of function calls according to `%prun`, as well as cythonizing it. Here's my timings:

```
sage: P = Permutations(5)
sage: x = P.random_element()
sage: y = P.random_element()
sage: %timeit x*y
10000 loops, best of 3: 61.2 ¬µs per loop
sage: P = Permutations(100)
sage: x = P.random_element()
sage: y = P.random_element()
sage: %timeit x*y
1000 loops, best of 3: 167 ¬µs per loop
```
Before:

```
sage: %timeit x*y
10000 loops, best of 3: 87.3 ¬µs per loop
sage: %timeit x*y
1000 loops, best of 3: 210 ¬µs per loop
```
I don't care so much on `retract_okounkov_vershik`, but since you say its a very minor regression, I'm not going to consider it (in fact, it might be faster now with faster multiplication). Here's some timings of `left_action_product`:

```
sage: P = Permutations(5)
sage: x = P.random_element()
sage: Q = Permutations(100)
sage: y = Q.random_element()
sage: %timeit x*y
1000 loops, best of 3: 300 ¬µs per loop
sage: %timeit x.left_action_product(y)
10000 loops, best of 3: 167 ¬µs per loop
```
Before:

```
sage: %timeit x*y
1000 loops, best of 3: 225 ¬µs per loop
sage: %timeit x.left_action_product(y)
1000 loops, best of 3: 212 ¬µs per loop
```
So there's ~20% slowdown when multiplying different parents, which surprises me somewhat. Let me see if I can fix that for a few minutes...



---

archive/issue_comments_223168.json:
```json
{
    "body": "Changed commit from **[`947bed4`](https://github.com/sagemath/sagetrac-mirror/commit/947bed483cd03fbd03cc0741235e50fd8b568193)** to **[`aebceaf`](https://github.com/sagemath/sagetrac-mirror/commit/aebceaf130a0cd513dcd7cfe81b45c2bfc98ba8f)**",
    "created_at": "2015-03-19T19:08:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223168",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`947bed4`](https://github.com/sagemath/sagetrac-mirror/commit/947bed483cd03fbd03cc0741235e50fd8b568193)** to **[`aebceaf`](https://github.com/sagemath/sagetrac-mirror/commit/aebceaf130a0cd513dcd7cfe81b45c2bfc98ba8f)**



---

archive/issue_comments_223169.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aebceaf130a0cd513dcd7cfe81b45c2bfc98ba8f\"><code>aebceaf</code></a></td><td><code>Speeding up multiplication of different sizes.</code></td></tr></table>\n",
    "created_at": "2015-03-19T19:08:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223169",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aebceaf130a0cd513dcd7cfe81b45c2bfc98ba8f"><code>aebceaf</code></a></td><td><code>Speeding up multiplication of different sizes.</code></td></tr></table>




---

archive/issue_comments_223170.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nBoom:\n\n```\nsage: P = Permutations(5)\nsage: x = P.random_element()\nsage: Q = Permutations(100)\nsage: y = Q.random_element()\nsage: %timeit x*y\n1000 loops, best of 3: 195 \u00b5s per loop\n```\nSo that should take care of speed regressions (at least any that I care about). So if you're happy with my changes, then let's get this in.",
    "created_at": "2015-03-19T19:09:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223170",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:47" align="right">comment:47</div>

Boom:

```
sage: P = Permutations(5)
sage: x = P.random_element()
sage: Q = Permutations(100)
sage: y = Q.random_element()
sage: %timeit x*y
1000 loops, best of 3: 195 ¬µs per loop
```
So that should take care of speed regressions (at least any that I care about). So if you're happy with my changes, then let's get this in.



---

archive/issue_comments_223171.json:
```json
{
    "body": "Changed commit from **[`aebceaf`](https://github.com/sagemath/sagetrac-mirror/commit/aebceaf130a0cd513dcd7cfe81b45c2bfc98ba8f)** to **[`bcec1c3`](https://github.com/sagemath/sagetrac-mirror/commit/bcec1c3c2f1dfe0ceff9c51a025b04647246ba5f)**",
    "created_at": "2015-03-19T21:38:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223171",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`aebceaf`](https://github.com/sagemath/sagetrac-mirror/commit/aebceaf130a0cd513dcd7cfe81b45c2bfc98ba8f)** to **[`bcec1c3`](https://github.com/sagemath/sagetrac-mirror/commit/bcec1c3c2f1dfe0ceff9c51a025b04647246ba5f)**



---

archive/issue_comments_223172.json:
```json
{
    "body": "<div id=\"comment:48\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bcec1c3c2f1dfe0ceff9c51a025b04647246ba5f\"><code>bcec1c3</code></a></td><td><code>Doing more wiggling for speed.</code></td></tr></table>\n",
    "created_at": "2015-03-19T21:38:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223172",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bcec1c3c2f1dfe0ceff9c51a025b04647246ba5f"><code>bcec1c3</code></a></td><td><code>Doing more wiggling for speed.</code></td></tr></table>




---

archive/issue_comments_223173.json:
```json
{
    "body": "Changed commit from **[`bcec1c3`](https://github.com/sagemath/sagetrac-mirror/commit/bcec1c3c2f1dfe0ceff9c51a025b04647246ba5f)** to **[`b50472e`](https://github.com/sagemath/sagetrac-mirror/commit/b50472eda0f21d983a4bc247ab1fdc8d89d5d0ea)**",
    "created_at": "2015-03-19T22:08:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223173",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bcec1c3`](https://github.com/sagemath/sagetrac-mirror/commit/bcec1c3c2f1dfe0ceff9c51a025b04647246ba5f)** to **[`b50472e`](https://github.com/sagemath/sagetrac-mirror/commit/b50472eda0f21d983a4bc247ab1fdc8d89d5d0ea)**



---

archive/issue_comments_223174.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b50472eda0f21d983a4bc247ab1fdc8d89d5d0ea\"><code>b50472e</code></a></td><td><code>Removing unnecessary code and adding warning.</code></td></tr></table>\n",
    "created_at": "2015-03-19T22:08:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223174",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b50472eda0f21d983a4bc247ab1fdc8d89d5d0ea"><code>b50472e</code></a></td><td><code>Removing unnecessary code and adding warning.</code></td></tr></table>




---

archive/issue_comments_223175.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3c01618e761451d1939030fefb9f8eeac30f025\"><code>a3c0161</code></a></td><td><code>16926: added support for WeylGroups, essentially by removing unneeded code + somewhat simplified constructor API + tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/011e877182b0d77c4943d34e27173e000e671d58\"><code>011e877</code></a></td><td><code>Merge branch 'public/combinat/fix_sga-16926' of trac.sagemath.org:sage into t/16926/public/combinat/fix_sga-16926</code></td></tr></table>\n",
    "created_at": "2015-03-19T23:45:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223175",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3c01618e761451d1939030fefb9f8eeac30f025"><code>a3c0161</code></a></td><td><code>16926: added support for WeylGroups, essentially by removing unneeded code + somewhat simplified constructor API + tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/011e877182b0d77c4943d34e27173e000e671d58"><code>011e877</code></a></td><td><code>Merge branch 'public/combinat/fix_sga-16926' of trac.sagemath.org:sage into t/16926/public/combinat/fix_sga-16926</code></td></tr></table>




---

archive/issue_comments_223176.json:
```json
{
    "body": "Changed commit from **[`b50472e`](https://github.com/sagemath/sagetrac-mirror/commit/b50472eda0f21d983a4bc247ab1fdc8d89d5d0ea)** to **[`011e877`](https://github.com/sagemath/sagetrac-mirror/commit/011e877182b0d77c4943d34e27173e000e671d58)**",
    "created_at": "2015-03-19T23:45:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223176",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b50472e`](https://github.com/sagemath/sagetrac-mirror/commit/b50472eda0f21d983a4bc247ab1fdc8d89d5d0ea)** to **[`011e877`](https://github.com/sagemath/sagetrac-mirror/commit/011e877182b0d77c4943d34e27173e000e671d58)**



---

archive/issue_comments_223177.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nHi,\n\nI have been through the code, and discussed it with Darij and Travis. Please check the above commits; if you are happy with them, this can be positive review, assuming the patchbot goes green.\n\nThanks Travis and Darij for all the work!",
    "created_at": "2015-03-19T23:47:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223177",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:51" align="right">comment:51</div>

Hi,

I have been through the code, and discussed it with Darij and Travis. Please check the above commits; if you are happy with them, this can be positive review, assuming the patchbot goes green.

Thanks Travis and Darij for all the work!



---

archive/issue_comments_223178.json:
```json
{
    "body": "Changed commit from **[`011e877`](https://github.com/sagemath/sagetrac-mirror/commit/011e877182b0d77c4943d34e27173e000e671d58)** to **[`23cefb9`](https://github.com/sagemath/sagetrac-mirror/commit/23cefb9861ae2dc866935bbd6f6b83ff44a36be5)**",
    "created_at": "2015-03-19T23:53:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223178",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`011e877`](https://github.com/sagemath/sagetrac-mirror/commit/011e877182b0d77c4943d34e27173e000e671d58)** to **[`23cefb9`](https://github.com/sagemath/sagetrac-mirror/commit/23cefb9861ae2dc866935bbd6f6b83ff44a36be5)**



---

archive/issue_comments_223179.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23cefb9861ae2dc866935bbd6f6b83ff44a36be5\"><code>23cefb9</code></a></td><td><code>16926: trivial doctest updates w.r.t. previous merge.</code></td></tr></table>\n",
    "created_at": "2015-03-19T23:53:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223179",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23cefb9861ae2dc866935bbd6f6b83ff44a36be5"><code>23cefb9</code></a></td><td><code>16926: trivial doctest updates w.r.t. previous merge.</code></td></tr></table>




---

archive/issue_comments_223180.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c3c9e45fcb8d96a3733229d8b814fe6dd1485d9\"><code>4c3c9e4</code></a></td><td><code>I don't think the WeylAlgebra setting is supported enough to be advertised; furthermore the algebra method on nonstandard symmetric groups is fubar</code></td></tr></table>\n",
    "created_at": "2015-03-20T03:58:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223180",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c3c9e45fcb8d96a3733229d8b814fe6dd1485d9"><code>4c3c9e4</code></a></td><td><code>I don't think the WeylAlgebra setting is supported enough to be advertised; furthermore the algebra method on nonstandard symmetric groups is fubar</code></td></tr></table>




---

archive/issue_comments_223181.json:
```json
{
    "body": "Changed commit from **[`23cefb9`](https://github.com/sagemath/sagetrac-mirror/commit/23cefb9861ae2dc866935bbd6f6b83ff44a36be5)** to **[`4c3c9e4`](https://github.com/sagemath/sagetrac-mirror/commit/4c3c9e45fcb8d96a3733229d8b814fe6dd1485d9)**",
    "created_at": "2015-03-20T03:58:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223181",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`23cefb9`](https://github.com/sagemath/sagetrac-mirror/commit/23cefb9861ae2dc866935bbd6f6b83ff44a36be5)** to **[`4c3c9e4`](https://github.com/sagemath/sagetrac-mirror/commit/4c3c9e45fcb8d96a3733229d8b814fe6dd1485d9)**



---

archive/issue_comments_223182.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2069db112563dd15542ba83b895b43531d71f1a\"><code>b2069db</code></a></td><td><code>use cythonized left/right_action_products in SGA too</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/655380d1fb6bd116ae23864b78cde2bf27d7ac24\"><code>655380d</code></a></td><td><code>more optimizations</code></td></tr></table>\n",
    "created_at": "2015-03-20T04:21:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223182",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2069db112563dd15542ba83b895b43531d71f1a"><code>b2069db</code></a></td><td><code>use cythonized left/right_action_products in SGA too</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/655380d1fb6bd116ae23864b78cde2bf27d7ac24"><code>655380d</code></a></td><td><code>more optimizations</code></td></tr></table>




---

archive/issue_comments_223183.json:
```json
{
    "body": "Changed commit from **[`4c3c9e4`](https://github.com/sagemath/sagetrac-mirror/commit/4c3c9e45fcb8d96a3733229d8b814fe6dd1485d9)** to **[`655380d`](https://github.com/sagemath/sagetrac-mirror/commit/655380d1fb6bd116ae23864b78cde2bf27d7ac24)**",
    "created_at": "2015-03-20T04:21:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223183",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4c3c9e4`](https://github.com/sagemath/sagetrac-mirror/commit/4c3c9e45fcb8d96a3733229d8b814fe6dd1485d9)** to **[`655380d`](https://github.com/sagemath/sagetrac-mirror/commit/655380d1fb6bd116ae23864b78cde2bf27d7ac24)**



---

archive/issue_events_239754.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2015-03-20T05:08:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239754"
}
```



---

archive/issue_events_239755.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2015-03-20T05:08:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239755"
}
```



---

archive/issue_comments_223184.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nWe looked over my latest commits with Travis, and he is fine with them (up to little things we fixed). This is good to go, assuming the patchbot goes green.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c3c9e45fcb8d96a3733229d8b814fe6dd1485d9\"><code>4c3c9e4</code></a></td><td><code>I don't think the WeylAlgebra setting is supported enough to be advertised; furthermore the algebra method on nonstandard symmetric groups is fubar</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2069db112563dd15542ba83b895b43531d71f1a\"><code>b2069db</code></a></td><td><code>use cythonized left/right_action_products in SGA too</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/655380d1fb6bd116ae23864b78cde2bf27d7ac24\"><code>655380d</code></a></td><td><code>more optimizations</code></td></tr></table>\n",
    "created_at": "2015-03-20T05:08:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223184",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:55" align="right">comment:55</div>

We looked over my latest commits with Travis, and he is fine with them (up to little things we fixed). This is good to go, assuming the patchbot goes green.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c3c9e45fcb8d96a3733229d8b814fe6dd1485d9"><code>4c3c9e4</code></a></td><td><code>I don't think the WeylAlgebra setting is supported enough to be advertised; furthermore the algebra method on nonstandard symmetric groups is fubar</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2069db112563dd15542ba83b895b43531d71f1a"><code>b2069db</code></a></td><td><code>use cythonized left/right_action_products in SGA too</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/655380d1fb6bd116ae23864b78cde2bf27d7ac24"><code>655380d</code></a></td><td><code>more optimizations</code></td></tr></table>




---

archive/issue_comments_223185.json:
```json
{
    "body": "Reviewer: **Darij Grinberg, Nicolas M. Thi\u00e9ry**",
    "created_at": "2015-03-20T05:08:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223185",
    "user": "https://github.com/nthiery"
}
```

Reviewer: **Darij Grinberg, Nicolas M. Thi√©ry**



---

archive/issue_comments_223186.json:
```json
{
    "body": "<div id=\"comment:56\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49307d7f7c598101ea7d381fc6fc8efa65aed66f\"><code>49307d7</code></a></td><td><code>16926: proofreading with Travis</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fe64bfca71b6a72b4e7837e6ce668e0be2f1128\"><code>8fe64bf</code></a></td><td><code>Merge branch 'public/combinat/fix_sga-16926' of trac.sagemath.org:sage into t/16926/public/combinat/fix_sga-16926</code></td></tr></table>\n",
    "created_at": "2015-03-20T05:09:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223186",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:56"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49307d7f7c598101ea7d381fc6fc8efa65aed66f"><code>49307d7</code></a></td><td><code>16926: proofreading with Travis</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fe64bfca71b6a72b4e7837e6ce668e0be2f1128"><code>8fe64bf</code></a></td><td><code>Merge branch 'public/combinat/fix_sga-16926' of trac.sagemath.org:sage into t/16926/public/combinat/fix_sga-16926</code></td></tr></table>




---

archive/issue_events_239756.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2015-03-20T05:09:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239756"
}
```



---

archive/issue_events_239757.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2015-03-20T05:09:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239757"
}
```



---

archive/issue_comments_223187.json:
```json
{
    "body": "Changed commit from **[`655380d`](https://github.com/sagemath/sagetrac-mirror/commit/655380d1fb6bd116ae23864b78cde2bf27d7ac24)** to **[`8fe64bf`](https://github.com/sagemath/sagetrac-mirror/commit/8fe64bfca71b6a72b4e7837e6ce668e0be2f1128)**",
    "created_at": "2015-03-20T05:09:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223187",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`655380d`](https://github.com/sagemath/sagetrac-mirror/commit/655380d1fb6bd116ae23864b78cde2bf27d7ac24)** to **[`8fe64bf`](https://github.com/sagemath/sagetrac-mirror/commit/8fe64bfca71b6a72b4e7837e6ce668e0be2f1128)**



---

archive/issue_comments_223188.json:
```json
{
    "body": "<div id=\"comment:57\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f97814d2e67abc00b2f419d2c3836ff54cfe3da\"><code>1f97814</code></a></td><td><code>16926: proofread Darij's latest changes</code></td></tr></table>\n",
    "created_at": "2015-03-20T05:21:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223188",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:57"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f97814d2e67abc00b2f419d2c3836ff54cfe3da"><code>1f97814</code></a></td><td><code>16926: proofread Darij's latest changes</code></td></tr></table>




---

archive/issue_comments_223189.json:
```json
{
    "body": "Changed commit from **[`8fe64bf`](https://github.com/sagemath/sagetrac-mirror/commit/8fe64bfca71b6a72b4e7837e6ce668e0be2f1128)** to **[`1f97814`](https://github.com/sagemath/sagetrac-mirror/commit/1f97814d2e67abc00b2f419d2c3836ff54cfe3da)**",
    "created_at": "2015-03-20T05:21:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223189",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8fe64bf`](https://github.com/sagemath/sagetrac-mirror/commit/8fe64bfca71b6a72b4e7837e6ce668e0be2f1128)** to **[`1f97814`](https://github.com/sagemath/sagetrac-mirror/commit/1f97814d2e67abc00b2f419d2c3836ff54cfe3da)**



---

archive/issue_events_239758.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2015-03-20T05:24:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239758"
}
```



---

archive/issue_events_239759.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2015-03-20T05:24:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239759"
}
```



---

archive/issue_comments_223190.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nI proofread Darij's changes, and implemented the suggestion from his warning; Travis proofread my proofreading. Back to positive review.",
    "created_at": "2015-03-20T05:24:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223190",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:58" align="right">comment:58</div>

I proofread Darij's changes, and implemented the suggestion from his warning; Travis proofread my proofreading. Back to positive review.



---

archive/issue_comments_223191.json:
```json
{
    "body": "Changed commit from **[`1f97814`](https://github.com/sagemath/sagetrac-mirror/commit/1f97814d2e67abc00b2f419d2c3836ff54cfe3da)** to **[`12aaaf8`](https://github.com/sagemath/sagetrac-mirror/commit/12aaaf819bbb30bbd28748f27944d295cd4884d2)**",
    "created_at": "2015-03-20T05:27:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223191",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1f97814`](https://github.com/sagemath/sagetrac-mirror/commit/1f97814d2e67abc00b2f419d2c3836ff54cfe3da)** to **[`12aaaf8`](https://github.com/sagemath/sagetrac-mirror/commit/12aaaf819bbb30bbd28748f27944d295cd4884d2)**



---

archive/issue_events_239760.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2015-03-20T05:27:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239760"
}
```



---

archive/issue_events_239761.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2015-03-20T05:27:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239761"
}
```



---

archive/issue_comments_223192.json:
```json
{
    "body": "<div id=\"comment:59\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12aaaf819bbb30bbd28748f27944d295cd4884d2\"><code>12aaaf8</code></a></td><td><code>doctesting the demise of my bug</code></td></tr></table>\n",
    "created_at": "2015-03-20T05:27:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223192",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:59"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12aaaf819bbb30bbd28748f27944d295cd4884d2"><code>12aaaf8</code></a></td><td><code>doctesting the demise of my bug</code></td></tr></table>




---

archive/issue_comments_223193.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nLGTM. Darij, are you going to do the (quick) review of #17981?",
    "created_at": "2015-03-20T05:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223193",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:60" align="right">comment:60</div>

LGTM. Darij, are you going to do the (quick) review of #17981?



---

archive/issue_events_239762.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-20T05:35:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239762"
}
```



---

archive/issue_events_239763.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-20T05:35:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239763"
}
```



---

archive/issue_comments_223194.json:
```json
{
    "body": "Changed keywords from none to **days64**",
    "created_at": "2015-03-20T05:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223194",
    "user": "https://github.com/tscrim"
}
```

Changed keywords from none to **days64**



---

archive/issue_events_239764.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-20T05:35:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239764"
}
```



---

archive/issue_events_239765.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-20T05:35:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239765"
}
```



---

archive/issue_comments_223195.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nThanks, Travis!",
    "created_at": "2015-03-20T05:49:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223195",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:61" align="right">comment:61</div>

Thanks, Travis!



---

archive/issue_comments_223196.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nDoctest failures",
    "created_at": "2015-03-20T19:54:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223196",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:62" align="right">comment:62</div>

Doctest failures



---

archive/issue_events_239766.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-20T19:54:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239766"
}
```



---

archive/issue_events_239767.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-20T19:54:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239767"
}
```



---

archive/issue_comments_223197.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nCould you tell us where you got the failures? (There might also be an issue with us testing this on beta5.)",
    "created_at": "2015-03-20T20:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223197",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:63" align="right">comment:63</div>

Could you tell us where you got the failures? (There might also be an issue with us testing this on beta5.)



---

archive/issue_comments_223198.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nThe doctests haven't finished yet, but I already get these:\n\n```\nFile \"src/sage/combinat/backtrack.py\", line 867, in sage.combinat.backtrack.TransitiveIdeal\nFailed example:\n    [p for p in TransitiveIdeal(attrcall(\"permutohedron_succ\"), [Permutation([1,2,3])])]\nExpected:\n    [[1, 2, 3], [2, 1, 3], [1, 3, 2], [2, 3, 1], [3, 2, 1], [3, 1, 2]]\nGot:\n    [[1, 2, 3], [2, 1, 3], [1, 3, 2], [2, 3, 1], [3, 1, 2], [3, 2, 1]]\n**********************************************************************\nFile \"src/sage/combinat/backtrack.py\", line 873, in sage.combinat.backtrack.TransitiveIdeal\nFailed example:\n    [p for p in TransitiveIdeal(attrcall(\"permutohedron_succ\"), [Permutation([3,1,2,4]), Permutation([2,1,3,4])])]\nExpected:\n    [[2, 1, 3, 4], [2, 1, 4, 3], [2, 4, 1, 3], [4, 2, 1, 3], [4, 2, 3, 1], [4, 3, 2, 1], [3, 1, 2, 4], [2, 4, 3, 1], [3, 2, 1, 4], [2, 3, 1, 4], [2, 3, 4, 1], [3, 2, 4, 1], [3, 1, 4, 2], [3, 4, 2, 1], [3, 4, 1, 2], [4, 3, 1, 2]]\nGot:\n    [[2, 1, 3, 4],\n     [3, 1, 2, 4],\n     [2, 1, 4, 3],\n     [3, 1, 4, 2],\n     [2, 3, 1, 4],\n     [3, 4, 1, 2],\n     [3, 4, 2, 1],\n     [2, 3, 4, 1],\n     [2, 4, 1, 3],\n     [3, 2, 1, 4],\n     [4, 3, 1, 2],\n     [4, 3, 2, 1],\n     [3, 2, 4, 1],\n     [4, 2, 1, 3],\n     [2, 4, 3, 1],\n     [4, 2, 3, 1]]\n**********************************************************************\nFile \"src/sage/combinat/backtrack.py\", line 989, in sage.combinat.backtrack.TransitiveIdealGraded\nFailed example:\n    [p for p in TransitiveIdealGraded(attrcall(\"permutohedron_succ\"), [Permutation([3,1,2,4]), Permutation([2,1,3,4])])]\nExpected:\n    [[3, 1, 2, 4], [2, 1, 3, 4], [2, 1, 4, 3], [3, 2, 1, 4], [2, 3, 1, 4], [3, 1, 4, 2], [2, 3, 4, 1], [3, 4, 1, 2], [3, 2, 4, 1], [2, 4, 1, 3], [2, 4, 3, 1], [4, 3, 1, 2], [4, 2, 1, 3], [3, 4, 2, 1], [4, 2, 3, 1], [4, 3, 2, 1]]\nGot:\n    [[3, 1, 2, 4],\n     [2, 1, 3, 4],\n     [2, 3, 1, 4],\n     [2, 1, 4, 3],\n     [3, 2, 1, 4],\n     [3, 1, 4, 2],\n     [3, 2, 4, 1],\n     [2, 4, 1, 3],\n     [3, 4, 1, 2],\n     [2, 3, 4, 1],\n     [4, 3, 1, 2],\n     [3, 4, 2, 1],\n     [4, 2, 1, 3],\n     [2, 4, 3, 1],\n     [4, 3, 2, 1],\n     [4, 2, 3, 1]]\n**********************************************************************\n2 items had failures:\n   2 of  16 in sage.combinat.backtrack.TransitiveIdeal\n   1 of   8 in sage.combinat.backtrack.TransitiveIdealGraded\n    [176 tests, 3 failures, 102.22 s]\n```",
    "created_at": "2015-03-20T20:40:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223198",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<div id="comment:64" align="right">comment:64</div>

The doctests haven't finished yet, but I already get these:

```
File "src/sage/combinat/backtrack.py", line 867, in sage.combinat.backtrack.TransitiveIdeal
Failed example:
    [p for p in TransitiveIdeal(attrcall("permutohedron_succ"), [Permutation([1,2,3])])]
Expected:
    [[1, 2, 3], [2, 1, 3], [1, 3, 2], [2, 3, 1], [3, 2, 1], [3, 1, 2]]
Got:
    [[1, 2, 3], [2, 1, 3], [1, 3, 2], [2, 3, 1], [3, 1, 2], [3, 2, 1]]
**********************************************************************
File "src/sage/combinat/backtrack.py", line 873, in sage.combinat.backtrack.TransitiveIdeal
Failed example:
    [p for p in TransitiveIdeal(attrcall("permutohedron_succ"), [Permutation([3,1,2,4]), Permutation([2,1,3,4])])]
Expected:
    [[2, 1, 3, 4], [2, 1, 4, 3], [2, 4, 1, 3], [4, 2, 1, 3], [4, 2, 3, 1], [4, 3, 2, 1], [3, 1, 2, 4], [2, 4, 3, 1], [3, 2, 1, 4], [2, 3, 1, 4], [2, 3, 4, 1], [3, 2, 4, 1], [3, 1, 4, 2], [3, 4, 2, 1], [3, 4, 1, 2], [4, 3, 1, 2]]
Got:
    [[2, 1, 3, 4],
     [3, 1, 2, 4],
     [2, 1, 4, 3],
     [3, 1, 4, 2],
     [2, 3, 1, 4],
     [3, 4, 1, 2],
     [3, 4, 2, 1],
     [2, 3, 4, 1],
     [2, 4, 1, 3],
     [3, 2, 1, 4],
     [4, 3, 1, 2],
     [4, 3, 2, 1],
     [3, 2, 4, 1],
     [4, 2, 1, 3],
     [2, 4, 3, 1],
     [4, 2, 3, 1]]
**********************************************************************
File "src/sage/combinat/backtrack.py", line 989, in sage.combinat.backtrack.TransitiveIdealGraded
Failed example:
    [p for p in TransitiveIdealGraded(attrcall("permutohedron_succ"), [Permutation([3,1,2,4]), Permutation([2,1,3,4])])]
Expected:
    [[3, 1, 2, 4], [2, 1, 3, 4], [2, 1, 4, 3], [3, 2, 1, 4], [2, 3, 1, 4], [3, 1, 4, 2], [2, 3, 4, 1], [3, 4, 1, 2], [3, 2, 4, 1], [2, 4, 1, 3], [2, 4, 3, 1], [4, 3, 1, 2], [4, 2, 1, 3], [3, 4, 2, 1], [4, 2, 3, 1], [4, 3, 2, 1]]
Got:
    [[3, 1, 2, 4],
     [2, 1, 3, 4],
     [2, 3, 1, 4],
     [2, 1, 4, 3],
     [3, 2, 1, 4],
     [3, 1, 4, 2],
     [3, 2, 4, 1],
     [2, 4, 1, 3],
     [3, 4, 1, 2],
     [2, 3, 4, 1],
     [4, 3, 1, 2],
     [3, 4, 2, 1],
     [4, 2, 1, 3],
     [2, 4, 3, 1],
     [4, 3, 2, 1],
     [4, 2, 3, 1]]
**********************************************************************
2 items had failures:
   2 of  16 in sage.combinat.backtrack.TransitiveIdeal
   1 of   8 in sage.combinat.backtrack.TransitiveIdealGraded
    [176 tests, 3 failures, 102.22 s]
```



---

archive/issue_comments_223199.json:
```json
{
    "body": "<div id=\"comment:65\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/009ae6047c1ca8b678cdfd3dcbe96f7159a6fe38\"><code>009ae60</code></a></td><td><code>Trivial doctest fixes and removed old note in Groups().</code></td></tr></table>\n",
    "created_at": "2015-03-20T21:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223199",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:65"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/009ae6047c1ca8b678cdfd3dcbe96f7159a6fe38"><code>009ae60</code></a></td><td><code>Trivial doctest fixes and removed old note in Groups().</code></td></tr></table>




---

archive/issue_comments_223200.json:
```json
{
    "body": "Changed commit from **[`12aaaf8`](https://github.com/sagemath/sagetrac-mirror/commit/12aaaf819bbb30bbd28748f27944d295cd4884d2)** to **[`009ae60`](https://github.com/sagemath/sagetrac-mirror/commit/009ae6047c1ca8b678cdfd3dcbe96f7159a6fe38)**",
    "created_at": "2015-03-20T21:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223200",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`12aaaf8`](https://github.com/sagemath/sagetrac-mirror/commit/12aaaf819bbb30bbd28748f27944d295cd4884d2)** to **[`009ae60`](https://github.com/sagemath/sagetrac-mirror/commit/009ae6047c1ca8b678cdfd3dcbe96f7159a6fe38)**



---

archive/issue_comments_223201.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nFixed; those which came from the ordering of `Permutations` iterator changed because I am now using `itertools.permutations`. Also there were some failures in the `Groups()` category from an old warning message that I removed. Nicolas and/or Darij, do you agree with my changes?",
    "created_at": "2015-03-20T21:03:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223201",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:66" align="right">comment:66</div>

Fixed; those which came from the ordering of `Permutations` iterator changed because I am now using `itertools.permutations`. Also there were some failures in the `Groups()` category from an old warning message that I removed. Nicolas and/or Darij, do you agree with my changes?



---

archive/issue_events_239768.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-20T21:03:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239768"
}
```



---

archive/issue_events_239769.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-20T21:03:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239769"
}
```



---

archive/issue_comments_223202.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nI agree. Thank you!",
    "created_at": "2015-03-20T21:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223202",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:67" align="right">comment:67</div>

I agree. Thank you!



---

archive/issue_comments_223203.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nI'm taking that as a back to `positive_review`.",
    "created_at": "2015-03-20T21:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223203",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:68" align="right">comment:68</div>

I'm taking that as a back to `positive_review`.



---

archive/issue_events_239770.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-20T21:17:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239770"
}
```



---

archive/issue_events_239771.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-20T21:17:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239771"
}
```



---

archive/issue_comments_223204.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nSimilarly:\n\n```\nsage -t --long --warn-long 46.4 src/sage/sets/recursively_enumerated_set.pyx\n**********************************************************************\nFile \"src/sage/sets/recursively_enumerated_set.pyx\", line 116, in sage.sets.recursively_enumerated_set\nFailed example:\n    list(R.elements_of_depth_iterator(9))\nExpected:\n    [[5, 4, 2, 3, 1], [4, 5, 3, 2, 1], [5, 3, 4, 2, 1], [5, 4, 3, 1, 2]]\nGot:\n    [[5, 3, 4, 2, 1], [4, 5, 3, 2, 1], [5, 4, 2, 3, 1], [5, 4, 3, 1, 2]]\n**********************************************************************\nFile \"src/sage/sets/recursively_enumerated_set.pyx\", line 802, in sage.sets.recursively_enumerated_set.RecursivelyEnumeratedSet_generic.naive_search_iterator\nFailed example:\n    list(R.naive_search_iterator())\nExpected:\n    [[1, 2, 3], [2, 1, 3], [1, 3, 2], [2, 3, 1], [3, 2, 1], [3, 1, 2]]\nGot:\n    [[1, 2, 3], [2, 1, 3], [1, 3, 2], [2, 3, 1], [3, 1, 2], [3, 2, 1]]\n**********************************************************************\n2 items had failures:\n   1 of  41 in sage.sets.recursively_enumerated_set\n   1 of   5 in sage.sets.recursively_enumerated_set.RecursivelyEnumeratedSet_generic.naive_search_iterator\n    [193 tests, 2 failures, 0.76 s]\n----------------------------------------------------------------------\nsage -t --long --warn-long 46.4 src/sage/sets/recursively_enumerated_set.pyx  # 2 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2015-03-20T21:27:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223204",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:69" align="right">comment:69</div>

Similarly:

```
sage -t --long --warn-long 46.4 src/sage/sets/recursively_enumerated_set.pyx
**********************************************************************
File "src/sage/sets/recursively_enumerated_set.pyx", line 116, in sage.sets.recursively_enumerated_set
Failed example:
    list(R.elements_of_depth_iterator(9))
Expected:
    [[5, 4, 2, 3, 1], [4, 5, 3, 2, 1], [5, 3, 4, 2, 1], [5, 4, 3, 1, 2]]
Got:
    [[5, 3, 4, 2, 1], [4, 5, 3, 2, 1], [5, 4, 2, 3, 1], [5, 4, 3, 1, 2]]
**********************************************************************
File "src/sage/sets/recursively_enumerated_set.pyx", line 802, in sage.sets.recursively_enumerated_set.RecursivelyEnumeratedSet_generic.naive_search_iterator
Failed example:
    list(R.naive_search_iterator())
Expected:
    [[1, 2, 3], [2, 1, 3], [1, 3, 2], [2, 3, 1], [3, 2, 1], [3, 1, 2]]
Got:
    [[1, 2, 3], [2, 1, 3], [1, 3, 2], [2, 3, 1], [3, 1, 2], [3, 2, 1]]
**********************************************************************
2 items had failures:
   1 of  41 in sage.sets.recursively_enumerated_set
   1 of   5 in sage.sets.recursively_enumerated_set.RecursivelyEnumeratedSet_generic.naive_search_iterator
    [193 tests, 2 failures, 0.76 s]
----------------------------------------------------------------------
sage -t --long --warn-long 46.4 src/sage/sets/recursively_enumerated_set.pyx  # 2 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_events_239772.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2015-03-20T21:27:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239772"
}
```



---

archive/issue_events_239773.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2015-03-20T21:27:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239773"
}
```



---

archive/issue_comments_223205.json:
```json
{
    "body": "Changed commit from **[`009ae60`](https://github.com/sagemath/sagetrac-mirror/commit/009ae6047c1ca8b678cdfd3dcbe96f7159a6fe38)** to **[`bf9fc43`](https://github.com/sagemath/sagetrac-mirror/commit/bf9fc43cd076381692686dbe26f66a61f7955c1a)**",
    "created_at": "2015-03-20T22:56:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223205",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`009ae60`](https://github.com/sagemath/sagetrac-mirror/commit/009ae6047c1ca8b678cdfd3dcbe96f7159a6fe38)** to **[`bf9fc43`](https://github.com/sagemath/sagetrac-mirror/commit/bf9fc43cd076381692686dbe26f66a61f7955c1a)**



---

archive/issue_comments_223206.json:
```json
{
    "body": "<div id=\"comment:70\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf9fc43cd076381692686dbe26f66a61f7955c1a\"><code>bf9fc43</code></a></td><td><code>More order of iteration doctest fixes.</code></td></tr></table>\n",
    "created_at": "2015-03-20T22:56:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223206",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:70"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf9fc43cd076381692686dbe26f66a61f7955c1a"><code>bf9fc43</code></a></td><td><code>More order of iteration doctest fixes.</code></td></tr></table>




---

archive/issue_events_239774.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-20T22:57:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239774"
}
```



---

archive/issue_events_239775.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-20T22:57:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239775"
}
```



---

archive/issue_comments_223207.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nHopefully that's all of them...",
    "created_at": "2015-03-20T22:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223207",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:71" align="right">comment:71</div>

Hopefully that's all of them...



---

archive/issue_events_239776.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2015-03-20T23:03:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239776"
}
```



---

archive/issue_events_239777.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2015-03-20T23:03:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239777"
}
```



---

archive/issue_comments_223208.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nHey,\n\nSorry, before this goes in I'd like to double check with you for which object we changed the enumeration order. I am in the hangout room on the 3rd floor.\n\nThanks!\n                                  Cheers,",
    "created_at": "2015-03-20T23:03:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223208",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:72" align="right">comment:72</div>

Hey,

Sorry, before this goes in I'd like to double check with you for which object we changed the enumeration order. I am in the hangout room on the 3rd floor.

Thanks!
                                  Cheers,



---

archive/issue_comments_223209.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nThe change in ordering in these tests was due to the hash changing for the permutations of `n`. The hash changed because the parent changed in the sense that it has a much longer MRO due to the change in its category. However the actual iteration of `Permutations(n)` has not changed (by lex ordering), so we (Darij, Nicolas, and I) are okay with this.",
    "created_at": "2015-03-20T23:59:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223209",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:73" align="right">comment:73</div>

The change in ordering in these tests was due to the hash changing for the permutations of `n`. The hash changed because the parent changed in the sense that it has a much longer MRO due to the change in its category. However the actual iteration of `Permutations(n)` has not changed (by lex ordering), so we (Darij, Nicolas, and I) are okay with this.



---

archive/issue_events_239778.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-20T23:59:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239778"
}
```



---

archive/issue_events_239779.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-03-20T23:59:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239779"
}
```



---

archive/issue_events_239780.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-21T12:37:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239780"
}
```



---

archive/issue_events_239781.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "15a202f4a7defb1cd44ded69a5ddef1bd16248fe",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-03-21T12:37:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16926#event-239781"
}
```



---

archive/issue_comments_223210.json:
```json
{
    "body": "Changed branch from **[public/combinat/fix_sga-16926](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_sga-16926)** to **[`bf9fc43`](https://github.com/sagemath/sagetrac-mirror/commit/bf9fc43cd076381692686dbe26f66a61f7955c1a)**",
    "created_at": "2015-03-21T12:37:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16926#issuecomment-223210",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/combinat/fix_sga-16926](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/fix_sga-16926)** to **[`bf9fc43`](https://github.com/sagemath/sagetrac-mirror/commit/bf9fc43cd076381692686dbe26f66a61f7955c1a)**
