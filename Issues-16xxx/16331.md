# Issue 16331: Game Theory: Build capacity to solve matching games in to Sage.

archive/issues_016094.json:
```json
{
    "body": "Include class for matching games as well as implementations of the Gale-Shapley algorithm. \n\nShould be efficient to code in pure python/cython. Various methods to include possibility to give suitor/reviewer optimal matchings. Also, make use of graph plotting to represent game.\n\nPossible extensions could include variations of matching games (indifference etc...).\n\n**Keywords:** Game Theory, Matching Games,\n\n**Branch/Commit:** [f9388c72ebdefe9ada87f45eb93bc8e33e0bc67b](https://github.com/sagemath/sagetrac-mirror/commit/f9388c72ebdefe9ada87f45eb93bc8e33e0bc67b)\n\n**Reviewer:** Karl-Dieter Crisman, Travis Scrimshaw\n\n**Author:** Vince Knight, James Campbell\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16331\n\n",
    "closed_at": "2014-11-22T17:18:41Z",
    "created_at": "2014-05-12T08:20:55Z",
    "labels": [
        "component: game theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Game Theory: Build capacity to solve matching games in to Sage.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16331",
    "user": "https://github.com/drvinceknight"
}
```
Include class for matching games as well as implementations of the Gale-Shapley algorithm. 

Should be efficient to code in pure python/cython. Various methods to include possibility to give suitor/reviewer optimal matchings. Also, make use of graph plotting to represent game.

Possible extensions could include variations of matching games (indifference etc...).

**Keywords:** Game Theory, Matching Games,

**Branch/Commit:** [f9388c72ebdefe9ada87f45eb93bc8e33e0bc67b](https://github.com/sagemath/sagetrac-mirror/commit/f9388c72ebdefe9ada87f45eb93bc8e33e0bc67b)

**Reviewer:** Karl-Dieter Crisman, Travis Scrimshaw

**Author:** Vince Knight, James Campbell

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/16331





---

archive/issue_comments_272200.json:
```json
{
    "body": "<a id='comment:1'></a>\n(being curious)",
    "created_at": "2014-05-12T08:28:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272200",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'></a>
(being curious)



---

archive/issue_comments_272201.json:
```json
{
    "body": "**Changing author** from \"Vince Knight\" to \"\".",
    "created_at": "2014-05-12T13:36:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272201",
    "user": "https://github.com/kcrisman"
}
```

**Changing author** from "Vince Knight" to "".



---

archive/issue_comments_272202.json:
```json
{
    "body": "<a id='comment:2'></a>\nPutting to no listed component because truly non fits.  Also, author is really for actual author of any changes (which may well be vinceknight! but isn't yet).",
    "created_at": "2014-05-12T13:36:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272202",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'></a>
Putting to no listed component because truly non fits.  Also, author is really for actual author of any changes (which may well be vinceknight! but isn't yet).



---

archive/issue_events_054767.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-05-12T13:36:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16331#event-54767"
}
```



---

archive/issue_comments_272203.json:
```json
{
    "body": "**Branch:** [u/jcampbell/game_theory__build_capacity_to_solve_matching_games_in_to_sage_](https://github.com/sagemath/sagetrac-mirror/tree/u/jcampbell/game_theory__build_capacity_to_solve_matching_games_in_to_sage_)",
    "created_at": "2014-07-07T13:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272203",
    "user": "https://github.com/theref"
}
```

**Branch:** [u/jcampbell/game_theory__build_capacity_to_solve_matching_games_in_to_sage_](https://github.com/sagemath/sagetrac-mirror/tree/u/jcampbell/game_theory__build_capacity_to_solve_matching_games_in_to_sage_)



---

archive/issue_comments_272204.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2014-07-27T17:54:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272204",
    "user": "https://github.com/drvinceknight"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_272205.json:
```json
{
    "body": "**Commit:** [e83553e295bc8748735571fd050086d8d59b7ab3](https://github.com/sagemath/sagetrac-mirror/commit/e83553e295bc8748735571fd050086d8d59b7ab3)",
    "created_at": "2014-07-27T17:54:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272205",
    "user": "https://github.com/drvinceknight"
}
```

**Commit:** [e83553e295bc8748735571fd050086d8d59b7ab3](https://github.com/sagemath/sagetrac-mirror/commit/e83553e295bc8748735571fd050086d8d59b7ab3)



---

archive/issue_comments_272206.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5b0bd53788ed70caba1f5b8c7c54fe18a980f81\">a5b0bd5</a></td><td><code>gets large game working</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca6a1e82219ec262cf02f1d52226ea4479a5d2c4\">ca6a1e8</a></td><td><code>creates repr function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5895531d679d1f9089cfff41ad35796f154bfdc\">a589553</a></td><td><code>creates a dictionary function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d19af1b8bb00c747bb137ee11dbdbac1513ace95\">d19af1b</a></td><td><code>fix some pep8 errors</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be8487fb27c5d59795e7563b63e2ec06e46941fd\">be8487f</a></td><td><code>creates latex function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25f76c8c5af5884337a91f34515054fe61a08fe5\">25f76c8</a></td><td><code>Added matching games</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5516fedd3144d39be291234593ca769a72de0a9a\">5516fed</a></td><td><code>Started to write the docs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ff811f7ac8fe1b7e73eb8da671abf7fd5ea1d8a\">8ff811f</a></td><td><code>HAve first draft of docs built</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c35bcd314632935e54c495b5354d94dfa446138\">2c35bcd</a></td><td><code>Merge branch '16331' of https://github.com/theref/sage-game-theory into 16331</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e83553e295bc8748735571fd050086d8d59b7ab3\">e83553e</a></td><td><code>Merge branch '16331' into t/16331/game_theory__build_capacity_to_solve_matching_games_in_to_sage_</code></td></tr></table>\n",
    "created_at": "2014-07-27T17:54:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272206",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:5'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5b0bd53788ed70caba1f5b8c7c54fe18a980f81">a5b0bd5</a></td><td><code>gets large game working</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca6a1e82219ec262cf02f1d52226ea4479a5d2c4">ca6a1e8</a></td><td><code>creates repr function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5895531d679d1f9089cfff41ad35796f154bfdc">a589553</a></td><td><code>creates a dictionary function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d19af1b8bb00c747bb137ee11dbdbac1513ace95">d19af1b</a></td><td><code>fix some pep8 errors</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be8487fb27c5d59795e7563b63e2ec06e46941fd">be8487f</a></td><td><code>creates latex function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25f76c8c5af5884337a91f34515054fe61a08fe5">25f76c8</a></td><td><code>Added matching games</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5516fedd3144d39be291234593ca769a72de0a9a">5516fed</a></td><td><code>Started to write the docs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ff811f7ac8fe1b7e73eb8da671abf7fd5ea1d8a">8ff811f</a></td><td><code>HAve first draft of docs built</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c35bcd314632935e54c495b5354d94dfa446138">2c35bcd</a></td><td><code>Merge branch '16331' of https://github.com/theref/sage-game-theory into 16331</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e83553e295bc8748735571fd050086d8d59b7ab3">e83553e</a></td><td><code>Merge branch '16331' into t/16331/game_theory__build_capacity_to_solve_matching_games_in_to_sage_</code></td></tr></table>




---

archive/issue_events_054768.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16331#event-54768"
}
```



---

archive/issue_events_054769.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16331#event-54769"
}
```



---

archive/issue_comments_272207.json:
```json
{
    "body": "<a id='comment:7'></a>\nDoes this depend on #16466?  I'm not sure why it's showing a red branch (doesn't apply cleanly).",
    "created_at": "2014-08-27T19:22:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272207",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'></a>
Does this depend on #16466?  I'm not sure why it's showing a red branch (doesn't apply cleanly).



---

archive/issue_comments_272208.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [kcrisman](#comment%3A7):\n> Does this depend on #16466?  I'm not sure why it's showing a red branch (doesn't apply cleanly).\n\n\nHi Karl, this ticket does not at all depend on #16466, the code in here is just a basic implementation of the Gale-Shapley algorithm. #16466 is for #16333, although in fact it's only for a specific optional algorithm in #16333 Not to sure what the red branch means?\n\nThis branch (#16331) is self contained (unless we messed up with something). \n\n(Freaky that you got back in touch today as I've just written a blog post trying to encourage reviewers for this particular ticket :)).\n\nPlease let me know if there's anything I can help with.",
    "created_at": "2014-08-27T21:02:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272208",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:8'></a>
Replying to [kcrisman](#comment%3A7):
> Does this depend on #16466?  I'm not sure why it's showing a red branch (doesn't apply cleanly).


Hi Karl, this ticket does not at all depend on #16466, the code in here is just a basic implementation of the Gale-Shapley algorithm. #16466 is for #16333, although in fact it's only for a specific optional algorithm in #16333 Not to sure what the red branch means?

This branch (#16331) is self contained (unless we messed up with something). 

(Freaky that you got back in touch today as I've just written a blog post trying to encourage reviewers for this particular ticket :)).

Please let me know if there's anything I can help with.



---

archive/issue_comments_272209.json:
```json
{
    "body": "<a id='comment:9'></a>\nI see the problem - this really seems to depend on #16333.  The code probably doesn't, but in your [work process](http://git.sagemath.org/sage.git/log/?h=e83553e295bc8748735571fd050086d8d59b7ab3&qt=range&q=79d9c2f794de47dce84582afb367ba7984d92e59..e83553e295bc8748735571fd050086d8d59b7ab3) I see lots of merging of that branch in.  So it's hard to view this and probably the branch for this stuff needs to be redone - in other words, \n> This branch (#16331) is self contained (unless we messed up with something).\n\nyou messed up with something.\n\nOther random comments:\n* `_is_sovled` - really?\n* What is a `numer`?  I see other little typos like this around (`matchin`, `bi-partitie`, `reviewes`, etc.)\n* Less trivially, there are a lot of methods with no doctests, and some even without documentation (I'm looking at the mysterious `_Player` class, for instance).  Just because it's 'hidden' doesn't mean it isn't at least minimally tested.  Ideally, it's tested with lots of dumb-but-necessary corner cases like empty sets of players and such, but that is more work...\n* What happens if you add a suitor but not a reviewer?  Maybe those methods should be hidden or even in a different scope.",
    "created_at": "2014-08-28T18:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272209",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:9'></a>
I see the problem - this really seems to depend on #16333.  The code probably doesn't, but in your [work process](http://git.sagemath.org/sage.git/log/?h=e83553e295bc8748735571fd050086d8d59b7ab3&qt=range&q=79d9c2f794de47dce84582afb367ba7984d92e59..e83553e295bc8748735571fd050086d8d59b7ab3) I see lots of merging of that branch in.  So it's hard to view this and probably the branch for this stuff needs to be redone - in other words, 
> This branch (#16331) is self contained (unless we messed up with something).

you messed up with something.

Other random comments:
* `_is_sovled` - really?
* What is a `numer`?  I see other little typos like this around (`matchin`, `bi-partitie`, `reviewes`, etc.)
* Less trivially, there are a lot of methods with no doctests, and some even without documentation (I'm looking at the mysterious `_Player` class, for instance).  Just because it's 'hidden' doesn't mean it isn't at least minimally tested.  Ideally, it's tested with lots of dumb-but-necessary corner cases like empty sets of players and such, but that is more work...
* What happens if you add a suitor but not a reviewer?  Maybe those methods should be hidden or even in a different scope.



---

archive/issue_comments_272210.json:
```json
{
    "body": "<a id='comment:10'></a>\nThat said, the concept is nice - not too much, but enough to be useful, allows strings and integers.",
    "created_at": "2014-08-28T18:05:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272210",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'></a>
That said, the concept is nice - not too much, but enough to be useful, allows strings and integers.



---

archive/issue_comments_272211.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [kcrisman](#comment%3A9):\n> I see the problem - this really seems to depend on #16333.  The code probably doesn't, but in your [work process](http://git.sagemath.org/sage.git/log/?h=e83553e295bc8748735571fd050086d8d59b7ab3&qt=range&q=79d9c2f794de47dce84582afb367ba7984d92e59..e83553e295bc8748735571fd050086d8d59b7ab3) I see lots of merging of that branch in.  So it's hard to view this and probably the branch for this stuff needs to be redone - in other words, \n> > This branch (#16331) is self contained (unless we messed up with something).\n\n> you messed up with something.\n> \n> Other random comments:\n> * `_is_sovled` - really?\n> * What is a `numer`?  I see other little typos like this around (`matchin`, `bi-partitie`, `reviewes`, etc.)\n> * Less trivially, there are a lot of methods with no doctests, and some even without documentation (I'm looking at the mysterious `_Player` class, for instance).  Just because it's 'hidden' doesn't mean it isn't at least minimally tested.  Ideally, it's tested with lots of dumb-but-necessary corner cases like empty sets of players and such, but that is more work...\n> * What happens if you add a suitor but not a reviewer?  Maybe those methods should be hidden or even in a different scope.\n\n\nEeeesh some of those are embarrassing... As soon as I have a working machine I'll get going on them (probably next week). Not too sure what to do about the git branch issue, will figure it out though. I seem to remember asking someone what was the best way to handle this but we obviously didn't quite get it right... \n\nThanks again!",
    "created_at": "2014-08-28T21:17:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272211",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:11'></a>
Replying to [kcrisman](#comment%3A9):
> I see the problem - this really seems to depend on #16333.  The code probably doesn't, but in your [work process](http://git.sagemath.org/sage.git/log/?h=e83553e295bc8748735571fd050086d8d59b7ab3&qt=range&q=79d9c2f794de47dce84582afb367ba7984d92e59..e83553e295bc8748735571fd050086d8d59b7ab3) I see lots of merging of that branch in.  So it's hard to view this and probably the branch for this stuff needs to be redone - in other words, 
> > This branch (#16331) is self contained (unless we messed up with something).

> you messed up with something.
> 
> Other random comments:
> * `_is_sovled` - really?
> * What is a `numer`?  I see other little typos like this around (`matchin`, `bi-partitie`, `reviewes`, etc.)
> * Less trivially, there are a lot of methods with no doctests, and some even without documentation (I'm looking at the mysterious `_Player` class, for instance).  Just because it's 'hidden' doesn't mean it isn't at least minimally tested.  Ideally, it's tested with lots of dumb-but-necessary corner cases like empty sets of players and such, but that is more work...
> * What happens if you add a suitor but not a reviewer?  Maybe those methods should be hidden or even in a different scope.


Eeeesh some of those are embarrassing... As soon as I have a working machine I'll get going on them (probably next week). Not too sure what to do about the git branch issue, will figure it out though. I seem to remember asking someone what was the best way to handle this but we obviously didn't quite get it right... 

Thanks again!



---

archive/issue_comments_272212.json:
```json
{
    "body": "**Changing branch** from \"[u/jcampbell/game_theory__build_capacity_to_solve_matching_games_in_to_sage_](https://github.com/sagemath/sagetrac-mirror/tree/u/jcampbell/game_theory__build_capacity_to_solve_matching_games_in_to_sage_)\" to \"[u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_](https://github.com/sagemath/sagetrac-mirror/tree/u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_)\".",
    "created_at": "2014-08-29T20:04:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272212",
    "user": "https://github.com/drvinceknight"
}
```

**Changing branch** from "[u/jcampbell/game_theory__build_capacity_to_solve_matching_games_in_to_sage_](https://github.com/sagemath/sagetrac-mirror/tree/u/jcampbell/game_theory__build_capacity_to_solve_matching_games_in_to_sage_)" to "[u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_](https://github.com/sagemath/sagetrac-mirror/tree/u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_)".



---

archive/issue_comments_272213.json:
```json
{
    "body": "**Changing commit** from \"[e83553e295bc8748735571fd050086d8d59b7ab3](https://github.com/sagemath/sagetrac-mirror/commit/e83553e295bc8748735571fd050086d8d59b7ab3)\" to \"[24e80df63695f43ffdd5fac51a1e539fa4bc7ff7](https://github.com/sagemath/sagetrac-mirror/commit/24e80df63695f43ffdd5fac51a1e539fa4bc7ff7)\".",
    "created_at": "2014-08-29T20:25:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272213",
    "user": "https://github.com/drvinceknight"
}
```

**Changing commit** from "[e83553e295bc8748735571fd050086d8d59b7ab3](https://github.com/sagemath/sagetrac-mirror/commit/e83553e295bc8748735571fd050086d8d59b7ab3)" to "[24e80df63695f43ffdd5fac51a1e539fa4bc7ff7](https://github.com/sagemath/sagetrac-mirror/commit/24e80df63695f43ffdd5fac51a1e539fa4bc7ff7)".



---

archive/issue_comments_272214.json:
```json
{
    "body": "<a id='comment:13'></a>\nHi Karl,\n\nI've added a lot more docstrings (and incidentally more tests).\n\nRe issue about the branch, I haven't changed anything. Here's the discussion we had on the sage-devel user group when we started working on #16333 after working on #16332 and we weren't too sure about the best way forward when working on a 'family' of tickets:\n\nhttps://groups.google.com/forum/#!searchin/sage-devel/vincent$20knight/sage-devel/xfu9q8D7Rtc/Z6IkVgJ67ycJ\n\nWould the simplest way forward to be to remove the code relevant to #16333 (but not the git history?)?\n\nNot too sure what the best alternative is... Very happy to be told what to do.\n\n---\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad2c7388aab43f22a5dc64d36aba87b544604e09\">ad2c738</a></td><td><code>More spelling fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca967f4fe87dc4a577cd3678dfba6ae42e27e94d\">ca967f4</a></td><td><code>Adding tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1028360a3f2f05ce360661ec855da91bf1671709\">1028360</a></td><td><code>Have tests for bi_partite</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f90f7cef17e733f104132b53b67a7081613c43ee\">f90f7ce</a></td><td><code>Have added a test for is_complete</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec1ed795fcd5aa3ca651be9f4e9568fc9e9d8c47\">ec1ed79</a></td><td><code>More tests for incomplete</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d85ce1345096f17bad8e187ae844649522e64f6\">8d85ce1</a></td><td><code>Have written more doctests up until point `_sol_`dict</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30f7bbbad6f48ea2f9c2119620cdddbfe2e2f914\">30f7bbb</a></td><td><code>Test for _sol dict</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/afcbe387b10dd8e342c34b435f5812dc248fe0da\">afcbe38</a></td><td><code>Have added tests and docstrings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3f718653aa4a6998346f64f20b714663b3a6fea\">f3f7186</a></td><td><code>Have written all docs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24e80df63695f43ffdd5fac51a1e539fa4bc7ff7\">24e80df</a></td><td><code>Merge branch '16331' of github.com:theref/sage-game-theory into 16331</code></td></tr></table>\n",
    "created_at": "2014-08-29T20:25:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272214",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:13'></a>
Hi Karl,

I've added a lot more docstrings (and incidentally more tests).

Re issue about the branch, I haven't changed anything. Here's the discussion we had on the sage-devel user group when we started working on #16333 after working on #16332 and we weren't too sure about the best way forward when working on a 'family' of tickets:

https://groups.google.com/forum/#!searchin/sage-devel/vincent$20knight/sage-devel/xfu9q8D7Rtc/Z6IkVgJ67ycJ

Would the simplest way forward to be to remove the code relevant to #16333 (but not the git history?)?

Not too sure what the best alternative is... Very happy to be told what to do.

---
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad2c7388aab43f22a5dc64d36aba87b544604e09">ad2c738</a></td><td><code>More spelling fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca967f4fe87dc4a577cd3678dfba6ae42e27e94d">ca967f4</a></td><td><code>Adding tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1028360a3f2f05ce360661ec855da91bf1671709">1028360</a></td><td><code>Have tests for bi_partite</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f90f7cef17e733f104132b53b67a7081613c43ee">f90f7ce</a></td><td><code>Have added a test for is_complete</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec1ed795fcd5aa3ca651be9f4e9568fc9e9d8c47">ec1ed79</a></td><td><code>More tests for incomplete</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d85ce1345096f17bad8e187ae844649522e64f6">8d85ce1</a></td><td><code>Have written more doctests up until point `_sol_`dict</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30f7bbbad6f48ea2f9c2119620cdddbfe2e2f914">30f7bbb</a></td><td><code>Test for _sol dict</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/afcbe387b10dd8e342c34b435f5812dc248fe0da">afcbe38</a></td><td><code>Have added tests and docstrings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3f718653aa4a6998346f64f20b714663b3a6fea">f3f7186</a></td><td><code>Have written all docs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24e80df63695f43ffdd5fac51a1e539fa4bc7ff7">24e80df</a></td><td><code>Merge branch '16331' of github.com:theref/sage-game-theory into 16331</code></td></tr></table>




---

archive/issue_comments_272215.json:
```json
{
    "body": "<a id='comment:14'></a>\n> Would the simplest way forward to be to remove the code relevant to #16333 (but not the git history?)?\n\n\nI'm no git expert either, unfortunately.  With the patch-based system that would be very easy to deal with.  But right now I can't even view the branch on Trac!",
    "created_at": "2014-08-31T00:49:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272215",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'></a>
> Would the simplest way forward to be to remove the code relevant to #16333 (but not the git history?)?


I'm no git expert either, unfortunately.  With the patch-based system that would be very easy to deal with.  But right now I can't even view the branch on Trac!



---

archive/issue_comments_272216.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [vinceknight](#comment%3A13):\n> Re issue about the branch, I haven't changed anything. Here's the discussion we had on the sage-devel user group when we started working on #16333 after working on #16332 and we weren't too sure about the best way forward when working on a 'family' of tickets:\n> \n> https://groups.google.com/forum/#!searchin/sage-devel/vincent$20knight/sage-devel/xfu9q8D7Rtc/Z6IkVgJ67ycJ\n> \n> Would the simplest way forward to be to remove the code relevant to #16333 (but not the git history?)?\n\n\nThe easiest way to delete the code would be to delete the code (and commit the change). The log is there to show your workflow (because maybe you need some of that code for this ticket without #16333 [it's a hypothetical FYI]).\n\nAlso the branch field might be red even when the branch merges cleanly because the trac plugin can be more strict than git's merge (and there might be something related with #16332 being merged into `develop` *shrugs*).",
    "created_at": "2014-08-31T01:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272216",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>
Replying to [vinceknight](#comment%3A13):
> Re issue about the branch, I haven't changed anything. Here's the discussion we had on the sage-devel user group when we started working on #16333 after working on #16332 and we weren't too sure about the best way forward when working on a 'family' of tickets:
> 
> https://groups.google.com/forum/#!searchin/sage-devel/vincent$20knight/sage-devel/xfu9q8D7Rtc/Z6IkVgJ67ycJ
> 
> Would the simplest way forward to be to remove the code relevant to #16333 (but not the git history?)?


The easiest way to delete the code would be to delete the code (and commit the change). The log is there to show your workflow (because maybe you need some of that code for this ticket without #16333 [it's a hypothetical FYI]).

Also the branch field might be red even when the branch merges cleanly because the trac plugin can be more strict than git's merge (and there might be something related with #16332 being merged into `develop` *shrugs*).



---

archive/issue_comments_272217.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40d4cfaa662913ca6795a8a9a598b53cf931809c\">40d4cfa</a></td><td><code>Deleting files from other tickets</code></td></tr></table>\n",
    "created_at": "2014-09-02T07:52:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272217",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40d4cfaa662913ca6795a8a9a598b53cf931809c">40d4cfa</a></td><td><code>Deleting files from other tickets</code></td></tr></table>




---

archive/issue_comments_272218.json:
```json
{
    "body": "**Changing commit** from \"[24e80df63695f43ffdd5fac51a1e539fa4bc7ff7](https://github.com/sagemath/sagetrac-mirror/commit/24e80df63695f43ffdd5fac51a1e539fa4bc7ff7)\" to \"[40d4cfaa662913ca6795a8a9a598b53cf931809c](https://github.com/sagemath/sagetrac-mirror/commit/40d4cfaa662913ca6795a8a9a598b53cf931809c)\".",
    "created_at": "2014-09-02T07:52:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272218",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[24e80df63695f43ffdd5fac51a1e539fa4bc7ff7](https://github.com/sagemath/sagetrac-mirror/commit/24e80df63695f43ffdd5fac51a1e539fa4bc7ff7)" to "[40d4cfaa662913ca6795a8a9a598b53cf931809c](https://github.com/sagemath/sagetrac-mirror/commit/40d4cfaa662913ca6795a8a9a598b53cf931809c)".



---

archive/issue_comments_272219.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [tscrim](#comment%3A15):\n> Replying to [vinceknight](#comment%3A13):\n> > Re issue about the branch, I haven't changed anything. Here's the discussion we had on the sage-devel user group when we started working on #16333 after working on #16332 and we weren't too sure about the best way forward when working on a 'family' of tickets:\n> > \n> > https://groups.google.com/forum/#!searchin/sage-devel/vincent$20knight/sage-devel/xfu9q8D7Rtc/Z6IkVgJ67ycJ\n> > \n> > Would the simplest way forward to be to remove the code relevant to #16333 (but not the git history?)?\n\n> \n> The easiest way to delete the code would be to delete the code (and commit the change). The log is there to show your workflow (because maybe you need some of that code for this ticket without #16333 [it's a hypothetical FYI]).\n\n\nI've just deleted the code not relevant to this branch and committed. Not sure if this fixes the issue?",
    "created_at": "2014-09-02T07:53:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272219",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:17'></a>
Replying to [tscrim](#comment%3A15):
> Replying to [vinceknight](#comment%3A13):
> > Re issue about the branch, I haven't changed anything. Here's the discussion we had on the sage-devel user group when we started working on #16333 after working on #16332 and we weren't too sure about the best way forward when working on a 'family' of tickets:
> > 
> > https://groups.google.com/forum/#!searchin/sage-devel/vincent$20knight/sage-devel/xfu9q8D7Rtc/Z6IkVgJ67ycJ
> > 
> > Would the simplest way forward to be to remove the code relevant to #16333 (but not the git history?)?

> 
> The easiest way to delete the code would be to delete the code (and commit the change). The log is there to show your workflow (because maybe you need some of that code for this ticket without #16333 [it's a hypothetical FYI]).


I've just deleted the code not relevant to this branch and committed. Not sure if this fixes the issue?



---

archive/issue_comments_272220.json:
```json
{
    "body": "<a id='comment:18'></a>\n> I've just deleted the code not relevant to this branch and committed. Not sure if this fixes the issue?\n\nSadly not.",
    "created_at": "2014-09-03T13:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272220",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:18'></a>
> I've just deleted the code not relevant to this branch and committed. Not sure if this fixes the issue?

Sadly not.



---

archive/issue_comments_272221.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [kcrisman](#comment%3A18):\n> > I've just deleted the code not relevant to this branch and committed. Not sure if this fixes the issue?\n\n> Sadly not.\n\nI'm not too sure I understand, if you pull this branch can you not see the code?",
    "created_at": "2014-09-03T13:19:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272221",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:19'></a>
Replying to [kcrisman](#comment%3A18):
> > I've just deleted the code not relevant to this branch and committed. Not sure if this fixes the issue?

> Sadly not.

I'm not too sure I understand, if you pull this branch can you not see the code?



---

archive/issue_comments_272222.json:
```json
{
    "body": "<a id='comment:20'></a>\nPlease, have a look at http://git-scm.com/book/en/Git-Tools-Rewriting-History\n\nIt does not makes sense to cancel commits by adding another commit!!\n\nEDIT: and you should not merge a beta release if there is no need to. There is a need only if there is a non-trivial conflict. Now there are 10+ commits in this ticket and there are completely screwed up by several merge of beta releases...\n\nVincent",
    "created_at": "2014-09-03T14:11:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272222",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'></a>
Please, have a look at http://git-scm.com/book/en/Git-Tools-Rewriting-History

It does not makes sense to cancel commits by adding another commit!!

EDIT: and you should not merge a beta release if there is no need to. There is a need only if there is a non-trivial conflict. Now there are 10+ commits in this ticket and there are completely screwed up by several merge of beta releases...

Vincent



---

archive/issue_comments_272223.json:
```json
{
    "body": "<a id='comment:21'></a>\nI don't think I was trying to cancel a commit.\nI didn't want to lose/rewrite any of the history as I'm not entirely sure what is wrong and have no idea what is required to fix it.",
    "created_at": "2014-09-03T14:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272223",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:21'></a>
I don't think I was trying to cancel a commit.
I didn't want to lose/rewrite any of the history as I'm not entirely sure what is wrong and have no idea what is required to fix it.



---

archive/issue_comments_272224.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [vinceknight](#comment%3A21):\n> I don't think I was trying to cancel a commit.\n> I didn't want to lose/rewrite any of the history as I'm not entirely sure what is wrong and have no idea what is required to fix it.\n\n\nStart a new branch whose ends correspond to what you want. The reviewer does not care about your workflow. He only needs a clean view on what has changed! This is ideally done with **one** commit.\n\nThen during the review process, you might have some remarks from the reviewer (maybe even a commit) and you might integrate it to the branch. You provide additional changes in that commit. And you go on until both the reviewer(s) and you agreed.\n\nVincent",
    "created_at": "2014-09-03T14:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272224",
    "user": "https://github.com/videlec"
}
```

<a id='comment:22'></a>
Replying to [vinceknight](#comment%3A21):
> I don't think I was trying to cancel a commit.
> I didn't want to lose/rewrite any of the history as I'm not entirely sure what is wrong and have no idea what is required to fix it.


Start a new branch whose ends correspond to what you want. The reviewer does not care about your workflow. He only needs a clean view on what has changed! This is ideally done with **one** commit.

Then during the review process, you might have some remarks from the reviewer (maybe even a commit) and you might integrate it to the branch. You provide additional changes in that commit. And you go on until both the reviewer(s) and you agreed.

Vincent



---

archive/issue_comments_272225.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [vdelecroix](#comment%3A20):\n> Please, have a look at http://git-scm.com/book/en/Git-Tools-Rewriting-History\n> \n> It does not makes sense to cancel commits by adding another commit!!\n> \n> EDIT: and you should not merge a beta release if there is no need to. There is a need only if there is a non-trivial conflict. Now there are 10+ commits in this ticket and there are completely screwed up by several merge of beta releases...\n\n\nI have no idea how we did that. \nWe very aware that this mess could happen and tried our best to ask around before starting this as to how to avoid it... Is the best way forward to just push the code from the HEAD of this branch on to a new branch? Would this require a new ticket on trac?\n\nVery eager to follow whatever advice/guidance. Is it worth throwing this discussion on the discussion group?\n\n> Vincent\n",
    "created_at": "2014-09-03T14:19:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272225",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:23'></a>
Replying to [vdelecroix](#comment%3A20):
> Please, have a look at http://git-scm.com/book/en/Git-Tools-Rewriting-History
> 
> It does not makes sense to cancel commits by adding another commit!!
> 
> EDIT: and you should not merge a beta release if there is no need to. There is a need only if there is a non-trivial conflict. Now there are 10+ commits in this ticket and there are completely screwed up by several merge of beta releases...


I have no idea how we did that. 
We very aware that this mess could happen and tried our best to ask around before starting this as to how to avoid it... Is the best way forward to just push the code from the HEAD of this branch on to a new branch? Would this require a new ticket on trac?

Very eager to follow whatever advice/guidance. Is it worth throwing this discussion on the discussion group?

> Vincent




---

archive/issue_comments_272226.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [vdelecroix](#comment%3A22):\n> Replying to [vinceknight](#comment%3A21):\n> > I don't think I was trying to cancel a commit.\n> > I didn't want to lose/rewrite any of the history as I'm not entirely sure what is wrong and have no idea what is required to fix it.\n\n> \n> Start a new branch whose ends correspond to what you want. The reviewer does not care about your workflow. He only needs a clean view on what has changed! This is ideally done with **one** commit.\n> \n> Then during the review process, you might have some remarks from the reviewer (maybe even a commit) and you might integrate it to the branch. You provide additional changes in that commit. And you go on until both the reviewer(s) and you agreed.\n\n\nOk. To fix the situation now, do I need to create a new ticket to in effect overwrite this ticket or would a git push from a newly created branch do the trick?\n> \n> Vincent\n",
    "created_at": "2014-09-03T14:21:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272226",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:24'></a>
Replying to [vdelecroix](#comment%3A22):
> Replying to [vinceknight](#comment%3A21):
> > I don't think I was trying to cancel a commit.
> > I didn't want to lose/rewrite any of the history as I'm not entirely sure what is wrong and have no idea what is required to fix it.

> 
> Start a new branch whose ends correspond to what you want. The reviewer does not care about your workflow. He only needs a clean view on what has changed! This is ideally done with **one** commit.
> 
> Then during the review process, you might have some remarks from the reviewer (maybe even a commit) and you might integrate it to the branch. You provide additional changes in that commit. And you go on until both the reviewer(s) and you agreed.


Ok. To fix the situation now, do I need to create a new ticket to in effect overwrite this ticket or would a git push from a newly created branch do the trick?
> 
> Vincent




---

archive/issue_comments_272227.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [vinceknight](#comment%3A24):\n> Replying to [vdelecroix](#comment%3A22):\n> > Replying to [vinceknight](#comment%3A21):\n> > > I don't think I was trying to cancel a commit.\n> > > I didn't want to lose/rewrite any of the history as I'm not entirely sure what is wrong and have no idea what is required to fix it.\n\n> > \n> > Start a new branch whose ends correspond to what you want. The reviewer does not care about your workflow. He only needs a clean view on what has changed! This is ideally done with **one** commit.\n> > \n> > Then during the review process, you might have some remarks from the reviewer (maybe even a commit) and you might integrate it to the branch. You provide additional changes in that commit. And you go on until both the reviewer(s) and you agreed.\n\n> \n> Ok. To fix the situation now, do I need to create a new ticket to in effect overwrite this ticket or would a git push from a newly created branch do the trick?\n\n\nNo, no, no. Please, do not create any additional tickets. There is no need.\n\nGit (where branch live) and trac (where tickets live) are two different things. You can create as many branches as you like, this is your space. But on trac it is one task for one ticket and it is public.\n\nYou should start a new git branch that would be a clean version of the one you proposed for that ticket. Then you should link the branch to this ticket (in the field \"branch\"). How do you use git? Through the \"sage -devel\" scripts? The \"git trac\" command? git and only git?\n\nEDIT: a git push is fine if you provide the option \"-f\" (i.e. the remote git will forget about the previous position of the branch)\n\nVincent",
    "created_at": "2014-09-03T14:25:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272227",
    "user": "https://github.com/videlec"
}
```

<a id='comment:25'></a>
Replying to [vinceknight](#comment%3A24):
> Replying to [vdelecroix](#comment%3A22):
> > Replying to [vinceknight](#comment%3A21):
> > > I don't think I was trying to cancel a commit.
> > > I didn't want to lose/rewrite any of the history as I'm not entirely sure what is wrong and have no idea what is required to fix it.

> > 
> > Start a new branch whose ends correspond to what you want. The reviewer does not care about your workflow. He only needs a clean view on what has changed! This is ideally done with **one** commit.
> > 
> > Then during the review process, you might have some remarks from the reviewer (maybe even a commit) and you might integrate it to the branch. You provide additional changes in that commit. And you go on until both the reviewer(s) and you agreed.

> 
> Ok. To fix the situation now, do I need to create a new ticket to in effect overwrite this ticket or would a git push from a newly created branch do the trick?


No, no, no. Please, do not create any additional tickets. There is no need.

Git (where branch live) and trac (where tickets live) are two different things. You can create as many branches as you like, this is your space. But on trac it is one task for one ticket and it is public.

You should start a new git branch that would be a clean version of the one you proposed for that ticket. Then you should link the branch to this ticket (in the field "branch"). How do you use git? Through the "sage -devel" scripts? The "git trac" command? git and only git?

EDIT: a git push is fine if you provide the option "-f" (i.e. the remote git will forget about the previous position of the branch)

Vincent



---

archive/issue_comments_272228.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [vdelecroix](#comment%3A25):\n> Replying to [vinceknight](#comment%3A24):\n> > Replying to [vdelecroix](#comment%3A22):\n> > > Replying to [vinceknight](#comment%3A21):\n> > > > I don't think I was trying to cancel a commit.\n> > > > I didn't want to lose/rewrite any of the history as I'm not entirely sure what is wrong and have no idea what is required to fix it.\n\n> > > \n> > > Start a new branch whose ends correspond to what you want. The reviewer does not care about your workflow. He only needs a clean view on what has changed! This is ideally done with **one** commit.\n> > > \n> > > Then during the review process, you might have some remarks from the reviewer (maybe even a commit) and you might integrate it to the branch. You provide additional changes in that commit. And you go on until both the reviewer(s) and you agreed.\n\n> > \n> > Ok. To fix the situation now, do I need to create a new ticket to in effect overwrite this ticket or would a git push from a newly created branch do the trick?\n  \n> \n> No, no, no. Please, do not create any additional tickets. There is no need.\n\n\nCool, I didn't think so.\n> \n> Git (where branch live) and trac (where tickets live) are two different things. You can create as many branches as you like, this is your space. But on trac it is one task for one ticket and it is public.\n> \n> You should start a new git branch that would be a clean version of the one you proposed for that ticket. Then you should link the branch to this ticket (in the field \"branch\"). How do you use git? Through the \"sage -devel\" scripts? The \"git trac\" command? git and only git?\n\n\nI use git trac.\n\nSo to summarise what I will/need to do:\n\n1. checkout a 'clean' version from the Sage master branch\n2. add in one commit the code relevant to this ticket (in effect a single python file)\n3. push to this ticket\n\nIs that right?\n\nThanks for the help, I think the main problem came from working on multiple (related) tickets in quick succession and branching from completed tickets instead of the master branch.\n> \n> Vincent\n",
    "created_at": "2014-09-03T14:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272228",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:26'></a>
Replying to [vdelecroix](#comment%3A25):
> Replying to [vinceknight](#comment%3A24):
> > Replying to [vdelecroix](#comment%3A22):
> > > Replying to [vinceknight](#comment%3A21):
> > > > I don't think I was trying to cancel a commit.
> > > > I didn't want to lose/rewrite any of the history as I'm not entirely sure what is wrong and have no idea what is required to fix it.

> > > 
> > > Start a new branch whose ends correspond to what you want. The reviewer does not care about your workflow. He only needs a clean view on what has changed! This is ideally done with **one** commit.
> > > 
> > > Then during the review process, you might have some remarks from the reviewer (maybe even a commit) and you might integrate it to the branch. You provide additional changes in that commit. And you go on until both the reviewer(s) and you agreed.

> > 
> > Ok. To fix the situation now, do I need to create a new ticket to in effect overwrite this ticket or would a git push from a newly created branch do the trick?
  
> 
> No, no, no. Please, do not create any additional tickets. There is no need.


Cool, I didn't think so.
> 
> Git (where branch live) and trac (where tickets live) are two different things. You can create as many branches as you like, this is your space. But on trac it is one task for one ticket and it is public.
> 
> You should start a new git branch that would be a clean version of the one you proposed for that ticket. Then you should link the branch to this ticket (in the field "branch"). How do you use git? Through the "sage -devel" scripts? The "git trac" command? git and only git?


I use git trac.

So to summarise what I will/need to do:

1. checkout a 'clean' version from the Sage master branch
2. add in one commit the code relevant to this ticket (in effect a single python file)
3. push to this ticket

Is that right?

Thanks for the help, I think the main problem came from working on multiple (related) tickets in quick succession and branching from completed tickets instead of the master branch.
> 
> Vincent




---

archive/issue_comments_272229.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [vinceknight](#comment%3A26):\n> So to summarise what I will/need to do:\n> \n> 1. checkout a 'clean' version from the Sage master branch\n\n\nNope. The best would be the last \"develop\" branch (which is sage.6.4.beta2)\n\n> 2. add in one commit the code relevant to this ticket (in effect a single python file)\n\n\nyes\n\n> 3. push to this ticket\n\n\nyes\n\n\n> Thanks for the help, I think the main problem came from working on multiple (related) tickets in quick succession and branching from completed tickets instead of the master branch.\n\n\nI agree this is always a mess. What I do is that I create a complete order on my tickets, i.e. ticket1 comes before ticket2, which comes before ticket3... Then I base ticket2 at the end of ticket1 and ticket3 and the end of ticket2. With the link I provided to rewrite history, it helps you to keep everything clean even if you have to do some rebase because of the reviews and/or some new beta release. Note that it might be helpful to the reviewer to add commit lines that looks like \"ticket #XXX: change a doctest\".\n\nVincent",
    "created_at": "2014-09-03T14:32:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272229",
    "user": "https://github.com/videlec"
}
```

<a id='comment:27'></a>
Replying to [vinceknight](#comment%3A26):
> So to summarise what I will/need to do:
> 
> 1. checkout a 'clean' version from the Sage master branch


Nope. The best would be the last "develop" branch (which is sage.6.4.beta2)

> 2. add in one commit the code relevant to this ticket (in effect a single python file)


yes

> 3. push to this ticket


yes


> Thanks for the help, I think the main problem came from working on multiple (related) tickets in quick succession and branching from completed tickets instead of the master branch.


I agree this is always a mess. What I do is that I create a complete order on my tickets, i.e. ticket1 comes before ticket2, which comes before ticket3... Then I base ticket2 at the end of ticket1 and ticket3 and the end of ticket2. With the link I provided to rewrite history, it helps you to keep everything clean even if you have to do some rebase because of the reviews and/or some new beta release. Note that it might be helpful to the reviewer to add commit lines that looks like "ticket #XXX: change a doctest".

Vincent



---

archive/issue_comments_272230.json:
```json
{
    "body": "<a id='comment:28'></a>\nThanks, I'll do that later this evening!",
    "created_at": "2014-09-03T14:34:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272230",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:28'></a>
Thanks, I'll do that later this evening!



---

archive/issue_comments_272231.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [vdelecroix](#comment%3A20):\n> Please, have a look at http://git-scm.com/book/en/Git-Tools-Rewriting-History\n> \n> It does not makes sense to cancel commits by adding another commit!!\n\n\nYes it does; it is good git workflow in order to see what has done. I strongly encourage it. It is bad to rewrite history in released branches that people might have pulled. This includes forced pushes (the `-f` option).\n\nAgain, the proper way to use git is to make more commits which revert changes!!\n> \n> EDIT: and you should not merge a beta release if there is no need to. There is a need only if there is a non-trivial conflict. Now there are 10+ commits in this ticket and there are completely screwed up by several merge of beta releases...\n\n\nThere is, it's a PITA to rebuild sage when switching branches and the merge commits do not hurt anything. Look at the differences between the beta versions using `git diff`. There are also easy options to see the commits which are not in `develop` by\n\n```\ngit log --no-merges ^develop <branch>\n```\nQuit thinking commits are like patches, they are not. Git workflow actually recommends lots of little logical commits (I'm actually somewhat bad about this).\n\nIn conclusion, this branch is fine (up to merge conflicts).",
    "created_at": "2014-09-03T14:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272231",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:29'></a>
Replying to [vdelecroix](#comment%3A20):
> Please, have a look at http://git-scm.com/book/en/Git-Tools-Rewriting-History
> 
> It does not makes sense to cancel commits by adding another commit!!


Yes it does; it is good git workflow in order to see what has done. I strongly encourage it. It is bad to rewrite history in released branches that people might have pulled. This includes forced pushes (the `-f` option).

Again, the proper way to use git is to make more commits which revert changes!!
> 
> EDIT: and you should not merge a beta release if there is no need to. There is a need only if there is a non-trivial conflict. Now there are 10+ commits in this ticket and there are completely screwed up by several merge of beta releases...


There is, it's a PITA to rebuild sage when switching branches and the merge commits do not hurt anything. Look at the differences between the beta versions using `git diff`. There are also easy options to see the commits which are not in `develop` by

```
git log --no-merges ^develop <branch>
```
Quit thinking commits are like patches, they are not. Git workflow actually recommends lots of little logical commits (I'm actually somewhat bad about this).

In conclusion, this branch is fine (up to merge conflicts).



---

archive/issue_comments_272232.json:
```json
{
    "body": "<a id='comment:30'></a>\n> In conclusion, this branch is fine (up to merge conflicts).\n\n\nSo what should I do? (Happy to do anything)",
    "created_at": "2014-09-03T14:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272232",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:30'></a>
> In conclusion, this branch is fine (up to merge conflicts).


So what should I do? (Happy to do anything)



---

archive/issue_comments_272233.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [tscrim](#comment%3A29):\n> Replying to [vdelecroix](#comment%3A20):\n> > Please, have a look at http://git-scm.com/book/en/Git-Tools-Rewriting-History\n> > \n> > It does not makes sense to cancel commits by adding another commit!!\n\n> \n> Yes it does; it is good git workflow in order to see what has done. I strongly encourage it. It is bad to rewrite history in released branches that people might have pulled. This includes forced pushes (the `-f` option).\n\n\nIf somebody pulled it, he might have noticed that the history is dirty! My claim was about how people should write commits **before** submission to trac. You have the right to make a mistake and to change it. Nevertheless the branch has not disappeared from git so people are free to use it. If anybody has based his work on the last commit of a development branch without acknowledging the author it was just a stupid idea.\n\nI mostly agree with [http://www.mail-archive.com/dri-devel@lists.sourceforge.net/msg39091.html](http://www.mail-archive.com/dri-devel@lists.sourceforge.net/msg39091.html) about clean history.\n\n> Again, the proper way to use git is to make more commits which revert changes!!\n\n\nNo. The timeline of a ticket is most of the time the timeline of a commit (except very exceptional cases). Reverting changes can be done at home (and it is good to do it) but not on trac.\n\nIf I pull I really do not want to see\n\n```\ncommit 1: make a change in toto.py\ncommit 2: make a change in foo.py\ncommit 3: cancel a change from commit 1\ncommit 4: cancel a change from commit 2\ncommit 5: redo some changes introduced from commit 3\n...\n```\nperhaps you do, but personally I will not review a ticket with 10+ commits.\n\n> > EDIT: and you should not merge a beta release if there is no need to. There is a need only if there is a non-trivial conflict. Now there are 10+ commits in this ticket and there are completely screwed up by several merge of beta releases...\n\n> \n> There is, it's a PITA to rebuild sage when switching branches and the merge commits do not hurt anything. Look at the differences between the beta versions using `git diff`. There are also easy options to see the commits which are not in `develop` by\n> \n> ```\n> git log --no-merges ^develop\n> ```\n\n\nI agree that it is a PITA. But, it is not because of git but because of the build system. There is nothing wrong during the review process to merge **locally** the branch you are reviewing into the develop branch.\n\n> Quit thinking commits are like patches, they are not. Git workflow actually recommends lots of little logical commits (I'm actually somewhat bad about this).\n\n\nI agree but they should reflect the logic of the code implemented and **not** the author workflow.\n\nVincent",
    "created_at": "2014-09-03T14:55:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272233",
    "user": "https://github.com/videlec"
}
```

<a id='comment:31'></a>
Replying to [tscrim](#comment%3A29):
> Replying to [vdelecroix](#comment%3A20):
> > Please, have a look at http://git-scm.com/book/en/Git-Tools-Rewriting-History
> > 
> > It does not makes sense to cancel commits by adding another commit!!

> 
> Yes it does; it is good git workflow in order to see what has done. I strongly encourage it. It is bad to rewrite history in released branches that people might have pulled. This includes forced pushes (the `-f` option).


If somebody pulled it, he might have noticed that the history is dirty! My claim was about how people should write commits **before** submission to trac. You have the right to make a mistake and to change it. Nevertheless the branch has not disappeared from git so people are free to use it. If anybody has based his work on the last commit of a development branch without acknowledging the author it was just a stupid idea.

I mostly agree with [http://www.mail-archive.com/dri-devel@lists.sourceforge.net/msg39091.html](http://www.mail-archive.com/dri-devel@lists.sourceforge.net/msg39091.html) about clean history.

> Again, the proper way to use git is to make more commits which revert changes!!


No. The timeline of a ticket is most of the time the timeline of a commit (except very exceptional cases). Reverting changes can be done at home (and it is good to do it) but not on trac.

If I pull I really do not want to see

```
commit 1: make a change in toto.py
commit 2: make a change in foo.py
commit 3: cancel a change from commit 1
commit 4: cancel a change from commit 2
commit 5: redo some changes introduced from commit 3
...
```
perhaps you do, but personally I will not review a ticket with 10+ commits.

> > EDIT: and you should not merge a beta release if there is no need to. There is a need only if there is a non-trivial conflict. Now there are 10+ commits in this ticket and there are completely screwed up by several merge of beta releases...

> 
> There is, it's a PITA to rebuild sage when switching branches and the merge commits do not hurt anything. Look at the differences between the beta versions using `git diff`. There are also easy options to see the commits which are not in `develop` by
> 
> ```
> git log --no-merges ^develop
> ```


I agree that it is a PITA. But, it is not because of git but because of the build system. There is nothing wrong during the review process to merge **locally** the branch you are reviewing into the develop branch.

> Quit thinking commits are like patches, they are not. Git workflow actually recommends lots of little logical commits (I'm actually somewhat bad about this).


I agree but they should reflect the logic of the code implemented and **not** the author workflow.

Vincent



---

archive/issue_comments_272234.json:
```json
{
    "body": "<a id='comment:32'></a>\nI want to say that in this case it *does* make sense to have a lot of commits for two reasons:\n* Implementing from scratch this functionality, like for sage-matroid\n* Two different authors, and ideally one wants to keep their contributions clear\nBut again, my main concern is just that I am not git wizard enough to view the appropriate changes.  It sounds like one will want to start from (say) the latest beta release and add the relevant code here.  (That's good, because the original directory src/sage/game_theory/all.py is already in, I believe.)",
    "created_at": "2014-09-03T15:30:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272234",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:32'></a>
I want to say that in this case it *does* make sense to have a lot of commits for two reasons:
* Implementing from scratch this functionality, like for sage-matroid
* Two different authors, and ideally one wants to keep their contributions clear
But again, my main concern is just that I am not git wizard enough to view the appropriate changes.  It sounds like one will want to start from (say) the latest beta release and add the relevant code here.  (That's good, because the original directory src/sage/game_theory/all.py is already in, I believe.)



---

archive/issue_comments_272235.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [kcrisman](#comment%3A32):\n> I want to say that in this case it *does* make sense to have a lot of commits for two reasons:\n\n\nI should not have complained by the number of commits but rather about the number of useless commits.\n\n>  * Implementing from scratch this functionality, like for sage-matroid \n\n\nSage-matroids was about 10K lines of code!\n\n>  * Two different authors, and ideally one wants to keep their contributions clear\n\n\n+1. To each commit is associated an author and we really do not want to fusion commits from different authors.\n\n> But again, my main concern is just that I am not git wizard enough to view the appropriate changes.  It sounds like one will want to start from (say) the latest beta release and add the relevant code here.  (That's good, because the original directory src/sage/game_theory/all.py is already in, I believe.)\n\n\nAt least we end up to the same conclusion: the branch linked to a simple ticket should be simple enough to have a clear view on what have changed.\n\nVincent",
    "created_at": "2014-09-03T15:40:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272235",
    "user": "https://github.com/videlec"
}
```

<a id='comment:33'></a>
Replying to [kcrisman](#comment%3A32):
> I want to say that in this case it *does* make sense to have a lot of commits for two reasons:


I should not have complained by the number of commits but rather about the number of useless commits.

>  * Implementing from scratch this functionality, like for sage-matroid 


Sage-matroids was about 10K lines of code!

>  * Two different authors, and ideally one wants to keep their contributions clear


+1. To each commit is associated an author and we really do not want to fusion commits from different authors.

> But again, my main concern is just that I am not git wizard enough to view the appropriate changes.  It sounds like one will want to start from (say) the latest beta release and add the relevant code here.  (That's good, because the original directory src/sage/game_theory/all.py is already in, I believe.)


At least we end up to the same conclusion: the branch linked to a simple ticket should be simple enough to have a clear view on what have changed.

Vincent



---

archive/issue_comments_272236.json:
```json
{
    "body": "<a id='comment:34'></a>\n> I want to say that in this case it *does* make sense to have a lot of commits for two reasons:\n> * Implementing from scratch this functionality, like for sage-matroid\n> * Two different authors, and ideally one wants to keep their contributions clear\n\n\nIf I understand correctly what Vincent says, he means that the history of a git branch should be made to ease the reviewer's job.\n\nThe reviewer wants to check that everything does its job and is implemented correctly. It does not help if what is done in one commit is undone in the next. What can help him is when each commit has a clearly defined task and does it well. That way the branch is easier to review.\n\nWhat you do on your own computer is your own affair, but when you push to a public branch linked to a ticket you are already 'sharing' code, and it is better if the code you share is meant to be read.",
    "created_at": "2014-09-03T15:41:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272236",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:34'></a>
> I want to say that in this case it *does* make sense to have a lot of commits for two reasons:
> * Implementing from scratch this functionality, like for sage-matroid
> * Two different authors, and ideally one wants to keep their contributions clear


If I understand correctly what Vincent says, he means that the history of a git branch should be made to ease the reviewer's job.

The reviewer wants to check that everything does its job and is implemented correctly. It does not help if what is done in one commit is undone in the next. What can help him is when each commit has a clearly defined task and does it well. That way the branch is easier to review.

What you do on your own computer is your own affair, but when you push to a public branch linked to a ticket you are already 'sharing' code, and it is better if the code you share is meant to be read.



---

archive/issue_comments_272237.json:
```json
{
    "body": "<a id='comment:35'></a>\nAgain: apologies for making this ticket so hard to review. I'm still unsure as to what I should do from here if anyone has any suggestions?",
    "created_at": "2014-09-03T16:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272237",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:35'></a>
Again: apologies for making this ticket so hard to review. I'm still unsure as to what I should do from here if anyone has any suggestions?



---

archive/issue_comments_272238.json:
```json
{
    "body": "<a id='comment:36'></a>\nI know this will sound snarky/condescending, but I do honestly mean it. You should probably learn more git in order to be a better reviewer.\n\nThere is a good reason to merge the latest develop version, you never know what exactly has changed. Unless you're relying only on python (which I highly doubt is the case), you can get into subtle changes which can break your program (for example, output format was changed from a list into a tuple; I've been bitten by this).\n\nFor the most part I don't look at the commit history when reviewing a ticket, instead I look at the overall diff from develop/dependencies. Afterwards if additional changes are made, then it's commits, but I'd rather see the forest than tree by tree.\n\nIMO, useless commits are ones which merge in individual unrelated tickets (for example, one on elliptic curves), or merge in commits from a dependency 1 by 1 which don't impact the current ticket.\n\nFrom Vincent's example of undoing *all* changes immediately and pushed to trac, then you can consider starting a new branch in those cases as there is nothing inbetween (and changing the branch field on the ticket). However if there are additional commits, you either might want to cherry-pick them in or just continue on. Sometimes you realize things are unneeded and having that in the history is a good note. Nevertheless partial commit revisions deserve their own commits. As Nathann said, it's the *code* you want the reviewer to read, not the *history*. (Although when it comes to design decisions, especially if the author is not around, having the workflow in the history can give some insight.)\n\nAgain, commits are not the patches of Hg.\n\nI'm happy to review of this ticket since I have no qualms about the current branch (although if Vince can merge in develop and push, I'd appreciate that).",
    "created_at": "2014-09-03T17:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272238",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:36'></a>
I know this will sound snarky/condescending, but I do honestly mean it. You should probably learn more git in order to be a better reviewer.

There is a good reason to merge the latest develop version, you never know what exactly has changed. Unless you're relying only on python (which I highly doubt is the case), you can get into subtle changes which can break your program (for example, output format was changed from a list into a tuple; I've been bitten by this).

For the most part I don't look at the commit history when reviewing a ticket, instead I look at the overall diff from develop/dependencies. Afterwards if additional changes are made, then it's commits, but I'd rather see the forest than tree by tree.

IMO, useless commits are ones which merge in individual unrelated tickets (for example, one on elliptic curves), or merge in commits from a dependency 1 by 1 which don't impact the current ticket.

From Vincent's example of undoing *all* changes immediately and pushed to trac, then you can consider starting a new branch in those cases as there is nothing inbetween (and changing the branch field on the ticket). However if there are additional commits, you either might want to cherry-pick them in or just continue on. Sometimes you realize things are unneeded and having that in the history is a good note. Nevertheless partial commit revisions deserve their own commits. As Nathann said, it's the *code* you want the reviewer to read, not the *history*. (Although when it comes to design decisions, especially if the author is not around, having the workflow in the history can give some insight.)

Again, commits are not the patches of Hg.

I'm happy to review of this ticket since I have no qualms about the current branch (although if Vince can merge in develop and push, I'd appreciate that).



---

archive/issue_comments_272239.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [tscrim](#comment%3A36):\n> I know this will sound snarky/condescending, but I do honestly mean it. You should probably learn more git in order to be a better reviewer.\n\n\nYou should also learn git to become a better contributor! The reviewer is doing a kind of sacrifice, so there is no way to discuss that the effort should be done from the contributor side (of course ignore that for first contributions).\n\n> There is a good reason to merge the latest develop version, you never know what exactly has changed. Unless you're relying only on python (which I highly doubt is the case), you can get into subtle changes which can break your program (for example, output format was changed from a list into a tuple; I've been bitten by this).\n\n\nRight. For me a doctest issue is also a merge conflict but not in the git sense. There are also a good reason to not do it: keep the history clean.\n\n> For the most part I don't look at the commit history when reviewing a ticket, instead I look at the overall diff from develop/dependencies. Afterwards if additional changes are made, then it's commits, but I'd rather see the forest than tree by tree.\n\n\nThe history is good to help the reviewer understands what the modifications provided by a branch does. You are of course allowed to ignore that. I really think that I am a git person and you are the hg person if you work that way. A global diff can be really ugly even if the commits are very nice (just have a look at #16884).\n\n> Again, commits are not the patches of Hg.\n\n\nHum, each commit is a diff and a patch is a diff. So technically speaking they are. Now, if you want to argue about the philosophy of what a commit should be and what a patch should be it has nothing to do with the softwares but how you use them... and you are free to use them the way you want!\n\nBy the way, I would like to stop that discussion on the ticket as it spoils the Game theory purpose of it!\n\nBest, \nVincent",
    "created_at": "2014-09-03T17:30:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272239",
    "user": "https://github.com/videlec"
}
```

<a id='comment:37'></a>
Replying to [tscrim](#comment%3A36):
> I know this will sound snarky/condescending, but I do honestly mean it. You should probably learn more git in order to be a better reviewer.


You should also learn git to become a better contributor! The reviewer is doing a kind of sacrifice, so there is no way to discuss that the effort should be done from the contributor side (of course ignore that for first contributions).

> There is a good reason to merge the latest develop version, you never know what exactly has changed. Unless you're relying only on python (which I highly doubt is the case), you can get into subtle changes which can break your program (for example, output format was changed from a list into a tuple; I've been bitten by this).


Right. For me a doctest issue is also a merge conflict but not in the git sense. There are also a good reason to not do it: keep the history clean.

> For the most part I don't look at the commit history when reviewing a ticket, instead I look at the overall diff from develop/dependencies. Afterwards if additional changes are made, then it's commits, but I'd rather see the forest than tree by tree.


The history is good to help the reviewer understands what the modifications provided by a branch does. You are of course allowed to ignore that. I really think that I am a git person and you are the hg person if you work that way. A global diff can be really ugly even if the commits are very nice (just have a look at #16884).

> Again, commits are not the patches of Hg.


Hum, each commit is a diff and a patch is a diff. So technically speaking they are. Now, if you want to argue about the philosophy of what a commit should be and what a patch should be it has nothing to do with the softwares but how you use them... and you are free to use them the way you want!

By the way, I would like to stop that discussion on the ticket as it spoils the Game theory purpose of it!

Best, 
Vincent



---

archive/issue_comments_272240.json:
```json
{
    "body": "<a id='comment:38'></a>\n> > I know this will sound snarky/condescending, but I do honestly mean it. You should probably learn more git in order to be a better reviewer.\n\n> \n> You should also learn git to become a better contributor! The reviewer is doing a kind of sacrifice, so there is no way to discuss that the effort should be done from the contributor side (of course ignore that for first contributions).\n\n\nNaturally both are true, but there is also the point that, in this case, both reviewer and contributor have other duties than learning lots of git.\n> By the way, I would like to stop that discussion on the ticket as it spoils the Game theory purpose of it!\n\n\nYes, probably true.  Anyway, Vince K., it looks like I will probably have to wait until next week to figure out how to do this without breaking something, sorry :( because I do want to look at it carefully.",
    "created_at": "2014-09-03T18:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272240",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:38'></a>
> > I know this will sound snarky/condescending, but I do honestly mean it. You should probably learn more git in order to be a better reviewer.

> 
> You should also learn git to become a better contributor! The reviewer is doing a kind of sacrifice, so there is no way to discuss that the effort should be done from the contributor side (of course ignore that for first contributions).


Naturally both are true, but there is also the point that, in this case, both reviewer and contributor have other duties than learning lots of git.
> By the way, I would like to stop that discussion on the ticket as it spoils the Game theory purpose of it!


Yes, probably true.  Anyway, Vince K., it looks like I will probably have to wait until next week to figure out how to do this without breaking something, sorry :( because I do want to look at it carefully.



---

archive/issue_comments_272241.json:
```json
{
    "body": "**Changing commit** from \"[40d4cfaa662913ca6795a8a9a598b53cf931809c](https://github.com/sagemath/sagetrac-mirror/commit/40d4cfaa662913ca6795a8a9a598b53cf931809c)\" to \"[31fc55432bfc19381d2d09e5602e7bfe5c496f6c](https://github.com/sagemath/sagetrac-mirror/commit/31fc55432bfc19381d2d09e5602e7bfe5c496f6c)\".",
    "created_at": "2014-09-03T22:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272241",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[40d4cfaa662913ca6795a8a9a598b53cf931809c](https://github.com/sagemath/sagetrac-mirror/commit/40d4cfaa662913ca6795a8a9a598b53cf931809c)" to "[31fc55432bfc19381d2d09e5602e7bfe5c496f6c](https://github.com/sagemath/sagetrac-mirror/commit/31fc55432bfc19381d2d09e5602e7bfe5c496f6c)".



---

archive/issue_comments_272242.json:
```json
{
    "body": "<a id='comment:39'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a76d43c28132a44006b2d9ed823432d219c7086\">8a76d43</a></td><td><code>Keep cooperative game from develop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31fc55432bfc19381d2d09e5602e7bfe5c496f6c\">31fc554</a></td><td><code>Have merged develop branch</code></td></tr></table>\n",
    "created_at": "2014-09-03T22:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272242",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a76d43c28132a44006b2d9ed823432d219c7086">8a76d43</a></td><td><code>Keep cooperative game from develop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31fc55432bfc19381d2d09e5602e7bfe5c496f6c">31fc554</a></td><td><code>Have merged develop branch</code></td></tr></table>




---

archive/issue_comments_272243.json:
```json
{
    "body": "<a id='comment:40'></a>\n> I'm happy to review of this ticket since I have no qualms about the current branch (although if Vince can merge in develop and push, I'd appreciate that).\n\n\nThanks tscrim. I have just pushed a merged version.\n\nApologies all again for the confusion/mess. I'm going away for 4 days (no internet access) so won't be able to address anything directly but will do so on Monday.\n\nThank you all for your time looking at this.",
    "created_at": "2014-09-03T22:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272243",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:40'></a>
> I'm happy to review of this ticket since I have no qualms about the current branch (although if Vince can merge in develop and push, I'd appreciate that).


Thanks tscrim. I have just pushed a merged version.

Apologies all again for the confusion/mess. I'm going away for 4 days (no internet access) so won't be able to address anything directly but will do so on Monday.

Thank you all for your time looking at this.



---

archive/issue_comments_272244.json:
```json
{
    "body": "<a id='comment:41'></a>\nGreen!  Still depends on #16333 I guess.  Have a great trip!",
    "created_at": "2014-09-04T01:55:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272244",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:41'></a>
Green!  Still depends on #16333 I guess.  Have a great trip!



---

archive/issue_comments_272245.json:
```json
{
    "body": "<a id='comment:42'></a>\nI just typed in a truly jumbo list of detailed comments, and then Trac logged me out and I lost them all.  I'm not going to try again now.  Short version is that there are lots of small questions I have, three typos, and then the big one is whether all this infrastructure (like `_Player`) is really necessary to keep track of the info in question. \n\nAargh.",
    "created_at": "2014-09-04T18:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272245",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:42'></a>
I just typed in a truly jumbo list of detailed comments, and then Trac logged me out and I lost them all.  I'm not going to try again now.  Short version is that there are lots of small questions I have, three typos, and then the big one is whether all this infrastructure (like `_Player`) is really necessary to keep track of the info in question. 

Aargh.



---

archive/issue_comments_272246.json:
```json
{
    "body": "<a id='comment:43'></a>\nOk, take two.  I will remember to Ctrl-C first this time.\n\n---\n\nTypos:\n* `extended Gale Shapley algorithm` should have a hyphen\n* `of in a population` has an extra word\n* possibly, `rank their preference` should be `preferences`?\n* `a stable matchin` should have a `g`.",
    "created_at": "2014-09-05T02:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272246",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:43'></a>
Ok, take two.  I will remember to Ctrl-C first this time.

---

Typos:
* `extended Gale Shapley algorithm` should have a hyphen
* `of in a population` has an extra word
* possibly, `rank their preference` should be `preferences`?
* `a stable matchin` should have a `g`.



---

archive/issue_comments_272247.json:
```json
{
    "body": "<a id='comment:44'></a>\nFurther comment: all the below is more Python, and not mathematics.  I have not checked the actual G-S algorithm is correct, though I doubt that will take long to do.  But it won't happen this time.",
    "created_at": "2014-09-05T02:01:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272247",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:44'></a>
Further comment: all the below is more Python, and not mathematics.  I have not checked the actual G-S algorithm is correct, though I doubt that will take long to do.  But it won't happen this time.



---

archive/issue_comments_272248.json:
```json
{
    "body": "<a id='comment:45'></a>\nComments I could reconstruct:\n* Should it be a game of 2n players or size n?  Is there a standard terminology?\n* Since the matching $M$ is bijective and the algorithm is not symmetric, should the solution really have each match twice?\n\n```\n        sage: m.solve()\n        {'A': ['J'],\n         'C': ['K'],\n         'B': ['M'],\n         'D': ['L'],\n         'K': ['C'],\n         'J': ['A'],\n         'M': ['B'],\n         'L': ['D']}\n```\n   maybe instead\n\n```\n        sage: m.solve()\n        {'A': ['J'],\n         'C': ['K'],\n         'B': ['M'],\n         'D': ['L'],\n```\n   and then it will be easy to tell if it's inverted...\n* `_repr_` really shouldn't have it possible to have something other than $2n$.  I'm not asking to check the `_is_complete` at that point, but at least they should be same number can be checked.\n* `latex` - I'm not sure this is standard notation. `4=\\{(1, 0)\\}`  equals sign?\n* in `game_to_dict` I just don't know whether one should have \"undicted\" the game in the first place.  It seems like a lot of trouble to redictify the game.  Maybe the data should be stored differently in any event.  Constructing a whole `_Player` for each player seems like a lot of overhead.  They have no external existence.\n* Is it possible for someone to access all the partners and pref and such in such a way as to mess with `_is_solved`?  It just seems odd that those things might be directly accessible.\n* I think another word than 'complete' is needed in checking completeness, because if `{3: (0, 2, 1)` was changed to `{3: (0, 2)` it would still raise the error but seem \"complete\" in some sense...\n* What if the automatically added suitor name is already in use?  (Say, we already have names `3, 'Fred'` and now want to automatically add a third one.)  I don't know the right answer here.\n* Any rationale for the autoprefs?\n* I wonder if `sol_dict` should be an attribute and not a method.  Especially since you're not really supposed to access it publicly.\n* And of course, if you REALLY want to use the `_Player` class, needs doctests :)",
    "created_at": "2014-09-05T02:13:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272248",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:45'></a>
Comments I could reconstruct:
* Should it be a game of 2n players or size n?  Is there a standard terminology?
* Since the matching $M$ is bijective and the algorithm is not symmetric, should the solution really have each match twice?

```
        sage: m.solve()
        {'A': ['J'],
         'C': ['K'],
         'B': ['M'],
         'D': ['L'],
         'K': ['C'],
         'J': ['A'],
         'M': ['B'],
         'L': ['D']}
```
   maybe instead

```
        sage: m.solve()
        {'A': ['J'],
         'C': ['K'],
         'B': ['M'],
         'D': ['L'],
```
   and then it will be easy to tell if it's inverted...
* `_repr_` really shouldn't have it possible to have something other than $2n$.  I'm not asking to check the `_is_complete` at that point, but at least they should be same number can be checked.
* `latex` - I'm not sure this is standard notation. `4=\{(1, 0)\}`  equals sign?
* in `game_to_dict` I just don't know whether one should have "undicted" the game in the first place.  It seems like a lot of trouble to redictify the game.  Maybe the data should be stored differently in any event.  Constructing a whole `_Player` for each player seems like a lot of overhead.  They have no external existence.
* Is it possible for someone to access all the partners and pref and such in such a way as to mess with `_is_solved`?  It just seems odd that those things might be directly accessible.
* I think another word than 'complete' is needed in checking completeness, because if `{3: (0, 2, 1)` was changed to `{3: (0, 2)` it would still raise the error but seem "complete" in some sense...
* What if the automatically added suitor name is already in use?  (Say, we already have names `3, 'Fred'` and now want to automatically add a third one.)  I don't know the right answer here.
* Any rationale for the autoprefs?
* I wonder if `sol_dict` should be an attribute and not a method.  Especially since you're not really supposed to access it publicly.
* And of course, if you REALLY want to use the `_Player` class, needs doctests :)



---

archive/issue_comments_272249.json:
```json
{
    "body": "<a id='comment:46'></a>\nReplying to [kcrisman](#comment%3A45):\n> Comments I could reconstruct:\n> * Should it be a game of 2n players or size n?  Is there a standard terminology?\n> * Since the matching $M$ is bijective and the algorithm is not symmetric, should the solution really have each match twice?\n> \n> ```\n>         sage: m.solve()\n>         {'A': ['J'],\n>          'C': ['K'],\n>          'B': ['M'],\n>          'D': ['L'],\n>          'K': ['C'],\n>          'J': ['A'],\n>          'M': ['B'],\n>          'L': ['D']}\n> ```\n>    maybe instead\n> \n> ```\n>         sage: m.solve()\n>         {'A': ['J'],\n>          'C': ['K'],\n>          'B': ['M'],\n>          'D': ['L'],\n> ```\n>    and then it will be easy to tell if it's inverted...\n> * `_repr_` really shouldn't have it possible to have something other than $2n$.  I'm not asking to check the `_is_complete` at that point, but at least they should be same number can be checked.\n> * `latex` - I'm not sure this is standard notation. `4=\\{(1, 0)\\}`  equals sign?\n> * in `game_to_dict` I just don't know whether one should have \"undicted\" the game in the first place.  It seems like a lot of trouble to redictify the game.  Maybe the data should be stored differently in any event.  Constructing a whole `_Player` for each player seems like a lot of overhead.  They have no external existence.\n> * Is it possible for someone to access all the partners and pref and such in such a way as to mess with `_is_solved`?  It just seems odd that those things might be directly accessible.\n> * I think another word than 'complete' is needed in checking completeness, because if `{3: (0, 2, 1)` was changed to `{3: (0, 2)` it would still raise the error but seem \"complete\" in some sense...\n> * What if the automatically added suitor name is already in use?  (Say, we already have names `3, 'Fred'` and now want to automatically add a third one.)  I don't know the right answer here.\n> * Any rationale for the autoprefs?\n> * I wonder if `sol_dict` should be an attribute and not a method.  Especially since you're not really supposed to access it publicly.\n> * And of course, if you REALLY want to use the `_Player` class, needs doctests :)\n\n\nThanks Karl, will read through these carefully and work on them sometime this week.",
    "created_at": "2014-09-08T07:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272249",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:46'></a>
Replying to [kcrisman](#comment%3A45):
> Comments I could reconstruct:
> * Should it be a game of 2n players or size n?  Is there a standard terminology?
> * Since the matching $M$ is bijective and the algorithm is not symmetric, should the solution really have each match twice?
> 
> ```
>         sage: m.solve()
>         {'A': ['J'],
>          'C': ['K'],
>          'B': ['M'],
>          'D': ['L'],
>          'K': ['C'],
>          'J': ['A'],
>          'M': ['B'],
>          'L': ['D']}
> ```
>    maybe instead
> 
> ```
>         sage: m.solve()
>         {'A': ['J'],
>          'C': ['K'],
>          'B': ['M'],
>          'D': ['L'],
> ```
>    and then it will be easy to tell if it's inverted...
> * `_repr_` really shouldn't have it possible to have something other than $2n$.  I'm not asking to check the `_is_complete` at that point, but at least they should be same number can be checked.
> * `latex` - I'm not sure this is standard notation. `4=\{(1, 0)\}`  equals sign?
> * in `game_to_dict` I just don't know whether one should have "undicted" the game in the first place.  It seems like a lot of trouble to redictify the game.  Maybe the data should be stored differently in any event.  Constructing a whole `_Player` for each player seems like a lot of overhead.  They have no external existence.
> * Is it possible for someone to access all the partners and pref and such in such a way as to mess with `_is_solved`?  It just seems odd that those things might be directly accessible.
> * I think another word than 'complete' is needed in checking completeness, because if `{3: (0, 2, 1)` was changed to `{3: (0, 2)` it would still raise the error but seem "complete" in some sense...
> * What if the automatically added suitor name is already in use?  (Say, we already have names `3, 'Fred'` and now want to automatically add a third one.)  I don't know the right answer here.
> * Any rationale for the autoprefs?
> * I wonder if `sol_dict` should be an attribute and not a method.  Especially since you're not really supposed to access it publicly.
> * And of course, if you REALLY want to use the `_Player` class, needs doctests :)


Thanks Karl, will read through these carefully and work on them sometime this week.



---

archive/issue_comments_272250.json:
```json
{
    "body": "<a id='comment:47'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a8aea088920fdee4346c3cfb9a25eddb3e256b3\">0a8aea0</a></td><td><code>trying to introduce some game theory stuff</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f508ce243cc4b2f974a51356375b5f4d40666f7\">6f508ce</a></td><td><code>Changed `_repr_` method to clarify size of game</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27ba15d98e22112590ddb652468774f326154505\">27ba15d</a></td><td><code>Fixed LaTeX method to have arrow instead of equals sign</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf22249396b1addd50f53d3e6a2726a101cf7aa3\">bf22249</a></td><td><code>Merge branch '16331' into dev</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31734a45a1387ac38d5ec4a83e01004ee09ac2ce\">31734a4</a></td><td><code>Solve method now returns only reviewers as key</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00a197545c049cb4bd0cd524b4f15613827a5eb5\">00a1975</a></td><td><code>Solve method now returns only reviewers as key</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1d2bf9cdbd20b902ba758e62fed0b6d365859b9\">a1d2bf9</a></td><td><code>sol_dict is now an attribute and not a method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdcdea036b55395ed02af615211dbf3d6932d3da\">cdcdea0</a></td><td><code>reviewer and suitor dicts are now stored attributes on initialisation, also have error if trying to add reviewer or suitor with name that is already used</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9edce6310f88a733d501bf240004dbeacd8d9a4\">e9edce6</a></td><td><code>Removed typos</code></td></tr></table>\n",
    "created_at": "2014-09-13T01:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272250",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a8aea088920fdee4346c3cfb9a25eddb3e256b3">0a8aea0</a></td><td><code>trying to introduce some game theory stuff</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f508ce243cc4b2f974a51356375b5f4d40666f7">6f508ce</a></td><td><code>Changed `_repr_` method to clarify size of game</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27ba15d98e22112590ddb652468774f326154505">27ba15d</a></td><td><code>Fixed LaTeX method to have arrow instead of equals sign</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf22249396b1addd50f53d3e6a2726a101cf7aa3">bf22249</a></td><td><code>Merge branch '16331' into dev</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31734a45a1387ac38d5ec4a83e01004ee09ac2ce">31734a4</a></td><td><code>Solve method now returns only reviewers as key</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00a197545c049cb4bd0cd524b4f15613827a5eb5">00a1975</a></td><td><code>Solve method now returns only reviewers as key</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1d2bf9cdbd20b902ba758e62fed0b6d365859b9">a1d2bf9</a></td><td><code>sol_dict is now an attribute and not a method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdcdea036b55395ed02af615211dbf3d6932d3da">cdcdea0</a></td><td><code>reviewer and suitor dicts are now stored attributes on initialisation, also have error if trying to add reviewer or suitor with name that is already used</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9edce6310f88a733d501bf240004dbeacd8d9a4">e9edce6</a></td><td><code>Removed typos</code></td></tr></table>




---

archive/issue_comments_272251.json:
```json
{
    "body": "**Changing commit** from \"[31fc55432bfc19381d2d09e5602e7bfe5c496f6c](https://github.com/sagemath/sagetrac-mirror/commit/31fc55432bfc19381d2d09e5602e7bfe5c496f6c)\" to \"[e9edce6310f88a733d501bf240004dbeacd8d9a4](https://github.com/sagemath/sagetrac-mirror/commit/e9edce6310f88a733d501bf240004dbeacd8d9a4)\".",
    "created_at": "2014-09-13T01:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272251",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[31fc55432bfc19381d2d09e5602e7bfe5c496f6c](https://github.com/sagemath/sagetrac-mirror/commit/31fc55432bfc19381d2d09e5602e7bfe5c496f6c)" to "[e9edce6310f88a733d501bf240004dbeacd8d9a4](https://github.com/sagemath/sagetrac-mirror/commit/e9edce6310f88a733d501bf240004dbeacd8d9a4)".



---

archive/issue_comments_272252.json:
```json
{
    "body": "<a id='comment:48'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c19d87876a451c349448da3b27101f04162c985\">0c19d87</a></td><td><code>Added another doc test to the player class</code></td></tr></table>\n",
    "created_at": "2014-09-13T01:52:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272252",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c19d87876a451c349448da3b27101f04162c985">0c19d87</a></td><td><code>Added another doc test to the player class</code></td></tr></table>




---

archive/issue_comments_272253.json:
```json
{
    "body": "**Changing commit** from \"[e9edce6310f88a733d501bf240004dbeacd8d9a4](https://github.com/sagemath/sagetrac-mirror/commit/e9edce6310f88a733d501bf240004dbeacd8d9a4)\" to \"[0c19d87876a451c349448da3b27101f04162c985](https://github.com/sagemath/sagetrac-mirror/commit/0c19d87876a451c349448da3b27101f04162c985)\".",
    "created_at": "2014-09-13T01:52:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272253",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e9edce6310f88a733d501bf240004dbeacd8d9a4](https://github.com/sagemath/sagetrac-mirror/commit/e9edce6310f88a733d501bf240004dbeacd8d9a4)" to "[0c19d87876a451c349448da3b27101f04162c985](https://github.com/sagemath/sagetrac-mirror/commit/0c19d87876a451c349448da3b27101f04162c985)".



---

archive/issue_comments_272254.json:
```json
{
    "body": "<a id='comment:49'></a>\nReplying to [kcrisman](#comment%3A45):\n> Comments I could reconstruct:\n> * Should it be a game of 2n players or size n?  Is there a standard terminology?\n> * Since the matching $M$ is bijective and the algorithm is not symmetric, should the solution really have each match twice?\n> \n> ```\n>         sage: m.solve()\n>         {'A': ['J'],\n>          'C': ['K'],\n>          'B': ['M'],\n>          'D': ['L'],\n>          'K': ['C'],\n>          'J': ['A'],\n>          'M': ['B'],\n>          'L': ['D']}\n> ```\n>    maybe instead\n> \n> ```\n>         sage: m.solve()\n>         {'A': ['J'],\n>          'C': ['K'],\n>          'B': ['M'],\n>          'D': ['L'],\n> ```\n>    and then it will be easy to tell if it's inverted...\n\n\nI have made this change but this has been done in conjunction with other changes: in particular `_sol_dict_` is now an attribute that includes the same dictionary as before (so that it can be used for the bi-partite graph method for example) but `solve` only returns the required output (as you suggest).\n\n>  * `_repr_` really shouldn't have it possible to have something other than $2n$.  I'm not asking to check the `_is_complete` at that point, but at least they should be same number can be checked.\n>  * `latex` - I'm not sure this is standard notation. `4=\\{(1, 0)\\}`  equals sign?\n\n\nThese both have been fixed.\n\n>  * in `game_to_dict` I just don't know whether one should have \"undicted\" the game in the first place.  It seems like a lot of trouble to redictify the game.  Maybe the data should be stored differently in any event.  Constructing a whole `_Player` for each player seems like a lot of overhead.  They have no external existence.\n\n\nThe only reason to `undict` the game is because the players are not passed to the instance so no dictionary with player instances as keys was constructed until the `game_to_dict` method was called. This has now been changed: upon initialisation the input dictionaries are used to create new dictionaries with player instances as keys. \n\nThe reason for keeping the player instance is that it allows for an easier and more readable coding of the algorithm itself (so I'm quite keen to keep it).\n\n>  * Is it possible for someone to access all the partners and pref and such in such a way as to mess with `_is_solved`?  It just seems odd that those things might be directly accessible.\n\n\nI actually think this is worth keeping as it could be possible that someone would want to access and change partners (I can't think of why but I can imagine that it would be a shame to take that possibility away).\n\n>  * I think another word than 'complete' is needed in checking completeness, because if `{3: (0, 2, 1)` was changed to `{3: (0, 2)` it would still raise the error but seem \"complete\" in some sense...\n\n\nI'm not sure I actually understand this one. `{3:(0,2)` would not be complete as `2` is not a valid player? Maybe I'm missing something. Very happy to change vocabulary.\n\n>  * What if the automatically added suitor name is already in use?  (Say, we already have names `3, 'Fred'` and now want to automatically add a third one.)  I don't know the right answer here.\n\n\nI have added an error for this.\n\n>  * Any rationale for the autoprefs?\n\n\nNot really... Do you think they should be something else?\n\n>  * I wonder if `sol_dict` should be an attribute and not a method.  Especially since you're not really supposed to access it publicly.\n\n\nCompletely agree: done, see earlier comment re `solve`.\n\n>  * And of course, if you REALLY want to use the `_Player` class, needs doctests :)\n\n\nI think this has been done. Note that I need to import the `_Player` class in the tests themselves: I hope that's ok.\n\nThanks again for being so thorough: very much appreciated.",
    "created_at": "2014-09-13T02:00:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272254",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:49'></a>
Replying to [kcrisman](#comment%3A45):
> Comments I could reconstruct:
> * Should it be a game of 2n players or size n?  Is there a standard terminology?
> * Since the matching $M$ is bijective and the algorithm is not symmetric, should the solution really have each match twice?
> 
> ```
>         sage: m.solve()
>         {'A': ['J'],
>          'C': ['K'],
>          'B': ['M'],
>          'D': ['L'],
>          'K': ['C'],
>          'J': ['A'],
>          'M': ['B'],
>          'L': ['D']}
> ```
>    maybe instead
> 
> ```
>         sage: m.solve()
>         {'A': ['J'],
>          'C': ['K'],
>          'B': ['M'],
>          'D': ['L'],
> ```
>    and then it will be easy to tell if it's inverted...


I have made this change but this has been done in conjunction with other changes: in particular `_sol_dict_` is now an attribute that includes the same dictionary as before (so that it can be used for the bi-partite graph method for example) but `solve` only returns the required output (as you suggest).

>  * `_repr_` really shouldn't have it possible to have something other than $2n$.  I'm not asking to check the `_is_complete` at that point, but at least they should be same number can be checked.
>  * `latex` - I'm not sure this is standard notation. `4=\{(1, 0)\}`  equals sign?


These both have been fixed.

>  * in `game_to_dict` I just don't know whether one should have "undicted" the game in the first place.  It seems like a lot of trouble to redictify the game.  Maybe the data should be stored differently in any event.  Constructing a whole `_Player` for each player seems like a lot of overhead.  They have no external existence.


The only reason to `undict` the game is because the players are not passed to the instance so no dictionary with player instances as keys was constructed until the `game_to_dict` method was called. This has now been changed: upon initialisation the input dictionaries are used to create new dictionaries with player instances as keys. 

The reason for keeping the player instance is that it allows for an easier and more readable coding of the algorithm itself (so I'm quite keen to keep it).

>  * Is it possible for someone to access all the partners and pref and such in such a way as to mess with `_is_solved`?  It just seems odd that those things might be directly accessible.


I actually think this is worth keeping as it could be possible that someone would want to access and change partners (I can't think of why but I can imagine that it would be a shame to take that possibility away).

>  * I think another word than 'complete' is needed in checking completeness, because if `{3: (0, 2, 1)` was changed to `{3: (0, 2)` it would still raise the error but seem "complete" in some sense...


I'm not sure I actually understand this one. `{3:(0,2)` would not be complete as `2` is not a valid player? Maybe I'm missing something. Very happy to change vocabulary.

>  * What if the automatically added suitor name is already in use?  (Say, we already have names `3, 'Fred'` and now want to automatically add a third one.)  I don't know the right answer here.


I have added an error for this.

>  * Any rationale for the autoprefs?


Not really... Do you think they should be something else?

>  * I wonder if `sol_dict` should be an attribute and not a method.  Especially since you're not really supposed to access it publicly.


Completely agree: done, see earlier comment re `solve`.

>  * And of course, if you REALLY want to use the `_Player` class, needs doctests :)


I think this has been done. Note that I need to import the `_Player` class in the tests themselves: I hope that's ok.

Thanks again for being so thorough: very much appreciated.



---

archive/issue_comments_272255.json:
```json
{
    "body": "<a id='comment:50'></a>\nThanks for these changes.\n> I have made this change but this has been done in conjunction with other changes: in particular `_sol_dict_` is now an attribute that includes the same dictionary as before (so that it can be used for the bi-partite graph method for example) but `solve` only returns the required output (as you suggest).\n\nI'm glad we agree this is a somewhat better solution, and I think it simplifies the code in the long run as well.\n> >  * I think another word than 'complete' is needed in checking completeness, because if `{3: (0, 2, 1)` was changed to `{3: (0, 2)` it would still raise the error but seem \"complete\" in some sense...\n \n> \n> I'm not sure I actually understand this one. `{3:(0,2)` would not be complete as `2` is not a valid player? Maybe I'm missing something. Very happy to change vocabulary.\n\nMy point is that \"(0,2,1)\" is sort of \"overcomplete\", too many prefs, while \"(0,2)\" has the \"right\" number but the wrong guys.  But I don't know what the standard vocabulary is here, that was my main point.\n> >  * Any rationale for the autoprefs?\n \n> \n> Not really... Do you think they should be something else?\n\nI think that at least they should be explained clearly so people know how to use them.\n> >  * And of course, if you REALLY want to use the `_Player` class, needs doctests :)\n \n> \n> I think this has been done. Note that I need to import the `_Player` class in the tests themselves: I hope that's ok.\n\nYes, that is standard practice in such cases.\n> Thanks again for being so thorough: very much appreciated.\n\nNot at all.",
    "created_at": "2014-09-16T14:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272255",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:50'></a>
Thanks for these changes.
> I have made this change but this has been done in conjunction with other changes: in particular `_sol_dict_` is now an attribute that includes the same dictionary as before (so that it can be used for the bi-partite graph method for example) but `solve` only returns the required output (as you suggest).

I'm glad we agree this is a somewhat better solution, and I think it simplifies the code in the long run as well.
> >  * I think another word than 'complete' is needed in checking completeness, because if `{3: (0, 2, 1)` was changed to `{3: (0, 2)` it would still raise the error but seem "complete" in some sense...
 
> 
> I'm not sure I actually understand this one. `{3:(0,2)` would not be complete as `2` is not a valid player? Maybe I'm missing something. Very happy to change vocabulary.

My point is that "(0,2,1)" is sort of "overcomplete", too many prefs, while "(0,2)" has the "right" number but the wrong guys.  But I don't know what the standard vocabulary is here, that was my main point.
> >  * Any rationale for the autoprefs?
 
> 
> Not really... Do you think they should be something else?

I think that at least they should be explained clearly so people know how to use them.
> >  * And of course, if you REALLY want to use the `_Player` class, needs doctests :)
 
> 
> I think this has been done. Note that I need to import the `_Player` class in the tests themselves: I hope that's ok.

Yes, that is standard practice in such cases.
> Thanks again for being so thorough: very much appreciated.

Not at all.



---

archive/issue_comments_272256.json:
```json
{
    "body": "<a id='comment:51'></a>\nI'm still not exactly sure what commit 0a8aea0 is doing and there is still all this gambit stuff in the commits I see... it would be really good to base only the changes for this ticket on whatever the latest beta is (which should already have cooperative games in it, right?) so that it's very obvious what is changing.  But maybe that's not possible.",
    "created_at": "2014-09-16T14:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272256",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:51'></a>
I'm still not exactly sure what commit 0a8aea0 is doing and there is still all this gambit stuff in the commits I see... it would be really good to base only the changes for this ticket on whatever the latest beta is (which should already have cooperative games in it, right?) so that it's very obvious what is changing.  But maybe that's not possible.



---

archive/issue_comments_272257.json:
```json
{
    "body": "<a id='comment:52'></a>\n> I'm still not exactly sure what commit 0a8aea0 is doing and there is still all this gambit stuff in the commits I see... it would be really \n\nOh, I see, there is `src/sage/gametheory` and `src/sage/game_theory`.  Ugh.",
    "created_at": "2014-09-16T14:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272257",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:52'></a>
> I'm still not exactly sure what commit 0a8aea0 is doing and there is still all this gambit stuff in the commits I see... it would be really 

Oh, I see, there is `src/sage/gametheory` and `src/sage/game_theory`.  Ugh.



---

archive/issue_comments_272258.json:
```json
{
    "body": "<a id='comment:53'></a>\n> > >  * Any rationale for the autoprefs?\n \n> > Not really... Do you think they should be something else?\n> I think that at least they should be explained clearly so people know how to use them.\n\nIn fact, I can't really figure them out!  I guess instead of a tuple/list you just have a bunch of the number -1?  (Which isn't even a player?)  That does seem confusing.  Why bother?  It really does confuse me.  If people have to populate it anyway...\n> > >  * And of course, if you REALLY want to use the `_Player` class, needs doctests :)\n \n> > I think this has been done. Note that I need to import the `_Player` class in the tests themselves: I hope that's ok.\nAhem.  `__repr__` and `__eq__` still are missing doctests, as is the `solve` method.   Naturally, they don't have to be very exciting - do an edge case or copy one from elsewhere.  Ideally, they'd be slightly different or test some unusual case (e.g. empty game).",
    "created_at": "2014-09-16T14:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272258",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:53'></a>
> > >  * Any rationale for the autoprefs?
 
> > Not really... Do you think they should be something else?
> I think that at least they should be explained clearly so people know how to use them.

In fact, I can't really figure them out!  I guess instead of a tuple/list you just have a bunch of the number -1?  (Which isn't even a player?)  That does seem confusing.  Why bother?  It really does confuse me.  If people have to populate it anyway...
> > >  * And of course, if you REALLY want to use the `_Player` class, needs doctests :)
 
> > I think this has been done. Note that I need to import the `_Player` class in the tests themselves: I hope that's ok.
Ahem.  `__repr__` and `__eq__` still are missing doctests, as is the `solve` method.   Naturally, they don't have to be very exciting - do an edge case or copy one from elsewhere.  Ideally, they'd be slightly different or test some unusual case (e.g. empty game).



---

archive/issue_comments_272259.json:
```json
{
    "body": "<a id='comment:54'></a>\nAnother possible (minor) point:\n\n```\nwhile len([s for s in suitors if s.partner is False]) != 0:\n```\nmaybe it would be easier to use `not any()` for that instead of doing a couple comparisons?",
    "created_at": "2014-09-16T15:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272259",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:54'></a>
Another possible (minor) point:

```
while len([s for s in suitors if s.partner is False]) != 0:
```
maybe it would be easier to use `not any()` for that instead of doing a couple comparisons?



---

archive/issue_comments_272260.json:
```json
{
    "body": "<a id='comment:55'></a>\nOn the plus side, the algorithm is right, as expected!",
    "created_at": "2014-09-16T15:32:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272260",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:55'></a>
On the plus side, the algorithm is right, as expected!



---

archive/issue_comments_272261.json:
```json
{
    "body": "<a id='comment:56'></a>\nThanks for all this Karl. I'm getting going on them now!",
    "created_at": "2014-09-16T17:29:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272261",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:56'></a>
Thanks for all this Karl. I'm getting going on them now!



---

archive/issue_comments_272262.json:
```json
{
    "body": "<a id='comment:57'></a>\nReplying to [kcrisman](#comment%3A54):\n> Another possible (minor) point:\n> \n> ```\n> while len([s for s in suitors if s.partner is False]) != 0:\n> ```\n> maybe it would be easier to use `not any()` for that instead of doing a couple comparisons?\n\n\nOr an `all()`. This or `not any()` will be faster to fail because it will short circuit out, whereas building the list (which takes time too) will do the full iteration over all suitors.",
    "created_at": "2014-09-16T17:48:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272262",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:57'></a>
Replying to [kcrisman](#comment%3A54):
> Another possible (minor) point:
> 
> ```
> while len([s for s in suitors if s.partner is False]) != 0:
> ```
> maybe it would be easier to use `not any()` for that instead of doing a couple comparisons?


Or an `all()`. This or `not any()` will be faster to fail because it will short circuit out, whereas building the list (which takes time too) will do the full iteration over all suitors.



---

archive/issue_comments_272263.json:
```json
{
    "body": "<a id='comment:58'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0663e1fb7fe7ec9650b2a7425ec9ef4ea7b6d70\">c0663e1</a></td><td><code>Using any statement instead of length test in algorithm</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f48a36edf189441332f79e713522c8f4d63c008f\">f48a36e</a></td><td><code>Have added doctests to eq, repr and solve</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ceb3802118125503bd230aae717f2afd01e646c3\">ceb3802</a></td><td><code>Got rid of -1 auto preferences in new players</code></td></tr></table>\n",
    "created_at": "2014-09-16T18:35:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272263",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0663e1fb7fe7ec9650b2a7425ec9ef4ea7b6d70">c0663e1</a></td><td><code>Using any statement instead of length test in algorithm</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f48a36edf189441332f79e713522c8f4d63c008f">f48a36e</a></td><td><code>Have added doctests to eq, repr and solve</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ceb3802118125503bd230aae717f2afd01e646c3">ceb3802</a></td><td><code>Got rid of -1 auto preferences in new players</code></td></tr></table>




---

archive/issue_comments_272264.json:
```json
{
    "body": "**Changing commit** from \"[0c19d87876a451c349448da3b27101f04162c985](https://github.com/sagemath/sagetrac-mirror/commit/0c19d87876a451c349448da3b27101f04162c985)\" to \"[ceb3802118125503bd230aae717f2afd01e646c3](https://github.com/sagemath/sagetrac-mirror/commit/ceb3802118125503bd230aae717f2afd01e646c3)\".",
    "created_at": "2014-09-16T18:35:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272264",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0c19d87876a451c349448da3b27101f04162c985](https://github.com/sagemath/sagetrac-mirror/commit/0c19d87876a451c349448da3b27101f04162c985)" to "[ceb3802118125503bd230aae717f2afd01e646c3](https://github.com/sagemath/sagetrac-mirror/commit/ceb3802118125503bd230aae717f2afd01e646c3)".



---

archive/issue_comments_272265.json:
```json
{
    "body": "<a id='comment:59'></a>\nThanks both, I've made the following changes:\n\n- Gone with `not all` statement on point raised above (much tidier)\n- Have added doctests to `__eq__`, `__repr__` and `solve` - I had (lazily) assumed that for smaller things and/or if there were a bunch of tests otherwise it was ok to omit. That was lazy and sloppy.\n- I agree that the `-1` auto prefs was a bit confusing. I've simply removed them and now the autoprefs is simply an empty list.\n\nWith regards to `is_complete`, I don't think there's any standard term (as it simply isn't well defined). This leads me to suggest `is_well_defined` or `is_coherent`. I personally prefer `is_well_defined`. Does that sound ok?",
    "created_at": "2014-09-16T18:40:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272265",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:59'></a>
Thanks both, I've made the following changes:

- Gone with `not all` statement on point raised above (much tidier)
- Have added doctests to `__eq__`, `__repr__` and `solve` - I had (lazily) assumed that for smaller things and/or if there were a bunch of tests otherwise it was ok to omit. That was lazy and sloppy.
- I agree that the `-1` auto prefs was a bit confusing. I've simply removed them and now the autoprefs is simply an empty list.

With regards to `is_complete`, I don't think there's any standard term (as it simply isn't well defined). This leads me to suggest `is_well_defined` or `is_coherent`. I personally prefer `is_well_defined`. Does that sound ok?



---

archive/issue_comments_272266.json:
```json
{
    "body": "<a id='comment:60'></a>\nSome notes on the recent commits. Please remove the list brackets in the `all` statement so it doesn't build the full list, so:\n\n```\nwhile not all(s.partner for s in suitors):\n```\nNote in these timings, there is a failure at the first entry:\n\n```\nsage: L = range(10000)\nsage: %timeit all([x for x in L])\n1000 loops, best of 3: 758 \u00b5s per loop\nsage: %timeit all(x for x in L)\n100000 loops, best of 3: 3.02 \u00b5s per loop\n```\n\nThe added doctests are formatted wrong. The tests themselves need one more level of indentation and it shoulds be `TESTS::` (mainly 2 colons).",
    "created_at": "2014-09-16T19:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272266",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:60'></a>
Some notes on the recent commits. Please remove the list brackets in the `all` statement so it doesn't build the full list, so:

```
while not all(s.partner for s in suitors):
```
Note in these timings, there is a failure at the first entry:

```
sage: L = range(10000)
sage: %timeit all([x for x in L])
1000 loops, best of 3: 758 µs per loop
sage: %timeit all(x for x in L)
100000 loops, best of 3: 3.02 µs per loop
```

The added doctests are formatted wrong. The tests themselves need one more level of indentation and it shoulds be `TESTS::` (mainly 2 colons).



---

archive/issue_comments_272267.json:
```json
{
    "body": "**Changing commit** from \"[ceb3802118125503bd230aae717f2afd01e646c3](https://github.com/sagemath/sagetrac-mirror/commit/ceb3802118125503bd230aae717f2afd01e646c3)\" to \"[7eaff65f2c0893b0dcbd1670d4f709a3dc6a1460](https://github.com/sagemath/sagetrac-mirror/commit/7eaff65f2c0893b0dcbd1670d4f709a3dc6a1460)\".",
    "created_at": "2014-09-16T19:52:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272267",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ceb3802118125503bd230aae717f2afd01e646c3](https://github.com/sagemath/sagetrac-mirror/commit/ceb3802118125503bd230aae717f2afd01e646c3)" to "[7eaff65f2c0893b0dcbd1670d4f709a3dc6a1460](https://github.com/sagemath/sagetrac-mirror/commit/7eaff65f2c0893b0dcbd1670d4f709a3dc6a1460)".



---

archive/issue_comments_272268.json:
```json
{
    "body": "<a id='comment:61'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7eaff65f2c0893b0dcbd1670d4f709a3dc6a1460\">7eaff65</a></td><td><code>Removing brackets for any and indenting docs</code></td></tr></table>\n",
    "created_at": "2014-09-16T19:52:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272268",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7eaff65f2c0893b0dcbd1670d4f709a3dc6a1460">7eaff65</a></td><td><code>Removing brackets for any and indenting docs</code></td></tr></table>




---

archive/issue_comments_272269.json:
```json
{
    "body": "<a id='comment:62'></a>\nReplying to [tscrim](#comment%3A60):\n> Some notes on the recent commits. Please remove the list brackets in the `all` statement so it doesn't build the full list, so:\n> \n> ```\n> while not all(s.partner for s in suitors):\n> ```\n> Note in these timings, there is a failure at the first entry:\n> \n> ```\n> sage: L = range(10000)\n> sage: %timeit all([x for x in L])\n> 1000 loops, best of 3: 758 \u00b5s per loop\n> sage: %timeit all(x for x in L)\n> 100000 loops, best of 3: 3.02 \u00b5s per loop\n> ```\n\n\nLearn something new every day: thanks. Have updated.\n> \n> The added doctests are formatted wrong. The tests themselves need one more level of indentation and it shoulds be `TESTS::` (mainly 2 colons).\n\n\nHave made your suggested modifications.\nSeem to be having issues building the docs though (this seems to be temperamental so might be something locally for me so going to go take a look at that now).",
    "created_at": "2014-09-16T19:54:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272269",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:62'></a>
Replying to [tscrim](#comment%3A60):
> Some notes on the recent commits. Please remove the list brackets in the `all` statement so it doesn't build the full list, so:
> 
> ```
> while not all(s.partner for s in suitors):
> ```
> Note in these timings, there is a failure at the first entry:
> 
> ```
> sage: L = range(10000)
> sage: %timeit all([x for x in L])
> 1000 loops, best of 3: 758 µs per loop
> sage: %timeit all(x for x in L)
> 100000 loops, best of 3: 3.02 µs per loop
> ```


Learn something new every day: thanks. Have updated.
> 
> The added doctests are formatted wrong. The tests themselves need one more level of indentation and it shoulds be `TESTS::` (mainly 2 colons).


Have made your suggested modifications.
Seem to be having issues building the docs though (this seems to be temperamental so might be something locally for me so going to go take a look at that now).



---

archive/issue_comments_272270.json:
```json
{
    "body": "**Changing commit** from \"[7eaff65f2c0893b0dcbd1670d4f709a3dc6a1460](https://github.com/sagemath/sagetrac-mirror/commit/7eaff65f2c0893b0dcbd1670d4f709a3dc6a1460)\" to \"[f07b29f3bab0810e7ec139230783d557f269c01e](https://github.com/sagemath/sagetrac-mirror/commit/f07b29f3bab0810e7ec139230783d557f269c01e)\".",
    "created_at": "2014-09-16T20:42:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272270",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7eaff65f2c0893b0dcbd1670d4f709a3dc6a1460](https://github.com/sagemath/sagetrac-mirror/commit/7eaff65f2c0893b0dcbd1670d4f709a3dc6a1460)" to "[f07b29f3bab0810e7ec139230783d557f269c01e](https://github.com/sagemath/sagetrac-mirror/commit/f07b29f3bab0810e7ec139230783d557f269c01e)".



---

archive/issue_comments_272271.json:
```json
{
    "body": "<a id='comment:63'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f07b29f3bab0810e7ec139230783d557f269c01e\">f07b29f</a></td><td><code>Docs now build</code></td></tr></table>\n",
    "created_at": "2014-09-16T20:42:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272271",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:63'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f07b29f3bab0810e7ec139230783d557f269c01e">f07b29f</a></td><td><code>Docs now build</code></td></tr></table>




---

archive/issue_comments_272272.json:
```json
{
    "body": "<a id='comment:64'></a>\nYou should revert the last change and instead remove the second colon from the `EXAMPLES::` since 2 colons tells sphinx to go into code/literal format. So things are like:\n\n```\nEXAMPLES::\n\n    sage: into_doctests_directly()\n\nSome text::\n\n    sage: more_doctests()\n```\nor\n\n```\nEXAMPLES:\n\nSome explanation::\n\n    sage: a_doctest()\n\nSome more details::\n\n    sage: another_test()\n```",
    "created_at": "2014-09-16T21:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272272",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:64'></a>
You should revert the last change and instead remove the second colon from the `EXAMPLES::` since 2 colons tells sphinx to go into code/literal format. So things are like:

```
EXAMPLES::

    sage: into_doctests_directly()

Some text::

    sage: more_doctests()
```
or

```
EXAMPLES:

Some explanation::

    sage: a_doctest()

Some more details::

    sage: another_test()
```



---

archive/issue_comments_272273.json:
```json
{
    "body": "**Changing commit** from \"[f07b29f3bab0810e7ec139230783d557f269c01e](https://github.com/sagemath/sagetrac-mirror/commit/f07b29f3bab0810e7ec139230783d557f269c01e)\" to \"[cf09cbb3d7478df55592e86e72f335b32396c5c4](https://github.com/sagemath/sagetrac-mirror/commit/cf09cbb3d7478df55592e86e72f335b32396c5c4)\".",
    "created_at": "2014-09-16T21:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272273",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f07b29f3bab0810e7ec139230783d557f269c01e](https://github.com/sagemath/sagetrac-mirror/commit/f07b29f3bab0810e7ec139230783d557f269c01e)" to "[cf09cbb3d7478df55592e86e72f335b32396c5c4](https://github.com/sagemath/sagetrac-mirror/commit/cf09cbb3d7478df55592e86e72f335b32396c5c4)".



---

archive/issue_comments_272274.json:
```json
{
    "body": "<a id='comment:65'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf09cbb3d7478df55592e86e72f335b32396c5c4\">cf09cbb</a></td><td><code>docs now build properly</code></td></tr></table>\n",
    "created_at": "2014-09-16T21:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272274",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:65'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf09cbb3d7478df55592e86e72f335b32396c5c4">cf09cbb</a></td><td><code>docs now build properly</code></td></tr></table>




---

archive/issue_comments_272275.json:
```json
{
    "body": "<a id='comment:66'></a>\nReplying to [tscrim](#comment%3A64):\n> You should revert the last change and instead remove the second colon from the `EXAMPLES::` since 2 colons tells sphinx to go into code/literal format. So things are like:\n> \n> ```\n> EXAMPLES::\n> \n>     sage: into_doctests_directly()\n> \n> Some text::\n> \n>     sage: more_doctests()\n> ```\n> or\n> \n> ```\n> EXAMPLES:\n> \n> Some explanation::\n> \n>     sage: a_doctest()\n> \n> Some more details::\n> \n>     sage: another_test()\n> ```\n\n\nThanks Travis, that explanation is super appreciated, after reverting and changing I had to `push -f` hopefully that hasn't broken absolutely everything git wise...",
    "created_at": "2014-09-16T21:30:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272275",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:66'></a>
Replying to [tscrim](#comment%3A64):
> You should revert the last change and instead remove the second colon from the `EXAMPLES::` since 2 colons tells sphinx to go into code/literal format. So things are like:
> 
> ```
> EXAMPLES::
> 
>     sage: into_doctests_directly()
> 
> Some text::
> 
>     sage: more_doctests()
> ```
> or
> 
> ```
> EXAMPLES:
> 
> Some explanation::
> 
>     sage: a_doctest()
> 
> Some more details::
> 
>     sage: another_test()
> ```


Thanks Travis, that explanation is super appreciated, after reverting and changing I had to `push -f` hopefully that hasn't broken absolutely everything git wise...



---

archive/issue_comments_272276.json:
```json
{
    "body": "<a id='comment:67'></a>\nHere's some more things that come from a more detailed look:\n\n- You've created another folder for the game theory called `gametheory` whereas the existing folder `game_theory` should be used (also it is the better name IMO).\n- Is gambit (#16466) necessary for this ticket?\n- Never have mutable attributes public (with no leading underscore `_`, ex. `suitors` and `reviewers`). It's also good practice to not expose internal-use attributes.\n- Bipartite is one word, so change `bi_partite` to `bipartite`.\n- `_dict_game` doesn't have a doctest.\n- For the `__eq__` method of `_Player`, I think you're better comparing `name`. In particular, this would guarantee hash correctness (if `x == y`, then we must have `hash(x) == hash(y)`).\n- Remove the leading underscore of `_Player` so it gets included in the doc (at least, I think it won't get included as is), and it's the proper convention for classes. See the following note too.\n- In the `all.py`, it's not good practice to import everything in a particular module (file) as it makes it harder to import things into the global namespace.\n- In the `__init__.py`, you don't need to `import all` (usually these files are left blank).\n- Make `_Player` inherit from `object` since new-style classes are recommended by python (or at least remove those parentheses). Same for `Coop_Game`.\n- Rename `Coop_Game` to `CoopGame`; the latter is the proper naming convention for classes.\n- Actually, more generally in your code you've mixed the python conventions: classes follow `CamelCase` and functions/attributes/variables use `underscore_names`.\n- `cooperativegames.py` (which probably should be renamed as `cooperative_games.py` for easier reading) is lacking doctests. Actually, is this redundant from `game_theory/cooperative_game.py`?\n- Doc formatting:\n\n```\n-``name`` - Can be a string or a number. If left blank will automatically\n            generate an integer.\n```\n  should be\n\n```\n- ``name`` -- a string or a number; if left blank will automatically\n  generate an integer\n```\n  Note the punctuation, spacing, and alignment. Also change `: ::` into `::` (this was noted by Karl on another ticket I believe).\n- More on the docs, please make the short description into the affirmative (I think this is the right word). So `Raises` to `Raise`, `Constructs` to `Construct`, etc. It's a python convention.\n\nI'll take another look once all of this is done.\n\nA category-type question: Does it make sense to talk about the set of all games on a fixed set of players? If so, is there some notion of a morphism? I did some searching and came across [this article](http://www.pps.univ-paris-diderot.fr/~mh/catgames.pdf) describing a category for a particular class of games. So perhaps (on a future ticket) we reorganize everything into using the category framework. This is more food for thought.",
    "created_at": "2014-09-20T17:48:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272276",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:67'></a>
Here's some more things that come from a more detailed look:

- You've created another folder for the game theory called `gametheory` whereas the existing folder `game_theory` should be used (also it is the better name IMO).
- Is gambit (#16466) necessary for this ticket?
- Never have mutable attributes public (with no leading underscore `_`, ex. `suitors` and `reviewers`). It's also good practice to not expose internal-use attributes.
- Bipartite is one word, so change `bi_partite` to `bipartite`.
- `_dict_game` doesn't have a doctest.
- For the `__eq__` method of `_Player`, I think you're better comparing `name`. In particular, this would guarantee hash correctness (if `x == y`, then we must have `hash(x) == hash(y)`).
- Remove the leading underscore of `_Player` so it gets included in the doc (at least, I think it won't get included as is), and it's the proper convention for classes. See the following note too.
- In the `all.py`, it's not good practice to import everything in a particular module (file) as it makes it harder to import things into the global namespace.
- In the `__init__.py`, you don't need to `import all` (usually these files are left blank).
- Make `_Player` inherit from `object` since new-style classes are recommended by python (or at least remove those parentheses). Same for `Coop_Game`.
- Rename `Coop_Game` to `CoopGame`; the latter is the proper naming convention for classes.
- Actually, more generally in your code you've mixed the python conventions: classes follow `CamelCase` and functions/attributes/variables use `underscore_names`.
- `cooperativegames.py` (which probably should be renamed as `cooperative_games.py` for easier reading) is lacking doctests. Actually, is this redundant from `game_theory/cooperative_game.py`?
- Doc formatting:

```
-``name`` - Can be a string or a number. If left blank will automatically
            generate an integer.
```
  should be

```
- ``name`` -- a string or a number; if left blank will automatically
  generate an integer
```
  Note the punctuation, spacing, and alignment. Also change `: ::` into `::` (this was noted by Karl on another ticket I believe).
- More on the docs, please make the short description into the affirmative (I think this is the right word). So `Raises` to `Raise`, `Constructs` to `Construct`, etc. It's a python convention.

I'll take another look once all of this is done.

A category-type question: Does it make sense to talk about the set of all games on a fixed set of players? If so, is there some notion of a morphism? I did some searching and came across [this article](http://www.pps.univ-paris-diderot.fr/~mh/catgames.pdf) describing a category for a particular class of games. So perhaps (on a future ticket) we reorganize everything into using the category framework. This is more food for thought.



---

archive/issue_comments_272277.json:
```json
{
    "body": "<a id='comment:68'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0cea94d5f2d4494fd914f67323b833b73b85ee4\">c0cea94</a></td><td><code>deleting gametheory folder</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a2ac206e3b43c5c1242f2ea465a48bb70f68111\">4a2ac20</a></td><td><code>moved `_dict_`game to `__init__` to make testing more straightforward</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc036e9cfdc8d9b98d8b549c9493f070493c53d8\">fc036e9</a></td><td><code>Removing junk line from init.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b90c52c2e235a6dcfc15d0761456b1aa7b3e54f\">9b90c52</a></td><td><code>renaming bi_partite to bipartite</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4a7a6f0b74621092011ff57f62ea328a1584cad\">b4a7a6f</a></td><td><code>Making Player object a SageObject</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ded192dd048aa04d6430ff975b2800b0a70736de\">ded192d</a></td><td><code>Tweak of doc formatting</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe75fa6883bb28e6197e814975e6799c9ce33d22\">fe75fa6</a></td><td><code>Tweak of doc formatting</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22469f526da09e9790968c51d914bcb078e379b1\">22469f5</a></td><td><code>fixed : :: issue</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47c7d0ac11233747958fedc607890e39a5fb3906\">47c7d0a</a></td><td><code>Changing short doc descriptions to affirmative</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/197c9ae815c4753b5fc3681b1d1a651667289ecc\">197c9ae</a></td><td><code>Changing _Player to Player</code></td></tr></table>\n",
    "created_at": "2014-09-20T20:40:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272277",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:68'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0cea94d5f2d4494fd914f67323b833b73b85ee4">c0cea94</a></td><td><code>deleting gametheory folder</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a2ac206e3b43c5c1242f2ea465a48bb70f68111">4a2ac20</a></td><td><code>moved `_dict_`game to `__init__` to make testing more straightforward</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc036e9cfdc8d9b98d8b549c9493f070493c53d8">fc036e9</a></td><td><code>Removing junk line from init.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b90c52c2e235a6dcfc15d0761456b1aa7b3e54f">9b90c52</a></td><td><code>renaming bi_partite to bipartite</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4a7a6f0b74621092011ff57f62ea328a1584cad">b4a7a6f</a></td><td><code>Making Player object a SageObject</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ded192dd048aa04d6430ff975b2800b0a70736de">ded192d</a></td><td><code>Tweak of doc formatting</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe75fa6883bb28e6197e814975e6799c9ce33d22">fe75fa6</a></td><td><code>Tweak of doc formatting</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22469f526da09e9790968c51d914bcb078e379b1">22469f5</a></td><td><code>fixed : :: issue</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47c7d0ac11233747958fedc607890e39a5fb3906">47c7d0a</a></td><td><code>Changing short doc descriptions to affirmative</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/197c9ae815c4753b5fc3681b1d1a651667289ecc">197c9ae</a></td><td><code>Changing _Player to Player</code></td></tr></table>




---

archive/issue_comments_272278.json:
```json
{
    "body": "**Changing commit** from \"[cf09cbb3d7478df55592e86e72f335b32396c5c4](https://github.com/sagemath/sagetrac-mirror/commit/cf09cbb3d7478df55592e86e72f335b32396c5c4)\" to \"[197c9ae815c4753b5fc3681b1d1a651667289ecc](https://github.com/sagemath/sagetrac-mirror/commit/197c9ae815c4753b5fc3681b1d1a651667289ecc)\".",
    "created_at": "2014-09-20T20:40:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272278",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cf09cbb3d7478df55592e86e72f335b32396c5c4](https://github.com/sagemath/sagetrac-mirror/commit/cf09cbb3d7478df55592e86e72f335b32396c5c4)" to "[197c9ae815c4753b5fc3681b1d1a651667289ecc](https://github.com/sagemath/sagetrac-mirror/commit/197c9ae815c4753b5fc3681b1d1a651667289ecc)".



---

archive/issue_comments_272279.json:
```json
{
    "body": "<a id='comment:69'></a>\nReplying to [tscrim](#comment%3A67):\n> Here's some more things that come from a more detailed look:\n\n>\n> - You've created another folder for the game theory called `gametheory` whereas the existing folder `game_theory` should be used (also it is the better name IMO).\n\n\nThat shouldn't be there: have deleted.\n\n> - Is gambit (#16466) necessary for this ticket?\n\n\nNo, this has nothing to do with #16466, is it looking like it does?\n\n> - Never have mutable attributes public (with no leading underscore `_`, ex. `suitors` and `reviewers`). It's also good practice to not expose internal-use attributes.\n\n\nI mentioned to Karl that at times it might be nice to be able to access these. Kind of like in lines 147 onwards of the docs: `sage: from itertools import permutations ...`. Happy to remove if you guys don't think that's a good idea.\n\n> - Bipartite is one word, so change `bi_partite` to `bipartite`.\n\n\nEasy fix: done.\n\n> - `_dict_game` doesn't have a doctest.\n\n\nTesting this was rather tricky as it was 'just something' that works in `__init__` so I've moved it to `__init__` which makes it easier to doc-test (I added another doc test there).\n\n> - For the `__eq__` method of `_Player`, I think you're better comparing `name`. In particular, this would guarantee hash correctness (if `x == y`, then we must have `hash(x) == hash(y)`).\n\n\nBy using `.__repr__()` this allows us to test equality not only against another player instance but also against a name of player which is the values in the dictionaries... Changing this would require a re-write of the dictionary that holds the preferences... This isn't necessarily impossible but just checking if it's really necessary?\n\n> - Remove the leading underscore of `_Player` so it gets included in the doc (at least, I think it won't get included as is), and it's the proper convention for classes. See the following note too.\n\n\nDone, although just confirming that we want `Player` to appear in the docs? This is only meant to be used internally really.\n\n> - In the `all.py`, it's not good practice to import everything in a particular module (file) as it makes it harder to import things into the global namespace.\n\n\nThis shouldn't be there. Maybe it was in `gametheory`...\n\n> - In the `__init__.py`, you don't need to `import all` (usually these files are left blank).\n\n\nDone.\n\n> - Make `_Player` inherit from `object` since new-style classes are recommended by python (or at least remove those parentheses). Same for `Coop_Game`.\n\n\n`Coop_Game` must have been in `gametheory`, have made `_Player` inherit from `SageObject`.\n\n> - Rename `Coop_Game` to `CoopGame`; the latter is the proper naming convention for classes.\n\n\n`Coop_Game` doesn't exist (anymore). (Or shouldn't if it does).\n\n> - Actually, more generally in your code you've mixed the python conventions: classes follow `CamelCase` and functions/attributes/variables use `underscore_names`.\n\n\nI believe to have caught these now.\n\n> - `cooperativegames.py` (which probably should be renamed as `cooperative_games.py` for easier reading) is lacking doctests. Actually, is this redundant from `game_theory/cooperative_game.py`?\n\n\nYes it's redundant (have removed `gametheory`). Sorry...\n\n> - Doc formatting:\n> \n> ```\n> -``name`` - Can be a string or a number. If left blank will automatically\n>             generate an integer.\n> ```\n>   should be\n> \n> ```\n> - ``name`` -- a string or a number; if left blank will automatically\n>   generate an integer\n> ```\n\n\nDone.\n\n>   Note the punctuation, spacing, and alignment. Also change `: ::` into `::` (this was noted by Karl on another ticket I believe).\n\n\nDone.\n\n> - More on the docs, please make the short description into the affirmative (I think this is the right word). So `Raises` to `Raise`, `Constructs` to `Construct`, etc. It's a python convention.\n\n\nI think I've caught all these.\n>\n> I'll take another look once all of this is done.\n>\n> A category-type question: Does it make sense to talk about the set of all games on a fixed set of players? If so, is there some notion of a morphism? I did some searching and came across [this article](http://www.pps.univ-paris-diderot.fr/~mh/catgames.pdf) describing a category for a particular class of games. So perhaps (on a future ticket) we reorganize everything into using the category framework. This is more food for thought.\n\n\nGreat question, probably not enough in my area of expertise to be able answer straight away but will think about it.",
    "created_at": "2014-09-20T20:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272279",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:69'></a>
Replying to [tscrim](#comment%3A67):
> Here's some more things that come from a more detailed look:

>
> - You've created another folder for the game theory called `gametheory` whereas the existing folder `game_theory` should be used (also it is the better name IMO).


That shouldn't be there: have deleted.

> - Is gambit (#16466) necessary for this ticket?


No, this has nothing to do with #16466, is it looking like it does?

> - Never have mutable attributes public (with no leading underscore `_`, ex. `suitors` and `reviewers`). It's also good practice to not expose internal-use attributes.


I mentioned to Karl that at times it might be nice to be able to access these. Kind of like in lines 147 onwards of the docs: `sage: from itertools import permutations ...`. Happy to remove if you guys don't think that's a good idea.

> - Bipartite is one word, so change `bi_partite` to `bipartite`.


Easy fix: done.

> - `_dict_game` doesn't have a doctest.


Testing this was rather tricky as it was 'just something' that works in `__init__` so I've moved it to `__init__` which makes it easier to doc-test (I added another doc test there).

> - For the `__eq__` method of `_Player`, I think you're better comparing `name`. In particular, this would guarantee hash correctness (if `x == y`, then we must have `hash(x) == hash(y)`).


By using `.__repr__()` this allows us to test equality not only against another player instance but also against a name of player which is the values in the dictionaries... Changing this would require a re-write of the dictionary that holds the preferences... This isn't necessarily impossible but just checking if it's really necessary?

> - Remove the leading underscore of `_Player` so it gets included in the doc (at least, I think it won't get included as is), and it's the proper convention for classes. See the following note too.


Done, although just confirming that we want `Player` to appear in the docs? This is only meant to be used internally really.

> - In the `all.py`, it's not good practice to import everything in a particular module (file) as it makes it harder to import things into the global namespace.


This shouldn't be there. Maybe it was in `gametheory`...

> - In the `__init__.py`, you don't need to `import all` (usually these files are left blank).


Done.

> - Make `_Player` inherit from `object` since new-style classes are recommended by python (or at least remove those parentheses). Same for `Coop_Game`.


`Coop_Game` must have been in `gametheory`, have made `_Player` inherit from `SageObject`.

> - Rename `Coop_Game` to `CoopGame`; the latter is the proper naming convention for classes.


`Coop_Game` doesn't exist (anymore). (Or shouldn't if it does).

> - Actually, more generally in your code you've mixed the python conventions: classes follow `CamelCase` and functions/attributes/variables use `underscore_names`.


I believe to have caught these now.

> - `cooperativegames.py` (which probably should be renamed as `cooperative_games.py` for easier reading) is lacking doctests. Actually, is this redundant from `game_theory/cooperative_game.py`?


Yes it's redundant (have removed `gametheory`). Sorry...

> - Doc formatting:
> 
> ```
> -``name`` - Can be a string or a number. If left blank will automatically
>             generate an integer.
> ```
>   should be
> 
> ```
> - ``name`` -- a string or a number; if left blank will automatically
>   generate an integer
> ```


Done.

>   Note the punctuation, spacing, and alignment. Also change `: ::` into `::` (this was noted by Karl on another ticket I believe).


Done.

> - More on the docs, please make the short description into the affirmative (I think this is the right word). So `Raises` to `Raise`, `Constructs` to `Construct`, etc. It's a python convention.


I think I've caught all these.
>
> I'll take another look once all of this is done.
>
> A category-type question: Does it make sense to talk about the set of all games on a fixed set of players? If so, is there some notion of a morphism? I did some searching and came across [this article](http://www.pps.univ-paris-diderot.fr/~mh/catgames.pdf) describing a category for a particular class of games. So perhaps (on a future ticket) we reorganize everything into using the category framework. This is more food for thought.


Great question, probably not enough in my area of expertise to be able answer straight away but will think about it.



---

archive/issue_comments_272280.json:
```json
{
    "body": "<a id='comment:70'></a>\nI asked about the gambit stuff because the spkg data is a part of the branch.\n\nFor the `__eq__` of `Player`, I would rewrite this as\n\n```python\nif isinstance(other, Player):\n    return self.name == other.name\nreturn self.name == other\n```\nThis is faster in general if `name` is some \"horrible\" object with a (relatively) hard to compute `repr` but easy equality testing (most Sage parents fall into this category due to `EqualityById`). It should be on the same order of speed and is less fragile (I believe there are objects in Sage with the same string repr but different hashes).\n\nThe `import all` was in `gametheory` (although it is in the `game_theory/__init__.py` because I didn't check there when looking at the initial ticket).\n\nIt's probably overkill to have `Player` inherit from `SageObject`; just the python `object` should be sufficient.",
    "created_at": "2014-09-20T20:58:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272280",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:70'></a>
I asked about the gambit stuff because the spkg data is a part of the branch.

For the `__eq__` of `Player`, I would rewrite this as

```python
if isinstance(other, Player):
    return self.name == other.name
return self.name == other
```
This is faster in general if `name` is some "horrible" object with a (relatively) hard to compute `repr` but easy equality testing (most Sage parents fall into this category due to `EqualityById`). It should be on the same order of speed and is less fragile (I believe there are objects in Sage with the same string repr but different hashes).

The `import all` was in `gametheory` (although it is in the `game_theory/__init__.py` because I didn't check there when looking at the initial ticket).

It's probably overkill to have `Player` inherit from `SageObject`; just the python `object` should be sufficient.



---

archive/issue_comments_272281.json:
```json
{
    "body": "<a id='comment:71'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d99b5a53b401b40a95c4658d7c7dffd2a294525f\">d99b5a5</a></td><td><code>Fixed eq to not use repr</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/126315eee7f5c290beead0e29267afa41d128035\">126315e</a></td><td><code>Making player inherit from python object</code></td></tr></table>\n",
    "created_at": "2014-09-20T21:40:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272281",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:71'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d99b5a53b401b40a95c4658d7c7dffd2a294525f">d99b5a5</a></td><td><code>Fixed eq to not use repr</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/126315eee7f5c290beead0e29267afa41d128035">126315e</a></td><td><code>Making player inherit from python object</code></td></tr></table>




---

archive/issue_comments_272282.json:
```json
{
    "body": "**Changing commit** from \"[197c9ae815c4753b5fc3681b1d1a651667289ecc](https://github.com/sagemath/sagetrac-mirror/commit/197c9ae815c4753b5fc3681b1d1a651667289ecc)\" to \"[126315eee7f5c290beead0e29267afa41d128035](https://github.com/sagemath/sagetrac-mirror/commit/126315eee7f5c290beead0e29267afa41d128035)\".",
    "created_at": "2014-09-20T21:40:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272282",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[197c9ae815c4753b5fc3681b1d1a651667289ecc](https://github.com/sagemath/sagetrac-mirror/commit/197c9ae815c4753b5fc3681b1d1a651667289ecc)" to "[126315eee7f5c290beead0e29267afa41d128035](https://github.com/sagemath/sagetrac-mirror/commit/126315eee7f5c290beead0e29267afa41d128035)".



---

archive/issue_comments_272283.json:
```json
{
    "body": "<a id='comment:72'></a>\nReplying to [tscrim](#comment%3A70):\n> I asked about the gambit stuff because the spkg data is a part of the branch.\n\n\nOh no... Does this create a mess? Is the easiest thing for me to do to branch from `develop` and simply include the code?\n\n> \n> For the `__eq__` of `Player`, I would rewrite this as\n> \n> ```python\n> if isinstance(other, Player):\n>     return self.name == other.name\n> return self.name == other\n> ```\n> This is faster in general if `name` is some \"horrible\" object with a (relatively) hard to compute `repr` but easy equality testing (most Sage parents fall into this category due to `EqualityById`). It should be on the same order of speed and is less fragile (I believe there are objects in Sage with the same string repr but different hashes).\n\n\nThis is done now, it looks much nicer as well.\n\n> \n> The `import all` was in `gametheory` (although it is in the `game_theory/__init__.py` because I didn't check there when looking at the initial ticket).\n\n\nI don't believe it's in `game_theory/__init__.py` anymore...\n\n> \n> It's probably overkill to have `Player` inherit from `SageObject`; just the python `object` should be sufficient.\n\n\nDone. Thanks a lot again for taking the time and explaining all this to me. Really appreciated.",
    "created_at": "2014-09-20T21:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272283",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:72'></a>
Replying to [tscrim](#comment%3A70):
> I asked about the gambit stuff because the spkg data is a part of the branch.


Oh no... Does this create a mess? Is the easiest thing for me to do to branch from `develop` and simply include the code?

> 
> For the `__eq__` of `Player`, I would rewrite this as
> 
> ```python
> if isinstance(other, Player):
>     return self.name == other.name
> return self.name == other
> ```
> This is faster in general if `name` is some "horrible" object with a (relatively) hard to compute `repr` but easy equality testing (most Sage parents fall into this category due to `EqualityById`). It should be on the same order of speed and is less fragile (I believe there are objects in Sage with the same string repr but different hashes).


This is done now, it looks much nicer as well.

> 
> The `import all` was in `gametheory` (although it is in the `game_theory/__init__.py` because I didn't check there when looking at the initial ticket).


I don't believe it's in `game_theory/__init__.py` anymore...

> 
> It's probably overkill to have `Player` inherit from `SageObject`; just the python `object` should be sufficient.


Done. Thanks a lot again for taking the time and explaining all this to me. Really appreciated.



---

archive/issue_comments_272284.json:
```json
{
    "body": "<a id='comment:73'></a>\nReplying to [vinceknight](#comment%3A72):\n> Replying to [tscrim](#comment%3A70):\n> > I asked about the gambit stuff because the spkg data is a part of the branch.\n\n> \n> Oh no... Does this create a mess? Is the easiest thing for me to do to branch from `develop` and simply include the code?\n\n\nOr can I just find the 'spkg data' (not sure where that is as James was the one who put that together - but I'm sure I can figure it out) and remove it?",
    "created_at": "2014-09-20T22:22:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272284",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:73'></a>
Replying to [vinceknight](#comment%3A72):
> Replying to [tscrim](#comment%3A70):
> > I asked about the gambit stuff because the spkg data is a part of the branch.

> 
> Oh no... Does this create a mess? Is the easiest thing for me to do to branch from `develop` and simply include the code?


Or can I just find the 'spkg data' (not sure where that is as James was the one who put that together - but I'm sure I can figure it out) and remove it?



---

archive/issue_comments_272285.json:
```json
{
    "body": "<a id='comment:74'></a>\nI'd just delete them and check (on a new temp branch) that once you merge in #16466, the spkg files are there (which I believe it should be okay from looking at the commit history).",
    "created_at": "2014-09-20T23:32:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272285",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:74'></a>
I'd just delete them and check (on a new temp branch) that once you merge in #16466, the spkg files are there (which I believe it should be okay from looking at the commit history).



---

archive/issue_comments_272286.json:
```json
{
    "body": "<a id='comment:75'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aae25ce141378189f73400f771951139aef304b3\">aae25ce</a></td><td><code>Removing spkg files for gambit which should not have been here</code></td></tr></table>\n",
    "created_at": "2014-09-21T09:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272286",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:75'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aae25ce141378189f73400f771951139aef304b3">aae25ce</a></td><td><code>Removing spkg files for gambit which should not have been here</code></td></tr></table>




---

archive/issue_comments_272287.json:
```json
{
    "body": "**Changing commit** from \"[126315eee7f5c290beead0e29267afa41d128035](https://github.com/sagemath/sagetrac-mirror/commit/126315eee7f5c290beead0e29267afa41d128035)\" to \"[aae25ce141378189f73400f771951139aef304b3](https://github.com/sagemath/sagetrac-mirror/commit/aae25ce141378189f73400f771951139aef304b3)\".",
    "created_at": "2014-09-21T09:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272287",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[126315eee7f5c290beead0e29267afa41d128035](https://github.com/sagemath/sagetrac-mirror/commit/126315eee7f5c290beead0e29267afa41d128035)" to "[aae25ce141378189f73400f771951139aef304b3](https://github.com/sagemath/sagetrac-mirror/commit/aae25ce141378189f73400f771951139aef304b3)".



---

archive/issue_comments_272288.json:
```json
{
    "body": "<a id='comment:76'></a>\nReplying to [tscrim](#comment%3A74):\n> I'd just delete them and check (on a new temp branch) that once you merge in #16466, the spkg files are there (which I believe it should be okay from looking at the commit history).\n\n\nCool, thanks, I've deleted the files and pushed. Sadly when I merged #16466 into a temp branch I got some merge conflicts (saying that the files were deleted in one branch).\n\nIf things are 'ok' in this branch I'd be tempted to leave it as is and worry about #16466 which we should probably just re-branch from develop? If I'm misunderstanding a future mess that might appear please let me know and I can just 're-branch' from develop for #16331...",
    "created_at": "2014-09-21T09:38:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272288",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:76'></a>
Replying to [tscrim](#comment%3A74):
> I'd just delete them and check (on a new temp branch) that once you merge in #16466, the spkg files are there (which I believe it should be okay from looking at the commit history).


Cool, thanks, I've deleted the files and pushed. Sadly when I merged #16466 into a temp branch I got some merge conflicts (saying that the files were deleted in one branch).

If things are 'ok' in this branch I'd be tempted to leave it as is and worry about #16466 which we should probably just re-branch from develop? If I'm misunderstanding a future mess that might appear please let me know and I can just 're-branch' from develop for #16331...



---

archive/issue_comments_272289.json:
```json
{
    "body": "<a id='comment:77'></a>\nReplying to [vinceknight](#comment%3A76):\n> Replying to [tscrim](#comment%3A74):\n> > I'd just delete them and check (on a new temp branch) that once you merge in #16466, the spkg files are there (which I believe it should be okay from looking at the commit history).\n\n> \n> Cool, thanks, I've deleted the files and pushed. Sadly when I merged #16466 into a temp branch I got some merge conflicts (saying that the files were deleted in one branch).\n\n>\n> If things are 'ok' in this branch I'd be tempted to leave it as is and worry about #16466 which we should probably just re-branch from develop? If I'm misunderstanding a future mess that might appear please let me know and I can just 're-branch' from develop for #16331...\n\n\nWell, at least it doesn't do it silently. So if we forget about it, the merge will remind us (and the conflict is easy enough to handle). I'll make another look-through today.",
    "created_at": "2014-09-21T14:13:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272289",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:77'></a>
Replying to [vinceknight](#comment%3A76):
> Replying to [tscrim](#comment%3A74):
> > I'd just delete them and check (on a new temp branch) that once you merge in #16466, the spkg files are there (which I believe it should be okay from looking at the commit history).

> 
> Cool, thanks, I've deleted the files and pushed. Sadly when I merged #16466 into a temp branch I got some merge conflicts (saying that the files were deleted in one branch).

>
> If things are 'ok' in this branch I'd be tempted to leave it as is and worry about #16466 which we should probably just re-branch from develop? If I'm misunderstanding a future mess that might appear please let me know and I can just 're-branch' from develop for #16331...


Well, at least it doesn't do it silently. So if we forget about it, the merge will remind us (and the conflict is easy enough to handle). I'll make another look-through today.



---

archive/issue_comments_272290.json:
```json
{
    "body": "**Changing commit** from \"[aae25ce141378189f73400f771951139aef304b3](https://github.com/sagemath/sagetrac-mirror/commit/aae25ce141378189f73400f771951139aef304b3)\" to \"[8b106a26407c51cd7676e9a2c62d488ea2fbe776](https://github.com/sagemath/sagetrac-mirror/commit/8b106a26407c51cd7676e9a2c62d488ea2fbe776)\".",
    "created_at": "2014-09-22T19:42:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272290",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[aae25ce141378189f73400f771951139aef304b3](https://github.com/sagemath/sagetrac-mirror/commit/aae25ce141378189f73400f771951139aef304b3)" to "[8b106a26407c51cd7676e9a2c62d488ea2fbe776](https://github.com/sagemath/sagetrac-mirror/commit/8b106a26407c51cd7676e9a2c62d488ea2fbe776)".



---

archive/issue_comments_272291.json:
```json
{
    "body": "<a id='comment:78'></a>\nI've made the following reviewer changes:\n\n- Speed/memory improvements to `solve`.\n- Output of `solve` doesn't wrap the players in a list.\n- Input to `MatchingGame` can be 2 arguments.\n- Added `__eq__` to `MatchingGame` so it pickles.\n- Made `MatchingGame` unhashable because it's mutable.\n- Made attributes of `MatchingGame` private. \n- Added a `suitors()` and `reviewers()` methods which return tuples.\n- Changed input to `Player` because they were unused.\n- Latex output.\n- Doc formatting.\n\nFYI - I also experimented with removing the `Player` class, but it didn't sit right with me.\n\nI'm thinking we should rename `bipartite` to the more explicit `bipartite_graph`. Do you agree?\n\nKarl, is there anything that you can see that needs to be addressed?\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/600c4dbe6bc134bc76c385fbfa01bb7b507e0142\">600c4db</a></td><td><code>Merge branch 'u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_' of trac.sagemath.org:sage into public/game_theory/solve_matching_games-16331</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f366ff31871acb8c5506d90af1edffe654ba72e5\">f366ff3</a></td><td><code>Formatting and doctest changes. Changed latex output.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6bd64cafa166cdc3422b4303ef44ef03c16cc517\">6bd64ca</a></td><td><code>Some cleanup and making all tests pass.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69c0e619571ac1c5cfed40c5205d3a351be10238\">69c0e61</a></td><td><code>Some more changes and improvements.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b106a26407c51cd7676e9a2c62d488ea2fbe776\">8b106a2</a></td><td><code>Reverted change `__repr__` to `_repr_`.</code></td></tr></table>\n",
    "created_at": "2014-09-22T19:42:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272291",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:78'></a>
I've made the following reviewer changes:

- Speed/memory improvements to `solve`.
- Output of `solve` doesn't wrap the players in a list.
- Input to `MatchingGame` can be 2 arguments.
- Added `__eq__` to `MatchingGame` so it pickles.
- Made `MatchingGame` unhashable because it's mutable.
- Made attributes of `MatchingGame` private. 
- Added a `suitors()` and `reviewers()` methods which return tuples.
- Changed input to `Player` because they were unused.
- Latex output.
- Doc formatting.

FYI - I also experimented with removing the `Player` class, but it didn't sit right with me.

I'm thinking we should rename `bipartite` to the more explicit `bipartite_graph`. Do you agree?

Karl, is there anything that you can see that needs to be addressed?

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/600c4dbe6bc134bc76c385fbfa01bb7b507e0142">600c4db</a></td><td><code>Merge branch 'u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_' of trac.sagemath.org:sage into public/game_theory/solve_matching_games-16331</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f366ff31871acb8c5506d90af1edffe654ba72e5">f366ff3</a></td><td><code>Formatting and doctest changes. Changed latex output.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6bd64cafa166cdc3422b4303ef44ef03c16cc517">6bd64ca</a></td><td><code>Some cleanup and making all tests pass.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69c0e619571ac1c5cfed40c5205d3a351be10238">69c0e61</a></td><td><code>Some more changes and improvements.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b106a26407c51cd7676e9a2c62d488ea2fbe776">8b106a2</a></td><td><code>Reverted change `__repr__` to `_repr_`.</code></td></tr></table>




---

archive/issue_comments_272292.json:
```json
{
    "body": "**Changing branch** from \"[u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_](https://github.com/sagemath/sagetrac-mirror/tree/u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_)\" to \"[public/game_theory/solve_matching_games-16331](https://github.com/sagemath/sagetrac-mirror/tree/public/game_theory/solve_matching_games-16331)\".",
    "created_at": "2014-09-22T19:42:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272292",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_](https://github.com/sagemath/sagetrac-mirror/tree/u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_)" to "[public/game_theory/solve_matching_games-16331](https://github.com/sagemath/sagetrac-mirror/tree/public/game_theory/solve_matching_games-16331)".



---

archive/issue_comments_272293.json:
```json
{
    "body": "<a id='comment:79'></a>\nNot yet, but I have not had time to try anything in Sage out the last few days (travel).  I would definitely like to retain prerogative to try looking at the most recent branch from scratch again, to make sure I didn't miss anything and it works properly, as well as to look at Travis' changes.  I might be able to get to that closer to the end of the week.  But scanning most of the changes as described in the comments it seems good, other than the idea to put game theory in the category framework - that is really very far away from nearly 100% of game theorists' thoughts, I can assure you, and would be an unneeded step to take at this time.",
    "created_at": "2014-09-22T20:39:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272293",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:79'></a>
Not yet, but I have not had time to try anything in Sage out the last few days (travel).  I would definitely like to retain prerogative to try looking at the most recent branch from scratch again, to make sure I didn't miss anything and it works properly, as well as to look at Travis' changes.  I might be able to get to that closer to the end of the week.  But scanning most of the changes as described in the comments it seems good, other than the idea to put game theory in the category framework - that is really very far away from nearly 100% of game theorists' thoughts, I can assure you, and would be an unneeded step to take at this time.



---

archive/issue_comments_272294.json:
```json
{
    "body": "<a id='comment:80'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/508d8193ea3d99dda90515bced36c8cd8e747224\">508d819</a></td><td><code>replaced bipartite with bipartite_graph</code></td></tr></table>\n",
    "created_at": "2014-09-23T10:46:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272294",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:80'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/508d8193ea3d99dda90515bced36c8cd8e747224">508d819</a></td><td><code>replaced bipartite with bipartite_graph</code></td></tr></table>




---

archive/issue_comments_272295.json:
```json
{
    "body": "**Changing commit** from \"[8b106a26407c51cd7676e9a2c62d488ea2fbe776](https://github.com/sagemath/sagetrac-mirror/commit/8b106a26407c51cd7676e9a2c62d488ea2fbe776)\" to \"[508d8193ea3d99dda90515bced36c8cd8e747224](https://github.com/sagemath/sagetrac-mirror/commit/508d8193ea3d99dda90515bced36c8cd8e747224)\".",
    "created_at": "2014-09-23T10:46:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272295",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8b106a26407c51cd7676e9a2c62d488ea2fbe776](https://github.com/sagemath/sagetrac-mirror/commit/8b106a26407c51cd7676e9a2c62d488ea2fbe776)" to "[508d8193ea3d99dda90515bced36c8cd8e747224](https://github.com/sagemath/sagetrac-mirror/commit/508d8193ea3d99dda90515bced36c8cd8e747224)".



---

archive/issue_comments_272296.json:
```json
{
    "body": "<a id='comment:81'></a>\nReplying to [tscrim](#comment%3A78):\n> I've made the following reviewer changes:\n> \n> - Speed/memory improvements to `solve`.\n> - Output of `solve` doesn't wrap the players in a list.\n> - Input to `MatchingGame` can be 2 arguments.\n> - Added `__eq__` to `MatchingGame` so it pickles.\n> - Made `MatchingGame` unhashable because it's mutable.\n> - Made attributes of `MatchingGame` private. \n> - Added a `suitors()` and `reviewers()` methods which return tuples.\n> - Changed input to `Player` because they were unused.\n> - Latex output.\n> - Doc formatting.\n\n\nThese all look awesome: thanks!\n> \n> FYI - I also experimented with removing the `Player` class, but it didn't sit right with me.\n> \n> I'm thinking we should rename `bipartite` to the more explicit `bipartite_graph`. Do you agree?\n\n\nI went ahead and changed this as I thought it sounded way better.\n\nThanks a lot Travis (very much appreciated). Karl, thanks again for finding the time, please let me know if there's anything I can help with (I should be pushing to #16954 hopefully by end of tomorrow if not tonight).\n\n(By the way I am completely confused as to how to push to trac using `git push trac...`I seem to try a bunch of combinations of `HEAD:u/[stuff]`, some times it doesn't go, sometimes it seems to push to something but who knows where and sometimes it gets here... I've read the docs on this multiple times but that doesn't seem to clarify things for me... Any tips? <- This is probably not a question for trac).",
    "created_at": "2014-09-23T10:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272296",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:81'></a>
Replying to [tscrim](#comment%3A78):
> I've made the following reviewer changes:
> 
> - Speed/memory improvements to `solve`.
> - Output of `solve` doesn't wrap the players in a list.
> - Input to `MatchingGame` can be 2 arguments.
> - Added `__eq__` to `MatchingGame` so it pickles.
> - Made `MatchingGame` unhashable because it's mutable.
> - Made attributes of `MatchingGame` private. 
> - Added a `suitors()` and `reviewers()` methods which return tuples.
> - Changed input to `Player` because they were unused.
> - Latex output.
> - Doc formatting.


These all look awesome: thanks!
> 
> FYI - I also experimented with removing the `Player` class, but it didn't sit right with me.
> 
> I'm thinking we should rename `bipartite` to the more explicit `bipartite_graph`. Do you agree?


I went ahead and changed this as I thought it sounded way better.

Thanks a lot Travis (very much appreciated). Karl, thanks again for finding the time, please let me know if there's anything I can help with (I should be pushing to #16954 hopefully by end of tomorrow if not tonight).

(By the way I am completely confused as to how to push to trac using `git push trac...`I seem to try a bunch of combinations of `HEAD:u/[stuff]`, some times it doesn't go, sometimes it seems to push to something but who knows where and sometimes it gets here... I've read the docs on this multiple times but that doesn't seem to clarify things for me... Any tips? <- This is probably not a question for trac).



---

archive/issue_comments_272297.json:
```json
{
    "body": "<a id='comment:82'></a>\nI can't even see the whole diff now on the branch link.  Huh?  And the list of commits is not so useful because of the very fine granularity and the many dependencies.\n\nEdit: http://git.sagemath.org/sage.git/log/src/sage/game_theory/matching_game.py?h=508d8193ea3d99dda90515bced36c8cd8e747224 seems to work best for this, and then https://github.com/sagemath/sagetrac-mirror/blob/master/src/sage/game_theory/matching_game.py?h=508d8193ea3d99dda90515bced36c8cd8e747224 for the actual file.",
    "created_at": "2014-10-24T16:30:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272297",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:82'></a>
I can't even see the whole diff now on the branch link.  Huh?  And the list of commits is not so useful because of the very fine granularity and the many dependencies.

Edit: http://git.sagemath.org/sage.git/log/src/sage/game_theory/matching_game.py?h=508d8193ea3d99dda90515bced36c8cd8e747224 seems to work best for this, and then https://github.com/sagemath/sagetrac-mirror/blob/master/src/sage/game_theory/matching_game.py?h=508d8193ea3d99dda90515bced36c8cd8e747224 for the actual file.



---

archive/issue_comments_272298.json:
```json
{
    "body": "<a id='comment:83'></a>\nI also get the same thing.  However if you want to see the diff, assuming you merged with `develop`, is to run `git diff develop` in the branch or `git diff develop your/local/name_of_branch` in any branch. If you haven't merged with `develop`, you can replace that with `6.4.beta3` or whatever beta version this is currently based off of (maybe `6.4.beta4`?).\n\nIn related news, ah crap, I've forgotten about what's left to do on all of the game theory tickets...will need to re-read things...",
    "created_at": "2014-10-24T21:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272298",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:83'></a>
I also get the same thing.  However if you want to see the diff, assuming you merged with `develop`, is to run `git diff develop` in the branch or `git diff develop your/local/name_of_branch` in any branch. If you haven't merged with `develop`, you can replace that with `6.4.beta3` or whatever beta version this is currently based off of (maybe `6.4.beta4`?).

In related news, ah crap, I've forgotten about what's left to do on all of the game theory tickets...will need to re-read things...



---

archive/issue_comments_272299.json:
```json
{
    "body": "<a id='comment:84'></a>\n> In related news, ah crap, I've forgotten about what's left to do on all of the game theory tickets...will need to re-read things...\n\nNo, no, I'm on top of it today/next week.  Plus, I actually work in this area ;-)  You go do some Lie algebras or job applications or thesis or something!  Thanks for your definite help on getting this in shape, I've already looked at things and the branch is in pretty good shape, it's just a matter of checking the math and such now, no more crazy branch worries like before.",
    "created_at": "2014-10-25T00:16:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272299",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:84'></a>
> In related news, ah crap, I've forgotten about what's left to do on all of the game theory tickets...will need to re-read things...

No, no, I'm on top of it today/next week.  Plus, I actually work in this area ;-)  You go do some Lie algebras or job applications or thesis or something!  Thanks for your definite help on getting this in shape, I've already looked at things and the branch is in pretty good shape, it's just a matter of checking the math and such now, no more crazy branch worries like before.



---

archive/issue_comments_272300.json:
```json
{
    "body": "<a id='comment:85'></a>\nReplying to [kcrisman](#comment%3A84):\n> No, no, I'm on top of it today/next week.  Plus, I actually work in this area ;-) You go do some Lie algebras or job applications or thesis or something!\n\n\nHaha, thanks! I'm doing all of the above in fact (something = teaching).\n\n> Thanks for your definite help on getting this in shape, I've already looked at things and the branch is in pretty good shape, it's just a matter of checking the math and such now, no more crazy branch worries like before.\n\n\nLet me know if there's anything else I can do.",
    "created_at": "2014-10-25T03:18:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272300",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:85'></a>
Replying to [kcrisman](#comment%3A84):
> No, no, I'm on top of it today/next week.  Plus, I actually work in this area ;-) You go do some Lie algebras or job applications or thesis or something!


Haha, thanks! I'm doing all of the above in fact (something = teaching).

> Thanks for your definite help on getting this in shape, I've already looked at things and the branch is in pretty good shape, it's just a matter of checking the math and such now, no more crazy branch worries like before.


Let me know if there's anything else I can do.



---

archive/issue_comments_272301.json:
```json
{
    "body": "<a id='comment:86'></a>\nReplying to [tscrim](#comment%3A85):\n> Replying to [kcrisman](#comment%3A84):\n> > No, no, I'm on top of it today/next week.  Plus, I actually work in this area ;-) You go do some Lie algebras or job applications or thesis or something!\n\n> \n> Haha, thanks! I'm doing all of the above in fact (something = teaching).\n> \n> > Thanks for your definite help on getting this in shape, I've already looked at things and the branch is in pretty good shape, it's just a matter of checking the math and such now, no more crazy branch worries like before.\n\n> \n> Let me know if there's anything else I can do.\n\n\nThanks both for looking/helping etc... Apologies again for the mess we got it in. If there's anything I can do please let me know.",
    "created_at": "2014-10-25T17:07:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272301",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:86'></a>
Replying to [tscrim](#comment%3A85):
> Replying to [kcrisman](#comment%3A84):
> > No, no, I'm on top of it today/next week.  Plus, I actually work in this area ;-) You go do some Lie algebras or job applications or thesis or something!

> 
> Haha, thanks! I'm doing all of the above in fact (something = teaching).
> 
> > Thanks for your definite help on getting this in shape, I've already looked at things and the branch is in pretty good shape, it's just a matter of checking the math and such now, no more crazy branch worries like before.

> 
> Let me know if there's anything else I can do.


Thanks both for looking/helping etc... Apologies again for the mess we got it in. If there's anything I can do please let me know.



---

archive/issue_comments_272302.json:
```json
{
    "body": "<a id='comment:87'></a>\nMore minor things.\n* Confused here:\n\n```\na bespoke creation of preferences\n```\n  Is this a Britishism I'm not aware of?\n* I feel like `revr` shouldn't be the name of just reviewers in this example but then not in the init... unless that is to support something along the lines of `MatchinGame(suit, revr)`, as the code implies?  But then that should be doctested.\n\n```\n\n    def `__init__`(self, generator, revr=None):\n        r\"\"\"\n        Initialize a matching game and check the inputs.\n\n        TESTS::\n\n            sage: suit = {0: (3, 4), 1: (3, 4)}\n            sage: revr = {3: (0, 1), 4: (1, 0)}\n            sage: g = MatchingGame([suit, revr])\n            sage: TestSuite(g).run()\n```\n  Indeed, all input methods should be mentioned fairly clearly somewhere at the top (maybe even an `INPUT` block?  Though this isn't a function... hmm) and you don't use this on in the huge useful top block either.  But in either case I am pretty sure that\n\n```\nTypeError(\"generator must be an integer or a pair of 2 dictionaries\")\n```\n  is wrong or not tested. \n* I'll let you figure out what is wrong with this one.  I guarantee that with correct input no one will ever notice it, though!\n\n```\n        return 'A matching game with {} suitors and {} reviewers'.format(\n                    len(self._reviewers), len(self._suitors))\n```\n* Really?\n\n```\n    def `__eq__`(self, other):\n        return (isinstance(other, MatchingGame)\n                and set(self._suitors) == set(other._suitors)\n                and set(self._reviewers) == set(other._reviewers))\n```\nBut... what about the preferences?  Is it still the same game if they are different?  (Maybe Travis asked this at some point.)\n* Has not, presumably.\n\n```\nRaise an error if the game has been solved yet.\n```\n* In `is_complete` I'd still really like some checks for preference tuples that are the \"wrong size\" somehow.  For instance, someone accidentally types in `(1,2,2,3)` instead of `(1,2,3)`.\n* I'm still not quite happy with the `add_suitor` (presumably also reviewer) default.   I like that you now have the error check for the name being doubled, but I think that the *automatic* addition of a suitor shouldn't raise this error.  If `name = len(self._suitors) + 1` raises that error, couldn't one just keep adding one until it works?  Sorry about asking this, but I just know we want to make this very user-friendly since most targeted users of this will not be as familiar with Sage or math programs...\n* I think you need some examples where someone creates a game, and then all of a sudden realizes they need to add (say) a suitor and reviewer, or maybe they just do them by hand, but anyway where they need to add preferences one at a time.  You don't really have a method for this, just `Player.pref` the list of preferences.  That should have several good examples.\n* Also, what if someone adds a player to a pre-existing game (well, two!) and then has to update **all** preferences to make it complete?  Is that possible or supported?  If not, how do we indicate this?\n\nI hope that continuing to ask these questions is okay.  Really it is already quite good, but I just want it to be great since it came from GSOC and because this is such new stuff.",
    "created_at": "2014-10-27T16:15:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272302",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:87'></a>
More minor things.
* Confused here:

```
a bespoke creation of preferences
```
  Is this a Britishism I'm not aware of?
* I feel like `revr` shouldn't be the name of just reviewers in this example but then not in the init... unless that is to support something along the lines of `MatchinGame(suit, revr)`, as the code implies?  But then that should be doctested.

```

    def `__init__`(self, generator, revr=None):
        r"""
        Initialize a matching game and check the inputs.

        TESTS::

            sage: suit = {0: (3, 4), 1: (3, 4)}
            sage: revr = {3: (0, 1), 4: (1, 0)}
            sage: g = MatchingGame([suit, revr])
            sage: TestSuite(g).run()
```
  Indeed, all input methods should be mentioned fairly clearly somewhere at the top (maybe even an `INPUT` block?  Though this isn't a function... hmm) and you don't use this on in the huge useful top block either.  But in either case I am pretty sure that

```
TypeError("generator must be an integer or a pair of 2 dictionaries")
```
  is wrong or not tested. 
* I'll let you figure out what is wrong with this one.  I guarantee that with correct input no one will ever notice it, though!

```
        return 'A matching game with {} suitors and {} reviewers'.format(
                    len(self._reviewers), len(self._suitors))
```
* Really?

```
    def `__eq__`(self, other):
        return (isinstance(other, MatchingGame)
                and set(self._suitors) == set(other._suitors)
                and set(self._reviewers) == set(other._reviewers))
```
But... what about the preferences?  Is it still the same game if they are different?  (Maybe Travis asked this at some point.)
* Has not, presumably.

```
Raise an error if the game has been solved yet.
```
* In `is_complete` I'd still really like some checks for preference tuples that are the "wrong size" somehow.  For instance, someone accidentally types in `(1,2,2,3)` instead of `(1,2,3)`.
* I'm still not quite happy with the `add_suitor` (presumably also reviewer) default.   I like that you now have the error check for the name being doubled, but I think that the *automatic* addition of a suitor shouldn't raise this error.  If `name = len(self._suitors) + 1` raises that error, couldn't one just keep adding one until it works?  Sorry about asking this, but I just know we want to make this very user-friendly since most targeted users of this will not be as familiar with Sage or math programs...
* I think you need some examples where someone creates a game, and then all of a sudden realizes they need to add (say) a suitor and reviewer, or maybe they just do them by hand, but anyway where they need to add preferences one at a time.  You don't really have a method for this, just `Player.pref` the list of preferences.  That should have several good examples.
* Also, what if someone adds a player to a pre-existing game (well, two!) and then has to update **all** preferences to make it complete?  Is that possible or supported?  If not, how do we indicate this?

I hope that continuing to ask these questions is okay.  Really it is already quite good, but I just want it to be great since it came from GSOC and because this is such new stuff.



---

archive/issue_comments_272303.json:
```json
{
    "body": "<a id='comment:88'></a>\nReplying to [kcrisman](#comment%3A87):\n> More minor things.\n> * Confused here:\n> \n> ```\n> a bespoke creation of preferences\n> ```\n>   Is this a Britishism I'm not aware of?\n> * I feel like `revr` shouldn't be the name of just reviewers in this example but then not in the init... unless that is to support something along the lines of `MatchinGame(suit, revr)`, as the code implies?  But then that should be doctested.\n> \n> ```\n> \n>     def `__init__`(self, generator, revr=None):\n>         r\"\"\"\n>         Initialize a matching game and check the inputs.\n> \n>         TESTS::\n> \n>             sage: suit = {0: (3, 4), 1: (3, 4)}\n>             sage: revr = {3: (0, 1), 4: (1, 0)}\n>             sage: g = MatchingGame([suit, revr])\n>             sage: TestSuite(g).run()\n> ```\n>   Indeed, all input methods should be mentioned fairly clearly somewhere at the top (maybe even an `INPUT` block?  Though this isn't a function... hmm) and you don't use this on in the huge useful top block either.  But in either case I am pretty sure that\n> \n> ```\n> TypeError(\"generator must be an integer or a pair of 2 dictionaries\")\n> ```\n>   is wrong or not tested. \n> * I'll let you figure out what is wrong with this one.  I guarantee that with correct input no one will ever notice it, though!\n> \n> ```\n>         return 'A matching game with {} suitors and {} reviewers'.format(\n>                     len(self._reviewers), len(self._suitors))\n> ```\n> * Really?\n> \n> ```\n>     def `__eq__`(self, other):\n>         return (isinstance(other, MatchingGame)\n>                 and set(self._suitors) == set(other._suitors)\n>                 and set(self._reviewers) == set(other._reviewers))\n> ```\n> But... what about the preferences?  Is it still the same game if they are different?  (Maybe Travis asked this at some point.)\n> * Has not, presumably.\n> \n> ```\n> Raise an error if the game has been solved yet.\n> ```\n> * In `is_complete` I'd still really like some checks for preference tuples that are the \"wrong size\" somehow.  For instance, someone accidentally types in `(1,2,2,3)` instead of `(1,2,3)`.\n> * I'm still not quite happy with the `add_suitor` (presumably also reviewer) default.   I like that you now have the error check for the name being doubled, but I think that the *automatic* addition of a suitor shouldn't raise this error.  If `name = len(self._suitors) + 1` raises that error, couldn't one just keep adding one until it works?  Sorry about asking this, but I just know we want to make this very user-friendly since most targeted users of this will not be as familiar with Sage or math programs...\n> * I think you need some examples where someone creates a game, and then all of a sudden realizes they need to add (say) a suitor and reviewer, or maybe they just do them by hand, but anyway where they need to add preferences one at a time.  You don't really have a method for this, just `Player.pref` the list of preferences.  That should have several good examples.\n> * Also, what if someone adds a player to a pre-existing game (well, two!) and then has to update **all** preferences to make it complete?  Is that possible or supported?  If not, how do we indicate this?\n> \n> I hope that continuing to ask these questions is okay.  Really it is already quite good, but I just want it to be great since it came from GSOC and because this is such new stuff.\n\n\nPlease do continue to ask! The questions and review are very much appreciated. We want to get it as close to perfect as possible.\n\nJames and I will chat about it and get on it this week some time! Thanks :)",
    "created_at": "2014-10-27T16:22:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272303",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:88'></a>
Replying to [kcrisman](#comment%3A87):
> More minor things.
> * Confused here:
> 
> ```
> a bespoke creation of preferences
> ```
>   Is this a Britishism I'm not aware of?
> * I feel like `revr` shouldn't be the name of just reviewers in this example but then not in the init... unless that is to support something along the lines of `MatchinGame(suit, revr)`, as the code implies?  But then that should be doctested.
> 
> ```
> 
>     def `__init__`(self, generator, revr=None):
>         r"""
>         Initialize a matching game and check the inputs.
> 
>         TESTS::
> 
>             sage: suit = {0: (3, 4), 1: (3, 4)}
>             sage: revr = {3: (0, 1), 4: (1, 0)}
>             sage: g = MatchingGame([suit, revr])
>             sage: TestSuite(g).run()
> ```
>   Indeed, all input methods should be mentioned fairly clearly somewhere at the top (maybe even an `INPUT` block?  Though this isn't a function... hmm) and you don't use this on in the huge useful top block either.  But in either case I am pretty sure that
> 
> ```
> TypeError("generator must be an integer or a pair of 2 dictionaries")
> ```
>   is wrong or not tested. 
> * I'll let you figure out what is wrong with this one.  I guarantee that with correct input no one will ever notice it, though!
> 
> ```
>         return 'A matching game with {} suitors and {} reviewers'.format(
>                     len(self._reviewers), len(self._suitors))
> ```
> * Really?
> 
> ```
>     def `__eq__`(self, other):
>         return (isinstance(other, MatchingGame)
>                 and set(self._suitors) == set(other._suitors)
>                 and set(self._reviewers) == set(other._reviewers))
> ```
> But... what about the preferences?  Is it still the same game if they are different?  (Maybe Travis asked this at some point.)
> * Has not, presumably.
> 
> ```
> Raise an error if the game has been solved yet.
> ```
> * In `is_complete` I'd still really like some checks for preference tuples that are the "wrong size" somehow.  For instance, someone accidentally types in `(1,2,2,3)` instead of `(1,2,3)`.
> * I'm still not quite happy with the `add_suitor` (presumably also reviewer) default.   I like that you now have the error check for the name being doubled, but I think that the *automatic* addition of a suitor shouldn't raise this error.  If `name = len(self._suitors) + 1` raises that error, couldn't one just keep adding one until it works?  Sorry about asking this, but I just know we want to make this very user-friendly since most targeted users of this will not be as familiar with Sage or math programs...
> * I think you need some examples where someone creates a game, and then all of a sudden realizes they need to add (say) a suitor and reviewer, or maybe they just do them by hand, but anyway where they need to add preferences one at a time.  You don't really have a method for this, just `Player.pref` the list of preferences.  That should have several good examples.
> * Also, what if someone adds a player to a pre-existing game (well, two!) and then has to update **all** preferences to make it complete?  Is that possible or supported?  If not, how do we indicate this?
> 
> I hope that continuing to ask these questions is okay.  Really it is already quite good, but I just want it to be great since it came from GSOC and because this is such new stuff.


Please do continue to ask! The questions and review are very much appreciated. We want to get it as close to perfect as possible.

James and I will chat about it and get on it this week some time! Thanks :)



---

archive/issue_comments_272304.json:
```json
{
    "body": "<a id='comment:89'></a>\nHere is another thing to think about - `src/doc/en/reference/game_theory/index.rst`.",
    "created_at": "2014-10-28T01:06:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272304",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:89'></a>
Here is another thing to think about - `src/doc/en/reference/game_theory/index.rst`.



---

archive/issue_comments_272305.json:
```json
{
    "body": "**Author:** Vince Knight, James Campbell",
    "created_at": "2014-10-28T14:04:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272305",
    "user": "https://github.com/kcrisman"
}
```

**Author:** Vince Knight, James Campbell



---

archive/issue_comments_272306.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2014-10-28T14:04:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272306",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_272307.json:
```json
{
    "body": "**Reviewer:** Karl-Dieter Crisman, Travis Scrimshaw",
    "created_at": "2014-10-28T14:04:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272307",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Karl-Dieter Crisman, Travis Scrimshaw



---

archive/issue_comments_272308.json:
```json
{
    "body": "<a id='comment:91'></a>\nI've had a look at `index.rst` but I'm not sure what exactly it is you want us to change. Looking at `games/index.rst` or `graphs/index.rst` we seem to be following the same format. Could you please explain what it is you want us to change, thank you!",
    "created_at": "2014-11-10T10:41:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272308",
    "user": "https://github.com/theref"
}
```

<a id='comment:91'></a>
I've had a look at `index.rst` but I'm not sure what exactly it is you want us to change. Looking at `games/index.rst` or `graphs/index.rst` we seem to be following the same format. Could you please explain what it is you want us to change, thank you!



---

archive/issue_comments_272309.json:
```json
{
    "body": "<a id='comment:92'></a>\n> I've had a look at `index.rst` but I'm not sure what exactly it is you want us to change. Looking at `games/index.rst` or `graphs/index.rst` we seem to be following the same format. Could you please explain what it is you want us to change, thank you!\n\nI think when I made that comment you didn't seem to have added this stuff to the reference manual, but looking at the changes now you have, so it's no longer relevant.",
    "created_at": "2014-11-10T13:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272309",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:92'></a>
> I've had a look at `index.rst` but I'm not sure what exactly it is you want us to change. Looking at `games/index.rst` or `graphs/index.rst` we seem to be following the same format. Could you please explain what it is you want us to change, thank you!

I think when I made that comment you didn't seem to have added this stuff to the reference manual, but looking at the changes now you have, so it's no longer relevant.



---

archive/issue_comments_272310.json:
```json
{
    "body": "**Changing branch** from \"[public/game_theory/solve_matching_games-16331](https://github.com/sagemath/sagetrac-mirror/tree/public/game_theory/solve_matching_games-16331)\" to \"[u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_](https://github.com/sagemath/sagetrac-mirror/tree/u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_)\".",
    "created_at": "2014-11-15T20:14:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272310",
    "user": "https://github.com/drvinceknight"
}
```

**Changing branch** from "[public/game_theory/solve_matching_games-16331](https://github.com/sagemath/sagetrac-mirror/tree/public/game_theory/solve_matching_games-16331)" to "[u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_](https://github.com/sagemath/sagetrac-mirror/tree/u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_)".



---

archive/issue_comments_272311.json:
```json
{
    "body": "<a id='comment:93'></a>\nReplying to [kcrisman](#comment%3A87):\n> More minor things.\n> * Confused here:\n> \n> ```\n> a bespoke creation of preferences\n> ```\n>   Is this a Britishism I'm not aware of?\n\n\nHave reworded and added more docs.\n\n> * I feel like `revr` shouldn't be the name of just reviewers in this example but then not in the init... unless that is to support something along the lines of `MatchinGame(suit, revr)`, as the code implies?  But then that should be doctested.\n> \n> ```\n> ```\n>     def `__init__`(self, generator, revr=None):\n>         r\"\"\"\n>         Initialize a matching game and check the inputs.\n\n>\n>         TESTS::\n\n>\n>             sage: suit = {0: (3, 4), 1: (3, 4)}\n>             sage: revr = {3: (0, 1), 4: (1, 0)}\n>             sage: g = MatchingGame([suit, revr])\n>             sage: TestSuite(g).run()\n\n> }}}\n>   Indeed, all input methods should be mentioned fairly clearly somewhere at the top (maybe even an `INPUT` block?  Though this isn't a function... hmm) and you don't use this on in the huge useful top block either.  But in either case I am pretty sure that\n\n> {{{\n> TypeError(\"generator must be an integer or a pair of 2 dictionaries\")\n> }}}\n>   is wrong or not tested.\n\n\nTests have been added now but I do think that we make use of this (apologies if I'm misunderstanding). This setup allows us to either pass a single number or a set of two dictionaries: both of these are used in the top block (although I've now added more) and are doctested?\nI've added the INPUT block to the top matter.\n\nI have a feeling that I'm misunderstanding you here: so I apologise.\n\n> * I'll let you figure out what is wrong with this one.  I guarantee that with correct input no one will ever notice it, though!\n> \n> ```\n>         return 'A matching game with {} suitors and {} reviewers'.format(\n>                     len(self._reviewers), len(self._suitors))\n> ```\n\n\nThis one actually took me a while to figure it out! Now fixed.\n\n> * Really?\n> \n> ```\n>     def `__eq__`(self, other):\n>         return (isinstance(other, MatchingGame)\n>                 and set(self._suitors) == set(other._suitors)\n>                 and set(self._reviewers) == set(other._reviewers))\n> ```\n> But... what about the preferences?  Is it still the same game if they are different?  (Maybe Travis asked this at some point.)\n\n\nLooking at git blame this is something that Travis put in so I'm not too sure. Maybe this has something to do with the TestSuite, which I also don't know much about...\nSorry to bring you back in to the conversation Travis?\n\nI've added in a test that currently fails when two games are created with reviewers and suitors with different preferences but won't change the code unless I'm missing something that Travis can clarify (it could just be easiest to remove the test if `__eq__` is in fact acting as it should. I'm happy to tweak the code if needed to make that test pass.\n\n> * Has not, presumably.\n> \n> ```\n> Raise an error if the game has been solved yet.\n> ```\n\n\nFixed.\n\n> * In `is_complete` I'd still really like some checks for preference tuples that are the \"wrong size\" somehow.  For instance, someone accidentally types in `(1,2,2,3)` instead of `(1,2,3)`.\n\n\nWe already have a check in there that ensures the size of both preference dictionaries are the same but I've now added one to check that you don't have any repetitions (for the particular case you've raised).\nI've tried to think of other cases but perhaps I'm missing them.\n\n> * I'm still not quite happy with the `add_suitor` (presumably also reviewer) default.   I like that you now have the error check for the name being doubled, but I think that the *automatic* addition of a suitor shouldn't raise this error.  If `name = len(self._suitors) + 1` raises that error, couldn't one just keep adding one until it works?  Sorry about asking this, but I just know we want to make this very user-friendly since most targeted users of this will not be as familiar with Sage or math programs...\n\n\nNo need to apologise at all: appreciate the in depth review.\nI have changed this so that the automatic addition of a suitor will find a name that's not already there.\n\n> * I think you need some examples where someone creates a game, and then all of a sudden realizes they need to add (say) a suitor and reviewer, or maybe they just do them by hand, but anyway where they need to add preferences one at a time.  You don't really have a method for this, just `Player.pref` the list of preferences.  That should have several good examples.\n\n\nThere is one example of adding all the preferences one at a time in the front matter: it's around the `is one example where the preferences are simply the corresponding` place (line 157: is that what you mean?).\nI'm adding another similar one re comment below but let me know if I've misunderstood.\n\n> * Also, what if someone adds a player to a pre-existing game (well, two!) and then has to update **all** preferences to make it complete?  Is that possible or supported?  If not, how do we indicate this?\n\n\nHave added a longer example showing this.\nNote that current behaviour means that if you were to 'mix and match' then the preferences are all wiped so you'd need to update them (the example shows this).\nThe main reason for this is to ensure that no confusion occurs (less chance of user error).\nI don't think that in practice this would happen to often as in practice if one has the preferences as dictionaries you would simply update the dictionaries and recreate a game.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03c87644fea6dbad4d2d7f2d3788e3d33d1e268d\">03c8764</a></td><td><code>Rewording use of bespoke and adding more docs and tests to clarify</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18d1a323b29d39c6eed8a6bb02eb592131ad5cc7\">18d1a32</a></td><td><code>Have added tests for generators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5a8888b85765cfc7ff36b27a023232807ba5bcc\">a5a8888</a></td><td><code>Adding INPUT block</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/268e046d219f9b6d09f715f078d8b058fa403639\">268e046</a></td><td><code>Fixing repr</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4c6b3f271f49499faabed8ea85b081d6df81863\">c4c6b3f</a></td><td><code>Adding test that fails for `__eq__` method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de2c6da4717ca9dded5c2c38d4a293a1ba8fe737\">de2c6da</a></td><td><code>Fixing missing word in docs for is_solved</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4d6fbea4a92988bc85a22cbe8a963b9502dc0ae\">b4d6fbe</a></td><td><code>Adding tests and code to pick up preferences that contain repetitions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/677fd68e39d068912c947d8a7431bd82a93f351d\">677fd68</a></td><td><code>Add reviewer and suitor default behaviour now makes sure names are not repeated</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27730d02de114bf1ea38f5b9a099198301fdd188\">27730d0</a></td><td><code>Writing a big example showing how to add reviewer/suitor to already created game</code></td></tr></table>\n",
    "created_at": "2014-11-15T20:14:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272311",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:93'></a>
Replying to [kcrisman](#comment%3A87):
> More minor things.
> * Confused here:
> 
> ```
> a bespoke creation of preferences
> ```
>   Is this a Britishism I'm not aware of?


Have reworded and added more docs.

> * I feel like `revr` shouldn't be the name of just reviewers in this example but then not in the init... unless that is to support something along the lines of `MatchinGame(suit, revr)`, as the code implies?  But then that should be doctested.
> 
> ```
> ```
>     def `__init__`(self, generator, revr=None):
>         r"""
>         Initialize a matching game and check the inputs.

>
>         TESTS::

>
>             sage: suit = {0: (3, 4), 1: (3, 4)}
>             sage: revr = {3: (0, 1), 4: (1, 0)}
>             sage: g = MatchingGame([suit, revr])
>             sage: TestSuite(g).run()

> }}}
>   Indeed, all input methods should be mentioned fairly clearly somewhere at the top (maybe even an `INPUT` block?  Though this isn't a function... hmm) and you don't use this on in the huge useful top block either.  But in either case I am pretty sure that

> {{{
> TypeError("generator must be an integer or a pair of 2 dictionaries")
> }}}
>   is wrong or not tested.


Tests have been added now but I do think that we make use of this (apologies if I'm misunderstanding). This setup allows us to either pass a single number or a set of two dictionaries: both of these are used in the top block (although I've now added more) and are doctested?
I've added the INPUT block to the top matter.

I have a feeling that I'm misunderstanding you here: so I apologise.

> * I'll let you figure out what is wrong with this one.  I guarantee that with correct input no one will ever notice it, though!
> 
> ```
>         return 'A matching game with {} suitors and {} reviewers'.format(
>                     len(self._reviewers), len(self._suitors))
> ```


This one actually took me a while to figure it out! Now fixed.

> * Really?
> 
> ```
>     def `__eq__`(self, other):
>         return (isinstance(other, MatchingGame)
>                 and set(self._suitors) == set(other._suitors)
>                 and set(self._reviewers) == set(other._reviewers))
> ```
> But... what about the preferences?  Is it still the same game if they are different?  (Maybe Travis asked this at some point.)


Looking at git blame this is something that Travis put in so I'm not too sure. Maybe this has something to do with the TestSuite, which I also don't know much about...
Sorry to bring you back in to the conversation Travis?

I've added in a test that currently fails when two games are created with reviewers and suitors with different preferences but won't change the code unless I'm missing something that Travis can clarify (it could just be easiest to remove the test if `__eq__` is in fact acting as it should. I'm happy to tweak the code if needed to make that test pass.

> * Has not, presumably.
> 
> ```
> Raise an error if the game has been solved yet.
> ```


Fixed.

> * In `is_complete` I'd still really like some checks for preference tuples that are the "wrong size" somehow.  For instance, someone accidentally types in `(1,2,2,3)` instead of `(1,2,3)`.


We already have a check in there that ensures the size of both preference dictionaries are the same but I've now added one to check that you don't have any repetitions (for the particular case you've raised).
I've tried to think of other cases but perhaps I'm missing them.

> * I'm still not quite happy with the `add_suitor` (presumably also reviewer) default.   I like that you now have the error check for the name being doubled, but I think that the *automatic* addition of a suitor shouldn't raise this error.  If `name = len(self._suitors) + 1` raises that error, couldn't one just keep adding one until it works?  Sorry about asking this, but I just know we want to make this very user-friendly since most targeted users of this will not be as familiar with Sage or math programs...


No need to apologise at all: appreciate the in depth review.
I have changed this so that the automatic addition of a suitor will find a name that's not already there.

> * I think you need some examples where someone creates a game, and then all of a sudden realizes they need to add (say) a suitor and reviewer, or maybe they just do them by hand, but anyway where they need to add preferences one at a time.  You don't really have a method for this, just `Player.pref` the list of preferences.  That should have several good examples.


There is one example of adding all the preferences one at a time in the front matter: it's around the `is one example where the preferences are simply the corresponding` place (line 157: is that what you mean?).
I'm adding another similar one re comment below but let me know if I've misunderstood.

> * Also, what if someone adds a player to a pre-existing game (well, two!) and then has to update **all** preferences to make it complete?  Is that possible or supported?  If not, how do we indicate this?


Have added a longer example showing this.
Note that current behaviour means that if you were to 'mix and match' then the preferences are all wiped so you'd need to update them (the example shows this).
The main reason for this is to ensure that no confusion occurs (less chance of user error).
I don't think that in practice this would happen to often as in practice if one has the preferences as dictionaries you would simply update the dictionaries and recreate a game.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03c87644fea6dbad4d2d7f2d3788e3d33d1e268d">03c8764</a></td><td><code>Rewording use of bespoke and adding more docs and tests to clarify</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18d1a323b29d39c6eed8a6bb02eb592131ad5cc7">18d1a32</a></td><td><code>Have added tests for generators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5a8888b85765cfc7ff36b27a023232807ba5bcc">a5a8888</a></td><td><code>Adding INPUT block</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/268e046d219f9b6d09f715f078d8b058fa403639">268e046</a></td><td><code>Fixing repr</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4c6b3f271f49499faabed8ea85b081d6df81863">c4c6b3f</a></td><td><code>Adding test that fails for `__eq__` method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de2c6da4717ca9dded5c2c38d4a293a1ba8fe737">de2c6da</a></td><td><code>Fixing missing word in docs for is_solved</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4d6fbea4a92988bc85a22cbe8a963b9502dc0ae">b4d6fbe</a></td><td><code>Adding tests and code to pick up preferences that contain repetitions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/677fd68e39d068912c947d8a7431bd82a93f351d">677fd68</a></td><td><code>Add reviewer and suitor default behaviour now makes sure names are not repeated</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27730d02de114bf1ea38f5b9a099198301fdd188">27730d0</a></td><td><code>Writing a big example showing how to add reviewer/suitor to already created game</code></td></tr></table>




---

archive/issue_comments_272312.json:
```json
{
    "body": "**Changing commit** from \"[508d8193ea3d99dda90515bced36c8cd8e747224](https://github.com/sagemath/sagetrac-mirror/commit/508d8193ea3d99dda90515bced36c8cd8e747224)\" to \"[27730d02de114bf1ea38f5b9a099198301fdd188](https://github.com/sagemath/sagetrac-mirror/commit/27730d02de114bf1ea38f5b9a099198301fdd188)\".",
    "created_at": "2014-11-15T20:14:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272312",
    "user": "https://github.com/drvinceknight"
}
```

**Changing commit** from "[508d8193ea3d99dda90515bced36c8cd8e747224](https://github.com/sagemath/sagetrac-mirror/commit/508d8193ea3d99dda90515bced36c8cd8e747224)" to "[27730d02de114bf1ea38f5b9a099198301fdd188](https://github.com/sagemath/sagetrac-mirror/commit/27730d02de114bf1ea38f5b9a099198301fdd188)".



---

archive/issue_comments_272313.json:
```json
{
    "body": "<a id='comment:94'></a>\nDon't remove the `__eq__`. If you do, you can create equal games (i.e., the same input data) but won't compare equal in Sage. In particular, if you do `loads(dumps(x)) == x` (pickling) for some game `x`, then it will return `False` because the default (python) `==` is by identity (place in memory).\n\nAddendum - The comparison isn't sufficient. Actually, from a quick glance, it's the `Player` equality testing that is not sufficient and probably needs to compare the `Player.pref`'s.",
    "created_at": "2014-11-16T01:33:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272313",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:94'></a>
Don't remove the `__eq__`. If you do, you can create equal games (i.e., the same input data) but won't compare equal in Sage. In particular, if you do `loads(dumps(x)) == x` (pickling) for some game `x`, then it will return `False` because the default (python) `==` is by identity (place in memory).

Addendum - The comparison isn't sufficient. Actually, from a quick glance, it's the `Player` equality testing that is not sufficient and probably needs to compare the `Player.pref`'s.



---

archive/issue_comments_272314.json:
```json
{
    "body": "<a id='comment:95'></a>\nReplying to [tscrim](#comment%3A94):\n> Don't remove the `__eq__`. If you do, you can create equal games (i.e., the same input data) but won't compare equal in Sage. In particular, if you do `loads(dumps(x)) == x` (pickling) for some game `x`, then it will return `False` because the default (python) `==` is by identity (place in memory).\n> \n> Addendum - The comparison isn't sufficient. Actually, from a quick glance, it's the `Player` equality testing that is not sufficient and probably needs to compare the `Player.pref`'s.\n\n\n\nCool, never intended to remove `__eq__`, just needed to check that it wasn't coded the way it was for a reason. Was saying that I could remove the test that now doesn't pass but instead will now focus on fixing the code so that the test passes: will work on the `Player` equality: thanks!",
    "created_at": "2014-11-16T08:53:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272314",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:95'></a>
Replying to [tscrim](#comment%3A94):
> Don't remove the `__eq__`. If you do, you can create equal games (i.e., the same input data) but won't compare equal in Sage. In particular, if you do `loads(dumps(x)) == x` (pickling) for some game `x`, then it will return `False` because the default (python) `==` is by identity (place in memory).
> 
> Addendum - The comparison isn't sufficient. Actually, from a quick glance, it's the `Player` equality testing that is not sufficient and probably needs to compare the `Player.pref`'s.



Cool, never intended to remove `__eq__`, just needed to check that it wasn't coded the way it was for a reason. Was saying that I could remove the test that now doesn't pass but instead will now focus on fixing the code so that the test passes: will work on the `Player` equality: thanks!



---

archive/issue_comments_272315.json:
```json
{
    "body": "<a id='comment:96'></a>\nMost of these change look great.  I think you got too clever in the examples testing the fix of auto-creating names, though.\n\n```\n+            sage: suit = {0: (-1,  -2),\n+            ....:         2: (-2, -2)}\n+            sage: revr = {-1: (0, 1),\n+            ....:         -2: (1, 0)}\n...\n+            sage: suit = {0: (-1,  -2),\n+            ....:         1: (-2, -2)}\n+            sage: revr = {-1: (0, 1),\n+            ....:         -3: (1, 0)}\n```\nThese preferences sometimes refer to nonexistent players, and sometimes repeat!\n\nOtherwise probably the eq business is what remains.  Nice.",
    "created_at": "2014-11-17T13:42:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272315",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:96'></a>
Most of these change look great.  I think you got too clever in the examples testing the fix of auto-creating names, though.

```
+            sage: suit = {0: (-1,  -2),
+            ....:         2: (-2, -2)}
+            sage: revr = {-1: (0, 1),
+            ....:         -2: (1, 0)}
...
+            sage: suit = {0: (-1,  -2),
+            ....:         1: (-2, -2)}
+            sage: revr = {-1: (0, 1),
+            ....:         -3: (1, 0)}
```
These preferences sometimes refer to nonexistent players, and sometimes repeat!

Otherwise probably the eq business is what remains.  Nice.



---

archive/issue_comments_272316.json:
```json
{
    "body": "**Changing commit** from \"[27730d02de114bf1ea38f5b9a099198301fdd188](https://github.com/sagemath/sagetrac-mirror/commit/27730d02de114bf1ea38f5b9a099198301fdd188)\" to \"[fa2e5c1e380c6c42125e69748dcd3f8c71a6ef1d](https://github.com/sagemath/sagetrac-mirror/commit/fa2e5c1e380c6c42125e69748dcd3f8c71a6ef1d)\".",
    "created_at": "2014-11-17T17:56:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272316",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[27730d02de114bf1ea38f5b9a099198301fdd188](https://github.com/sagemath/sagetrac-mirror/commit/27730d02de114bf1ea38f5b9a099198301fdd188)" to "[fa2e5c1e380c6c42125e69748dcd3f8c71a6ef1d](https://github.com/sagemath/sagetrac-mirror/commit/fa2e5c1e380c6c42125e69748dcd3f8c71a6ef1d)".



---

archive/issue_comments_272317.json:
```json
{
    "body": "<a id='comment:97'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be2723920de2bd2b18c99991e7f9922906ea89ba\">be27239</a></td><td><code>Player equality requires same preferences now - this has broken other tests with something to do with plot - strange...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e7ddb9f25664bdd2d3cc6e3ed6a9219af4f334e\">9e7ddb9</a></td><td><code>Tests now pass for equality - have moved it to class as use player differently - now refactoring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19c75b0acaaa936cc5e1321d8ebff2aa9b8ee812\">19c75b0</a></td><td><code>Refactoring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa2e5c1e380c6c42125e69748dcd3f8c71a6ef1d\">fa2e5c1</a></td><td><code>Fixing tests for adding suitor/reviewer</code></td></tr></table>\n",
    "created_at": "2014-11-17T17:56:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272317",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:97'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be2723920de2bd2b18c99991e7f9922906ea89ba">be27239</a></td><td><code>Player equality requires same preferences now - this has broken other tests with something to do with plot - strange...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e7ddb9f25664bdd2d3cc6e3ed6a9219af4f334e">9e7ddb9</a></td><td><code>Tests now pass for equality - have moved it to class as use player differently - now refactoring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19c75b0acaaa936cc5e1321d8ebff2aa9b8ee812">19c75b0</a></td><td><code>Refactoring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa2e5c1e380c6c42125e69748dcd3f8c71a6ef1d">fa2e5c1</a></td><td><code>Fixing tests for adding suitor/reviewer</code></td></tr></table>




---

archive/issue_comments_272318.json:
```json
{
    "body": "<a id='comment:98'></a>\nReplying to [kcrisman](#comment%3A96):\n> Most of these change look great.  I think you got too clever in the examples testing the fix of auto-creating names, though.\n> \n> ```\n> +            sage: suit = {0: (-1,  -2),\n> +            ....:         2: (-2, -2)}\n> +            sage: revr = {-1: (0, 1),\n> +            ....:         -2: (1, 0)}\n> ...\n> +            sage: suit = {0: (-1,  -2),\n> +            ....:         1: (-2, -2)}\n> +            sage: revr = {-1: (0, 1),\n> +            ....:         -3: (1, 0)}\n> ```\n> These preferences sometimes refer to nonexistent players, and sometimes repeat!\n\n\nWoops: fixed those (apologies for you needing to pick up my sloppiness... I'll blame the busy first term)\n> \n> Otherwise probably the eq business is what remains.  Nice.\n\n\nSo I have fixed those: you'll note that I didn't put them in to the Player class. I tried at first but we use Player equality differently in the algorithm and this broke a few other things. I took a look at fixing those but:\n\nA. it was simpler to move the fix to the game class.\nB. after thinking about it for a while I think it make sense to have a player as something that could potentially have different preferences but still be unique (I might have just tried really hard to convince myself of this though). Perhaps further down the line we could look at players deviating strategies (for whatever reason) and seeing the effect that has... \n\nIf anyone feels very very strongly about the equality of players needing to also pick up their preferences I could change that but it would require careful rewriting of the algorithm. Let me know what you guys think.",
    "created_at": "2014-11-17T18:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272318",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:98'></a>
Replying to [kcrisman](#comment%3A96):
> Most of these change look great.  I think you got too clever in the examples testing the fix of auto-creating names, though.
> 
> ```
> +            sage: suit = {0: (-1,  -2),
> +            ....:         2: (-2, -2)}
> +            sage: revr = {-1: (0, 1),
> +            ....:         -2: (1, 0)}
> ...
> +            sage: suit = {0: (-1,  -2),
> +            ....:         1: (-2, -2)}
> +            sage: revr = {-1: (0, 1),
> +            ....:         -3: (1, 0)}
> ```
> These preferences sometimes refer to nonexistent players, and sometimes repeat!


Woops: fixed those (apologies for you needing to pick up my sloppiness... I'll blame the busy first term)
> 
> Otherwise probably the eq business is what remains.  Nice.


So I have fixed those: you'll note that I didn't put them in to the Player class. I tried at first but we use Player equality differently in the algorithm and this broke a few other things. I took a look at fixing those but:

A. it was simpler to move the fix to the game class.
B. after thinking about it for a while I think it make sense to have a player as something that could potentially have different preferences but still be unique (I might have just tried really hard to convince myself of this though). Perhaps further down the line we could look at players deviating strategies (for whatever reason) and seeing the effect that has... 

If anyone feels very very strongly about the equality of players needing to also pick up their preferences I could change that but it would require careful rewriting of the algorithm. Let me know what you guys think.



---

archive/issue_comments_272319.json:
```json
{
    "body": "<a id='comment:99'></a>\nHmm, I don't feel terribly strongly about this per se, but if it causes things to be equal that shouldn't, that's a problem.  How is the `loads(dumps(x)) == x` holding up with this?  Maybe one needs to have a warning of player equality being only name equality in that function's doc, anyway.\n\nAs to the substantive change, I still am not happy.  For equality, you only check if the sets of players are the same\n\n```\n                and set(self._suitors) == set(other._suitors)\n                and set(self._reviewers) == set(other._reviewers)\n```\nbut not whether their ordering is the same, but then check for the order (implicitly) here.\n\n```\n+                and all(r1.pref == r2.pref for r1, r2 in\n+                    zip(self._reviewers, other._reviewers))\n+                and all(s1.pref == s2.pref for s1, s2 in\n+                    zip(self._suitors, other._suitors)))\n```\nWhat about if the players are swapped?  Is it now a different game?  I don't know what the 'right' answer is but if the order matters, then it probably matters for the players too.  Plus it would end the comparison earlier - as soon as one `and` is `False`, it all is.",
    "created_at": "2014-11-17T18:27:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272319",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:99'></a>
Hmm, I don't feel terribly strongly about this per se, but if it causes things to be equal that shouldn't, that's a problem.  How is the `loads(dumps(x)) == x` holding up with this?  Maybe one needs to have a warning of player equality being only name equality in that function's doc, anyway.

As to the substantive change, I still am not happy.  For equality, you only check if the sets of players are the same

```
                and set(self._suitors) == set(other._suitors)
                and set(self._reviewers) == set(other._reviewers)
```
but not whether their ordering is the same, but then check for the order (implicitly) here.

```
+                and all(r1.pref == r2.pref for r1, r2 in
+                    zip(self._reviewers, other._reviewers))
+                and all(s1.pref == s2.pref for s1, s2 in
+                    zip(self._suitors, other._suitors)))
```
What about if the players are swapped?  Is it now a different game?  I don't know what the 'right' answer is but if the order matters, then it probably matters for the players too.  Plus it would end the comparison earlier - as soon as one `and` is `False`, it all is.



---

archive/issue_comments_272320.json:
```json
{
    "body": "<a id='comment:0'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d5d52a738959ba8fde79a60d39eb0fed0156041\">7d5d52a</a></td><td><code>Made it so order of the players does matter for equality</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b049cea8efb051e59af76f3cda5c11e10fbe674\">8b049ce</a></td><td><code>Adding doc about preferences not mattering in equality of players</code></td></tr></table>\n",
    "created_at": "2014-11-17T19:33:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272320",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:0'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d5d52a738959ba8fde79a60d39eb0fed0156041">7d5d52a</a></td><td><code>Made it so order of the players does matter for equality</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b049cea8efb051e59af76f3cda5c11e10fbe674">8b049ce</a></td><td><code>Adding doc about preferences not mattering in equality of players</code></td></tr></table>




---

archive/issue_comments_272321.json:
```json
{
    "body": "**Changing commit** from \"[fa2e5c1e380c6c42125e69748dcd3f8c71a6ef1d](https://github.com/sagemath/sagetrac-mirror/commit/fa2e5c1e380c6c42125e69748dcd3f8c71a6ef1d)\" to \"[8b049cea8efb051e59af76f3cda5c11e10fbe674](https://github.com/sagemath/sagetrac-mirror/commit/8b049cea8efb051e59af76f3cda5c11e10fbe674)\".",
    "created_at": "2014-11-17T19:33:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272321",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fa2e5c1e380c6c42125e69748dcd3f8c71a6ef1d](https://github.com/sagemath/sagetrac-mirror/commit/fa2e5c1e380c6c42125e69748dcd3f8c71a6ef1d)" to "[8b049cea8efb051e59af76f3cda5c11e10fbe674](https://github.com/sagemath/sagetrac-mirror/commit/8b049cea8efb051e59af76f3cda5c11e10fbe674)".



---

archive/issue_comments_272322.json:
```json
{
    "body": "<a id='comment:1'></a>\nOkay, needs doctest changes.  Some are easy - just adding the new Sage 6.4 doctest style for graphics.\n\n```\n\nFailed example:\n    plot(g)\nExpected nothing\nGot:\n    Graphics object consisting of 7 graphics primitives\n```\nUnfortunately, all the ones where the answer is a dictionary will have to be changed so that they are not platform-dependent.\n\n```\n\nFailed example:\n    g.solve()\nExpected:\n    {0: 3, 1: 4}\nGot:\n    {1: 4, 0: 3}\n```\nPython dicts don't print in any given order.  :-(\n\nNext, you have to fix some documentation looks.\n\n```\n./sage -docbuild reference/game_theory html\n```\nSee this.\n\n```diff\ndiff --git a/src/sage/game_theory/matching_game.py b/src/sage/game_theory/matching_game.py\nindex d5c2480..0ba47c5 100644\n--- a/src/sage/game_theory/matching_game.py\n+++ b/src/sage/game_theory/matching_game.py\n@@ -72,7 +72,7 @@ class MatchingGame(SageObject):\n     Two potential inputs are accepted (see below to see the effect of each):\n \n     - ``reviewer/suitors_preferences`` -- a dictionary containing the\n-    preferences of all players:\n+      preferences of all players:\n \n      * key - each reviewer/suitors\n      * value - a tuple of suitors/reviewers\n@@ -80,7 +80,7 @@ class MatchingGame(SageObject):\n     OR:\n \n     - ``integer`` -- an integer simply representing the number of reviewers\n-    and suitors.\n+      and suitors.\n \n     To implement the above game in Sage::\n \n@@ -299,8 +299,8 @@ class MatchingGame(SageObject):\n         sage: g\n         A matching game with 3 suitors and 3 reviewers\n \n-     We have an empty set of preferences for a default named set of\n-     preferences::\n+    We have an empty set of preferences for a default named set of\n+    preferences::\n \n         sage: for s in g.suitors():\n         ....:     s, s.pref\n@@ -313,15 +313,15 @@ class MatchingGame(SageObject):\n         (-2, [])\n         (-3, [])\n \n-     Before trying to solve such a game the algorithm will check if it is\n-     complete or not::\n+    Before trying to solve such a game the algorithm will check if it is\n+    complete or not::\n \n         sage: g.solve()\n         Traceback (most recent call last):\n         ...\n         ValueError: suitor preferences are not complete\n \n-    To be able to obtain the stable matching we must input the preferences:\n+    To be able to obtain the stable matching we must input the preferences::\n \n         sage: for s in g.suitors():\n         ....:   s.pref = (-1, -2, -3)\n@@ -714,7 +714,7 @@ class MatchingGame(SageObject):\n             ValueError: a suitor with name \"D\" already exists\n \n\n \n         If we add a suitor without passing a name then the name\n-        of the suitor will not use one that is already chosen.\n+        of the suitor will not use one that is already chosen::\n \n             sage: suit = {0: (-1,  -2),\n             ....:         2: (-2, -1)}\n@@ -785,7 +785,7 @@ class MatchingGame(SageObject):\n             ValueError: a reviewer with name \"10\" already exists\n \n         If we add a reviewer without passing a name then the name\n-        of the reviewer will not use one that is already chosen.\n+        of the reviewer will not use one that is already chosen::\n \n             sage: suit = {0: (-1,  -3),\n             ....:         1: (-3, -1)}\n```",
    "created_at": "2014-11-18T03:08:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272322",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'></a>
Okay, needs doctest changes.  Some are easy - just adding the new Sage 6.4 doctest style for graphics.

```

Failed example:
    plot(g)
Expected nothing
Got:
    Graphics object consisting of 7 graphics primitives
```
Unfortunately, all the ones where the answer is a dictionary will have to be changed so that they are not platform-dependent.

```

Failed example:
    g.solve()
Expected:
    {0: 3, 1: 4}
Got:
    {1: 4, 0: 3}
```
Python dicts don't print in any given order.  :-(

Next, you have to fix some documentation looks.

```
./sage -docbuild reference/game_theory html
```
See this.

```diff
diff --git a/src/sage/game_theory/matching_game.py b/src/sage/game_theory/matching_game.py
index d5c2480..0ba47c5 100644
--- a/src/sage/game_theory/matching_game.py
+++ b/src/sage/game_theory/matching_game.py
@@ -72,7 +72,7 @@ class MatchingGame(SageObject):
     Two potential inputs are accepted (see below to see the effect of each):
 
     - ``reviewer/suitors_preferences`` -- a dictionary containing the
-    preferences of all players:
+      preferences of all players:
 
      * key - each reviewer/suitors
      * value - a tuple of suitors/reviewers
@@ -80,7 +80,7 @@ class MatchingGame(SageObject):
     OR:
 
     - ``integer`` -- an integer simply representing the number of reviewers
-    and suitors.
+      and suitors.
 
     To implement the above game in Sage::
 
@@ -299,8 +299,8 @@ class MatchingGame(SageObject):
         sage: g
         A matching game with 3 suitors and 3 reviewers
 
-     We have an empty set of preferences for a default named set of
-     preferences::
+    We have an empty set of preferences for a default named set of
+    preferences::
 
         sage: for s in g.suitors():
         ....:     s, s.pref
@@ -313,15 +313,15 @@ class MatchingGame(SageObject):
         (-2, [])
         (-3, [])
 
-     Before trying to solve such a game the algorithm will check if it is
-     complete or not::
+    Before trying to solve such a game the algorithm will check if it is
+    complete or not::
 
         sage: g.solve()
         Traceback (most recent call last):
         ...
         ValueError: suitor preferences are not complete
 
-    To be able to obtain the stable matching we must input the preferences:
+    To be able to obtain the stable matching we must input the preferences::
 
         sage: for s in g.suitors():
         ....:   s.pref = (-1, -2, -3)
@@ -714,7 +714,7 @@ class MatchingGame(SageObject):
             ValueError: a suitor with name "D" already exists
 

 
         If we add a suitor without passing a name then the name
-        of the suitor will not use one that is already chosen.
+        of the suitor will not use one that is already chosen::
 
             sage: suit = {0: (-1,  -2),
             ....:         2: (-2, -1)}
@@ -785,7 +785,7 @@ class MatchingGame(SageObject):
             ValueError: a reviewer with name "10" already exists
 
         If we add a reviewer without passing a name then the name
-        of the reviewer will not use one that is already chosen.
+        of the reviewer will not use one that is already chosen::
 
             sage: suit = {0: (-1,  -3),
             ....:         1: (-3, -1)}
```



---

archive/issue_comments_272323.json:
```json
{
    "body": "<a id='comment:2'></a>\nI've put off merging in to `develop` and rebuilding for long enough. Just doing that now. Will work on all of above as soon as that's done.",
    "created_at": "2014-11-18T08:00:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272323",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:2'></a>
I've put off merging in to `develop` and rebuilding for long enough. Just doing that now. Will work on all of above as soon as that's done.



---

archive/issue_comments_272324.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1050ff380489f6d3ee8d0273a05050434735eeeb\">1050ff3</a></td><td><code>Fixing merge conflicts after merging with develop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41abb7b8b9cac3e39516b0de7f0878f0698a867f\">41abb7b</a></td><td><code>Changing doctests after update of Sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17748d15c0b0c11044fb7696022d4143fe1056e4\">17748d1</a></td><td><code>Docs now build</code></td></tr></table>\n",
    "created_at": "2014-11-18T12:32:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272324",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1050ff380489f6d3ee8d0273a05050434735eeeb">1050ff3</a></td><td><code>Fixing merge conflicts after merging with develop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41abb7b8b9cac3e39516b0de7f0878f0698a867f">41abb7b</a></td><td><code>Changing doctests after update of Sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17748d15c0b0c11044fb7696022d4143fe1056e4">17748d1</a></td><td><code>Docs now build</code></td></tr></table>




---

archive/issue_comments_272325.json:
```json
{
    "body": "**Changing commit** from \"[8b049cea8efb051e59af76f3cda5c11e10fbe674](https://github.com/sagemath/sagetrac-mirror/commit/8b049cea8efb051e59af76f3cda5c11e10fbe674)\" to \"[17748d15c0b0c11044fb7696022d4143fe1056e4](https://github.com/sagemath/sagetrac-mirror/commit/17748d15c0b0c11044fb7696022d4143fe1056e4)\".",
    "created_at": "2014-11-18T12:32:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272325",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8b049cea8efb051e59af76f3cda5c11e10fbe674](https://github.com/sagemath/sagetrac-mirror/commit/8b049cea8efb051e59af76f3cda5c11e10fbe674)" to "[17748d15c0b0c11044fb7696022d4143fe1056e4](https://github.com/sagemath/sagetrac-mirror/commit/17748d15c0b0c11044fb7696022d4143fe1056e4)".



---

archive/issue_comments_272326.json:
```json
{
    "body": "<a id='comment:4'></a>\nI've addressed both those two issues now Karl:\n\n- doctests all pass (they didn't after merging with `develop`)\n- docs now build\n\nLet me know if there's anything else :)",
    "created_at": "2014-11-18T12:33:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272326",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:4'></a>
I've addressed both those two issues now Karl:

- doctests all pass (they didn't after merging with `develop`)
- docs now build

Let me know if there's anything else :)



---

archive/issue_comments_272327.json:
```json
{
    "body": "<a id='comment:5'></a>\nThanks, looks good.  However, I would not be AT ALL surprised if at least some people have problems with doctests with the ones which have dicts as output, for the reasons I just mentioned.  Like so:\n\n```\nsage: D = {1:2, 2:3} # possibly random order depending on hashing\nsage: sorted(D.items()) # guaranteed\n[(1, 2), (2, 3)]\n```\n\nSee also #17362.",
    "created_at": "2014-11-18T14:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272327",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>
Thanks, looks good.  However, I would not be AT ALL surprised if at least some people have problems with doctests with the ones which have dicts as output, for the reasons I just mentioned.  Like so:

```
sage: D = {1:2, 2:3} # possibly random order depending on hashing
sage: sorted(D.items()) # guaranteed
[(1, 2), (2, 3)]
```

See also #17362.



---

archive/issue_comments_272328.json:
```json
{
    "body": "<a id='comment:106'></a>\nReplying to [kcrisman](#comment%3A105):\n> Thanks, looks good.  However, I would not be AT ALL surprised if at least some people have problems with doctests with the ones which have dicts as output, for the reasons I just mentioned.  Like so:\n> \n> ```\n> sage: D = {1:2, 2:3} # possibly random order depending on hashing\n> sage: sorted(D.items()) # guaranteed\n> [(1, 2), (2, 3)]\n> ```\n> \n> See also #17362.\n\n\nAh! That's very helpful: so I should go back and changed the dictionary outputs to that? I'll do that today at some point.",
    "created_at": "2014-11-18T14:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272328",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:106'></a>
Replying to [kcrisman](#comment%3A105):
> Thanks, looks good.  However, I would not be AT ALL surprised if at least some people have problems with doctests with the ones which have dicts as output, for the reasons I just mentioned.  Like so:
> 
> ```
> sage: D = {1:2, 2:3} # possibly random order depending on hashing
> sage: sorted(D.items()) # guaranteed
> [(1, 2), (2, 3)]
> ```
> 
> See also #17362.


Ah! That's very helpful: so I should go back and changed the dictionary outputs to that? I'll do that today at some point.



---

archive/issue_comments_272329.json:
```json
{
    "body": "<a id='comment:107'></a>\nReplying to [vinceknight](#comment%3A106):\n> Replying to [kcrisman](#comment%3A105):\n> > Thanks, looks good.  However, I would not be AT ALL surprised if at least some people have problems with doctests with the ones which have dicts as output, for the reasons I just mentioned.  Like so:\n> > \n> > ```\n> > sage: D = {1:2, 2:3} # possibly random order depending on hashing\n> > sage: sorted(D.items()) # guaranteed\n> > [(1, 2), (2, 3)]\n> > ```\n> > \n> > See also #17362.\n\n> \n> Ah! That's very helpful: so I should go back and changed the dictionary outputs to that? I'll do that today at some point.\n\n\nJust reran the tests on my linux box and they all failed (fresh build of Sage from `develop`). Will rewrite all the dictionary tests.",
    "created_at": "2014-11-18T14:43:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272329",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:107'></a>
Replying to [vinceknight](#comment%3A106):
> Replying to [kcrisman](#comment%3A105):
> > Thanks, looks good.  However, I would not be AT ALL surprised if at least some people have problems with doctests with the ones which have dicts as output, for the reasons I just mentioned.  Like so:
> > 
> > ```
> > sage: D = {1:2, 2:3} # possibly random order depending on hashing
> > sage: sorted(D.items()) # guaranteed
> > [(1, 2), (2, 3)]
> > ```
> > 
> > See also #17362.

> 
> Ah! That's very helpful: so I should go back and changed the dictionary outputs to that? I'll do that today at some point.


Just reran the tests on my linux box and they all failed (fresh build of Sage from `develop`). Will rewrite all the dictionary tests.



---

archive/issue_comments_272330.json:
```json
{
    "body": "<a id='comment:108'></a>\nReplying to [kcrisman](#comment%3A99):\n> Hmm, I don't feel terribly strongly about this per se, but if it causes things to be equal that shouldn't, that's a problem.  How is the `loads(dumps(x)) == x` holding up with this?  Maybe one needs to have a warning of player equality being only name equality in that function's doc, anyway.\n\n\nWe need to define `==` on both players and games otherwise pickling won't construct an \"equal\" object (as far as python knows). While this is probably not a major thing as games and players are not hashable, I find it strange that I can create two games from the same input data that aren't equal. Also I agree that there needs to be a warning that player equality is based on name alone.",
    "created_at": "2014-11-18T16:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272330",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:108'></a>
Replying to [kcrisman](#comment%3A99):
> Hmm, I don't feel terribly strongly about this per se, but if it causes things to be equal that shouldn't, that's a problem.  How is the `loads(dumps(x)) == x` holding up with this?  Maybe one needs to have a warning of player equality being only name equality in that function's doc, anyway.


We need to define `==` on both players and games otherwise pickling won't construct an "equal" object (as far as python knows). While this is probably not a major thing as games and players are not hashable, I find it strange that I can create two games from the same input data that aren't equal. Also I agree that there needs to be a warning that player equality is based on name alone.



---

archive/issue_comments_272331.json:
```json
{
    "body": "<a id='comment:9'></a>\n> I find it strange that I can create two games from the same input data that aren't equal. \n\nOh, can you?  I thought it was the other way around, that two games with unequal input data would be the same.\n\nIn any case, I think that is fixed in [this commit](https://github.com/sagemath/sagetrac-mirror/commit/7d5d52a738959ba8fde79a60d39eb0fed0156041), and players explained in [this one](https://github.com/sagemath/sagetrac-mirror/commit/8b049cea8efb051e59af76f3cda5c11e10fbe674) - you can check if you agree with me.",
    "created_at": "2014-11-18T16:40:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272331",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:9'></a>
> I find it strange that I can create two games from the same input data that aren't equal. 

Oh, can you?  I thought it was the other way around, that two games with unequal input data would be the same.

In any case, I think that is fixed in [this commit](https://github.com/sagemath/sagetrac-mirror/commit/7d5d52a738959ba8fde79a60d39eb0fed0156041), and players explained in [this one](https://github.com/sagemath/sagetrac-mirror/commit/8b049cea8efb051e59af76f3cda5c11e10fbe674) - you can check if you agree with me.



---

archive/issue_comments_272332.json:
```json
{
    "body": "<a id='comment:110'></a>\nReplying to [kcrisman](#comment%3A109):\n> Oh, can you?  I thought it was the other way around, that two games with unequal input data would be the same.\n\n\nWell, that was a problem with my first implementation of `__eq__`. I was saying without a `__eq__`, then the pickling issue crops up.\n\n> In any case, I think that is fixed in [this commit](https://github.com/sagemath/sagetrac-mirror/commit/7d5d52a738959ba8fde79a60d39eb0fed0156041), and players explained in [this one](https://github.com/sagemath/sagetrac-mirror/commit/8b049cea8efb051e59af76f3cda5c11e10fbe674) - you can check if you agree with me.\n\n\nCurrently if you add the suitors (or reviewers) in different order, but everything else is the same, they should compare as not equal (I can't test right now). This should be the same game. What I really worry about is that the iteration over the input dicts might end up being different for two equal but not identical dicts (perhaps depending upon how the dicts were constructed). Granted, the likelihood of this occurring is very small, so it's not a big deal.\n\nI missed that in the `__eq__`, and it doesn't appear in the public documentation. I'd (very weakly) prefer something at the class level since the players can be viewed outside of the game.\n\nActually, in order to make the `Player` hashable, they must only compare equal by `name` (since we treat that part as immutable).\n\nPerhaps I'm being too nitpicky.",
    "created_at": "2014-11-18T18:18:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272332",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:110'></a>
Replying to [kcrisman](#comment%3A109):
> Oh, can you?  I thought it was the other way around, that two games with unequal input data would be the same.


Well, that was a problem with my first implementation of `__eq__`. I was saying without a `__eq__`, then the pickling issue crops up.

> In any case, I think that is fixed in [this commit](https://github.com/sagemath/sagetrac-mirror/commit/7d5d52a738959ba8fde79a60d39eb0fed0156041), and players explained in [this one](https://github.com/sagemath/sagetrac-mirror/commit/8b049cea8efb051e59af76f3cda5c11e10fbe674) - you can check if you agree with me.


Currently if you add the suitors (or reviewers) in different order, but everything else is the same, they should compare as not equal (I can't test right now). This should be the same game. What I really worry about is that the iteration over the input dicts might end up being different for two equal but not identical dicts (perhaps depending upon how the dicts were constructed). Granted, the likelihood of this occurring is very small, so it's not a big deal.

I missed that in the `__eq__`, and it doesn't appear in the public documentation. I'd (very weakly) prefer something at the class level since the players can be viewed outside of the game.

Actually, in order to make the `Player` hashable, they must only compare equal by `name` (since we treat that part as immutable).

Perhaps I'm being too nitpicky.



---

archive/issue_comments_272333.json:
```json
{
    "body": "<a id='comment:111'></a>\nReplying to [tscrim](#comment%3A110):\n> Replying to [kcrisman](#comment%3A109):\n> > Oh, can you?  I thought it was the other way around, that two games with unequal input data would be the same.\n\n> \n> Well, that was a problem with my first implementation of `__eq__`. I was saying without a `__eq__`, then the pickling issue crops up.\n> \n> > In any case, I think that is fixed in [this commit](https://github.com/sagemath/sagetrac-mirror/commit/7d5d52a738959ba8fde79a60d39eb0fed0156041), and players explained in [this one](https://github.com/sagemath/sagetrac-mirror/commit/8b049cea8efb051e59af76f3cda5c11e10fbe674) - you can check if you agree with me.\n\n> \n> Currently if you add the suitors (or reviewers) in different order, but everything else is the same, they should compare as not equal (I can't test right now). This should be the same game. What I really worry about is that the iteration over the input dicts might end up being different for two equal but not identical dicts (perhaps depending upon how the dicts were constructed). Granted, the likelihood of this occurring is very small, so it's not a big deal.\n\n\nI've gone ahead and changed that so the equality of a game now does not require the players to be in the same order (you have to try pretty hard to get a game with players in a different order but I've added one to the docs).\n\n> \n> I missed that in the `__eq__`, and it doesn't appear in the public documentation. I'd (very weakly) prefer something at the class level since the players can be viewed outside of the game.\n\n\nGiven that the `Player` class `_can_` be accessed outside of the game but has no reason to actually be manipulated (in practice the average user will just be creating games from dictionaries I imagine) I'd rather keep this where it is so as to not overcomplicate the docs. Going back to accessibility as you mentioned previously Karl, I'd be worried that adding a lot of technical things about the underlying architecture could be a bit confusing... I think this specific thing would be more relevant to future contributors etc and not the day to day user... What do you guys think? \n\n> \n> Actually, in order to make the `Player` hashable, they must only compare equal by `name` (since we treat that part as immutable).\n> \n\nCool, on that note: I tried to implement Karl's fix for the dictionaries not being the same across systems. It started confusing me though as it wasn't working. I think I've figured out why: the Players (which are the keys in those dictionaries and not the strings of their names) did not have a 'sorting' method. I've now added this in (https://wiki.python.org/moin/HowTo/Sorting/).\n\nI then thought that that had taken care of it and the dictionaries could stay as they are but I've just checked on my linux box and I'm incorrect so I'm going to work on that tomorrow. I will probably add in a test with a `# random` so as to describe what output would look like before going on to using the `sorted(D.items())` throughout. \n\nI've got some other stuff that needs doing so I'll go ahead and do that last part tomorrow. Just about to push everything until then now though.\n\n> Perhaps I'm being too nitpicky.\n\n\nNot at all, please let me know if you disagree :)",
    "created_at": "2014-11-18T21:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272333",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:111'></a>
Replying to [tscrim](#comment%3A110):
> Replying to [kcrisman](#comment%3A109):
> > Oh, can you?  I thought it was the other way around, that two games with unequal input data would be the same.

> 
> Well, that was a problem with my first implementation of `__eq__`. I was saying without a `__eq__`, then the pickling issue crops up.
> 
> > In any case, I think that is fixed in [this commit](https://github.com/sagemath/sagetrac-mirror/commit/7d5d52a738959ba8fde79a60d39eb0fed0156041), and players explained in [this one](https://github.com/sagemath/sagetrac-mirror/commit/8b049cea8efb051e59af76f3cda5c11e10fbe674) - you can check if you agree with me.

> 
> Currently if you add the suitors (or reviewers) in different order, but everything else is the same, they should compare as not equal (I can't test right now). This should be the same game. What I really worry about is that the iteration over the input dicts might end up being different for two equal but not identical dicts (perhaps depending upon how the dicts were constructed). Granted, the likelihood of this occurring is very small, so it's not a big deal.


I've gone ahead and changed that so the equality of a game now does not require the players to be in the same order (you have to try pretty hard to get a game with players in a different order but I've added one to the docs).

> 
> I missed that in the `__eq__`, and it doesn't appear in the public documentation. I'd (very weakly) prefer something at the class level since the players can be viewed outside of the game.


Given that the `Player` class `_can_` be accessed outside of the game but has no reason to actually be manipulated (in practice the average user will just be creating games from dictionaries I imagine) I'd rather keep this where it is so as to not overcomplicate the docs. Going back to accessibility as you mentioned previously Karl, I'd be worried that adding a lot of technical things about the underlying architecture could be a bit confusing... I think this specific thing would be more relevant to future contributors etc and not the day to day user... What do you guys think? 

> 
> Actually, in order to make the `Player` hashable, they must only compare equal by `name` (since we treat that part as immutable).
> 

Cool, on that note: I tried to implement Karl's fix for the dictionaries not being the same across systems. It started confusing me though as it wasn't working. I think I've figured out why: the Players (which are the keys in those dictionaries and not the strings of their names) did not have a 'sorting' method. I've now added this in (https://wiki.python.org/moin/HowTo/Sorting/).

I then thought that that had taken care of it and the dictionaries could stay as they are but I've just checked on my linux box and I'm incorrect so I'm going to work on that tomorrow. I will probably add in a test with a `# random` so as to describe what output would look like before going on to using the `sorted(D.items())` throughout. 

I've got some other stuff that needs doing so I'll go ahead and do that last part tomorrow. Just about to push everything until then now though.

> Perhaps I'm being too nitpicky.


Not at all, please let me know if you disagree :)



---

archive/issue_comments_272334.json:
```json
{
    "body": "**Changing commit** from \"[17748d15c0b0c11044fb7696022d4143fe1056e4](https://github.com/sagemath/sagetrac-mirror/commit/17748d15c0b0c11044fb7696022d4143fe1056e4)\" to \"[1ee9cf18cf561ee3a7c12c29b932ac0070f69fa4](https://github.com/sagemath/sagetrac-mirror/commit/1ee9cf18cf561ee3a7c12c29b932ac0070f69fa4)\".",
    "created_at": "2014-11-18T21:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272334",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[17748d15c0b0c11044fb7696022d4143fe1056e4](https://github.com/sagemath/sagetrac-mirror/commit/17748d15c0b0c11044fb7696022d4143fe1056e4)" to "[1ee9cf18cf561ee3a7c12c29b932ac0070f69fa4](https://github.com/sagemath/sagetrac-mirror/commit/1ee9cf18cf561ee3a7c12c29b932ac0070f69fa4)".



---

archive/issue_comments_272335.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68ddd1e261e42aa6e05f8dde038f1a606673f985\">68ddd1e</a></td><td><code>Fixed one test so that random hashing is not a problem - need to fix all others</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6699e9f960a223cd52aa1275189aa2e850014c02\">6699e9f</a></td><td><code>Enabling sorting of Player class - which should ensure dictionary ordering</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29a55187406c5f5d76ae08868c33d0b5c953612c\">29a5518</a></td><td><code>Have reorderd tests - need to test on variety of systems</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d00f9da17bfb729d8a28a7f8f048b90b05ffa2d2\">d00f9da</a></td><td><code>Equality of game now does not require players to be in same order</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ee9cf18cf561ee3a7c12c29b932ac0070f69fa4\">1ee9cf1</a></td><td><code>added tests</code></td></tr></table>\n",
    "created_at": "2014-11-18T21:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272335",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68ddd1e261e42aa6e05f8dde038f1a606673f985">68ddd1e</a></td><td><code>Fixed one test so that random hashing is not a problem - need to fix all others</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6699e9f960a223cd52aa1275189aa2e850014c02">6699e9f</a></td><td><code>Enabling sorting of Player class - which should ensure dictionary ordering</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29a55187406c5f5d76ae08868c33d0b5c953612c">29a5518</a></td><td><code>Have reorderd tests - need to test on variety of systems</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d00f9da17bfb729d8a28a7f8f048b90b05ffa2d2">d00f9da</a></td><td><code>Equality of game now does not require players to be in same order</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ee9cf18cf561ee3a7c12c29b932ac0070f69fa4">1ee9cf1</a></td><td><code>added tests</code></td></tr></table>




---

archive/issue_comments_272336.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f361765bc7747e9e4c47e28cf4af4dcc3cbb79e5\">f361765</a></td><td><code>Testing fix on one test that is currently not working across machines</code></td></tr></table>\n",
    "created_at": "2014-11-18T21:39:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272336",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f361765bc7747e9e4c47e28cf4af4dcc3cbb79e5">f361765</a></td><td><code>Testing fix on one test that is currently not working across machines</code></td></tr></table>




---

archive/issue_comments_272337.json:
```json
{
    "body": "**Changing commit** from \"[1ee9cf18cf561ee3a7c12c29b932ac0070f69fa4](https://github.com/sagemath/sagetrac-mirror/commit/1ee9cf18cf561ee3a7c12c29b932ac0070f69fa4)\" to \"[f361765bc7747e9e4c47e28cf4af4dcc3cbb79e5](https://github.com/sagemath/sagetrac-mirror/commit/f361765bc7747e9e4c47e28cf4af4dcc3cbb79e5)\".",
    "created_at": "2014-11-18T21:39:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272337",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1ee9cf18cf561ee3a7c12c29b932ac0070f69fa4](https://github.com/sagemath/sagetrac-mirror/commit/1ee9cf18cf561ee3a7c12c29b932ac0070f69fa4)" to "[f361765bc7747e9e4c47e28cf4af4dcc3cbb79e5](https://github.com/sagemath/sagetrac-mirror/commit/f361765bc7747e9e4c47e28cf4af4dcc3cbb79e5)".



---

archive/issue_comments_272338.json:
```json
{
    "body": "<a id='comment:4'></a>\nOk, I'm slightly confused.\n\nI just tried the fix in f361765 on two machines:\n\n- On my macbook: tests pass no problem.\n- On my linux box:\n\n```\nFile \"src/sage/game_theory/matching_game.py\", line 235, in sage.game_theory.matching_game.MatchingGame\nFailed example:\n    sorted(D.items())\nExpected:\n    [('Mercutio', 'Rosaline'), ('Romeo', 'Juliet'), (3, -3)]\nGot:\n    [(3, -3), ('Mercutio', 'Rosaline'), ('Romeo', 'Juliet')]\n```\n\nI then tried loop over keys of the dictionary (which should just be a sortable list (finger crossed?) and output the value of the dictionary for each.\n\nSo something like:\n\n```\nsage: D = g.solve(\nsage: for key in sorted(D.keys()):\n....:   key, D[key]\n```\n\nI've just tried that with similar (bad) results (fine on MacOS, no joy on Ubuntu):\n\n    for key in sorted(D.keys()):\n      key, D[key]\nExpected:\n    ('Mercutio', 'Rosaline')\n    ('Romeo', 'Juliet')\n    (3, -3)\nGot:\n    (3, -3)\n    ('Mercutio', 'Rosaline')\n    ('Romeo', 'Juliet')\n\n(Just about to push that commit in case it's helpful)\n\nThis is obviously quite a particular case with player names being a mixture of numeric and string but still. At the moment I'm a bit baffled... I'm going to sleep on it...",
    "created_at": "2014-11-18T21:48:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272338",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:4'></a>
Ok, I'm slightly confused.

I just tried the fix in f361765 on two machines:

- On my macbook: tests pass no problem.
- On my linux box:

```
File "src/sage/game_theory/matching_game.py", line 235, in sage.game_theory.matching_game.MatchingGame
Failed example:
    sorted(D.items())
Expected:
    [('Mercutio', 'Rosaline'), ('Romeo', 'Juliet'), (3, -3)]
Got:
    [(3, -3), ('Mercutio', 'Rosaline'), ('Romeo', 'Juliet')]
```

I then tried loop over keys of the dictionary (which should just be a sortable list (finger crossed?) and output the value of the dictionary for each.

So something like:

```
sage: D = g.solve(
sage: for key in sorted(D.keys()):
....:   key, D[key]
```

I've just tried that with similar (bad) results (fine on MacOS, no joy on Ubuntu):

    for key in sorted(D.keys()):
      key, D[key]
Expected:
    ('Mercutio', 'Rosaline')
    ('Romeo', 'Juliet')
    (3, -3)
Got:
    (3, -3)
    ('Mercutio', 'Rosaline')
    ('Romeo', 'Juliet')

(Just about to push that commit in case it's helpful)

This is obviously quite a particular case with player names being a mixture of numeric and string but still. At the moment I'm a bit baffled... I'm going to sleep on it...



---

archive/issue_comments_272339.json:
```json
{
    "body": "**Changing commit** from \"[f361765bc7747e9e4c47e28cf4af4dcc3cbb79e5](https://github.com/sagemath/sagetrac-mirror/commit/f361765bc7747e9e4c47e28cf4af4dcc3cbb79e5)\" to \"[e1f57f5e44d352fc009217a952c8a108a510b146](https://github.com/sagemath/sagetrac-mirror/commit/e1f57f5e44d352fc009217a952c8a108a510b146)\".",
    "created_at": "2014-11-18T21:48:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272339",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f361765bc7747e9e4c47e28cf4af4dcc3cbb79e5](https://github.com/sagemath/sagetrac-mirror/commit/f361765bc7747e9e4c47e28cf4af4dcc3cbb79e5)" to "[e1f57f5e44d352fc009217a952c8a108a510b146](https://github.com/sagemath/sagetrac-mirror/commit/e1f57f5e44d352fc009217a952c8a108a510b146)".



---

archive/issue_comments_272340.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1f57f5e44d352fc009217a952c8a108a510b146\">e1f57f5</a></td><td><code>Trying to loop over keys</code></td></tr></table>\n",
    "created_at": "2014-11-18T21:48:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272340",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1f57f5e44d352fc009217a952c8a108a510b146">e1f57f5</a></td><td><code>Trying to loop over keys</code></td></tr></table>




---

archive/issue_comments_272341.json:
```json
{
    "body": "<a id='comment:6'></a>\nHow about trying?\n\n```\nsorted(D.items(), key=lambda x: x[0]._name)\n```",
    "created_at": "2014-11-18T22:03:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272341",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
How about trying?

```
sorted(D.items(), key=lambda x: x[0]._name)
```



---

archive/issue_comments_272342.json:
```json
{
    "body": "<a id='comment:7'></a>\n> I will probably add in a test with a # random so as to describe what output would look like before going on to using the sorted(D.items()) throughout. \n\n\nYes, that is just what you should do.\n\n> sorted(D.items(), key=lambda x: x[0]._name)\n\n\nIf we have to resort to that to get Romeo with Juliet, something is terribly wrong in Verona.  But I think that [this SO question](http://stackoverflow.com/questions/5884066/hashing-a-python-dictionary) might be on the right track, as\n\n> Using sorted(d.items()) isn't enough to get us a stable repr. Some of the values in d could be dictionaries too, and their keys will still come out in an arbitrary order.\n\n\nAnd presumably the players are what is being sorted, not their *names*.  I'm not sure what a better solution will be but I really hope it can be something that is intelligible to those newcomers Vincent is mentioning.",
    "created_at": "2014-11-19T03:22:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272342",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'></a>
> I will probably add in a test with a # random so as to describe what output would look like before going on to using the sorted(D.items()) throughout. 


Yes, that is just what you should do.

> sorted(D.items(), key=lambda x: x[0]._name)


If we have to resort to that to get Romeo with Juliet, something is terribly wrong in Verona.  But I think that [this SO question](http://stackoverflow.com/questions/5884066/hashing-a-python-dictionary) might be on the right track, as

> Using sorted(d.items()) isn't enough to get us a stable repr. Some of the values in d could be dictionaries too, and their keys will still come out in an arbitrary order.


And presumably the players are what is being sorted, not their *names*.  I'm not sure what a better solution will be but I really hope it can be something that is intelligible to those newcomers Vincent is mentioning.



---

archive/issue_comments_272343.json:
```json
{
    "body": "<a id='comment:8'></a>\nI wouldn't mark them as `# random`, then the only thing that gets tested is that there is no error returned. If the doctest ordering can't be sorted uniformly, then I'd test specific properties. Although I thought we did something with our doctests involving dicts so that the output was sorted...?",
    "created_at": "2014-11-19T04:15:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272343",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>
I wouldn't mark them as `# random`, then the only thing that gets tested is that there is no error returned. If the doctest ordering can't be sorted uniformly, then I'd test specific properties. Although I thought we did something with our doctests involving dicts so that the output was sorted...?



---

archive/issue_comments_272344.json:
```json
{
    "body": "**Changing commit** from \"[e1f57f5e44d352fc009217a952c8a108a510b146](https://github.com/sagemath/sagetrac-mirror/commit/e1f57f5e44d352fc009217a952c8a108a510b146)\" to \"[821808ee3cbd503414058b6d289da3ffdf31e153](https://github.com/sagemath/sagetrac-mirror/commit/821808ee3cbd503414058b6d289da3ffdf31e153)\".",
    "created_at": "2014-11-19T07:15:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272344",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e1f57f5e44d352fc009217a952c8a108a510b146](https://github.com/sagemath/sagetrac-mirror/commit/e1f57f5e44d352fc009217a952c8a108a510b146)" to "[821808ee3cbd503414058b6d289da3ffdf31e153](https://github.com/sagemath/sagetrac-mirror/commit/821808ee3cbd503414058b6d289da3ffdf31e153)".



---

archive/issue_comments_272345.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/821808ee3cbd503414058b6d289da3ffdf31e153\">821808e</a></td><td><code>Changing one test to manually look up all key values</code></td></tr></table>\n",
    "created_at": "2014-11-19T07:15:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272345",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/821808ee3cbd503414058b6d289da3ffdf31e153">821808e</a></td><td><code>Changing one test to manually look up all key values</code></td></tr></table>




---

archive/issue_comments_272346.json:
```json
{
    "body": "<a id='comment:120'></a>\nReplying to [tscrim](#comment%3A118):\n> I wouldn't mark them as `# random`, then the only thing that gets tested is that there is no error returned. If the doctest ordering can't be sorted uniformly, then I'd test specific properties. Although I thought we did something with our doctests involving dicts so that the output was sorted...?\n\n\nI was suggesting the `# random` not from the testing point of view but from a point of view of accessibility of new users viewing the docs and knowing what the output 'should almost certainly look like'. So I'm suggesting putting one of these at the top of the front matter saying something like 'Output of the solve method is a dictionary as shown (the order of this might differ on your machine)::'\n\nI think there is something in the dicts that ensures that output is sorted. This seemed evident when I put in the relevant methods to be able to sort instances of `Players` but it looks like this one very particular example is enough to throw it off where my machine 1 sorted numerical variables before strings and my machine 2 the other way around.\n\nMy last commit 821898e I think is the best way to go with this. If the ordered output of a dictionary cannot be guaranteed, the output of a given key of that dictionary certainly can. So I suggest going through each element (manually) and viewing the output. \n\nSo I've gone with:\n\n```\nsage: D = g.solve()\nsage: D['Mercutio']\nsage: 'Rosaline'\nsage: D['Romeo']\n'Juliet'\nsage: D[3]\n-3\n```\n\nI think that to ensure tests pass on all machines etc this only needs to be done for some of the dictionaries (where strings and numerical variables are mixed) as the dictionaries do seem to be sorted as far as I can see (please correct me if I'm talking nonsense). I don't think it's a big deal to do it for all of the tests though.\n\nI think this has the advantage of being readable and accessible to those reading the docs who don't really know about lambda functions and other subtleties...\n\nI've only done it for the one test (the one causing issues) but throughout the day (am chairing a Careers fair today) I might have some time to jump on the ol' laptop.",
    "created_at": "2014-11-19T07:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272346",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:120'></a>
Replying to [tscrim](#comment%3A118):
> I wouldn't mark them as `# random`, then the only thing that gets tested is that there is no error returned. If the doctest ordering can't be sorted uniformly, then I'd test specific properties. Although I thought we did something with our doctests involving dicts so that the output was sorted...?


I was suggesting the `# random` not from the testing point of view but from a point of view of accessibility of new users viewing the docs and knowing what the output 'should almost certainly look like'. So I'm suggesting putting one of these at the top of the front matter saying something like 'Output of the solve method is a dictionary as shown (the order of this might differ on your machine)::'

I think there is something in the dicts that ensures that output is sorted. This seemed evident when I put in the relevant methods to be able to sort instances of `Players` but it looks like this one very particular example is enough to throw it off where my machine 1 sorted numerical variables before strings and my machine 2 the other way around.

My last commit 821898e I think is the best way to go with this. If the ordered output of a dictionary cannot be guaranteed, the output of a given key of that dictionary certainly can. So I suggest going through each element (manually) and viewing the output. 

So I've gone with:

```
sage: D = g.solve()
sage: D['Mercutio']
sage: 'Rosaline'
sage: D['Romeo']
'Juliet'
sage: D[3]
-3
```

I think that to ensure tests pass on all machines etc this only needs to be done for some of the dictionaries (where strings and numerical variables are mixed) as the dictionaries do seem to be sorted as far as I can see (please correct me if I'm talking nonsense). I don't think it's a big deal to do it for all of the tests though.

I think this has the advantage of being readable and accessible to those reading the docs who don't really know about lambda functions and other subtleties...

I've only done it for the one test (the one causing issues) but throughout the day (am chairing a Careers fair today) I might have some time to jump on the ol' laptop.



---

archive/issue_comments_272347.json:
```json
{
    "body": "<a id='comment:1'></a>\nPerhaps you could use `sorted(d.items(), key=lambda x: repr(x[0])` for that particular case. I think (nearly) all users will know the order doesn't matter (if not, then perhaps in that case we teach them about basic python structures), but I might have been swallowed by the snake too long ago to see things clearly. `:P` Enjoy the career fair, I'm calling it a night and will come back to this tomorrow.",
    "created_at": "2014-11-19T07:33:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272347",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
Perhaps you could use `sorted(d.items(), key=lambda x: repr(x[0])` for that particular case. I think (nearly) all users will know the order doesn't matter (if not, then perhaps in that case we teach them about basic python structures), but I might have been swallowed by the snake too long ago to see things clearly. `:P` Enjoy the career fair, I'm calling it a night and will come back to this tomorrow.



---

archive/issue_comments_272348.json:
```json
{
    "body": "<a id='comment:122'></a>\nReplying to [tscrim](#comment%3A121):\n> Perhaps you could use `sorted(d.items(), key=lambda x: repr(x[0])` for that particular case. I think (nearly) all users will know the order doesn't matter (if not, then perhaps in that case we teach them about basic python structures), but I might have been swallowed by the snake too long ago to see things clearly. `:P` Enjoy the career fair, I'm calling it a night and will come back to this tomorrow.\n\n\nThat does work but I'd think that it's a bit of a mouthful for people who are just getting to know the snake (so perhaps coming to Sage just to use this aspect: I think I'm talking about a very small minority here but still). I'm happy to leave out the general example of a dictionary tough and just use each key as required. (I might be talking about a different 'particular case' than you were...)\n\nOver the next couple of days (probably lying to myself and will do this sooner as it's more fun than other stuff I have to do) I'll re-write the tests so that they pass on my two machines. Once I push them up you guys can let me know what you think? Actually having things working on my side is probably a good starting point...\n\nThanks again for the time/help!",
    "created_at": "2014-11-19T13:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272348",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:122'></a>
Replying to [tscrim](#comment%3A121):
> Perhaps you could use `sorted(d.items(), key=lambda x: repr(x[0])` for that particular case. I think (nearly) all users will know the order doesn't matter (if not, then perhaps in that case we teach them about basic python structures), but I might have been swallowed by the snake too long ago to see things clearly. `:P` Enjoy the career fair, I'm calling it a night and will come back to this tomorrow.


That does work but I'd think that it's a bit of a mouthful for people who are just getting to know the snake (so perhaps coming to Sage just to use this aspect: I think I'm talking about a very small minority here but still). I'm happy to leave out the general example of a dictionary tough and just use each key as required. (I might be talking about a different 'particular case' than you were...)

Over the next couple of days (probably lying to myself and will do this sooner as it's more fun than other stuff I have to do) I'll re-write the tests so that they pass on my two machines. Once I push them up you guys can let me know what you think? Actually having things working on my side is probably a good starting point...

Thanks again for the time/help!



---

archive/issue_comments_272349.json:
```json
{
    "body": "<a id='comment:3'></a>\nI haven't looked at the comments since I last peeked in yet, but apparently you can go back to dictionary form for most of the doctests - see #16746, which Jeroen pointed me to.\n\nHowever, for Mercutio et al. I'm not sure if this will help, looking into it.\n\nEdit: \n> Although I thought we did something with our doctests involving dicts so that the output was sorted...?\n>  as the dictionaries do seem to be sorted as far as I can see \n\n\nYeah, that is what that is, I think.  Sorry for not having been aware of this.\n\n> I think (nearly) all users will know the order doesn't matter\n\nUmm, not even close.  Certainly not people new to programming, and likely not people coming from other languages.  This is actually a relatively subtle point.\n\nThat said, for this ONE doctest I think that just checking a few of the elements is fine, because the output style will have been shown in many other examples.  Good idea.",
    "created_at": "2014-11-19T13:51:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272349",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'></a>
I haven't looked at the comments since I last peeked in yet, but apparently you can go back to dictionary form for most of the doctests - see #16746, which Jeroen pointed me to.

However, for Mercutio et al. I'm not sure if this will help, looking into it.

Edit: 
> Although I thought we did something with our doctests involving dicts so that the output was sorted...?
>  as the dictionaries do seem to be sorted as far as I can see 


Yeah, that is what that is, I think.  Sorry for not having been aware of this.

> I think (nearly) all users will know the order doesn't matter

Umm, not even close.  Certainly not people new to programming, and likely not people coming from other languages.  This is actually a relatively subtle point.

That said, for this ONE doctest I think that just checking a few of the elements is fine, because the output style will have been shown in many other examples.  Good idea.



---

archive/issue_comments_272350.json:
```json
{
    "body": "<a id='comment:4'></a>\nSuggestion:\n\n```\nsage: D = get_strange_dict_with_integers_and_strings()\nsage: D == {'Mercutio': 'Rosaline', 'Romeo': 'Juliet', 3: -3}\nTrue\n```",
    "created_at": "2014-11-19T14:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272350",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
Suggestion:

```
sage: D = get_strange_dict_with_integers_and_strings()
sage: D == {'Mercutio': 'Rosaline', 'Romeo': 'Juliet', 3: -3}
True
```



---

archive/issue_comments_272351.json:
```json
{
    "body": "<a id='comment:125'></a>\n> Suggestion:\n> \n> ```\n> sage: D = get_strange_dict_with_integers_and_strings()\n> sage: D == {'Mercutio': 'Rosaline', 'Romeo': 'Juliet', 3: -3}\n> True\n> ```\n\nThis seems very useful, thanks!",
    "created_at": "2014-11-19T14:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272351",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:125'></a>
> Suggestion:
> 
> ```
> sage: D = get_strange_dict_with_integers_and_strings()
> sage: D == {'Mercutio': 'Rosaline', 'Romeo': 'Juliet', 3: -3}
> True
> ```

This seems very useful, thanks!



---

archive/issue_comments_272352.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd9e6247db6c4f01f7155724ae39020c29053ae6\">fd9e624</a></td><td><code>Have rewritten test in given place for weird dictionaries, have not gone with suggestion as feel this is more accesible</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b00826140336550e79775f9df3292481fbb866c5\">b008261</a></td><td><code>Fixing another test that could fail because of strange ordering of dictionary</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a33b19deb240bcf55bb34520d1171df75980ea8b\">a33b19d</a></td><td><code>Trying key based sort of items</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73e025f5ca38d9524d7ed86bdfd05a24dcfaa4d7\">73e025f</a></td><td><code>Merge branch '16331' of github.com:theref/sage-game-theory into 16331</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d64661ef4f207defa80af7886bebbf467eca33c\">4d64661</a></td><td><code>Removing tests that are no longer needed</code></td></tr></table>\n",
    "created_at": "2014-11-19T18:57:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272352",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd9e6247db6c4f01f7155724ae39020c29053ae6">fd9e624</a></td><td><code>Have rewritten test in given place for weird dictionaries, have not gone with suggestion as feel this is more accesible</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b00826140336550e79775f9df3292481fbb866c5">b008261</a></td><td><code>Fixing another test that could fail because of strange ordering of dictionary</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a33b19deb240bcf55bb34520d1171df75980ea8b">a33b19d</a></td><td><code>Trying key based sort of items</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73e025f5ca38d9524d7ed86bdfd05a24dcfaa4d7">73e025f</a></td><td><code>Merge branch '16331' of github.com:theref/sage-game-theory into 16331</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d64661ef4f207defa80af7886bebbf467eca33c">4d64661</a></td><td><code>Removing tests that are no longer needed</code></td></tr></table>




---

archive/issue_comments_272353.json:
```json
{
    "body": "**Changing commit** from \"[821808ee3cbd503414058b6d289da3ffdf31e153](https://github.com/sagemath/sagetrac-mirror/commit/821808ee3cbd503414058b6d289da3ffdf31e153)\" to \"[4d64661ef4f207defa80af7886bebbf467eca33c](https://github.com/sagemath/sagetrac-mirror/commit/4d64661ef4f207defa80af7886bebbf467eca33c)\".",
    "created_at": "2014-11-19T18:57:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272353",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[821808ee3cbd503414058b6d289da3ffdf31e153](https://github.com/sagemath/sagetrac-mirror/commit/821808ee3cbd503414058b6d289da3ffdf31e153)" to "[4d64661ef4f207defa80af7886bebbf467eca33c](https://github.com/sagemath/sagetrac-mirror/commit/4d64661ef4f207defa80af7886bebbf467eca33c)".



---

archive/issue_comments_272354.json:
```json
{
    "body": "<a id='comment:7'></a>\nOk so I've gone ahead and changed the test in the spots where we had strange dictionaries with a mixture of key types.\nThey now all pass on both my machines.\n\nI haven't gone with jdemeyer's suggestion (very humbly and of course happy to change it). I felt that going through the keys individually was perhaps more helpful from the point of view of documentation (I agree that from the point of view of tests that the suggestion is better as it corresponds to a single test instead of 3). Let me know what you think.",
    "created_at": "2014-11-19T19:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272354",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:7'></a>
Ok so I've gone ahead and changed the test in the spots where we had strange dictionaries with a mixture of key types.
They now all pass on both my machines.

I haven't gone with jdemeyer's suggestion (very humbly and of course happy to change it). I felt that going through the keys individually was perhaps more helpful from the point of view of documentation (I agree that from the point of view of tests that the suggestion is better as it corresponds to a single test instead of 3). Let me know what you think.



---

archive/issue_comments_272355.json:
```json
{
    "body": "<a id='comment:8'></a>\n\n```\n                 and all(r1.pref == r2.pref for r1, r2 in\n                     zip(set(self._reviewers), set(other._reviewers)))\n```\nDoesn't *this* rely ultimately on `set` ordering things as well?  (Which I don't thin it does.) I'm not trying to annoy - this is really a very minor point at this point, though should be resolved.  Anyway, everything else seems quite fine - currently running tests.",
    "created_at": "2014-11-19T19:55:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272355",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>

```
                 and all(r1.pref == r2.pref for r1, r2 in
                     zip(set(self._reviewers), set(other._reviewers)))
```
Doesn't *this* rely ultimately on `set` ordering things as well?  (Which I don't thin it does.) I'm not trying to annoy - this is really a very minor point at this point, though should be resolved.  Anyway, everything else seems quite fine - currently running tests.



---

archive/issue_comments_272356.json:
```json
{
    "body": "<a id='comment:9'></a>\nTests are fine, had an issue with docs building but that is probably unrelated.",
    "created_at": "2014-11-19T20:27:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272356",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:9'></a>
Tests are fine, had an issue with docs building but that is probably unrelated.



---

archive/issue_comments_272357.json:
```json
{
    "body": "<a id='comment:0'></a>\nAmazingly, there is STILL one tiny doc thing.\n\n```\n        If we add a reviewer without passing a name then the name\n        of the reviewer will not use one that is already chosen.\n```\nNeeds two colons, like its partner about suitors.  I saw this before but somehow didn't put it in the diff in[comment:101](#comment%3A101).",
    "created_at": "2014-11-19T20:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272357",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:0'></a>
Amazingly, there is STILL one tiny doc thing.

```
        If we add a reviewer without passing a name then the name
        of the reviewer will not use one that is already chosen.
```
Needs two colons, like its partner about suitors.  I saw this before but somehow didn't put it in the diff in[comment:101](#comment%3A101).



---

archive/issue_comments_272358.json:
```json
{
    "body": "<a id='comment:1'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9388c72ebdefe9ada87f45eb93bc8e33e0bc67b\">f9388c7</a></td><td><code>Adding missing semi colon</code></td></tr></table>\n",
    "created_at": "2014-11-20T14:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272358",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9388c72ebdefe9ada87f45eb93bc8e33e0bc67b">f9388c7</a></td><td><code>Adding missing semi colon</code></td></tr></table>




---

archive/issue_comments_272359.json:
```json
{
    "body": "**Changing commit** from \"[4d64661ef4f207defa80af7886bebbf467eca33c](https://github.com/sagemath/sagetrac-mirror/commit/4d64661ef4f207defa80af7886bebbf467eca33c)\" to \"[f9388c72ebdefe9ada87f45eb93bc8e33e0bc67b](https://github.com/sagemath/sagetrac-mirror/commit/f9388c72ebdefe9ada87f45eb93bc8e33e0bc67b)\".",
    "created_at": "2014-11-20T14:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272359",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4d64661ef4f207defa80af7886bebbf467eca33c](https://github.com/sagemath/sagetrac-mirror/commit/4d64661ef4f207defa80af7886bebbf467eca33c)" to "[f9388c72ebdefe9ada87f45eb93bc8e33e0bc67b](https://github.com/sagemath/sagetrac-mirror/commit/f9388c72ebdefe9ada87f45eb93bc8e33e0bc67b)".



---

archive/issue_comments_272360.json:
```json
{
    "body": "<a id='comment:132'></a>\nReplying to [kcrisman](#comment%3A128):\n> \n> ```\n>                  and all(r1.pref == r2.pref for r1, r2 in\n>                      zip(set(self._reviewers), set(other._reviewers)))\n> ```\n> Doesn't *this* rely ultimately on `set` ordering things as well?  (Which I don't thin it does.) I'm not trying to annoy - this is really a very minor point at this point, though should be resolved.  Anyway, everything else seems quite fine - currently running tests.\n\n\nNot at all annoying: I think we want the same thing which is to get the best possible final version in to Sage - really appreciate everyone's time and effort :)\n\nI did panic here for a bit but I think it's actually ok. The discrepancies in sorting do not happen on a single system: the differences are between two different systems so the way things are sorted on any given Sage session will be the same, right?\n\nIe I think this is not a problem when it comes to testing equality.\n\nI've just pushed that semicolon change to docs. \n\nEDIT: Sorry: double colon.",
    "created_at": "2014-11-20T15:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272360",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:132'></a>
Replying to [kcrisman](#comment%3A128):
> 
> ```
>                  and all(r1.pref == r2.pref for r1, r2 in
>                      zip(set(self._reviewers), set(other._reviewers)))
> ```
> Doesn't *this* rely ultimately on `set` ordering things as well?  (Which I don't thin it does.) I'm not trying to annoy - this is really a very minor point at this point, though should be resolved.  Anyway, everything else seems quite fine - currently running tests.


Not at all annoying: I think we want the same thing which is to get the best possible final version in to Sage - really appreciate everyone's time and effort :)

I did panic here for a bit but I think it's actually ok. The discrepancies in sorting do not happen on a single system: the differences are between two different systems so the way things are sorted on any given Sage session will be the same, right?

Ie I think this is not a problem when it comes to testing equality.

I've just pushed that semicolon change to docs. 

EDIT: Sorry: double colon.



---

archive/issue_comments_272361.json:
```json
{
    "body": "<a id='comment:133'></a>\n> > \n> > ```\n> >                  and all(r1.pref == r2.pref for r1, r2 in\n> >                      zip(set(self._reviewers), set(other._reviewers)))\n> > ```\n> > Doesn't *this* rely ultimately on `set` ordering things as well?  (Which I don't thin it does.) I'm not trying to annoy - this is really a very minor point at this point, though should be resolved.  Anyway, everything else seems quite fine - currently running tests.\n\n> I did panic here for a bit but I think it's actually ok. The discrepancies in sorting do not happen on a single system: the differences are between two different systems so the way things are sorted on any given Sage session will be the same, right?\n\nWhat I meant was that when comparing preferences, it sort of assumes that the ordering of the reviewers in the two games will be the same, relative to their preferences. \n\nBut I think this is okay, because you are only suggesting things be equal if the names are the same, so that e.g. suitors can be added in a different order, but you would only have the games be the same if the names and preferences for that name corresponded, not if the games are *isomorphic*.  Am I right?",
    "created_at": "2014-11-20T15:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272361",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:133'></a>
> > 
> > ```
> >                  and all(r1.pref == r2.pref for r1, r2 in
> >                      zip(set(self._reviewers), set(other._reviewers)))
> > ```
> > Doesn't *this* rely ultimately on `set` ordering things as well?  (Which I don't thin it does.) I'm not trying to annoy - this is really a very minor point at this point, though should be resolved.  Anyway, everything else seems quite fine - currently running tests.

> I did panic here for a bit but I think it's actually ok. The discrepancies in sorting do not happen on a single system: the differences are between two different systems so the way things are sorted on any given Sage session will be the same, right?

What I meant was that when comparing preferences, it sort of assumes that the ordering of the reviewers in the two games will be the same, relative to their preferences. 

But I think this is okay, because you are only suggesting things be equal if the names are the same, so that e.g. suitors can be added in a different order, but you would only have the games be the same if the names and preferences for that name corresponded, not if the games are *isomorphic*.  Am I right?



---

archive/issue_comments_272362.json:
```json
{
    "body": "<a id='comment:134'></a>\nReplying to [kcrisman](#comment%3A133):\n> > > \n> > > ```\n> > >                  and all(r1.pref == r2.pref for r1, r2 in\n> > >                      zip(set(self._reviewers), set(other._reviewers)))\n> > > ```\n> > > Doesn't *this* rely ultimately on `set` ordering things as well?  (Which I don't thin it does.) I'm not trying to annoy - this is really a very minor point at this point, though should be resolved.  Anyway, everything else seems quite fine - currently running tests.\n\n> > I did panic here for a bit but I think it's actually ok. The discrepancies in sorting do not happen on a single system: the differences are between two different systems so the way things are sorted on any given Sage session will be the same, right?\n> \n> What I meant was that when comparing preferences, it sort of assumes that the ordering of the reviewers in the two games will be the same, relative to their preferences. \n> \n> But I think this is okay, because you are only suggesting things be equal if the names are the same, so that e.g. suitors can be added in a different order, but you would only have the games be the same if the names and preferences for that name corresponded, not if the games are *isomorphic*.  Am I right?\n\n\nYeah that's correct (if I'm understanding correctly): the equality is based only on the names (which is because of the underling `sort`methods that the players now have).",
    "created_at": "2014-11-20T15:36:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272362",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:134'></a>
Replying to [kcrisman](#comment%3A133):
> > > 
> > > ```
> > >                  and all(r1.pref == r2.pref for r1, r2 in
> > >                      zip(set(self._reviewers), set(other._reviewers)))
> > > ```
> > > Doesn't *this* rely ultimately on `set` ordering things as well?  (Which I don't thin it does.) I'm not trying to annoy - this is really a very minor point at this point, though should be resolved.  Anyway, everything else seems quite fine - currently running tests.

> > I did panic here for a bit but I think it's actually ok. The discrepancies in sorting do not happen on a single system: the differences are between two different systems so the way things are sorted on any given Sage session will be the same, right?
> 
> What I meant was that when comparing preferences, it sort of assumes that the ordering of the reviewers in the two games will be the same, relative to their preferences. 
> 
> But I think this is okay, because you are only suggesting things be equal if the names are the same, so that e.g. suitors can be added in a different order, but you would only have the games be the same if the names and preferences for that name corresponded, not if the games are *isomorphic*.  Am I right?


Yeah that's correct (if I'm understanding correctly): the equality is based only on the names (which is because of the underling `sort`methods that the players now have).



---

archive/issue_comments_272363.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2014-11-20T16:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272363",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_272364.json:
```json
{
    "body": "<a id='comment:6'></a>\nFor future reference, Karl brings up a good distinction, `==` does not have to mean isomorphic, even for canonical isomorphisms (as often times in Sage, for example `QQ['x','y'] == QQ['y','x']` is `False`).",
    "created_at": "2014-11-20T16:49:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272364",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
For future reference, Karl brings up a good distinction, `==` does not have to mean isomorphic, even for canonical isomorphisms (as often times in Sage, for example `QQ['x','y'] == QQ['y','x']` is `False`).



---

archive/issue_events_054770.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-22T17:18:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16331#event-54770"
}
```



---

archive/issue_comments_272365.json:
```json
{
    "body": "**Changing branch** from \"[u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_](https://github.com/sagemath/sagetrac-mirror/tree/u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_)\" to \"[f9388c72ebdefe9ada87f45eb93bc8e33e0bc67b](https://github.com/sagemath/sagetrac-mirror/commit/f9388c72ebdefe9ada87f45eb93bc8e33e0bc67b)\".",
    "created_at": "2014-11-22T17:18:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272365",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_](https://github.com/sagemath/sagetrac-mirror/tree/u/vinceknight/game_theory__build_capacity_to_solve_matching_games_in_to_sage_)" to "[f9388c72ebdefe9ada87f45eb93bc8e33e0bc67b](https://github.com/sagemath/sagetrac-mirror/commit/f9388c72ebdefe9ada87f45eb93bc8e33e0bc67b)".



---

archive/issue_comments_272366.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2014-11-22T17:18:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16331#issuecomment-272366",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed
