# Issue 16026: Upgrade dot2tex spkg and make it work with most recent matplotlib

archive/issues_015789.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-sage-combinat"
    ],
    "body": "With the most recent matplotlib (1.3.1 merged in 6.2.beta5 in #14993), dot2tex is not recognized and so graphs (crystals in particular) fail to display properly:\n\n```\nsage: C = KirillovReshetikhinCrystal(['A',5,2], 3,1)\nsage: view(C)\ndot2tex not available.  Install after running 'sage -sh'\n```\n\nSo we upgrade dot2tex to the latest development version and fix things up so this works with the most recent matplotlib.\n\nUpstreamt tarball: http://boxen.math.washington.edu/home/vbraun/upstream/dot2tex-20120520.tar.bz2\n\nCC:  @sagetrac-sage-combinat @anneschilling @vbraun @nthiery @nathanncohen @nexttime @bsalisbury1\n\nKeywords: **dot2tex**\n\nBranch: **[`80fe9f9`](https://github.com/sagemath/sagetrac-mirror/commit/80fe9f9768279a14fa15570bbff81b28b695b14d)**\n\nUpstream: **Reported upstream. No feedback yet.**\n\nReviewer: **Anne Schilling, Travis Scrimshaw**\n\nAuthor: **Volker Braun**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16026_\n\n",
    "closed_at": "2014-04-04T15:55:43Z",
    "created_at": "2014-03-27T21:26:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade dot2tex spkg and make it work with most recent matplotlib",
    "type": "issue",
    "updated_at": "2015-01-08T16:08:32Z",
    "url": "https://github.com/sagemath/sage/issues/16026",
    "user": "https://github.com/tscrim"
}
```
With the most recent matplotlib (1.3.1 merged in 6.2.beta5 in #14993), dot2tex is not recognized and so graphs (crystals in particular) fail to display properly:

```
sage: C = KirillovReshetikhinCrystal(['A',5,2], 3,1)
sage: view(C)
dot2tex not available.  Install after running 'sage -sh'
```

So we upgrade dot2tex to the latest development version and fix things up so this works with the most recent matplotlib.

Upstreamt tarball: http://boxen.math.washington.edu/home/vbraun/upstream/dot2tex-20120520.tar.bz2

CC:  @sagetrac-sage-combinat @anneschilling @vbraun @nthiery @nathanncohen @nexttime @bsalisbury1

Keywords: **dot2tex**

Branch: **[`80fe9f9`](https://github.com/sagemath/sagetrac-mirror/commit/80fe9f9768279a14fa15570bbff81b28b695b14d)**

Upstream: **Reported upstream. No feedback yet.**

Reviewer: **Anne Schilling, Travis Scrimshaw**

Author: **Volker Braun**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/16026_





---

archive/issue_events_226644.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-03-27T21:26:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226644"
}
```



---

archive/issue_events_226645.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-03-27T21:26:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226645"
}
```



---

archive/issue_events_226646.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-03-27T21:26:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226646"
}
```



---

archive/issue_events_226647.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-03-27T21:26:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226647"
}
```



---

archive/issue_events_226648.json:
```json
{
    "actor": "https://github.com/sagetrac-sage-combinat",
    "created_at": "2014-03-27T21:26:49Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "subject": "https://github.com/tscrim",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226648"
}
```



---

archive/issue_comments_203773.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,12 +3,15 @@\n ```\n sage: C = KirillovReshetikhinCrystal(['A',5,2], 1,1)\n sage: view(C, tightpage=True) # Latex error\n+```\n+Same for:\n \n+```\n sage: C = KirillovReshetikhinCrystal(['A',5,2], 2,1)\n-sage: view(C, tightpage=True) # Latex error\n-\n sage: C = KirillovReshetikhinCrystal(['A',7,2], 1,1)\n-sage: view(C, tightpage=True) # Latex error\n+sage: C = KirillovReshetikhinCrystal(['B',3,1], 1,1)\n+sage: C = KirillovReshetikhinCrystal(['D',4,1], 1,1)\n+sage: C = KirillovReshetikhinCrystal(['D',4,1], 3,1)\n ```\n But these all work:\n \n@@ -17,5 +20,7 @@\n sage: C = KirillovReshetikhinCrystal(['A',5,2], 1,2)\n sage: C = KirillovReshetikhinCrystal(['A',5,2], 2,2)\n sage: C = KirillovReshetikhinCrystal(['A',4,2], 1,1)\n+sage: C = KirillovReshetikhinCrystal(['D',4,1], 3,2)\n+sage: TP = TensorProductOfKirillovReshetikhinTableaux(['A',5,2], [[1,1]])\n ```\n Same for KR tableaux as well.\n``````\n",
    "created_at": "2014-03-27T23:13:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203773",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,12 +3,15 @@
 ```
 sage: C = KirillovReshetikhinCrystal(['A',5,2], 1,1)
 sage: view(C, tightpage=True) # Latex error
+```
+Same for:
 
+```
 sage: C = KirillovReshetikhinCrystal(['A',5,2], 2,1)
-sage: view(C, tightpage=True) # Latex error
-
 sage: C = KirillovReshetikhinCrystal(['A',7,2], 1,1)
-sage: view(C, tightpage=True) # Latex error
+sage: C = KirillovReshetikhinCrystal(['B',3,1], 1,1)
+sage: C = KirillovReshetikhinCrystal(['D',4,1], 1,1)
+sage: C = KirillovReshetikhinCrystal(['D',4,1], 3,1)
 ```
 But these all work:
 
@@ -17,5 +20,7 @@
 sage: C = KirillovReshetikhinCrystal(['A',5,2], 1,2)
 sage: C = KirillovReshetikhinCrystal(['A',5,2], 2,2)
 sage: C = KirillovReshetikhinCrystal(['A',4,2], 1,1)
+sage: C = KirillovReshetikhinCrystal(['D',4,1], 3,2)
+sage: TP = TensorProductOfKirillovReshetikhinTableaux(['A',5,2], [[1,1]])
 ```
 Same for KR tableaux as well.
``````




---

archive/issue_comments_203774.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAlso fails for D,B affine as well. So maybe it has something to do with the `KR_type_vertical`? But it also fails for the D spinors...and works for digraphs on restricted index sets:\n\n```\nsage: C = KirillovReshetikhinCrystal(['A',5,2], 1,1)\nsage: G = C.digraph(index_set=[1,2,3])\nsage: G = C.digraph(index_set=[0,1,2])\n```\nI'm quite puzzled right now about this...",
    "created_at": "2014-03-27T23:13:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203774",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:1" align="right">comment:1</div>

Also fails for D,B affine as well. So maybe it has something to do with the `KR_type_vertical`? But it also fails for the D spinors...and works for digraphs on restricted index sets:

```
sage: C = KirillovReshetikhinCrystal(['A',5,2], 1,1)
sage: G = C.digraph(index_set=[1,2,3])
sage: G = C.digraph(index_set=[0,1,2])
```
I'm quite puzzled right now about this...



---

archive/issue_comments_203775.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nActually, for me none of the above work with the new development version\n\n```\nd184:sage anne$ sage -i dot2tex\nAttempting to download package dot2tex\n>>> Checking online list of optional packages.\n[.]\n>>> Found dot2tex-2.8.7.p2\nPackage dot2tex-2.8.7.p2 is already installed.\nUse 'sage -f http://www.sagemath.org/spkg/optional/dot2tex-2.8.7.p2.spkg' to force a reinstallation.\nd184:sage anne$ sage\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Sage Version 6.2.beta5, Release Date: 2014-03-23                   \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage: C = KirillovReshetikhinCrystal(['A',5,2], 3,1)\nsage: view(C)\ndot2tex not available.  Install after running 'sage -sh'\n```\nThis is terrible! How did this happen??",
    "created_at": "2014-03-27T23:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203775",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:2" align="right">comment:2</div>

Actually, for me none of the above work with the new development version

```
d184:sage anne$ sage -i dot2tex
Attempting to download package dot2tex
>>> Checking online list of optional packages.
[.]
>>> Found dot2tex-2.8.7.p2
Package dot2tex-2.8.7.p2 is already installed.
Use 'sage -f http://www.sagemath.org/spkg/optional/dot2tex-2.8.7.p2.spkg' to force a reinstallation.
d184:sage anne$ sage
┌────────────────────────────────────────────────────────────────────┐
│ Sage Version 6.2.beta5, Release Date: 2014-03-23                   │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage: C = KirillovReshetikhinCrystal(['A',5,2], 3,1)
sage: view(C)
dot2tex not available.  Install after running 'sage -sh'
```
This is terrible! How did this happen??



---

archive/issue_comments_203776.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThis might be more helpful\n\n```\nsage: C = KirillovReshetikhinCrystal(['A',5,2], 1,1)\nsage: view_anne(C)\n---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n<ipython-input-2-8553f374adee> in <module>()\n----> 1 view_anne(C)\n\n<ipython-input-1-667d302d2adc> in view_anne(x, **options)\n     18         x = copy(x)\n     19         x.set_latex_options(**latex_options)\n---> 20     view(x, **options)\n     21 \n     22 \n\n/Applications/sage/local/lib/python2.7/site-packages/sage/misc/latex.pyc in view(objects, title, debug, sep, tiny, pdflatex, engine, viewer, tightpage, mode, combine_all, **kwds)\n   2144     else:\n   2145         latex_options = {}\n-> 2146     s = _latex_file_(objects, title=title, sep=sep, tiny=tiny, debug=debug, **latex_options)\n   2147     if engine is None:\n   2148         engine = _Latex_prefs._option[\"engine\"]\n\n/Applications/sage/local/lib/python2.7/site-packages/sage/misc/latex.pyc in _latex_file_(objects, title, debug, sep, tiny, math_left, math_right, extra_preamble)\n   1753         for i in range(len(objects)):\n   1754             x = objects[i]\n-> 1755             L = latex(x)\n   1756             if not '\\\\begin{verbatim}' in L:\n   1757                 s += '%s%s%s'%(math_left, L, math_right)\n\n/Applications/sage/local/lib/python2.7/site-packages/sage/misc/latex.pyc in __call__(self, x, combine_all)\n    912         \"\"\"\n    913         if has_latex_attr(x):\n--> 914             return LatexExpr(x._latex_())\n    915         try:\n    916             f = latex_table[type(x)]\n\n/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in _latex_(self)\n    651         setup_latex_preamble()\n    652 \n--> 653         return self.latex_options().latex()\n    654 \n    655     def _matrix_(self, R=None):\n\n/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/graph_latex.pyc in latex(self)\n   1312             return self.tkz_picture()\n   1313         elif format == \"dot2tex\":\n-> 1314             return self.dot2tex_picture()\n   1315 \n   1316     def dot2tex_picture(self):\n\n/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/graph_latex.pyc in dot2tex_picture(self)\n   1344         \"\"\"\n   1345         from sage.graphs.dot2tex_utils import assert_have_dot2tex\n-> 1346         assert_have_dot2tex()\n   1347 \n   1348         options = self.__graphlatex_options.copy()\n\n/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/dot2tex_utils.pyc in assert_have_dot2tex()\n     60             raise RuntimeError(check_error_string)\n     61     except ImportError:\n---> 62         raise RuntimeError(missing_error_string)\n     63 \n     64 def quoted_latex(x):\n\nRuntimeError: \ndot2tex not available.\n\nPlease see :meth:`sage.graphs.generic_graph.GenericGraph.layout_graphviz`\nfor installation instructions.\n```",
    "created_at": "2014-03-27T23:34:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203776",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:4" align="right">comment:4</div>

This might be more helpful

```
sage: C = KirillovReshetikhinCrystal(['A',5,2], 1,1)
sage: view_anne(C)
---------------------------------------------------------------------------
RuntimeError                              Traceback (most recent call last)
<ipython-input-2-8553f374adee> in <module>()
----> 1 view_anne(C)

<ipython-input-1-667d302d2adc> in view_anne(x, **options)
     18         x = copy(x)
     19         x.set_latex_options(**latex_options)
---> 20     view(x, **options)
     21 
     22 

/Applications/sage/local/lib/python2.7/site-packages/sage/misc/latex.pyc in view(objects, title, debug, sep, tiny, pdflatex, engine, viewer, tightpage, mode, combine_all, **kwds)
   2144     else:
   2145         latex_options = {}
-> 2146     s = _latex_file_(objects, title=title, sep=sep, tiny=tiny, debug=debug, **latex_options)
   2147     if engine is None:
   2148         engine = _Latex_prefs._option["engine"]

/Applications/sage/local/lib/python2.7/site-packages/sage/misc/latex.pyc in _latex_file_(objects, title, debug, sep, tiny, math_left, math_right, extra_preamble)
   1753         for i in range(len(objects)):
   1754             x = objects[i]
-> 1755             L = latex(x)
   1756             if not '\\begin{verbatim}' in L:
   1757                 s += '%s%s%s'%(math_left, L, math_right)

/Applications/sage/local/lib/python2.7/site-packages/sage/misc/latex.pyc in __call__(self, x, combine_all)
    912         """
    913         if has_latex_attr(x):
--> 914             return LatexExpr(x._latex_())
    915         try:
    916             f = latex_table[type(x)]

/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in _latex_(self)
    651         setup_latex_preamble()
    652 
--> 653         return self.latex_options().latex()
    654 
    655     def _matrix_(self, R=None):

/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/graph_latex.pyc in latex(self)
   1312             return self.tkz_picture()
   1313         elif format == "dot2tex":
-> 1314             return self.dot2tex_picture()
   1315 
   1316     def dot2tex_picture(self):

/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/graph_latex.pyc in dot2tex_picture(self)
   1344         """
   1345         from sage.graphs.dot2tex_utils import assert_have_dot2tex
-> 1346         assert_have_dot2tex()
   1347 
   1348         options = self.__graphlatex_options.copy()

/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/dot2tex_utils.pyc in assert_have_dot2tex()
     60             raise RuntimeError(check_error_string)
     61     except ImportError:
---> 62         raise RuntimeError(missing_error_string)
     63 
     64 def quoted_latex(x):

RuntimeError: 
dot2tex not available.

Please see :meth:`sage.graphs.generic_graph.GenericGraph.layout_graphviz`
for installation instructions.
```



---

archive/issue_comments_203777.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nOkay the problem is in that the latex produced, one of the controls is very small. In fact I get a `2.8588e-15`, and pdflatex errors out saying (ironically)\n\n> ! Dimension too large.\n\nIf I set that value to 0, I'm able to compile. So I'm just going to replace them out.",
    "created_at": "2014-03-27T23:39:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203777",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">comment:6</div>

Okay the problem is in that the latex produced, one of the controls is very small. In fact I get a `2.8588e-15`, and pdflatex errors out saying (ironically)

> ! Dimension too large.

If I set that value to 0, I'm able to compile. So I'm just going to replace them out.



---

archive/issue_events_226649.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-03-27T23:44:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226649"
}
```



---

archive/issue_comments_203778.json:
```json
{
    "body": "Commit: **[`58607e6`](https://github.com/sagemath/sagetrac-mirror/commit/58607e63a6c0e12e49ef7e5b26abe0bf751ef4a1)**",
    "created_at": "2014-03-27T23:44:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203778",
    "user": "https://github.com/tscrim"
}
```

Commit: **[`58607e6`](https://github.com/sagemath/sagetrac-mirror/commit/58607e63a6c0e12e49ef7e5b26abe0bf751ef4a1)**



---

archive/issue_comments_203779.json:
```json
{
    "body": "Author: **Travis Scrimshaw**",
    "created_at": "2014-03-27T23:44:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203779",
    "user": "https://github.com/tscrim"
}
```

Author: **Travis Scrimshaw**



---

archive/issue_comments_203780.json:
```json
{
    "body": "Branch: **[public/combinat/crystals/fix_A2odd_KR-16026](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/crystals/fix_A2odd_KR-16026)**",
    "created_at": "2014-03-27T23:44:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203780",
    "user": "https://github.com/tscrim"
}
```

Branch: **[public/combinat/crystals/fix_A2odd_KR-16026](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/crystals/fix_A2odd_KR-16026)**



---

archive/issue_comments_203781.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nOkay, I've pushed my (hack) fix, but IDK of a good way to put in a test for it. I also can't say what's going on for you Anne as dot2tex works fine for me (on my ubuntu home machine).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58607e63a6c0e12e49ef7e5b26abe0bf751ef4a1\"><code>58607e6</code></a></td><td><code>Fix for numerically small values.</code></td></tr></table>\n",
    "created_at": "2014-03-27T23:44:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203781",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

Okay, I've pushed my (hack) fix, but IDK of a good way to put in a test for it. I also can't say what's going on for you Anne as dot2tex works fine for me (on my ubuntu home machine).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58607e63a6c0e12e49ef7e5b26abe0bf751ef4a1"><code>58607e6</code></a></td><td><code>Fix for numerically small values.</code></td></tr></table>




---

archive/issue_comments_203782.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nWell, for me all viewing worked until I upgraded to sage-6.2.beta5 to check this ticket. And now for some reason Sage thinks that dot2tex is not installed even though it is.",
    "created_at": "2014-03-28T02:58:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203782",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:8" align="right">comment:8</div>

Well, for me all viewing worked until I upgraded to sage-6.2.beta5 to check this ticket. And now for some reason Sage thinks that dot2tex is not installed even though it is.



---

archive/issue_comments_203783.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHmmmm... Instead of working on regexp, couldn't we convert them to float and round them ?....",
    "created_at": "2014-03-28T06:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203783",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

Hmmmm... Instead of working on regexp, couldn't we convert them to float and round them ?....



---

archive/issue_comments_203784.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWouldn't that involve patching the `dot2tex` spkg? Perhaps we should do #14408 and see what happens too?\n\n@anneschilling, perhaps with the recent upgrade of matplotlib (which I didn't do because it errored out for me) is breaking dot2tex similar to #14594.\n\nLeif, do you have any thoughts on this?",
    "created_at": "2014-03-28T15:21:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203784",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

Wouldn't that involve patching the `dot2tex` spkg? Perhaps we should do #14408 and see what happens too?

@anneschilling, perhaps with the recent upgrade of matplotlib (which I didn't do because it errored out for me) is breaking dot2tex similar to #14594.

Leif, do you have any thoughts on this?



---

archive/issue_comments_203785.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nFTR, the matplotlib update ticket is #14993.",
    "created_at": "2014-03-29T15:18:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203785",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">comment:11</div>

FTR, the matplotlib update ticket is #14993.



---

archive/issue_comments_203786.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHi all,\n\nI would like to reiterate that this does not seem to be restricted to KR crystals.  Standard crystals of tableaux yields the same error.\n\n```\nsage: C = crystals.Tableaux(\"B2\",shape=[2,1])\nsage: view(C)\ndot2tex not available.  Install after running 'sage -sh'\n```\n\nI tried to force the install of dot2tex via `sage -i -f dot2tex` (with no reported errors), but the Sage output is still the same error.",
    "created_at": "2014-03-29T16:21:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203786",
    "user": "https://github.com/bsalisbury1"
}
```

<div id="comment:13" align="right">comment:13</div>

Hi all,

I would like to reiterate that this does not seem to be restricted to KR crystals.  Standard crystals of tableaux yields the same error.

```
sage: C = crystals.Tableaux("B2",shape=[2,1])
sage: view(C)
dot2tex not available.  Install after running 'sage -sh'
```

I tried to force the install of dot2tex via `sage -i -f dot2tex` (with no reported errors), but the Sage output is still the same error.



---

archive/issue_comments_203787.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@tscrim](#comment%3A11):\n> FTR, the matplotlib update ticket is #14993.\n\nOk, thanks! I posted a message there! I think this is a major problem if none of the viewing tools work any longer (especially finalizing the k-Schur book and trying to make sure that all commands still work)!",
    "created_at": "2014-03-29T16:37:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203787",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@tscrim](#comment%3A11):
> FTR, the matplotlib update ticket is #14993.

Ok, thanks! I posted a message there! I think this is a major problem if none of the viewing tools work any longer (especially finalizing the k-Schur book and trying to make sure that all commands still work)!



---

archive/issue_comments_203788.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nFirst of all, whats up with the that catch-all \"dot2tex not available\" error message. If you can't be helpful then don't catch errors, just let the exception propagate so we can see what is wrong. And, as usual, if you want a feature to work then you need to doctest it.\n\nYou need to remove patches/use-matplotlib-pyparsing.patch from the dot2tex spkg. Whose idea was it to import internals of matplotlib? Did you think that it is not going to break with the next matplotlib update?",
    "created_at": "2014-03-29T17:04:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203788",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:15" align="right">comment:15</div>

First of all, whats up with the that catch-all "dot2tex not available" error message. If you can't be helpful then don't catch errors, just let the exception propagate so we can see what is wrong. And, as usual, if you want a feature to work then you need to doctest it.

You need to remove patches/use-matplotlib-pyparsing.patch from the dot2tex spkg. Whose idea was it to import internals of matplotlib? Did you think that it is not going to break with the next matplotlib update?



---

archive/issue_comments_203789.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nHi Volker,\n\nWho do you mean by you? I did not write the dot2tex package. See comment 4 for a perhaps more useful error message!\n\nI do not understand your comment about removing patches/use-matplotlib-pyparsing.patch from the dot2tex spkg. Where should I remove this? I went to \n\n```\nsage/local/lib/python2.7/site-packages/dot2tex\n```\nWhen I search both files dot2tex.py and dotparsing.py for .patch there is nothing found. So where do I remove this?\n\nAnne",
    "created_at": "2014-03-29T19:32:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203789",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:16" align="right">comment:16</div>

Hi Volker,

Who do you mean by you? I did not write the dot2tex package. See comment 4 for a perhaps more useful error message!

I do not understand your comment about removing patches/use-matplotlib-pyparsing.patch from the dot2tex spkg. Where should I remove this? I went to 

```
sage/local/lib/python2.7/site-packages/dot2tex
```
When I search both files dot2tex.py and dotparsing.py for .patch there is nothing found. So where do I remove this?

Anne



---

archive/issue_comments_203790.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nHi Volker again,\n\nAlso, how do you recommend to add doctests? There are lots of doctests using view, but they\nare optional, first of all since not everyone has dot2tex installed and second of all, how do you doc test view??\n\nBest,\n\nAnne",
    "created_at": "2014-03-29T19:36:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203790",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:17" align="right">comment:17</div>

Hi Volker again,

Also, how do you recommend to add doctests? There are lots of doctests using view, but they
are optional, first of all since not everyone has dot2tex installed and second of all, how do you doc test view??

Best,

Anne



---

archive/issue_comments_203791.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nHey Anne,\n\nHe means in the corresponding spkg folder (I think it this case it's the upstream tarball since dot2tex hasn't been converted to the new spkg layout yet).\n\nVolker,\n\nLeif did this in #14594 in order to get dot2tex to work because dot2tex needs pyparsing, which newer versions of matplotlib doesn't contain. Instead it has pyparsing_2/3, which needs to be imported. Or something like that.",
    "created_at": "2014-03-29T19:49:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203791",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">comment:18</div>

Hey Anne,

He means in the corresponding spkg folder (I think it this case it's the upstream tarball since dot2tex hasn't been converted to the new spkg layout yet).

Volker,

Leif did this in #14594 in order to get dot2tex to work because dot2tex needs pyparsing, which newer versions of matplotlib doesn't contain. Instead it has pyparsing_2/3, which needs to be imported. Or something like that.



---

archive/issue_comments_203792.json:
```json
{
    "body": "Changed branch from **[public/combinat/crystals/fix_A2odd_KR-16026](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/crystals/fix_A2odd_KR-16026)** to **[u/vbraun/dot2tex](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/dot2tex)**",
    "created_at": "2014-03-29T20:06:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203792",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/combinat/crystals/fix_A2odd_KR-16026](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/crystals/fix_A2odd_KR-16026)** to **[u/vbraun/dot2tex](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/dot2tex)**



---

archive/issue_comments_203793.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThe whole drawing stuff also used invalid node labels that newer dot2tex barfs about...\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4665988e9d922b356704d62370c862696d52ab88\"><code>4665988</code></a></td><td><code>update dot2tex to latest dev version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/702c72b0c4fa9f3247a94a6168daf6fe157a143e\"><code>702c72b</code></a></td><td><code>form valid keys for dot2tex</code></td></tr></table>\n",
    "created_at": "2014-03-29T20:11:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203793",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

The whole drawing stuff also used invalid node labels that newer dot2tex barfs about...

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4665988e9d922b356704d62370c862696d52ab88"><code>4665988</code></a></td><td><code>update dot2tex to latest dev version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/702c72b0c4fa9f3247a94a6168daf6fe157a143e"><code>702c72b</code></a></td><td><code>form valid keys for dot2tex</code></td></tr></table>




---

archive/issue_comments_203794.json:
```json
{
    "body": "Changed commit from **[`58607e6`](https://github.com/sagemath/sagetrac-mirror/commit/58607e63a6c0e12e49ef7e5b26abe0bf751ef4a1)** to **[`702c72b`](https://github.com/sagemath/sagetrac-mirror/commit/702c72b0c4fa9f3247a94a6168daf6fe157a143e)**",
    "created_at": "2014-03-29T20:11:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203794",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[`58607e6`](https://github.com/sagemath/sagetrac-mirror/commit/58607e63a6c0e12e49ef7e5b26abe0bf751ef4a1)** to **[`702c72b`](https://github.com/sagemath/sagetrac-mirror/commit/702c72b0c4fa9f3247a94a6168daf6fe157a143e)**



---

archive/issue_comments_203795.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nAlso, you can doctest the latex generation. And if you need dot2tex all the time then work towards making it a standard package.",
    "created_at": "2014-03-29T20:14:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203795",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:21" align="right">comment:21</div>

Also, you can doctest the latex generation. And if you need dot2tex all the time then work towards making it a standard package.



---

archive/issue_comments_203796.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nTry this spkg: http://sage.math.washington.edu/home/palmieri/SPKG/dot2tex-2.8.7.p3.spkg. It should fix at least some of the problems, I think. (It's not ready for review: it has uncommitted changes, and someone should convert it to a new style package.)",
    "created_at": "2014-03-29T20:19:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203796",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:22" align="right">comment:22</div>

Try this spkg: http://sage.math.washington.edu/home/palmieri/SPKG/dot2tex-2.8.7.p3.spkg. It should fix at least some of the problems, I think. (It's not ready for review: it has uncommitted changes, and someone should convert it to a new style package.)



---

archive/issue_comments_203797.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nSorry, Volker, I didn't notice your branch. It's pretty similar to my spkg, except that I also added this line (maybe unnecessary):\n\n```\n_noncomma = \"\".join( [ c for c in printables if c != \",\" ] )\n```\nto compensate for not importing it.",
    "created_at": "2014-03-29T20:21:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203797",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:23" align="right">comment:23</div>

Sorry, Volker, I didn't notice your branch. It's pretty similar to my spkg, except that I also added this line (maybe unnecessary):

```
_noncomma = "".join( [ c for c in printables if c != "," ] )
```
to compensate for not importing it.



---

archive/issue_comments_203798.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@vbraun](#comment%3A21):\n> Also, you can doctest the latex generation. And if you need dot2tex all the time then work towards making it a standard package. \n\nWe had a discussion about that, and I remember the result being not to do so because it requires graphviz, which we cannot make a standard spkg due to the license.",
    "created_at": "2014-03-29T20:37:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203798",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@vbraun](#comment%3A21):
> Also, you can doctest the latex generation. And if you need dot2tex all the time then work towards making it a standard package. 

We had a discussion about that, and I remember the result being not to do so because it requires graphviz, which we cannot make a standard spkg due to the license.



---

archive/issue_comments_203799.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nMaybe you should use something else to draw your figures, then",
    "created_at": "2014-03-29T20:40:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203799",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">comment:25</div>

Maybe you should use something else to draw your figures, then



---

archive/issue_comments_203800.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8abf26678ad91ba5b4da9fb9f26c91e8a16736b\"><code>e8abf26</code></a></td><td><code>fix more doctest failures</code></td></tr></table>\n",
    "created_at": "2014-03-29T20:46:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203800",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8abf26678ad91ba5b4da9fb9f26c91e8a16736b"><code>e8abf26</code></a></td><td><code>fix more doctest failures</code></td></tr></table>




---

archive/issue_comments_203801.json:
```json
{
    "body": "Changed commit from **[`702c72b`](https://github.com/sagemath/sagetrac-mirror/commit/702c72b0c4fa9f3247a94a6168daf6fe157a143e)** to **[`e8abf26`](https://github.com/sagemath/sagetrac-mirror/commit/e8abf26678ad91ba5b4da9fb9f26c91e8a16736b)**",
    "created_at": "2014-03-29T20:46:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203801",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`702c72b`](https://github.com/sagemath/sagetrac-mirror/commit/702c72b0c4fa9f3247a94a6168daf6fe157a143e)** to **[`e8abf26`](https://github.com/sagemath/sagetrac-mirror/commit/e8abf26678ad91ba5b4da9fb9f26c91e8a16736b)**



---

archive/issue_comments_203802.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nJohn, nothing in dot2tex refers to `_noncomma`.",
    "created_at": "2014-03-29T20:48:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203802",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:27" align="right">comment:27</div>

John, nothing in dot2tex refers to `_noncomma`.



---

archive/issue_comments_203803.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@vbraun](#comment%3A27):\n> John, nothing in dot2tex refers to `_noncomma`.\n\nGreat, so it was just a useless (or old) import on their part.",
    "created_at": "2014-03-29T21:29:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203803",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@vbraun](#comment%3A27):
> John, nothing in dot2tex refers to `_noncomma`.

Great, so it was just a useless (or old) import on their part.



---

archive/issue_comments_203804.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,26 +1,9 @@\n-On a clean 6.2.beta5:\n-\n-```\n-sage: C = KirillovReshetikhinCrystal(['A',5,2], 1,1)\n-sage: view(C, tightpage=True) # Latex error\n-```\n-Same for:\n-\n-```\n-sage: C = KirillovReshetikhinCrystal(['A',5,2], 2,1)\n-sage: C = KirillovReshetikhinCrystal(['A',7,2], 1,1)\n-sage: C = KirillovReshetikhinCrystal(['B',3,1], 1,1)\n-sage: C = KirillovReshetikhinCrystal(['D',4,1], 1,1)\n-sage: C = KirillovReshetikhinCrystal(['D',4,1], 3,1)\n-```\n-But these all work:\n+With the most recent matplotlib (1.3.1 merged in 6.2.beta5 in #14993), dot2tex is not recognized and so graphs (crystals in particular) fail to display properly:\n \n ```\n sage: C = KirillovReshetikhinCrystal(['A',5,2], 3,1)\n-sage: C = KirillovReshetikhinCrystal(['A',5,2], 1,2)\n-sage: C = KirillovReshetikhinCrystal(['A',5,2], 2,2)\n-sage: C = KirillovReshetikhinCrystal(['A',4,2], 1,1)\n-sage: C = KirillovReshetikhinCrystal(['D',4,1], 3,2)\n-sage: TP = TensorProductOfKirillovReshetikhinTableaux(['A',5,2], [[1,1]])\n+sage: view(C)\n+dot2tex not available.  Install after running 'sage -sh'\n ```\n-Same for KR tableaux as well.\n+\n+So we upgrade dot2tex to the latest development version and fix things up so this works with the most recent matplotlib.\n``````\n",
    "created_at": "2014-03-29T21:57:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203804",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,26 +1,9 @@
-On a clean 6.2.beta5:
-
-```
-sage: C = KirillovReshetikhinCrystal(['A',5,2], 1,1)
-sage: view(C, tightpage=True) # Latex error
-```
-Same for:
-
-```
-sage: C = KirillovReshetikhinCrystal(['A',5,2], 2,1)
-sage: C = KirillovReshetikhinCrystal(['A',7,2], 1,1)
-sage: C = KirillovReshetikhinCrystal(['B',3,1], 1,1)
-sage: C = KirillovReshetikhinCrystal(['D',4,1], 1,1)
-sage: C = KirillovReshetikhinCrystal(['D',4,1], 3,1)
-```
-But these all work:
+With the most recent matplotlib (1.3.1 merged in 6.2.beta5 in #14993), dot2tex is not recognized and so graphs (crystals in particular) fail to display properly:
 
 ```
 sage: C = KirillovReshetikhinCrystal(['A',5,2], 3,1)
-sage: C = KirillovReshetikhinCrystal(['A',5,2], 1,2)
-sage: C = KirillovReshetikhinCrystal(['A',5,2], 2,2)
-sage: C = KirillovReshetikhinCrystal(['A',4,2], 1,1)
-sage: C = KirillovReshetikhinCrystal(['D',4,1], 3,2)
-sage: TP = TensorProductOfKirillovReshetikhinTableaux(['A',5,2], [[1,1]])
+sage: view(C)
+dot2tex not available.  Install after running 'sage -sh'
 ```
-Same for KR tableaux as well.
+
+So we upgrade dot2tex to the latest development version and fix things up so this works with the most recent matplotlib.
``````




---

archive/issue_events_226650.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-03-29T21:57:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226650"
}
```



---

archive/issue_events_226651.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-03-29T21:57:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226651"
}
```



---

archive/issue_events_226652.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-03-29T21:57:38Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "title_is": "Upgrade dot2tex spkg and make it work with most recent matplotlib",
    "title_was": "Unable to view graph of small A2 odd KR crystal",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226652"
}
```



---

archive/issue_comments_203805.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nHi Volker,\n\nThanks for the fixes! However, when I run make on the new branch, I get an error\n\n```\n++ -bundle -undefined dynamic_lookup -L/Applications/sage/local/lib build/temp.macosx-10.6-x86_64-2.7/sage/symbolic/pynac.o -L/Applications/sage/local/lib -lgsl -lpynac -lgmp -lcsage -lstdc++ -lntl -o build/lib.macosx-10.6-x86_64-2.7/sage/symbolic/pynac.so\ng++ -bundle -undefined dynamic_lookup -L/Applications/sage/local/lib build/temp.macosx-10.6-x86_64-2.7/sage/symbolic/expression.o -L/Applications/sage/local/lib -lpynac -lgmp -lcsage -lstdc++ -lntl -o build/lib.macosx-10.6-x86_64-2.7/sage/symbolic/expression.so\nTime to execute 4 commands: 3.07225799561 seconds\nTotal time spent compiling C/C++ extensions:  3.22448396683 seconds.\nrunning install_lib\ncopying build/lib.macosx-10.6-x86_64-2.7/sage/symbolic/constants_c.so -> /Applications/sage/local/lib/python2.7/site-packages/sage/symbolic\ncopying build/lib.macosx-10.6-x86_64-2.7/sage/symbolic/expression.so -> /Applications/sage/local/lib/python2.7/site-packages/sage/symbolic\ncopying build/lib.macosx-10.6-x86_64-2.7/sage/symbolic/getitem.so -> /Applications/sage/local/lib/python2.7/site-packages/sage/symbolic\ncopying build/lib.macosx-10.6-x86_64-2.7/sage/symbolic/pynac.so -> /Applications/sage/local/lib/python2.7/site-packages/sage/symbolic\nrunning install_egg_info\nRemoving /Applications/sage/local/lib/python2.7/site-packages/sage-6.2.beta5-py2.7.egg-info\nWriting /Applications/sage/local/lib/python2.7/site-packages/sage-6.2.beta5-py2.7.egg-info\n\nreal\t0m8.791s\nuser\t0m4.133s\nsys\t0m1.572s\n[ -f local/etc/sage-started.txt ] || local/bin/sage-starts\nbuild/pipestatus \"./sage --docbuild --no-pdf-links all html  2>&1\" \"tee -a logs/dochtml.log\"\nTraceback (most recent call last):\n  File \"/Applications/sage/src/doc/common/builder.py\", line 1465, in <module>\n    import sage.all\n  File \"/Applications/sage/local/lib/python2.7/site-packages/sage/all.py\", line 106, in <module>\n    from sage.algebras.all   import *\n  File \"/Applications/sage/local/lib/python2.7/site-packages/sage/algebras/all.py\", line 39, in <module>\n    from iwahori_hecke_algebra import IwahoriHeckeAlgebra, IwahoriHeckeAlgebraT\n  File \"/Applications/sage/local/lib/python2.7/site-packages/sage/algebras/iwahori_hecke_algebra.py\", line 33, in <module>\n    from sage.combinat.root_system.weyl_group import WeylGroup\n  File \"/Applications/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/__init__.py\", line 13, in <module>\n    import all\n  File \"/Applications/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/all.py\", line 9, in <module>\n    from weyl_group import WeylGroup, WeylGroupElement\n  File \"/Applications/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/weyl_group.py\", line 54, in <module>\n    from sage.graphs.graph import DiGraph\n  File \"/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/graph.py\", line 6412, in <module>\n    import sage.graphs.cliquer\nImportError: dlopen(/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/cliquer.so, 2): Symbol not found: \t\"#\n  Referenced from: /Applications/sage/local/lib/libcliquer.so\n  Expected in: flat namespace\n\nmake: *** [doc-html] Error 1\n```\n\nAnne",
    "created_at": "2014-03-29T22:02:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203805",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:30" align="right">comment:30</div>

Hi Volker,

Thanks for the fixes! However, when I run make on the new branch, I get an error

```
++ -bundle -undefined dynamic_lookup -L/Applications/sage/local/lib build/temp.macosx-10.6-x86_64-2.7/sage/symbolic/pynac.o -L/Applications/sage/local/lib -lgsl -lpynac -lgmp -lcsage -lstdc++ -lntl -o build/lib.macosx-10.6-x86_64-2.7/sage/symbolic/pynac.so
g++ -bundle -undefined dynamic_lookup -L/Applications/sage/local/lib build/temp.macosx-10.6-x86_64-2.7/sage/symbolic/expression.o -L/Applications/sage/local/lib -lpynac -lgmp -lcsage -lstdc++ -lntl -o build/lib.macosx-10.6-x86_64-2.7/sage/symbolic/expression.so
Time to execute 4 commands: 3.07225799561 seconds
Total time spent compiling C/C++ extensions:  3.22448396683 seconds.
running install_lib
copying build/lib.macosx-10.6-x86_64-2.7/sage/symbolic/constants_c.so -> /Applications/sage/local/lib/python2.7/site-packages/sage/symbolic
copying build/lib.macosx-10.6-x86_64-2.7/sage/symbolic/expression.so -> /Applications/sage/local/lib/python2.7/site-packages/sage/symbolic
copying build/lib.macosx-10.6-x86_64-2.7/sage/symbolic/getitem.so -> /Applications/sage/local/lib/python2.7/site-packages/sage/symbolic
copying build/lib.macosx-10.6-x86_64-2.7/sage/symbolic/pynac.so -> /Applications/sage/local/lib/python2.7/site-packages/sage/symbolic
running install_egg_info
Removing /Applications/sage/local/lib/python2.7/site-packages/sage-6.2.beta5-py2.7.egg-info
Writing /Applications/sage/local/lib/python2.7/site-packages/sage-6.2.beta5-py2.7.egg-info

real	0m8.791s
user	0m4.133s
sys	0m1.572s
[ -f local/etc/sage-started.txt ] || local/bin/sage-starts
build/pipestatus "./sage --docbuild --no-pdf-links all html  2>&1" "tee -a logs/dochtml.log"
Traceback (most recent call last):
  File "/Applications/sage/src/doc/common/builder.py", line 1465, in <module>
    import sage.all
  File "/Applications/sage/local/lib/python2.7/site-packages/sage/all.py", line 106, in <module>
    from sage.algebras.all   import *
  File "/Applications/sage/local/lib/python2.7/site-packages/sage/algebras/all.py", line 39, in <module>
    from iwahori_hecke_algebra import IwahoriHeckeAlgebra, IwahoriHeckeAlgebraT
  File "/Applications/sage/local/lib/python2.7/site-packages/sage/algebras/iwahori_hecke_algebra.py", line 33, in <module>
    from sage.combinat.root_system.weyl_group import WeylGroup
  File "/Applications/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/__init__.py", line 13, in <module>
    import all
  File "/Applications/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/all.py", line 9, in <module>
    from weyl_group import WeylGroup, WeylGroupElement
  File "/Applications/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/weyl_group.py", line 54, in <module>
    from sage.graphs.graph import DiGraph
  File "/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/graph.py", line 6412, in <module>
    import sage.graphs.cliquer
ImportError: dlopen(/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/cliquer.so, 2): Symbol not found: 	"#
  Referenced from: /Applications/sage/local/lib/libcliquer.so
  Expected in: flat namespace

make: *** [doc-html] Error 1
```

Anne



---

archive/issue_comments_203806.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,3 +7,5 @@\n ```\n \n So we upgrade dot2tex to the latest development version and fix things up so this works with the most recent matplotlib.\n+\n+Upstreamt tarball: http://boxen.math.washington.edu/home/vbraun/upstream/dot2tex-20140329.tar.bz2\n``````\n",
    "created_at": "2014-03-29T22:30:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203806",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,3 +7,5 @@
 ```
 
 So we upgrade dot2tex to the latest development version and fix things up so this works with the most recent matplotlib.
+
+Upstreamt tarball: http://boxen.math.washington.edu/home/vbraun/upstream/dot2tex-20140329.tar.bz2
``````




---

archive/issue_comments_203807.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@anneschilling](#comment%3A30):\n> ImportError: dlopen(/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/cliquer.so, 2): Symbol not found: \t\"#\n>   Referenced from: /Applications/sage/local/lib/libcliquer.so\n>   Expected in: flat namespace\n\nDoes a \"make distclean && make\" fix it?",
    "created_at": "2014-03-29T23:51:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203807",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@anneschilling](#comment%3A30):
> ImportError: dlopen(/Applications/sage/local/lib/python2.7/site-packages/sage/graphs/cliquer.so, 2): Symbol not found: 	"#
>   Referenced from: /Applications/sage/local/lib/libcliquer.so
>   Expected in: flat namespace

Does a "make distclean && make" fix it?



---

archive/issue_events_226653.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-29T23:51:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226653"
}
```



---

archive/issue_events_226654.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-29T23:51:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226654"
}
```



---

archive/issue_comments_203808.json:
```json
{
    "body": "Changed author from **Travis Scrimshaw** to **Volker Braun**",
    "created_at": "2014-03-29T23:51:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203808",
    "user": "https://github.com/vbraun"
}
```

Changed author from **Travis Scrimshaw** to **Volker Braun**



---

archive/issue_comments_203809.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nSorry, commented on the wrong ticket (#14594, [#14594 comment:62](https://github.com/sagemath/sage/issues/14594#comment:62)).\n\nYes, `_noncomma` isn't used by dot2tex, so we can remove it from the import statement.\n\nBut I'd keep the patch trying to use (some version of) `pyparsing` from matplotlib, just adding yet another import fallback:\n\n```diff\n--- local/lib/python2.7/site-packages/dot2tex/dotparsing.py\t2014-03-29 12:34:13.000000000 -0700\n+++ local/lib/python2.7/site-packages/dot2tex/dotparsing.py\t2014-03-29 14:35:53.000000000 -0700\n@@ -23,8 +23,11 @@\n     # Newer MPL now ships with pyparsing_py2 and pyparsing_py3:\n     import matplotlib.pyparsing_py2 as pyparsing\n except ImportError:\n-    import matplotlib.pyparsing as pyparsing\n-    # just raise if that failed, too\n+    try:\n+        import matplotlib.pyparsing as pyparsing\n+    except ImportError:\n+        import pyparsing # shipped separately with newer Sage versions (>= 6.2.beta5)\n+        # just raise if that failed, too\n \n exec(\n \"\"\"\n```\n\n`dot2tex` is still an optional spkg, so is likely to get used with older Sage versions as well (and not just the latest *development* version) -- and that should just work.\n\nAnother issue is the odd error message currently given, and dot2tex's `spkg-install` should probably contain some minimal test to avoid such things in the future.",
    "created_at": "2014-03-30T00:00:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203809",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:35" align="right">comment:35</div>

Sorry, commented on the wrong ticket (#14594, [#14594 comment:62](https://github.com/sagemath/sage/issues/14594#comment:62)).

Yes, `_noncomma` isn't used by dot2tex, so we can remove it from the import statement.

But I'd keep the patch trying to use (some version of) `pyparsing` from matplotlib, just adding yet another import fallback:

```diff
--- local/lib/python2.7/site-packages/dot2tex/dotparsing.py	2014-03-29 12:34:13.000000000 -0700
+++ local/lib/python2.7/site-packages/dot2tex/dotparsing.py	2014-03-29 14:35:53.000000000 -0700
@@ -23,8 +23,11 @@
     # Newer MPL now ships with pyparsing_py2 and pyparsing_py3:
     import matplotlib.pyparsing_py2 as pyparsing
 except ImportError:
-    import matplotlib.pyparsing as pyparsing
-    # just raise if that failed, too
+    try:
+        import matplotlib.pyparsing as pyparsing
+    except ImportError:
+        import pyparsing # shipped separately with newer Sage versions (>= 6.2.beta5)
+        # just raise if that failed, too
 
 exec(
 """
```

`dot2tex` is still an optional spkg, so is likely to get used with older Sage versions as well (and not just the latest *development* version) -- and that should just work.

Another issue is the odd error message currently given, and dot2tex's `spkg-install` should probably contain some minimal test to avoid such things in the future.



---

archive/issue_comments_203810.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n> Does a \"make distclean && make\" fix it?\n\nThat gives me another error\n\n```\n...\nranlib libsingfac_g.a\n./mkinstalldirs /Applications/sage/local/include\n./mkinstalldirs /Applications/sage/local/lib\n./install-sh -c -m 644 factor.h /Applications/sage/local/include\n./install-sh -c -m 644 libsingfac.a /Applications/sage/local/lib\n./install-sh -c -m 644 libsingfac_g.a /Applications/sage/local/lib\nranlib /Applications/sage/local/lib/libsingfac.a\nranlib /Applications/sage/local/lib/libsingfac_g.a\n### Singular spkg-install: create_singular_script ###\n### Singular spkg-install: install_docs ###\n\nreal\t19m2.627s\nuser\t21m52.169s\nsys\t1m34.576s\nSuccessfully installed singular-3.1.6.p1\nDeleting temporary build directory\n/Applications/sage/local/var/tmp/sage/build/singular-3.1.6.p1\nFinished installing singular-3.1.6.p1.spkg\nmake[1]: *** [all] Error 2\n\nreal\t104m43.353s\nuser\t248m14.206s\nsys\t27m39.625s\n***************************************************************\nError building Sage.\n\nThe following package(s) may have failed to build:\n\npackage: pycrypto-2.6.1.p0\nlog file: /Applications/sage/logs/pkgs/pycrypto-2.6.1.p0.log\nbuild directory: /Applications/sage/local/var/tmp/sage/build/pycrypto-2.6.1.p0\n\nThe build directory may contain configuration files and other potentially\nhelpful information. WARNING: if you now run 'make' again, the build\ndirectory will, by default, be deleted. Set the environment variable\nSAGE_KEEP_BUILT_SPKGS to 'yes' to prevent this.\n\nmake: *** [build] Error 1\n```",
    "created_at": "2014-03-30T03:09:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203810",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:36" align="right">comment:36</div>

> Does a "make distclean && make" fix it?

That gives me another error

```
...
ranlib libsingfac_g.a
./mkinstalldirs /Applications/sage/local/include
./mkinstalldirs /Applications/sage/local/lib
./install-sh -c -m 644 factor.h /Applications/sage/local/include
./install-sh -c -m 644 libsingfac.a /Applications/sage/local/lib
./install-sh -c -m 644 libsingfac_g.a /Applications/sage/local/lib
ranlib /Applications/sage/local/lib/libsingfac.a
ranlib /Applications/sage/local/lib/libsingfac_g.a
### Singular spkg-install: create_singular_script ###
### Singular spkg-install: install_docs ###

real	19m2.627s
user	21m52.169s
sys	1m34.576s
Successfully installed singular-3.1.6.p1
Deleting temporary build directory
/Applications/sage/local/var/tmp/sage/build/singular-3.1.6.p1
Finished installing singular-3.1.6.p1.spkg
make[1]: *** [all] Error 2

real	104m43.353s
user	248m14.206s
sys	27m39.625s
***************************************************************
Error building Sage.

The following package(s) may have failed to build:

package: pycrypto-2.6.1.p0
log file: /Applications/sage/logs/pkgs/pycrypto-2.6.1.p0.log
build directory: /Applications/sage/local/var/tmp/sage/build/pycrypto-2.6.1.p0

The build directory may contain configuration files and other potentially
helpful information. WARNING: if you now run 'make' again, the build
directory will, by default, be deleted. Set the environment variable
SAGE_KEEP_BUILT_SPKGS to 'yes' to prevent this.

make: *** [build] Error 1
```



---

archive/issue_comments_203811.json:
```json
{
    "body": "Changed commit from **[`e8abf26`](https://github.com/sagemath/sagetrac-mirror/commit/e8abf26678ad91ba5b4da9fb9f26c91e8a16736b)** to **[`289c212`](https://github.com/sagemath/sagetrac-mirror/commit/289c212d438819939c24e6aa77bd0aeef8ff59ba)**",
    "created_at": "2014-03-30T10:40:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203811",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e8abf26`](https://github.com/sagemath/sagetrac-mirror/commit/e8abf26678ad91ba5b4da9fb9f26c91e8a16736b)** to **[`289c212`](https://github.com/sagemath/sagetrac-mirror/commit/289c212d438819939c24e6aa77bd0aeef8ff59ba)**



---

archive/issue_comments_203812.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/289c212d438819939c24e6aa77bd0aeef8ff59ba\"><code>289c212</code></a></td><td><code>pointless bikeshedding of tarball name</code></td></tr></table>\n",
    "created_at": "2014-03-30T10:40:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203812",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/289c212d438819939c24e6aa77bd0aeef8ff59ba"><code>289c212</code></a></td><td><code>pointless bikeshedding of tarball name</code></td></tr></table>




---

archive/issue_comments_203813.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,4 +8,4 @@\n \n So we upgrade dot2tex to the latest development version and fix things up so this works with the most recent matplotlib.\n \n-Upstreamt tarball: http://boxen.math.washington.edu/home/vbraun/upstream/dot2tex-20140329.tar.bz2\n+Upstreamt tarball: http://boxen.math.washington.edu/home/vbraun/upstream/dot2tex-20120520.tar.bz2\n``````\n",
    "created_at": "2014-03-30T10:42:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203813",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,4 +8,4 @@
 
 So we upgrade dot2tex to the latest development version and fix things up so this works with the most recent matplotlib.
 
-Upstreamt tarball: http://boxen.math.washington.edu/home/vbraun/upstream/dot2tex-20140329.tar.bz2
+Upstreamt tarball: http://boxen.math.washington.edu/home/vbraun/upstream/dot2tex-20120520.tar.bz2
``````




---

archive/issue_comments_203814.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nAnne: so whats in the pycrypto log?",
    "created_at": "2014-03-30T10:42:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203814",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:39" align="right">comment:39</div>

Anne: so whats in the pycrypto log?



---

archive/issue_comments_203815.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nLeif: You can't go around and import stuff from package internals, that will break with the next update in exactly the way we saw here. Also you can't use the git branch with old versions.",
    "created_at": "2014-03-30T10:45:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203815",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:40" align="right">comment:40</div>

Leif: You can't go around and import stuff from package internals, that will break with the next update in exactly the way we saw here. Also you can't use the git branch with old versions.



---

archive/issue_comments_203816.json:
```json
{
    "body": "Changed commit from **[`289c212`](https://github.com/sagemath/sagetrac-mirror/commit/289c212d438819939c24e6aa77bd0aeef8ff59ba)** to **[`0c5b4f8`](https://github.com/sagemath/sagetrac-mirror/commit/0c5b4f8702f15b239adb5412d31c138fe62d0f8b)**",
    "created_at": "2014-03-30T12:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203816",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`289c212`](https://github.com/sagemath/sagetrac-mirror/commit/289c212d438819939c24e6aa77bd0aeef8ff59ba)** to **[`0c5b4f8`](https://github.com/sagemath/sagetrac-mirror/commit/0c5b4f8702f15b239adb5412d31c138fe62d0f8b)**



---

archive/issue_comments_203817.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c5b4f8702f15b239adb5412d31c138fe62d0f8b\"><code>0c5b4f8</code></a></td><td><code>pyparsing is deprecating itself</code></td></tr></table>\n",
    "created_at": "2014-03-30T12:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203817",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c5b4f8702f15b239adb5412d31c138fe62d0f8b"><code>0c5b4f8</code></a></td><td><code>pyparsing is deprecating itself</code></td></tr></table>




---

archive/issue_comments_203818.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2014-03-30T12:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203818",
    "user": "https://github.com/vbraun"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_203819.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nUpstream bug report for the `_noncomma` import:\n\n* https://code.google.com/p/dot2tex/issues/detail?id=38\n\nBug reports for the `DeprecationWarning: Operator '<<' is deprecated, use '<<=' instead` issue:\n* https://sourceforge.net/p/pyparsing/bugs/69/        \n* https://code.google.com/p/dot2tex/issues/detail?id=39",
    "created_at": "2014-03-30T12:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203819",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:42" align="right">comment:42</div>

Upstream bug report for the `_noncomma` import:

* https://code.google.com/p/dot2tex/issues/detail?id=38

Bug reports for the `DeprecationWarning: Operator '<<' is deprecated, use '<<=' instead` issue:
* https://sourceforge.net/p/pyparsing/bugs/69/        
* https://code.google.com/p/dot2tex/issues/detail?id=39



---

archive/issue_comments_203820.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@vbraun](#comment%3A39):\n> Anne: so whats in the pycrypto log?\n\nHere it is. But I cannot even compile the stable version of sage any longer. What is going on?\n\n```\nFound local metadata for pycrypto-2.6.1.p0\nFound local sources at /Applications/sage/upstream/pycrypto-2.6.1.tar.gz\nChecksum: aeda3ed41caf1766409d4efc689b9ca30ad6aeb2 vs aeda3ed41caf1766409d4efc689b9ca30ad6aeb2\npycrypto-2.6.1.p0\n====================================================\nSetting up build directory for pycrypto-2.6.1.p0\nFinished set up\n****************************************************\nHost system:\nDarwin lolita-4.local 10.8.0 Darwin Kernel Version 10.8.0: Tue Jun  7 16:33:36 PDT 2011; root:xnu-1504.15.3~1/RELEASE_I386 i386\n****************************************************\nC compiler: gcc\nC compiler version:\nUsing built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/Applications/sage/local/libexec/gcc/x86_64-apple-darwin10.8.0/4.7.3/lto-wrapper\nTarget: x86_64-apple-darwin10.8.0\nConfigured with: ../src/configure --prefix=/Applications/sage/local --with-local-prefix=/Applications/sage/local --with-gmp=/Applications/sage/local --with-mpfr=/Applications/sage/local --with-mpc=/Applications/sage/local --with-system-zlib --disable-multilib --disable-nls  \nThread model: posix\ngcc version 4.7.3 (GCC) \n****************************************************\npatching file src/libtom/tomcrypt_pk.h\nrunning install\nrunning build\nrunning build_py\ncreating build\ncreating build/lib.macosx-10.6-x86_64-2.7\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto\ncopying lib/Crypto/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto\ncopying lib/Crypto/pct_warnings.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash\ncopying lib/Crypto/Hash/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash\ncopying lib/Crypto/Hash/hashalgo.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash\ncopying lib/Crypto/Hash/HMAC.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash\ncopying lib/Crypto/Hash/MD2.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash\ncopying lib/Crypto/Hash/MD4.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash\ncopying lib/Crypto/Hash/MD5.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash\ncopying lib/Crypto/Hash/RIPEMD.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash\ncopying lib/Crypto/Hash/SHA.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash\ncopying lib/Crypto/Hash/SHA224.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash\ncopying lib/Crypto/Hash/SHA256.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash\ncopying lib/Crypto/Hash/SHA384.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash\ncopying lib/Crypto/Hash/SHA512.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher\ncopying lib/Crypto/Cipher/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher\ncopying lib/Crypto/Cipher/AES.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher\ncopying lib/Crypto/Cipher/ARC2.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher\ncopying lib/Crypto/Cipher/ARC4.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher\ncopying lib/Crypto/Cipher/blockalgo.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher\ncopying lib/Crypto/Cipher/Blowfish.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher\ncopying lib/Crypto/Cipher/CAST.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher\ncopying lib/Crypto/Cipher/DES.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher\ncopying lib/Crypto/Cipher/DES3.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher\ncopying lib/Crypto/Cipher/PKCS1_OAEP.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher\ncopying lib/Crypto/Cipher/PKCS1_v1_5.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher\ncopying lib/Crypto/Cipher/XOR.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/Util\ncopying lib/Crypto/Util/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util\ncopying lib/Crypto/Util/_number_new.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util\ncopying lib/Crypto/Util/asn1.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util\ncopying lib/Crypto/Util/Counter.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util\ncopying lib/Crypto/Util/number.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util\ncopying lib/Crypto/Util/py21compat.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util\ncopying lib/Crypto/Util/py3compat.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util\ncopying lib/Crypto/Util/randpool.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util\ncopying lib/Crypto/Util/RFC1751.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util\ncopying lib/Crypto/Util/winrandom.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/Random\ncopying lib/Crypto/Random/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random\ncopying lib/Crypto/Random/_UserFriendlyRNG.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random\ncopying lib/Crypto/Random/random.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/Fortuna\ncopying lib/Crypto/Random/Fortuna/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/Fortuna\ncopying lib/Crypto/Random/Fortuna/FortunaAccumulator.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/Fortuna\ncopying lib/Crypto/Random/Fortuna/FortunaGenerator.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/Fortuna\ncopying lib/Crypto/Random/Fortuna/SHAd256.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/Fortuna\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/OSRNG\ncopying lib/Crypto/Random/OSRNG/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/OSRNG\ncopying lib/Crypto/Random/OSRNG/fallback.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/OSRNG\ncopying lib/Crypto/Random/OSRNG/nt.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/OSRNG\ncopying lib/Crypto/Random/OSRNG/posix.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/OSRNG\ncopying lib/Crypto/Random/OSRNG/rng_base.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/OSRNG\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest\ncopying lib/Crypto/SelfTest/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest\ncopying lib/Crypto/SelfTest/st_common.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher\ncopying lib/Crypto/SelfTest/Cipher/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher\ncopying lib/Crypto/SelfTest/Cipher/common.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher\ncopying lib/Crypto/SelfTest/Cipher/test_AES.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher\ncopying lib/Crypto/SelfTest/Cipher/test_ARC2.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher\ncopying lib/Crypto/SelfTest/Cipher/test_ARC4.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher\ncopying lib/Crypto/SelfTest/Cipher/test_Blowfish.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher\ncopying lib/Crypto/SelfTest/Cipher/test_CAST.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher\ncopying lib/Crypto/SelfTest/Cipher/test_DES.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher\ncopying lib/Crypto/SelfTest/Cipher/test_DES3.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher\ncopying lib/Crypto/SelfTest/Cipher/test_pkcs1_15.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher\ncopying lib/Crypto/SelfTest/Cipher/test_pkcs1_oaep.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher\ncopying lib/Crypto/SelfTest/Cipher/test_XOR.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash\ncopying lib/Crypto/SelfTest/Hash/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash\ncopying lib/Crypto/SelfTest/Hash/common.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash\ncopying lib/Crypto/SelfTest/Hash/test_HMAC.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash\ncopying lib/Crypto/SelfTest/Hash/test_MD2.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash\ncopying lib/Crypto/SelfTest/Hash/test_MD4.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash\ncopying lib/Crypto/SelfTest/Hash/test_MD5.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash\ncopying lib/Crypto/SelfTest/Hash/test_RIPEMD.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash\ncopying lib/Crypto/SelfTest/Hash/test_SHA.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash\ncopying lib/Crypto/SelfTest/Hash/test_SHA224.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash\ncopying lib/Crypto/SelfTest/Hash/test_SHA256.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash\ncopying lib/Crypto/SelfTest/Hash/test_SHA384.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash\ncopying lib/Crypto/SelfTest/Hash/test_SHA512.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Protocol\ncopying lib/Crypto/SelfTest/Protocol/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Protocol\ncopying lib/Crypto/SelfTest/Protocol/test_AllOrNothing.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Protocol\ncopying lib/Crypto/SelfTest/Protocol/test_chaffing.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Protocol\ncopying lib/Crypto/SelfTest/Protocol/test_KDF.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Protocol\ncopying lib/Crypto/SelfTest/Protocol/test_rfc1751.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Protocol\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/PublicKey\ncopying lib/Crypto/SelfTest/PublicKey/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/PublicKey\ncopying lib/Crypto/SelfTest/PublicKey/test_DSA.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/PublicKey\ncopying lib/Crypto/SelfTest/PublicKey/test_ElGamal.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/PublicKey\ncopying lib/Crypto/SelfTest/PublicKey/test_importKey.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/PublicKey\ncopying lib/Crypto/SelfTest/PublicKey/test_RSA.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/PublicKey\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random\ncopying lib/Crypto/SelfTest/Random/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random\ncopying lib/Crypto/SelfTest/Random/test__UserFriendlyRNG.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random\ncopying lib/Crypto/SelfTest/Random/test_random.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random\ncopying lib/Crypto/SelfTest/Random/test_rpoolcompat.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/Fortuna\ncopying lib/Crypto/SelfTest/Random/Fortuna/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/Fortuna\ncopying lib/Crypto/SelfTest/Random/Fortuna/test_FortunaAccumulator.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/Fortuna\ncopying lib/Crypto/SelfTest/Random/Fortuna/test_FortunaGenerator.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/Fortuna\ncopying lib/Crypto/SelfTest/Random/Fortuna/test_SHAd256.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/Fortuna\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/OSRNG\ncopying lib/Crypto/SelfTest/Random/OSRNG/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/OSRNG\ncopying lib/Crypto/SelfTest/Random/OSRNG/test_fallback.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/OSRNG\ncopying lib/Crypto/SelfTest/Random/OSRNG/test_generic.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/OSRNG\ncopying lib/Crypto/SelfTest/Random/OSRNG/test_nt.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/OSRNG\ncopying lib/Crypto/SelfTest/Random/OSRNG/test_posix.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/OSRNG\ncopying lib/Crypto/SelfTest/Random/OSRNG/test_winrandom.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/OSRNG\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Util\ncopying lib/Crypto/SelfTest/Util/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Util\ncopying lib/Crypto/SelfTest/Util/test_asn1.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Util\ncopying lib/Crypto/SelfTest/Util/test_Counter.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Util\ncopying lib/Crypto/SelfTest/Util/test_number.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Util\ncopying lib/Crypto/SelfTest/Util/test_winrandom.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Util\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Signature\ncopying lib/Crypto/SelfTest/Signature/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Signature\ncopying lib/Crypto/SelfTest/Signature/test_pkcs1_15.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Signature\ncopying lib/Crypto/SelfTest/Signature/test_pkcs1_pss.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Signature\ncreating build/lib.macosx-10.6-x86_64-2.7/Crypto/Protocol\ncopying lib/Crypto/Protocol/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Protocol\ncopying lib/Crypto/Protocol/AllOrNothing.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Protocol\nTraceback (most recent call last):\n  File \"setup.py\", line 456, in <module>\n    core.setup(**kw)\n  File \"/Applications/sage/local/lib/python/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/Applications/sage/local/lib/python/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/Applications/sage/local/lib/python/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/Applications/sage/local/lib/python/distutils/command/install.py\", line 563, in run\n    self.run_command('build')\n  File \"/Applications/sage/local/lib/python/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/Applications/sage/local/lib/python/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/Applications/sage/local/lib/python/distutils/command/build.py\", line 127, in run\n    self.run_command(cmd_name)\n  File \"/Applications/sage/local/lib/python/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/Applications/sage/local/lib/python/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"setup.py\", line 251, in run\n    self.run_command(cmd_name)\n  File \"/Applications/sage/local/lib/python/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/Applications/sage/local/lib/python/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"setup.py\", line 278, in run\n    raise RuntimeError(\"autoconf error\")\nRuntimeError: autoconf error\nError: Failed to install PyCrypto.\n\nreal    0m0.460s\nuser    0m0.137s\nsys     0m0.148s\n************************************************************************\nError installing package pycrypto-2.6.1.p0\n************************************************************************\nPlease email sage-devel (http://groups.google.com/group/sage-devel)\nexplaining the problem and including the relevant part of the log file\n  /Applications/sage/logs/pkgs/pycrypto-2.6.1.p0.log\nDescribe your computer, operating system, etc.\nIf you want to try to fix the problem yourself, *don't* just cd to\n/Applications/sage/local/var/tmp/sage/build/pycrypto-2.6.1.p0 and type 'make' or whatever is appropriate.\nInstead, the following commands setup all environment variables\ncorrectly and load a subshell for you to debug the error:\n  (cd '/Applications/sage/local/var/tmp/sage/build/pycrypto-2.6.1.p0' && '/Applications/sage/sage' --sh)\nWhen you are done debugging, you can type \"exit\" to leave the subshell.\n************************************************************************\n```",
    "created_at": "2014-03-30T15:17:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203820",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@vbraun](#comment%3A39):
> Anne: so whats in the pycrypto log?

Here it is. But I cannot even compile the stable version of sage any longer. What is going on?

```
Found local metadata for pycrypto-2.6.1.p0
Found local sources at /Applications/sage/upstream/pycrypto-2.6.1.tar.gz
Checksum: aeda3ed41caf1766409d4efc689b9ca30ad6aeb2 vs aeda3ed41caf1766409d4efc689b9ca30ad6aeb2
pycrypto-2.6.1.p0
====================================================
Setting up build directory for pycrypto-2.6.1.p0
Finished set up
****************************************************
Host system:
Darwin lolita-4.local 10.8.0 Darwin Kernel Version 10.8.0: Tue Jun  7 16:33:36 PDT 2011; root:xnu-1504.15.3~1/RELEASE_I386 i386
****************************************************
C compiler: gcc
C compiler version:
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/Applications/sage/local/libexec/gcc/x86_64-apple-darwin10.8.0/4.7.3/lto-wrapper
Target: x86_64-apple-darwin10.8.0
Configured with: ../src/configure --prefix=/Applications/sage/local --with-local-prefix=/Applications/sage/local --with-gmp=/Applications/sage/local --with-mpfr=/Applications/sage/local --with-mpc=/Applications/sage/local --with-system-zlib --disable-multilib --disable-nls  
Thread model: posix
gcc version 4.7.3 (GCC) 
****************************************************
patching file src/libtom/tomcrypt_pk.h
running install
running build
running build_py
creating build
creating build/lib.macosx-10.6-x86_64-2.7
creating build/lib.macosx-10.6-x86_64-2.7/Crypto
copying lib/Crypto/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto
copying lib/Crypto/pct_warnings.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash
copying lib/Crypto/Hash/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash
copying lib/Crypto/Hash/hashalgo.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash
copying lib/Crypto/Hash/HMAC.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash
copying lib/Crypto/Hash/MD2.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash
copying lib/Crypto/Hash/MD4.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash
copying lib/Crypto/Hash/MD5.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash
copying lib/Crypto/Hash/RIPEMD.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash
copying lib/Crypto/Hash/SHA.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash
copying lib/Crypto/Hash/SHA224.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash
copying lib/Crypto/Hash/SHA256.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash
copying lib/Crypto/Hash/SHA384.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash
copying lib/Crypto/Hash/SHA512.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Hash
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher
copying lib/Crypto/Cipher/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher
copying lib/Crypto/Cipher/AES.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher
copying lib/Crypto/Cipher/ARC2.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher
copying lib/Crypto/Cipher/ARC4.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher
copying lib/Crypto/Cipher/blockalgo.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher
copying lib/Crypto/Cipher/Blowfish.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher
copying lib/Crypto/Cipher/CAST.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher
copying lib/Crypto/Cipher/DES.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher
copying lib/Crypto/Cipher/DES3.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher
copying lib/Crypto/Cipher/PKCS1_OAEP.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher
copying lib/Crypto/Cipher/PKCS1_v1_5.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher
copying lib/Crypto/Cipher/XOR.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Cipher
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/Util
copying lib/Crypto/Util/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util
copying lib/Crypto/Util/_number_new.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util
copying lib/Crypto/Util/asn1.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util
copying lib/Crypto/Util/Counter.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util
copying lib/Crypto/Util/number.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util
copying lib/Crypto/Util/py21compat.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util
copying lib/Crypto/Util/py3compat.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util
copying lib/Crypto/Util/randpool.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util
copying lib/Crypto/Util/RFC1751.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util
copying lib/Crypto/Util/winrandom.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Util
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/Random
copying lib/Crypto/Random/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random
copying lib/Crypto/Random/_UserFriendlyRNG.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random
copying lib/Crypto/Random/random.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/Fortuna
copying lib/Crypto/Random/Fortuna/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/Fortuna
copying lib/Crypto/Random/Fortuna/FortunaAccumulator.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/Fortuna
copying lib/Crypto/Random/Fortuna/FortunaGenerator.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/Fortuna
copying lib/Crypto/Random/Fortuna/SHAd256.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/Fortuna
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/OSRNG
copying lib/Crypto/Random/OSRNG/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/OSRNG
copying lib/Crypto/Random/OSRNG/fallback.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/OSRNG
copying lib/Crypto/Random/OSRNG/nt.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/OSRNG
copying lib/Crypto/Random/OSRNG/posix.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/OSRNG
copying lib/Crypto/Random/OSRNG/rng_base.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Random/OSRNG
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest
copying lib/Crypto/SelfTest/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest
copying lib/Crypto/SelfTest/st_common.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher
copying lib/Crypto/SelfTest/Cipher/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher
copying lib/Crypto/SelfTest/Cipher/common.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher
copying lib/Crypto/SelfTest/Cipher/test_AES.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher
copying lib/Crypto/SelfTest/Cipher/test_ARC2.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher
copying lib/Crypto/SelfTest/Cipher/test_ARC4.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher
copying lib/Crypto/SelfTest/Cipher/test_Blowfish.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher
copying lib/Crypto/SelfTest/Cipher/test_CAST.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher
copying lib/Crypto/SelfTest/Cipher/test_DES.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher
copying lib/Crypto/SelfTest/Cipher/test_DES3.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher
copying lib/Crypto/SelfTest/Cipher/test_pkcs1_15.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher
copying lib/Crypto/SelfTest/Cipher/test_pkcs1_oaep.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher
copying lib/Crypto/SelfTest/Cipher/test_XOR.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Cipher
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash
copying lib/Crypto/SelfTest/Hash/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash
copying lib/Crypto/SelfTest/Hash/common.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash
copying lib/Crypto/SelfTest/Hash/test_HMAC.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash
copying lib/Crypto/SelfTest/Hash/test_MD2.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash
copying lib/Crypto/SelfTest/Hash/test_MD4.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash
copying lib/Crypto/SelfTest/Hash/test_MD5.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash
copying lib/Crypto/SelfTest/Hash/test_RIPEMD.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash
copying lib/Crypto/SelfTest/Hash/test_SHA.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash
copying lib/Crypto/SelfTest/Hash/test_SHA224.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash
copying lib/Crypto/SelfTest/Hash/test_SHA256.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash
copying lib/Crypto/SelfTest/Hash/test_SHA384.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash
copying lib/Crypto/SelfTest/Hash/test_SHA512.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Hash
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Protocol
copying lib/Crypto/SelfTest/Protocol/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Protocol
copying lib/Crypto/SelfTest/Protocol/test_AllOrNothing.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Protocol
copying lib/Crypto/SelfTest/Protocol/test_chaffing.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Protocol
copying lib/Crypto/SelfTest/Protocol/test_KDF.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Protocol
copying lib/Crypto/SelfTest/Protocol/test_rfc1751.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Protocol
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/PublicKey
copying lib/Crypto/SelfTest/PublicKey/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/PublicKey
copying lib/Crypto/SelfTest/PublicKey/test_DSA.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/PublicKey
copying lib/Crypto/SelfTest/PublicKey/test_ElGamal.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/PublicKey
copying lib/Crypto/SelfTest/PublicKey/test_importKey.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/PublicKey
copying lib/Crypto/SelfTest/PublicKey/test_RSA.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/PublicKey
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random
copying lib/Crypto/SelfTest/Random/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random
copying lib/Crypto/SelfTest/Random/test__UserFriendlyRNG.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random
copying lib/Crypto/SelfTest/Random/test_random.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random
copying lib/Crypto/SelfTest/Random/test_rpoolcompat.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/Fortuna
copying lib/Crypto/SelfTest/Random/Fortuna/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/Fortuna
copying lib/Crypto/SelfTest/Random/Fortuna/test_FortunaAccumulator.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/Fortuna
copying lib/Crypto/SelfTest/Random/Fortuna/test_FortunaGenerator.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/Fortuna
copying lib/Crypto/SelfTest/Random/Fortuna/test_SHAd256.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/Fortuna
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/OSRNG
copying lib/Crypto/SelfTest/Random/OSRNG/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/OSRNG
copying lib/Crypto/SelfTest/Random/OSRNG/test_fallback.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/OSRNG
copying lib/Crypto/SelfTest/Random/OSRNG/test_generic.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/OSRNG
copying lib/Crypto/SelfTest/Random/OSRNG/test_nt.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/OSRNG
copying lib/Crypto/SelfTest/Random/OSRNG/test_posix.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/OSRNG
copying lib/Crypto/SelfTest/Random/OSRNG/test_winrandom.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Random/OSRNG
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Util
copying lib/Crypto/SelfTest/Util/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Util
copying lib/Crypto/SelfTest/Util/test_asn1.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Util
copying lib/Crypto/SelfTest/Util/test_Counter.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Util
copying lib/Crypto/SelfTest/Util/test_number.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Util
copying lib/Crypto/SelfTest/Util/test_winrandom.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Util
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Signature
copying lib/Crypto/SelfTest/Signature/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Signature
copying lib/Crypto/SelfTest/Signature/test_pkcs1_15.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Signature
copying lib/Crypto/SelfTest/Signature/test_pkcs1_pss.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/SelfTest/Signature
creating build/lib.macosx-10.6-x86_64-2.7/Crypto/Protocol
copying lib/Crypto/Protocol/__init__.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Protocol
copying lib/Crypto/Protocol/AllOrNothing.py -> build/lib.macosx-10.6-x86_64-2.7/Crypto/Protocol
Traceback (most recent call last):
  File "setup.py", line 456, in <module>
    core.setup(**kw)
  File "/Applications/sage/local/lib/python/distutils/core.py", line 152, in setup
    dist.run_commands()
  File "/Applications/sage/local/lib/python/distutils/dist.py", line 953, in run_commands
    self.run_command(cmd)
  File "/Applications/sage/local/lib/python/distutils/dist.py", line 972, in run_command
    cmd_obj.run()
  File "/Applications/sage/local/lib/python/distutils/command/install.py", line 563, in run
    self.run_command('build')
  File "/Applications/sage/local/lib/python/distutils/cmd.py", line 326, in run_command
    self.distribution.run_command(command)
  File "/Applications/sage/local/lib/python/distutils/dist.py", line 972, in run_command
    cmd_obj.run()
  File "/Applications/sage/local/lib/python/distutils/command/build.py", line 127, in run
    self.run_command(cmd_name)
  File "/Applications/sage/local/lib/python/distutils/cmd.py", line 326, in run_command
    self.distribution.run_command(command)
  File "/Applications/sage/local/lib/python/distutils/dist.py", line 972, in run_command
    cmd_obj.run()
  File "setup.py", line 251, in run
    self.run_command(cmd_name)
  File "/Applications/sage/local/lib/python/distutils/cmd.py", line 326, in run_command
    self.distribution.run_command(command)
  File "/Applications/sage/local/lib/python/distutils/dist.py", line 972, in run_command
    cmd_obj.run()
  File "setup.py", line 278, in run
    raise RuntimeError("autoconf error")
RuntimeError: autoconf error
Error: Failed to install PyCrypto.

real    0m0.460s
user    0m0.137s
sys     0m0.148s
************************************************************************
Error installing package pycrypto-2.6.1.p0
************************************************************************
Please email sage-devel (http://groups.google.com/group/sage-devel)
explaining the problem and including the relevant part of the log file
  /Applications/sage/logs/pkgs/pycrypto-2.6.1.p0.log
Describe your computer, operating system, etc.
If you want to try to fix the problem yourself, *don't* just cd to
/Applications/sage/local/var/tmp/sage/build/pycrypto-2.6.1.p0 and type 'make' or whatever is appropriate.
Instead, the following commands setup all environment variables
correctly and load a subshell for you to debug the error:
  (cd '/Applications/sage/local/var/tmp/sage/build/pycrypto-2.6.1.p0' && '/Applications/sage/sage' --sh)
When you are done debugging, you can type "exit" to leave the subshell.
************************************************************************
```



---

archive/issue_comments_203821.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nSounds like an unrelated failure. You can use `git fsck` to check that the git repository is undamaged (ignore dangling blobs, those are fine)...",
    "created_at": "2014-03-30T15:43:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203821",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:44" align="right">comment:44</div>

Sounds like an unrelated failure. You can use `git fsck` to check that the git repository is undamaged (ignore dangling blobs, those are fine)...



---

archive/issue_comments_203822.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@vbraun](#comment%3A44):\n> Sounds like an unrelated failure. You can use `git fsck` to check that the git repository is undamaged (ignore dangling blobs, those are fine)...\n\n\n```\nd184:sage anne$ git fsck\nChecking object directories: 100% (256/256), done.\nChecking objects: 100% (242102/242102), done.\nChecking connectivity: 240019, done.\n```",
    "created_at": "2014-03-30T16:06:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203822",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@vbraun](#comment%3A44):
> Sounds like an unrelated failure. You can use `git fsck` to check that the git repository is undamaged (ignore dangling blobs, those are fine)...


```
d184:sage anne$ git fsck
Checking object directories: 100% (256/256), done.
Checking objects: 100% (242102/242102), done.
Checking connectivity: 240019, done.
```



---

archive/issue_comments_203823.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nHow do I uninstall my previous installation of dot2tex? Do I just delete the corresponding files in sage/build/pkgs? And then unpack dot2tex-20120520 there?",
    "created_at": "2014-03-30T16:56:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203823",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:46" align="right">comment:46</div>

How do I uninstall my previous installation of dot2tex? Do I just delete the corresponding files in sage/build/pkgs? And then unpack dot2tex-20120520 there?



---

archive/issue_comments_203824.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nYou can delete `local/lib/python/site-packages/dot2tex`. Or run `make distclean && make`, of course.",
    "created_at": "2014-03-30T18:47:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203824",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:47" align="right">comment:47</div>

You can delete `local/lib/python/site-packages/dot2tex`. Or run `make distclean && make`, of course.



---

archive/issue_comments_203825.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@vbraun](#comment%3A47):\n> You can delete `local/lib/python/site-packages/dot2tex`. Or run `make distclean && make`, of course.\n\nI do not have any dot2tex in local/lib/python/site-packages/. Also, I keep getting the error above regarding pycrypto-2.6.1.p0, even after `make distclean && make`. How is this unrelated to this branch? I literally ran `make` on the master branch just before switching to this branch, everything compiled fine. Then I ran `make distclean && make` on this branch and got the pycrypto-2.6.1.p0 error and now it even get it for the master branch. So I cannot run sage at all. What am I supposed to do? Just install sage from scratch?",
    "created_at": "2014-03-30T22:48:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203825",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@vbraun](#comment%3A47):
> You can delete `local/lib/python/site-packages/dot2tex`. Or run `make distclean && make`, of course.

I do not have any dot2tex in local/lib/python/site-packages/. Also, I keep getting the error above regarding pycrypto-2.6.1.p0, even after `make distclean && make`. How is this unrelated to this branch? I literally ran `make` on the master branch just before switching to this branch, everything compiled fine. Then I ran `make distclean && make` on this branch and got the pycrypto-2.6.1.p0 error and now it even get it for the master branch. So I cannot run sage at all. What am I supposed to do? Just install sage from scratch?



---

archive/issue_comments_203826.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nRunning \"make distclean && make\" is equivalent to installing Sage from scratch.\n\nIf you get the same problem on a fresh install then it is unrelated to this ticket. Post to sage-devel. A google search finds this: https://groups.google.com/forum/#!topic/sage-devel/pcBPs9aRH6w",
    "created_at": "2014-03-31T00:21:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203826",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:49" align="right">comment:49</div>

Running "make distclean && make" is equivalent to installing Sage from scratch.

If you get the same problem on a fresh install then it is unrelated to this ticket. Post to sage-devel. A google search finds this: https://groups.google.com/forum/#!topic/sage-devel/pcBPs9aRH6w



---

archive/issue_comments_203827.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nReplying to [@vbraun](#comment%3A49):\n> Running \"make distclean && make\" is equivalent to installing Sage from scratch.\n> \n> If you get the same problem on a fresh install then it is unrelated to this ticket. Post to sage-devel. A google search finds this: https://groups.google.com/forum/#!topic/sage-devel/pcBPs9aRH6w\n\nOk, great! This link helped and I finally got sage to install again. I put your dot2tex-20120520.tar.bz2 in my upstream folder and ran `sage -i dot2tex`. But after that I still get \n\n```\nsage: C = KirillovReshetikhinCrystal(['A',5,2], 1,1)\nsage: view(C)\ndot2tex not available.  Install after running 'sage -sh'\n```",
    "created_at": "2014-03-31T06:46:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203827",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:50" align="right">comment:50</div>

Replying to [@vbraun](#comment%3A49):
> Running "make distclean && make" is equivalent to installing Sage from scratch.
> 
> If you get the same problem on a fresh install then it is unrelated to this ticket. Post to sage-devel. A google search finds this: https://groups.google.com/forum/#!topic/sage-devel/pcBPs9aRH6w

Ok, great! This link helped and I finally got sage to install again. I put your dot2tex-20120520.tar.bz2 in my upstream folder and ran `sage -i dot2tex`. But after that I still get 

```
sage: C = KirillovReshetikhinCrystal(['A',5,2], 1,1)
sage: view(C)
dot2tex not available.  Install after running 'sage -sh'
```



---

archive/issue_comments_203828.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nOk, I installed John's spkg and it indeed fixed the viewing problem! I do not know how to install Volker's file\n\n```\nsage anne$ sage -f /Applications/sage/upstream/dot2tex-20120520.tar.bz2 \ndot2tex-20120520.tar.bz2\n====================================================\nExtracting package /Applications/sage/upstream/dot2tex-20120520.tar.bz2\n-rw-------@ 1 anne  staff  1731531 Mar 31 08:42 /Applications/sage/upstream/dot2tex-20120520.tar.bz2\nFinished extraction\n/Applications/sage/src/bin/sage-spkg: line 594: cd: dot2tex-20120520.tar.bz2: No such file or directory\nError: after extracting, the directory dot2tex-20120520.tar.bz2 does not exist\n```\nOr do I need to unpack it by hand somewhere? But where? I tried to put it into /Applications/sage/local/lib/python2.7/site-packages but that did not seem to do the trick.",
    "created_at": "2014-03-31T15:57:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203828",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:51" align="right">comment:51</div>

Ok, I installed John's spkg and it indeed fixed the viewing problem! I do not know how to install Volker's file

```
sage anne$ sage -f /Applications/sage/upstream/dot2tex-20120520.tar.bz2 
dot2tex-20120520.tar.bz2
====================================================
Extracting package /Applications/sage/upstream/dot2tex-20120520.tar.bz2
-rw-------@ 1 anne  staff  1731531 Mar 31 08:42 /Applications/sage/upstream/dot2tex-20120520.tar.bz2
Finished extraction
/Applications/sage/src/bin/sage-spkg: line 594: cd: dot2tex-20120520.tar.bz2: No such file or directory
Error: after extracting, the directory dot2tex-20120520.tar.bz2 does not exist
```
Or do I need to unpack it by hand somewhere? But where? I tried to put it into /Applications/sage/local/lib/python2.7/site-packages but that did not seem to do the trick.



---

archive/issue_comments_203829.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nTwo comments: first, I agree with Leif's remarks that it would be best to have a package which will also work with older versions of Sage. Second, if I first install the old (2.8.7) spkg and then install the new one from Volker's branch, it says that the new one has been installed correctly, but the files in `local/lib/python/site-packages/dot2tex` are still the old ones. Do we need to delete the old installation before doing `python setup.py install` in the `spkg-install` script?\n\nA third comment: Anne, you need to put the tarball (no need to unpack it) in `sage/upstream`.",
    "created_at": "2014-03-31T16:15:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203829",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:52" align="right">comment:52</div>

Two comments: first, I agree with Leif's remarks that it would be best to have a package which will also work with older versions of Sage. Second, if I first install the old (2.8.7) spkg and then install the new one from Volker's branch, it says that the new one has been installed correctly, but the files in `local/lib/python/site-packages/dot2tex` are still the old ones. Do we need to delete the old installation before doing `python setup.py install` in the `spkg-install` script?

A third comment: Anne, you need to put the tarball (no need to unpack it) in `sage/upstream`.



---

archive/issue_comments_203830.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\n> A third comment: Anne, you need to put the tarball (no need to unpack it) in `sage/upstream`.\n\nThat is what I did, but then I got an error message (see above).",
    "created_at": "2014-03-31T16:17:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203830",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:53" align="right">comment:53</div>

> A third comment: Anne, you need to put the tarball (no need to unpack it) in `sage/upstream`.

That is what I did, but then I got an error message (see above).



---

archive/issue_comments_203831.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nRun `sage -f dot2tex`. You can't specify file names.\n\nJohn: Feel free to open another ticket for a legacy spkg update.",
    "created_at": "2014-03-31T16:30:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203831",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:54" align="right">comment:54</div>

Run `sage -f dot2tex`. You can't specify file names.

John: Feel free to open another ticket for a legacy spkg update.



---

archive/issue_comments_203832.json:
```json
{
    "body": "<div id=\"comment:55\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad62d43a6488a30801c64513eafb7e9a20abb7db\"><code>ad62d43</code></a></td><td><code>delete previous dot2tex directory if it exists</code></td></tr></table>\n",
    "created_at": "2014-03-31T16:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203832",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:55"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad62d43a6488a30801c64513eafb7e9a20abb7db"><code>ad62d43</code></a></td><td><code>delete previous dot2tex directory if it exists</code></td></tr></table>




---

archive/issue_comments_203833.json:
```json
{
    "body": "Changed commit from **[`0c5b4f8`](https://github.com/sagemath/sagetrac-mirror/commit/0c5b4f8702f15b239adb5412d31c138fe62d0f8b)** to **[`ad62d43`](https://github.com/sagemath/sagetrac-mirror/commit/ad62d43a6488a30801c64513eafb7e9a20abb7db)**",
    "created_at": "2014-03-31T16:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203833",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0c5b4f8`](https://github.com/sagemath/sagetrac-mirror/commit/0c5b4f8702f15b239adb5412d31c138fe62d0f8b)** to **[`ad62d43`](https://github.com/sagemath/sagetrac-mirror/commit/ad62d43a6488a30801c64513eafb7e9a20abb7db)**



---

archive/issue_comments_203834.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nReplying to [@vbraun](#comment%3A54):\n> Run `sage -f dot2tex`. You can't specify file names.\n\nThis installs dot2tex-2.8.7.p2.spkg even if it is not in upstream and if dot2tex-20120520.tar.bz2 is the only dot2tex in upstream. At least for me.",
    "created_at": "2014-03-31T19:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203834",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:56" align="right">comment:56</div>

Replying to [@vbraun](#comment%3A54):
> Run `sage -f dot2tex`. You can't specify file names.

This installs dot2tex-2.8.7.p2.spkg even if it is not in upstream and if dot2tex-20120520.tar.bz2 is the only dot2tex in upstream. At least for me.



---

archive/issue_comments_203835.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nReplying to [@anneschilling](#comment%3A56):\n> Replying to [@vbraun](#comment%3A54):\n> > Run `sage -f dot2tex`. You can't specify file names.\n\n> \n> This installs dot2tex-2.8.7.p2.spkg even if it is not in upstream and if dot2tex-20120520.tar.bz2 is the only dot2tex in upstream. At least for me.\n\nAre you using Volker's branch? What are the contents of `build/pkgs/dot2tex`?",
    "created_at": "2014-03-31T19:18:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203835",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:57" align="right">comment:57</div>

Replying to [@anneschilling](#comment%3A56):
> Replying to [@vbraun](#comment%3A54):
> > Run `sage -f dot2tex`. You can't specify file names.

> 
> This installs dot2tex-2.8.7.p2.spkg even if it is not in upstream and if dot2tex-20120520.tar.bz2 is the only dot2tex in upstream. At least for me.

Are you using Volker's branch? What are the contents of `build/pkgs/dot2tex`?



---

archive/issue_comments_203836.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\n> Are you using Volker's branch? \n\nYes\n\n```\nanne$ git branch\n  develop\n  master\n  origin\n  ...\n* u/vbraun/dot2tex\n```\n\nThis is what I get with only dot2tex-20120520.tar.bz2 in upstream\n\n```\nlolita-4:sage anne$ git pull\nUpdating 0c5b4f8..ad62d43\nFast-forward\n build/pkgs/dot2tex/spkg-install | 3 +++\n 1 file changed, 3 insertions(+)\nlolita-4:sage anne$ sage -b\nscons: `install' is up to date.\nUpdating Cython code....\nFinished compiling Cython code (time = 3.14192295074 seconds)\nrunning install\nrunning build\nrunning build_py\nrunning build_ext\nExecuting 0 commands (using 1 thread)\nTime to execute 0 commands: 0.00505900382996 seconds\nTotal time spent compiling C/C++ extensions:  0.157021045685 seconds.\nrunning install_lib\nrunning install_egg_info\nRemoving /Applications/sage/local/lib/python2.7/site-packages/sage-6.2.beta5-py2.7.egg-info\nWriting /Applications/sage/local/lib/python2.7/site-packages/sage-6.2.beta5-py2.7.egg-info\n\nreal\t0m4.803s\nuser\t0m3.570s\nsys\t0m1.069s\nlolita-4:sage anne$ sage -f dot2tex\nAttempting to download package dot2tex\n>>> Checking online list of optional packages.\n[.]\n>>> Found dot2tex-2.8.7.p2\n>>> Trying to download http://www.sagemath.org/spkg/optional/dot2tex-2.8.7.p2.spkg\n[............................................................]\ndot2tex-2.8.7.p2\n====================================================\nExtracting package /Applications/sage/upstream/dot2tex-2.8.7.p2.spkg\n-rw-r--r--  1 anne  admin  971669 Mar 31 13:24 /Applications/sage/upstream/dot2tex-2.8.7.p2.spkg\nFinished extraction\n****************************************************\nHost system:\nDarwin d161.math.ucdavis.edu 10.8.0 Darwin Kernel Version 10.8.0: Tue Jun  7 16:33:36 PDT 2011; root:xnu-1504.15.3~1/RELEASE_I386 i386\n****************************************************\nC compiler: gcc\nC compiler version:\nUsing built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/Applications/sage/local/libexec/gcc/x86_64-apple-darwin10.8.0/4.7.3/lto-wrapper\nTarget: x86_64-apple-darwin10.8.0\nConfigured with: ../src/configure --prefix=/Applications/sage/local --with-local-prefix=/Applications/sage/local --with-gmp=/Applications/sage/local --with-mpfr=/Applications/sage/local --with-mpc=/Applications/sage/local --with-system-zlib --disable-multilib --disable-nls  \nThread model: posix\ngcc version 4.7.3 (GCC) \n****************************************************\npatching file dot2tex/dotparsing.py\npatching file setup.py\npatching file dot2tex/dot2tex.py\npatching file tests/test_comparedotparsing.py\npatching file tests/test_buildexamples.py\n/Applications/sage/local/lib/python/distutils/dist.py:267: UserWarning: Unknown distribution option: 'dependency_links'\n  warnings.warn(msg)\n/Applications/sage/local/lib/python/distutils/dist.py:267: UserWarning: Unknown distribution option: 'entry_points'\n  warnings.warn(msg)\n/Applications/sage/local/lib/python/distutils/dist.py:267: UserWarning: Unknown distribution option: 'install_requires'\n  warnings.warn(msg)\nrunning build\nrunning build_py\ncreating build\ncreating build/lib\ncreating build/lib/dot2tex\ncopying dot2tex/__init__.py -> build/lib/dot2tex\ncopying dot2tex/dot2tex.py -> build/lib/dot2tex\ncopying dot2tex/dotparsing.py -> build/lib/dot2tex\nrunning build_scripts\ncreating build/scripts-2.7\ncopying and adjusting dot2tex/dot2tex -> build/scripts-2.7\nchanging mode of build/scripts-2.7/dot2tex from 644 to 755\n/Applications/sage/local/lib/python/distutils/dist.py:267: UserWarning: Unknown distribution option: 'dependency_links'\n  warnings.warn(msg)\n/Applications/sage/local/lib/python/distutils/dist.py:267: UserWarning: Unknown distribution option: 'entry_points'\n  warnings.warn(msg)\n/Applications/sage/local/lib/python/distutils/dist.py:267: UserWarning: Unknown distribution option: 'install_requires'\n  warnings.warn(msg)\nrunning install\nrunning build\nrunning build_py\nrunning build_scripts\nrunning install_lib\ncopying build/lib/dot2tex/dot2tex.py -> /Applications/sage/local/lib/python2.7/site-packages/dot2tex\ncopying build/lib/dot2tex/dotparsing.py -> /Applications/sage/local/lib/python2.7/site-packages/dot2tex\nbyte-compiling /Applications/sage/local/lib/python2.7/site-packages/dot2tex/dot2tex.py to dot2tex.pyc\nbyte-compiling /Applications/sage/local/lib/python2.7/site-packages/dot2tex/dotparsing.py to dotparsing.pyc\nrunning install_scripts\ncopying build/scripts-2.7/dot2tex -> /Applications/sage/local/bin\nchanging mode of /Applications/sage/local/bin/dot2tex to 755\nrunning install_egg_info\nRemoving /Applications/sage/local/lib/python2.7/site-packages/dot2tex-2.8.7-py2.7.egg-info\nWriting /Applications/sage/local/lib/python2.7/site-packages/dot2tex-2.8.7-py2.7.egg-info\n\nreal\t0m0.725s\nuser\t0m0.315s\nsys\t0m0.209s\nSuccessfully installed dot2tex-2.8.7.p2\nDeleting temporary build directory\n/Applications/sage/local/var/tmp/sage/build/dot2tex-2.8.7.p2\nFinished installing dot2tex-2.8.7.p2.spkg\n```\n\nAfterwards, dot2tex-2.8.7.p2.spkg is again in upstream (even though I deleted it there first).\n\n> What are the contents of `build/pkgs/dot2tex`?\n\n```\nlolita-4:sage anne$ cd build/pkgs/dot2tex\nlolita-4:dot2tex anne$ ls\nspkg-install\n```\nand\n\n```\nlolita-4:dot2tex anne$ more spkg-install \n#!/usr/bin/env bash\n\nif [ -z \"$SAGE_LOCAL\" ]; then\n    echo >&2 \"Error: SAGE_LOCAL undefined - exiting...\"\n    echo >&2 \"Maybe run 'sage -sh'?\"\n    exit 1\nfi\n\n# Delete any old version or setup.py refuses to overwrite it\nrm -rf \"$SAGE_LOCAL/lib/python/site-packages/dot2tex\"\n\nls -al\ncd src\n\nfor patch in ../patches/*.patch; do\n    [ -f \"$patch\" ] || continue\n    patch -p1 <\"$patch\"\n    if [ $? -ne 0 ]; then\n        echo >&2 \"Error applying '$patch'\"\n        exit 1\n    fi\ndone\n\npython setup.py build\nif [ $? -ne 0 ]; then\n    echo >&2 \"Error building dot2tex.\"\n    exit 1\nfi\n\npython setup.py install\nif [ $? -ne 0 ]; then\n    echo >&2 \"Error installing dot2tex.\"\n    exit 1\nfi\n```",
    "created_at": "2014-03-31T20:33:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203836",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:58" align="right">comment:58</div>

> Are you using Volker's branch? 

Yes

```
anne$ git branch
  develop
  master
  origin
  ...
* u/vbraun/dot2tex
```

This is what I get with only dot2tex-20120520.tar.bz2 in upstream

```
lolita-4:sage anne$ git pull
Updating 0c5b4f8..ad62d43
Fast-forward
 build/pkgs/dot2tex/spkg-install | 3 +++
 1 file changed, 3 insertions(+)
lolita-4:sage anne$ sage -b
scons: `install' is up to date.
Updating Cython code....
Finished compiling Cython code (time = 3.14192295074 seconds)
running install
running build
running build_py
running build_ext
Executing 0 commands (using 1 thread)
Time to execute 0 commands: 0.00505900382996 seconds
Total time spent compiling C/C++ extensions:  0.157021045685 seconds.
running install_lib
running install_egg_info
Removing /Applications/sage/local/lib/python2.7/site-packages/sage-6.2.beta5-py2.7.egg-info
Writing /Applications/sage/local/lib/python2.7/site-packages/sage-6.2.beta5-py2.7.egg-info

real	0m4.803s
user	0m3.570s
sys	0m1.069s
lolita-4:sage anne$ sage -f dot2tex
Attempting to download package dot2tex
>>> Checking online list of optional packages.
[.]
>>> Found dot2tex-2.8.7.p2
>>> Trying to download http://www.sagemath.org/spkg/optional/dot2tex-2.8.7.p2.spkg
[............................................................]
dot2tex-2.8.7.p2
====================================================
Extracting package /Applications/sage/upstream/dot2tex-2.8.7.p2.spkg
-rw-r--r--  1 anne  admin  971669 Mar 31 13:24 /Applications/sage/upstream/dot2tex-2.8.7.p2.spkg
Finished extraction
****************************************************
Host system:
Darwin d161.math.ucdavis.edu 10.8.0 Darwin Kernel Version 10.8.0: Tue Jun  7 16:33:36 PDT 2011; root:xnu-1504.15.3~1/RELEASE_I386 i386
****************************************************
C compiler: gcc
C compiler version:
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/Applications/sage/local/libexec/gcc/x86_64-apple-darwin10.8.0/4.7.3/lto-wrapper
Target: x86_64-apple-darwin10.8.0
Configured with: ../src/configure --prefix=/Applications/sage/local --with-local-prefix=/Applications/sage/local --with-gmp=/Applications/sage/local --with-mpfr=/Applications/sage/local --with-mpc=/Applications/sage/local --with-system-zlib --disable-multilib --disable-nls  
Thread model: posix
gcc version 4.7.3 (GCC) 
****************************************************
patching file dot2tex/dotparsing.py
patching file setup.py
patching file dot2tex/dot2tex.py
patching file tests/test_comparedotparsing.py
patching file tests/test_buildexamples.py
/Applications/sage/local/lib/python/distutils/dist.py:267: UserWarning: Unknown distribution option: 'dependency_links'
  warnings.warn(msg)
/Applications/sage/local/lib/python/distutils/dist.py:267: UserWarning: Unknown distribution option: 'entry_points'
  warnings.warn(msg)
/Applications/sage/local/lib/python/distutils/dist.py:267: UserWarning: Unknown distribution option: 'install_requires'
  warnings.warn(msg)
running build
running build_py
creating build
creating build/lib
creating build/lib/dot2tex
copying dot2tex/__init__.py -> build/lib/dot2tex
copying dot2tex/dot2tex.py -> build/lib/dot2tex
copying dot2tex/dotparsing.py -> build/lib/dot2tex
running build_scripts
creating build/scripts-2.7
copying and adjusting dot2tex/dot2tex -> build/scripts-2.7
changing mode of build/scripts-2.7/dot2tex from 644 to 755
/Applications/sage/local/lib/python/distutils/dist.py:267: UserWarning: Unknown distribution option: 'dependency_links'
  warnings.warn(msg)
/Applications/sage/local/lib/python/distutils/dist.py:267: UserWarning: Unknown distribution option: 'entry_points'
  warnings.warn(msg)
/Applications/sage/local/lib/python/distutils/dist.py:267: UserWarning: Unknown distribution option: 'install_requires'
  warnings.warn(msg)
running install
running build
running build_py
running build_scripts
running install_lib
copying build/lib/dot2tex/dot2tex.py -> /Applications/sage/local/lib/python2.7/site-packages/dot2tex
copying build/lib/dot2tex/dotparsing.py -> /Applications/sage/local/lib/python2.7/site-packages/dot2tex
byte-compiling /Applications/sage/local/lib/python2.7/site-packages/dot2tex/dot2tex.py to dot2tex.pyc
byte-compiling /Applications/sage/local/lib/python2.7/site-packages/dot2tex/dotparsing.py to dotparsing.pyc
running install_scripts
copying build/scripts-2.7/dot2tex -> /Applications/sage/local/bin
changing mode of /Applications/sage/local/bin/dot2tex to 755
running install_egg_info
Removing /Applications/sage/local/lib/python2.7/site-packages/dot2tex-2.8.7-py2.7.egg-info
Writing /Applications/sage/local/lib/python2.7/site-packages/dot2tex-2.8.7-py2.7.egg-info

real	0m0.725s
user	0m0.315s
sys	0m0.209s
Successfully installed dot2tex-2.8.7.p2
Deleting temporary build directory
/Applications/sage/local/var/tmp/sage/build/dot2tex-2.8.7.p2
Finished installing dot2tex-2.8.7.p2.spkg
```

Afterwards, dot2tex-2.8.7.p2.spkg is again in upstream (even though I deleted it there first).

> What are the contents of `build/pkgs/dot2tex`?

```
lolita-4:sage anne$ cd build/pkgs/dot2tex
lolita-4:dot2tex anne$ ls
spkg-install
```
and

```
lolita-4:dot2tex anne$ more spkg-install 
#!/usr/bin/env bash

if [ -z "$SAGE_LOCAL" ]; then
    echo >&2 "Error: SAGE_LOCAL undefined - exiting..."
    echo >&2 "Maybe run 'sage -sh'?"
    exit 1
fi

# Delete any old version or setup.py refuses to overwrite it
rm -rf "$SAGE_LOCAL/lib/python/site-packages/dot2tex"

ls -al
cd src

for patch in ../patches/*.patch; do
    [ -f "$patch" ] || continue
    patch -p1 <"$patch"
    if [ $? -ne 0 ]; then
        echo >&2 "Error applying '$patch'"
        exit 1
    fi
done

python setup.py build
if [ $? -ne 0 ]; then
    echo >&2 "Error building dot2tex."
    exit 1
fi

python setup.py install
if [ $? -ne 0 ]; then
    echo >&2 "Error installing dot2tex."
    exit 1
fi
```



---

archive/issue_comments_203837.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nHere's what you should see:\n\n```\n$ ls build/pkgs/dot2tex\nSPKG.txt             package-version.txt  spkg-check\nchecksums.ini        patches              spkg-install\n```\nIn particular, `package-version.txt` should contain `20120520`, so it knows which file to use. (It's funny because your `spkg-install` looks current. What happened to the rest of the files?)\n\nMaybe try getting the branch again? I would do\n\n```\n$ git fetch trac u/vbraun/dot2tex\n$ git checkout -b dot2tex-new FETCH_HEAD\n```\nto create and switch to a new branch `dot2tex-new`. If you do that, does `build/pkgs/dot2tex` have the right contents?",
    "created_at": "2014-03-31T20:59:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203837",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:59" align="right">comment:59</div>

Here's what you should see:

```
$ ls build/pkgs/dot2tex
SPKG.txt             package-version.txt  spkg-check
checksums.ini        patches              spkg-install
```
In particular, `package-version.txt` should contain `20120520`, so it knows which file to use. (It's funny because your `spkg-install` looks current. What happened to the rest of the files?)

Maybe try getting the branch again? I would do

```
$ git fetch trac u/vbraun/dot2tex
$ git checkout -b dot2tex-new FETCH_HEAD
```
to create and switch to a new branch `dot2tex-new`. If you do that, does `build/pkgs/dot2tex` have the right contents?



---

archive/issue_comments_203838.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nOk, Travis and I figured out the problem. There was a spurious folder dot2tex-20... in build/pkgs/ which I removed and now everything seems to work!",
    "created_at": "2014-03-31T20:59:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203838",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:60" align="right">comment:60</div>

Ok, Travis and I figured out the problem. There was a spurious folder dot2tex-20... in build/pkgs/ which I removed and now everything seems to work!



---

archive/issue_comments_203839.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nThe new skpg works (with matplotlib-1.2.something), but it doesn't fix my original problem of numerical instability. So I've merged in my old branch.",
    "created_at": "2014-04-01T19:58:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203839",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:61" align="right">comment:61</div>

The new skpg works (with matplotlib-1.2.something), but it doesn't fix my original problem of numerical instability. So I've merged in my old branch.



---

archive/issue_comments_203840.json:
```json
{
    "body": "Changed branch from **[u/vbraun/dot2tex](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/dot2tex)** to **[public/dot2tex](https://github.com/sagemath/sagetrac-mirror/tree/public/dot2tex)**",
    "created_at": "2014-04-01T19:58:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203840",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/vbraun/dot2tex](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/dot2tex)** to **[public/dot2tex](https://github.com/sagemath/sagetrac-mirror/tree/public/dot2tex)**



---

archive/issue_comments_203841.json:
```json
{
    "body": "Changed commit from **[`ad62d43`](https://github.com/sagemath/sagetrac-mirror/commit/ad62d43a6488a30801c64513eafb7e9a20abb7db)** to none",
    "created_at": "2014-04-01T19:58:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203841",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`ad62d43`](https://github.com/sagemath/sagetrac-mirror/commit/ad62d43a6488a30801c64513eafb7e9a20abb7db)** to none



---

archive/issue_comments_203842.json:
```json
{
    "body": "Commit: **[`d9f3ba0`](https://github.com/sagemath/sagetrac-mirror/commit/d9f3ba05fe69c12c440bf03058903f0336ad8600)**",
    "created_at": "2014-04-01T19:59:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203842",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`d9f3ba0`](https://github.com/sagemath/sagetrac-mirror/commit/d9f3ba05fe69c12c440bf03058903f0336ad8600)**



---

archive/issue_comments_203843.json:
```json
{
    "body": "<div id=\"comment:62\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4665988e9d922b356704d62370c862696d52ab88\"><code>4665988</code></a></td><td><code>update dot2tex to latest dev version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/702c72b0c4fa9f3247a94a6168daf6fe157a143e\"><code>702c72b</code></a></td><td><code>form valid keys for dot2tex</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8abf26678ad91ba5b4da9fb9f26c91e8a16736b\"><code>e8abf26</code></a></td><td><code>fix more doctest failures</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/289c212d438819939c24e6aa77bd0aeef8ff59ba\"><code>289c212</code></a></td><td><code>pointless bikeshedding of tarball name</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c5b4f8702f15b239adb5412d31c138fe62d0f8b\"><code>0c5b4f8</code></a></td><td><code>pyparsing is deprecating itself</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad62d43a6488a30801c64513eafb7e9a20abb7db\"><code>ad62d43</code></a></td><td><code>delete previous dot2tex directory if it exists</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58607e63a6c0e12e49ef7e5b26abe0bf751ef4a1\"><code>58607e6</code></a></td><td><code>Fix for numerically small values.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9f3ba05fe69c12c440bf03058903f0336ad8600\"><code>d9f3ba0</code></a></td><td><code>Merge branch 'public/combinat/crystals/fix_A2odd_KR-16026' into public/dot2tex</code></td></tr></table>\n",
    "created_at": "2014-04-01T19:59:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203843",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:62"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4665988e9d922b356704d62370c862696d52ab88"><code>4665988</code></a></td><td><code>update dot2tex to latest dev version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/702c72b0c4fa9f3247a94a6168daf6fe157a143e"><code>702c72b</code></a></td><td><code>form valid keys for dot2tex</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8abf26678ad91ba5b4da9fb9f26c91e8a16736b"><code>e8abf26</code></a></td><td><code>fix more doctest failures</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/289c212d438819939c24e6aa77bd0aeef8ff59ba"><code>289c212</code></a></td><td><code>pointless bikeshedding of tarball name</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c5b4f8702f15b239adb5412d31c138fe62d0f8b"><code>0c5b4f8</code></a></td><td><code>pyparsing is deprecating itself</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad62d43a6488a30801c64513eafb7e9a20abb7db"><code>ad62d43</code></a></td><td><code>delete previous dot2tex directory if it exists</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58607e63a6c0e12e49ef7e5b26abe0bf751ef4a1"><code>58607e6</code></a></td><td><code>Fix for numerically small values.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9f3ba05fe69c12c440bf03058903f0336ad8600"><code>d9f3ba0</code></a></td><td><code>Merge branch 'public/combinat/crystals/fix_A2odd_KR-16026' into public/dot2tex</code></td></tr></table>




---

archive/issue_comments_203844.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nDid you try the patch from https://code.google.com/p/dot2tex/issues/detail?id=29, that would be a much better fix imho.",
    "created_at": "2014-04-01T20:12:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203844",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:63" align="right">comment:63</div>

Did you try the patch from https://code.google.com/p/dot2tex/issues/detail?id=29, that would be a much better fix imho.



---

archive/issue_comments_203845.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nPS: I can't reproduce it with graphviz-2.34.0, which I think is responsible for the scientific notation output.",
    "created_at": "2014-04-01T20:13:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203845",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:64" align="right">comment:64</div>

PS: I can't reproduce it with graphviz-2.34.0, which I think is responsible for the scientific notation output.



---

archive/issue_comments_203846.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nFor me it also worked without Travis' fix (just using the new spkg from Volker).",
    "created_at": "2014-04-01T20:29:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203846",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:65" align="right">comment:65</div>

For me it also worked without Travis' fix (just using the new spkg from Volker).



---

archive/issue_comments_203847.json:
```json
{
    "body": "<div id=\"comment:66\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80fe9f9768279a14fa15570bbff81b28b695b14d\"><code>80fe9f9</code></a></td><td><code>Added the force float patch.</code></td></tr></table>\n",
    "created_at": "2014-04-01T20:58:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203847",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80fe9f9768279a14fa15570bbff81b28b695b14d"><code>80fe9f9</code></a></td><td><code>Added the force float patch.</code></td></tr></table>




---

archive/issue_comments_203848.json:
```json
{
    "body": "Changed commit from **[`d9f3ba0`](https://github.com/sagemath/sagetrac-mirror/commit/d9f3ba05fe69c12c440bf03058903f0336ad8600)** to **[`80fe9f9`](https://github.com/sagemath/sagetrac-mirror/commit/80fe9f9768279a14fa15570bbff81b28b695b14d)**",
    "created_at": "2014-04-01T20:58:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203848",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d9f3ba0`](https://github.com/sagemath/sagetrac-mirror/commit/d9f3ba05fe69c12c440bf03058903f0336ad8600)** to **[`80fe9f9`](https://github.com/sagemath/sagetrac-mirror/commit/80fe9f9768279a14fa15570bbff81b28b695b14d)**



---

archive/issue_comments_203849.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nIt probably only happens with certain computers. Anyways, I've added the patch from the link (with some rebasing) and reverted my other change (albeit not in the best git way). Now I can view all the pretty crystals. So if my changes are good, then I believe this is a positive review.",
    "created_at": "2014-04-01T21:01:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203849",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:67" align="right">comment:67</div>

It probably only happens with certain computers. Anyways, I've added the patch from the link (with some rebasing) and reverted my other change (albeit not in the best git way). Now I can view all the pretty crystals. So if my changes are good, then I believe this is a positive review.



---

archive/issue_comments_203850.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nI am happy to set a positive review on Volker's branch, but as John ad Leif mention it might be good to have it work also with older versions of sage. I did not seem to require Travis' changes to make all pictures work.",
    "created_at": "2014-04-02T20:18:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203850",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:68" align="right">comment:68</div>

I am happy to set a positive review on Volker's branch, but as John ad Leif mention it might be good to have it work also with older versions of sage. I did not seem to require Travis' changes to make all pictures work.



---

archive/issue_comments_203851.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nI don't actually use dot2tex, so I have nothing invested in this. I am happy to leave it as is and put off compatibility with older versions to another ticket (or indefinitely, hoping that it will sort itself out).",
    "created_at": "2014-04-02T20:20:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203851",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:69" align="right">comment:69</div>

I don't actually use dot2tex, so I have nothing invested in this. I am happy to leave it as is and put off compatibility with older versions to another ticket (or indefinitely, hoping that it will sort itself out).



---

archive/issue_comments_203852.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\n[Like I mentioned before](#comment%3A61), it did work with my matplotlib 1.2.x, so it might still work with older versions too. However, I'm okay with putting backwards compatibility off to another ticket (if anyone actually runs into a problem).",
    "created_at": "2014-04-02T20:26:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203852",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:70" align="right">comment:70</div>

[Like I mentioned before](#comment%3A61), it did work with my matplotlib 1.2.x, so it might still work with older versions too. However, I'm okay with putting backwards compatibility off to another ticket (if anyone actually runs into a problem).



---

archive/issue_comments_203853.json:
```json
{
    "body": "Reviewer: **Anne Schilling, Travis Scrimshaw**",
    "created_at": "2014-04-03T06:37:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203853",
    "user": "https://github.com/anneschilling"
}
```

Reviewer: **Anne Schilling, Travis Scrimshaw**



---

archive/issue_comments_203854.json:
```json
{
    "body": "Changed keywords from none to **dot2tex**",
    "created_at": "2014-04-03T06:37:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203854",
    "user": "https://github.com/anneschilling"
}
```

Changed keywords from none to **dot2tex**



---

archive/issue_events_226655.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2014-04-03T06:37:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226655"
}
```



---

archive/issue_events_226656.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2014-04-03T06:37:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226656"
}
```



---

archive/issue_comments_203855.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nTravis and I reviewed the patch and everything seems to work well.",
    "created_at": "2014-04-03T06:40:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203855",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:72" align="right">comment:72</div>

Travis and I reviewed the patch and everything seems to work well.



---

archive/issue_events_226657.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-04T15:55:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226657"
}
```



---

archive/issue_events_226658.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3de75fdbc5d1fa27108df64cb68a9838aa3644d1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-04-04T15:55:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16026#event-226658"
}
```



---

archive/issue_comments_203856.json:
```json
{
    "body": "Changed branch from **[public/dot2tex](https://github.com/sagemath/sagetrac-mirror/tree/public/dot2tex)** to **[`80fe9f9`](https://github.com/sagemath/sagetrac-mirror/commit/80fe9f9768279a14fa15570bbff81b28b695b14d)**",
    "created_at": "2014-04-04T15:55:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203856",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/dot2tex](https://github.com/sagemath/sagetrac-mirror/tree/public/dot2tex)** to **[`80fe9f9`](https://github.com/sagemath/sagetrac-mirror/commit/80fe9f9768279a14fa15570bbff81b28b695b14d)**



---

archive/issue_comments_203857.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nReplying to [@vbraun](#comment%3A15):\n> First of all, whats up with the that catch-all \"dot2tex not available\" error message. If you can't be helpful then don't catch errors, just let the exception propagate so we can see what is wrong.\n\nI created a ticket for this at #16242. It needs review.\n\nS\u00e9bastien",
    "created_at": "2014-05-02T08:21:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203857",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:74" align="right">comment:74</div>

Replying to [@vbraun](#comment%3A15):
> First of all, whats up with the that catch-all "dot2tex not available" error message. If you can't be helpful then don't catch errors, just let the exception propagate so we can see what is wrong.

I created a ticket for this at #16242. It needs review.

Sébastien



---

archive/issue_comments_203858.json:
```json
{
    "body": "Changed commit from **[`80fe9f9`](https://github.com/sagemath/sagetrac-mirror/commit/80fe9f9768279a14fa15570bbff81b28b695b14d)** to none",
    "created_at": "2014-05-02T08:21:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203858",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[`80fe9f9`](https://github.com/sagemath/sagetrac-mirror/commit/80fe9f9768279a14fa15570bbff81b28b695b14d)** to none



---

archive/issue_comments_203859.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nThe tarball is not available at http://www.sagemath.org/packages/optional/. Or am I missing something?",
    "created_at": "2015-01-08T16:08:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16026#issuecomment-203859",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:75" align="right">comment:75</div>

The tarball is not available at http://www.sagemath.org/packages/optional/. Or am I missing something?
