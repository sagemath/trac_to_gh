# Issue 16741: Bug in IncidenceStructure.automorphism_group when the ground set consists of pairs

archive/issues_016504.json:
```json
{
    "body": "Before\n\n```\nsage: designs.IncidenceStructure([[(1,2),(3,4)]]).automorphism_group()\n...\nValueError: Invalid permutation vector: [(3, 4), (1, 2)]\n```\n\nAfter\n\n```\nsage: designs.IncidenceStructure([[(1,2),(3,4)]]).automorphism_group()\nPermutation Group with generators [((1,2),(3,4))]\n```\n\n**CC:**  @videlec @KPanComputes @dimpase\n\n**Branch:** [aad8ee5de146babdc8873c0dd7fa64340e064590](https://github.com/sagemath/sagetrac-mirror/commit/aad8ee5de146babdc8873c0dd7fa64340e064590)\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Nathann Cohen\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16741\n\n",
    "closed_at": "2014-08-02T14:14:54Z",
    "created_at": "2014-07-30T09:56:21Z",
    "labels": [
        "component: combinatorial designs",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Bug in IncidenceStructure.automorphism_group when the ground set consists of pairs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16741",
    "user": "https://github.com/nathanncohen"
}
```
Before

```
sage: designs.IncidenceStructure([[(1,2),(3,4)]]).automorphism_group()
...
ValueError: Invalid permutation vector: [(3, 4), (1, 2)]
```

After

```
sage: designs.IncidenceStructure([[(1,2),(3,4)]]).automorphism_group()
Permutation Group with generators [((1,2),(3,4))]
```

**CC:**  @videlec @KPanComputes @dimpase

**Branch:** [aad8ee5de146babdc8873c0dd7fa64340e064590](https://github.com/sagemath/sagetrac-mirror/commit/aad8ee5de146babdc8873c0dd7fa64340e064590)

**Reviewer:** Dima Pasechnik

**Author:** Nathann Cohen

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/16741





---

archive/issue_comments_283081.json:
```json
{
    "body": "**Branch:** [u/ncohen/16741](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16741)",
    "created_at": "2014-07-30T09:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283081",
    "user": "https://github.com/nathanncohen"
}
```

**Branch:** [u/ncohen/16741](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16741)



---

archive/issue_comments_283082.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2014-07-30T09:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283082",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_283083.json:
```json
{
    "body": "<a id='comment:1'></a>\nThis really was triky to fix. The permutation code tries to handle several incompatible input i.e. tries to guess whether input is given in list notation or cycle notation, and guesses that from the type list/tuple of input.\n\nPlus some permutation code WANTS permutations on 1...n, others on 0,...,n-1 and others handle everything...",
    "created_at": "2014-07-30T09:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283083",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'></a>
This really was triky to fix. The permutation code tries to handle several incompatible input i.e. tries to guess whether input is given in list notation or cycle notation, and guesses that from the type list/tuple of input.

Plus some permutation code WANTS permutations on 1...n, others on 0,...,n-1 and others handle everything...



---

archive/issue_comments_283084.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,11 +1,14 @@\n Before\n \n ```\n-\n+sage: designs.IncidenceStructure([[(1,2),(3,4)]]).automorphism_group()\n+...\n+ValueError: Invalid permutation vector: [(3, 4), (1, 2)]\n ```\n \n After\n \n ```\n-\n+sage: designs.IncidenceStructure([[(1,2),(3,4)]]).automorphism_group()\n+Permutation Group with generators [((1,2),(3,4))]\n ```\n``````\n",
    "created_at": "2014-07-30T09:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283084",
    "user": "https://github.com/nathanncohen"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,11 +1,14 @@
 Before
 
 ```
-
+sage: designs.IncidenceStructure([[(1,2),(3,4)]]).automorphism_group()
+...
+ValueError: Invalid permutation vector: [(3, 4), (1, 2)]
 ```
 
 After
 
 ```
-
+sage: designs.IncidenceStructure([[(1,2),(3,4)]]).automorphism_group()
+Permutation Group with generators [((1,2),(3,4))]
 ```
``````




---

archive/issue_comments_283085.json:
```json
{
    "body": "**Commit:** [aad8ee5de146babdc8873c0dd7fa64340e064590](https://github.com/sagemath/sagetrac-mirror/commit/aad8ee5de146babdc8873c0dd7fa64340e064590)",
    "created_at": "2014-07-30T10:00:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283085",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [aad8ee5de146babdc8873c0dd7fa64340e064590](https://github.com/sagemath/sagetrac-mirror/commit/aad8ee5de146babdc8873c0dd7fa64340e064590)



---

archive/issue_comments_283086.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aad8ee5de146babdc8873c0dd7fa64340e064590\">aad8ee5</a></td><td><code>trac #16741: Bug in IncidenceStructure.relabel when the ground set consists of pairs</code></td></tr></table>\n",
    "created_at": "2014-07-30T10:00:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283086",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aad8ee5de146babdc8873c0dd7fa64340e064590">aad8ee5</a></td><td><code>trac #16741: Bug in IncidenceStructure.relabel when the ground set consists of pairs</code></td></tr></table>




---

archive/issue_comments_283087.json:
```json
{
    "body": "<a id='comment:3'></a>\nwhen I read the permgroups code, I think: \"FORTRAN\" :-)",
    "created_at": "2014-07-30T12:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283087",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
when I read the permgroups code, I think: "FORTRAN" :-)



---

archive/issue_events_055770.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "rename": {
        "from": "Bug in IncidenceStructure.relabel when the ground set consists of pairs",
        "to": "Bug in IncidenceStructure.automorphism_group when the ground set consists of pairs"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16741#event-55770"
}
```



---

archive/issue_comments_283088.json:
```json
{
    "body": "<a id='comment:5'></a>\nLGTM",
    "created_at": "2014-08-01T11:09:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283088",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
LGTM



---

archive/issue_comments_283089.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2014-08-01T11:09:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283089",
    "user": "https://github.com/dimpase"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_283090.json:
```json
{
    "body": "<a id='comment:6'></a>\nThaaaaaaaannks !\n\nNathann",
    "created_at": "2014-08-01T11:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283090",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'></a>
Thaaaaaaaannks !

Nathann



---

archive/issue_comments_283091.json:
```json
{
    "body": "<a id='comment:7'></a>\nname",
    "created_at": "2014-08-01T15:54:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283091",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'></a>
name



---

archive/issue_comments_283092.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2014-08-01T15:54:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283092",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_283093.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2014-08-01T18:21:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283093",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_283094.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2014-08-01T18:21:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283094",
    "user": "https://github.com/dimpase"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_events_055771.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-02T12:18:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16741#event-55771"
}
```



---

archive/issue_comments_283095.json:
```json
{
    "body": "**Changing branch** from \"[u/ncohen/16741](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16741)\" to \"[aad8ee5de146babdc8873c0dd7fa64340e064590](https://github.com/sagemath/sagetrac-mirror/commit/aad8ee5de146babdc8873c0dd7fa64340e064590)\".",
    "created_at": "2014-08-02T12:18:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283095",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/ncohen/16741](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16741)" to "[aad8ee5de146babdc8873c0dd7fa64340e064590](https://github.com/sagemath/sagetrac-mirror/commit/aad8ee5de146babdc8873c0dd7fa64340e064590)".



---

archive/issue_comments_283096.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2014-08-02T12:18:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283096",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_283097.json:
```json
{
    "body": "<a id='comment:10'></a>\nPDF docs:\n\n```\nLaTeX Warning: Hyper reference `sage/combinat/designs/incidence_structures:sage\n.combinat.designs.incidence_structures.IncidenceStructure.is_t_design' on page \n244 undefined on input line 20504.\n\n[244] [245] [246]\n! Double subscript.\nl.20746 ...tion, see the ;wikipedia:$Packing_in_a_\n                                                  hypergraph$.\n```",
    "created_at": "2014-08-02T14:11:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283097",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>
PDF docs:

```
LaTeX Warning: Hyper reference `sage/combinat/designs/incidence_structures:sage
.combinat.designs.incidence_structures.IncidenceStructure.is_t_design' on page 
244 undefined on input line 20504.

[244] [245] [246]
! Double subscript.
l.20746 ...tion, see the ;wikipedia:$Packing_in_a_
                                                  hypergraph$.
```



---

archive/issue_comments_283098.json:
```json
{
    "body": "**Resolution changed** from fixed to .",
    "created_at": "2014-08-02T14:11:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283098",
    "user": "https://github.com/vbraun"
}
```

**Resolution changed** from fixed to .



---

archive/issue_comments_283099.json:
```json
{
    "body": "**Changing commit** from \"[aad8ee5de146babdc8873c0dd7fa64340e064590](https://github.com/sagemath/sagetrac-mirror/commit/aad8ee5de146babdc8873c0dd7fa64340e064590)\" to \"\".",
    "created_at": "2014-08-02T14:11:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283099",
    "user": "https://github.com/vbraun"
}
```

**Changing commit** from "[aad8ee5de146babdc8873c0dd7fa64340e064590](https://github.com/sagemath/sagetrac-mirror/commit/aad8ee5de146babdc8873c0dd7fa64340e064590)" to "".



---

archive/issue_comments_283100.json:
```json
{
    "body": "**Changing status** from closed to new.",
    "created_at": "2014-08-02T14:11:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283100",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from closed to new.



---

archive/issue_comments_283101.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2014-08-02T14:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283101",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_283102.json:
```json
{
    "body": "<a id='comment:11'></a>\nwrong ticket",
    "created_at": "2014-08-02T14:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16741#issuecomment-283102",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>
wrong ticket



---

archive/issue_events_055772.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-02T14:14:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16741",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16741#event-55772"
}
```
