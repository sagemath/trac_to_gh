# Issue 16948: Construct a quaternion algebra over a number field by specifying its ramification

archive/issues_016711.json:
```json
{
    "body": "There is a need for the constructor QuaternionAlgebra to take as input a number field F and a ramification (specified by an ideal D in F and a set of real places S of F) and which constructs a quaternion algebra over F with ramified precisely at the primes dividing D and at the places in S.\n\nWe have code to add here, which is now being tested and documented.\n\nCC:  @tornaria\n\nKeywords: quaternion algebra, ramification, number fields\n\nAuthor: Marc Masdeu, Xavier Guitart\n\nBranch: u/mmasdeu/16948-review\n\nStatus: needs_work\n\nCommit: fcf1a69ad070ee4528138ef95f1d4d22190aa4ae\n\nIssue created by migration from https://trac.sagemath.org/ticket/16948\n\n",
    "created_at": "2014-09-09T13:03:35Z",
    "labels": [
        "component: number theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "Construct a quaternion algebra over a number field by specifying its ramification",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16948",
    "user": "https://github.com/mmasdeu"
}
```
There is a need for the constructor QuaternionAlgebra to take as input a number field F and a ramification (specified by an ideal D in F and a set of real places S of F) and which constructs a quaternion algebra over F with ramified precisely at the primes dividing D and at the places in S.

We have code to add here, which is now being tested and documented.

CC:  @tornaria

Keywords: quaternion algebra, ramification, number fields

Author: Marc Masdeu, Xavier Guitart

Branch: u/mmasdeu/16948-review

Status: needs_work

Commit: fcf1a69ad070ee4528138ef95f1d4d22190aa4ae

Issue created by migration from https://trac.sagemath.org/ticket/16948





---

archive/issue_comments_280560.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mmasdeu/16948-quatalg-from-ramification\"",
    "created_at": "2014-09-16T09:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280560",
    "user": "https://github.com/mmasdeu"
}
```

Changing branch from "" to "u/mmasdeu/16948-quatalg-from-ramification"



---

archive/issue_comments_280561.json:
```json
{
    "body": "<a id='comment:1'></a>\nThe code passes all doctests and runs in reasonable time. I think it is ready for review.",
    "created_at": "2014-09-16T09:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280561",
    "user": "https://github.com/mmasdeu"
}
```

<a id='comment:1'></a>
The code passes all doctests and runs in reasonable time. I think it is ready for review.



---

archive/issue_comments_280562.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-09-16T09:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280562",
    "user": "https://github.com/mmasdeu"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_280563.json:
```json
{
    "body": "Changing commit from \"\" to \"2d2cfa90f1c66fab14457767508dfdad17b3b360\"",
    "created_at": "2014-09-16T09:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280563",
    "user": "https://github.com/mmasdeu"
}
```

Changing commit from "" to "2d2cfa90f1c66fab14457767508dfdad17b3b360"



---

archive/issue_comments_280564.json:
```json
{
    "body": "<a id='comment:2'></a>\nJust a remark: this functionality is in PARI now, so you could just try to wrap PARI.",
    "created_at": "2015-05-30T10:33:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280564",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>
Just a remark: this functionality is in PARI now, so you could just try to wrap PARI.



---

archive/issue_comments_280565.json:
```json
{
    "body": "<a id='comment:3'></a>\nPlease use python3 raise syntax: `raise Error('msg')`\n\nsee patchbot report in `plugin raise_statement` for the lines with a bad raise syntax",
    "created_at": "2015-07-08T12:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280565",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
Please use python3 raise syntax: `raise Error('msg')`

see patchbot report in `plugin raise_statement` for the lines with a bad raise syntax



---

archive/issue_events_063986.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-08T12:15:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16948#event-63986"
}
```



---

archive/issue_comments_280566.json:
```json
{
    "body": "Changing branch from \"u/mmasdeu/16948-quatalg-from-ramification\" to \"public/ticket/16948\"",
    "created_at": "2015-07-27T19:59:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280566",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "u/mmasdeu/16948-quatalg-from-ramification" to "public/ticket/16948"



---

archive/issue_comments_280567.json:
```json
{
    "body": "Changing commit from \"2d2cfa90f1c66fab14457767508dfdad17b3b360\" to \"2c21a0baf8224b74a3a5f3d51072ba6a865c09ad\"",
    "created_at": "2015-07-27T19:59:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280567",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "2d2cfa90f1c66fab14457767508dfdad17b3b360" to "2c21a0baf8224b74a3a5f3d51072ba6a865c09ad"



---

archive/issue_comments_280568.json:
```json
{
    "body": "<a id='comment:5'></a>\nNew commits:\n|                                                                                                                                          |                                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|\n|[de9cb12](https://github.com/sagemath/sagetrac-mirror/commit/de9cb12b72753290c49980561fa632268c1a6491)|`Merge branch 'u/mmasdeu/16948-quatalg-from-ramification' into 6.8`|\n|[2c21a0b](https://github.com/sagemath/sagetrac-mirror/commit/2c21a0baf8224b74a3a5f3d51072ba6a865c09ad)|`correct py3 syntax for raise`|",
    "created_at": "2015-07-27T19:59:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280568",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
New commits:
|                                                                                                                                          |                                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
|[de9cb12](https://github.com/sagemath/sagetrac-mirror/commit/de9cb12b72753290c49980561fa632268c1a6491)|`Merge branch 'u/mmasdeu/16948-quatalg-from-ramification' into 6.8`|
|[2c21a0b](https://github.com/sagemath/sagetrac-mirror/commit/2c21a0baf8224b74a3a5f3d51072ba6a865c09ad)|`correct py3 syntax for raise`|



---

archive/issue_events_063987.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-27T19:59:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16948#event-63987"
}
```



---

archive/issue_events_063988.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-27T19:59:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16948#event-63988"
}
```



---

archive/issue_comments_280569.json:
```json
{
    "body": "Changing commit from \"2c21a0baf8224b74a3a5f3d51072ba6a865c09ad\" to \"b29e4f807ec9b7a80437719e1b19dfc49db15e7f\"",
    "created_at": "2015-07-28T08:24:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280569",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2c21a0baf8224b74a3a5f3d51072ba6a865c09ad" to "b29e4f807ec9b7a80437719e1b19dfc49db15e7f"



---

archive/issue_comments_280570.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[b29e4f8](https://github.com/sagemath/sagetrac-mirror/commit/b29e4f807ec9b7a80437719e1b19dfc49db15e7f)|`trac #16948 some details in code and documentation`|",
    "created_at": "2015-07-28T08:24:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280570",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[b29e4f8](https://github.com/sagemath/sagetrac-mirror/commit/b29e4f807ec9b7a80437719e1b19dfc49db15e7f)|`trac #16948 some details in code and documentation`|



---

archive/issue_comments_280571.json:
```json
{
    "body": "<a id='comment:7'></a>\nNew commits:\n|                                                                                                                                          |                                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|\n|[e5c0916](https://github.com/sagemath/sagetrac-mirror/commit/e5c0916b958400a80ad55666205dd45cffb8f5b0)|`Added missing docstrings in number_field.py so that patchbot is happy.`|",
    "created_at": "2016-04-14T12:50:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280571",
    "user": "https://github.com/mmasdeu"
}
```

<a id='comment:7'></a>
New commits:
|                                                                                                                                          |                                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
|[e5c0916](https://github.com/sagemath/sagetrac-mirror/commit/e5c0916b958400a80ad55666205dd45cffb8f5b0)|`Added missing docstrings in number_field.py so that patchbot is happy.`|



---

archive/issue_comments_280572.json:
```json
{
    "body": "Changing commit from \"b29e4f807ec9b7a80437719e1b19dfc49db15e7f\" to \"e5c0916b958400a80ad55666205dd45cffb8f5b0\"",
    "created_at": "2016-04-14T12:50:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280572",
    "user": "https://github.com/mmasdeu"
}
```

Changing commit from "b29e4f807ec9b7a80437719e1b19dfc49db15e7f" to "e5c0916b958400a80ad55666205dd45cffb8f5b0"



---

archive/issue_comments_280573.json:
```json
{
    "body": "Changing branch from \"public/ticket/16948\" to \"u/mmasdeu/16948\"",
    "created_at": "2016-04-14T12:50:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280573",
    "user": "https://github.com/mmasdeu"
}
```

Changing branch from "public/ticket/16948" to "u/mmasdeu/16948"



---

archive/issue_events_063989.json:
```json
{
    "actor": "https://github.com/mmasdeu",
    "created_at": "2016-04-14T12:50:50Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16948#event-63989"
}
```



---

archive/issue_events_063990.json:
```json
{
    "actor": "https://github.com/mmasdeu",
    "created_at": "2016-04-14T12:50:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16948#event-63990"
}
```



---

archive/issue_comments_280574.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-07-14T19:12:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280574",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_280575.json:
```json
{
    "body": "<a id='comment:9'></a>\nThis no longer merges with sage 7.2 (according to trac).",
    "created_at": "2016-07-14T19:12:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280575",
    "user": "https://github.com/roed314"
}
```

<a id='comment:9'></a>
This no longer merges with sage 7.2 (according to trac).



---

archive/issue_comments_280576.json:
```json
{
    "body": "<a id='comment:10'></a>\nmerge done, was easy\n\n---\nNew commits:\n|                                                                                                                                          |                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[fe1008a](https://github.com/sagemath/sagetrac-mirror/commit/fe1008a0f466922585b2dae00e4e598dbffa35e4)|`Merge branch 'u/mmasdeu/16948' in 7.3.b7`|",
    "created_at": "2016-07-14T19:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280576",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
merge done, was easy

---
New commits:
|                                                                                                                                          |                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[fe1008a](https://github.com/sagemath/sagetrac-mirror/commit/fe1008a0f466922585b2dae00e4e598dbffa35e4)|`Merge branch 'u/mmasdeu/16948' in 7.3.b7`|



---

archive/issue_comments_280577.json:
```json
{
    "body": "Changing branch from \"u/mmasdeu/16948\" to \"public/16948\"",
    "created_at": "2016-07-14T19:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280577",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "u/mmasdeu/16948" to "public/16948"



---

archive/issue_comments_280578.json:
```json
{
    "body": "Changing commit from \"e5c0916b958400a80ad55666205dd45cffb8f5b0\" to \"fe1008a0f466922585b2dae00e4e598dbffa35e4\"",
    "created_at": "2016-07-14T19:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280578",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "e5c0916b958400a80ad55666205dd45cffb8f5b0" to "fe1008a0f466922585b2dae00e4e598dbffa35e4"



---

archive/issue_comments_280579.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-07-14T19:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280579",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_events_063991.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-14T19:17:07Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16948#event-63991"
}
```



---

archive/issue_events_063992.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-07-14T19:17:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16948#event-63992"
}
```



---

archive/issue_events_063993.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-10T08:04:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16948#event-63993"
}
```



---

archive/issue_events_063994.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-10T08:04:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16948#event-63994"
}
```



---

archive/issue_comments_280580.json:
```json
{
    "body": "Changing commit from \"fe1008a0f466922585b2dae00e4e598dbffa35e4\" to \"cdae03214e6949adf6d30689333651a1839464d7\"",
    "created_at": "2016-09-21T19:56:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280580",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fe1008a0f466922585b2dae00e4e598dbffa35e4" to "cdae03214e6949adf6d30689333651a1839464d7"



---

archive/issue_comments_280581.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[cdae032](https://github.com/sagemath/sagetrac-mirror/commit/cdae03214e6949adf6d30689333651a1839464d7)|`Merge branch 'public/16948' in 7.4.b5`|",
    "created_at": "2016-09-21T19:56:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280581",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[cdae032](https://github.com/sagemath/sagetrac-mirror/commit/cdae03214e6949adf6d30689333651a1839464d7)|`Merge branch 'public/16948' in 7.4.b5`|



---

archive/issue_comments_280582.json:
```json
{
    "body": "<a id='comment:14'></a>\nA small remark regarding the ValueError in line 636: the exponents in the \ndiscriminant factorization should be equal to 1, and not just odd.\n\nBy the way, is there a reason why the input is an ideal of F instead of a list \nof prime ideals of F? If I want to construct a quaternion algebra with a \nprescribed ramification set of finite primes, I'd have to use their product as \ninput, and then the constructor would have to factor it back (see line 634).",
    "created_at": "2017-02-14T20:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280582",
    "user": "https://github.com/nsirolli"
}
```

<a id='comment:14'></a>
A small remark regarding the ValueError in line 636: the exponents in the 
discriminant factorization should be equal to 1, and not just odd.

By the way, is there a reason why the input is an ideal of F instead of a list 
of prime ideals of F? If I want to construct a quaternion algebra with a 
prescribed ramification set of finite primes, I'd have to use their product as 
input, and then the constructor would have to factor it back (see line 634).



---

archive/issue_comments_280583.json:
```json
{
    "body": "Changing commit from \"cdae03214e6949adf6d30689333651a1839464d7\" to \"5284a37497051691629d63da72147967af2eac42\"",
    "created_at": "2017-02-14T20:49:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280583",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cdae03214e6949adf6d30689333651a1839464d7" to "5284a37497051691629d63da72147967af2eac42"



---

archive/issue_comments_280584.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[5284a37](https://github.com/sagemath/sagetrac-mirror/commit/5284a37497051691629d63da72147967af2eac42)|`Merge branch 'public/16948' in 7.6.b4`|",
    "created_at": "2017-02-14T20:49:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280584",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[5284a37](https://github.com/sagemath/sagetrac-mirror/commit/5284a37497051691629d63da72147967af2eac42)|`Merge branch 'public/16948' in 7.6.b4`|



---

archive/issue_comments_280585.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[73272e3](https://github.com/sagemath/sagetrac-mirror/commit/73272e30015279743744b937d15d89334ebbf09d)|`trac 16948 fixing bad merge`|",
    "created_at": "2017-02-14T20:53:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280585",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[73272e3](https://github.com/sagemath/sagetrac-mirror/commit/73272e30015279743744b937d15d89334ebbf09d)|`trac 16948 fixing bad merge`|



---

archive/issue_comments_280586.json:
```json
{
    "body": "Changing commit from \"5284a37497051691629d63da72147967af2eac42\" to \"73272e30015279743744b937d15d89334ebbf09d\"",
    "created_at": "2017-02-14T20:53:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5284a37497051691629d63da72147967af2eac42" to "73272e30015279743744b937d15d89334ebbf09d"



---

archive/issue_comments_280587.json:
```json
{
    "body": "Changing commit from \"73272e30015279743744b937d15d89334ebbf09d\" to \"355c58dd81766d47ef4312547a1b07ce19d36138\"",
    "created_at": "2017-02-14T20:59:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280587",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "73272e30015279743744b937d15d89334ebbf09d" to "355c58dd81766d47ef4312547a1b07ce19d36138"



---

archive/issue_comments_280588.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[355c58d](https://github.com/sagemath/sagetrac-mirror/commit/355c58dd81766d47ef4312547a1b07ce19d36138)|`trac 16498 some details in weak_approximation`|",
    "created_at": "2017-02-14T20:59:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280588",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[355c58d](https://github.com/sagemath/sagetrac-mirror/commit/355c58dd81766d47ef4312547a1b07ce19d36138)|`trac 16498 some details in weak_approximation`|



---

archive/issue_comments_280589.json:
```json
{
    "body": "Changing branch from \"public/16948\" to \"u/mmasdeu/16948-review\"",
    "created_at": "2017-02-23T09:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280589",
    "user": "https://github.com/mmasdeu"
}
```

Changing branch from "public/16948" to "u/mmasdeu/16948-review"



---

archive/issue_comments_280590.json:
```json
{
    "body": "<a id='comment:18'></a>\nThanks for the comments! Please take a look at the changes I have introduced.\n\nReplying to [nmsirolli](#comment%3A14):\n> A small remark regarding the ValueError in line 636: the exponents in the \n> discriminant factorization should be equal to 1, and not just odd.\n> \n> By the way, is there a reason why the input is an ideal of F instead of a list \n> of prime ideals of F? If I want to construct a quaternion algebra with a \n> prescribed ramification set of finite primes, I'd have to use their product as \n> input, and then the constructor would have to factor it back (see line 634).\n\n----\nNew commits:\n|                                                                                                                                          |                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[fcf1a69](https://github.com/sagemath/sagetrac-mirror/commit/fcf1a69ad070ee4528138ef95f1d4d22190aa4ae)|`Trac 16948: adopted changes proposed by nsirolli.`|",
    "created_at": "2017-02-23T09:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280590",
    "user": "https://github.com/mmasdeu"
}
```

<a id='comment:18'></a>
Thanks for the comments! Please take a look at the changes I have introduced.

Replying to [nmsirolli](#comment%3A14):
> A small remark regarding the ValueError in line 636: the exponents in the 
> discriminant factorization should be equal to 1, and not just odd.
> 
> By the way, is there a reason why the input is an ideal of F instead of a list 
> of prime ideals of F? If I want to construct a quaternion algebra with a 
> prescribed ramification set of finite primes, I'd have to use their product as 
> input, and then the constructor would have to factor it back (see line 634).

----
New commits:
|                                                                                                                                          |                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[fcf1a69](https://github.com/sagemath/sagetrac-mirror/commit/fcf1a69ad070ee4528138ef95f1d4d22190aa4ae)|`Trac 16948: adopted changes proposed by nsirolli.`|



---

archive/issue_comments_280591.json:
```json
{
    "body": "Changing commit from \"355c58dd81766d47ef4312547a1b07ce19d36138\" to \"fcf1a69ad070ee4528138ef95f1d4d22190aa4ae\"",
    "created_at": "2017-02-23T09:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280591",
    "user": "https://github.com/mmasdeu"
}
```

Changing commit from "355c58dd81766d47ef4312547a1b07ce19d36138" to "fcf1a69ad070ee4528138ef95f1d4d22190aa4ae"



---

archive/issue_comments_280592.json:
```json
{
    "body": "<a id='comment:19'></a>\nThanks for accepting my proposal.\n\nNow the new input format, QuaternionAlgebra(K, \"list of primes\", S) is quite different from the one you are extending to number fields other than QQ, QuaternionAlgebra(D). I feel this controversy should be avoided. The problem  could be addressed by letting this new constructor accept *both* a discriminant and a list of primes as input. A more radical solution would be to change the classical QuaternionAlgebra(D) to take a list of primes as input, but I guess that it could cause trouble.\n\nBesides this, here are some remarks about the changes introduced in this commit:\n\n- Line 245 of quaternion_algebra.py should be fixed, since it does not reflect the new input format.\n\n- The documentation needs to take account of these changes; see lines 92-94, 605-607, 625 of quaternion_algebra.py and line 1835 of number_fields.py\n\n- Line 589 of quaternion_algebra.py and lines 1804, 1815, 1817 of number_fields.py: shouldn't the name of the list of prime ideales be L or P instead of I?",
    "created_at": "2017-03-01T16:54:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280592",
    "user": "https://github.com/nsirolli"
}
```

<a id='comment:19'></a>
Thanks for accepting my proposal.

Now the new input format, QuaternionAlgebra(K, "list of primes", S) is quite different from the one you are extending to number fields other than QQ, QuaternionAlgebra(D). I feel this controversy should be avoided. The problem  could be addressed by letting this new constructor accept *both* a discriminant and a list of primes as input. A more radical solution would be to change the classical QuaternionAlgebra(D) to take a list of primes as input, but I guess that it could cause trouble.

Besides this, here are some remarks about the changes introduced in this commit:

- Line 245 of quaternion_algebra.py should be fixed, since it does not reflect the new input format.

- The documentation needs to take account of these changes; see lines 92-94, 605-607, 625 of quaternion_algebra.py and line 1835 of number_fields.py

- Line 589 of quaternion_algebra.py and lines 1804, 1815, 1817 of number_fields.py: shouldn't the name of the list of prime ideales be L or P instead of I?



---

archive/issue_comments_280593.json:
```json
{
    "body": "<a id='comment:20'></a>\nneeds rebase, does not apply",
    "created_at": "2018-01-30T08:36:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280593",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:20'></a>
needs rebase, does not apply



---

archive/issue_comments_280594.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-01-30T08:36:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16948",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16948#issuecomment-280594",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.
