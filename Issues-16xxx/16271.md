# Issue 16271: Support the generic Steenrod algebra at the prime 2

archive/issues_016034.json:
```json
{
    "assignees": [],
    "body": "For some applications one would like to work with the \"odd primary Steenrod algebra at the prime 2\". The attached patch introduces a new keyword \"generic\" that allows to do this:\n\n```\n  sage: EA=SteenrodAlgebra(p=2,generic=True) ; EA\n  generic mod 2 Steenrod algebra, milnor basis\n  sage: EA[8]\n  Vector space spanned by (Q_0 Q_2, Q_0 Q_1 P(2), P(1,1), P(4)) over Finite Field of size 2\n  sage: SteenrodAlgebra(p=2,generic=True,basis='adem')[7]\n  Vector space spanned by (beta P^2 P^1, beta P^3, P^2 P^1 beta, P^3 beta) over Finite Field of size 2\n```\n\n\nCC:  @jhpalmieri\n\nComponent: **algebraic topology**\n\nKeywords: **Steenrod algebra**\n\nAuthor: **Christian Nassau**\n\nBranch/Commit: **[`429a989`](https://github.com/sagemath/sagetrac-mirror/commit/429a9894ef1afc6b1b86f54e664e474c6c25491b)**\n\nReviewer: **John Palmieri**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16271_\n\n",
    "closed_at": "2014-07-25T05:05:39Z",
    "created_at": "2014-04-30T12:18:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20topology",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Support the generic Steenrod algebra at the prime 2",
    "type": "issue",
    "updated_at": "2014-07-25T05:05:39Z",
    "url": "https://github.com/sagemath/sage/issues/16271",
    "user": "https://github.com/cnassau"
}
```
For some applications one would like to work with the "odd primary Steenrod algebra at the prime 2". The attached patch introduces a new keyword "generic" that allows to do this:

```
  sage: EA=SteenrodAlgebra(p=2,generic=True) ; EA
  generic mod 2 Steenrod algebra, milnor basis
  sage: EA[8]
  Vector space spanned by (Q_0 Q_2, Q_0 Q_1 P(2), P(1,1), P(4)) over Finite Field of size 2
  sage: SteenrodAlgebra(p=2,generic=True,basis='adem')[7]
  Vector space spanned by (beta P^2 P^1, beta P^3, P^2 P^1 beta, P^3 beta) over Finite Field of size 2
```


CC:  @jhpalmieri

Component: **algebraic topology**

Keywords: **Steenrod algebra**

Author: **Christian Nassau**

Branch/Commit: **[`429a989`](https://github.com/sagemath/sagetrac-mirror/commit/429a9894ef1afc6b1b86f54e664e474c6c25491b)**

Reviewer: **John Palmieri**

_Issue created by migration from https://trac.sagemath.org/ticket/16271_





---

archive/issue_events_230318.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2014-04-30T12:18:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16271#event-230318"
}
```



---

archive/issue_events_230319.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2014-04-30T12:18:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20topology",
    "label_color": "0000ff",
    "label_name": "c: algebraic topology",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16271#event-230319"
}
```



---

archive/issue_events_230320.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2014-04-30T12:18:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16271#event-230320"
}
```



---

archive/issue_events_230321.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2014-04-30T12:18:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16271#event-230321"
}
```



---

archive/issue_comments_208561.json:
```json
{
    "body": "Branch: **[u/cnassau/ticket/16271](https://github.com/sagemath/sagetrac-mirror/tree/u/cnassau/ticket/16271)**",
    "created_at": "2014-04-30T12:21:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208561",
    "user": "https://github.com/cnassau"
}
```

Branch: **[u/cnassau/ticket/16271](https://github.com/sagemath/sagetrac-mirror/tree/u/cnassau/ticket/16271)**



---

archive/issue_comments_208562.json:
```json
{
    "body": "Commit: **[`8c59a4e`](https://github.com/sagemath/sagetrac-mirror/commit/8c59a4e918a6f80993c0b3107d4576bb5b702048)**",
    "created_at": "2014-04-30T17:16:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208562",
    "user": "https://github.com/jhpalmieri"
}
```

Commit: **[`8c59a4e`](https://github.com/sagemath/sagetrac-mirror/commit/8c59a4e918a6f80993c0b3107d4576bb5b702048)**



---

archive/issue_comments_208563.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c59a4e918a6f80993c0b3107d4576bb5b702048\"><code>8c59a4e</code></a></td><td><code>TSK16271 - support the generic Steenrod algebra at the prime 2</code></td></tr></table>\n",
    "created_at": "2014-04-30T17:16:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208563",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c59a4e918a6f80993c0b3107d4576bb5b702048"><code>8c59a4e</code></a></td><td><code>TSK16271 - support the generic Steenrod algebra at the prime 2</code></td></tr></table>




---

archive/issue_comments_208564.json:
```json
{
    "body": "Changed commit from **[`8c59a4e`](https://github.com/sagemath/sagetrac-mirror/commit/8c59a4e918a6f80993c0b3107d4576bb5b702048)** to **[`7c8315e`](https://github.com/sagemath/sagetrac-mirror/commit/7c8315e6fc71011764f589bf5743d6626ddc161d)**",
    "created_at": "2014-05-05T14:02:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208564",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8c59a4e`](https://github.com/sagemath/sagetrac-mirror/commit/8c59a4e918a6f80993c0b3107d4576bb5b702048)** to **[`7c8315e`](https://github.com/sagemath/sagetrac-mirror/commit/7c8315e6fc71011764f589bf5743d6626ddc161d)**



---

archive/issue_comments_208565.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c936a59b202c4ff252b298bd8cfafc40196d98e9\"><code>c936a59</code></a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into generic_steenrod</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c8315e6fc71011764f589bf5743d6626ddc161d\"><code>7c8315e</code></a></td><td><code>merged 6.2.rc1</code></td></tr></table>\n",
    "created_at": "2014-05-05T14:02:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208565",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c936a59b202c4ff252b298bd8cfafc40196d98e9"><code>c936a59</code></a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into generic_steenrod</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c8315e6fc71011764f589bf5743d6626ddc161d"><code>7c8315e</code></a></td><td><code>merged 6.2.rc1</code></td></tr></table>




---

archive/issue_comments_208566.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f8d71c8245ef3998cdd251e7811a6180ad88f2e\"><code>5f8d71c</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into generic_steenrod</code></td></tr></table>\n",
    "created_at": "2014-05-06T19:21:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208566",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f8d71c8245ef3998cdd251e7811a6180ad88f2e"><code>5f8d71c</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into generic_steenrod</code></td></tr></table>




---

archive/issue_comments_208567.json:
```json
{
    "body": "Changed commit from **[`7c8315e`](https://github.com/sagemath/sagetrac-mirror/commit/7c8315e6fc71011764f589bf5743d6626ddc161d)** to **[`5f8d71c`](https://github.com/sagemath/sagetrac-mirror/commit/5f8d71c8245ef3998cdd251e7811a6180ad88f2e)**",
    "created_at": "2014-05-06T19:21:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208567",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7c8315e`](https://github.com/sagemath/sagetrac-mirror/commit/7c8315e6fc71011764f589bf5743d6626ddc161d)** to **[`5f8d71c`](https://github.com/sagemath/sagetrac-mirror/commit/5f8d71c8245ef3998cdd251e7811a6180ad88f2e)**



---

archive/issue_comments_208568.json:
```json
{
    "body": "Changed commit from **[`5f8d71c`](https://github.com/sagemath/sagetrac-mirror/commit/5f8d71c8245ef3998cdd251e7811a6180ad88f2e)** to **[`df429ca`](https://github.com/sagemath/sagetrac-mirror/commit/df429ca0996cb57052d89343ebbf3e946ea2b482)**",
    "created_at": "2014-05-08T12:19:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208568",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5f8d71c`](https://github.com/sagemath/sagetrac-mirror/commit/5f8d71c8245ef3998cdd251e7811a6180ad88f2e)** to **[`df429ca`](https://github.com/sagemath/sagetrac-mirror/commit/df429ca0996cb57052d89343ebbf3e946ea2b482)**



---

archive/issue_comments_208569.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df429ca0996cb57052d89343ebbf3e946ea2b482\"><code>df429ca</code></a></td><td><code>more tests and minor improvements</code></td></tr></table>\n",
    "created_at": "2014-05-08T12:19:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208569",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df429ca0996cb57052d89343ebbf3e946ea2b482"><code>df429ca</code></a></td><td><code>more tests and minor improvements</code></td></tr></table>




---

archive/issue_events_230322.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2014-05-08T12:31:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16271#event-230322"
}
```



---

archive/issue_comments_208570.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThe code seems functional now. I've also added an `is_generic` method to allow inspection of the '_generic' attribute.\n\nOne thing that might be problematic about this patch is that a few routines have changed their signature now: 'serre_cartan_mono_to_string', for example, now expects 'generic' as second argument, not 'p'. We might instead go for\n\n    `def serre_cartan_mono_to_string(data,p,generic=None)`\n\nwhich would save backward compatibility... I'm not sure if that is required, though.",
    "created_at": "2014-05-08T12:31:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208570",
    "user": "https://github.com/cnassau"
}
```

<div id="comment:6" align="right">comment:6</div>

The code seems functional now. I've also added an `is_generic` method to allow inspection of the '_generic' attribute.

One thing that might be problematic about this patch is that a few routines have changed their signature now: 'serre_cartan_mono_to_string', for example, now expects 'generic' as second argument, not 'p'. We might instead go for

    `def serre_cartan_mono_to_string(data,p,generic=None)`

which would save backward compatibility... I'm not sure if that is required, though.



---

archive/issue_comments_208571.json:
```json
{
    "body": "Changed commit from **[`df429ca`](https://github.com/sagemath/sagetrac-mirror/commit/df429ca0996cb57052d89343ebbf3e946ea2b482)** to **[`db6527e`](https://github.com/sagemath/sagetrac-mirror/commit/db6527ec2fdd8b9e896debcded7ed94d3bc2edd9)**",
    "created_at": "2014-05-12T13:04:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208571",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`df429ca`](https://github.com/sagemath/sagetrac-mirror/commit/df429ca0996cb57052d89343ebbf3e946ea2b482)** to **[`db6527e`](https://github.com/sagemath/sagetrac-mirror/commit/db6527ec2fdd8b9e896debcded7ed94d3bc2edd9)**



---

archive/issue_comments_208572.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db6527ec2fdd8b9e896debcded7ed94d3bc2edd9\"><code>db6527e</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into generic_steenrod</code></td></tr></table>\n",
    "created_at": "2014-05-12T13:04:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208572",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db6527ec2fdd8b9e896debcded7ed94d3bc2edd9"><code>db6527e</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into generic_steenrod</code></td></tr></table>




---

archive/issue_comments_208573.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI'm not getting this to work. When I evaluate\n\n```\nsage: SteenrodAlgebra(p=2,generic=True)\n```\nI get an error:\n\n```\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-1-7bd50008c6f7> in <module>()\n----> 1 EA = SteenrodAlgebra(p=Integer(2),generic=True) ; EA\n\n/Users/palmieri/Desktop/Sage_stuff/git/sage/local/lib/python2.7/site-packages/sage/algebras/steenrod/steenrod_algebra.pyc in SteenrodAlgebra(p, basis, generic, **kwds)\n   4122         return SteenrodAlgebra_mod_two(p=2, basis=basis, **kwds)\n   4123     else:\n-> 4124         return SteenrodAlgebra_generic(p=p, basis=basis, generic=True, **kwds)\n   4125 \n   4126 \n\n/Users/palmieri/Desktop/Sage_stuff/git/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.so in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (sage/misc/classcall_metaclass.c:1282)()\n\n/Users/palmieri/Desktop/Sage_stuff/git/sage/local/lib/python2.7/site-packages/sage/algebras/steenrod/steenrod_algebra.pyc in __classcall__(self, p, basis, **kwds)\n    525 \n    526         std_basis = get_basis_name(basis, p, generic=std_generic)\n--> 527         std_profile, std_type = normalize_profile(profile, precision=precision, truncation_type=truncation_type, p=p, generic=std_generic)\n    528         return super(SteenrodAlgebra_generic, self).__classcall__(self, p=p, basis=std_basis, profile=std_profile,\n    529                                                                   truncation_type=std_type, generic=std_generic)\n\n/Users/palmieri/Desktop/Sage_stuff/git/sage/local/lib/python2.7/site-packages/sage/algebras/steenrod/steenrod_algebra_misc.pyc in normalize_profile(profile, precision, truncation_type, p, generic)\n    550                     k = k[:-1]\n    551             new_profile = (e, k)\n--> 552         if is_valid_profile(new_profile, truncation_type, p):\n    553             return new_profile, truncation_type\n    554         else:\n\n/Users/palmieri/Desktop/Sage_stuff/git/sage/local/lib/python2.7/site-packages/sage/algebras/steenrod/steenrod_algebra_misc.pyc in is_valid_profile(profile, truncation_type, p)\n    258             if pro_r < Infinity:\n    259                 for i in range(1,r):\n--> 260                     if pro_r < min(pro[r-i-1] - i, pro[i-1]):\n    261                         return False\n    262     else:\n```\nDoes `is_valid_profile` also need to accept a `generic` argument? Maybe something like this:\n\n```diff\ndiff --git a/src/sage/algebras/steenrod/steenrod_algebra_misc.py b/src/sage/algebras/steenrod/steen\nindex 70b328c..fe58660 100644\n--- a/src/sage/algebras/steenrod/steenrod_algebra_misc.py\n+++ b/src/sage/algebras/steenrod/steenrod_algebra_misc.py\n@@ -183,7 +183,7 @@ def get_basis_name(basis, p, generic=None):\n ######################################################\n # profile functions\n \n-def is_valid_profile(profile, truncation_type, p=2):\n+def is_valid_profile(profile, truncation_type, p=2, generic=None):\n     \"\"\"\n     True if ``profile``, together with ``truncation_type``, is a valid\n     profile at the prime `p`.\n@@ -250,7 +250,9 @@ def is_valid_profile(profile, truncation_type, p=2):\n         True\n     \"\"\"\n     from sage.rings.infinity import Infinity\n-    if p == 2:\n+    if generic is None:\n+        generic = False if p==2 else True\n+    if p == 2 and not generic:\n         pro = list(profile) + [truncation_type]*len(profile)\n         r = 0\n         for pro_r in pro:\n@@ -549,7 +551,7 @@ def normalize_profile(profile, precision=None, truncation_type='auto', p=2, gen\n                 while len(k) > 0 and k[-1] == 2:\n                     k = k[:-1]\n             new_profile = (e, k)\n-        if is_valid_profile(new_profile, truncation_type, p):\n+        if is_valid_profile(new_profile, truncation_type, p, generic=generic):\n             return new_profile, truncation_type\n         else:\n             raise ValueError(\"Invalid profile\")\n```\nAlso, in the documentation for the function `SteenrodAlgebra`, I think you should say a bit more, for example what the degrees of the elements are. Maybe move the comment about what the dual looks like from `is_generic` to `SteenrodAlgebra`.",
    "created_at": "2014-05-28T21:45:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208573",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">comment:8</div>

I'm not getting this to work. When I evaluate

```
sage: SteenrodAlgebra(p=2,generic=True)
```
I get an error:

```
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-1-7bd50008c6f7> in <module>()
----> 1 EA = SteenrodAlgebra(p=Integer(2),generic=True) ; EA

/Users/palmieri/Desktop/Sage_stuff/git/sage/local/lib/python2.7/site-packages/sage/algebras/steenrod/steenrod_algebra.pyc in SteenrodAlgebra(p, basis, generic, **kwds)
   4122         return SteenrodAlgebra_mod_two(p=2, basis=basis, **kwds)
   4123     else:
-> 4124         return SteenrodAlgebra_generic(p=p, basis=basis, generic=True, **kwds)
   4125 
   4126 

/Users/palmieri/Desktop/Sage_stuff/git/sage/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.so in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (sage/misc/classcall_metaclass.c:1282)()

/Users/palmieri/Desktop/Sage_stuff/git/sage/local/lib/python2.7/site-packages/sage/algebras/steenrod/steenrod_algebra.pyc in __classcall__(self, p, basis, **kwds)
    525 
    526         std_basis = get_basis_name(basis, p, generic=std_generic)
--> 527         std_profile, std_type = normalize_profile(profile, precision=precision, truncation_type=truncation_type, p=p, generic=std_generic)
    528         return super(SteenrodAlgebra_generic, self).__classcall__(self, p=p, basis=std_basis, profile=std_profile,
    529                                                                   truncation_type=std_type, generic=std_generic)

/Users/palmieri/Desktop/Sage_stuff/git/sage/local/lib/python2.7/site-packages/sage/algebras/steenrod/steenrod_algebra_misc.pyc in normalize_profile(profile, precision, truncation_type, p, generic)
    550                     k = k[:-1]
    551             new_profile = (e, k)
--> 552         if is_valid_profile(new_profile, truncation_type, p):
    553             return new_profile, truncation_type
    554         else:

/Users/palmieri/Desktop/Sage_stuff/git/sage/local/lib/python2.7/site-packages/sage/algebras/steenrod/steenrod_algebra_misc.pyc in is_valid_profile(profile, truncation_type, p)
    258             if pro_r < Infinity:
    259                 for i in range(1,r):
--> 260                     if pro_r < min(pro[r-i-1] - i, pro[i-1]):
    261                         return False
    262     else:
```
Does `is_valid_profile` also need to accept a `generic` argument? Maybe something like this:

```diff
diff --git a/src/sage/algebras/steenrod/steenrod_algebra_misc.py b/src/sage/algebras/steenrod/steen
index 70b328c..fe58660 100644
--- a/src/sage/algebras/steenrod/steenrod_algebra_misc.py
+++ b/src/sage/algebras/steenrod/steenrod_algebra_misc.py
@@ -183,7 +183,7 @@ def get_basis_name(basis, p, generic=None):
 ######################################################
 # profile functions
 
-def is_valid_profile(profile, truncation_type, p=2):
+def is_valid_profile(profile, truncation_type, p=2, generic=None):
     """
     True if ``profile``, together with ``truncation_type``, is a valid
     profile at the prime `p`.
@@ -250,7 +250,9 @@ def is_valid_profile(profile, truncation_type, p=2):
         True
     """
     from sage.rings.infinity import Infinity
-    if p == 2:
+    if generic is None:
+        generic = False if p==2 else True
+    if p == 2 and not generic:
         pro = list(profile) + [truncation_type]*len(profile)
         r = 0
         for pro_r in pro:
@@ -549,7 +551,7 @@ def normalize_profile(profile, precision=None, truncation_type='auto', p=2, gen
                 while len(k) > 0 and k[-1] == 2:
                     k = k[:-1]
             new_profile = (e, k)
-        if is_valid_profile(new_profile, truncation_type, p):
+        if is_valid_profile(new_profile, truncation_type, p, generic=generic):
             return new_profile, truncation_type
         else:
             raise ValueError("Invalid profile")
```
Also, in the documentation for the function `SteenrodAlgebra`, I think you should say a bit more, for example what the degrees of the elements are. Maybe move the comment about what the dual looks like from `is_generic` to `SteenrodAlgebra`.



---

archive/issue_comments_208574.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14197a6d0c6bb497eb185bab5eb420888fd79a5e\"><code>14197a6</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into generic_steenrod</code></td></tr></table>\n",
    "created_at": "2014-05-29T08:11:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208574",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14197a6d0c6bb497eb185bab5eb420888fd79a5e"><code>14197a6</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into generic_steenrod</code></td></tr></table>




---

archive/issue_comments_208575.json:
```json
{
    "body": "Changed commit from **[`db6527e`](https://github.com/sagemath/sagetrac-mirror/commit/db6527ec2fdd8b9e896debcded7ed94d3bc2edd9)** to **[`14197a6`](https://github.com/sagemath/sagetrac-mirror/commit/14197a6d0c6bb497eb185bab5eb420888fd79a5e)**",
    "created_at": "2014-05-29T08:11:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208575",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`db6527e`](https://github.com/sagemath/sagetrac-mirror/commit/db6527ec2fdd8b9e896debcded7ed94d3bc2edd9)** to **[`14197a6`](https://github.com/sagemath/sagetrac-mirror/commit/14197a6d0c6bb497eb185bab5eb420888fd79a5e)**



---

archive/issue_comments_208576.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@jhpalmieri](#comment%3A8):\n> I'm not getting this to work. When I evaluate\n> \n> ```\n> sage: SteenrodAlgebra(p=2,generic=True)\n> ```\n> I get an error:\n\nVery strange: it works for me, it works for the patchbot (selmer, sage 6.3.beta1) - yet your machine (and your patch) is definitely right. I do get this error when I try to construct a subalgebra:\n\n```\nsage: SteenrodAlgebra(p=2,generic=True,profile=([2,1],(2,2,2,)))\n...\n/waste/cn/sage-git/local/lib/python2.7/site-packages/sage/algebras/steenrod/steenrod_algebra_misc.pyc in is_valid_profile(profile, truncation_type, p)\n    258             if pro_r < Infinity:\n    259                 for i in range(1,r):\n--> 260                     if pro_r < min(pro[r-i-1] - i, pro[i-1]):\n    261                         return False\n    262     else:\n\nTypeError: unsupported operand type(s) for -: 'tuple' and 'int'\n```\n\nYou're also right about the documentation, which should be improved. I'll post an updated patch when it is ready.",
    "created_at": "2014-05-29T13:35:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208576",
    "user": "https://github.com/cnassau"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@jhpalmieri](#comment%3A8):
> I'm not getting this to work. When I evaluate
> 
> ```
> sage: SteenrodAlgebra(p=2,generic=True)
> ```
> I get an error:

Very strange: it works for me, it works for the patchbot (selmer, sage 6.3.beta1) - yet your machine (and your patch) is definitely right. I do get this error when I try to construct a subalgebra:

```
sage: SteenrodAlgebra(p=2,generic=True,profile=([2,1],(2,2,2,)))
...
/waste/cn/sage-git/local/lib/python2.7/site-packages/sage/algebras/steenrod/steenrod_algebra_misc.pyc in is_valid_profile(profile, truncation_type, p)
    258             if pro_r < Infinity:
    259                 for i in range(1,r):
--> 260                     if pro_r < min(pro[r-i-1] - i, pro[i-1]):
    261                         return False
    262     else:

TypeError: unsupported operand type(s) for -: 'tuple' and 'int'
```

You're also right about the documentation, which should be improved. I'll post an updated patch when it is ready.



---

archive/issue_events_230323.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2014-05-29T13:35:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16271#event-230323"
}
```



---

archive/issue_events_230324.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2014-05-29T13:35:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16271#event-230324"
}
```



---

archive/issue_comments_208577.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab43080ff60571e871ae99deadc56b37e349934e\"><code>ab43080</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into generic_steenrod</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2bfe11d1cb9116e326bbbceaeca95cdcd9dae4c9\"><code>2bfe11d</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into generic_steenrod</code></td></tr></table>\n",
    "created_at": "2014-06-19T14:07:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208577",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab43080ff60571e871ae99deadc56b37e349934e"><code>ab43080</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into generic_steenrod</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2bfe11d1cb9116e326bbbceaeca95cdcd9dae4c9"><code>2bfe11d</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into generic_steenrod</code></td></tr></table>




---

archive/issue_comments_208578.json:
```json
{
    "body": "Changed commit from **[`14197a6`](https://github.com/sagemath/sagetrac-mirror/commit/14197a6d0c6bb497eb185bab5eb420888fd79a5e)** to **[`2bfe11d`](https://github.com/sagemath/sagetrac-mirror/commit/2bfe11d1cb9116e326bbbceaeca95cdcd9dae4c9)**",
    "created_at": "2014-06-19T14:07:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208578",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`14197a6`](https://github.com/sagemath/sagetrac-mirror/commit/14197a6d0c6bb497eb185bab5eb420888fd79a5e)** to **[`2bfe11d`](https://github.com/sagemath/sagetrac-mirror/commit/2bfe11d1cb9116e326bbbceaeca95cdcd9dae4c9)**



---

archive/issue_comments_208579.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e7797c2e6cce1d385edfef64125376683e2bfcc\"><code>1e7797c</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into generic_steenrod</code></td></tr></table>\n",
    "created_at": "2014-07-01T07:01:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208579",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e7797c2e6cce1d385edfef64125376683e2bfcc"><code>1e7797c</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into generic_steenrod</code></td></tr></table>




---

archive/issue_comments_208580.json:
```json
{
    "body": "Changed commit from **[`2bfe11d`](https://github.com/sagemath/sagetrac-mirror/commit/2bfe11d1cb9116e326bbbceaeca95cdcd9dae4c9)** to **[`1e7797c`](https://github.com/sagemath/sagetrac-mirror/commit/1e7797c2e6cce1d385edfef64125376683e2bfcc)**",
    "created_at": "2014-07-01T07:01:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208580",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2bfe11d`](https://github.com/sagemath/sagetrac-mirror/commit/2bfe11d1cb9116e326bbbceaeca95cdcd9dae4c9)** to **[`1e7797c`](https://github.com/sagemath/sagetrac-mirror/commit/1e7797c2e6cce1d385edfef64125376683e2bfcc)**



---

archive/issue_comments_208581.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be31a8886b3dad8e7eac3e0c96000ac11b80b11b\"><code>be31a88</code></a></td><td><code>documentation improvements and a bugfix in is_valid_profile</code></td></tr></table>\n",
    "created_at": "2014-07-06T13:21:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208581",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be31a8886b3dad8e7eac3e0c96000ac11b80b11b"><code>be31a88</code></a></td><td><code>documentation improvements and a bugfix in is_valid_profile</code></td></tr></table>




---

archive/issue_comments_208582.json:
```json
{
    "body": "Changed commit from **[`1e7797c`](https://github.com/sagemath/sagetrac-mirror/commit/1e7797c2e6cce1d385edfef64125376683e2bfcc)** to **[`be31a88`](https://github.com/sagemath/sagetrac-mirror/commit/be31a8886b3dad8e7eac3e0c96000ac11b80b11b)**",
    "created_at": "2014-07-06T13:21:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208582",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1e7797c`](https://github.com/sagemath/sagetrac-mirror/commit/1e7797c2e6cce1d385edfef64125376683e2bfcc)** to **[`be31a88`](https://github.com/sagemath/sagetrac-mirror/commit/be31a8886b3dad8e7eac3e0c96000ac11b80b11b)**



---

archive/issue_comments_208583.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@jhpalmieri](#comment%3A8):\n> Does `is_valid_profile` also need to accept a `generic` argument? \n> Also, in the documentation for the function `SteenrodAlgebra`, I think you should say a bit more, for example what the degrees of the elements are. Maybe move the comment about what the dual looks like from `is_generic` to `SteenrodAlgebra`.\n\nAs suggested, I have added the `generic` argument to `is_valid_profile` and enhanced the documentation a (tiny) little bit. [My apologies that this took so long - I was busy with other matters.] I now refer to Voevodsky's motivic Steenrod algebra paper as another source that relates to the generic Steenrod algebra - other explicit references are not so easy to find.\n\nIt might be nice to also add support for the motivic Steenrod algebra, but I'll leave that for another ticket. Currently my cohomology programs can deal with the classical and the generic case, but not the motivic one, so my interest in the motivic case is not so urgent. It shouldn't be too difficult to implement the motivic version on top of the existing code, though...",
    "created_at": "2014-07-06T13:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208583",
    "user": "https://github.com/cnassau"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@jhpalmieri](#comment%3A8):
> Does `is_valid_profile` also need to accept a `generic` argument? 
> Also, in the documentation for the function `SteenrodAlgebra`, I think you should say a bit more, for example what the degrees of the elements are. Maybe move the comment about what the dual looks like from `is_generic` to `SteenrodAlgebra`.

As suggested, I have added the `generic` argument to `is_valid_profile` and enhanced the documentation a (tiny) little bit. [My apologies that this took so long - I was busy with other matters.] I now refer to Voevodsky's motivic Steenrod algebra paper as another source that relates to the generic Steenrod algebra - other explicit references are not so easy to find.

It might be nice to also add support for the motivic Steenrod algebra, but I'll leave that for another ticket. Currently my cohomology programs can deal with the classical and the generic case, but not the motivic one, so my interest in the motivic case is not so urgent. It shouldn't be too difficult to implement the motivic version on top of the existing code, though...



---

archive/issue_events_230325.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2014-07-06T13:34:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16271#event-230325"
}
```



---

archive/issue_events_230326.json:
```json
{
    "actor": "https://github.com/cnassau",
    "created_at": "2014-07-06T13:34:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16271#event-230326"
}
```



---

archive/issue_comments_208584.json:
```json
{
    "body": "Changed commit from **[`be31a88`](https://github.com/sagemath/sagetrac-mirror/commit/be31a8886b3dad8e7eac3e0c96000ac11b80b11b)** to **[`ef07a70`](https://github.com/sagemath/sagetrac-mirror/commit/ef07a703a0ebfc2580ec9cc169a4680189f303c0)**",
    "created_at": "2014-07-22T15:27:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208584",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`be31a88`](https://github.com/sagemath/sagetrac-mirror/commit/be31a8886b3dad8e7eac3e0c96000ac11b80b11b)** to **[`ef07a70`](https://github.com/sagemath/sagetrac-mirror/commit/ef07a703a0ebfc2580ec9cc169a4680189f303c0)**



---

archive/issue_comments_208585.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef07a703a0ebfc2580ec9cc169a4680189f303c0\"><code>ef07a70</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into generic_steenrod</code></td></tr></table>\n",
    "created_at": "2014-07-22T15:27:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208585",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef07a703a0ebfc2580ec9cc169a4680189f303c0"><code>ef07a70</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into generic_steenrod</code></td></tr></table>




---

archive/issue_comments_208586.json:
```json
{
    "body": "Changed branch from **[u/cnassau/ticket/16271](https://github.com/sagemath/sagetrac-mirror/tree/u/cnassau/ticket/16271)** to **[u/jhpalmieri/generic_steenrod](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/generic_steenrod)**",
    "created_at": "2014-07-23T17:20:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208586",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/cnassau/ticket/16271](https://github.com/sagemath/sagetrac-mirror/tree/u/cnassau/ticket/16271)** to **[u/jhpalmieri/generic_steenrod](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/generic_steenrod)**



---

archive/issue_comments_208587.json:
```json
{
    "body": "Changed commit from **[`ef07a70`](https://github.com/sagemath/sagetrac-mirror/commit/ef07a703a0ebfc2580ec9cc169a4680189f303c0)** to **[`429a989`](https://github.com/sagemath/sagetrac-mirror/commit/429a9894ef1afc6b1b86f54e664e474c6c25491b)**",
    "created_at": "2014-07-23T17:20:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208587",
    "user": "https://github.com/jhpalmieri"
}
```

Changed commit from **[`ef07a70`](https://github.com/sagemath/sagetrac-mirror/commit/ef07a703a0ebfc2580ec9cc169a4680189f303c0)** to **[`429a989`](https://github.com/sagemath/sagetrac-mirror/commit/429a9894ef1afc6b1b86f54e664e474c6c25491b)**



---

archive/issue_comments_208588.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI've made a few small changes:\n\n- added some doctests explicitly involving the mod 2 generic Steenrod algebra. I guess this is mostly not necessary, since the generic code gets tested well at odd primes, but I added these anyway.\n\n- top of the file: added `# -*- coding: utf-8 -*-` so the accent in \"\u00c9tudes\" wouldn't break docbuilding.\n\n- fixed a pre-existing bug in `_latex_term` for the \"pst\" basis\n\n- changed the `__contains__` method so that elements in the ordinary mod 2 Steenrod algebra are not contained in the generic version. Is this the right thing to do?\n\nIf you're happy with these changes, it can get a positive review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/429a9894ef1afc6b1b86f54e664e474c6c25491b\"><code>429a989</code></a></td><td><code>Generic Steenrod algebra: add some doctests</code></td></tr></table>\n",
    "created_at": "2014-07-23T17:20:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208588",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:16" align="right">comment:16</div>

I've made a few small changes:

- added some doctests explicitly involving the mod 2 generic Steenrod algebra. I guess this is mostly not necessary, since the generic code gets tested well at odd primes, but I added these anyway.

- top of the file: added `# -*- coding: utf-8 -*-` so the accent in "Études" wouldn't break docbuilding.

- fixed a pre-existing bug in `_latex_term` for the "pst" basis

- changed the `__contains__` method so that elements in the ordinary mod 2 Steenrod algebra are not contained in the generic version. Is this the right thing to do?

If you're happy with these changes, it can get a positive review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/429a9894ef1afc6b1b86f54e664e474c6c25491b"><code>429a989</code></a></td><td><code>Generic Steenrod algebra: add some doctests</code></td></tr></table>




---

archive/issue_comments_208589.json:
```json
{
    "body": "Reviewer: **John Palmieri**",
    "created_at": "2014-07-23T17:20:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208589",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **John Palmieri**



---

archive/issue_comments_208590.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@jhpalmieri](#comment%3A16):\n> - changed the `__contains__` method so that elements in the ordinary mod 2 Steenrod algebra are not contained in the generic version. Is this the right thing to do?\n\nYes, I think so, at least for the moment. It might eventually make sense to think of the generic variant as a quotient of the regular Steenrod algebra - but I'm hesitant to propose such a change right now, as the need for it is not clear to me. I'm also not sure whether one should then follow the Sage `SubQuotient` protocol or just provide some extra logic in the element constructor; currently, the latter sounds more resonable to me.\n\n> If you're happy with these changes, it can get a positive review.\n\nI'm very happy - thanks for all the work you've put into this!",
    "created_at": "2014-07-24T09:17:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208590",
    "user": "https://github.com/cnassau"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@jhpalmieri](#comment%3A16):
> - changed the `__contains__` method so that elements in the ordinary mod 2 Steenrod algebra are not contained in the generic version. Is this the right thing to do?

Yes, I think so, at least for the moment. It might eventually make sense to think of the generic variant as a quotient of the regular Steenrod algebra - but I'm hesitant to propose such a change right now, as the need for it is not clear to me. I'm also not sure whether one should then follow the Sage `SubQuotient` protocol or just provide some extra logic in the element constructor; currently, the latter sounds more resonable to me.

> If you're happy with these changes, it can get a positive review.

I'm very happy - thanks for all the work you've put into this!



---

archive/issue_events_230327.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2014-07-24T14:50:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16271#event-230327"
}
```



---

archive/issue_events_230328.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2014-07-24T14:50:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16271#event-230328"
}
```



---

archive/issue_events_230329.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-25T05:05:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16271#event-230329"
}
```



---

archive/issue_events_230330.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f99649df82cfed12e9bfa2daeb6daa88468f81e4",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-07-25T05:05:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16271#event-230330"
}
```



---

archive/issue_comments_208591.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/generic_steenrod](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/generic_steenrod)** to **[`429a989`](https://github.com/sagemath/sagetrac-mirror/commit/429a9894ef1afc6b1b86f54e664e474c6c25491b)**",
    "created_at": "2014-07-25T05:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16271#issuecomment-208591",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jhpalmieri/generic_steenrod](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/generic_steenrod)** to **[`429a989`](https://github.com/sagemath/sagetrac-mirror/commit/429a9894ef1afc6b1b86f54e664e474c6c25491b)**
