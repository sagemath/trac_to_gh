# Issue 16004: Update notebook to utilize pure javascript JSmol for default live 3-D

archive/issues_015767.json:
```json
{
    "assignees": [],
    "body": "The notebook needs updates to utilize a pure javascript version of Jmol by default for live 3-D.  This includes changes to make the notebook compatible with the newer jquery-1.9 (some things used in the notebook have been deprecated).\n\nJmol is cross compiled to java and javascript.  Because so many browser/OS combinations now actively try to avoid using java applets, it is necessary to have a pure javascript alternative.  This solution provides all the functionality of Jmol, but as expected since javascript is interpreted rather than bytecode (\"~3/4\" of the way to compiled) the performance when interacting with the plot is slower.  \n\nThis first implementation removes the user tools that have appeared to the right of the 3-D plot as they need to be rewritten as well.\n\nOne added feature is a \"load 3-D live\" check box that can be used to make a worksheet load 3-D plots live when the worksheet is opened.  For worksheets with a single interact or only 1-2 plots this should be OK.\n\nThis requires installation of an updated Jmol.spkg.  See ticket #17020.\nWill require a new sagenb release: [INSERT HERE]\n\nHow to test:\n1. Update Sage with #17020\n2. Download the repackaged Jmol from the link provide in #17020 and save the package in the \"upstream\" directory of your sage install.\n3. run `sage -f jmol` to install the new jmol.\n4. If you don't have it yet, update Sage with #16911 **or** just use this branch that Volker has merged with that one.\n5. Same with #16396 if you want to build doc correctly.\n6. Update Sage with the branch here\n7. Put [the new upstream package](http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.0.tar) into `SAGE_ROOT/upstream`\n8. Do `sage -f sagenb-0.11.0`\n9. Test!\n10. For testing, #17170 is also advised, since without it display in the notebook does not work properly.\n\nDepends on #17020\n\nAssignee: **@gutow**\n\nCC:  @kcrisman @novoselt @strogdon @jasongrout @fchapoton\n\nKeywords: **Jmol 3D 3-D**\n\nBranch: **[a4c94cd](https://github.com/sagemath/sagetrac-mirror/commit/a4c94cd49e564f339ca64729cc579365aa945812)**\n\nUpstream: **Reported upstream. Developers acknowledge bug.**\n\nReviewer: **Steven Trogdon, Karl-Dieter Crisman, Jonathan Gutow**\n\nAuthor: **Jonathan Gutow, Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16004_\n\n",
    "closed_at": "2014-10-30T09:44:48Z",
    "created_at": "2014-03-24T00:57:04Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20notebook",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update notebook to utilize pure javascript JSmol for default live 3-D",
    "type": "issue",
    "updated_at": "2014-11-05T13:03:18Z",
    "url": "https://github.com/sagemath/sage/issues/16004",
    "user": "https://github.com/gutow"
}
```
The notebook needs updates to utilize a pure javascript version of Jmol by default for live 3-D.  This includes changes to make the notebook compatible with the newer jquery-1.9 (some things used in the notebook have been deprecated).

Jmol is cross compiled to java and javascript.  Because so many browser/OS combinations now actively try to avoid using java applets, it is necessary to have a pure javascript alternative.  This solution provides all the functionality of Jmol, but as expected since javascript is interpreted rather than bytecode ("~3/4" of the way to compiled) the performance when interacting with the plot is slower.  

This first implementation removes the user tools that have appeared to the right of the 3-D plot as they need to be rewritten as well.

One added feature is a "load 3-D live" check box that can be used to make a worksheet load 3-D plots live when the worksheet is opened.  For worksheets with a single interact or only 1-2 plots this should be OK.

This requires installation of an updated Jmol.spkg.  See ticket #17020.
Will require a new sagenb release: [INSERT HERE]

How to test:
1. Update Sage with #17020
2. Download the repackaged Jmol from the link provide in #17020 and save the package in the "upstream" directory of your sage install.
3. run `sage -f jmol` to install the new jmol.
4. If you don't have it yet, update Sage with #16911 **or** just use this branch that Volker has merged with that one.
5. Same with #16396 if you want to build doc correctly.
6. Update Sage with the branch here
7. Put [the new upstream package](http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.0.tar) into `SAGE_ROOT/upstream`
8. Do `sage -f sagenb-0.11.0`
9. Test!
10. For testing, #17170 is also advised, since without it display in the notebook does not work properly.

Depends on #17020

Assignee: **@gutow**

CC:  @kcrisman @novoselt @strogdon @jasongrout @fchapoton

Keywords: **Jmol 3D 3-D**

Branch: **[a4c94cd](https://github.com/sagemath/sagetrac-mirror/commit/a4c94cd49e564f339ca64729cc579365aa945812)**

Upstream: **Reported upstream. Developers acknowledge bug.**

Reviewer: **Steven Trogdon, Karl-Dieter Crisman, Jonathan Gutow**

Author: **Jonathan Gutow, Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/16004_





---

archive/issue_events_203362.json:
```json
{
    "actor": "https://github.com/gutow",
    "created_at": "2014-03-24T00:57:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203362"
}
```



---

archive/issue_events_203363.json:
```json
{
    "actor": "https://github.com/gutow",
    "created_at": "2014-03-24T00:57:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203363"
}
```



---

archive/issue_events_203364.json:
```json
{
    "actor": "https://github.com/gutow",
    "created_at": "2014-03-24T00:57:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203364"
}
```



---

archive/issue_comments_205699.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n Jmol is cross compiled to java and javascript.  Because so many browser/OS combinations now actively try to avoid using java applets, it is necessary to have a pure javascript alternative.  This solution provides all the functionality of Jmol, but as expected since javascript is interpreted rather than bytecode (\"~3/4\" of the way to compiled) the performance when interacting with the plot is slower.  \n \n-This first implementation removes the user tools that appear to the right of the 3-D plot as they need to be rewritten as well.  In this first implementation it is not possible to choose to use the java applet instead. \n+This first implementation removes the user tools that have appeared to the right of the 3-D plot as they need to be rewritten as well.  In this first implementation it is not possible to choose to use the java applet instead. \n \n One added feature is a \"load 3-D live\" check box that can be used to make a worksheet load 3-D plots live when the worksheet is opened.  For worksheets with a single interact or only 1-2 plots this should be OK.\n \n``````\n",
    "created_at": "2014-03-24T01:08:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205699",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 Jmol is cross compiled to java and javascript.  Because so many browser/OS combinations now actively try to avoid using java applets, it is necessary to have a pure javascript alternative.  This solution provides all the functionality of Jmol, but as expected since javascript is interpreted rather than bytecode ("~3/4" of the way to compiled) the performance when interacting with the plot is slower.  
 
-This first implementation removes the user tools that appear to the right of the 3-D plot as they need to be rewritten as well.  In this first implementation it is not possible to choose to use the java applet instead. 
+This first implementation removes the user tools that have appeared to the right of the 3-D plot as they need to be rewritten as well.  In this first implementation it is not possible to choose to use the java applet instead. 
 
 One added feature is a "load 3-D live" check box that can be used to make a worksheet load 3-D plots live when the worksheet is opened.  For worksheets with a single interact or only 1-2 plots this should be OK.
 
``````




---

archive/issue_events_203365.json:
```json
{
    "actor": "https://github.com/gutow",
    "created_at": "2014-03-24T01:08:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20notebook",
    "label_color": "000080",
    "label_name": "component: notebook",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203365"
}
```



---

archive/issue_comments_205700.json:
```json
{
    "body": "Assignee: **@gutow**",
    "created_at": "2014-03-24T01:32:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205700",
    "user": "https://github.com/gutow"
}
```

Assignee: **@gutow**



---

archive/issue_comments_205701.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,4 +6,6 @@\n \n One added feature is a \"load 3-D live\" check box that can be used to make a worksheet load 3-D plots live when the worksheet is opened.  For worksheets with a single interact or only 1-2 plots this should be OK.\n \n-*This requires installation of an updated Jmol.spkg.  See ticket [16003](http://trac.sagemath.org/ticket/16003). \n+*This requires installation of an updated Jmol.spkg.  See ticket [16003](http://trac.sagemath.org/ticket/16003).\n+\n+Sorry for the github commit, but I could not get a notebook branch working in Sage. \n``````\n",
    "created_at": "2014-03-24T01:45:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205701",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,4 +6,6 @@
 
 One added feature is a "load 3-D live" check box that can be used to make a worksheet load 3-D plots live when the worksheet is opened.  For worksheets with a single interact or only 1-2 plots this should be OK.
 
-*This requires installation of an updated Jmol.spkg.  See ticket [16003](http://trac.sagemath.org/ticket/16003). 
+*This requires installation of an updated Jmol.spkg.  See ticket [16003](http://trac.sagemath.org/ticket/16003).
+
+Sorry for the github commit, but I could not get a notebook branch working in Sage. 
``````




---

archive/issue_comments_205702.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,3 +9,4 @@\n *This requires installation of an updated Jmol.spkg.  See ticket [16003](http://trac.sagemath.org/ticket/16003).\n \n Sorry for the github commit, but I could not get a notebook branch working in Sage. \n+https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958\n``````\n",
    "created_at": "2014-03-24T01:50:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205702",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,3 +9,4 @@
 *This requires installation of an updated Jmol.spkg.  See ticket [16003](http://trac.sagemath.org/ticket/16003).
 
 Sorry for the github commit, but I could not get a notebook branch working in Sage. 
+https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958
``````




---

archive/issue_events_203366.json:
```json
{
    "actor": "https://github.com/gutow",
    "created_at": "2014-03-24T01:54:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203366"
}
```



---

archive/issue_comments_205703.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-The notebook needs updates to utilize a pure javascript version of Jmol by default for live 3-D.\n+The notebook needs updates to utilize a pure javascript version of Jmol by default for live 3-D.  This includes changes to make the notebook compatible with the newer jquery-1.9 (some things used in the notebook have been deprecated).\n \n Jmol is cross compiled to java and javascript.  Because so many browser/OS combinations now actively try to avoid using java applets, it is necessary to have a pure javascript alternative.  This solution provides all the functionality of Jmol, but as expected since javascript is interpreted rather than bytecode (\"~3/4\" of the way to compiled) the performance when interacting with the plot is slower.  \n \n``````\n",
    "created_at": "2014-03-24T01:54:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205703",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-The notebook needs updates to utilize a pure javascript version of Jmol by default for live 3-D.
+The notebook needs updates to utilize a pure javascript version of Jmol by default for live 3-D.  This includes changes to make the notebook compatible with the newer jquery-1.9 (some things used in the notebook have been deprecated).
 
 Jmol is cross compiled to java and javascript.  Because so many browser/OS combinations now actively try to avoid using java applets, it is necessary to have a pure javascript alternative.  This solution provides all the functionality of Jmol, but as expected since javascript is interpreted rather than bytecode ("~3/4" of the way to compiled) the performance when interacting with the plot is slower.  
 
``````




---

archive/issue_comments_205704.json:
```json
{
    "body": "Changed dependencies from **16003** to **#16003**",
    "created_at": "2014-03-24T17:04:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205704",
    "user": "https://github.com/kcrisman"
}
```

Changed dependencies from **16003** to **#16003**



---

archive/issue_comments_205705.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,4 +9,5 @@\n *This requires installation of an updated Jmol.spkg.  See ticket [16003](http://trac.sagemath.org/ticket/16003).\n \n Sorry for the github commit, but I could not get a notebook branch working in Sage. \n-https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958\n+* https://github.com/gutow/sagenb/commit/c730aa4cf563c51e7f1f8ca92899bf515d365030\n+* https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958\n``````\n",
    "created_at": "2014-03-24T17:14:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205705",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,4 +9,5 @@
 *This requires installation of an updated Jmol.spkg.  See ticket [16003](http://trac.sagemath.org/ticket/16003).
 
 Sorry for the github commit, but I could not get a notebook branch working in Sage. 
-https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958
+* https://github.com/gutow/sagenb/commit/c730aa4cf563c51e7f1f8ca92899bf515d365030
+* https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958
``````




---

archive/issue_comments_205706.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nI'm not sure it has to do with this or something broken in my jquery.form.min.js installation, but I can no longer rename worksheets.  Does anybody else seeing this or have an idea how this could have anything to do with the changes in this ticket?",
    "created_at": "2014-03-25T00:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205706",
    "user": "https://github.com/gutow"
}
```

<a id='comment:9'>Comment 9:</a>
I'm not sure it has to do with this or something broken in my jquery.form.min.js installation, but I can no longer rename worksheets.  Does anybody else seeing this or have an idea how this could have anything to do with the changes in this ticket?



---

archive/issue_comments_205707.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [@gutow](#comment%3A9):\n> I'm not sure it has to do with this or something broken in my jquery.form.min.js installation, but I can no longer rename worksheets.  Does anybody else seeing this or have an idea how this could have anything to do with the changes in this ticket?\n\nI think I've found it.  This may be painful.  The newer jquery seems to be killing stuff in jquery-ui-1.8.11.custom.js.  I will look for a version that is compatible with the newer jquery.",
    "created_at": "2014-03-25T01:21:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205707",
    "user": "https://github.com/gutow"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [@gutow](#comment%3A9):
> I'm not sure it has to do with this or something broken in my jquery.form.min.js installation, but I can no longer rename worksheets.  Does anybody else seeing this or have an idea how this could have anything to do with the changes in this ticket?

I think I've found it.  This may be painful.  The newer jquery seems to be killing stuff in jquery-ui-1.8.11.custom.js.  I will look for a version that is compatible with the newer jquery.



---

archive/issue_comments_205708.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\njquery-ui is definitely out-of-date.  The 1.8.11 release is from 2011.  Does anybody know what selections need to be made to get the theme for the notebook to look right? I think to get everything working will require updating to the latest 1.10.4.",
    "created_at": "2014-03-25T01:33:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205708",
    "user": "https://github.com/gutow"
}
```

<a id='comment:11'>Comment 11:</a>
jquery-ui is definitely out-of-date.  The 1.8.11 release is from 2011.  Does anybody know what selections need to be made to get the theme for the notebook to look right? I think to get everything working will require updating to the latest 1.10.4.



---

archive/issue_comments_205709.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nFirst of all, thanks for all your work on this, Jonathan!\n\nAnd perhaps Jason can provide some insight in jquery problems?",
    "created_at": "2014-03-25T17:41:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205709",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:12'>Comment 12:</a>
First of all, thanks for all your work on this, Jonathan!

And perhaps Jason can provide some insight in jquery problems?



---

archive/issue_comments_205710.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nSee my message to sage-devel: https://groups.google.com/d/msg/sage-devel/8zS6qofxxwk/K5LcLsCWBeMJ for the configuration we use in the cell server with jquery-ui 1.10.something.",
    "created_at": "2014-03-25T17:44:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205710",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:13'>Comment 13:</a>
See my message to sage-devel: https://groups.google.com/d/msg/sage-devel/8zS6qofxxwk/K5LcLsCWBeMJ for the configuration we use in the cell server with jquery-ui 1.10.something.



---

archive/issue_comments_205711.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nhttps://github.com/sagemath/sagecell/blob/master/static/jquery-ui/css/sagecell/jquery-ui-1.10.2.custom.min.css, \nwhich points to \n[this theme](http://jqueryui.com/themeroller/?ffDefault=Verdana%2CArial%2Csans-serif&fwDefault=normal&fsDefault=1.1em&cornerRadius=4px&bgColorHeader=cccccc&bgTextureHeader=highlight_soft&bgImgOpacityHeader=75&borderColorHeader=aaaaaa&fcHeader=222222&iconColorHeader=222222&bgColorContent=f3f3f3&bgTextureContent=flat&bgImgOpacityContent=0&borderColorContent=dddddd&fcContent=362b36&iconColorContent=222222&bgColorDefault=99bbff&bgTextureDefault=highlight_hard&bgImgOpacityDefault=60&borderColorDefault=cccccc&fcDefault=111111&iconColorDefault=777777&bgColorHover=99bbff&bgTextureHover=highlight_hard&bgImgOpacityHover=90&borderColorHover=888888&fcHover=111111&iconColorHover=222222&bgColorActive=ffc53d&bgTextureActive=highlight_hard&bgImgOpacityActive=60&borderColorActive=a85700&fcActive=000000&iconColorActive=000000&bgColorHighlight=fbf9ee&bgTextureHighlight=glass&bgImgOpacityHighlight=55&borderColorHighlight=fcefa1&fcHighlight=363636&iconColorHighlight=2e83ff&bgColorError=fef1ec&bgTextureError=highlight_hard&bgImgOpacityError=95&borderColorError=cd0a0a&fcError=cd0a0a&iconColorError=cd0a0a&bgColorOverlay=aaaaaa&bgTextureOverlay=flat&bgImgOpacityOverlay=0&opacityOverlay=30&bgColorShadow=aaaaaa&bgTextureShadow=flat&bgImgOpacityShadow=0&opacityShadow=30&thicknessShadow=8px&offsetTopShadow=-8px&offsetLeftShadow=-8px&cornerRadiusShadow=8px&ctl=themeroller)",
    "created_at": "2014-03-25T17:49:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205711",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:14'>Comment 14:</a>
https://github.com/sagemath/sagecell/blob/master/static/jquery-ui/css/sagecell/jquery-ui-1.10.2.custom.min.css, 
which points to 
[this theme](http://jqueryui.com/themeroller/?ffDefault=Verdana%2CArial%2Csans-serif&fwDefault=normal&fsDefault=1.1em&cornerRadius=4px&bgColorHeader=cccccc&bgTextureHeader=highlight_soft&bgImgOpacityHeader=75&borderColorHeader=aaaaaa&fcHeader=222222&iconColorHeader=222222&bgColorContent=f3f3f3&bgTextureContent=flat&bgImgOpacityContent=0&borderColorContent=dddddd&fcContent=362b36&iconColorContent=222222&bgColorDefault=99bbff&bgTextureDefault=highlight_hard&bgImgOpacityDefault=60&borderColorDefault=cccccc&fcDefault=111111&iconColorDefault=777777&bgColorHover=99bbff&bgTextureHover=highlight_hard&bgImgOpacityHover=90&borderColorHover=888888&fcHover=111111&iconColorHover=222222&bgColorActive=ffc53d&bgTextureActive=highlight_hard&bgImgOpacityActive=60&borderColorActive=a85700&fcActive=000000&iconColorActive=000000&bgColorHighlight=fbf9ee&bgTextureHighlight=glass&bgImgOpacityHighlight=55&borderColorHighlight=fcefa1&fcHighlight=363636&iconColorHighlight=2e83ff&bgColorError=fef1ec&bgTextureError=highlight_hard&bgImgOpacityError=95&borderColorError=cd0a0a&fcError=cd0a0a&iconColorError=cd0a0a&bgColorOverlay=aaaaaa&bgTextureOverlay=flat&bgImgOpacityOverlay=0&opacityOverlay=30&bgColorShadow=aaaaaa&bgTextureShadow=flat&bgImgOpacityShadow=0&opacityShadow=30&thicknessShadow=8px&offsetTopShadow=-8px&offsetLeftShadow=-8px&cornerRadiusShadow=8px&ctl=themeroller)



---

archive/issue_comments_205712.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,3 +11,4 @@\n Sorry for the github commit, but I could not get a notebook branch working in Sage. \n * https://github.com/gutow/sagenb/commit/c730aa4cf563c51e7f1f8ca92899bf515d365030\n * https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958\n+* https://github.com/gutow/sagenb/commit/0242d2f495e4be79090e4aae83b4dade1d9a0f26\n``````\n",
    "created_at": "2014-04-05T02:03:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205712",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,3 +11,4 @@
 Sorry for the github commit, but I could not get a notebook branch working in Sage. 
 * https://github.com/gutow/sagenb/commit/c730aa4cf563c51e7f1f8ca92899bf515d365030
 * https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958
+* https://github.com/gutow/sagenb/commit/0242d2f495e4be79090e4aae83b4dade1d9a0f26
``````




---

archive/issue_comments_205713.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nReplying to [@gutow](#comment%3A15):\nWith Jason's directions for building the theme and a little tweaking, I believe I have everything working again along with the javascript 3-D. As a bonus we now how little icons to click on for adding compute and rich-text cells, so forgetful people like me do not have to remember which key-click combinations to use.  The real reason for the icons is that I could not get the key combinations to work:)",
    "created_at": "2014-04-05T02:07:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205713",
    "user": "https://github.com/gutow"
}
```

<a id='comment:16'>Comment 16:</a>
Replying to [@gutow](#comment%3A15):
With Jason's directions for building the theme and a little tweaking, I believe I have everything working again along with the javascript 3-D. As a bonus we now how little icons to click on for adding compute and rich-text cells, so forgetful people like me do not have to remember which key-click combinations to use.  The real reason for the icons is that I could not get the key combinations to work:)



---

archive/issue_events_203367.json:
```json
{
    "actor": "https://github.com/gutow",
    "created_at": "2014-04-07T01:12:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203367"
}
```



---

archive/issue_events_203368.json:
```json
{
    "actor": "https://github.com/gutow",
    "created_at": "2014-04-07T01:12:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203368"
}
```



---

archive/issue_comments_205714.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nSome jquery-ui image paths broken (probably issue of symlinks)...",
    "created_at": "2014-04-07T01:12:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205714",
    "user": "https://github.com/gutow"
}
```

<a id='comment:17'>Comment 17:</a>
Some jquery-ui image paths broken (probably issue of symlinks)...



---

archive/issue_comments_205715.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nHey, just a quick question as I hopefully will be able to get testing this soon - can the 'load 3-D live\" checkbox work just as well with jmol as with jsmol?  Also, I presume it will be evident once I finally get it going, but how does one get the Jmol instead of jsmol (say, locally, so that things are snappier)?",
    "created_at": "2014-04-08T01:40:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205715",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:18'>Comment 18:</a>
Hey, just a quick question as I hopefully will be able to get testing this soon - can the 'load 3-D live" checkbox work just as well with jmol as with jsmol?  Also, I presume it will be evident once I finally get it going, but how does one get the Jmol instead of jsmol (say, locally, so that things are snappier)?



---

archive/issue_comments_205716.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,7 +6,7 @@\n \n One added feature is a \"load 3-D live\" check box that can be used to make a worksheet load 3-D plots live when the worksheet is opened.  For worksheets with a single interact or only 1-2 plots this should be OK.\n \n-*This requires installation of an updated Jmol.spkg.  See ticket [16003](http://trac.sagemath.org/ticket/16003).\n+*This requires installation of an updated Jmol.spkg.  See ticket #16003.\n \n Sorry for the github commit, but I could not get a notebook branch working in Sage. \n * https://github.com/gutow/sagenb/commit/c730aa4cf563c51e7f1f8ca92899bf515d365030\n``````\n",
    "created_at": "2014-04-08T02:05:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205716",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,7 +6,7 @@
 
 One added feature is a "load 3-D live" check box that can be used to make a worksheet load 3-D plots live when the worksheet is opened.  For worksheets with a single interact or only 1-2 plots this should be OK.
 
-*This requires installation of an updated Jmol.spkg.  See ticket [16003](http://trac.sagemath.org/ticket/16003).
+*This requires installation of an updated Jmol.spkg.  See ticket #16003.
 
 Sorry for the github commit, but I could not get a notebook branch working in Sage. 
 * https://github.com/gutow/sagenb/commit/c730aa4cf563c51e7f1f8ca92899bf515d365030
``````




---

archive/issue_comments_205717.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\n> Some jquery-ui image paths broken (probably issue of symlinks)...\n\nIs this fixed in https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2 ?",
    "created_at": "2014-04-08T02:08:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205717",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:20'>Comment 20:</a>
> Some jquery-ui image paths broken (probably issue of symlinks)...

Is this fixed in https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2 ?



---

archive/issue_comments_205718.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nI think that creating a new branch inside sagenb is now not possible with the new layout (not directly git-related).  One has to even figure out where sagenb lives... annoying.  So to test this one really needs a new sagenb spkg to download, or create one.  Harrumph.",
    "created_at": "2014-04-08T02:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205718",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:21'>Comment 21:</a>
I think that creating a new branch inside sagenb is now not possible with the new layout (not directly git-related).  One has to even figure out where sagenb lives... annoying.  So to test this one really needs a new sagenb spkg to download, or create one.  Harrumph.



---

archive/issue_comments_205719.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nUnless I've missed something it would seem that a new sagenb spkg is needed. The problem is the upstream sagenb-0.10.8.2 tarball is a tarball of tarballs. And it is the sagenb sub-tarball that has to be modified. Now I was able to generate patches that could be applied directly to the `local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg` folder by cloning `https://github.com/gutow/sagenb`. It seems that there are a couple more commits needed than listed above. But generating these patches is a lot of work! I'm able to see the icons and to turn on 3-D which is very, very slow. However, I see no way to evaluate an individual cell.",
    "created_at": "2014-04-08T03:52:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205719",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:22'>Comment 22:</a>
Unless I've missed something it would seem that a new sagenb spkg is needed. The problem is the upstream sagenb-0.10.8.2 tarball is a tarball of tarballs. And it is the sagenb sub-tarball that has to be modified. Now I was able to generate patches that could be applied directly to the `local/lib/python2.7/site-packages/sagenb-0.10.8.2-py2.7.egg` folder by cloning `https://github.com/gutow/sagenb`. It seems that there are a couple more commits needed than listed above. But generating these patches is a lot of work! I'm able to see the icons and to turn on 3-D which is very, very slow. However, I see no way to evaluate an individual cell.



---

archive/issue_comments_205720.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nActually, ppurka has a good solution for this at [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/B7PpXa2VFQs).   At least I assume it works - I can't check right this second.\n\n```\n$ cd ~/sagenb/sagenb\n$ rm flask_version\n$ mv ../flask_version .\n$ cd ~/sage/local/lib/python/site-packages/sagenb-0.10.8.2-py2.7.egg\n$ mv sagenb{,-0.10.8.2}\n$ ln -s ~/sagenb/sagenb .\n```",
    "created_at": "2014-04-08T15:08:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205720",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:23'>Comment 23:</a>
Actually, ppurka has a good solution for this at [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/B7PpXa2VFQs).   At least I assume it works - I can't check right this second.

```
$ cd ~/sagenb/sagenb
$ rm flask_version
$ mv ../flask_version .
$ cd ~/sage/local/lib/python/site-packages/sagenb-0.10.8.2-py2.7.egg
$ mv sagenb{,-0.10.8.2}
$ ln -s ~/sagenb/sagenb .
```



---

archive/issue_comments_205721.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,3 +12,17 @@\n * https://github.com/gutow/sagenb/commit/c730aa4cf563c51e7f1f8ca92899bf515d365030\n * https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958\n * https://github.com/gutow/sagenb/commit/0242d2f495e4be79090e4aae83b4dade1d9a0f26\n+ *https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2\n+\n+How to test:\n+1. Clone the git repository https://githum.com/gutow/sagenb to anywhere convenient on your system.\n+2. Do the following to make sage use the new repository.\n+\n+```\n+$cd SAGE_ROOT/local/lib/python/site-packages/sagenb-0.10.8.2-py2.7.egg\n+$mv sagenb sagenb_old\n+$ln -s sagenb <path to the sagenb directory inside your new repository> \n+```\n+\n+In my case the symlink looks like \n+`ln -s sagenb ~/git/sagenb/sagenb `\n``````\n",
    "created_at": "2014-04-08T15:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205721",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,3 +12,17 @@
 * https://github.com/gutow/sagenb/commit/c730aa4cf563c51e7f1f8ca92899bf515d365030
 * https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958
 * https://github.com/gutow/sagenb/commit/0242d2f495e4be79090e4aae83b4dade1d9a0f26
+ *https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2
+
+How to test:
+1. Clone the git repository https://githum.com/gutow/sagenb to anywhere convenient on your system.
+2. Do the following to make sage use the new repository.
+
+```
+$cd SAGE_ROOT/local/lib/python/site-packages/sagenb-0.10.8.2-py2.7.egg
+$mv sagenb sagenb_old
+$ln -s sagenb <path to the sagenb directory inside your new repository> 
+```
+
+In my case the symlink looks like 
+`ln -s sagenb ~/git/sagenb/sagenb `
``````




---

archive/issue_comments_205722.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nI'm updating the instructions above to include a fix that leaves the sagenb egg unchanged and allows you to work with multiple notebook development repositories.\n\nTo answer another question above the very latest commit to the repository does include the path fixes for jquery-ui images.",
    "created_at": "2014-04-08T15:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205722",
    "user": "https://github.com/gutow"
}
```

<a id='comment:24'>Comment 24:</a>
I'm updating the instructions above to include a fix that leaves the sagenb egg unchanged and allows you to work with multiple notebook development repositories.

To answer another question above the very latest commit to the repository does include the path fixes for jquery-ui images.



---

archive/issue_comments_205723.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,7 +12,7 @@\n * https://github.com/gutow/sagenb/commit/c730aa4cf563c51e7f1f8ca92899bf515d365030\n * https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958\n * https://github.com/gutow/sagenb/commit/0242d2f495e4be79090e4aae83b4dade1d9a0f26\n- *https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2\n+* https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2\n \n How to test:\n 1. Clone the git repository https://githum.com/gutow/sagenb to anywhere convenient on your system.\n``````\n",
    "created_at": "2014-04-08T15:36:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205723",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,7 +12,7 @@
 * https://github.com/gutow/sagenb/commit/c730aa4cf563c51e7f1f8ca92899bf515d365030
 * https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958
 * https://github.com/gutow/sagenb/commit/0242d2f495e4be79090e4aae83b4dade1d9a0f26
- *https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2
+* https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2
 
 How to test:
 1. Clone the git repository https://githum.com/gutow/sagenb to anywhere convenient on your system.
``````




---

archive/issue_comments_205724.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nAt this point I have not got the option to run the java applet working cleanly.  I can do it by manually screwing with things, but I am still working on it. I have not figured out how to modify the templates so that it will not use java applets without the user specifically requesting it.  Because of how evil certain browsers/OS combinations have got about using java applets, we do not want that to ever be the default, even though it is better.\n\nReplying to [@kcrisman](#comment%3A18):\n> Hey, just a quick question as I hopefully will be able to get testing this soon - can the 'load 3-D live\" checkbox work just as well with jmol as with jsmol?  Also, I presume it will be evident once I finally get it going, but how does one get the Jmol instead of jsmol (say, locally, so that things are snappier)?",
    "created_at": "2014-04-08T15:45:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205724",
    "user": "https://github.com/gutow"
}
```

<a id='comment:26'>Comment 26:</a>
At this point I have not got the option to run the java applet working cleanly.  I can do it by manually screwing with things, but I am still working on it. I have not figured out how to modify the templates so that it will not use java applets without the user specifically requesting it.  Because of how evil certain browsers/OS combinations have got about using java applets, we do not want that to ever be the default, even though it is better.

Replying to [@kcrisman](#comment%3A18):
> Hey, just a quick question as I hopefully will be able to get testing this soon - can the 'load 3-D live" checkbox work just as well with jmol as with jsmol?  Also, I presume it will be evident once I finally get it going, but how does one get the Jmol instead of jsmol (say, locally, so that things are snappier)?



---

archive/issue_comments_205725.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nReplying to [@gutow](#comment%3A26):\n> At this point I have not got the option to run the java applet working cleanly.  I can do it by manually screwing with things, but I am still working on it. I have not figured out how to modify the templates so that it will not use java applets without the user specifically requesting it.  Because of how evil certain browsers/OS combinations have got about using java applets, we do not want that to ever be the default, even though it is better.\n\nWell, for instance, could one just hack into Sage itself... after all, one would want to [be able to set viewer=](http://www.sagemath.org/doc/reference/plot3d/sage/plot/plot3d/base.html#sage.plot.plot3d.base.Graphics3d.show) whatever, including both jsmol and jmol.  What happens with `viewer='jmol'` with your branch?  (I'm trying to set it up but this is an incredibly busy week on campus for me, so I'm not sure how much progress I'll make.)  At the least, one would want to just be able to add this to plots to get the Java.  \n\nIn fact, \n\n```\nsage: from sage.plot.plot3d.base import SHOW_DEFAULTS\nsage: SHOW_DEFAULTS['viewer'] = 'jmol'\n```\nshould be possible then.  But I don't know whether that would tie in with your changes thus far.",
    "created_at": "2014-04-09T01:38:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205725",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:27'>Comment 27:</a>
Replying to [@gutow](#comment%3A26):
> At this point I have not got the option to run the java applet working cleanly.  I can do it by manually screwing with things, but I am still working on it. I have not figured out how to modify the templates so that it will not use java applets without the user specifically requesting it.  Because of how evil certain browsers/OS combinations have got about using java applets, we do not want that to ever be the default, even though it is better.

Well, for instance, could one just hack into Sage itself... after all, one would want to [be able to set viewer=](http://www.sagemath.org/doc/reference/plot3d/sage/plot/plot3d/base.html#sage.plot.plot3d.base.Graphics3d.show) whatever, including both jsmol and jmol.  What happens with `viewer='jmol'` with your branch?  (I'm trying to set it up but this is an incredibly busy week on campus for me, so I'm not sure how much progress I'll make.)  At the least, one would want to just be able to add this to plots to get the Java.  

In fact, 

```
sage: from sage.plot.plot3d.base import SHOW_DEFAULTS
sage: SHOW_DEFAULTS['viewer'] = 'jmol'
```
should be possible then.  But I don't know whether that would tie in with your changes thus far.



---

archive/issue_events_203369.json:
```json
{
    "actor": "https://github.com/gutow",
    "created_at": "2014-04-10T01:10:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203369"
}
```



---

archive/issue_events_203370.json:
```json
{
    "actor": "https://github.com/gutow",
    "created_at": "2014-04-10T01:10:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203370"
}
```



---

archive/issue_comments_205726.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nAll seems to work on my test server.  I need some reviewers testers now.",
    "created_at": "2014-04-10T01:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205726",
    "user": "https://github.com/gutow"
}
```

<a id='comment:28'>Comment 28:</a>
All seems to work on my test server.  I need some reviewers testers now.



---

archive/issue_comments_205727.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,6 +13,7 @@\n * https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958\n * https://github.com/gutow/sagenb/commit/0242d2f495e4be79090e4aae83b4dade1d9a0f26\n * https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2\n+* https://github.com/gutow/sagenb/commit/62a3775979c93b09def7487f9c4599554098b5c6\n \n How to test:\n 1. Clone the git repository https://githum.com/gutow/sagenb to anywhere convenient on your system.\n``````\n",
    "created_at": "2014-04-10T01:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205727",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,6 +13,7 @@
 * https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958
 * https://github.com/gutow/sagenb/commit/0242d2f495e4be79090e4aae83b4dade1d9a0f26
 * https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2
+* https://github.com/gutow/sagenb/commit/62a3775979c93b09def7487f9c4599554098b5c6
 
 How to test:
 1. Clone the git repository https://githum.com/gutow/sagenb to anywhere convenient on your system.
``````




---

archive/issue_comments_205728.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,7 +16,7 @@\n * https://github.com/gutow/sagenb/commit/62a3775979c93b09def7487f9c4599554098b5c6\n \n How to test:\n-1. Clone the git repository https://githum.com/gutow/sagenb to anywhere convenient on your system.\n+1. Clone the git repository https://github.com/gutow/sagenb to anywhere convenient on your system.\n 2. Do the following to make sage use the new repository.\n \n ```\n``````\n",
    "created_at": "2014-04-10T02:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205728",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,7 +16,7 @@
 * https://github.com/gutow/sagenb/commit/62a3775979c93b09def7487f9c4599554098b5c6
 
 How to test:
-1. Clone the git repository https://githum.com/gutow/sagenb to anywhere convenient on your system.
+1. Clone the git repository https://github.com/gutow/sagenb to anywhere convenient on your system.
 2. Do the following to make sage use the new repository.
 
 ```
``````




---

archive/issue_comments_205729.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nI think it should be\n\n```\n$ln -s <path to the sagenb directory inside your new repository> sagenb \n```\nnot\n\n```\n$ln -s sagenb <path to the sagenb directory inside your new repository> \n```\nam I right?",
    "created_at": "2014-04-10T03:22:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205729",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:30'>Comment 30:</a>
I think it should be

```
$ln -s <path to the sagenb directory inside your new repository> sagenb 
```
not

```
$ln -s sagenb <path to the sagenb directory inside your new repository> 
```
am I right?



---

archive/issue_comments_205730.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,7 +22,7 @@\n ```\n $cd SAGE_ROOT/local/lib/python/site-packages/sagenb-0.10.8.2-py2.7.egg\n $mv sagenb sagenb_old\n-$ln -s sagenb <path to the sagenb directory inside your new repository> \n+$ln -s <path to the sagenb directory inside your new repository> sagenb \n ```\n \n In my case the symlink looks like \n``````\n",
    "created_at": "2014-04-10T03:41:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205730",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,7 +22,7 @@
 ```
 $cd SAGE_ROOT/local/lib/python/site-packages/sagenb-0.10.8.2-py2.7.egg
 $mv sagenb sagenb_old
-$ln -s sagenb <path to the sagenb directory inside your new repository> 
+$ln -s <path to the sagenb directory inside your new repository> sagenb 
 ```
 
 In my case the symlink looks like 
``````




---

archive/issue_comments_205731.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nOkay, I got it working.  Preliminary thoughts:\n* Snappier than advertised.  But SO SLOW with lots of points; a sparse vector field or basic plot is not so horrible.  Of course, so was the Java version...\n* The load 3d live button is precisely what the doctor ordered.\n* Is it possible that inside interacts the load 3d live button doesn't work (that is, interacts are always live?)  Or is it possible that you can only turn that button on, but not off (counter the expectation when clicking it)?  I observed some unusual behavior, but maybe it was just something dumb I did.\n* How do you turn a plot \"off\" if there are too many open?  (Or is that not a problem like it was with the sleeping Java applets?)\n* I see no way to get the things I used to with right-click (like stereo glasses, color, axes, whatever).  Does jsmol just not have that?\n* The icon for activating the plot is ... not obvious.  I still really find the auto-disable piece annoying, and I know that some people have just hacked that away, though I also know I won't convince you otherwise ;-)\n* Please remove the icons for new cells.  They are cute, and probably an improvement in some ways, but it should really be orthogonal to this issue.  There's enough moving parts to think about as it is.  **Especially** since the blue bars have been the way to make new cells for many years!  That's a pretty big change.\n* I figure out what strogdon is talking about.  Try activating a jsmol, and then move it around a bit, and then try clicking in a cell *without* clicking alllll the way on the right to \"lose focus\" from the jsmol.  (This is a problem anyway, of having to go all the way to the right to scroll - not limited to jsmol, though, threejs in the cell server has this problem as well.)  You won't be able to, at least often not; you have to somehow get off focus and there is some timing delay.\n* I also haven't tried all the zillions of options out there for 3d plots to see if it still obeys them all, but presumably if it's pretty similar to jmol it will do fine.\n* Does it require WebGL turned on?  I think not, but I'm not sure.\n\nHope this helps!  Actually, it's fairly comparable to the current setup, so probably we could get it in sooner rather than later.  Especially if you have any thoughts on the \"viewer\" thing - to me, this would be by far the easiest way to switch back and forth between functionality.\n\nOnce this has been tested enough and the \"right\" commits used, I think that you can just do a pull request to sagenb on github with your branch for this.  Yay!  Thanks for what is clearly very good hard work.",
    "created_at": "2014-04-10T03:41:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205731",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:31'>Comment 31:</a>
Okay, I got it working.  Preliminary thoughts:
* Snappier than advertised.  But SO SLOW with lots of points; a sparse vector field or basic plot is not so horrible.  Of course, so was the Java version...
* The load 3d live button is precisely what the doctor ordered.
* Is it possible that inside interacts the load 3d live button doesn't work (that is, interacts are always live?)  Or is it possible that you can only turn that button on, but not off (counter the expectation when clicking it)?  I observed some unusual behavior, but maybe it was just something dumb I did.
* How do you turn a plot "off" if there are too many open?  (Or is that not a problem like it was with the sleeping Java applets?)
* I see no way to get the things I used to with right-click (like stereo glasses, color, axes, whatever).  Does jsmol just not have that?
* The icon for activating the plot is ... not obvious.  I still really find the auto-disable piece annoying, and I know that some people have just hacked that away, though I also know I won't convince you otherwise ;-)
* Please remove the icons for new cells.  They are cute, and probably an improvement in some ways, but it should really be orthogonal to this issue.  There's enough moving parts to think about as it is.  **Especially** since the blue bars have been the way to make new cells for many years!  That's a pretty big change.
* I figure out what strogdon is talking about.  Try activating a jsmol, and then move it around a bit, and then try clicking in a cell *without* clicking alllll the way on the right to "lose focus" from the jsmol.  (This is a problem anyway, of having to go all the way to the right to scroll - not limited to jsmol, though, threejs in the cell server has this problem as well.)  You won't be able to, at least often not; you have to somehow get off focus and there is some timing delay.
* I also haven't tried all the zillions of options out there for 3d plots to see if it still obeys them all, but presumably if it's pretty similar to jmol it will do fine.
* Does it require WebGL turned on?  I think not, but I'm not sure.

Hope this helps!  Actually, it's fairly comparable to the current setup, so probably we could get it in sooner rather than later.  Especially if you have any thoughts on the "viewer" thing - to me, this would be by far the easiest way to switch back and forth between functionality.

Once this has been tested enough and the "right" commits used, I think that you can just do a pull request to sagenb on github with your branch for this.  Yay!  Thanks for what is clearly very good hard work.



---

archive/issue_comments_205732.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nReplying to [@kcrisman](#comment%3A31):\n> Okay, I got it working.  Preliminary thoughts:\n> * Snappier than advertised.  But SO SLOW with lots of points; a sparse vector field or basic plot is not so horrible.  Of course, so was the Java version...\n> * The load 3d live button is precisely what the doctor ordered.\n\nThought this is what people were asking for.\n> * Is it possible that inside interacts the load 3d live button doesn't work (that is, interacts are always live?)  Or is it possible that you can only turn that button on, but not off (counter the expectation when clicking it)?  I observed some unusual behavior, but maybe it was just something dumb I did.\n\nI believe I wrote the code so that if that box is checked all Jmol/JSmols will load live.  If it is not checked they should not load live.  I am not aware of anything interacts do that should force a live load.\n> * How do you turn a plot \"off\" if there are too many open?  (Or is that not a problem like it was with the sleeping Java applets?)\n\nTurning them off is presently not possible.  For the javascript version (JSmol) I do not think it will matter as long as you do not have the ones you are not interacting with doing things that require continuous computations like spinning or running an animation (something Jmol/JSmol can do, but Sage presently does not generate the input for).\n> * I see no way to get the things I used to with right-click (like stereo glasses, color, axes, whatever).  Does jsmol just not have that?\n\nRight-click still brings up a menu.  For the time being I've left the default Jmol menu as it provides access to some file writing features.  You were not able to get it?  I'll look into that.\n> * The icon for activating the plot is ... not obvious.  I still really find the auto-disable piece annoying, and I know that some people have just hacked that away, though I also know I won't convince you otherwise ;-)\n\nIt is just the default image (a standard stock \"play\" icon) stored in the JSmol tree.  If we can come up with something better it can be replaced.\n> * Please remove the icons for new cells.  They are cute, and probably an improvement in some ways, but it should really be orthogonal to this issue.  There's enough moving parts to think about as it is.  **Especially** since the blue bars have been the way to make new cells for many years!  That's a pretty big change.\n\nI agree that it would be nice to separate this \"big\" change in the interface out.  Unfortunately, I really could not get the old key+click actions to work with the new jquery that is required to support JSmol.  Unless somebody else can make it work without breaking JSmol these icons are going to be part of this change.  I'm open to suggestions on exactly how things should look, but built it using the standard jquery-ui tools that are part of sagenb.\n> * I figure out what strogdon is talking about.  Try activating a jsmol, and then move it around a bit, and then try clicking in a cell *without* clicking alllll the way on the right to \"lose focus\" from the jsmol.  (This is a problem anyway, of having to go all the way to the right to scroll - not limited to jsmol, though, threejs in the cell server has this problem as well.)  You won't be able to, at least often not; you have to somehow get off focus and there is some timing delay.\n\nI'll play with this.  Haven't noticed it, at least not anymore than most GUI based software.\n> * I also haven't tried all the zillions of options out there for 3d plots to see if it still obeys them all, but presumably if it's pretty similar to jmol it will do fine.\n\nIf it worked in Jmol it works in JSmol as JSmol is just just cross compiled to javascript.  There have been some minor oddities, but the demands of the X-ray crystallography users are much more severe than what is usually being done here.  I think Bob Hanson and the others working on the conversion between Java and Javascript have found most of problems by now.  The chemistry community has been replacing java applet only versions with this for 9-12 months now.\n> * Does it require WebGL turned on?  I think not, but I'm not sure.\n\nI have set it up to use HTML5 only.  WebGL support exists, but has problems with transparency and other such things.\n> \n> Hope this helps!  Actually, it's fairly comparable to the current setup, so probably we could get it in sooner rather than later.  Especially if you have any thoughts on the \"viewer\" thing - to me, this would be by far the easiest way to switch back and forth between functionality.\n\nI'll keep working on this.  I think if I can get it working cleanly in the GUI, it will be easy to couple it to the viewer option.\n> \n> Once this has been tested enough and the \"right\" commits used, I think that you can just do a pull request to sagenb on github with your branch for this.  Yay!  Thanks for what is clearly very good hard work.",
    "created_at": "2014-04-11T02:18:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205732",
    "user": "https://github.com/gutow"
}
```

<a id='comment:32'>Comment 32:</a>
Replying to [@kcrisman](#comment%3A31):
> Okay, I got it working.  Preliminary thoughts:
> * Snappier than advertised.  But SO SLOW with lots of points; a sparse vector field or basic plot is not so horrible.  Of course, so was the Java version...
> * The load 3d live button is precisely what the doctor ordered.

Thought this is what people were asking for.
> * Is it possible that inside interacts the load 3d live button doesn't work (that is, interacts are always live?)  Or is it possible that you can only turn that button on, but not off (counter the expectation when clicking it)?  I observed some unusual behavior, but maybe it was just something dumb I did.

I believe I wrote the code so that if that box is checked all Jmol/JSmols will load live.  If it is not checked they should not load live.  I am not aware of anything interacts do that should force a live load.
> * How do you turn a plot "off" if there are too many open?  (Or is that not a problem like it was with the sleeping Java applets?)

Turning them off is presently not possible.  For the javascript version (JSmol) I do not think it will matter as long as you do not have the ones you are not interacting with doing things that require continuous computations like spinning or running an animation (something Jmol/JSmol can do, but Sage presently does not generate the input for).
> * I see no way to get the things I used to with right-click (like stereo glasses, color, axes, whatever).  Does jsmol just not have that?

Right-click still brings up a menu.  For the time being I've left the default Jmol menu as it provides access to some file writing features.  You were not able to get it?  I'll look into that.
> * The icon for activating the plot is ... not obvious.  I still really find the auto-disable piece annoying, and I know that some people have just hacked that away, though I also know I won't convince you otherwise ;-)

It is just the default image (a standard stock "play" icon) stored in the JSmol tree.  If we can come up with something better it can be replaced.
> * Please remove the icons for new cells.  They are cute, and probably an improvement in some ways, but it should really be orthogonal to this issue.  There's enough moving parts to think about as it is.  **Especially** since the blue bars have been the way to make new cells for many years!  That's a pretty big change.

I agree that it would be nice to separate this "big" change in the interface out.  Unfortunately, I really could not get the old key+click actions to work with the new jquery that is required to support JSmol.  Unless somebody else can make it work without breaking JSmol these icons are going to be part of this change.  I'm open to suggestions on exactly how things should look, but built it using the standard jquery-ui tools that are part of sagenb.
> * I figure out what strogdon is talking about.  Try activating a jsmol, and then move it around a bit, and then try clicking in a cell *without* clicking alllll the way on the right to "lose focus" from the jsmol.  (This is a problem anyway, of having to go all the way to the right to scroll - not limited to jsmol, though, threejs in the cell server has this problem as well.)  You won't be able to, at least often not; you have to somehow get off focus and there is some timing delay.

I'll play with this.  Haven't noticed it, at least not anymore than most GUI based software.
> * I also haven't tried all the zillions of options out there for 3d plots to see if it still obeys them all, but presumably if it's pretty similar to jmol it will do fine.

If it worked in Jmol it works in JSmol as JSmol is just just cross compiled to javascript.  There have been some minor oddities, but the demands of the X-ray crystallography users are much more severe than what is usually being done here.  I think Bob Hanson and the others working on the conversion between Java and Javascript have found most of problems by now.  The chemistry community has been replacing java applet only versions with this for 9-12 months now.
> * Does it require WebGL turned on?  I think not, but I'm not sure.

I have set it up to use HTML5 only.  WebGL support exists, but has problems with transparency and other such things.
> 
> Hope this helps!  Actually, it's fairly comparable to the current setup, so probably we could get it in sooner rather than later.  Especially if you have any thoughts on the "viewer" thing - to me, this would be by far the easiest way to switch back and forth between functionality.

I'll keep working on this.  I think if I can get it working cleanly in the GUI, it will be easy to couple it to the viewer option.
> 
> Once this has been tested enough and the "right" commits used, I think that you can just do a pull request to sagenb on github with your branch for this.  Yay!  Thanks for what is clearly very good hard work.



---

archive/issue_comments_205733.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\n> > * The load 3d live button is precisely what the doctor ordered.\n\n> Thought this is what people were asking for.\n\nYes, absolutely!\n> > * I see no way to get the things I used to with right-click (like stereo glasses, color, axes, whatever).  Does jsmol just not have that?\n\n> Right-click still brings up a menu.  For the time being I've left the default Jmol menu as it provides access to some file writing features.  You were not able to get it?  I'll look into that.\n\nYeah.  This is on Safari 5, granted, but still... actually, it doesn't work on FF either.  I don't know why, other right-clicking seems to be working fine on this computer still.\n> >    * The icon for activating the plot is ... not obvious.  I still really find the auto-disable piece annoying, and I know that some people have just hacked that away, though I also know I won't convince you otherwise ;-)\n\n> It is just the default image (a standard stock \"play\" icon) stored in the JSmol tree.  If we can come up with something better it can be replaced.\n\nI think that a word of some kind would be helpful.  The image doesn't say much to me, while your previous \"live image\" or whatever made it very clear.  Not everyone will mouse over that icon.\n> > * Please remove the icons for new cells.  They are cute, and probably an improvement in some ways, but it should really be orthogonal to this issue.  There's enough moving parts to think about as it is.  **Especially** since the blue bars have been the way to make new cells for many years!  That's a pretty big change.\n\n> I agree that it would be nice to separate this \"big\" change in the interface out.  Unfortunately, I really could not get the old key+click actions to work with the new jquery that is required to support JSmol.  Unless somebody else can make it work without breaking JSmol these icons are going to be part of this change.  I'm open to suggestions on exactly how things should look, but built it using the standard jquery-ui tools that are part of sagenb.\n\nHuh, that is weird.  When I start actually reviewing the code changes I'll try to think about that.\n> > Hope this helps!  Actually, it's fairly comparable to the current setup, so probably we could get it in sooner rather than later.  Especially if you have any thoughts on the \"viewer\" thing - to me, this would be by far the easiest way to switch back and forth between functionality.\n\n> I'll keep working on this.  I think if I can get it working cleanly in the GUI, it will be easy to couple it to the viewer option.\n\nThat would be very good, providing all available options.",
    "created_at": "2014-04-11T03:50:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205733",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:33'>Comment 33:</a>
> > * The load 3d live button is precisely what the doctor ordered.

> Thought this is what people were asking for.

Yes, absolutely!
> > * I see no way to get the things I used to with right-click (like stereo glasses, color, axes, whatever).  Does jsmol just not have that?

> Right-click still brings up a menu.  For the time being I've left the default Jmol menu as it provides access to some file writing features.  You were not able to get it?  I'll look into that.

Yeah.  This is on Safari 5, granted, but still... actually, it doesn't work on FF either.  I don't know why, other right-clicking seems to be working fine on this computer still.
> >    * The icon for activating the plot is ... not obvious.  I still really find the auto-disable piece annoying, and I know that some people have just hacked that away, though I also know I won't convince you otherwise ;-)

> It is just the default image (a standard stock "play" icon) stored in the JSmol tree.  If we can come up with something better it can be replaced.

I think that a word of some kind would be helpful.  The image doesn't say much to me, while your previous "live image" or whatever made it very clear.  Not everyone will mouse over that icon.
> > * Please remove the icons for new cells.  They are cute, and probably an improvement in some ways, but it should really be orthogonal to this issue.  There's enough moving parts to think about as it is.  **Especially** since the blue bars have been the way to make new cells for many years!  That's a pretty big change.

> I agree that it would be nice to separate this "big" change in the interface out.  Unfortunately, I really could not get the old key+click actions to work with the new jquery that is required to support JSmol.  Unless somebody else can make it work without breaking JSmol these icons are going to be part of this change.  I'm open to suggestions on exactly how things should look, but built it using the standard jquery-ui tools that are part of sagenb.

Huh, that is weird.  When I start actually reviewing the code changes I'll try to think about that.
> > Hope this helps!  Actually, it's fairly comparable to the current setup, so probably we could get it in sooner rather than later.  Especially if you have any thoughts on the "viewer" thing - to me, this would be by far the easiest way to switch back and forth between functionality.

> I'll keep working on this.  I think if I can get it working cleanly in the GUI, it will be easy to couple it to the viewer option.

That would be very good, providing all available options.



---

archive/issue_comments_205734.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nReplying to [@kcrisman](#comment%3A33):\n\n> > > * I see no way to get the things I used to with right-click (like stereo glasses, color, axes, whatever).  Does jsmol just not have that?\n\n> > Right-click still brings up a menu.  For the time being I've left the default Jmol menu as it provides access to some file writing features.  You were not able to get it?  I'll look into that.\n\nFound the problem, but it's going to be a toughy...relates to the load order of the various js files.  It appears a function in jquery clobbers a JSmol function or vice-versa if we switch the load order of the two.  I can either get the right-click JSmol menu working or dialogs in Sagenb.  I'm consulting with the Jmol/JSmol community on this.\n> > > * The icon for activating the plot is ... not obvious.  I still really find the auto-disable piece annoying, and I know that some people have just hacked that away, though I also know I won't convince you otherwise ;-)\n\n> > It is just the default image (a standard stock \"play\" icon) stored in the JSmol tree.  If we can come up with something better it can be replaced.\n\n> I think that a word of some kind would be helpful.  The image doesn't say much to me, while your previous \"live image\" or whatever made it very clear.  Not everyone will mouse over that icon.\n\nActually, I think the text pops up if you mouse over the whole image.  But I see your point.  The idea was to make it \"youtube-like\".",
    "created_at": "2014-04-12T14:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205734",
    "user": "https://github.com/gutow"
}
```

<a id='comment:34'>Comment 34:</a>
Replying to [@kcrisman](#comment%3A33):

> > > * I see no way to get the things I used to with right-click (like stereo glasses, color, axes, whatever).  Does jsmol just not have that?

> > Right-click still brings up a menu.  For the time being I've left the default Jmol menu as it provides access to some file writing features.  You were not able to get it?  I'll look into that.

Found the problem, but it's going to be a toughy...relates to the load order of the various js files.  It appears a function in jquery clobbers a JSmol function or vice-versa if we switch the load order of the two.  I can either get the right-click JSmol menu working or dialogs in Sagenb.  I'm consulting with the Jmol/JSmol community on this.
> > > * The icon for activating the plot is ... not obvious.  I still really find the auto-disable piece annoying, and I know that some people have just hacked that away, though I also know I won't convince you otherwise ;-)

> > It is just the default image (a standard stock "play" icon) stored in the JSmol tree.  If we can come up with something better it can be replaced.

> I think that a word of some kind would be helpful.  The image doesn't say much to me, while your previous "live image" or whatever made it very clear.  Not everyone will mouse over that icon.

Actually, I think the text pops up if you mouse over the whole image.  But I see your point.  The idea was to make it "youtube-like".



---

archive/issue_events_203371.json:
```json
{
    "actor": "https://github.com/gutow",
    "created_at": "2014-04-12T14:50:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203371"
}
```



---

archive/issue_events_203372.json:
```json
{
    "actor": "https://github.com/gutow",
    "created_at": "2014-04-12T14:50:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203372"
}
```



---

archive/issue_comments_205735.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\n> > > > * I see no way to get the things I used to with right-click (like stereo glasses, color, axes, whatever).  Does jsmol just not have that?\n\n> > > Right-click still brings up a menu.  For the time being I've left the default Jmol menu as it provides access to some file writing features.  You were not able to get it?  I'll look into that.\n\n> Found the problem, but it's going to be a toughy...relates to the load order of the various js files.  It appears a function in jquery clobbers a JSmol function or vice-versa if we switch the load order of the two.  I can either get the right-click JSmol menu working or dialogs in Sagenb.  I'm consulting with the Jmol/JSmol community on this.\n\nHmm, so the functions happen to be named the same thing?\n\n---\n\nOkay, I think that if we can fix the following in one way or another, and it otherwise it seems to handle things well, we can probably move to this:\n* Fix the clobbered function you mention above.\n* Fix or somehow make the icon here more obvious:\n  > Actually, I think the text pops up if you mouse over the whole image.  But I see your point.  The idea was to make it \"youtube-like\".\n* Find some resolution to the new versus old ways to get new cells, ideally using the old clicking syntax (else a major change in interface).\n* Getting `viewer` to work with this so we can provide jmol or jsmol.\n\nI know dealing with these is a lot harder than it seems to me, so hopefully we can find something good.  I'm going to also look into the shift-click thing for a minute in the hopes I get lucky...\n\nRandom request: In [this commit](https://github.com/gutow/sagenb/commit/bea6f2d4323ec1915e7d481e127700f969fea76c) it would be helpful to know which of this truly huge commit is just adding the new jquery, and what is something for Sage.  There are occasional changes I couldn't figure out if they were not important or if they were quite important, and it is kind of a bomb, by necessity.  So any hints on what to focus on there would be very helpful.",
    "created_at": "2014-04-13T01:55:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205735",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:35'>Comment 35:</a>
> > > > * I see no way to get the things I used to with right-click (like stereo glasses, color, axes, whatever).  Does jsmol just not have that?

> > > Right-click still brings up a menu.  For the time being I've left the default Jmol menu as it provides access to some file writing features.  You were not able to get it?  I'll look into that.

> Found the problem, but it's going to be a toughy...relates to the load order of the various js files.  It appears a function in jquery clobbers a JSmol function or vice-versa if we switch the load order of the two.  I can either get the right-click JSmol menu working or dialogs in Sagenb.  I'm consulting with the Jmol/JSmol community on this.

Hmm, so the functions happen to be named the same thing?

---

Okay, I think that if we can fix the following in one way or another, and it otherwise it seems to handle things well, we can probably move to this:
* Fix the clobbered function you mention above.
* Fix or somehow make the icon here more obvious:
  > Actually, I think the text pops up if you mouse over the whole image.  But I see your point.  The idea was to make it "youtube-like".
* Find some resolution to the new versus old ways to get new cells, ideally using the old clicking syntax (else a major change in interface).
* Getting `viewer` to work with this so we can provide jmol or jsmol.

I know dealing with these is a lot harder than it seems to me, so hopefully we can find something good.  I'm going to also look into the shift-click thing for a minute in the hopes I get lucky...

Random request: In [this commit](https://github.com/gutow/sagenb/commit/bea6f2d4323ec1915e7d481e127700f969fea76c) it would be helpful to know which of this truly huge commit is just adding the new jquery, and what is something for Sage.  There are occasional changes I couldn't figure out if they were not important or if they were quite important, and it is kind of a bomb, by necessity.  So any hints on what to focus on there would be very helpful.



---

archive/issue_comments_205736.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\n> * Find some resolution to the new versus old ways to get new cells, ideally using the old clicking syntax (else a major change in \n\nSo it seems that this was just some custom thing written [way back when](http://code.google.com/p/sagenb/source/browse/sagenb/data/jquery/plugins/extendedclick/jquery.event.extendedclick.js?name=0.8.13&r=78ea2b9e6ad10632ea438d25c43ded861f64dcc2).\n\nCurrently this stuff is in [sagenb/data/jquery/plugins/extendedclick](https://github.com/sagemath/sagenb/tree/master/sagenb/data/jquery/plugins/extendedclick).  In fact, it seems to still be there after the update as well, and it's still loaded in base.html.  So maybe we can just update it for the new jquery after all...\n\nIn fact, Jason has a [github repo](https://github.com/jasongrout/jquery-extended-click/commits/master) for this!  At the time he updated for a new jquery too.  I did try editing things back in Safari's Firebug equivalent, but any clicking at all - even in the compute cells - yielded\n\n```\nTypeError: 'undefined' is not an object (evaluating 'introspect[id].before_replacing_word')\n```\nfrom line 23 of master.js.  Not sure if this is related.  Anyway, I would be very surprised if one couldn't fix this but I couldn't get the web inspector to allow me to change any of the js files, very annoying.\n\nOr, we could perhaps use [this jquery plugin](https://github.com/jeresig/jquery.hotkeys) or [this javascript thing](http://www.openjs.com/scripts/events/keyboard_shortcuts/) instead?  [This link](http://stackoverflow.com/questions/9377046/jquery-trigger-ctrl-click) seems less robust but could work too...",
    "created_at": "2014-04-13T02:29:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205736",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:36'>Comment 36:</a>
> * Find some resolution to the new versus old ways to get new cells, ideally using the old clicking syntax (else a major change in 

So it seems that this was just some custom thing written [way back when](http://code.google.com/p/sagenb/source/browse/sagenb/data/jquery/plugins/extendedclick/jquery.event.extendedclick.js?name=0.8.13&r=78ea2b9e6ad10632ea438d25c43ded861f64dcc2).

Currently this stuff is in [sagenb/data/jquery/plugins/extendedclick](https://github.com/sagemath/sagenb/tree/master/sagenb/data/jquery/plugins/extendedclick).  In fact, it seems to still be there after the update as well, and it's still loaded in base.html.  So maybe we can just update it for the new jquery after all...

In fact, Jason has a [github repo](https://github.com/jasongrout/jquery-extended-click/commits/master) for this!  At the time he updated for a new jquery too.  I did try editing things back in Safari's Firebug equivalent, but any clicking at all - even in the compute cells - yielded

```
TypeError: 'undefined' is not an object (evaluating 'introspect[id].before_replacing_word')
```
from line 23 of master.js.  Not sure if this is related.  Anyway, I would be very surprised if one couldn't fix this but I couldn't get the web inspector to allow me to change any of the js files, very annoying.

Or, we could perhaps use [this jquery plugin](https://github.com/jeresig/jquery.hotkeys) or [this javascript thing](http://www.openjs.com/scripts/events/keyboard_shortcuts/) instead?  [This link](http://stackoverflow.com/questions/9377046/jquery-trigger-ctrl-click) seems less robust but could work too...



---

archive/issue_comments_205737.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nRandom request: In \u200bthis commit it would be helpful to know which of this truly huge commit is just adding the new jquery, and what is something for Sage. There are occasional changes I couldn't figure out if they were not important or if they were quite important, and it is kind of a bomb, by necessity. So any hints on what to focus on there would be very helpful. \n\n---\nI couldn't seem to update the commit message without redoing the commit.  So here's the answer.  That commit is just replacing all the old jquery and jquery-ui files.  Nothing Sage related.  I wonder if we should start handling things like that as upstream packages? A ticket in itself?\n\nStill testing, but believe I have solved the dialog/JSmol popup conflict.  There is an alternative JSmol package to avoid these kinds of problems...\n\nStill no luck on getting the cntl-click stuff to work. I suspect it simply will require a careful rewrite of the old code.  I'm not convinced that is a good use of anybody's time as we have a functional (and for novices more usable) alternative.",
    "created_at": "2014-04-14T01:52:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205737",
    "user": "https://github.com/gutow"
}
```

<a id='comment:37'>Comment 37:</a>
Random request: In ​this commit it would be helpful to know which of this truly huge commit is just adding the new jquery, and what is something for Sage. There are occasional changes I couldn't figure out if they were not important or if they were quite important, and it is kind of a bomb, by necessity. So any hints on what to focus on there would be very helpful. 

---
I couldn't seem to update the commit message without redoing the commit.  So here's the answer.  That commit is just replacing all the old jquery and jquery-ui files.  Nothing Sage related.  I wonder if we should start handling things like that as upstream packages? A ticket in itself?

Still testing, but believe I have solved the dialog/JSmol popup conflict.  There is an alternative JSmol package to avoid these kinds of problems...

Still no luck on getting the cntl-click stuff to work. I suspect it simply will require a careful rewrite of the old code.  I'm not convinced that is a good use of anybody's time as we have a functional (and for novices more usable) alternative.



---

archive/issue_comments_205738.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nJust to clarify - the problems are only with the mouse use for cells, keyboard commands like Ctrl+Enter, Alt+Enter etc. are still functional, correct?",
    "created_at": "2014-04-14T06:17:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205738",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:38'>Comment 38:</a>
Just to clarify - the problems are only with the mouse use for cells, keyboard commands like Ctrl+Enter, Alt+Enter etc. are still functional, correct?



---

archive/issue_comments_205739.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\n> Still no luck on getting the cntl-click stuff to work. I suspect it simply will require a careful rewrite of the old code. I'm not convinced that is a good use of anybody's time as we have a functional (and for novices more usable) alternative.\n\nBut it's backwards-incompatible, and requires rewriting of the help pages, and so forth.  (The page that is linked to \"Help\" in the notebook.)\n> Just to clarify - the problems are only with the mouse use for cells, keyboard commands like Ctrl+Enter, Alt+Enter etc. are still functional, correct?\n\nYes, they appear to.  But I don't think there is a way to get a text cell without the mouse - or is there?  Also, sometimes one might not want to evaluate the current cell before inserting a new cell - and how would one get a new cell at the *top* of the page?  Things to consider.",
    "created_at": "2014-04-14T15:18:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205739",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:39'>Comment 39:</a>
> Still no luck on getting the cntl-click stuff to work. I suspect it simply will require a careful rewrite of the old code. I'm not convinced that is a good use of anybody's time as we have a functional (and for novices more usable) alternative.

But it's backwards-incompatible, and requires rewriting of the help pages, and so forth.  (The page that is linked to "Help" in the notebook.)
> Just to clarify - the problems are only with the mouse use for cells, keyboard commands like Ctrl+Enter, Alt+Enter etc. are still functional, correct?

Yes, they appear to.  But I don't think there is a way to get a text cell without the mouse - or is there?  Also, sometimes one might not want to evaluate the current cell before inserting a new cell - and how would one get a new cell at the *top* of the page?  Things to consider.



---

archive/issue_comments_205740.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nOK.  I think I've fixed the following with the latest commit:\n* Restored legacy click and shift-click behavior for adding cells to worksheets.  This no longer uses the old code but is modern jquery.  I have not taken out the old code because I believe it is used for keyboard key combinations as well.  Can somebody double check me on this.  If I'm wrong we can take it out.\n* Fixed the conflict between the dialog boxes and the Jmol/JSmol popup menu.\n\nStill to do:\n* Change icons/wording so making JSmol live is more obvious.\n* See if I can fix defaults to use wire images during rotation for faster response.\n* Should I add back the link to help for the 3D viewer?\n\nCan anybody explain in more detail what the strange behavior with the \"load live\" checkbox was?  Karl-Dieter, Thanks for spotting this.",
    "created_at": "2014-04-17T23:57:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205740",
    "user": "https://github.com/gutow"
}
```

<a id='comment:40'>Comment 40:</a>
OK.  I think I've fixed the following with the latest commit:
* Restored legacy click and shift-click behavior for adding cells to worksheets.  This no longer uses the old code but is modern jquery.  I have not taken out the old code because I believe it is used for keyboard key combinations as well.  Can somebody double check me on this.  If I'm wrong we can take it out.
* Fixed the conflict between the dialog boxes and the Jmol/JSmol popup menu.

Still to do:
* Change icons/wording so making JSmol live is more obvious.
* See if I can fix defaults to use wire images during rotation for faster response.
* Should I add back the link to help for the 3D viewer?

Can anybody explain in more detail what the strange behavior with the "load live" checkbox was?  Karl-Dieter, Thanks for spotting this.



---

archive/issue_comments_205741.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,6 +14,7 @@\n * https://github.com/gutow/sagenb/commit/0242d2f495e4be79090e4aae83b4dade1d9a0f26\n * https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2\n * https://github.com/gutow/sagenb/commit/62a3775979c93b09def7487f9c4599554098b5c6\n+* https://github.com/gutow/sagenb/commit/c3659b35e3595605cbb01289f1279195cf0b8653\n \n How to test:\n 1. Clone the git repository https://github.com/gutow/sagenb to anywhere convenient on your system.\n@@ -26,4 +27,4 @@\n ```\n \n In my case the symlink looks like \n-`ln -s sagenb ~/git/sagenb/sagenb `\n+`ln -s ~/git/sagenb/sagenb sagenb`\n``````\n",
    "created_at": "2014-04-17T23:57:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205741",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,6 +14,7 @@
 * https://github.com/gutow/sagenb/commit/0242d2f495e4be79090e4aae83b4dade1d9a0f26
 * https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2
 * https://github.com/gutow/sagenb/commit/62a3775979c93b09def7487f9c4599554098b5c6
+* https://github.com/gutow/sagenb/commit/c3659b35e3595605cbb01289f1279195cf0b8653
 
 How to test:
 1. Clone the git repository https://github.com/gutow/sagenb to anywhere convenient on your system.
@@ -26,4 +27,4 @@
 ```
 
 In my case the symlink looks like 
-`ln -s sagenb ~/git/sagenb/sagenb `
+`ln -s ~/git/sagenb/sagenb sagenb`
``````




---

archive/issue_comments_205742.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nThere are certain situations, and I haven't been able to isolate the sequence of things, where I'm unable to evaluate a cell - both with the mouse and from the keyboard. At these times I'm also unable to rename the worksheet. When renaming the worksheet does work the `Rename worksheet` dialog box is partially \"covered\" by any graphics image in the worksheet. And by moving the dialog box around (this requires a little work) it can be made to disappear \"behind\" a graphics image leaving the worksheet in a \"frozen\" state.",
    "created_at": "2014-04-18T21:11:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205742",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:41'>Comment 41:</a>
There are certain situations, and I haven't been able to isolate the sequence of things, where I'm unable to evaluate a cell - both with the mouse and from the keyboard. At these times I'm also unable to rename the worksheet. When renaming the worksheet does work the `Rename worksheet` dialog box is partially "covered" by any graphics image in the worksheet. And by moving the dialog box around (this requires a little work) it can be made to disappear "behind" a graphics image leaving the worksheet in a "frozen" state.



---

archive/issue_comments_205743.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nReplying to [@strogdon](#comment%3A41):\n> There are certain situations, and I haven't been able to isolate the sequence of things, where I'm unable to evaluate a cell - both with the mouse and from the keyboard. At these times I'm also unable to rename the worksheet.\n\nI am not seeing this.  I'm going to need more help reproducing this. \n> When renaming the worksheet does work the `Rename worksheet` dialog box is partially \"covered\" by any graphics image in the worksheet. And by moving the dialog box around (this requires a little work) it can be made to disappear \"behind\" a graphics image leaving the worksheet in a \"frozen\" state.\n\nThanks.  Got it.  Had a problem with z-index settings.  I will include this fix in my next commit.",
    "created_at": "2014-04-19T00:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205743",
    "user": "https://github.com/gutow"
}
```

<a id='comment:42'>Comment 42:</a>
Replying to [@strogdon](#comment%3A41):
> There are certain situations, and I haven't been able to isolate the sequence of things, where I'm unable to evaluate a cell - both with the mouse and from the keyboard. At these times I'm also unable to rename the worksheet.

I am not seeing this.  I'm going to need more help reproducing this. 
> When renaming the worksheet does work the `Rename worksheet` dialog box is partially "covered" by any graphics image in the worksheet. And by moving the dialog box around (this requires a little work) it can be made to disappear "behind" a graphics image leaving the worksheet in a "frozen" state.

Thanks.  Got it.  Had a problem with z-index settings.  I will include this fix in my next commit.



---

archive/issue_comments_205744.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nI was planning to get to this yesterday but other things intervened.   So not having tried the latest commits (and it sounds like others are still coming), I think that only the icons/wording change is 100% necessary, as the js was faster with normal `plot_points` than I thought (still not horrible but okay), though that was not exhaustive testing.\n\nHowever, if you have any way to attack the \"viewer\" issue to allow jmols that would be really useful.",
    "created_at": "2014-04-19T13:03:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205744",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:43'>Comment 43:</a>
I was planning to get to this yesterday but other things intervened.   So not having tried the latest commits (and it sounds like others are still coming), I think that only the icons/wording change is 100% necessary, as the js was faster with normal `plot_points` than I thought (still not horrible but okay), though that was not exhaustive testing.

However, if you have any way to attack the "viewer" issue to allow jmols that would be really useful.



---

archive/issue_comments_205745.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nReplying to [@strogdon](#comment%3A41):\n> There are certain situations, and I haven't been able to isolate the sequence of things, where I'm unable to evaluate a cell - both with the mouse and from the keyboard. At these times I'm also unable to rename the worksheet. \n\nDoes this problem only occur when using interacts?  I found an interact that has controls below where the applet is drawn and am seeing some funny things about who gets the click.  I've also seen an issue with interacts not moving out of the way to show the evaluate button.  That is probably a css issue that is separate from Jmol/JSmol.",
    "created_at": "2014-04-20T01:46:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205745",
    "user": "https://github.com/gutow"
}
```

<a id='comment:44'>Comment 44:</a>
Replying to [@strogdon](#comment%3A41):
> There are certain situations, and I haven't been able to isolate the sequence of things, where I'm unable to evaluate a cell - both with the mouse and from the keyboard. At these times I'm also unable to rename the worksheet. 

Does this problem only occur when using interacts?  I found an interact that has controls below where the applet is drawn and am seeing some funny things about who gets the click.  I've also seen an issue with interacts not moving out of the way to show the evaluate button.  That is probably a css issue that is separate from Jmol/JSmol.



---

archive/issue_comments_205746.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nNote to testers.  You may want to update the Jmol installation spkg #16003, because I have updated to the latest stable Jmol/JSmol and updated the popup menu to include file and image save/download from within the active 3-D view.",
    "created_at": "2014-04-21T01:24:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205746",
    "user": "https://github.com/gutow"
}
```

<a id='comment:45'>Comment 45:</a>
Note to testers.  You may want to update the Jmol installation spkg #16003, because I have updated to the latest stable Jmol/JSmol and updated the popup menu to include file and image save/download from within the active 3-D view.



---

archive/issue_comments_205747.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,6 +15,7 @@\n * https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2\n * https://github.com/gutow/sagenb/commit/62a3775979c93b09def7487f9c4599554098b5c6\n * https://github.com/gutow/sagenb/commit/c3659b35e3595605cbb01289f1279195cf0b8653\n+* https://github.com/gutow/sagenb/commit/2e4fd33d6ad88485b9c80e508917ccc976878561\n \n How to test:\n 1. Clone the git repository https://github.com/gutow/sagenb to anywhere convenient on your system.\n``````\n",
    "created_at": "2014-04-21T02:02:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205747",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,6 +15,7 @@
 * https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2
 * https://github.com/gutow/sagenb/commit/62a3775979c93b09def7487f9c4599554098b5c6
 * https://github.com/gutow/sagenb/commit/c3659b35e3595605cbb01289f1279195cf0b8653
+* https://github.com/gutow/sagenb/commit/2e4fd33d6ad88485b9c80e508917ccc976878561
 
 How to test:
 1. Clone the git repository https://github.com/gutow/sagenb to anywhere convenient on your system.
``````




---

archive/issue_comments_205748.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nLatest commit includes fixes to hidden rename dialog, some click on image to activate instructions and some speed improvements.\n\nThere is definitely a problem with interacts that have controls below the active 3-D image.  I am presently stumped as to what is going on.  Any clues from what people are seeing would be welcome.",
    "created_at": "2014-04-21T02:02:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205748",
    "user": "https://github.com/gutow"
}
```

<a id='comment:46'>Comment 46:</a>
Latest commit includes fixes to hidden rename dialog, some click on image to activate instructions and some speed improvements.

There is definitely a problem with interacts that have controls below the active 3-D image.  I am presently stumped as to what is going on.  Any clues from what people are seeing would be welcome.



---

archive/issue_comments_205749.json:
```json
{
    "body": "<a id='comment:47'>Comment 47:</a>\nReplying to [@gutow](#comment%3A44):\n> Replying to [@strogdon](#comment%3A41):\n> > There are certain situations, and I haven't been able to isolate the sequence of things, where I'm unable to evaluate a cell - both with the mouse and from the keyboard. At these times I'm also unable to rename the worksheet. \n\n> Does this problem only occur when using interacts?  I found an interact that has controls below where the applet is drawn and am seeing some funny things about who gets the click.  I've also seen an issue with interacts not moving out of the way to show the evaluate button.  That is probably a css issue that is separate from Jmol/JSmol.\n\nThis issue from my end is not associated with using interacts. I haven't isolated the exact sequence to reproduce it. But I have seen it on two occasions. Now I'm testing on top of the develop branch. So there could be some irregularity in switching to my testing branch that includes the newer jmol.",
    "created_at": "2014-04-21T03:09:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205749",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:47'>Comment 47:</a>
Replying to [@gutow](#comment%3A44):
> Replying to [@strogdon](#comment%3A41):
> > There are certain situations, and I haven't been able to isolate the sequence of things, where I'm unable to evaluate a cell - both with the mouse and from the keyboard. At these times I'm also unable to rename the worksheet. 

> Does this problem only occur when using interacts?  I found an interact that has controls below where the applet is drawn and am seeing some funny things about who gets the click.  I've also seen an issue with interacts not moving out of the way to show the evaluate button.  That is probably a css issue that is separate from Jmol/JSmol.

This issue from my end is not associated with using interacts. I haven't isolated the exact sequence to reproduce it. But I have seen it on two occasions. Now I'm testing on top of the develop branch. So there could be some irregularity in switching to my testing branch that includes the newer jmol.



---

archive/issue_comments_205750.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\nReplying to [@strogdon](#comment%3A47):\n> Replying to [@gutow](#comment%3A44):\n> > Replying to [@strogdon](#comment%3A41):\n> > > There are certain situations, and I haven't been able to isolate the sequence of things, where I'm unable to evaluate a cell - both with the mouse and from the keyboard. At these times I'm also unable to rename the worksheet. \n\n> > Does this problem only occur when using interacts?  I found an interact that has controls below where the applet is drawn and am seeing some funny things about who gets the click.  I've also seen an issue with interacts not moving out of the way to show the evaluate button.  That is probably a css issue that is separate from Jmol/JSmol.\n\n> This issue from my end is not associated with using interacts. I haven't isolated the exact sequence to reproduce it. But I have seen it on two occasions. Now I'm testing on top of the develop branch. So there could be some irregularity in switching to my testing branch that includes the newer jmol.\n\nThis appears to be a problem on my end and not with the code. It's a consequence of how I was moving things to deal with the sagenb symlink when I changed branches for testing. If I remember to create a new symlink each time I change branches then I don't seem to observe the problem.",
    "created_at": "2014-04-23T18:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205750",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:48'>Comment 48:</a>
Replying to [@strogdon](#comment%3A47):
> Replying to [@gutow](#comment%3A44):
> > Replying to [@strogdon](#comment%3A41):
> > > There are certain situations, and I haven't been able to isolate the sequence of things, where I'm unable to evaluate a cell - both with the mouse and from the keyboard. At these times I'm also unable to rename the worksheet. 

> > Does this problem only occur when using interacts?  I found an interact that has controls below where the applet is drawn and am seeing some funny things about who gets the click.  I've also seen an issue with interacts not moving out of the way to show the evaluate button.  That is probably a css issue that is separate from Jmol/JSmol.

> This issue from my end is not associated with using interacts. I haven't isolated the exact sequence to reproduce it. But I have seen it on two occasions. Now I'm testing on top of the develop branch. So there could be some irregularity in switching to my testing branch that includes the newer jmol.

This appears to be a problem on my end and not with the code. It's a consequence of how I was moving things to deal with the sagenb symlink when I changed branches for testing. If I remember to create a new symlink each time I change branches then I don't seem to observe the problem.



---

archive/issue_comments_205751.json:
```json
{
    "body": "<a id='comment:49'>Comment 49:</a>\nThere appears to be a general problem with the Chromium browser. When I click to make the 3D image live I get a dialog box with\n\n```\nJSmolCore.js: synchronous binary file transfer is required but not available\n```\nThen after clicking `OK` to remove the dialog box the 3D image disappears with no live jmol image. There is a `JSmol` icon at the lower right where the image should appear and right-clicking does produce the menu, but there is no image. The dialog box only appears once. Subsequent clicks to make other 3D images live produce no live jmols - the `JSmol` icon being all that's present.",
    "created_at": "2014-04-25T19:05:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205751",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:49'>Comment 49:</a>
There appears to be a general problem with the Chromium browser. When I click to make the 3D image live I get a dialog box with

```
JSmolCore.js: synchronous binary file transfer is required but not available
```
Then after clicking `OK` to remove the dialog box the 3D image disappears with no live jmol image. There is a `JSmol` icon at the lower right where the image should appear and right-clicking does produce the menu, but there is no image. The dialog box only appears once. Subsequent clicks to make other 3D images live produce no live jmols - the `JSmol` icon being all that's present.



---

archive/issue_comments_205752.json:
```json
{
    "body": "<a id='comment:50'>Comment 50:</a>\nThis is a general problem with all Webkit browsers operating on localhost.  This is because they will not allow any connections to network servers.  Since webkit browsers cannot handle binary files in javascript, JSmol sends it to a server to convert to base64 encoded ascii.  For testing I've been using the server that Bob Hanson has set up for the Jmol community.  Ideally, we should include something in the notebook that can handle these .php requests.  When I set up real servers I change the address of the php call and use the Apache that I proxy my Sage server behind.  I simply do not test locally in Webkit browsers.  I do all local testing in Firefox and then set up a beta server on the network to double check Webkit browsers and when I'm feeling like a masochist IE (I'm so fed up with IE, I usually just ignore it).\n\nReplying to [@strogdon](#comment%3A49):\n> There appears to be a general problem with the Chromium browser. When I click to make the 3D image live I get a dialog box with\n> \n> ```\n> JSmolCore.js: synchronous binary file transfer is required but not available\n> ```\n> Then after clicking `OK` to remove the dialog box the 3D image disappears with no live jmol image. There is a `JSmol` icon at the lower right where the image should appear and right-clicking does produce the menu, but there is no image. The dialog box only appears once. Subsequent clicks to make other 3D images live produce no live jmols - the `JSmol` icon being all that's present.",
    "created_at": "2014-04-25T20:46:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205752",
    "user": "https://github.com/gutow"
}
```

<a id='comment:50'>Comment 50:</a>
This is a general problem with all Webkit browsers operating on localhost.  This is because they will not allow any connections to network servers.  Since webkit browsers cannot handle binary files in javascript, JSmol sends it to a server to convert to base64 encoded ascii.  For testing I've been using the server that Bob Hanson has set up for the Jmol community.  Ideally, we should include something in the notebook that can handle these .php requests.  When I set up real servers I change the address of the php call and use the Apache that I proxy my Sage server behind.  I simply do not test locally in Webkit browsers.  I do all local testing in Firefox and then set up a beta server on the network to double check Webkit browsers and when I'm feeling like a masochist IE (I'm so fed up with IE, I usually just ignore it).

Replying to [@strogdon](#comment%3A49):
> There appears to be a general problem with the Chromium browser. When I click to make the 3D image live I get a dialog box with
> 
> ```
> JSmolCore.js: synchronous binary file transfer is required but not available
> ```
> Then after clicking `OK` to remove the dialog box the 3D image disappears with no live jmol image. There is a `JSmol` icon at the lower right where the image should appear and right-clicking does produce the menu, but there is no image. The dialog box only appears once. Subsequent clicks to make other 3D images live produce no live jmols - the `JSmol` icon being all that's present.



---

archive/issue_comments_205753.json:
```json
{
    "body": "<a id='comment:51'>Comment 51:</a>\n> up with IE, I usually just ignore it).\n\nApparently even the [US and UK governments now want us to ignore it](http://www.cnet.com/news/stop-using-ie-until-bug-is-fixed-says-us/).\n\n\n---\n\nRe: Webkit: But ... does that mean Chrome and Safari can't do this right?  Or is the version/fork of WK that Chrome uses not susceptible?  I just got this going, won't have time to actually test it tonight, but just asking.",
    "created_at": "2014-04-29T03:10:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205753",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:51'>Comment 51:</a>
> up with IE, I usually just ignore it).

Apparently even the [US and UK governments now want us to ignore it](http://www.cnet.com/news/stop-using-ie-until-bug-is-fixed-says-us/).


---

Re: Webkit: But ... does that mean Chrome and Safari can't do this right?  Or is the version/fork of WK that Chrome uses not susceptible?  I just got this going, won't have time to actually test it tonight, but just asking.



---

archive/issue_comments_205754.json:
```json
{
    "body": "<a id='comment:52'>Comment 52:</a>\nReplying to [@kcrisman](#comment%3A51): \n> Re: Webkit: But ... does that mean Chrome and Safari can't do this right?  Or is the version/fork of WK that Chrome uses not susceptible?  I just got this going, won't have time to actually test it tonight, but just asking.\n\nNo, the webkit browsers work when things are set up on a real webserver.  Then the javascript can send stuff to a different server for conversion.  As I said, it would be nice to embed the conversion in the Notebook server, but since any realistic server will be proxied behind something like Apache that can handle the existing .php script it is probably better to just put that on the server and change the path for the .php script to point to the local Apache server and not the Jmol community server.  Should an item be added to the administrative settings page of the notebook?",
    "created_at": "2014-04-29T15:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205754",
    "user": "https://github.com/gutow"
}
```

<a id='comment:52'>Comment 52:</a>
Replying to [@kcrisman](#comment%3A51): 
> Re: Webkit: But ... does that mean Chrome and Safari can't do this right?  Or is the version/fork of WK that Chrome uses not susceptible?  I just got this going, won't have time to actually test it tonight, but just asking.

No, the webkit browsers work when things are set up on a real webserver.  Then the javascript can send stuff to a different server for conversion.  As I said, it would be nice to embed the conversion in the Notebook server, but since any realistic server will be proxied behind something like Apache that can handle the existing .php script it is probably better to just put that on the server and change the path for the .php script to point to the local Apache server and not the Jmol community server.  Should an item be added to the administrative settings page of the notebook?



---

archive/issue_comments_205755.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nThe issue with the JSmol catching clicks for things below the active 3-D canvas has been fixed.  This is an upstream bug, so I am trying to get it pushed through the upstream Jmol releases, rather than have to include a patch.  Hopefully, this will only take a few days.",
    "created_at": "2014-04-29T15:20:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205755",
    "user": "https://github.com/gutow"
}
```

<a id='comment:53'>Comment 53:</a>
The issue with the JSmol catching clicks for things below the active 3-D canvas has been fixed.  This is an upstream bug, so I am trying to get it pushed through the upstream Jmol releases, rather than have to include a patch.  Hopefully, this will only take a few days.



---

archive/issue_comments_205756.json:
```json
{
    "body": "<a id='comment:54'>Comment 54:</a>\n> > Re: Webkit: But ... does that mean Chrome and Safari can't do this right?  Or is the version/fork of WK that Chrome uses not susceptible?  I just got this going, won't have time to actually test it tonight, but just asking.\n\n> \n> No, the webkit browsers work when things are set up on a real webserver.  Then the javascript can send stuff to a different server for conversion.  As I said, it would be nice to embed the conversion in the Notebook server, but since any realistic server will be proxied behind something like Apache that can handle the existing .php script it is probably better to just put that on the server and change the path for the .php script to point to the local Apache server and not the Jmol community server.  Should an item be added to the administrative settings page of the notebook?\n\nWhat I meant was that many people (including myself) use the notebook locally on localhost.  That is just a standard use case.  I *also* use it remotely on a \"real webserver\", but a lot of times I'm just trying something and want to do it on my own computer.  Are you saying that JSmol doesn't work in this case unless you are using Firefox?  That would be pretty unfortunate, especially since Chrome has such domination in terms of browser share now.\n\nThat said, switching between this branch and the \"usual\" one has caused some horrible problem with my Sage (probably my own error somewhere) so I can't test this yet, even though I thought I had it set up last night :(",
    "created_at": "2014-04-29T15:37:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205756",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:54'>Comment 54:</a>
> > Re: Webkit: But ... does that mean Chrome and Safari can't do this right?  Or is the version/fork of WK that Chrome uses not susceptible?  I just got this going, won't have time to actually test it tonight, but just asking.

> 
> No, the webkit browsers work when things are set up on a real webserver.  Then the javascript can send stuff to a different server for conversion.  As I said, it would be nice to embed the conversion in the Notebook server, but since any realistic server will be proxied behind something like Apache that can handle the existing .php script it is probably better to just put that on the server and change the path for the .php script to point to the local Apache server and not the Jmol community server.  Should an item be added to the administrative settings page of the notebook?

What I meant was that many people (including myself) use the notebook locally on localhost.  That is just a standard use case.  I *also* use it remotely on a "real webserver", but a lot of times I'm just trying something and want to do it on my own computer.  Are you saying that JSmol doesn't work in this case unless you are using Firefox?  That would be pretty unfortunate, especially since Chrome has such domination in terms of browser share now.

That said, switching between this branch and the "usual" one has caused some horrible problem with my Sage (probably my own error somewhere) so I can't test this yet, even though I thought I had it set up last night :(



---

archive/issue_comments_205757.json:
```json
{
    "body": "<a id='comment:55'>Comment 55:</a>\n> > > > There are certain situations, and I haven't been able to isolate the sequence of things, where I'm unable to evaluate a cell - both with the mouse and from the keyboard. At these times I'm also unable to rename the worksheet. \n\n> > > Does this problem only occur when using interacts?  I found an interact that has controls below where the applet is drawn and am seeing some funny things about who gets the click.  I've also seen an issue with interacts not moving out of the way to show the evaluate button.  That is probably a css issue that is separate from Jmol/JSmol.\n\n> > This issue from my end is not associated with using interacts. I haven't isolated the exact sequence to reproduce it. But I have seen it on two occasions. Now I'm testing on top of the develop branch. So there could be some irregularity in switching to my testing branch that includes the newer jmol.\n\n> This appears to be a problem on my end and not with the code. It's a consequence of how I was moving things to deal with the sagenb symlink when I changed branches for testing. If I remember to create a new symlink each time I change branches then I don't seem to observe the problem.\n\nI am now having the same problem you are, and presumably for the same reason (I had to recompile Sage).  I did recreate the symlink, though, and so I'm not sure why this isn't working right.  How exactly did you fix this, strogdon?\n\n---\n\nOther comments:\n* Bar for new cells occurs TWICE between cells now - once with your little icons, and once above that.  (Though that may be an artifact of something else I did.)\n* Bar color seems to have changed, and of course it's thicker.\n\n---\n\nI definitely am in the right version of sagenb - switched back and forth a couple times.  The evaluate button is gone and shift-enter does not work properly in the latest version of yours.  Weirdly, it did work before, so I assume something in the most recent one broke it?  But it presumably works for you, so I wonder what I did wrong... again, presumably similar to what strogdon did wrong before, but I'm stumped.",
    "created_at": "2014-04-29T17:42:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205757",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:55'>Comment 55:</a>
> > > > There are certain situations, and I haven't been able to isolate the sequence of things, where I'm unable to evaluate a cell - both with the mouse and from the keyboard. At these times I'm also unable to rename the worksheet. 

> > > Does this problem only occur when using interacts?  I found an interact that has controls below where the applet is drawn and am seeing some funny things about who gets the click.  I've also seen an issue with interacts not moving out of the way to show the evaluate button.  That is probably a css issue that is separate from Jmol/JSmol.

> > This issue from my end is not associated with using interacts. I haven't isolated the exact sequence to reproduce it. But I have seen it on two occasions. Now I'm testing on top of the develop branch. So there could be some irregularity in switching to my testing branch that includes the newer jmol.

> This appears to be a problem on my end and not with the code. It's a consequence of how I was moving things to deal with the sagenb symlink when I changed branches for testing. If I remember to create a new symlink each time I change branches then I don't seem to observe the problem.

I am now having the same problem you are, and presumably for the same reason (I had to recompile Sage).  I did recreate the symlink, though, and so I'm not sure why this isn't working right.  How exactly did you fix this, strogdon?

---

Other comments:
* Bar for new cells occurs TWICE between cells now - once with your little icons, and once above that.  (Though that may be an artifact of something else I did.)
* Bar color seems to have changed, and of course it's thicker.

---

I definitely am in the right version of sagenb - switched back and forth a couple times.  The evaluate button is gone and shift-enter does not work properly in the latest version of yours.  Weirdly, it did work before, so I assume something in the most recent one broke it?  But it presumably works for you, so I wonder what I did wrong... again, presumably similar to what strogdon did wrong before, but I'm stumped.



---

archive/issue_comments_205758.json:
```json
{
    "body": "<a id='comment:56'>Comment 56:</a>\nReplying to [@kcrisman](#comment%3A55):\n> > > > > There are certain situations, and I haven't been able to isolate the sequence of things, where I'm unable to evaluate a cell - both with the mouse and from the keyboard. At these times I'm also unable to rename the worksheet. \n\n> > > > Does this problem only occur when using interacts?  I found an interact that has controls below where the applet is drawn and am seeing some funny things about who gets the click.  I've also seen an issue with interacts not moving out of the way to show the evaluate button.  That is probably a css issue that is separate from Jmol/JSmol.\n\n> > > This issue from my end is not associated with using interacts. I haven't isolated the exact sequence to reproduce it. But I have seen it on two occasions. Now I'm testing on top of the develop branch. So there could be some irregularity in switching to my testing branch that includes the newer jmol.\n\n> > This appears to be a problem on my end and not with the code. It's a consequence of how I was moving things to deal with the sagenb symlink when I changed branches for testing. If I remember to create a new symlink each time I change branches then I don't seem to observe the problem.\n\n> I am now having the same problem you are, and presumably for the same reason (I had to recompile Sage).  I did recreate the symlink, though, and so I'm not sure why this isn't working right.  How exactly did you fix this, strogdon?\n> \n\nWell, it could have been coincidental. The last time I checked things were OK. When I change to my sagenb testing branch I have to remove and recreate the sagenb symlink and then type *make* to make sure the new jmol is used. It seemed also that the notebook caches things which occasionally gave aberrant behavior? Closing and restarting the notebook seemed to fix that. Switching back to the develop branch never seemed to be a problem. And yes, I did something that forced a *make distclean && make* - though I can't remember what it was.",
    "created_at": "2014-04-29T18:41:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205758",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:56'>Comment 56:</a>
Replying to [@kcrisman](#comment%3A55):
> > > > > There are certain situations, and I haven't been able to isolate the sequence of things, where I'm unable to evaluate a cell - both with the mouse and from the keyboard. At these times I'm also unable to rename the worksheet. 

> > > > Does this problem only occur when using interacts?  I found an interact that has controls below where the applet is drawn and am seeing some funny things about who gets the click.  I've also seen an issue with interacts not moving out of the way to show the evaluate button.  That is probably a css issue that is separate from Jmol/JSmol.

> > > This issue from my end is not associated with using interacts. I haven't isolated the exact sequence to reproduce it. But I have seen it on two occasions. Now I'm testing on top of the develop branch. So there could be some irregularity in switching to my testing branch that includes the newer jmol.

> > This appears to be a problem on my end and not with the code. It's a consequence of how I was moving things to deal with the sagenb symlink when I changed branches for testing. If I remember to create a new symlink each time I change branches then I don't seem to observe the problem.

> I am now having the same problem you are, and presumably for the same reason (I had to recompile Sage).  I did recreate the symlink, though, and so I'm not sure why this isn't working right.  How exactly did you fix this, strogdon?
> 

Well, it could have been coincidental. The last time I checked things were OK. When I change to my sagenb testing branch I have to remove and recreate the sagenb symlink and then type *make* to make sure the new jmol is used. It seemed also that the notebook caches things which occasionally gave aberrant behavior? Closing and restarting the notebook seemed to fix that. Switching back to the develop branch never seemed to be a problem. And yes, I did something that forced a *make distclean && make* - though I can't remember what it was.



---

archive/issue_comments_205759.json:
```json
{
    "body": "<a id='comment:57'>Comment 57:</a>\nI'm trying to recall what had given me issues when testing this ticket that prompted a rebuilding of Sage. It was perhaps that I was testing on top of the develop branch and not on top of the master. Doing\n\n`./sage -dev checkout --ticket 16003`\n\nmay have been the problem, although I'm not sure. Anyway, to test on top of the develop branch I now do the following and as long as I recreate the sagenb symlink I haven't had a problem testing and then switching back to the develop branch:\n\n* git branch testingbranch\n* git checkout testingbranch\n* git fetch trac u/gutow/ticket/16003\n* git merge FETCH_HEAD\n\nThis creates testingbranch, changes to that branch and adds ticket #16003 on top of it, i.e. git log gives:\n\n```\ncommit 55a76eb8ca5199d0db37a4a55267396be503ad2e\nMerge: 2001f33 a89ac4b\nAuthor: Steven Trogdon \nDate:   Thu Apr 24 19:46:43 2014 -0500\n\n    Merge branch 'u/gutow/ticket/16003' of trac.sagemath.org:sage into jmol_javascript\n\ncommit 2001f33f54528f942ec7ff63eddeba890a9ba274\nAuthor: Volker Braun <vbraun.name@gmail.com>\nDate:   Wed Apr 23 00:03:12 2014 +0200\n\n    Updated Sage version to 6.2.rc0\n```\n\nThen after (re)creating the sagenb symlink and typing make, I'm ready to test after the make completes.",
    "created_at": "2014-04-30T18:54:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205759",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:57'>Comment 57:</a>
I'm trying to recall what had given me issues when testing this ticket that prompted a rebuilding of Sage. It was perhaps that I was testing on top of the develop branch and not on top of the master. Doing

`./sage -dev checkout --ticket 16003`

may have been the problem, although I'm not sure. Anyway, to test on top of the develop branch I now do the following and as long as I recreate the sagenb symlink I haven't had a problem testing and then switching back to the develop branch:

* git branch testingbranch
* git checkout testingbranch
* git fetch trac u/gutow/ticket/16003
* git merge FETCH_HEAD

This creates testingbranch, changes to that branch and adds ticket #16003 on top of it, i.e. git log gives:

```
commit 55a76eb8ca5199d0db37a4a55267396be503ad2e
Merge: 2001f33 a89ac4b
Author: Steven Trogdon 
Date:   Thu Apr 24 19:46:43 2014 -0500

    Merge branch 'u/gutow/ticket/16003' of trac.sagemath.org:sage into jmol_javascript

commit 2001f33f54528f942ec7ff63eddeba890a9ba274
Author: Volker Braun <vbraun.name@gmail.com>
Date:   Wed Apr 23 00:03:12 2014 +0200

    Updated Sage version to 6.2.rc0
```

Then after (re)creating the sagenb symlink and typing make, I'm ready to test after the make completes.



---

archive/issue_events_203373.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203373"
}
```



---

archive/issue_events_203374.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203374"
}
```



---

archive/issue_events_203375.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203375"
}
```



---

archive/issue_events_203376.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203376"
}
```



---

archive/issue_comments_205760.json:
```json
{
    "body": "<a id='comment:60'>Comment 60:</a>\nSee also [#12212 comment:54](https://github.com/sagemath/sage/issues/12212#comment:54) .",
    "created_at": "2014-08-11T08:54:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205760",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:60'>Comment 60:</a>
See also [#12212 comment:54](https://github.com/sagemath/sage/issues/12212#comment:54) .



---

archive/issue_comments_205761.json:
```json
{
    "body": "<a id='comment:61'>Comment 61:</a>\n> The issue with the JSmol catching clicks for things below the active 3-D canvas has been fixed.  This is an upstream bug, so I am trying to get it pushed through the upstream Jmol releases, rather than have to include a patch.  Hopefully, this will only take a few days.\n\nGiven [#16003 comment:24](https://github.com/sagemath/sage/issues/16003#comment:24), it seems like Jmol has had some changes since then - is that fix in there as well?  Then maybe we can take care of #12212 and these two in one fell swoop.\n\nBut first I'm going to look at https://github.com/sagemath/sagenb/pull/204, even if that means slightly updating the commits here.  Making things easier for development is good.",
    "created_at": "2014-08-20T17:29:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205761",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:61'>Comment 61:</a>
> The issue with the JSmol catching clicks for things below the active 3-D canvas has been fixed.  This is an upstream bug, so I am trying to get it pushed through the upstream Jmol releases, rather than have to include a patch.  Hopefully, this will only take a few days.

Given [#16003 comment:24](https://github.com/sagemath/sage/issues/16003#comment:24), it seems like Jmol has had some changes since then - is that fix in there as well?  Then maybe we can take care of #12212 and these two in one fell swoop.

But first I'm going to look at https://github.com/sagemath/sagenb/pull/204, even if that means slightly updating the commits here.  Making things easier for development is good.



---

archive/issue_comments_205762.json:
```json
{
    "body": "<a id='comment:62'>Comment 62:</a>\n> > The issue with the JSmol catching clicks for things below the active 3-D canvas has been fixed.  This is an upstream bug, so I am trying to get it pushed through the upstream Jmol releases, rather than have to include a patch.  Hopefully, this will only take a few days.\n\n> Given [#16003 comment:24](https://github.com/sagemath/sage/issues/16003#comment:24), it seems like Jmol has had some changes since then - is that fix in there as well?  Then maybe we can take care of #12212 and these two in one fell swoop.\n> \n> But first I'm going to look at https://github.com/sagemath/sagenb/pull/204, even if that means slightly updating the commits here.  Making things easier for development is good.\n\nThis will need slight rebase due to that, indeed.\n\nMore to the point, though, I would like to see this get in Sage, but there is just too much to look at all at once.  I recommend splitting into the following pieces.\n* Whatever is needed in terms of reorganization so that #16003 (possibly with an even more updated jmol) can get in, since it breaks such plots in the notebook.  It seems like https://github.com/gutow/sagenb/commit/c730aa4cf563c51e7f1f8ca92899bf515d365030 is probably most of what is needed for that - is that correct?  I don't believe this commit \"commits\" us to javascript quite yet.  (Probably we don't even need to remove a lot of those scripts either, we could just not use them...)\n* Update jquery in notebook and whatever changes need to happen with that.  Several of the commits here are definitely cherry-pickable for that, I think.  (This can include the live-3d checkbox, very useful.)\n* Enable/switch to js from java plots.\n\nOtherwise I think there are just too many moving parts to do this without breaking something important somewhere...\n\nBut I am \"commit\"ted to doing what I can on this - which should be a fair amount in the next few weeks, if Jonathan or others can help me identify what needs to happen to put this into practice.",
    "created_at": "2014-08-21T16:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205762",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:62'>Comment 62:</a>
> > The issue with the JSmol catching clicks for things below the active 3-D canvas has been fixed.  This is an upstream bug, so I am trying to get it pushed through the upstream Jmol releases, rather than have to include a patch.  Hopefully, this will only take a few days.

> Given [#16003 comment:24](https://github.com/sagemath/sage/issues/16003#comment:24), it seems like Jmol has had some changes since then - is that fix in there as well?  Then maybe we can take care of #12212 and these two in one fell swoop.
> 
> But first I'm going to look at https://github.com/sagemath/sagenb/pull/204, even if that means slightly updating the commits here.  Making things easier for development is good.

This will need slight rebase due to that, indeed.

More to the point, though, I would like to see this get in Sage, but there is just too much to look at all at once.  I recommend splitting into the following pieces.
* Whatever is needed in terms of reorganization so that #16003 (possibly with an even more updated jmol) can get in, since it breaks such plots in the notebook.  It seems like https://github.com/gutow/sagenb/commit/c730aa4cf563c51e7f1f8ca92899bf515d365030 is probably most of what is needed for that - is that correct?  I don't believe this commit "commits" us to javascript quite yet.  (Probably we don't even need to remove a lot of those scripts either, we could just not use them...)
* Update jquery in notebook and whatever changes need to happen with that.  Several of the commits here are definitely cherry-pickable for that, I think.  (This can include the live-3d checkbox, very useful.)
* Enable/switch to js from java plots.

Otherwise I think there are just too many moving parts to do this without breaking something important somewhere...

But I am "commit"ted to doing what I can on this - which should be a fair amount in the next few weeks, if Jonathan or others can help me identify what needs to happen to put this into practice.



---

archive/issue_comments_205763.json:
```json
{
    "body": "<a id='comment:63'>Comment 63:</a>\n> I recommend splitting into the following pieces.\n\nUpdated:\n> Whatever is needed in terms of reorganization so that #16003 (possibly with an even more updated jmol) can get in, since it breaks such plots in the notebook.\n\n* It turned out I needed everything from the first two commits except the stuff specifically about the live 3d checkbox.  But jmols work again with all of that.  I think they are even js jmols...\n\n* Second (or third), live 3d checkbox.\n\n> Update jquery in notebook and whatever changes need to happen with that.\n\n* Still needed.\n\n> Enable/switch to js from java plots.\n\n* Or more precisely, enable possibility of both by preference. This may end up being hard.",
    "created_at": "2014-08-22T17:48:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205763",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:63'>Comment 63:</a>
> I recommend splitting into the following pieces.

Updated:
> Whatever is needed in terms of reorganization so that #16003 (possibly with an even more updated jmol) can get in, since it breaks such plots in the notebook.

* It turned out I needed everything from the first two commits except the stuff specifically about the live 3d checkbox.  But jmols work again with all of that.  I think they are even js jmols...

* Second (or third), live 3d checkbox.

> Update jquery in notebook and whatever changes need to happen with that.

* Still needed.

> Enable/switch to js from java plots.

* Or more precisely, enable possibility of both by preference. This may end up being hard.



---

archive/issue_comments_205764.json:
```json
{
    "body": "<a id='comment:64'>Comment 64:</a>\n> > > Re: Webkit: But ... does that mean Chrome and Safari can't do this right?  Or is \n\n> > No, the webkit browsers work when things are set up on a real webserver.  Then the \n\n> What I meant was that many people (including myself) use the notebook locally on localhost.  That is just a standard use case.  I *also* use it remotely on a \"real webserver\", but a lot of times I'm just trying something and want to do it on my own computer.  Are you saying that JSmol doesn't work in this case unless you are using Firefox?  That would be pretty unfortunate, especially since Chrome has such domination in terms of browser share now.\n\nYeah, I can confirm that at least the initial two commits have the following behavior on localhost (the way MOST users will interact with the notebook in their personal installations):\n* Safari 5 (old) seems to work fine\n* FF 31 seems to be ok\n* Chrome 34ish has the behavior strogdon reported.\nThis would be really tragic because I think we're really close here.  I don't want to tell people \"just don't use Chrome\" since it has a large market share and has a much better reputation for compliance with standards than the also-large IE.",
    "created_at": "2014-08-25T16:26:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205764",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:64'>Comment 64:</a>
> > > Re: Webkit: But ... does that mean Chrome and Safari can't do this right?  Or is 

> > No, the webkit browsers work when things are set up on a real webserver.  Then the 

> What I meant was that many people (including myself) use the notebook locally on localhost.  That is just a standard use case.  I *also* use it remotely on a "real webserver", but a lot of times I'm just trying something and want to do it on my own computer.  Are you saying that JSmol doesn't work in this case unless you are using Firefox?  That would be pretty unfortunate, especially since Chrome has such domination in terms of browser share now.

Yeah, I can confirm that at least the initial two commits have the following behavior on localhost (the way MOST users will interact with the notebook in their personal installations):
* Safari 5 (old) seems to work fine
* FF 31 seems to be ok
* Chrome 34ish has the behavior strogdon reported.
This would be really tragic because I think we're really close here.  I don't want to tell people "just don't use Chrome" since it has a large market share and has a much better reputation for compliance with standards than the also-large IE.



---

archive/issue_comments_205765.json:
```json
{
    "body": "<a id='comment:65'>Comment 65:</a>\nUpdate: I was able to make some progress with restoring the \"usual\" add new cell behavior without using the new icon things, thanks to Jonathan's hunting down the `e.shiftKey` business.  I think adding icons is good but needs to be part of a different thing - just getting this all working is a big enough job without thinking about how they should fit into the scheme, what icons are 'obvious enough' (this is the problem with the default Jsmol activation icon).\n\nBut I do have to say that even though there aren't as many options for the Jsmols because of the removal of the widgets, maybe one doesn't need to have both right away.   They \"feel\" like Jmols.  So maybe we just go straight to JS because even if it's a little slower than the Java, it isn't that bad for simple plots and Java was pretty slow for the complex ones also - and this actually works.\n\n\n---\n\nAnother thing I can't figure out is why finding the right place to right-click to get the menus (in this case default) is like finding a place to take blood on someone at the hospital with really thin veins.  It's possible commit c3659b35 will help with this.",
    "created_at": "2014-08-25T19:05:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205765",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:65'>Comment 65:</a>
Update: I was able to make some progress with restoring the "usual" add new cell behavior without using the new icon things, thanks to Jonathan's hunting down the `e.shiftKey` business.  I think adding icons is good but needs to be part of a different thing - just getting this all working is a big enough job without thinking about how they should fit into the scheme, what icons are 'obvious enough' (this is the problem with the default Jsmol activation icon).

But I do have to say that even though there aren't as many options for the Jsmols because of the removal of the widgets, maybe one doesn't need to have both right away.   They "feel" like Jmols.  So maybe we just go straight to JS because even if it's a little slower than the Java, it isn't that bad for simple plots and Java was pretty slow for the complex ones also - and this actually works.


---

Another thing I can't figure out is why finding the right place to right-click to get the menus (in this case default) is like finding a place to take blood on someone at the hospital with really thin veins.  It's possible commit c3659b35 will help with this.



---

archive/issue_comments_205766.json:
```json
{
    "body": "Upstream: **Reported upstream. Developers acknowledge bug.**",
    "created_at": "2014-08-26T01:24:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205766",
    "user": "https://github.com/kcrisman"
}
```

Upstream: **Reported upstream. Developers acknowledge bug.**



---

archive/issue_comments_205767.json:
```json
{
    "body": "<a id='comment:66'>Comment 66:</a>\nOkay, actual status - on Mac:\n* Safari works fine.  (But don't have Safari > 5 on this machine.)\n* FF works nice, but the popup menu just won't appear.  (Might be a mistake I made.)\n* Chrome won't show, but the popup menu *does* appear.\n\nI have put an updated version of this at https://github.com/kcrisman/sagenb/tree/jsmol though the only substantive difference with Jonathan's branch are:\n* Fixed very small bug introduced for viewing documentation\n* Commented out widget code rather than deleted it\n* Did not add new icons etc.\nso one can still use either branch for testing, and I can easily make a pull request once it's set.\n\nHopefully I kept as many of his commits as possible as well.  Now that I know that *any* click on a Jsmol will activate it, that's not even that bad to necessarily need the message - I thought one had to click precisely on the little mysterious icon, which would indeed be confusing.\n\nSo needs testing by someone other than me again - but Jonathan would be a great tester now!  strogdon or chapoton or Andrey or someone perhaps can do so... though this is probably the worst time of year for it!\n\nFinally, from [the Jmol wiki](http://wiki.jmol.org/index.php/Jmol_JavaScript_Object):\n> Reading binary files in some browsers and saving images and Jmol states in all browsers do require a server-side PHP script.\n\nNot being able to save either is a bummer.  I'm going to look into this php file thingie a little bit.",
    "created_at": "2014-08-26T01:24:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205767",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:66'>Comment 66:</a>
Okay, actual status - on Mac:
* Safari works fine.  (But don't have Safari > 5 on this machine.)
* FF works nice, but the popup menu just won't appear.  (Might be a mistake I made.)
* Chrome won't show, but the popup menu *does* appear.

I have put an updated version of this at https://github.com/kcrisman/sagenb/tree/jsmol though the only substantive difference with Jonathan's branch are:
* Fixed very small bug introduced for viewing documentation
* Commented out widget code rather than deleted it
* Did not add new icons etc.
so one can still use either branch for testing, and I can easily make a pull request once it's set.

Hopefully I kept as many of his commits as possible as well.  Now that I know that *any* click on a Jsmol will activate it, that's not even that bad to necessarily need the message - I thought one had to click precisely on the little mysterious icon, which would indeed be confusing.

So needs testing by someone other than me again - but Jonathan would be a great tester now!  strogdon or chapoton or Andrey or someone perhaps can do so... though this is probably the worst time of year for it!

Finally, from [the Jmol wiki](http://wiki.jmol.org/index.php/Jmol_JavaScript_Object):
> Reading binary files in some browsers and saving images and Jmol states in all browsers do require a server-side PHP script.

Not being able to save either is a bummer.  I'm going to look into this php file thingie a little bit.



---

archive/issue_comments_205768.json:
```json
{
    "body": "<a id='comment:67'>Comment 67:</a>\n> Finally, from [the Jmol wiki](http://wiki.jmol.org/index.php/Jmol_JavaScript_Object):\n> > Reading binary files in some browsers and saving images and Jmol states in all browsers do require a server-side PHP script.\n\n> Not being able to save either is a bummer.  I'm going to look into this php file thingie a little bit.\n\nThis is so not my area of expertise... I think we'd have to assume someone has php on their box to do this, and I don't think we need to add *another* upstream dependency to Sage!  Macs would come with this built in, though, maybe most Linux boxes as well?\n\nAnyway, see [here](https://twistedmatrix.com/documents/14.0.0/web/howto/using-twistedweb.html#serving-php-perl-cgi) for how to get twisted to do this - well a very bare-bones thing, and see also possibility of [this problem](http://stackoverflow.com/questions/14541813/python-twisted-render-php).",
    "created_at": "2014-08-26T01:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205768",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:67'>Comment 67:</a>
> Finally, from [the Jmol wiki](http://wiki.jmol.org/index.php/Jmol_JavaScript_Object):
> > Reading binary files in some browsers and saving images and Jmol states in all browsers do require a server-side PHP script.

> Not being able to save either is a bummer.  I'm going to look into this php file thingie a little bit.

This is so not my area of expertise... I think we'd have to assume someone has php on their box to do this, and I don't think we need to add *another* upstream dependency to Sage!  Macs would come with this built in, though, maybe most Linux boxes as well?

Anyway, see [here](https://twistedmatrix.com/documents/14.0.0/web/howto/using-twistedweb.html#serving-php-perl-cgi) for how to get twisted to do this - well a very bare-bones thing, and see also possibility of [this problem](http://stackoverflow.com/questions/14541813/python-twisted-render-php).



---

archive/issue_comments_205769.json:
```json
{
    "body": "<a id='comment:68'>Comment 68:</a>\nTo serve the jsmol files (and thus work with the chrome sandbox forbidding direct filesystem access) you just have to add \n\n```\n    self.add_static_path('/java/jsmol', os.path.join(os.environ[\"SAGE_ROOT\"],\"local\",\"share\",\"jsmol\"))\n```\nto `flask_version/base.py` in the notebook right under the corresponding jmol line. Files will then be at http://localhost/java/jsmol/\n\nSaving files back from the browser requires a simple http POST handler, see http://flask.pocoo.org/docs/0.10/patterns/fileuploads/ for an example.",
    "created_at": "2014-09-21T20:56:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205769",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:68'>Comment 68:</a>
To serve the jsmol files (and thus work with the chrome sandbox forbidding direct filesystem access) you just have to add 

```
    self.add_static_path('/java/jsmol', os.path.join(os.environ["SAGE_ROOT"],"local","share","jsmol"))
```
to `flask_version/base.py` in the notebook right under the corresponding jmol line. Files will then be at http://localhost/java/jsmol/

Saving files back from the browser requires a simple http POST handler, see http://flask.pocoo.org/docs/0.10/patterns/fileuploads/ for an example.



---

archive/issue_comments_205770.json:
```json
{
    "body": "<a id='comment:69'>Comment 69:</a>\nOh, that would be nice.",
    "created_at": "2014-09-22T13:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205770",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:69'>Comment 69:</a>
Oh, that would be nice.



---

archive/issue_comments_205771.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,26 +6,11 @@\n \n One added feature is a \"load 3-D live\" check box that can be used to make a worksheet load 3-D plots live when the worksheet is opened.  For worksheets with a single interact or only 1-2 plots this should be OK.\n \n-*This requires installation of an updated Jmol.spkg.  See ticket #16003.\n-\n-Sorry for the github commit, but I could not get a notebook branch working in Sage. \n-* https://github.com/gutow/sagenb/commit/c730aa4cf563c51e7f1f8ca92899bf515d365030\n-* https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958\n-* https://github.com/gutow/sagenb/commit/0242d2f495e4be79090e4aae83b4dade1d9a0f26\n-* https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2\n-* https://github.com/gutow/sagenb/commit/62a3775979c93b09def7487f9c4599554098b5c6\n-* https://github.com/gutow/sagenb/commit/c3659b35e3595605cbb01289f1279195cf0b8653\n-* https://github.com/gutow/sagenb/commit/2e4fd33d6ad88485b9c80e508917ccc976878561\n+This requires installation of an updated Jmol.spkg.  See ticket #16003.\n+Will require a new sagenb release: [INSERT HERE]\n \n How to test:\n-1. Clone the git repository https://github.com/gutow/sagenb to anywhere convenient on your system.\n-2. Do the following to make sage use the new repository.\n+1. Switch Sage to #16003 and run `sage -f jmol` to install the new jmol.\n+2. Clone the git repository https://github.com/vbraun/sagenb.git to anywhere convenient on your system.\n+3. From within the sagenb repository run `sage -python setup.py install`\n \n-```\n-$cd SAGE_ROOT/local/lib/python/site-packages/sagenb-0.10.8.2-py2.7.egg\n-$mv sagenb sagenb_old\n-$ln -s <path to the sagenb directory inside your new repository> sagenb \n-```\n-\n-In my case the symlink looks like \n-`ln -s ~/git/sagenb/sagenb sagenb`\n``````\n",
    "created_at": "2014-10-05T14:37:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205771",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,26 +6,11 @@
 
 One added feature is a "load 3-D live" check box that can be used to make a worksheet load 3-D plots live when the worksheet is opened.  For worksheets with a single interact or only 1-2 plots this should be OK.
 
-*This requires installation of an updated Jmol.spkg.  See ticket #16003.
-
-Sorry for the github commit, but I could not get a notebook branch working in Sage. 
-* https://github.com/gutow/sagenb/commit/c730aa4cf563c51e7f1f8ca92899bf515d365030
-* https://github.com/gutow/sagenb/commit/7ce561653aa3ffbb28eb36f487be381227018958
-* https://github.com/gutow/sagenb/commit/0242d2f495e4be79090e4aae83b4dade1d9a0f26
-* https://github.com/gutow/sagenb/commit/7aacbfa3957f237edbea448d492f7c2b7d34cec2
-* https://github.com/gutow/sagenb/commit/62a3775979c93b09def7487f9c4599554098b5c6
-* https://github.com/gutow/sagenb/commit/c3659b35e3595605cbb01289f1279195cf0b8653
-* https://github.com/gutow/sagenb/commit/2e4fd33d6ad88485b9c80e508917ccc976878561
+This requires installation of an updated Jmol.spkg.  See ticket #16003.
+Will require a new sagenb release: [INSERT HERE]
 
 How to test:
-1. Clone the git repository https://github.com/gutow/sagenb to anywhere convenient on your system.
-2. Do the following to make sage use the new repository.
+1. Switch Sage to #16003 and run `sage -f jmol` to install the new jmol.
+2. Clone the git repository https://github.com/vbraun/sagenb.git to anywhere convenient on your system.
+3. From within the sagenb repository run `sage -python setup.py install`
 
-```
-$cd SAGE_ROOT/local/lib/python/site-packages/sagenb-0.10.8.2-py2.7.egg
-$mv sagenb sagenb_old
-$ln -s <path to the sagenb directory inside your new repository> sagenb 
-```
-
-In my case the symlink looks like 
-`ln -s ~/git/sagenb/sagenb sagenb`
``````




---

archive/issue_comments_205772.json:
```json
{
    "body": "Changed author from **gutow** to **Jonathan Gutow, Volker Braun**",
    "created_at": "2014-10-05T14:37:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205772",
    "user": "https://github.com/vbraun"
}
```

Changed author from **gutow** to **Jonathan Gutow, Volker Braun**



---

archive/issue_comments_205773.json:
```json
{
    "body": "<a id='comment:70'>Comment 70:</a>\nGithub pull request: https://github.com/sagemath/sagenb/pull/241",
    "created_at": "2014-10-05T14:37:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205773",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:70'>Comment 70:</a>
Github pull request: https://github.com/sagemath/sagenb/pull/241



---

archive/issue_comments_205774.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,11 +6,10 @@\n \n One added feature is a \"load 3-D live\" check box that can be used to make a worksheet load 3-D plots live when the worksheet is opened.  For worksheets with a single interact or only 1-2 plots this should be OK.\n \n-This requires installation of an updated Jmol.spkg.  See ticket #16003.\n+This requires installation of an updated Jmol.spkg.  See ticket #17020.\n Will require a new sagenb release: [INSERT HERE]\n \n How to test:\n-1. Switch Sage to #16003 and run `sage -f jmol` to install the new jmol.\n+1. Switch Sage to #17020 and run `sage -f jmol` to install the new jmol.\n 2. Clone the git repository https://github.com/vbraun/sagenb.git to anywhere convenient on your system.\n 3. From within the sagenb repository run `sage -python setup.py install`\n-\n``````\n",
    "created_at": "2014-10-05T15:04:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205774",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,11 +6,10 @@
 
 One added feature is a "load 3-D live" check box that can be used to make a worksheet load 3-D plots live when the worksheet is opened.  For worksheets with a single interact or only 1-2 plots this should be OK.
 
-This requires installation of an updated Jmol.spkg.  See ticket #16003.
+This requires installation of an updated Jmol.spkg.  See ticket #17020.
 Will require a new sagenb release: [INSERT HERE]
 
 How to test:
-1. Switch Sage to #16003 and run `sage -f jmol` to install the new jmol.
+1. Switch Sage to #17020 and run `sage -f jmol` to install the new jmol.
 2. Clone the git repository https://github.com/vbraun/sagenb.git to anywhere convenient on your system.
 3. From within the sagenb repository run `sage -python setup.py install`
-
``````




---

archive/issue_comments_205775.json:
```json
{
    "body": "Changed dependencies from **#16003** to **#17020**",
    "created_at": "2014-10-05T15:04:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205775",
    "user": "https://github.com/vbraun"
}
```

Changed dependencies from **#16003** to **#17020**



---

archive/issue_comments_205776.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,5 +11,5 @@\n \n How to test:\n 1. Switch Sage to #17020 and run `sage -f jmol` to install the new jmol.\n-2. Clone the git repository https://github.com/vbraun/sagenb.git to anywhere convenient on your system.\n+2. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`\n 3. From within the sagenb repository run `sage -python setup.py install`\n``````\n",
    "created_at": "2014-10-05T15:08:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205776",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,5 +11,5 @@
 
 How to test:
 1. Switch Sage to #17020 and run `sage -f jmol` to install the new jmol.
-2. Clone the git repository https://github.com/vbraun/sagenb.git to anywhere convenient on your system.
+2. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`
 3. From within the sagenb repository run `sage -python setup.py install`
``````




---

archive/issue_comments_205777.json:
```json
{
    "body": "<a id='comment:73'>Comment 73:</a>\nI haven't tested extensively but things seem to now work here with firefox and chromium using oracle plugin; although it is slower that the old jmol. But that's to be expected.",
    "created_at": "2014-10-06T02:56:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205777",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:73'>Comment 73:</a>
I haven't tested extensively but things seem to now work here with firefox and chromium using oracle plugin; although it is slower that the old jmol. But that's to be expected.



---

archive/issue_comments_205778.json:
```json
{
    "body": "<a id='comment:74'>Comment 74:</a>\nWith Chromium when I click to make a 3-D image live I see lots of, I suppose chatter, in the terminal from which the notebook is spawned\n\n```\n[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------\n[HTTPChannel,1,127.0.0.1] DEBUG in worksheet [/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/sagenb-0.10.8.3-py2.7.egg/sagenb/flask_version/worksheet.py:673]:\n[HTTPChannel,1,127.0.0.1] JSmol call:  getRawDataFromDatabase\n[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------\n[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------\n[HTTPChannel,1,127.0.0.1] DEBUG in worksheet [/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/sagenb-0.10.8.3-py2.7.egg/sagenb/flask_version/worksheet.py:674]:\n[HTTPChannel,1,127.0.0.1] JSmol query: http://localhost:8080/home/admin/28/cells/12/sage0-size400.jmol\n[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------\n[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------\n[HTTPChannel,1,127.0.0.1] DEBUG in worksheet [/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/sagenb-0.10.8.3-py2.7.egg/sagenb/flask_version/worksheet.py:673]:\n[HTTPChannel,1,127.0.0.1] JSmol call:  getRawDataFromDatabase\n[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------\n[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------\n[HTTPChannel,1,127.0.0.1] DEBUG in worksheet [/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/sagenb-0.10.8.3-py2.7.egg/sagenb/flask_version/worksheet.py:674]:\n[HTTPChannel,1,127.0.0.1] JSmol query: http://localhost:8080/home/admin/28/cells/12/sage0-size400-391049111.jmol.zip\n[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------\n[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------\n[HTTPChannel,1,127.0.0.1] DEBUG in worksheet [/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/sagenb-0.10.8.3-py2.7.egg/sagenb/flask_version/worksheet.py:673]:\n[HTTPChannel,1,127.0.0.1] JSmol call:  getRawDataFromDatabase\n[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------\n[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------\n[HTTPChannel,1,127.0.0.1] DEBUG in worksheet [/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/sagenb-0.10.8.3-py2.7.egg/sagenb/flask_version/worksheet.py:674]:\n[HTTPChannel,1,127.0.0.1] JSmol query: http://localhost:8080/home/admin/28/cells/12/sage0-size400-391049111.jmol.zip\n[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------\n```\nthat comes from these lines in `flask_version/worksheet.py`\n\n```\n    current_app.logger.debug('JSmol call:  %s', call)\n    current_app.logger.debug('JSmol query: %s', query)\n```",
    "created_at": "2014-10-06T15:56:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205778",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:74'>Comment 74:</a>
With Chromium when I click to make a 3-D image live I see lots of, I suppose chatter, in the terminal from which the notebook is spawned

```
[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------
[HTTPChannel,1,127.0.0.1] DEBUG in worksheet [/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/sagenb-0.10.8.3-py2.7.egg/sagenb/flask_version/worksheet.py:673]:
[HTTPChannel,1,127.0.0.1] JSmol call:  getRawDataFromDatabase
[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------
[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------
[HTTPChannel,1,127.0.0.1] DEBUG in worksheet [/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/sagenb-0.10.8.3-py2.7.egg/sagenb/flask_version/worksheet.py:674]:
[HTTPChannel,1,127.0.0.1] JSmol query: http://localhost:8080/home/admin/28/cells/12/sage0-size400.jmol
[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------
[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------
[HTTPChannel,1,127.0.0.1] DEBUG in worksheet [/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/sagenb-0.10.8.3-py2.7.egg/sagenb/flask_version/worksheet.py:673]:
[HTTPChannel,1,127.0.0.1] JSmol call:  getRawDataFromDatabase
[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------
[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------
[HTTPChannel,1,127.0.0.1] DEBUG in worksheet [/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/sagenb-0.10.8.3-py2.7.egg/sagenb/flask_version/worksheet.py:674]:
[HTTPChannel,1,127.0.0.1] JSmol query: http://localhost:8080/home/admin/28/cells/12/sage0-size400-391049111.jmol.zip
[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------
[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------
[HTTPChannel,1,127.0.0.1] DEBUG in worksheet [/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/sagenb-0.10.8.3-py2.7.egg/sagenb/flask_version/worksheet.py:673]:
[HTTPChannel,1,127.0.0.1] JSmol call:  getRawDataFromDatabase
[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------
[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------
[HTTPChannel,1,127.0.0.1] DEBUG in worksheet [/64bitdev/storage/sage-git_develop/sage/local/lib/python2.7/site-packages/sagenb-0.10.8.3-py2.7.egg/sagenb/flask_version/worksheet.py:674]:
[HTTPChannel,1,127.0.0.1] JSmol query: http://localhost:8080/home/admin/28/cells/12/sage0-size400-391049111.jmol.zip
[HTTPChannel,1,127.0.0.1] --------------------------------------------------------------------------------
```
that comes from these lines in `flask_version/worksheet.py`

```
    current_app.logger.debug('JSmol call:  %s', call)
    current_app.logger.debug('JSmol query: %s', query)
```



---

archive/issue_comments_205779.json:
```json
{
    "body": "<a id='comment:75'>Comment 75:</a>\nI'm intentionally logging the calls as DEBUG since its quite possible that jsmol might choke on the interaction with the jsmol base64 relay. I don't know who enabled DEBUG-level logging by default, but that certainly wasn't me.",
    "created_at": "2014-10-06T16:11:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205779",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:75'>Comment 75:</a>
I'm intentionally logging the calls as DEBUG since its quite possible that jsmol might choke on the interaction with the jsmol base64 relay. I don't know who enabled DEBUG-level logging by default, but that certainly wasn't me.



---

archive/issue_comments_205780.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,6 +10,8 @@\n Will require a new sagenb release: [INSERT HERE]\n \n How to test:\n-1. Switch Sage to #17020 and run `sage -f jmol` to install the new jmol.\n-2. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`\n-3. From within the sagenb repository run `sage -python setup.py install`\n+1. Switch Sage to #17020\n+2. Download the repackaged Jmol from the link provide in #17020 and save the package in the \"upstream\" directory of your sage install.\n+1.run `sage -f jmol` to install the new jmol.\n+1. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`\n+2. From within the sagenb repository run `sage -python setup.py install`\n``````\n",
    "created_at": "2014-10-07T01:29:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205780",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,6 +10,8 @@
 Will require a new sagenb release: [INSERT HERE]
 
 How to test:
-1. Switch Sage to #17020 and run `sage -f jmol` to install the new jmol.
-2. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`
-3. From within the sagenb repository run `sage -python setup.py install`
+1. Switch Sage to #17020
+2. Download the repackaged Jmol from the link provide in #17020 and save the package in the "upstream" directory of your sage install.
+1.run `sage -f jmol` to install the new jmol.
+1. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`
+2. From within the sagenb repository run `sage -python setup.py install`
``````




---

archive/issue_comments_205781.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,6 +12,6 @@\n How to test:\n 1. Switch Sage to #17020\n 2. Download the repackaged Jmol from the link provide in #17020 and save the package in the \"upstream\" directory of your sage install.\n-1.run `sage -f jmol` to install the new jmol.\n-1. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`\n-2. From within the sagenb repository run `sage -python setup.py install`\n+3. run `sage -f jmol` to install the new jmol.\n+4. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`\n+5. From within the sagenb repository run `sage -python setup.py install`\n``````\n",
    "created_at": "2014-10-07T01:30:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205781",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,6 +12,6 @@
 How to test:
 1. Switch Sage to #17020
 2. Download the repackaged Jmol from the link provide in #17020 and save the package in the "upstream" directory of your sage install.
-1.run `sage -f jmol` to install the new jmol.
-1. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`
-2. From within the sagenb repository run `sage -python setup.py install`
+3. run `sage -f jmol` to install the new jmol.
+4. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`
+5. From within the sagenb repository run `sage -python setup.py install`
``````




---

archive/issue_comments_205782.json:
```json
{
    "body": "<a id='comment:78'>Comment 78:</a>\nCurrently traveling with a heavy workload, but this sounds great and I will test it next week.",
    "created_at": "2014-10-07T14:04:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205782",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:78'>Comment 78:</a>
Currently traveling with a heavy workload, but this sounds great and I will test it next week.



---

archive/issue_comments_205783.json:
```json
{
    "body": "Attachment: **[0001-Allow-JSmol-Jmol-drag-resizing-fix-custom-menu.patch.gz](https://github.com/sagemath/sage/files/ticket16004/0001-Allow-JSmol-Jmol-drag-resizing-fix-custom-menu.patch.gz)**\n\npatch to fix custom menu and resizing of 3-D display",
    "created_at": "2014-10-16T01:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205783",
    "user": "https://github.com/gutow"
}
```

Attachment: **[0001-Allow-JSmol-Jmol-drag-resizing-fix-custom-menu.patch.gz](https://github.com/sagemath/sage/files/ticket16004/0001-Allow-JSmol-Jmol-drag-resizing-fix-custom-menu.patch.gz)**

patch to fix custom menu and resizing of 3-D display



---

archive/issue_comments_205784.json:
```json
{
    "body": "patch to allow user to choose Java instead of javascript for 3-D viewing",
    "created_at": "2014-10-16T01:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205784",
    "user": "https://github.com/gutow"
}
```

patch to allow user to choose Java instead of javascript for 3-D viewing



---

archive/issue_comments_205785.json:
```json
{
    "body": "<a id='comment:79'>Comment 79:</a>\nAttachment: **[0001-Add-option-to-use-java-for-3D.patch.gz](https://github.com/sagemath/sage/files/ticket16004/0001-Add-option-to-use-java-for-3D.patch.gz)**\n\nBecause I cannot push to Volker's repository at https://github.com/vbraun/sagenb.git and have not created a public clone repository of that I am attaching two patches that fix the broken custom right-click menu, applet resizing and allows the user to choose to use Java instead of javascript for 3-D viewing. See above.\n\nWith the present version of JSmol/Jmol java applets always launch live.  I have pushed a patch upstream that should show up soon that will allow java applets to behave the same as the javascript version.  We should not wait for the upstream fix as it is minor. \n\nI also think we should still fix things so that the right-click hint is text above the live applet.\n\nI think we are basically ready to go on this ticket and #17020.  We need a reviewer.",
    "created_at": "2014-10-16T01:31:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205785",
    "user": "https://github.com/gutow"
}
```

<a id='comment:79'>Comment 79:</a>
Attachment: **[0001-Add-option-to-use-java-for-3D.patch.gz](https://github.com/sagemath/sage/files/ticket16004/0001-Add-option-to-use-java-for-3D.patch.gz)**

Because I cannot push to Volker's repository at https://github.com/vbraun/sagenb.git and have not created a public clone repository of that I am attaching two patches that fix the broken custom right-click menu, applet resizing and allows the user to choose to use Java instead of javascript for 3-D viewing. See above.

With the present version of JSmol/Jmol java applets always launch live.  I have pushed a patch upstream that should show up soon that will allow java applets to behave the same as the javascript version.  We should not wait for the upstream fix as it is minor. 

I also think we should still fix things so that the right-click hint is text above the live applet.

I think we are basically ready to go on this ticket and #17020.  We need a reviewer.



---

archive/issue_events_203377.json:
```json
{
    "actor": "https://github.com/gutow",
    "created_at": "2014-10-16T01:33:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203377"
}
```



---

archive/issue_events_203378.json:
```json
{
    "actor": "https://github.com/gutow",
    "created_at": "2014-10-16T01:33:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203378"
}
```



---

archive/issue_comments_205786.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n Jmol is cross compiled to java and javascript.  Because so many browser/OS combinations now actively try to avoid using java applets, it is necessary to have a pure javascript alternative.  This solution provides all the functionality of Jmol, but as expected since javascript is interpreted rather than bytecode (\"~3/4\" of the way to compiled) the performance when interacting with the plot is slower.  \n \n-This first implementation removes the user tools that have appeared to the right of the 3-D plot as they need to be rewritten as well.  In this first implementation it is not possible to choose to use the java applet instead. \n+This first implementation removes the user tools that have appeared to the right of the 3-D plot as they need to be rewritten as well.\n \n One added feature is a \"load 3-D live\" check box that can be used to make a worksheet load 3-D plots live when the worksheet is opened.  For worksheets with a single interact or only 1-2 plots this should be OK.\n \n``````\n",
    "created_at": "2014-10-16T01:34:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205786",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 Jmol is cross compiled to java and javascript.  Because so many browser/OS combinations now actively try to avoid using java applets, it is necessary to have a pure javascript alternative.  This solution provides all the functionality of Jmol, but as expected since javascript is interpreted rather than bytecode ("~3/4" of the way to compiled) the performance when interacting with the plot is slower.  
 
-This first implementation removes the user tools that have appeared to the right of the 3-D plot as they need to be rewritten as well.  In this first implementation it is not possible to choose to use the java applet instead. 
+This first implementation removes the user tools that have appeared to the right of the 3-D plot as they need to be rewritten as well.
 
 One added feature is a "load 3-D live" check box that can be used to make a worksheet load 3-D plots live when the worksheet is opened.  For worksheets with a single interact or only 1-2 plots this should be OK.
 
``````




---

archive/issue_comments_205787.json:
```json
{
    "body": "<a id='comment:82'>Comment 82:</a>\n> With the present version of JSmol/Jmol java applets always launch live.  I have pushed a patch upstream that should show up soon that will allow java applets to behave the same as the javascript version.  We should not wait for the upstream fix as it is minor. \n\nPerhaps you can open a new ticket for that when it comes out.\n> I also think we should still fix things so that the right-click hint is text above the live applet.\n\nOn this ticket?\n> I think we are basically ready to go on this ticket and #17020.  We need a reviewer.\n\nI will try my best to work on this the remainder of this week!",
    "created_at": "2014-10-16T13:07:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205787",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:82'>Comment 82:</a>
> With the present version of JSmol/Jmol java applets always launch live.  I have pushed a patch upstream that should show up soon that will allow java applets to behave the same as the javascript version.  We should not wait for the upstream fix as it is minor. 

Perhaps you can open a new ticket for that when it comes out.
> I also think we should still fix things so that the right-click hint is text above the live applet.

On this ticket?
> I think we are basically ready to go on this ticket and #17020.  We need a reviewer.

I will try my best to work on this the remainder of this week!



---

archive/issue_comments_205788.json:
```json
{
    "body": "Attachment: **[0001-text-hint-to-use-right-click-menu-on-live-3-D-applet.patch.gz](https://github.com/sagemath/sage/files/ticket16004/0001-text-hint-to-use-right-click-menu-on-live-3-D-applet.patch.gz)**\n\nHere is a simple patch the makes puts up a text hing to use the right click menu when the applet is live.",
    "created_at": "2014-10-17T01:23:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205788",
    "user": "https://github.com/gutow"
}
```

Attachment: **[0001-text-hint-to-use-right-click-menu-on-live-3-D-applet.patch.gz](https://github.com/sagemath/sage/files/ticket16004/0001-text-hint-to-use-right-click-menu-on-live-3-D-applet.patch.gz)**

Here is a simple patch the makes puts up a text hing to use the right click menu when the applet is live.



---

archive/issue_comments_205789.json:
```json
{
    "body": "<a id='comment:83'>Comment 83:</a>\nBoy my typing was broken above.  The patch provides a text hint to use the right-click menu when the applet is live to get options.  We could open another ticket for that, but it is a two line patch so I think we can include it here.  Try it.",
    "created_at": "2014-10-17T01:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205789",
    "user": "https://github.com/gutow"
}
```

<a id='comment:83'>Comment 83:</a>
Boy my typing was broken above.  The patch provides a text hint to use the right-click menu when the applet is live to get options.  We could open another ticket for that, but it is a two line patch so I think we can include it here.  Try it.



---

archive/issue_comments_205790.json:
```json
{
    "body": "<a id='comment:84'>Comment 84:</a>\nReplying to [@kcrisman](#comment%3A82):\n> > With the present version of JSmol/Jmol java applets always launch live.  I have pushed a patch upstream that should show up soon that will allow java applets to behave the same as the javascript version.  We should not wait for the upstream fix as it is minor. \n\n> Perhaps you can open a new ticket for that when it comes out.\n\nI think that is the right approach.",
    "created_at": "2014-10-17T01:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205790",
    "user": "https://github.com/gutow"
}
```

<a id='comment:84'>Comment 84:</a>
Replying to [@kcrisman](#comment%3A82):
> > With the present version of JSmol/Jmol java applets always launch live.  I have pushed a patch upstream that should show up soon that will allow java applets to behave the same as the javascript version.  We should not wait for the upstream fix as it is minor. 

> Perhaps you can open a new ticket for that when it comes out.

I think that is the right approach.



---

archive/issue_comments_205791.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,4 +14,5 @@\n 2. Download the repackaged Jmol from the link provide in #17020 and save the package in the \"upstream\" directory of your sage install.\n 3. run `sage -f jmol` to install the new jmol.\n 4. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`\n-5. From within the sagenb repository run `sage -python setup.py install`\n+5. Apply the three attached patches to this new sagenb repository.\n+6. From within the sagenb repository run `sage -python setup.py install`\n``````\n",
    "created_at": "2014-10-17T01:53:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205791",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,4 +14,5 @@
 2. Download the repackaged Jmol from the link provide in #17020 and save the package in the "upstream" directory of your sage install.
 3. run `sage -f jmol` to install the new jmol.
 4. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`
-5. From within the sagenb repository run `sage -python setup.py install`
+5. Apply the three attached patches to this new sagenb repository.
+6. From within the sagenb repository run `sage -python setup.py install`
``````




---

archive/issue_comments_205792.json:
```json
{
    "body": "<a id='comment:86'>Comment 86:</a>\nI've given you access to https://github.com/vbraun/sagenb.git, can you push your patches there?",
    "created_at": "2014-10-17T10:22:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205792",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:86'>Comment 86:</a>
I've given you access to https://github.com/vbraun/sagenb.git, can you push your patches there?



---

archive/issue_comments_205793.json:
```json
{
    "body": "<a id='comment:87'>Comment 87:</a>\nReplying to [@vbraun](#comment%3A86):\n> I've given you access to https://github.com/vbraun/sagenb.git, can you push your patches there?\n\nI will try to do it this evening (~15 hrs from now).",
    "created_at": "2014-10-17T13:28:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205793",
    "user": "https://github.com/gutow"
}
```

<a id='comment:87'>Comment 87:</a>
Replying to [@vbraun](#comment%3A86):
> I've given you access to https://github.com/vbraun/sagenb.git, can you push your patches there?

I will try to do it this evening (~15 hrs from now).



---

archive/issue_comments_205794.json:
```json
{
    "body": "<a id='comment:88'>Comment 88:</a>\nThe patches look fine (still need to test, trying to do that before lunch!).  A few comments/questions:\n* I don't like how you reorganized base.html, because it's harder to read the properties of the elements now.  \n* I like your catch of the `gettext` for Typeset, assuming that is indeed translated in the localizations (it's not in message.pot, but that's probably ok).  \n* You also removed a &nbsp; near there as well, and didn't put one in for the Java enabling.  Maybe that should stay.\n* `onchange=\"3D_use_java_check(this.checked);\"` looks nice, except there is no such function in `sagenb/data/sage/js/notebook_lib.js `, unlike for `pretty_print_check` and `live_3D_check`.  Does it need to be added there?  If not and things still work, then that line should be removed.",
    "created_at": "2014-10-17T16:33:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205794",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:88'>Comment 88:</a>
The patches look fine (still need to test, trying to do that before lunch!).  A few comments/questions:
* I don't like how you reorganized base.html, because it's harder to read the properties of the elements now.  
* I like your catch of the `gettext` for Typeset, assuming that is indeed translated in the localizations (it's not in message.pot, but that's probably ok).  
* You also removed a &nbsp; near there as well, and didn't put one in for the Java enabling.  Maybe that should stay.
* `onchange="3D_use_java_check(this.checked);"` looks nice, except there is no such function in `sagenb/data/sage/js/notebook_lib.js `, unlike for `pretty_print_check` and `live_3D_check`.  Does it need to be added there?  If not and things still work, then that line should be removed.



---

archive/issue_comments_205795.json:
```json
{
    "body": "<a id='comment:89'>Comment 89:</a>\nTesting - more impressions, now from the main stuff.\n* In right-click menu, Jmol version is still 14.0.13 - presumably still hard-coded.\n* Sometimes the help message \"Right-click to get options menu.\" appears twice.  I can't figure out how to reproduce it reliably, though.\n* The \"make new cell interface\" icons look much better than before, but it is STILL a different color from before and a different cell height.  In particular, the commit https://github.com/vbraun/sagenb/commit/8fe8371b93112d29a4096307d5807d736c41e415 breaks it, and https://github.com/vbraun/sagenb/commit/f9760a8635a63511731e340046711b1a7288de1c \"fixes\" it but not really.\n* Shift-click is still broken, because Volker just took your commits but didn't fix them.  See https://github.com/kcrisman/sagenb/commit/4fe29c8f7ab6ae5a44bf9a51872b3008ee4d18a2 for a commit that (perhaps with minor modifications) fix this - I think I actually got it from Jonathan but perhaps modified it, that was a while ago now.\n* The new cell bar, when it is *above* a text area, does not have the icons.  In such cases, it also does not work.  \n* In addition (and this is very, very minor), the very final new cell bar is not indented (presumably it is in a different div or something).\n\nPlease do check out what I did to keep behavior as close to the legacy as possible.  Hopefully it will be pretty easy for one of you to just import 'correct' behavior.  It would have been easier to have not touched that stuff at all, but I know that ship has sailed.  Also, if we need to move discussion to github that is fine, I'm putting it here because I know everyone is reading this :)",
    "created_at": "2014-10-17T17:02:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205795",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:89'>Comment 89:</a>
Testing - more impressions, now from the main stuff.
* In right-click menu, Jmol version is still 14.0.13 - presumably still hard-coded.
* Sometimes the help message "Right-click to get options menu." appears twice.  I can't figure out how to reproduce it reliably, though.
* The "make new cell interface" icons look much better than before, but it is STILL a different color from before and a different cell height.  In particular, the commit https://github.com/vbraun/sagenb/commit/8fe8371b93112d29a4096307d5807d736c41e415 breaks it, and https://github.com/vbraun/sagenb/commit/f9760a8635a63511731e340046711b1a7288de1c "fixes" it but not really.
* Shift-click is still broken, because Volker just took your commits but didn't fix them.  See https://github.com/kcrisman/sagenb/commit/4fe29c8f7ab6ae5a44bf9a51872b3008ee4d18a2 for a commit that (perhaps with minor modifications) fix this - I think I actually got it from Jonathan but perhaps modified it, that was a while ago now.
* The new cell bar, when it is *above* a text area, does not have the icons.  In such cases, it also does not work.  
* In addition (and this is very, very minor), the very final new cell bar is not indented (presumably it is in a different div or something).

Please do check out what I did to keep behavior as close to the legacy as possible.  Hopefully it will be pretty easy for one of you to just import 'correct' behavior.  It would have been easier to have not touched that stuff at all, but I know that ship has sailed.  Also, if we need to move discussion to github that is fine, I'm putting it here because I know everyone is reading this :)



---

archive/issue_comments_205796.json:
```json
{
    "body": "<a id='comment:90'>Comment 90:</a>\n> * The new cell bar, when it is *below* a text area, does not have the icons.\n\n* There isn't the \"evaluate\" box any more either!  Edit: for reasons I cannot search out now, it *does* appear in Chrome and FF.  ???\n* Shift-Enter does not appear to work to evaluate cells.  So... how does one evaluate a cell?  (This is old-Safari-specific, apparently, but not great.)\nAll this needs to be fixed.\n\nOther things noticed.\n* Resizing works, though it's kind of hard to \"let go\" of the resizing.\n* Hard to tell whether I'm using Java other than the click box.  I do eventually get messages about allowing applets but don't know  if it's happening.\n* In Firefox and Chrome I managed to get a cell to evaluate, but then got the immensely cryptic\n\n```\n/Users/.../sage/local/lib/python2.7/site-packages/IPy\\\nthon/core/formatters.py:239: FormatterWarning: Exception in text/plain\nformatter: should never launch viewer in embedded mode\n  FormatterWarning,\nNone\n```\n   and no plot.  However, if I evaluate an *interact* cell, then all is well!  (Edit: maybe this is residual from the whole base64 thing?)\n* In FF, right-clicking for the menu doesn't work, though it did in Safari.  It *does* work in FF for the Java applet, not the js one.",
    "created_at": "2014-10-17T17:05:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205796",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:90'>Comment 90:</a>
> * The new cell bar, when it is *below* a text area, does not have the icons.

* There isn't the "evaluate" box any more either!  Edit: for reasons I cannot search out now, it *does* appear in Chrome and FF.  ???
* Shift-Enter does not appear to work to evaluate cells.  So... how does one evaluate a cell?  (This is old-Safari-specific, apparently, but not great.)
All this needs to be fixed.

Other things noticed.
* Resizing works, though it's kind of hard to "let go" of the resizing.
* Hard to tell whether I'm using Java other than the click box.  I do eventually get messages about allowing applets but don't know  if it's happening.
* In Firefox and Chrome I managed to get a cell to evaluate, but then got the immensely cryptic

```
/Users/.../sage/local/lib/python2.7/site-packages/IPy\
thon/core/formatters.py:239: FormatterWarning: Exception in text/plain
formatter: should never launch viewer in embedded mode
  FormatterWarning,
None
```
   and no plot.  However, if I evaluate an *interact* cell, then all is well!  (Edit: maybe this is residual from the whole base64 thing?)
* In FF, right-clicking for the menu doesn't work, though it did in Safari.  It *does* work in FF for the Java applet, not the js one.



---

archive/issue_comments_205797.json:
```json
{
    "body": "<a id='comment:91'>Comment 91:</a>\nAlso, don't forget to fix the thing inadvertently introduced in sagenb/data/sage/js/master.js\n\n```\n $(document)\n.on('click','.introspection, .docstring, .click-message, #worksheet_cell_list', function (e) {\n```\nneeds to have the commas removed, more precisely it should look like\n\n```\n        $(document)\n            .on('click','#worksheet_cell_list .introspection .docstring .click-message', function (e) {\n```\nor thereabouts.\n\nEdit: perhaps this explains Volker's commit https://github.com/vbraun/sagenb/commit/062a76a622b9ff788843548c8fd1e8cc2ce6a4e5",
    "created_at": "2014-10-17T17:27:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205797",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:91'>Comment 91:</a>
Also, don't forget to fix the thing inadvertently introduced in sagenb/data/sage/js/master.js

```
 $(document)
.on('click','.introspection, .docstring, .click-message, #worksheet_cell_list', function (e) {
```
needs to have the commas removed, more precisely it should look like

```
        $(document)
            .on('click','#worksheet_cell_list .introspection .docstring .click-message', function (e) {
```
or thereabouts.

Edit: perhaps this explains Volker's commit https://github.com/vbraun/sagenb/commit/062a76a622b9ff788843548c8fd1e8cc2ce6a4e5



---

archive/issue_comments_205798.json:
```json
{
    "body": "<a id='comment:92'>Comment 92:</a>\nThe formatter warning is due to https://github.com/ipython/ipython/pull/4745/ but I don't know how that interacts with getting the jsmols to show up.  Conceivably related is https://github.com/ipython/ipython/issues/5369/ with its fix https://github.com/ipython/ipython/pull/5452\n\nEdit: the problem is with the default of showing.  Compare:\n\n```\nvar('y')\nshow(plot3d(x^2+y^2,(x,-1,1),(y,-1,1)))\n```\nwhich works, and \n\n```\nvar('y')\nplot3d(x^2+y^2,(x,-1,1),(y,-1,1))\n```\nwhich doesn't.  So something is going wrong in that default.\n\nEdit 2: Haha, the problem in fact is even with TWO dimensional plots!   So something is going wrong with \n\n```\ngfx = GraphicsFile(filename, mime_type=\u2019image/png\u2019)\ngfx.launch_viewer()\n```\nand/or the \"display hook\", whatever that is, or something else in `.show()`.",
    "created_at": "2014-10-17T17:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205798",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:92'>Comment 92:</a>
The formatter warning is due to https://github.com/ipython/ipython/pull/4745/ but I don't know how that interacts with getting the jsmols to show up.  Conceivably related is https://github.com/ipython/ipython/issues/5369/ with its fix https://github.com/ipython/ipython/pull/5452

Edit: the problem is with the default of showing.  Compare:

```
var('y')
show(plot3d(x^2+y^2,(x,-1,1),(y,-1,1)))
```
which works, and 

```
var('y')
plot3d(x^2+y^2,(x,-1,1),(y,-1,1))
```
which doesn't.  So something is going wrong in that default.

Edit 2: Haha, the problem in fact is even with TWO dimensional plots!   So something is going wrong with 

```
gfx = GraphicsFile(filename, mime_type=’image/png’)
gfx.launch_viewer()
```
and/or the "display hook", whatever that is, or something else in `.show()`.



---

archive/issue_comments_205799.json:
```json
{
    "body": "<a id='comment:93'>Comment 93:</a>\nThe evaluate button not showing up appears to be related to the wrong css rule being chosen at https://github.com/sagemath/sagenb/blob/master/sass/src/main.scss#L865 - it should be eval_button_active but isn't.  I can't figure this out yet; even when I change to make the button show up in the web inspector, I still can't get it to evaluate.",
    "created_at": "2014-10-17T18:26:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205799",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:93'>Comment 93:</a>
The evaluate button not showing up appears to be related to the wrong css rule being chosen at https://github.com/sagemath/sagenb/blob/master/sass/src/main.scss#L865 - it should be eval_button_active but isn't.  I can't figure this out yet; even when I change to make the button show up in the web inspector, I still can't get it to evaluate.



---

archive/issue_comments_205800.json:
```json
{
    "body": "<a id='comment:94'>Comment 94:</a>\nCalling `GraphicsFile.launch_viewer` is only for commandline use.",
    "created_at": "2014-10-17T18:31:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205800",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:94'>Comment 94:</a>
Calling `GraphicsFile.launch_viewer` is only for commandline use.



---

archive/issue_comments_205801.json:
```json
{
    "body": "<a id='comment:95'>Comment 95:</a>\n> Calling `GraphicsFile.launch_viewer` is only for commandline use.\n\nI believe you, but at any rate something is going wrong.  Do you get things to show up without `show(...)`?",
    "created_at": "2014-10-17T18:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205801",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:95'>Comment 95:</a>
> Calling `GraphicsFile.launch_viewer` is only for commandline use.

I believe you, but at any rate something is going wrong.  Do you get things to show up without `show(...)`?



---

archive/issue_comments_205802.json:
```json
{
    "body": "<a id='comment:96'>Comment 96:</a>\nYes, can reproduce. Its fallout from the IPython notebook, will fix it at #17170",
    "created_at": "2014-10-17T18:37:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205802",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:96'>Comment 96:</a>
Yes, can reproduce. Its fallout from the IPython notebook, will fix it at #17170



---

archive/issue_comments_205803.json:
```json
{
    "body": "<a id='comment:97'>Comment 97:</a>\n> Yes, can reproduce. Its fallout from the IPython notebook, will fix it at #17170\n\nAs suspected, thanks.  The other big thing is then figuring out what the heck is going wrong with my Safari - it is an older one that github doesn't like, true, but our javascript hasn't changed that much!   The other things hopefully can be fixed fairly easily for the new cell logic.",
    "created_at": "2014-10-17T18:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205803",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:97'>Comment 97:</a>
> Yes, can reproduce. Its fallout from the IPython notebook, will fix it at #17170

As suspected, thanks.  The other big thing is then figuring out what the heck is going wrong with my Safari - it is an older one that github doesn't like, true, but our javascript hasn't changed that much!   The other things hopefully can be fixed fairly easily for the new cell logic.



---

archive/issue_comments_205804.json:
```json
{
    "body": "<a id='comment:98'>Comment 98:</a>\n> As suspected, thanks.  The other big thing is then figuring out what the heck is going wrong with my Safari - it is an older one that github doesn't like, true, but our javascript hasn't changed that much!  \n\nI must be going crazy, because now it is working again.  ???",
    "created_at": "2014-10-17T19:25:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205804",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:98'>Comment 98:</a>
> As suspected, thanks.  The other big thing is then figuring out what the heck is going wrong with my Safari - it is an older one that github doesn't like, true, but our javascript hasn't changed that much!  

I must be going crazy, because now it is working again.  ???



---

archive/issue_comments_205805.json:
```json
{
    "body": "<a id='comment:99'>Comment 99:</a>\n> * Shift-click is still broken, because Volker just took your commits but didn't fix them.  See https://github.com/kcrisman/sagenb/commit/4fe29c8f7ab6ae5a44bf9a51872b3008ee4d18a2 for a commit that (perhaps with minor modifications) fix this - I think I actually got it from Jonathan but perhaps modified it, that was a while ago now.\n\nNow all of a sudden this is working after all, which makes sense because https://github.com/vbraun/sagenb/commit/f9760a8635a63511731e340046711b1a7288de1c is there.\n> * The new cell bar, when it is *above* a text area, does not have the icons.  In such cases, it also does not work.  \n\nI think this is probably due to not having changed sagenb/data/sage/html/notebook/text_cell.html in the relevant commits https://github.com/vbraun/sagenb/commit/8fe8371b93112d29a4096307d5807d736c41e415 and https://github.com/vbraun/sagenb/commit/2757d2c6b488feeae2a3f97fffdd09f7ffe5ef01  Naturally, one would also have to do the thing to fix shift-click in that spot as well.",
    "created_at": "2014-10-17T19:31:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205805",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:99'>Comment 99:</a>
> * Shift-click is still broken, because Volker just took your commits but didn't fix them.  See https://github.com/kcrisman/sagenb/commit/4fe29c8f7ab6ae5a44bf9a51872b3008ee4d18a2 for a commit that (perhaps with minor modifications) fix this - I think I actually got it from Jonathan but perhaps modified it, that was a while ago now.

Now all of a sudden this is working after all, which makes sense because https://github.com/vbraun/sagenb/commit/f9760a8635a63511731e340046711b1a7288de1c is there.
> * The new cell bar, when it is *above* a text area, does not have the icons.  In such cases, it also does not work.  

I think this is probably due to not having changed sagenb/data/sage/html/notebook/text_cell.html in the relevant commits https://github.com/vbraun/sagenb/commit/8fe8371b93112d29a4096307d5807d736c41e415 and https://github.com/vbraun/sagenb/commit/2757d2c6b488feeae2a3f97fffdd09f7ffe5ef01  Naturally, one would also have to do the thing to fix shift-click in that spot as well.



---

archive/issue_comments_205806.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,5 +14,4 @@\n 2. Download the repackaged Jmol from the link provide in #17020 and save the package in the \"upstream\" directory of your sage install.\n 3. run `sage -f jmol` to install the new jmol.\n 4. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`\n-5. Apply the three attached patches to this new sagenb repository.\n-6. From within the sagenb repository run `sage -python setup.py install`\n+5. From within the sagenb repository run `sage -python setup.py install`\n``````\n",
    "created_at": "2014-10-18T00:53:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205806",
    "user": "https://github.com/gutow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,5 +14,4 @@
 2. Download the repackaged Jmol from the link provide in #17020 and save the package in the "upstream" directory of your sage install.
 3. run `sage -f jmol` to install the new jmol.
 4. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`
-5. Apply the three attached patches to this new sagenb repository.
-6. From within the sagenb repository run `sage -python setup.py install`
+5. From within the sagenb repository run `sage -python setup.py install`
``````




---

archive/issue_comments_205807.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nI pushed my three patches to the repository, so those should no longer need to be manually installed.\nI am looking into Karl-Dieter's problems.  I hadn't doubled checked the back compatible stuff.",
    "created_at": "2014-10-18T00:55:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205807",
    "user": "https://github.com/gutow"
}
```

<a id='comment:1'>Comment 1:</a>
I pushed my three patches to the repository, so those should no longer need to be manually installed.
I am looking into Karl-Dieter's problems.  I hadn't doubled checked the back compatible stuff.



---

archive/issue_comments_205808.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nTesting in my version, which is now synced to Volker's repository:\n1. shift-click works everywhere in FF and chromium (linux chrome)\n2. cntrl-click works everywhere in FF and chromium\n3. clicking on the two new cell icons works everywhere in FF and chromium\n4. right-click JSmol popup works in FF and chromium\n5. right-click Jmol popup works in FF, cannot test chromium as it does not support java plugin anymore.\n6. The evaluate button always shows up for me.  Occasionally, I have seen issues with interacts covering the evaluate button, but it reappears after clicking around.  I have not been able to reproduce it reliably.\n\nAlthough I have a lot of Macs, I do not think I have an old enough safari to reproduce the \"old\" problems on.  For the above items I am not seeing problems so am unable to do anything to fix them.  Please verify which ones are still problems.",
    "created_at": "2014-10-18T01:16:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205808",
    "user": "https://github.com/gutow"
}
```

<a id='comment:2'>Comment 2:</a>
Testing in my version, which is now synced to Volker's repository:
1. shift-click works everywhere in FF and chromium (linux chrome)
2. cntrl-click works everywhere in FF and chromium
3. clicking on the two new cell icons works everywhere in FF and chromium
4. right-click JSmol popup works in FF and chromium
5. right-click Jmol popup works in FF, cannot test chromium as it does not support java plugin anymore.
6. The evaluate button always shows up for me.  Occasionally, I have seen issues with interacts covering the evaluate button, but it reappears after clicking around.  I have not been able to reproduce it reliably.

Although I have a lot of Macs, I do not think I have an old enough safari to reproduce the "old" problems on.  For the above items I am not seeing problems so am unable to do anything to fix them.  Please verify which ones are still problems.



---

archive/issue_comments_205809.json:
```json
{
    "body": "<a id='comment:103'>Comment 103:</a>\nReplying to [@kcrisman](#comment%3A88):\n> * `onchange=\"3D_use_java_check(this.checked);\"` looks nice, except there is no such function in `sagenb/data/sage/js/notebook_lib.js `, unlike for `pretty_print_check` and `live_3D_check`.  Does it need to be added there?  If not and things still work, then that line should be removed.\n\nThe function is now in jmol_lib.js.  I did not put it in the notebook_lib.js because this function does not need to talk to the server.  Since the choice to use java needs to be decided in realtime by the user because of how browser and computer dependent it is, the setting is not a sticky.",
    "created_at": "2014-10-18T01:21:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205809",
    "user": "https://github.com/gutow"
}
```

<a id='comment:103'>Comment 103:</a>
Replying to [@kcrisman](#comment%3A88):
> * `onchange="3D_use_java_check(this.checked);"` looks nice, except there is no such function in `sagenb/data/sage/js/notebook_lib.js `, unlike for `pretty_print_check` and `live_3D_check`.  Does it need to be added there?  If not and things still work, then that line should be removed.

The function is now in jmol_lib.js.  I did not put it in the notebook_lib.js because this function does not need to talk to the server.  Since the choice to use java needs to be decided in realtime by the user because of how browser and computer dependent it is, the setting is not a sticky.



---

archive/issue_comments_205810.json:
```json
{
    "body": "<a id='comment:104'>Comment 104:</a>\n> Testing in my version, which is now synced to Volker's repository:\n\nThanks for this!\n> Although I have a lot of Macs, I do not think I have an old enough safari to reproduce the \"old\" problems on.  For the above items I am not seeing problems so am unable to do anything to fix them.  Please verify which ones are still problems.\n\nCan you confirm that the things that work above for you on FF/Chromium also work for some version >= 6 of Safari?  I think that is what you are saying.",
    "created_at": "2014-10-18T12:55:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205810",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:104'>Comment 104:</a>
> Testing in my version, which is now synced to Volker's repository:

Thanks for this!
> Although I have a lot of Macs, I do not think I have an old enough safari to reproduce the "old" problems on.  For the above items I am not seeing problems so am unable to do anything to fix them.  Please verify which ones are still problems.

Can you confirm that the things that work above for you on FF/Chromium also work for some version >= 6 of Safari?  I think that is what you are saying.



---

archive/issue_comments_205811.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nLet me try to summarize what probably still remains, assuming I also have luck with the most up-to-date repo when I can get to this Mondayish. These are obviously fairly minor compared to the display hook thing (thanks for fixing that so quickly!), but they worked in my branch.\n* &nbsp; removal (or rather, *un*removal)\n* hardcoded Jmol version is still 14.0.13\n* The new cell bar, when it is above a text area, does not work and has no icons.  It should also have the custom ctrl/shift-click code from other patches added to it.\n* The new cell bar is not quite at the right indentation level (div?) at the very end of the worksheet\n* Color of new cell bar should go back.\n* The js in [comment:91](#comment%3A91) should be fixed so that it only applies to the pop out introspection.  You can check this by clicking the \"pop to own window\" and it won't do what it is supposed to.\nBy the way, what is ctrl-click supposed to do on a new cell bar?  I must have forgotten this feature!",
    "created_at": "2014-10-18T13:05:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205811",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'>Comment 5:</a>
Let me try to summarize what probably still remains, assuming I also have luck with the most up-to-date repo when I can get to this Mondayish. These are obviously fairly minor compared to the display hook thing (thanks for fixing that so quickly!), but they worked in my branch.
* &nbsp; removal (or rather, *un*removal)
* hardcoded Jmol version is still 14.0.13
* The new cell bar, when it is above a text area, does not work and has no icons.  It should also have the custom ctrl/shift-click code from other patches added to it.
* The new cell bar is not quite at the right indentation level (div?) at the very end of the worksheet
* Color of new cell bar should go back.
* The js in [comment:91](#comment%3A91) should be fixed so that it only applies to the pop out introspection.  You can check this by clicking the "pop to own window" and it won't do what it is supposed to.
By the way, what is ctrl-click supposed to do on a new cell bar?  I must have forgotten this feature!



---

archive/issue_comments_205812.json:
```json
{
    "body": "<a id='comment:106'>Comment 106:</a>\nReplying to [@kcrisman](#comment%3A105):\n> Let me try to summarize what probably still remains, assuming I also have luck with the most up-to-date repo when I can get to this Mondayish. These are obviously fairly minor compared to the display hook thing (thanks for fixing that so quickly!), but they worked in my branch.\n> * &nbsp; removal (or rather, *un*removal)\n\nThis is just for layout with the checkboxes.  I didn't find having it missing making an obvious layout difference, but we can put it back in.\n> * hardcoded Jmol version is still 14.0.13\n\nI will have to dig into Jmol for this.  It is supposed to pick up the version, which can be shown to be correct in the console by selecting the \"State\".  This is an upstream bug, although I might be able to patch it here.\n> * The new cell bar, when it is above a text area, does not work and has no icons.  It should also have the custom ctrl/shift-click code from other patches added to it.\n\nNow I understand. We need to add a new cell bar above new rich text boxes.  I completely missed that.\n> * The new cell bar is not quite at the right indentation level (div?) at the very end of the worksheet\n\nhmmm, I'll look at that.\n> * Color of new cell bar should go back.\n\nAre you saying the highlighting doesn't disappear when you stop hovering over the new cell bar?  That may be a browser bug.  I will look at it again.\n> * The js in [comment:91](#comment%3A91) should be fixed so that it only applies to the pop out introspection.  You can check this by clicking the \"pop to own window\" and it won't do what it is supposed to.\n\nNot sure what the \"pop to own window\" is.  I know we used to have a link for that, but it should be gone along with all the fancier controls, they still need rewriting.\n> By the way, what is ctrl-click supposed to do on a new cell bar?  I must have forgotten this feature!\n\nshift-click = new rich text cell\ncntrl-click = new calculation cell",
    "created_at": "2014-10-18T13:18:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205812",
    "user": "https://github.com/gutow"
}
```

<a id='comment:106'>Comment 106:</a>
Replying to [@kcrisman](#comment%3A105):
> Let me try to summarize what probably still remains, assuming I also have luck with the most up-to-date repo when I can get to this Mondayish. These are obviously fairly minor compared to the display hook thing (thanks for fixing that so quickly!), but they worked in my branch.
> * &nbsp; removal (or rather, *un*removal)

This is just for layout with the checkboxes.  I didn't find having it missing making an obvious layout difference, but we can put it back in.
> * hardcoded Jmol version is still 14.0.13

I will have to dig into Jmol for this.  It is supposed to pick up the version, which can be shown to be correct in the console by selecting the "State".  This is an upstream bug, although I might be able to patch it here.
> * The new cell bar, when it is above a text area, does not work and has no icons.  It should also have the custom ctrl/shift-click code from other patches added to it.

Now I understand. We need to add a new cell bar above new rich text boxes.  I completely missed that.
> * The new cell bar is not quite at the right indentation level (div?) at the very end of the worksheet

hmmm, I'll look at that.
> * Color of new cell bar should go back.

Are you saying the highlighting doesn't disappear when you stop hovering over the new cell bar?  That may be a browser bug.  I will look at it again.
> * The js in [comment:91](#comment%3A91) should be fixed so that it only applies to the pop out introspection.  You can check this by clicking the "pop to own window" and it won't do what it is supposed to.

Not sure what the "pop to own window" is.  I know we used to have a link for that, but it should be gone along with all the fancier controls, they still need rewriting.
> By the way, what is ctrl-click supposed to do on a new cell bar?  I must have forgotten this feature!

shift-click = new rich text cell
cntrl-click = new calculation cell



---

archive/issue_comments_205813.json:
```json
{
    "body": "<a id='comment:107'>Comment 107:</a>\n> > * The new cell bar, when it is above a text area, does not work and has no icons.  It should also have the custom ctrl/shift-click code from other patches added to it.\n\n> Now I understand. We need to add a new cell bar above new rich text boxes.  I completely missed that.\n\nOk.  I should point out that there IS a new cell bar, but it doesn't have the icons and doesn't do anything if you click on it.  Try a worksheet with some already-existing text cells and some computation cells, and you'll see what I mean when you hover in various places.\n> >    * Color of new cell bar should go back.\n\n> Are you saying the highlighting doesn't disappear when you stop hovering over the new cell bar?  That may be a browser bug.  I will look at it again.\n\nNo, I mean that you **changed the color** of the bars for some reason.  See my previous comments.  If you look at my branch you can see I remove your mysterious change to `cyan` and put it back to the usual color.\n> > * The js in [comment:91](#comment%3A91) should be fixed so that it only applies to the pop out introspection.  You can check this by clicking the \"pop to own window\" and it won't do what it is supposed to.\n\n> Not sure what the \"pop to own window\" is.  I know we used to have a link for that, but it should be gone along with all the fancier controls, they still need rewriting.\n\nNothing to do with jmol.  If you do `binomial?` or something like that, you will see the \"introspection\" documentation; there should be a link to click to \"pop out\" that into a separate window, and there are a few subtle things about that that don't work if you don't change that.  Look at the specific code I'm talking about - you changed it when you updated to modern jQuery, but unfortunately put in commas that didn't belong.  Just take my code :-)\n> > By the way, what is ctrl-click supposed to do on a new cell bar?  I must have forgotten this feature!\n\n> shift-click = new rich text cell\n> cntrl-click = new calculation cell\n\nHuh.  Doesn't also just plain old clicking (no other keys) make a new calculation cell?  Or maybe I'm misunderstanding something here.",
    "created_at": "2014-10-19T00:17:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205813",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:107'>Comment 107:</a>
> > * The new cell bar, when it is above a text area, does not work and has no icons.  It should also have the custom ctrl/shift-click code from other patches added to it.

> Now I understand. We need to add a new cell bar above new rich text boxes.  I completely missed that.

Ok.  I should point out that there IS a new cell bar, but it doesn't have the icons and doesn't do anything if you click on it.  Try a worksheet with some already-existing text cells and some computation cells, and you'll see what I mean when you hover in various places.
> >    * Color of new cell bar should go back.

> Are you saying the highlighting doesn't disappear when you stop hovering over the new cell bar?  That may be a browser bug.  I will look at it again.

No, I mean that you **changed the color** of the bars for some reason.  See my previous comments.  If you look at my branch you can see I remove your mysterious change to `cyan` and put it back to the usual color.
> > * The js in [comment:91](#comment%3A91) should be fixed so that it only applies to the pop out introspection.  You can check this by clicking the "pop to own window" and it won't do what it is supposed to.

> Not sure what the "pop to own window" is.  I know we used to have a link for that, but it should be gone along with all the fancier controls, they still need rewriting.

Nothing to do with jmol.  If you do `binomial?` or something like that, you will see the "introspection" documentation; there should be a link to click to "pop out" that into a separate window, and there are a few subtle things about that that don't work if you don't change that.  Look at the specific code I'm talking about - you changed it when you updated to modern jQuery, but unfortunately put in commas that didn't belong.  Just take my code :-)
> > By the way, what is ctrl-click supposed to do on a new cell bar?  I must have forgotten this feature!

> shift-click = new rich text cell
> cntrl-click = new calculation cell

Huh.  Doesn't also just plain old clicking (no other keys) make a new calculation cell?  Or maybe I'm misunderstanding something here.



---

archive/issue_comments_205814.json:
```json
{
    "body": "<a id='comment:108'>Comment 108:</a>\nReplying to [@kcrisman](#comment%3A107):\n> Ok.  I should point out that there IS a new cell bar, but it doesn't have the icons and doesn't do anything if you click on it.  \n\nYep, it didn't do anything because it had the old non-jquery compatible code in it.  I have a fix for that and will commit it before the end of the weekend.  I can also tell you that the end of sheet new cell bar is indented differently because it is not part of the worksheet cell list.  It has the same indentation as rich text cells.  If it is really bothersome, I can place the icons over a little, but we do not want that cell to be part of the cell list.\n\nWhile working on this I also realized there is no way to delete rich text cells.  Any thoughts on whether that is something we want?  If so, it should be its own ticket.\n> No, I mean that you **changed the color** of the bars for some reason.  See my previous comments.  If you look at my branch you can see I remove your mysterious change to `cyan` and put it back to the usual color.\n\nhmm, I'm not sure why I changed it.  Maybe I couldn't find the right color.  We certainly can pull it from your branch.\n> Nothing to do with jmol.  If you do `binomial?` or something like that, you will see the \"introspection\" documentation; there should be a link to click to \"pop out\" that into a separate window, and there are a few subtle things about that that don't work if you don't change that.  Look at the specific code I'm talking about - you changed it when you updated to modern jQuery, but unfortunately put in commas that didn't belong.  Just take my code :-)\n\nOK, I'm not sure why that comma is there either.\n> Huh.  Doesn't also just plain old clicking (no other keys) make a new calculation cell?  Or maybe I'm misunderstanding something here.\n\nLooking at the code any click other than shift-click creates a new compute cell.  This kind of confusion is why I like the little icons.:)",
    "created_at": "2014-10-19T02:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205814",
    "user": "https://github.com/gutow"
}
```

<a id='comment:108'>Comment 108:</a>
Replying to [@kcrisman](#comment%3A107):
> Ok.  I should point out that there IS a new cell bar, but it doesn't have the icons and doesn't do anything if you click on it.  

Yep, it didn't do anything because it had the old non-jquery compatible code in it.  I have a fix for that and will commit it before the end of the weekend.  I can also tell you that the end of sheet new cell bar is indented differently because it is not part of the worksheet cell list.  It has the same indentation as rich text cells.  If it is really bothersome, I can place the icons over a little, but we do not want that cell to be part of the cell list.

While working on this I also realized there is no way to delete rich text cells.  Any thoughts on whether that is something we want?  If so, it should be its own ticket.
> No, I mean that you **changed the color** of the bars for some reason.  See my previous comments.  If you look at my branch you can see I remove your mysterious change to `cyan` and put it back to the usual color.

hmm, I'm not sure why I changed it.  Maybe I couldn't find the right color.  We certainly can pull it from your branch.
> Nothing to do with jmol.  If you do `binomial?` or something like that, you will see the "introspection" documentation; there should be a link to click to "pop out" that into a separate window, and there are a few subtle things about that that don't work if you don't change that.  Look at the specific code I'm talking about - you changed it when you updated to modern jQuery, but unfortunately put in commas that didn't belong.  Just take my code :-)

OK, I'm not sure why that comma is there either.
> Huh.  Doesn't also just plain old clicking (no other keys) make a new calculation cell?  Or maybe I'm misunderstanding something here.

Looking at the code any click other than shift-click creates a new compute cell.  This kind of confusion is why I like the little icons.:)



---

archive/issue_comments_205815.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nPushed following fixes to Volker's git repository:\nReverted new cell div hover color to old color\nAdded &nbsp; before text of display control checkboxes\nMade add cell work before above rich text cells\nRemoved commas that were messing up jquery binding to certain items\n\nTest and let me know what else you find...",
    "created_at": "2014-10-19T20:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205815",
    "user": "https://github.com/gutow"
}
```

<a id='comment:9'>Comment 9:</a>
Pushed following fixes to Volker's git repository:
Reverted new cell div hover color to old color
Added &nbsp; before text of display control checkboxes
Made add cell work before above rich text cells
Removed commas that were messing up jquery binding to certain items

Test and let me know what else you find...



---

archive/issue_comments_205816.json:
```json
{
    "body": "<a id='comment:110'>Comment 110:</a>\nReplying to [@kcrisman](#comment%3A105):\n\n> * hardcoded Jmol version is still 14.0.13\n\nThis is a bug in 14.2.4.  It appears to be fixed in 14.2.7.  We can make a new spkg.  Doesn't look like the static image for java fix is in 14.2.7 yet, so we will have to wait on that.",
    "created_at": "2014-10-19T22:28:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205816",
    "user": "https://github.com/gutow"
}
```

<a id='comment:110'>Comment 110:</a>
Replying to [@kcrisman](#comment%3A105):

> * hardcoded Jmol version is still 14.0.13

This is a bug in 14.2.4.  It appears to be fixed in 14.2.7.  We can make a new spkg.  Doesn't look like the static image for java fix is in 14.2.7 yet, so we will have to wait on that.



---

archive/issue_comments_205817.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nPushed a commit to #17020 that should fix the version number issue in the popup menus, independent of Jmol/JSmol version.",
    "created_at": "2014-10-19T23:07:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205817",
    "user": "https://github.com/gutow"
}
```

<a id='comment:1'>Comment 1:</a>
Pushed a commit to #17020 that should fix the version number issue in the popup menus, independent of Jmol/JSmol version.



---

archive/issue_comments_205818.json:
```json
{
    "body": "<a id='comment:112'>Comment 112:</a>\n> Yep, it didn't do anything because it had the old non-jquery compatible code in it.  I have a fix for that and will commit it before the end of the weekend.  \n\nGreat, I'll look at that today.\n> I can also tell you that the end of sheet new cell bar is indented differently because it is not part of the worksheet cell list.  It has the same indentation as rich text cells.  If it is really bothersome, I can place the icons over a little, but we do not want that cell to be part of the cell list.\n\nGot it, that makes sense.\n> While working on this I also realized there is no way to delete rich text cells.  Any thoughts on whether that is something we want?  If so, it should be its own ticket.\n\nHmm, you can't *delete* them, it's true, but save+quit+open actually gets rid of such cells if they are empty, due to the way sagenb handles that internally, no worries.\n\nLooks like you got the other stuff on my list (or explained it).  I would personally not worry about waiting for the static image for java fix if the js version is the default...",
    "created_at": "2014-10-20T12:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205818",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:112'>Comment 112:</a>
> Yep, it didn't do anything because it had the old non-jquery compatible code in it.  I have a fix for that and will commit it before the end of the weekend.  

Great, I'll look at that today.
> I can also tell you that the end of sheet new cell bar is indented differently because it is not part of the worksheet cell list.  It has the same indentation as rich text cells.  If it is really bothersome, I can place the icons over a little, but we do not want that cell to be part of the cell list.

Got it, that makes sense.
> While working on this I also realized there is no way to delete rich text cells.  Any thoughts on whether that is something we want?  If so, it should be its own ticket.

Hmm, you can't *delete* them, it's true, but save+quit+open actually gets rid of such cells if they are empty, due to the way sagenb handles that internally, no worries.

Looks like you got the other stuff on my list (or explained it).  I would personally not worry about waiting for the static image for java fix if the js version is the default...



---

archive/issue_comments_205819.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nI'm going to continue discussion on the [pull request](https://github.com/sagemath/sagenb/pull/241) since we are so close now.",
    "created_at": "2014-10-20T14:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205819",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'>Comment 3:</a>
I'm going to continue discussion on the [pull request](https://github.com/sagemath/sagenb/pull/241) since we are so close now.



---

archive/issue_comments_205820.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,3 +15,5 @@\n 3. run `sage -f jmol` to install the new jmol.\n 4. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`\n 5. From within the sagenb repository run `sage -python setup.py install`\n+\n+For testing, #17170 is also advised, since without it display in the notebook does not work properly.\n``````\n",
    "created_at": "2014-10-20T19:07:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205820",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,3 +15,5 @@
 3. run `sage -f jmol` to install the new jmol.
 4. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`
 5. From within the sagenb repository run `sage -python setup.py install`
+
+For testing, #17170 is also advised, since without it display in the notebook does not work properly.
``````




---

archive/issue_comments_205821.json:
```json
{
    "body": "Reviewer: **Steven Trogdon, Karl-Dieter Crisman, Jonathan Gutow**",
    "created_at": "2014-10-20T19:07:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205821",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Steven Trogdon, Karl-Dieter Crisman, Jonathan Gutow**



---

archive/issue_comments_205822.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nI think we really need more reviewers now at the pull request.  \n\nOn a likely related note, I *think* the following is due to the changes here.  Any ideas?\n\n> * If you make a standard 2d plot like `plot(1-x,(x,0,1))`, evaluate, and then go back to *that same cell* and change it to something else like `plot(1-x^2,(x,0,1))`, the graphic changes.  But:\n> * Try doing a Jsmol, and then try changing *that* notebook cell and re-evaluating.  If you don't have the \"Load 3D Live\" checkbox clicked, you'll think you changed it - but you didn't!  As soon as you make it live, it's the exact same one as before.  If you have the live checkbox clicked (this refers to #16004, for those who come new to this) then this is quite obvious.\n> \n> If it helps, the filenames are definitely changing:\n> \n> ```\n> $ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82\n> sage0-size500-155928955.jmol.zip\tsage0-size500.jmol\n> $ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82\n> sage0-size500-938371752.jmol.zip\tsage0-size500.jmol\n> $ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82\n> sage0-size500-522166844.jmol.zip\tsage0-size500.jmol\n> $ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82\n> sage0-size500-996347389.jmol.zip\tsage0-size500.jmol\n> ```\n> but I suspect that something is *not* being overwritten somewhere.",
    "created_at": "2014-10-20T20:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205822",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'>Comment 5:</a>
I think we really need more reviewers now at the pull request.  

On a likely related note, I *think* the following is due to the changes here.  Any ideas?

> * If you make a standard 2d plot like `plot(1-x,(x,0,1))`, evaluate, and then go back to *that same cell* and change it to something else like `plot(1-x^2,(x,0,1))`, the graphic changes.  But:
> * Try doing a Jsmol, and then try changing *that* notebook cell and re-evaluating.  If you don't have the "Load 3D Live" checkbox clicked, you'll think you changed it - but you didn't!  As soon as you make it live, it's the exact same one as before.  If you have the live checkbox clicked (this refers to #16004, for those who come new to this) then this is quite obvious.
> 
> If it helps, the filenames are definitely changing:
> 
> ```
> $ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82
> sage0-size500-155928955.jmol.zip	sage0-size500.jmol
> $ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82
> sage0-size500-938371752.jmol.zip	sage0-size500.jmol
> $ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82
> sage0-size500-522166844.jmol.zip	sage0-size500.jmol
> $ ls .sage/sage_notebook.sagenb/home/admin/264/cells/82
> sage0-size500-996347389.jmol.zip	sage0-size500.jmol
> ```
> but I suspect that something is *not* being overwritten somewhere.



---

archive/issue_comments_205823.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nNo ideas on the above, since I do not see the problem in my build.  I am running the latest commits, but am not sure from the discussions on the pull list if you have some other commits from different branches.",
    "created_at": "2014-10-20T20:40:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205823",
    "user": "https://github.com/gutow"
}
```

<a id='comment:6'>Comment 6:</a>
No ideas on the above, since I do not see the problem in my build.  I am running the latest commits, but am not sure from the discussions on the pull list if you have some other commits from different branches.



---

archive/issue_comments_205824.json:
```json
{
    "body": "<a id='comment:117'>Comment 117:</a>\nReplying to [@kcrisman](#comment%3A115):\n> On a likely related note, I *think* the following is due to the changes here.  Any ideas?\n\n> > but I suspect that something is *not* being overwritten somewhere.\n\nIs it possible you are running into overzealous caching? The change in file name should fix that.  Is the file name changing in the html on your page?  If not your browser is not updating the page.",
    "created_at": "2014-10-20T20:43:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205824",
    "user": "https://github.com/gutow"
}
```

<a id='comment:117'>Comment 117:</a>
Replying to [@kcrisman](#comment%3A115):
> On a likely related note, I *think* the following is due to the changes here.  Any ideas?

> > but I suspect that something is *not* being overwritten somewhere.

Is it possible you are running into overzealous caching? The change in file name should fix that.  Is the file name changing in the html on your page?  If not your browser is not updating the page.



---

archive/issue_comments_205825.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nHa! I just got it to happen...Now if I can only figure out what I did!",
    "created_at": "2014-10-20T21:06:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205825",
    "user": "https://github.com/gutow"
}
```

<a id='comment:8'>Comment 8:</a>
Ha! I just got it to happen...Now if I can only figure out what I did!



---

archive/issue_comments_205826.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nOK, I'm almost sure it is a caching issue.  I think we are being bitten by something I've wanted to rewrite for a while.  In addition to the data file, Sage writes a custom Jmol script to launch the display.  I think we could avoid using it, but I've tried to change as little as possible to maintain backwards compatibility.  Anyway, I don't think this is a new bug.  The script is not given a unique name, so we are picking up the one from the cache.  I will see if the simple fix of providing a unique name will work.  Ultimately that script file should go and we should just make a \".jmol\" file.",
    "created_at": "2014-10-20T21:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205826",
    "user": "https://github.com/gutow"
}
```

<a id='comment:9'>Comment 9:</a>
OK, I'm almost sure it is a caching issue.  I think we are being bitten by something I've wanted to rewrite for a while.  In addition to the data file, Sage writes a custom Jmol script to launch the display.  I think we could avoid using it, but I've tried to change as little as possible to maintain backwards compatibility.  Anyway, I don't think this is a new bug.  The script is not given a unique name, so we are picking up the one from the cache.  I will see if the simple fix of providing a unique name will work.  Ultimately that script file should go and we should just make a ".jmol" file.



---

archive/issue_comments_205827.json:
```json
{
    "body": "<a id='comment:120'>Comment 120:</a>\n> OK, I'm almost sure it is a caching issue. \n\nI just tried this as well and I think I agree with you.  But it's completely pervasive for me, even interacts are now no longer working properly.   I get it now consistently in Safari, FF, but *not* Chrome.  At least, not on the js, though on the java it seems to still happen.  (Clearing cache in Chrome is particularly annoying with the Java because it also logs me out of Sage as you have to clear plugins *and* cookies together, can't only clear plugins.)\n> Anyway, I don't think this is a new bug.  \n\nPerhaps, but I think I would have noticed this if it was common before.  I can't get it to *not* happen in FF and Safari right now :(\n> The script is not given a unique name, so we are picking up the one from the cache.  I will see if the simple fix of providing a unique name will work.\n\nWell, that would be nice.  Sometimes programming even does have nice solutions - let's hope.  Thanks very much for looking into this.",
    "created_at": "2014-10-21T02:41:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205827",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:120'>Comment 120:</a>
> OK, I'm almost sure it is a caching issue. 

I just tried this as well and I think I agree with you.  But it's completely pervasive for me, even interacts are now no longer working properly.   I get it now consistently in Safari, FF, but *not* Chrome.  At least, not on the js, though on the java it seems to still happen.  (Clearing cache in Chrome is particularly annoying with the Java because it also logs me out of Sage as you have to clear plugins *and* cookies together, can't only clear plugins.)
> Anyway, I don't think this is a new bug.  

Perhaps, but I think I would have noticed this if it was common before.  I can't get it to *not* happen in FF and Safari right now :(
> The script is not given a unique name, so we are picking up the one from the cache.  I will see if the simple fix of providing a unique name will work.

Well, that would be nice.  Sometimes programming even does have nice solutions - let's hope.  Thanks very much for looking into this.



---

archive/issue_comments_205828.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nMore info.   Clicking on the js console gives\n\n```\nFileManager opening 1 http://localhost:8080/home/admin/302/cells/1/sage0-size500.jmol\nFileManager opening 3 http://localhost:8080/home/admin/302/cells/1/sage0-size500-184635879.jmol.zip|SCRIPT\nFileManager opening 1 http://localhost:8080/home/admin/302/cells/1/sage0-size500-184635879.jmol.zip\nThe Resolver thinks Xyz\nreading 10 atoms\nModelSet: haveSymmetry:false haveUnitcells:false haveFractionalCoord:false\n1 model in this collection. Use getProperty \"modelInfo\" or getProperty \"auxiliaryInfo\" to inspect them.\nDefault Van der Waals type for model set to Babel\n10 atoms created\nModelSet: autobonding; use autobond=false to not generate bonds automatically\nno data\npmesh obj_729730 \"obj_729730.pmesh\";\nreading isosurface data from http://localhost:8080/home/admin/302/cells/1/sage0-size500-184635879.jmol.zip|obj_729730.pmesh\nFileManager opening 3 http://localhost:8080/home/admin/302/cells/1/sage0-size500-184635879.jmol.zip|obj_729730.pmesh\nFileManager opening 1 http://localhost:8080/home/admin/302/cells/1/sage0-size500-184635879.jmol.zip\n```\nBut \n\n```\n$ cd .sage/sage_notebook.sagenb/home/admin/302/cells/1\n$ ls\nsage0-size500-508165167.jmol.zip\tsage0-size500.jmol\n```\nSo the old 1846... isn't even in the directory!  Is it in the `.jmol` file?  What role does that file even play?\n\n---\n\nAnother thing I'm noticing is that, in the past, I thought one could only discard changes since the last cell evaluation, which sort of automatically saved.  But for some reason now \"discard changes\" seems to discard ALL changes since the last save.  I can't see now how any of this could be responsible for that, but I am going to have to confirm that this is either prior behavior (which I don't buy) or unrelated (which I hope).",
    "created_at": "2014-10-21T12:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205828",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'>Comment 1:</a>
More info.   Clicking on the js console gives

```
FileManager opening 1 http://localhost:8080/home/admin/302/cells/1/sage0-size500.jmol
FileManager opening 3 http://localhost:8080/home/admin/302/cells/1/sage0-size500-184635879.jmol.zip|SCRIPT
FileManager opening 1 http://localhost:8080/home/admin/302/cells/1/sage0-size500-184635879.jmol.zip
The Resolver thinks Xyz
reading 10 atoms
ModelSet: haveSymmetry:false haveUnitcells:false haveFractionalCoord:false
1 model in this collection. Use getProperty "modelInfo" or getProperty "auxiliaryInfo" to inspect them.
Default Van der Waals type for model set to Babel
10 atoms created
ModelSet: autobonding; use autobond=false to not generate bonds automatically
no data
pmesh obj_729730 "obj_729730.pmesh";
reading isosurface data from http://localhost:8080/home/admin/302/cells/1/sage0-size500-184635879.jmol.zip|obj_729730.pmesh
FileManager opening 3 http://localhost:8080/home/admin/302/cells/1/sage0-size500-184635879.jmol.zip|obj_729730.pmesh
FileManager opening 1 http://localhost:8080/home/admin/302/cells/1/sage0-size500-184635879.jmol.zip
```
But 

```
$ cd .sage/sage_notebook.sagenb/home/admin/302/cells/1
$ ls
sage0-size500-508165167.jmol.zip	sage0-size500.jmol
```
So the old 1846... isn't even in the directory!  Is it in the `.jmol` file?  What role does that file even play?

---

Another thing I'm noticing is that, in the past, I thought one could only discard changes since the last cell evaluation, which sort of automatically saved.  But for some reason now "discard changes" seems to discard ALL changes since the last save.  I can't see now how any of this could be responsible for that, but I am going to have to confirm that this is either prior behavior (which I don't buy) or unrelated (which I hope).



---

archive/issue_comments_205829.json:
```json
{
    "body": "<a id='comment:122'>Comment 122:</a>\n> Another thing I'm noticing is that, in the past, I thought one could only discard changes since the last cell evaluation, which sort of automatically saved.  But for some reason now \"discard changes\" seems to discard ALL changes since the last save.  I can't see now how any of this could be responsible for that, but I am going to have to confirm that this is either prior behavior (which I don't buy) or unrelated (which I hope).\n\nYikes, this is actual behavior.  I mean, it's consistent, but scary without autosave... I don't know how I ever didn't notice this before.  Save often!",
    "created_at": "2014-10-21T12:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205829",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:122'>Comment 122:</a>
> Another thing I'm noticing is that, in the past, I thought one could only discard changes since the last cell evaluation, which sort of automatically saved.  But for some reason now "discard changes" seems to discard ALL changes since the last save.  I can't see now how any of this could be responsible for that, but I am going to have to confirm that this is either prior behavior (which I don't buy) or unrelated (which I hope).

Yikes, this is actual behavior.  I mean, it's consistent, but scary without autosave... I don't know how I ever didn't notice this before.  Save often!



---

archive/issue_comments_205830.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nJonathan, try this.\n\n```diff\ndiff --git a/sagenb/notebook/cell.py b/sagenb/notebook/cell.py\nindex 7c322c9..d0ce526 100755\n--- a/sagenb/notebook/cell.py\n+++ b/sagenb/notebook/cell.py\n@@ -2350,7 +2350,7 @@ class Cell(Cell_generic):\n             <div id=\"loadJmol\" style=\"display:none;\">{id}</div>\n             <div id=\"sage_jmol_size_{id}\" style=\"display:none;\">{size}</div>\n             <div id=\"sage_jmol_img_{id}\" style=\"display:none;\">{image_name}.png?{timestamp}</div>\n-            <div id=\"sage_jmol_script_{id}\" style=\"display:none;\">{filename}</div>\n+            <div id=\"sage_jmol_script_{id}\" style=\"display:none;\">{filename}?{timestamp}</div>\n             <div id=\"sage_jmol_server_url_{id}\" style=\"display:none;\">{callback}</div>\n             <div id=\"sage_jmol_status_{id}\" style=\"display:none;\">notActivated</div>\n         </div>\n```\n\nI think that the source of this is [this commit](https://github.com/vbraun/sagenb/commit/c1d9aa3dc88bcb75547993607127c89fd03f0a19) where the `?time.time()` was inadvertently removed in an otherwise-useful refactoring.",
    "created_at": "2014-10-21T13:56:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205830",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'>Comment 3:</a>
Jonathan, try this.

```diff
diff --git a/sagenb/notebook/cell.py b/sagenb/notebook/cell.py
index 7c322c9..d0ce526 100755
--- a/sagenb/notebook/cell.py
+++ b/sagenb/notebook/cell.py
@@ -2350,7 +2350,7 @@ class Cell(Cell_generic):
             <div id="loadJmol" style="display:none;">{id}</div>
             <div id="sage_jmol_size_{id}" style="display:none;">{size}</div>
             <div id="sage_jmol_img_{id}" style="display:none;">{image_name}.png?{timestamp}</div>
-            <div id="sage_jmol_script_{id}" style="display:none;">{filename}</div>
+            <div id="sage_jmol_script_{id}" style="display:none;">{filename}?{timestamp}</div>
             <div id="sage_jmol_server_url_{id}" style="display:none;">{callback}</div>
             <div id="sage_jmol_status_{id}" style="display:none;">notActivated</div>
         </div>
```

I think that the source of this is [this commit](https://github.com/vbraun/sagenb/commit/c1d9aa3dc88bcb75547993607127c89fd03f0a19) where the `?time.time()` was inadvertently removed in an otherwise-useful refactoring.



---

archive/issue_comments_205831.json:
```json
{
    "body": "<a id='comment:124'>Comment 124:</a>\n> Jonathan, try this.\n\nYeah, this simple change back to your original code intent reliably fixes the problem for me (undoing it causes the problem again).\n\nAagh!  But it seems to break Chrome for some reason.\n\n```\nError connecting to server: /home/admin/302/jsmol?call=getRawDataFromDatabase&database=_&query=http%3A%2F%2Flocalhost%3A8080%2Fhome%2Fadmin%2F302%2Fcells%2F1%2Fsage0-size500.jmol%3F1413900723.07&encoding=base64\n```\nand an error message logged\n\n```\nexceptions.IOError: [Errno 2] No such file or directory: u'/Users/.../.sage/sage_notebook.sagenb/home/admin/302/cells/1/sage0-size500.jmol1413900723.07\n```\nSo maybe you are right and we have to actually change the name of the script as such.  But I don't want to do that in the Sage library for 3d graphics any more, so I'll try to figure out if we can dynamically do it in the file `cell.py`.",
    "created_at": "2014-10-21T14:11:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205831",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:124'>Comment 124:</a>
> Jonathan, try this.

Yeah, this simple change back to your original code intent reliably fixes the problem for me (undoing it causes the problem again).

Aagh!  But it seems to break Chrome for some reason.

```
Error connecting to server: /home/admin/302/jsmol?call=getRawDataFromDatabase&database=_&query=http%3A%2F%2Flocalhost%3A8080%2Fhome%2Fadmin%2F302%2Fcells%2F1%2Fsage0-size500.jmol%3F1413900723.07&encoding=base64
```
and an error message logged

```
exceptions.IOError: [Errno 2] No such file or directory: u'/Users/.../.sage/sage_notebook.sagenb/home/admin/302/cells/1/sage0-size500.jmol1413900723.07
```
So maybe you are right and we have to actually change the name of the script as such.  But I don't want to do that in the Sage library for 3d graphics any more, so I'll try to figure out if we can dynamically do it in the file `cell.py`.



---

archive/issue_comments_205832.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nOkay, *this* much more hackish code does seem to work properly, including dealing with reloading pages with old files, etc.\n\n```diff\n\ndiff --git a/sagenb/notebook/cell.py b/sagenb/notebook/cell.py\nindex 7c322c9..20ea9c1 100755\n--- a/sagenb/notebook/cell.py\n+++ b/sagenb/notebook/cell.py\n@@ -2333,8 +2333,8 @@ class Cell(Cell_generic):\n         #\n         # So we need to prepend the worksheet URL, in order\n         # for the zip to be accessed correctly.\n+        jmol_name = os.path.join(self.directory(), F)\n         if self.worksheet().docbrowser():\n-            jmol_name = os.path.join(self.directory(), F)\n             with open(jmol_name, 'r') as f:\n                 jmol_script = f.read()\n             jmol_script = jmol_script.replace(\n@@ -2343,8 +2343,12 @@ class Cell(Cell_generic):\n             with open(jmol_name, 'w') as f:\n                 f.write(jmol_script)\n \n+        F_time = F.replace('.jmol','-{}time.jmol'.format( time.time() ))\n+        jmol_name_time = os.path.join(self.directory(), F_time)\n+        shutil.copy2(jmol_name, jmol_name_time)\n+\n         image_name = os.path.join(self.url_to_self(),'.jmol_images',F)\n-        script_name = os.path.join(self.url_to_self(), F)\n+        script_name = os.path.join(self.url_to_self(), F_time)\n         return textwrap.dedent(\"\"\"\n         <div id=\"sage_jmol_{id}\" class=\"3DPlotDiv\">\n             <div id=\"loadJmol\" style=\"display:none;\">{id}</div>\n@@ -2423,6 +2427,8 @@ class Cell(Cell_generic):\n                 pass # obj data\n             elif F.endswith('.svg'):\n                 images.append('<embed src=\"%s\" type=\"image/svg+xml\" name=\"emap\">' % url)\n+            elif F.endswith('time.jmol'):\n+                pass\n             elif F.endswith('.jmol'):\n                 images.append(self._jmol_files_html(F))\n                 jmolimagebase = F\n```\nBut I'd much rather hear that there is a way to make Chrome like the `?` syntax for the script and not just the graphic.",
    "created_at": "2014-10-21T15:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205832",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'>Comment 5:</a>
Okay, *this* much more hackish code does seem to work properly, including dealing with reloading pages with old files, etc.

```diff

diff --git a/sagenb/notebook/cell.py b/sagenb/notebook/cell.py
index 7c322c9..20ea9c1 100755
--- a/sagenb/notebook/cell.py
+++ b/sagenb/notebook/cell.py
@@ -2333,8 +2333,8 @@ class Cell(Cell_generic):
         #
         # So we need to prepend the worksheet URL, in order
         # for the zip to be accessed correctly.
+        jmol_name = os.path.join(self.directory(), F)
         if self.worksheet().docbrowser():
-            jmol_name = os.path.join(self.directory(), F)
             with open(jmol_name, 'r') as f:
                 jmol_script = f.read()
             jmol_script = jmol_script.replace(
@@ -2343,8 +2343,12 @@ class Cell(Cell_generic):
             with open(jmol_name, 'w') as f:
                 f.write(jmol_script)
 
+        F_time = F.replace('.jmol','-{}time.jmol'.format( time.time() ))
+        jmol_name_time = os.path.join(self.directory(), F_time)
+        shutil.copy2(jmol_name, jmol_name_time)
+
         image_name = os.path.join(self.url_to_self(),'.jmol_images',F)
-        script_name = os.path.join(self.url_to_self(), F)
+        script_name = os.path.join(self.url_to_self(), F_time)
         return textwrap.dedent("""
         <div id="sage_jmol_{id}" class="3DPlotDiv">
             <div id="loadJmol" style="display:none;">{id}</div>
@@ -2423,6 +2427,8 @@ class Cell(Cell_generic):
                 pass # obj data
             elif F.endswith('.svg'):
                 images.append('<embed src="%s" type="image/svg+xml" name="emap">' % url)
+            elif F.endswith('time.jmol'):
+                pass
             elif F.endswith('.jmol'):
                 images.append(self._jmol_files_html(F))
                 jmolimagebase = F
```
But I'd much rather hear that there is a way to make Chrome like the `?` syntax for the script and not just the graphic.



---

archive/issue_comments_205833.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nHere is at least one piece of the problem, in the file `sagenb/flask_version/worksheet.py`:\n\n```\nfilename = match.group('filename')\nfilename = secure_filename(filename) # never trust input\n```\nThis removes the ? without the rest.\n\nInterestingly, one reason this happens at all is because only Chrome goes through this URI\n\n```\n@worksheet_command('jsmol')\ndef worksheet_jsmol_data(worksheet):\n```\nas far as I can tell.  I have no idea why the others don't.\n\nAnyhow, maybe this updated version of the first diff would work.\n\n```diff\n\ndiff --git a/sagenb/flask_version/worksheet.py b/sagenb/flask_version/worksheet.py\nindex 40c3d54..fd0dcf2 100644\n--- a/sagenb/flask_version/worksheet.py\n+++ b/sagenb/flask_version/worksheet.py\n@@ -695,6 +695,7 @@ def worksheet_jsmol_data(worksheet):\n             return current_app.message(_('Invalid JSmol query: ' + query))\n         cell_id = match.group('cell_id')\n         filename = match.group('filename')\n+        filename = filename.rsplit('?',1)[0] # appended query is only for cache busting\n         filename = secure_filename(filename)   # never trust input\n         filename = os.path.join(worksheet.cells_directory(), cell_id, filename)\n         with open(filename, 'r') as f:\ndiff --git a/sagenb/notebook/cell.py b/sagenb/notebook/cell.py\nindex 7c322c9..d0ce526 100755\n--- a/sagenb/notebook/cell.py\n+++ b/sagenb/notebook/cell.py\n@@ -2350,7 +2350,7 @@ class Cell(Cell_generic):\n             <div id=\"loadJmol\" style=\"display:none;\">{id}</div>\n             <div id=\"sage_jmol_size_{id}\" style=\"display:none;\">{size}</div>\n             <div id=\"sage_jmol_img_{id}\" style=\"display:none;\">{image_name}.png?{timestamp}</div>\n-            <div id=\"sage_jmol_script_{id}\" style=\"display:none;\">{filename}</div>\n+            <div id=\"sage_jmol_script_{id}\" style=\"display:none;\">{filename}?{timestamp}</div>\n             <div id=\"sage_jmol_server_url_{id}\" style=\"display:none;\">{callback}</div>\n             <div id=\"sage_jmol_status_{id}\" style=\"display:none;\">notActivated</div>\n         </div>\n```\nTry one or all of these out.",
    "created_at": "2014-10-21T16:48:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205833",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'>Comment 6:</a>
Here is at least one piece of the problem, in the file `sagenb/flask_version/worksheet.py`:

```
filename = match.group('filename')
filename = secure_filename(filename) # never trust input
```
This removes the ? without the rest.

Interestingly, one reason this happens at all is because only Chrome goes through this URI

```
@worksheet_command('jsmol')
def worksheet_jsmol_data(worksheet):
```
as far as I can tell.  I have no idea why the others don't.

Anyhow, maybe this updated version of the first diff would work.

```diff

diff --git a/sagenb/flask_version/worksheet.py b/sagenb/flask_version/worksheet.py
index 40c3d54..fd0dcf2 100644
--- a/sagenb/flask_version/worksheet.py
+++ b/sagenb/flask_version/worksheet.py
@@ -695,6 +695,7 @@ def worksheet_jsmol_data(worksheet):
             return current_app.message(_('Invalid JSmol query: ' + query))
         cell_id = match.group('cell_id')
         filename = match.group('filename')
+        filename = filename.rsplit('?',1)[0] # appended query is only for cache busting
         filename = secure_filename(filename)   # never trust input
         filename = os.path.join(worksheet.cells_directory(), cell_id, filename)
         with open(filename, 'r') as f:
diff --git a/sagenb/notebook/cell.py b/sagenb/notebook/cell.py
index 7c322c9..d0ce526 100755
--- a/sagenb/notebook/cell.py
+++ b/sagenb/notebook/cell.py
@@ -2350,7 +2350,7 @@ class Cell(Cell_generic):
             <div id="loadJmol" style="display:none;">{id}</div>
             <div id="sage_jmol_size_{id}" style="display:none;">{size}</div>
             <div id="sage_jmol_img_{id}" style="display:none;">{image_name}.png?{timestamp}</div>
-            <div id="sage_jmol_script_{id}" style="display:none;">{filename}</div>
+            <div id="sage_jmol_script_{id}" style="display:none;">{filename}?{timestamp}</div>
             <div id="sage_jmol_server_url_{id}" style="display:none;">{callback}</div>
             <div id="sage_jmol_status_{id}" style="display:none;">notActivated</div>
         </div>
```
Try one or all of these out.



---

archive/issue_comments_205834.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nFor positive review, I think here is what we still need.\n* Positive review for #17020\n* Positive review for #17170, thought this is somewhat orthogonal\n* Merging my minor css change stuff at https://github.com/vbraun/sagenb/pull/1\n* Some fix to this last cache busting issue\n\nThen I think we need to really push it into a new package for upstream so that it can be tested *thoroughly*.  Depending on where Volker is in the release process, maybe the first beta of the next one, or in the current beta series.",
    "created_at": "2014-10-21T16:55:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205834",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'>Comment 7:</a>
For positive review, I think here is what we still need.
* Positive review for #17020
* Positive review for #17170, thought this is somewhat orthogonal
* Merging my minor css change stuff at https://github.com/vbraun/sagenb/pull/1
* Some fix to this last cache busting issue

Then I think we need to really push it into a new package for upstream so that it can be tested *thoroughly*.  Depending on where Volker is in the release process, maybe the first beta of the next one, or in the current beta series.



---

archive/issue_comments_205835.json:
```json
{
    "body": "<a id='comment:128'>Comment 128:</a>\n(+1) This last patch works for me on FF/linux and is reasonably simple.\n> Anyhow, maybe this updated version of the first diff would work.\n> \n> ```diff\n> \n> diff --git a/sagenb/flask_version/worksheet.py b/sagenb/flask_version/worksheet.py\n> index 40c3d54..fd0dcf2 100644\n> --- a/sagenb/flask_version/worksheet.py\n> +++ b/sagenb/flask_version/worksheet.py\n> @@ -695,6 +695,7 @@ def worksheet_jsmol_data(worksheet):\n>              return current_app.message(_('Invalid JSmol query: ' + query))\n>          cell_id = match.group('cell_id')\n>          filename = match.group('filename')\n> +        filename = filename.rsplit('?',1)[0] # appended query is only for cache busting\n>          filename = secure_filename(filename)   # never trust input\n>          filename = os.path.join(worksheet.cells_directory(), cell_id, filename)\n>          with open(filename, 'r') as f:\n> diff --git a/sagenb/notebook/cell.py b/sagenb/notebook/cell.py\n> index 7c322c9..d0ce526 100755\n> --- a/sagenb/notebook/cell.py\n> +++ b/sagenb/notebook/cell.py\n> @@ -2350,7 +2350,7 @@ class Cell(Cell_generic):\n>              <div id=\"loadJmol\" style=\"display:none;\">{id}</div>\n>              <div id=\"sage_jmol_size_{id}\" style=\"display:none;\">{size}</div>\n>              <div id=\"sage_jmol_img_{id}\" style=\"display:none;\">{image_name}.png?{timestamp}</div>\n> -            <div id=\"sage_jmol_script_{id}\" style=\"display:none;\">{filename}</div>\n> +            <div id=\"sage_jmol_script_{id}\" style=\"display:none;\">{filename}?{timestamp}</div>\n>              <div id=\"sage_jmol_server_url_{id}\" style=\"display:none;\">{callback}</div>\n>              <div id=\"sage_jmol_status_{id}\" style=\"display:none;\">notActivated</div>\n>          </div>\n> ```",
    "created_at": "2014-10-21T17:51:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205835",
    "user": "https://github.com/gutow"
}
```

<a id='comment:128'>Comment 128:</a>
(+1) This last patch works for me on FF/linux and is reasonably simple.
> Anyhow, maybe this updated version of the first diff would work.
> 
> ```diff
> 
> diff --git a/sagenb/flask_version/worksheet.py b/sagenb/flask_version/worksheet.py
> index 40c3d54..fd0dcf2 100644
> --- a/sagenb/flask_version/worksheet.py
> +++ b/sagenb/flask_version/worksheet.py
> @@ -695,6 +695,7 @@ def worksheet_jsmol_data(worksheet):
>              return current_app.message(_('Invalid JSmol query: ' + query))
>          cell_id = match.group('cell_id')
>          filename = match.group('filename')
> +        filename = filename.rsplit('?',1)[0] # appended query is only for cache busting
>          filename = secure_filename(filename)   # never trust input
>          filename = os.path.join(worksheet.cells_directory(), cell_id, filename)
>          with open(filename, 'r') as f:
> diff --git a/sagenb/notebook/cell.py b/sagenb/notebook/cell.py
> index 7c322c9..d0ce526 100755
> --- a/sagenb/notebook/cell.py
> +++ b/sagenb/notebook/cell.py
> @@ -2350,7 +2350,7 @@ class Cell(Cell_generic):
>              <div id="loadJmol" style="display:none;">{id}</div>
>              <div id="sage_jmol_size_{id}" style="display:none;">{size}</div>
>              <div id="sage_jmol_img_{id}" style="display:none;">{image_name}.png?{timestamp}</div>
> -            <div id="sage_jmol_script_{id}" style="display:none;">{filename}</div>
> +            <div id="sage_jmol_script_{id}" style="display:none;">{filename}?{timestamp}</div>
>              <div id="sage_jmol_server_url_{id}" style="display:none;">{callback}</div>
>              <div id="sage_jmol_status_{id}" style="display:none;">notActivated</div>
>          </div>
> ```



---

archive/issue_comments_205836.json:
```json
{
    "body": "<a id='comment:129'>Comment 129:</a>\n> (+1) This last patch works for me on FF/linux and is reasonably simple.\n\nOkay, that is good.  I'll try to push something along these lines tonight.\n\nIf you can take a look at the CSS change stuff and possibly merge that in, then we are quite close.",
    "created_at": "2014-10-21T17:55:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205836",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:129'>Comment 129:</a>
> (+1) This last patch works for me on FF/linux and is reasonably simple.

Okay, that is good.  I'll try to push something along these lines tonight.

If you can take a look at the CSS change stuff and possibly merge that in, then we are quite close.



---

archive/issue_comments_205837.json:
```json
{
    "body": "<a id='comment:0'>Comment 0:</a>\nI ended up making a mess of the commit history but merged both of these things in this morning.  So shortly we should merge them to sagenb, and then try to make a package for this ticket - assuming #16911 gets in first, which it definitely should.",
    "created_at": "2014-10-22T13:40:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205837",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:0'>Comment 0:</a>
I ended up making a mess of the commit history but merged both of these things in this morning.  So shortly we should merge them to sagenb, and then try to make a package for this ticket - assuming #16911 gets in first, which it definitely should.



---

archive/issue_comments_205838.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nOK, I'm now synced with the new_jmol repository and everything looks OK.  Are we at the positive review stage? I think I checked carefully that all of Karl-Dieter's css changes went into both the scss and the css.",
    "created_at": "2014-10-23T01:02:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205838",
    "user": "https://github.com/gutow"
}
```

<a id='comment:1'>Comment 1:</a>
OK, I'm now synced with the new_jmol repository and everything looks OK.  Are we at the positive review stage? I think I checked carefully that all of Karl-Dieter's css changes went into both the scss and the css.



---

archive/issue_comments_205839.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nYeah, I can't think of anything else.  All your browsers work nicely?\n\nIn that case, I will merge that WHOLE pull request, with all its ugly extra commits, and then ask ppurka if we can get a new sagenb package.  (I haven't really checked into how to do that yet.)   It would wait until after #16911 but then hopefully we can get a nice good period of testing in with whatever beta it gets merged into.\n\nThanks in advance for all your very good work on this; to ask a chemist to write tons of javascript and html for mathematics is a bit above the call of duty :)",
    "created_at": "2014-10-23T01:11:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205839",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'>Comment 2:</a>
Yeah, I can't think of anything else.  All your browsers work nicely?

In that case, I will merge that WHOLE pull request, with all its ugly extra commits, and then ask ppurka if we can get a new sagenb package.  (I haven't really checked into how to do that yet.)   It would wait until after #16911 but then hopefully we can get a nice good period of testing in with whatever beta it gets merged into.

Thanks in advance for all your very good work on this; to ask a chemist to write tons of javascript and html for mathematics is a bit above the call of duty :)



---

archive/issue_comments_205840.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nNeeds a package of course, so 'needs work'.",
    "created_at": "2014-10-23T02:17:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205840",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'>Comment 3:</a>
Needs a package of course, so 'needs work'.



---

archive/issue_events_203379.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-10-23T02:17:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203379"
}
```



---

archive/issue_events_203380.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-10-23T02:17:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203380"
}
```



---

archive/issue_comments_205841.json:
```json
{
    "body": "Branch: **[u/kcrisman/jsmolsagenb](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/jsmolsagenb)**",
    "created_at": "2014-10-27T20:35:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205841",
    "user": "https://github.com/kcrisman"
}
```

Branch: **[u/kcrisman/jsmolsagenb](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/jsmolsagenb)**



---

archive/issue_comments_205842.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5354abd32c0f396ab06a46a4141e77ce487eb8e\">c5354ab</a></td><td><code>Upgrade sagenb to version 0.11.0</code></td></tr></table>\n",
    "created_at": "2014-10-27T20:35:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205842",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'>Comment 4:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5354abd32c0f396ab06a46a4141e77ce487eb8e">c5354ab</a></td><td><code>Upgrade sagenb to version 0.11.0</code></td></tr></table>




---

archive/issue_comments_205843.json:
```json
{
    "body": "Commit: **[c5354ab](https://github.com/sagemath/sagetrac-mirror/commit/c5354abd32c0f396ab06a46a4141e77ce487eb8e)**",
    "created_at": "2014-10-27T20:35:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205843",
    "user": "https://github.com/kcrisman"
}
```

Commit: **[c5354ab](https://github.com/sagemath/sagetrac-mirror/commit/c5354abd32c0f396ab06a46a4141e77ce487eb8e)**



---

archive/issue_events_203381.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-10-27T20:43:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203381"
}
```



---

archive/issue_events_203382.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-10-27T20:43:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203382"
}
```



---

archive/issue_comments_205844.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nReady to try out!",
    "created_at": "2014-10-27T20:43:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205844",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'>Comment 5:</a>
Ready to try out!



---

archive/issue_comments_205845.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,10 +10,11 @@\n Will require a new sagenb release: [INSERT HERE]\n \n How to test:\n-1. Switch Sage to #17020\n+1. Update Sage with #17020\n 2. Download the repackaged Jmol from the link provide in #17020 and save the package in the \"upstream\" directory of your sage install.\n 3. run `sage -f jmol` to install the new jmol.\n-4. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`\n-5. From within the sagenb repository run `sage -python setup.py install`\n-\n-For testing, #17170 is also advised, since without it display in the notebook does not work properly.\n+4. Update Sage with the branch here\n+5. Put [the new upstream package](http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.0.tar) into `SAGE_ROOT/upstream`\n+6. Do `sage -f sagenb-0.11.0`\n+7. Test!\n+8. For testing, #17170 is also advised, since without it display in the notebook does not work properly.\n``````\n",
    "created_at": "2014-10-27T20:43:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205845",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,10 +10,11 @@
 Will require a new sagenb release: [INSERT HERE]
 
 How to test:
-1. Switch Sage to #17020
+1. Update Sage with #17020
 2. Download the repackaged Jmol from the link provide in #17020 and save the package in the "upstream" directory of your sage install.
 3. run `sage -f jmol` to install the new jmol.
-4. Clone the `new_jmol` branch from the PR to anywhere convenient on your system: `git clone https://github.com/vbraun/sagenb.git -b new_jmol`
-5. From within the sagenb repository run `sage -python setup.py install`
-
-For testing, #17170 is also advised, since without it display in the notebook does not work properly.
+4. Update Sage with the branch here
+5. Put [the new upstream package](http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.0.tar) into `SAGE_ROOT/upstream`
+6. Do `sage -f sagenb-0.11.0`
+7. Test!
+8. For testing, #17170 is also advised, since without it display in the notebook does not work properly.
``````




---

archive/issue_comments_205846.json:
```json
{
    "body": "Changed branch from **[u/kcrisman/jsmolsagenb](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/jsmolsagenb)** to **[u/vbraun/jsmolsagenb](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/jsmolsagenb)**",
    "created_at": "2014-10-28T14:16:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205846",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/kcrisman/jsmolsagenb](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/jsmolsagenb)** to **[u/vbraun/jsmolsagenb](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/jsmolsagenb)**



---

archive/issue_comments_205847.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nFixed the obvious conflict with #16911\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d3d3e993bb1bef1f25fcf36dcd45cbc37d3c132\">2d3d3e9</a></td><td><code>update sagenb developer guide with new dev instructions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe9630cb38206b159300438adb3fa552090f8acf\">fe9630c</a></td><td><code>update sagenb version and checksum</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b84d5029fc38e5882d6e589481dbe17e4452860e\">b84d502</a></td><td><code>Update checksums for sagenb 0.10.8.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4c94cd49e564f339ca64729cc579365aa945812\">a4c94cd</a></td><td><code>Merge #16911</code></td></tr></table>\n",
    "created_at": "2014-10-28T14:17:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205847",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'>Comment 7:</a>
Fixed the obvious conflict with #16911

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d3d3e993bb1bef1f25fcf36dcd45cbc37d3c132">2d3d3e9</a></td><td><code>update sagenb developer guide with new dev instructions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe9630cb38206b159300438adb3fa552090f8acf">fe9630c</a></td><td><code>update sagenb version and checksum</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b84d5029fc38e5882d6e589481dbe17e4452860e">b84d502</a></td><td><code>Update checksums for sagenb 0.10.8.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4c94cd49e564f339ca64729cc579365aa945812">a4c94cd</a></td><td><code>Merge #16911</code></td></tr></table>




---

archive/issue_comments_205848.json:
```json
{
    "body": "Changed commit from **[c5354ab](https://github.com/sagemath/sagetrac-mirror/commit/c5354abd32c0f396ab06a46a4141e77ce487eb8e)** to **[a4c94cd](https://github.com/sagemath/sagetrac-mirror/commit/a4c94cd49e564f339ca64729cc579365aa945812)**",
    "created_at": "2014-10-28T14:17:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205848",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[c5354ab](https://github.com/sagemath/sagetrac-mirror/commit/c5354abd32c0f396ab06a46a4141e77ce487eb8e)** to **[a4c94cd](https://github.com/sagemath/sagetrac-mirror/commit/a4c94cd49e564f339ca64729cc579365aa945812)**



---

archive/issue_comments_205849.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,8 +13,10 @@\n 1. Update Sage with #17020\n 2. Download the repackaged Jmol from the link provide in #17020 and save the package in the \"upstream\" directory of your sage install.\n 3. run `sage -f jmol` to install the new jmol.\n-4. Update Sage with the branch here\n-5. Put [the new upstream package](http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.0.tar) into `SAGE_ROOT/upstream`\n-6. Do `sage -f sagenb-0.11.0`\n-7. Test!\n-8. For testing, #17170 is also advised, since without it display in the notebook does not work properly.\n+4. If you don't have it yet, update Sage with #16911 **or** just use this branch that Volker has merged with that one.\n+5. Same with #16396 if you want to build doc correctly.\n+6. Update Sage with the branch here\n+7. Put [the new upstream package](http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.0.tar) into `SAGE_ROOT/upstream`\n+8. Do `sage -f sagenb-0.11.0`\n+9. Test!\n+10. For testing, #17170 is also advised, since without it display in the notebook does not work properly.\n``````\n",
    "created_at": "2014-10-28T14:23:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205849",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,8 +13,10 @@
 1. Update Sage with #17020
 2. Download the repackaged Jmol from the link provide in #17020 and save the package in the "upstream" directory of your sage install.
 3. run `sage -f jmol` to install the new jmol.
-4. Update Sage with the branch here
-5. Put [the new upstream package](http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.0.tar) into `SAGE_ROOT/upstream`
-6. Do `sage -f sagenb-0.11.0`
-7. Test!
-8. For testing, #17170 is also advised, since without it display in the notebook does not work properly.
+4. If you don't have it yet, update Sage with #16911 **or** just use this branch that Volker has merged with that one.
+5. Same with #16396 if you want to build doc correctly.
+6. Update Sage with the branch here
+7. Put [the new upstream package](http://sage.math.washington.edu/home/kcrisman/sagenb-0.11.0.tar) into `SAGE_ROOT/upstream`
+8. Do `sage -f sagenb-0.11.0`
+9. Test!
+10. For testing, #17170 is also advised, since without it display in the notebook does not work properly.
``````




---

archive/issue_comments_205850.json:
```json
{
    "body": "<a id='comment:138'>Comment 138:</a>\n> Fixed the obvious conflict with #16911\n\nOh, duh.  I'll also mention that in the instructions, why I didn't think about this who knows...",
    "created_at": "2014-10-28T14:23:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205850",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:138'>Comment 138:</a>
> Fixed the obvious conflict with #16911

Oh, duh.  I'll also mention that in the instructions, why I didn't think about this who knows...



---

archive/issue_comments_205851.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nAside from the \"annoying\" DEBUG/JSmol stuff that's dumped to the spawning terminal when one clicks on a 3-D image from Chromium, this looks really slick. I don't know of all the corner cases to test but from what I see, it has my thumbs up!",
    "created_at": "2014-10-28T18:57:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205851",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:9'>Comment 9:</a>
Aside from the "annoying" DEBUG/JSmol stuff that's dumped to the spawning terminal when one clicks on a 3-D image from Chromium, this looks really slick. I don't know of all the corner cases to test but from what I see, it has my thumbs up!



---

archive/issue_comments_205852.json:
```json
{
    "body": "<a id='comment:140'>Comment 140:</a>\n> Aside from the \"annoying\" DEBUG/JSmol stuff that's dumped to the spawning terminal when one clicks on a 3-D image from Chromium, \n\nAs Volker pointed out in [comment:75](#comment%3A75), the level is not due to anyone here... though probably it could be removed.  What is interesting is that it does verify that only Chrome/Chromium actually use that branch, for reasons I cannot fathom.\n\n> this looks really slick. I don't know of all the corner cases to test but from what I see, it has my thumbs up!\n\nAwesome!\n\n(Does the worksheet revision history work properly for you now as well?  You may need to hard remove some cache for that to work, depending.)",
    "created_at": "2014-10-28T19:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205852",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:140'>Comment 140:</a>
> Aside from the "annoying" DEBUG/JSmol stuff that's dumped to the spawning terminal when one clicks on a 3-D image from Chromium, 

As Volker pointed out in [comment:75](#comment%3A75), the level is not due to anyone here... though probably it could be removed.  What is interesting is that it does verify that only Chrome/Chromium actually use that branch, for reasons I cannot fathom.

> this looks really slick. I don't know of all the corner cases to test but from what I see, it has my thumbs up!

Awesome!

(Does the worksheet revision history work properly for you now as well?  You may need to hard remove some cache for that to work, depending.)



---

archive/issue_comments_205853.json:
```json
{
    "body": "<a id='comment:141'>Comment 141:</a>\nReplying to [@kcrisman](#comment%3A140):\n> \n> (Does the worksheet revision history work properly for you now as well?  You may need to hard remove some cache for that to work, depending.)\n\nYes, this does work here. I hadn't noticed that feature.",
    "created_at": "2014-10-28T20:17:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205853",
    "user": "https://github.com/strogdon"
}
```

<a id='comment:141'>Comment 141:</a>
Replying to [@kcrisman](#comment%3A140):
> 
> (Does the worksheet revision history work properly for you now as well?  You may need to hard remove some cache for that to work, depending.)

Yes, this does work here. I hadn't noticed that feature.



---

archive/issue_comments_205854.json:
```json
{
    "body": "<a id='comment:142'>Comment 142:</a>\n> > (Does the worksheet revision history work properly for you now as well?  You may need to hard remove some cache for that to work, depending.)\n\n> \n> Yes, this does work here. I hadn't noticed that feature.\n\nGood.  You hadn't noticed it because it has been broken for years - and for a very stupid reason, really almost a trivial one.",
    "created_at": "2014-10-28T20:43:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205854",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:142'>Comment 142:</a>
> > (Does the worksheet revision history work properly for you now as well?  You may need to hard remove some cache for that to work, depending.)

> 
> Yes, this does work here. I hadn't noticed that feature.

Good.  You hadn't noticed it because it has been broken for years - and for a very stupid reason, really almost a trivial one.



---

archive/issue_comments_205855.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nVolker, Jonathan - what else do you think we need for positive review?  I think we've had quite a bit of independent looking at it.  Andrey has promised to test once it's in beta as well...",
    "created_at": "2014-10-28T20:46:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205855",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'>Comment 3:</a>
Volker, Jonathan - what else do you think we need for positive review?  I think we've had quite a bit of independent looking at it.  Andrey has promised to test once it's in beta as well...



---

archive/issue_comments_205856.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nAargh, mangled Andrey's name... don't know how that happened.",
    "created_at": "2014-10-28T20:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205856",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'>Comment 4:</a>
Aargh, mangled Andrey's name... don't know how that happened.



---

archive/issue_comments_205857.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nlooks good to me.",
    "created_at": "2014-10-28T21:02:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205857",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'>Comment 5:</a>
looks good to me.



---

archive/issue_events_203383.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-10-29T00:41:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203383"
}
```



---

archive/issue_events_203384.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-10-29T00:41:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203384"
}
```



---

archive/issue_comments_205858.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nGreat!  \n\nJust a request to release manager to make sure there is enough time for people to find any surprises in this in testing - better an early beta than an rc, anyway, though naturally sooner is better.",
    "created_at": "2014-10-29T00:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205858",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'>Comment 7:</a>
Great!  

Just a request to release manager to make sure there is enough time for people to find any surprises in this in testing - better an early beta than an rc, anyway, though naturally sooner is better.



---

archive/issue_comments_205859.json:
```json
{
    "body": "Changed branch from **[u/vbraun/jsmolsagenb](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/jsmolsagenb)** to **[a4c94cd](https://github.com/sagemath/sagetrac-mirror/commit/a4c94cd49e564f339ca64729cc579365aa945812)**",
    "created_at": "2014-10-30T09:44:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205859",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/jsmolsagenb](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/jsmolsagenb)** to **[a4c94cd](https://github.com/sagemath/sagetrac-mirror/commit/a4c94cd49e564f339ca64729cc579365aa945812)**



---

archive/issue_events_203385.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-30T09:44:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203385"
}
```



---

archive/issue_events_203386.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "22836987ac42ef6917c5e3c5f801201a6314e251",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-10-30T09:44:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16004#event-203386"
}
```



---

archive/issue_comments_205860.json:
```json
{
    "body": "Changed commit from **[a4c94cd](https://github.com/sagemath/sagetrac-mirror/commit/a4c94cd49e564f339ca64729cc579365aa945812)** to none",
    "created_at": "2014-11-04T23:13:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205860",
    "user": "https://github.com/novoselt"
}
```

Changed commit from **[a4c94cd](https://github.com/sagemath/sagetrac-mirror/commit/a4c94cd49e564f339ca64729cc579365aa945812)** to none



---

archive/issue_comments_205861.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nFor me both JS and Java do not support transparency while spinning either manually or automatically (surfaces turn to completely opaque). Is this the expected behaviour now??? One of the major problems with three.js is its handling of transparency and jmol always was great in it.",
    "created_at": "2014-11-04T23:13:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205861",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:9'>Comment 9:</a>
For me both JS and Java do not support transparency while spinning either manually or automatically (surfaces turn to completely opaque). Is this the expected behaviour now??? One of the major problems with three.js is its handling of transparency and jmol always was great in it.



---

archive/issue_comments_205862.json:
```json
{
    "body": "<a id='comment:150'>Comment 150:</a>\nReplying to [@novoselt](#comment%3A149):\n> For me both JS and Java do not support transparency while spinning either manually or automatically (surfaces turn to completely opaque). Is this the expected behaviour now??? One of the major problems with three.js is its handling of transparency and jmol always was great in it.\n\nThis is an adjustable setting.  Rotation speeds are much improved with transparency and some other display improvements off.  Thus I set the default to get better responsiveness out of the javascript application.  If you really need the transparency open the console and give the command \"set platformspeed=10\".  That should maintain the transparency.  It will probably be acceptable in Java (If people want it we could make that the java default), but unless computers get faster or javascript gets compiled the performance probably will be too slow in javascript for all but simple surfaces.",
    "created_at": "2014-11-05T00:44:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205862",
    "user": "https://github.com/gutow"
}
```

<a id='comment:150'>Comment 150:</a>
Replying to [@novoselt](#comment%3A149):
> For me both JS and Java do not support transparency while spinning either manually or automatically (surfaces turn to completely opaque). Is this the expected behaviour now??? One of the major problems with three.js is its handling of transparency and jmol always was great in it.

This is an adjustable setting.  Rotation speeds are much improved with transparency and some other display improvements off.  Thus I set the default to get better responsiveness out of the javascript application.  If you really need the transparency open the console and give the command "set platformspeed=10".  That should maintain the transparency.  It will probably be acceptable in Java (If people want it we could make that the java default), but unless computers get faster or javascript gets compiled the performance probably will be too slow in javascript for all but simple surfaces.



---

archive/issue_comments_205863.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNote: set platformspeed=7 maintains transparency without an awful hit to rotation speed and responsiveness in javascript.  This is probably something we should open a separate ticket on as this is a minor adjustment and people will need to test on lots of machines to decide what is acceptable.",
    "created_at": "2014-11-05T00:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205863",
    "user": "https://github.com/gutow"
}
```

<a id='comment:1'>Comment 1:</a>
Note: set platformspeed=7 maintains transparency without an awful hit to rotation speed and responsiveness in javascript.  This is probably something we should open a separate ticket on as this is a minor adjustment and people will need to test on lots of machines to decide what is acceptable.



---

archive/issue_comments_205864.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nHmm, interesting points.  Where is this `platformspeed` stuff documented?  (I'd do a search for it but apparently Jmol's doc is often somewhat dated...)  I think that maintaining transparency is a very important thing. This is now #17292.",
    "created_at": "2014-11-05T13:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16004",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16004#issuecomment-205864",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'>Comment 2:</a>
Hmm, interesting points.  Where is this `platformspeed` stuff documented?  (I'd do a search for it but apparently Jmol's doc is often somewhat dated...)  I think that maintaining transparency is a very important thing. This is now #17292.
