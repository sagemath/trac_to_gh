# Issue 16755: PPL LP solver does not accept rationals

archive/issues_016518.json:
```json
{
    "body": "CC:  @dimpase @vbraun\n\nInputting rationals in MILP constraints or objective functions should work for the PPL interface (even though PPL doesn't seem to provide an interface for inputting rationals, we need some manual rescaling):\n\n```\nsage: p = MixedIntegerLinearProgram(solver=\"PPL\")\nsage: x = p.new_variable(nonnegative=True)\nsage: p.add_constraint(x[0] + x[1] <= 1/2)\nsage: p.set_objective(x[0])\nsage: p.solve()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n[...]\nTypeError: no conversion of this rational to integer\n```\n\nAlso fix a bug where the constant coefficient of the objective function is ignored.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16755\n\n",
    "closed_at": "2014-08-11T12:07:42Z",
    "created_at": "2014-08-04T13:01:39Z",
    "labels": [
        "component: linear programming",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "PPL LP solver does not accept rationals",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16755",
    "user": "https://github.com/jdemeyer"
}
```
CC:  @dimpase @vbraun

Inputting rationals in MILP constraints or objective functions should work for the PPL interface (even though PPL doesn't seem to provide an interface for inputting rationals, we need some manual rescaling):

```
sage: p = MixedIntegerLinearProgram(solver="PPL")
sage: x = p.new_variable(nonnegative=True)
sage: p.add_constraint(x[0] + x[1] <= 1/2)
sage: p.set_objective(x[0])
sage: p.solve()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
[...]
TypeError: no conversion of this rational to integer
```

Also fix a bug where the constant coefficient of the objective function is ignored.

Issue created by migration from https://trac.sagemath.org/ticket/16755





---

archive/issue_comments_217075.json:
```json
{
    "body": "Can't this be taken care of entirely in `PPLBackend.init_mip()` ?",
    "created_at": "2014-08-04T15:30:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16755#issuecomment-217075",
    "user": "https://github.com/dimpase"
}
```

Can't this be taken care of entirely in `PPLBackend.init_mip()` ?



---

archive/issue_comments_217076.json:
```json
{
    "body": "Replying to [comment:5 dimpase]:\n> Can't this be taken care of entirely in `PPLBackend.init_mip()` ?\n\nFor constraints, probably yes. For the objective function not (since you need to scale the optimal solution also).",
    "created_at": "2014-08-04T15:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16755#issuecomment-217076",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:5 dimpase]:
> Can't this be taken care of entirely in `PPLBackend.init_mip()` ?

For constraints, probably yes. For the objective function not (since you need to scale the optimal solution also).



---

archive/issue_comments_217077.json:
```json
{
    "body": "Working on a patch...",
    "created_at": "2014-08-04T19:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16755#issuecomment-217077",
    "user": "https://github.com/jdemeyer"
}
```

Working on a patch...



---

archive/issue_comments_217078.json:
```json
{
    "body": "This commit seems to do the job, but I still haven't fully tested it.\n\n---\nNew commits:",
    "created_at": "2014-08-04T21:00:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16755#issuecomment-217078",
    "user": "https://github.com/jdemeyer"
}
```

This commit seems to do the job, but I still haven't fully tested it.

---
New commits:



---

archive/issue_comments_217079.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-08-04T22:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16755#issuecomment-217079",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_217080.json:
```json
{
    "body": "Looks good.",
    "created_at": "2014-08-05T07:41:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16755#issuecomment-217080",
    "user": "https://github.com/dimpase"
}
```

Looks good.



---

archive/issue_comments_217081.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-05T07:41:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16755#issuecomment-217081",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_217082.json:
```json
{
    "body": "reviewer name",
    "created_at": "2014-08-06T12:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16755#issuecomment-217082",
    "user": "https://github.com/vbraun"
}
```

reviewer name



---

archive/issue_comments_217083.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-08-06T12:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16755#issuecomment-217083",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_217084.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-08-06T12:14:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16755#issuecomment-217084",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_events_049069.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16755",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16755#event-49069"
}
```



---

archive/issue_events_049070.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-11T12:07:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16755",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16755#event-49070"
}
```



---

archive/issue_comments_217085.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-08-11T12:07:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16755",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16755#issuecomment-217085",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
