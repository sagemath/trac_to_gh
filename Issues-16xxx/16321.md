# Issue 16321: Improve caching for spaces of modular forms

archive/issues_016084.json:
```json
{
    "assignees": [],
    "body": "Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `CachedRepresentation` where appropriate.\n\nIt also moves `HeckeModule` from `Module_old` to `Module`.\n\nDepends on #15692\n\nDepends on #16328\n\n**Keywords:** days71, sd87\n\n**Branch:** [u/saraedum/ticket/16321](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/16321)\n\n**Commit:** [fd89bbb535f5de43af110e72ca659ffc1894da6f](https://github.com/sagemath/sagetrac-mirror/commit/fd89bbb535f5de43af110e72ca659ffc1894da6f)\n\n**Work Issues:** waiting for patchbot to run tests\n\n**Author:** Julian R\u00fcth\n\nIssue created by migration from https://trac.sagemath.org/ticket/16321\n\n",
    "created_at": "2014-05-10T12:23:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20modular%20forms",
        "https://github.com/sagemath/sage/labels/minor",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Improve caching for spaces of modular forms",
    "type": "issue",
    "updated_at": "2017-07-21T22:05:46Z",
    "url": "https://github.com/sagemath/sage/issues/16321",
    "user": "https://github.com/saraedum"
}
```
Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `CachedRepresentation` where appropriate.

It also moves `HeckeModule` from `Module_old` to `Module`.

Depends on #15692

Depends on #16328

**Keywords:** days71, sd87

**Branch:** [u/saraedum/ticket/16321](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/16321)

**Commit:** [fd89bbb535f5de43af110e72ca659ffc1894da6f](https://github.com/sagemath/sagetrac-mirror/commit/fd89bbb535f5de43af110e72ca659ffc1894da6f)

**Work Issues:** waiting for patchbot to run tests

**Author:** Julian R端th

Issue created by migration from https://trac.sagemath.org/ticket/16321





---

archive/issue_events_199213.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-10T12:23:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199213"
}
```



---

archive/issue_events_199214.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-10T12:23:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20modular%20forms",
    "label_color": "08517b",
    "label_name": "component: modular forms",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199214"
}
```



---

archive/issue_events_199215.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-10T12:23:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/minor",
    "label_color": "ff0000",
    "label_name": "minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199215"
}
```



---

archive/issue_events_199216.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-10T12:23:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199216"
}
```



---

archive/issue_comments_212350.json:
```json
{
    "body": "**Dependencies:** #16328",
    "created_at": "2014-05-11T13:05:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212350",
    "user": "https://github.com/saraedum"
}
```

**Dependencies:** #16328



---

archive/issue_events_199217.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2014-05-11T14:29:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199217"
}
```



---

archive/issue_events_199218.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2014-05-11T14:29:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199218"
}
```



---

archive/issue_comments_212351.json:
```json
{
    "body": "**Branch:** [u/saraedum/ticket/16321](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/16321)",
    "created_at": "2014-05-11T15:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212351",
    "user": "https://github.com/saraedum"
}
```

**Branch:** [u/saraedum/ticket/16321](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/16321)



---

archive/issue_comments_212352.json:
```json
{
    "body": "**Author:** Julian R\u00fcth",
    "created_at": "2014-05-11T15:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212352",
    "user": "https://github.com/saraedum"
}
```

**Author:** Julian R端th



---

archive/issue_comments_212353.json:
```json
{
    "body": "**Commit:** [6963cccfd8cd6812ae50477af5fbbf2cdcdb0321](https://github.com/sagemath/sagetrac-mirror/commit/6963cccfd8cd6812ae50477af5fbbf2cdcdb0321)",
    "created_at": "2014-05-11T15:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212353",
    "user": "https://github.com/saraedum"
}
```

**Commit:** [6963cccfd8cd6812ae50477af5fbbf2cdcdb0321](https://github.com/sagemath/sagetrac-mirror/commit/6963cccfd8cd6812ae50477af5fbbf2cdcdb0321)



---

archive/issue_comments_212354.json:
```json
{
    "body": "<a id='comment:4'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88cab96529c0a4a8915a4a6c19d4918d30aac49a\">88cab96</a></td><td><code>Replaced all manual caching in modular forms spaces with the @cached_method decorator</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a0ff9806aed625ae67205a982aee3c6cf3f0257\">6a0ff98</a></td><td><code>Ambient spaces for modular forms have CachedRepresentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27404949f029a1f0eadb0a14ac5081c570572e03\">2740494</a></td><td><code>Remove explicit caching from ModularForms()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b99babd4e9d426fe414e39f12365477c9c12cbf\">3b99bab</a></td><td><code>Set ModularFormSpace.Element</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/324bef389799080b91bb6f34672f09974f7a0064\">324bef3</a></td><td><code>Added a category parameter to Module</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea6afa910eb6921e4e12628d5809603ad5f7cbe8\">ea6afa9</a></td><td><code>Merge branch 'ticket/16328' into ticket/16321</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aee72f7857f58ac34d691428f6010a2984fd420f\">aee72f7</a></td><td><code>fixed a typo in category_object.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6963cccfd8cd6812ae50477af5fbbf2cdcdb0321\">6963ccc</a></td><td><code>Turned HeckeModule from a Module_old into a Module</code></td></tr></table>\n",
    "created_at": "2014-05-11T15:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212354",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:4'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88cab96529c0a4a8915a4a6c19d4918d30aac49a">88cab96</a></td><td><code>Replaced all manual caching in modular forms spaces with the @cached_method decorator</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a0ff9806aed625ae67205a982aee3c6cf3f0257">6a0ff98</a></td><td><code>Ambient spaces for modular forms have CachedRepresentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27404949f029a1f0eadb0a14ac5081c570572e03">2740494</a></td><td><code>Remove explicit caching from ModularForms()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b99babd4e9d426fe414e39f12365477c9c12cbf">3b99bab</a></td><td><code>Set ModularFormSpace.Element</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/324bef389799080b91bb6f34672f09974f7a0064">324bef3</a></td><td><code>Added a category parameter to Module</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea6afa910eb6921e4e12628d5809603ad5f7cbe8">ea6afa9</a></td><td><code>Merge branch 'ticket/16328' into ticket/16321</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aee72f7857f58ac34d691428f6010a2984fd420f">aee72f7</a></td><td><code>fixed a typo in category_object.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6963cccfd8cd6812ae50477af5fbbf2cdcdb0321">6963ccc</a></td><td><code>Turned HeckeModule from a Module_old into a Module</code></td></tr></table>




---

archive/issue_events_199219.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-11T15:07:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199219"
}
```



---

archive/issue_comments_212355.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, factories, and `UniqueRepresentation` where appropriate.\n+Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `UniqueRepresentation` where appropriate.\n+\n+It also moves `HeckeModule` from `Module_old` to `Module`.\n``````\n",
    "created_at": "2014-05-11T15:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212355",
    "user": "https://github.com/saraedum"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, factories, and `UniqueRepresentation` where appropriate.
+Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `UniqueRepresentation` where appropriate.
+
+It also moves `HeckeModule` from `Module_old` to `Module`.
``````




---

archive/issue_comments_212356.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `UniqueRepresentation` where appropriate.\n+Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `CachedRepresentation` where appropriate.\n \n It also moves `HeckeModule` from `Module_old` to `Module`.\n``````\n",
    "created_at": "2014-05-11T15:08:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212356",
    "user": "https://github.com/saraedum"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `UniqueRepresentation` where appropriate.
+Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `CachedRepresentation` where appropriate.
 
 It also moves `HeckeModule` from `Module_old` to `Module`.
``````




---

archive/issue_comments_212357.json:
```json
{
    "body": "**Work Issues:** pickling issues",
    "created_at": "2014-05-11T23:46:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212357",
    "user": "https://github.com/saraedum"
}
```

**Work Issues:** pickling issues



---

archive/issue_comments_212358.json:
```json
{
    "body": "<a id='comment:6'></a>\nAlthough all doctests pass, I think there are still potential issues with pickling when caches contain circular references.",
    "created_at": "2014-05-11T23:46:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212358",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:6'></a>
Although all doctests pass, I think there are still potential issues with pickling when caches contain circular references.



---

archive/issue_events_199220.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-11T23:46:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199220"
}
```



---

archive/issue_events_199221.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-11T23:46:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199221"
}
```



---

archive/issue_comments_212359.json:
```json
{
    "body": "**Changing work issues** from \"pickling issues\" to \"pickling issues, cached_method parameters incorrect\".",
    "created_at": "2014-05-12T15:51:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212359",
    "user": "https://github.com/saraedum"
}
```

**Changing work issues** from "pickling issues" to "pickling issues, cached_method parameters incorrect".



---

archive/issue_comments_212360.json:
```json
{
    "body": "**Changing commit** from \"[6963cccfd8cd6812ae50477af5fbbf2cdcdb0321](https://github.com/sagemath/sagetrac-mirror/commit/6963cccfd8cd6812ae50477af5fbbf2cdcdb0321)\" to \"[c74f601d1c736495b632001f04b3c7f3b6823c71](https://github.com/sagemath/sagetrac-mirror/commit/c74f601d1c736495b632001f04b3c7f3b6823c71)\".",
    "created_at": "2014-05-12T17:51:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212360",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[6963cccfd8cd6812ae50477af5fbbf2cdcdb0321](https://github.com/sagemath/sagetrac-mirror/commit/6963cccfd8cd6812ae50477af5fbbf2cdcdb0321)" to "[c74f601d1c736495b632001f04b3c7f3b6823c71](https://github.com/sagemath/sagetrac-mirror/commit/c74f601d1c736495b632001f04b3c7f3b6823c71)".



---

archive/issue_comments_212361.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79457aa561344bbf3caaf02ad9953530f9136320\">79457aa</a></td><td><code>Merge branch 'develop' into ticket/16321</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce27b841f38e12f650aedd68826571141a68f695\">ce27b84</a></td><td><code>Removed sage.misc.cachefunc.ClearCacheOnPickle</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e27e3167dde69107bb4f4c296c33b5827e70d4da\">e27e316</a></td><td><code>Propagate key of a @cached_method correctly</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94fcddbe05b38dd914b5afbcfc5fbfa14105a100\">94fcddb</a></td><td><code>Merge branch 'u/saraedum/ticket/16337' of git://trac.sagemath.org/sage into ticket/15692</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72fce8b2eea7a4e943fcf25cd705631ed62dcb92\">72fce8b</a></td><td><code>Added a pickle parameter for @cached_method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07178496787dfa2e02b7bab8e32ca8e2971edaba\">0717849</a></td><td><code>Enable pickling of the cache for groebner_basis()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/561072f600616cc8801053853bcbe0e819c65a30\">561072f</a></td><td><code>Merge branch 'u/saraedum/ticket/15692' of git://trac.sagemath.org/sage into ticket/16321</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c74f601d1c736495b632001f04b3c7f3b6823c71\">c74f601</a></td><td><code>Fix incorrect usage of key parameter of @cached_method for ambient spaces of modular forms</code></td></tr></table>\n",
    "created_at": "2014-05-12T17:51:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212361",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79457aa561344bbf3caaf02ad9953530f9136320">79457aa</a></td><td><code>Merge branch 'develop' into ticket/16321</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce27b841f38e12f650aedd68826571141a68f695">ce27b84</a></td><td><code>Removed sage.misc.cachefunc.ClearCacheOnPickle</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e27e3167dde69107bb4f4c296c33b5827e70d4da">e27e316</a></td><td><code>Propagate key of a @cached_method correctly</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94fcddbe05b38dd914b5afbcfc5fbfa14105a100">94fcddb</a></td><td><code>Merge branch 'u/saraedum/ticket/16337' of git://trac.sagemath.org/sage into ticket/15692</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72fce8b2eea7a4e943fcf25cd705631ed62dcb92">72fce8b</a></td><td><code>Added a pickle parameter for @cached_method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07178496787dfa2e02b7bab8e32ca8e2971edaba">0717849</a></td><td><code>Enable pickling of the cache for groebner_basis()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/561072f600616cc8801053853bcbe0e819c65a30">561072f</a></td><td><code>Merge branch 'u/saraedum/ticket/15692' of git://trac.sagemath.org/sage into ticket/16321</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c74f601d1c736495b632001f04b3c7f3b6823c71">c74f601</a></td><td><code>Fix incorrect usage of key parameter of @cached_method for ambient spaces of modular forms</code></td></tr></table>




---

archive/issue_comments_212362.json:
```json
{
    "body": "**Changing dependencies** from \"#16328\" to \"#15692, #16328\".",
    "created_at": "2014-05-12T17:51:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212362",
    "user": "https://github.com/saraedum"
}
```

**Changing dependencies** from "#16328" to "#15692, #16328".



---

archive/issue_events_199222.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-12T17:52:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199222"
}
```



---

archive/issue_events_199223.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-12T17:52:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199223"
}
```



---

archive/issue_comments_212363.json:
```json
{
    "body": "**Changing work issues** from \"pickling issues, cached_method parameters incorrect\" to \"\".",
    "created_at": "2014-05-12T17:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212363",
    "user": "https://github.com/saraedum"
}
```

**Changing work issues** from "pickling issues, cached_method parameters incorrect" to "".



---

archive/issue_comments_212364.json:
```json
{
    "body": "**Changing author** from \"Julian R\u00fcth\" to \"Julian Rueth\".",
    "created_at": "2014-05-12T17:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212364",
    "user": "https://github.com/saraedum"
}
```

**Changing author** from "Julian R端th" to "Julian Rueth".



---

archive/issue_comments_212365.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9eab84b8c4f377576d067a9b7ca0eba43244f317\">9eab84b</a></td><td><code>Merge branch 'develop' into ticket/15692</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/410d21ec729b4a047981ebb7aeb25d835cb3531e\">410d21e</a></td><td><code>Merge branch 'ticket/15692' into ticket/16321</code></td></tr></table>\n",
    "created_at": "2014-07-23T16:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212365",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9eab84b8c4f377576d067a9b7ca0eba43244f317">9eab84b</a></td><td><code>Merge branch 'develop' into ticket/15692</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/410d21ec729b4a047981ebb7aeb25d835cb3531e">410d21e</a></td><td><code>Merge branch 'ticket/15692' into ticket/16321</code></td></tr></table>




---

archive/issue_comments_212366.json:
```json
{
    "body": "**Changing commit** from \"[c74f601d1c736495b632001f04b3c7f3b6823c71](https://github.com/sagemath/sagetrac-mirror/commit/c74f601d1c736495b632001f04b3c7f3b6823c71)\" to \"[410d21ec729b4a047981ebb7aeb25d835cb3531e](https://github.com/sagemath/sagetrac-mirror/commit/410d21ec729b4a047981ebb7aeb25d835cb3531e)\".",
    "created_at": "2014-07-23T16:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212366",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[c74f601d1c736495b632001f04b3c7f3b6823c71](https://github.com/sagemath/sagetrac-mirror/commit/c74f601d1c736495b632001f04b3c7f3b6823c71)" to "[410d21ec729b4a047981ebb7aeb25d835cb3531e](https://github.com/sagemath/sagetrac-mirror/commit/410d21ec729b4a047981ebb7aeb25d835cb3531e)".



---

archive/issue_events_199224.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199224"
}
```



---

archive/issue_events_199225.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199225"
}
```



---

archive/issue_events_199226.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-08-26T20:14:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199226"
}
```



---

archive/issue_events_199227.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-08-26T20:14:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199227"
}
```



---

archive/issue_comments_212367.json:
```json
{
    "body": "<a id='comment:13'></a>\nfailing doctests, see patchbot reports",
    "created_at": "2014-08-26T20:14:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212367",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
failing doctests, see patchbot reports



---

archive/issue_comments_212368.json:
```json
{
    "body": "**Changing commit** from \"[410d21ec729b4a047981ebb7aeb25d835cb3531e](https://github.com/sagemath/sagetrac-mirror/commit/410d21ec729b4a047981ebb7aeb25d835cb3531e)\" to \"[3a0be11b471abbfad4f9f27e100c4ef2d5c2926a](https://github.com/sagemath/sagetrac-mirror/commit/3a0be11b471abbfad4f9f27e100c4ef2d5c2926a)\".",
    "created_at": "2016-03-21T14:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212368",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[410d21ec729b4a047981ebb7aeb25d835cb3531e](https://github.com/sagemath/sagetrac-mirror/commit/410d21ec729b4a047981ebb7aeb25d835cb3531e)" to "[3a0be11b471abbfad4f9f27e100c4ef2d5c2926a](https://github.com/sagemath/sagetrac-mirror/commit/3a0be11b471abbfad4f9f27e100c4ef2d5c2926a)".



---

archive/issue_comments_212369.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c182f4070e35ae5d603f8c6d8c86c9d9885d7b98\">c182f40</a></td><td><code>Remove ClearCacheOnPickle meta class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3a7eb4e7ec0852fb058e5455d270067846ea2b6\">e3a7eb4</a></td><td><code>Do not pickle cached methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a0be11b471abbfad4f9f27e100c4ef2d5c2926a\">3a0be11</a></td><td><code>Merge remote-tracking branch 'trac/u/saraedum/ticket/15692' into t/16321/ticket/16321</code></td></tr></table>\n",
    "created_at": "2016-03-21T14:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212369",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c182f4070e35ae5d603f8c6d8c86c9d9885d7b98">c182f40</a></td><td><code>Remove ClearCacheOnPickle meta class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3a7eb4e7ec0852fb058e5455d270067846ea2b6">e3a7eb4</a></td><td><code>Do not pickle cached methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a0be11b471abbfad4f9f27e100c4ef2d5c2926a">3a0be11</a></td><td><code>Merge remote-tracking branch 'trac/u/saraedum/ticket/15692' into t/16321/ticket/16321</code></td></tr></table>




---

archive/issue_events_199228.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-03-23T01:19:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199228"
}
```



---

archive/issue_events_199229.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-03-23T01:19:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199229"
}
```



---

archive/issue_events_199230.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-03-23T01:19:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199230"
}
```



---

archive/issue_events_199231.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-03-23T01:19:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199231"
}
```



---

archive/issue_comments_212370.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"days71\".",
    "created_at": "2016-03-24T02:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212370",
    "user": "https://github.com/saraedum"
}
```

**Changing keywords** from "" to "days71".



---

archive/issue_comments_212371.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd89bbb535f5de43af110e72ca659ffc1894da6f\">fd89bbb</a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/16321/ticket/16321</code></td></tr></table>\n",
    "created_at": "2017-07-21T19:49:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212371",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd89bbb535f5de43af110e72ca659ffc1894da6f">fd89bbb</a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/16321/ticket/16321</code></td></tr></table>




---

archive/issue_comments_212372.json:
```json
{
    "body": "**Changing commit** from \"[3a0be11b471abbfad4f9f27e100c4ef2d5c2926a](https://github.com/sagemath/sagetrac-mirror/commit/3a0be11b471abbfad4f9f27e100c4ef2d5c2926a)\" to \"[fd89bbb535f5de43af110e72ca659ffc1894da6f](https://github.com/sagemath/sagetrac-mirror/commit/fd89bbb535f5de43af110e72ca659ffc1894da6f)\".",
    "created_at": "2017-07-21T19:49:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212372",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[3a0be11b471abbfad4f9f27e100c4ef2d5c2926a](https://github.com/sagemath/sagetrac-mirror/commit/3a0be11b471abbfad4f9f27e100c4ef2d5c2926a)" to "[fd89bbb535f5de43af110e72ca659ffc1894da6f](https://github.com/sagemath/sagetrac-mirror/commit/fd89bbb535f5de43af110e72ca659ffc1894da6f)".



---

archive/issue_comments_212373.json:
```json
{
    "body": "**Changing keywords** from \"days71\" to \"days71, sd87\".",
    "created_at": "2017-07-21T19:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212373",
    "user": "https://github.com/saraedum"
}
```

**Changing keywords** from "days71" to "days71, sd87".



---

archive/issue_events_199232.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T19:50:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199232"
}
```



---

archive/issue_events_199233.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T19:50:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199233"
}
```



---

archive/issue_comments_212374.json:
```json
{
    "body": "**Work Issues:** waiting for patchbot to run tests",
    "created_at": "2017-07-21T19:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212374",
    "user": "https://github.com/saraedum"
}
```

**Work Issues:** waiting for patchbot to run tests



---

archive/issue_comments_212375.json:
```json
{
    "body": "**Changing author** from \"Julian Rueth\" to \"Julian R\u00fcth\".",
    "created_at": "2017-07-21T19:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212375",
    "user": "https://github.com/saraedum"
}
```

**Changing author** from "Julian Rueth" to "Julian R端th".



---

archive/issue_events_199234.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2017-07-21T22:05:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199234"
}
```



---

archive/issue_events_199235.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2017-07-21T22:05:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-199235"
}
```



---

archive/issue_comments_212376.json:
```json
{
    "body": "<a id='comment:20'></a>\nThis doesn't want to import ClearCacheOnPickle\n\n```\naly@aly-laptop:~/Sage/develop/sage$ ./sage -tp src/sage/modular/\nTraceback (most recent call last):\n  File \"/home/aly/Sage/develop/sage/src/bin/sage-runtests\", line 89, in <module>\n    from sage.doctest.control import DocTestController\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 33, in <module>\n    from .sources import FileDocTestSource, DictAsObject\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/doctest/sources.py\", line 33, in <module>\n    from .parsing import SageDocTestParser\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/doctest/parsing.py\", line 55, in <module>\n    from sage.all import RealIntervalField\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/all.py\", line 105, in <module>\n    from sage.algebras.all   import *\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/algebras/all.py\", line 22, in <module>\n    import sage.algebras.catalog as algebras\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/algebras/catalog.py\", line 62, in <module>\n    from sage.algebras.iwahori_hecke_algebra import IwahoriHeckeAlgebra as IwahoriHecke\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/algebras/iwahori_hecke_algebra.py\", line 34, in <module>\n    from sage.combinat.root_system.weyl_group import WeylGroup\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/__init__.py\", line 118, in <module>\n    from . import type_A\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/type_A.py\", line 17, in <module>\n    from . import ambient_space\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.py\", line 16, in <module>\n    from sage.misc.cachefunc import ClearCacheOnPickle\nImportError: cannot import name ClearCacheOnPickle\n```",
    "created_at": "2017-07-21T22:05:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-212376",
    "user": "https://github.com/adeines"
}
```

<a id='comment:20'></a>
This doesn't want to import ClearCacheOnPickle

```
aly@aly-laptop:~/Sage/develop/sage$ ./sage -tp src/sage/modular/
Traceback (most recent call last):
  File "/home/aly/Sage/develop/sage/src/bin/sage-runtests", line 89, in <module>
    from sage.doctest.control import DocTestController
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/doctest/control.py", line 33, in <module>
    from .sources import FileDocTestSource, DictAsObject
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/doctest/sources.py", line 33, in <module>
    from .parsing import SageDocTestParser
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/doctest/parsing.py", line 55, in <module>
    from sage.all import RealIntervalField
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/all.py", line 105, in <module>
    from sage.algebras.all   import *
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/algebras/all.py", line 22, in <module>
    import sage.algebras.catalog as algebras
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/algebras/catalog.py", line 62, in <module>
    from sage.algebras.iwahori_hecke_algebra import IwahoriHeckeAlgebra as IwahoriHecke
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/algebras/iwahori_hecke_algebra.py", line 34, in <module>
    from sage.combinat.root_system.weyl_group import WeylGroup
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/__init__.py", line 118, in <module>
    from . import type_A
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/type_A.py", line 17, in <module>
    from . import ambient_space
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.py", line 16, in <module>
    from sage.misc.cachefunc import ClearCacheOnPickle
ImportError: cannot import name ClearCacheOnPickle
```
