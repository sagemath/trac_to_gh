# Issue 16321: Improve caching for spaces of modular forms

archive/issues_016084.json:
```json
{
    "assignees": [],
    "body": "Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `CachedRepresentation` where appropriate.\n\nIt also moves `HeckeModule` from `Module_old` to `Module`.\n\nDepends on #15692\nDepends on #16328\n\nKeywords: **days71, sd87**\n\nBranch/Commit: **[u/saraedum/ticket/16321](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/16321) @ [`fd89bbb`](https://github.com/sagemath/sagetrac-mirror/commit/fd89bbb535f5de43af110e72ca659ffc1894da6f)**\n\nWork Issues: **waiting for patchbot to run tests**\n\nAuthor: **Julian R\u00fcth**\n\nComponent: **modular forms**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16321_\n\n",
    "created_at": "2014-05-10T12:23:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20modular%20forms",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Improve caching for spaces of modular forms",
    "type": "issue",
    "updated_at": "2022-12-29T01:28:25Z",
    "url": "https://github.com/sagemath/sage/issues/16321",
    "user": "https://github.com/saraedum"
}
```
Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `CachedRepresentation` where appropriate.

It also moves `HeckeModule` from `Module_old` to `Module`.

Depends on #15692
Depends on #16328

Keywords: **days71, sd87**

Branch/Commit: **[u/saraedum/ticket/16321](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/16321) @ [`fd89bbb`](https://github.com/sagemath/sagetrac-mirror/commit/fd89bbb535f5de43af110e72ca659ffc1894da6f)**

Work Issues: **waiting for patchbot to run tests**

Author: **Julian Rüth**

Component: **modular forms**

_Issue created by migration from https://trac.sagemath.org/ticket/16321_





---

archive/issue_events_231059.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-10T12:23:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231059"
}
```



---

archive/issue_events_231060.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-10T12:23:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20modular%20forms",
    "label_color": "0000ff",
    "label_name": "c: modular forms",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231060"
}
```



---

archive/issue_events_231061.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-10T12:23:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231061"
}
```



---

archive/issue_events_231062.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-10T12:23:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231062"
}
```



---

archive/issue_comments_209868.json:
```json
{
    "body": "Dependencies: **#16328**",
    "created_at": "2014-05-11T13:05:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209868",
    "user": "https://github.com/saraedum"
}
```

Dependencies: **#16328**



---

archive/issue_events_231063.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2014-05-11T14:29:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231063"
}
```



---

archive/issue_events_231064.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2014-05-11T14:29:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231064"
}
```



---

archive/issue_comments_209869.json:
```json
{
    "body": "Branch: **[u/saraedum/ticket/16321](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/16321)**",
    "created_at": "2014-05-11T15:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209869",
    "user": "https://github.com/saraedum"
}
```

Branch: **[u/saraedum/ticket/16321](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/ticket/16321)**



---

archive/issue_events_231065.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-11T15:07:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231065"
}
```



---

archive/issue_comments_209870.json:
```json
{
    "body": "Author: **Julian R\u00fcth**",
    "created_at": "2014-05-11T15:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209870",
    "user": "https://github.com/saraedum"
}
```

Author: **Julian Rüth**



---

archive/issue_comments_209871.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88cab96529c0a4a8915a4a6c19d4918d30aac49a\"><code>88cab96</code></a></td><td><code>Replaced all manual caching in modular forms spaces with the @cached_method decorator</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a0ff9806aed625ae67205a982aee3c6cf3f0257\"><code>6a0ff98</code></a></td><td><code>Ambient spaces for modular forms have CachedRepresentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27404949f029a1f0eadb0a14ac5081c570572e03\"><code>2740494</code></a></td><td><code>Remove explicit caching from ModularForms()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b99babd4e9d426fe414e39f12365477c9c12cbf\"><code>3b99bab</code></a></td><td><code>Set ModularFormSpace.Element</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/324bef389799080b91bb6f34672f09974f7a0064\"><code>324bef3</code></a></td><td><code>Added a category parameter to Module</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea6afa910eb6921e4e12628d5809603ad5f7cbe8\"><code>ea6afa9</code></a></td><td><code>Merge branch 'ticket/16328' into ticket/16321</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aee72f7857f58ac34d691428f6010a2984fd420f\"><code>aee72f7</code></a></td><td><code>fixed a typo in category_object.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6963cccfd8cd6812ae50477af5fbbf2cdcdb0321\"><code>6963ccc</code></a></td><td><code>Turned HeckeModule from a Module_old into a Module</code></td></tr></table>\n",
    "created_at": "2014-05-11T15:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209871",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88cab96529c0a4a8915a4a6c19d4918d30aac49a"><code>88cab96</code></a></td><td><code>Replaced all manual caching in modular forms spaces with the @cached_method decorator</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a0ff9806aed625ae67205a982aee3c6cf3f0257"><code>6a0ff98</code></a></td><td><code>Ambient spaces for modular forms have CachedRepresentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27404949f029a1f0eadb0a14ac5081c570572e03"><code>2740494</code></a></td><td><code>Remove explicit caching from ModularForms()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b99babd4e9d426fe414e39f12365477c9c12cbf"><code>3b99bab</code></a></td><td><code>Set ModularFormSpace.Element</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/324bef389799080b91bb6f34672f09974f7a0064"><code>324bef3</code></a></td><td><code>Added a category parameter to Module</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea6afa910eb6921e4e12628d5809603ad5f7cbe8"><code>ea6afa9</code></a></td><td><code>Merge branch 'ticket/16328' into ticket/16321</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aee72f7857f58ac34d691428f6010a2984fd420f"><code>aee72f7</code></a></td><td><code>fixed a typo in category_object.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6963cccfd8cd6812ae50477af5fbbf2cdcdb0321"><code>6963ccc</code></a></td><td><code>Turned HeckeModule from a Module_old into a Module</code></td></tr></table>




---

archive/issue_comments_209872.json:
```json
{
    "body": "Commit: **[`6963ccc`](https://github.com/sagemath/sagetrac-mirror/commit/6963cccfd8cd6812ae50477af5fbbf2cdcdb0321)**",
    "created_at": "2014-05-11T15:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209872",
    "user": "https://github.com/saraedum"
}
```

Commit: **[`6963ccc`](https://github.com/sagemath/sagetrac-mirror/commit/6963cccfd8cd6812ae50477af5fbbf2cdcdb0321)**



---

archive/issue_comments_209873.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, factories, and `UniqueRepresentation` where appropriate.\n+Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `UniqueRepresentation` where appropriate.\n+\n+It also moves `HeckeModule` from `Module_old` to `Module`.\n``````\n",
    "created_at": "2014-05-11T15:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209873",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, factories, and `UniqueRepresentation` where appropriate.
+Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `UniqueRepresentation` where appropriate.
+
+It also moves `HeckeModule` from `Module_old` to `Module`.
``````




---

archive/issue_comments_209874.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `UniqueRepresentation` where appropriate.\n+Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `CachedRepresentation` where appropriate.\n \n It also moves `HeckeModule` from `Module_old` to `Module`.\n``````\n",
    "created_at": "2014-05-11T15:08:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209874",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `UniqueRepresentation` where appropriate.
+Spaces of modular forms do manual caching which causes trouble at #11895. This ticket aims to cleanup the code to use `cached_method`, and `CachedRepresentation` where appropriate.
 
 It also moves `HeckeModule` from `Module_old` to `Module`.
``````




---

archive/issue_comments_209875.json:
```json
{
    "body": "Work Issues: **pickling issues**",
    "created_at": "2014-05-11T23:46:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209875",
    "user": "https://github.com/saraedum"
}
```

Work Issues: **pickling issues**



---

archive/issue_comments_209876.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nAlthough all doctests pass, I think there are still potential issues with pickling when caches contain circular references.",
    "created_at": "2014-05-11T23:46:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209876",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:6" align="right">comment:6</div>

Although all doctests pass, I think there are still potential issues with pickling when caches contain circular references.



---

archive/issue_events_231066.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-11T23:46:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231066"
}
```



---

archive/issue_events_231067.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-11T23:46:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231067"
}
```



---

archive/issue_comments_209877.json:
```json
{
    "body": "Changed work issues from **pickling issues** to **pickling issues, cached_method parameters incorrect**",
    "created_at": "2014-05-12T15:51:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209877",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **pickling issues** to **pickling issues, cached_method parameters incorrect**



---

archive/issue_comments_209878.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79457aa561344bbf3caaf02ad9953530f9136320\"><code>79457aa</code></a></td><td><code>Merge branch 'develop' into ticket/16321</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce27b841f38e12f650aedd68826571141a68f695\"><code>ce27b84</code></a></td><td><code>Removed sage.misc.cachefunc.ClearCacheOnPickle</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e27e3167dde69107bb4f4c296c33b5827e70d4da\"><code>e27e316</code></a></td><td><code>Propagate key of a @cached_method correctly</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94fcddbe05b38dd914b5afbcfc5fbfa14105a100\"><code>94fcddb</code></a></td><td><code>Merge branch 'u/saraedum/ticket/16337' of git://trac.sagemath.org/sage into ticket/15692</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72fce8b2eea7a4e943fcf25cd705631ed62dcb92\"><code>72fce8b</code></a></td><td><code>Added a pickle parameter for @cached_method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07178496787dfa2e02b7bab8e32ca8e2971edaba\"><code>0717849</code></a></td><td><code>Enable pickling of the cache for groebner_basis()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/561072f600616cc8801053853bcbe0e819c65a30\"><code>561072f</code></a></td><td><code>Merge branch 'u/saraedum/ticket/15692' of git://trac.sagemath.org/sage into ticket/16321</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c74f601d1c736495b632001f04b3c7f3b6823c71\"><code>c74f601</code></a></td><td><code>Fix incorrect usage of key parameter of @cached_method for ambient spaces of modular forms</code></td></tr></table>\n",
    "created_at": "2014-05-12T17:51:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209878",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79457aa561344bbf3caaf02ad9953530f9136320"><code>79457aa</code></a></td><td><code>Merge branch 'develop' into ticket/16321</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce27b841f38e12f650aedd68826571141a68f695"><code>ce27b84</code></a></td><td><code>Removed sage.misc.cachefunc.ClearCacheOnPickle</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e27e3167dde69107bb4f4c296c33b5827e70d4da"><code>e27e316</code></a></td><td><code>Propagate key of a @cached_method correctly</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94fcddbe05b38dd914b5afbcfc5fbfa14105a100"><code>94fcddb</code></a></td><td><code>Merge branch 'u/saraedum/ticket/16337' of git://trac.sagemath.org/sage into ticket/15692</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72fce8b2eea7a4e943fcf25cd705631ed62dcb92"><code>72fce8b</code></a></td><td><code>Added a pickle parameter for @cached_method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07178496787dfa2e02b7bab8e32ca8e2971edaba"><code>0717849</code></a></td><td><code>Enable pickling of the cache for groebner_basis()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/561072f600616cc8801053853bcbe0e819c65a30"><code>561072f</code></a></td><td><code>Merge branch 'u/saraedum/ticket/15692' of git://trac.sagemath.org/sage into ticket/16321</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c74f601d1c736495b632001f04b3c7f3b6823c71"><code>c74f601</code></a></td><td><code>Fix incorrect usage of key parameter of @cached_method for ambient spaces of modular forms</code></td></tr></table>




---

archive/issue_comments_209879.json:
```json
{
    "body": "Changed commit from **[`6963ccc`](https://github.com/sagemath/sagetrac-mirror/commit/6963cccfd8cd6812ae50477af5fbbf2cdcdb0321)** to **[`c74f601`](https://github.com/sagemath/sagetrac-mirror/commit/c74f601d1c736495b632001f04b3c7f3b6823c71)**",
    "created_at": "2014-05-12T17:51:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209879",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6963ccc`](https://github.com/sagemath/sagetrac-mirror/commit/6963cccfd8cd6812ae50477af5fbbf2cdcdb0321)** to **[`c74f601`](https://github.com/sagemath/sagetrac-mirror/commit/c74f601d1c736495b632001f04b3c7f3b6823c71)**



---

archive/issue_comments_209880.json:
```json
{
    "body": "Changed dependencies from **#16328** to **#15692, #16328**",
    "created_at": "2014-05-12T17:51:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209880",
    "user": "https://github.com/saraedum"
}
```

Changed dependencies from **#16328** to **#15692, #16328**



---

archive/issue_events_231068.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-12T17:52:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231068"
}
```



---

archive/issue_events_231069.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2014-05-12T17:52:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231069"
}
```



---

archive/issue_comments_209881.json:
```json
{
    "body": "Changed author from **Julian R\u00fcth** to **Julian Rueth**",
    "created_at": "2014-05-12T17:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209881",
    "user": "https://github.com/saraedum"
}
```

Changed author from **Julian Rüth** to **Julian Rueth**



---

archive/issue_comments_209882.json:
```json
{
    "body": "Changed work issues from **pickling issues, cached_method parameters incorrect** to none",
    "created_at": "2014-05-12T17:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209882",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **pickling issues, cached_method parameters incorrect** to none



---

archive/issue_comments_209883.json:
```json
{
    "body": "Changed commit from **[`c74f601`](https://github.com/sagemath/sagetrac-mirror/commit/c74f601d1c736495b632001f04b3c7f3b6823c71)** to **[`410d21e`](https://github.com/sagemath/sagetrac-mirror/commit/410d21ec729b4a047981ebb7aeb25d835cb3531e)**",
    "created_at": "2014-07-23T16:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209883",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c74f601`](https://github.com/sagemath/sagetrac-mirror/commit/c74f601d1c736495b632001f04b3c7f3b6823c71)** to **[`410d21e`](https://github.com/sagemath/sagetrac-mirror/commit/410d21ec729b4a047981ebb7aeb25d835cb3531e)**



---

archive/issue_comments_209884.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9eab84b8c4f377576d067a9b7ca0eba43244f317\"><code>9eab84b</code></a></td><td><code>Merge branch 'develop' into ticket/15692</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/410d21ec729b4a047981ebb7aeb25d835cb3531e\"><code>410d21e</code></a></td><td><code>Merge branch 'ticket/15692' into ticket/16321</code></td></tr></table>\n",
    "created_at": "2014-07-23T16:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209884",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9eab84b8c4f377576d067a9b7ca0eba43244f317"><code>9eab84b</code></a></td><td><code>Merge branch 'develop' into ticket/15692</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/410d21ec729b4a047981ebb7aeb25d835cb3531e"><code>410d21e</code></a></td><td><code>Merge branch 'ticket/15692' into ticket/16321</code></td></tr></table>




---

archive/issue_events_231070.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231070"
}
```



---

archive/issue_events_231071.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231071"
}
```



---

archive/issue_comments_209885.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nfailing doctests, see patchbot reports",
    "created_at": "2014-08-26T20:14:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209885",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">comment:13</div>

failing doctests, see patchbot reports



---

archive/issue_events_231072.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-08-26T20:14:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231072"
}
```



---

archive/issue_events_231073.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-08-26T20:14:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231073"
}
```



---

archive/issue_comments_209886.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c182f4070e35ae5d603f8c6d8c86c9d9885d7b98\"><code>c182f40</code></a></td><td><code>Remove ClearCacheOnPickle meta class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3a7eb4e7ec0852fb058e5455d270067846ea2b6\"><code>e3a7eb4</code></a></td><td><code>Do not pickle cached methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a0be11b471abbfad4f9f27e100c4ef2d5c2926a\"><code>3a0be11</code></a></td><td><code>Merge remote-tracking branch 'trac/u/saraedum/ticket/15692' into t/16321/ticket/16321</code></td></tr></table>\n",
    "created_at": "2016-03-21T14:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209886",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c182f4070e35ae5d603f8c6d8c86c9d9885d7b98"><code>c182f40</code></a></td><td><code>Remove ClearCacheOnPickle meta class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3a7eb4e7ec0852fb058e5455d270067846ea2b6"><code>e3a7eb4</code></a></td><td><code>Do not pickle cached methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a0be11b471abbfad4f9f27e100c4ef2d5c2926a"><code>3a0be11</code></a></td><td><code>Merge remote-tracking branch 'trac/u/saraedum/ticket/15692' into t/16321/ticket/16321</code></td></tr></table>




---

archive/issue_comments_209887.json:
```json
{
    "body": "Changed commit from **[`410d21e`](https://github.com/sagemath/sagetrac-mirror/commit/410d21ec729b4a047981ebb7aeb25d835cb3531e)** to **[`3a0be11`](https://github.com/sagemath/sagetrac-mirror/commit/3a0be11b471abbfad4f9f27e100c4ef2d5c2926a)**",
    "created_at": "2016-03-21T14:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209887",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`410d21e`](https://github.com/sagemath/sagetrac-mirror/commit/410d21ec729b4a047981ebb7aeb25d835cb3531e)** to **[`3a0be11`](https://github.com/sagemath/sagetrac-mirror/commit/3a0be11b471abbfad4f9f27e100c4ef2d5c2926a)**



---

archive/issue_events_231074.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-03-23T01:19:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231074"
}
```



---

archive/issue_events_231075.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-03-23T01:19:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231075"
}
```



---

archive/issue_events_231076.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-03-23T01:19:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231076"
}
```



---

archive/issue_events_231077.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-03-23T01:19:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231077"
}
```



---

archive/issue_comments_209888.json:
```json
{
    "body": "Changed keywords from none to **days71**",
    "created_at": "2016-03-24T02:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209888",
    "user": "https://github.com/saraedum"
}
```

Changed keywords from none to **days71**



---

archive/issue_comments_209889.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd89bbb535f5de43af110e72ca659ffc1894da6f\"><code>fd89bbb</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/16321/ticket/16321</code></td></tr></table>\n",
    "created_at": "2017-07-21T19:49:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209889",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd89bbb535f5de43af110e72ca659ffc1894da6f"><code>fd89bbb</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/16321/ticket/16321</code></td></tr></table>




---

archive/issue_comments_209890.json:
```json
{
    "body": "Changed commit from **[`3a0be11`](https://github.com/sagemath/sagetrac-mirror/commit/3a0be11b471abbfad4f9f27e100c4ef2d5c2926a)** to **[`fd89bbb`](https://github.com/sagemath/sagetrac-mirror/commit/fd89bbb535f5de43af110e72ca659ffc1894da6f)**",
    "created_at": "2017-07-21T19:49:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209890",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3a0be11`](https://github.com/sagemath/sagetrac-mirror/commit/3a0be11b471abbfad4f9f27e100c4ef2d5c2926a)** to **[`fd89bbb`](https://github.com/sagemath/sagetrac-mirror/commit/fd89bbb535f5de43af110e72ca659ffc1894da6f)**



---

archive/issue_events_231078.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T19:50:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231078"
}
```



---

archive/issue_events_231079.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-07-21T19:50:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231079"
}
```



---

archive/issue_comments_209891.json:
```json
{
    "body": "Work Issues: **waiting for patchbot to run tests**",
    "created_at": "2017-07-21T19:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209891",
    "user": "https://github.com/saraedum"
}
```

Work Issues: **waiting for patchbot to run tests**



---

archive/issue_comments_209892.json:
```json
{
    "body": "Changed keywords from **days71** to **days71, sd87**",
    "created_at": "2017-07-21T19:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209892",
    "user": "https://github.com/saraedum"
}
```

Changed keywords from **days71** to **days71, sd87**



---

archive/issue_comments_209893.json:
```json
{
    "body": "Changed author from **Julian Rueth** to **Julian R\u00fcth**",
    "created_at": "2017-07-21T19:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209893",
    "user": "https://github.com/saraedum"
}
```

Changed author from **Julian Rueth** to **Julian Rüth**



---

archive/issue_events_231080.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2017-07-21T22:05:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231080"
}
```



---

archive/issue_events_231081.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2017-07-21T22:05:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231081"
}
```



---

archive/issue_comments_209894.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThis doesn't want to import ClearCacheOnPickle\n\n```\naly@aly-laptop:~/Sage/develop/sage$ ./sage -tp src/sage/modular/\nTraceback (most recent call last):\n  File \"/home/aly/Sage/develop/sage/src/bin/sage-runtests\", line 89, in <module>\n    from sage.doctest.control import DocTestController\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 33, in <module>\n    from .sources import FileDocTestSource, DictAsObject\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/doctest/sources.py\", line 33, in <module>\n    from .parsing import SageDocTestParser\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/doctest/parsing.py\", line 55, in <module>\n    from sage.all import RealIntervalField\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/all.py\", line 105, in <module>\n    from sage.algebras.all   import *\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/algebras/all.py\", line 22, in <module>\n    import sage.algebras.catalog as algebras\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/algebras/catalog.py\", line 62, in <module>\n    from sage.algebras.iwahori_hecke_algebra import IwahoriHeckeAlgebra as IwahoriHecke\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/algebras/iwahori_hecke_algebra.py\", line 34, in <module>\n    from sage.combinat.root_system.weyl_group import WeylGroup\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/__init__.py\", line 118, in <module>\n    from . import type_A\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/type_A.py\", line 17, in <module>\n    from . import ambient_space\n  File \"/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.py\", line 16, in <module>\n    from sage.misc.cachefunc import ClearCacheOnPickle\nImportError: cannot import name ClearCacheOnPickle\n```",
    "created_at": "2017-07-21T22:05:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16321#issuecomment-209894",
    "user": "https://github.com/adeines"
}
```

<div id="comment:20" align="right">comment:20</div>

This doesn't want to import ClearCacheOnPickle

```
aly@aly-laptop:~/Sage/develop/sage$ ./sage -tp src/sage/modular/
Traceback (most recent call last):
  File "/home/aly/Sage/develop/sage/src/bin/sage-runtests", line 89, in <module>
    from sage.doctest.control import DocTestController
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/doctest/control.py", line 33, in <module>
    from .sources import FileDocTestSource, DictAsObject
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/doctest/sources.py", line 33, in <module>
    from .parsing import SageDocTestParser
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/doctest/parsing.py", line 55, in <module>
    from sage.all import RealIntervalField
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/all.py", line 105, in <module>
    from sage.algebras.all   import *
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/algebras/all.py", line 22, in <module>
    import sage.algebras.catalog as algebras
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/algebras/catalog.py", line 62, in <module>
    from sage.algebras.iwahori_hecke_algebra import IwahoriHeckeAlgebra as IwahoriHecke
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/algebras/iwahori_hecke_algebra.py", line 34, in <module>
    from sage.combinat.root_system.weyl_group import WeylGroup
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/__init__.py", line 118, in <module>
    from . import type_A
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/type_A.py", line 17, in <module>
    from . import ambient_space
  File "/home/aly/Sage/develop/sage/local/lib/python2.7/site-packages/sage/combinat/root_system/ambient_space.py", line 16, in <module>
    from sage.misc.cachefunc import ClearCacheOnPickle
ImportError: cannot import name ClearCacheOnPickle
```



---

archive/issue_events_231082.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:28:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16321",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16321#event-231082"
}
```
