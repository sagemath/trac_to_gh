# Issue 16272: redesign transversal designs

archive/issues_016035.json:
```json
{
    "body": "The tickets #15310 and #16227 introduce a nice `availability` keywords to the function `transversal_design`. With `availability=True` the return value is the answer to the question \"Does Sage know how to build a TD(k,n)\"? Using `Unknown` from `sage.misc.unknown` we can turn the question into \"Do we know mathematically that a TD(k,n) exist?\" whose answer would be:\n- `True` if Sage knows how to do it\n- `Unknwon` if neither Sage nor mathematics can help\n- `False` if we know mathematically that such construction does not exist\n\nAs the semantic changes, we will also turn the keyword `availability` into `existence` (or maybe have both).\n\nIn the same ticket, we will include some of the known non existence of transversal designs:\n- The [Bruck Ryser Chowla Theorm](http://en.wikipedia.org/wiki/Bruck%E2%80%93Ryser%E2%80%93Chowla_theorem) gives the non-existence of many TD(n+1,n)\n- C. Lam in Lam, \"The Search for a Finite Projective Plane of Order 10\" (1991) proved that TD(11,10) cannot exist\n\nAnd we might see later\n\n- there is some work (?) that shows that if $k$ is large enough then the existence of TD(k,n) implies the existence of TD(n+1,n) and so the non-existence results can percolate downwards in k\n\nAssignee: Vincent Delecroix\n\nCC:  @nathanncohen @brettpim\n\nKeywords: designs, orthogona arrays\n\nReviewer: Nathann Cohen, Vincent Delecroix\n\nAuthor: Nathann Cohen, Vincent Delecroix\n\nBranch: e2749b3db4cd78fc5e9ea8219d4cdf895b283465\n\nDependencies: #16231\n\nCommit: e2749b3db4cd78fc5e9ea8219d4cdf895b283465\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16272\n\n",
    "closed_at": "2014-05-12T11:34:39Z",
    "created_at": "2014-04-30T14:09:07Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "redesign transversal designs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16272",
    "user": "https://github.com/videlec"
}
```
The tickets #15310 and #16227 introduce a nice `availability` keywords to the function `transversal_design`. With `availability=True` the return value is the answer to the question "Does Sage know how to build a TD(k,n)"? Using `Unknown` from `sage.misc.unknown` we can turn the question into "Do we know mathematically that a TD(k,n) exist?" whose answer would be:
- `True` if Sage knows how to do it
- `Unknwon` if neither Sage nor mathematics can help
- `False` if we know mathematically that such construction does not exist

As the semantic changes, we will also turn the keyword `availability` into `existence` (or maybe have both).

In the same ticket, we will include some of the known non existence of transversal designs:
- The [Bruck Ryser Chowla Theorm](http://en.wikipedia.org/wiki/Bruck%E2%80%93Ryser%E2%80%93Chowla_theorem) gives the non-existence of many TD(n+1,n)
- C. Lam in Lam, "The Search for a Finite Projective Plane of Order 10" (1991) proved that TD(11,10) cannot exist

And we might see later

- there is some work (?) that shows that if $k$ is large enough then the existence of TD(k,n) implies the existence of TD(n+1,n) and so the non-existence results can percolate downwards in k

Assignee: Vincent Delecroix

CC:  @nathanncohen @brettpim

Keywords: designs, orthogona arrays

Reviewer: Nathann Cohen, Vincent Delecroix

Author: Nathann Cohen, Vincent Delecroix

Branch: e2749b3db4cd78fc5e9ea8219d4cdf895b283465

Dependencies: #16231

Commit: e2749b3db4cd78fc5e9ea8219d4cdf895b283465

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16272





---

archive/issue_comments_208220.json:
```json
{
    "body": "<a id='comment:4'></a>In case \"Unkown\" did you mean that Sage does not know how to do it (as currently implemented) but possibly Mathematics knows the answer?  \"Unknown\" should ideally mean that mathematics does not know the answer but Sage development is likely to lag behind mathematics and I don't want users to think that if Sage does not know the answer that this implies that mathematics does not know the answer.  I think this is all what you meant but the word \"nor\" confused me.\n\nThe Bruck-Ryser-Chowla Theorem (from Theorem 2.13 in Stinson's Book) shows that if $n \\equiv 1,2 \\bmod 4$\nand there exists a prime $p \\equiv 3 \\bmod 4$ such that the largest power of $p$ that divides $n$ is odd.  Then a TD$(n+1,n)$ does not exist.\n\nA reference for the non existence of TD$(11,10)$ is \n\n```\n@article {MR1018454,\n    AUTHOR = {Lam, C. W. H. and Thiel, L. and Swiercz, S.},\n     TITLE = {The nonexistence of finite projective planes of order {$10$}},\n   JOURNAL = {Canad. J. Math.},\n  FJOURNAL = {Canadian Journal of Mathematics. Journal Canadien de Math\\'ematiques},\n    VOLUME = {41},\n      YEAR = {1989},\n    NUMBER = {6},\n     PAGES = {1117--1123},\n      ISSN = {0008-414X},\n     CODEN = {CJMAAB},\n   MRCLASS = {51E15 (51-04)},\n  MRNUMBER = {1018454 (90j:51008)},\nMRREVIEWER = {J. C. Fisher},\n       DOI = {10.4153/CJM-1989-049-4},\n}\n```\n\n\nFor the results I mentioned about sufficiently high $k$ implying TD$(n+1,n)$ exists, I will have to dig up the papers by Metz and review them to remember exactly how this works.",
    "created_at": "2014-05-01T09:45:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208220",
    "user": "https://github.com/brettpim"
}
```

<a id='comment:4'></a>In case "Unkown" did you mean that Sage does not know how to do it (as currently implemented) but possibly Mathematics knows the answer?  "Unknown" should ideally mean that mathematics does not know the answer but Sage development is likely to lag behind mathematics and I don't want users to think that if Sage does not know the answer that this implies that mathematics does not know the answer.  I think this is all what you meant but the word "nor" confused me.

The Bruck-Ryser-Chowla Theorem (from Theorem 2.13 in Stinson's Book) shows that if $n \equiv 1,2 \bmod 4$
and there exists a prime $p \equiv 3 \bmod 4$ such that the largest power of $p$ that divides $n$ is odd.  Then a TD$(n+1,n)$ does not exist.

A reference for the non existence of TD$(11,10)$ is 

```
@article {MR1018454,
    AUTHOR = {Lam, C. W. H. and Thiel, L. and Swiercz, S.},
     TITLE = {The nonexistence of finite projective planes of order {$10$}},
   JOURNAL = {Canad. J. Math.},
  FJOURNAL = {Canadian Journal of Mathematics. Journal Canadien de Math\'ematiques},
    VOLUME = {41},
      YEAR = {1989},
    NUMBER = {6},
     PAGES = {1117--1123},
      ISSN = {0008-414X},
     CODEN = {CJMAAB},
   MRCLASS = {51E15 (51-04)},
  MRNUMBER = {1018454 (90j:51008)},
MRREVIEWER = {J. C. Fisher},
       DOI = {10.4153/CJM-1989-049-4},
}
```


For the results I mentioned about sufficiently high $k$ implying TD$(n+1,n)$ exists, I will have to dig up the papers by Metz and review them to remember exactly how this works.



---

archive/issue_comments_208221.json:
```json
{
    "body": "<a id='comment:5'></a>Why did that BibTeX reference format so badly?",
    "created_at": "2014-05-01T09:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208221",
    "user": "https://github.com/brettpim"
}
```

<a id='comment:5'></a>Why did that BibTeX reference format so badly?



---

archive/issue_comments_208222.json:
```json
{
    "body": "<a id='comment:6'></a>Yo !\n\n> In case \"Unkown\" did you mean that Sage does not know how to do it (as currently implemented) but possibly Mathematics knows the answer? \n\n\nThe parameter will be called \"existence\". When you type `designs.transversal_design(k,n,existence=True)`\n\nit will answer\n1) `True` meaning \"Sage can build it\"\n2) `Unknown` meaning \"Sage can't build it, but it may exist\"\n3) `False` meaning \"it does not exist\"\n\nThus there is nothing there to mean \"Mathematics knows it exists but Sage does not know how to build it\". THouuuuuuugh if you know of something like that, the only responsible way to solve the problem is to implement the  mathematical result `:-P`\n\n> \"Unknown\" should ideally mean that mathematics does not know the answer but Sage development is likely to lag behind mathematics and I don't want users to think that if Sage does not know the answer that this implies that mathematics does not know the answer.  I think this is all what you meant but the word \"nor\" confused me.\n\n\nWell, the word \"unknown\" means \"Sage has no idea\" `^^;`\n\n> For the results I mentioned about sufficiently high $k$ implying TD$(n+1,n)$ exists, I will have to dig up the papers by Metz and review them to remember exactly how this works.\n\n\nOkayyyyyyyyy !\n\n> Why did that BibTeX reference format so badly?\n\n\nBecause some characters that you used are interpreted as typographic instructions. Wrap what you want to say with ``` and ``` to avoid that. I  edited your comment above, so it looks fine now `;-)`\n\nNathann",
    "created_at": "2014-05-01T09:54:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208222",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'></a>Yo !

> In case "Unkown" did you mean that Sage does not know how to do it (as currently implemented) but possibly Mathematics knows the answer? 


The parameter will be called "existence". When you type `designs.transversal_design(k,n,existence=True)`

it will answer
1) `True` meaning "Sage can build it"
2) `Unknown` meaning "Sage can't build it, but it may exist"
3) `False` meaning "it does not exist"

Thus there is nothing there to mean "Mathematics knows it exists but Sage does not know how to build it". THouuuuuuugh if you know of something like that, the only responsible way to solve the problem is to implement the  mathematical result `:-P`

> "Unknown" should ideally mean that mathematics does not know the answer but Sage development is likely to lag behind mathematics and I don't want users to think that if Sage does not know the answer that this implies that mathematics does not know the answer.  I think this is all what you meant but the word "nor" confused me.


Well, the word "unknown" means "Sage has no idea" `^^;`

> For the results I mentioned about sufficiently high $k$ implying TD$(n+1,n)$ exists, I will have to dig up the papers by Metz and review them to remember exactly how this works.


Okayyyyyyyyy !

> Why did that BibTeX reference format so badly?


Because some characters that you used are interpreted as typographic instructions. Wrap what you want to say with ``` and ``` to avoid that. I  edited your comment above, so it looks fine now `;-)`

Nathann



---

archive/issue_comments_208223.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 ncohen]:\n> Yo !\n> \n> > In case \"Unkown\" did you mean that Sage does not know how to do it (as currently implemented) but possibly Mathematics knows the answer? \n\n> \n> The parameter will be called \"existence\". When you type `designs.transversal_design(k,n,existence=True)`\n> \n> it will answer\n> 1) `True` meaning \"Sage can build it\"\n> 2) `Unknown` meaning \"Sage can't build it, but it may exist\"\n> 3) `False` meaning \"it does not exist\"\n> \n\n\nPerfect, this is what I thought, but \"nor\" threw me off\n\n> \n> > Why did that BibTeX reference format so badly?\n\n> \n> Because some characters that you used are interpreted as typographic instructions. Wrap what you want to say with ``` and ``` to avoid that. I  edited your comment above, so it looks fine now `;-)`\n\n\n\nthanks\n\nYou put it in some kind of box, a \"code block\"?",
    "created_at": "2014-05-01T10:21:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208223",
    "user": "https://github.com/brettpim"
}
```

<a id='comment:7'></a>Replying to [comment:6 ncohen]:
> Yo !
> 
> > In case "Unkown" did you mean that Sage does not know how to do it (as currently implemented) but possibly Mathematics knows the answer? 

> 
> The parameter will be called "existence". When you type `designs.transversal_design(k,n,existence=True)`
> 
> it will answer
> 1) `True` meaning "Sage can build it"
> 2) `Unknown` meaning "Sage can't build it, but it may exist"
> 3) `False` meaning "it does not exist"
> 


Perfect, this is what I thought, but "nor" threw me off

> 
> > Why did that BibTeX reference format so badly?

> 
> Because some characters that you used are interpreted as typographic instructions. Wrap what you want to say with ``` and ``` to avoid that. I  edited your comment above, so it looks fine now `;-)`



thanks

You put it in some kind of box, a "code block"?



---

archive/issue_comments_208224.json:
```json
{
    "body": "<a id='comment:8'></a>> You put it in some kind of box, a \"code block\"?\n\n\nYep !",
    "created_at": "2014-05-01T10:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208224",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>> You put it in some kind of box, a "code block"?


Yep !



---

archive/issue_comments_208225.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-02T13:32:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208225",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_208226.json:
```json
{
    "body": "<a id='comment:9'></a>Here it is ! I implemented the same thing so many times that even I am trying to see that unifying it all may help... `:-P`\n\nNathann",
    "created_at": "2014-05-02T13:32:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208226",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>Here it is ! I implemented the same thing so many times that even I am trying to see that unifying it all may help... `:-P`

Nathann



---

archive/issue_comments_208227.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-02T13:32:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208227",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_208228.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2014-05-02T13:39:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208228",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_208229.json:
```json
{
    "body": "<a id='comment:12'></a>Hi,\n\nI would like to have a `verbose` or `message` option:\n\n```\nsage: designs.transversal_design(7,6,existence=True)\nFalse\nsage: designs.transversal_design(7,6,existence=True,message=True)\n(False, \"By the Bruck-Ryser-Chowla theorem, no projective plane of order 6 exists\")\n```\nBut it looks like we are implementing ourself the propagation of errors... What do you think?\n\nVincent",
    "created_at": "2014-05-02T13:54:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208229",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'></a>Hi,

I would like to have a `verbose` or `message` option:

```
sage: designs.transversal_design(7,6,existence=True)
False
sage: designs.transversal_design(7,6,existence=True,message=True)
(False, "By the Bruck-Ryser-Chowla theorem, no projective plane of order 6 exists")
```
But it looks like we are implementing ourself the propagation of errors... What do you think?

Vincent



---

archive/issue_comments_208230.json:
```json
{
    "body": "<a id='comment:13'></a>Yo !\n\n> But it looks like we are implementing ourself the propagation of errors... What do you think?\n\n\nHMmm... Well, to me this is similar to the \"construction path\" feature. You know, the feature to tell you how to prove formally that a design exists with theorems ? There you want a \"formal proof\" that it cannot be done.\n\nThe thing is that right now we have no recursive proof of non-existence... But I still believe that it is too early to implement stuff like that.\n\nNathann",
    "created_at": "2014-05-02T13:58:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208230",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>Yo !

> But it looks like we are implementing ourself the propagation of errors... What do you think?


HMmm... Well, to me this is similar to the "construction path" feature. You know, the feature to tell you how to prove formally that a design exists with theorems ? There you want a "formal proof" that it cannot be done.

The thing is that right now we have no recursive proof of non-existence... But I still believe that it is too early to implement stuff like that.

Nathann



---

archive/issue_comments_208231.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2014-05-02T21:04:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208231",
    "user": "https://github.com/nathanncohen"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_208232.json:
```json
{
    "body": "<a id='comment:15'></a>Hello,\n\nHere it comes!\n\nOk. I mainly did two things\n   - implement my own `projective_space_as_OA` inside `orthogonal_arrays.py`. This might sound weird but the current implementation of `ProjectiveSpaceDesign` is slow and scarry me (I plan to clean it soon in a ticket).\n   - implement a beautiful `TD_existence` (I do not like the name, so I aks for suggestions here):\n   {{{\n   sage: from sage.combinat.designs.orthogonal_arrays import TD_existence\n   sage: TD_existence(6)\n   TD(k,6)\n    exist            for k in [ 2, 3]\n    unknown to exist for k in [ 4, 6]\n    not exist        for k in [ 7,+infini]\n   }}}\n\nI also correct some of the errors raised to get mainly `EmptySetError` and `NotImplementedError`.\n\nVincent",
    "created_at": "2014-05-02T22:54:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208232",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'></a>Hello,

Here it comes!

Ok. I mainly did two things
   - implement my own `projective_space_as_OA` inside `orthogonal_arrays.py`. This might sound weird but the current implementation of `ProjectiveSpaceDesign` is slow and scarry me (I plan to clean it soon in a ticket).
   - implement a beautiful `TD_existence` (I do not like the name, so I aks for suggestions here):
   {{{
   sage: from sage.combinat.designs.orthogonal_arrays import TD_existence
   sage: TD_existence(6)
   TD(k,6)
    exist            for k in [ 2, 3]
    unknown to exist for k in [ 4, 6]
    not exist        for k in [ 7,+infini]
   }}}

I also correct some of the errors raised to get mainly `EmptySetError` and `NotImplementedError`.

Vincent



---

archive/issue_comments_208233.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-02T22:54:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208233",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_208234.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-02T22:55:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208234",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_208235.json:
```json
{
    "body": "<a id='comment:17'></a>As I do not have the reference for the third point mentioned in the ticket, I did not do it...\n\nVincent",
    "created_at": "2014-05-02T22:55:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208235",
    "user": "https://github.com/videlec"
}
```

<a id='comment:17'></a>As I do not have the reference for the third point mentioned in the ticket, I did not do it...

Vincent



---

archive/issue_comments_208236.json:
```json
{
    "body": "<a id='comment:19'></a>Yo !\n\n>  - implement my own `projective_space_as_OA` inside `orthogonal_arrays.py`. This might sound weird but the current implementation of `ProjectiveSpaceDesign` is slow and scarry me (I plan to clean it soon in a ticket).\n\n\nTHis thing has *NOTHING* to do here. Use the current `ProjectivePlaneDesigns`, and write another ticket to change the code if you don't like it. I agree that it is slow, but implementing the function TWICE (one that is slow, one that is hidden in an unrelated module) is not a way to solve it.\n\n>  - implement a beautiful `TD_existence` (I do not like the name, so I aks for suggestions here):\n\n\nBeautiful ? Is that a joke ? A function that PRINTS text ?\n\nGet this thing out of here until a proper interface design is found. A function like that should RETURN values, not print stuff. Plus we have almost no negative result to advertise for the moment. Plus how the hell is an user going to find that ? We write Sage code here, not our own scripts !!!\n\nIf such a function is to ever be implemented, it will return a pair \"lower bound, upper bound\". The only interesting data in your three lines are TWO NUMBERS, and wrapping them in intervals for nothing, adding a 2 there and an infinity there looks fancy, but once more we work on a library here, not on your own code.\n\n> I also correct some of the errors raised to get mainly `EmptySetError` and `NotImplementedError`.\n\n\n\nI will look at that when the problems above are solved....\n\nNathann",
    "created_at": "2014-05-03T06:46:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208236",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:19'></a>Yo !

>  - implement my own `projective_space_as_OA` inside `orthogonal_arrays.py`. This might sound weird but the current implementation of `ProjectiveSpaceDesign` is slow and scarry me (I plan to clean it soon in a ticket).


THis thing has *NOTHING* to do here. Use the current `ProjectivePlaneDesigns`, and write another ticket to change the code if you don't like it. I agree that it is slow, but implementing the function TWICE (one that is slow, one that is hidden in an unrelated module) is not a way to solve it.

>  - implement a beautiful `TD_existence` (I do not like the name, so I aks for suggestions here):


Beautiful ? Is that a joke ? A function that PRINTS text ?

Get this thing out of here until a proper interface design is found. A function like that should RETURN values, not print stuff. Plus we have almost no negative result to advertise for the moment. Plus how the hell is an user going to find that ? We write Sage code here, not our own scripts !!!

If such a function is to ever be implemented, it will return a pair "lower bound, upper bound". The only interesting data in your three lines are TWO NUMBERS, and wrapping them in intervals for nothing, adding a 2 there and an infinity there looks fancy, but once more we work on a library here, not on your own code.

> I also correct some of the errors raised to get mainly `EmptySetError` and `NotImplementedError`.



I will look at that when the problems above are solved....

Nathann



---

archive/issue_comments_208237.json:
```json
{
    "body": "<a id='comment:20'></a>By the way... When we will have merged all constructions, there is a doctest that I would like to include in the doc, and it may partly do what you built this \"TD_existence\" thing for.\n\nThis is the table that I am trying to copy :\nhttp://books.google.fr/books?id=S9FA9rq1BgoC&lpg=PA175&ots=Do3xYTkMox&dq=%22mols%22%20of%20side%20%3C%2010000&pg=PA176#v=onepage&q=%22mols%22%20of%20side%20%3C%2010000&f=false\n\nIt is somehow \"the reference\". It gives you the maximum number of MOLS that are known to exist for a given order.\n\naaaaaaaand I have had  the following code for a while to see where I was going:\n\n```\nprint \"      \",\nfor i in range(20):\n    print str(i)+\" \"*(4-len(str(i))),\nprint \"\"\nprint \" \"*4+\"_\"*20*5+\"__\"\n\nfor i in range(20*10):\n    if i%20==0:\n        print \"\"\n        print str(i)+\" \"*(4-len(str(i)))+\"| \",\n    if i < 2:\n        k = 1\n    else:\n        for k in range(i+1):\n            if not designs.mutually_orthogonal_latin_squares(i,k,availability=True):\n                break\n    k = str(k-1)\n    print k+\" \"*(4-len(k)),\n```\n\nThis function is not meant to be called by users of course, I thought I would just make it a private function and call it just once, in a \"# long\" doctest. Here is what it produces, with #16241 (and all its dependencies) applied.\n\n```\n       0    1    2    3    4    5    6    7    8    9    10   11   12   13   14   15   16   17   18   19   \n    ______________________________________________________________________________________________________\n\n0   |  0    0    1    2    3    4    1    6    7    8    2    10   4    12   4    4    15   16   3    18   \n20  |  4    5    3    22   7    24   4    26   5    28   4    30   31   5    4    5    8    36   4    5    \n40  |  7    40   5    42   5    6    4    46   8    48   6    5    5    52   5    6    7    3    2    58   \n60  |  5    60   5    6    63   4    2    66   4    4    6    70   7    72   3    7    3    6    3    78   \n80  |  9    80   8    82   6    6    6    3    7    88   3    6    3    4    3    6    7    96   6    8    \n100 |  8    100  6    102  7    4    4    106  4    108  4    6    7    112  3    7    4    8    3    6  \n```\n\nIt will be a nice way to advertise what Sage can do for TD/OA/MOLS `:-P`\n\nNathann",
    "created_at": "2014-05-03T07:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208237",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'></a>By the way... When we will have merged all constructions, there is a doctest that I would like to include in the doc, and it may partly do what you built this "TD_existence" thing for.

This is the table that I am trying to copy :
http://books.google.fr/books?id=S9FA9rq1BgoC&lpg=PA175&ots=Do3xYTkMox&dq=%22mols%22%20of%20side%20%3C%2010000&pg=PA176#v=onepage&q=%22mols%22%20of%20side%20%3C%2010000&f=false

It is somehow "the reference". It gives you the maximum number of MOLS that are known to exist for a given order.

aaaaaaaand I have had  the following code for a while to see where I was going:

```
print "      ",
for i in range(20):
    print str(i)+" "*(4-len(str(i))),
print ""
print " "*4+"_"*20*5+"__"

for i in range(20*10):
    if i%20==0:
        print ""
        print str(i)+" "*(4-len(str(i)))+"| ",
    if i < 2:
        k = 1
    else:
        for k in range(i+1):
            if not designs.mutually_orthogonal_latin_squares(i,k,availability=True):
                break
    k = str(k-1)
    print k+" "*(4-len(k)),
```

This function is not meant to be called by users of course, I thought I would just make it a private function and call it just once, in a "# long" doctest. Here is what it produces, with #16241 (and all its dependencies) applied.

```
       0    1    2    3    4    5    6    7    8    9    10   11   12   13   14   15   16   17   18   19   
    ______________________________________________________________________________________________________

0   |  0    0    1    2    3    4    1    6    7    8    2    10   4    12   4    4    15   16   3    18   
20  |  4    5    3    22   7    24   4    26   5    28   4    30   31   5    4    5    8    36   4    5    
40  |  7    40   5    42   5    6    4    46   8    48   6    5    5    52   5    6    7    3    2    58   
60  |  5    60   5    6    63   4    2    66   4    4    6    70   7    72   3    7    3    6    3    78   
80  |  9    80   8    82   6    6    6    3    7    88   3    6    3    4    3    6    7    96   6    8    
100 |  8    100  6    102  7    4    4    106  4    108  4    6    7    112  3    7    4    8    3    6  
```

It will be a nice way to advertise what Sage can do for TD/OA/MOLS `:-P`

Nathann



---

archive/issue_comments_208238.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-03T07:53:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208238",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_208239.json:
```json
{
    "body": "<a id='comment:22'></a>Hi Nathann,\n\nYou are right. I moved `TD_existence` as a doctest in `transversal_design` and now `projective_plane_as_OA` belongs to the module `block_design`.\n\nThe function `projective_plane_as_OA` is not similar to `ProjectivePlaneDesign` as it returns an  OA (moreover, possibly not a complete OA(n+1,n,2)). To write it, I just pick the code from what was in OA and put it in an independent function. To my mind, we should keep the `ProjectivePlaneDesign` function as it was before.\n\nIs it better like that?\n\nVincent",
    "created_at": "2014-05-03T07:59:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208239",
    "user": "https://github.com/videlec"
}
```

<a id='comment:22'></a>Hi Nathann,

You are right. I moved `TD_existence` as a doctest in `transversal_design` and now `projective_plane_as_OA` belongs to the module `block_design`.

The function `projective_plane_as_OA` is not similar to `ProjectivePlaneDesign` as it returns an  OA (moreover, possibly not a complete OA(n+1,n,2)). To write it, I just pick the code from what was in OA and put it in an independent function. To my mind, we should keep the `ProjectivePlaneDesign` function as it was before.

Is it better like that?

Vincent



---

archive/issue_comments_208240.json:
```json
{
    "body": "<a id='comment:23'></a>Yo !\n\n> You are right. I moved `TD_existence` as a doctest in `transversal_design` and now `projective_plane_as_OA` belongs to the module `block_design`.\n\n\nOkay, I really think that you are wrongly assuming that it is \"always cool\" to add tests, but I always check the long tests when I work on a file and adding \"a minute there, a minute there\" really is painful.\n\nLet's talk about the code : you screamed when I removed the feature \"give me the largest k possible\" from the MOLS. It is now time to add it. To add the feature in all 3 constructors, because it costs absolutely nothing\n\n```\ndef OA(...):\n   if k is None:\n       all(OA(k+1,n,existence=True) for k in range(2,n+4))\n       return k\n```\nAnd for all others\n\n```\ndef TD(...):\n    if k is None:\n        k = OA(None, n,existence = True)\n```\n\nThen your doctest will be lighter and we will have the feature back. I can do it if you don't want to.\n\nAlso : would you mind not constructing the design for values of k which are smaller than the best possible ? Really, please don't make doctests too long. It takes times when you work on code, and you really over-check stuff. Remember that all results are checked before being returned anyway, so really this is a waste of (developer) time.\n\n> The function `projective_plane_as_OA` is not similar to `ProjectivePlaneDesign` as it returns an  OA (moreover, possibly not a complete OA(n+1,n,2)). To write it, I just pick the code from what was in OA and put it in an independent function. To my mind, we should keep the `ProjectivePlaneDesign` function as it was before.\n\n\nIf you need to rewrite a different version of ProjectivePlaneDesign becaause it is to slow, is it safe to assume that ProjectivePlaneDesign should be changed ?\n\nIt does not make any sense to implement the same thing twice, Vincent, really. Of course if you have to call the ProjectivePlaneDesign you may have some conversion to do, but is that really a problem ? We must not implement this thing twice, really ....\n\nNathann",
    "created_at": "2014-05-03T08:29:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208240",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:23'></a>Yo !

> You are right. I moved `TD_existence` as a doctest in `transversal_design` and now `projective_plane_as_OA` belongs to the module `block_design`.


Okay, I really think that you are wrongly assuming that it is "always cool" to add tests, but I always check the long tests when I work on a file and adding "a minute there, a minute there" really is painful.

Let's talk about the code : you screamed when I removed the feature "give me the largest k possible" from the MOLS. It is now time to add it. To add the feature in all 3 constructors, because it costs absolutely nothing

```
def OA(...):
   if k is None:
       all(OA(k+1,n,existence=True) for k in range(2,n+4))
       return k
```
And for all others

```
def TD(...):
    if k is None:
        k = OA(None, n,existence = True)
```

Then your doctest will be lighter and we will have the feature back. I can do it if you don't want to.

Also : would you mind not constructing the design for values of k which are smaller than the best possible ? Really, please don't make doctests too long. It takes times when you work on code, and you really over-check stuff. Remember that all results are checked before being returned anyway, so really this is a waste of (developer) time.

> The function `projective_plane_as_OA` is not similar to `ProjectivePlaneDesign` as it returns an  OA (moreover, possibly not a complete OA(n+1,n,2)). To write it, I just pick the code from what was in OA and put it in an independent function. To my mind, we should keep the `ProjectivePlaneDesign` function as it was before.


If you need to rewrite a different version of ProjectivePlaneDesign becaause it is to slow, is it safe to assume that ProjectivePlaneDesign should be changed ?

It does not make any sense to implement the same thing twice, Vincent, really. Of course if you have to call the ProjectivePlaneDesign you may have some conversion to do, but is that really a problem ? We must not implement this thing twice, really ....

Nathann



---

archive/issue_comments_208241.json:
```json
{
    "body": "<a id='comment:24'></a>Replying to [comment:23 ncohen]:\n> Yo !\n> \n> > You are right. I moved `TD_existence` as a doctest in `transversal_design` and now `projective_plane_as_OA` belongs to the module `block_design`.\n\n> \n> Okay, I really think that you are wrongly assuming that it is \"always cool\" to add tests, but I always check the long tests when I work on a file and adding \"a minute there, a minute there\" really is painful.\n> \n> Let's talk about the code : you screamed when I removed the feature \"give me the largest k possible\" from the MOLS. It is now time to add it. To add the feature in all 3 constructors, because it costs absolutely nothing\n> \n> \n> ```\n> def OA(...):\n>    if k is None:\n>        all(OA(k+1,n,existence=True) for k in range(2,n+4))\n>        return k\n> ```\n> And for all others\n> \n> ```\n> def TD(...):\n>     if k is None:\n>         k = OA(None, n,existence = True)\n> ```\n> \n> Then your doctest will be lighter and we will have the feature back. I can do it if you don't want to.\n> \n> Also : would you mind not constructing the design for values of k which are smaller than the best possible ? Really, please don't make doctests too long. It takes times when you work on code, and you really over-check stuff. Remember that all results are checked before being returned anyway, so really this is a waste of (developer) time.\n\n\nSounds good to me. I will do it and simplify the doctests accordingly.\n\n> > The function `projective_plane_as_OA` is not similar to `ProjectivePlaneDesign` as it returns an  OA (moreover, possibly not a complete OA(n+1,n,2)). To write it, I just pick the code from what was in OA and put it in an independent function. To my mind, we should keep the `ProjectivePlaneDesign` function as it was before.\n\n> \n> If you need to rewrite a different version of ProjectivePlaneDesign because it is too slow, is it safe to assume that ProjectivePlaneDesign should be changed ?\n\n\nIt is not only about conversion. ProjectivePlaneDesign is buggy: there is crazy argument \"type\" which makes specification a bit more complicated:\n- if type is None: do what you know is the best and return **a** projective plane\n- if type is something: do whatever the construction tells you and return **the** corresponding projective plane\n\nNow if you incorporate the `who_asked` feature. It becomes crazy! I feel like `type` and `who_asked` are rather incompatible. To my mind, we should simply remove `ProjectivePlaneDesign` and have different functions (which raise only `ValueError` on bad entries) for each kind of projective planes we know about.\n\n> It does not make any sense to implement the same thing twice, Vincent, really. Of course if you have to call the ProjectivePlaneDesign you may have some conversion to do, but is that really a problem ? We must not implement this thing twice, really ....\n\n\nWhat? I only moved **your** code from `orthogonal_array` to `projective_plane_as_OA`? Just kidding :-P",
    "created_at": "2014-05-03T08:42:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208241",
    "user": "https://github.com/videlec"
}
```

<a id='comment:24'></a>Replying to [comment:23 ncohen]:
> Yo !
> 
> > You are right. I moved `TD_existence` as a doctest in `transversal_design` and now `projective_plane_as_OA` belongs to the module `block_design`.

> 
> Okay, I really think that you are wrongly assuming that it is "always cool" to add tests, but I always check the long tests when I work on a file and adding "a minute there, a minute there" really is painful.
> 
> Let's talk about the code : you screamed when I removed the feature "give me the largest k possible" from the MOLS. It is now time to add it. To add the feature in all 3 constructors, because it costs absolutely nothing
> 
> 
> ```
> def OA(...):
>    if k is None:
>        all(OA(k+1,n,existence=True) for k in range(2,n+4))
>        return k
> ```
> And for all others
> 
> ```
> def TD(...):
>     if k is None:
>         k = OA(None, n,existence = True)
> ```
> 
> Then your doctest will be lighter and we will have the feature back. I can do it if you don't want to.
> 
> Also : would you mind not constructing the design for values of k which are smaller than the best possible ? Really, please don't make doctests too long. It takes times when you work on code, and you really over-check stuff. Remember that all results are checked before being returned anyway, so really this is a waste of (developer) time.


Sounds good to me. I will do it and simplify the doctests accordingly.

> > The function `projective_plane_as_OA` is not similar to `ProjectivePlaneDesign` as it returns an  OA (moreover, possibly not a complete OA(n+1,n,2)). To write it, I just pick the code from what was in OA and put it in an independent function. To my mind, we should keep the `ProjectivePlaneDesign` function as it was before.

> 
> If you need to rewrite a different version of ProjectivePlaneDesign because it is too slow, is it safe to assume that ProjectivePlaneDesign should be changed ?


It is not only about conversion. ProjectivePlaneDesign is buggy: there is crazy argument "type" which makes specification a bit more complicated:
- if type is None: do what you know is the best and return **a** projective plane
- if type is something: do whatever the construction tells you and return **the** corresponding projective plane

Now if you incorporate the `who_asked` feature. It becomes crazy! I feel like `type` and `who_asked` are rather incompatible. To my mind, we should simply remove `ProjectivePlaneDesign` and have different functions (which raise only `ValueError` on bad entries) for each kind of projective planes we know about.

> It does not make any sense to implement the same thing twice, Vincent, really. Of course if you have to call the ProjectivePlaneDesign you may have some conversion to do, but is that really a problem ? We must not implement this thing twice, really ....


What? I only moved **your** code from `orthogonal_array` to `projective_plane_as_OA`? Just kidding :-P



---

archive/issue_comments_208242.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:24 vdelecroix]:\n> Replying to [comment:23 ncohen]:\n> > Yo !\n> > \n> > > You are right. I moved `TD_existence` as a doctest in `transversal_design` and now `projective_plane_as_OA` belongs to the module `block_design`.\n\n> > \n> > Okay, I really think that you are wrongly assuming that it is \"always cool\" to add tests, but I always check the long tests when I work on a file and adding \"a minute there, a minute there\" really is painful.\n> > \n> > Let's talk about the code : you screamed when I removed the feature \"give me the largest k possible\" from the MOLS. It is now time to add it. To add the feature in all 3 constructors, because it costs absolutely nothing\n> > \n> > \n> > ```\n> > def OA(...):\n> >    if k is None:\n> >        all(OA(k+1,n,existence=True) for k in range(2,n+4))\n> >        return k\n> > ```\n> > And for all others\n> > \n> > ```\n> > def TD(...):\n> >     if k is None:\n> >         k = OA(None, n,existence = True)\n> > ```\n> > \n> > Then your doctest will be lighter and we will have the feature back. I can do it if you don't want to.\n> > \n> > Also : would you mind not constructing the design for values of k which are smaller than the best possible ? Really, please don't make doctests too long. It takes times when you work on code, and you really over-check stuff. Remember that all results are checked before being returned anyway, so really this is a waste of (developer) time.\n\n> \n> Sounds good to me. I will do it and simplify the doctests accordingly.\n> \n\n\nArrrrrrggggghhhhhhh. The `k` comes before the `n`. So there is no way to make `k` optional without making `n` optional... do you feel like having something like\n\n```\ndef transversal_design(k,n=None):\n    if n is None:\n        n = k\n        k = best_possible(n)\n    ...\n```",
    "created_at": "2014-05-03T08:46:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208242",
    "user": "https://github.com/videlec"
}
```

<a id='comment:25'></a>Replying to [comment:24 vdelecroix]:
> Replying to [comment:23 ncohen]:
> > Yo !
> > 
> > > You are right. I moved `TD_existence` as a doctest in `transversal_design` and now `projective_plane_as_OA` belongs to the module `block_design`.

> > 
> > Okay, I really think that you are wrongly assuming that it is "always cool" to add tests, but I always check the long tests when I work on a file and adding "a minute there, a minute there" really is painful.
> > 
> > Let's talk about the code : you screamed when I removed the feature "give me the largest k possible" from the MOLS. It is now time to add it. To add the feature in all 3 constructors, because it costs absolutely nothing
> > 
> > 
> > ```
> > def OA(...):
> >    if k is None:
> >        all(OA(k+1,n,existence=True) for k in range(2,n+4))
> >        return k
> > ```
> > And for all others
> > 
> > ```
> > def TD(...):
> >     if k is None:
> >         k = OA(None, n,existence = True)
> > ```
> > 
> > Then your doctest will be lighter and we will have the feature back. I can do it if you don't want to.
> > 
> > Also : would you mind not constructing the design for values of k which are smaller than the best possible ? Really, please don't make doctests too long. It takes times when you work on code, and you really over-check stuff. Remember that all results are checked before being returned anyway, so really this is a waste of (developer) time.

> 
> Sounds good to me. I will do it and simplify the doctests accordingly.
> 


Arrrrrrggggghhhhhhh. The `k` comes before the `n`. So there is no way to make `k` optional without making `n` optional... do you feel like having something like

```
def transversal_design(k,n=None):
    if n is None:
        n = k
        k = best_possible(n)
    ...
```



---

archive/issue_comments_208243.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-03T09:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208243",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_208244.json:
```json
{
    "body": "<a id='comment:27'></a>Now long doctest takes 25 secs on orthogonal_arrays.py, must be good enough.",
    "created_at": "2014-05-03T09:10:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208244",
    "user": "https://github.com/videlec"
}
```

<a id='comment:27'></a>Now long doctest takes 25 secs on orthogonal_arrays.py, must be good enough.



---

archive/issue_comments_208245.json:
```json
{
    "body": "<a id='comment:28'></a>> It is not only about conversion. ProjectivePlaneDesign is buggy: there is crazy argument \"type\" which makes specification a bit more complicated:\n> - if type is None: do what you know is the best and return **a** projective plane\n> - if type is something: do whatever the construction tells you and return **the** corresponding projective plane\n\n\nThis ticket is no place to fix that.\n\n> Now if you incorporate the `who_asked` feature. It becomes crazy! I feel like `type` and `who_asked` are rather incompatible. To my mind, we should simply remove `ProjectivePlaneDesign` and have different functions (which raise only `ValueError` on bad entries) for each kind of projective planes we know about.\n\n\nVincent, the \"type\" keyword is not even USED. Remove it if it makes it easier for you.\n\nNathann",
    "created_at": "2014-05-03T09:12:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208245",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'></a>> It is not only about conversion. ProjectivePlaneDesign is buggy: there is crazy argument "type" which makes specification a bit more complicated:
> - if type is None: do what you know is the best and return **a** projective plane
> - if type is something: do whatever the construction tells you and return **the** corresponding projective plane


This ticket is no place to fix that.

> Now if you incorporate the `who_asked` feature. It becomes crazy! I feel like `type` and `who_asked` are rather incompatible. To my mind, we should simply remove `ProjectivePlaneDesign` and have different functions (which raise only `ValueError` on bad entries) for each kind of projective planes we know about.


Vincent, the "type" keyword is not even USED. Remove it if it makes it easier for you.

Nathann



---

archive/issue_comments_208246.json:
```json
{
    "body": "<a id='comment:29'></a>I can not use the current ProjectivePlaneDesign... here are the timings:\n\n```\nsage: %timeit designs.ProjectivePlaneDesign(9)\n1 loops, best of 3: 2.63 s per loop\nsage: %timeit designs.ProjectivePlaneDesign(16)  # WTF?\n1 loops, best of 3: 42.3 s per loop\n```\n2 secs are reasonable but 42 secs are not and I do not want to go further. Now with the straigthforward one I used it takes less than 1 sec:\n\n```\nsage: from sage.combinat.designs.block_design import projective_plane_as_OA\nsage: %timeit projective_plane_as_OA(9)\n100 loops, best of 3: 5.95 ms per loop\nsage: %timeit projective_plane_as_OA(16)\n10 loops, best of 3: 39.5 ms per loop\n```\n\nI do not want either to rewrite the whole ProjectivePlaneDesign as it is not the purpose of that ticket. So please find a reasonable solution.",
    "created_at": "2014-05-03T09:31:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208246",
    "user": "https://github.com/videlec"
}
```

<a id='comment:29'></a>I can not use the current ProjectivePlaneDesign... here are the timings:

```
sage: %timeit designs.ProjectivePlaneDesign(9)
1 loops, best of 3: 2.63 s per loop
sage: %timeit designs.ProjectivePlaneDesign(16)  # WTF?
1 loops, best of 3: 42.3 s per loop
```
2 secs are reasonable but 42 secs are not and I do not want to go further. Now with the straigthforward one I used it takes less than 1 sec:

```
sage: from sage.combinat.designs.block_design import projective_plane_as_OA
sage: %timeit projective_plane_as_OA(9)
100 loops, best of 3: 5.95 ms per loop
sage: %timeit projective_plane_as_OA(16)
10 loops, best of 3: 39.5 ms per loop
```

I do not want either to rewrite the whole ProjectivePlaneDesign as it is not the purpose of that ticket. So please find a reasonable solution.



---

archive/issue_comments_208247.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-03T09:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208247",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_208248.json:
```json
{
    "body": "<a id='comment:30'></a>I agreed with Nathann that the best solution is to rewrite the projective planes... so here it is: #16281",
    "created_at": "2014-05-03T09:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208248",
    "user": "https://github.com/videlec"
}
```

<a id='comment:30'></a>I agreed with Nathann that the best solution is to rewrite the projective planes... so here it is: #16281



---

archive/issue_comments_208249.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-03T18:47:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208249",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_208250.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-03T18:49:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208250",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_208251.json:
```json
{
    "body": "<a id='comment:32'></a>Hi Nathann,\n\nProjective planes from #16281 is merged and now the code is shorter/cleaner.\n\nThere is no real check that a projective plane is valid as the ouptut of the function `projective_plane`... but that is not a real problem.\n\nVincent",
    "created_at": "2014-05-03T18:49:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208251",
    "user": "https://github.com/videlec"
}
```

<a id='comment:32'></a>Hi Nathann,

Projective planes from #16281 is merged and now the code is shorter/cleaner.

There is no real check that a projective plane is valid as the ouptut of the function `projective_plane`... but that is not a real problem.

Vincent



---

archive/issue_comments_208252.json:
```json
{
    "body": "<a id='comment:33'></a>Well, not only we don't care if some step of the total computation is not checked, but none of them should be checked except the last one. We should never call design constructors from inside of the library without deacivating the checks othewise we really waste time.\n\nOkay... Now I am going to play with git to see what exactly is being implemented in this ticket `T_T`\n\nNathann",
    "created_at": "2014-05-03T18:51:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208252",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:33'></a>Well, not only we don't care if some step of the total computation is not checked, but none of them should be checked except the last one. We should never call design constructors from inside of the library without deacivating the checks othewise we really waste time.

Okay... Now I am going to play with git to see what exactly is being implemented in this ticket `T_T`

Nathann



---

archive/issue_comments_208253.json:
```json
{
    "body": "<a id='comment:34'></a>Please Vincent. In the future, do not do ANYTHING in a merge commit except fix the conflicts.\n\nIt is HELL to know what else you changed.\n\nNathann",
    "created_at": "2014-05-03T18:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208253",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:34'></a>Please Vincent. In the future, do not do ANYTHING in a merge commit except fix the conflicts.

It is HELL to know what else you changed.

Nathann



---

archive/issue_comments_208254.json:
```json
{
    "body": "<a id='comment:35'></a>Okay, it is hell to know what exactly you did here. Can you tell me ?\n\nFor instance, what is the point of this who_asked in projective plane ?\n\nNathann",
    "created_at": "2014-05-03T19:04:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208254",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:35'></a>Okay, it is hell to know what exactly you did here. Can you tell me ?

For instance, what is the point of this who_asked in projective plane ?

Nathann



---

archive/issue_comments_208255.json:
```json
{
    "body": "<a id='comment:36'></a>Okay Vincent. Unless you know a way for me to see exactly what you implemented which is not already in the other tickets, could you :\n\n1) GO back to the history before the merge\n\n2) Do the merge and only the merge\n\n3) Implement stuff\n\nOtherwise I just can't see what you did.\n\nNathann",
    "created_at": "2014-05-03T19:05:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208255",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:36'></a>Okay Vincent. Unless you know a way for me to see exactly what you implemented which is not already in the other tickets, could you :

1) GO back to the history before the merge

2) Do the merge and only the merge

3) Implement stuff

Otherwise I just can't see what you did.

Nathann



---

archive/issue_comments_208256.json:
```json
{
    "body": "<a id='comment:37'></a>Hi,\n\nBefore the merge, there **was** a `who_asked` argument in `projective_plane_as_OA`. Now it is an argument of `projective_plane`. In the second part of the merge I only fix some typo and doctests.\n\nPerhaps I should go much before in history and then do the merge... let me try.\n\nVincent",
    "created_at": "2014-05-03T19:15:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208256",
    "user": "https://github.com/videlec"
}
```

<a id='comment:37'></a>Hi,

Before the merge, there **was** a `who_asked` argument in `projective_plane_as_OA`. Now it is an argument of `projective_plane`. In the second part of the merge I only fix some typo and doctests.

Perhaps I should go much before in history and then do the merge... let me try.

Vincent



---

archive/issue_comments_208257.json:
```json
{
    "body": "<a id='comment:38'></a>Oh. I found a way. Cool `O_O;;`\n\nVincent, I think there is absolutely no point to the implementation of the `who_asked` argument in projective plane, nor in projective plane calling OA back. No projective plane is known to exist for orders which are not prime powers, so this is going too far. We will adapt the code if this ever happens\n\nNathann",
    "created_at": "2014-05-03T19:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208257",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:38'></a>Oh. I found a way. Cool `O_O;;`

Vincent, I think there is absolutely no point to the implementation of the `who_asked` argument in projective plane, nor in projective plane calling OA back. No projective plane is known to exist for orders which are not prime powers, so this is going too far. We will adapt the code if this ever happens

Nathann



---

archive/issue_comments_208258.json:
```json
{
    "body": "<a id='comment:39'></a>It seems I still cannot see all changes. I saw that though :\n\n```\n+    #TODO: here there is no need to test everything as the function\n+    # projective_plane answers it for you\n```\n\nIf you want this to be removed, you need an existence flag on `projective_plane`.\n\nNathann",
    "created_at": "2014-05-03T19:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208258",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:39'></a>It seems I still cannot see all changes. I saw that though :

```
+    #TODO: here there is no need to test everything as the function
+    # projective_plane answers it for you
```

If you want this to be removed, you need an existence flag on `projective_plane`.

Nathann



---

archive/issue_comments_208259.json:
```json
{
    "body": "<a id='comment:40'></a>> If you want this to be removed, you need an existence flag on `projective_plane`.\n\n\nOh, we have it already. Cool. Well, you can replace it if you want, then.\n\nNathann",
    "created_at": "2014-05-03T19:21:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208259",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:40'></a>> If you want this to be removed, you need an existence flag on `projective_plane`.


Oh, we have it already. Cool. Well, you can replace it if you want, then.

Nathann



---

archive/issue_comments_208260.json:
```json
{
    "body": "<a id='comment:41'></a>Time to eat... will have a look later tonight.\n\nVincent",
    "created_at": "2014-05-03T19:27:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208260",
    "user": "https://github.com/videlec"
}
```

<a id='comment:41'></a>Time to eat... will have a look later tonight.

Vincent



---

archive/issue_comments_208261.json:
```json
{
    "body": "<a id='comment:42'></a>It will be much cleaner if I start the merge from d678326 (your last commit)... let's go!\n\nVincent",
    "created_at": "2014-05-03T19:50:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208261",
    "user": "https://github.com/videlec"
}
```

<a id='comment:42'></a>It will be much cleaner if I start the merge from d678326 (your last commit)... let's go!

Vincent



---

archive/issue_comments_208262.json:
```json
{
    "body": "<a id='comment:43'></a>> It will be much cleaner if I start the merge from d678326 (your last commit)... let's go!\n\n+1\n\nNathann",
    "created_at": "2014-05-03T20:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208262",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:43'></a>> It will be much cleaner if I start the merge from d678326 (your last commit)... let's go!

+1

Nathann



---

archive/issue_comments_208263.json:
```json
{
    "body": "<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-05-03T20:19:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208263",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_208264.json:
```json
{
    "body": "<a id='comment:45'></a>Hi Nathann,\n\nThis is a non fast forward push from your last commit. I integrated your remarks and the long doctest I created to check the output of `transversal_design`.\n\nVincent",
    "created_at": "2014-05-03T20:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208264",
    "user": "https://github.com/videlec"
}
```

<a id='comment:45'></a>Hi Nathann,

This is a non fast forward push from your last commit. I integrated your remarks and the long doctest I created to check the output of `transversal_design`.

Vincent



---

archive/issue_comments_208265.json:
```json
{
    "body": "<a id='comment:46'></a>Thanks ! It will be easier to follow this way `:-)`\n\nNathann",
    "created_at": "2014-05-03T20:22:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208265",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:46'></a>Thanks ! It will be easier to follow this way `:-)`

Nathann



---

archive/issue_comments_208266.json:
```json
{
    "body": "<a id='comment:47'></a>Note that the doc fails to build\n\n```\n[combinat ] /opt/sage/local/lib/python2.7/site-packages/sage/combinat/designs/orthogonal_arrays.py:docstring of sage.combinat.designs.orthogonal_arrays.find_wilson_decomposition:14: ERROR: Unexpected indentation.\n[combinat ] :0: WARNING: Block quote ends without a blank line; unexpected unindent.\nError building the documentation.\nTraceback (most recent call last):\n  File \"/opt/sage/src/doc/common/builder.py\", line 1477, in <module>\n    getattr(get_builder(name), type)()\n  File \"/opt/sage/src/doc/common/builder.py\", line 276, in _wrapper\n    getattr(get_builder(document), 'inventory')(*args, **kwds)\n  File \"/opt/sage/src/doc/common/builder.py\", line 487, in _wrapper\n    x.get(99999)\n  File \"/opt/sage/local/lib/python/multiprocessing/pool.py\", line 554, in get\n    raise self._value\nOSError: [combinat ] /opt/sage/local/lib/python2.7/site-packages/sage/combinat/designs/orthogonal_arrays.py:docstring of sage.combinat.designs.orthogonal_arrays.find_wilson_decomposition:14: ERROR: Unexpected indentation.\n```",
    "created_at": "2014-05-03T20:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208266",
    "user": "https://github.com/videlec"
}
```

<a id='comment:47'></a>Note that the doc fails to build

```
[combinat ] /opt/sage/local/lib/python2.7/site-packages/sage/combinat/designs/orthogonal_arrays.py:docstring of sage.combinat.designs.orthogonal_arrays.find_wilson_decomposition:14: ERROR: Unexpected indentation.
[combinat ] :0: WARNING: Block quote ends without a blank line; unexpected unindent.
Error building the documentation.
Traceback (most recent call last):
  File "/opt/sage/src/doc/common/builder.py", line 1477, in <module>
    getattr(get_builder(name), type)()
  File "/opt/sage/src/doc/common/builder.py", line 276, in _wrapper
    getattr(get_builder(document), 'inventory')(*args, **kwds)
  File "/opt/sage/src/doc/common/builder.py", line 487, in _wrapper
    x.get(99999)
  File "/opt/sage/local/lib/python/multiprocessing/pool.py", line 554, in get
    raise self._value
OSError: [combinat ] /opt/sage/local/lib/python2.7/site-packages/sage/combinat/designs/orthogonal_arrays.py:docstring of sage.combinat.designs.orthogonal_arrays.find_wilson_decomposition:14: ERROR: Unexpected indentation.
```



---

archive/issue_comments_208267.json:
```json
{
    "body": "<a id='comment:48'></a>Yooooooooooo !!\n\nI understand that you do not want to call the same function twice, but would you mind behaving as if boolean results were already cached ? It really makes the code's flow easier to follow `:-/`\n\nOtherwise everything looks right... If I may ask, I think it would also be better to not have this `TD = designs.transversal_design` in the doctest. Keeping the full writing also helps explaining to the users that all the TD can be built from `designs.transversal_design`. \n\nNathann",
    "created_at": "2014-05-03T20:39:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208267",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:48'></a>Yooooooooooo !!

I understand that you do not want to call the same function twice, but would you mind behaving as if boolean results were already cached ? It really makes the code's flow easier to follow `:-/`

Otherwise everything looks right... If I may ask, I think it would also be better to not have this `TD = designs.transversal_design` in the doctest. Keeping the full writing also helps explaining to the users that all the TD can be built from `designs.transversal_design`. 

Nathann



---

archive/issue_comments_208268.json:
```json
{
    "body": "<a id='comment:49'></a>Besides it's good to go.\n\nNathann",
    "created_at": "2014-05-03T21:26:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208268",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:49'></a>Besides it's good to go.

Nathann



---

archive/issue_comments_208269.json:
```json
{
    "body": "<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-03T23:02:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208269",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_208270.json:
```json
{
    "body": "<a id='comment:51'></a>Replying to [comment:48 ncohen]:\n> Yooooooooooo !!\n> \n> I understand that you do not want to call the same function twice, but would you mind behaving as if boolean results were already cached ? It really makes the code's flow easier to follow `:-/`\n\n\nI do not care too much about calling twice the function. My main trouble was that in `OA` with parameters `n,k=n+1,t=2` we have equivalence with projective planes. So we need to let the projective plane do what it has to do (even if the answer is Unknown). Whereas for general `n,k,t=2` we might have something better but it still worth it to ask about a projective plane... If you have an idea to make it neat I let it to you.\n\n> Otherwise everything looks right... If I may ask, I think it would also be better to not have this `TD = designs.transversal_design` in the doctest. Keeping the full writing also helps explaining to the users that all the TD can be built from `designs.transversal_design`. \n\n\nCool (Note that the doc problem is fixed).\n\nWe leave the idea of having an optional `k=None`? Might be an independent ticket anyway.\n\nVincent",
    "created_at": "2014-05-03T23:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208270",
    "user": "https://github.com/videlec"
}
```

<a id='comment:51'></a>Replying to [comment:48 ncohen]:
> Yooooooooooo !!
> 
> I understand that you do not want to call the same function twice, but would you mind behaving as if boolean results were already cached ? It really makes the code's flow easier to follow `:-/`


I do not care too much about calling twice the function. My main trouble was that in `OA` with parameters `n,k=n+1,t=2` we have equivalence with projective planes. So we need to let the projective plane do what it has to do (even if the answer is Unknown). Whereas for general `n,k,t=2` we might have something better but it still worth it to ask about a projective plane... If you have an idea to make it neat I let it to you.

> Otherwise everything looks right... If I may ask, I think it would also be better to not have this `TD = designs.transversal_design` in the doctest. Keeping the full writing also helps explaining to the users that all the TD can be built from `designs.transversal_design`. 


Cool (Note that the doc problem is fixed).

We leave the idea of having an optional `k=None`? Might be an independent ticket anyway.

Vincent



---

archive/issue_comments_208271.json:
```json
{
    "body": "<a id='comment:52'></a>> I do not care too much about calling twice the function.\n\n\nCool. Then I changed the code  to have a nice \"if/elif\" structure. In some very specific cases the projective plane function is called three times, but\n\n1) This is only when the answer has been found, so it does not happens often per call\n\n2) A tricky replacement is possible too, as \n\n```\n    elif (t == 2 and\n          (projective_plane(n, existence=True) or\n           (k == n+1 and projective_plane(n, existence=True) is False))):\n```\n\nis equivalent to:\n\n```\n    elif (t == 2 and\n          (projective_plane(n, existence=True) in (True,k<n+1))):\n```\n\nThis being said the code of these things compared to the cost of building the actual array ...\n\n> We leave the idea of having an optional `k=None`? Might be an independent ticket anyway.\n\n\nYep, let's close this one and get #16277 in. I will merge it in a second.\n\nNathann",
    "created_at": "2014-05-04T06:40:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208271",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:52'></a>> I do not care too much about calling twice the function.


Cool. Then I changed the code  to have a nice "if/elif" structure. In some very specific cases the projective plane function is called three times, but

1) This is only when the answer has been found, so it does not happens often per call

2) A tricky replacement is possible too, as 

```
    elif (t == 2 and
          (projective_plane(n, existence=True) or
           (k == n+1 and projective_plane(n, existence=True) is False))):
```

is equivalent to:

```
    elif (t == 2 and
          (projective_plane(n, existence=True) in (True,k<n+1))):
```

This being said the code of these things compared to the cost of building the actual array ...

> We leave the idea of having an optional `k=None`? Might be an independent ticket anyway.


Yep, let's close this one and get #16277 in. I will merge it in a second.

Nathann



---

archive/issue_comments_208272.json:
```json
{
    "body": "<a id='comment:53'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-04T06:41:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208272",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:53'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_208273.json:
```json
{
    "body": "<a id='comment:54'></a>Hi,\n\nThis is what I did not want to do... if `k=n+1` and `projective_plane` answers `Unknown` you are going to try other constructions. In comment:38 you said that it was useless... But anyway, it does not cost too much and if by chance we got one we would be happy!\n\nWho is the author? who is the reviewer? who sets to positive review?\n\nVincent",
    "created_at": "2014-05-04T09:03:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208273",
    "user": "https://github.com/videlec"
}
```

<a id='comment:54'></a>Hi,

This is what I did not want to do... if `k=n+1` and `projective_plane` answers `Unknown` you are going to try other constructions. In comment:38 you said that it was useless... But anyway, it does not cost too much and if by chance we got one we would be happy!

Who is the author? who is the reviewer? who sets to positive review?

Vincent



---

archive/issue_comments_208274.json:
```json
{
    "body": "<a id='comment:55'></a>Yo !\n\n> This is what I did not want to do... if `k=n+1` and `projective_plane` answers `Unknown` you are going to try other constructions. In comment:38 you said that it was useless...\n\n\nOh right. But that was to avoid having a `who_asks` parameter in `projective_plane`. But anyway, it does not cost too much and if by chance we got one we would be happy! Ahahaha. Yeah. Perhaps somebody overlooked a very simple case of recursive decomposition `;-)`\n\n> Who is the author? who is the reviewer? who sets to positive review?\n\n\nWell, let's do half/half. Positive review with both reviewers and both authors. By the way I just finished the patch for `k=None` and I added the MOLS table from my dreams. The last dependency of the constructions will also be reviewed in a second `;-)`\n\nNathann",
    "created_at": "2014-05-04T09:06:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208274",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:55'></a>Yo !

> This is what I did not want to do... if `k=n+1` and `projective_plane` answers `Unknown` you are going to try other constructions. In comment:38 you said that it was useless...


Oh right. But that was to avoid having a `who_asks` parameter in `projective_plane`. But anyway, it does not cost too much and if by chance we got one we would be happy! Ahahaha. Yeah. Perhaps somebody overlooked a very simple case of recursive decomposition `;-)`

> Who is the author? who is the reviewer? who sets to positive review?


Well, let's do half/half. Positive review with both reviewers and both authors. By the way I just finished the patch for `k=None` and I added the MOLS table from my dreams. The last dependency of the constructions will also be reviewed in a second `;-)`

Nathann



---

archive/issue_comments_208275.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-04T09:07:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208275",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_208276.json:
```json
{
    "body": "<a id='comment:57'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2014-05-04T16:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208276",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:57'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_208277.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2014-05-04T16:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208277",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_208278.json:
```json
{
    "body": "<a id='comment:58'></a>Still merging ...\n\nNathann",
    "created_at": "2014-05-04T16:13:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208278",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:58'></a>Still merging ...

Nathann



---

archive/issue_comments_208279.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-04T16:13:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208279",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_047981.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16272#event-47981"
}
```



---

archive/issue_comments_208280.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-05-08T08:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208280",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_208281.json:
```json
{
    "body": "<a id='comment:60'></a>Merge conflict",
    "created_at": "2014-05-08T08:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208281",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:60'></a>Merge conflict



---

archive/issue_comments_208282.json:
```json
{
    "body": "<a id='comment:61'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-08T08:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208282",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_208283.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-05-08T08:23:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208283",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_208284.json:
```json
{
    "body": "<a id='comment:63'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2014-05-10T21:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208284",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:63'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_208285.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2014-05-10T21:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208285",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_208286.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-10T21:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208286",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_208287.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-12T11:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16272#issuecomment-208287",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_047982.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-12T11:34:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16272",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16272#event-47982"
}
```
