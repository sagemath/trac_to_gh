# Issue 16457: Rename xrange() to range()

archive/issues_016220.json:
```json
{
    "body": "In python3 xrange() was renamed to range().\n\nWith this patch iterators will become lists till we switch to python 3. But this should be okay for small intervals. (That's the reason for not changing all.)\n\nThis is part of #16081.\n\nNOTE: xrange can (and should) stay inside the code of .pyx files\n\n**CC:**  @jdemeyer @tscrim @a-andre @embray\n\n**Keywords:** python3\n\n**Branch/Commit:** [dd549fa80f073333fb53fe8d0634eb19281475e6](https://github.com/sagemath/sagetrac-mirror/commit/dd549fa80f073333fb53fe8d0634eb19281475e6)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Andr\u00e9 Apitzsch, Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/16457\n\n",
    "closed_at": "2016-12-05T00:44:38Z",
    "created_at": "2014-06-07T21:58:01Z",
    "labels": [
        "component: python3",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "Rename xrange() to range()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16457",
    "user": "https://github.com/a-andre"
}
```
In python3 xrange() was renamed to range().

With this patch iterators will become lists till we switch to python 3. But this should be okay for small intervals. (That's the reason for not changing all.)

This is part of #16081.

NOTE: xrange can (and should) stay inside the code of .pyx files

**CC:**  @jdemeyer @tscrim @a-andre @embray

**Keywords:** python3

**Branch/Commit:** [dd549fa80f073333fb53fe8d0634eb19281475e6](https://github.com/sagemath/sagetrac-mirror/commit/dd549fa80f073333fb53fe8d0634eb19281475e6)

**Reviewer:** Travis Scrimshaw

**Author:** André Apitzsch, Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/16457





---

archive/issue_comments_260361.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2014-06-07T22:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260361",
    "user": "https://github.com/a-andre"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_260362.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3bae80fba004f3a633c3e0759293a61854f0208\">d3bae80</a></td><td><code>rename xrange() to range()</code></td></tr></table>\n",
    "created_at": "2014-06-07T22:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260362",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3bae80fba004f3a633c3e0759293a61854f0208">d3bae80</a></td><td><code>rename xrange() to range()</code></td></tr></table>




---

archive/issue_comments_260363.json:
```json
{
    "body": "**Author:** Andr\u00e9 Apitzsch",
    "created_at": "2014-06-07T22:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260363",
    "user": "https://github.com/a-andre"
}
```

**Author:** André Apitzsch



---

archive/issue_comments_260364.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"python3\".",
    "created_at": "2014-06-07T22:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260364",
    "user": "https://github.com/a-andre"
}
```

**Changing keywords** from "" to "python3".



---

archive/issue_comments_260365.json:
```json
{
    "body": "**Commit:** [d3bae80fba004f3a633c3e0759293a61854f0208](https://github.com/sagemath/sagetrac-mirror/commit/d3bae80fba004f3a633c3e0759293a61854f0208)",
    "created_at": "2014-06-07T22:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260365",
    "user": "https://github.com/a-andre"
}
```

**Commit:** [d3bae80fba004f3a633c3e0759293a61854f0208](https://github.com/sagemath/sagetrac-mirror/commit/d3bae80fba004f3a633c3e0759293a61854f0208)



---

archive/issue_comments_260366.json:
```json
{
    "body": "**Branch:** [u/aapitzsch/ticket/16457](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/16457)",
    "created_at": "2014-06-07T22:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260366",
    "user": "https://github.com/a-andre"
}
```

**Branch:** [u/aapitzsch/ticket/16457](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/16457)



---

archive/issue_comments_260367.json:
```json
{
    "body": "<a id='comment:2'></a>\nI am strongly against that this ticket is being merge now. We are far from having the Python 3 switch tomorrow (is it even a blocker for sage-6.3?). It will slow down everything. `xrange` is faster by 40% on lists of size 100:\n\n```\nsage: timeit(\"for i in xrange(100):\\n for j in xrange(100): pass\")\n625 loops, best of 3: 362 \u00b5s per loop\nsage: timeit(\"for i in range(100):\\n for j in range(100): pass\")\n625 loops, best of 3: 501 \u00b5s per loop\n```\nAnd there are many of them in Sage source code.",
    "created_at": "2014-06-08T17:22:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260367",
    "user": "https://github.com/videlec"
}
```

<a id='comment:2'></a>
I am strongly against that this ticket is being merge now. We are far from having the Python 3 switch tomorrow (is it even a blocker for sage-6.3?). It will slow down everything. `xrange` is faster by 40% on lists of size 100:

```
sage: timeit("for i in xrange(100):\n for j in xrange(100): pass")
625 loops, best of 3: 362 µs per loop
sage: timeit("for i in range(100):\n for j in range(100): pass")
625 loops, best of 3: 501 µs per loop
```
And there are many of them in Sage source code.



---

archive/issue_comments_260368.json:
```json
{
    "body": "<a id='comment:3'></a>\nYeah, this does seem somewhat premature due to this.  However, it's still good to have a trial version here, especially if someone decided to make a 'Sage-py3' branch for testing at some point.",
    "created_at": "2014-06-10T00:10:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260368",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'></a>
Yeah, this does seem somewhat premature due to this.  However, it's still good to have a trial version here, especially if someone decided to make a 'Sage-py3' branch for testing at some point.



---

archive/issue_events_054629.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16457#event-54629"
}
```



---

archive/issue_events_054630.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-08-25T13:47:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16457#event-54630"
}
```



---

archive/issue_events_054631.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-08-25T13:47:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16457#event-54631"
}
```



---

archive/issue_comments_260369.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2014-10-16T11:25:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260369",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_260370.json:
```json
{
    "body": "<a id='comment:8'></a>\nsee #21375 for a step in this direction",
    "created_at": "2016-08-30T18:30:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260370",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
see #21375 for a step in this direction



---

archive/issue_events_054632.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-30T18:31:16Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16457#event-54632"
}
```



---

archive/issue_events_054633.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-30T18:31:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16457#event-54633"
}
```



---

archive/issue_comments_260371.json:
```json
{
    "body": "<a id='comment:10'></a>\nNOTE: xrange can (and should) stay inside the code of .pyx files",
    "created_at": "2016-09-12T14:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260371",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
NOTE: xrange can (and should) stay inside the code of .pyx files



---

archive/issue_comments_260372.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,3 +3,5 @@\n With this patch iterators will become lists till we switch to python 3. But this should be okay for small intervals. (That's the reason for not changing all.)\n \n This is part of #16081.\n+\n+NOTE: xrange can (and should) stay inside the code of .pyx files\n``````\n",
    "created_at": "2016-09-12T14:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260372",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,3 +3,5 @@
 With this patch iterators will become lists till we switch to python 3. But this should be okay for small intervals. (That's the reason for not changing all.)
 
 This is part of #16081.
+
+NOTE: xrange can (and should) stay inside the code of .pyx files
``````




---

archive/issue_comments_260373.json:
```json
{
    "body": "<a id='comment:11'></a>\nsee #21478, #21530, #21531, #21548 for some further steps",
    "created_at": "2016-09-21T17:35:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260373",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
see #21478, #21530, #21531, #21548 for some further steps



---

archive/issue_comments_260374.json:
```json
{
    "body": "<a id='comment:12'></a>\nafter #21763, #21751, #21677 we will be almost done",
    "created_at": "2016-10-26T11:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260374",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
after #21763, #21751, #21677 we will be almost done



---

archive/issue_comments_260375.json:
```json
{
    "body": "<a id='comment:13'></a>\nThis is now essentially done. There remains only very few xrange in the code. Let us get rid of them here if possible.",
    "created_at": "2016-11-07T20:44:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260375",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
This is now essentially done. There remains only very few xrange in the code. Let us get rid of them here if possible.



---

archive/issue_comments_260376.json:
```json
{
    "body": "**Changing commit** from \"[d3bae80fba004f3a633c3e0759293a61854f0208](https://github.com/sagemath/sagetrac-mirror/commit/d3bae80fba004f3a633c3e0759293a61854f0208)\" to \"\".",
    "created_at": "2016-11-07T20:44:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260376",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[d3bae80fba004f3a633c3e0759293a61854f0208](https://github.com/sagemath/sagetrac-mirror/commit/d3bae80fba004f3a633c3e0759293a61854f0208)" to "".



---

archive/issue_comments_260377.json:
```json
{
    "body": "**Changing branch** from \"[u/aapitzsch/ticket/16457](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/16457)\" to \"\".",
    "created_at": "2016-11-07T20:44:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260377",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/aapitzsch/ticket/16457](https://github.com/sagemath/sagetrac-mirror/tree/u/aapitzsch/ticket/16457)" to "".



---

archive/issue_comments_260378.json:
```json
{
    "body": "**Commit:** [dd549fa80f073333fb53fe8d0634eb19281475e6](https://github.com/sagemath/sagetrac-mirror/commit/dd549fa80f073333fb53fe8d0634eb19281475e6)",
    "created_at": "2016-11-19T20:24:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260378",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [dd549fa80f073333fb53fe8d0634eb19281475e6](https://github.com/sagemath/sagetrac-mirror/commit/dd549fa80f073333fb53fe8d0634eb19281475e6)



---

archive/issue_events_054634.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-19T20:24:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16457#event-54634"
}
```



---

archive/issue_events_054635.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-19T20:24:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "milestone": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16457#event-54635"
}
```



---

archive/issue_comments_260379.json:
```json
{
    "body": "<a id='comment:14'></a>\nok, here is a simple branch eliminating essentially all the remaining instances of xrange, mostly in the doc.\n\nThere will remain to handle ticket #16081.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd549fa80f073333fb53fe8d0634eb19281475e6\">dd549fa</a></td><td><code>trac 16457 eliminate last traces of xrange</code></td></tr></table>\n",
    "created_at": "2016-11-19T20:24:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260379",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
ok, here is a simple branch eliminating essentially all the remaining instances of xrange, mostly in the doc.

There will remain to handle ticket #16081.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd549fa80f073333fb53fe8d0634eb19281475e6">dd549fa</a></td><td><code>trac 16457 eliminate last traces of xrange</code></td></tr></table>




---

archive/issue_comments_260380.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2016-11-19T20:24:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260380",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_260381.json:
```json
{
    "body": "**Branch:** [u/chapoton/16457](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/16457)",
    "created_at": "2016-11-19T20:24:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260381",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/16457](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/16457)



---

archive/issue_comments_260382.json:
```json
{
    "body": "<a id='comment:15'></a>\nat least one bot is green, please review",
    "created_at": "2016-11-25T09:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260382",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'></a>
at least one bot is green, please review



---

archive/issue_comments_260383.json:
```json
{
    "body": "<a id='comment:16'></a>\n*ping* ?",
    "created_at": "2016-12-02T12:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260383",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
*ping* ?



---

archive/issue_comments_260384.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2016-12-02T14:54:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260384",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_260385.json:
```json
{
    "body": "**Changing author** from \"Andr\u00e9 Apitzsch\" to \"Andr\u00e9 Apitzsch, Fr\u00e9d\u00e9ric Chapoton\".",
    "created_at": "2016-12-02T14:54:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260385",
    "user": "https://github.com/tscrim"
}
```

**Changing author** from "André Apitzsch" to "André Apitzsch, Frédéric Chapoton".



---

archive/issue_comments_260386.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2016-12-02T14:54:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260386",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_260387.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/16457](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/16457)\" to \"[dd549fa80f073333fb53fe8d0634eb19281475e6](https://github.com/sagemath/sagetrac-mirror/commit/dd549fa80f073333fb53fe8d0634eb19281475e6)\".",
    "created_at": "2016-12-05T00:44:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16457#issuecomment-260387",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/16457](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/16457)" to "[dd549fa80f073333fb53fe8d0634eb19281475e6](https://github.com/sagemath/sagetrac-mirror/commit/dd549fa80f073333fb53fe8d0634eb19281475e6)".



---

archive/issue_events_054636.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-12-05T00:44:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16457",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16457#event-54636"
}
```
