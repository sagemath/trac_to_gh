# Issue 16531: Expression.solve() does not handle multiple variables to solve for.

archive/issues_016294.json:
```json
{
    "body": "Right now we get this answer\n\n```\nsage: var('b, c')\n(b, c)\nsage: solve((c-1)*(b-1), [b,c])\n[b == 1]\n```\n\nWhich is wrong. In fact maxima can do it correctly:\n\n```\nsage: f = (b-1)*(c-1)\nsage: f._maxima_()\n(b-1)*(c-1)\nsage: f._maxima_().solve([b,c])\n[[b=1,c=%r3],[b=%r4,c=1]]\n```\n\n\nThis patch solves it.\n\n\nI ignored this comment:\n\n```\n        # Take care of cases like solve([x^2-1], [x]) for consistency with\n        # multiple variable input in sage.symbolic.relation.solve().\n        # There *should* be only one variable in the list, since it is\n        # passed from sage.symbolic.relation.solve() and multiple variables\n        # there don't call this function.\n```\n\nIn sage/symbollic/expression.py because there is no such consistency issue:\n\n```\nsage: sage.symbolic.relation.solve(f,[b,c])\n[[b == 1, c == r5], [b == r6, c == 1]]\n```\n\nThis should solve the issue:\n\nCC:  @saraedum @burcin\n\nKeywords: sd59\n\nReviewer: Julian Rueth\n\nAuthor: Miguel Marco\n\nBranch: 0aeabda119cfc33541b5913624dbcedb32d9abae\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16531\n\n",
    "closed_at": "2014-06-27T01:43:18Z",
    "created_at": "2014-06-25T05:10:41Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Expression.solve() does not handle multiple variables to solve for.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16531",
    "user": "https://github.com/miguelmarco"
}
```
Right now we get this answer

```
sage: var('b, c')
(b, c)
sage: solve((c-1)*(b-1), [b,c])
[b == 1]
```

Which is wrong. In fact maxima can do it correctly:

```
sage: f = (b-1)*(c-1)
sage: f._maxima_()
(b-1)*(c-1)
sage: f._maxima_().solve([b,c])
[[b=1,c=%r3],[b=%r4,c=1]]
```


This patch solves it.


I ignored this comment:

```
        # Take care of cases like solve([x^2-1], [x]) for consistency with
        # multiple variable input in sage.symbolic.relation.solve().
        # There *should* be only one variable in the list, since it is
        # passed from sage.symbolic.relation.solve() and multiple variables
        # there don't call this function.
```

In sage/symbollic/expression.py because there is no such consistency issue:

```
sage: sage.symbolic.relation.solve(f,[b,c])
[[b == 1, c == r5], [b == r6, c == 1]]
```

This should solve the issue:

CC:  @saraedum @burcin

Keywords: sd59

Reviewer: Julian Rueth

Author: Miguel Marco

Branch: 0aeabda119cfc33541b5913624dbcedb32d9abae

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16531





---

archive/issue_comments_272929.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mmarco/ticket/16531\"",
    "created_at": "2014-06-25T05:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16531#issuecomment-272929",
    "user": "https://github.com/miguelmarco"
}
```

Changing branch from "" to "u/mmarco/ticket/16531"



---

archive/issue_comments_272930.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-25T05:51:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16531#issuecomment-272930",
    "user": "https://github.com/saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_272931.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|\n|[ccfb899](http://git.sagemath.org/sage.git/commit/?id=ccfb89948509715643a620a3bb21332b55be4e40)|`Modified behaviour of .solve() for multiple variables.`|\n|[6026de4](http://git.sagemath.org/sage.git/commit/?id=6026de49e31c69e658c986614d6c7bbd9c3d73e7)|`Doctest fixed`|",
    "created_at": "2014-06-25T05:51:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16531#issuecomment-272931",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
|[ccfb899](http://git.sagemath.org/sage.git/commit/?id=ccfb89948509715643a620a3bb21332b55be4e40)|`Modified behaviour of .solve() for multiple variables.`|
|[6026de4](http://git.sagemath.org/sage.git/commit/?id=6026de49e31c69e658c986614d6c7bbd9c3d73e7)|`Doctest fixed`|



---

archive/issue_comments_272932.json:
```json
{
    "body": "Changing commit from \"\" to \"6026de49e31c69e658c986614d6c7bbd9c3d73e7\"",
    "created_at": "2014-06-25T05:51:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16531#issuecomment-272932",
    "user": "https://github.com/saraedum"
}
```

Changing commit from "" to "6026de49e31c69e658c986614d6c7bbd9c3d73e7"



---

archive/issue_comments_272933.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2014-06-25T05:51:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16531#issuecomment-272933",
    "user": "https://github.com/saraedum"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_272934.json:
```json
{
    "body": "Changing branch from \"u/mmarco/ticket/16531\" to \"u/saraedum/ticket/16531\"",
    "created_at": "2014-06-25T06:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16531#issuecomment-272934",
    "user": "https://github.com/saraedum"
}
```

Changing branch from "u/mmarco/ticket/16531" to "u/saraedum/ticket/16531"



---

archive/issue_comments_272935.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-06-25T06:09:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16531#issuecomment-272935",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_272936.json:
```json
{
    "body": "<a id='comment:5'></a>\nNew commits:\n|                                                                                                                                          |                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[0aeabda](http://git.sagemath.org/sage.git/commit/?id=0aeabda119cfc33541b5913624dbcedb32d9abae)|`Review commit #16531`|",
    "created_at": "2014-06-25T06:13:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16531#issuecomment-272936",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:5'></a>
New commits:
|                                                                                                                                          |                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[0aeabda](http://git.sagemath.org/sage.git/commit/?id=0aeabda119cfc33541b5913624dbcedb32d9abae)|`Review commit #16531`|



---

archive/issue_comments_272937.json:
```json
{
    "body": "Changing commit from \"6026de49e31c69e658c986614d6c7bbd9c3d73e7\" to \"0aeabda119cfc33541b5913624dbcedb32d9abae\"",
    "created_at": "2014-06-25T06:13:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16531#issuecomment-272937",
    "user": "https://github.com/saraedum"
}
```

Changing commit from "6026de49e31c69e658c986614d6c7bbd9c3d73e7" to "0aeabda119cfc33541b5913624dbcedb32d9abae"



---

archive/issue_comments_272938.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Julian Rueth\"",
    "created_at": "2014-06-25T06:13:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16531#issuecomment-272938",
    "user": "https://github.com/saraedum"
}
```

Changing reviewer from "" to "Julian Rueth"



---

archive/issue_events_048539.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-27T01:43:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16531#event-48539"
}
```



---

archive/issue_comments_272939.json:
```json
{
    "body": "Changing branch from \"u/saraedum/ticket/16531\" to \"0aeabda119cfc33541b5913624dbcedb32d9abae\"",
    "created_at": "2014-06-27T01:43:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16531#issuecomment-272939",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/saraedum/ticket/16531" to "0aeabda119cfc33541b5913624dbcedb32d9abae"



---

archive/issue_comments_272940.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-06-27T01:43:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16531#issuecomment-272940",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_272941.json:
```json
{
    "body": "<a id='comment:7'></a>\nThis seems to have caused a new bug: see #17128.",
    "created_at": "2014-10-10T05:57:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16531#issuecomment-272941",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:7'></a>
This seems to have caused a new bug: see #17128.



---

archive/issue_comments_272942.json:
```json
{
    "body": "Changing commit from \"0aeabda119cfc33541b5913624dbcedb32d9abae\" to \"\"",
    "created_at": "2014-10-10T05:57:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16531",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16531#issuecomment-272942",
    "user": "https://github.com/jhpalmieri"
}
```

Changing commit from "0aeabda119cfc33541b5913624dbcedb32d9abae" to ""
