# Issue 16320: Handle finite slices for infinite enumerate sets

archive/issues_016083.json:
```json
{
    "assignees": [],
    "body": "Given an infinite enumerated set `I`, I'd still expect this to work (and it's very handy):\n\n```\nsage: Partitions()[:5]\n[[], [1], [2], [1, 1], [3]]\n```\n\n**Assignee:** sage-combinat\n\n**CC:**  sage-combinat @nthiery @darijgr\n\n**Keywords:** infinite enumerated set slices\n\n**Branch/Commit:** [4192ec97f301df37952e1dab03dbd210676fe540](https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540)\n\n**Reviewer:** Nathann Cohen, Darij Grinberg\n\n**Author:** Travis Scrimshaw\n\nIssue created by migration from https://trac.sagemath.org/ticket/16320\n\n",
    "closed_at": "2016-10-21T07:04:39Z",
    "created_at": "2014-05-10T02:16:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20categories",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Handle finite slices for infinite enumerate sets",
    "type": "issue",
    "updated_at": "2016-10-21T07:04:39Z",
    "url": "https://github.com/sagemath/sage/issues/16320",
    "user": "https://github.com/tscrim"
}
```
Given an infinite enumerated set `I`, I'd still expect this to work (and it's very handy):

```
sage: Partitions()[:5]
[[], [1], [2], [1, 1], [3]]
```

**Assignee:** sage-combinat

**CC:**  sage-combinat @nthiery @darijgr

**Keywords:** infinite enumerated set slices

**Branch/Commit:** [4192ec97f301df37952e1dab03dbd210676fe540](https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540)

**Reviewer:** Nathann Cohen, Darij Grinberg

**Author:** Travis Scrimshaw

Issue created by migration from https://trac.sagemath.org/ticket/16320





---

archive/issue_events_145725.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-10T02:25:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145725"
}
```



---

archive/issue_comments_212294.json:
```json
{
    "body": "**Branch:** [public/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/infinite_enum_set_slices-16320)",
    "created_at": "2014-05-10T02:25:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212294",
    "user": "https://github.com/tscrim"
}
```

**Branch:** [public/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/infinite_enum_set_slices-16320)



---

archive/issue_comments_212295.json:
```json
{
    "body": "**Commit:** [5771f94439336652610ac23848d4f2b24ef4858a](https://github.com/sagemath/sagetrac-mirror/commit/5771f94439336652610ac23848d4f2b24ef4858a)",
    "created_at": "2014-05-10T02:25:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212295",
    "user": "https://github.com/tscrim"
}
```

**Commit:** [5771f94439336652610ac23848d4f2b24ef4858a](https://github.com/sagemath/sagetrac-mirror/commit/5771f94439336652610ac23848d4f2b24ef4858a)



---

archive/issue_comments_212296.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5771f94439336652610ac23848d4f2b24ef4858a\">5771f94</a></td><td><code>Added __getitem__() to inf enum sets to handle slices and default unranking.</code></td></tr></table>\n",
    "created_at": "2014-05-10T02:25:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212296",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5771f94439336652610ac23848d4f2b24ef4858a">5771f94</a></td><td><code>Added __getitem__() to inf enum sets to handle slices and default unranking.</code></td></tr></table>




---

archive/issue_comments_212297.json:
```json
{
    "body": "**Reviewer:** Nathann Cohen",
    "created_at": "2014-05-10T11:28:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212297",
    "user": "https://github.com/nathanncohen"
}
```

**Reviewer:** Nathann Cohen



---

archive/issue_comments_212298.json:
```json
{
    "body": "<a id='comment:2'></a>\nHellooooooo Travis !!\n\nOkay, this looks very cool but I have two questions:\n\n1) Right now, if an infinite enumerated sets wants to implement `__getitem__` differently (as unrank can be VERY slow) then the slicing feature will be overwritten. Is there a way to avoid that ?\n\n2) To me, computing the slice [:15] should call `__iter__`, which may have been overwritten too. What d you think ?\n\nThose are probems I see with how this is implemented in your branch, but I do not know how to make it better, so I just ask. I am running all tests right now, and if they pass this branch can be set to `positive_review` if we cannot solve any of the problems above `:-)`\n\nNathann",
    "created_at": "2014-05-10T11:28:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212298",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:2'></a>
Hellooooooo Travis !!

Okay, this looks very cool but I have two questions:

1) Right now, if an infinite enumerated sets wants to implement `__getitem__` differently (as unrank can be VERY slow) then the slicing feature will be overwritten. Is there a way to avoid that ?

2) To me, computing the slice [:15] should call `__iter__`, which may have been overwritten too. What d you think ?

Those are probems I see with how this is implemented in your branch, but I do not know how to make it better, so I just ask. I am running all tests right now, and if they pass this branch can be set to `positive_review` if we cannot solve any of the problems above `:-)`

Nathann



---

archive/issue_comments_212299.json:
```json
{
    "body": "**Changing commit** from \"[5771f94439336652610ac23848d4f2b24ef4858a](https://github.com/sagemath/sagetrac-mirror/commit/5771f94439336652610ac23848d4f2b24ef4858a)\" to \"[e069b7de8e84c84978db760833a675c161173287](https://github.com/sagemath/sagetrac-mirror/commit/e069b7de8e84c84978db760833a675c161173287)\".",
    "created_at": "2014-05-10T17:10:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212299",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[5771f94439336652610ac23848d4f2b24ef4858a](https://github.com/sagemath/sagetrac-mirror/commit/5771f94439336652610ac23848d4f2b24ef4858a)" to "[e069b7de8e84c84978db760833a675c161173287](https://github.com/sagemath/sagetrac-mirror/commit/e069b7de8e84c84978db760833a675c161173287)".



---

archive/issue_comments_212300.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e069b7de8e84c84978db760833a675c161173287\">e069b7d</a></td><td><code>Made simple slices use iterators.</code></td></tr></table>\n",
    "created_at": "2014-05-10T17:10:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212300",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e069b7de8e84c84978db760833a675c161173287">e069b7d</a></td><td><code>Made simple slices use iterators.</code></td></tr></table>




---

archive/issue_comments_212301.json:
```json
{
    "body": "<a id='comment:4'></a>\n1) This is a generic implementation (i.e. think in an abstract class), so I can't do anything about when it's overwritten except possibly adding it in in each of those classes directly (which I don't want to do). I would instead recommend having those classes implement `unrank`, if also to avoid ambiguity with things like `ZZ['x']`.\n\n2) Done.",
    "created_at": "2014-05-10T17:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212301",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
1) This is a generic implementation (i.e. think in an abstract class), so I can't do anything about when it's overwritten except possibly adding it in in each of those classes directly (which I don't want to do). I would instead recommend having those classes implement `unrank`, if also to avoid ambiguity with things like `ZZ['x']`.

2) Done.



---

archive/issue_events_145726.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2014-05-11T14:29:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145726"
}
```



---

archive/issue_events_145727.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2014-05-11T14:29:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145727"
}
```



---

archive/issue_comments_212302.json:
```json
{
    "body": "<a id='comment:6'></a>\nThis kind of slices can indeed come up handy; thanks for implementing\nthem!\n\nCould we put it instead in `EnumeratedSets`? This would just require updating\na bit the bound checks, possibly testing if ``self in\nSets().Infinite()``, right?\n\nAlso please make the doc read along the following lines::\n\n```\nReturn the `i`-th element of ``self``, or the slice ...\n\nINPUT:\n...\n\n.. WARNING::\n\n    This method is only meant as a convenience shorthand for\n    ``self.unrank(i)`` and ``self.foo(...)`` respectively, for casual\n    use (e.g. in interactive sessions). Subclasses are hereby\n    explicitly permitted to overload ``__getitem__`` with a different\n    semantic, typically for enumerated sets that are naturally indexed\n    by some `I` not of the form `\\{0,1,...\\}`.\n\n    ... EXAMPLE HERE, typically with an infinite family ...\n\n    In particular, generic code *should not* use this shorthand.\n```\n\nAny suggestion for the name `foo` we should use for the analog of\nunrank for slices?\n\nCheers,\n                        Nicolas",
    "created_at": "2014-05-11T18:26:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212302",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:6'></a>
This kind of slices can indeed come up handy; thanks for implementing
them!

Could we put it instead in `EnumeratedSets`? This would just require updating
a bit the bound checks, possibly testing if ``self in
Sets().Infinite()``, right?

Also please make the doc read along the following lines::

```
Return the `i`-th element of ``self``, or the slice ...

INPUT:
...

.. WARNING::

    This method is only meant as a convenience shorthand for
    ``self.unrank(i)`` and ``self.foo(...)`` respectively, for casual
    use (e.g. in interactive sessions). Subclasses are hereby
    explicitly permitted to overload ``__getitem__`` with a different
    semantic, typically for enumerated sets that are naturally indexed
    by some `I` not of the form `\{0,1,...\}`.

    ... EXAMPLE HERE, typically with an infinite family ...

    In particular, generic code *should not* use this shorthand.
```

Any suggestion for the name `foo` we should use for the analog of
unrank for slices?

Cheers,
                        Nicolas



---

archive/issue_comments_212303.json:
```json
{
    "body": "<a id='comment:7'></a>\nHow about we just use `unrank`? Alternatively perhaps `slice` or `range`?",
    "created_at": "2014-05-11T19:12:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212303",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
How about we just use `unrank`? Alternatively perhaps `slice` or `range`?



---

archive/issue_comments_212304.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [@tscrim](#comment%3A7):\n> How about we just use `unrank`? Alternatively perhaps `slice` or `range`?\n\nUsing `unrank` puts more burden on subclasses that implement `unrank`: they would also need to take care of slices. Having a separate method for slices makes it easy to, e.g. provide default implementations for `slice` in term of `unrank` (or in term of `unrank` and `next` or ...).\n\nOther than this, I have no particular preference yet. Another possibility: `unrank_range`.\n\nCheers,",
    "created_at": "2014-05-11T20:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212304",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:8'></a>
Replying to [@tscrim](#comment%3A7):
> How about we just use `unrank`? Alternatively perhaps `slice` or `range`?

Using `unrank` puts more burden on subclasses that implement `unrank`: they would also need to take care of slices. Having a separate method for slices makes it easy to, e.g. provide default implementations for `slice` in term of `unrank` (or in term of `unrank` and `next` or ...).

Other than this, I have no particular preference yet. Another possibility: `unrank_range`.

Cheers,



---

archive/issue_comments_212305.json:
```json
{
    "body": "<a id='comment:9'></a>\nHelloooooooo !!!\n\n> 1) This is a generic implementation (i.e. think in an abstract class), so I can't do anything about when it's overwritten except possibly adding it in in each of those classes directly (which I don't want to do). I would instead recommend having those classes implement `unrank`, if also to avoid ambiguity with things like `ZZ['x']`.\n> \n> 2) Done.\n\nOkayokay, then the result is good to me.. Too bad we cannot solve this once and for all `:-)`\n\nNathann",
    "created_at": "2014-05-12T09:08:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212305",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>
Helloooooooo !!!

> 1) This is a generic implementation (i.e. think in an abstract class), so I can't do anything about when it's overwritten except possibly adding it in in each of those classes directly (which I don't want to do). I would instead recommend having those classes implement `unrank`, if also to avoid ambiguity with things like `ZZ['x']`.
> 
> 2) Done.

Okayokay, then the result is good to me.. Too bad we cannot solve this once and for all `:-)`

Nathann



---

archive/issue_comments_212306.json:
```json
{
    "body": "<a id='comment:10'></a>\nGrr...polymorphism would be nice. `unrank_range` would be okay for me; want me to implement that Nicolas?",
    "created_at": "2014-05-12T21:57:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212306",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
Grr...polymorphism would be nice. `unrank_range` would be okay for me; want me to implement that Nicolas?



---

archive/issue_comments_212307.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [@tscrim](#comment%3A10):\n> Grr...polymorphism would be nice.\n\nYou bet ...\n\n> `unrank_range` would be okay for me; want me to implement that Nicolas?\n\nIf that's ok with you, please go ahead!",
    "created_at": "2014-05-12T22:01:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212307",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:11'></a>
Replying to [@tscrim](#comment%3A10):
> Grr...polymorphism would be nice.

You bet ...

> `unrank_range` would be okay for me; want me to implement that Nicolas?

If that's ok with you, please go ahead!



---

archive/issue_comments_212308.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ed3313ee9d9169f4b7aeeebc219cce8b5197064\">4ed3313</a></td><td><code>Merge branch 'develop' into public/infinite_enum_set_slices-16320</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ed705cb04f4b7b75709541fc850bcc15d6b3742\">7ed705c</a></td><td><code>Implemented changes that Nicolas suggested.</code></td></tr></table>\n",
    "created_at": "2014-05-12T22:55:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212308",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ed3313ee9d9169f4b7aeeebc219cce8b5197064">4ed3313</a></td><td><code>Merge branch 'develop' into public/infinite_enum_set_slices-16320</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ed705cb04f4b7b75709541fc850bcc15d6b3742">7ed705c</a></td><td><code>Implemented changes that Nicolas suggested.</code></td></tr></table>




---

archive/issue_comments_212309.json:
```json
{
    "body": "**Changing commit** from \"[e069b7de8e84c84978db760833a675c161173287](https://github.com/sagemath/sagetrac-mirror/commit/e069b7de8e84c84978db760833a675c161173287)\" to \"[7ed705cb04f4b7b75709541fc850bcc15d6b3742](https://github.com/sagemath/sagetrac-mirror/commit/7ed705cb04f4b7b75709541fc850bcc15d6b3742)\".",
    "created_at": "2014-05-12T22:55:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212309",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[e069b7de8e84c84978db760833a675c161173287](https://github.com/sagemath/sagetrac-mirror/commit/e069b7de8e84c84978db760833a675c161173287)" to "[7ed705cb04f4b7b75709541fc850bcc15d6b3742](https://github.com/sagemath/sagetrac-mirror/commit/7ed705cb04f4b7b75709541fc850bcc15d6b3742)".



---

archive/issue_comments_212310.json:
```json
{
    "body": "<a id='comment:13'></a>\nDone.",
    "created_at": "2014-05-12T22:56:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212310",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>
Done.



---

archive/issue_comments_212311.json:
```json
{
    "body": "<a id='comment:14'></a>\nThanks Travis!\n\nThe logic is broken for finite enumerated sets:\n\n```\nsage: F = FiniteEnumeratedSet([1,2,3])\nsage: F[1:]\n...\nTypeError: range() integer end argument expected, got NoneType.\n```\n(in the current examples, `.list()` has already been called, so this piece of the code was not exercised). It might be an option to call `__getitem__` from `EnumeratedSets` to avoid duplicating the logic.\n\nPlease also add the warnings along the lines of [comment:6].",
    "created_at": "2014-05-13T13:12:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212311",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:14'></a>
Thanks Travis!

The logic is broken for finite enumerated sets:

```
sage: F = FiniteEnumeratedSet([1,2,3])
sage: F[1:]
...
TypeError: range() integer end argument expected, got NoneType.
```
(in the current examples, `.list()` has already been called, so this piece of the code was not exercised). It might be an option to call `__getitem__` from `EnumeratedSets` to avoid duplicating the logic.

Please also add the warnings along the lines of [comment:6].



---

archive/issue_comments_212312.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f351538398980ffb382953d66fc22d7321c033fa\">f351538</a></td><td><code>Added warning and fixed finite enum sets error.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1998e42335312510b53cea35d9aeabd1b52a9cdf\">1998e42</a></td><td><code>Reworked logic a bit.</code></td></tr></table>\n",
    "created_at": "2014-05-13T17:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212312",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f351538398980ffb382953d66fc22d7321c033fa">f351538</a></td><td><code>Added warning and fixed finite enum sets error.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1998e42335312510b53cea35d9aeabd1b52a9cdf">1998e42</a></td><td><code>Reworked logic a bit.</code></td></tr></table>




---

archive/issue_comments_212313.json:
```json
{
    "body": "**Changing commit** from \"[7ed705cb04f4b7b75709541fc850bcc15d6b3742](https://github.com/sagemath/sagetrac-mirror/commit/7ed705cb04f4b7b75709541fc850bcc15d6b3742)\" to \"[1998e42335312510b53cea35d9aeabd1b52a9cdf](https://github.com/sagemath/sagetrac-mirror/commit/1998e42335312510b53cea35d9aeabd1b52a9cdf)\".",
    "created_at": "2014-05-13T17:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212313",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[7ed705cb04f4b7b75709541fc850bcc15d6b3742](https://github.com/sagemath/sagetrac-mirror/commit/7ed705cb04f4b7b75709541fc850bcc15d6b3742)" to "[1998e42335312510b53cea35d9aeabd1b52a9cdf](https://github.com/sagemath/sagetrac-mirror/commit/1998e42335312510b53cea35d9aeabd1b52a9cdf)".



---

archive/issue_comments_212314.json:
```json
{
    "body": "<a id='comment:16'></a>\nFixed, added, and updated.",
    "created_at": "2014-05-13T17:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212314",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
Fixed, added, and updated.



---

archive/issue_comments_212315.json:
```json
{
    "body": "<a id='comment:17'></a>\nThanks. ``__getitem__`` is no more needed in finite enumerated sets, right?\n\nAh, and I just thought: if it's easy to add functional crosslinks to ``unrank`` and ``unrank_range``, that would be a nice addition.\n\nCheers,\n                             Nicolas",
    "created_at": "2014-05-13T20:19:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212315",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:17'></a>
Thanks. ``__getitem__`` is no more needed in finite enumerated sets, right?

Ah, and I just thought: if it's easy to add functional crosslinks to ``unrank`` and ``unrank_range``, that would be a nice addition.

Cheers,
                             Nicolas



---

archive/issue_comments_212316.json:
```json
{
    "body": "<a id='comment:18'></a>\nThe `__getitem__` I have for finite enumerated sets should be faster than calling through `unrank()`. I can't add crosslinks because there is no explicitly defined function `unrank` (at least that I could find).",
    "created_at": "2014-05-13T20:56:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212316",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>
The `__getitem__` I have for finite enumerated sets should be faster than calling through `unrank()`. I can't add crosslinks because there is no explicitly defined function `unrank` (at least that I could find).



---

archive/issue_comments_212317.json:
```json
{
    "body": "<a id='comment:19'></a>\n> The `__getitem__` I have for finite enumerated sets should be faster than calling through unrank().\n\nIt seems to just duplicate the code of `unrank_range` for finite enumerated sets (which you made fast), and the `__getitem__` of enumerated sets will call that `unrank_range` anyway.\n\n> I can't add crosslinks because there is no explicitly defined function unrank (at least that I could find). \n\nToo bad, we really should have an optional abstract method for `unrank` ...",
    "created_at": "2014-05-13T21:51:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212317",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:19'></a>
> The `__getitem__` I have for finite enumerated sets should be faster than calling through unrank().

It seems to just duplicate the code of `unrank_range` for finite enumerated sets (which you made fast), and the `__getitem__` of enumerated sets will call that `unrank_range` anyway.

> I can't add crosslinks because there is no explicitly defined function unrank (at least that I could find). 

Too bad, we really should have an optional abstract method for `unrank` ...



---

archive/issue_comments_212318.json:
```json
{
    "body": "<a id='comment:20'></a>\nIt's an extra function call (plus some extra logic); so it's a micro optimization but still some speed:\n\n```\nsage: def foo():\n....:     return 5\n....: \nsage: def bar():\n....:     return foo()\n....: \nsage: %timeit foo()\n1000000 loops, best of 3: 504 ns per loop\nsage: %timeit bar()\n1000000 loops, best of 3: 773 ns per loop\n```\nplus it's only a few lines, so I don't see much harm.",
    "created_at": "2014-05-13T22:44:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212318",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>
It's an extra function call (plus some extra logic); so it's a micro optimization but still some speed:

```
sage: def foo():
....:     return 5
....: 
sage: def bar():
....:     return foo()
....: 
sage: %timeit foo()
1000000 loops, best of 3: 504 ns per loop
sage: %timeit bar()
1000000 loops, best of 3: 773 ns per loop
```
plus it's only a few lines, so I don't see much harm.



---

archive/issue_comments_212319.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [@tscrim](#comment%3A20):\n> It's an extra function call (plus some extra logic); so it's a micro optimization but still some speed:\n> \n> ```\n> sage: def foo():\n> ....:     return 5\n> ....: \n> sage: def bar():\n> ....:     return foo()\n> ....: \n> sage: %timeit foo()\n> 1000000 loops, best of 3: 504 ns per loop\n> sage: %timeit bar()\n> 1000000 loops, best of 3: 773 ns per loop\n> ```\n> plus it's only a few lines, so I don't see much harm.\n\nNot much I agree. Yet, in general, unless when we really are in a critical path/section, I'd rather not start manually inlining method calls. If you add the extra slice and so on the optimization does not make such a big difference, and it still introduces some duplication: you have to explicitly look at the code to see that it's doing the same thing. And if someone has a better `unrank_range` (granted, this is unlikely), you don't beneficiate from it automatically.\n\nCheers,\n                                                    Nicolas",
    "created_at": "2014-05-14T22:23:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212319",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:21'></a>
Replying to [@tscrim](#comment%3A20):
> It's an extra function call (plus some extra logic); so it's a micro optimization but still some speed:
> 
> ```
> sage: def foo():
> ....:     return 5
> ....: 
> sage: def bar():
> ....:     return foo()
> ....: 
> sage: %timeit foo()
> 1000000 loops, best of 3: 504 ns per loop
> sage: %timeit bar()
> 1000000 loops, best of 3: 773 ns per loop
> ```
> plus it's only a few lines, so I don't see much harm.

Not much I agree. Yet, in general, unless when we really are in a critical path/section, I'd rather not start manually inlining method calls. If you add the extra slice and so on the optimization does not make such a big difference, and it still introduces some duplication: you have to explicitly look at the code to see that it's doing the same thing. And if someone has a better `unrank_range` (granted, this is unlikely), you don't beneficiate from it automatically.

Cheers,
                                                    Nicolas



---

archive/issue_comments_212320.json:
```json
{
    "body": "**Changing commit** from \"[1998e42335312510b53cea35d9aeabd1b52a9cdf](https://github.com/sagemath/sagetrac-mirror/commit/1998e42335312510b53cea35d9aeabd1b52a9cdf)\" to \"[12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4](https://github.com/sagemath/sagetrac-mirror/commit/12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4)\".",
    "created_at": "2014-05-15T21:33:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212320",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1998e42335312510b53cea35d9aeabd1b52a9cdf](https://github.com/sagemath/sagetrac-mirror/commit/1998e42335312510b53cea35d9aeabd1b52a9cdf)" to "[12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4](https://github.com/sagemath/sagetrac-mirror/commit/12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4)".



---

archive/issue_comments_212321.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec3e6384aec0ac2b52f0faec60f34753463f5b35\">ec3e638</a></td><td><code>Merge branch 'develop' into public/infinite_enum_set_slices-16320</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b78c74d07f7c11c636a6159dd87e833d014b238c\">b78c74d</a></td><td><code>Fixed handling of negative stop and made Nicolas' change.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4\">12d1e6b</a></td><td><code>Fixed negative input for start.</code></td></tr></table>\n",
    "created_at": "2014-05-15T21:33:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212321",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec3e6384aec0ac2b52f0faec60f34753463f5b35">ec3e638</a></td><td><code>Merge branch 'develop' into public/infinite_enum_set_slices-16320</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b78c74d07f7c11c636a6159dd87e833d014b238c">b78c74d</a></td><td><code>Fixed handling of negative stop and made Nicolas' change.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4">12d1e6b</a></td><td><code>Fixed negative input for start.</code></td></tr></table>




---

archive/issue_comments_212322.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55c2b588ca002698142b1945248bf3d91b7867c8\">55c2b58</a></td><td><code>Fixed larger stop than cardinality.</code></td></tr></table>\n",
    "created_at": "2014-05-15T21:39:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212322",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55c2b588ca002698142b1945248bf3d91b7867c8">55c2b58</a></td><td><code>Fixed larger stop than cardinality.</code></td></tr></table>




---

archive/issue_comments_212323.json:
```json
{
    "body": "**Changing commit** from \"[12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4](https://github.com/sagemath/sagetrac-mirror/commit/12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4)\" to \"[55c2b588ca002698142b1945248bf3d91b7867c8](https://github.com/sagemath/sagetrac-mirror/commit/55c2b588ca002698142b1945248bf3d91b7867c8)\".",
    "created_at": "2014-05-15T21:39:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212323",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4](https://github.com/sagemath/sagetrac-mirror/commit/12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4)" to "[55c2b588ca002698142b1945248bf3d91b7867c8](https://github.com/sagemath/sagetrac-mirror/commit/55c2b588ca002698142b1945248bf3d91b7867c8)".



---

archive/issue_comments_212324.json:
```json
{
    "body": "<a id='comment:24'></a>\nChanged (under slight protest). However I did uncover other bugs, in that we needed to better handle negative values and larger than len stopping conditions.",
    "created_at": "2014-05-15T21:40:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212324",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:24'></a>
Changed (under slight protest). However I did uncover other bugs, in that we needed to better handle negative values and larger than len stopping conditions.



---

archive/issue_comments_212325.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6f01aa04300e717139cb9cace6571522fa4d9c5\">c6f01aa</a></td><td><code>Merge branch 'develop' into public/infinite_enum_set_slices-16320</code></td></tr></table>\n",
    "created_at": "2014-05-26T03:59:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212325",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6f01aa04300e717139cb9cace6571522fa4d9c5">c6f01aa</a></td><td><code>Merge branch 'develop' into public/infinite_enum_set_slices-16320</code></td></tr></table>




---

archive/issue_comments_212326.json:
```json
{
    "body": "**Changing commit** from \"[55c2b588ca002698142b1945248bf3d91b7867c8](https://github.com/sagemath/sagetrac-mirror/commit/55c2b588ca002698142b1945248bf3d91b7867c8)\" to \"[c6f01aa04300e717139cb9cace6571522fa4d9c5](https://github.com/sagemath/sagetrac-mirror/commit/c6f01aa04300e717139cb9cace6571522fa4d9c5)\".",
    "created_at": "2014-05-26T03:59:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212326",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[55c2b588ca002698142b1945248bf3d91b7867c8](https://github.com/sagemath/sagetrac-mirror/commit/55c2b588ca002698142b1945248bf3d91b7867c8)" to "[c6f01aa04300e717139cb9cace6571522fa4d9c5](https://github.com/sagemath/sagetrac-mirror/commit/c6f01aa04300e717139cb9cace6571522fa4d9c5)".



---

archive/issue_events_145728.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145728"
}
```



---

archive/issue_events_145729.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145729"
}
```



---

archive/issue_comments_212327.json:
```json
{
    "body": "<a id='comment:27'></a>\nsome failing doctests, see patchbot report",
    "created_at": "2015-04-08T06:29:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212327",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:27'></a>
some failing doctests, see patchbot report



---

archive/issue_events_145730.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-08T06:29:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145730"
}
```



---

archive/issue_events_145731.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-08T06:29:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145731"
}
```



---

archive/issue_events_145732.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-04-08T13:40:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145732"
}
```



---

archive/issue_events_145733.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-04-08T13:40:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145733"
}
```



---

archive/issue_comments_212328.json:
```json
{
    "body": "**Changing commit** from \"[c6f01aa04300e717139cb9cace6571522fa4d9c5](https://github.com/sagemath/sagetrac-mirror/commit/c6f01aa04300e717139cb9cace6571522fa4d9c5)\" to \"[1dbb053cfb3f6261d30aac6d20a300bfd57a45e6](https://github.com/sagemath/sagetrac-mirror/commit/1dbb053cfb3f6261d30aac6d20a300bfd57a45e6)\".",
    "created_at": "2016-03-10T23:52:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212328",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[c6f01aa04300e717139cb9cace6571522fa4d9c5](https://github.com/sagemath/sagetrac-mirror/commit/c6f01aa04300e717139cb9cace6571522fa4d9c5)" to "[1dbb053cfb3f6261d30aac6d20a300bfd57a45e6](https://github.com/sagemath/sagetrac-mirror/commit/1dbb053cfb3f6261d30aac6d20a300bfd57a45e6)".



---

archive/issue_comments_212329.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1dbb053cfb3f6261d30aac6d20a300bfd57a45e6\">1dbb053</a></td><td><code>Merge branch 'public/infinite_enum_set_slices-16320' of trac.sagemath.org:sage into public/infinite_enum_set_slices-16320</code></td></tr></table>\n",
    "created_at": "2016-03-10T23:52:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212329",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:29'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1dbb053cfb3f6261d30aac6d20a300bfd57a45e6">1dbb053</a></td><td><code>Merge branch 'public/infinite_enum_set_slices-16320' of trac.sagemath.org:sage into public/infinite_enum_set_slices-16320</code></td></tr></table>




---

archive/issue_events_145734.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-10T23:53:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145734"
}
```



---

archive/issue_events_145735.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-10T23:53:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145735"
}
```



---

archive/issue_comments_212330.json:
```json
{
    "body": "<a id='comment:30'></a>\nAh, the little tidbits I've forgotten...",
    "created_at": "2016-03-10T23:53:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212330",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:30'></a>
Ah, the little tidbits I've forgotten...



---

archive/issue_events_145736.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-10T23:53:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145736"
}
```



---

archive/issue_events_145737.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-10T23:53:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145737"
}
```



---

archive/issue_comments_212331.json:
```json
{
    "body": "<a id='comment:31'></a>\nWhat about an iterator counterpart?\n\n```\ndef iterator(self, start=None, end=None, backward=False):\n    r\"\"\"\n    Iterates over the item in this set between the rank ``start`` and ``end``.\n    \"\"\"\n```\nthat would even be more useful (e.g. parallel loops).\n\nThen we can make a cross implementation in the `ParentMethods` (i.e. `__iter__` calling `iterator` and `iterator` calling `__iter__`). Or possibly using `unrank`.\n\nWhat do you think?",
    "created_at": "2016-03-11T20:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212331",
    "user": "https://github.com/videlec"
}
```

<a id='comment:31'></a>
What about an iterator counterpart?

```
def iterator(self, start=None, end=None, backward=False):
    r"""
    Iterates over the item in this set between the rank ``start`` and ``end``.
    """
```
that would even be more useful (e.g. parallel loops).

Then we can make a cross implementation in the `ParentMethods` (i.e. `__iter__` calling `iterator` and `iterator` calling `__iter__`). Or possibly using `unrank`.

What do you think?



---

archive/issue_comments_212332.json:
```json
{
    "body": "<a id='comment:32'></a>\nThis breaks several doctests, some of which indicate things we definitely should support, specifically negative indices. Probably should try `self.list()[i]` first in `__getitem__` for enumerated sets and for finite enumerated sets, we should do `self.list()[i]` if `i < 0`.\n\nWe probably should also rewrite the iterator and listing methods for (finite?) enumerated sets to use a lazy list, but I think that is best on a follow-up.\n\nFor an `iterator` method, I would call it `iterator_range` for consistency, but I'm not opposed to it. Moreover, the logic from `unrank_range` could probably all be moved there and `unrank_range` just returns a list constructed from `iterator_range`.",
    "created_at": "2016-03-11T23:01:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212332",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:32'></a>
This breaks several doctests, some of which indicate things we definitely should support, specifically negative indices. Probably should try `self.list()[i]` first in `__getitem__` for enumerated sets and for finite enumerated sets, we should do `self.list()[i]` if `i < 0`.

We probably should also rewrite the iterator and listing methods for (finite?) enumerated sets to use a lazy list, but I think that is best on a follow-up.

For an `iterator` method, I would call it `iterator_range` for consistency, but I'm not opposed to it. Moreover, the logic from `unrank_range` could probably all be moved there and `unrank_range` just returns a list constructed from `iterator_range`.



---

archive/issue_events_145738.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-11T23:01:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145738"
}
```



---

archive/issue_events_145739.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-11T23:01:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145739"
}
```



---

archive/issue_comments_212333.json:
```json
{
    "body": "<a id='comment:33'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a8360ef8b53aac1eda1e7b578466fe55484afd8\">7a8360e</a></td><td><code>Galois groups did not satisfy contract for finite enumerated sets.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c98c031962a09ace59f317e1553f0b161cfec410\">c98c031</a></td><td><code>Expanding support for negative indices and iterators and fixing doctests.</code></td></tr></table>\n",
    "created_at": "2016-03-12T00:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212333",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:33'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a8360ef8b53aac1eda1e7b578466fe55484afd8">7a8360e</a></td><td><code>Galois groups did not satisfy contract for finite enumerated sets.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c98c031962a09ace59f317e1553f0b161cfec410">c98c031</a></td><td><code>Expanding support for negative indices and iterators and fixing doctests.</code></td></tr></table>




---

archive/issue_comments_212334.json:
```json
{
    "body": "**Changing commit** from \"[1dbb053cfb3f6261d30aac6d20a300bfd57a45e6](https://github.com/sagemath/sagetrac-mirror/commit/1dbb053cfb3f6261d30aac6d20a300bfd57a45e6)\" to \"[c98c031962a09ace59f317e1553f0b161cfec410](https://github.com/sagemath/sagetrac-mirror/commit/c98c031962a09ace59f317e1553f0b161cfec410)\".",
    "created_at": "2016-03-12T00:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212334",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1dbb053cfb3f6261d30aac6d20a300bfd57a45e6](https://github.com/sagemath/sagetrac-mirror/commit/1dbb053cfb3f6261d30aac6d20a300bfd57a45e6)" to "[c98c031962a09ace59f317e1553f0b161cfec410](https://github.com/sagemath/sagetrac-mirror/commit/c98c031962a09ace59f317e1553f0b161cfec410)".



---

archive/issue_comments_212335.json:
```json
{
    "body": "<a id='comment:34'></a>\nAlright, so I tried to allow the iterator to go over the infinite sets if `stop` was not specified. I also had to implement some methods for Galois groups `G` as they did not have `list(G) == G.list()`, but they will be faster than the generic implementation this way too.\n\nI'm slightly worried we will see a speed regression on finite enumerated sets because it will be repeatedly calling `unrank`, which is asymptotically significantly slower than created the full list of elements and pulling from that (i.e., it is implicitly using a cache). My intuition tells me that this will not likely be used in practice (well, at least doing something like `P[i]` in a tight loop), but perhaps your experience/intuition says different?",
    "created_at": "2016-03-12T01:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212335",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:34'></a>
Alright, so I tried to allow the iterator to go over the infinite sets if `stop` was not specified. I also had to implement some methods for Galois groups `G` as they did not have `list(G) == G.list()`, but they will be faster than the generic implementation this way too.

I'm slightly worried we will see a speed regression on finite enumerated sets because it will be repeatedly calling `unrank`, which is asymptotically significantly slower than created the full list of elements and pulling from that (i.e., it is implicitly using a cache). My intuition tells me that this will not likely be used in practice (well, at least doing something like `P[i]` in a tight loop), but perhaps your experience/intuition says different?



---

archive/issue_events_145740.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-12T01:04:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145740"
}
```



---

archive/issue_events_145741.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-12T01:04:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145741"
}
```



---

archive/issue_events_145742.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-15T13:58:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145742"
}
```



---

archive/issue_events_145743.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-15T13:58:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145743"
}
```



---

archive/issue_comments_212336.json:
```json
{
    "body": "<a id='comment:35'></a>\nyou should use \"next(it)\" and not \"it.next()\" (for python3 compatibility)",
    "created_at": "2016-05-15T13:58:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212336",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:35'></a>
you should use "next(it)" and not "it.next()" (for python3 compatibility)



---

archive/issue_events_145744.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-05-26T10:22:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145744"
}
```



---

archive/issue_events_145745.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-05-26T10:22:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145745"
}
```



---

archive/issue_comments_212337.json:
```json
{
    "body": "<a id='comment:36'></a>\nFixed. I also rebased the branch (hence the new name) to clean up the history slightly.\n  \n---\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/719b366983bd9a4d79938fcf41ae843199521fd7\">719b366</a></td><td><code>Made simple slices use iterators.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f9377fbefcf733294012c4bff7be813b4cd5525\">3f9377f</a></td><td><code>Implemented changes that Nicolas suggested.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25a91cfe2e019b1d275802cd101c1fa6fff0d519\">25a91cf</a></td><td><code>Added warning and fixed finite enum sets error.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/344386a98a67a7ed85063fc5939ac7e97bcf2243\">344386a</a></td><td><code>Reworked logic a bit.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0af412bdedccf9796d5517c8f3d91ec17f7a7fbb\">0af412b</a></td><td><code>Fixed handling of negative stop and made Nicolas' change.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/081989aaa028568cc6c1300d3988db1c5b2a8dec\">081989a</a></td><td><code>Fixed negative input for start.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5140dc23f7c8db6c1c1bb881959ba2cd7b9329b6\">5140dc2</a></td><td><code>Fixed larger stop than cardinality.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ff4a66c9a833f888328b5fb876e38c255066bd7\">3ff4a66</a></td><td><code>Galois groups did not satisfy contract for finite enumerated sets.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8cc9bdd1996ab31231fd7ceeeaf3eb4d634bf938\">8cc9bdd</a></td><td><code>Expanding support for negative indices and iterators and fixing doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bd938e154a4f2fa4053ceac033e8c762c8d9051\">1bd938e</a></td><td><code>Changing `it.next()` to py3 `next(it)`.</code></td></tr></table>\n",
    "created_at": "2016-05-26T10:22:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212337",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:36'></a>
Fixed. I also rebased the branch (hence the new name) to clean up the history slightly.
  
---
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/719b366983bd9a4d79938fcf41ae843199521fd7">719b366</a></td><td><code>Made simple slices use iterators.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f9377fbefcf733294012c4bff7be813b4cd5525">3f9377f</a></td><td><code>Implemented changes that Nicolas suggested.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25a91cfe2e019b1d275802cd101c1fa6fff0d519">25a91cf</a></td><td><code>Added warning and fixed finite enum sets error.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/344386a98a67a7ed85063fc5939ac7e97bcf2243">344386a</a></td><td><code>Reworked logic a bit.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0af412bdedccf9796d5517c8f3d91ec17f7a7fbb">0af412b</a></td><td><code>Fixed handling of negative stop and made Nicolas' change.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/081989aaa028568cc6c1300d3988db1c5b2a8dec">081989a</a></td><td><code>Fixed negative input for start.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5140dc23f7c8db6c1c1bb881959ba2cd7b9329b6">5140dc2</a></td><td><code>Fixed larger stop than cardinality.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ff4a66c9a833f888328b5fb876e38c255066bd7">3ff4a66</a></td><td><code>Galois groups did not satisfy contract for finite enumerated sets.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8cc9bdd1996ab31231fd7ceeeaf3eb4d634bf938">8cc9bdd</a></td><td><code>Expanding support for negative indices and iterators and fixing doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bd938e154a4f2fa4053ceac033e8c762c8d9051">1bd938e</a></td><td><code>Changing `it.next()` to py3 `next(it)`.</code></td></tr></table>




---

archive/issue_comments_212338.json:
```json
{
    "body": "**Changing commit** from \"[c98c031962a09ace59f317e1553f0b161cfec410](https://github.com/sagemath/sagetrac-mirror/commit/c98c031962a09ace59f317e1553f0b161cfec410)\" to \"[1bd938e154a4f2fa4053ceac033e8c762c8d9051](https://github.com/sagemath/sagetrac-mirror/commit/1bd938e154a4f2fa4053ceac033e8c762c8d9051)\".",
    "created_at": "2016-05-26T10:22:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212338",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[c98c031962a09ace59f317e1553f0b161cfec410](https://github.com/sagemath/sagetrac-mirror/commit/c98c031962a09ace59f317e1553f0b161cfec410)" to "[1bd938e154a4f2fa4053ceac033e8c762c8d9051](https://github.com/sagemath/sagetrac-mirror/commit/1bd938e154a4f2fa4053ceac033e8c762c8d9051)".



---

archive/issue_comments_212339.json:
```json
{
    "body": "**Changing branch** from \"[public/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/infinite_enum_set_slices-16320)\" to \"[public/sets/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/sets/infinite_enum_set_slices-16320)\".",
    "created_at": "2016-05-26T10:22:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212339",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[public/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/infinite_enum_set_slices-16320)" to "[public/sets/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/sets/infinite_enum_set_slices-16320)".



---

archive/issue_events_145746.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-05-26T10:23:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145746"
}
```



---

archive/issue_events_145747.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-05-26T10:23:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145747"
}
```



---

archive/issue_comments_212340.json:
```json
{
    "body": "<a id='comment:39'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8be390a907193c076d984cbf8d44514f61e7352\">b8be390</a></td><td><code>Merge branches 'develop' and 'public/sets/infinite_enum_set_slices-16320' of trac.sagemath.org:sage into slice</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0d7bee8e1aec2a0f157061d1b677ebf23425c60\">e0d7bee</a></td><td><code>stop >= 0, and try cardinality earlier</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d1d5efc6c7eb4758f463ffebda623fad4f167a4\">4d1d5ef</a></td><td><code>again, try cardinality earlier</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297\">9db3e97</a></td><td><code>and again stop >= 0</code></td></tr></table>\n",
    "created_at": "2016-10-06T17:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212340",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:39'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8be390a907193c076d984cbf8d44514f61e7352">b8be390</a></td><td><code>Merge branches 'develop' and 'public/sets/infinite_enum_set_slices-16320' of trac.sagemath.org:sage into slice</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0d7bee8e1aec2a0f157061d1b677ebf23425c60">e0d7bee</a></td><td><code>stop >= 0, and try cardinality earlier</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d1d5efc6c7eb4758f463ffebda623fad4f167a4">4d1d5ef</a></td><td><code>again, try cardinality earlier</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297">9db3e97</a></td><td><code>and again stop >= 0</code></td></tr></table>




---

archive/issue_comments_212341.json:
```json
{
    "body": "**Changing commit** from \"[1bd938e154a4f2fa4053ceac033e8c762c8d9051](https://github.com/sagemath/sagetrac-mirror/commit/1bd938e154a4f2fa4053ceac033e8c762c8d9051)\" to \"[9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297](https://github.com/sagemath/sagetrac-mirror/commit/9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297)\".",
    "created_at": "2016-10-06T17:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212341",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1bd938e154a4f2fa4053ceac033e8c762c8d9051](https://github.com/sagemath/sagetrac-mirror/commit/1bd938e154a4f2fa4053ceac033e8c762c8d9051)" to "[9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297](https://github.com/sagemath/sagetrac-mirror/commit/9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297)".



---

archive/issue_comments_212342.json:
```json
{
    "body": "<a id='comment:40'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46d764ffbf96e897352e3afe0ef6b91bd674361e\">46d764f</a></td><td><code>because i'm a potato</code></td></tr></table>\n",
    "created_at": "2016-10-06T17:26:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212342",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:40'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46d764ffbf96e897352e3afe0ef6b91bd674361e">46d764f</a></td><td><code>because i'm a potato</code></td></tr></table>




---

archive/issue_comments_212343.json:
```json
{
    "body": "**Changing commit** from \"[9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297](https://github.com/sagemath/sagetrac-mirror/commit/9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297)\" to \"[46d764ffbf96e897352e3afe0ef6b91bd674361e](https://github.com/sagemath/sagetrac-mirror/commit/46d764ffbf96e897352e3afe0ef6b91bd674361e)\".",
    "created_at": "2016-10-06T17:26:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212343",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297](https://github.com/sagemath/sagetrac-mirror/commit/9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297)" to "[46d764ffbf96e897352e3afe0ef6b91bd674361e](https://github.com/sagemath/sagetrac-mirror/commit/46d764ffbf96e897352e3afe0ef6b91bd674361e)".



---

archive/issue_comments_212344.json:
```json
{
    "body": "<a id='comment:41'></a>\nThe code is good, but can we be sure that the new `__getitem__` on `EnumeratedSets` does not override an older, better `__getitem__` on `EnumeratedSets` or one of its subclasses? (I suppose the change to Galois groups was an instance of precisely this problem.)",
    "created_at": "2016-10-06T17:27:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212344",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:41'></a>
The code is good, but can we be sure that the new `__getitem__` on `EnumeratedSets` does not override an older, better `__getitem__` on `EnumeratedSets` or one of its subclasses? (I suppose the change to Galois groups was an instance of precisely this problem.)



---

archive/issue_comments_212345.json:
```json
{
    "body": "<a id='comment:42'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540\">4192ec9</a></td><td><code>remove unnecessary if</code></td></tr></table>\n",
    "created_at": "2016-10-06T17:29:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212345",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:42'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540">4192ec9</a></td><td><code>remove unnecessary if</code></td></tr></table>




---

archive/issue_comments_212346.json:
```json
{
    "body": "**Changing commit** from \"[46d764ffbf96e897352e3afe0ef6b91bd674361e](https://github.com/sagemath/sagetrac-mirror/commit/46d764ffbf96e897352e3afe0ef6b91bd674361e)\" to \"[4192ec97f301df37952e1dab03dbd210676fe540](https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540)\".",
    "created_at": "2016-10-06T17:29:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212346",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[46d764ffbf96e897352e3afe0ef6b91bd674361e](https://github.com/sagemath/sagetrac-mirror/commit/46d764ffbf96e897352e3afe0ef6b91bd674361e)" to "[4192ec97f301df37952e1dab03dbd210676fe540](https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540)".



---

archive/issue_comments_212347.json:
```json
{
    "body": "<a id='comment:43'></a>\nSetting positive_review, but tagging a couple more people for the case the changes trigger some landmine somwehere far away (the new `__getitem__` on `EnumeratedSets` seems to override the more hands-off `__getitem__` on `Parent`; I might imagine that for some subclasses of `EnumeratedSets`, the latter gives better results or is faster).",
    "created_at": "2016-10-07T19:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212347",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:43'></a>
Setting positive_review, but tagging a couple more people for the case the changes trigger some landmine somwehere far away (the new `__getitem__` on `EnumeratedSets` seems to override the more hands-off `__getitem__` on `Parent`; I might imagine that for some subclasses of `EnumeratedSets`, the latter gives better results or is faster).



---

archive/issue_events_145748.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2016-10-07T19:23:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145748"
}
```



---

archive/issue_events_145749.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2016-10-07T19:23:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145749"
}
```



---

archive/issue_comments_212348.json:
```json
{
    "body": "**Changing reviewer** from \"Nathann Cohen\" to \"Nathann Cohen, Darij Grinberg\".",
    "created_at": "2016-10-07T21:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212348",
    "user": "https://github.com/tscrim"
}
```

**Changing reviewer** from "Nathann Cohen" to "Nathann Cohen, Darij Grinberg".



---

archive/issue_events_145750.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-07T21:57:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145750"
}
```



---

archive/issue_events_145751.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-07T21:57:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145751"
}
```



---

archive/issue_comments_212349.json:
```json
{
    "body": "**Changing branch** from \"[public/sets/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/sets/infinite_enum_set_slices-16320)\" to \"[4192ec97f301df37952e1dab03dbd210676fe540](https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540)\".",
    "created_at": "2016-10-21T07:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-212349",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/sets/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/sets/infinite_enum_set_slices-16320)" to "[4192ec97f301df37952e1dab03dbd210676fe540](https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540)".



---

archive/issue_events_145752.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-21T07:04:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145752"
}
```



---

archive/issue_events_145753.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0e248ffc6aa28c73dac6f0f4f2db205d85455edc",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-10-21T07:04:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-145753"
}
```
