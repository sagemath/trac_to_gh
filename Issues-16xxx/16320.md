# Issue 16320: Handle finite slices for infinite enumerate sets

archive/issues_016083.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-sage-combinat"
    ],
    "body": "Given an infinite enumerated set `I`, I'd still expect this to work (and it's very handy):\n\n```\nsage: Partitions()[:5]\n[[], [1], [2], [1, 1], [3]]\n```\n\nCC:  @sagetrac-sage-combinat @nthiery @darijgr\n\nComponent: **categories**\n\nKeywords: **infinite enumerated set slices**\n\nAuthor: **Travis Scrimshaw**\n\nBranch/Commit: **[`4192ec9`](https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540)**\n\nReviewer: **Nathann Cohen, Darij Grinberg**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16320_\n\n",
    "closed_at": "2016-10-21T07:04:39Z",
    "created_at": "2014-05-10T02:16:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20categories",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Handle finite slices for infinite enumerate sets",
    "type": "issue",
    "updated_at": "2016-10-21T07:04:39Z",
    "url": "https://github.com/sagemath/sage/issues/16320",
    "user": "https://github.com/tscrim"
}
```
Given an infinite enumerated set `I`, I'd still expect this to work (and it's very handy):

```
sage: Partitions()[:5]
[[], [1], [2], [1, 1], [3]]
```

CC:  @sagetrac-sage-combinat @nthiery @darijgr

Component: **categories**

Keywords: **infinite enumerated set slices**

Author: **Travis Scrimshaw**

Branch/Commit: **[`4192ec9`](https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540)**

Reviewer: **Nathann Cohen, Darij Grinberg**

_Issue created by migration from https://trac.sagemath.org/ticket/16320_





---

archive/issue_events_231025.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-10T02:16:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231025"
}
```



---

archive/issue_events_231026.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-10T02:16:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20categories",
    "label_color": "0000ff",
    "label_name": "c: categories",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231026"
}
```



---

archive/issue_events_231027.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-10T02:16:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231027"
}
```



---

archive/issue_events_231028.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-10T02:16:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231028"
}
```



---

archive/issue_events_231029.json:
```json
{
    "actor": "https://github.com/sagetrac-sage-combinat",
    "created_at": "2014-05-10T02:16:37Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "subject": "https://github.com/tscrim",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231029"
}
```



---

archive/issue_events_231030.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-10T02:25:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231030"
}
```



---

archive/issue_comments_209812.json:
```json
{
    "body": "Branch: **[public/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/infinite_enum_set_slices-16320)**",
    "created_at": "2014-05-10T02:25:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209812",
    "user": "https://github.com/tscrim"
}
```

Branch: **[public/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/infinite_enum_set_slices-16320)**



---

archive/issue_comments_209813.json:
```json
{
    "body": "Commit: **[`5771f94`](https://github.com/sagemath/sagetrac-mirror/commit/5771f94439336652610ac23848d4f2b24ef4858a)**",
    "created_at": "2014-05-10T02:25:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209813",
    "user": "https://github.com/tscrim"
}
```

Commit: **[`5771f94`](https://github.com/sagemath/sagetrac-mirror/commit/5771f94439336652610ac23848d4f2b24ef4858a)**



---

archive/issue_comments_209814.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5771f94439336652610ac23848d4f2b24ef4858a\"><code>5771f94</code></a></td><td><code>Added __getitem__() to inf enum sets to handle slices and default unranking.</code></td></tr></table>\n",
    "created_at": "2014-05-10T02:25:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209814",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5771f94439336652610ac23848d4f2b24ef4858a"><code>5771f94</code></a></td><td><code>Added __getitem__() to inf enum sets to handle slices and default unranking.</code></td></tr></table>




---

archive/issue_comments_209815.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2014-05-10T11:28:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209815",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_comments_209816.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nHellooooooo Travis !!\n\nOkay, this looks very cool but I have two questions:\n\n1) Right now, if an infinite enumerated sets wants to implement `__getitem__` differently (as unrank can be VERY slow) then the slicing feature will be overwritten. Is there a way to avoid that ?\n\n2) To me, computing the slice [:15] should call `__iter__`, which may have been overwritten too. What d you think ?\n\nThose are probems I see with how this is implemented in your branch, but I do not know how to make it better, so I just ask. I am running all tests right now, and if they pass this branch can be set to `positive_review` if we cannot solve any of the problems above `:-)`\n\nNathann",
    "created_at": "2014-05-10T11:28:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209816",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:2" align="right">comment:2</div>

Hellooooooo Travis !!

Okay, this looks very cool but I have two questions:

1) Right now, if an infinite enumerated sets wants to implement `__getitem__` differently (as unrank can be VERY slow) then the slicing feature will be overwritten. Is there a way to avoid that ?

2) To me, computing the slice [:15] should call `__iter__`, which may have been overwritten too. What d you think ?

Those are probems I see with how this is implemented in your branch, but I do not know how to make it better, so I just ask. I am running all tests right now, and if they pass this branch can be set to `positive_review` if we cannot solve any of the problems above `:-)`

Nathann



---

archive/issue_comments_209817.json:
```json
{
    "body": "Changed commit from **[`5771f94`](https://github.com/sagemath/sagetrac-mirror/commit/5771f94439336652610ac23848d4f2b24ef4858a)** to **[`e069b7d`](https://github.com/sagemath/sagetrac-mirror/commit/e069b7de8e84c84978db760833a675c161173287)**",
    "created_at": "2014-05-10T17:10:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209817",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5771f94`](https://github.com/sagemath/sagetrac-mirror/commit/5771f94439336652610ac23848d4f2b24ef4858a)** to **[`e069b7d`](https://github.com/sagemath/sagetrac-mirror/commit/e069b7de8e84c84978db760833a675c161173287)**



---

archive/issue_comments_209818.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e069b7de8e84c84978db760833a675c161173287\"><code>e069b7d</code></a></td><td><code>Made simple slices use iterators.</code></td></tr></table>\n",
    "created_at": "2014-05-10T17:10:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209818",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e069b7de8e84c84978db760833a675c161173287"><code>e069b7d</code></a></td><td><code>Made simple slices use iterators.</code></td></tr></table>




---

archive/issue_comments_209819.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\n1) This is a generic implementation (i.e. think in an abstract class), so I can't do anything about when it's overwritten except possibly adding it in in each of those classes directly (which I don't want to do). I would instead recommend having those classes implement `unrank`, if also to avoid ambiguity with things like `ZZ['x']`.\n\n2) Done.",
    "created_at": "2014-05-10T17:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209819",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">comment:4</div>

1) This is a generic implementation (i.e. think in an abstract class), so I can't do anything about when it's overwritten except possibly adding it in in each of those classes directly (which I don't want to do). I would instead recommend having those classes implement `unrank`, if also to avoid ambiguity with things like `ZZ['x']`.

2) Done.



---

archive/issue_events_231031.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2014-05-11T14:29:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231031"
}
```



---

archive/issue_events_231032.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2014-05-11T14:29:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231032"
}
```



---

archive/issue_comments_209820.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThis kind of slices can indeed come up handy; thanks for implementing\nthem!\n\nCould we put it instead in `EnumeratedSets`? This would just require updating\na bit the bound checks, possibly testing if ``self in\nSets().Infinite()``, right?\n\nAlso please make the doc read along the following lines::\n\n```\nReturn the `i`-th element of ``self``, or the slice ...\n\nINPUT:\n...\n\n.. WARNING::\n\n    This method is only meant as a convenience shorthand for\n    ``self.unrank(i)`` and ``self.foo(...)`` respectively, for casual\n    use (e.g. in interactive sessions). Subclasses are hereby\n    explicitly permitted to overload ``__getitem__`` with a different\n    semantic, typically for enumerated sets that are naturally indexed\n    by some `I` not of the form `\\{0,1,...\\}`.\n\n    ... EXAMPLE HERE, typically with an infinite family ...\n\n    In particular, generic code *should not* use this shorthand.\n```\n\nAny suggestion for the name `foo` we should use for the analog of\nunrank for slices?\n\nCheers,\n                        Nicolas",
    "created_at": "2014-05-11T18:26:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209820",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:6" align="right">comment:6</div>

This kind of slices can indeed come up handy; thanks for implementing
them!

Could we put it instead in `EnumeratedSets`? This would just require updating
a bit the bound checks, possibly testing if ``self in
Sets().Infinite()``, right?

Also please make the doc read along the following lines::

```
Return the `i`-th element of ``self``, or the slice ...

INPUT:
...

.. WARNING::

    This method is only meant as a convenience shorthand for
    ``self.unrank(i)`` and ``self.foo(...)`` respectively, for casual
    use (e.g. in interactive sessions). Subclasses are hereby
    explicitly permitted to overload ``__getitem__`` with a different
    semantic, typically for enumerated sets that are naturally indexed
    by some `I` not of the form `\{0,1,...\}`.

    ... EXAMPLE HERE, typically with an infinite family ...

    In particular, generic code *should not* use this shorthand.
```

Any suggestion for the name `foo` we should use for the analog of
unrank for slices?

Cheers,
                        Nicolas



---

archive/issue_comments_209821.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHow about we just use `unrank`? Alternatively perhaps `slice` or `range`?",
    "created_at": "2014-05-11T19:12:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209821",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

How about we just use `unrank`? Alternatively perhaps `slice` or `range`?



---

archive/issue_comments_209822.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@tscrim](#comment%3A7):\n> How about we just use `unrank`? Alternatively perhaps `slice` or `range`?\n\nUsing `unrank` puts more burden on subclasses that implement `unrank`: they would also need to take care of slices. Having a separate method for slices makes it easy to, e.g. provide default implementations for `slice` in term of `unrank` (or in term of `unrank` and `next` or ...).\n\nOther than this, I have no particular preference yet. Another possibility: `unrank_range`.\n\nCheers,",
    "created_at": "2014-05-11T20:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209822",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@tscrim](#comment%3A7):
> How about we just use `unrank`? Alternatively perhaps `slice` or `range`?

Using `unrank` puts more burden on subclasses that implement `unrank`: they would also need to take care of slices. Having a separate method for slices makes it easy to, e.g. provide default implementations for `slice` in term of `unrank` (or in term of `unrank` and `next` or ...).

Other than this, I have no particular preference yet. Another possibility: `unrank_range`.

Cheers,



---

archive/issue_comments_209823.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHelloooooooo !!!\n\n> 1) This is a generic implementation (i.e. think in an abstract class), so I can't do anything about when it's overwritten except possibly adding it in in each of those classes directly (which I don't want to do). I would instead recommend having those classes implement `unrank`, if also to avoid ambiguity with things like `ZZ['x']`.\n> \n> 2) Done.\n\nOkayokay, then the result is good to me.. Too bad we cannot solve this once and for all `:-)`\n\nNathann",
    "created_at": "2014-05-12T09:08:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209823",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

Helloooooooo !!!

> 1) This is a generic implementation (i.e. think in an abstract class), so I can't do anything about when it's overwritten except possibly adding it in in each of those classes directly (which I don't want to do). I would instead recommend having those classes implement `unrank`, if also to avoid ambiguity with things like `ZZ['x']`.
> 
> 2) Done.

Okayokay, then the result is good to me.. Too bad we cannot solve this once and for all `:-)`

Nathann



---

archive/issue_comments_209824.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nGrr...polymorphism would be nice. `unrank_range` would be okay for me; want me to implement that Nicolas?",
    "created_at": "2014-05-12T21:57:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209824",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

Grr...polymorphism would be nice. `unrank_range` would be okay for me; want me to implement that Nicolas?



---

archive/issue_comments_209825.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@tscrim](#comment%3A10):\n> Grr...polymorphism would be nice.\n\nYou bet ...\n\n> `unrank_range` would be okay for me; want me to implement that Nicolas?\n\nIf that's ok with you, please go ahead!",
    "created_at": "2014-05-12T22:01:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209825",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@tscrim](#comment%3A10):
> Grr...polymorphism would be nice.

You bet ...

> `unrank_range` would be okay for me; want me to implement that Nicolas?

If that's ok with you, please go ahead!



---

archive/issue_comments_209826.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ed3313ee9d9169f4b7aeeebc219cce8b5197064\"><code>4ed3313</code></a></td><td><code>Merge branch 'develop' into public/infinite_enum_set_slices-16320</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ed705cb04f4b7b75709541fc850bcc15d6b3742\"><code>7ed705c</code></a></td><td><code>Implemented changes that Nicolas suggested.</code></td></tr></table>\n",
    "created_at": "2014-05-12T22:55:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209826",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ed3313ee9d9169f4b7aeeebc219cce8b5197064"><code>4ed3313</code></a></td><td><code>Merge branch 'develop' into public/infinite_enum_set_slices-16320</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ed705cb04f4b7b75709541fc850bcc15d6b3742"><code>7ed705c</code></a></td><td><code>Implemented changes that Nicolas suggested.</code></td></tr></table>




---

archive/issue_comments_209827.json:
```json
{
    "body": "Changed commit from **[`e069b7d`](https://github.com/sagemath/sagetrac-mirror/commit/e069b7de8e84c84978db760833a675c161173287)** to **[`7ed705c`](https://github.com/sagemath/sagetrac-mirror/commit/7ed705cb04f4b7b75709541fc850bcc15d6b3742)**",
    "created_at": "2014-05-12T22:55:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209827",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e069b7d`](https://github.com/sagemath/sagetrac-mirror/commit/e069b7de8e84c84978db760833a675c161173287)** to **[`7ed705c`](https://github.com/sagemath/sagetrac-mirror/commit/7ed705cb04f4b7b75709541fc850bcc15d6b3742)**



---

archive/issue_comments_209828.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nDone.",
    "created_at": "2014-05-12T22:56:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209828",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">comment:13</div>

Done.



---

archive/issue_comments_209829.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThanks Travis!\n\nThe logic is broken for finite enumerated sets:\n\n```\nsage: F = FiniteEnumeratedSet([1,2,3])\nsage: F[1:]\n...\nTypeError: range() integer end argument expected, got NoneType.\n```\n(in the current examples, `.list()` has already been called, so this piece of the code was not exercised). It might be an option to call `__getitem__` from `EnumeratedSets` to avoid duplicating the logic.\n\nPlease also add the warnings along the lines of [comment:6].",
    "created_at": "2014-05-13T13:12:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209829",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:14" align="right">comment:14</div>

Thanks Travis!

The logic is broken for finite enumerated sets:

```
sage: F = FiniteEnumeratedSet([1,2,3])
sage: F[1:]
...
TypeError: range() integer end argument expected, got NoneType.
```
(in the current examples, `.list()` has already been called, so this piece of the code was not exercised). It might be an option to call `__getitem__` from `EnumeratedSets` to avoid duplicating the logic.

Please also add the warnings along the lines of [comment:6].



---

archive/issue_comments_209830.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f351538398980ffb382953d66fc22d7321c033fa\"><code>f351538</code></a></td><td><code>Added warning and fixed finite enum sets error.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1998e42335312510b53cea35d9aeabd1b52a9cdf\"><code>1998e42</code></a></td><td><code>Reworked logic a bit.</code></td></tr></table>\n",
    "created_at": "2014-05-13T17:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209830",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f351538398980ffb382953d66fc22d7321c033fa"><code>f351538</code></a></td><td><code>Added warning and fixed finite enum sets error.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1998e42335312510b53cea35d9aeabd1b52a9cdf"><code>1998e42</code></a></td><td><code>Reworked logic a bit.</code></td></tr></table>




---

archive/issue_comments_209831.json:
```json
{
    "body": "Changed commit from **[`7ed705c`](https://github.com/sagemath/sagetrac-mirror/commit/7ed705cb04f4b7b75709541fc850bcc15d6b3742)** to **[`1998e42`](https://github.com/sagemath/sagetrac-mirror/commit/1998e42335312510b53cea35d9aeabd1b52a9cdf)**",
    "created_at": "2014-05-13T17:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209831",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7ed705c`](https://github.com/sagemath/sagetrac-mirror/commit/7ed705cb04f4b7b75709541fc850bcc15d6b3742)** to **[`1998e42`](https://github.com/sagemath/sagetrac-mirror/commit/1998e42335312510b53cea35d9aeabd1b52a9cdf)**



---

archive/issue_comments_209832.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nFixed, added, and updated.",
    "created_at": "2014-05-13T17:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209832",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:16" align="right">comment:16</div>

Fixed, added, and updated.



---

archive/issue_comments_209833.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThanks. ``__getitem__`` is no more needed in finite enumerated sets, right?\n\nAh, and I just thought: if it's easy to add functional crosslinks to ``unrank`` and ``unrank_range``, that would be a nice addition.\n\nCheers,\n                             Nicolas",
    "created_at": "2014-05-13T20:19:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209833",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:17" align="right">comment:17</div>

Thanks. ``__getitem__`` is no more needed in finite enumerated sets, right?

Ah, and I just thought: if it's easy to add functional crosslinks to ``unrank`` and ``unrank_range``, that would be a nice addition.

Cheers,
                             Nicolas



---

archive/issue_comments_209834.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThe `__getitem__` I have for finite enumerated sets should be faster than calling through `unrank()`. I can't add crosslinks because there is no explicitly defined function `unrank` (at least that I could find).",
    "created_at": "2014-05-13T20:56:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209834",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">comment:18</div>

The `__getitem__` I have for finite enumerated sets should be faster than calling through `unrank()`. I can't add crosslinks because there is no explicitly defined function `unrank` (at least that I could find).



---

archive/issue_comments_209835.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n> The `__getitem__` I have for finite enumerated sets should be faster than calling through unrank().\n\nIt seems to just duplicate the code of `unrank_range` for finite enumerated sets (which you made fast), and the `__getitem__` of enumerated sets will call that `unrank_range` anyway.\n\n> I can't add crosslinks because there is no explicitly defined function unrank (at least that I could find). \n\nToo bad, we really should have an optional abstract method for `unrank` ...",
    "created_at": "2014-05-13T21:51:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209835",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:19" align="right">comment:19</div>

> The `__getitem__` I have for finite enumerated sets should be faster than calling through unrank().

It seems to just duplicate the code of `unrank_range` for finite enumerated sets (which you made fast), and the `__getitem__` of enumerated sets will call that `unrank_range` anyway.

> I can't add crosslinks because there is no explicitly defined function unrank (at least that I could find). 

Too bad, we really should have an optional abstract method for `unrank` ...



---

archive/issue_comments_209836.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nIt's an extra function call (plus some extra logic); so it's a micro optimization but still some speed:\n\n```\nsage: def foo():\n....:     return 5\n....: \nsage: def bar():\n....:     return foo()\n....: \nsage: %timeit foo()\n1000000 loops, best of 3: 504 ns per loop\nsage: %timeit bar()\n1000000 loops, best of 3: 773 ns per loop\n```\nplus it's only a few lines, so I don't see much harm.",
    "created_at": "2014-05-13T22:44:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209836",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">comment:20</div>

It's an extra function call (plus some extra logic); so it's a micro optimization but still some speed:

```
sage: def foo():
....:     return 5
....: 
sage: def bar():
....:     return foo()
....: 
sage: %timeit foo()
1000000 loops, best of 3: 504 ns per loop
sage: %timeit bar()
1000000 loops, best of 3: 773 ns per loop
```
plus it's only a few lines, so I don't see much harm.



---

archive/issue_comments_209837.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@tscrim](#comment%3A20):\n> It's an extra function call (plus some extra logic); so it's a micro optimization but still some speed:\n> \n> ```\n> sage: def foo():\n> ....:     return 5\n> ....: \n> sage: def bar():\n> ....:     return foo()\n> ....: \n> sage: %timeit foo()\n> 1000000 loops, best of 3: 504 ns per loop\n> sage: %timeit bar()\n> 1000000 loops, best of 3: 773 ns per loop\n> ```\n> plus it's only a few lines, so I don't see much harm.\n\nNot much I agree. Yet, in general, unless when we really are in a critical path/section, I'd rather not start manually inlining method calls. If you add the extra slice and so on the optimization does not make such a big difference, and it still introduces some duplication: you have to explicitly look at the code to see that it's doing the same thing. And if someone has a better `unrank_range` (granted, this is unlikely), you don't beneficiate from it automatically.\n\nCheers,\n                                                    Nicolas",
    "created_at": "2014-05-14T22:23:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209837",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@tscrim](#comment%3A20):
> It's an extra function call (plus some extra logic); so it's a micro optimization but still some speed:
> 
> ```
> sage: def foo():
> ....:     return 5
> ....: 
> sage: def bar():
> ....:     return foo()
> ....: 
> sage: %timeit foo()
> 1000000 loops, best of 3: 504 ns per loop
> sage: %timeit bar()
> 1000000 loops, best of 3: 773 ns per loop
> ```
> plus it's only a few lines, so I don't see much harm.

Not much I agree. Yet, in general, unless when we really are in a critical path/section, I'd rather not start manually inlining method calls. If you add the extra slice and so on the optimization does not make such a big difference, and it still introduces some duplication: you have to explicitly look at the code to see that it's doing the same thing. And if someone has a better `unrank_range` (granted, this is unlikely), you don't beneficiate from it automatically.

Cheers,
                                                    Nicolas



---

archive/issue_comments_209838.json:
```json
{
    "body": "Changed commit from **[`1998e42`](https://github.com/sagemath/sagetrac-mirror/commit/1998e42335312510b53cea35d9aeabd1b52a9cdf)** to **[`12d1e6b`](https://github.com/sagemath/sagetrac-mirror/commit/12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4)**",
    "created_at": "2014-05-15T21:33:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209838",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1998e42`](https://github.com/sagemath/sagetrac-mirror/commit/1998e42335312510b53cea35d9aeabd1b52a9cdf)** to **[`12d1e6b`](https://github.com/sagemath/sagetrac-mirror/commit/12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4)**



---

archive/issue_comments_209839.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec3e6384aec0ac2b52f0faec60f34753463f5b35\"><code>ec3e638</code></a></td><td><code>Merge branch 'develop' into public/infinite_enum_set_slices-16320</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b78c74d07f7c11c636a6159dd87e833d014b238c\"><code>b78c74d</code></a></td><td><code>Fixed handling of negative stop and made Nicolas' change.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4\"><code>12d1e6b</code></a></td><td><code>Fixed negative input for start.</code></td></tr></table>\n",
    "created_at": "2014-05-15T21:33:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209839",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec3e6384aec0ac2b52f0faec60f34753463f5b35"><code>ec3e638</code></a></td><td><code>Merge branch 'develop' into public/infinite_enum_set_slices-16320</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b78c74d07f7c11c636a6159dd87e833d014b238c"><code>b78c74d</code></a></td><td><code>Fixed handling of negative stop and made Nicolas' change.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4"><code>12d1e6b</code></a></td><td><code>Fixed negative input for start.</code></td></tr></table>




---

archive/issue_comments_209840.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55c2b588ca002698142b1945248bf3d91b7867c8\"><code>55c2b58</code></a></td><td><code>Fixed larger stop than cardinality.</code></td></tr></table>\n",
    "created_at": "2014-05-15T21:39:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209840",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55c2b588ca002698142b1945248bf3d91b7867c8"><code>55c2b58</code></a></td><td><code>Fixed larger stop than cardinality.</code></td></tr></table>




---

archive/issue_comments_209841.json:
```json
{
    "body": "Changed commit from **[`12d1e6b`](https://github.com/sagemath/sagetrac-mirror/commit/12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4)** to **[`55c2b58`](https://github.com/sagemath/sagetrac-mirror/commit/55c2b588ca002698142b1945248bf3d91b7867c8)**",
    "created_at": "2014-05-15T21:39:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209841",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`12d1e6b`](https://github.com/sagemath/sagetrac-mirror/commit/12d1e6b3a16072c24080d5e8b69e9688d4cfc9f4)** to **[`55c2b58`](https://github.com/sagemath/sagetrac-mirror/commit/55c2b588ca002698142b1945248bf3d91b7867c8)**



---

archive/issue_comments_209842.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nChanged (under slight protest). However I did uncover other bugs, in that we needed to better handle negative values and larger than len stopping conditions.",
    "created_at": "2014-05-15T21:40:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209842",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:24" align="right">comment:24</div>

Changed (under slight protest). However I did uncover other bugs, in that we needed to better handle negative values and larger than len stopping conditions.



---

archive/issue_comments_209843.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6f01aa04300e717139cb9cace6571522fa4d9c5\"><code>c6f01aa</code></a></td><td><code>Merge branch 'develop' into public/infinite_enum_set_slices-16320</code></td></tr></table>\n",
    "created_at": "2014-05-26T03:59:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209843",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6f01aa04300e717139cb9cace6571522fa4d9c5"><code>c6f01aa</code></a></td><td><code>Merge branch 'develop' into public/infinite_enum_set_slices-16320</code></td></tr></table>




---

archive/issue_comments_209844.json:
```json
{
    "body": "Changed commit from **[`55c2b58`](https://github.com/sagemath/sagetrac-mirror/commit/55c2b588ca002698142b1945248bf3d91b7867c8)** to **[`c6f01aa`](https://github.com/sagemath/sagetrac-mirror/commit/c6f01aa04300e717139cb9cace6571522fa4d9c5)**",
    "created_at": "2014-05-26T03:59:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209844",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`55c2b58`](https://github.com/sagemath/sagetrac-mirror/commit/55c2b588ca002698142b1945248bf3d91b7867c8)** to **[`c6f01aa`](https://github.com/sagemath/sagetrac-mirror/commit/c6f01aa04300e717139cb9cace6571522fa4d9c5)**



---

archive/issue_events_231033.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231033"
}
```



---

archive/issue_events_231034.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231034"
}
```



---

archive/issue_comments_209845.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nsome failing doctests, see patchbot report",
    "created_at": "2015-04-08T06:29:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209845",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:27" align="right">comment:27</div>

some failing doctests, see patchbot report



---

archive/issue_events_231035.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-08T06:29:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231035"
}
```



---

archive/issue_events_231036.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-08T06:29:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231036"
}
```



---

archive/issue_events_231037.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-04-08T13:40:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231037"
}
```



---

archive/issue_events_231038.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-04-08T13:40:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231038"
}
```



---

archive/issue_comments_209846.json:
```json
{
    "body": "Changed commit from **[`c6f01aa`](https://github.com/sagemath/sagetrac-mirror/commit/c6f01aa04300e717139cb9cace6571522fa4d9c5)** to **[`1dbb053`](https://github.com/sagemath/sagetrac-mirror/commit/1dbb053cfb3f6261d30aac6d20a300bfd57a45e6)**",
    "created_at": "2016-03-10T23:52:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209846",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c6f01aa`](https://github.com/sagemath/sagetrac-mirror/commit/c6f01aa04300e717139cb9cace6571522fa4d9c5)** to **[`1dbb053`](https://github.com/sagemath/sagetrac-mirror/commit/1dbb053cfb3f6261d30aac6d20a300bfd57a45e6)**



---

archive/issue_comments_209847.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1dbb053cfb3f6261d30aac6d20a300bfd57a45e6\"><code>1dbb053</code></a></td><td><code>Merge branch 'public/infinite_enum_set_slices-16320' of trac.sagemath.org:sage into public/infinite_enum_set_slices-16320</code></td></tr></table>\n",
    "created_at": "2016-03-10T23:52:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209847",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1dbb053cfb3f6261d30aac6d20a300bfd57a45e6"><code>1dbb053</code></a></td><td><code>Merge branch 'public/infinite_enum_set_slices-16320' of trac.sagemath.org:sage into public/infinite_enum_set_slices-16320</code></td></tr></table>




---

archive/issue_events_231039.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-10T23:53:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231039"
}
```



---

archive/issue_events_231040.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-10T23:53:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231040"
}
```



---

archive/issue_comments_209848.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nAh, the little tidbits I've forgotten...",
    "created_at": "2016-03-10T23:53:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209848",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:30" align="right">comment:30</div>

Ah, the little tidbits I've forgotten...



---

archive/issue_events_231041.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-10T23:53:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231041"
}
```



---

archive/issue_events_231042.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-10T23:53:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231042"
}
```



---

archive/issue_comments_209849.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nWhat about an iterator counterpart?\n\n```\ndef iterator(self, start=None, end=None, backward=False):\n    r\"\"\"\n    Iterates over the item in this set between the rank ``start`` and ``end``.\n    \"\"\"\n```\nthat would even be more useful (e.g. parallel loops).\n\nThen we can make a cross implementation in the `ParentMethods` (i.e. `__iter__` calling `iterator` and `iterator` calling `__iter__`). Or possibly using `unrank`.\n\nWhat do you think?",
    "created_at": "2016-03-11T20:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209849",
    "user": "https://github.com/videlec"
}
```

<div id="comment:31" align="right">comment:31</div>

What about an iterator counterpart?

```
def iterator(self, start=None, end=None, backward=False):
    r"""
    Iterates over the item in this set between the rank ``start`` and ``end``.
    """
```
that would even be more useful (e.g. parallel loops).

Then we can make a cross implementation in the `ParentMethods` (i.e. `__iter__` calling `iterator` and `iterator` calling `__iter__`). Or possibly using `unrank`.

What do you think?



---

archive/issue_comments_209850.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nThis breaks several doctests, some of which indicate things we definitely should support, specifically negative indices. Probably should try `self.list()[i]` first in `__getitem__` for enumerated sets and for finite enumerated sets, we should do `self.list()[i]` if `i < 0`.\n\nWe probably should also rewrite the iterator and listing methods for (finite?) enumerated sets to use a lazy list, but I think that is best on a follow-up.\n\nFor an `iterator` method, I would call it `iterator_range` for consistency, but I'm not opposed to it. Moreover, the logic from `unrank_range` could probably all be moved there and `unrank_range` just returns a list constructed from `iterator_range`.",
    "created_at": "2016-03-11T23:01:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209850",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:32" align="right">comment:32</div>

This breaks several doctests, some of which indicate things we definitely should support, specifically negative indices. Probably should try `self.list()[i]` first in `__getitem__` for enumerated sets and for finite enumerated sets, we should do `self.list()[i]` if `i < 0`.

We probably should also rewrite the iterator and listing methods for (finite?) enumerated sets to use a lazy list, but I think that is best on a follow-up.

For an `iterator` method, I would call it `iterator_range` for consistency, but I'm not opposed to it. Moreover, the logic from `unrank_range` could probably all be moved there and `unrank_range` just returns a list constructed from `iterator_range`.



---

archive/issue_events_231043.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-11T23:01:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231043"
}
```



---

archive/issue_events_231044.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-11T23:01:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231044"
}
```



---

archive/issue_comments_209851.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a8360ef8b53aac1eda1e7b578466fe55484afd8\"><code>7a8360e</code></a></td><td><code>Galois groups did not satisfy contract for finite enumerated sets.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c98c031962a09ace59f317e1553f0b161cfec410\"><code>c98c031</code></a></td><td><code>Expanding support for negative indices and iterators and fixing doctests.</code></td></tr></table>\n",
    "created_at": "2016-03-12T00:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209851",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a8360ef8b53aac1eda1e7b578466fe55484afd8"><code>7a8360e</code></a></td><td><code>Galois groups did not satisfy contract for finite enumerated sets.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c98c031962a09ace59f317e1553f0b161cfec410"><code>c98c031</code></a></td><td><code>Expanding support for negative indices and iterators and fixing doctests.</code></td></tr></table>




---

archive/issue_comments_209852.json:
```json
{
    "body": "Changed commit from **[`1dbb053`](https://github.com/sagemath/sagetrac-mirror/commit/1dbb053cfb3f6261d30aac6d20a300bfd57a45e6)** to **[`c98c031`](https://github.com/sagemath/sagetrac-mirror/commit/c98c031962a09ace59f317e1553f0b161cfec410)**",
    "created_at": "2016-03-12T00:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209852",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1dbb053`](https://github.com/sagemath/sagetrac-mirror/commit/1dbb053cfb3f6261d30aac6d20a300bfd57a45e6)** to **[`c98c031`](https://github.com/sagemath/sagetrac-mirror/commit/c98c031962a09ace59f317e1553f0b161cfec410)**



---

archive/issue_comments_209853.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nAlright, so I tried to allow the iterator to go over the infinite sets if `stop` was not specified. I also had to implement some methods for Galois groups `G` as they did not have `list(G) == G.list()`, but they will be faster than the generic implementation this way too.\n\nI'm slightly worried we will see a speed regression on finite enumerated sets because it will be repeatedly calling `unrank`, which is asymptotically significantly slower than created the full list of elements and pulling from that (i.e., it is implicitly using a cache). My intuition tells me that this will not likely be used in practice (well, at least doing something like `P[i]` in a tight loop), but perhaps your experience/intuition says different?",
    "created_at": "2016-03-12T01:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209853",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:34" align="right">comment:34</div>

Alright, so I tried to allow the iterator to go over the infinite sets if `stop` was not specified. I also had to implement some methods for Galois groups `G` as they did not have `list(G) == G.list()`, but they will be faster than the generic implementation this way too.

I'm slightly worried we will see a speed regression on finite enumerated sets because it will be repeatedly calling `unrank`, which is asymptotically significantly slower than created the full list of elements and pulling from that (i.e., it is implicitly using a cache). My intuition tells me that this will not likely be used in practice (well, at least doing something like `P[i]` in a tight loop), but perhaps your experience/intuition says different?



---

archive/issue_events_231045.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-12T01:04:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231045"
}
```



---

archive/issue_events_231046.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-03-12T01:04:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231046"
}
```



---

archive/issue_events_231047.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-15T13:58:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231047"
}
```



---

archive/issue_events_231048.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-05-15T13:58:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231048"
}
```



---

archive/issue_comments_209854.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nyou should use \"next(it)\" and not \"it.next()\" (for python3 compatibility)",
    "created_at": "2016-05-15T13:58:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209854",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:35" align="right">comment:35</div>

you should use "next(it)" and not "it.next()" (for python3 compatibility)



---

archive/issue_events_231049.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-05-26T10:22:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231049"
}
```



---

archive/issue_events_231050.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-05-26T10:22:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231050"
}
```



---

archive/issue_comments_209855.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nFixed. I also rebased the branch (hence the new name) to clean up the history slightly.\n  \n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/719b366983bd9a4d79938fcf41ae843199521fd7\"><code>719b366</code></a></td><td><code>Made simple slices use iterators.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f9377fbefcf733294012c4bff7be813b4cd5525\"><code>3f9377f</code></a></td><td><code>Implemented changes that Nicolas suggested.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25a91cfe2e019b1d275802cd101c1fa6fff0d519\"><code>25a91cf</code></a></td><td><code>Added warning and fixed finite enum sets error.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/344386a98a67a7ed85063fc5939ac7e97bcf2243\"><code>344386a</code></a></td><td><code>Reworked logic a bit.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0af412bdedccf9796d5517c8f3d91ec17f7a7fbb\"><code>0af412b</code></a></td><td><code>Fixed handling of negative stop and made Nicolas' change.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/081989aaa028568cc6c1300d3988db1c5b2a8dec\"><code>081989a</code></a></td><td><code>Fixed negative input for start.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5140dc23f7c8db6c1c1bb881959ba2cd7b9329b6\"><code>5140dc2</code></a></td><td><code>Fixed larger stop than cardinality.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ff4a66c9a833f888328b5fb876e38c255066bd7\"><code>3ff4a66</code></a></td><td><code>Galois groups did not satisfy contract for finite enumerated sets.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8cc9bdd1996ab31231fd7ceeeaf3eb4d634bf938\"><code>8cc9bdd</code></a></td><td><code>Expanding support for negative indices and iterators and fixing doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bd938e154a4f2fa4053ceac033e8c762c8d9051\"><code>1bd938e</code></a></td><td><code>Changing `it.next()` to py3 `next(it)`.</code></td></tr></table>\n",
    "created_at": "2016-05-26T10:22:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209855",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:36" align="right">comment:36</div>

Fixed. I also rebased the branch (hence the new name) to clean up the history slightly.
  
---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/719b366983bd9a4d79938fcf41ae843199521fd7"><code>719b366</code></a></td><td><code>Made simple slices use iterators.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f9377fbefcf733294012c4bff7be813b4cd5525"><code>3f9377f</code></a></td><td><code>Implemented changes that Nicolas suggested.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25a91cfe2e019b1d275802cd101c1fa6fff0d519"><code>25a91cf</code></a></td><td><code>Added warning and fixed finite enum sets error.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/344386a98a67a7ed85063fc5939ac7e97bcf2243"><code>344386a</code></a></td><td><code>Reworked logic a bit.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0af412bdedccf9796d5517c8f3d91ec17f7a7fbb"><code>0af412b</code></a></td><td><code>Fixed handling of negative stop and made Nicolas' change.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/081989aaa028568cc6c1300d3988db1c5b2a8dec"><code>081989a</code></a></td><td><code>Fixed negative input for start.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5140dc23f7c8db6c1c1bb881959ba2cd7b9329b6"><code>5140dc2</code></a></td><td><code>Fixed larger stop than cardinality.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ff4a66c9a833f888328b5fb876e38c255066bd7"><code>3ff4a66</code></a></td><td><code>Galois groups did not satisfy contract for finite enumerated sets.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8cc9bdd1996ab31231fd7ceeeaf3eb4d634bf938"><code>8cc9bdd</code></a></td><td><code>Expanding support for negative indices and iterators and fixing doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bd938e154a4f2fa4053ceac033e8c762c8d9051"><code>1bd938e</code></a></td><td><code>Changing `it.next()` to py3 `next(it)`.</code></td></tr></table>




---

archive/issue_comments_209856.json:
```json
{
    "body": "Changed commit from **[`c98c031`](https://github.com/sagemath/sagetrac-mirror/commit/c98c031962a09ace59f317e1553f0b161cfec410)** to **[`1bd938e`](https://github.com/sagemath/sagetrac-mirror/commit/1bd938e154a4f2fa4053ceac033e8c762c8d9051)**",
    "created_at": "2016-05-26T10:22:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209856",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`c98c031`](https://github.com/sagemath/sagetrac-mirror/commit/c98c031962a09ace59f317e1553f0b161cfec410)** to **[`1bd938e`](https://github.com/sagemath/sagetrac-mirror/commit/1bd938e154a4f2fa4053ceac033e8c762c8d9051)**



---

archive/issue_comments_209857.json:
```json
{
    "body": "Changed branch from **[public/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/infinite_enum_set_slices-16320)** to **[public/sets/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/sets/infinite_enum_set_slices-16320)**",
    "created_at": "2016-05-26T10:22:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209857",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[public/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/infinite_enum_set_slices-16320)** to **[public/sets/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/sets/infinite_enum_set_slices-16320)**



---

archive/issue_events_231051.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-05-26T10:23:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231051"
}
```



---

archive/issue_events_231052.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-05-26T10:23:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231052"
}
```



---

archive/issue_comments_209858.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8be390a907193c076d984cbf8d44514f61e7352\"><code>b8be390</code></a></td><td><code>Merge branches 'develop' and 'public/sets/infinite_enum_set_slices-16320' of trac.sagemath.org:sage into slice</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0d7bee8e1aec2a0f157061d1b677ebf23425c60\"><code>e0d7bee</code></a></td><td><code>stop >= 0, and try cardinality earlier</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d1d5efc6c7eb4758f463ffebda623fad4f167a4\"><code>4d1d5ef</code></a></td><td><code>again, try cardinality earlier</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297\"><code>9db3e97</code></a></td><td><code>and again stop >= 0</code></td></tr></table>\n",
    "created_at": "2016-10-06T17:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209858",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8be390a907193c076d984cbf8d44514f61e7352"><code>b8be390</code></a></td><td><code>Merge branches 'develop' and 'public/sets/infinite_enum_set_slices-16320' of trac.sagemath.org:sage into slice</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0d7bee8e1aec2a0f157061d1b677ebf23425c60"><code>e0d7bee</code></a></td><td><code>stop >= 0, and try cardinality earlier</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d1d5efc6c7eb4758f463ffebda623fad4f167a4"><code>4d1d5ef</code></a></td><td><code>again, try cardinality earlier</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297"><code>9db3e97</code></a></td><td><code>and again stop >= 0</code></td></tr></table>




---

archive/issue_comments_209859.json:
```json
{
    "body": "Changed commit from **[`1bd938e`](https://github.com/sagemath/sagetrac-mirror/commit/1bd938e154a4f2fa4053ceac033e8c762c8d9051)** to **[`9db3e97`](https://github.com/sagemath/sagetrac-mirror/commit/9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297)**",
    "created_at": "2016-10-06T17:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209859",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1bd938e`](https://github.com/sagemath/sagetrac-mirror/commit/1bd938e154a4f2fa4053ceac033e8c762c8d9051)** to **[`9db3e97`](https://github.com/sagemath/sagetrac-mirror/commit/9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297)**



---

archive/issue_comments_209860.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46d764ffbf96e897352e3afe0ef6b91bd674361e\"><code>46d764f</code></a></td><td><code>because i'm a potato</code></td></tr></table>\n",
    "created_at": "2016-10-06T17:26:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209860",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46d764ffbf96e897352e3afe0ef6b91bd674361e"><code>46d764f</code></a></td><td><code>because i'm a potato</code></td></tr></table>




---

archive/issue_comments_209861.json:
```json
{
    "body": "Changed commit from **[`9db3e97`](https://github.com/sagemath/sagetrac-mirror/commit/9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297)** to **[`46d764f`](https://github.com/sagemath/sagetrac-mirror/commit/46d764ffbf96e897352e3afe0ef6b91bd674361e)**",
    "created_at": "2016-10-06T17:26:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209861",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9db3e97`](https://github.com/sagemath/sagetrac-mirror/commit/9db3e97cd6c74f9ac71ea9506ecfe9c9d6fdf297)** to **[`46d764f`](https://github.com/sagemath/sagetrac-mirror/commit/46d764ffbf96e897352e3afe0ef6b91bd674361e)**



---

archive/issue_comments_209862.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nThe code is good, but can we be sure that the new `__getitem__` on `EnumeratedSets` does not override an older, better `__getitem__` on `EnumeratedSets` or one of its subclasses? (I suppose the change to Galois groups was an instance of precisely this problem.)",
    "created_at": "2016-10-06T17:27:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209862",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:41" align="right">comment:41</div>

The code is good, but can we be sure that the new `__getitem__` on `EnumeratedSets` does not override an older, better `__getitem__` on `EnumeratedSets` or one of its subclasses? (I suppose the change to Galois groups was an instance of precisely this problem.)



---

archive/issue_comments_209863.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540\"><code>4192ec9</code></a></td><td><code>remove unnecessary if</code></td></tr></table>\n",
    "created_at": "2016-10-06T17:29:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209863",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540"><code>4192ec9</code></a></td><td><code>remove unnecessary if</code></td></tr></table>




---

archive/issue_comments_209864.json:
```json
{
    "body": "Changed commit from **[`46d764f`](https://github.com/sagemath/sagetrac-mirror/commit/46d764ffbf96e897352e3afe0ef6b91bd674361e)** to **[`4192ec9`](https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540)**",
    "created_at": "2016-10-06T17:29:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209864",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`46d764f`](https://github.com/sagemath/sagetrac-mirror/commit/46d764ffbf96e897352e3afe0ef6b91bd674361e)** to **[`4192ec9`](https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540)**



---

archive/issue_comments_209865.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nSetting positive_review, but tagging a couple more people for the case the changes trigger some landmine somwehere far away (the new `__getitem__` on `EnumeratedSets` seems to override the more hands-off `__getitem__` on `Parent`; I might imagine that for some subclasses of `EnumeratedSets`, the latter gives better results or is faster).",
    "created_at": "2016-10-07T19:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209865",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:43" align="right">comment:43</div>

Setting positive_review, but tagging a couple more people for the case the changes trigger some landmine somwehere far away (the new `__getitem__` on `EnumeratedSets` seems to override the more hands-off `__getitem__` on `Parent`; I might imagine that for some subclasses of `EnumeratedSets`, the latter gives better results or is faster).



---

archive/issue_events_231053.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2016-10-07T19:23:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231053"
}
```



---

archive/issue_events_231054.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2016-10-07T19:23:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231054"
}
```



---

archive/issue_comments_209866.json:
```json
{
    "body": "Changed reviewer from **Nathann Cohen** to **Nathann Cohen, Darij Grinberg**",
    "created_at": "2016-10-07T21:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209866",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Nathann Cohen** to **Nathann Cohen, Darij Grinberg**



---

archive/issue_events_231055.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-07T21:57:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231055"
}
```



---

archive/issue_events_231056.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-07T21:57:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231056"
}
```



---

archive/issue_comments_209867.json:
```json
{
    "body": "Changed branch from **[public/sets/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/sets/infinite_enum_set_slices-16320)** to **[`4192ec9`](https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540)**",
    "created_at": "2016-10-21T07:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16320#issuecomment-209867",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/sets/infinite_enum_set_slices-16320](https://github.com/sagemath/sagetrac-mirror/tree/public/sets/infinite_enum_set_slices-16320)** to **[`4192ec9`](https://github.com/sagemath/sagetrac-mirror/commit/4192ec97f301df37952e1dab03dbd210676fe540)**



---

archive/issue_events_231057.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-21T07:04:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231057"
}
```



---

archive/issue_events_231058.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0e248ffc6aa28c73dac6f0f4f2db205d85455edc",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-10-21T07:04:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16320",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16320#event-231058"
}
```
