# Issue 16778: Allow gperftools.top to return a string

archive/issues_016541.json:
```json
{
    "body": "The text report of gperftools is printed to stdout, but in order to access it in other methods (e.g., citations), we need the it to return the report as a string.  This adds an optional parameter to the method top.\n\nCC:  @vbraun\n\nAuthor: Martin Raum\n\nBranch: u/mraum/ticket/16778\n\nCommit: 94caae0b02e7d9a61872ec16dcaea3c681531a85\n\nResolution: wontfix\n\nIssue created by migration from https://trac.sagemath.org/ticket/16778\n\n",
    "closed_at": "2014-08-11T14:55:07Z",
    "created_at": "2014-08-07T07:42:15Z",
    "labels": [
        "component: misc"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Allow gperftools.top to return a string",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16778",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```
The text report of gperftools is printed to stdout, but in order to access it in other methods (e.g., citations), we need the it to return the report as a string.  This adds an optional parameter to the method top.

CC:  @vbraun

Author: Martin Raum

Branch: u/mraum/ticket/16778

Commit: 94caae0b02e7d9a61872ec16dcaea3c681531a85

Resolution: wontfix

Issue created by migration from https://trac.sagemath.org/ticket/16778





---

archive/issue_comments_275786.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mraum/ticket/16778\"",
    "created_at": "2014-08-07T07:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16778#issuecomment-275786",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

Changing branch from "" to "u/mraum/ticket/16778"



---

archive/issue_comments_275787.json:
```json
{
    "body": "Changing commit from \"\" to \"4fab9ea8984c2e14ea0389a6fdbd79e491417be4\"",
    "created_at": "2014-08-07T07:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16778#issuecomment-275787",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

Changing commit from "" to "4fab9ea8984c2e14ea0389a6fdbd79e491417be4"



---

archive/issue_comments_275788.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-08-07T07:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16778#issuecomment-275788",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_275789.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|\n|[eb9376a](https://github.com/sagemath/sagetrac-mirror/commit/eb9376a64478ce03d0332bf39ac4923310901afe)|`initial version`|\n|[34123bf](https://github.com/sagemath/sagetrac-mirror/commit/34123bf6797c9e27758ed75e5bf4289b3984fb76)|`consistenly use lower-case names for normalized (according to the first nontrivial Fourier coefficient) forms`|\n|[34c3567](https://github.com/sagemath/sagetrac-mirror/commit/34c35674d96aab6041a6d8c3e9c9706f5486c012)|`support to specify form spaces/rings by the parameter n instead of the parameter group, use the same name for the form space/ring classes as their representation name`|\n|[ae4f782](https://github.com/sagemath/sagetrac-mirror/commit/ae4f782fb693343cb3daa92b147f2f7cf5b5c639)|`added __init__.py`|\n|[5616d62](https://github.com/sagemath/sagetrac-mirror/commit/5616d62a628ae4e83ca3145ad727f739c56b1665)|`Merge branch 'master' of git://git.sagemath.org/sage`|\n|[4fab9ea](https://github.com/sagemath/sagetrac-mirror/commit/4fab9ea8984c2e14ea0389a6fdbd79e491417be4)|`Possibility to return top as string in gperftools.`|",
    "created_at": "2014-08-07T07:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16778#issuecomment-275789",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
|[eb9376a](https://github.com/sagemath/sagetrac-mirror/commit/eb9376a64478ce03d0332bf39ac4923310901afe)|`initial version`|
|[34123bf](https://github.com/sagemath/sagetrac-mirror/commit/34123bf6797c9e27758ed75e5bf4289b3984fb76)|`consistenly use lower-case names for normalized (according to the first nontrivial Fourier coefficient) forms`|
|[34c3567](https://github.com/sagemath/sagetrac-mirror/commit/34c35674d96aab6041a6d8c3e9c9706f5486c012)|`support to specify form spaces/rings by the parameter n instead of the parameter group, use the same name for the form space/ring classes as their representation name`|
|[ae4f782](https://github.com/sagemath/sagetrac-mirror/commit/ae4f782fb693343cb3daa92b147f2f7cf5b5c639)|`added __init__.py`|
|[5616d62](https://github.com/sagemath/sagetrac-mirror/commit/5616d62a628ae4e83ca3145ad727f739c56b1665)|`Merge branch 'master' of git://git.sagemath.org/sage`|
|[4fab9ea](https://github.com/sagemath/sagetrac-mirror/commit/4fab9ea8984c2e14ea0389a6fdbd79e491417be4)|`Possibility to return top as string in gperftools.`|



---

archive/issue_comments_275790.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[94caae0](https://github.com/sagemath/sagetrac-mirror/commit/94caae0b02e7d9a61872ec16dcaea3c681531a85)|`Possibility to return top as string in gperftools.`|",
    "created_at": "2014-08-07T07:50:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16778#issuecomment-275790",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[94caae0](https://github.com/sagemath/sagetrac-mirror/commit/94caae0b02e7d9a61872ec16dcaea3c681531a85)|`Possibility to return top as string in gperftools.`|



---

archive/issue_comments_275791.json:
```json
{
    "body": "Changing commit from \"4fab9ea8984c2e14ea0389a6fdbd79e491417be4\" to \"94caae0b02e7d9a61872ec16dcaea3c681531a85\"",
    "created_at": "2014-08-07T07:50:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16778#issuecomment-275791",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4fab9ea8984c2e14ea0389a6fdbd79e491417be4" to "94caae0b02e7d9a61872ec16dcaea3c681531a85"



---

archive/issue_comments_275792.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-08-07T13:10:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16778#issuecomment-275792",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_275793.json:
```json
{
    "body": "<a id='comment:4'></a>\nI'm against the last commit. You have a method to \"\ufffcPrint text report\" and you added an option to precisely **not** do that. WTF? Do you think that is a sane UI? If you want to save the output to a file there is already \"save\". If saving to a temporary file and loading said file is a common occurence then add an appropriately-named method, `string()` or `stdout()` or something like that.",
    "created_at": "2014-08-07T13:10:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16778#issuecomment-275793",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'></a>
I'm against the last commit. You have a method to "ï¿¼Print text report" and you added an option to precisely **not** do that. WTF? Do you think that is a sane UI? If you want to save the output to a file there is already "save". If saving to a temporary file and loading said file is a common occurence then add an appropriately-named method, `string()` or `stdout()` or something like that.



---

archive/issue_comments_275794.json:
```json
{
    "body": "<a id='comment:5'></a>\nPS: Sorry for the strong language ;-)\n\nPPS: \"ppprofiler\" has at least one p too many, no?",
    "created_at": "2014-08-07T13:15:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16778#issuecomment-275794",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'></a>
PS: Sorry for the strong language ;-)

PPS: "ppprofiler" has at least one p too many, no?



---

archive/issue_comments_275795.json:
```json
{
    "body": "<a id='comment:6'></a>\nThat's all right (I mean the language). As for the commit, I see what you mean. My focus is on citation management at #16777. So I would postpone work on profiling. Eventually an interface unifying cProfile and gperftools would be nice. But that's not for today, and requires more thorough thining.\n\nClose as wontfix then?",
    "created_at": "2014-08-08T06:31:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16778#issuecomment-275795",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

<a id='comment:6'></a>
That's all right (I mean the language). As for the commit, I see what you mean. My focus is on citation management at #16777. So I would postpone work on profiling. Eventually an interface unifying cProfile and gperftools would be nice. But that's not for today, and requires more thorough thining.

Close as wontfix then?



---

archive/issue_events_063624.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16778",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16778#event-63624"
}
```



---

archive/issue_comments_275796.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2014-08-11T14:55:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16778#issuecomment-275796",
    "user": "https://github.com/vbraun"
}
```

Resolution: wontfix



---

archive/issue_events_063625.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-11T14:55:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16778",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16778#event-63625"
}
```
