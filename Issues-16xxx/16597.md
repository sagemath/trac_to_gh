# Issue 16597: Singer difference set and fix OA_9_135

archive/issues_016360.json:
```json
{
    "body": "Add a function to build Singer difference set (cyclic difference set using finite projective planes).\n\nAt the same time we fix a bug in OA_9_135...\n\nCC:  @nathanncohen\n\nBranch/Commit: ac4abab21cecffc01ff91dff40e8442fda10a9d1\n\nReviewer: Nathann Cohen\n\nAuthor: Vincent Delecroix\n\nDependencies: #16553,#16617\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16597\n\n",
    "closed_at": "2014-07-28T16:27:03Z",
    "created_at": "2014-07-01T08:33:45Z",
    "labels": [
        "component: combinatorial designs"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Singer difference set and fix OA_9_135",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16597",
    "user": "https://github.com/videlec"
}
```
Add a function to build Singer difference set (cyclic difference set using finite projective planes).

At the same time we fix a bug in OA_9_135...

CC:  @nathanncohen

Branch/Commit: ac4abab21cecffc01ff91dff40e8442fda10a9d1

Reviewer: Nathann Cohen

Author: Vincent Delecroix

Dependencies: #16553,#16617

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16597





---

archive/issue_comments_274993.json:
```json
{
    "body": "Changing branch from \"\" to \"u/vdelecroix/16597\"",
    "created_at": "2014-07-01T08:37:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-274993",
    "user": "https://github.com/videlec"
}
```

Changing branch from "" to "u/vdelecroix/16597"



---

archive/issue_comments_274994.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-07-01T08:37:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-274994",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_274995.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[ec6df26](http://git.sagemath.org/sage.git/commit/?id=ec6df26f4d72c5eb939a9b02cd3ad809feacb105)|`trac #16597: Singer difference set`|",
    "created_at": "2014-07-01T08:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-274995",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[ec6df26](http://git.sagemath.org/sage.git/commit/?id=ec6df26f4d72c5eb939a9b02cd3ad809feacb105)|`trac #16597: Singer difference set`|



---

archive/issue_comments_274996.json:
```json
{
    "body": "Changing commit from \"\" to \"ec6df26f4d72c5eb939a9b02cd3ad809feacb105\"",
    "created_at": "2014-07-01T08:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-274996",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "ec6df26f4d72c5eb939a9b02cd3ad809feacb105"



---

archive/issue_comments_274997.json:
```json
{
    "body": "<a id='comment:3'></a>\nI don't get your function `is_projective_plane_cardinality`. The doc of `sqrtrem` seems to say that `q` is the largest integer such that `q^2<=n`. Why do you increase `q` in a while loop ?\n\nNathann",
    "created_at": "2014-07-01T10:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-274997",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>
I don't get your function `is_projective_plane_cardinality`. The doc of `sqrtrem` seems to say that `q` is the largest integer such that `q^2<=n`. Why do you increase `q` in a while loop ?

Nathann



---

archive/issue_comments_274998.json:
```json
{
    "body": "<a id='comment:4'></a>\n- In `OA_9_135` you remove the definition of `PG2 = set([x*39 for x in range(7)])` but it still appears in the documentation. And it is nice to have an object representing that to describe more clearly what the function does.\n\n  And you repeat this %39 everywhere right now.\n\n- `The set of `GF(q)` lines in `V` is a projective plane`. The set of `(q<sup>3-1)/(q-1)=q</sup>2+q+1` lines ? Either way `GF(q)` is not an integer.\n\n- `+        spaces/.`\n\n- ` Kq (i.e the (q-1)-th root of unity`\n\n- About the second part of function `singer_difference_set` : what would you think of implementing 3.16 instead ? It builds the cyclic difference set from a cyclic automorphism of a BIBD... And it could be useful later, like when we will have a `BIBD.is_cyclic` function.\n\nWhich we can write easily now that BIBD are a class `:-D`\n\n```\nsage: def is_cyclic(BIBD):\n....:     repr = BIBD.automorphism_group().conjugacy_classes_representatives()\n....:     repr = [x.cycles() for x in repr]\n....:     for x in repr:\n....:         if len(x) == 1 and len(x[0].tuple()) == BIBD.num_points():\n....:             return x[0].tuple()\n....:     return False\nsage: is_cyclic(designs.balanced_incomplete_block_design(13,3))\n(1, 9, 8, 7, 12, 10, 5, 2, 11, 3, 0, 4, 6)\n```\n\nNathann",
    "created_at": "2014-07-01T11:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-274998",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>
- In `OA_9_135` you remove the definition of `PG2 = set([x*39 for x in range(7)])` but it still appears in the documentation. And it is nice to have an object representing that to describe more clearly what the function does.

  And you repeat this %39 everywhere right now.

- `The set of `GF(q)` lines in `V` is a projective plane`. The set of `(q<sup>3-1)/(q-1)=q</sup>2+q+1` lines ? Either way `GF(q)` is not an integer.

- `+        spaces/.`

- ` Kq (i.e the (q-1)-th root of unity`

- About the second part of function `singer_difference_set` : what would you think of implementing 3.16 instead ? It builds the cyclic difference set from a cyclic automorphism of a BIBD... And it could be useful later, like when we will have a `BIBD.is_cyclic` function.

Which we can write easily now that BIBD are a class `:-D`

```
sage: def is_cyclic(BIBD):
....:     repr = BIBD.automorphism_group().conjugacy_classes_representatives()
....:     repr = [x.cycles() for x in repr]
....:     for x in repr:
....:         if len(x) == 1 and len(x[0].tuple()) == BIBD.num_points():
....:             return x[0].tuple()
....:     return False
sage: is_cyclic(designs.balanced_incomplete_block_design(13,3))
(1, 9, 8, 7, 12, 10, 5, 2, 11, 3, 0, 4, 6)
```

Nathann



---

archive/issue_comments_274999.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-07-01T11:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-274999",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_275000.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [ncohen](#comment%3A4):\n> - In `OA_9_135` you remove the definition of `PG2 = set([x*39 for x in range(7)])` but it still appears in the documentation. And it is nice to have an object representing that to describe more clearly what the function does.\n> \n>   And you repeat this %39 everywhere right now.\n\n\nI will put it back if you prefer. I just remarked that I removed an important comment about PG2 being the set of points = 0 mod 39.\n\nBut note that it is faster to test \"x%39 == 0\" rather than building PG2 and then test \"x in PG2\".\n\n> - `The set of `GF(q)` lines in `V` is a projective plane`. The set of `(q<sup>3-1)/(q-1)=q</sup>2+q+1` lines ? Either way `GF(q)` is not an integer.\n\n\nNo, `GF(q)` is not a number but a field. It refers to line as line in a vector space over `GF(q)`. The very same way you would speak about `RR` lines in `CC`. Isn't that clear enough?\n\n> - `+        spaces/.`\n> - ` Kq (i.e the (q-1)-th root of unity`\n> \n> - About the second part of function `singer_difference_set` : what would you think of implementing 3.16 instead ? It builds the cyclic difference set from a cyclic automorphism of a BIBD... And it could be useful later, like when we will have a `BIBD.is_cyclic` function.\n\n\nIt is stupid. You will have to first build the projective space, then compute its automorphism group that we already know and then apply a big hammer.\n\nVincent",
    "created_at": "2014-07-01T11:49:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275000",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
Replying to [ncohen](#comment%3A4):
> - In `OA_9_135` you remove the definition of `PG2 = set([x*39 for x in range(7)])` but it still appears in the documentation. And it is nice to have an object representing that to describe more clearly what the function does.
> 
>   And you repeat this %39 everywhere right now.


I will put it back if you prefer. I just remarked that I removed an important comment about PG2 being the set of points = 0 mod 39.

But note that it is faster to test "x%39 == 0" rather than building PG2 and then test "x in PG2".

> - `The set of `GF(q)` lines in `V` is a projective plane`. The set of `(q<sup>3-1)/(q-1)=q</sup>2+q+1` lines ? Either way `GF(q)` is not an integer.


No, `GF(q)` is not a number but a field. It refers to line as line in a vector space over `GF(q)`. The very same way you would speak about `RR` lines in `CC`. Isn't that clear enough?

> - `+        spaces/.`
> - ` Kq (i.e the (q-1)-th root of unity`
> 
> - About the second part of function `singer_difference_set` : what would you think of implementing 3.16 instead ? It builds the cyclic difference set from a cyclic automorphism of a BIBD... And it could be useful later, like when we will have a `BIBD.is_cyclic` function.


It is stupid. You will have to first build the projective space, then compute its automorphism group that we already know and then apply a big hammer.

Vincent



---

archive/issue_comments_275001.json:
```json
{
    "body": "<a id='comment:6'></a>\n> I will put it back if you prefer. I just remarked that I removed an important comment about PG2 being the set of points = 0 mod 39.\n\n\nYour commit does not seem to remove any comment `O_o`\n\n> But note that it is faster to test \"x%39 == 0\" rather than building PG2 and then test \"x in PG2\".\n\n\nI know I know, but for such functions I gladly exchange a clear code against a speedup. Which I expect is not so bad... \n\nYou can remove this PG2 if you want but then you must change the explanation accordingly !\n\n> No, `GF(q)` is not a number but a field. It refers to line as line in a vector space over `GF(q)`. The very same way you would speak about `RR` lines in `CC`. Isn't that clear enough?\n\n\nOh. I never said \"RR lines in CC\", but I get it know. I expected to see the number of lines there.\n\nGiven that the base field is `GF(q)` just talking about lines is clear enough though, isn't it ? You can leave it like that if you want, I am not used to talk of \"RR lines in CC\", that's all.\n\n> It is stupid. \n\n\nNow try to think : you don't have to USE `is_cyclic` in your function. You have the base block, i.e. `GF(q)-0` in `GF(q^3)-0`, and you can define the automorphism on `GF(q^3)-0` with your generator. You don't have to build the projective plane nor to compute its group, BUT you can use theorem 3.16 exactly as it is done in the book, by providing the base block and a cyclic action on the ground set. 3.16 just does a relabelling.\n\nNathann",
    "created_at": "2014-07-01T11:56:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275001",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'></a>
> I will put it back if you prefer. I just remarked that I removed an important comment about PG2 being the set of points = 0 mod 39.


Your commit does not seem to remove any comment `O_o`

> But note that it is faster to test "x%39 == 0" rather than building PG2 and then test "x in PG2".


I know I know, but for such functions I gladly exchange a clear code against a speedup. Which I expect is not so bad... 

You can remove this PG2 if you want but then you must change the explanation accordingly !

> No, `GF(q)` is not a number but a field. It refers to line as line in a vector space over `GF(q)`. The very same way you would speak about `RR` lines in `CC`. Isn't that clear enough?


Oh. I never said "RR lines in CC", but I get it know. I expected to see the number of lines there.

Given that the base field is `GF(q)` just talking about lines is clear enough though, isn't it ? You can leave it like that if you want, I am not used to talk of "RR lines in CC", that's all.

> It is stupid. 


Now try to think : you don't have to USE `is_cyclic` in your function. You have the base block, i.e. `GF(q)-0` in `GF(q^3)-0`, and you can define the automorphism on `GF(q^3)-0` with your generator. You don't have to build the projective plane nor to compute its group, BUT you can use theorem 3.16 exactly as it is done in the book, by providing the base block and a cyclic action on the ground set. 3.16 just does a relabelling.

Nathann



---

archive/issue_comments_275002.json:
```json
{
    "body": "<a id='comment:7'></a>\nSorry, my last comment above is incorrect : what you need is a 2-plane defined by the set of 1-space it contains, and the group action which sends a 1-space on another 1-space by multiplication.\n\nNathann",
    "created_at": "2014-07-01T12:01:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275002",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>
Sorry, my last comment above is incorrect : what you need is a 2-plane defined by the set of 1-space it contains, and the group action which sends a 1-space on another 1-space by multiplication.

Nathann



---

archive/issue_comments_275003.json:
```json
{
    "body": "<a id='comment:8'></a>\nMoreover, the set of points is not the vector space but the quotient of `V \\ {0}` by scalar multiplication. So the strategy of theorem 3.16 does not apply directly.\n\nNevertheless, it would be nice to have 3.16 done somewhere! But I am not sure that this ticket is the right place.\n\nVincent",
    "created_at": "2014-07-01T12:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275003",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>
Moreover, the set of points is not the vector space but the quotient of `V \ {0}` by scalar multiplication. So the strategy of theorem 3.16 does not apply directly.

Nevertheless, it would be nice to have 3.16 done somewhere! But I am not sure that this ticket is the right place.

Vincent



---

archive/issue_comments_275004.json:
```json
{
    "body": "<a id='comment:9'></a>\n> Moreover, the set of points is not the vector space but the quotient of `V \\ {0}` by scalar multiplication. So the strategy of theorem 3.16 does not apply directly.\n\n\nThat's what I said in the comment above : the 2-plane is defined by the 1-lines it contains, and the action is an action on 1-lines (which is just a multiplication).\n\n> Nevertheless, it would be nice to have 3.16 done somewhere! But I am not sure that this ticket is the right place.\n\n\nGiven that you already implemented a specific case of it, I just thought I would bring it up ...\n\nNathann",
    "created_at": "2014-07-01T12:44:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275004",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>
> Moreover, the set of points is not the vector space but the quotient of `V \ {0}` by scalar multiplication. So the strategy of theorem 3.16 does not apply directly.


That's what I said in the comment above : the 2-plane is defined by the 1-lines it contains, and the action is an action on 1-lines (which is just a multiplication).

> Nevertheless, it would be nice to have 3.16 done somewhere! But I am not sure that this ticket is the right place.


Given that you already implemented a specific case of it, I just thought I would bring it up ...

Nathann



---

archive/issue_comments_275005.json:
```json
{
    "body": "Changing commit from \"ec6df26f4d72c5eb939a9b02cd3ad809feacb105\" to \"449939b4c19f235f1fd628e337d5ec3b50f92523\"",
    "created_at": "2014-07-03T06:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275005",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ec6df26f4d72c5eb939a9b02cd3ad809feacb105" to "449939b4c19f235f1fd628e337d5ec3b50f92523"



---

archive/issue_comments_275006.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[449939b](http://git.sagemath.org/sage.git/commit/?id=449939b4c19f235f1fd628e337d5ec3b50f92523)|`trac #16597: more generic, more general way + doc`|",
    "created_at": "2014-07-03T06:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275006",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[449939b](http://git.sagemath.org/sage.git/commit/?id=449939b4c19f235f1fd628e337d5ec3b50f92523)|`trac #16597: more generic, more general way + doc`|



---

archive/issue_comments_275007.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-07-03T06:02:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275007",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_275008.json:
```json
{
    "body": "<a id='comment:11'></a>\nHi Nathann,\n\nI did what you think was better, but I just find it ugly. At least, I did something good: it now work for any dimension. And it needs review!\n\nVincent",
    "created_at": "2014-07-03T06:02:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275008",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>
Hi Nathann,

I did what you think was better, but I just find it ugly. At least, I did something good: it now work for any dimension. And it needs review!

Vincent



---

archive/issue_comments_275009.json:
```json
{
    "body": "<a id='comment:12'></a>\nYo !\n\n> I did what you think was better, but I just find it ugly.\n\n\nYeah I agree.. What the function does is not very clear indeed. Plus I am not convinced that it is really a \"Difference Set\" function. It could be more a BIBD function, or just a `Incidence Structure` relabelling function.. We can go back to your previous commit if you prefer, no problem.\n\nNathann",
    "created_at": "2014-07-03T11:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275009",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>
Yo !

> I did what you think was better, but I just find it ugly.


Yeah I agree.. What the function does is not very clear indeed. Plus I am not convinced that it is really a "Difference Set" function. It could be more a BIBD function, or just a `Incidence Structure` relabelling function.. We can go back to your previous commit if you prefer, no problem.

Nathann



---

archive/issue_comments_275010.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[f725726](http://git.sagemath.org/sage.git/commit/?id=f725726fa68094215f1d4e19fac2378c0c29d3e8)|`trac #16597: add implementation for any d + doc`|",
    "created_at": "2014-07-04T06:08:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275010",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[f725726](http://git.sagemath.org/sage.git/commit/?id=f725726fa68094215f1d4e19fac2378c0c29d3e8)|`trac #16597: add implementation for any d + doc`|



---

archive/issue_comments_275011.json:
```json
{
    "body": "Changing commit from \"449939b4c19f235f1fd628e337d5ec3b50f92523\" to \"f725726fa68094215f1d4e19fac2378c0c29d3e8\"",
    "created_at": "2014-07-04T06:08:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275011",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "449939b4c19f235f1fd628e337d5ec3b50f92523" to "f725726fa68094215f1d4e19fac2378c0c29d3e8"



---

archive/issue_comments_275012.json:
```json
{
    "body": "<a id='comment:14'></a>\nAll right. Go back to the previous implementation and keep it working in any dimension.\n\nNeeds review.\n\nVincent",
    "created_at": "2014-07-04T06:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275012",
    "user": "https://github.com/videlec"
}
```

<a id='comment:14'></a>
All right. Go back to the previous implementation and keep it working in any dimension.

Needs review.

Vincent



---

archive/issue_comments_275013.json:
```json
{
    "body": "<a id='comment:15'></a>\nHello again !\n\nSorry but it still is a bit hard for me to read those explanations and I go slowly, it isn't really my world `^^;`\n\n- In the doc of `are_projective_space_parameters` you give the equations that `v,k,lmbda` must satisfy, but could you say it \"with words\" before that ? Something like \"such that the projective geometry of parameters xx,xx,xx is a xx,xx,xx design ?\" \n\n- I had begun to write a commit linking this function with `ProjectiveGeometryDesign` but I did not know enough to finish the review `^^;`\n\n```diff\ndiff --git a/src/sage/combinat/designs/block_design.py b/src/sage/combinat/designs/block_design.py\n--- a/src/sage/combinat/designs/block_design.py\n+++ b/src/sage/combinat/designs/block_design.py\n@@ -117,6 +117,10 @@ def ProjectiveGeometryDesign(n, d, F, algorithm=None):\n       GAP's \"design\" package must be available in this case, and that it can be\n       installed with the ``gap_packages`` spkg.\n\n+    .. SEEALSO::\n+\n+        :func:`sage.combinat.designs.difference_family.are_projective_space_parameters`\n+\n     EXAMPLES:\n\n     The points of the following design are the `\\\\frac {2^{2+1}-1} {2-1}=7`\ndiff --git a/src/sage/combinat/designs/difference_family.py b/src/sage/combinat/designs/difference_family.py\n--- a/src/sage/combinat/designs/difference_family.py\n+++ b/src/sage/combinat/designs/difference_family.py\n@@ -184,6 +184,10 @@ def are_projective_space_parameters(v, k, lmbda, return_parameters=False):\n     - a boolean or, if ``return_parameters`` is set to ``True`` a pair\n       ``(True, (q,d))`` or ``(False, (None,None))``.\n\n+    .. SEEALSO::\n+\n+        :func:`sage.combinat.designs.block_design.ProjectiveGeometryDesign`\n+\n     EXAMPLES::\n\n         sage: from sage.combinat.designs.difference_family import are_projective_space_parameters\n```\n\n- I do not understand the code yet, but don't you want to use the 'conway=True` trick in `singer_difference_set` ?\n\nNathann",
    "created_at": "2014-07-04T08:39:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275013",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>
Hello again !

Sorry but it still is a bit hard for me to read those explanations and I go slowly, it isn't really my world `^^;`

- In the doc of `are_projective_space_parameters` you give the equations that `v,k,lmbda` must satisfy, but could you say it "with words" before that ? Something like "such that the projective geometry of parameters xx,xx,xx is a xx,xx,xx design ?" 

- I had begun to write a commit linking this function with `ProjectiveGeometryDesign` but I did not know enough to finish the review `^^;`

```diff
diff --git a/src/sage/combinat/designs/block_design.py b/src/sage/combinat/designs/block_design.py
--- a/src/sage/combinat/designs/block_design.py
+++ b/src/sage/combinat/designs/block_design.py
@@ -117,6 +117,10 @@ def ProjectiveGeometryDesign(n, d, F, algorithm=None):
       GAP's "design" package must be available in this case, and that it can be
       installed with the ``gap_packages`` spkg.

+    .. SEEALSO::
+
+        :func:`sage.combinat.designs.difference_family.are_projective_space_parameters`
+
     EXAMPLES:

     The points of the following design are the `\\frac {2^{2+1}-1} {2-1}=7`
diff --git a/src/sage/combinat/designs/difference_family.py b/src/sage/combinat/designs/difference_family.py
--- a/src/sage/combinat/designs/difference_family.py
+++ b/src/sage/combinat/designs/difference_family.py
@@ -184,6 +184,10 @@ def are_projective_space_parameters(v, k, lmbda, return_parameters=False):
     - a boolean or, if ``return_parameters`` is set to ``True`` a pair
       ``(True, (q,d))`` or ``(False, (None,None))``.

+    .. SEEALSO::
+
+        :func:`sage.combinat.designs.block_design.ProjectiveGeometryDesign`
+
     EXAMPLES::

         sage: from sage.combinat.designs.difference_family import are_projective_space_parameters
```

- I do not understand the code yet, but don't you want to use the 'conway=True` trick in `singer_difference_set` ?

Nathann



---

archive/issue_comments_275014.json:
```json
{
    "body": "<a id='comment:16'></a>\nHi,\n\n> - In the doc of `are_projective_space_parameters` you give the equations that `v,k,lmbda` must satisfy, but could you say it \"with words\" before that ? Something like \"such that the projective geometry of parameters xx,xx,xx is a xx,xx,xx design ?\" \n\n\nwill do: these are the parameters of a projective space design (assuming that they only exists for prime powers ;-)\n \n> - I had begun to write a commit linking this function with `ProjectiveGeometryDesign` but I did not know enough to finish the review `^^;`\n\n\nYeah it would be cool to check the t-design parameters of projective geometry designs fit what `are_projective_space_parameters` check for. Actually, it would make sense to move `are_projective_space_parameters` to `block_design.py`. What do you think?\n\n> - I do not understand the code yet, but don't you want to use the 'conway=True` trick in `singer_difference_set` ?\n\n\nNope. I need relative extensions `GF(q) -> GF(q^(d+1))`. The trick would only \"work\" for prime fields. Moreover, testing if an element of an extension belongs to the span over `GF(q)` of `(1,z,...,z^(d-1))` is a mess (and trivial if you deal directly with polyonials).\n\nI agree that I mimic an extension of `GF(q)` by dealing with polynomials mod `c` (the relative Conway polynomial), but it seems the easiest way to go.\n\nVincent",
    "created_at": "2014-07-04T09:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275014",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'></a>
Hi,

> - In the doc of `are_projective_space_parameters` you give the equations that `v,k,lmbda` must satisfy, but could you say it "with words" before that ? Something like "such that the projective geometry of parameters xx,xx,xx is a xx,xx,xx design ?" 


will do: these are the parameters of a projective space design (assuming that they only exists for prime powers ;-)
 
> - I had begun to write a commit linking this function with `ProjectiveGeometryDesign` but I did not know enough to finish the review `^^;`


Yeah it would be cool to check the t-design parameters of projective geometry designs fit what `are_projective_space_parameters` check for. Actually, it would make sense to move `are_projective_space_parameters` to `block_design.py`. What do you think?

> - I do not understand the code yet, but don't you want to use the 'conway=True` trick in `singer_difference_set` ?


Nope. I need relative extensions `GF(q) -> GF(q^(d+1))`. The trick would only "work" for prime fields. Moreover, testing if an element of an extension belongs to the span over `GF(q)` of `(1,z,...,z^(d-1))` is a mess (and trivial if you deal directly with polyonials).

I agree that I mimic an extension of `GF(q)` by dealing with polynomials mod `c` (the relative Conway polynomial), but it seems the easiest way to go.

Vincent



---

archive/issue_comments_275015.json:
```json
{
    "body": "<a id='comment:17'></a>\nYo !\n\n> will do: these are the parameters of a projective space design (assuming that they only exists for prime powers ;-)\n\n\nAlso : don't we use at the same time \"projective space design\" and \"projective geometry design\" ?\n\n> Yeah it would be cool to check the t-design parameters of projective geometry designs fit what `are_projective_space_parameters` check for. Actually, it would make sense to move `are_projective_space_parameters` to `block_design.py`. What do you think?\n\n\n+1\n\n> Nope. I need relative extensions `GF(q) -> GF(q^(d+1))`. The trick would only \"work\" for prime fields. Moreover, testing if an element of an extension belongs to the span over `GF(q)` of `(1,z,...,z^(d-1))` is a mess (and trivial if you deal directly with polyonials).\n> \n> I agree that I mimic an extension of `GF(q)` by dealing with polynomials mod `c` (the relative Conway polynomial), but it seems the easiest way to go.\n\n\n`T_T`\n\nNathann",
    "created_at": "2014-07-04T09:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275015",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:17'></a>
Yo !

> will do: these are the parameters of a projective space design (assuming that they only exists for prime powers ;-)


Also : don't we use at the same time "projective space design" and "projective geometry design" ?

> Yeah it would be cool to check the t-design parameters of projective geometry designs fit what `are_projective_space_parameters` check for. Actually, it would make sense to move `are_projective_space_parameters` to `block_design.py`. What do you think?


+1

> Nope. I need relative extensions `GF(q) -> GF(q^(d+1))`. The trick would only "work" for prime fields. Moreover, testing if an element of an extension belongs to the span over `GF(q)` of `(1,z,...,z^(d-1))` is a mess (and trivial if you deal directly with polyonials).
> 
> I agree that I mimic an extension of `GF(q)` by dealing with polynomials mod `c` (the relative Conway polynomial), but it seems the easiest way to go.


`T_T`

Nathann



---

archive/issue_comments_275016.json:
```json
{
    "body": "<a id='comment:18'></a>\nAll right, I will change `*projective_space*` to `*projective_geometry*\".\n\nHaaarg... but currently the `ProjectiveGeometryDesign` is so stupdly implemented that it takes hours to generate anything interesting!! And I remember that I already rewrote that in #16552. Do you agree that I rewrite `ProjectiveGeometryDesign` to just work here (but I will not change the behavior of anything right now)?\n\nVincent",
    "created_at": "2014-07-04T09:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275016",
    "user": "https://github.com/videlec"
}
```

<a id='comment:18'></a>
All right, I will change `*projective_space*` to `*projective_geometry*".

Haaarg... but currently the `ProjectiveGeometryDesign` is so stupdly implemented that it takes hours to generate anything interesting!! And I remember that I already rewrote that in #16552. Do you agree that I rewrite `ProjectiveGeometryDesign` to just work here (but I will not change the behavior of anything right now)?

Vincent



---

archive/issue_comments_275017.json:
```json
{
    "body": "<a id='comment:19'></a>\n> Haaarg... but currently the `ProjectiveGeometryDesign` is so stupdly implemented that it takes hours to generate anything interesting!! And I remember that I already rewrote that in #16552. Do you agree that I rewrite `ProjectiveGeometryDesign` to just work here (but I will not change the behavior of anything right now)?\n\n\nYeahyeah good idea !\n\nNathann",
    "created_at": "2014-07-04T09:11:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275017",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:19'></a>
> Haaarg... but currently the `ProjectiveGeometryDesign` is so stupdly implemented that it takes hours to generate anything interesting!! And I remember that I already rewrote that in #16552. Do you agree that I rewrite `ProjectiveGeometryDesign` to just work here (but I will not change the behavior of anything right now)?


Yeahyeah good idea !

Nathann



---

archive/issue_comments_275018.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-07-04T21:18:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275018",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_275019.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#16553,#16617\"",
    "created_at": "2014-07-04T21:18:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275019",
    "user": "https://github.com/videlec"
}
```

Changing dependencies from "" to "#16553,#16617"



---

archive/issue_comments_275020.json:
```json
{
    "body": "Changing commit from \"f725726fa68094215f1d4e19fac2378c0c29d3e8\" to \"46cd4622a9777284fb6e3bf7d21ebf90680e7954\"",
    "created_at": "2014-07-04T21:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275020",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f725726fa68094215f1d4e19fac2378c0c29d3e8" to "46cd4622a9777284fb6e3bf7d21ebf90680e7954"



---

archive/issue_comments_275021.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                          |                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[bd609fc](http://git.sagemath.org/sage.git/commit/?id=bd609fcef6ba2923a6659e7c2dd35edf828467cf)|`trac #16553: is_t_design`|\n|[11994ef](http://git.sagemath.org/sage.git/commit/?id=11994efa18b15a9a0330a0816c7aea24fb2bc498)|`trac #16553: Review`|\n|[e7a97ea](http://git.sagemath.org/sage.git/commit/?id=e7a97ea3ca390627aed24693e5314568234dfdf3)|`trac #16553: doc fix + deprecation is_block_design`|\n|[3c0dd71](http://git.sagemath.org/sage.git/commit/?id=3c0dd71a1ecaf61af062ff7ddedf4e95f38d5b22)|`trac #16553v3: change .points() -> .ground_set()`|\n|[52b7177](http://git.sagemath.org/sage.git/commit/?id=52b71777445b45770ad8ebceeb73da791c7145ac)|`trac #16553: merge sage 6.3.beta5`|\n|[0698433](http://git.sagemath.org/sage.git/commit/?id=0698433258c4f863cc1585ece2065b5e4e1b41eb)|`trac #16553: deprecated alias .points() + fix`|\n|[7faff08](http://git.sagemath.org/sage.git/commit/?id=7faff0802d45ca5e6608da17002f1f6c5fc418db)|`trac #16597: merge #16553`|\n|[aff5e44](http://git.sagemath.org/sage.git/commit/?id=aff5e443d6cdf25e9c16b107b50b7bf200c9e37d)|`trac #16617: echelon matrix iterator`|\n|[4e190d5](http://git.sagemath.org/sage.git/commit/?id=4e190d5f03a7d6fa0eb117e1e9dcf6c52615391c)|`trac #16597: merge #16617`|\n|[46cd462](http://git.sagemath.org/sage.git/commit/?id=46cd4622a9777284fb6e3bf7d21ebf90680e7954)|`trac #16597: move parameter check in block_design.py`|",
    "created_at": "2014-07-04T21:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275021",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                          |                          |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[bd609fc](http://git.sagemath.org/sage.git/commit/?id=bd609fcef6ba2923a6659e7c2dd35edf828467cf)|`trac #16553: is_t_design`|
|[11994ef](http://git.sagemath.org/sage.git/commit/?id=11994efa18b15a9a0330a0816c7aea24fb2bc498)|`trac #16553: Review`|
|[e7a97ea](http://git.sagemath.org/sage.git/commit/?id=e7a97ea3ca390627aed24693e5314568234dfdf3)|`trac #16553: doc fix + deprecation is_block_design`|
|[3c0dd71](http://git.sagemath.org/sage.git/commit/?id=3c0dd71a1ecaf61af062ff7ddedf4e95f38d5b22)|`trac #16553v3: change .points() -> .ground_set()`|
|[52b7177](http://git.sagemath.org/sage.git/commit/?id=52b71777445b45770ad8ebceeb73da791c7145ac)|`trac #16553: merge sage 6.3.beta5`|
|[0698433](http://git.sagemath.org/sage.git/commit/?id=0698433258c4f863cc1585ece2065b5e4e1b41eb)|`trac #16553: deprecated alias .points() + fix`|
|[7faff08](http://git.sagemath.org/sage.git/commit/?id=7faff0802d45ca5e6608da17002f1f6c5fc418db)|`trac #16597: merge #16553`|
|[aff5e44](http://git.sagemath.org/sage.git/commit/?id=aff5e443d6cdf25e9c16b107b50b7bf200c9e37d)|`trac #16617: echelon matrix iterator`|
|[4e190d5](http://git.sagemath.org/sage.git/commit/?id=4e190d5f03a7d6fa0eb117e1e9dcf6c52615391c)|`trac #16597: merge #16617`|
|[46cd462](http://git.sagemath.org/sage.git/commit/?id=46cd4622a9777284fb6e3bf7d21ebf90680e7954)|`trac #16597: move parameter check in block_design.py`|



---

archive/issue_comments_275022.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-07-04T21:37:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275022",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_275023.json:
```json
{
    "body": "<a id='comment:23'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[f3cc9b7](http://git.sagemath.org/sage.git/commit/?id=f3cc9b7a9979e164565df53fa11dd6f8647a6ee9)|`trac #16617: cythonisation`|\n|[1d5ca53](http://git.sagemath.org/sage.git/commit/?id=1d5ca5308d23fe938f0ca32b73c6f675a78948e8)|`trac #16617: doctest + remove part of the cache`|\n|[6908f39](http://git.sagemath.org/sage.git/commit/?id=6908f39941ec6a4b79373400beb20c03824957cb)|`trac #16617: change the name + doctest`|\n|[a2c71c3](http://git.sagemath.org/sage.git/commit/?id=a2c71c369ed15f065ff0679c48d2acd8ff32dfcc)|`trac #16597: merge updated #16617`|\n|[10c9beb](http://git.sagemath.org/sage.git/commit/?id=10c9beb0a672b3b5c628d7b206b6dbc49aae5848)|`trac #16597: take care of the update #16617`|",
    "created_at": "2014-07-19T14:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275023",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[f3cc9b7](http://git.sagemath.org/sage.git/commit/?id=f3cc9b7a9979e164565df53fa11dd6f8647a6ee9)|`trac #16617: cythonisation`|
|[1d5ca53](http://git.sagemath.org/sage.git/commit/?id=1d5ca5308d23fe938f0ca32b73c6f675a78948e8)|`trac #16617: doctest + remove part of the cache`|
|[6908f39](http://git.sagemath.org/sage.git/commit/?id=6908f39941ec6a4b79373400beb20c03824957cb)|`trac #16617: change the name + doctest`|
|[a2c71c3](http://git.sagemath.org/sage.git/commit/?id=a2c71c369ed15f065ff0679c48d2acd8ff32dfcc)|`trac #16597: merge updated #16617`|
|[10c9beb](http://git.sagemath.org/sage.git/commit/?id=10c9beb0a672b3b5c628d7b206b6dbc49aae5848)|`trac #16597: take care of the update #16617`|



---

archive/issue_comments_275024.json:
```json
{
    "body": "Changing commit from \"46cd4622a9777284fb6e3bf7d21ebf90680e7954\" to \"10c9beb0a672b3b5c628d7b206b6dbc49aae5848\"",
    "created_at": "2014-07-19T14:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275024",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "46cd4622a9777284fb6e3bf7d21ebf90680e7954" to "10c9beb0a672b3b5c628d7b206b6dbc49aae5848"



---

archive/issue_comments_275025.json:
```json
{
    "body": "<a id='comment:24'></a>\nRebased on the updated #16617... needs review again.",
    "created_at": "2014-07-19T14:47:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275025",
    "user": "https://github.com/videlec"
}
```

<a id='comment:24'></a>
Rebased on the updated #16617... needs review again.



---

archive/issue_comments_275026.json:
```json
{
    "body": "<a id='comment:25'></a>\nHello !\n\nI added a commit `public/16597` but I do not understand the code as it is written, so I cannot much more. It seems to work indeed, but I don't get the maths behind.\n\nNathann",
    "created_at": "2014-07-21T10:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275026",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:25'></a>
Hello !

I added a commit `public/16597` but I do not understand the code as it is written, so I cannot much more. It seems to work indeed, but I don't get the maths behind.

Nathann



---

archive/issue_comments_275027.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [ncohen](#comment%3A25):\n> Hello !\n> \n> I added a commit `public/16597` but I do not understand the code as it is written, so I cannot much more. It seems to work indeed, but I don't get the maths behind.\n\n\nI can try to explain (in these comments and inside the code), could you be more precise?\n\nVincent",
    "created_at": "2014-07-21T10:32:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275027",
    "user": "https://github.com/videlec"
}
```

<a id='comment:26'></a>
Replying to [ncohen](#comment%3A25):
> Hello !
> 
> I added a commit `public/16597` but I do not understand the code as it is written, so I cannot much more. It seems to work indeed, but I don't get the maths behind.


I can try to explain (in these comments and inside the code), could you be more precise?

Vincent



---

archive/issue_comments_275028.json:
```json
{
    "body": "<a id='comment:27'></a>\nBasically, I don't get why doint this does the job \n\n```\n+    # now compute the set of i such that z^i belongs to the subspace spanned by\n+    # (1,z,z^2,...,z^(d-1)) over GF(q) (up to the action of scalar\n+    # multiplication)\n```\n\nAnd it isn't exactly the way it is explained in Stinson's book either I believe.. \n\nNathann",
    "created_at": "2014-07-21T10:33:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275028",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:27'></a>
Basically, I don't get why doint this does the job 

```
+    # now compute the set of i such that z^i belongs to the subspace spanned by
+    # (1,z,z^2,...,z^(d-1)) over GF(q) (up to the action of scalar
+    # multiplication)
```

And it isn't exactly the way it is explained in Stinson's book either I believe.. 

Nathann



---

archive/issue_comments_275029.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [ncohen](#comment%3A27):\n> Basically, I don't get why doint this does the job \n> \n> \n> ```\n> +    # now compute the set of i such that z^i belongs to the subspace spanned by\n> +    # (1,z,z^2,...,z^(d-1)) over GF(q) (up to the action of scalar\n> +    # multiplication)\n> ```\n> \n> And it isn't exactly the way it is explained in Stinson's book either I believe.. \n\n\nIt follows Stinson but the loop is stopped sooner.\n\nThe field `Kbig` with q<sup>e+1</sup> elements is a vector space over `Ksmall` the one with q elements. We chose a generator z of the multiplicative group of `Kbig` (that way we have a cyclic action on lines). We also choose a concrete subspace of dimension `d` in `Kbig` to be the span (over `Ksmall`) of 1,z,...z<sup>d-1</sup>. Let call it `V` this subspace.\n\nThe difference set is by definition the set of integers `i` such that `z^i` belong to `V` (recall that any element of `Kbig` different from `0` can be written as `z^i` with `i < q^e`).\n\nThis is what Stinson does and this is what I am doing.\n\nVincent",
    "created_at": "2014-07-21T10:42:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275029",
    "user": "https://github.com/videlec"
}
```

<a id='comment:28'></a>
Replying to [ncohen](#comment%3A27):
> Basically, I don't get why doint this does the job 
> 
> 
> ```
> +    # now compute the set of i such that z^i belongs to the subspace spanned by
> +    # (1,z,z^2,...,z^(d-1)) over GF(q) (up to the action of scalar
> +    # multiplication)
> ```
> 
> And it isn't exactly the way it is explained in Stinson's book either I believe.. 


It follows Stinson but the loop is stopped sooner.

The field `Kbig` with q<sup>e+1</sup> elements is a vector space over `Ksmall` the one with q elements. We chose a generator z of the multiplicative group of `Kbig` (that way we have a cyclic action on lines). We also choose a concrete subspace of dimension `d` in `Kbig` to be the span (over `Ksmall`) of 1,z,...z<sup>d-1</sup>. Let call it `V` this subspace.

The difference set is by definition the set of integers `i` such that `z^i` belong to `V` (recall that any element of `Kbig` different from `0` can be written as `z^i` with `i < q^e`).

This is what Stinson does and this is what I am doing.

Vincent



---

archive/issue_comments_275030.json:
```json
{
    "body": "<a id='comment:29'></a>\n> This is what Stinson does and this is what I am doing.\n\n\nOh I see it now, very cool ! Plus you really generate very few objects. Coud you add those explanations in the doc/code ?\n\nNathann",
    "created_at": "2014-07-21T10:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275030",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:29'></a>
> This is what Stinson does and this is what I am doing.


Oh I see it now, very cool ! Plus you really generate very few objects. Coud you add those explanations in the doc/code ?

Nathann



---

archive/issue_comments_275031.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [ncohen](#comment%3A29):\n> > This is what Stinson does and this is what I am doing.\n\n> \n> Oh I see it now, very cool ! Plus you really generate very few objects. Coud you add those explanations in the doc/code ?\n\n\nOf course, I will.\n\nVincent",
    "created_at": "2014-07-21T10:49:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275031",
    "user": "https://github.com/videlec"
}
```

<a id='comment:30'></a>
Replying to [ncohen](#comment%3A29):
> > This is what Stinson does and this is what I am doing.

> 
> Oh I see it now, very cool ! Plus you really generate very few objects. Coud you add those explanations in the doc/code ?


Of course, I will.

Vincent



---

archive/issue_comments_275032.json:
```json
{
    "body": "<a id='comment:31'></a>\n(don't forget my small commit on `public/16597`)",
    "created_at": "2014-07-21T10:49:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275032",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:31'></a>
(don't forget my small commit on `public/16597`)



---

archive/issue_comments_275033.json:
```json
{
    "body": "<a id='comment:32'></a>\nThere is just a subtlety that I did not tell you. If you follow my words you have \"too much\" integers `i` (if you have `z^i` you also have `z^(i + n*(q<sup>(e+1)-1)/(q</sup>d-1))` or in other words the element `z^i x` with `x` in `Ksmall`). If you only store the smallest `i` as I did, everything is fine since you start to see two points on the same `Ksmall`-line only after you see all the lines in `Kbig` at least once...\n\nVincent",
    "created_at": "2014-07-21T10:55:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275033",
    "user": "https://github.com/videlec"
}
```

<a id='comment:32'></a>
There is just a subtlety that I did not tell you. If you follow my words you have "too much" integers `i` (if you have `z^i` you also have `z^(i + n*(q<sup>(e+1)-1)/(q</sup>d-1))` or in other words the element `z^i x` with `x` in `Ksmall`). If you only store the smallest `i` as I did, everything is fine since you start to see two points on the same `Ksmall`-line only after you see all the lines in `Kbig` at least once...

Vincent



---

archive/issue_comments_275034.json:
```json
{
    "body": "<a id='comment:33'></a>\n> There is just a subtlety that I did not tell you. If you follow my words you have \"too much\" integers `i` (if you have `z^i` you also have `z^(i + n*(q<sup>(e+1)-1)/(q</sup>d-1))` or in other words the element `z^i x` with `x` in `Ksmall`). If you only store the smallest `i` as I did, everything is fine since you start to see two points on the same `Ksmall`-line only after you see all the lines least once...\n\n\nI see, I see. Could you also put it in the doc ? By the way, shouldn't there be a field function somewhere that gives you the logarithm of a field element with respect to `z` ? Something that would be more efficient than enumeration ?\n\nNathann",
    "created_at": "2014-07-21T10:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275034",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:33'></a>
> There is just a subtlety that I did not tell you. If you follow my words you have "too much" integers `i` (if you have `z^i` you also have `z^(i + n*(q<sup>(e+1)-1)/(q</sup>d-1))` or in other words the element `z^i x` with `x` in `Ksmall`). If you only store the smallest `i` as I did, everything is fine since you start to see two points on the same `Ksmall`-line only after you see all the lines least once...


I see, I see. Could you also put it in the doc ? By the way, shouldn't there be a field function somewhere that gives you the logarithm of a field element with respect to `z` ? Something that would be more efficient than enumeration ?

Nathann



---

archive/issue_comments_275035.json:
```json
{
    "body": "<a id='comment:34'></a>\nIt is a very hard thing to compute the logarithm: http://en.wikipedia.org/wiki/Discrete_logarithm (it is used for cryptography).\n\nVincent",
    "created_at": "2014-07-21T10:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275035",
    "user": "https://github.com/videlec"
}
```

<a id='comment:34'></a>
It is a very hard thing to compute the logarithm: http://en.wikipedia.org/wiki/Discrete_logarithm (it is used for cryptography).

Vincent



---

archive/issue_comments_275036.json:
```json
{
    "body": "<a id='comment:35'></a>\nHopefully: \"There exists an efficient quantum algorithm due to Peter Shor!\" (from wikipedia)",
    "created_at": "2014-07-21T11:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275036",
    "user": "https://github.com/videlec"
}
```

<a id='comment:35'></a>
Hopefully: "There exists an efficient quantum algorithm due to Peter Shor!" (from wikipedia)



---

archive/issue_comments_275037.json:
```json
{
    "body": "<a id='comment:36'></a>\n> It is a very hard thing to compute the logarithm: http://en.wikipedia.org/wiki/Discrete_logarithm (it is used for cryptography).\n\n\n1) You are already computing a logarithm, so it is at most as hard as a for loop. It is only \"hard\" because these guys measure complexity with respect to `log(n)`\n\n2) It is \"hard\" to factor stuff, yet there is something \"more efficient\" that trying all integers smaller than `n` (stop at `sqrt(n)`)\n\n3) It is exactly because it is a useful operation that we should have a function for it. Of course it's not our job to implement it but perhaps we should have a simple way to do that in Sage ?...  `O_o`\n\nNathann",
    "created_at": "2014-07-21T11:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275037",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:36'></a>
> It is a very hard thing to compute the logarithm: http://en.wikipedia.org/wiki/Discrete_logarithm (it is used for cryptography).


1) You are already computing a logarithm, so it is at most as hard as a for loop. It is only "hard" because these guys measure complexity with respect to `log(n)`

2) It is "hard" to factor stuff, yet there is something "more efficient" that trying all integers smaller than `n` (stop at `sqrt(n)`)

3) It is exactly because it is a useful operation that we should have a function for it. Of course it's not our job to implement it but perhaps we should have a simple way to do that in Sage ?...  `O_o`

Nathann



---

archive/issue_comments_275038.json:
```json
{
    "body": "<a id='comment:37'></a>\n> Hopefully: \"There exists an efficient quantum algorithm due to Peter Shor!\" (from wikipedia)\n\n\nAllahuuuuu Akbar !\n\nNathann",
    "created_at": "2014-07-21T11:03:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275038",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:37'></a>
> Hopefully: "There exists an efficient quantum algorithm due to Peter Shor!" (from wikipedia)


Allahuuuuu Akbar !

Nathann



---

archive/issue_comments_275039.json:
```json
{
    "body": "<a id='comment:38'></a>\nIf you want to compute the logarithm of a bunch of numbers I am not sure there is something better than trial multiplication... and doing it for each element of your set is definitely a bad idea.\n\nVincent",
    "created_at": "2014-07-21T11:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275039",
    "user": "https://github.com/videlec"
}
```

<a id='comment:38'></a>
If you want to compute the logarithm of a bunch of numbers I am not sure there is something better than trial multiplication... and doing it for each element of your set is definitely a bad idea.

Vincent



---

archive/issue_comments_275040.json:
```json
{
    "body": "<a id='comment:39'></a>\nI am pretty sure I studied this at the University\n\n```\nsage: sage.groups.generic.bsgs\n```\n\nI forgot all of it, though... But I guess it shouldn't be a standalone function like that.\n\nNathann",
    "created_at": "2014-07-21T11:08:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275040",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:39'></a>
I am pretty sure I studied this at the University

```
sage: sage.groups.generic.bsgs
```

I forgot all of it, though... But I guess it shouldn't be a standalone function like that.

Nathann



---

archive/issue_comments_275041.json:
```json
{
    "body": "<a id='comment:40'></a>\n(awaiting doc update)",
    "created_at": "2014-07-23T12:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275041",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:40'></a>
(awaiting doc update)



---

archive/issue_comments_275042.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-07-23T12:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275042",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_275043.json:
```json
{
    "body": "Changing commit from \"10c9beb0a672b3b5c628d7b206b6dbc49aae5848\" to \"ac4abab21cecffc01ff91dff40e8442fda10a9d1\"",
    "created_at": "2014-07-28T13:19:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275043",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "10c9beb0a672b3b5c628d7b206b6dbc49aae5848" to "ac4abab21cecffc01ff91dff40e8442fda10a9d1"



---

archive/issue_comments_275044.json:
```json
{
    "body": "<a id='comment:41'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[cc3e1df](http://git.sagemath.org/sage.git/commit/?id=cc3e1dfd6cf2e119c40b57c81fb83322f40e1789)|`trac #16597: merge 6.3.beta6`|\n|[ac4abab](http://git.sagemath.org/sage.git/commit/?id=ac4abab21cecffc01ff91dff40e8442fda10a9d1)|`trac #16597: more doc`|",
    "created_at": "2014-07-28T13:19:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275044",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[cc3e1df](http://git.sagemath.org/sage.git/commit/?id=cc3e1dfd6cf2e119c40b57c81fb83322f40e1789)|`trac #16597: merge 6.3.beta6`|
|[ac4abab](http://git.sagemath.org/sage.git/commit/?id=ac4abab21cecffc01ff91dff40e8442fda10a9d1)|`trac #16597: more doc`|



---

archive/issue_comments_275045.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-07-28T13:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275045",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_275046.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Nathann Cohen\"",
    "created_at": "2014-07-28T13:54:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275046",
    "user": "https://github.com/nathanncohen"
}
```

Changing reviewer from "" to "Nathann Cohen"



---

archive/issue_comments_275047.json:
```json
{
    "body": "<a id='comment:43'></a>\nOKayyyyyyyyyyyyyyyyyyyyyyyyyyy.... !\n\nNathann",
    "created_at": "2014-07-28T13:54:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275047",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:43'></a>
OKayyyyyyyyyyyyyyyyyyyyyyyyyyy.... !

Nathann



---

archive/issue_comments_275048.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-07-28T13:54:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275048",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_048687.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-28T16:27:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16597#event-48687"
}
```



---

archive/issue_comments_275049.json:
```json
{
    "body": "Changing branch from \"u/vdelecroix/16597\" to \"ac4abab21cecffc01ff91dff40e8442fda10a9d1\"",
    "created_at": "2014-07-28T16:27:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275049",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/vdelecroix/16597" to "ac4abab21cecffc01ff91dff40e8442fda10a9d1"



---

archive/issue_comments_275050.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-07-28T16:27:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16597#issuecomment-275050",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
