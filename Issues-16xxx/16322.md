# Issue 16322: Magma doctest failures

archive/issues_016085.json:
```json
{
    "body": "These doctests currently fail:\n\n```\nsage -t --long --optional sage,magma /bulk/home/malb/software/sage/src/sage/symbolic/expression.pyx\nsage -t --long --optional sage,magma /bulk/home/malb/software/sage/src/sage/rings/number_field/number_field.py\nsage -t --long --optional sage,magma /bulk/home/malb/software/sage/src/sage/matrix/benchmark.py\nsage -t --long --optional sage,magma /bulk/home/malb/software/sage/src/sage/rings/polynomial/polynomial_rational_flint.pyx\nsage -t --long --optional sage,magma /bulk/home/malb/software/sage/src/sage/rings/polynomial/multi_polynomial_sequence.py\nsage -t --long --optional sage,magma /bulk/home/malb/software/sage/src/sage/rings/integer_ring.pyx \n```\n\nCC:  @nexttime\n\nKeywords: magma\n\nBranch/Commit: [1b5d36de0d5dac98537311e8c95dcb62d8bf2d80](https://github.com/sagemath/sagetrac-mirror/commit/1b5d36de0d5dac98537311e8c95dcb62d8bf2d80)\n\nUpstream: None of the above - read trac for reasoning.\n\nReviewer: Volker Braun\n\nAuthor: Martin Albrecht\n\nDependencies: #16282\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16322\n\n",
    "closed_at": "2014-07-17T00:01:11Z",
    "created_at": "2014-05-10T17:41:09Z",
    "labels": [
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Magma doctest failures",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16322",
    "user": "https://github.com/malb"
}
```
These doctests currently fail:

```
sage -t --long --optional sage,magma /bulk/home/malb/software/sage/src/sage/symbolic/expression.pyx
sage -t --long --optional sage,magma /bulk/home/malb/software/sage/src/sage/rings/number_field/number_field.py
sage -t --long --optional sage,magma /bulk/home/malb/software/sage/src/sage/matrix/benchmark.py
sage -t --long --optional sage,magma /bulk/home/malb/software/sage/src/sage/rings/polynomial/polynomial_rational_flint.pyx
sage -t --long --optional sage,magma /bulk/home/malb/software/sage/src/sage/rings/polynomial/multi_polynomial_sequence.py
sage -t --long --optional sage,magma /bulk/home/malb/software/sage/src/sage/rings/integer_ring.pyx 
```

CC:  @nexttime

Keywords: magma

Branch/Commit: [1b5d36de0d5dac98537311e8c95dcb62d8bf2d80](https://github.com/sagemath/sagetrac-mirror/commit/1b5d36de0d5dac98537311e8c95dcb62d8bf2d80)

Upstream: None of the above - read trac for reasoning.

Reviewer: Volker Braun

Author: Martin Albrecht

Dependencies: #16282

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16322





---

archive/issue_comments_272080.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2014-05-10T17:42:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272080",
    "user": "https://github.com/malb"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_272081.json:
```json
{
    "body": "Changing commit from \"\" to \"46246faecc4d27cfe9b54ac62e9ef36f15ec06fa\"",
    "created_at": "2014-05-10T17:43:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272081",
    "user": "https://github.com/malb"
}
```

Changing commit from "" to "46246faecc4d27cfe9b54ac62e9ef36f15ec06fa"



---

archive/issue_comments_272082.json:
```json
{
    "body": "<a id='comment:2'></a>\nAll doctest failures fixed except for \n\n```\nsage -t --long --optional sage,magma /bulk/home/malb/software/sage/src/sage/rings/number_field/number_field.py\n```\n\nwhere I'm not immediately sure what to do.\n\n---\nNew commits:\n|                                                                                                                                          |                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[548d2e6](https://github.com/sagemath/sagetrac-mirror/commit/548d2e6bb96b8d2a555727d59b5581f58b0b97b7)|`fix magma(P) for P a multivariate polynomial ring`|\n|[566082b](https://github.com/sagemath/sagetrac-mirror/commit/566082b35d87c7b98a09775cb62b00fa4c6510d8)|`fix various Magma doctest failures`|\n|[1938841](https://github.com/sagemath/sagetrac-mirror/commit/1938841999a1ad1583bc04f73c345f8eb4b46b81)|`Merge branch 'develop' of trac.sagemath.org:sage into magma`|\n|[46246fa](https://github.com/sagemath/sagetrac-mirror/commit/46246faecc4d27cfe9b54ac62e9ef36f15ec06fa)|`fix magma doctest failures`|",
    "created_at": "2014-05-10T17:43:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272082",
    "user": "https://github.com/malb"
}
```

<a id='comment:2'></a>
All doctest failures fixed except for 

```
sage -t --long --optional sage,magma /bulk/home/malb/software/sage/src/sage/rings/number_field/number_field.py
```

where I'm not immediately sure what to do.

---
New commits:
|                                                                                                                                          |                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[548d2e6](https://github.com/sagemath/sagetrac-mirror/commit/548d2e6bb96b8d2a555727d59b5581f58b0b97b7)|`fix magma(P) for P a multivariate polynomial ring`|
|[566082b](https://github.com/sagemath/sagetrac-mirror/commit/566082b35d87c7b98a09775cb62b00fa4c6510d8)|`fix various Magma doctest failures`|
|[1938841](https://github.com/sagemath/sagetrac-mirror/commit/1938841999a1ad1583bc04f73c345f8eb4b46b81)|`Merge branch 'develop' of trac.sagemath.org:sage into magma`|
|[46246fa](https://github.com/sagemath/sagetrac-mirror/commit/46246faecc4d27cfe9b54ac62e9ef36f15ec06fa)|`fix magma doctest failures`|



---

archive/issue_comments_272083.json:
```json
{
    "body": "Changing branch from \"\" to \"u/malb/16322-magma-doctests\"",
    "created_at": "2014-05-10T17:43:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272083",
    "user": "https://github.com/malb"
}
```

Changing branch from "" to "u/malb/16322-magma-doctests"



---

archive/issue_comments_272084.json:
```json
{
    "body": "Changing dependencies from \"\" to \"16282\"",
    "created_at": "2014-05-10T17:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272084",
    "user": "https://github.com/malb"
}
```

Changing dependencies from "" to "16282"



---

archive/issue_comments_272085.json:
```json
{
    "body": "Changing dependencies from \"16282\" to \"#16282\"",
    "created_at": "2014-05-10T17:44:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272085",
    "user": "https://github.com/malb"
}
```

Changing dependencies from "16282" to "#16282"



---

archive/issue_comments_272086.json:
```json
{
    "body": "<a id='comment:5'></a>\nThese were the ones failing for me on bsd.math with **vanilla** Sage 6.2 (and `--long --optional=magma,sage --all`, Magma V2.18-6):\n\n```\n----------------------------------------------------------------------\nsage -t --long src/sage/interfaces/magma.py  # 21 doctests failed\nsage -t --long src/sage/matrix/benchmark.py  # 26 doctests failed\nsage -t --long src/sage/matrix/matrix1.pyx  # 2 doctests failed\nsage -t --long src/sage/rings/integer_ring.pyx  # 1 doctest failed\nsage -t --long src/sage/rings/quotient_ring.py  # 1 doctest failed\nsage -t --long src/sage/rings/quotient_ring_element.py  # 2 doctests failed\nsage -t --long src/sage/rings/number_field/number_field.py  # 1 doctest failed\nsage -t --long src/sage/rings/polynomial/multi_polynomial.pyx  # 4 doctests failed\nsage -t --long src/sage/rings/polynomial/multi_polynomial_ideal.py  # 4 doctests failed\nsage -t --long src/sage/rings/polynomial/multi_polynomial_ring_generic.pyx  # 5 doctests failed\nsage -t --long src/sage/rings/polynomial/multi_polynomial_sequence.py  # 1 doctest failed\nsage -t --long src/sage/rings/polynomial/pbori.pyx  # 3 doctests failed\nsage -t --long src/sage/rings/polynomial/polynomial_element.pyx  # 1 doctest failed\nsage -t --long src/sage/rings/polynomial/polynomial_rational_flint.pyx  # 1 doctest failed\nsage -t --long src/sage/rings/polynomial/term_order.py  # 1 doctest failed\nsage -t --long src/sage/symbolic/expression.pyx  # 1 doctest failed\nsage -t --long src/doc/en/bordeaux_2008/birds_other.rst  # 3 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2014-05-10T20:38:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272086",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:5'></a>
These were the ones failing for me on bsd.math with **vanilla** Sage 6.2 (and `--long --optional=magma,sage --all`, Magma V2.18-6):

```
----------------------------------------------------------------------
sage -t --long src/sage/interfaces/magma.py  # 21 doctests failed
sage -t --long src/sage/matrix/benchmark.py  # 26 doctests failed
sage -t --long src/sage/matrix/matrix1.pyx  # 2 doctests failed
sage -t --long src/sage/rings/integer_ring.pyx  # 1 doctest failed
sage -t --long src/sage/rings/quotient_ring.py  # 1 doctest failed
sage -t --long src/sage/rings/quotient_ring_element.py  # 2 doctests failed
sage -t --long src/sage/rings/number_field/number_field.py  # 1 doctest failed
sage -t --long src/sage/rings/polynomial/multi_polynomial.pyx  # 4 doctests failed
sage -t --long src/sage/rings/polynomial/multi_polynomial_ideal.py  # 4 doctests failed
sage -t --long src/sage/rings/polynomial/multi_polynomial_ring_generic.pyx  # 5 doctests failed
sage -t --long src/sage/rings/polynomial/multi_polynomial_sequence.py  # 1 doctest failed
sage -t --long src/sage/rings/polynomial/pbori.pyx  # 3 doctests failed
sage -t --long src/sage/rings/polynomial/polynomial_element.pyx  # 1 doctest failed
sage -t --long src/sage/rings/polynomial/polynomial_rational_flint.pyx  # 1 doctest failed
sage -t --long src/sage/rings/polynomial/term_order.py  # 1 doctest failed
sage -t --long src/sage/symbolic/expression.pyx  # 1 doctest failed
sage -t --long src/doc/en/bordeaux_2008/birds_other.rst  # 3 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_comments_272087.json:
```json
{
    "body": "<a id='comment:6'></a>\nP.S.:  Sorry, I only later noticed the purpose of #16282 was *not* to fix all Magma doctests; I somehow completely misread the ticket and/or your post to sage-devel (presumably due to the Gmane outage ;-) )...",
    "created_at": "2014-05-10T20:42:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272087",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:6'></a>
P.S.:  Sorry, I only later noticed the purpose of #16282 was *not* to fix all Magma doctests; I somehow completely misread the ticket and/or your post to sage-devel (presumably due to the Gmane outage ;-) )...



---

archive/issue_comments_272088.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [leif](#comment%3A5):\n> These were the ones failing for me on bsd.math with **vanilla** Sage 6.2 (and `--long --optional=magma,sage --all`, Magma V2.18-6)\n\n\nFull log [here](http://boxen.math.washington.edu/home/leif/tmp/magma-test-long-all.1.vanilla.log).",
    "created_at": "2014-05-10T20:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272088",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:7'></a>
Replying to [leif](#comment%3A5):
> These were the ones failing for me on bsd.math with **vanilla** Sage 6.2 (and `--long --optional=magma,sage --all`, Magma V2.18-6)


Full log [here](http://boxen.math.washington.edu/home/leif/tmp/magma-test-long-all.1.vanilla.log).



---

archive/issue_comments_272089.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|\n|[1b5d36d](https://github.com/sagemath/sagetrac-mirror/commit/1b5d36de0d5dac98537311e8c95dcb62d8bf2d80)|`magma error reporting changed`|",
    "created_at": "2014-05-11T10:05:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272089",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
|[1b5d36d](https://github.com/sagemath/sagetrac-mirror/commit/1b5d36de0d5dac98537311e8c95dcb62d8bf2d80)|`magma error reporting changed`|



---

archive/issue_comments_272090.json:
```json
{
    "body": "Changing commit from \"46246faecc4d27cfe9b54ac62e9ef36f15ec06fa\" to \"1b5d36de0d5dac98537311e8c95dcb62d8bf2d80\"",
    "created_at": "2014-05-11T10:05:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272090",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "46246faecc4d27cfe9b54ac62e9ef36f15ec06fa" to "1b5d36de0d5dac98537311e8c95dcb62d8bf2d80"



---

archive/issue_comments_272091.json:
```json
{
    "body": "<a id='comment:9'></a>\nthese are all resolved except for the Galois group thing mentioned above (I fixed one more issue where newer versions of Magma report errors slightly different from older versions)",
    "created_at": "2014-05-11T10:09:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272091",
    "user": "https://github.com/malb"
}
```

<a id='comment:9'></a>
these are all resolved except for the Galois group thing mentioned above (I fixed one more issue where newer versions of Magma report errors slightly different from older versions)



---

archive/issue_comments_272092.json:
```json
{
    "body": "<a id='comment:10'></a>\nanyone up for reviewing tis?",
    "created_at": "2014-06-25T00:46:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272092",
    "user": "https://github.com/malb"
}
```

<a id='comment:10'></a>
anyone up for reviewing tis?



---

archive/issue_comments_272093.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Volker Braun\"",
    "created_at": "2014-07-16T19:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272093",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "" to "Volker Braun"



---

archive/issue_comments_272094.json:
```json
{
    "body": "<a id='comment:11'></a>\nMaybe you want to set the ticket to \"needs review\" first? Is it?",
    "created_at": "2014-07-16T19:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272094",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>
Maybe you want to set the ticket to "needs review" first? Is it?



---

archive/issue_comments_272095.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-07-17T00:01:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272095",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_272096.json:
```json
{
    "body": "Changing branch from \"u/malb/16322-magma-doctests\" to \"1b5d36de0d5dac98537311e8c95dcb62d8bf2d80\"",
    "created_at": "2014-07-17T00:01:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16322#issuecomment-272096",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/malb/16322-magma-doctests" to "1b5d36de0d5dac98537311e8c95dcb62d8bf2d80"



---

archive/issue_events_054748.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-17T00:01:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16322",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16322#event-54748"
}
```
