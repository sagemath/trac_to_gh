# Issue 16892: Function to check if a poset containt a subposet isomorphic to another poset

archive/issues_016655.json:
```json
{
    "body": "It is, in principle, easy to check if poset A contains a subposet isomorphic to poset B:\n\n```\ndef has_isomorphic_subposet(A, B):\n    for x in Subsets(A.list()):\n        if A.subposet(x).is_isomorphic(B):\n            return True\n    return False\n```\n\nIn reality this is way too slow. Can this be made usefully fast at least in posets of size 5..10?\n\n\n**CC:**  @nathanncohen\n\n**Branch/Commit:** [346ef0e676727cd287f58b978ac1a9e4d82a09e9](https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9)\n\n**Reviewer:** Nathann Cohen\n\n**Author:** Jori M\u00e4ntysalo\n\n**Dependencies:** #16909\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16892\n\n",
    "closed_at": "2014-09-19T15:08:59Z",
    "created_at": "2014-08-28T07:15:44Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Function to check if a poset containt a subposet isomorphic to another poset",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16892",
    "user": "https://github.com/jm58660"
}
```
It is, in principle, easy to check if poset A contains a subposet isomorphic to poset B:

```
def has_isomorphic_subposet(A, B):
    for x in Subsets(A.list()):
        if A.subposet(x).is_isomorphic(B):
            return True
    return False
```

In reality this is way too slow. Can this be made usefully fast at least in posets of size 5..10?


**CC:**  @nathanncohen

**Branch/Commit:** [346ef0e676727cd287f58b978ac1a9e4d82a09e9](https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9)

**Reviewer:** Nathann Cohen

**Author:** Jori MÃ¤ntysalo

**Dependencies:** #16909

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/16892





---

archive/issue_comments_287126.json:
```json
{
    "body": "<a id='comment:1'></a>\nSeems that this function is easy:\n\n```\ndef has_isomorphic_subposet(A, B):\n    if A.hasse_diagram().transitive_closure().subgraph_search(B.hasse_diagram().transitive_closure(),induced=True) is None:\n        return False\n    return True\n```\n\n(Thanks to Nathann Cohen for this.) Needs to test this, and then just add few lines of code + documentation to Sage.",
    "created_at": "2014-08-28T15:58:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287126",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:1'></a>
Seems that this function is easy:

```
def has_isomorphic_subposet(A, B):
    if A.hasse_diagram().transitive_closure().subgraph_search(B.hasse_diagram().transitive_closure(),induced=True) is None:
        return False
    return True
```

(Thanks to Nathann Cohen for this.) Needs to test this, and then just add few lines of code + documentation to Sage.



---

archive/issue_comments_287127.json:
```json
{
    "body": "**Branch:** [u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset)",
    "created_at": "2014-08-29T08:19:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287127",
    "user": "https://github.com/jm58660"
}
```

**Branch:** [u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset)



---

archive/issue_comments_287128.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2014-08-29T08:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287128",
    "user": "https://github.com/jm58660"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_287129.json:
```json
{
    "body": "<a id='comment:3'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f13f2385d2b79adad5dae8282162d776bb8114bd\">f13f238</a></td><td><code>Added a (wrapper) function to posets.</code></td></tr></table>\n",
    "created_at": "2014-08-29T08:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287129",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:3'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f13f2385d2b79adad5dae8282162d776bb8114bd">f13f238</a></td><td><code>Added a (wrapper) function to posets.</code></td></tr></table>




---

archive/issue_comments_287130.json:
```json
{
    "body": "**Commit:** [f13f2385d2b79adad5dae8282162d776bb8114bd](https://github.com/sagemath/sagetrac-mirror/commit/f13f2385d2b79adad5dae8282162d776bb8114bd)",
    "created_at": "2014-08-29T08:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287130",
    "user": "https://github.com/jm58660"
}
```

**Commit:** [f13f2385d2b79adad5dae8282162d776bb8114bd](https://github.com/sagemath/sagetrac-mirror/commit/f13f2385d2b79adad5dae8282162d776bb8114bd)



---

archive/issue_comments_287131.json:
```json
{
    "body": "<a id='comment:4'></a>\n1) The function should only be defined in ONE place. If something forces you to define it twice, complain on sage-devel as it is not normal\n\n2) All questions you asked yourself about this function should be answered in the doc. In particular, you should define what exactly is a \"subposet\". Ideally, you should define both version and make them both available.\n\nNathann",
    "created_at": "2014-08-29T08:22:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287131",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>
1) The function should only be defined in ONE place. If something forces you to define it twice, complain on sage-devel as it is not normal

2) All questions you asked yourself about this function should be answered in the doc. In particular, you should define what exactly is a "subposet". Ideally, you should define both version and make them both available.

Nathann



---

archive/issue_comments_287132.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2014-08-29T08:22:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287132",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_287133.json:
```json
{
    "body": "<a id='comment:5'></a>\nMy first comment is totally wrong, I am sorry. I thought you were defining the function twice, once in posets.py and another time in the categories files. What you are doing is fine. Though Hasse diagrams are graph objects, and so they already have the `subgraph_search` functions.\n\nNathann",
    "created_at": "2014-08-29T08:26:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287133",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>
My first comment is totally wrong, I am sorry. I thought you were defining the function twice, once in posets.py and another time in the categories files. What you are doing is fine. Though Hasse diagrams are graph objects, and so they already have the `subgraph_search` functions.

Nathann



---

archive/issue_comments_287134.json:
```json
{
    "body": "<a id='comment:6'></a>\nBut if I do `self.transitive_closure()` instead of `DiGraph(self).transitive_closure()` I get\n\n```\nNotImplementedError: An immutable graph does not change name\n```\n\nOn point 2 you are right.",
    "created_at": "2014-08-29T08:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287134",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>
But if I do `self.transitive_closure()` instead of `DiGraph(self).transitive_closure()` I get

```
NotImplementedError: An immutable graph does not change name
```

On point 2 you are right.



---

archive/issue_comments_287135.json:
```json
{
    "body": "<a id='comment:7'></a>\nYoooooooooooooo !\n> But if I do `self.transitive_closure()` instead of `DiGraph(self).transitive_closure()` I get\n> \n> ```\n> NotImplementedError: An immutable graph does not change name\n> ```\n\n\nThat's a bug. There is no reason why computing the transitive closure of a graph requires that graph to be mutable (indeed, the graph itself is not modified: its closure is returned as a completely new graph).\n\nYou can fix it by going into `src/graph/generic_graph.py`, and in function `transitive_closure` replace `copy(self)` with `self.copy(immutable=False)`.\n\nNathann",
    "created_at": "2014-08-29T08:37:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287135",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>
Yoooooooooooooo !
> But if I do `self.transitive_closure()` instead of `DiGraph(self).transitive_closure()` I get
> 
> ```
> NotImplementedError: An immutable graph does not change name
> ```


That's a bug. There is no reason why computing the transitive closure of a graph requires that graph to be mutable (indeed, the graph itself is not modified: its closure is returned as a completely new graph).

You can fix it by going into `src/graph/generic_graph.py`, and in function `transitive_closure` replace `copy(self)` with `self.copy(immutable=False)`.

Nathann



---

archive/issue_comments_287136.json:
```json
{
    "body": "<a id='comment:8'></a>\n1) Should I open a new ticket about `transitive_closure`? And if so, mark it as a dependency to this one? I have no idea about what to check on DiGraph class; hence, if I made a fix and you review it, it will actually be work of only one person. If I have understood correctly, idea is to have always two people looking at code.\n\n2) About dokumentation: I already made an example on N5 containing 4-element diamond lattice. Would this be enought for documentation: \"Return True if the poset contains a subposet isomorphic to other. By subposet we mean a poset containing elements with partial order induced by that of self.\"?",
    "created_at": "2014-08-29T10:57:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287136",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:8'></a>
1) Should I open a new ticket about `transitive_closure`? And if so, mark it as a dependency to this one? I have no idea about what to check on DiGraph class; hence, if I made a fix and you review it, it will actually be work of only one person. If I have understood correctly, idea is to have always two people looking at code.

2) About dokumentation: I already made an example on N5 containing 4-element diamond lattice. Would this be enought for documentation: "Return True if the poset contains a subposet isomorphic to other. By subposet we mean a poset containing elements with partial order induced by that of self."?



---

archive/issue_comments_287137.json:
```json
{
    "body": "<a id='comment:9'></a>\nHello !!\n\n> 1) Should I open a new ticket about `transitive_closure`? And if so, mark it as a dependency to this one? I have no idea about what to check on `DiGraph` class; hence, if I made a fix and you review it, it will actually be work of only one person. If I have understood correctly, idea is to have always two people looking at code.\n\n\nI would fix it in the same ticket given that it's a very small change, but then that's up to you if you do not feel safe fixing this yourself. It is a fairly simple change, needed because we only recently added a support for immutable graphs (graphs that cannot be modified) and so a lot of code written before is not made to handle it. It is exactly the case here, where you have to say explicitly that the copy should NOT be immutable, even if the graph itself was immutable.\n\nIf you prefer to leave others double-check it, then indeed you should open another ticket which would be a dependency of this one (only if you need that bug to be fixed in order to implement what you write here).\n\n> 2) About dokumentation: I already made an example on N5 containing 4-element diamond lattice. Would this be enought for documentation: \"Return True if the poset contains a subposet isomorphic to other. By subposet we mean a poset containing elements with partial order induced by that of self.\"?\n\n\n\"Induced\" here seems a little too vague to me. But you could complete it with the code you used before:\n\n\"By subposet we mean tha set <code>\\`\\`X\\`\\`</code> of vertices such that `P1.subposet(X).is_isomorphic(P2)`.\n\nI really think that it would be best to implement both features at once (possibly with an optional 'induced' boolean parameter in the function you add). And it would also be nice to give the user a way to obtain the copy of P2 in P1, as they will probably want this as a certificate.\n\nWhatever you do, the beginning of the doc of each function should be a one-line description of what it does. Then you can describe better the behaviour of the function.\n\nNathann",
    "created_at": "2014-08-29T11:30:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287137",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>
Hello !!

> 1) Should I open a new ticket about `transitive_closure`? And if so, mark it as a dependency to this one? I have no idea about what to check on `DiGraph` class; hence, if I made a fix and you review it, it will actually be work of only one person. If I have understood correctly, idea is to have always two people looking at code.


I would fix it in the same ticket given that it's a very small change, but then that's up to you if you do not feel safe fixing this yourself. It is a fairly simple change, needed because we only recently added a support for immutable graphs (graphs that cannot be modified) and so a lot of code written before is not made to handle it. It is exactly the case here, where you have to say explicitly that the copy should NOT be immutable, even if the graph itself was immutable.

If you prefer to leave others double-check it, then indeed you should open another ticket which would be a dependency of this one (only if you need that bug to be fixed in order to implement what you write here).

> 2) About dokumentation: I already made an example on N5 containing 4-element diamond lattice. Would this be enought for documentation: "Return True if the poset contains a subposet isomorphic to other. By subposet we mean a poset containing elements with partial order induced by that of self."?


"Induced" here seems a little too vague to me. But you could complete it with the code you used before:

"By subposet we mean tha set <code>\`\`X\`\`</code> of vertices such that `P1.subposet(X).is_isomorphic(P2)`.

I really think that it would be best to implement both features at once (possibly with an optional 'induced' boolean parameter in the function you add). And it would also be nice to give the user a way to obtain the copy of P2 in P1, as they will probably want this as a certificate.

Whatever you do, the beginning of the doc of each function should be a one-line description of what it does. Then you can describe better the behaviour of the function.

Nathann



---

archive/issue_comments_287138.json:
```json
{
    "body": "**Dependencies:** 16909",
    "created_at": "2014-08-30T07:01:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287138",
    "user": "https://github.com/jm58660"
}
```

**Dependencies:** 16909



---

archive/issue_comments_287139.json:
```json
{
    "body": "<a id='comment:11'></a>\n1) As this is not urgent change, I made another ticket (16909). Of course I could also do this without another one, adding note like \"After transitive_closure() is fixed, change...\"\n\n2) Yes, that is actually better phrasing.\n\nCan 'induced' be later added with default value to `True`?\n\nOne more question: What is the meaning of having same documentation and examples copied to both posets.py and hasse_diagram.py? For example has_bottom() and actually most of functions?",
    "created_at": "2014-08-30T07:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287139",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:11'></a>
1) As this is not urgent change, I made another ticket (16909). Of course I could also do this without another one, adding note like "After transitive_closure() is fixed, change..."

2) Yes, that is actually better phrasing.

Can 'induced' be later added with default value to `True`?

One more question: What is the meaning of having same documentation and examples copied to both posets.py and hasse_diagram.py? For example has_bottom() and actually most of functions?



---

archive/issue_comments_287140.json:
```json
{
    "body": "<a id='comment:12'></a>\nHello !\n\n> 1) As this is not urgent change, I made another ticket (16909). Of course I could also do this without another one, adding note like \"After transitive_closure() is fixed, change...\"\n\n\nI just wrote a commit and added Travis and Simon in cc. The patch is very short, so it may not take very long before it is reviewed !\n\n> Can 'induced' be later added with default value to `True`?\n\n\nI believe that `False` (i.e. the transitive closure version) should be the default behaviour, I think that it is the most common definition of 'subposet'.\n\n> One more question: What is the meaning of having same documentation and examples copied to both posets.py and hasse_diagram.py? For example has_bottom() and actually most of functions?\n\n\nWhy exacty do you want to add a method to HasseDiagram, given that they are digraphs and that they already inherit the `subgraph_search` method which does exactly the same (and even a bit more as it returns the graph) ?\n\nNathann",
    "created_at": "2014-08-30T07:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287140",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>
Hello !

> 1) As this is not urgent change, I made another ticket (16909). Of course I could also do this without another one, adding note like "After transitive_closure() is fixed, change..."


I just wrote a commit and added Travis and Simon in cc. The patch is very short, so it may not take very long before it is reviewed !

> Can 'induced' be later added with default value to `True`?


I believe that `False` (i.e. the transitive closure version) should be the default behaviour, I think that it is the most common definition of 'subposet'.

> One more question: What is the meaning of having same documentation and examples copied to both posets.py and hasse_diagram.py? For example has_bottom() and actually most of functions?


Why exacty do you want to add a method to HasseDiagram, given that they are digraphs and that they already inherit the `subgraph_search` method which does exactly the same (and even a bit more as it returns the graph) ?

Nathann



---

archive/issue_comments_287141.json:
```json
{
    "body": "<a id='comment:13'></a>\nAs for default behaviour, I asked few mathematicians what they guess the function would do if they only know it's name.\n\nIn any case, it must be documented. Now when I think more: \"having subgraph\" is quite different from \"having subposet\", and \"having sublattice\" is stille one more thing.\n\nAbout posets.py vs. hasse_diagram.py: Actually I don't know. Saying\n\n```\nfgrep 'return self._hasse_diagram.' combinat/posets/posets.py\n```\n\nshows that there are 14 functions that are just wrappers to underlying hasse_diagram -function. Should this be discussed on sage-devel -list?",
    "created_at": "2014-08-31T09:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287141",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:13'></a>
As for default behaviour, I asked few mathematicians what they guess the function would do if they only know it's name.

In any case, it must be documented. Now when I think more: "having subgraph" is quite different from "having subposet", and "having sublattice" is stille one more thing.

About posets.py vs. hasse_diagram.py: Actually I don't know. Saying

```
fgrep 'return self._hasse_diagram.' combinat/posets/posets.py
```

shows that there are 14 functions that are just wrappers to underlying hasse_diagram -function. Should this be discussed on sage-devel -list?



---

archive/issue_comments_287142.json:
```json
{
    "body": "<a id='comment:14'></a>\nHello !\n\n> As for default behaviour, I asked few mathematicians what they guess the function would do if they only know it's name.\n\n\nThe current default behaviour is good, but it is what I would call \"not induced\". The \"induced\" version would be the one in which you do not have the call to `transitive_closure`: that's why I said that the default value of \"induced\" in `.has_isomorphic_subposet` should be false. But perhaps nobody cares about this second version.\n\n> About posets.py vs. hasse_diagram.py: Actually I don't know. Saying\n> \n> ```\n> fgrep 'return self._hasse_diagram.' combinat/posets/posets.py\n> ```\n> \n> shows that there are 14 functions that are just wrappers to underlying hasse_diagram -function. Should this be discussed on sage-devel -list?\n\n\nYepyep, you can ask !\n\nNathann",
    "created_at": "2014-09-01T09:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287142",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'></a>
Hello !

> As for default behaviour, I asked few mathematicians what they guess the function would do if they only know it's name.


The current default behaviour is good, but it is what I would call "not induced". The "induced" version would be the one in which you do not have the call to `transitive_closure`: that's why I said that the default value of "induced" in `.has_isomorphic_subposet` should be false. But perhaps nobody cares about this second version.

> About posets.py vs. hasse_diagram.py: Actually I don't know. Saying
> 
> ```
> fgrep 'return self._hasse_diagram.' combinat/posets/posets.py
> ```
> 
> shows that there are 14 functions that are just wrappers to underlying hasse_diagram -function. Should this be discussed on sage-devel -list?


Yepyep, you can ask !

Nathann



---

archive/issue_comments_287143.json:
```json
{
    "body": "<a id='comment:15'></a>\nOK, so we have same view on default behaviour. Good. And so it is possible to make this function first and expand it later.\n\nBut I'll also check if I can make a function to get subposets. This seems to work:\n\n```\ndef isomorphic_subposets(A, B):\n    return [A.subposet(x) for x in A.hasse_diagram().transitive_closure().subgraph_search_iterator(B.hasse_diagram().transitive_closure(), induced=True)]\n```",
    "created_at": "2014-09-01T14:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287143",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:15'></a>
OK, so we have same view on default behaviour. Good. And so it is possible to make this function first and expand it later.

But I'll also check if I can make a function to get subposets. This seems to work:

```
def isomorphic_subposets(A, B):
    return [A.subposet(x) for x in A.hasse_diagram().transitive_closure().subgraph_search_iterator(B.hasse_diagram().transitive_closure(), induced=True)]
```



---

archive/issue_comments_287144.json:
```json
{
    "body": "<a id='comment:16'></a>\n> This seems to work:\n> \n> ```\n> def isomorphic_subposets(A, B):\n>     return [A.subposet(x) for x in A.hasse_diagram().transitive_closure().subgraph_search_iterator(B.hasse_diagram().transitive_closure(), induced=True)]\n> ```\n\n\nIt does work \"on the paper\", but by doing this you first build the whole list of copies, then return it. And it could take a long time, in particular if the user is only looking for some specific copy. By replacing the [] with (), you turn it into a Python interator, and the list is not totally built first but only when the users wants to read more and more values.\n\nExample:\n\n```\nsage: e=[x for x in NN if is_prime(x)] # will never stop\n```\n\nBut\n\n```\nsage: e=(x for x in NN if is_prime(x))\nsage: for p in e:\n....:     print p\n....:     if p>10:\n....:         break\n....:     \n2\n3\n5\n7\n11\n```\n\nNathann",
    "created_at": "2014-09-01T14:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287144",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:16'></a>
> This seems to work:
> 
> ```
> def isomorphic_subposets(A, B):
>     return [A.subposet(x) for x in A.hasse_diagram().transitive_closure().subgraph_search_iterator(B.hasse_diagram().transitive_closure(), induced=True)]
> ```


It does work "on the paper", but by doing this you first build the whole list of copies, then return it. And it could take a long time, in particular if the user is only looking for some specific copy. By replacing the [] with (), you turn it into a Python interator, and the list is not totally built first but only when the users wants to read more and more values.

Example:

```
sage: e=[x for x in NN if is_prime(x)] # will never stop
```

But

```
sage: e=(x for x in NN if is_prime(x))
sage: for p in e:
....:     print p
....:     if p>10:
....:         break
....:     
2
3
5
7
11
```

Nathann



---

archive/issue_comments_287145.json:
```json
{
    "body": "<a id='comment:17'></a>\nAh, it is that easy to convert this to iterator. Points to python!\n\nNow there is `antichains_iterator()` and  `antichains()` on posets, and also for example `lower_covers_iterator()` but not `closed_interval_iterator()`. Of course there might be technical reason for that.\n\nBut anyways, I can make `isomorphic_subposets_iterator(other)` and `isomorphic_subposets(other)`.\n\nE: I think I'll do it in posets.py-hasse_diagram.py -style, because I'm not sure about rationale behind it. If unsure, do as others...",
    "created_at": "2014-09-02T10:50:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287145",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:17'></a>
Ah, it is that easy to convert this to iterator. Points to python!

Now there is `antichains_iterator()` and  `antichains()` on posets, and also for example `lower_covers_iterator()` but not `closed_interval_iterator()`. Of course there might be technical reason for that.

But anyways, I can make `isomorphic_subposets_iterator(other)` and `isomorphic_subposets(other)`.

E: I think I'll do it in posets.py-hasse_diagram.py -style, because I'm not sure about rationale behind it. If unsure, do as others...



---

archive/issue_comments_287146.json:
```json
{
    "body": "<a id='comment:18'></a>\nYo !\n\n> Ah, it is that easy to convert this to iterator. Points to python!\n> \n> Now there is `antichains_iterator()` and  `antichains()` on posets, and also for example `lower_covers_iterator()` but not `closed_interval_iterator()`. Of course there might be technical reason for that.\n\n\nPersonally I'd vote for turning them all into iterators and having only one function of each kind.\n\n> E: I think I'll do it in posets.py-hasse_diagram.py -style, because I'm not sure about rationale behind it. If unsure, do as others...\n\n\nCome oooooooon. If nobody knows why it is done like that, just do as you think best ! Don't follow others who followed others themselves.\n\nNathann",
    "created_at": "2014-09-02T11:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287146",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:18'></a>
Yo !

> Ah, it is that easy to convert this to iterator. Points to python!
> 
> Now there is `antichains_iterator()` and  `antichains()` on posets, and also for example `lower_covers_iterator()` but not `closed_interval_iterator()`. Of course there might be technical reason for that.


Personally I'd vote for turning them all into iterators and having only one function of each kind.

> E: I think I'll do it in posets.py-hasse_diagram.py -style, because I'm not sure about rationale behind it. If unsure, do as others...


Come oooooooon. If nobody knows why it is done like that, just do as you think best ! Don't follow others who followed others themselves.

Nathann



---

archive/issue_comments_287147.json:
```json
{
    "body": "<a id='comment:19'></a>\nActually the function `isomorphic_subposets` I proposed gives double answers. Try with\n\n```\nN5 = Posets.PentagonPoset()\nD = Poset({1:[2,3], 2:[4], 3:[4]})\nfor x in isomorphic_subposets(N5, D): print x.cover_relations()\n```\n\nSearching for a reason to this...\n\nWhat comes to iterators: They are of course needed when handling large data. But for quite simple tests it is easier to work with plain list, sets etc.",
    "created_at": "2014-09-03T13:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287147",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:19'></a>
Actually the function `isomorphic_subposets` I proposed gives double answers. Try with

```
N5 = Posets.PentagonPoset()
D = Poset({1:[2,3], 2:[4], 3:[4]})
for x in isomorphic_subposets(N5, D): print x.cover_relations()
```

Searching for a reason to this...

What comes to iterators: They are of course needed when handling large data. But for quite simple tests it is easier to work with plain list, sets etc.



---

archive/issue_comments_287148.json:
```json
{
    "body": "<a id='comment:20'></a>\nHello !\n\n> ```\n> N5 = Posets.PentagonPoset()\n> D = Poset({1:[2,3], 2:[4], 3:[4]})\n> for x in isomorphic_subposets(N5, D): print x.cover_relations()\n> ```\n> \n> Searching for a reason to this...\n\n\nCould it be because there are multiple ways to send D into N5 ?\n\n> What comes to iterators: They are of course needed when handling large data. But for quite simple tests it is easier to work with plain list, sets etc.\n\n\nTrue. But you can build a set from an iterator if you like, while if the function returns a lot of objects you are forced to store them all whatever you use case is.\n\nNathann",
    "created_at": "2014-09-03T13:27:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287148",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'></a>
Hello !

> ```
> N5 = Posets.PentagonPoset()
> D = Poset({1:[2,3], 2:[4], 3:[4]})
> for x in isomorphic_subposets(N5, D): print x.cover_relations()
> ```
> 
> Searching for a reason to this...


Could it be because there are multiple ways to send D into N5 ?

> What comes to iterators: They are of course needed when handling large data. But for quite simple tests it is easier to work with plain list, sets etc.


True. But you can build a set from an iterator if you like, while if the function returns a lot of objects you are forced to store them all whatever you use case is.

Nathann



---

archive/issue_comments_287149.json:
```json
{
    "body": "<a id='comment:21'></a>\nThere are 2 ways to insert D into N5. Or of course 4, if you think it somewhat unnaturally. In same way you got 2 hits with\n\n```\nX=Poset({0:[], 1:[]})\nisomorphic_subposets(X, X)\n```\n\nBut this doesn't sound right to me.",
    "created_at": "2014-09-03T13:36:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287149",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:21'></a>
There are 2 ways to insert D into N5. Or of course 4, if you think it somewhat unnaturally. In same way you got 2 hits with

```
X=Poset({0:[], 1:[]})
isomorphic_subposets(X, X)
```

But this doesn't sound right to me.



---

archive/issue_comments_287150.json:
```json
{
    "body": "<a id='comment:22'></a>\nThere is of course ways to remove duplikates from a list. However, I guess it is not possible (in reality) with iterators. Hence we must abandon `isomorphic_subposets_iterator` and left only `isomorphic_subposets`.",
    "created_at": "2014-09-03T15:26:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287150",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:22'></a>
There is of course ways to remove duplikates from a list. However, I guess it is not possible (in reality) with iterators. Hence we must abandon `isomorphic_subposets_iterator` and left only `isomorphic_subposets`.



---

archive/issue_comments_287151.json:
```json
{
    "body": "<a id='comment:23'></a>\n> There is of course ways to remove duplikates from a list. However, I guess it is not possible (in reality) with iterators. Hence we must abandon `isomorphic_subposets_iterator` and left only `isomorphic_subposets`.\n\n\nIt is not because you have no use for this information that you should filter them out before giving them to the users, especially when you spent time to compute them. At the very least you could add an option to remove them.\n\nNathann",
    "created_at": "2014-09-03T15:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287151",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:23'></a>
> There is of course ways to remove duplikates from a list. However, I guess it is not possible (in reality) with iterators. Hence we must abandon `isomorphic_subposets_iterator` and left only `isomorphic_subposets`.


It is not because you have no use for this information that you should filter them out before giving them to the users, especially when you spent time to compute them. At the very least you could add an option to remove them.

Nathann



---

archive/issue_comments_287152.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [ncohen](#comment%3A23):\n> > There is of course ways to remove duplikates from a list. However, I guess it is not possible (in reality) with iterators. Hence we must abandon `isomorphic_subposets_iterator` and left only `isomorphic_subposets`.\n\n> \n> It is not because you have no use for this information that you should filter them out before giving them to the users, especially when you spent time to compute them. At the very least you could add an option to remove them.\n\n\nI don't get it. If I leave duplicates, then user will have REAL duplicates, that have no difference at all. Function called `isomorphic_subposets` should return posets.",
    "created_at": "2014-09-05T08:39:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287152",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:24'></a>
Replying to [ncohen](#comment%3A23):
> > There is of course ways to remove duplikates from a list. However, I guess it is not possible (in reality) with iterators. Hence we must abandon `isomorphic_subposets_iterator` and left only `isomorphic_subposets`.

> 
> It is not because you have no use for this information that you should filter them out before giving them to the users, especially when you spent time to compute them. At the very least you could add an option to remove them.


I don't get it. If I leave duplicates, then user will have REAL duplicates, that have no difference at all. Function called `isomorphic_subposets` should return posets.



---

archive/issue_comments_287153.json:
```json
{
    "body": "<a id='comment:25'></a>\nHello !\n\n> I don't get it. If I leave duplicates, then user will have REAL duplicates, that have no difference at all. Function called `isomorphic_subposets` should return posets.\n\n\nI believe that it is criminal in this case to build the whole list before returning anything. To me, if you believe that this is uncompatible with the name of the function, I think that the function's name should be changed, and not the other way around.\n\nIf you try to find a chain of length 20 in a chain of length 40, the code just won't run.\n\nNathann",
    "created_at": "2014-09-05T09:26:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287153",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:25'></a>
Hello !

> I don't get it. If I leave duplicates, then user will have REAL duplicates, that have no difference at all. Function called `isomorphic_subposets` should return posets.


I believe that it is criminal in this case to build the whole list before returning anything. To me, if you believe that this is uncompatible with the name of the function, I think that the function's name should be changed, and not the other way around.

If you try to find a chain of length 20 in a chain of length 40, the code just won't run.

Nathann



---

archive/issue_comments_287154.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/160d8a5cdd251d13619e1291542cdd35a3f57ba2\">160d8a5</a></td><td><code>Added two simple wrapper functions.</code></td></tr></table>\n",
    "created_at": "2014-09-05T09:27:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287154",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/160d8a5cdd251d13619e1291542cdd35a3f57ba2">160d8a5</a></td><td><code>Added two simple wrapper functions.</code></td></tr></table>




---

archive/issue_comments_287155.json:
```json
{
    "body": "**Changing commit** from \"[f13f2385d2b79adad5dae8282162d776bb8114bd](https://github.com/sagemath/sagetrac-mirror/commit/f13f2385d2b79adad5dae8282162d776bb8114bd)\" to \"[160d8a5cdd251d13619e1291542cdd35a3f57ba2](https://github.com/sagemath/sagetrac-mirror/commit/160d8a5cdd251d13619e1291542cdd35a3f57ba2)\".",
    "created_at": "2014-09-05T09:27:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287155",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f13f2385d2b79adad5dae8282162d776bb8114bd](https://github.com/sagemath/sagetrac-mirror/commit/f13f2385d2b79adad5dae8282162d776bb8114bd)" to "[160d8a5cdd251d13619e1291542cdd35a3f57ba2](https://github.com/sagemath/sagetrac-mirror/commit/160d8a5cdd251d13619e1291542cdd35a3f57ba2)".



---

archive/issue_comments_287156.json:
```json
{
    "body": "<a id='comment:27'></a>\nI committed a version where `hasse_diagram.py` is not modified at all.\n\nIs every possible object that can be an element of a poset comparable? If so, maybe is there some way to remove duplicates by order: Remove subset 0,2,1 and let 0,1,2 be? But this must be think more.\n\nIf it is not possible, should there be function giving also duplicates, with warning section saying something about that?",
    "created_at": "2014-09-05T13:33:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287156",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:27'></a>
I committed a version where `hasse_diagram.py` is not modified at all.

Is every possible object that can be an element of a poset comparable? If so, maybe is there some way to remove duplicates by order: Remove subset 0,2,1 and let 0,1,2 be? But this must be think more.

If it is not possible, should there be function giving also duplicates, with warning section saying something about that?



---

archive/issue_comments_287157.json:
```json
{
    "body": "<a id='comment:28'></a>\nHello !\n\n> Is every possible object that can be an element of a poset comparable? If so, maybe is there some way to remove duplicates by order: Remove subset 0,2,1 and let 0,1,2 be? But this must be think more.\n\n\nNo, you cannot assume that. The points of a poset may be sets themselves, and their order with respect to `<=` is not a total order.\n\n> If it is not possible, should there be function giving also duplicates, with warning section saying something about that?\n\n\nThis is the way it is done in `Graph.subgraph_search_iterator`.\n\nNathann",
    "created_at": "2014-09-05T14:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287157",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'></a>
Hello !

> Is every possible object that can be an element of a poset comparable? If so, maybe is there some way to remove duplicates by order: Remove subset 0,2,1 and let 0,1,2 be? But this must be think more.


No, you cannot assume that. The points of a poset may be sets themselves, and their order with respect to `<=` is not a total order.

> If it is not possible, should there be function giving also duplicates, with warning section saying something about that?


This is the way it is done in `Graph.subgraph_search_iterator`.

Nathann



---

archive/issue_comments_287158.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4c0285a8090837f9fe3e416c77f96628a3ede58\">d4c0285</a></td><td><code>Version with both isomorphic_subposets() and isomorphic_subposets_iterator().</code></td></tr></table>\n",
    "created_at": "2014-09-10T13:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287158",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4c0285a8090837f9fe3e416c77f96628a3ede58">d4c0285</a></td><td><code>Version with both isomorphic_subposets() and isomorphic_subposets_iterator().</code></td></tr></table>




---

archive/issue_comments_287159.json:
```json
{
    "body": "**Changing commit** from \"[160d8a5cdd251d13619e1291542cdd35a3f57ba2](https://github.com/sagemath/sagetrac-mirror/commit/160d8a5cdd251d13619e1291542cdd35a3f57ba2)\" to \"[d4c0285a8090837f9fe3e416c77f96628a3ede58](https://github.com/sagemath/sagetrac-mirror/commit/d4c0285a8090837f9fe3e416c77f96628a3ede58)\".",
    "created_at": "2014-09-10T13:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287159",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[160d8a5cdd251d13619e1291542cdd35a3f57ba2](https://github.com/sagemath/sagetrac-mirror/commit/160d8a5cdd251d13619e1291542cdd35a3f57ba2)" to "[d4c0285a8090837f9fe3e416c77f96628a3ede58](https://github.com/sagemath/sagetrac-mirror/commit/d4c0285a8090837f9fe3e416c77f96628a3ede58)".



---

archive/issue_comments_287160.json:
```json
{
    "body": "**Changing dependencies** from \"16909\" to \"#16909\".",
    "created_at": "2014-09-11T05:20:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287160",
    "user": "https://github.com/jm58660"
}
```

**Changing dependencies** from "16909" to "#16909".



---

archive/issue_comments_287161.json:
```json
{
    "body": "<a id='comment:31'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87b585264681072a670c5b3e1da6cf5d5c9782ad\">87b5852</a></td><td><code>Better documentation.</code></td></tr></table>\n",
    "created_at": "2014-09-12T07:48:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287161",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87b585264681072a670c5b3e1da6cf5d5c9782ad">87b5852</a></td><td><code>Better documentation.</code></td></tr></table>




---

archive/issue_comments_287162.json:
```json
{
    "body": "**Changing commit** from \"[d4c0285a8090837f9fe3e416c77f96628a3ede58](https://github.com/sagemath/sagetrac-mirror/commit/d4c0285a8090837f9fe3e416c77f96628a3ede58)\" to \"[87b585264681072a670c5b3e1da6cf5d5c9782ad](https://github.com/sagemath/sagetrac-mirror/commit/87b585264681072a670c5b3e1da6cf5d5c9782ad)\".",
    "created_at": "2014-09-12T07:48:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287162",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d4c0285a8090837f9fe3e416c77f96628a3ede58](https://github.com/sagemath/sagetrac-mirror/commit/d4c0285a8090837f9fe3e416c77f96628a3ede58)" to "[87b585264681072a670c5b3e1da6cf5d5c9782ad](https://github.com/sagemath/sagetrac-mirror/commit/87b585264681072a670c5b3e1da6cf5d5c9782ad)".



---

archive/issue_comments_287163.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2014-09-12T09:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287163",
    "user": "https://github.com/jm58660"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_events_056122.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-12T09:53:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16892#event-56122"
}
```



---

archive/issue_comments_287164.json:
```json
{
    "body": "<a id='comment:34'></a>\nHello !\n\nA few other remarks:\n\n- Could you only import `uniq` where you need it and not in the module's head ?\n\n- The first line of doc in `isomorphic_subposets_iterator` is still right after the `\"\"\"`\n\n- The one-line descriptions that you added to the index at the top of the file are not correct (as far as I can tell, english is not my language):\n\n\"Return an iterator over the subposets isomorphic to other poset\" -> to another poset ? Or 'to a given poset' ?\n\n- Could you add an 'INPUT' section to your functions ?\n\nThanks,\n\nNathann",
    "created_at": "2014-09-14T11:30:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287164",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:34'></a>
Hello !

A few other remarks:

- Could you only import `uniq` where you need it and not in the module's head ?

- The first line of doc in `isomorphic_subposets_iterator` is still right after the `"""`

- The one-line descriptions that you added to the index at the top of the file are not correct (as far as I can tell, english is not my language):

"Return an iterator over the subposets isomorphic to other poset" -> to another poset ? Or 'to a given poset' ?

- Could you add an 'INPUT' section to your functions ?

Thanks,

Nathann



---

archive/issue_comments_287165.json:
```json
{
    "body": "**Changing commit** from \"[87b585264681072a670c5b3e1da6cf5d5c9782ad](https://github.com/sagemath/sagetrac-mirror/commit/87b585264681072a670c5b3e1da6cf5d5c9782ad)\" to \"[f1d01742d3b0900e221b60d5e5392b386924621e](https://github.com/sagemath/sagetrac-mirror/commit/f1d01742d3b0900e221b60d5e5392b386924621e)\".",
    "created_at": "2014-09-15T06:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287165",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[87b585264681072a670c5b3e1da6cf5d5c9782ad](https://github.com/sagemath/sagetrac-mirror/commit/87b585264681072a670c5b3e1da6cf5d5c9782ad)" to "[f1d01742d3b0900e221b60d5e5392b386924621e](https://github.com/sagemath/sagetrac-mirror/commit/f1d01742d3b0900e221b60d5e5392b386924621e)".



---

archive/issue_comments_287166.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1d01742d3b0900e221b60d5e5392b386924621e\">f1d0174</a></td><td><code>Moved import statement to function; corrections to docs.</code></td></tr></table>\n",
    "created_at": "2014-09-15T06:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287166",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1d01742d3b0900e221b60d5e5392b386924621e">f1d0174</a></td><td><code>Moved import statement to function; corrections to docs.</code></td></tr></table>




---

archive/issue_comments_287167.json:
```json
{
    "body": "<a id='comment:36'></a>\nHello !\n\nThis branch is good to go I guess, but it does not pass tests by itself. Could you merge this branch with the branch at #16909 ?\n\nNathann",
    "created_at": "2014-09-16T10:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287167",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:36'></a>
Hello !

This branch is good to go I guess, but it does not pass tests by itself. Could you merge this branch with the branch at #16909 ?

Nathann



---

archive/issue_comments_287168.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2014-09-16T10:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287168",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_287169.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad47132453d5bca8ea076357be87db9313f0ae64\">ad47132</a></td><td><code>trac #16909: transitive_closure() and mutable graphs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9\">346ef0e</a></td><td><code>Merge branch 't/16909/public/16909' into t/16892/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset</code></td></tr></table>\n",
    "created_at": "2014-09-16T17:27:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287169",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad47132453d5bca8ea076357be87db9313f0ae64">ad47132</a></td><td><code>trac #16909: transitive_closure() and mutable graphs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9">346ef0e</a></td><td><code>Merge branch 't/16909/public/16909' into t/16892/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset</code></td></tr></table>




---

archive/issue_comments_287170.json:
```json
{
    "body": "**Changing commit** from \"[f1d01742d3b0900e221b60d5e5392b386924621e](https://github.com/sagemath/sagetrac-mirror/commit/f1d01742d3b0900e221b60d5e5392b386924621e)\" to \"[346ef0e676727cd287f58b978ac1a9e4d82a09e9](https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9)\".",
    "created_at": "2014-09-16T17:27:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287170",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f1d01742d3b0900e221b60d5e5392b386924621e](https://github.com/sagemath/sagetrac-mirror/commit/f1d01742d3b0900e221b60d5e5392b386924621e)" to "[346ef0e676727cd287f58b978ac1a9e4d82a09e9](https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9)".



---

archive/issue_comments_287171.json:
```json
{
    "body": "<a id='comment:39'></a>\nNow there is commit that has both patches merged. Should I or ncohen now close #16909 as merged?",
    "created_at": "2014-09-16T17:52:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287171",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:39'></a>
Now there is commit that has both patches merged. Should I or ncohen now close #16909 as merged?



---

archive/issue_comments_287172.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2014-09-17T09:25:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287172",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_287173.json:
```json
{
    "body": "<a id='comment:40'></a>\n> Now there is commit that has both patches merged. Should I or ncohen now close #16909 as merged?\n\n\nNononono: only the release manager should close the tickets, when he merges the commits into the next release. What you did was the right thing, nothing more is needed.\n\nNathann",
    "created_at": "2014-09-17T09:25:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287173",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:40'></a>
> Now there is commit that has both patches merged. Should I or ncohen now close #16909 as merged?


Nononono: only the release manager should close the tickets, when he merges the commits into the next release. What you did was the right thing, nothing more is needed.

Nathann



---

archive/issue_comments_287174.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2014-09-17T10:18:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287174",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_287175.json:
```json
{
    "body": "**Reviewer:** Nathann Cohen",
    "created_at": "2014-09-17T10:18:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287175",
    "user": "https://github.com/nathanncohen"
}
```

**Reviewer:** Nathann Cohen



---

archive/issue_comments_287176.json:
```json
{
    "body": "<a id='comment:42'></a>\n(name again)",
    "created_at": "2014-09-17T10:19:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287176",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:42'></a>
(name again)



---

archive/issue_comments_287177.json:
```json
{
    "body": "**Author:** Jori M\u00e4ntysalo",
    "created_at": "2014-09-17T10:22:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287177",
    "user": "https://github.com/jm58660"
}
```

**Author:** Jori MÃ¤ntysalo



---

archive/issue_events_056123.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-19T15:08:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16892#event-56123"
}
```



---

archive/issue_comments_287178.json:
```json
{
    "body": "**Changing branch** from \"[u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset)\" to \"[346ef0e676727cd287f58b978ac1a9e4d82a09e9](https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9)\".",
    "created_at": "2014-09-19T15:08:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287178",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset)" to "[346ef0e676727cd287f58b978ac1a9e4d82a09e9](https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9)".



---

archive/issue_comments_287179.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2014-09-19T15:08:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16892#issuecomment-287179",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed
