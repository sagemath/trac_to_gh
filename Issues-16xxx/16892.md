# Issue 16892: Function to check if a poset containt a subposet isomorphic to another poset

archive/issues_016655.json:
```json
{
    "assignees": [],
    "body": "It is, in principle, easy to check if poset A contains a subposet isomorphic to poset B:\n\n```\ndef has_isomorphic_subposet(A, B):\n    for x in Subsets(A.list()):\n        if A.subposet(x).is_isomorphic(B):\n            return True\n    return False\n```\n\nIn reality this is way too slow. Can this be made usefully fast at least in posets of size 5..10?\n\n\nDepends on #16909\n\nCC:  @nathanncohen\n\nBranch/Commit: **[`346ef0e`](https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9)**\n\nReviewer: **Nathann Cohen**\n\nAuthor: **Jori M\u00e4ntysalo**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16892_\n\n",
    "closed_at": "2014-09-19T15:08:59Z",
    "created_at": "2014-08-28T07:15:44Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Function to check if a poset containt a subposet isomorphic to another poset",
    "type": "issue",
    "updated_at": "2014-09-19T15:08:59Z",
    "url": "https://github.com/sagemath/sage/issues/16892",
    "user": "https://github.com/jm58660"
}
```
It is, in principle, easy to check if poset A contains a subposet isomorphic to poset B:

```
def has_isomorphic_subposet(A, B):
    for x in Subsets(A.list()):
        if A.subposet(x).is_isomorphic(B):
            return True
    return False
```

In reality this is way too slow. Can this be made usefully fast at least in posets of size 5..10?


Depends on #16909

CC:  @nathanncohen

Branch/Commit: **[`346ef0e`](https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9)**

Reviewer: **Nathann Cohen**

Author: **Jori MÃ¤ntysalo**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/16892_





---

archive/issue_events_241486.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-08-28T07:15:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241486"
}
```



---

archive/issue_events_241487.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-08-28T07:15:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241487"
}
```



---

archive/issue_events_241488.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-08-28T07:15:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241488"
}
```



---

archive/issue_events_241489.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-08-28T07:15:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241489"
}
```



---

archive/issue_comments_222537.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nSeems that this function is easy:\n\n```\ndef has_isomorphic_subposet(A, B):\n    if A.hasse_diagram().transitive_closure().subgraph_search(B.hasse_diagram().transitive_closure(),induced=True) is None:\n        return False\n    return True\n```\n\n(Thanks to Nathann Cohen for this.) Needs to test this, and then just add few lines of code + documentation to Sage.",
    "created_at": "2014-08-28T15:58:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222537",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:1" align="right">comment:1</div>

Seems that this function is easy:

```
def has_isomorphic_subposet(A, B):
    if A.hasse_diagram().transitive_closure().subgraph_search(B.hasse_diagram().transitive_closure(),induced=True) is None:
        return False
    return True
```

(Thanks to Nathann Cohen for this.) Needs to test this, and then just add few lines of code + documentation to Sage.



---

archive/issue_comments_222538.json:
```json
{
    "body": "Branch: **[u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset)**",
    "created_at": "2014-08-29T08:19:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222538",
    "user": "https://github.com/jm58660"
}
```

Branch: **[u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset)**



---

archive/issue_events_241490.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-08-29T08:20:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241490"
}
```



---

archive/issue_comments_222539.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f13f2385d2b79adad5dae8282162d776bb8114bd\">f13f238</a></td><td><code>Added a (wrapper) function to posets.</code></td></tr></table>\n",
    "created_at": "2014-08-29T08:20:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222539",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f13f2385d2b79adad5dae8282162d776bb8114bd">f13f238</a></td><td><code>Added a (wrapper) function to posets.</code></td></tr></table>




---

archive/issue_comments_222540.json:
```json
{
    "body": "Commit: **[`f13f238`](https://github.com/sagemath/sagetrac-mirror/commit/f13f2385d2b79adad5dae8282162d776bb8114bd)**",
    "created_at": "2014-08-29T08:20:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222540",
    "user": "https://github.com/jm58660"
}
```

Commit: **[`f13f238`](https://github.com/sagemath/sagetrac-mirror/commit/f13f2385d2b79adad5dae8282162d776bb8114bd)**



---

archive/issue_comments_222541.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\n1) The function should only be defined in ONE place. If something forces you to define it twice, complain on sage-devel as it is not normal\n\n2) All questions you asked yourself about this function should be answered in the doc. In particular, you should define what exactly is a \"subposet\". Ideally, you should define both version and make them both available.\n\nNathann",
    "created_at": "2014-08-29T08:22:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222541",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:4" align="right">comment:4</div>

1) The function should only be defined in ONE place. If something forces you to define it twice, complain on sage-devel as it is not normal

2) All questions you asked yourself about this function should be answered in the doc. In particular, you should define what exactly is a "subposet". Ideally, you should define both version and make them both available.

Nathann



---

archive/issue_events_241491.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-29T08:22:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241491"
}
```



---

archive/issue_events_241492.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-08-29T08:22:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241492"
}
```



---

archive/issue_comments_222542.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nMy first comment is totally wrong, I am sorry. I thought you were defining the function twice, once in posets.py and another time in the categories files. What you are doing is fine. Though Hasse diagrams are graph objects, and so they already have the `subgraph_search` functions.\n\nNathann",
    "created_at": "2014-08-29T08:26:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222542",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">comment:5</div>

My first comment is totally wrong, I am sorry. I thought you were defining the function twice, once in posets.py and another time in the categories files. What you are doing is fine. Though Hasse diagrams are graph objects, and so they already have the `subgraph_search` functions.

Nathann



---

archive/issue_comments_222543.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nBut if I do `self.transitive_closure()` instead of `DiGraph(self).transitive_closure()` I get\n\n```\nNotImplementedError: An immutable graph does not change name\n```\n\nOn point 2 you are right.",
    "created_at": "2014-08-29T08:33:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222543",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:6" align="right">comment:6</div>

But if I do `self.transitive_closure()` instead of `DiGraph(self).transitive_closure()` I get

```
NotImplementedError: An immutable graph does not change name
```

On point 2 you are right.



---

archive/issue_comments_222544.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nYoooooooooooooo !\n> But if I do `self.transitive_closure()` instead of `DiGraph(self).transitive_closure()` I get\n> \n> ```\n> NotImplementedError: An immutable graph does not change name\n> ```\n\nThat's a bug. There is no reason why computing the transitive closure of a graph requires that graph to be mutable (indeed, the graph itself is not modified: its closure is returned as a completely new graph).\n\nYou can fix it by going into `src/graph/generic_graph.py`, and in function `transitive_closure` replace `copy(self)` with `self.copy(immutable=False)`.\n\nNathann",
    "created_at": "2014-08-29T08:37:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222544",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

Yoooooooooooooo !
> But if I do `self.transitive_closure()` instead of `DiGraph(self).transitive_closure()` I get
> 
> ```
> NotImplementedError: An immutable graph does not change name
> ```

That's a bug. There is no reason why computing the transitive closure of a graph requires that graph to be mutable (indeed, the graph itself is not modified: its closure is returned as a completely new graph).

You can fix it by going into `src/graph/generic_graph.py`, and in function `transitive_closure` replace `copy(self)` with `self.copy(immutable=False)`.

Nathann



---

archive/issue_comments_222545.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n1) Should I open a new ticket about `transitive_closure`? And if so, mark it as a dependency to this one? I have no idea about what to check on DiGraph class; hence, if I made a fix and you review it, it will actually be work of only one person. If I have understood correctly, idea is to have always two people looking at code.\n\n2) About dokumentation: I already made an example on N5 containing 4-element diamond lattice. Would this be enought for documentation: \"Return True if the poset contains a subposet isomorphic to other. By subposet we mean a poset containing elements with partial order induced by that of self.\"?",
    "created_at": "2014-08-29T10:57:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222545",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:8" align="right">comment:8</div>

1) Should I open a new ticket about `transitive_closure`? And if so, mark it as a dependency to this one? I have no idea about what to check on DiGraph class; hence, if I made a fix and you review it, it will actually be work of only one person. If I have understood correctly, idea is to have always two people looking at code.

2) About dokumentation: I already made an example on N5 containing 4-element diamond lattice. Would this be enought for documentation: "Return True if the poset contains a subposet isomorphic to other. By subposet we mean a poset containing elements with partial order induced by that of self."?



---

archive/issue_comments_222546.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHello !!\n\n> 1) Should I open a new ticket about `transitive_closure`? And if so, mark it as a dependency to this one? I have no idea about what to check on `DiGraph` class; hence, if I made a fix and you review it, it will actually be work of only one person. If I have understood correctly, idea is to have always two people looking at code.\n\nI would fix it in the same ticket given that it's a very small change, but then that's up to you if you do not feel safe fixing this yourself. It is a fairly simple change, needed because we only recently added a support for immutable graphs (graphs that cannot be modified) and so a lot of code written before is not made to handle it. It is exactly the case here, where you have to say explicitly that the copy should NOT be immutable, even if the graph itself was immutable.\n\nIf you prefer to leave others double-check it, then indeed you should open another ticket which would be a dependency of this one (only if you need that bug to be fixed in order to implement what you write here).\n\n> 2) About dokumentation: I already made an example on N5 containing 4-element diamond lattice. Would this be enought for documentation: \"Return True if the poset contains a subposet isomorphic to other. By subposet we mean a poset containing elements with partial order induced by that of self.\"?\n\n\"Induced\" here seems a little too vague to me. But you could complete it with the code you used before:\n\n\"By subposet we mean tha set <code>\\`\\`X\\`\\`</code> of vertices such that `P1.subposet(X).is_isomorphic(P2)`.\n\nI really think that it would be best to implement both features at once (possibly with an optional 'induced' boolean parameter in the function you add). And it would also be nice to give the user a way to obtain the copy of P2 in P1, as they will probably want this as a certificate.\n\nWhatever you do, the beginning of the doc of each function should be a one-line description of what it does. Then you can describe better the behaviour of the function.\n\nNathann",
    "created_at": "2014-08-29T11:30:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222546",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

Hello !!

> 1) Should I open a new ticket about `transitive_closure`? And if so, mark it as a dependency to this one? I have no idea about what to check on `DiGraph` class; hence, if I made a fix and you review it, it will actually be work of only one person. If I have understood correctly, idea is to have always two people looking at code.

I would fix it in the same ticket given that it's a very small change, but then that's up to you if you do not feel safe fixing this yourself. It is a fairly simple change, needed because we only recently added a support for immutable graphs (graphs that cannot be modified) and so a lot of code written before is not made to handle it. It is exactly the case here, where you have to say explicitly that the copy should NOT be immutable, even if the graph itself was immutable.

If you prefer to leave others double-check it, then indeed you should open another ticket which would be a dependency of this one (only if you need that bug to be fixed in order to implement what you write here).

> 2) About dokumentation: I already made an example on N5 containing 4-element diamond lattice. Would this be enought for documentation: "Return True if the poset contains a subposet isomorphic to other. By subposet we mean a poset containing elements with partial order induced by that of self."?

"Induced" here seems a little too vague to me. But you could complete it with the code you used before:

"By subposet we mean tha set <code>\`\`X\`\`</code> of vertices such that `P1.subposet(X).is_isomorphic(P2)`.

I really think that it would be best to implement both features at once (possibly with an optional 'induced' boolean parameter in the function you add). And it would also be nice to give the user a way to obtain the copy of P2 in P1, as they will probably want this as a certificate.

Whatever you do, the beginning of the doc of each function should be a one-line description of what it does. Then you can describe better the behaviour of the function.

Nathann



---

archive/issue_comments_222547.json:
```json
{
    "body": "Dependencies: **16909**",
    "created_at": "2014-08-30T07:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222547",
    "user": "https://github.com/jm58660"
}
```

Dependencies: **16909**



---

archive/issue_comments_222548.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\n1) As this is not urgent change, I made another ticket (16909). Of course I could also do this without another one, adding note like \"After transitive_closure() is fixed, change...\"\n\n2) Yes, that is actually better phrasing.\n\nCan 'induced' be later added with default value to `True`?\n\nOne more question: What is the meaning of having same documentation and examples copied to both posets.py and hasse_diagram.py? For example has_bottom() and actually most of functions?",
    "created_at": "2014-08-30T07:07:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222548",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:11" align="right">comment:11</div>

1) As this is not urgent change, I made another ticket (16909). Of course I could also do this without another one, adding note like "After transitive_closure() is fixed, change..."

2) Yes, that is actually better phrasing.

Can 'induced' be later added with default value to `True`?

One more question: What is the meaning of having same documentation and examples copied to both posets.py and hasse_diagram.py? For example has_bottom() and actually most of functions?



---

archive/issue_comments_222549.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nHello !\n\n> 1) As this is not urgent change, I made another ticket (16909). Of course I could also do this without another one, adding note like \"After transitive_closure() is fixed, change...\"\n\nI just wrote a commit and added Travis and Simon in cc. The patch is very short, so it may not take very long before it is reviewed !\n\n> Can 'induced' be later added with default value to `True`?\n\nI believe that `False` (i.e. the transitive closure version) should be the default behaviour, I think that it is the most common definition of 'subposet'.\n\n> One more question: What is the meaning of having same documentation and examples copied to both posets.py and hasse_diagram.py? For example has_bottom() and actually most of functions?\n\nWhy exacty do you want to add a method to HasseDiagram, given that they are digraphs and that they already inherit the `subgraph_search` method which does exactly the same (and even a bit more as it returns the graph) ?\n\nNathann",
    "created_at": "2014-08-30T07:37:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222549",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:12" align="right">comment:12</div>

Hello !

> 1) As this is not urgent change, I made another ticket (16909). Of course I could also do this without another one, adding note like "After transitive_closure() is fixed, change..."

I just wrote a commit and added Travis and Simon in cc. The patch is very short, so it may not take very long before it is reviewed !

> Can 'induced' be later added with default value to `True`?

I believe that `False` (i.e. the transitive closure version) should be the default behaviour, I think that it is the most common definition of 'subposet'.

> One more question: What is the meaning of having same documentation and examples copied to both posets.py and hasse_diagram.py? For example has_bottom() and actually most of functions?

Why exacty do you want to add a method to HasseDiagram, given that they are digraphs and that they already inherit the `subgraph_search` method which does exactly the same (and even a bit more as it returns the graph) ?

Nathann



---

archive/issue_comments_222550.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAs for default behaviour, I asked few mathematicians what they guess the function would do if they only know it's name.\n\nIn any case, it must be documented. Now when I think more: \"having subgraph\" is quite different from \"having subposet\", and \"having sublattice\" is stille one more thing.\n\nAbout posets.py vs. hasse_diagram.py: Actually I don't know. Saying\n\n```\nfgrep 'return self._hasse_diagram.' combinat/posets/posets.py\n```\n\nshows that there are 14 functions that are just wrappers to underlying hasse_diagram -function. Should this be discussed on sage-devel -list?",
    "created_at": "2014-08-31T09:20:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222550",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:13" align="right">comment:13</div>

As for default behaviour, I asked few mathematicians what they guess the function would do if they only know it's name.

In any case, it must be documented. Now when I think more: "having subgraph" is quite different from "having subposet", and "having sublattice" is stille one more thing.

About posets.py vs. hasse_diagram.py: Actually I don't know. Saying

```
fgrep 'return self._hasse_diagram.' combinat/posets/posets.py
```

shows that there are 14 functions that are just wrappers to underlying hasse_diagram -function. Should this be discussed on sage-devel -list?



---

archive/issue_comments_222551.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nHello !\n\n> As for default behaviour, I asked few mathematicians what they guess the function would do if they only know it's name.\n\nThe current default behaviour is good, but it is what I would call \"not induced\". The \"induced\" version would be the one in which you do not have the call to `transitive_closure`: that's why I said that the default value of \"induced\" in `.has_isomorphic_subposet` should be false. But perhaps nobody cares about this second version.\n\n> About posets.py vs. hasse_diagram.py: Actually I don't know. Saying\n> \n> ```\n> fgrep 'return self._hasse_diagram.' combinat/posets/posets.py\n> ```\n> \n> shows that there are 14 functions that are just wrappers to underlying hasse_diagram -function. Should this be discussed on sage-devel -list?\n\nYepyep, you can ask !\n\nNathann",
    "created_at": "2014-09-01T09:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222551",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

Hello !

> As for default behaviour, I asked few mathematicians what they guess the function would do if they only know it's name.

The current default behaviour is good, but it is what I would call "not induced". The "induced" version would be the one in which you do not have the call to `transitive_closure`: that's why I said that the default value of "induced" in `.has_isomorphic_subposet` should be false. But perhaps nobody cares about this second version.

> About posets.py vs. hasse_diagram.py: Actually I don't know. Saying
> 
> ```
> fgrep 'return self._hasse_diagram.' combinat/posets/posets.py
> ```
> 
> shows that there are 14 functions that are just wrappers to underlying hasse_diagram -function. Should this be discussed on sage-devel -list?

Yepyep, you can ask !

Nathann



---

archive/issue_comments_222552.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nOK, so we have same view on default behaviour. Good. And so it is possible to make this function first and expand it later.\n\nBut I'll also check if I can make a function to get subposets. This seems to work:\n\n```\ndef isomorphic_subposets(A, B):\n    return [A.subposet(x) for x in A.hasse_diagram().transitive_closure().subgraph_search_iterator(B.hasse_diagram().transitive_closure(), induced=True)]\n```",
    "created_at": "2014-09-01T14:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222552",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:15" align="right">comment:15</div>

OK, so we have same view on default behaviour. Good. And so it is possible to make this function first and expand it later.

But I'll also check if I can make a function to get subposets. This seems to work:

```
def isomorphic_subposets(A, B):
    return [A.subposet(x) for x in A.hasse_diagram().transitive_closure().subgraph_search_iterator(B.hasse_diagram().transitive_closure(), induced=True)]
```



---

archive/issue_comments_222553.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n> This seems to work:\n> \n> ```\n> def isomorphic_subposets(A, B):\n>     return [A.subposet(x) for x in A.hasse_diagram().transitive_closure().subgraph_search_iterator(B.hasse_diagram().transitive_closure(), induced=True)]\n> ```\n\nIt does work \"on the paper\", but by doing this you first build the whole list of copies, then return it. And it could take a long time, in particular if the user is only looking for some specific copy. By replacing the [] with (), you turn it into a Python interator, and the list is not totally built first but only when the users wants to read more and more values.\n\nExample:\n\n```\nsage: e=[x for x in NN if is_prime(x)] # will never stop\n```\n\nBut\n\n```\nsage: e=(x for x in NN if is_prime(x))\nsage: for p in e:\n....:     print p\n....:     if p>10:\n....:         break\n....:     \n2\n3\n5\n7\n11\n```\n\nNathann",
    "created_at": "2014-09-01T14:23:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222553",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

> This seems to work:
> 
> ```
> def isomorphic_subposets(A, B):
>     return [A.subposet(x) for x in A.hasse_diagram().transitive_closure().subgraph_search_iterator(B.hasse_diagram().transitive_closure(), induced=True)]
> ```

It does work "on the paper", but by doing this you first build the whole list of copies, then return it. And it could take a long time, in particular if the user is only looking for some specific copy. By replacing the [] with (), you turn it into a Python interator, and the list is not totally built first but only when the users wants to read more and more values.

Example:

```
sage: e=[x for x in NN if is_prime(x)] # will never stop
```

But

```
sage: e=(x for x in NN if is_prime(x))
sage: for p in e:
....:     print p
....:     if p>10:
....:         break
....:     
2
3
5
7
11
```

Nathann



---

archive/issue_comments_222554.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAh, it is that easy to convert this to iterator. Points to python!\n\nNow there is `antichains_iterator()` and  `antichains()` on posets, and also for example `lower_covers_iterator()` but not `closed_interval_iterator()`. Of course there might be technical reason for that.\n\nBut anyways, I can make `isomorphic_subposets_iterator(other)` and `isomorphic_subposets(other)`.\n\nE: I think I'll do it in posets.py-hasse_diagram.py -style, because I'm not sure about rationale behind it. If unsure, do as others...",
    "created_at": "2014-09-02T10:50:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222554",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:17" align="right">comment:17</div>

Ah, it is that easy to convert this to iterator. Points to python!

Now there is `antichains_iterator()` and  `antichains()` on posets, and also for example `lower_covers_iterator()` but not `closed_interval_iterator()`. Of course there might be technical reason for that.

But anyways, I can make `isomorphic_subposets_iterator(other)` and `isomorphic_subposets(other)`.

E: I think I'll do it in posets.py-hasse_diagram.py -style, because I'm not sure about rationale behind it. If unsure, do as others...



---

archive/issue_comments_222555.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nYo !\n\n> Ah, it is that easy to convert this to iterator. Points to python!\n> \n> Now there is `antichains_iterator()` and  `antichains()` on posets, and also for example `lower_covers_iterator()` but not `closed_interval_iterator()`. Of course there might be technical reason for that.\n\nPersonally I'd vote for turning them all into iterators and having only one function of each kind.\n\n> E: I think I'll do it in posets.py-hasse_diagram.py -style, because I'm not sure about rationale behind it. If unsure, do as others...\n\nCome oooooooon. If nobody knows why it is done like that, just do as you think best ! Don't follow others who followed others themselves.\n\nNathann",
    "created_at": "2014-09-02T11:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222555",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:18" align="right">comment:18</div>

Yo !

> Ah, it is that easy to convert this to iterator. Points to python!
> 
> Now there is `antichains_iterator()` and  `antichains()` on posets, and also for example `lower_covers_iterator()` but not `closed_interval_iterator()`. Of course there might be technical reason for that.

Personally I'd vote for turning them all into iterators and having only one function of each kind.

> E: I think I'll do it in posets.py-hasse_diagram.py -style, because I'm not sure about rationale behind it. If unsure, do as others...

Come oooooooon. If nobody knows why it is done like that, just do as you think best ! Don't follow others who followed others themselves.

Nathann



---

archive/issue_comments_222556.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nActually the function `isomorphic_subposets` I proposed gives double answers. Try with\n\n```\nN5 = Posets.PentagonPoset()\nD = Poset({1:[2,3], 2:[4], 3:[4]})\nfor x in isomorphic_subposets(N5, D): print x.cover_relations()\n```\n\nSearching for a reason to this...\n\nWhat comes to iterators: They are of course needed when handling large data. But for quite simple tests it is easier to work with plain list, sets etc.",
    "created_at": "2014-09-03T13:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222556",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:19" align="right">comment:19</div>

Actually the function `isomorphic_subposets` I proposed gives double answers. Try with

```
N5 = Posets.PentagonPoset()
D = Poset({1:[2,3], 2:[4], 3:[4]})
for x in isomorphic_subposets(N5, D): print x.cover_relations()
```

Searching for a reason to this...

What comes to iterators: They are of course needed when handling large data. But for quite simple tests it is easier to work with plain list, sets etc.



---

archive/issue_comments_222557.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nHello !\n\n> ```\n> N5 = Posets.PentagonPoset()\n> D = Poset({1:[2,3], 2:[4], 3:[4]})\n> for x in isomorphic_subposets(N5, D): print x.cover_relations()\n> ```\n> \n> Searching for a reason to this...\n\nCould it be because there are multiple ways to send D into N5 ?\n\n> What comes to iterators: They are of course needed when handling large data. But for quite simple tests it is easier to work with plain list, sets etc.\n\nTrue. But you can build a set from an iterator if you like, while if the function returns a lot of objects you are forced to store them all whatever you use case is.\n\nNathann",
    "created_at": "2014-09-03T13:27:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222557",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:20" align="right">comment:20</div>

Hello !

> ```
> N5 = Posets.PentagonPoset()
> D = Poset({1:[2,3], 2:[4], 3:[4]})
> for x in isomorphic_subposets(N5, D): print x.cover_relations()
> ```
> 
> Searching for a reason to this...

Could it be because there are multiple ways to send D into N5 ?

> What comes to iterators: They are of course needed when handling large data. But for quite simple tests it is easier to work with plain list, sets etc.

True. But you can build a set from an iterator if you like, while if the function returns a lot of objects you are forced to store them all whatever you use case is.

Nathann



---

archive/issue_comments_222558.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThere are 2 ways to insert D into N5. Or of course 4, if you think it somewhat unnaturally. In same way you got 2 hits with\n\n```\nX=Poset({0:[], 1:[]})\nisomorphic_subposets(X, X)\n```\n\nBut this doesn't sound right to me.",
    "created_at": "2014-09-03T13:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222558",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:21" align="right">comment:21</div>

There are 2 ways to insert D into N5. Or of course 4, if you think it somewhat unnaturally. In same way you got 2 hits with

```
X=Poset({0:[], 1:[]})
isomorphic_subposets(X, X)
```

But this doesn't sound right to me.



---

archive/issue_comments_222559.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThere is of course ways to remove duplikates from a list. However, I guess it is not possible (in reality) with iterators. Hence we must abandon `isomorphic_subposets_iterator` and left only `isomorphic_subposets`.",
    "created_at": "2014-09-03T15:26:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222559",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:22" align="right">comment:22</div>

There is of course ways to remove duplikates from a list. However, I guess it is not possible (in reality) with iterators. Hence we must abandon `isomorphic_subposets_iterator` and left only `isomorphic_subposets`.



---

archive/issue_comments_222560.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n> There is of course ways to remove duplikates from a list. However, I guess it is not possible (in reality) with iterators. Hence we must abandon `isomorphic_subposets_iterator` and left only `isomorphic_subposets`.\n\nIt is not because you have no use for this information that you should filter them out before giving them to the users, especially when you spent time to compute them. At the very least you could add an option to remove them.\n\nNathann",
    "created_at": "2014-09-03T15:30:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222560",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:23" align="right">comment:23</div>

> There is of course ways to remove duplikates from a list. However, I guess it is not possible (in reality) with iterators. Hence we must abandon `isomorphic_subposets_iterator` and left only `isomorphic_subposets`.

It is not because you have no use for this information that you should filter them out before giving them to the users, especially when you spent time to compute them. At the very least you could add an option to remove them.

Nathann



---

archive/issue_comments_222561.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@nathanncohen](#comment:23):\n> > There is of course ways to remove duplikates from a list. However, I guess it is not possible (in reality) with iterators. Hence we must abandon `isomorphic_subposets_iterator` and left only `isomorphic_subposets`.\n\n> \n> It is not because you have no use for this information that you should filter them out before giving them to the users, especially when you spent time to compute them. At the very least you could add an option to remove them.\n\nI don't get it. If I leave duplicates, then user will have REAL duplicates, that have no difference at all. Function called `isomorphic_subposets` should return posets.",
    "created_at": "2014-09-05T08:39:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222561",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@nathanncohen](#comment:23):
> > There is of course ways to remove duplikates from a list. However, I guess it is not possible (in reality) with iterators. Hence we must abandon `isomorphic_subposets_iterator` and left only `isomorphic_subposets`.

> 
> It is not because you have no use for this information that you should filter them out before giving them to the users, especially when you spent time to compute them. At the very least you could add an option to remove them.

I don't get it. If I leave duplicates, then user will have REAL duplicates, that have no difference at all. Function called `isomorphic_subposets` should return posets.



---

archive/issue_comments_222562.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nHello !\n\n> I don't get it. If I leave duplicates, then user will have REAL duplicates, that have no difference at all. Function called `isomorphic_subposets` should return posets.\n\nI believe that it is criminal in this case to build the whole list before returning anything. To me, if you believe that this is uncompatible with the name of the function, I think that the function's name should be changed, and not the other way around.\n\nIf you try to find a chain of length 20 in a chain of length 40, the code just won't run.\n\nNathann",
    "created_at": "2014-09-05T09:26:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222562",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:25" align="right">comment:25</div>

Hello !

> I don't get it. If I leave duplicates, then user will have REAL duplicates, that have no difference at all. Function called `isomorphic_subposets` should return posets.

I believe that it is criminal in this case to build the whole list before returning anything. To me, if you believe that this is uncompatible with the name of the function, I think that the function's name should be changed, and not the other way around.

If you try to find a chain of length 20 in a chain of length 40, the code just won't run.

Nathann



---

archive/issue_comments_222563.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/160d8a5cdd251d13619e1291542cdd35a3f57ba2\">160d8a5</a></td><td><code>Added two simple wrapper functions.</code></td></tr></table>\n",
    "created_at": "2014-09-05T09:27:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222563",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/160d8a5cdd251d13619e1291542cdd35a3f57ba2">160d8a5</a></td><td><code>Added two simple wrapper functions.</code></td></tr></table>




---

archive/issue_comments_222564.json:
```json
{
    "body": "Changed commit from **[`f13f238`](https://github.com/sagemath/sagetrac-mirror/commit/f13f2385d2b79adad5dae8282162d776bb8114bd)** to **[`160d8a5`](https://github.com/sagemath/sagetrac-mirror/commit/160d8a5cdd251d13619e1291542cdd35a3f57ba2)**",
    "created_at": "2014-09-05T09:27:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222564",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f13f238`](https://github.com/sagemath/sagetrac-mirror/commit/f13f2385d2b79adad5dae8282162d776bb8114bd)** to **[`160d8a5`](https://github.com/sagemath/sagetrac-mirror/commit/160d8a5cdd251d13619e1291542cdd35a3f57ba2)**



---

archive/issue_comments_222565.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI committed a version where `hasse_diagram.py` is not modified at all.\n\nIs every possible object that can be an element of a poset comparable? If so, maybe is there some way to remove duplicates by order: Remove subset 0,2,1 and let 0,1,2 be? But this must be think more.\n\nIf it is not possible, should there be function giving also duplicates, with warning section saying something about that?",
    "created_at": "2014-09-05T13:33:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222565",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:27" align="right">comment:27</div>

I committed a version where `hasse_diagram.py` is not modified at all.

Is every possible object that can be an element of a poset comparable? If so, maybe is there some way to remove duplicates by order: Remove subset 0,2,1 and let 0,1,2 be? But this must be think more.

If it is not possible, should there be function giving also duplicates, with warning section saying something about that?



---

archive/issue_comments_222566.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nHello !\n\n> Is every possible object that can be an element of a poset comparable? If so, maybe is there some way to remove duplicates by order: Remove subset 0,2,1 and let 0,1,2 be? But this must be think more.\n\nNo, you cannot assume that. The points of a poset may be sets themselves, and their order with respect to `<=` is not a total order.\n\n> If it is not possible, should there be function giving also duplicates, with warning section saying something about that?\n\nThis is the way it is done in `Graph.subgraph_search_iterator`.\n\nNathann",
    "created_at": "2014-09-05T14:33:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222566",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:28" align="right">comment:28</div>

Hello !

> Is every possible object that can be an element of a poset comparable? If so, maybe is there some way to remove duplicates by order: Remove subset 0,2,1 and let 0,1,2 be? But this must be think more.

No, you cannot assume that. The points of a poset may be sets themselves, and their order with respect to `<=` is not a total order.

> If it is not possible, should there be function giving also duplicates, with warning section saying something about that?

This is the way it is done in `Graph.subgraph_search_iterator`.

Nathann



---

archive/issue_comments_222567.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4c0285a8090837f9fe3e416c77f96628a3ede58\">d4c0285</a></td><td><code>Version with both isomorphic_subposets() and isomorphic_subposets_iterator().</code></td></tr></table>\n",
    "created_at": "2014-09-10T13:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222567",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4c0285a8090837f9fe3e416c77f96628a3ede58">d4c0285</a></td><td><code>Version with both isomorphic_subposets() and isomorphic_subposets_iterator().</code></td></tr></table>




---

archive/issue_comments_222568.json:
```json
{
    "body": "Changed commit from **[`160d8a5`](https://github.com/sagemath/sagetrac-mirror/commit/160d8a5cdd251d13619e1291542cdd35a3f57ba2)** to **[`d4c0285`](https://github.com/sagemath/sagetrac-mirror/commit/d4c0285a8090837f9fe3e416c77f96628a3ede58)**",
    "created_at": "2014-09-10T13:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222568",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`160d8a5`](https://github.com/sagemath/sagetrac-mirror/commit/160d8a5cdd251d13619e1291542cdd35a3f57ba2)** to **[`d4c0285`](https://github.com/sagemath/sagetrac-mirror/commit/d4c0285a8090837f9fe3e416c77f96628a3ede58)**



---

archive/issue_comments_222569.json:
```json
{
    "body": "Changed dependencies from **16909** to **#16909**",
    "created_at": "2014-09-11T05:20:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222569",
    "user": "https://github.com/jm58660"
}
```

Changed dependencies from **16909** to **#16909**



---

archive/issue_comments_222570.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87b585264681072a670c5b3e1da6cf5d5c9782ad\">87b5852</a></td><td><code>Better documentation.</code></td></tr></table>\n",
    "created_at": "2014-09-12T07:48:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222570",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87b585264681072a670c5b3e1da6cf5d5c9782ad">87b5852</a></td><td><code>Better documentation.</code></td></tr></table>




---

archive/issue_comments_222571.json:
```json
{
    "body": "Changed commit from **[`d4c0285`](https://github.com/sagemath/sagetrac-mirror/commit/d4c0285a8090837f9fe3e416c77f96628a3ede58)** to **[`87b5852`](https://github.com/sagemath/sagetrac-mirror/commit/87b585264681072a670c5b3e1da6cf5d5c9782ad)**",
    "created_at": "2014-09-12T07:48:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222571",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d4c0285`](https://github.com/sagemath/sagetrac-mirror/commit/d4c0285a8090837f9fe3e416c77f96628a3ede58)** to **[`87b5852`](https://github.com/sagemath/sagetrac-mirror/commit/87b585264681072a670c5b3e1da6cf5d5c9782ad)**



---

archive/issue_events_241493.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-12T09:52:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241493"
}
```



---

archive/issue_events_241494.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-12T09:52:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241494"
}
```



---

archive/issue_events_241495.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-12T09:53:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241495"
}
```



---

archive/issue_events_241496.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2014-09-12T09:53:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241496"
}
```



---

archive/issue_comments_222572.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nHello !\n\nA few other remarks:\n\n- Could you only import `uniq` where you need it and not in the module's head ?\n\n- The first line of doc in `isomorphic_subposets_iterator` is still right after the `\"\"\"`\n\n- The one-line descriptions that you added to the index at the top of the file are not correct (as far as I can tell, english is not my language):\n\n\"Return an iterator over the subposets isomorphic to other poset\" -> to another poset ? Or 'to a given poset' ?\n\n- Could you add an 'INPUT' section to your functions ?\n\nThanks,\n\nNathann",
    "created_at": "2014-09-14T11:30:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222572",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:34" align="right">comment:34</div>

Hello !

A few other remarks:

- Could you only import `uniq` where you need it and not in the module's head ?

- The first line of doc in `isomorphic_subposets_iterator` is still right after the `"""`

- The one-line descriptions that you added to the index at the top of the file are not correct (as far as I can tell, english is not my language):

"Return an iterator over the subposets isomorphic to other poset" -> to another poset ? Or 'to a given poset' ?

- Could you add an 'INPUT' section to your functions ?

Thanks,

Nathann



---

archive/issue_comments_222573.json:
```json
{
    "body": "Changed commit from **[`87b5852`](https://github.com/sagemath/sagetrac-mirror/commit/87b585264681072a670c5b3e1da6cf5d5c9782ad)** to **[`f1d0174`](https://github.com/sagemath/sagetrac-mirror/commit/f1d01742d3b0900e221b60d5e5392b386924621e)**",
    "created_at": "2014-09-15T06:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222573",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`87b5852`](https://github.com/sagemath/sagetrac-mirror/commit/87b585264681072a670c5b3e1da6cf5d5c9782ad)** to **[`f1d0174`](https://github.com/sagemath/sagetrac-mirror/commit/f1d01742d3b0900e221b60d5e5392b386924621e)**



---

archive/issue_comments_222574.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1d01742d3b0900e221b60d5e5392b386924621e\">f1d0174</a></td><td><code>Moved import statement to function; corrections to docs.</code></td></tr></table>\n",
    "created_at": "2014-09-15T06:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222574",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1d01742d3b0900e221b60d5e5392b386924621e">f1d0174</a></td><td><code>Moved import statement to function; corrections to docs.</code></td></tr></table>




---

archive/issue_comments_222575.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nHello !\n\nThis branch is good to go I guess, but it does not pass tests by itself. Could you merge this branch with the branch at #16909 ?\n\nNathann",
    "created_at": "2014-09-16T10:29:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222575",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:36" align="right">comment:36</div>

Hello !

This branch is good to go I guess, but it does not pass tests by itself. Could you merge this branch with the branch at #16909 ?

Nathann



---

archive/issue_events_241497.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-09-16T10:29:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241497"
}
```



---

archive/issue_events_241498.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-09-16T10:29:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241498"
}
```



---

archive/issue_comments_222576.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad47132453d5bca8ea076357be87db9313f0ae64\">ad47132</a></td><td><code>trac #16909: transitive_closure() and mutable graphs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9\">346ef0e</a></td><td><code>Merge branch 't/16909/public/16909' into t/16892/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset</code></td></tr></table>\n",
    "created_at": "2014-09-16T17:27:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222576",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad47132453d5bca8ea076357be87db9313f0ae64">ad47132</a></td><td><code>trac #16909: transitive_closure() and mutable graphs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9">346ef0e</a></td><td><code>Merge branch 't/16909/public/16909' into t/16892/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset</code></td></tr></table>




---

archive/issue_comments_222577.json:
```json
{
    "body": "Changed commit from **[`f1d0174`](https://github.com/sagemath/sagetrac-mirror/commit/f1d01742d3b0900e221b60d5e5392b386924621e)** to **[`346ef0e`](https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9)**",
    "created_at": "2014-09-16T17:27:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222577",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f1d0174`](https://github.com/sagemath/sagetrac-mirror/commit/f1d01742d3b0900e221b60d5e5392b386924621e)** to **[`346ef0e`](https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9)**



---

archive/issue_comments_222578.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nNow there is commit that has both patches merged. Should I or ncohen now close #16909 as merged?",
    "created_at": "2014-09-16T17:52:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222578",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:39" align="right">comment:39</div>

Now there is commit that has both patches merged. Should I or ncohen now close #16909 as merged?



---

archive/issue_events_241499.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-09-17T09:25:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241499"
}
```



---

archive/issue_events_241500.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-09-17T09:25:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241500"
}
```



---

archive/issue_comments_222579.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\n> Now there is commit that has both patches merged. Should I or ncohen now close #16909 as merged?\n\nNononono: only the release manager should close the tickets, when he merges the commits into the next release. What you did was the right thing, nothing more is needed.\n\nNathann",
    "created_at": "2014-09-17T09:25:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222579",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:40" align="right">comment:40</div>

> Now there is commit that has both patches merged. Should I or ncohen now close #16909 as merged?

Nononono: only the release manager should close the tickets, when he merges the commits into the next release. What you did was the right thing, nothing more is needed.

Nathann



---

archive/issue_events_241501.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-09-17T10:18:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241501"
}
```



---

archive/issue_events_241502.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-09-17T10:18:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241502"
}
```



---

archive/issue_comments_222580.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2014-09-17T10:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222580",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_comments_222581.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\n(name again)",
    "created_at": "2014-09-17T10:19:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222581",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:42" align="right">comment:42</div>

(name again)



---

archive/issue_comments_222582.json:
```json
{
    "body": "Author: **Jori M\u00e4ntysalo**",
    "created_at": "2014-09-17T10:22:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222582",
    "user": "https://github.com/jm58660"
}
```

Author: **Jori MÃ¤ntysalo**



---

archive/issue_events_241503.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-19T15:08:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241503"
}
```



---

archive/issue_events_241504.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e0822bb5380256186d79944cea6648720c2935e2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-09-19T15:08:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16892#event-241504"
}
```



---

archive/issue_comments_222583.json:
```json
{
    "body": "Changed branch from **[u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset)** to **[`346ef0e`](https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9)**",
    "created_at": "2014-09-19T15:08:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16892",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16892#issuecomment-222583",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/function_to_check_if_a_poset_containt_a_subposet_isomorphic_to_another_poset)** to **[`346ef0e`](https://github.com/sagemath/sagetrac-mirror/commit/346ef0e676727cd287f58b978ac1a9e4d82a09e9)**
