# Issue 16996: IPython notebook with Sage Extensions

archive/issues_016759.json:
```json
{
    "assignees": [],
    "body": "Make the IPython html-based notebook work just like the sage command line.\n\nIn particular: make zeromq and pyzmq standard packages.\n\nScreenshots: https://plus.google.com/photos/113188225509686176367/albums/6061181433704732017\n\nDepends on #16746\n\nCC:  @jondo @videlec\n\nBranch: **[`c54edb5`](https://github.com/sagemath/sagetrac-mirror/commit/c54edb59a9c46c15dbe8a529efafe9c0cb2b17c9)**\n\nReviewer: **Karl-Dieter Crisman, S\u00e9bastien Labb\u00e9, John Palmieri, Eric Gourgoulhon, Steve Singleton**\n\nAuthor: **Volker Braun**\n\nComponent: **interfaces**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16996_\n\n",
    "closed_at": "2014-10-14T10:41:29Z",
    "created_at": "2014-09-16T23:14:50Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "IPython notebook with Sage Extensions",
    "type": "issue",
    "updated_at": "2014-11-03T15:58:31Z",
    "url": "https://github.com/sagemath/sage/issues/16996",
    "user": "https://github.com/vbraun"
}
```
Make the IPython html-based notebook work just like the sage command line.

In particular: make zeromq and pyzmq standard packages.

Screenshots: https://plus.google.com/photos/113188225509686176367/albums/6061181433704732017

Depends on #16746

CC:  @jondo @videlec

Branch: **[`c54edb5`](https://github.com/sagemath/sagetrac-mirror/commit/c54edb59a9c46c15dbe8a529efafe9c0cb2b17c9)**

Reviewer: **Karl-Dieter Crisman, Sébastien Labbé, John Palmieri, Eric Gourgoulhon, Steve Singleton**

Author: **Volker Braun**

Component: **interfaces**

_Issue created by migration from https://trac.sagemath.org/ticket/16996_





---

archive/issue_events_242890.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-16T23:14:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16996#event-242890"
}
```



---

archive/issue_events_242891.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-16T23:14:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "c: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16996#event-242891"
}
```



---

archive/issue_events_242892.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-16T23:14:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16996#event-242892"
}
```



---

archive/issue_events_242893.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-16T23:14:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16996#event-242893"
}
```



---

archive/issue_comments_224602.json:
```json
{
    "body": "Branch: **[u/vbraun/sage_ipynb](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sage_ipynb)**",
    "created_at": "2014-09-16T23:15:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224602",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/sage_ipynb](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sage_ipynb)**



---

archive/issue_comments_224603.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThe first commit containts the anything-text-mode integration. Graphics still launches in a separate graphics viewer process.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58ff710db65e25485fc57c707040edaea3092154\"><code>58ff710</code></a></td><td><code>Add a sage -ipynb option</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c422083161c46d22eeb1005b785953651bc4a3d\"><code>3c42208</code></a></td><td><code>IPython notebook with Sage extensions</code></td></tr></table>\n",
    "created_at": "2014-09-16T23:16:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224603",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:2" align="right">comment:2</div>

The first commit containts the anything-text-mode integration. Graphics still launches in a separate graphics viewer process.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58ff710db65e25485fc57c707040edaea3092154"><code>58ff710</code></a></td><td><code>Add a sage -ipynb option</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c422083161c46d22eeb1005b785953651bc4a3d"><code>3c42208</code></a></td><td><code>IPython notebook with Sage extensions</code></td></tr></table>




---

archive/issue_comments_224604.json:
```json
{
    "body": "Commit: **[`3c42208`](https://github.com/sagemath/sagetrac-mirror/commit/3c422083161c46d22eeb1005b785953651bc4a3d)**",
    "created_at": "2014-09-16T23:16:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224604",
    "user": "https://github.com/vbraun"
}
```

Commit: **[`3c42208`](https://github.com/sagemath/sagetrac-mirror/commit/3c422083161c46d22eeb1005b785953651bc4a3d)**



---

archive/issue_comments_224605.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nPicture at https://plus.google.com/113188225509686176367/posts/MCdWKxYyryH",
    "created_at": "2014-09-16T23:25:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224605",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:3" align="right">comment:3</div>

Picture at https://plus.google.com/113188225509686176367/posts/MCdWKxYyryH



---

archive/issue_comments_224606.json:
```json
{
    "body": "Dependencies: **#16746**",
    "created_at": "2014-09-18T18:44:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224606",
    "user": "https://github.com/vbraun"
}
```

Dependencies: **#16746**



---

archive/issue_comments_224607.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n Make the IPython html-based notebook work just like the sage command line.\n+\n+In particular: make zeromq and pyzmq standard packages.\n``````\n",
    "created_at": "2014-09-18T18:44:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224607",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 Make the IPython html-based notebook work just like the sage command line.
+
+In particular: make zeromq and pyzmq standard packages.
``````




---

archive/issue_comments_224608.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAww, but *sage -ipynb* seems so cute.  After all, it's the Ipython notebook, not the Notebook Ipython.  Maybe both?",
    "created_at": "2014-09-19T02:37:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224608",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">comment:5</div>

Aww, but *sage -ipynb* seems so cute.  After all, it's the Ipython notebook, not the Notebook Ipython.  Maybe both?



---

archive/issue_comments_224609.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nIts cute. I also wanted to call the Parent object that owns the Singular ring \"Frodo\". Sometimes, you have to resist being cute ;-)\n\nSince there is bound to be more than one notebook, I think its best to go with `sage --notebook-foo` or `--notebook=foo`. With just `sage --notebook` being some suitable default.",
    "created_at": "2014-09-19T13:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224609",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:6" align="right">comment:6</div>

Its cute. I also wanted to call the Parent object that owns the Singular ring "Frodo". Sometimes, you have to resist being cute ;-)

Since there is bound to be more than one notebook, I think its best to go with `sage --notebook-foo` or `--notebook=foo`. With just `sage --notebook` being some suitable default.



---

archive/issue_comments_224610.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nSuch as `sage --notebook-cloud`, for example.\n\nWell, it might still be good to make it more easily discoverable with an alias or something, just because of the English syntax order.",
    "created_at": "2014-09-19T13:13:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224610",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:7" align="right">comment:7</div>

Such as `sage --notebook-cloud`, for example.

Well, it might still be good to make it more easily discoverable with an alias or something, just because of the English syntax order.



---

archive/issue_comments_224611.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Make the IPython html-based notebook work just like the sage command line.\n \n In particular: make zeromq and pyzmq standard packages.\n+\n+Screenshots: https://plus.google.com/photos/113188225509686176367/albums/6061181433704732017\n``````\n",
    "created_at": "2014-09-20T16:02:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224611",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Make the IPython html-based notebook work just like the sage command line.
 
 In particular: make zeromq and pyzmq standard packages.
+
+Screenshots: https://plus.google.com/photos/113188225509686176367/albums/6061181433704732017
``````




---

archive/issue_comments_224612.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAlso, you can lanuch the plain IPython notebook with `sage -ipython notebook`. The commandline switch for the Sage-enhanced IPython notebook should have more than one character difference ;-)",
    "created_at": "2014-09-20T16:08:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224612",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:9" align="right">comment:9</div>

Also, you can lanuch the plain IPython notebook with `sage -ipython notebook`. The commandline switch for the Sage-enhanced IPython notebook should have more than one character difference ;-)



---

archive/issue_comments_224613.json:
```json
{
    "body": "Changed commit from **[`3c42208`](https://github.com/sagemath/sagetrac-mirror/commit/3c422083161c46d22eeb1005b785953651bc4a3d)** to **[`95a4ea4`](https://github.com/sagemath/sagetrac-mirror/commit/95a4ea418c3eae890dc0ae4c50da4420ee0b10ab)**",
    "created_at": "2014-09-20T17:19:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224613",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3c42208`](https://github.com/sagemath/sagetrac-mirror/commit/3c422083161c46d22eeb1005b785953651bc4a3d)** to **[`95a4ea4`](https://github.com/sagemath/sagetrac-mirror/commit/95a4ea418c3eae890dc0ae4c50da4420ee0b10ab)**



---

archive/issue_comments_224614.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48a2320912986874f4580d22fea71ab3299a9963\"><code>48a2320</code></a></td><td><code>Also call graphics.show() in doctest mode</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbf83ebb7a7d32d64be6551c4d1866bb1e1dba7c\"><code>fbf83eb</code></a></td><td><code>Show output of the lonely generic_graph doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9271f0de704f3919b58e0b22afa9d38a39c47d1\"><code>a9271f0</code></a></td><td><code>Fix doctests that have dictionary keys without stable order</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3922ed548e74761576035cb56ef693d2f17ee3dd\"><code>3922ed5</code></a></td><td><code>Reduce doctest precision</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b362aa6c4ee2db82dc49ab42d52042cf9a46074a\"><code>b362aa6</code></a></td><td><code>Display trailing newline in __repr__() output</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7de159aef22abafd93bfccd8557065c7d802031f\"><code>7de159a</code></a></td><td><code>Fix more random test failures</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b02f820bba1e56763f49ce4c076d697939f87b7d\"><code>b02f820</code></a></td><td><code>Merge #16746 (Improvements to the Sage displayhook)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7db40810ea65ca7f92d6c3c7798e6471242ef059\"><code>7db4081</code></a></td><td><code>Make zeromq and pyzmq standard packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7e7f9ce036343c4eb414434c93265461f3bced5\"><code>e7e7f9c</code></a></td><td><code>Add 2d graphics to the ipython notebook</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95a4ea418c3eae890dc0ae4c50da4420ee0b10ab\"><code>95a4ea4</code></a></td><td><code>Extend IPython notebook templates</code></td></tr></table>\n",
    "created_at": "2014-09-20T17:19:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224614",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48a2320912986874f4580d22fea71ab3299a9963"><code>48a2320</code></a></td><td><code>Also call graphics.show() in doctest mode</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbf83ebb7a7d32d64be6551c4d1866bb1e1dba7c"><code>fbf83eb</code></a></td><td><code>Show output of the lonely generic_graph doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9271f0de704f3919b58e0b22afa9d38a39c47d1"><code>a9271f0</code></a></td><td><code>Fix doctests that have dictionary keys without stable order</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3922ed548e74761576035cb56ef693d2f17ee3dd"><code>3922ed5</code></a></td><td><code>Reduce doctest precision</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b362aa6c4ee2db82dc49ab42d52042cf9a46074a"><code>b362aa6</code></a></td><td><code>Display trailing newline in __repr__() output</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7de159aef22abafd93bfccd8557065c7d802031f"><code>7de159a</code></a></td><td><code>Fix more random test failures</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b02f820bba1e56763f49ce4c076d697939f87b7d"><code>b02f820</code></a></td><td><code>Merge #16746 (Improvements to the Sage displayhook)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7db40810ea65ca7f92d6c3c7798e6471242ef059"><code>7db4081</code></a></td><td><code>Make zeromq and pyzmq standard packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7e7f9ce036343c4eb414434c93265461f3bced5"><code>e7e7f9c</code></a></td><td><code>Add 2d graphics to the ipython notebook</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95a4ea418c3eae890dc0ae4c50da4420ee0b10ab"><code>95a4ea4</code></a></td><td><code>Extend IPython notebook templates</code></td></tr></table>




---

archive/issue_comments_224615.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\n2d graphics works, 3d graphics will be displayed as 2d render. IMHO this is good enough for a first stab at it.\n\nI've extended the magic `_graphics_()` method hook that we already had in Sage so that you can specify a list of file formats that are acceptable as output. The `_graphics_()` hook then can pick the best choice amongst these possibilities. This works fine for the problem of finding a suitable graphics file format.\n\nThe same idea should be extended to text/html/latex output as well. The user specifies which formats he wants (or his frontend can display), and Sage then picks the best representation. I'll work on refactoring the `_graphics_()` hook into a more general solution (probably called `_repr_rich()`) on a followup ticket. Once we have this it would be easy to make html/tex output work in a configurable way.",
    "created_at": "2014-09-20T17:26:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224615",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:11" align="right">comment:11</div>

2d graphics works, 3d graphics will be displayed as 2d render. IMHO this is good enough for a first stab at it.

I've extended the magic `_graphics_()` method hook that we already had in Sage so that you can specify a list of file formats that are acceptable as output. The `_graphics_()` hook then can pick the best choice amongst these possibilities. This works fine for the problem of finding a suitable graphics file format.

The same idea should be extended to text/html/latex output as well. The user specifies which formats he wants (or his frontend can display), and Sage then picks the best representation. I'll work on refactoring the `_graphics_()` hook into a more general solution (probably called `_repr_rich()`) on a followup ticket. Once we have this it would be easy to make html/tex output work in a configurable way.



---

archive/issue_events_242894.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-20T17:26:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16996#event-242894"
}
```



---

archive/issue_comments_224616.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@vbraun](#comment:11):\n> 2d graphics works, 3d graphics will be displayed as 2d render. IMHO this is good enough for a first stab at it.\n> \n> I've extended the magic `_graphics_()` method hook that we already had in Sage so that you can specify a list of file formats that are acceptable as output. The `_graphics_()` hook then can pick the best choice amongst these possibilities. This works fine for the problem of finding a suitable graphics file format.\n> \n> The same idea should be extended to text/html/latex output as well. The user specifies which formats he wants (or his frontend can display), and Sage then picks the best representation. I'll work on refactoring the `_graphics_()` hook into a more general solution (probably called `_repr_rich()`) on a followup ticket. Once we have this it would be easy to make html/tex output work in a configurable way.\n\nI'm glad you're working on this, since I've been meaning to do something like this for Sage for a long time, since it is needed for `SageMathCloud`.   Unfortunately, I'm concerned that this approach will cause me more trouble than help, at least for me.  With `SageMathCloud` I have to customize all of the outputs you mention above, and I think the above approach (and what you've implemented in this patch), does not provide a way for me to do it.  I would have to directly edit the source code of Sage, which I don't want to do (since it breaks people's custom installs).    Right now, SMC monkey patches *all* of the show methods, except for 3d graphics, which can't be monkey patched, due to being in Cython.    The idea that \"show\" can be implemented by saving to a file format, then calling some other function is insufficient, since in some cases one wants to query an object in various ways as part of show.  What is really needed is a hook so that users can *replace* the show method altogether at runtime if they want. \n\nSo if you can do all of the above, but *also* provide a hook for replacing every show method by one of the user's choosing, especially supporting 3d graphics which can't be monkey patched, then I'm on board.",
    "created_at": "2014-09-29T17:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224616",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@vbraun](#comment:11):
> 2d graphics works, 3d graphics will be displayed as 2d render. IMHO this is good enough for a first stab at it.
> 
> I've extended the magic `_graphics_()` method hook that we already had in Sage so that you can specify a list of file formats that are acceptable as output. The `_graphics_()` hook then can pick the best choice amongst these possibilities. This works fine for the problem of finding a suitable graphics file format.
> 
> The same idea should be extended to text/html/latex output as well. The user specifies which formats he wants (or his frontend can display), and Sage then picks the best representation. I'll work on refactoring the `_graphics_()` hook into a more general solution (probably called `_repr_rich()`) on a followup ticket. Once we have this it would be easy to make html/tex output work in a configurable way.

I'm glad you're working on this, since I've been meaning to do something like this for Sage for a long time, since it is needed for `SageMathCloud`.   Unfortunately, I'm concerned that this approach will cause me more trouble than help, at least for me.  With `SageMathCloud` I have to customize all of the outputs you mention above, and I think the above approach (and what you've implemented in this patch), does not provide a way for me to do it.  I would have to directly edit the source code of Sage, which I don't want to do (since it breaks people's custom installs).    Right now, SMC monkey patches *all* of the show methods, except for 3d graphics, which can't be monkey patched, due to being in Cython.    The idea that "show" can be implemented by saving to a file format, then calling some other function is insufficient, since in some cases one wants to query an object in various ways as part of show.  What is really needed is a hook so that users can *replace* the show method altogether at runtime if they want. 

So if you can do all of the above, but *also* provide a hook for replacing every show method by one of the user's choosing, especially supporting 3d graphics which can't be monkey patched, then I'm on board.



---

archive/issue_comments_224617.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nMonkey patching stuff left and right isn't going to be maintainable in the long run anyways, so sooner or later you'll have to implement a proper solution. And that means a compute kernel starting with a custom displayhook or piggy-backing on the Sage-IPython ZMQ kernel. I can't see the SMC code so I can't really help with that, but I do intend to write the necessary framework to make implementing the displayhook easy. And powerful enough to include graphics, latex, and html output if desired.",
    "created_at": "2014-09-29T19:45:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224617",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:13" align="right">comment:13</div>

Monkey patching stuff left and right isn't going to be maintainable in the long run anyways, so sooner or later you'll have to implement a proper solution. And that means a compute kernel starting with a custom displayhook or piggy-backing on the Sage-IPython ZMQ kernel. I can't see the SMC code so I can't really help with that, but I do intend to write the necessary framework to make implementing the displayhook easy. And powerful enough to include graphics, latex, and html output if desired.



---

archive/issue_comments_224618.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@vbraun](#comment:13):\n> Monkey patching stuff left and right isn't going to be maintainable in the long run anyways,\n>  so sooner or later you'll have to implement a proper solution. \n\nIt's actually been very easy to maintain for almost two years now, since Sage's 2d and 3d graphics, etc., are all VERY stable code for the last 3 years.  However, I don't like doing it.  Amusingly, what you're doing now is the first situation that could make it harder.\n\n> And that means a compute kernel starting with a custom displayhook or piggy-backing on the Sage-IPython ZMQ kernel. I can't see the SMC code so I can't really help with that, \n\nAll relevant Python code is BSD or GPL'd licensed.    The latest versions are always the Python files in ~/.sagemathcloud in any SageMathCloud project.  If you want me to post a snapshot somewhere else I can. \n\nSageMathCloud makes absolutely no use of ZMQ or IPython.   However, it uses a custom displayhook.\n\n> but I do intend to write the necessary framework to make implementing the displayhook easy. And powerful enough to include graphics, latex, and html output if desired.\n\nCool -- that's exactly what I want -- I way to make the necessary framework for implementing the displayhook easy, instead of just replacing show methods.\n\nAnyway, I'm thrilled you're working on this, and I hope you'll keep SMC in mind for your design, so that I can rewrite my code to use your framework instead of monkey patching.",
    "created_at": "2014-09-29T20:27:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224618",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@vbraun](#comment:13):
> Monkey patching stuff left and right isn't going to be maintainable in the long run anyways,
>  so sooner or later you'll have to implement a proper solution. 

It's actually been very easy to maintain for almost two years now, since Sage's 2d and 3d graphics, etc., are all VERY stable code for the last 3 years.  However, I don't like doing it.  Amusingly, what you're doing now is the first situation that could make it harder.

> And that means a compute kernel starting with a custom displayhook or piggy-backing on the Sage-IPython ZMQ kernel. I can't see the SMC code so I can't really help with that, 

All relevant Python code is BSD or GPL'd licensed.    The latest versions are always the Python files in ~/.sagemathcloud in any SageMathCloud project.  If you want me to post a snapshot somewhere else I can. 

SageMathCloud makes absolutely no use of ZMQ or IPython.   However, it uses a custom displayhook.

> but I do intend to write the necessary framework to make implementing the displayhook easy. And powerful enough to include graphics, latex, and html output if desired.

Cool -- that's exactly what I want -- I way to make the necessary framework for implementing the displayhook easy, instead of just replacing show methods.

Anyway, I'm thrilled you're working on this, and I hope you'll keep SMC in mind for your design, so that I can rewrite my code to use your framework instead of monkey patching.



---

archive/issue_comments_224619.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n1. [needs work] The `sage -ipython notebook` works OK for me. But the command `sage -notebook-ipy` is broken. There is a tab that opens in the browser but it stays empty. In the command line, it says templates `tree.html` and `error.html` and maybe others are missing :\n\n```\n$ sage -notebook-ipy\n2014-09-30 23:29:19.288 [SageNotebookApp] Using existing profile dir: u'/Users/slabbe/.sage/ipython-2.2.0/profile_default'\n2014-09-30 23:29:19.302 [SageNotebookApp] Using MathJax from CDN: https://cdn.mathjax.org/mathjax/latest/MathJax.js\n2014-09-30 23:29:19.345 [SageNotebookApp] Serving notebooks from local directory: /Users/slabbe/.sage/notebooks_ipy\n2014-09-30 23:29:19.345 [SageNotebookApp] 0 active kernels \n2014-09-30 23:29:19.345 [SageNotebookApp] The IPython Notebook is running at: http://localhost:8888/\n2014-09-30 23:29:19.345 [SageNotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).\n2014-09-30 23:29:20.051 [tornado.application] ERROR | Uncaught exception GET /tree (::1)\nHTTPRequest(protocol='http', host='localhost:8888', method='GET', uri='/tree', version='HTTP/1.1', remote_ip='::1', headers={'Connection': 'keep-alive', 'Accept-Language': 'fr-ca,fr;q=0.8,fr-fr;q=0.6,en-us;q=0.4,en;q=0.2', 'Accept-Encoding': 'gzip, deflate', 'If-None-Match': '\"5a5567e3b37b9ccb8e61737610c32e684f6090d4\"', 'Host': 'localhost:8888', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.5; rv:16.0) Gecko/20100101 Firefox/16.0'})\nTraceback (most recent call last):\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/tornado-3.1.1-py2.7.egg/tornado/web.py\", line 1141, in _when_complete\n    callback()\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/tornado-3.1.1-py2.7.egg/tornado/web.py\", line 1162, in _execute_method\n    self._when_complete(method(*self.path_args, **self.path_kwargs),\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/tornado-3.1.1-py2.7.egg/tornado/web.py\", line 2297, in wrapper\n    return method(self, *args, **kwargs)\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/IPython/html/tree/handlers.py\", line 77, in get\n    breadcrumbs=breadcrumbs\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/IPython/html/base/handlers.py\", line 221, in render_template\n    template = self.get_template(name)\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/IPython/html/base/handlers.py\", line 217, in get_template\n    return self.settings['jinja2_env'].get_template(name)\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/environment.py\", line 716, in get_template\n    return self._load_template(name, self.make_globals(globals))\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/environment.py\", line 690, in _load_template\n    template = self.loader.load(self, name, globals)\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/loaders.py\", line 115, in load\n    source, filename, uptodate = self.get_source(environment, name)\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/loaders.py\", line 180, in get_source\n    raise TemplateNotFound(template)\nTemplateNotFound: tree.html\n2014-09-30 23:29:20.060 [tornado.application] ERROR | Uncaught exception in write_error\nTraceback (most recent call last):\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/tornado-3.1.1-py2.7.egg/tornado/web.py\", line 794, in send_error\n    self.write_error(status_code, **kwargs)\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/tornado-3.1.1-py2.7.egg/tornado/web.py\", line 827, in write_error\n    self.finish(self.get_error_html(status_code, **kwargs))\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/IPython/html/base/handlers.py\", line 277, in get_error_html\n    html = self.render_template('error.html', **ns)\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/IPython/html/base/handlers.py\", line 221, in render_template\n    template = self.get_template(name)\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/IPython/html/base/handlers.py\", line 217, in get_template\n    return self.settings['jinja2_env'].get_template(name)\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/environment.py\", line 716, in get_template\n    return self._load_template(name, self.make_globals(globals))\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/environment.py\", line 690, in _load_template\n    template = self.loader.load(self, name, globals)\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/loaders.py\", line 115, in load\n    source, filename, uptodate = self.get_source(environment, name)\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/loaders.py\", line 180, in get_source\n    raise TemplateNotFound(template)\nTemplateNotFound: error.html\n2014-09-30 23:29:20.063 [tornado.access] ERROR | {\n  \"Accept-Language\": \"fr-ca,fr;q=0.8,fr-fr;q=0.6,en-us;q=0.4,en;q=0.2\", \n  \"Accept-Encoding\": \"gzip, deflate\", \n  \"Connection\": \"keep-alive\", \n  \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\", \n  \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.5; rv:16.0) Gecko/20100101 Firefox/16.0\", \n  \"Host\": \"localhost:8888\", \n  \"If-None-Match\": \"\\\"5a5567e3b37b9ccb8e61737610c32e684f6090d4\\\"\"\n}\n2014-09-30 23:29:20.064 [tornado.access] ERROR | 500 GET /tree (::1) 16.67ms referer=None\n\n```\n\n2. [needs info] When using the `sage -ipython notebook` which works for me. The Download as > rst throws me the following error:\n\n```\n500 : Internal Server Error\nThe error was: nbconvert failed: template file \"rst\" could not be found\n```\n\n3. [suggestion]\u00a0I do like `sage -ipynb`. I do not like `sage -notebook-ipy` because the part `ipy` is not natural. I feel I will need to check the doc of `sage -advanced` each time to confirm the name of the command. If you want the prefix `notebook`, I would rather suggest :\n\n```\nsage -notebook-ipython\n```",
    "created_at": "2014-09-30T21:37:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224619",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:16" align="right">comment:16</div>

1. [needs work] The `sage -ipython notebook` works OK for me. But the command `sage -notebook-ipy` is broken. There is a tab that opens in the browser but it stays empty. In the command line, it says templates `tree.html` and `error.html` and maybe others are missing :

```
$ sage -notebook-ipy
2014-09-30 23:29:19.288 [SageNotebookApp] Using existing profile dir: u'/Users/slabbe/.sage/ipython-2.2.0/profile_default'
2014-09-30 23:29:19.302 [SageNotebookApp] Using MathJax from CDN: https://cdn.mathjax.org/mathjax/latest/MathJax.js
2014-09-30 23:29:19.345 [SageNotebookApp] Serving notebooks from local directory: /Users/slabbe/.sage/notebooks_ipy
2014-09-30 23:29:19.345 [SageNotebookApp] 0 active kernels 
2014-09-30 23:29:19.345 [SageNotebookApp] The IPython Notebook is running at: http://localhost:8888/
2014-09-30 23:29:19.345 [SageNotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
2014-09-30 23:29:20.051 [tornado.application] ERROR | Uncaught exception GET /tree (::1)
HTTPRequest(protocol='http', host='localhost:8888', method='GET', uri='/tree', version='HTTP/1.1', remote_ip='::1', headers={'Connection': 'keep-alive', 'Accept-Language': 'fr-ca,fr;q=0.8,fr-fr;q=0.6,en-us;q=0.4,en;q=0.2', 'Accept-Encoding': 'gzip, deflate', 'If-None-Match': '"5a5567e3b37b9ccb8e61737610c32e684f6090d4"', 'Host': 'localhost:8888', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.5; rv:16.0) Gecko/20100101 Firefox/16.0'})
Traceback (most recent call last):
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/tornado-3.1.1-py2.7.egg/tornado/web.py", line 1141, in _when_complete
    callback()
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/tornado-3.1.1-py2.7.egg/tornado/web.py", line 1162, in _execute_method
    self._when_complete(method(*self.path_args, **self.path_kwargs),
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/tornado-3.1.1-py2.7.egg/tornado/web.py", line 2297, in wrapper
    return method(self, *args, **kwargs)
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/IPython/html/tree/handlers.py", line 77, in get
    breadcrumbs=breadcrumbs
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/IPython/html/base/handlers.py", line 221, in render_template
    template = self.get_template(name)
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/IPython/html/base/handlers.py", line 217, in get_template
    return self.settings['jinja2_env'].get_template(name)
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/environment.py", line 716, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/environment.py", line 690, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/loaders.py", line 115, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/loaders.py", line 180, in get_source
    raise TemplateNotFound(template)
TemplateNotFound: tree.html
2014-09-30 23:29:20.060 [tornado.application] ERROR | Uncaught exception in write_error
Traceback (most recent call last):
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/tornado-3.1.1-py2.7.egg/tornado/web.py", line 794, in send_error
    self.write_error(status_code, **kwargs)
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/tornado-3.1.1-py2.7.egg/tornado/web.py", line 827, in write_error
    self.finish(self.get_error_html(status_code, **kwargs))
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/IPython/html/base/handlers.py", line 277, in get_error_html
    html = self.render_template('error.html', **ns)
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/IPython/html/base/handlers.py", line 221, in render_template
    template = self.get_template(name)
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/IPython/html/base/handlers.py", line 217, in get_template
    return self.settings['jinja2_env'].get_template(name)
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/environment.py", line 716, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/environment.py", line 690, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/loaders.py", line 115, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Jinja2-2.5.5-py2.7.egg/jinja2/loaders.py", line 180, in get_source
    raise TemplateNotFound(template)
TemplateNotFound: error.html
2014-09-30 23:29:20.063 [tornado.access] ERROR | {
  "Accept-Language": "fr-ca,fr;q=0.8,fr-fr;q=0.6,en-us;q=0.4,en;q=0.2", 
  "Accept-Encoding": "gzip, deflate", 
  "Connection": "keep-alive", 
  "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8", 
  "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.5; rv:16.0) Gecko/20100101 Firefox/16.0", 
  "Host": "localhost:8888", 
  "If-None-Match": "\"5a5567e3b37b9ccb8e61737610c32e684f6090d4\""
}
2014-09-30 23:29:20.064 [tornado.access] ERROR | 500 GET /tree (::1) 16.67ms referer=None

```

2. [needs info] When using the `sage -ipython notebook` which works for me. The Download as > rst throws me the following error:

```
500 : Internal Server Error
The error was: nbconvert failed: template file "rst" could not be found
```

3. [suggestion] I do like `sage -ipynb`. I do not like `sage -notebook-ipy` because the part `ipy` is not natural. I feel I will need to check the doc of `sage -advanced` each time to confirm the name of the command. If you want the prefix `notebook`, I would rather suggest :

```
sage -notebook-ipython
```



---

archive/issue_events_242895.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2014-09-30T21:37:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16996#event-242895"
}
```



---

archive/issue_events_242896.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2014-09-30T21:37:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16996#event-242896"
}
```



---

archive/issue_comments_224620.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nYou need to run \"make\" to install the templates",
    "created_at": "2014-09-30T22:18:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224620",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:17" align="right">comment:17</div>

You need to run "make" to install the templates



---

archive/issue_comments_224621.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nYou are right. Running \"make\" fixed the problem. I can now open it and continue the review.\n\nI do not know what goes in this ticket and what doesn't. For instance, as of now I believe the description of the ticket as been fulfilled (\"IPython html-based notebook work just like the sage command line\", \"make zeromq and pyzmq standard packages\"). And it could get a positive review.\n\nBut it would be nice if output like images would appear in the notebook as it is suggested in the screeshot. Also, I have some problems viewing the documentation. More precisely,\n\n\n1. Graphics shows just below the cell which is great: `plot(x^2,0,10)` but using `plot(x^2,0,10).show()` opens in an outside window. Is this a bug, or intended?\n\n2. Animate opens in a outside window as well:\n\n```\nsage: t = var('t')\nsage: a = animate((cos(c*pi*t) for c in sxrange(1,2,.2)))\nsage: a.show()\n```\n\n3. 3d Graphics objects plots shows also below the cell as a Tachyon image and running `.show` opens in a outside window.\n\n4. I saw you added some links in the Help Menu. Unfortunately, I get `404: Not Found` on the six links where one of them is `http://localhost:8888/static/a_tour_of_sage/index.html`.",
    "created_at": "2014-10-01T08:06:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224621",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:18" align="right">comment:18</div>

You are right. Running "make" fixed the problem. I can now open it and continue the review.

I do not know what goes in this ticket and what doesn't. For instance, as of now I believe the description of the ticket as been fulfilled ("IPython html-based notebook work just like the sage command line", "make zeromq and pyzmq standard packages"). And it could get a positive review.

But it would be nice if output like images would appear in the notebook as it is suggested in the screeshot. Also, I have some problems viewing the documentation. More precisely,


1. Graphics shows just below the cell which is great: `plot(x^2,0,10)` but using `plot(x^2,0,10).show()` opens in an outside window. Is this a bug, or intended?

2. Animate opens in a outside window as well:

```
sage: t = var('t')
sage: a = animate((cos(c*pi*t) for c in sxrange(1,2,.2)))
sage: a.show()
```

3. 3d Graphics objects plots shows also below the cell as a Tachyon image and running `.show` opens in a outside window.

4. I saw you added some links in the Help Menu. Unfortunately, I get `404: Not Found` on the six links where one of them is `http://localhost:8888/static/a_tour_of_sage/index.html`.



---

archive/issue_comments_224622.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAt least for now, it is intentional that show() opens external programs. For example that is currently the only way to see jmol 3d.\n\nIn the long run I think show() should just be removed. Really, it only serves two purposes: easier forkbombing `while True: sphere().show()` and functions that show plots while not playing nice with the rest of the graphics infrastructure. The only difference between `def f(): return plot()` and `def f(): plot().show()` is that the latter can't be combined/superimposed with other plots, a user can't change axis options, you can't reasonably call it in your own code, ...\n\nThe other reason is that there is no \"stdout for graphics\", so to my knowledge the IPython notebook doesn't have a separate output channel for graphics either. Other than returning an image via the displayhook, that is.\n\nOf course the old notebook is entangled with the show() methods, e.g. 3d plots show() is a whole mess of spaghetti code. Fun fact: you can't save a jmol script to a file, you can only generate it on-the-fly inside show(). So my plan would be first to implement `_rich_repr_()` and then transition other code over.",
    "created_at": "2014-10-01T12:01:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224622",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:19" align="right">comment:19</div>

At least for now, it is intentional that show() opens external programs. For example that is currently the only way to see jmol 3d.

In the long run I think show() should just be removed. Really, it only serves two purposes: easier forkbombing `while True: sphere().show()` and functions that show plots while not playing nice with the rest of the graphics infrastructure. The only difference between `def f(): return plot()` and `def f(): plot().show()` is that the latter can't be combined/superimposed with other plots, a user can't change axis options, you can't reasonably call it in your own code, ...

The other reason is that there is no "stdout for graphics", so to my knowledge the IPython notebook doesn't have a separate output channel for graphics either. Other than returning an image via the displayhook, that is.

Of course the old notebook is entangled with the show() methods, e.g. 3d plots show() is a whole mess of spaghetti code. Fun fact: you can't save a jmol script to a file, you can only generate it on-the-fly inside show(). So my plan would be first to implement `_rich_repr_()` and then transition other code over.



---

archive/issue_comments_224623.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nPS: For the documentation to work you need to build it: \"make doc\"",
    "created_at": "2014-10-01T12:09:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224623",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

PS: For the documentation to work you need to build it: "make doc"



---

archive/issue_comments_224624.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI guess there is `IPython.display` to display graphics outside of the display hook, will look into that.",
    "created_at": "2014-10-01T12:20:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224624",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:21" align="right">comment:21</div>

I guess there is `IPython.display` to display graphics outside of the display hook, will look into that.



---

archive/issue_comments_224625.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/487807cdaaa32f8cf8090fa2271d8c5ac762252e\"><code>487807c</code></a></td><td><code>Consolidate notebook launchers and use argparse</code></td></tr></table>\n",
    "created_at": "2014-10-03T13:16:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224625",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/487807cdaaa32f8cf8090fa2271d8c5ac762252e"><code>487807c</code></a></td><td><code>Consolidate notebook launchers and use argparse</code></td></tr></table>




---

archive/issue_comments_224626.json:
```json
{
    "body": "Changed commit from **[`95a4ea4`](https://github.com/sagemath/sagetrac-mirror/commit/95a4ea418c3eae890dc0ae4c50da4420ee0b10ab)** to **[`487807c`](https://github.com/sagemath/sagetrac-mirror/commit/487807cdaaa32f8cf8090fa2271d8c5ac762252e)**",
    "created_at": "2014-10-03T13:16:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224626",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`95a4ea4`](https://github.com/sagemath/sagetrac-mirror/commit/95a4ea418c3eae890dc0ae4c50da4420ee0b10ab)** to **[`487807c`](https://github.com/sagemath/sagetrac-mirror/commit/487807cdaaa32f8cf8090fa2271d8c5ac762252e)**



---

archive/issue_comments_224627.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThe command line option is now `--notebook=ipython` or `--notebook=sagenb` (default). This is more consistent / extensible than `--notebook-ipython`. \n\nAlso, switch the notebook argument handling to Python argparse.",
    "created_at": "2014-10-03T13:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224627",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:23" align="right">comment:23</div>

The command line option is now `--notebook=ipython` or `--notebook=sagenb` (default). This is more consistent / extensible than `--notebook-ipython`. 

Also, switch the notebook argument handling to Python argparse.



---

archive/issue_events_242897.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-03T22:36:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16996#event-242897"
}
```



---

archive/issue_events_242898.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-03T22:36:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16996#event-242898"
}
```



---

archive/issue_comments_224628.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nIs there a way to render output cells using Mathjax in the ipython notebook? Basically an equivalent for the \"Typeset\" toggle button in the sagenb or `typeset_mode()` in smc. If not, should there be? It seems important to maintain parity in notebooks for some things like formatted expressions.",
    "created_at": "2014-10-04T22:53:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224628",
    "user": "https://github.com/sagetrac-ssinglet"
}
```

<div id="comment:25" align="right">comment:25</div>

Is there a way to render output cells using Mathjax in the ipython notebook? Basically an equivalent for the "Typeset" toggle button in the sagenb or `typeset_mode()` in smc. If not, should there be? It seems important to maintain parity in notebooks for some things like formatted expressions.



---

archive/issue_comments_224629.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nUnexpected behavior: 'bang' shell commands send output to terminal rather than ipython notebook output cell. Eg: \n`In [2]: !pwd`\nhas no output cell, but it's echoed to STDOUT. Is this intentional?",
    "created_at": "2014-10-04T23:06:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224629",
    "user": "https://github.com/sagetrac-ssinglet"
}
```

<div id="comment:26" align="right">comment:26</div>

Unexpected behavior: 'bang' shell commands send output to terminal rather than ipython notebook output cell. Eg: 
`In [2]: !pwd`
has no output cell, but it's echoed to STDOUT. Is this intentional?



---

archive/issue_comments_224630.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\n[Sorry if I'm violating sage-trac etiquette; is it preferable to add several comments, each with a single topic/question, or keep several things together in a single comment? Also, my comments could be considered feature requests or enhancements and therefore inappropriate after a review is requested. Please let me know...]\n\nI've been using `%load sage` in the standard ipython notebook for some time and have several existing .ipynb notebooks. Currently, it seems these must be moved to the ~/.sage/notebooks_ipy directory (or maybe a tmp directory if `--nodotsage` is given). I think this should either be documented or (preferably) `sage --notebook=ipython` should include .ipynb files found in the working directory at runtime (similar to the standard ipython notebook localhost:8888/tree).\n\nEDIT: Actually the directory is documented in the startup message.",
    "created_at": "2014-10-05T00:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224630",
    "user": "https://github.com/sagetrac-ssinglet"
}
```

<div id="comment:27" align="right">comment:27</div>

[Sorry if I'm violating sage-trac etiquette; is it preferable to add several comments, each with a single topic/question, or keep several things together in a single comment? Also, my comments could be considered feature requests or enhancements and therefore inappropriate after a review is requested. Please let me know...]

I've been using `%load sage` in the standard ipython notebook for some time and have several existing .ipynb notebooks. Currently, it seems these must be moved to the ~/.sage/notebooks_ipy directory (or maybe a tmp directory if `--nodotsage` is given). I think this should either be documented or (preferably) `sage --notebook=ipython` should include .ipynb files found in the working directory at runtime (similar to the standard ipython notebook localhost:8888/tree).

EDIT: Actually the directory is documented in the startup message.



---

archive/issue_comments_224631.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\n* Typeset output will be in the next iteration.\n* The standard IPython notebook command line options work, so you can run \n\n  ```\n  ./sage --notebook=ipython --notebook-dir=~/MyNotebooks\n  ``` \n  if you want a different one.",
    "created_at": "2014-10-05T15:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224631",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:28" align="right">comment:28</div>

* Typeset output will be in the next iteration.
* The standard IPython notebook command line options work, so you can run 

  ```
  ./sage --notebook=ipython --notebook-dir=~/MyNotebooks
  ``` 
  if you want a different one.



---

archive/issue_comments_224632.json:
```json
{
    "body": "Changed commit from **[`487807c`](https://github.com/sagemath/sagetrac-mirror/commit/487807cdaaa32f8cf8090fa2271d8c5ac762252e)** to **[`282f4fa`](https://github.com/sagemath/sagetrac-mirror/commit/282f4fab75cdad040af03705be15fce58a31f1f9)**",
    "created_at": "2014-10-05T18:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224632",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`487807c`](https://github.com/sagemath/sagetrac-mirror/commit/487807cdaaa32f8cf8090fa2271d8c5ac762252e)** to **[`282f4fa`](https://github.com/sagemath/sagetrac-mirror/commit/282f4fab75cdad040af03705be15fce58a31f1f9)**



---

archive/issue_comments_224633.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f248f2052b6f3e2e1a14f143d92cd68e37f55ee1\"><code>f248f20</code></a></td><td><code>Switch ipy -> ipython everywhere</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/282f4fab75cdad040af03705be15fce58a31f1f9\"><code>282f4fa</code></a></td><td><code>Split the SageInteractiveShell into terminal and notebook versions</code></td></tr></table>\n",
    "created_at": "2014-10-05T18:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224633",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f248f2052b6f3e2e1a14f143d92cd68e37f55ee1"><code>f248f20</code></a></td><td><code>Switch ipy -> ipython everywhere</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/282f4fab75cdad040af03705be15fce58a31f1f9"><code>282f4fa</code></a></td><td><code>Split the SageInteractiveShell into terminal and notebook versions</code></td></tr></table>




---

archive/issue_comments_224634.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nBang specials (`!ls`) work now.",
    "created_at": "2014-10-05T18:54:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224634",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:30" align="right">comment:30</div>

Bang specials (`!ls`) work now.



---

archive/issue_comments_224635.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nHi,\nI've just tried it (building it by \"make\" after a merge of the ticket branch into Sage 6.4-beta4). It works very nicely! Just missing the MathJax typeset output, but I understand this is for the next step. In my opinion (but I am not a IPython notebook expert), it should get a positive review.",
    "created_at": "2014-10-07T08:59:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224635",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:32" align="right">comment:32</div>

Hi,
I've just tried it (building it by "make" after a merge of the ticket branch into Sage 6.4-beta4). It works very nicely! Just missing the MathJax typeset output, but I understand this is for the next step. In my opinion (but I am not a IPython notebook expert), it should get a positive review.



---

archive/issue_comments_224636.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nThe buildbot says the following tests fails:\n\n```\nsage -t src/sage/crypto/mq/sr.py  # 5 doctests failed\nsage -t src/sage/modular/modform/numerical.py  # 2 doctests failed\nsage -t src/sage/repl/notebook_ipython.py  # 9 doctests failed\nsage -t src/sage/rings/polynomial/multi_polynomial_sequence.py  # 9 doctests failed\nsage -t src/sage/rings/polynomial/pbori.pyx  # Killed due to segmentation fault\nsage -t src/sage/rings/polynomial/polynomial_element.pyx  # 2 doctests failed\nsage -t src/sage/rings/real_double.pyx  # 2 doctests failed\n```\n\nI tested the same files on my machine and I get:\n\n```\nsage -t src/sage/crypto/mq/sr.py  # Killed due to bus error\nsage -t src/sage/repl/notebook_ipython.py  # 1 doctest failed\nsage -t src/sage/rings/polynomial/multi_polynomial_sequence.py  # 9 doctests failed\nsage -t src/sage/rings/polynomial/pbori.pyx  # Killed due to bus error\nsage -t src/sage/rings/polynomial/polynomial_element.pyx  # 6 doctests failed\nsage -t src/sage/rings/real_double.pyx  # 2 doctests failed\n```\n\nFull log is available here: http://boxen.math.washington.edu/home/slabbe/trac_16996.log\n\nNote: the link is broken. I don't know why. I scp the file on my account on the server `sage.math.washington.edu` as before. What is the url of it then?",
    "created_at": "2014-10-07T18:33:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224636",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:33" align="right">comment:33</div>

The buildbot says the following tests fails:

```
sage -t src/sage/crypto/mq/sr.py  # 5 doctests failed
sage -t src/sage/modular/modform/numerical.py  # 2 doctests failed
sage -t src/sage/repl/notebook_ipython.py  # 9 doctests failed
sage -t src/sage/rings/polynomial/multi_polynomial_sequence.py  # 9 doctests failed
sage -t src/sage/rings/polynomial/pbori.pyx  # Killed due to segmentation fault
sage -t src/sage/rings/polynomial/polynomial_element.pyx  # 2 doctests failed
sage -t src/sage/rings/real_double.pyx  # 2 doctests failed
```

I tested the same files on my machine and I get:

```
sage -t src/sage/crypto/mq/sr.py  # Killed due to bus error
sage -t src/sage/repl/notebook_ipython.py  # 1 doctest failed
sage -t src/sage/rings/polynomial/multi_polynomial_sequence.py  # 9 doctests failed
sage -t src/sage/rings/polynomial/pbori.pyx  # Killed due to bus error
sage -t src/sage/rings/polynomial/polynomial_element.pyx  # 6 doctests failed
sage -t src/sage/rings/real_double.pyx  # 2 doctests failed
```

Full log is available here: http://boxen.math.washington.edu/home/slabbe/trac_16996.log

Note: the link is broken. I don't know why. I scp the file on my account on the server `sage.math.washington.edu` as before. What is the url of it then?



---

archive/issue_comments_224637.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@seblabbe](#comment:33):\n\nHi S\u00e9bastien,\n\nOn my machine, with branch u/vbraun/sage_ipynb merged into sage 6.4 beta4, all the above tests passed. Which version of Sage are you using ?",
    "created_at": "2014-10-07T19:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224637",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@seblabbe](#comment:33):

Hi Sébastien,

On my machine, with branch u/vbraun/sage_ipynb merged into sage 6.4 beta4, all the above tests passed. Which version of Sage are you using ?



---

archive/issue_comments_224638.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nWe don't serve all home directories any more. Contact William if you want yours to be whitelisted.",
    "created_at": "2014-10-07T19:29:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224638",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:35" align="right">comment:35</div>

We don't serve all home directories any more. Contact William if you want yours to be whitelisted.



---

archive/issue_comments_224639.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nPS: The branch doesn't include the `SAGE_UPGRADING` fix so you probably have to `make distclean && make` to compile it correctly.",
    "created_at": "2014-10-07T19:30:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224639",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:36" align="right">comment:36</div>

PS: The branch doesn't include the `SAGE_UPGRADING` fix so you probably have to `make distclean && make` to compile it correctly.



---

archive/issue_comments_224640.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\n- The example in `cmdline2argspec` is kind of ridiculous. I would just delete it.\n- Should the usage string produced by `sage --notebook -h` actually say what the default notebook is? I think so: the default should be clearly documented without reading the source code.\n- It seems odd that `sage --notebook --notebook sagenb` is valid syntax, but I don't really care.\n- Do we need to deprecate the \"insecure\" notebook? Again, I don't really care, but I thought I would ask.\n\nI don't know enough about the graphics/plotting interface to know if the changes here are sensible. Anyone else? My only impression is that the `graphics_file` module should have more documentation: I don't know at a glance why or how to use it. The doctest coverage for that file is bad, also. Everything else looks okay, although I haven't looked in great detail at all of it.",
    "created_at": "2014-10-07T21:39:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224640",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:37" align="right">comment:37</div>

- The example in `cmdline2argspec` is kind of ridiculous. I would just delete it.
- Should the usage string produced by `sage --notebook -h` actually say what the default notebook is? I think so: the default should be clearly documented without reading the source code.
- It seems odd that `sage --notebook --notebook sagenb` is valid syntax, but I don't really care.
- Do we need to deprecate the "insecure" notebook? Again, I don't really care, but I thought I would ask.

I don't know enough about the graphics/plotting interface to know if the changes here are sensible. Anyone else? My only impression is that the `graphics_file` module should have more documentation: I don't know at a glance why or how to use it. The doctest coverage for that file is bad, also. Everything else looks okay, although I haven't looked in great detail at all of it.



---

archive/issue_comments_224641.json:
```json
{
    "body": "Changed commit from **[`282f4fa`](https://github.com/sagemath/sagetrac-mirror/commit/282f4fab75cdad040af03705be15fce58a31f1f9)** to **[`75bc455`](https://github.com/sagemath/sagetrac-mirror/commit/75bc4551aa2cbe49fedac881f560248292185364)**",
    "created_at": "2014-10-07T22:00:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224641",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`282f4fa`](https://github.com/sagemath/sagetrac-mirror/commit/282f4fab75cdad040af03705be15fce58a31f1f9)** to **[`75bc455`](https://github.com/sagemath/sagetrac-mirror/commit/75bc4551aa2cbe49fedac881f560248292185364)**



---

archive/issue_comments_224642.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f4b1c860e3c4f7bfb20b1d7d84931bf8387a696\"><code>9f4b1c8</code></a></td><td><code>Remove left-over attempt at doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75bc4551aa2cbe49fedac881f560248292185364\"><code>75bc455</code></a></td><td><code>Mention the default notebook in the help</code></td></tr></table>\n",
    "created_at": "2014-10-07T22:00:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224642",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f4b1c860e3c4f7bfb20b1d7d84931bf8387a696"><code>9f4b1c8</code></a></td><td><code>Remove left-over attempt at doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75bc4551aa2cbe49fedac881f560248292185364"><code>75bc455</code></a></td><td><code>Mention the default notebook in the help</code></td></tr></table>




---

archive/issue_comments_224643.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\n* Removed the example, that was from when I was trying to doctest it (turns out `src/bin` scripts are not doctested, but thats another issue)\n* Added the default to the help string.\n* `ls --color=never --color=always` is valid as well. This is how argparse operates.\n* Nothing changed with the insecure notebook, I just consolidated all launcher scripts into one. That doesn't change the fact that `sage -notebook` and `sage -inotebook` launch the same thing, `secure=False` is the default.\n* The `graphics_file` needs to be refactored to support more than just raster graphics anyways (see discussion), so I didn't document it all. In any case its a displayhook internal.",
    "created_at": "2014-10-07T22:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224643",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:39" align="right">comment:39</div>

* Removed the example, that was from when I was trying to doctest it (turns out `src/bin` scripts are not doctested, but thats another issue)
* Added the default to the help string.
* `ls --color=never --color=always` is valid as well. This is how argparse operates.
* Nothing changed with the insecure notebook, I just consolidated all launcher scripts into one. That doesn't change the fact that `sage -notebook` and `sage -inotebook` launch the same thing, `secure=False` is the default.
* The `graphics_file` needs to be refactored to support more than just raster graphics anyways (see discussion), so I didn't document it all. In any case its a displayhook internal.



---

archive/issue_comments_224644.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec42cdfb5710225b820f58e242d05326a1a3a494\"><code>ec42cdf</code></a></td><td><code>deprecate the -inotebook option</code></td></tr></table>\n",
    "created_at": "2014-10-07T22:09:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224644",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec42cdfb5710225b820f58e242d05326a1a3a494"><code>ec42cdf</code></a></td><td><code>deprecate the -inotebook option</code></td></tr></table>




---

archive/issue_comments_224645.json:
```json
{
    "body": "Changed commit from **[`75bc455`](https://github.com/sagemath/sagetrac-mirror/commit/75bc4551aa2cbe49fedac881f560248292185364)** to **[`ec42cdf`](https://github.com/sagemath/sagetrac-mirror/commit/ec42cdfb5710225b820f58e242d05326a1a3a494)**",
    "created_at": "2014-10-07T22:09:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224645",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`75bc455`](https://github.com/sagemath/sagetrac-mirror/commit/75bc4551aa2cbe49fedac881f560248292185364)** to **[`ec42cdf`](https://github.com/sagemath/sagetrac-mirror/commit/ec42cdfb5710225b820f58e242d05326a1a3a494)**



---

archive/issue_comments_224646.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI've added a `(deprecated)` to the inotebook option, hopefully we can get rid of it in the future.",
    "created_at": "2014-10-07T22:10:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224646",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:41" align="right">comment:41</div>

I've added a `(deprecated)` to the inotebook option, hopefully we can get rid of it in the future.



---

archive/issue_comments_224647.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@vbraun](#comment:39):\n> * Added the default to the help string.\n\nCan the default (sagenb vs ipython) be changed by the user? If yes, how?",
    "created_at": "2014-10-08T06:48:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224647",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@vbraun](#comment:39):
> * Added the default to the help string.

Can the default (sagenb vs ipython) be changed by the user? If yes, how?



---

archive/issue_comments_224648.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nIt seems there is a space missing in the usage line :`sage-notebook` instead of `sage -notebook`.\n\n```\n$ sage -notebook -h\nusage: sage-notebook [-h] [--log LOG] [--notebook [NOTEBOOK]]\n```\n\n```\n$ sage -docbuild -h\nUsage: sage -docbuild [OPTIONS] DOCUMENT (FORMAT | COMMAND)\n```\n\nI also wonder why `-n` is not listed first on the line (compare with `sage -docbuild -h`):\n\n```\n  --notebook [NOTEBOOK], -n [NOTEBOOK], -notebook [NOTEBOOK]\n```\n\nTo me it is an important feature that `sage -ipython notebook` directly lands in the present working directory. And I will be disappointed if `sage -notebook=ipython` does not. What is the opinion of other users about this?\n\nI am sory to say this, but to me if we default to `--notebook-dir=DOT_SAGE/notebooks_ipython` we follow stupidly a bad design choice of the previous notebook.\n\n> The standard IPython notebook command line options work\n\nIn any case, should we document in `sage -notebook -h` that the long list of options of `sage -ipython notebook -h` can be used?",
    "created_at": "2014-10-08T07:34:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224648",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:43" align="right">comment:43</div>

It seems there is a space missing in the usage line :`sage-notebook` instead of `sage -notebook`.

```
$ sage -notebook -h
usage: sage-notebook [-h] [--log LOG] [--notebook [NOTEBOOK]]
```

```
$ sage -docbuild -h
Usage: sage -docbuild [OPTIONS] DOCUMENT (FORMAT | COMMAND)
```

I also wonder why `-n` is not listed first on the line (compare with `sage -docbuild -h`):

```
  --notebook [NOTEBOOK], -n [NOTEBOOK], -notebook [NOTEBOOK]
```

To me it is an important feature that `sage -ipython notebook` directly lands in the present working directory. And I will be disappointed if `sage -notebook=ipython` does not. What is the opinion of other users about this?

I am sory to say this, but to me if we default to `--notebook-dir=DOT_SAGE/notebooks_ipython` we follow stupidly a bad design choice of the previous notebook.

> The standard IPython notebook command line options work

In any case, should we document in `sage -notebook -h` that the long list of options of `sage -ipython notebook -h` can be used?



---

archive/issue_comments_224649.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nIf `DOT_SAGE/notebooks_ipython` dir exists, `sage -t src/sage/repl/notebook_ipython.py` returns `All tests passed!`. But if the dir does not exist, then one test is failing:\n\n```\nsage -t src/sage/repl/notebook_ipython.py  # 1 doctest failed   \n**********************************************************************                     \nFile \"src/sage/repl/notebook_ipython.py\", line 63, in sage.repl.notebook_ipython.SageNotebookApp.load_config_file\nFailed example:\n    app.load_config_file()    # random output                                                           \nException raised:\n    Traceback (most recent call last):\n    ...\n    TraitError: No such notebook dir: u'/Users/slabbe/.sage/notebooks_ipython' \n```",
    "created_at": "2014-10-08T07:48:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224649",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:44" align="right">comment:44</div>

If `DOT_SAGE/notebooks_ipython` dir exists, `sage -t src/sage/repl/notebook_ipython.py` returns `All tests passed!`. But if the dir does not exist, then one test is failing:

```
sage -t src/sage/repl/notebook_ipython.py  # 1 doctest failed   
**********************************************************************                     
File "src/sage/repl/notebook_ipython.py", line 63, in sage.repl.notebook_ipython.SageNotebookApp.load_config_file
Failed example:
    app.load_config_file()    # random output                                                           
Exception raised:
    Traceback (most recent call last):
    ...
    TraitError: No such notebook dir: u'/Users/slabbe/.sage/notebooks_ipython' 
```



---

archive/issue_comments_224650.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nThe default can't be changed without editing the source. You can always make an alias if its too much effort to type out.\n\nThe notebook launch script is `sage-notebook`, so this is the name that appears in the `usage:` help. We could override it but IMHO that would be even more confusing. Can't really be fixed without #21.",
    "created_at": "2014-10-08T11:48:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224650",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:45" align="right">comment:45</div>

The default can't be changed without editing the source. You can always make an alias if its too much effort to type out.

The notebook launch script is `sage-notebook`, so this is the name that appears in the `usage:` help. We could override it but IMHO that would be even more confusing. Can't really be fixed without #21.



---

archive/issue_comments_224651.json:
```json
{
    "body": "Changed commit from **[`ec42cdf`](https://github.com/sagemath/sagetrac-mirror/commit/ec42cdfb5710225b820f58e242d05326a1a3a494)** to **[`11326b6`](https://github.com/sagemath/sagetrac-mirror/commit/11326b6283478ebf366fed9abc868434ee9f88c8)**",
    "created_at": "2014-10-08T12:51:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224651",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ec42cdf`](https://github.com/sagemath/sagetrac-mirror/commit/ec42cdfb5710225b820f58e242d05326a1a3a494)** to **[`11326b6`](https://github.com/sagemath/sagetrac-mirror/commit/11326b6283478ebf366fed9abc868434ee9f88c8)**



---

archive/issue_comments_224652.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d034cc9f011239e9b689e1cfec296a4ceb1ca11\"><code>9d034cc</code></a></td><td><code>More command line help description</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11326b6283478ebf366fed9abc868434ee9f88c8\"><code>11326b6</code></a></td><td><code>Make doctests work even if you never ran the ipython notebook before</code></td></tr></table>\n",
    "created_at": "2014-10-08T12:51:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224652",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d034cc9f011239e9b689e1cfec296a4ceb1ca11"><code>9d034cc</code></a></td><td><code>More command line help description</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11326b6283478ebf366fed9abc868434ee9f88c8"><code>11326b6</code></a></td><td><code>Make doctests work even if you never ran the ipython notebook before</code></td></tr></table>




---

archive/issue_comments_224653.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\n* The order of `--notebook [NOTEBOOK], -n [NOTEBOOK]` is fixed in sage-notebook and I prefer it that way (most descriptive first).\n\n* I also think its unproductive to start a discussion about whether or not we should start in a particular directory. This is what the old notebook does, if you don't like it then open a ticket or post on sage-devel. I don't really care either way, but the behavior has to match.\n\n* I fixed the doctest error when you never ran the ipython notebook before.",
    "created_at": "2014-10-08T12:52:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224653",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:47" align="right">comment:47</div>

* The order of `--notebook [NOTEBOOK], -n [NOTEBOOK]` is fixed in sage-notebook and I prefer it that way (most descriptive first).

* I also think its unproductive to start a discussion about whether or not we should start in a particular directory. This is what the old notebook does, if you don't like it then open a ticket or post on sage-devel. I don't really care either way, but the behavior has to match.

* I fixed the doctest error when you never ran the ipython notebook before.



---

archive/issue_comments_224654.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\n> * I also think its unproductive to start a discussion about whether or not we should start in a particular directory.\n\nOk I agree. This should be discussed on sage-devel.\n\nI agree with John Palmieri about the doctest coverage in the `graphics_file` class. I think it should be 100% doctested and should not be too long to do so. Other than that, to me the ticket can get a positive review. (Note: I will not have much internet time in the next few days.)",
    "created_at": "2014-10-08T22:08:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224654",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:48" align="right">comment:48</div>

> * I also think its unproductive to start a discussion about whether or not we should start in a particular directory.

Ok I agree. This should be discussed on sage-devel.

I agree with John Palmieri about the doctest coverage in the `graphics_file` class. I think it should be 100% doctested and should not be too long to do so. Other than that, to me the ticket can get a positive review. (Note: I will not have much internet time in the next few days.)



---

archive/issue_comments_224655.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI said already that the `graphics_file` module needs to be rewritten to also allow for other forms of rich output. I'm not going to document it and then erase it in the next ticket.",
    "created_at": "2014-10-08T22:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224655",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:49" align="right">comment:49</div>

I said already that the `graphics_file` module needs to be rewritten to also allow for other forms of rich output. I'm not going to document it and then erase it in the next ticket.



---

archive/issue_comments_224656.json:
```json
{
    "body": "Changed commit from **[`11326b6`](https://github.com/sagemath/sagetrac-mirror/commit/11326b6283478ebf366fed9abc868434ee9f88c8)** to **[`c54edb5`](https://github.com/sagemath/sagetrac-mirror/commit/c54edb59a9c46c15dbe8a529efafe9c0cb2b17c9)**",
    "created_at": "2014-10-12T15:13:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224656",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`11326b6`](https://github.com/sagemath/sagetrac-mirror/commit/11326b6283478ebf366fed9abc868434ee9f88c8)** to **[`c54edb5`](https://github.com/sagemath/sagetrac-mirror/commit/c54edb59a9c46c15dbe8a529efafe9c0cb2b17c9)**



---

archive/issue_comments_224657.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c54edb59a9c46c15dbe8a529efafe9c0cb2b17c9\"><code>c54edb5</code></a></td><td><code>Better notebook-specific help</code></td></tr></table>\n",
    "created_at": "2014-10-12T15:13:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224657",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c54edb59a9c46c15dbe8a529efafe9c0cb2b17c9"><code>c54edb5</code></a></td><td><code>Better notebook-specific help</code></td></tr></table>




---

archive/issue_comments_224658.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman, S\u00e9bastien Labb\u00e9, John Palmieri, Eric Gourgoulhon, ssinglet**",
    "created_at": "2014-10-13T13:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224658",
    "user": "https://github.com/seblabbe"
}
```

Reviewer: **Karl-Dieter Crisman, Sébastien Labbé, John Palmieri, Eric Gourgoulhon, ssinglet**



---

archive/issue_comments_224659.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nI give this a positive review.\n\nUnfinished discussions (reported later) concerns:\n\n- the default directory for sage -notebook=ipython to be discussed on sage-devel\n- A new ticket should be created for the `graphics_file` module to be rewritten",
    "created_at": "2014-10-13T13:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224659",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:51" align="right">comment:51</div>

I give this a positive review.

Unfinished discussions (reported later) concerns:

- the default directory for sage -notebook=ipython to be discussed on sage-devel
- A new ticket should be created for the `graphics_file` module to be rewritten



---

archive/issue_events_242899.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2014-10-13T13:04:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16996#event-242899"
}
```



---

archive/issue_events_242900.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2014-10-13T13:04:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16996#event-242900"
}
```



---

archive/issue_comments_224660.json:
```json
{
    "body": "Changed reviewer from **Karl-Dieter Crisman, S\u00e9bastien Labb\u00e9, John Palmieri, Eric Gourgoulhon, ssinglet** to **Karl-Dieter Crisman, S\u00e9bastien Labb\u00e9, John Palmieri, Eric Gourgoulhon, Steve Singleton**",
    "created_at": "2014-10-13T13:09:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224660",
    "user": "https://github.com/vbraun"
}
```

Changed reviewer from **Karl-Dieter Crisman, Sébastien Labbé, John Palmieri, Eric Gourgoulhon, ssinglet** to **Karl-Dieter Crisman, Sébastien Labbé, John Palmieri, Eric Gourgoulhon, Steve Singleton**



---

archive/issue_events_242901.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-14T10:41:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16996#event-242901"
}
```



---

archive/issue_events_242902.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2fc399e25960514a3164080f800d867696480c49",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-10-14T10:41:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16996#event-242902"
}
```



---

archive/issue_comments_224661.json:
```json
{
    "body": "Changed branch from **[u/vbraun/sage_ipynb](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sage_ipynb)** to **[`c54edb5`](https://github.com/sagemath/sagetrac-mirror/commit/c54edb59a9c46c15dbe8a529efafe9c0cb2b17c9)**",
    "created_at": "2014-10-14T10:41:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224661",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/sage_ipynb](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/sage_ipynb)** to **[`c54edb5`](https://github.com/sagemath/sagetrac-mirror/commit/c54edb59a9c46c15dbe8a529efafe9c0cb2b17c9)**



---

archive/issue_comments_224662.json:
```json
{
    "body": "Changed commit from **[`c54edb5`](https://github.com/sagemath/sagetrac-mirror/commit/c54edb59a9c46c15dbe8a529efafe9c0cb2b17c9)** to none",
    "created_at": "2014-10-23T14:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224662",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[`c54edb5`](https://github.com/sagemath/sagetrac-mirror/commit/c54edb59a9c46c15dbe8a529efafe9c0cb2b17c9)** to none



---

archive/issue_comments_224663.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\n> Unfinished discussions (reported later) concerns:\n> \n> - the default directory for sage -notebook=ipython to be discussed on sage-devel\n\nThis is now #17203.\n\nVolker I am sure you can fix #17203 much quicklier than me since you put your hands in those files recently. Will you have time to work on #17203 in the next days?\n\nS\u00e9bastien",
    "created_at": "2014-10-23T14:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224663",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:54" align="right">comment:54</div>

> Unfinished discussions (reported later) concerns:
> 
> - the default directory for sage -notebook=ipython to be discussed on sage-devel

This is now #17203.

Volker I am sure you can fix #17203 much quicklier than me since you put your hands in those files recently. Will you have time to work on #17203 in the next days?

Sébastien



---

archive/issue_comments_224664.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nSee https://groups.google.com/d/msg/sage-release/xgmJ3nAcUOY/d9-MZLTyowYJ for some regressions/incompatible changes in the syntax for command line launch of sagenb, presumably introduced in this ticket.",
    "created_at": "2014-11-03T13:35:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224664",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:55" align="right">comment:55</div>

See https://groups.google.com/d/msg/sage-release/xgmJ3nAcUOY/d9-MZLTyowYJ for some regressions/incompatible changes in the syntax for command line launch of sagenb, presumably introduced in this ticket.



---

archive/issue_comments_224665.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nReplying to [@kcrisman](#comment:55):\n> some regressions/incompatible changes in the syntax for command line launch of sagenb, presumably introduced in this ticket.\n\nShould that be considered as a blocker ?\n\nSee also #17281 for another (easy) follow up ticket.",
    "created_at": "2014-11-03T15:45:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224665",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:56" align="right">comment:56</div>

Replying to [@kcrisman](#comment:55):
> some regressions/incompatible changes in the syntax for command line launch of sagenb, presumably introduced in this ticket.

Should that be considered as a blocker ?

See also #17281 for another (easy) follow up ticket.



---

archive/issue_comments_224666.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nthis ticket is closed. Followup is #17280",
    "created_at": "2014-11-03T15:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16996#issuecomment-224666",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:57" align="right">comment:57</div>

this ticket is closed. Followup is #17280
