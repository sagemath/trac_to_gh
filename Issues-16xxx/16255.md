# Issue 16255: FiniteStateMachine.with_final_word_out: New method

archive/issues_016018.json:
```json
{
    "body": "Constructs a finite state machine with final output words for all states by implicitly reading trailing letters until a final state is reached.\n    \nThis is e.g. useful for finite state machines operating on digit expansions: there, it is sometimes required to read a sufficient number of trailing zeros (at the most significant positions) in order to reach a final state and to flush all carries. In this case, this method constructs an essentially equivalent finite state machine in the sense that it not longer requires adding sufficiently many trailing zeros. However, it is the responsibility of the user to make sure that if adding trailing zeros to the input anyway, the output is equivalent.\n\nCC:  skropf\n\nKeywords: finite_state_machine\n\nBranch/Commit: 7db57742c744f66ae944ea22231a55c9ca498514\n\nReviewer: Daniel Krenn, Sara Kropf\n\nAuthor: Clemens Heuberger, Daniel Krenn\n\nDependencies: #16145, #16206, #16207, #16253\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16255\n\n",
    "closed_at": "2014-05-21T20:56:08Z",
    "created_at": "2014-04-28T05:17:52Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "FiniteStateMachine.with_final_word_out: New method",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16255",
    "user": "https://github.com/cheuberg"
}
```
Constructs a finite state machine with final output words for all states by implicitly reading trailing letters until a final state is reached.
    
This is e.g. useful for finite state machines operating on digit expansions: there, it is sometimes required to read a sufficient number of trailing zeros (at the most significant positions) in order to reach a final state and to flush all carries. In this case, this method constructs an essentially equivalent finite state machine in the sense that it not longer requires adding sufficiently many trailing zeros. However, it is the responsibility of the user to make sure that if adding trailing zeros to the input anyway, the output is equivalent.

CC:  skropf

Keywords: finite_state_machine

Branch/Commit: 7db57742c744f66ae944ea22231a55c9ca498514

Reviewer: Daniel Krenn, Sara Kropf

Author: Clemens Heuberger, Daniel Krenn

Dependencies: #16145, #16206, #16207, #16253

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16255





---

archive/issue_comments_265359.json:
```json
{
    "body": "Changing branch from \"\" to \"u/cheuberg/fsm/with_final_word_out\"",
    "created_at": "2014-04-28T09:02:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265359",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "" to "u/cheuberg/fsm/with_final_word_out"



---

archive/issue_comments_265360.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-04-28T09:02:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265360",
    "user": "https://github.com/cheuberg"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_265361.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,6 @@\n Constructs a finite state machine with final output words for all states by implicitly reading trailing letters until a final state is reached.\n     \n This is e.g. useful for finite state machines operating on digit expansions: there, it is sometimes required to read a sufficient number of trailing zeros (at the most significant positions) in order to reach a final state and to flush all carries. In this case, this method constructs an essentially equivalent finite state machine in the sense that it not longer requires adding sufficiently many trailing zeros. However, it is the responsibility of the user to make sure that if adding trailing zeros to the input anyway, the output is equivalent.\n-\n-Patch is in preparation.\n \n Author: Clemens Heuberger\n \n``````\n",
    "created_at": "2014-04-28T09:02:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265361",
    "user": "https://github.com/cheuberg"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,6 @@
 Constructs a finite state machine with final output words for all states by implicitly reading trailing letters until a final state is reached.
     
 This is e.g. useful for finite state machines operating on digit expansions: there, it is sometimes required to read a sufficient number of trailing zeros (at the most significant positions) in order to reach a final state and to flush all carries. In this case, this method constructs an essentially equivalent finite state machine in the sense that it not longer requires adding sufficiently many trailing zeros. However, it is the responsibility of the user to make sure that if adding trailing zeros to the input anyway, the output is equivalent.
-
-Patch is in preparation.
 
 Author: Clemens Heuberger
 
``````




---

archive/issue_comments_265362.json:
```json
{
    "body": "Changing commit from \"\" to \"2c11f6a0024ee6c7a663ea687c9d44c6b987b348\"",
    "created_at": "2014-04-28T09:02:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265362",
    "user": "https://github.com/cheuberg"
}
```

Changing commit from "" to "2c11f6a0024ee6c7a663ea687c9d44c6b987b348"



---

archive/issue_comments_265363.json:
```json
{
    "body": "<a id='comment:1'></a>Last 10 new commits:",
    "created_at": "2014-04-28T09:02:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265363",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:1'></a>Last 10 new commits:



---

archive/issue_comments_265364.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/fsm/with_final_word_out\" to \"u/dkrenn/fsm/with_final_word_out\"",
    "created_at": "2014-05-02T17:55:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265364",
    "user": "https://github.com/dkrenn"
}
```

Changing branch from "u/cheuberg/fsm/with_final_word_out" to "u/dkrenn/fsm/with_final_word_out"



---

archive/issue_comments_265365.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Daniel Krenn\"",
    "created_at": "2014-05-02T18:01:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265365",
    "user": "https://github.com/dkrenn"
}
```

Changing reviewer from "" to "Daniel Krenn"



---

archive/issue_comments_265366.json:
```json
{
    "body": "Changing commit from \"2c11f6a0024ee6c7a663ea687c9d44c6b987b348\" to \"fe32df836177f9eadf140014160701b503b7c6aa\"",
    "created_at": "2014-05-02T18:01:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265366",
    "user": "https://github.com/dkrenn"
}
```

Changing commit from "2c11f6a0024ee6c7a663ea687c9d44c6b987b348" to "fe32df836177f9eadf140014160701b503b7c6aa"



---

archive/issue_comments_265367.json:
```json
{
    "body": "Changing author from \"Clemens Heuberger\" to \"Clemens Heuberger, Daniel Krenn\"",
    "created_at": "2014-05-02T18:01:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265367",
    "user": "https://github.com/dkrenn"
}
```

Changing author from "Clemens Heuberger" to "Clemens Heuberger, Daniel Krenn"



---

archive/issue_comments_265368.json:
```json
{
    "body": "<a id='comment:3'></a>I've did a very careful reviewing. Everything was fine. I decided to extend its functionality. Please review those changes.\n\n---\nNew commits:",
    "created_at": "2014-05-02T18:01:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265368",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:3'></a>I've did a very careful reviewing. Everything was fine. I decided to extend its functionality. Please review those changes.

---
New commits:



---

archive/issue_events_047921.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16255#event-47921"
}
```



---

archive/issue_comments_265369.json:
```json
{
    "body": "Changing branch from \"u/dkrenn/fsm/with_final_word_out\" to \"u/skropf/fsm/with_final_word_out\"",
    "created_at": "2014-05-06T15:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265369",
    "user": "https://trac.sagemath.org/admin/accounts/users/skropf"
}
```

Changing branch from "u/dkrenn/fsm/with_final_word_out" to "u/skropf/fsm/with_final_word_out"



---

archive/issue_comments_265370.json:
```json
{
    "body": "Changing branch from \"u/skropf/fsm/with_final_word_out\" to \"u/cheuberg/fsm/with_final_word_out\"",
    "created_at": "2014-05-07T19:12:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265370",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "u/skropf/fsm/with_final_word_out" to "u/cheuberg/fsm/with_final_word_out"



---

archive/issue_comments_265371.json:
```json
{
    "body": "Changing commit from \"fe32df836177f9eadf140014160701b503b7c6aa\" to \"1382dec088477ed314f206715e83a844690b2c2c\"",
    "created_at": "2014-05-07T19:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265371",
    "user": "https://github.com/cheuberg"
}
```

Changing commit from "fe32df836177f9eadf140014160701b503b7c6aa" to "1382dec088477ed314f206715e83a844690b2c2c"



---

archive/issue_comments_265372.json:
```json
{
    "body": "<a id='comment:7'></a>Last 10 new commits:",
    "created_at": "2014-05-07T19:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265372",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:7'></a>Last 10 new commits:



---

archive/issue_comments_265373.json:
```json
{
    "body": "<a id='comment:8'></a>I rewrote some docstrings, then I rewrote\nso that all intermediate results are cached. Please review.",
    "created_at": "2014-05-07T19:19:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265373",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:8'></a>I rewrote some docstrings, then I rewrote
so that all intermediate results are cached. Please review.



---

archive/issue_comments_265374.json:
```json
{
    "body": "Changing commit from \"1382dec088477ed314f206715e83a844690b2c2c\" to \"a466e625f539a576b9790e7022bb6373f05fb1cc\"",
    "created_at": "2014-05-16T06:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265374",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1382dec088477ed314f206715e83a844690b2c2c" to "a466e625f539a576b9790e7022bb6373f05fb1cc"



---

archive/issue_comments_265375.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-16T06:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265375",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_265376.json:
```json
{
    "body": "Changing commit from \"a466e625f539a576b9790e7022bb6373f05fb1cc\" to \"5135618522e478115b5e0d342f08cf0bbbbe4fa0\"",
    "created_at": "2014-05-16T06:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265376",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a466e625f539a576b9790e7022bb6373f05fb1cc" to "5135618522e478115b5e0d342f08cf0bbbbe4fa0"



---

archive/issue_comments_265377.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-16T06:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265377",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_265378.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/fsm/with_final_word_out\" to \"u/skropf/fsm/with_final_word_out\"",
    "created_at": "2014-05-21T13:48:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265378",
    "user": "https://trac.sagemath.org/admin/accounts/users/skropf"
}
```

Changing branch from "u/cheuberg/fsm/with_final_word_out" to "u/skropf/fsm/with_final_word_out"



---

archive/issue_comments_265379.json:
```json
{
    "body": "Changing reviewer from \"Daniel Krenn\" to \"Daniel Krenn, Sara Kropf\"",
    "created_at": "2014-05-21T13:48:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265379",
    "user": "https://trac.sagemath.org/admin/accounts/users/skropf"
}
```

Changing reviewer from "Daniel Krenn" to "Daniel Krenn, Sara Kropf"



---

archive/issue_comments_265380.json:
```json
{
    "body": "Changing commit from \"5135618522e478115b5e0d342f08cf0bbbbe4fa0\" to \"5ca61d1e7360dfb54b4b65605e7be4f125734dae\"",
    "created_at": "2014-05-21T13:48:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265380",
    "user": "https://trac.sagemath.org/admin/accounts/users/skropf"
}
```

Changing commit from "5135618522e478115b5e0d342f08cf0bbbbe4fa0" to "5ca61d1e7360dfb54b4b65605e7be4f125734dae"



---

archive/issue_comments_265381.json:
```json
{
    "body": "<a id='comment:11'></a>I added a doctest and a comment to clarify that final states with empty final output are considered in the right way.\n\n---\nNew commits:",
    "created_at": "2014-05-21T13:48:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265381",
    "user": "https://trac.sagemath.org/admin/accounts/users/skropf"
}
```

<a id='comment:11'></a>I added a doctest and a comment to clarify that final states with empty final output are considered in the right way.

---
New commits:



---

archive/issue_comments_265382.json:
```json
{
    "body": "Changing branch from \"u/skropf/fsm/with_final_word_out\" to \"u/dkrenn/fsm/with_final_word_out\"",
    "created_at": "2014-05-21T13:54:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265382",
    "user": "https://github.com/dkrenn"
}
```

Changing branch from "u/skropf/fsm/with_final_word_out" to "u/dkrenn/fsm/with_final_word_out"



---

archive/issue_comments_265383.json:
```json
{
    "body": "<a id='comment:13'></a>Reviewed the changes. Everything looks fine now.\n\n---\nNew commits:",
    "created_at": "2014-05-21T13:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265383",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:13'></a>Reviewed the changes. Everything looks fine now.

---
New commits:



---

archive/issue_comments_265384.json:
```json
{
    "body": "Changing commit from \"5ca61d1e7360dfb54b4b65605e7be4f125734dae\" to \"7db57742c744f66ae944ea22231a55c9ca498514\"",
    "created_at": "2014-05-21T13:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265384",
    "user": "https://github.com/dkrenn"
}
```

Changing commit from "5ca61d1e7360dfb54b4b65605e7be4f125734dae" to "7db57742c744f66ae944ea22231a55c9ca498514"



---

archive/issue_comments_265385.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-21T13:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265385",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_047922.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-21T20:56:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16255#event-47922"
}
```



---

archive/issue_comments_265386.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-21T20:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265386",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_265387.json:
```json
{
    "body": "Changing branch from \"u/dkrenn/fsm/with_final_word_out\" to \"7db57742c744f66ae944ea22231a55c9ca498514\"",
    "created_at": "2014-05-21T20:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16255#issuecomment-265387",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dkrenn/fsm/with_final_word_out" to "7db57742c744f66ae944ea22231a55c9ca498514"
