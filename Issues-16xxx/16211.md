# Issue 16211: Implement Hadamard 3-Designs

archive/issues_015974.json:
```json
{
    "body": "At the moment in sage-6.2.beta7, in designs.HadamardDesign, we have implemented the Hadamard 2-design with paramters 2-(4n-1, 2n-1, n-1) one gets from a Hadamard matrix of order 4n. \n\nBut, of course, this design extends uniquely to a (necessarily) 2-(4n, 2n, n-1) design: the blocks of this design are blocks of the old design union a new point infinity and complements (in the old point set) of the blocks of old design. And, any contraction is isomorphic to a Hadamard 2-design we started off with. So, unsurprisingly, this family is called Hadamard 3-designs.\n\nWe could very easily implement these too. \n\nCC:  @nathanncohen\n\nBranch/Commit: efcee001368f7964fbbaf944da6e9445f11f2d14\n\nReviewer: Nathann Cohen\n\nAuthor: Kannappan Sampath\n\nDependencies: #16237\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16211\n\n",
    "closed_at": "2014-05-13T13:11:31Z",
    "created_at": "2014-04-22T22:31:01Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Implement Hadamard 3-Designs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16211",
    "user": "https://github.com/KPanComputes"
}
```
At the moment in sage-6.2.beta7, in designs.HadamardDesign, we have implemented the Hadamard 2-design with paramters 2-(4n-1, 2n-1, n-1) one gets from a Hadamard matrix of order 4n. 

But, of course, this design extends uniquely to a (necessarily) 2-(4n, 2n, n-1) design: the blocks of this design are blocks of the old design union a new point infinity and complements (in the old point set) of the blocks of old design. And, any contraction is isomorphic to a Hadamard 2-design we started off with. So, unsurprisingly, this family is called Hadamard 3-designs.

We could very easily implement these too. 

CC:  @nathanncohen

Branch/Commit: efcee001368f7964fbbaf944da6e9445f11f2d14

Reviewer: Nathann Cohen

Author: Kannappan Sampath

Dependencies: #16237

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16211





---

archive/issue_comments_260681.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#16237\"",
    "created_at": "2014-05-02T20:37:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260681",
    "user": "https://github.com/KPanComputes"
}
```

Changing dependencies from "" to "#16237"



---

archive/issue_comments_260682.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                                                                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|\n|[5602e14](https://github.com/sagemath/sagetrac-mirror/commit/5602e14187bf45504a59c9aa9906a02c9bc84202)|`trac #16237: Indexing in IncidenceStructureFromMatrix method fixed. minor clean-up of Hadamard matrices; they are now normalised.`|\n|[bfb6add](https://github.com/sagemath/sagetrac-mirror/commit/bfb6add15dcd7c875b10f047921994d5e3c2bc5b)|`trac #16211: Implement Hadamard Three Designs.`|",
    "created_at": "2014-05-04T17:28:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260682",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                                                                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
|[5602e14](https://github.com/sagemath/sagetrac-mirror/commit/5602e14187bf45504a59c9aa9906a02c9bc84202)|`trac #16237: Indexing in IncidenceStructureFromMatrix method fixed. minor clean-up of Hadamard matrices; they are now normalised.`|
|[bfb6add](https://github.com/sagemath/sagetrac-mirror/commit/bfb6add15dcd7c875b10f047921994d5e3c2bc5b)|`trac #16211: Implement Hadamard Three Designs.`|



---

archive/issue_comments_260683.json:
```json
{
    "body": "Changing commit from \"\" to \"bfb6add15dcd7c875b10f047921994d5e3c2bc5b\"",
    "created_at": "2014-05-04T17:28:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260683",
    "user": "https://github.com/KPanComputes"
}
```

Changing commit from "" to "bfb6add15dcd7c875b10f047921994d5e3c2bc5b"



---

archive/issue_comments_260684.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-04T17:28:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260684",
    "user": "https://github.com/KPanComputes"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_260685.json:
```json
{
    "body": "Changing branch from \"\" to \"u/knsam/16211\"",
    "created_at": "2014-05-04T17:28:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260685",
    "user": "https://github.com/KPanComputes"
}
```

Changing branch from "" to "u/knsam/16211"



---

archive/issue_comments_260686.json:
```json
{
    "body": "Changing commit from \"bfb6add15dcd7c875b10f047921994d5e3c2bc5b\" to \"417b95994e01af32167c8dff5488b6f8d6a1c84a\"",
    "created_at": "2014-05-04T18:06:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260686",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bfb6add15dcd7c875b10f047921994d5e3c2bc5b" to "417b95994e01af32167c8dff5488b6f8d6a1c84a"



---

archive/issue_comments_260687.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[417b959](https://github.com/sagemath/sagetrac-mirror/commit/417b95994e01af32167c8dff5488b6f8d6a1c84a)|`trac #16211: Implement Hadamard Three Designs.`|",
    "created_at": "2014-05-04T18:06:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260687",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[417b959](https://github.com/sagemath/sagetrac-mirror/commit/417b95994e01af32167c8dff5488b6f8d6a1c84a)|`trac #16211: Implement Hadamard Three Designs.`|



---

archive/issue_comments_260688.json:
```json
{
    "body": "<a id='comment:4'></a>\nHello !\n\nThank you for this ticket. Nothing wrong in the maths now that `4` is excluded, so only administrative remarks\n\n1) Better to keep the first line of the docstring short and informative. And at most one line\n\n2) There should be an INPUT section, even though most of the functions of this file are a bit old and don't respect that\n\n3) You can link toward the doc of other functions, so unless you wanted to advertise the `designs.<tab>` thing it is better to use `:meth:` or `:func:` instead of just giving the function's name. This appears as a link in the final html doc \n` sage -docbuild reference/combinat html`\n\n4) Link toward a reference entry : you needs a _ after the [ref].\n\n5) The reference entry was badly formatted\n\n6) I did not understand the use of `.parent()` in this context. I removed it, and no problem. Integers are not so tricky that you need parents to handle them\n\nAll this has been implemented in a public/16211. As usual, positive review to your branch. If you agree with my changes (and change the branch's name or add my commits to your branch) then you can set the ticket to `positive_review`.\n\nNathann",
    "created_at": "2014-05-04T19:06:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260688",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>
Hello !

Thank you for this ticket. Nothing wrong in the maths now that `4` is excluded, so only administrative remarks

1) Better to keep the first line of the docstring short and informative. And at most one line

2) There should be an INPUT section, even though most of the functions of this file are a bit old and don't respect that

3) You can link toward the doc of other functions, so unless you wanted to advertise the `designs.<tab>` thing it is better to use `:meth:` or `:func:` instead of just giving the function's name. This appears as a link in the final html doc 
` sage -docbuild reference/combinat html`

4) Link toward a reference entry : you needs a _ after the [ref].

5) The reference entry was badly formatted

6) I did not understand the use of `.parent()` in this context. I removed it, and no problem. Integers are not so tricky that you need parents to handle them

All this has been implemented in a public/16211. As usual, positive review to your branch. If you agree with my changes (and change the branch's name or add my commits to your branch) then you can set the ticket to `positive_review`.

Nathann



---

archive/issue_comments_260689.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Nathann Cohen\"",
    "created_at": "2014-05-04T19:06:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260689",
    "user": "https://github.com/nathanncohen"
}
```

Changing reviewer from "" to "Nathann Cohen"



---

archive/issue_comments_260690.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[1a0b70b](https://github.com/sagemath/sagetrac-mirror/commit/1a0b70ba0ece2deebf6a97658f80d018347ddd95)|`trac #16211: Merged with 6.2.rc2`|\n|[306b8af](https://github.com/sagemath/sagetrac-mirror/commit/306b8af8bd0fc0f1a077238a9d6a10a1d8b08979)|`trac #16211: Reviewer's commit`|",
    "created_at": "2014-05-04T19:25:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260690",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[1a0b70b](https://github.com/sagemath/sagetrac-mirror/commit/1a0b70ba0ece2deebf6a97658f80d018347ddd95)|`trac #16211: Merged with 6.2.rc2`|
|[306b8af](https://github.com/sagemath/sagetrac-mirror/commit/306b8af8bd0fc0f1a077238a9d6a10a1d8b08979)|`trac #16211: Reviewer's commit`|



---

archive/issue_comments_260691.json:
```json
{
    "body": "Changing commit from \"417b95994e01af32167c8dff5488b6f8d6a1c84a\" to \"306b8af8bd0fc0f1a077238a9d6a10a1d8b08979\"",
    "created_at": "2014-05-04T19:25:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260691",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "417b95994e01af32167c8dff5488b6f8d6a1c84a" to "306b8af8bd0fc0f1a077238a9d6a10a1d8b08979"



---

archive/issue_comments_260692.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [ncohen](#comment%3A4):\n> Hello !\n> \n> Thank you for this ticket. Nothing wrong in the maths now that `4` is excluded, so only administrative remarks\n> \n> 1) Better to keep the first line of the docstring short and informative. And at most one line\n\n\nWill do from the next time! \n \n> 2) There should be an INPUT section, even though most of the functions of this file are a bit old and don't respect that\n\n\nI am planning on touching this file again, with more designs, so I will take this up that time... For example, circle geometries, inversive planes, translation planes are coming up next! \n\n\n> 3) You can link toward the doc of other functions, so unless you wanted to advertise the `designs.<tab>` thing it is better to use `:meth:` or `:func:` instead of just giving the function's name. This appears as a link in the final html doc \n> ` sage -docbuild reference/combinat html`\n> \n> 4) Link toward a reference entry : you needs a _ after the [ref].\n> \n> 5) The reference entry was badly formatted\n\n\nThank you for fixing these! \n\n> 6) I did not understand the use of `.parent()` in this context. I removed it, and no problem. Integers are not so tricky that you need parents to handle them\n\n\nOK! I was just emulating the construction of Hadamard 2-design code! \n\n> All this has been implemented in a public/16211. As usual, positive review to your branch. If you agree with my changes (and change the branch's name or add my commits to your branch) then you can set the ticket to `positive_review`.\n\n\nThank you for the review, Nathann! Your changes are merged and have been pushed! \n\nKannappan.",
    "created_at": "2014-05-04T19:37:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260692",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:6'></a>
Replying to [ncohen](#comment%3A4):
> Hello !
> 
> Thank you for this ticket. Nothing wrong in the maths now that `4` is excluded, so only administrative remarks
> 
> 1) Better to keep the first line of the docstring short and informative. And at most one line


Will do from the next time! 
 
> 2) There should be an INPUT section, even though most of the functions of this file are a bit old and don't respect that


I am planning on touching this file again, with more designs, so I will take this up that time... For example, circle geometries, inversive planes, translation planes are coming up next! 


> 3) You can link toward the doc of other functions, so unless you wanted to advertise the `designs.<tab>` thing it is better to use `:meth:` or `:func:` instead of just giving the function's name. This appears as a link in the final html doc 
> ` sage -docbuild reference/combinat html`
> 
> 4) Link toward a reference entry : you needs a _ after the [ref].
> 
> 5) The reference entry was badly formatted


Thank you for fixing these! 

> 6) I did not understand the use of `.parent()` in this context. I removed it, and no problem. Integers are not so tricky that you need parents to handle them


OK! I was just emulating the construction of Hadamard 2-design code! 

> All this has been implemented in a public/16211. As usual, positive review to your branch. If you agree with my changes (and change the branch's name or add my commits to your branch) then you can set the ticket to `positive_review`.


Thank you for the review, Nathann! Your changes are merged and have been pushed! 

Kannappan.



---

archive/issue_comments_260693.json:
```json
{
    "body": "Changing author from \"\" to \"Kannappan Sampath\"",
    "created_at": "2014-05-04T19:38:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260693",
    "user": "https://github.com/KPanComputes"
}
```

Changing author from "" to "Kannappan Sampath"



---

archive/issue_comments_260694.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-04T19:38:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260694",
    "user": "https://github.com/KPanComputes"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_062131.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16211#event-62131"
}
```



---

archive/issue_comments_260695.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-05-07T06:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260695",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_260696.json:
```json
{
    "body": "<a id='comment:9'></a>\nDocumentation doesn't build",
    "created_at": "2014-05-07T06:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260696",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:9'></a>
Documentation doesn't build



---

archive/issue_comments_260697.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[6e9bc4b](https://github.com/sagemath/sagetrac-mirror/commit/6e9bc4bca8762c6f171c1fa6d0d9ce1527351b83)|`trac #16211: Rebase on 6.2`|\n|[f15d592](https://github.com/sagemath/sagetrac-mirror/commit/f15d5926f1982375a3bd896ba71098b4e95e7d56)|`trac #16211: Broken doc`|\n|[f0017be](https://github.com/sagemath/sagetrac-mirror/commit/f0017be32db1e90988dc96c3833a31aa60337649)|`Merge branch 'public/16211' of trac.sagemath.org:sage into hadamard`|\n|[efcee00](https://github.com/sagemath/sagetrac-mirror/commit/efcee001368f7964fbbaf944da6e9445f11f2d14)|`trac 16211: Review reviewer patch.`|",
    "created_at": "2014-05-11T18:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260697",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[6e9bc4b](https://github.com/sagemath/sagetrac-mirror/commit/6e9bc4bca8762c6f171c1fa6d0d9ce1527351b83)|`trac #16211: Rebase on 6.2`|
|[f15d592](https://github.com/sagemath/sagetrac-mirror/commit/f15d5926f1982375a3bd896ba71098b4e95e7d56)|`trac #16211: Broken doc`|
|[f0017be](https://github.com/sagemath/sagetrac-mirror/commit/f0017be32db1e90988dc96c3833a31aa60337649)|`Merge branch 'public/16211' of trac.sagemath.org:sage into hadamard`|
|[efcee00](https://github.com/sagemath/sagetrac-mirror/commit/efcee001368f7964fbbaf944da6e9445f11f2d14)|`trac 16211: Review reviewer patch.`|



---

archive/issue_comments_260698.json:
```json
{
    "body": "Changing commit from \"306b8af8bd0fc0f1a077238a9d6a10a1d8b08979\" to \"efcee001368f7964fbbaf944da6e9445f11f2d14\"",
    "created_at": "2014-05-11T18:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260698",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "306b8af8bd0fc0f1a077238a9d6a10a1d8b08979" to "efcee001368f7964fbbaf944da6e9445f11f2d14"



---

archive/issue_comments_260699.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-05-11T18:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260699",
    "user": "https://github.com/KPanComputes"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_260700.json:
```json
{
    "body": "<a id='comment:11'></a>\nI guess the failing doc build has been fixed, thanks to Nathann's efforts to fix it! There was one more complaint and I fixed that one! This one now looks good to me! \n\n--Kannappan.",
    "created_at": "2014-05-11T18:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260700",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:11'></a>
I guess the failing doc build has been fixed, thanks to Nathann's efforts to fix it! There was one more complaint and I fixed that one! This one now looks good to me! 

--Kannappan.



---

archive/issue_events_062132.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-13T13:11:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16211#event-62132"
}
```



---

archive/issue_comments_260701.json:
```json
{
    "body": "Changing branch from \"u/knsam/16211\" to \"efcee001368f7964fbbaf944da6e9445f11f2d14\"",
    "created_at": "2014-05-13T13:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260701",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/knsam/16211" to "efcee001368f7964fbbaf944da6e9445f11f2d14"



---

archive/issue_comments_260702.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-13T13:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16211#issuecomment-260702",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
