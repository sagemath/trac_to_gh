# Issue 16279: BIBD from Transversal Designs

archive/issues_016042.json:
```json
{
    "body": "This branch implements three constructions of BIBD from transversal designs. Short, efficient, AND useful for the general construction of BIBD with k=5.\n\nAs found in http://www.argilo.net/files/bibd.pdf\n\nThe constructions are explained in the documentation, too.\n\nCC:  @videlec @brettpim @dimpase @KPanComputes\n\nKeywords: design, bibd\n\nBranch/Commit: 4115b7285b56268418304681ed36d08e58cfd3fe\n\nReviewer: Kannappan Sampath\n\nAuthor: Nathann Cohen\n\nDependencies: #16272, #16091\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16279\n\n",
    "closed_at": "2014-05-13T10:54:44Z",
    "created_at": "2014-05-02T16:58:51Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "BIBD from Transversal Designs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16279",
    "user": "https://github.com/nathanncohen"
}
```
This branch implements three constructions of BIBD from transversal designs. Short, efficient, AND useful for the general construction of BIBD with k=5.

As found in http://www.argilo.net/files/bibd.pdf

The constructions are explained in the documentation, too.

CC:  @videlec @brettpim @dimpase @KPanComputes

Keywords: design, bibd

Branch/Commit: 4115b7285b56268418304681ed36d08e58cfd3fe

Reviewer: Kannappan Sampath

Author: Nathann Cohen

Dependencies: #16272, #16091

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16279





---

archive/issue_comments_266398.json:
```json
{
    "body": "Changing branch from \"\" to \"u/ncohen/16279\"",
    "created_at": "2014-05-02T17:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266398",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "" to "u/ncohen/16279"



---

archive/issue_comments_266399.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-02T17:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266399",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_266400.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2014-05-02T17:00:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266400",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_266401.json:
```json
{
    "body": "Changing commit from \"\" to \"c881070eef242826e8ea0c3b3d60d1c41be61a64\"",
    "created_at": "2014-05-02T17:00:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266401",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "c881070eef242826e8ea0c3b3d60d1c41be61a64"



---

archive/issue_comments_266402.json:
```json
{
    "body": "Changing commit from \"c881070eef242826e8ea0c3b3d60d1c41be61a64\" to \"569c4858a95177d1075c756375c28d676f380586\"",
    "created_at": "2014-05-02T17:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266402",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c881070eef242826e8ea0c3b3d60d1c41be61a64" to "569c4858a95177d1075c756375c28d676f380586"



---

archive/issue_comments_266403.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-05-02T17:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266403",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_266404.json:
```json
{
    "body": "Changing commit from \"569c4858a95177d1075c756375c28d676f380586\" to \"60e8d35dbd2d0972fab0e306fcecac7e1225dc41\"",
    "created_at": "2014-05-04T16:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266404",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "569c4858a95177d1075c756375c28d676f380586" to "60e8d35dbd2d0972fab0e306fcecac7e1225dc41"



---

archive/issue_comments_266405.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2014-05-04T16:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266405",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_266406.json:
```json
{
    "body": "<a id='comment:5'></a>Still updating.. \n\nNathann",
    "created_at": "2014-05-04T16:34:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266406",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>Still updating.. 

Nathann



---

archive/issue_comments_266407.json:
```json
{
    "body": "Changing keywords from \"\" to \"design, bibd\".",
    "created_at": "2014-05-04T17:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266407",
    "user": "https://github.com/videlec"
}
```

Changing keywords from "" to "design, bibd".



---

archive/issue_comments_266408.json:
```json
{
    "body": "<a id='comment:6'></a>adding keyword...",
    "created_at": "2014-05-04T17:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266408",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>adding keyword...



---

archive/issue_events_047993.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16279#event-47993"
}
```



---

archive/issue_comments_266409.json:
```json
{
    "body": "<a id='comment:8'></a>Hi Nathann, \n\nI would like to review this patch and I have the following remarks about your patch: \n\n- The doc does not build and I have no idea how to fix these errors! \n- **Linguistic:** A BIBD is a pair (X, B) where X is the set of points and B is the set of blocks. But, the description of the new BIBD as well as how the given BIBD is used in the construction does not make things clear: you say replace sth by a BIBD: what does this mean?  \n\nIn view of these remarks, I am setting this to `needs_work` ;-).  \n\n[If not for the fact that does not build, I would have went ahead and made the other changes...] \n\n-- Kannappan.",
    "created_at": "2014-05-08T09:31:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266409",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:8'></a>Hi Nathann, 

I would like to review this patch and I have the following remarks about your patch: 

- The doc does not build and I have no idea how to fix these errors! 
- **Linguistic:** A BIBD is a pair (X, B) where X is the set of points and B is the set of blocks. But, the description of the new BIBD as well as how the given BIBD is used in the construction does not make things clear: you say replace sth by a BIBD: what does this mean?  

In view of these remarks, I am setting this to `needs_work` ;-).  

[If not for the fact that does not build, I would have went ahead and made the other changes...] 

-- Kannappan.



---

archive/issue_comments_266410.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-08T09:32:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266410",
    "user": "https://github.com/KPanComputes"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_266411.json:
```json
{
    "body": "<a id='comment:10'></a>That was because ``(v,k,1)`-BIBD` is okay for Sphinx, but ``(v,k,1)-`BIBD` is not. Which he clearly reported by saying \"Something is wrong\". I hate this thing.\n\nAnyway, fixed.\n\nI also avoided the word \"replaced\" using the same phrasing as in the two other constructions. I also replaced two occurrences of BIBD by BIBDs to make it clearer that we were talking of several BIBD.\n\nI also merged #16091 in, as it is a dependency of this patch.\n\nNathann",
    "created_at": "2014-05-08T10:00:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266411",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>That was because ``(v,k,1)`-BIBD` is okay for Sphinx, but ``(v,k,1)-`BIBD` is not. Which he clearly reported by saying "Something is wrong". I hate this thing.

Anyway, fixed.

I also avoided the word "replaced" using the same phrasing as in the two other constructions. I also replaced two occurrences of BIBD by BIBDs to make it clearer that we were talking of several BIBD.

I also merged #16091 in, as it is a dependency of this patch.

Nathann



---

archive/issue_comments_266412.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-08T10:01:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266412",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_266413.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-08T10:01:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266413",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_266414.json:
```json
{
    "body": "Changing commit from \"60e8d35dbd2d0972fab0e306fcecac7e1225dc41\" to \"e941a54dc3e757b359a54a9fd8f0f49358fad020\"",
    "created_at": "2014-05-08T10:01:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266414",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "60e8d35dbd2d0972fab0e306fcecac7e1225dc41" to "e941a54dc3e757b359a54a9fd8f0f49358fad020"



---

archive/issue_comments_266415.json:
```json
{
    "body": "<a id='comment:13'></a>Hi! \n\n- My doc building stops at: \n\n```\n[tensor   ] build succeeded.\n```\n\nI have seen that there is a discussion on sage-devel. So, I will see what I can do to fix it. I will have this patch reviewed by evening tommorrow (for me!). Sorry for the delay, Nathann.\n\n-- Kannappan. \n\n---\nNew commits:",
    "created_at": "2014-05-08T10:50:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266415",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:13'></a>Hi! 

- My doc building stops at: 

```
[tensor   ] build succeeded.
```

I have seen that there is a discussion on sage-devel. So, I will see what I can do to fix it. I will have this patch reviewed by evening tommorrow (for me!). Sorry for the delay, Nathann.

-- Kannappan. 

---
New commits:



---

archive/issue_comments_266416.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-10T21:31:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266416",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_266417.json:
```json
{
    "body": "Changing commit from \"e941a54dc3e757b359a54a9fd8f0f49358fad020\" to \"4115b7285b56268418304681ed36d08e58cfd3fe\"",
    "created_at": "2014-05-10T21:31:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266417",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e941a54dc3e757b359a54a9fd8f0f49358fad020" to "4115b7285b56268418304681ed36d08e58cfd3fe"



---

archive/issue_comments_266418.json:
```json
{
    "body": "<a id='comment:15'></a>Hi Nathann, \n\nI just have one query: given that the method is called BIBD_From_TD, I was expecting the function to return a block design, but it returns  a list instead. I also noted that this method is used in the `BalancedIncompleteBlockDesign` to construct a block design when `existence = True`. So, this is probably the desiderata, but I thought that this is worth pointing out... \n\nYou may set this to `positive review` if you would like to return a list instead of a `BlockDesign`... \n\nThis ticket reviewed using SMC!! :-)\n         --Kannappan.",
    "created_at": "2014-05-11T17:09:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266418",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:15'></a>Hi Nathann, 

I just have one query: given that the method is called BIBD_From_TD, I was expecting the function to return a block design, but it returns  a list instead. I also noted that this method is used in the `BalancedIncompleteBlockDesign` to construct a block design when `existence = True`. So, this is probably the desiderata, but I thought that this is worth pointing out... 

You may set this to `positive review` if you would like to return a list instead of a `BlockDesign`... 

This ticket reviewed using SMC!! :-)
         --Kannappan.



---

archive/issue_comments_266419.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Kannappan Sampath\"",
    "created_at": "2014-05-11T17:09:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266419",
    "user": "https://github.com/KPanComputes"
}
```

Changing reviewer from "" to "Kannappan Sampath"



---

archive/issue_comments_266420.json:
```json
{
    "body": "<a id='comment:16'></a>Helloooooooo !!!\n\n> I just have one query: given that the method is called BIBD_From_TD, I was expecting the function to return a block design, but it returns  a list instead.\n\n\nHmmmm... Well, admittedly I do not like to wrap a list in a class if I don't need to (because doing so may cost non-trivial computations), but in this case the function is really only made to be called by the \"main\" method, i.e. the constructor of BIBD. It can be called recursively, and it would be nice if we don't convert all the stuff into a Block Design during those calls as we have no reason to `^^;`\n\n> You may set this to `positive review` if you would like to return a list instead of a `BlockDesign`... \n\n\nThank you very much ! Now we are only one ticket away from having ALL bibd with k=5, and I have another code ready on my computer : Wilson's construction of MOLS with two truncated groups, which should make a big difference in our table of MOLS. But that's for a bit later, for many patches are still waiting to be merged and this is already sufficiently complicated as it is. Pretty soon, I hope !!!\n\nNathann",
    "created_at": "2014-05-12T09:15:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266420",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:16'></a>Helloooooooo !!!

> I just have one query: given that the method is called BIBD_From_TD, I was expecting the function to return a block design, but it returns  a list instead.


Hmmmm... Well, admittedly I do not like to wrap a list in a class if I don't need to (because doing so may cost non-trivial computations), but in this case the function is really only made to be called by the "main" method, i.e. the constructor of BIBD. It can be called recursively, and it would be nice if we don't convert all the stuff into a Block Design during those calls as we have no reason to `^^;`

> You may set this to `positive review` if you would like to return a list instead of a `BlockDesign`... 


Thank you very much ! Now we are only one ticket away from having ALL bibd with k=5, and I have another code ready on my computer : Wilson's construction of MOLS with two truncated groups, which should make a big difference in our table of MOLS. But that's for a bit later, for many patches are still waiting to be merged and this is already sufficiently complicated as it is. Pretty soon, I hope !!!

Nathann



---

archive/issue_comments_266421.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-12T09:15:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266421",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_266422.json:
```json
{
    "body": "Changing branch from \"u/ncohen/16279\" to \"4115b7285b56268418304681ed36d08e58cfd3fe\"",
    "created_at": "2014-05-13T10:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266422",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/ncohen/16279" to "4115b7285b56268418304681ed36d08e58cfd3fe"



---

archive/issue_events_047994.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-13T10:54:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16279#event-47994"
}
```



---

archive/issue_comments_266423.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-13T10:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16279",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16279#issuecomment-266423",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
