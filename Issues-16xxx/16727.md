# Issue 16727: IncidenceStructure.__contains__

archive/issues_016490.json:
```json
{
    "body": "Right now it is obtained through `.__iter__`, and it does not do the job\n\n```\nsage: [1,2,3,4] in IncidenceStructure([[1,2,3,4]])\nTrue\nsage: [4,3,2,1] in IncidenceStructure([[1,2,3,4]])\nFalse\n```\n\nCC:  @videlec @KPanComputes @dimpase\n\nBranch/Commit: c69307c42231458ba26b60b2259316ee38b4fa61\n\nReviewer: Dima Pasechnik\n\nAuthor: Nathann Cohen\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16727\n\n",
    "closed_at": "2014-07-31T00:44:27Z",
    "created_at": "2014-07-29T12:57:57Z",
    "labels": [
        "component: combinatorial designs"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "IncidenceStructure.__contains__",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16727",
    "user": "https://github.com/nathanncohen"
}
```
Right now it is obtained through `.__iter__`, and it does not do the job

```
sage: [1,2,3,4] in IncidenceStructure([[1,2,3,4]])
True
sage: [4,3,2,1] in IncidenceStructure([[1,2,3,4]])
False
```

CC:  @videlec @KPanComputes @dimpase

Branch/Commit: c69307c42231458ba26b60b2259316ee38b4fa61

Reviewer: Dima Pasechnik

Author: Nathann Cohen

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16727





---

archive/issue_comments_278379.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-07-29T12:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278379",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_278380.json:
```json
{
    "body": "Changing branch from \"\" to \"u/ncohen/16727\"",
    "created_at": "2014-07-29T12:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278380",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "" to "u/ncohen/16727"



---

archive/issue_comments_278381.json:
```json
{
    "body": "Changing commit from \"\" to \"1dd244ac51e990c6f7bafad7bb846a360e0b4d9c\"",
    "created_at": "2014-07-29T12:59:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278381",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "1dd244ac51e990c6f7bafad7bb846a360e0b4d9c"



---

archive/issue_comments_278382.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-29T12:59:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278382",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_278383.json:
```json
{
    "body": "<a id='comment:3'></a>at least some tests should use some \"real\" incidence structures, not just 1-element examples...",
    "created_at": "2014-07-29T13:12:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278383",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>at least some tests should use some "real" incidence structures, not just 1-element examples...



---

archive/issue_comments_278384.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-29T13:23:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278384",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_278385.json:
```json
{
    "body": "Changing commit from \"1dd244ac51e990c6f7bafad7bb846a360e0b4d9c\" to \"e7ef8c0e2b5f5ef36112428094faa8de2a32316c\"",
    "created_at": "2014-07-29T13:23:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278385",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1dd244ac51e990c6f7bafad7bb846a360e0b4d9c" to "e7ef8c0e2b5f5ef36112428094faa8de2a32316c"



---

archive/issue_comments_278386.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 git]:\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> |                                                                                                                                          |                                  |\n> |------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n> |[e7ef8c0](http://git.sagemath.org/sage.git/commit/?id=e7ef8c0e2b5f5ef36112428094faa8de2a32316c)|`trac #16727: Moloch! Time Eater!`|\n\n\nWell, test on non-degenerate examples, please! Your favourite STS on 15 points will do for sure...",
    "created_at": "2014-07-29T14:00:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278386",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>Replying to [comment:4 git]:
> Branch pushed to git repo; I updated commit sha1. New commits:
> |                                                                                                                                          |                                  |
> |------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
> |[e7ef8c0](http://git.sagemath.org/sage.git/commit/?id=e7ef8c0e2b5f5ef36112428094faa8de2a32316c)|`trac #16727: Moloch! Time Eater!`|


Well, test on non-degenerate examples, please! Your favourite STS on 15 points will do for sure...



---

archive/issue_comments_278387.json:
```json
{
    "body": "<a id='comment:6'></a>> Well, test on non-degenerate examples, please! Your favourite STS on 15 points will do for sure...\n\n\nHey Dima I have no idea what doctest you want me to write but I am not going to lose 10 minutes per try until I find out. Add a commit to the branch if you don't like my doctests.\n\nNathann",
    "created_at": "2014-07-29T14:04:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278387",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'></a>> Well, test on non-degenerate examples, please! Your favourite STS on 15 points will do for sure...


Hey Dima I have no idea what doctest you want me to write but I am not going to lose 10 minutes per try until I find out. Add a commit to the branch if you don't like my doctests.

Nathann



---

archive/issue_comments_278388.json:
```json
{
    "body": "Changing branch from \"u/ncohen/16727\" to \"public/16727\"",
    "created_at": "2014-07-29T14:04:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278388",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "u/ncohen/16727" to "public/16727"



---

archive/issue_comments_278389.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 ncohen]:\n> > Well, test on non-degenerate examples, please! Your favourite STS on 15 points will do for sure...\n\n> \n> Hey Dima I have no idea what doctest you want me to write but I am not going to lose 10 minutes per try until I find out. Add a commit to the branch if you don't like my doctests.\n\n\nA degenerate input is a corner case: one-element hypergraphs and complete uniform hypergraphs are surely degenerate inputs. Such tests don't stress much of the implementation, as you can imagine.\nTest on, say, `ProjectiveGeometryDesign(3,1,GF(2))` as well.",
    "created_at": "2014-07-29T14:09:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278389",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>Replying to [comment:6 ncohen]:
> > Well, test on non-degenerate examples, please! Your favourite STS on 15 points will do for sure...

> 
> Hey Dima I have no idea what doctest you want me to write but I am not going to lose 10 minutes per try until I find out. Add a commit to the branch if you don't like my doctests.


A degenerate input is a corner case: one-element hypergraphs and complete uniform hypergraphs are surely degenerate inputs. Such tests don't stress much of the implementation, as you can imagine.
Test on, say, `ProjectiveGeometryDesign(3,1,GF(2))` as well.



---

archive/issue_comments_278390.json:
```json
{
    "body": "<a id='comment:8'></a>> A degenerate input is a corner case: one-element hypergraphs and complete uniform hypergraphs are surely degenerate inputs. Such tests don't stress much of the implementation, as you can imagine.\n\n\nDima, are you aware that the only thing we are testing here is whether an element belongs to a LIST ? Python does not care at all what the elements are, it is all pointers as far as it is concerned.\n\n> Test on, say, `ProjectiveGeometryDesign(3,1,GF(2))` as well.\n\n\nAdd your commit.\n\nNathann",
    "created_at": "2014-07-29T14:11:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278390",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>> A degenerate input is a corner case: one-element hypergraphs and complete uniform hypergraphs are surely degenerate inputs. Such tests don't stress much of the implementation, as you can imagine.


Dima, are you aware that the only thing we are testing here is whether an element belongs to a LIST ? Python does not care at all what the elements are, it is all pointers as far as it is concerned.

> Test on, say, `ProjectiveGeometryDesign(3,1,GF(2))` as well.


Add your commit.

Nathann



---

archive/issue_comments_278391.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 ncohen]:\n> > A degenerate input is a corner case: one-element hypergraphs and complete uniform hypergraphs are surely degenerate inputs. Such tests don't stress much of the implementation, as you can imagine.\n\n> \n> Dima, are you aware that the only thing we are testing here is whether an element belongs to a LIST ? \n\nGood doctests should test the function as if it were a blackbox.\nThe underlying implementation might change, might become more sophisticated, and the doctests should catch bugs in such future changes. Unless you prefer bug-driven development model to the test-driven one ;-)",
    "created_at": "2014-07-29T14:28:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278391",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>Replying to [comment:8 ncohen]:
> > A degenerate input is a corner case: one-element hypergraphs and complete uniform hypergraphs are surely degenerate inputs. Such tests don't stress much of the implementation, as you can imagine.

> 
> Dima, are you aware that the only thing we are testing here is whether an element belongs to a LIST ? 

Good doctests should test the function as if it were a blackbox.
The underlying implementation might change, might become more sophisticated, and the doctests should catch bugs in such future changes. Unless you prefer bug-driven development model to the test-driven one ;-)



---

archive/issue_comments_278392.json:
```json
{
    "body": "<a id='comment:10'></a>> Good doctests should test the function as if it were a blackbox.\n\n\nReligion does not work on me.\n\n> Unless you prefer bug-driven development model to the test-driven one ;-)\n\n\nI am not against doctests, I am against your spending my time on this. I believe that this function is sufficiently doctested, and I already added tests because you asked. If they don't satisfy you for some reason, I do not mind it but you will have to write your own and add it to the branch.\n\nNathann",
    "created_at": "2014-07-29T14:31:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278392",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>> Good doctests should test the function as if it were a blackbox.


Religion does not work on me.

> Unless you prefer bug-driven development model to the test-driven one ;-)


I am not against doctests, I am against your spending my time on this. I believe that this function is sufficiently doctested, and I already added tests because you asked. If they don't satisfy you for some reason, I do not mind it but you will have to write your own and add it to the branch.

Nathann



---

archive/issue_comments_278393.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:10 ncohen]:\n> > Good doctests should test the function as if it were a blackbox.\n\n> \n> Religion does not work on me.\n\nIt has nothing to do with religion, this is just common sense, sorry.\n\n> \n> > Unless you prefer bug-driven development model to the test-driven one ;-)\n\n> \n> I am not against doctests, I am against your spending my time on this. I believe that this function is sufficiently doctested, and I already added tests because you asked. If they don't satisfy you for some reason, I do not mind it but you will have to write your own and add it to the branch.\n\n\nI believe that I explained sufficiently clear that testing only corner cases does not work, yet you added another corner case test, for a complete uniform hypergraph is a corner case, AFAIK.\n\nAnd I have elected to be a reviewer, sorry. It is my job to decide what a sufficient doctest is, not yours.\nWell, if you cannot add the doctests I ask for, I can surely do this too, only then you will be spending my time on this, not the other way around.",
    "created_at": "2014-07-29T14:43:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278393",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>Replying to [comment:10 ncohen]:
> > Good doctests should test the function as if it were a blackbox.

> 
> Religion does not work on me.

It has nothing to do with religion, this is just common sense, sorry.

> 
> > Unless you prefer bug-driven development model to the test-driven one ;-)

> 
> I am not against doctests, I am against your spending my time on this. I believe that this function is sufficiently doctested, and I already added tests because you asked. If they don't satisfy you for some reason, I do not mind it but you will have to write your own and add it to the branch.


I believe that I explained sufficiently clear that testing only corner cases does not work, yet you added another corner case test, for a complete uniform hypergraph is a corner case, AFAIK.

And I have elected to be a reviewer, sorry. It is my job to decide what a sufficient doctest is, not yours.
Well, if you cannot add the doctests I ask for, I can surely do this too, only then you will be spending my time on this, not the other way around.



---

archive/issue_comments_278394.json:
```json
{
    "body": "<a id='comment:12'></a>Yo !\n\n> I believe that I explained sufficiently clear that testing only corner cases does not work, yet you added another corner case test, for a complete uniform hypergraph is a corner case, AFAIK.\n\n\nA uniform hypergraph is a \"corner case\" in hypergraph theory. Not as an example of Python list. I mixed integers and strings, and order. That's how I tested non-corner cases that made sense from the point of view of what this function does. It is also a doctest of the bug I reported in this ticket's description.\n\n> And I have elected to be a reviewer, sorry. It is my job to decide what a sufficient doctest is, not yours.\n\n\nIndeed, but when you see that you cannot explain what you want without making lose the other guy's time because he apparently does not get it, you can save everybody by writing the 4 lines yourself.\n\nNathann",
    "created_at": "2014-07-29T14:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278394",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>Yo !

> I believe that I explained sufficiently clear that testing only corner cases does not work, yet you added another corner case test, for a complete uniform hypergraph is a corner case, AFAIK.


A uniform hypergraph is a "corner case" in hypergraph theory. Not as an example of Python list. I mixed integers and strings, and order. That's how I tested non-corner cases that made sense from the point of view of what this function does. It is also a doctest of the bug I reported in this ticket's description.

> And I have elected to be a reviewer, sorry. It is my job to decide what a sufficient doctest is, not yours.


Indeed, but when you see that you cannot explain what you want without making lose the other guy's time because he apparently does not get it, you can save everybody by writing the 4 lines yourself.

Nathann



---

archive/issue_comments_278395.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 ncohen]:\n> Yo !\n> \n> > I believe that I explained sufficiently clear that testing only corner cases does not work, yet you added another corner case test, for a complete uniform hypergraph is a corner case, AFAIK.\n\n> \n> A uniform hypergraph is a \"corner case\" in hypergraph theory. Not as an example of Python list. I mixed integers and strings, and order. That's how I tested non-corner cases that made sense from the point of view of what this function does. It is also a doctest of the bug I reported in this ticket's description.\n> \n> > And I have elected to be a reviewer, sorry. It is my job to decide what a sufficient doctest is, not yours.\n\n> \n> Indeed, but when you see that you cannot explain what you want without making lose the other guy's time because he apparently does not get it, you can save everybody by writing the 4 lines yourself.\n\n\nOK, will do...\n\n> \n> Nathann",
    "created_at": "2014-07-29T14:48:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278395",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'></a>Replying to [comment:12 ncohen]:
> Yo !
> 
> > I believe that I explained sufficiently clear that testing only corner cases does not work, yet you added another corner case test, for a complete uniform hypergraph is a corner case, AFAIK.

> 
> A uniform hypergraph is a "corner case" in hypergraph theory. Not as an example of Python list. I mixed integers and strings, and order. That's how I tested non-corner cases that made sense from the point of view of what this function does. It is also a doctest of the bug I reported in this ticket's description.
> 
> > And I have elected to be a reviewer, sorry. It is my job to decide what a sufficient doctest is, not yours.

> 
> Indeed, but when you see that you cannot explain what you want without making lose the other guy's time because he apparently does not get it, you can save everybody by writing the 4 lines yourself.


OK, will do...

> 
> Nathann



---

archive/issue_comments_278396.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:13 dimpase]:\n\n> OK, will do...\n\n\nafter I'm done building 6.3.beta7, that is...",
    "created_at": "2014-07-29T15:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278396",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>Replying to [comment:13 dimpase]:

> OK, will do...


after I'm done building 6.3.beta7, that is...



---

archive/issue_comments_278397.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-30T09:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278397",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_278398.json:
```json
{
    "body": "Changing commit from \"e7ef8c0e2b5f5ef36112428094faa8de2a32316c\" to \"c69307c42231458ba26b60b2259316ee38b4fa61\"",
    "created_at": "2014-07-30T09:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278398",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e7ef8c0e2b5f5ef36112428094faa8de2a32316c" to "c69307c42231458ba26b60b2259316ee38b4fa61"



---

archive/issue_comments_278399.json:
```json
{
    "body": "<a id='comment:16'></a>Yoooooooooooooooo !\n\nThe tests pass, so if that's okay for you... `:-)`\n\nNathann",
    "created_at": "2014-07-30T10:04:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278399",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:16'></a>Yoooooooooooooooo !

The tests pass, so if that's okay for you... `:-)`

Nathann



---

archive/issue_comments_278400.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2014-07-30T10:05:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278400",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_278401.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-07-30T10:05:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278401",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_049008.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-31T00:44:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16727#event-49008"
}
```



---

archive/issue_comments_278402.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-07-31T00:44:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278402",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_278403.json:
```json
{
    "body": "Changing branch from \"public/16727\" to \"c69307c42231458ba26b60b2259316ee38b4fa61\"",
    "created_at": "2014-07-31T00:44:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16727",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16727#issuecomment-278403",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/16727" to "c69307c42231458ba26b60b2259316ee38b4fa61"
