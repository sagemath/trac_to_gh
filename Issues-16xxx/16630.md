# Issue 16630: Fix category for finite Coxeter groups

archive/issues_016393.json:
```json
{
    "assignees": [
        "https://github.com/tscrim"
    ],
    "body": "<div id=\"comment:0\"></div>\n\nCurrently finite Coxeter groups don't know that they are finite.\n\n```\nsage: CG = CoxeterGroup(['D',4])\nsage: CG.category()\nCategory of coxeter groups\n```\n\nDepends on #16633\n\nCC:  @nthiery @fchapoton @jplab @sagetrac-vripoll\n\nComponent: **group theory**\n\nKeywords: **Coxeter**\n\nAuthor: **Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton, Darij Grinberg**\n\nBranch/Commit: **[`49cc3bc`](https://github.com/sagemath/sagetrac-mirror/commit/49cc3bc1ecaba4b43f2ed426a8ebbfee6c77ddcd)**\n\nReviewer: **Darij Grinberg, Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16630_\n\n",
    "closed_at": "2015-02-21T12:40:41Z",
    "created_at": "2014-07-09T04:21:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20categories"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix category for finite Coxeter groups",
    "type": "issue",
    "updated_at": "2015-02-21T12:40:41Z",
    "url": "https://github.com/sagemath/sage/issues/16630",
    "user": "https://github.com/tscrim"
}
```
<div id="comment:0"></div>

Currently finite Coxeter groups don't know that they are finite.

```
sage: CG = CoxeterGroup(['D',4])
sage: CG.category()
Category of coxeter groups
```

Depends on #16633

CC:  @nthiery @fchapoton @jplab @sagetrac-vripoll

Component: **group theory**

Keywords: **Coxeter**

Author: **Travis Scrimshaw, Frédéric Chapoton, Darij Grinberg**

Branch/Commit: **[`49cc3bc`](https://github.com/sagemath/sagetrac-mirror/commit/49cc3bc1ecaba4b43f2ed426a8ebbfee6c77ddcd)**

Reviewer: **Darij Grinberg, Frédéric Chapoton, Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/16630_





---

archive/issue_events_235592.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-07-09T04:21:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235592"
}
```



---

archive/issue_events_235593.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-07-09T04:21:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
    "label_color": "0000ff",
    "label_name": "c: group theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235593"
}
```



---

archive/issue_events_235594.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-07-09T04:21:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235594"
}
```



---

archive/issue_events_235595.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-07-09T04:21:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235595"
}
```



---

archive/issue_events_235596.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-07-09T04:21:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20categories",
    "label_color": "0000ff",
    "label_name": "c: categories",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235596"
}
```



---

archive/issue_events_235597.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-07-09T04:21:47Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "subject": "https://github.com/tscrim",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235597"
}
```



---

archive/issue_comments_216793.json:
```json
{
    "body": "Dependencies: **#16633 #16634**",
    "created_at": "2014-07-09T07:33:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216793",
    "user": "https://github.com/tscrim"
}
```

Dependencies: **#16633 #16634**



---

archive/issue_comments_216794.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nOkay, it's now up for review. It feels somewhat hacky to me (in particular, I had to catch an `OverflowError`), but it comes from Sage's somewhat lack of ability to compute positive definiteness of a matrix over a variety of fields. Although I do feel that checking for positive definiteness is better than doing the matrix comparisons, at least as a first try. meh *shrugs*\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02752c9b79cad794024c467880feb9bd180d5bc5\"><code>02752c9</code></a></td><td><code>Implement a bilinear_form method and use this to check finiteness.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/484ae916381c9dca15192c8d9209646543c73980\"><code>484ae91</code></a></td><td><code>Fixed _indefinite_factorization() for immutable matrix over fields.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b01dd075c51428b326b26c5ff3e2c8b72d8d7e1\"><code>6b01dd0</code></a></td><td><code>Merge branch 'public/matrix/indefinite_factorization_immutable-16633' into public/groups/fix_category_finite_coxeter-16630</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78cfb381b90d28dcbc6301c539dd293d5910b7f2\"><code>78cfb38</code></a></td><td><code>Expanded conversions for real numbers.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/383632bedef64bb6d0cbaa5ac8b7e259d7f822cd\"><code>383632b</code></a></td><td><code>Merge branch 'public/rings/expand_RR_conversion-16634' into public/groups/fix_category_finite_coxeter-16630</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdf6d5d2886b8587aa67acf9a59f9bb61bc9f080\"><code>cdf6d5d</code></a></td><td><code>Added doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f2941a9ec0dd54531a5349f10dc3c1a5ae5f1d0\"><code>0f2941a</code></a></td><td><code>Some fixes for doctests.</code></td></tr></table>\n",
    "created_at": "2014-07-09T07:33:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216794",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:1" align="right">comment:1</div>

Okay, it's now up for review. It feels somewhat hacky to me (in particular, I had to catch an `OverflowError`), but it comes from Sage's somewhat lack of ability to compute positive definiteness of a matrix over a variety of fields. Although I do feel that checking for positive definiteness is better than doing the matrix comparisons, at least as a first try. meh *shrugs*

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02752c9b79cad794024c467880feb9bd180d5bc5"><code>02752c9</code></a></td><td><code>Implement a bilinear_form method and use this to check finiteness.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/484ae916381c9dca15192c8d9209646543c73980"><code>484ae91</code></a></td><td><code>Fixed _indefinite_factorization() for immutable matrix over fields.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b01dd075c51428b326b26c5ff3e2c8b72d8d7e1"><code>6b01dd0</code></a></td><td><code>Merge branch 'public/matrix/indefinite_factorization_immutable-16633' into public/groups/fix_category_finite_coxeter-16630</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78cfb381b90d28dcbc6301c539dd293d5910b7f2"><code>78cfb38</code></a></td><td><code>Expanded conversions for real numbers.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/383632bedef64bb6d0cbaa5ac8b7e259d7f822cd"><code>383632b</code></a></td><td><code>Merge branch 'public/rings/expand_RR_conversion-16634' into public/groups/fix_category_finite_coxeter-16630</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdf6d5d2886b8587aa67acf9a59f9bb61bc9f080"><code>cdf6d5d</code></a></td><td><code>Added doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f2941a9ec0dd54531a5349f10dc3c1a5ae5f1d0"><code>0f2941a</code></a></td><td><code>Some fixes for doctests.</code></td></tr></table>




---

archive/issue_comments_216795.json:
```json
{
    "body": "Branch: **[public/groups/fix_category_finite_coxeter-16630](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/fix_category_finite_coxeter-16630)**",
    "created_at": "2014-07-09T07:33:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216795",
    "user": "https://github.com/tscrim"
}
```

Branch: **[public/groups/fix_category_finite_coxeter-16630](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/fix_category_finite_coxeter-16630)**



---

archive/issue_events_235598.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-07-09T07:33:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235598"
}
```



---

archive/issue_comments_216796.json:
```json
{
    "body": "Commit: **[`0f2941a`](https://github.com/sagemath/sagetrac-mirror/commit/0f2941a9ec0dd54531a5349f10dc3c1a5ae5f1d0)**",
    "created_at": "2014-07-09T07:33:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216796",
    "user": "https://github.com/tscrim"
}
```

Commit: **[`0f2941a`](https://github.com/sagemath/sagetrac-mirror/commit/0f2941a9ec0dd54531a5349f10dc3c1a5ae5f1d0)**



---

archive/issue_comments_216797.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nWhat does this have to do with real numbers?",
    "created_at": "2014-07-29T18:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216797",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:2" align="right">comment:2</div>

What does this have to do with real numbers?



---

archive/issue_comments_216798.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nIt has to do with `positive_definite` trying to work over `RR` but the default for the matrices (for the Coexter groups) is over the universal cyclotomic field.",
    "created_at": "2014-07-30T03:39:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216798",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:3" align="right">comment:3</div>

It has to do with `positive_definite` trying to work over `RR` but the default for the matrices (for the Coexter groups) is over the universal cyclotomic field.



---

archive/issue_comments_216799.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAh, I see. Hmm, are these matrices bounded away from singularity well enough that we can trust this to work? Otherwise I'd rather take the irreducible decomposition of the matrix (Dijkstra's algorithm, should be fast) and check each of them for being a Coxeter-Dynkin diagram (now that can be annoying). I assume the two steps of this procedure (irreducible decomposition and Coxeter-Dynkin classification) are something we want to have anyway; or do we already?",
    "created_at": "2014-07-30T09:25:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216799",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:4" align="right">comment:4</div>

Ah, I see. Hmm, are these matrices bounded away from singularity well enough that we can trust this to work? Otherwise I'd rather take the irreducible decomposition of the matrix (Dijkstra's algorithm, should be fast) and check each of them for being a Coxeter-Dynkin diagram (now that can be annoying). I assume the two steps of this procedure (irreducible decomposition and Coxeter-Dynkin classification) are something we want to have anyway; or do we already?



---

archive/issue_comments_216800.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAs far as I've tested. The fallback (in case an error is raised) is to check by comparing Coxeter matrices under the standard labeling, but does not break it up into irreducible components. It probably is better to do the process entirely using graph comparisons (it feels like it should be slower, but maybe it's not...). Although no such check has been implemented for Coxeter diagrams/matrices, which currently don't have dedicated classes (#16126). (BTW there's only limited support for Dynkin diagrams.)",
    "created_at": "2014-07-30T15:29:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216800",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:5" align="right">comment:5</div>

As far as I've tested. The fallback (in case an error is raised) is to check by comparing Coxeter matrices under the standard labeling, but does not break it up into irreducible components. It probably is better to do the process entirely using graph comparisons (it feels like it should be slower, but maybe it's not...). Although no such check has been implemented for Coxeter diagrams/matrices, which currently don't have dedicated classes (#16126). (BTW there's only limited support for Dynkin diagrams.)



---

archive/issue_events_235599.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235599"
}
```



---

archive/issue_events_235600.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235600"
}
```



---

archive/issue_comments_216801.json:
```json
{
    "body": "Changed commit from **[`0f2941a`](https://github.com/sagemath/sagetrac-mirror/commit/0f2941a9ec0dd54531a5349f10dc3c1a5ae5f1d0)** to **[`2711395`](https://github.com/sagemath/sagetrac-mirror/commit/27113957d53f5bf2c1efaa0107c142aa9c13a071)**",
    "created_at": "2014-10-28T19:07:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216801",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0f2941a`](https://github.com/sagemath/sagetrac-mirror/commit/0f2941a9ec0dd54531a5349f10dc3c1a5ae5f1d0)** to **[`2711395`](https://github.com/sagemath/sagetrac-mirror/commit/27113957d53f5bf2c1efaa0107c142aa9c13a071)**



---

archive/issue_comments_216802.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a34029111f8f62babeecb0f711bcb0b657029f7\"><code>2a34029</code></a></td><td><code>Merge branch 'public/groups/fix_category_finite_coxeter-16630' of git://trac.sagemath.org/sage into coxeter</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27113957d53f5bf2c1efaa0107c142aa9c13a071\"><code>2711395</code></a></td><td><code>a first attempt at checking finiteness of coxeter groups without using reals</code></td></tr></table>\n",
    "created_at": "2014-10-28T19:07:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216802",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a34029111f8f62babeecb0f711bcb0b657029f7"><code>2a34029</code></a></td><td><code>Merge branch 'public/groups/fix_category_finite_coxeter-16630' of git://trac.sagemath.org/sage into coxeter</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27113957d53f5bf2c1efaa0107c142aa9c13a071"><code>2711395</code></a></td><td><code>a first attempt at checking finiteness of coxeter groups without using reals</code></td></tr></table>




---

archive/issue_comments_216803.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI thought this would be fun :/ Not really tested so far (I have added doctests checking that finite Coxeter groups are recognized as finite, but it is much harder to test that infinite Coxeter groups are not). But you can throw away the red #16634 dependency at least.\n\nCan you check that my retraction of your base_ring.one() -> base_ring(2) edit was correct? Also, I was a bit worried about the slash in `val(coxeter_matrix[i, j]) / base_ring(-2)` getting reinterpreted as division-with-rest when `base_ring` is ZZ, but apparently this does not cause issues.",
    "created_at": "2014-10-28T19:14:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216803",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:8" align="right">comment:8</div>

I thought this would be fun :/ Not really tested so far (I have added doctests checking that finite Coxeter groups are recognized as finite, but it is much harder to test that infinite Coxeter groups are not). But you can throw away the red #16634 dependency at least.

Can you check that my retraction of your base_ring.one() -> base_ring(2) edit was correct? Also, I was a bit worried about the slash in `val(coxeter_matrix[i, j]) / base_ring(-2)` getting reinterpreted as division-with-rest when `base_ring` is ZZ, but apparently this does not cause issues.



---

archive/issue_comments_216804.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd22351c2c457e44f7b290fe9205a9decae1b813\"><code>dd22351</code></a></td><td><code>better algorithm, is_finite method and some tests</code></td></tr></table>\n",
    "created_at": "2014-10-29T19:30:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216804",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd22351c2c457e44f7b290fe9205a9decae1b813"><code>dd22351</code></a></td><td><code>better algorithm, is_finite method and some tests</code></td></tr></table>




---

archive/issue_comments_216805.json:
```json
{
    "body": "Changed commit from **[`2711395`](https://github.com/sagemath/sagetrac-mirror/commit/27113957d53f5bf2c1efaa0107c142aa9c13a071)** to **[`dd22351`](https://github.com/sagemath/sagetrac-mirror/commit/dd22351c2c457e44f7b290fe9205a9decae1b813)**",
    "created_at": "2014-10-29T19:30:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216805",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2711395`](https://github.com/sagemath/sagetrac-mirror/commit/27113957d53f5bf2c1efaa0107c142aa9c13a071)** to **[`dd22351`](https://github.com/sagemath/sagetrac-mirror/commit/dd22351c2c457e44f7b290fe9205a9decae1b813)**



---

archive/issue_comments_216806.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nA few thoughts:\n\n- If the finiteness testing algorithm is slow, we might want to add an option to provide the necessary info right away.\n\n- The algorithm does a lot more than finiteness checking: it breaks the group into irreducibles, and (with some modification) should be able to build an explicit isomorphism of a finite Coxeter group to a direct product of classical Cartan-type groups. Methinks we should make use of this. Should this isomorphism be cached?",
    "created_at": "2014-10-29T19:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216806",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:10" align="right">comment:10</div>

A few thoughts:

- If the finiteness testing algorithm is slow, we might want to add an option to provide the necessary info right away.

- The algorithm does a lot more than finiteness checking: it breaks the group into irreducibles, and (with some modification) should be able to build an explicit isomorphism of a finite Coxeter group to a direct product of classical Cartan-type groups. Methinks we should make use of this. Should this isomorphism be cached?



---

archive/issue_comments_216807.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/727e3c62d5b1ca0b297091958133fa8edec92429\"><code>727e3c6</code></a></td><td><code>undoing edits to real_mpfr.pyx</code></td></tr></table>\n",
    "created_at": "2014-10-29T19:48:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216807",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/727e3c62d5b1ca0b297091958133fa8edec92429"><code>727e3c6</code></a></td><td><code>undoing edits to real_mpfr.pyx</code></td></tr></table>




---

archive/issue_comments_216808.json:
```json
{
    "body": "Changed commit from **[`dd22351`](https://github.com/sagemath/sagetrac-mirror/commit/dd22351c2c457e44f7b290fe9205a9decae1b813)** to **[`727e3c6`](https://github.com/sagemath/sagetrac-mirror/commit/727e3c62d5b1ca0b297091958133fa8edec92429)**",
    "created_at": "2014-10-29T19:48:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216808",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dd22351`](https://github.com/sagemath/sagetrac-mirror/commit/dd22351c2c457e44f7b290fe9205a9decae1b813)** to **[`727e3c6`](https://github.com/sagemath/sagetrac-mirror/commit/727e3c62d5b1ca0b297091958133fa8edec92429)**



---

archive/issue_comments_216809.json:
```json
{
    "body": "Changed dependencies from **#16633 #16634** to **#16633**",
    "created_at": "2014-10-29T19:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216809",
    "user": "https://github.com/darijgr"
}
```

Changed dependencies from **#16633 #16634** to **#16633**



---

archive/issue_comments_216810.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@darijgr](#comment%3A10):\n> A few thoughts:\n> \n> - If the finiteness testing algorithm is slow, we might want to add an option to provide the necessary info right away.\n> \n> - The algorithm does a lot more than finiteness checking: it breaks the group into irreducibles, and (with some modification) should be able to build an explicit isomorphism of a finite Coxeter group to a direct product of classical Cartan-type groups. Methinks we should make use of this. Should this isomorphism be cached?\n\nA couple further thoughts:\n\nLooking at \u200bdd22351, this indeed looks like an automatic type\nrecognition starting from a Coxeter diagram or Dynkin diagram, as is\nimplemented in GAP 3. That's been in the TODO list for a while [1], so\nit would be rather cool. If we go this way, this should really be a\nmethod of CartanType and friends, and we should reuse the same\nalgorithm for this method as in GAP3, except that we have fast graph\nisomorphism tests, so we can simplify it a bit. For the name, maybe\nthis could be `isomorphic_named_cartan_type`. Although we probably\nwant to return a relabelled Cartan type that exactly matches the\noriginal Cartan type.\n\nThis could then, in the long run, be used for any Coxeter group, be it\ndefined by a Coxeter matrix or concretely by simple reflections and a\nproduct rule: first build the Coxeter diagram by computing the length\nof the braid relation between the simple reflections, and then get the\ncanonical type. Single caveat: if, for a given Coxeter group, all we\nhave available is the possibility to compute products of such simple\nreflections, then we can get stuck computing that order if there is an\ninfinite braid relation.\n\nFor the record real positivity test is implemented, with guaranteed\nresult, in UCF:\n\n```\nsage: x = UniversalCyclotomicField().an_element()\nsage: x.is_real_positive()\n```\nMaybe this is a simpler way to go.\n\nIf the user knows right away that the groupe is finite (or infinite),\nthen he should just pass that information on with a\n`category=CoxeterGroups().Finite()` argument.\n\nCheers,\n                                Nicolas\n\n[1] http://trac.sagemath.org/wiki/SageCombinatChevieStatusReport",
    "created_at": "2014-10-30T07:58:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216810",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@darijgr](#comment%3A10):
> A few thoughts:
> 
> - If the finiteness testing algorithm is slow, we might want to add an option to provide the necessary info right away.
> 
> - The algorithm does a lot more than finiteness checking: it breaks the group into irreducibles, and (with some modification) should be able to build an explicit isomorphism of a finite Coxeter group to a direct product of classical Cartan-type groups. Methinks we should make use of this. Should this isomorphism be cached?

A couple further thoughts:

Looking at ​dd22351, this indeed looks like an automatic type
recognition starting from a Coxeter diagram or Dynkin diagram, as is
implemented in GAP 3. That's been in the TODO list for a while [1], so
it would be rather cool. If we go this way, this should really be a
method of CartanType and friends, and we should reuse the same
algorithm for this method as in GAP3, except that we have fast graph
isomorphism tests, so we can simplify it a bit. For the name, maybe
this could be `isomorphic_named_cartan_type`. Although we probably
want to return a relabelled Cartan type that exactly matches the
original Cartan type.

This could then, in the long run, be used for any Coxeter group, be it
defined by a Coxeter matrix or concretely by simple reflections and a
product rule: first build the Coxeter diagram by computing the length
of the braid relation between the simple reflections, and then get the
canonical type. Single caveat: if, for a given Coxeter group, all we
have available is the possibility to compute products of such simple
reflections, then we can get stuck computing that order if there is an
infinite braid relation.

For the record real positivity test is implemented, with guaranteed
result, in UCF:

```
sage: x = UniversalCyclotomicField().an_element()
sage: x.is_real_positive()
```
Maybe this is a simpler way to go.

If the user knows right away that the groupe is finite (or infinite),
then he should just pass that information on with a
`category=CoxeterGroups().Finite()` argument.

Cheers,
                                Nicolas

[1] http://trac.sagemath.org/wiki/SageCombinatChevieStatusReport



---

archive/issue_comments_216811.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThe only unbounded edges for finite Coxeter diagrams are the dihedral groups, so we just special case rank 2 (which are almost always finite and we should be able to check the infinite case easily enough) and then build the graph by checking (xy)<sup>m</sup> up to m = 5 (the finite check) or some specified user input.",
    "created_at": "2014-10-30T15:56:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216811",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:15" align="right">comment:15</div>

The only unbounded edges for finite Coxeter diagrams are the dihedral groups, so we just special case rank 2 (which are almost always finite and we should be able to check the infinite case easily enough) and then build the graph by checking (xy)<sup>m</sup> up to m = 5 (the finite check) or some specified user input.



---

archive/issue_comments_216812.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nTrue enough; for finiteness checking purposes, only rank 2 is an issue. In the case at hand,\nthat's easy to handle. Gor Coxeter groups implepented differently, we might not be able to decide, but that's a narrow enough case that we can leave the responsability to the group implementer.\n\nCheers,",
    "created_at": "2014-10-31T08:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216812",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:16" align="right">comment:16</div>

True enough; for finiteness checking purposes, only rank 2 is an issue. In the case at hand,
that's easy to handle. Gor Coxeter groups implepented differently, we might not be able to decide, but that's a narrow enough case that we can leave the responsability to the group implementer.

Cheers,



---

archive/issue_comments_216813.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nNotes for Darij from our discussion:\n\n- Make the finiteness check a separate static function.\n- Make the testing for #16630 more systematic using something like\n\n```\nsage: all(CoxeterGroup(ct) in CoxeterGroups().Finite() for ct in some_list_of_types)\nTrue\n```",
    "created_at": "2014-11-17T06:09:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216813",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:17" align="right">comment:17</div>

Notes for Darij from our discussion:

- Make the finiteness check a separate static function.
- Make the testing for #16630 more systematic using something like

```
sage: all(CoxeterGroup(ct) in CoxeterGroups().Finite() for ct in some_list_of_types)
True
```



---

archive/issue_comments_216814.json:
```json
{
    "body": "Changed commit from **[`727e3c6`](https://github.com/sagemath/sagetrac-mirror/commit/727e3c62d5b1ca0b297091958133fa8edec92429)** to **[`3940b31`](https://github.com/sagemath/sagetrac-mirror/commit/3940b318a6a422b5b1e359aefe764752898551b6)**",
    "created_at": "2015-02-14T10:55:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216814",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`727e3c6`](https://github.com/sagemath/sagetrac-mirror/commit/727e3c62d5b1ca0b297091958133fa8edec92429)** to **[`3940b31`](https://github.com/sagemath/sagetrac-mirror/commit/3940b318a6a422b5b1e359aefe764752898551b6)**



---

archive/issue_comments_216815.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91c71b0a6308597b0c591005be475da7829f70d1\"><code>91c71b0</code></a></td><td><code>Merge branch 'public/groups/fix_category_finite_coxeter-16630' into 6.5.rc3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3940b318a6a422b5b1e359aefe764752898551b6\"><code>3940b31</code></a></td><td><code>trac #16630 separating the finite recognition algorithm</code></td></tr></table>\n",
    "created_at": "2015-02-14T10:55:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216815",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91c71b0a6308597b0c591005be475da7829f70d1"><code>91c71b0</code></a></td><td><code>Merge branch 'public/groups/fix_category_finite_coxeter-16630' into 6.5.rc3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3940b318a6a422b5b1e359aefe764752898551b6"><code>3940b31</code></a></td><td><code>trac #16630 separating the finite recognition algorithm</code></td></tr></table>




---

archive/issue_events_235601.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-02-14T10:56:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235601"
}
```



---

archive/issue_events_235602.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-02-14T10:56:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235602"
}
```



---

archive/issue_comments_216816.json:
```json
{
    "body": "Changed commit from **[`3940b31`](https://github.com/sagemath/sagetrac-mirror/commit/3940b318a6a422b5b1e359aefe764752898551b6)** to **[`10a9b7c`](https://github.com/sagemath/sagetrac-mirror/commit/10a9b7c7d29d265822a1996bca5670e35b4f22a3)**",
    "created_at": "2015-02-14T13:58:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216816",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3940b31`](https://github.com/sagemath/sagetrac-mirror/commit/3940b318a6a422b5b1e359aefe764752898551b6)** to **[`10a9b7c`](https://github.com/sagemath/sagetrac-mirror/commit/10a9b7c7d29d265822a1996bca5670e35b4f22a3)**



---

archive/issue_comments_216817.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10a9b7c7d29d265822a1996bca5670e35b4f22a3\"><code>10a9b7c</code></a></td><td><code>trac #16630 correction of a typo in the doc</code></td></tr></table>\n",
    "created_at": "2015-02-14T13:58:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216817",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10a9b7c7d29d265822a1996bca5670e35b4f22a3"><code>10a9b7c</code></a></td><td><code>trac #16630 correction of a typo in the doc</code></td></tr></table>




---

archive/issue_comments_216818.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d719c7e54c632d1a5e745449571e6cf316d4c93d\"><code>d719c7e</code></a></td><td><code>trac #16630 trying to simplify type recognition</code></td></tr></table>\n",
    "created_at": "2015-02-14T20:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216818",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d719c7e54c632d1a5e745449571e6cf316d4c93d"><code>d719c7e</code></a></td><td><code>trac #16630 trying to simplify type recognition</code></td></tr></table>




---

archive/issue_comments_216819.json:
```json
{
    "body": "Changed commit from **[`10a9b7c`](https://github.com/sagemath/sagetrac-mirror/commit/10a9b7c7d29d265822a1996bca5670e35b4f22a3)** to **[`d719c7e`](https://github.com/sagemath/sagetrac-mirror/commit/d719c7e54c632d1a5e745449571e6cf316d4c93d)**",
    "created_at": "2015-02-14T20:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216819",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`10a9b7c`](https://github.com/sagemath/sagetrac-mirror/commit/10a9b7c7d29d265822a1996bca5670e35b4f22a3)** to **[`d719c7e`](https://github.com/sagemath/sagetrac-mirror/commit/d719c7e54c632d1a5e745449571e6cf316d4c93d)**



---

archive/issue_comments_216820.json:
```json
{
    "body": "Changed commit from **[`d719c7e`](https://github.com/sagemath/sagetrac-mirror/commit/d719c7e54c632d1a5e745449571e6cf316d4c93d)** to **[`26ab1c9`](https://github.com/sagemath/sagetrac-mirror/commit/26ab1c9275f326964b88b87f14db7775a18fe346)**",
    "created_at": "2015-02-14T21:00:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216820",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d719c7e`](https://github.com/sagemath/sagetrac-mirror/commit/d719c7e54c632d1a5e745449571e6cf316d4c93d)** to **[`26ab1c9`](https://github.com/sagemath/sagetrac-mirror/commit/26ab1c9275f326964b88b87f14db7775a18fe346)**



---

archive/issue_comments_216821.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26ab1c9275f326964b88b87f14db7775a18fe346\"><code>26ab1c9</code></a></td><td><code>Conflicts:</code></td></tr></table>\n",
    "created_at": "2015-02-14T21:00:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216821",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26ab1c9275f326964b88b87f14db7775a18fe346"><code>26ab1c9</code></a></td><td><code>Conflicts:</code></td></tr></table>




---

archive/issue_comments_216822.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nHmm, I am having some git problems.. Let me try with this branch\n\npublic/ticket/16630",
    "created_at": "2015-02-14T21:05:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216822",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:23" align="right">comment:23</div>

Hmm, I am having some git problems.. Let me try with this branch

public/ticket/16630



---

archive/issue_comments_216823.json:
```json
{
    "body": "Changed branch from **[public/groups/fix_category_finite_coxeter-16630](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/fix_category_finite_coxeter-16630)** to **[public/ticket/16630](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16630)**",
    "created_at": "2015-02-14T21:05:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216823",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[public/groups/fix_category_finite_coxeter-16630](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/fix_category_finite_coxeter-16630)** to **[public/ticket/16630](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16630)**



---

archive/issue_comments_216824.json:
```json
{
    "body": "Changed commit from **[`26ab1c9`](https://github.com/sagemath/sagetrac-mirror/commit/26ab1c9275f326964b88b87f14db7775a18fe346)** to **[`d719c7e`](https://github.com/sagemath/sagetrac-mirror/commit/d719c7e54c632d1a5e745449571e6cf316d4c93d)**",
    "created_at": "2015-02-14T21:05:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216824",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`26ab1c9`](https://github.com/sagemath/sagetrac-mirror/commit/26ab1c9275f326964b88b87f14db7775a18fe346)** to **[`d719c7e`](https://github.com/sagemath/sagetrac-mirror/commit/d719c7e54c632d1a5e745449571e6cf316d4c93d)**



---

archive/issue_comments_216825.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3034dcca12b1c4727ccffd649e22233d38c1b64a\"><code>3034dcc</code></a></td><td><code>Implement a bilinear_form method and use this to check finiteness.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4e93228ed1a186b6f958d753b4f8b343f6ff7dd\"><code>e4e9322</code></a></td><td><code>Expanded conversions for real numbers.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b9371045d1bad94bb4943ac55a1c41fe887e6ae\"><code>6b93710</code></a></td><td><code>Added doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9692652aba09316f500831a2a08746252ca5f81\"><code>c969265</code></a></td><td><code>Some fixes for doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09441b9638af7d8ea4e1d83af24b7639e27091c8\"><code>09441b9</code></a></td><td><code>a first attempt at checking finiteness of coxeter groups without using reals</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d01cbb36156bf713b99c72590e94962c33b622b9\"><code>d01cbb3</code></a></td><td><code>better algorithm, is_finite method and some tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19c40bd4a01f8472213b5f313e11b4d13c1e0561\"><code>19c40bd</code></a></td><td><code>undoing edits to real_mpfr.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f3011c7b61d3a9be184a91071a04d833562931b\"><code>1f3011c</code></a></td><td><code>trac #16630 separating the finite recognition algorithm</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d48ef8bfca82661760ae2d1693bb899b3cdc31d9\"><code>d48ef8b</code></a></td><td><code>trac #16630 correction of a typo in the doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02c4161a5a5eae6c5bff3aeee3e857ff22c9b422\"><code>02c4161</code></a></td><td><code>trac #16630 trying to simplify type recognition</code></td></tr></table>\n",
    "created_at": "2015-02-14T21:29:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216825",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3034dcca12b1c4727ccffd649e22233d38c1b64a"><code>3034dcc</code></a></td><td><code>Implement a bilinear_form method and use this to check finiteness.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4e93228ed1a186b6f958d753b4f8b343f6ff7dd"><code>e4e9322</code></a></td><td><code>Expanded conversions for real numbers.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b9371045d1bad94bb4943ac55a1c41fe887e6ae"><code>6b93710</code></a></td><td><code>Added doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9692652aba09316f500831a2a08746252ca5f81"><code>c969265</code></a></td><td><code>Some fixes for doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09441b9638af7d8ea4e1d83af24b7639e27091c8"><code>09441b9</code></a></td><td><code>a first attempt at checking finiteness of coxeter groups without using reals</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d01cbb36156bf713b99c72590e94962c33b622b9"><code>d01cbb3</code></a></td><td><code>better algorithm, is_finite method and some tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19c40bd4a01f8472213b5f313e11b4d13c1e0561"><code>19c40bd</code></a></td><td><code>undoing edits to real_mpfr.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f3011c7b61d3a9be184a91071a04d833562931b"><code>1f3011c</code></a></td><td><code>trac #16630 separating the finite recognition algorithm</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d48ef8bfca82661760ae2d1693bb899b3cdc31d9"><code>d48ef8b</code></a></td><td><code>trac #16630 correction of a typo in the doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02c4161a5a5eae6c5bff3aeee3e857ff22c9b422"><code>02c4161</code></a></td><td><code>trac #16630 trying to simplify type recognition</code></td></tr></table>




---

archive/issue_comments_216826.json:
```json
{
    "body": "Changed commit from **[`d719c7e`](https://github.com/sagemath/sagetrac-mirror/commit/d719c7e54c632d1a5e745449571e6cf316d4c93d)** to **[`02c4161`](https://github.com/sagemath/sagetrac-mirror/commit/02c4161a5a5eae6c5bff3aeee3e857ff22c9b422)**",
    "created_at": "2015-02-14T21:29:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216826",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d719c7e`](https://github.com/sagemath/sagetrac-mirror/commit/d719c7e54c632d1a5e745449571e6cf316d4c93d)** to **[`02c4161`](https://github.com/sagemath/sagetrac-mirror/commit/02c4161a5a5eae6c5bff3aeee3e857ff22c9b422)**



---

archive/issue_comments_216827.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nOk, I think this is good to go. Can somebody review my commits ?",
    "created_at": "2015-02-15T17:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216827",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:25" align="right">comment:25</div>

Ok, I think this is good to go. Can somebody review my commits ?



---

archive/issue_comments_216828.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nLGTM modulo one minor change: when constructing `self._bilinear`, could we divide by `base_field(-2)` instead of `base_ring(-2)` (since this coercion will happen anyways)? Once this change is made, then you can set a positive review on my behalf.",
    "created_at": "2015-02-17T23:39:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216828",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:26" align="right">comment:26</div>

LGTM modulo one minor change: when constructing `self._bilinear`, could we divide by `base_field(-2)` instead of `base_ring(-2)` (since this coercion will happen anyways)? Once this change is made, then you can set a positive review on my behalf.



---

archive/issue_comments_216829.json:
```json
{
    "body": "Reviewer: **Darij Grinberg, Frederic Chapoton, Travis Scrimshaw**",
    "created_at": "2015-02-17T23:39:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216829",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Darij Grinberg, Frederic Chapoton, Travis Scrimshaw**



---

archive/issue_comments_216830.json:
```json
{
    "body": "Changed author from **Travis Scrimshaw** to **Travis Scrimshaw, Frederic Chapoton**",
    "created_at": "2015-02-17T23:39:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216830",
    "user": "https://github.com/tscrim"
}
```

Changed author from **Travis Scrimshaw** to **Travis Scrimshaw, Frederic Chapoton**



---

archive/issue_comments_216831.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nA git question: When this branch gets merged, will the branch in #16634 become invisible (i.e., appear to do nothing)? This is one of those corner cases where I'm worried about git doing the wrong thing, because I reverted the changes from #16634 in a followup commit here.",
    "created_at": "2015-02-18T03:05:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216831",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:27" align="right">comment:27</div>

A git question: When this branch gets merged, will the branch in #16634 become invisible (i.e., appear to do nothing)? This is one of those corner cases where I'm worried about git doing the wrong thing, because I reverted the changes from #16634 in a followup commit here.



---

archive/issue_comments_216832.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nAlso, I suggest we do allow the user to pass a boolean `is_finite` parameter to sidestep finiteness recognition. I reckon that lots of Coxeter groups constructed will be `A_n` and `B_n` for high `n`.",
    "created_at": "2015-02-18T03:06:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216832",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:28" align="right">comment:28</div>

Also, I suggest we do allow the user to pass a boolean `is_finite` parameter to sidestep finiteness recognition. I reckon that lots of Coxeter groups constructed will be `A_n` and `B_n` for high `n`.



---

archive/issue_comments_216833.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nIt should be okay. If it doesn't work, the commits from #16634 are still in the history which we can pull out.\n\nFor the flag thing, because of pickling and how `UniqueRepresentation` works, we are better off doing a partial version of #16126 by making a class for `CoxeterMatrix`, which is now #17798 and should be easy enough to do (and will be high on my todo list).",
    "created_at": "2015-02-18T03:17:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216833",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:29" align="right">comment:29</div>

It should be okay. If it doesn't work, the commits from #16634 are still in the history which we can pull out.

For the flag thing, because of pickling and how `UniqueRepresentation` works, we are better off doing a partial version of #16126 by making a class for `CoxeterMatrix`, which is now #17798 and should be easy enough to do (and will be high on my todo list).



---

archive/issue_comments_216834.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nOh wait, I see that I actually already rebased #16634. Forget about it then.\n\nWill #17798 mean that Coxeter groups given via their types will be tested for finiteness directly rather than using my matrix-analysis code? That would indeed be a solution.",
    "created_at": "2015-02-18T05:02:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216834",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:30" align="right">comment:30</div>

Oh wait, I see that I actually already rebased #16634. Forget about it then.

Will #17798 mean that Coxeter groups given via their types will be tested for finiteness directly rather than using my matrix-analysis code? That would indeed be a solution.



---

archive/issue_comments_216835.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/685e8668e7d1cc7badee941b8b35998b6ed14544\"><code>685e866</code></a></td><td><code>Merge branch 'public/ticket/16630' of trac.sagemath.org:sage into 16630</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad1d4cc48582a7596b6bc61f47a5c796e771efe6\"><code>ad1d4cc</code></a></td><td><code>trac #16630 replace base_ring by base_field</code></td></tr></table>\n",
    "created_at": "2015-02-18T08:26:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216835",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/685e8668e7d1cc7badee941b8b35998b6ed14544"><code>685e866</code></a></td><td><code>Merge branch 'public/ticket/16630' of trac.sagemath.org:sage into 16630</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad1d4cc48582a7596b6bc61f47a5c796e771efe6"><code>ad1d4cc</code></a></td><td><code>trac #16630 replace base_ring by base_field</code></td></tr></table>




---

archive/issue_comments_216836.json:
```json
{
    "body": "Changed commit from **[`02c4161`](https://github.com/sagemath/sagetrac-mirror/commit/02c4161a5a5eae6c5bff3aeee3e857ff22c9b422)** to **[`ad1d4cc`](https://github.com/sagemath/sagetrac-mirror/commit/ad1d4cc48582a7596b6bc61f47a5c796e771efe6)**",
    "created_at": "2015-02-18T08:26:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216836",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`02c4161`](https://github.com/sagemath/sagetrac-mirror/commit/02c4161a5a5eae6c5bff3aeee3e857ff22c9b422)** to **[`ad1d4cc`](https://github.com/sagemath/sagetrac-mirror/commit/ad1d4cc48582a7596b6bc61f47a5c796e771efe6)**



---

archive/issue_comments_216837.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nSo is this ok now ?",
    "created_at": "2015-02-18T08:27:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216837",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:32" align="right">comment:32</div>

So is this ok now ?



---

archive/issue_comments_216838.json:
```json
{
    "body": "Changed reviewer from **Darij Grinberg, Frederic Chapoton, Travis Scrimshaw** to **Darij Grinberg, Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw**",
    "created_at": "2015-02-18T08:29:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216838",
    "user": "https://github.com/fchapoton"
}
```

Changed reviewer from **Darij Grinberg, Frederic Chapoton, Travis Scrimshaw** to **Darij Grinberg, Frédéric Chapoton, Travis Scrimshaw**



---

archive/issue_comments_216839.json:
```json
{
    "body": "Changed author from **Travis Scrimshaw, Frederic Chapoton** to **Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2015-02-18T08:29:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216839",
    "user": "https://github.com/fchapoton"
}
```

Changed author from **Travis Scrimshaw, Frederic Chapoton** to **Travis Scrimshaw, Frédéric Chapoton**



---

archive/issue_comments_216840.json:
```json
{
    "body": "Changed author from **Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton** to **Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton, Darij Grinberg**",
    "created_at": "2015-02-18T15:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216840",
    "user": "https://github.com/tscrim"
}
```

Changed author from **Travis Scrimshaw, Frédéric Chapoton** to **Travis Scrimshaw, Frédéric Chapoton, Darij Grinberg**



---

archive/issue_comments_216841.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\n@darijgr Yes, that's correct, or at least what I'm planning to do on #17798. (I added your name to the authors list since you wrote the first version of the recognition algorithm.)\n\n`@`Frederic Yes. Thank you.",
    "created_at": "2015-02-18T15:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216841",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:34" align="right">comment:34</div>

@darijgr Yes, that's correct, or at least what I'm planning to do on #17798. (I added your name to the authors list since you wrote the first version of the recognition algorithm.)

`@`Frederic Yes. Thank you.



---

archive/issue_events_235603.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-02-18T15:03:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235603"
}
```



---

archive/issue_events_235604.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-02-18T15:03:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235604"
}
```



---

archive/issue_events_235605.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-02-18T15:41:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235605"
}
```



---

archive/issue_events_235606.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-02-18T15:41:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235606"
}
```



---

archive/issue_events_235607.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-18T21:42:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235607"
}
```



---

archive/issue_events_235608.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-18T21:42:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235608"
}
```



---

archive/issue_comments_216842.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n\n```\nsage -t --long --warn-long 39.8 src/sage/groups/matrix_gps/coxeter_group.py  # 2 doctests failed\n```",
    "created_at": "2015-02-18T21:42:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216842",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:36" align="right">comment:36</div>


```
sage -t --long --warn-long 39.8 src/sage/groups/matrix_gps/coxeter_group.py  # 2 doctests failed
```



---

archive/issue_comments_216843.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nDamn.. Now that they are recognized to be finite, an iterator seems to be required.. or at least a cardinality method maybe..\n\n```\nsage: W = CoxeterGroup([[1,3,2],[3,1,4],[2,4,1]], base_ring=QQbar)\nsage: W.is_finite()\nTrue\nsage: W.cardinality()\nBOOM\n```",
    "created_at": "2015-02-19T08:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216843",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:37" align="right">comment:37</div>

Damn.. Now that they are recognized to be finite, an iterator seems to be required.. or at least a cardinality method maybe..

```
sage: W = CoxeterGroup([[1,3,2],[3,1,4],[2,4,1]], base_ring=QQbar)
sage: W.is_finite()
True
sage: W.cardinality()
BOOM
```



---

archive/issue_comments_216844.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c10b8d47a5825fe64fae31d0072a531b619636f9\"><code>c10b8d4</code></a></td><td><code>Merge branch 'public/ticket/16630' into 6.6.beta0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1b9211eb55403bbfad3fb23adf127a92447ffb1\"><code>d1b9211</code></a></td><td><code>trac #16630 adding a cardinality method.</code></td></tr></table>\n",
    "created_at": "2015-02-19T09:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216844",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c10b8d47a5825fe64fae31d0072a531b619636f9"><code>c10b8d4</code></a></td><td><code>Merge branch 'public/ticket/16630' into 6.6.beta0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1b9211eb55403bbfad3fb23adf127a92447ffb1"><code>d1b9211</code></a></td><td><code>trac #16630 adding a cardinality method.</code></td></tr></table>




---

archive/issue_comments_216845.json:
```json
{
    "body": "Changed commit from **[`ad1d4cc`](https://github.com/sagemath/sagetrac-mirror/commit/ad1d4cc48582a7596b6bc61f47a5c796e771efe6)** to **[`d1b9211`](https://github.com/sagemath/sagetrac-mirror/commit/d1b9211eb55403bbfad3fb23adf127a92447ffb1)**",
    "created_at": "2015-02-19T09:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216845",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ad1d4cc`](https://github.com/sagemath/sagetrac-mirror/commit/ad1d4cc48582a7596b6bc61f47a5c796e771efe6)** to **[`d1b9211`](https://github.com/sagemath/sagetrac-mirror/commit/d1b9211eb55403bbfad3fb23adf127a92447ffb1)**



---

archive/issue_events_235609.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-02-19T09:12:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235609"
}
```



---

archive/issue_events_235610.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-02-19T09:12:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235610"
}
```



---

archive/issue_comments_216846.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nOk, adding a cardinality method seems to work.\n\nI have also added the word \"Finite\" to the repr when the Coxeter group is finite.",
    "created_at": "2015-02-19T09:12:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216846",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:39" align="right">comment:39</div>

Ok, adding a cardinality method seems to work.

I have also added the word "Finite" to the repr when the Coxeter group is finite.



---

archive/issue_comments_216847.json:
```json
{
    "body": "Changed branch from **[public/ticket/16630](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16630)** to **[public/groups/fix_category_finite_coxeter-16630](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/fix_category_finite_coxeter-16630)**",
    "created_at": "2015-02-19T17:32:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216847",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[public/ticket/16630](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/16630)** to **[public/groups/fix_category_finite_coxeter-16630](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/fix_category_finite_coxeter-16630)**



---

archive/issue_comments_216848.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI renamed this method `order`, which is the real cause of the issue why `cardinality` from `FiniteEnumeratedSets` isn't working properly (and `order` raises a `NotImplementedError` where it shouldn't either). I also refined the category to `Infinite` if the group is not finite.\n\nNote that I cherry-picked your commits into this branch (since I don't want to upgrade my copy of Sage today).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3597e2f5e65dd0f7b56a0464c5b36c416d99c61e\"><code>3597e2f</code></a></td><td><code>Merge branch 'public/groups/fix_category_finite_coxeter-16630' of trac.sagemath.org:sage into public/groups/fix_category_finite_coxeter-16630</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f5d819446fdc4f0320f8ec6595dd272b1647d5d\"><code>0f5d819</code></a></td><td><code>trac #16630 replace base_ring by base_field</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be4cdbf2caf74877439001591a8b6ffafc43c2a9\"><code>be4cdbf</code></a></td><td><code>trac #16630 adding a cardinality method.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49cc3bc1ecaba4b43f2ed426a8ebbfee6c77ddcd\"><code>49cc3bc</code></a></td><td><code>Changed cardinality() to order() and added Infinite refinement.</code></td></tr></table>\n",
    "created_at": "2015-02-19T17:32:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216848",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:40" align="right">comment:40</div>

I renamed this method `order`, which is the real cause of the issue why `cardinality` from `FiniteEnumeratedSets` isn't working properly (and `order` raises a `NotImplementedError` where it shouldn't either). I also refined the category to `Infinite` if the group is not finite.

Note that I cherry-picked your commits into this branch (since I don't want to upgrade my copy of Sage today).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3597e2f5e65dd0f7b56a0464c5b36c416d99c61e"><code>3597e2f</code></a></td><td><code>Merge branch 'public/groups/fix_category_finite_coxeter-16630' of trac.sagemath.org:sage into public/groups/fix_category_finite_coxeter-16630</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f5d819446fdc4f0320f8ec6595dd272b1647d5d"><code>0f5d819</code></a></td><td><code>trac #16630 replace base_ring by base_field</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be4cdbf2caf74877439001591a8b6ffafc43c2a9"><code>be4cdbf</code></a></td><td><code>trac #16630 adding a cardinality method.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49cc3bc1ecaba4b43f2ed426a8ebbfee6c77ddcd"><code>49cc3bc</code></a></td><td><code>Changed cardinality() to order() and added Infinite refinement.</code></td></tr></table>




---

archive/issue_comments_216849.json:
```json
{
    "body": "Changed commit from **[`d1b9211`](https://github.com/sagemath/sagetrac-mirror/commit/d1b9211eb55403bbfad3fb23adf127a92447ffb1)** to **[`49cc3bc`](https://github.com/sagemath/sagetrac-mirror/commit/49cc3bc1ecaba4b43f2ed426a8ebbfee6c77ddcd)**",
    "created_at": "2015-02-19T17:32:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216849",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`d1b9211`](https://github.com/sagemath/sagetrac-mirror/commit/d1b9211eb55403bbfad3fb23adf127a92447ffb1)** to **[`49cc3bc`](https://github.com/sagemath/sagetrac-mirror/commit/49cc3bc1ecaba4b43f2ed426a8ebbfee6c77ddcd)**



---

archive/issue_comments_216850.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nLooks good to me. If you agree, you can set a positive review.",
    "created_at": "2015-02-19T20:31:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216850",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:41" align="right">comment:41</div>

Looks good to me. If you agree, you can set a positive review.



---

archive/issue_comments_216851.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nI'm good with things; Darij?",
    "created_at": "2015-02-19T21:04:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216851",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:42" align="right">comment:42</div>

I'm good with things; Darij?



---

archive/issue_comments_216852.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nFrom a quick glance at it, yes. But I haven't been keeping track of this ticket too closely, so I hope someone has reviewed Francois's edits too?",
    "created_at": "2015-02-19T21:08:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216852",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:43" align="right">comment:43</div>

From a quick glance at it, yes. But I haven't been keeping track of this ticket too closely, so I hope someone has reviewed Francois's edits too?



---

archive/issue_events_235611.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-02-19T21:21:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235611"
}
```



---

archive/issue_events_235612.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-02-19T21:21:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235612"
}
```



---

archive/issue_comments_216853.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nI have been looking at Frederic's changes, so (back to) positive review.",
    "created_at": "2015-02-19T21:21:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216853",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:44" align="right">comment:44</div>

I have been looking at Frederic's changes, so (back to) positive review.



---

archive/issue_events_235613.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-21T12:40:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235613"
}
```



---

archive/issue_events_235614.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "26eb8fa8c4168bccca571ddf25800b391ad225b2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-02-21T12:40:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16630#event-235614"
}
```



---

archive/issue_comments_216854.json:
```json
{
    "body": "Changed branch from **[public/groups/fix_category_finite_coxeter-16630](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/fix_category_finite_coxeter-16630)** to **[`49cc3bc`](https://github.com/sagemath/sagetrac-mirror/commit/49cc3bc1ecaba4b43f2ed426a8ebbfee6c77ddcd)**",
    "created_at": "2015-02-21T12:40:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16630",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16630#issuecomment-216854",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/groups/fix_category_finite_coxeter-16630](https://github.com/sagemath/sagetrac-mirror/tree/public/groups/fix_category_finite_coxeter-16630)** to **[`49cc3bc`](https://github.com/sagemath/sagetrac-mirror/commit/49cc3bc1ecaba4b43f2ed426a8ebbfee6c77ddcd)**
