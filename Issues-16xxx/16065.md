# Issue 16065: Python 3 preparation: Handle removed exec statement

archive/issues_015828.json:
```json
{
    "body": "In Py2 there is the [exec statement](https://docs.python.org/2/reference/simple_stmts.html#index-55), while in Py3 there is an [exec() function](https://docs.python.org/3.3/library/functions.html#exec).\n\nThe tool 2to3 changes the `exec` statement into the `exec()` function.\n\n\nThe tuple form of `exec` provides compatibility with Python 3, where `exec` is a function rather than a statement.\n\nThere are 6 effected modules. \n\nThis ticket is tracked as a dependency of meta-ticket ticket:16052.\n\nKeywords: python3\n\nBranch/Commit: 67871a8566fc34de2fc3762a7cf1fce19e316dd9\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Andr\u00e9 Apitzsch\n\nDependencies: #16712\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/16065\n\n",
    "closed_at": "2014-09-06T11:02:55Z",
    "created_at": "2014-04-07T08:33:16Z",
    "labels": [
        "component: distribution"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Python 3 preparation: Handle removed exec statement",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16065",
    "user": "https://github.com/wluebbe"
}
```
In Py2 there is the [exec statement](https://docs.python.org/2/reference/simple_stmts.html#index-55), while in Py3 there is an [exec() function](https://docs.python.org/3.3/library/functions.html#exec).

The tool 2to3 changes the `exec` statement into the `exec()` function.


The tuple form of `exec` provides compatibility with Python 3, where `exec` is a function rather than a statement.

There are 6 effected modules. 

This ticket is tracked as a dependency of meta-ticket ticket:16052.

Keywords: python3

Branch/Commit: 67871a8566fc34de2fc3762a7cf1fce19e316dd9

Reviewer: Frédéric Chapoton

Author: André Apitzsch

Dependencies: #16712

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/16065





---

archive/issue_events_053800.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16065#event-53800"
}
```



---

archive/issue_comments_265730.json:
```json
{
    "body": "Changing branch from \"\" to \"u/aapitzsch/ticket/16065\"",
    "created_at": "2014-07-19T13:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265730",
    "user": "https://github.com/a-andre"
}
```

Changing branch from "" to "u/aapitzsch/ticket/16065"



---

archive/issue_comments_265731.json:
```json
{
    "body": "Changing commit from \"\" to \"b38818230b8eefa31bd202c1f145125c2c9bc5a4\"",
    "created_at": "2014-07-19T13:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265731",
    "user": "https://github.com/a-andre"
}
```

Changing commit from "" to "b38818230b8eefa31bd202c1f145125c2c9bc5a4"



---

archive/issue_comments_265732.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[b388182](https://github.com/sagemath/sagetrac-mirror/commit/b38818230b8eefa31bd202c1f145125c2c9bc5a4)|`use a python3 compatible syntax for exec statement`|",
    "created_at": "2014-07-19T13:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265732",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[b388182](https://github.com/sagemath/sagetrac-mirror/commit/b38818230b8eefa31bd202c1f145125c2c9bc5a4)|`use a python3 compatible syntax for exec statement`|



---

archive/issue_comments_265733.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-07-19T13:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265733",
    "user": "https://github.com/a-andre"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_265734.json:
```json
{
    "body": "Changing author from \"\" to \"Andr\u00e9 Apitzsch\"",
    "created_at": "2014-07-19T13:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265734",
    "user": "https://github.com/a-andre"
}
```

Changing author from "" to "André Apitzsch"



---

archive/issue_comments_265735.json:
```json
{
    "body": "<a id='comment:3'></a>\nHello, I have split up the first instance of exec, as this can be completely removed. Please have a look at #16712, and give it a positive review if you agree with it.",
    "created_at": "2014-07-24T20:02:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265735",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
Hello, I have split up the first instance of exec, as this can be completely removed. Please have a look at #16712, and give it a positive review if you agree with it.



---

archive/issue_comments_265736.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#16712\"",
    "created_at": "2014-07-24T21:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265736",
    "user": "https://github.com/a-andre"
}
```

Changing dependencies from "" to "#16712"



---

archive/issue_comments_265737.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[cca73cb](https://github.com/sagemath/sagetrac-mirror/commit/cca73cb3f4e7e7e142d72fe7416383a5d34aec42)|`trac #16712 removed bad use of exec`|\n|[8287bb2](https://github.com/sagemath/sagetrac-mirror/commit/8287bb29333e313ff1be79da632221c6e3f63c39)|`trac #16712 reviewer wish`|\n|[6154431](https://github.com/sagemath/sagetrac-mirror/commit/61544317f67f8271ba970221e447071ec9599161)|`Merge branch '16712' into py3_exec_statement`|",
    "created_at": "2014-07-25T22:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265737",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[cca73cb](https://github.com/sagemath/sagetrac-mirror/commit/cca73cb3f4e7e7e142d72fe7416383a5d34aec42)|`trac #16712 removed bad use of exec`|
|[8287bb2](https://github.com/sagemath/sagetrac-mirror/commit/8287bb29333e313ff1be79da632221c6e3f63c39)|`trac #16712 reviewer wish`|
|[6154431](https://github.com/sagemath/sagetrac-mirror/commit/61544317f67f8271ba970221e447071ec9599161)|`Merge branch '16712' into py3_exec_statement`|



---

archive/issue_comments_265738.json:
```json
{
    "body": "Changing commit from \"b38818230b8eefa31bd202c1f145125c2c9bc5a4\" to \"61544317f67f8271ba970221e447071ec9599161\"",
    "created_at": "2014-07-25T22:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265738",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b38818230b8eefa31bd202c1f145125c2c9bc5a4" to "61544317f67f8271ba970221e447071ec9599161"



---

archive/issue_events_053801.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16065#event-53801"
}
```



---

archive/issue_events_053802.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16065#event-53802"
}
```



---

archive/issue_comments_265739.json:
```json
{
    "body": "Changing branch from \"u/aapitzsch/ticket/16065\" to \"public/ticket/16065\"",
    "created_at": "2014-08-20T08:59:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265739",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "u/aapitzsch/ticket/16065" to "public/ticket/16065"



---

archive/issue_comments_265740.json:
```json
{
    "body": "Changing commit from \"61544317f67f8271ba970221e447071ec9599161\" to \"67871a8566fc34de2fc3762a7cf1fce19e316dd9\"",
    "created_at": "2014-08-20T08:59:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265740",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "61544317f67f8271ba970221e447071ec9599161" to "67871a8566fc34de2fc3762a7cf1fce19e316dd9"



---

archive/issue_comments_265741.json:
```json
{
    "body": "<a id='comment:7'></a>\nmerged with 6.4.beta0\n\n---\nNew commits:\n|                                                                                                                                          |                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[67871a8](https://github.com/sagemath/sagetrac-mirror/commit/67871a8566fc34de2fc3762a7cf1fce19e316dd9)|`Merge with 6.4.beta0`|",
    "created_at": "2014-08-20T08:59:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265741",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
merged with 6.4.beta0

---
New commits:
|                                                                                                                                          |                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[67871a8](https://github.com/sagemath/sagetrac-mirror/commit/67871a8566fc34de2fc3762a7cf1fce19e316dd9)|`Merge with 6.4.beta0`|



---

archive/issue_comments_265742.json:
```json
{
    "body": "<a id='comment:8'></a>\nFr\u00e9d\u00e9ric, what's missing for a positive review?",
    "created_at": "2014-08-28T14:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265742",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:8'></a>
Frédéric, what's missing for a positive review?



---

archive/issue_comments_265743.json:
```json
{
    "body": "<a id='comment:9'></a>\nI would give a positive review, but how can it be ok if exec() does not exists in python2 ?\n\n\"But the function is not supported by Py2.\" in the ticket description !",
    "created_at": "2014-08-28T18:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265743",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
I would give a positive review, but how can it be ok if exec() does not exists in python2 ?

"But the function is not supported by Py2." in the ticket description !



---

archive/issue_comments_265744.json:
```json
{
    "body": "<a id='comment:10'></a>\nSee https://docs.python.org/2.7/reference/simple_stmts.html#exec\n\n    The first expression may also be a tuple of length 2 or 3. In this case, the optional parts must be omitted. The form `exec(expr, globals)` is equivalent to `exec expr in globals`, while the form `exec(expr, globals, locals)` is equivalent to `exec expr in globals, locals`. The tuple form of `exec` provides compatibility with Python 3, where `exec` is a function rather than a statement.",
    "created_at": "2014-08-28T18:55:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265744",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:10'></a>
See https://docs.python.org/2.7/reference/simple_stmts.html#exec

    The first expression may also be a tuple of length 2 or 3. In this case, the optional parts must be omitted. The form `exec(expr, globals)` is equivalent to `exec expr in globals`, while the form `exec(expr, globals, locals)` is equivalent to `exec expr in globals, locals`. The tuple form of `exec` provides compatibility with Python 3, where `exec` is a function rather than a statement.



---

archive/issue_comments_265745.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,7 +3,7 @@\n The tool 2to3 changes the `exec` statement into the `exec()` function.\n \n \n-But the function is not supported by Py2.\n+The tuple form of `exec` provides compatibility with Python 3, where `exec` is a function rather than a statement.\n \n There are 6 effected modules. \n \n``````\n",
    "created_at": "2014-08-28T18:55:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265745",
    "user": "https://github.com/a-andre"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,7 +3,7 @@
 The tool 2to3 changes the `exec` statement into the `exec()` function.
 
 
-But the function is not supported by Py2.
+The tuple form of `exec` provides compatibility with Python 3, where `exec` is a function rather than a statement.
 
 There are 6 effected modules. 
 
``````




---

archive/issue_comments_265746.json:
```json
{
    "body": "<a id='comment:11'></a>\nok, then.",
    "created_at": "2014-08-28T19:28:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265746",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
ok, then.



---

archive/issue_comments_265747.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-28T19:28:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265747",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_265748.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2014-08-28T19:29:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265748",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_events_053803.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-06T11:02:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16065#event-53803"
}
```



---

archive/issue_comments_265749.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-09-06T11:02:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265749",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_265750.json:
```json
{
    "body": "Changing branch from \"public/ticket/16065\" to \"67871a8566fc34de2fc3762a7cf1fce19e316dd9\"",
    "created_at": "2014-09-06T11:02:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16065#issuecomment-265750",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/ticket/16065" to "67871a8566fc34de2fc3762a7cf1fce19e316dd9"
