# Issue 16269: Cartesian Products of additive groups

archive/issues_016032.json:
```json
{
    "assignees": [],
    "body": "With this branch, one can see the product of two fields (or the product of one field and an additive group) as an additive group.\n\n```\nsage: F8=GF(8,'x') \nsage: x = F8.primitive_element()\nsage: F5=GF(5)\nsage: F8xF5 = F8.cartesian_product(F5)\nsage: F8xF5.an_element()\n(0, 0)\nsage: e=F8xF5((x,4))    \nsage: e\n(x, 4)\nsage: e+e\n(0, 3)\nsage: 3*e\n(x, 2)\nsage: -e\n(x, 1)\n```\n\nDepends on #16280\n\nCC:  @nthiery @dimpase @videlec\n\nBranch/Commit: **[0a54b68](https://github.com/sagemath/sagetrac-mirror/commit/0a54b68c242cc6541108b709170c35b3a79515b8)**\n\nReviewer: **Nathann Cohen, Nicolas M. Thi\u00e9ry**\n\nAuthor: **Nathann Cohen, Nicolas M. Thi\u00e9ry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16269_\n\n",
    "closed_at": "2014-05-06T18:03:39Z",
    "created_at": "2014-04-30T07:13:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20categories",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Cartesian Products of additive groups",
    "type": "issue",
    "updated_at": "2014-05-06T18:03:39Z",
    "url": "https://github.com/sagemath/sage/issues/16269",
    "user": "https://github.com/nathanncohen"
}
```
With this branch, one can see the product of two fields (or the product of one field and an additive group) as an additive group.

```
sage: F8=GF(8,'x') 
sage: x = F8.primitive_element()
sage: F5=GF(5)
sage: F8xF5 = F8.cartesian_product(F5)
sage: F8xF5.an_element()
(0, 0)
sage: e=F8xF5((x,4))    
sage: e
(x, 4)
sage: e+e
(0, 3)
sage: 3*e
(x, 2)
sage: -e
(x, 1)
```

Depends on #16280

CC:  @nthiery @dimpase @videlec

Branch/Commit: **[0a54b68](https://github.com/sagemath/sagetrac-mirror/commit/0a54b68c242cc6541108b709170c35b3a79515b8)**

Reviewer: **Nathann Cohen, Nicolas M. Thiéry**

Author: **Nathann Cohen, Nicolas M. Thiéry**

_Issue created by migration from https://trac.sagemath.org/ticket/16269_





---

archive/issue_events_214851.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-30T07:13:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214851"
}
```



---

archive/issue_events_214852.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-30T07:13:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20categories",
    "label_color": "0000ff",
    "label_name": "component: categories",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214852"
}
```



---

archive/issue_events_214853.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-30T07:13:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214853"
}
```



---

archive/issue_events_214854.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-30T07:13:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214854"
}
```



---

archive/issue_events_214855.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-30T07:14:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214855"
}
```



---

archive/issue_events_214856.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-30T07:15:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214856"
}
```



---

archive/issue_events_214857.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-30T07:15:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214857"
}
```



---

archive/issue_comments_211041.json:
```json
{
    "body": "Branch: **[u/ncohen/16269](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16269)**",
    "created_at": "2014-04-30T07:15:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211041",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[u/ncohen/16269](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16269)**



---

archive/issue_comments_211042.json:
```json
{
    "body": "Commit: **[370abb8](https://github.com/sagemath/sagetrac-mirror/commit/370abb8bfc058cb4a3017aa31b880bcdbefc762f)**",
    "created_at": "2014-04-30T07:17:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211042",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[370abb8](https://github.com/sagemath/sagetrac-mirror/commit/370abb8bfc058cb4a3017aa31b880bcdbefc762f)**



---

archive/issue_comments_211043.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37023150be518411b8850b9086c5bdd1ebb3a19c\">3702315</a></td><td><code>trac #16269: `_element_constructor_` in CartesianProduct</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/220ce27aac999486e6e7583663e6295ac1d8e380\">220ce27</a></td><td><code>trac #16269: Finish the previous commits</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/370abb8bfc058cb4a3017aa31b880bcdbefc762f\">370abb8</a></td><td><code>trac #16269: Fixing doctests and implementing additional functions</code></td></tr></table>\n",
    "created_at": "2014-04-30T07:17:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211043",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3" align="right">Comment 3</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37023150be518411b8850b9086c5bdd1ebb3a19c">3702315</a></td><td><code>trac #16269: `_element_constructor_` in CartesianProduct</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/220ce27aac999486e6e7583663e6295ac1d8e380">220ce27</a></td><td><code>trac #16269: Finish the previous commits</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/370abb8bfc058cb4a3017aa31b880bcdbefc762f">370abb8</a></td><td><code>trac #16269: Fixing doctests and implementing additional functions</code></td></tr></table>




---

archive/issue_comments_211044.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nHmm, do you mean to construct the Cartesian product of fields? Then it will be a ring, with two operations, addition and multiplication...\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37023150be518411b8850b9086c5bdd1ebb3a19c\">3702315</a></td><td><code>trac #16269: `_element_constructor_` in CartesianProduct</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/220ce27aac999486e6e7583663e6295ac1d8e380\">220ce27</a></td><td><code>trac #16269: Finish the previous commits</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/370abb8bfc058cb4a3017aa31b880bcdbefc762f\">370abb8</a></td><td><code>trac #16269: Fixing doctests and implementing additional functions</code></td></tr></table>\n",
    "created_at": "2014-04-30T07:19:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211044",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">Comment 4</div>

Hmm, do you mean to construct the Cartesian product of fields? Then it will be a ring, with two operations, addition and multiplication...

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37023150be518411b8850b9086c5bdd1ebb3a19c">3702315</a></td><td><code>trac #16269: `_element_constructor_` in CartesianProduct</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/220ce27aac999486e6e7583663e6295ac1d8e380">220ce27</a></td><td><code>trac #16269: Finish the previous commits</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/370abb8bfc058cb4a3017aa31b880bcdbefc762f">370abb8</a></td><td><code>trac #16269: Fixing doctests and implementing additional functions</code></td></tr></table>




---

archive/issue_comments_211045.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nPasses all tests ! The try/except in `_element_constructor_` is because of this discussion https://groups.google.com/d/topic/sage-devel/tHallML3OYI/discussion\n\nIn the meantime, as it seems you cannot call `FiniteEnumeratedSet(a_list)(something)` then  it is unavoidable\n\nNathann",
    "created_at": "2014-04-30T08:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211045",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">Comment 5</div>

Passes all tests ! The try/except in `_element_constructor_` is because of this discussion https://groups.google.com/d/topic/sage-devel/tHallML3OYI/discussion

In the meantime, as it seems you cannot call `FiniteEnumeratedSet(a_list)(something)` then  it is unavoidable

Nathann



---

archive/issue_comments_211046.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nYo !\n\n> Hmm, do you mean to construct the Cartesian product of fields? Then it will be a ring, with two operations, addition and multiplication...\n\nHmmmm.. Well, I guess it may not be very hard to do. \n\n1) A ring is a additive group (so the + is already implemented) for the product of rings\n\n2) It has a multiplicative operation, but perhaps the product of multiplicative associative magma is not detected as such. If you can just give Sage the right inheritances, perhaps you have no real code to implement.\n\nGood luck,\n\nNathann",
    "created_at": "2014-04-30T08:09:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211046",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">Comment 6</div>

Yo !

> Hmm, do you mean to construct the Cartesian product of fields? Then it will be a ring, with two operations, addition and multiplication...

Hmmmm.. Well, I guess it may not be very hard to do. 

1) A ring is a additive group (so the + is already implemented) for the product of rings

2) It has a multiplicative operation, but perhaps the product of multiplicative associative magma is not detected as such. If you can just give Sage the right inheritances, perhaps you have no real code to implement.

Good luck,

Nathann



---

archive/issue_comments_211047.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nFunny, there is no `rings.<tab>` thing...\n\nNathann",
    "created_at": "2014-04-30T08:10:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211047",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">Comment 7</div>

Funny, there is no `rings.<tab>` thing...

Nathann



---

archive/issue_events_214858.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-30T08:10:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214858"
}
```



---

archive/issue_events_214859.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-04-30T08:10:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214859"
}
```



---

archive/issue_comments_211048.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nReplying to [@nathanncohen](#comment%3A5):\n> Passes all tests ! The try/except in `_element_constructor_` is because of this discussion https://groups.google.com/d/topic/sage-devel/tHallML3OYI/discussion\n> \n> In the meantime, as it seems you cannot call `FiniteEnumeratedSet(a_list)(something)` then  it is unavoidable\n> \n> Nathann\n\nYour `_element_constructor_` is buggy\n\n```\nsage: S1 = FiniteEnumeratedSet(['a','b','c'])\nsage: S2 = GF(5)\nsage: C=cartesian_product([S1,S2])\nsage: C(('a',1))\n('a', 1)\nsage: c = C(('a',1))\nsage: c[1].parent()\nInteger Ring\n```\nIt would be better to clean the input of the cartesian product set by set.",
    "created_at": "2014-04-30T08:21:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211048",
    "user": "https://github.com/videlec"
}
```

<div id="comment:9" align="right">Comment 9</div>

Replying to [@nathanncohen](#comment%3A5):
> Passes all tests ! The try/except in `_element_constructor_` is because of this discussion https://groups.google.com/d/topic/sage-devel/tHallML3OYI/discussion
> 
> In the meantime, as it seems you cannot call `FiniteEnumeratedSet(a_list)(something)` then  it is unavoidable
> 
> Nathann

Your `_element_constructor_` is buggy

```
sage: S1 = FiniteEnumeratedSet(['a','b','c'])
sage: S2 = GF(5)
sage: C=cartesian_product([S1,S2])
sage: C(('a',1))
('a', 1)
sage: c = C(('a',1))
sage: c[1].parent()
Integer Ring
```
It would be better to clean the input of the cartesian product set by set.



---

archive/issue_comments_211049.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nI'd say: don't worry about the Rings thing for now unless you critically need it. It will be a one line to add once #10963 is in. Just handle the additive and multiplicative side separately.\n\nI'll have a look at this later today.",
    "created_at": "2014-04-30T08:30:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211049",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:10" align="right">Comment 10</div>

I'd say: don't worry about the Rings thing for now unless you critically need it. It will be a one line to add once #10963 is in. Just handle the additive and multiplicative side separately.

I'll have a look at this later today.



---

archive/issue_comments_211050.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\n> Your `_element_constructor_` is buggy\n\nHey man, if it comes to that I think that the design in which the elements of a Parent are not Element is the buggy thing.\n\nNathann",
    "created_at": "2014-04-30T09:02:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211050",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:11" align="right">Comment 11</div>

> Your `_element_constructor_` is buggy

Hey man, if it comes to that I think that the design in which the elements of a Parent are not Element is the buggy thing.

Nathann



---

archive/issue_comments_211051.json:
```json
{
    "body": "Changed commit from **[370abb8](https://github.com/sagemath/sagetrac-mirror/commit/370abb8bfc058cb4a3017aa31b880bcdbefc762f)** to **[aa07ba1](https://github.com/sagemath/sagetrac-mirror/commit/aa07ba19487569ef26772c51092c4d5342faff7c)**",
    "created_at": "2014-04-30T09:07:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211051",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[370abb8](https://github.com/sagemath/sagetrac-mirror/commit/370abb8bfc058cb4a3017aa31b880bcdbefc762f)** to **[aa07ba1](https://github.com/sagemath/sagetrac-mirror/commit/aa07ba19487569ef26772c51092c4d5342faff7c)**



---

archive/issue_comments_211052.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa07ba19487569ef26772c51092c4d5342faff7c\">aa07ba1</a></td><td><code>trac #16269: Working around \"officially not a bug\"</code></td></tr></table>\n",
    "created_at": "2014-04-30T09:07:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211052",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12" align="right">Comment 12</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa07ba19487569ef26772c51092c4d5342faff7c">aa07ba1</a></td><td><code>trac #16269: Working around "officially not a bug"</code></td></tr></table>




---

archive/issue_comments_211053.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nReplying to [@nathanncohen](#comment%3A6):\n> Yo !\n> \n> > Hmm, do you mean to construct the Cartesian product of fields? Then it will be a ring, with two operations, addition and multiplication...\n\n> \n> Hmmmm.. Well, I guess it may not be very hard to do. \n> \n> 1) A ring is a additive group (so the + is already implemented) for the product of rings\n\nYou can make any abelian group into a ring by defining multiplication by a non-zero element a to be identity operation, i.e. ax=x for all x in the group, and by 0 to be zero, i.e. 0x=0 for all x in the group.\nThis should be easy to implement - no real code, just some abstract nonsense :-)\n\nThat is, as soon as you have cartesian product of rings, you have what you need in general...\n\n> \n> 2) It has a multiplicative operation, but perhaps the product of multiplicative associative magma is not detected as such. \n\nbut why?\nIs it because #10963 will take forever to merge, as it has apparently hit some kind of OSS unsolvability barrier? :)\n \n\n> If you can just give Sage the right inheritances, perhaps you have no real code to implement.\n\nIf I were a category theorist and a (C)Python guru by training, perhaps it will only take me 5 minutes ;-)",
    "created_at": "2014-04-30T13:42:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211053",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">Comment 13</div>

Replying to [@nathanncohen](#comment%3A6):
> Yo !
> 
> > Hmm, do you mean to construct the Cartesian product of fields? Then it will be a ring, with two operations, addition and multiplication...

> 
> Hmmmm.. Well, I guess it may not be very hard to do. 
> 
> 1) A ring is a additive group (so the + is already implemented) for the product of rings

You can make any abelian group into a ring by defining multiplication by a non-zero element a to be identity operation, i.e. ax=x for all x in the group, and by 0 to be zero, i.e. 0x=0 for all x in the group.
This should be easy to implement - no real code, just some abstract nonsense :-)

That is, as soon as you have cartesian product of rings, you have what you need in general...

> 
> 2) It has a multiplicative operation, but perhaps the product of multiplicative associative magma is not detected as such. 

but why?
Is it because #10963 will take forever to merge, as it has apparently hit some kind of OSS unsolvability barrier? :)
 

> If you can just give Sage the right inheritances, perhaps you have no real code to implement.

If I were a category theorist and a (C)Python guru by training, perhaps it will only take me 5 minutes ;-)



---

archive/issue_comments_211054.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nYo !\n\n> Is it because #10963 will take forever to merge, as it has apparently hit some kind of OSS unsolvability barrier? :)\n\nI have no idea what #10963 contains, nor do I care to be honest. And about implementing rings, I would personally chose to behave as if #10963 were to never be merged, because you just can't count on stuff like this to happen `:-P`\n\n> If I were a category theorist and a (C)Python guru by training, perhaps it will only take me 5 minutes ;-)\n\nWhich is why I lived very hard the last 2 days, during which I tried to implement a ten-lines patch that would have taken any of the so-called \"category theorist and a (C)Python guru by training\" those 5 minutes. Besides, I don't consider the product of additive group to be such a weird notion that it could be left unimplemented for years `:-P`\n\nBut well. Now it is done in this patch. Stuff happens.\n\nNathann",
    "created_at": "2014-04-30T14:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211054",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">Comment 14</div>

Yo !

> Is it because #10963 will take forever to merge, as it has apparently hit some kind of OSS unsolvability barrier? :)

I have no idea what #10963 contains, nor do I care to be honest. And about implementing rings, I would personally chose to behave as if #10963 were to never be merged, because you just can't count on stuff like this to happen `:-P`

> If I were a category theorist and a (C)Python guru by training, perhaps it will only take me 5 minutes ;-)

Which is why I lived very hard the last 2 days, during which I tried to implement a ten-lines patch that would have taken any of the so-called "category theorist and a (C)Python guru by training" those 5 minutes. Besides, I don't consider the product of additive group to be such a weird notion that it could be left unimplemented for years `:-P`

But well. Now it is done in this patch. Stuff happens.

Nathann



---

archive/issue_comments_211055.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@dimpase](#comment%3A13):\n> Is it because #10963 will take forever to merge, as it has apparently hit some kind of OSS unsolvability barrier? :)\n\nThe review process has restarted :-)",
    "created_at": "2014-04-30T16:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211055",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@dimpase](#comment%3A13):
> Is it because #10963 will take forever to merge, as it has apparently hit some kind of OSS unsolvability barrier? :)

The review process has restarted :-)



---

archive/issue_comments_211056.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d22e245049e26dd10522d3514603868701a286fb\">d22e245</a></td><td><code>trac #16269: missing __iter__</code></td></tr></table>\n",
    "created_at": "2014-04-30T18:08:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211056",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d22e245049e26dd10522d3514603868701a286fb">d22e245</a></td><td><code>trac #16269: missing __iter__</code></td></tr></table>




---

archive/issue_comments_211057.json:
```json
{
    "body": "Changed commit from **[aa07ba1](https://github.com/sagemath/sagetrac-mirror/commit/aa07ba19487569ef26772c51092c4d5342faff7c)** to **[d22e245](https://github.com/sagemath/sagetrac-mirror/commit/d22e245049e26dd10522d3514603868701a286fb)**",
    "created_at": "2014-04-30T18:08:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211057",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[aa07ba1](https://github.com/sagemath/sagetrac-mirror/commit/aa07ba19487569ef26772c51092c4d5342faff7c)** to **[d22e245](https://github.com/sagemath/sagetrac-mirror/commit/d22e245049e26dd10522d3514603868701a286fb)**



---

archive/issue_comments_211058.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nHi!\n\nI have just been through the changes. Overall, it looks good, thanks!\n\nRemaining points:\n- CartesianProduct.__iter__ should be in EnumeratedSets.CartesianProducts.ParentMethods\n- In ``_add_``, ``self.parent(right)`` looks suspicious. Does it even work?\n  If the purpose is to convert ``right`` into the same parent as\n  ``self``, then no need to worry about this: ``_add_`` may assume\n  that its two arguments belong to the same parent.\n- I am uncomfortable with using ``__iter__`` and ``__getitem__`` for\n  accessing the components of an element. For certain cartesian\n  products (e.g. cartesian products of modules), ``__iter__`` may have\n  a different meaning. Please use ``summand_split`` and\n  ``summand_projection`` instead.\n- In ``_element_constructor_``: given the catch, if we feed completely\n  unrelated crap to the constructor, is there an exception raised as\n  one could desire?\n\n```\n    sage: GF(3)(\"a\")\n    Traceback (most recent call last)\n    ...\n    TypeError: unable to convert x (=a) to an integer\n\n    sage: C = cartesian_product([GF(3), GF(3)])\n    sage: C([\"a\",\"b\"])\n    ???\n```\n\n\nPlease add this doctest. Btw, one might also want to raise a meaningful error if the length of `x` is incorrect.\n\nCheers,\n                                        Nicolas",
    "created_at": "2014-05-02T17:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211058",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:17" align="right">Comment 17</div>

Hi!

I have just been through the changes. Overall, it looks good, thanks!

Remaining points:
- CartesianProduct.__iter__ should be in EnumeratedSets.CartesianProducts.ParentMethods
- In ``_add_``, ``self.parent(right)`` looks suspicious. Does it even work?
  If the purpose is to convert ``right`` into the same parent as
  ``self``, then no need to worry about this: ``_add_`` may assume
  that its two arguments belong to the same parent.
- I am uncomfortable with using ``__iter__`` and ``__getitem__`` for
  accessing the components of an element. For certain cartesian
  products (e.g. cartesian products of modules), ``__iter__`` may have
  a different meaning. Please use ``summand_split`` and
  ``summand_projection`` instead.
- In ``_element_constructor_``: given the catch, if we feed completely
  unrelated crap to the constructor, is there an exception raised as
  one could desire?

```
    sage: GF(3)("a")
    Traceback (most recent call last)
    ...
    TypeError: unable to convert x (=a) to an integer

    sage: C = cartesian_product([GF(3), GF(3)])
    sage: C(["a","b"])
    ???
```


Please add this doctest. Btw, one might also want to raise a meaningful error if the length of `x` is incorrect.

Cheers,
                                        Nicolas



---

archive/issue_comments_211059.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nYo !\n\n> - CartesianProduct.__iter__ should be in EnumeratedSets.CartesianProducts.ParentMethods\n\nDone\n\n> - In ``_add_``, ``self.parent(right)`` looks suspicious. Does it even work?\n>   If the purpose is to convert ``right`` into the same parent as\n>   ``self``, then no need to worry about this: ``_add_`` may assume\n>   that its two arguments belong to the same parent.\n\nThat was the reason. Done.\n\n> - I am uncomfortable with using ``__iter__`` and ``__getitem__`` for\n>   accessing the components of an element. For certain cartesian\n>   products (e.g. cartesian products of modules), ``__iter__`` may have\n>   a different meaning. Please use ``summand_split`` and\n>   ``summand_projection`` instead.\n\nHere I do not agree. This is the most natural definition of an \"iter\" for a cartesian product. Your application will overrule this anyway, so how can that be a problem ?\n\n> - In ``_element_constructor_``: given the catch, if we feed completely\n>   unrelated crap to the constructor, is there an exception raised as\n>   one could desire?\n> \n> ```\n>     sage: GF(3)(\"a\")\n>     Traceback (most recent call last)\n>     ...\n>     TypeError: unable to convert x (=a) to an integer\n> \n>     sage: C = cartesian_product([GF(3), GF(3)])\n>     sage: C([\"a\",\"b\"])\n>     ???\n> ```\n\nOkay, so here I am stuck and I can't sort this out. Here is the problem :\n\n```\nsage: FiniteEnumeratedSet([\"a\",\"b\",\"c\"])(\"a\")\nTypeError: Cannot convert str to sage.structure.element.Element\nsage: FiniteEnumeratedSet([\"a\",\"b\",\"c\"])(\"d\")\nValueError: d not in {'a', 'b', 'c'}\n```\n\nBecause you cannot trust `FiniteEnumeratedSet` to have a sound `__call__` method, I need this try/catch.\n\nOn the other hand, if I have this try/catch, then I cannot detect `GF(3)(\"e\")` anymore. So what do we do ?\n\nI personally see no problem in removing this catch, knowing that cartesian products of `FiniteEnumeratedSet` will fail. For me it is because of a bug in `FiniteEnumeratedSet`, not of what I implement.\n\nNathann",
    "created_at": "2014-05-02T18:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211059",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:18" align="right">Comment 18</div>

Yo !

> - CartesianProduct.__iter__ should be in EnumeratedSets.CartesianProducts.ParentMethods

Done

> - In ``_add_``, ``self.parent(right)`` looks suspicious. Does it even work?
>   If the purpose is to convert ``right`` into the same parent as
>   ``self``, then no need to worry about this: ``_add_`` may assume
>   that its two arguments belong to the same parent.

That was the reason. Done.

> - I am uncomfortable with using ``__iter__`` and ``__getitem__`` for
>   accessing the components of an element. For certain cartesian
>   products (e.g. cartesian products of modules), ``__iter__`` may have
>   a different meaning. Please use ``summand_split`` and
>   ``summand_projection`` instead.

Here I do not agree. This is the most natural definition of an "iter" for a cartesian product. Your application will overrule this anyway, so how can that be a problem ?

> - In ``_element_constructor_``: given the catch, if we feed completely
>   unrelated crap to the constructor, is there an exception raised as
>   one could desire?
> 
> ```
>     sage: GF(3)("a")
>     Traceback (most recent call last)
>     ...
>     TypeError: unable to convert x (=a) to an integer
> 
>     sage: C = cartesian_product([GF(3), GF(3)])
>     sage: C(["a","b"])
>     ???
> ```

Okay, so here I am stuck and I can't sort this out. Here is the problem :

```
sage: FiniteEnumeratedSet(["a","b","c"])("a")
TypeError: Cannot convert str to sage.structure.element.Element
sage: FiniteEnumeratedSet(["a","b","c"])("d")
ValueError: d not in {'a', 'b', 'c'}
```

Because you cannot trust `FiniteEnumeratedSet` to have a sound `__call__` method, I need this try/catch.

On the other hand, if I have this try/catch, then I cannot detect `GF(3)("e")` anymore. So what do we do ?

I personally see no problem in removing this catch, knowing that cartesian products of `FiniteEnumeratedSet` will fail. For me it is because of a bug in `FiniteEnumeratedSet`, not of what I implement.

Nathann



---

archive/issue_comments_211060.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nReplying to [@nathanncohen](#comment%3A18):\n> Here I do not agree. This is the most natural definition of an \"iter\" for a cartesian product. Your application will overrule this anyway, so how can that be a problem ?\n\nAh shoot, in the mean time I answered your private e-mail about this\n:-) Shall I copy paste my answer here?\n\n> I personally see no problem in removing this catch, knowing that cartesian products of `FiniteEnumeratedSet` will fail. For me it is because of a bug in `FiniteEnumeratedSet`, not of what I implement.\n\nI agree.\n\nIf this special situation is not used too much elsewhere (i.e. if all\ntest pass), then I'd say let's go. And if not, I guess we will need to\nfix/workaround the problem in FiniteEnumeratedSet.\n\nCheers,\n                          Nicolas",
    "created_at": "2014-05-02T18:30:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211060",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:19" align="right">Comment 19</div>

Replying to [@nathanncohen](#comment%3A18):
> Here I do not agree. This is the most natural definition of an "iter" for a cartesian product. Your application will overrule this anyway, so how can that be a problem ?

Ah shoot, in the mean time I answered your private e-mail about this
:-) Shall I copy paste my answer here?

> I personally see no problem in removing this catch, knowing that cartesian products of `FiniteEnumeratedSet` will fail. For me it is because of a bug in `FiniteEnumeratedSet`, not of what I implement.

I agree.

If this special situation is not used too much elsewhere (i.e. if all
test pass), then I'd say let's go. And if not, I guess we will need to
fix/workaround the problem in FiniteEnumeratedSet.

Cheers,
                          Nicolas



---

archive/issue_comments_211061.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nYo !\n\n> Ah shoot, in the mean time I answered your private e-mail about this\n> :-) Shall I copy paste my answer here?\n\nFor others: the answer was that I should just use the `.summand_projection` commands in the code and not iter on the elements for it could have a different meaning elsewhere.\n\nI asked you how to guess the length of the vector though... Which I will need to call the projection commands.\n\n> I agree.\n> \n> If this special situation is not used too much elsewhere (i.e. if all\n> test pass), then I'd say let's go. And if not, I guess we will need to\n> fix/workaround the problem in FiniteEnumeratedSet.\n\nWell, not all tests pass actually, I just noticed. The first examples in the doc of categories/cartesian_product  use enumerated sets `>_<`\n\nNathann",
    "created_at": "2014-05-02T18:34:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211061",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:20" align="right">Comment 20</div>

Yo !

> Ah shoot, in the mean time I answered your private e-mail about this
> :-) Shall I copy paste my answer here?

For others: the answer was that I should just use the `.summand_projection` commands in the code and not iter on the elements for it could have a different meaning elsewhere.

I asked you how to guess the length of the vector though... Which I will need to call the projection commands.

> I agree.
> 
> If this special situation is not used too much elsewhere (i.e. if all
> test pass), then I'd say let's go. And if not, I guess we will need to
> fix/workaround the problem in FiniteEnumeratedSet.

Well, not all tests pass actually, I just noticed. The first examples in the doc of categories/cartesian_product  use enumerated sets `>_<`

Nathann



---

archive/issue_comments_211062.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nReplying to [@nathanncohen](#comment%3A20):\n> Well, not all tests pass actually, I just noticed. The first examples in the doc of categories/cartesian_product  use enumerated sets `>_<`\n\nNo luck. I can have a shot at fixing/working around the problem in\nFiniteEnumeratedSets later tonight if you want.",
    "created_at": "2014-05-02T18:40:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211062",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:21" align="right">Comment 21</div>

Replying to [@nathanncohen](#comment%3A20):
> Well, not all tests pass actually, I just noticed. The first examples in the doc of categories/cartesian_product  use enumerated sets `>_<`

No luck. I can have a shot at fixing/working around the problem in
FiniteEnumeratedSets later tonight if you want.



---

archive/issue_comments_211063.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nYo !\n\n> No luck. I can have a shot at fixing/working around the problem in\n> FiniteEnumeratedSets later tonight if you want.\n\nWow. Thanks.\n\nAhem. I don't know what happened to the old Nicolas, but I like this version of yourself `:-P`\n\nThanks for your help. I am testing that only the bug produced by the `FiniteEnumeratedSet` remains in my branch, and all your other remarks should be implemented. I also added an exception (and a test) for the case where the element given to `_element_constructor_` has the wrong length.\n\nNathann\n\nP.S. : Okay, the tests are done. It passes all tests in category/ and sets/ except for the category/cartesian_product.py file. The problem is the `.an_element()` call at the top of the file.\n\nIf it comes to that, we could even overwrite `FiniteEnumeratedSet.CartesianProduct.ParentMethod._element_constructor_`. Gosh. I almost speak the category slang, now. I am scared.",
    "created_at": "2014-05-02T18:53:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211063",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:22" align="right">Comment 22</div>

Yo !

> No luck. I can have a shot at fixing/working around the problem in
> FiniteEnumeratedSets later tonight if you want.

Wow. Thanks.

Ahem. I don't know what happened to the old Nicolas, but I like this version of yourself `:-P`

Thanks for your help. I am testing that only the bug produced by the `FiniteEnumeratedSet` remains in my branch, and all your other remarks should be implemented. I also added an exception (and a test) for the case where the element given to `_element_constructor_` has the wrong length.

Nathann

P.S. : Okay, the tests are done. It passes all tests in category/ and sets/ except for the category/cartesian_product.py file. The problem is the `.an_element()` call at the top of the file.

If it comes to that, we could even overwrite `FiniteEnumeratedSet.CartesianProduct.ParentMethod._element_constructor_`. Gosh. I almost speak the category slang, now. I am scared.



---

archive/issue_comments_211064.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f262faa2796f58bd05fdc5d7c46d3cb84d59eb62\">f262faa</a></td><td><code>trac #16269: Merged with 6.2.rc1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/338cc5b99fe50f435d2f6600eea46cffa372305a\">338cc5b</a></td><td><code>trac #16269: Reviewer's remarks</code></td></tr></table>\n",
    "created_at": "2014-05-02T18:53:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211064",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23" align="right">Comment 23</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f262faa2796f58bd05fdc5d7c46d3cb84d59eb62">f262faa</a></td><td><code>trac #16269: Merged with 6.2.rc1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/338cc5b99fe50f435d2f6600eea46cffa372305a">338cc5b</a></td><td><code>trac #16269: Reviewer's remarks</code></td></tr></table>




---

archive/issue_comments_211065.json:
```json
{
    "body": "Changed commit from **[d22e245](https://github.com/sagemath/sagetrac-mirror/commit/d22e245049e26dd10522d3514603868701a286fb)** to **[338cc5b](https://github.com/sagemath/sagetrac-mirror/commit/338cc5b99fe50f435d2f6600eea46cffa372305a)**",
    "created_at": "2014-05-02T18:53:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211065",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d22e245](https://github.com/sagemath/sagetrac-mirror/commit/d22e245049e26dd10522d3514603868701a286fb)** to **[338cc5b](https://github.com/sagemath/sagetrac-mirror/commit/338cc5b99fe50f435d2f6600eea46cffa372305a)**



---

archive/issue_comments_211066.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nI uploaded a potential fix to the `FiniteEnumeratedSet` problem on #16280, which I added here as light dependency.",
    "created_at": "2014-05-02T23:09:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211066",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:24" align="right">Comment 24</div>

I uploaded a potential fix to the `FiniteEnumeratedSet` problem on #16280, which I added here as light dependency.



---

archive/issue_comments_211067.json:
```json
{
    "body": "Dependencies: **#16280**",
    "created_at": "2014-05-02T23:09:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211067",
    "user": "https://github.com/nthiery"
}
```

Dependencies: **#16280**



---

archive/issue_comments_211068.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@nathanncohen](#comment%3A22):\n> Ahem. I don't know what happened to the old Nicolas, but I like this version of yourself `:-P`\n\n:-)\n\nWell, currently no teaching, no big ongoing administrative task, and\nbefore #10963 is in, I am stuck for long term dev. But don't worry,\nit's the same me: in the mean time others are cursing me (loud or\nquietly) for not working on other stuff ... Sight, that's never ending ...\n\n> Thanks for your help. I am testing that only the bug produced by the `FiniteEnumeratedSet` remains in my branch, and all your other remarks should be implemented. I also added an exception (and a test) for the case where the element given to `_element_constructor_` has the wrong length.\n\nSounds good. I'll check that tomorrow.\n\n> Gosh. I almost speak the category slang, now. I am scared.\n\n:-)\n\nGood night!\n                             Nicolas",
    "created_at": "2014-05-02T23:17:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211068",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@nathanncohen](#comment%3A22):
> Ahem. I don't know what happened to the old Nicolas, but I like this version of yourself `:-P`

:-)

Well, currently no teaching, no big ongoing administrative task, and
before #10963 is in, I am stuck for long term dev. But don't worry,
it's the same me: in the mean time others are cursing me (loud or
quietly) for not working on other stuff ... Sight, that's never ending ...

> Thanks for your help. I am testing that only the bug produced by the `FiniteEnumeratedSet` remains in my branch, and all your other remarks should be implemented. I also added an exception (and a test) for the case where the element given to `_element_constructor_` has the wrong length.

Sounds good. I'll check that tomorrow.

> Gosh. I almost speak the category slang, now. I am scared.

:-)

Good night!
                             Nicolas



---

archive/issue_comments_211069.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ac32c2d6854519a96eb1ce261240a0ee8537cb3\">8ac32c2</a></td><td><code>#16280: Fix call for FiniteEnumeratedSet's of plain Python objects</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e274542d24211d57e9f6d99562c56385235721a\">4e27454</a></td><td><code>#16280: Trivial doctest fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f67d82e378c4337dcf8cde49d2ca7d6e5b774086\">f67d82e</a></td><td><code>trac #16269: Merged with #16280</code></td></tr></table>\n",
    "created_at": "2014-05-03T13:10:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211069",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26" align="right">Comment 26</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ac32c2d6854519a96eb1ce261240a0ee8537cb3">8ac32c2</a></td><td><code>#16280: Fix call for FiniteEnumeratedSet's of plain Python objects</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e274542d24211d57e9f6d99562c56385235721a">4e27454</a></td><td><code>#16280: Trivial doctest fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f67d82e378c4337dcf8cde49d2ca7d6e5b774086">f67d82e</a></td><td><code>trac #16269: Merged with #16280</code></td></tr></table>




---

archive/issue_comments_211070.json:
```json
{
    "body": "Changed commit from **[338cc5b](https://github.com/sagemath/sagetrac-mirror/commit/338cc5b99fe50f435d2f6600eea46cffa372305a)** to **[f67d82e](https://github.com/sagemath/sagetrac-mirror/commit/f67d82e378c4337dcf8cde49d2ca7d6e5b774086)**",
    "created_at": "2014-05-03T13:10:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211070",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[338cc5b](https://github.com/sagemath/sagetrac-mirror/commit/338cc5b99fe50f435d2f6600eea46cffa372305a)** to **[f67d82e](https://github.com/sagemath/sagetrac-mirror/commit/f67d82e378c4337dcf8cde49d2ca7d6e5b774086)**



---

archive/issue_comments_211071.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nHere it is ! `;-)`\n\nNathann",
    "created_at": "2014-05-03T13:10:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211071",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:27" align="right">Comment 27</div>

Here it is ! `;-)`

Nathann



---

archive/issue_comments_211072.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nOkay, the problem being solved can I set this to `positive_review` ? It is the last unreviewed dependency of #16277.\n\nNathann",
    "created_at": "2014-05-03T18:21:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211072",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:28" align="right">Comment 28</div>

Okay, the problem being solved can I set this to `positive_review` ? It is the last unreviewed dependency of #16277.

Nathann



---

archive/issue_comments_211073.json:
```json
{
    "body": "Changed branch from **[u/ncohen/16269](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16269)** to **[u/nthiery/16269](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/16269)**",
    "created_at": "2014-05-04T07:42:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211073",
    "user": "https://github.com/nthiery"
}
```

Changed branch from **[u/ncohen/16269](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/16269)** to **[u/nthiery/16269](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/16269)**



---

archive/issue_comments_211074.json:
```json
{
    "body": "Changed commit from **[f67d82e](https://github.com/sagemath/sagetrac-mirror/commit/f67d82e378c4337dcf8cde49d2ca7d6e5b774086)** to **[0a54b68](https://github.com/sagemath/sagetrac-mirror/commit/0a54b68c242cc6541108b709170c35b3a79515b8)**",
    "created_at": "2014-05-04T07:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211074",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f67d82e](https://github.com/sagemath/sagetrac-mirror/commit/f67d82e378c4337dcf8cde49d2ca7d6e5b774086)** to **[0a54b68](https://github.com/sagemath/sagetrac-mirror/commit/0a54b68c242cc6541108b709170c35b3a79515b8)**



---

archive/issue_comments_211075.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a54b68c242cc6541108b709170c35b3a79515b8\">0a54b68</a></td><td><code>Trac 16269: little improvements + line folding in the doctest output</code></td></tr></table>\n",
    "created_at": "2014-05-04T07:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211075",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30" align="right">Comment 30</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a54b68c242cc6541108b709170c35b3a79515b8">0a54b68</a></td><td><code>Trac 16269: little improvements + line folding in the doctest output</code></td></tr></table>




---

archive/issue_comments_211076.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nIf my latest changes are fine with you, this is definitely a positive review on my side.\n\nRunning all long doctests now just to make sure.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a54b68c242cc6541108b709170c35b3a79515b8\">0a54b68</a></td><td><code>Trac 16269: little improvements + line folding in the doctest output</code></td></tr></table>\n",
    "created_at": "2014-05-04T07:47:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211076",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:31" align="right">Comment 31</div>

If my latest changes are fine with you, this is definitely a positive review on my side.

Running all long doctests now just to make sure.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a54b68c242cc6541108b709170c35b3a79515b8">0a54b68</a></td><td><code>Trac 16269: little improvements + line folding in the doctest output</code></td></tr></table>




---

archive/issue_comments_211077.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nWell, the exception is nicer and I think you told me that `__iter__` belonged to this class (sorry I moved a lot of stuff around, I probably lost track) but I would like to know why you replaced this `self()` with `_cartesian_product_of_elements`.\n\nNathann",
    "created_at": "2014-05-04T07:50:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211077",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:32" align="right">Comment 32</div>

Well, the exception is nicer and I think you told me that `__iter__` belonged to this class (sorry I moved a lot of stuff around, I probably lost track) but I would like to know why you replaced this `self()` with `_cartesian_product_of_elements`.

Nathann



---

archive/issue_comments_211078.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nThis bypasses the constructor checks while being independent of the internal representation.\n\nOh, no, it does not bypass the constructor in the basic implementation! `_cartesian_product_of_element` should definitely call element_class directly.\n\nOk, I can't do it right now. But this can wait for a later ticket too.",
    "created_at": "2014-05-04T08:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211078",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:33" align="right">Comment 33</div>

This bypasses the constructor checks while being independent of the internal representation.

Oh, no, it does not bypass the constructor in the basic implementation! `_cartesian_product_of_element` should definitely call element_class directly.

Ok, I can't do it right now. But this can wait for a later ticket too.



---

archive/issue_comments_211079.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nAll long tests pass btw",
    "created_at": "2014-05-04T08:17:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211079",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:34" align="right">Comment 34</div>

All long tests pass btw



---

archive/issue_comments_211080.json:
```json
{
    "body": "Reviewer: **Nathann Cohen, Nicolas M. Thi\u00e9ry**",
    "created_at": "2014-05-04T09:09:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211080",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen, Nicolas M. Thiéry**



---

archive/issue_events_214860.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-05-04T09:09:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214860"
}
```



---

archive/issue_events_214861.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2014-05-04T09:09:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214861"
}
```



---

archive/issue_comments_211081.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nOkayokayokay, thennnnnnnnn ... `:-)`\n\nNathann",
    "created_at": "2014-05-04T09:09:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211081",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:35" align="right">Comment 35</div>

Okayokayokay, thennnnnnnnn ... `:-)`

Nathann



---

archive/issue_comments_211082.json:
```json
{
    "body": "Changed branch from **[u/nthiery/16269](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/16269)** to **[u/nthiery/16269-optimized](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/16269-optimized)**",
    "created_at": "2014-05-04T20:24:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211082",
    "user": "https://github.com/nthiery"
}
```

Changed branch from **[u/nthiery/16269](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/16269)** to **[u/nthiery/16269-optimized](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/16269-optimized)**



---

archive/issue_comments_211083.json:
```json
{
    "body": "Changed commit from **[0a54b68](https://github.com/sagemath/sagetrac-mirror/commit/0a54b68c242cc6541108b709170c35b3a79515b8)** to **[b5ad803](https://github.com/sagemath/sagetrac-mirror/commit/b5ad803eeb1e72e8f276416e7267a351ac314ed2)**",
    "created_at": "2014-05-04T20:25:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211083",
    "user": "https://github.com/nthiery"
}
```

Changed commit from **[0a54b68](https://github.com/sagemath/sagetrac-mirror/commit/0a54b68c242cc6541108b709170c35b3a79515b8)** to **[b5ad803](https://github.com/sagemath/sagetrac-mirror/commit/b5ad803eeb1e72e8f276416e7267a351ac314ed2)**



---

archive/issue_comments_211084.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5ad803eeb1e72e8f276416e7267a351ac314ed2\">b5ad803</a></td><td><code>Trac 16269 (or follow up): optimize CartesianProduct._cartesian_product_of_elements</code></td></tr></table>\n",
    "created_at": "2014-05-04T20:25:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211084",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:37" align="right">Comment 37</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5ad803eeb1e72e8f276416e7267a351ac314ed2">b5ad803</a></td><td><code>Trac 16269 (or follow up): optimize CartesianProduct._cartesian_product_of_elements</code></td></tr></table>




---

archive/issue_comments_211085.json:
```json
{
    "body": "Changed branch from **[u/nthiery/16269-optimized](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/16269-optimized)** to **[u/nthiery/16269](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/16269)**",
    "created_at": "2014-05-04T20:25:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211085",
    "user": "https://github.com/nthiery"
}
```

Changed branch from **[u/nthiery/16269-optimized](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/16269-optimized)** to **[u/nthiery/16269](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/16269)**



---

archive/issue_comments_211086.json:
```json
{
    "body": "Changed commit from **[b5ad803](https://github.com/sagemath/sagetrac-mirror/commit/b5ad803eeb1e72e8f276416e7267a351ac314ed2)** to **[0a54b68](https://github.com/sagemath/sagetrac-mirror/commit/0a54b68c242cc6541108b709170c35b3a79515b8)**",
    "created_at": "2014-05-04T20:25:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211086",
    "user": "https://github.com/nthiery"
}
```

Changed commit from **[b5ad803](https://github.com/sagemath/sagetrac-mirror/commit/b5ad803eeb1e72e8f276416e7267a351ac314ed2)** to **[0a54b68](https://github.com/sagemath/sagetrac-mirror/commit/0a54b68c242cc6541108b709170c35b3a79515b8)**



---

archive/issue_comments_211087.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nHi,\n\nI fixed `_cartesian_product_of_elements` to bypass `_element_constructor` and other checks, and documented it. Here is the timing difference:\n\n```\nsage: S1 = Sets().example()\nsage: S2 = InfiniteEnumeratedSets().example()\nsage: C = cartesian_product([S2, S1, S2])\nsage: l = tuple([S2.an_element(), S1.an_element(), S2.an_element()])\n```\nWithout the optimization:\n\n```\nsage: %timeit C._cartesian_product_of_elements(l)\n10000 loops, best of 3: 22 \u00b5s per loop\n```\nWith the optimization:\n\n```\nsage: %timeit C._cartesian_product_of_elements(lt)\n1000000 loops, best of 3: 922 ns per loop\n```\n\nIf you are fine including this in this ticket, please change the branch to `u/nthiery/16269-optimized`. Otherwise, I'll move this commit to a follow up ticket.\n\nFor the record: the tests pass on the cartesian_product.py file. Running all long tests now to be sure.\n\nCheers,\n                                   Nicolas",
    "created_at": "2014-05-04T20:30:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211087",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:39" align="right">Comment 39</div>

Hi,

I fixed `_cartesian_product_of_elements` to bypass `_element_constructor` and other checks, and documented it. Here is the timing difference:

```
sage: S1 = Sets().example()
sage: S2 = InfiniteEnumeratedSets().example()
sage: C = cartesian_product([S2, S1, S2])
sage: l = tuple([S2.an_element(), S1.an_element(), S2.an_element()])
```
Without the optimization:

```
sage: %timeit C._cartesian_product_of_elements(l)
10000 loops, best of 3: 22 µs per loop
```
With the optimization:

```
sage: %timeit C._cartesian_product_of_elements(lt)
1000000 loops, best of 3: 922 ns per loop
```

If you are fine including this in this ticket, please change the branch to `u/nthiery/16269-optimized`. Otherwise, I'll move this commit to a follow up ticket.

For the record: the tests pass on the cartesian_product.py file. Running all long tests now to be sure.

Cheers,
                                   Nicolas



---

archive/issue_comments_211088.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nThe optimization is now #16288, as this was more practical for Nathann.\nHence this ticket is ready to be merged as is.",
    "created_at": "2014-05-04T21:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211088",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:40" align="right">Comment 40</div>

The optimization is now #16288, as this was more practical for Nathann.
Hence this ticket is ready to be merged as is.



---

archive/issue_events_214862.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214862"
}
```



---

archive/issue_events_214863.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214863"
}
```



---

archive/issue_events_214864.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-06T18:03:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214864"
}
```



---

archive/issue_events_214865.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-06T18:03:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16269#event-214865"
}
```



---

archive/issue_comments_211089.json:
```json
{
    "body": "Changed branch from **[u/nthiery/16269](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/16269)** to **[0a54b68](https://github.com/sagemath/sagetrac-mirror/commit/0a54b68c242cc6541108b709170c35b3a79515b8)**",
    "created_at": "2014-05-06T18:03:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16269#issuecomment-211089",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/nthiery/16269](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/16269)** to **[0a54b68](https://github.com/sagemath/sagetrac-mirror/commit/0a54b68c242cc6541108b709170c35b3a79515b8)**
