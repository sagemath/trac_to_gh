# Issue 16804: points() has problems with some lists of complexes containing real (i.e. imag(x)==0) values.

archive/issues_016567.json:
```json
{
    "assignees": [],
    "body": "Motivating example :\n\n`sage: points(map(lambda x:x[0].n(),(z^20+1).roots()), figsize=4, aspect_ratio=1)` works as expected.\n\n`sage: points(map(lambda x:x[0].n(),(z^20-1).roots()), figsize=4, aspect_ratio=1)` gives an error.\n\nOne (namely K. Crisman ) notes ([https://groups.google.com/forum/#!topic/sage-support/uyiSDTxQ_2U](https://groups.google.com/forum/#!topic/sage-support/uyiSDTxQ_2U)) that some of the member of the second set are real (namely -1 and 1) while none of the members of the first set is real.\n\nIndeed :\n\n`points(map(N, [1+I,I,I-1,-1-I,-I,1-I]),figsize=4)` works as expected.\n\n`points(map(N, [0,1,1+I,I,I-1,-1,-1-I,-I,1-I]),figsize=4)` gives an error.\n\nOne also notes that `points([1+I,I,I-1,-1-I,-I,1-I],figsize=4)` while conforming to `points()` documentation, gives another, different error.\n\nWorkaround suggested by K. Crisman :\n\n`sage: points(map(lambda x:CC(x[0].n()),(z^20-1).roots()), figsize=4, aspect_ratio=1)` works as expected.\n\nCC:  @videlec @tscrim\n\nKeywords: **graphics, plot, complex**\n\nBranch: **[0ba0957](https://github.com/sagemath/sagetrac-mirror/commit/0ba0957a39c1c4a837019753963acbf89d06a143)**\n\nReviewer: **Vincent Delecroix, Kwankyu Lee**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16804_\n\n",
    "closed_at": "2020-11-22T15:05:14Z",
    "created_at": "2014-08-12T17:52:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "points() has problems with some lists of complexes containing real (i.e. imag(x)==0) values.",
    "type": "issue",
    "updated_at": "2020-11-27T12:52:44Z",
    "url": "https://github.com/sagemath/sage/issues/16804",
    "user": "https://github.com/EmmanuelCharpentier"
}
```
Motivating example :

`sage: points(map(lambda x:x[0].n(),(z^20+1).roots()), figsize=4, aspect_ratio=1)` works as expected.

`sage: points(map(lambda x:x[0].n(),(z^20-1).roots()), figsize=4, aspect_ratio=1)` gives an error.

One (namely K. Crisman ) notes ([https://groups.google.com/forum/#!topic/sage-support/uyiSDTxQ_2U](https://groups.google.com/forum/#!topic/sage-support/uyiSDTxQ_2U)) that some of the member of the second set are real (namely -1 and 1) while none of the members of the first set is real.

Indeed :

`points(map(N, [1+I,I,I-1,-1-I,-I,1-I]),figsize=4)` works as expected.

`points(map(N, [0,1,1+I,I,I-1,-1,-1-I,-I,1-I]),figsize=4)` gives an error.

One also notes that `points([1+I,I,I-1,-1-I,-I,1-I],figsize=4)` while conforming to `points()` documentation, gives another, different error.

Workaround suggested by K. Crisman :

`sage: points(map(lambda x:CC(x[0].n()),(z^20-1).roots()), figsize=4, aspect_ratio=1)` works as expected.

CC:  @videlec @tscrim

Keywords: **graphics, plot, complex**

Branch: **[0ba0957](https://github.com/sagemath/sagetrac-mirror/commit/0ba0957a39c1c4a837019753963acbf89d06a143)**

Reviewer: **Vincent Delecroix, Kwankyu Lee**

Author: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/16804_





---

archive/issue_events_214589.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2014-08-12T17:52:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214589"
}
```



---

archive/issue_events_214590.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2014-08-12T17:52:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "component: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214590"
}
```



---

archive/issue_events_214591.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2014-08-12T17:52:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214591"
}
```



---

archive/issue_events_214592.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2014-08-12T17:52:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214592"
}
```



---

archive/issue_events_214593.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2014-08-12T18:04:17Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "title_is": "points() has problems with some lists of complexes containing real (i.e. imag(x)==0) values.",
    "title_was": "points() has problems with some lists of complexes containing real (i.e imag(x==0)) values.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214593"
}
```



---

archive/issue_comments_222808.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nThe problem seems to be in xydata_from_point_list() that only checks the first element of the list to determine whether it is a [ComplexNumber](../wiki/ComplexNumber) or not. Getting patched",
    "created_at": "2016-04-05T18:05:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222808",
    "user": "https://github.com/sagetrac-jhonrubia6"
}
```

<a id='comment:2'>Comment 2:</a>
The problem seems to be in xydata_from_point_list() that only checks the first element of the list to determine whether it is a [ComplexNumber](../wiki/ComplexNumber) or not. Getting patched



---

archive/issue_comments_222809.json:
```json
{
    "body": "Branch: **[u/jhonrubia6/points___has_problems_with_some_lists_of_complexes_containing_real__i_e__imag_x___0__values_](https://github.com/sagemath/sagetrac-mirror/tree/u/jhonrubia6/points___has_problems_with_some_lists_of_complexes_containing_real__i_e__imag_x___0__values_)**",
    "created_at": "2016-04-05T18:07:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222809",
    "user": "https://github.com/sagetrac-jhonrubia6"
}
```

Branch: **[u/jhonrubia6/points___has_problems_with_some_lists_of_complexes_containing_real__i_e__imag_x___0__values_](https://github.com/sagemath/sagetrac-mirror/tree/u/jhonrubia6/points___has_problems_with_some_lists_of_complexes_containing_real__i_e__imag_x___0__values_)**



---

archive/issue_comments_222810.json:
```json
{
    "body": "Commit: **[34ebb85](https://github.com/sagemath/sagetrac-mirror/commit/34ebb8577ad99122e6088966cb56d661f6f4a36b)**",
    "created_at": "2016-04-05T18:13:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222810",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[34ebb85](https://github.com/sagemath/sagetrac-mirror/commit/34ebb8577ad99122e6088966cb56d661f6f4a36b)**



---

archive/issue_comments_222811.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34ebb8577ad99122e6088966cb56d661f6f4a36b\">34ebb85</a></td><td><code>Modified the docstring to follow the guidelines for bugfixes</code></td></tr></table>\n",
    "created_at": "2016-04-05T18:13:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222811",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34ebb8577ad99122e6088966cb56d661f6f4a36b">34ebb85</a></td><td><code>Modified the docstring to follow the guidelines for bugfixes</code></td></tr></table>




---

archive/issue_comments_222812.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nObviously the patch also fixes the bug. Somehow the commit text was lost.",
    "created_at": "2016-04-05T18:15:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222812",
    "user": "https://github.com/sagetrac-jhonrubia6"
}
```

<a id='comment:5'>Comment 5:</a>
Obviously the patch also fixes the bug. Somehow the commit text was lost.



---

archive/issue_events_214594.json:
```json
{
    "actor": "https://github.com/sagetrac-jhonrubia6",
    "created_at": "2016-04-05T18:16:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214594"
}
```



---

archive/issue_events_214595.json:
```json
{
    "actor": "https://github.com/sagetrac-jhonrubia6",
    "created_at": "2016-04-05T18:16:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214595"
}
```



---

archive/issue_comments_222813.json:
```json
{
    "body": "Changed author from **Emmanuel Charpentier** to **Javier Honrubia Gonz\u00e1lez**",
    "created_at": "2016-04-05T18:16:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222813",
    "user": "https://github.com/sagetrac-jhonrubia6"
}
```

Changed author from **Emmanuel Charpentier** to **Javier Honrubia González**



---

archive/issue_comments_222814.json:
```json
{
    "body": "Changed stopgaps from **cast points to CC** to none",
    "created_at": "2016-04-05T18:17:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222814",
    "user": "https://github.com/sagetrac-jhonrubia6"
}
```

Changed stopgaps from **cast points to CC** to none



---

archive/issue_events_214596.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-04-05T19:56:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214596"
}
```



---

archive/issue_events_214597.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-04-05T19:56:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214597"
}
```



---

archive/issue_comments_222815.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2016-04-05T19:56:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222815",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_222816.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\n- Please add spaces around the `=` sign in affectation.\n\n- There is a nice `elif` in Python.\n\n- `RealNumber` and `ComplexNumber` is highly restrictive. You should use `numbers.Real` and `numbers.Complex` from Python which works well under inclusion\n\n```\nsage: import numbers\nsage: isinstance(ZZ.an_element(), numbers.Real)\nTrue\nsage: isinstance(1.0r, numbers.Real)\nTrue\nsage: isinstance(CC.an_element(), numbers.Real)\nFalse\n```\n  Once done, you should add doctests accordingly.",
    "created_at": "2016-04-05T19:56:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222816",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'>Comment 8:</a>
- Please add spaces around the `=` sign in affectation.

- There is a nice `elif` in Python.

- `RealNumber` and `ComplexNumber` is highly restrictive. You should use `numbers.Real` and `numbers.Complex` from Python which works well under inclusion

```
sage: import numbers
sage: isinstance(ZZ.an_element(), numbers.Real)
True
sage: isinstance(1.0r, numbers.Real)
True
sage: isinstance(CC.an_element(), numbers.Real)
False
```
  Once done, you should add doctests accordingly.



---

archive/issue_comments_222817.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/327d8171582b629ed2c2232c9674122eb51eb51a\">327d817</a></td><td><code>Added spaces around operators, used elif construct, replaced [ComplexNumber](../wiki/ComplexNumber) by numbers.Complex and added docstring</code></td></tr></table>\n",
    "created_at": "2016-04-06T16:51:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222817",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/327d8171582b629ed2c2232c9674122eb51eb51a">327d817</a></td><td><code>Added spaces around operators, used elif construct, replaced [ComplexNumber](../wiki/ComplexNumber) by numbers.Complex and added docstring</code></td></tr></table>




---

archive/issue_comments_222818.json:
```json
{
    "body": "Changed commit from **[34ebb85](https://github.com/sagemath/sagetrac-mirror/commit/34ebb8577ad99122e6088966cb56d661f6f4a36b)** to **[327d817](https://github.com/sagemath/sagetrac-mirror/commit/327d8171582b629ed2c2232c9674122eb51eb51a)**",
    "created_at": "2016-04-06T16:51:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222818",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[34ebb85](https://github.com/sagemath/sagetrac-mirror/commit/34ebb8577ad99122e6088966cb56d661f6f4a36b)** to **[327d817](https://github.com/sagemath/sagetrac-mirror/commit/327d8171582b629ed2c2232c9674122eb51eb51a)**



---

archive/issue_events_214598.json:
```json
{
    "actor": "https://github.com/sagetrac-jhonrubia6",
    "created_at": "2016-04-06T16:53:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214598"
}
```



---

archive/issue_events_214599.json:
```json
{
    "actor": "https://github.com/sagetrac-jhonrubia6",
    "created_at": "2016-04-06T16:53:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214599"
}
```



---

archive/issue_comments_222819.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nI think I got all your points.\nI corrected all three motivating examples.",
    "created_at": "2016-04-06T16:53:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222819",
    "user": "https://github.com/sagetrac-jhonrubia6"
}
```

<a id='comment:10'>Comment 10:</a>
I think I got all your points.
I corrected all three motivating examples.



---

archive/issue_comments_222820.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nCould you also add doctests for `points` that are at the origin of this ticket like:\n\n```\nsage: points([0, 1, I])\nGraphics object consisting of 1 graphics primitive\nsage: points([0, 1., CC(0,1)])\nGraphics object consisting of 1 graphics primitive\nsage: points((x^5-1).roots(multiplicities=False))\nGraphics object consisting of 1 graphics primitive\n```",
    "created_at": "2016-04-06T17:59:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222820",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'>Comment 11:</a>
Could you also add doctests for `points` that are at the origin of this ticket like:

```
sage: points([0, 1, I])
Graphics object consisting of 1 graphics primitive
sage: points([0, 1., CC(0,1)])
Graphics object consisting of 1 graphics primitive
sage: points((x^5-1).roots(multiplicities=False))
Graphics object consisting of 1 graphics primitive
```



---

archive/issue_events_214600.json:
```json
{
    "actor": "https://github.com/sagetrac-jhonrubia6",
    "created_at": "2016-04-06T19:44:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214600"
}
```



---

archive/issue_events_214601.json:
```json
{
    "actor": "https://github.com/sagetrac-jhonrubia6",
    "created_at": "2016-04-06T19:44:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214601"
}
```



---

archive/issue_comments_222821.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nwhile doing the doctest I have discovered a case I haven't take into account. Working on it",
    "created_at": "2016-04-06T19:44:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222821",
    "user": "https://github.com/sagetrac-jhonrubia6"
}
```

<a id='comment:12'>Comment 12:</a>
while doing the doctest I have discovered a case I haven't take into account. Working on it



---

archive/issue_comments_222822.json:
```json
{
    "body": "Changed commit from **[327d817](https://github.com/sagemath/sagetrac-mirror/commit/327d8171582b629ed2c2232c9674122eb51eb51a)** to **[df6da21](https://github.com/sagemath/sagetrac-mirror/commit/df6da214655fd3680eab61a07215cef851608844)**",
    "created_at": "2016-04-16T14:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222822",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[327d817](https://github.com/sagemath/sagetrac-mirror/commit/327d8171582b629ed2c2232c9674122eb51eb51a)** to **[df6da21](https://github.com/sagemath/sagetrac-mirror/commit/df6da214655fd3680eab61a07215cef851608844)**



---

archive/issue_comments_222823.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df6da214655fd3680eab61a07215cef851608844\">df6da21</a></td><td><code>Added doctest in point.py</code></td></tr></table>\n",
    "created_at": "2016-04-16T14:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222823",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df6da214655fd3680eab61a07215cef851608844">df6da21</a></td><td><code>Added doctest in point.py</code></td></tr></table>




---

archive/issue_comments_222824.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReverted back to [ComplexNumber](../wiki/ComplexNumber). After ` sage -t -a ` with some errors using numbers.Complex I decided to go back to [ComplexNumber](../wiki/ComplexNumber) and everything worked. `xydata_from_point_list` is widely used across the libraries and in many different ways.\nI have added doctests to point.py and more examples in plot.py.\nMaybe in a different trac ticket somebody can make it work with numbers.complex if it is better as you say (I do not know). As it is the bug is fixed.",
    "created_at": "2016-04-16T14:59:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222824",
    "user": "https://github.com/sagetrac-jhonrubia6"
}
```

<a id='comment:14'>Comment 14:</a>
Reverted back to [ComplexNumber](../wiki/ComplexNumber). After ` sage -t -a ` with some errors using numbers.Complex I decided to go back to [ComplexNumber](../wiki/ComplexNumber) and everything worked. `xydata_from_point_list` is widely used across the libraries and in many different ways.
I have added doctests to point.py and more examples in plot.py.
Maybe in a different trac ticket somebody can make it work with numbers.complex if it is better as you say (I do not know). As it is the bug is fixed.



---

archive/issue_events_214602.json:
```json
{
    "actor": "https://github.com/sagetrac-jhonrubia6",
    "created_at": "2016-04-16T14:59:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214602"
}
```



---

archive/issue_events_214603.json:
```json
{
    "actor": "https://github.com/sagetrac-jhonrubia6",
    "created_at": "2016-04-16T14:59:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214603"
}
```



---

archive/issue_comments_222825.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6bfbff3308d0b8d42be2e4f7da4f8712a8788b7b\">6bfbff3</a></td><td><code>Deleted reminiscent old code</code></td></tr></table>\n",
    "created_at": "2016-04-16T15:04:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222825",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6bfbff3308d0b8d42be2e4f7da4f8712a8788b7b">6bfbff3</a></td><td><code>Deleted reminiscent old code</code></td></tr></table>




---

archive/issue_comments_222826.json:
```json
{
    "body": "Changed commit from **[df6da21](https://github.com/sagemath/sagetrac-mirror/commit/df6da214655fd3680eab61a07215cef851608844)** to **[6bfbff3](https://github.com/sagemath/sagetrac-mirror/commit/6bfbff3308d0b8d42be2e4f7da4f8712a8788b7b)**",
    "created_at": "2016-04-16T15:04:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222826",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[df6da21](https://github.com/sagemath/sagetrac-mirror/commit/df6da214655fd3680eab61a07215cef851608844)** to **[6bfbff3](https://github.com/sagemath/sagetrac-mirror/commit/6bfbff3308d0b8d42be2e4f7da4f8712a8788b7b)**



---

archive/issue_comments_222827.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nReplying to [jhonrubia6](#comment%3A14):\n> Reverted back to [ComplexNumber](../wiki/ComplexNumber). After ` sage -t -a ` with some errors using numbers.Complex I decided to go back to [ComplexNumber](../wiki/ComplexNumber) and everything worked.\n\nWhat problems?\n\n> `xydata_from_point_list` is widely used across the libraries and in many different ways.\n> I have added doctests to point.py and more examples in plot.py.\n> Maybe in a different trac ticket somebody can make it work with numbers.complex if it is better as you say (I do not know). As it is the bug is fixed.\n\nApparently not, there are plenty of doctest failures...",
    "created_at": "2016-04-16T19:52:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222827",
    "user": "https://github.com/videlec"
}
```

<a id='comment:17'>Comment 17:</a>
Replying to [jhonrubia6](#comment%3A14):
> Reverted back to [ComplexNumber](../wiki/ComplexNumber). After ` sage -t -a ` with some errors using numbers.Complex I decided to go back to [ComplexNumber](../wiki/ComplexNumber) and everything worked.

What problems?

> `xydata_from_point_list` is widely used across the libraries and in many different ways.
> I have added doctests to point.py and more examples in plot.py.
> Maybe in a different trac ticket somebody can make it work with numbers.complex if it is better as you say (I do not know). As it is the bug is fixed.

Apparently not, there are plenty of doctest failures...



---

archive/issue_comments_222828.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nReplying to [@videlec](#comment%3A17):\n> Replying to [jhonrubia6](#comment%3A14):\n> > Reverted back to [ComplexNumber](../wiki/ComplexNumber). After ` sage -t -a ` with some errors using numbers.Complex I decided to go back to [ComplexNumber](../wiki/ComplexNumber) and everything worked.\n\n> \n> What problems?\n\nIt failed the doctest\n\n```\nsage: xydata_from_point_list((1,2))\n        ([1.0], [2.0])\n```\nwhen changing `CompleNumber` to `number.Complex` it did not recognize the tuple as such, interpreting it as two complex numbers on the real line. And, as [ComplexNumber](../wiki/ComplexNumber) was used in the original code I thought it was justified its use. If you'd be so kind to tell me in which cases is better `number.Complex` I will do my best to use it.\n\n> \n> > `xydata_from_point_list` is widely used across the libraries and in many different ways.\n> > I have added doctests to point.py and more examples in plot.py.\n> > Maybe in a different trac ticket somebody can make it work with numbers.complex if it is better as you say (I do not know). As it is the bug is fixed.\n\n> \n> Apparently not, there are plenty of doctest failures...\n\nI will double-check (right now I am running the full set of tests `sage -t -a ` again), I did it before pushing the commit and all tests passed OK. If you please give me one example of the tests that fails in your setting I will check it with my results asap.",
    "created_at": "2016-04-16T21:59:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222828",
    "user": "https://github.com/sagetrac-jhonrubia6"
}
```

<a id='comment:18'>Comment 18:</a>
Replying to [@videlec](#comment%3A17):
> Replying to [jhonrubia6](#comment%3A14):
> > Reverted back to [ComplexNumber](../wiki/ComplexNumber). After ` sage -t -a ` with some errors using numbers.Complex I decided to go back to [ComplexNumber](../wiki/ComplexNumber) and everything worked.

> 
> What problems?

It failed the doctest

```
sage: xydata_from_point_list((1,2))
        ([1.0], [2.0])
```
when changing `CompleNumber` to `number.Complex` it did not recognize the tuple as such, interpreting it as two complex numbers on the real line. And, as [ComplexNumber](../wiki/ComplexNumber) was used in the original code I thought it was justified its use. If you'd be so kind to tell me in which cases is better `number.Complex` I will do my best to use it.

> 
> > `xydata_from_point_list` is widely used across the libraries and in many different ways.
> > I have added doctests to point.py and more examples in plot.py.
> > Maybe in a different trac ticket somebody can make it work with numbers.complex if it is better as you say (I do not know). As it is the bug is fixed.

> 
> Apparently not, there are plenty of doctest failures...

I will double-check (right now I am running the full set of tests `sage -t -a ` again), I did it before pushing the commit and all tests passed OK. If you please give me one example of the tests that fails in your setting I will check it with my results asap.



---

archive/issue_comments_222829.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nThere is no need to run the test yourself. There are computers that are doing that for each ticket. If you click on the blob on the up right of the ticket description you access the patchbot reports. Or directly [http://patchbot.sagemath.org/ticket/16804/](http://patchbot.sagemath.org/ticket/16804/).",
    "created_at": "2016-04-16T22:12:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222829",
    "user": "https://github.com/videlec"
}
```

<a id='comment:19'>Comment 19:</a>
There is no need to run the test yourself. There are computers that are doing that for each ticket. If you click on the blob on the up right of the ticket description you access the patchbot reports. Or directly [http://patchbot.sagemath.org/ticket/16804/](http://patchbot.sagemath.org/ticket/16804/).



---

archive/issue_comments_222830.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nIn the commit `327d817` why did you add the line `points = map(N,points)` at the begining?",
    "created_at": "2016-04-16T22:21:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222830",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'>Comment 20:</a>
In the commit `327d817` why did you add the line `points = map(N,points)` at the begining?



---

archive/issue_comments_222831.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4adf6d765577f53714a1eefa3a0a5e7fada6559a\">4adf6d7</a></td><td><code>Removed one debugging line of code that was causing failed doctests</code></td></tr></table>\n",
    "created_at": "2016-04-16T22:26:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222831",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'>Comment 21:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4adf6d765577f53714a1eefa3a0a5e7fada6559a">4adf6d7</a></td><td><code>Removed one debugging line of code that was causing failed doctests</code></td></tr></table>




---

archive/issue_comments_222832.json:
```json
{
    "body": "Changed commit from **[6bfbff3](https://github.com/sagemath/sagetrac-mirror/commit/6bfbff3308d0b8d42be2e4f7da4f8712a8788b7b)** to **[4adf6d7](https://github.com/sagemath/sagetrac-mirror/commit/4adf6d765577f53714a1eefa3a0a5e7fada6559a)**",
    "created_at": "2016-04-16T22:26:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222832",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6bfbff3](https://github.com/sagemath/sagetrac-mirror/commit/6bfbff3308d0b8d42be2e4f7da4f8712a8788b7b)** to **[4adf6d7](https://github.com/sagemath/sagetrac-mirror/commit/4adf6d765577f53714a1eefa3a0a5e7fada6559a)**



---

archive/issue_comments_222833.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nReplying to [@videlec](#comment%3A20):\n> In the commit `327d817` why did you add the line `points = map(N,points)` at the beginning?\n\nIt was an early unsuccessful attempt to rewrite the code from scratch. After running into many dead ends, I decided to patch the existing code to take into account the new bug, checking if there is at least one complex number within the list, the result is the last commit `df6da21` (except the debugging code line that I forgot to remove)",
    "created_at": "2016-04-16T22:31:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222833",
    "user": "https://github.com/sagetrac-jhonrubia6"
}
```

<a id='comment:22'>Comment 22:</a>
Replying to [@videlec](#comment%3A20):
> In the commit `327d817` why did you add the line `points = map(N,points)` at the beginning?

It was an early unsuccessful attempt to rewrite the code from scratch. After running into many dead ends, I decided to patch the existing code to take into account the new bug, checking if there is at least one complex number within the list, the result is the last commit `df6da21` (except the debugging code line that I forgot to remove)



---

archive/issue_comments_222834.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nI uploaded the code as an attachment for the sake of clarity",
    "created_at": "2016-04-16T22:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222834",
    "user": "https://github.com/sagetrac-jhonrubia6"
}
```

<a id='comment:23'>Comment 23:</a>
I uploaded the code as an attachment for the sake of clarity



---

archive/issue_comments_222835.json:
```json
{
    "body": "Changed commit from **[4adf6d7](https://github.com/sagemath/sagetrac-mirror/commit/4adf6d765577f53714a1eefa3a0a5e7fada6559a)** to **[c3dd2e6](https://github.com/sagemath/sagetrac-mirror/commit/c3dd2e6b1880ba42e0e0e8b7fdb6ca2caba85aba)**",
    "created_at": "2016-04-17T09:10:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222835",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4adf6d7](https://github.com/sagemath/sagetrac-mirror/commit/4adf6d765577f53714a1eefa3a0a5e7fada6559a)** to **[c3dd2e6](https://github.com/sagemath/sagetrac-mirror/commit/c3dd2e6b1880ba42e0e0e8b7fdb6ca2caba85aba)**



---

archive/issue_comments_222836.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3dd2e6b1880ba42e0e0e8b7fdb6ca2caba85aba\">c3dd2e6</a></td><td><code>Changed the raise sytnax to the new style as reported by the patchbot</code></td></tr></table>\n",
    "created_at": "2016-04-17T09:10:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222836",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'>Comment 24:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3dd2e6b1880ba42e0e0e8b7fdb6ca2caba85aba">c3dd2e6</a></td><td><code>Changed the raise sytnax to the new style as reported by the patchbot</code></td></tr></table>




---

archive/issue_comments_222837.json:
```json
{
    "body": "Attachment: **[xydata_from_point_list.py.gz](https://github.com/sagemath/sage/files/ticket16804/xydata_from_point_list.py.gz)**\n\nPatched code",
    "created_at": "2016-04-17T09:12:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222837",
    "user": "https://github.com/sagetrac-jhonrubia6"
}
```

Attachment: **[xydata_from_point_list.py.gz](https://github.com/sagemath/sage/files/ticket16804/xydata_from_point_list.py.gz)**

Patched code



---

archive/issue_comments_222838.json:
```json
{
    "body": "Changed commit from **[c3dd2e6](https://github.com/sagemath/sagetrac-mirror/commit/c3dd2e6b1880ba42e0e0e8b7fdb6ca2caba85aba)** to **[5fc2224](https://github.com/sagemath/sagetrac-mirror/commit/5fc2224b3ed21eb3781f1fb6a44ec29f3c6808f9)**",
    "created_at": "2016-04-17T10:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222838",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c3dd2e6](https://github.com/sagemath/sagetrac-mirror/commit/c3dd2e6b1880ba42e0e0e8b7fdb6ca2caba85aba)** to **[5fc2224](https://github.com/sagemath/sagetrac-mirror/commit/5fc2224b3ed21eb3781f1fb6a44ec29f3c6808f9)**



---

archive/issue_comments_222839.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5fc2224b3ed21eb3781f1fb6a44ec29f3c6808f9\">5fc2224</a></td><td><code>Added a missing return sentence in the case of a two elements tuple</code></td></tr></table>\n",
    "created_at": "2016-04-17T10:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222839",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>Comment 25:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5fc2224b3ed21eb3781f1fb6a44ec29f3c6808f9">5fc2224</a></td><td><code>Added a missing return sentence in the case of a two elements tuple</code></td></tr></table>




---

archive/issue_comments_222840.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nReplying to [@videlec](#comment%3A19):\n> There is no need to run the test yourself. There are computers that are doing that for each ticket. If you click on the blob on the up right of the ticket description you access the patchbot reports. Or directly [http://patchbot.sagemath.org/ticket/16804/](http://patchbot.sagemath.org/ticket/16804/).\n\nAll test pass ok in my installation. The error I see in the patchbot report does not seem related to this patch.",
    "created_at": "2016-04-21T18:07:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222840",
    "user": "https://github.com/sagetrac-jhonrubia6"
}
```

<a id='comment:26'>Comment 26:</a>
Replying to [@videlec](#comment%3A19):
> There is no need to run the test yourself. There are computers that are doing that for each ticket. If you click on the blob on the up right of the ticket description you access the patchbot reports. Or directly [http://patchbot.sagemath.org/ticket/16804/](http://patchbot.sagemath.org/ticket/16804/).

All test pass ok in my installation. The error I see in the patchbot report does not seem related to this patch.



---

archive/issue_events_214604.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-08T02:52:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214604"
}
```



---

archive/issue_events_214605.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-08T02:52:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214605"
}
```



---

archive/issue_comments_222841.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nYou introduced trailing whitespaces (i.e. space just before the end of a new line). You should get rid of them.\n\nIn the documentation, if there is a comment then you should add two colons and a linebreak before a new test. In other words replace\n\n```\n    but \n        sage: xydata_from_point_list((1,5,2))\n        Traceback (most recent call last):\n        ...\n```\nwith\n\n```\n    but::\n\n        sage: xydata_from_point_list((1,5,2))\n        Traceback (most recent call last):\n        ...\n```",
    "created_at": "2016-05-08T02:52:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222841",
    "user": "https://github.com/videlec"
}
```

<a id='comment:27'>Comment 27:</a>
You introduced trailing whitespaces (i.e. space just before the end of a new line). You should get rid of them.

In the documentation, if there is a comment then you should add two colons and a linebreak before a new test. In other words replace

```
    but 
        sage: xydata_from_point_list((1,5,2))
        Traceback (most recent call last):
        ...
```
with

```
    but::

        sage: xydata_from_point_list((1,5,2))
        Traceback (most recent call last):
        ...
```



---

archive/issue_comments_222842.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d48da09f3e8107712654b6ff73df8bba25bb6ebf\">d48da09</a></td><td><code>Removed trailing blanks. Corrected docstring syntax in tests.</code></td></tr></table>\n",
    "created_at": "2016-05-08T16:41:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222842",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:28'>Comment 28:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d48da09f3e8107712654b6ff73df8bba25bb6ebf">d48da09</a></td><td><code>Removed trailing blanks. Corrected docstring syntax in tests.</code></td></tr></table>




---

archive/issue_comments_222843.json:
```json
{
    "body": "Changed commit from **[5fc2224](https://github.com/sagemath/sagetrac-mirror/commit/5fc2224b3ed21eb3781f1fb6a44ec29f3c6808f9)** to **[d48da09](https://github.com/sagemath/sagetrac-mirror/commit/d48da09f3e8107712654b6ff73df8bba25bb6ebf)**",
    "created_at": "2016-05-08T16:41:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222843",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5fc2224](https://github.com/sagemath/sagetrac-mirror/commit/5fc2224b3ed21eb3781f1fb6a44ec29f3c6808f9)** to **[d48da09](https://github.com/sagemath/sagetrac-mirror/commit/d48da09f3e8107712654b6ff73df8bba25bb6ebf)**



---

archive/issue_events_214606.json:
```json
{
    "actor": "https://github.com/sagetrac-jhonrubia6",
    "created_at": "2016-05-08T16:48:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214606"
}
```



---

archive/issue_events_214607.json:
```json
{
    "actor": "https://github.com/sagetrac-jhonrubia6",
    "created_at": "2016-05-08T16:48:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214607"
}
```



---

archive/issue_events_214608.json:
```json
{
    "actor": "https://github.com/sagetrac-jhonrubia6",
    "created_at": "2016-05-26T11:17:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "milestone_number": null,
    "milestone_title": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214608"
}
```



---

archive/issue_events_214609.json:
```json
{
    "actor": "https://github.com/sagetrac-jhonrubia6",
    "created_at": "2016-05-26T11:17:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214609"
}
```



---

archive/issue_events_214610.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-31T05:16:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214610"
}
```



---

archive/issue_events_214611.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-05-31T05:16:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214611"
}
```



---

archive/issue_comments_222844.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nThere should be a line break at the end of the function `xydata_from_point_list` to separate it from `plot`.\n\nIn your context, it makes no sense to use reduce. You should use either `all` or `any`.\n\nI do not feel very confortable with the syntax\n\n```\nsage: points(CC(0,1))   # only one point !\nsage: points(1)         # one point but does not work!\n```\nAs the method is plural, I guess we should just forbid this case. What do you think? Depending on your answer you might want to fix\n\n```\nsage: points(CC(0,1))       # fine\nsage: points(CDF(0,1))      # fine\nsage: points(complex(1j))   # used to work\n```\nAnd ideally, numpy complex numbers should also be supported. You would better use `numbers` as adviced in [comment:8](#comment%3A8).",
    "created_at": "2016-05-31T05:16:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222844",
    "user": "https://github.com/videlec"
}
```

<a id='comment:31'>Comment 31:</a>
There should be a line break at the end of the function `xydata_from_point_list` to separate it from `plot`.

In your context, it makes no sense to use reduce. You should use either `all` or `any`.

I do not feel very confortable with the syntax

```
sage: points(CC(0,1))   # only one point !
sage: points(1)         # one point but does not work!
```
As the method is plural, I guess we should just forbid this case. What do you think? Depending on your answer you might want to fix

```
sage: points(CC(0,1))       # fine
sage: points(CDF(0,1))      # fine
sage: points(complex(1j))   # used to work
```
And ideally, numpy complex numbers should also be supported. You would better use `numbers` as adviced in [comment:8](#comment%3A8).



---

archive/issue_comments_222845.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nReplying to [@videlec](#comment%3A31):\n> There should be a line break at the end of the function `xydata_from_point_list` to separate it from `plot`.\n\nok, I will do it.\n> \n> In your context, it makes no sense to use reduce. You should use either `all` or `any`.\n\nok, I will do it.\n\n> I do not feel very confortable with the syntax\n> \n> ```\n> sage: points(CC(0,1))   # only one point !\n> sage: points(1)         # one point but does not work!\n> ```\n> As the method is plural, I guess we should just forbid this case. What do you think?\n\nThe original method is `point` and at the end of the model there is a `points = point` line, so I guess we have to support the 'singular' case of only one point in `xydata_from_point_list` I'll have a look into the failing case `point(1)`.\n\n> Depending on your answer you might want to fix\n> \n> ```\n> sage: points(CC(0,1))       # fine\n> sage: points(CDF(0,1))      # fine\n> sage: points(complex(1j))   # used to work\n> ```\n\nWhat do you mean by 'used to work'? I tested `points(complex(1j))` in cloud.sagemath.com (v6.10) and it doesn't work.\n\n> And ideally, numpy complex numbers should also be supported. You would better use `numbers` as adviced in [comment:8](#comment%3A8).\n\nok, ok, ok :-) I'll give it another try, last time I tried I wasn't able to make it work.",
    "created_at": "2016-05-31T06:13:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222845",
    "user": "https://github.com/sagetrac-jhonrubia6"
}
```

<a id='comment:32'>Comment 32:</a>
Replying to [@videlec](#comment%3A31):
> There should be a line break at the end of the function `xydata_from_point_list` to separate it from `plot`.

ok, I will do it.
> 
> In your context, it makes no sense to use reduce. You should use either `all` or `any`.

ok, I will do it.

> I do not feel very confortable with the syntax
> 
> ```
> sage: points(CC(0,1))   # only one point !
> sage: points(1)         # one point but does not work!
> ```
> As the method is plural, I guess we should just forbid this case. What do you think?

The original method is `point` and at the end of the model there is a `points = point` line, so I guess we have to support the 'singular' case of only one point in `xydata_from_point_list` I'll have a look into the failing case `point(1)`.

> Depending on your answer you might want to fix
> 
> ```
> sage: points(CC(0,1))       # fine
> sage: points(CDF(0,1))      # fine
> sage: points(complex(1j))   # used to work
> ```

What do you mean by 'used to work'? I tested `points(complex(1j))` in cloud.sagemath.com (v6.10) and it doesn't work.

> And ideally, numpy complex numbers should also be supported. You would better use `numbers` as adviced in [comment:8](#comment%3A8).

ok, ok, ok :-) I'll give it another try, last time I tried I wasn't able to make it work.



---

archive/issue_comments_222846.json:
```json
{
    "body": "Changed commit from **[d48da09](https://github.com/sagemath/sagetrac-mirror/commit/d48da09f3e8107712654b6ff73df8bba25bb6ebf)** to **[87c8d99](https://github.com/sagemath/sagetrac-mirror/commit/87c8d997ee62d1ba76dd1a9ba5a323c970f3adcb)**",
    "created_at": "2020-09-21T20:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222846",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[d48da09](https://github.com/sagemath/sagetrac-mirror/commit/d48da09f3e8107712654b6ff73df8bba25bb6ebf)** to **[87c8d99](https://github.com/sagemath/sagetrac-mirror/commit/87c8d997ee62d1ba76dd1a9ba5a323c970f3adcb)**



---

archive/issue_comments_222847.json:
```json
{
    "body": "Changed author from **Javier Honrubia Gonz\u00e1lez** to **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2020-09-21T20:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222847",
    "user": "https://github.com/fchapoton"
}
```

Changed author from **Javier Honrubia González** to **Frédéric Chapoton**



---

archive/issue_events_214612.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-09-21T20:14:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214612"
}
```



---

archive/issue_events_214613.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-09-21T20:14:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214613"
}
```



---

archive/issue_comments_222848.json:
```json
{
    "body": "Changed branch from **[u/jhonrubia6/points___has_problems_with_some_lists_of_complexes_containing_real__i_e__imag_x___0__values_](https://github.com/sagemath/sagetrac-mirror/tree/u/jhonrubia6/points___has_problems_with_some_lists_of_complexes_containing_real__i_e__imag_x___0__values_)** to **[u/chapoton/16804](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/16804)**",
    "created_at": "2020-09-21T20:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222848",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/jhonrubia6/points___has_problems_with_some_lists_of_complexes_containing_real__i_e__imag_x___0__values_](https://github.com/sagemath/sagetrac-mirror/tree/u/jhonrubia6/points___has_problems_with_some_lists_of_complexes_containing_real__i_e__imag_x___0__values_)** to **[u/chapoton/16804](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/16804)**



---

archive/issue_events_214614.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-09-21T20:14:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214614"
}
```



---

archive/issue_events_214615.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-09-21T20:14:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214615"
}
```



---

archive/issue_comments_222849.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nHere is another tentative\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87c8d997ee62d1ba76dd1a9ba5a323c970f3adcb\">87c8d99</a></td><td><code>refactor xydata behaviour</code></td></tr></table>\n",
    "created_at": "2020-09-21T20:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222849",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:33'>Comment 33:</a>
Here is another tentative

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87c8d997ee62d1ba76dd1a9ba5a323c970f3adcb">87c8d99</a></td><td><code>refactor xydata behaviour</code></td></tr></table>




---

archive/issue_comments_222850.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eff981bd87326445643f7781861c07826a77ee6c\">eff981b</a></td><td><code>refactor xydata behaviour</code></td></tr></table>\n",
    "created_at": "2020-09-22T06:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222850",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:34'>Comment 34:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eff981bd87326445643f7781861c07826a77ee6c">eff981b</a></td><td><code>refactor xydata behaviour</code></td></tr></table>




---

archive/issue_comments_222851.json:
```json
{
    "body": "Changed commit from **[87c8d99](https://github.com/sagemath/sagetrac-mirror/commit/87c8d997ee62d1ba76dd1a9ba5a323c970f3adcb)** to **[eff981b](https://github.com/sagemath/sagetrac-mirror/commit/eff981bd87326445643f7781861c07826a77ee6c)**",
    "created_at": "2020-09-22T06:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222851",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[87c8d99](https://github.com/sagemath/sagetrac-mirror/commit/87c8d997ee62d1ba76dd1a9ba5a323c970f3adcb)** to **[eff981b](https://github.com/sagemath/sagetrac-mirror/commit/eff981bd87326445643f7781861c07826a77ee6c)**



---

archive/issue_comments_222852.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec070ff3c108a35d73b475b0361317b04ee11e57\">ec070ff</a></td><td><code>Merge branch 'u/chapoton/16804' in 9.2.b13</code></td></tr></table>\n",
    "created_at": "2020-09-25T17:09:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222852",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:35'>Comment 35:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec070ff3c108a35d73b475b0361317b04ee11e57">ec070ff</a></td><td><code>Merge branch 'u/chapoton/16804' in 9.2.b13</code></td></tr></table>




---

archive/issue_comments_222853.json:
```json
{
    "body": "Changed commit from **[eff981b](https://github.com/sagemath/sagetrac-mirror/commit/eff981bd87326445643f7781861c07826a77ee6c)** to **[ec070ff](https://github.com/sagemath/sagetrac-mirror/commit/ec070ff3c108a35d73b475b0361317b04ee11e57)**",
    "created_at": "2020-09-25T17:09:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222853",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[eff981b](https://github.com/sagemath/sagetrac-mirror/commit/eff981bd87326445643f7781861c07826a77ee6c)** to **[ec070ff](https://github.com/sagemath/sagetrac-mirror/commit/ec070ff3c108a35d73b475b0361317b04ee11e57)**



---

archive/issue_comments_222854.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\ngreen bot, please review",
    "created_at": "2020-10-03T07:32:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222854",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:36'>Comment 36:</a>
green bot, please review



---

archive/issue_comments_222855.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nI suggest to move the handlings of specials cases to the `plot` definition.\n\n```diff\ndiff --git a/src/sage/plot/plot.py b/src/sage/plot/plot.py\nindex 5f78020eec..be5d8ef784 100644\n--- a/src/sage/plot/plot.py\n+++ b/src/sage/plot/plot.py\n@@ -799,21 +799,7 @@ def xydata_from_point_list(points):\n     \"\"\"\n     import numbers\n     zero = float(0)\n-    # input could be a single number\n-    if isinstance(points, numbers.Complex):\n-        return [float(points.real())], [float(points.imag())]\n-    elif isinstance(points, numbers.Real):\n-        return [float(points)], [zero]\n-    # create a list\n-    if not isinstance(points, (list, tuple)):\n-        points = list(points)\n-    # special case for a single 2D or 3D point (resolve ambiguity)\n-    if len(points) == 2:\n-        if all(isinstance(z, numbers.Real) for z in points):\n-            points = [points]\n-    elif len(points) == 3:\n-        if all(isinstance(z, numbers.Real) for z in points):\n-            raise TypeError('not a 2D point')\n+\n     xdata = []\n     ydata = []\n     # otherwise input is an iterable\ndiff --git a/src/sage/plot/point.py b/src/sage/plot/point.py\nindex de9ae7d1d1..531929da0e 100644\n--- a/src/sage/plot/point.py\n+++ b/src/sage/plot/point.py\n@@ -343,7 +343,7 @@ def point(points, **kwds):\n     \"\"\"\n     if isinstance(points, Iterator):\n         points = list(points)\n-        \n+\n     try:\n         return point2d(points, **kwds)\n     except (ValueError, TypeError):\n@@ -464,18 +464,24 @@ def point2d(points, **options):\n     \"\"\"\n     from sage.plot.plot import xydata_from_point_list\n     from sage.plot.all import Graphics\n+\n+    # points could be a single number\n     if isinstance(points, numbers.Complex):\n-        pass\n-    else:\n-        try:\n-            l = len(points)\n-        except TypeError:\n-            # argument is an iterator\n-            points = list(points)\n-            l = len(points)\n-\n-        if l == 0:\n-            return Graphics()\n+        points = [(points.real(), points.imag())]\n+    elif isinstance(points, numbers.Real):\n+        points = [points]\n+    elif not isinstance(points, (list, tuple)):\n+        points = [points]\n+\n+    l = len(points)\n+    if l == 0:\n+        return Graphics()\n+    elif l == 2:  # special case for a single 2D point\n+        if all(isinstance(z, numbers.Real) for z in points):\n+            points = [points]\n+    elif l == 3:  # special case for a single 3D point\n+        if all(isinstance(z, numbers.Real) for z in points):\n+            raise TypeError('not a 2D point')\n \n     xdata, ydata = xydata_from_point_list(points)\n     g = Graphics()                  \n```",
    "created_at": "2020-10-07T08:59:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222855",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:37'>Comment 37:</a>
I suggest to move the handlings of specials cases to the `plot` definition.

```diff
diff --git a/src/sage/plot/plot.py b/src/sage/plot/plot.py
index 5f78020eec..be5d8ef784 100644
--- a/src/sage/plot/plot.py
+++ b/src/sage/plot/plot.py
@@ -799,21 +799,7 @@ def xydata_from_point_list(points):
     """
     import numbers
     zero = float(0)
-    # input could be a single number
-    if isinstance(points, numbers.Complex):
-        return [float(points.real())], [float(points.imag())]
-    elif isinstance(points, numbers.Real):
-        return [float(points)], [zero]
-    # create a list
-    if not isinstance(points, (list, tuple)):
-        points = list(points)
-    # special case for a single 2D or 3D point (resolve ambiguity)
-    if len(points) == 2:
-        if all(isinstance(z, numbers.Real) for z in points):
-            points = [points]
-    elif len(points) == 3:
-        if all(isinstance(z, numbers.Real) for z in points):
-            raise TypeError('not a 2D point')
+
     xdata = []
     ydata = []
     # otherwise input is an iterable
diff --git a/src/sage/plot/point.py b/src/sage/plot/point.py
index de9ae7d1d1..531929da0e 100644
--- a/src/sage/plot/point.py
+++ b/src/sage/plot/point.py
@@ -343,7 +343,7 @@ def point(points, **kwds):
     """
     if isinstance(points, Iterator):
         points = list(points)
-        
+
     try:
         return point2d(points, **kwds)
     except (ValueError, TypeError):
@@ -464,18 +464,24 @@ def point2d(points, **options):
     """
     from sage.plot.plot import xydata_from_point_list
     from sage.plot.all import Graphics
+
+    # points could be a single number
     if isinstance(points, numbers.Complex):
-        pass
-    else:
-        try:
-            l = len(points)
-        except TypeError:
-            # argument is an iterator
-            points = list(points)
-            l = len(points)
-
-        if l == 0:
-            return Graphics()
+        points = [(points.real(), points.imag())]
+    elif isinstance(points, numbers.Real):
+        points = [points]
+    elif not isinstance(points, (list, tuple)):
+        points = [points]
+
+    l = len(points)
+    if l == 0:
+        return Graphics()
+    elif l == 2:  # special case for a single 2D point
+        if all(isinstance(z, numbers.Real) for z in points):
+            points = [points]
+    elif l == 3:  # special case for a single 3D point
+        if all(isinstance(z, numbers.Real) for z in points):
+            raise TypeError('not a 2D point')
 
     xdata, ydata = xydata_from_point_list(points)
     g = Graphics()                  
```



---

archive/issue_comments_222856.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nyou mean to the `point` definition ?",
    "created_at": "2020-10-08T16:11:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222856",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:38'>Comment 38:</a>
you mean to the `point` definition ?



---

archive/issue_comments_222857.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nReplying to [@fchapoton](#comment%3A38):\n> you mean to the `point` definition ?\n\nYes, `point2d` exactly.",
    "created_at": "2020-10-09T01:08:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222857",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:39'>Comment 39:</a>
Replying to [@fchapoton](#comment%3A38):
> you mean to the `point` definition ?

Yes, `point2d` exactly.



---

archive/issue_comments_222858.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nIf you have no objection, I am willing to upload a public branch containing the commit I suggested.",
    "created_at": "2020-10-28T09:11:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222858",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:40'>Comment 40:</a>
If you have no objection, I am willing to upload a public branch containing the commit I suggested.



---

archive/issue_comments_222859.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nplease do so.",
    "created_at": "2020-10-28T09:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222859",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:41'>Comment 41:</a>
please do so.



---

archive/issue_comments_222860.json:
```json
{
    "body": "Changed reviewer from **Vincent Delecroix** to **Vincent Delecroix, Kwankyu Lee**",
    "created_at": "2020-10-28T10:39:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222860",
    "user": "https://github.com/kwankyu"
}
```

Changed reviewer from **Vincent Delecroix** to **Vincent Delecroix, Kwankyu Lee**



---

archive/issue_comments_222861.json:
```json
{
    "body": "Changed commit from **[ec070ff](https://github.com/sagemath/sagetrac-mirror/commit/ec070ff3c108a35d73b475b0361317b04ee11e57)** to none",
    "created_at": "2020-10-28T10:39:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222861",
    "user": "https://github.com/kwankyu"
}
```

Changed commit from **[ec070ff](https://github.com/sagemath/sagetrac-mirror/commit/ec070ff3c108a35d73b475b0361317b04ee11e57)** to none



---

archive/issue_comments_222862.json:
```json
{
    "body": "Changed branch from **[u/chapoton/16804](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/16804)** to **[public/16804](https://github.com/sagemath/sagetrac-mirror/tree/public/16804)**",
    "created_at": "2020-10-28T10:39:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222862",
    "user": "https://github.com/kwankyu"
}
```

Changed branch from **[u/chapoton/16804](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/16804)** to **[public/16804](https://github.com/sagemath/sagetrac-mirror/tree/public/16804)**



---

archive/issue_comments_222863.json:
```json
{
    "body": "Commit: **[d0ba7ac](https://github.com/sagemath/sagetrac-mirror/commit/d0ba7ac6adee02a667ed8419bb6366f148eafb74)**",
    "created_at": "2020-10-28T10:40:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222863",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[d0ba7ac](https://github.com/sagemath/sagetrac-mirror/commit/d0ba7ac6adee02a667ed8419bb6366f148eafb74)**



---

archive/issue_comments_222864.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0ba7ac6adee02a667ed8419bb6366f148eafb74\">d0ba7ac</a></td><td><code>Refactor xydata behavior</code></td></tr></table>\n",
    "created_at": "2020-10-28T10:40:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222864",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:43'>Comment 43:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0ba7ac6adee02a667ed8419bb6366f148eafb74">d0ba7ac</a></td><td><code>Refactor xydata behavior</code></td></tr></table>




---

archive/issue_comments_222865.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c100aa9c5e7e32c39e7a27d335701521e8ceceb\">9c100aa</a></td><td><code>Remove an irrelevant comment</code></td></tr></table>\n",
    "created_at": "2020-10-28T10:48:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222865",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:44'>Comment 44:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c100aa9c5e7e32c39e7a27d335701521e8ceceb">9c100aa</a></td><td><code>Remove an irrelevant comment</code></td></tr></table>




---

archive/issue_comments_222866.json:
```json
{
    "body": "Changed commit from **[d0ba7ac](https://github.com/sagemath/sagetrac-mirror/commit/d0ba7ac6adee02a667ed8419bb6366f148eafb74)** to **[9c100aa](https://github.com/sagemath/sagetrac-mirror/commit/9c100aa9c5e7e32c39e7a27d335701521e8ceceb)**",
    "created_at": "2020-10-28T10:48:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222866",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d0ba7ac](https://github.com/sagemath/sagetrac-mirror/commit/d0ba7ac6adee02a667ed8419bb6366f148eafb74)** to **[9c100aa](https://github.com/sagemath/sagetrac-mirror/commit/9c100aa9c5e7e32c39e7a27d335701521e8ceceb)**



---

archive/issue_comments_222867.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nPositive review on Fr\u00e9d\u00e9ric's code.\n\nIf you are ok with the last changes, you set the flag on.",
    "created_at": "2020-10-29T00:21:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222867",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:45'>Comment 45:</a>
Positive review on Frédéric's code.

If you are ok with the last changes, you set the flag on.



---

archive/issue_events_214616.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2020-10-31T11:36:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214616"
}
```



---

archive/issue_events_214617.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2020-10-31T11:36:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214617"
}
```



---

archive/issue_comments_222868.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nGreen light on a bot.",
    "created_at": "2020-10-31T11:36:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222868",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:46'>Comment 46:</a>
Green light on a bot.



---

archive/issue_comments_222869.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n Motivating example :\n \n-`sage: points(map(lambda x:x[0].N(),(z^20+1).roots()), figsize=4, aspect_ratio=1)` works as expected.\n+`sage: points(map(lambda x:x[0].n(),(z^20+1).roots()), figsize=4, aspect_ratio=1)` works as expected.\n \n-`sage: points(map(lambda x:x[0].N(),(z^20-1).roots()), figsize=4, aspect_ratio=1)` gives an error.\n+`sage: points(map(lambda x:x[0].n(),(z^20-1).roots()), figsize=4, aspect_ratio=1)` gives an error.\n \n One (namely K. Crisman ) notes ([https://groups.google.com/forum/#!topic/sage-support/uyiSDTxQ_2U](https://groups.google.com/forum/#!topic/sage-support/uyiSDTxQ_2U)) that some of the member of the second set are real (namely -1 and 1) while none of the members of the first set is real.\n \n@@ -16,4 +16,4 @@\n \n Workaround suggested by K. Crisman :\n \n-`sage: points(map(lambda x:CC(x[0].N()),(z^20-1).roots()), figsize=4, aspect_ratio=1)` works as expected.\n+`sage: points(map(lambda x:CC(x[0].n()),(z^20-1).roots()), figsize=4, aspect_ratio=1)` works as expected.\n``````\n",
    "created_at": "2020-10-31T11:36:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222869",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
 Motivating example :
 
-`sage: points(map(lambda x:x[0].N(),(z^20+1).roots()), figsize=4, aspect_ratio=1)` works as expected.
+`sage: points(map(lambda x:x[0].n(),(z^20+1).roots()), figsize=4, aspect_ratio=1)` works as expected.
 
-`sage: points(map(lambda x:x[0].N(),(z^20-1).roots()), figsize=4, aspect_ratio=1)` gives an error.
+`sage: points(map(lambda x:x[0].n(),(z^20-1).roots()), figsize=4, aspect_ratio=1)` gives an error.
 
 One (namely K. Crisman ) notes ([https://groups.google.com/forum/#!topic/sage-support/uyiSDTxQ_2U](https://groups.google.com/forum/#!topic/sage-support/uyiSDTxQ_2U)) that some of the member of the second set are real (namely -1 and 1) while none of the members of the first set is real.
 
@@ -16,4 +16,4 @@
 
 Workaround suggested by K. Crisman :
 
-`sage: points(map(lambda x:CC(x[0].N()),(z^20-1).roots()), figsize=4, aspect_ratio=1)` works as expected.
+`sage: points(map(lambda x:CC(x[0].n()),(z^20-1).roots()), figsize=4, aspect_ratio=1)` works as expected.
``````




---

archive/issue_events_214618.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-01T01:13:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214618"
}
```



---

archive/issue_events_214619.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-01T01:13:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214619"
}
```



---

archive/issue_comments_222870.json:
```json
{
    "body": "<a id='comment:47'>Comment 47:</a>\nMerge conflict",
    "created_at": "2020-11-01T01:13:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222870",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:47'>Comment 47:</a>
Merge conflict



---

archive/issue_comments_222871.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ba0957a39c1c4a837019753963acbf89d06a143\">0ba0957</a></td><td><code>Refactor xydata behavior</code></td></tr></table>\n",
    "created_at": "2020-11-01T09:04:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222871",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:48'>Comment 48:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ba0957a39c1c4a837019753963acbf89d06a143">0ba0957</a></td><td><code>Refactor xydata behavior</code></td></tr></table>




---

archive/issue_comments_222872.json:
```json
{
    "body": "Changed commit from **[9c100aa](https://github.com/sagemath/sagetrac-mirror/commit/9c100aa9c5e7e32c39e7a27d335701521e8ceceb)** to **[0ba0957](https://github.com/sagemath/sagetrac-mirror/commit/0ba0957a39c1c4a837019753963acbf89d06a143)**",
    "created_at": "2020-11-01T09:04:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222872",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9c100aa](https://github.com/sagemath/sagetrac-mirror/commit/9c100aa9c5e7e32c39e7a27d335701521e8ceceb)** to **[0ba0957](https://github.com/sagemath/sagetrac-mirror/commit/0ba0957a39c1c4a837019753963acbf89d06a143)**



---

archive/issue_events_214620.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2020-11-01T09:05:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214620"
}
```



---

archive/issue_events_214621.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2020-11-01T09:05:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214621"
}
```



---

archive/issue_events_214622.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2020-11-02T00:05:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214622"
}
```



---

archive/issue_events_214623.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2020-11-02T00:05:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214623"
}
```



---

archive/issue_events_214624.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-22T15:05:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214624"
}
```



---

archive/issue_events_214625.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8bf3f4c944f806c587457ee5dcb916426c137eba",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-11-22T15:05:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16804#event-214625"
}
```



---

archive/issue_comments_222873.json:
```json
{
    "body": "Changed branch from **[public/16804](https://github.com/sagemath/sagetrac-mirror/tree/public/16804)** to **[0ba0957](https://github.com/sagemath/sagetrac-mirror/commit/0ba0957a39c1c4a837019753963acbf89d06a143)**",
    "created_at": "2020-11-22T15:05:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222873",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/16804](https://github.com/sagemath/sagetrac-mirror/tree/public/16804)** to **[0ba0957](https://github.com/sagemath/sagetrac-mirror/commit/0ba0957a39c1c4a837019753963acbf89d06a143)**



---

archive/issue_comments_222874.json:
```json
{
    "body": "Changed commit from **[0ba0957](https://github.com/sagemath/sagetrac-mirror/commit/0ba0957a39c1c4a837019753963acbf89d06a143)** to none",
    "created_at": "2020-11-23T00:35:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222874",
    "user": "https://github.com/slel"
}
```

Changed commit from **[0ba0957](https://github.com/sagemath/sagetrac-mirror/commit/0ba0957a39c1c4a837019753963acbf89d06a143)** to none



---

archive/issue_comments_222875.json:
```json
{
    "body": "<a id='comment:52'>Comment 52:</a>\nThe code here has `points.real()`, `points.imag()`,\n`xy.real()`, `xy.imag()`.\n\n\nIn some cases, see #30942, `real(z)` and `imag(z)`\nwork better than `z.real()` and `z.imag()`.",
    "created_at": "2020-11-23T00:35:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222875",
    "user": "https://github.com/slel"
}
```

<a id='comment:52'>Comment 52:</a>
The code here has `points.real()`, `points.imag()`,
`xy.real()`, `xy.imag()`.


In some cases, see #30942, `real(z)` and `imag(z)`
work better than `z.real()` and `z.imag()`.



---

archive/issue_comments_222876.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nSee #30970 for a possible follow up.",
    "created_at": "2020-11-27T12:52:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16804#issuecomment-222876",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:53'>Comment 53:</a>
See #30970 for a possible follow up.
