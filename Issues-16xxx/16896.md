# Issue 16896: rework of row_reduced_form/weak_popov_form calling convention

archive/issues_016659.json:
```json
{
    "assignees": [],
    "body": "The calling convention of `row_reduced_form` and `weak_popov_form` is bizarre and should be fixed.\n\n1. It takes a parameter `ascend` but this is ignored. It's original purpose was something like sorting the rows, but this is not part of weak Popov form or row reduced, and shouldn't pollute this method.\n\n2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.\n\n3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring. This is senseless and confusing.\n\nI've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...\n\nDepends on #16888\n\nCC:  @johanrosenkilde dlucas\n\nKeywords: **polynomial matrix**\n\nBranch: **[67c5636](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)**\n\nReviewer: **David Lucas**\n\nAuthor: **David M\u00f6dinger, Johan Sebastian Rosenkilde Nielsen**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/16896_\n\n",
    "closed_at": "2015-12-24T23:46:46Z",
    "created_at": "2014-08-28T13:30:57Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20linear%20algebra",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "rework of row_reduced_form/weak_popov_form calling convention",
    "type": "issue",
    "updated_at": "2016-01-20T18:13:58Z",
    "url": "https://github.com/sagemath/sage/issues/16896",
    "user": "https://github.com/sagetrac-ketzu"
}
```
The calling convention of `row_reduced_form` and `weak_popov_form` is bizarre and should be fixed.

1. It takes a parameter `ascend` but this is ignored. It's original purpose was something like sorting the rows, but this is not part of weak Popov form or row reduced, and shouldn't pollute this method.

2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.

3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring. This is senseless and confusing.

I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...

Depends on #16888

CC:  @johanrosenkilde dlucas

Keywords: **polynomial matrix**

Branch: **[67c5636](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)**

Reviewer: **David Lucas**

Author: **David Mödinger, Johan Sebastian Rosenkilde Nielsen**

_Issue created by migration from https://trac.sagemath.org/ticket/16896_





---

archive/issue_events_215894.json:
```json
{
    "actor": "https://github.com/sagetrac-ketzu",
    "created_at": "2014-08-28T13:30:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215894"
}
```



---

archive/issue_events_215895.json:
```json
{
    "actor": "https://github.com/sagetrac-ketzu",
    "created_at": "2014-08-28T13:30:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215895"
}
```



---

archive/issue_comments_225140.json:
```json
{
    "body": "Changed keywords from **** to **weak-popov-form matrix**",
    "created_at": "2014-08-28T13:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225140",
    "user": "https://github.com/sagetrac-ketzu"
}
```

Changed keywords from **** to **weak-popov-form matrix**



---

archive/issue_events_215896.json:
```json
{
    "actor": "https://github.com/sagetrac-ketzu",
    "created_at": "2014-08-28T13:34:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20linear%20algebra",
    "label_color": "0000ff",
    "label_name": "component: linear algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215896"
}
```



---

archive/issue_events_215897.json:
```json
{
    "actor": "https://github.com/sagetrac-ketzu",
    "created_at": "2014-08-28T13:34:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215897"
}
```



---

archive/issue_comments_225141.json:
```json
{
    "body": "Author: **David M\u00f6dinger**",
    "created_at": "2014-08-28T13:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225141",
    "user": "https://github.com/sagetrac-ketzu"
}
```

Author: **David Mödinger**



---

archive/issue_comments_225142.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,10 @@\n+See also #16888\n \n+While renaming I see this as a chance to correct some (in my opinion) strange behavior of the method:\n+\n+\n+1. It takes a parameter ascend but does not relay it to the function (it is entirely ignored)\n+2. It takes a parameter ascend which is not related to either weak Popov form or row reduced form\n+3. It returns a 3-touple even though it is only expected to compute the wpf/rrf\n+4. d of the 3-touple and the sorting is unnecessary computation and should probably not be part of the method.\n+5. while N is nice to check some things, in my opinion it should only be given if asked for\n``````\n",
    "created_at": "2014-08-28T13:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225142",
    "user": "https://github.com/sagetrac-ketzu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,10 @@
+See also #16888
 
+While renaming I see this as a chance to correct some (in my opinion) strange behavior of the method:
+
+
+1. It takes a parameter ascend but does not relay it to the function (it is entirely ignored)
+2. It takes a parameter ascend which is not related to either weak Popov form or row reduced form
+3. It returns a 3-touple even though it is only expected to compute the wpf/rrf
+4. d of the 3-touple and the sorting is unnecessary computation and should probably not be part of the method.
+5. while N is nice to check some things, in my opinion it should only be given if asked for
``````




---

archive/issue_comments_225143.json:
```json
{
    "body": "Dependencies: **#16888**",
    "created_at": "2014-08-28T13:34:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225143",
    "user": "https://github.com/sagetrac-ketzu"
}
```

Dependencies: **#16888**



---

archive/issue_comments_225144.json:
```json
{
    "body": "Branch: **[u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention)**",
    "created_at": "2014-09-08T08:24:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225144",
    "user": "https://github.com/sagetrac-ketzu"
}
```

Branch: **[u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention)**



---

archive/issue_comments_225145.json:
```json
{
    "body": "Commit: **[4106d05](https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9)**",
    "created_at": "2014-09-08T08:26:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225145",
    "user": "https://github.com/sagetrac-ketzu"
}
```

Commit: **[4106d05](https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9)**



---

archive/issue_events_215898.json:
```json
{
    "actor": "https://github.com/sagetrac-ketzu",
    "created_at": "2014-09-08T08:26:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215898"
}
```



---

archive/issue_comments_225146.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9\">4106d05</a></td><td><code>Deprecation include for keyword.</code></td></tr></table>\n",
    "created_at": "2014-09-08T08:26:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225146",
    "user": "https://github.com/sagetrac-ketzu"
}
```

<a id='comment:4'>Comment 4:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9">4106d05</a></td><td><code>Deprecation include for keyword.</code></td></tr></table>




---

archive/issue_comments_225147.json:
```json
{
    "body": "Changed commit from **[4106d05](https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9)** to **[3b827a5](https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65)**",
    "created_at": "2014-10-07T10:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225147",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4106d05](https://github.com/sagemath/sagetrac-mirror/commit/4106d05f9df82f5292e9aacb0aa4d0f3487e54f9)** to **[3b827a5](https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65)**



---

archive/issue_comments_225148.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/970fde5ed4df264be62bc54c7b09e75e56643a08\">970fde5</a></td><td><code>Rename of weak_popov_form() to row_reduced_form() added deprecation warning, rework of the use of the ascend parameter, removed sorting and returning d if ascend is not set.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12755f174d1775e53ebf719612f5e984d7120677\">12755f1</a></td><td><code>Reduced to be a renaming only.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78209179e32bead65ec5f3de09c343dc1d7ed297\">7820917</a></td><td><code>Fixed the doctest of matrix/matrix_misc.py.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65\">3b827a5</a></td><td><code>merge from dependent ticket.</code></td></tr></table>\n",
    "created_at": "2014-10-07T10:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225148",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/970fde5ed4df264be62bc54c7b09e75e56643a08">970fde5</a></td><td><code>Rename of weak_popov_form() to row_reduced_form() added deprecation warning, rework of the use of the ascend parameter, removed sorting and returning d if ascend is not set.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12755f174d1775e53ebf719612f5e984d7120677">12755f1</a></td><td><code>Reduced to be a renaming only.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78209179e32bead65ec5f3de09c343dc1d7ed297">7820917</a></td><td><code>Fixed the doctest of matrix/matrix_misc.py.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65">3b827a5</a></td><td><code>merge from dependent ticket.</code></td></tr></table>




---

archive/issue_comments_225149.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b\">79bc1dd</a></td><td><code>Fixed doctests. Probably some new should be added.</code></td></tr></table>\n",
    "created_at": "2014-10-07T13:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225149",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b">79bc1dd</a></td><td><code>Fixed doctests. Probably some new should be added.</code></td></tr></table>




---

archive/issue_comments_225150.json:
```json
{
    "body": "Changed commit from **[3b827a5](https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65)** to **[79bc1dd](https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b)**",
    "created_at": "2014-10-07T13:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225150",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3b827a5](https://github.com/sagemath/sagetrac-mirror/commit/3b827a5f14f8ad37abaa9e2ca62963f1b54e8e65)** to **[79bc1dd](https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b)**



---

archive/issue_events_215899.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-05-06T12:05:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215899"
}
```



---

archive/issue_events_215900.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-05-06T12:05:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215900"
}
```



---

archive/issue_comments_225151.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nHello,\n\nA few comments on this ticket:\n\n1) Merge with latest beta of Sage is not possible as is, as some conflicts arise with the merge. It needs to be fixed.\n\n2) There are some trailing whitespaces in both `matrix2.pyx` and `matrix_misc.py`, it will be good to remove them.\n\n3) The documentation of `row_reduced_form` mentions weak Popov form several times, like:\n\n```\n\n OUTPUT:\n\n        `W` - a matrix over `k(x)` giving a weak the Popov form of self\n```\n\nbut as far as I understand it, `row_reduced_form` does not compute the weak Popov form, for instance:\n\n```\nsage: R.<t> = QQ['t']\nsage: M = matrix([[t,t,t^2],[0,0,t], [0, t, 0]])\nsage: M.row_reduced_form()\n[t t 0]\n[0 0 t]\n[0 t 0]\n``` \ndoes not output a matrix in wPf as leading positions are the same for the first and third third rows of `M`. In that case, change occurences of weak Popov form by row reduced form.\n\n4) It could be nice to add another example in `matrix_misc.py` to illustrate the output in the case where `transformation=True`.\n\n5) You changed the arguments of `row_reduced_form` in this ticket. But in #16742, you will get the original implementation of `row_reduced_form`, which might create a conflict between the two tickets. You need to add a dependency somewhere to be sure that the merge goes smoothly.",
    "created_at": "2015-05-06T12:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225151",
    "user": "https://github.com/sagetrac-dlucas"
}
```

<a id='comment:7'>Comment 7:</a>
Hello,

A few comments on this ticket:

1) Merge with latest beta of Sage is not possible as is, as some conflicts arise with the merge. It needs to be fixed.

2) There are some trailing whitespaces in both `matrix2.pyx` and `matrix_misc.py`, it will be good to remove them.

3) The documentation of `row_reduced_form` mentions weak Popov form several times, like:

```

 OUTPUT:

        `W` - a matrix over `k(x)` giving a weak the Popov form of self
```

but as far as I understand it, `row_reduced_form` does not compute the weak Popov form, for instance:

```
sage: R.<t> = QQ['t']
sage: M = matrix([[t,t,t^2],[0,0,t], [0, t, 0]])
sage: M.row_reduced_form()
[t t 0]
[0 0 t]
[0 t 0]
``` 
does not output a matrix in wPf as leading positions are the same for the first and third third rows of `M`. In that case, change occurences of weak Popov form by row reduced form.

4) It could be nice to add another example in `matrix_misc.py` to illustrate the output in the case where `transformation=True`.

5) You changed the arguments of `row_reduced_form` in this ticket. But in #16742, you will get the original implementation of `row_reduced_form`, which might create a conflict between the two tickets. You need to add a dependency somewhere to be sure that the merge goes smoothly.



---

archive/issue_events_215901.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-05-06T12:05:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215901"
}
```



---

archive/issue_events_215902.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-05-06T12:05:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215902"
}
```



---

archive/issue_comments_225152.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/acb4f468e4e8be7cb33d9db06c9ad3f868c292ee\">acb4f46</a></td><td><code>Deprecation include for keyword.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65461d16dbc47938fbcef6aa4d8116deadd8b1d1\">65461d1</a></td><td><code>Fixed doctests. Probably some new should be added.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1\">dbcacc5</a></td><td><code>Merge error corrected.</code></td></tr></table>\n",
    "created_at": "2015-07-06T13:57:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225152",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/acb4f468e4e8be7cb33d9db06c9ad3f868c292ee">acb4f46</a></td><td><code>Deprecation include for keyword.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65461d16dbc47938fbcef6aa4d8116deadd8b1d1">65461d1</a></td><td><code>Fixed doctests. Probably some new should be added.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1">dbcacc5</a></td><td><code>Merge error corrected.</code></td></tr></table>




---

archive/issue_comments_225153.json:
```json
{
    "body": "Changed commit from **[79bc1dd](https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b)** to **[dbcacc5](https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1)**",
    "created_at": "2015-07-06T13:57:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225153",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[79bc1dd](https://github.com/sagemath/sagetrac-mirror/commit/79bc1dda27e09fea0fb168bd47e2805fab63e67b)** to **[dbcacc5](https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1)**



---

archive/issue_comments_225154.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nTried to rebase the commits for 6.8beta or at least 6.7 and solve all conflicts. Rework of comments including the term \"weak Popov form\" are yet to be done and testing/doctesting of current changes.",
    "created_at": "2015-07-06T14:08:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225154",
    "user": "https://github.com/sagetrac-ketzu"
}
```

<a id='comment:10'>Comment 10:</a>
Tried to rebase the commits for 6.8beta or at least 6.7 and solve all conflicts. Rework of comments including the term "weak Popov form" are yet to be done and testing/doctesting of current changes.



---

archive/issue_comments_225155.json:
```json
{
    "body": "Changed commit from **[dbcacc5](https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1)** to **[b54a732](https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a)**",
    "created_at": "2015-07-07T09:09:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225155",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dbcacc5](https://github.com/sagemath/sagetrac-mirror/commit/dbcacc5ff086e8e85af8a9f9d99bac10f43bbae1)** to **[b54a732](https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a)**



---

archive/issue_comments_225156.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce9c5fff2113d288893d0fac92415c8049309557\">ce9c5ff</a></td><td><code>Corrected comments to row reduced form from weak popov form, added doctest using transformation=True, added parameter forwarding of transformation parameter.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a\">b54a732</a></td><td><code>Added clarification comment.</code></td></tr></table>\n",
    "created_at": "2015-07-07T09:09:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225156",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce9c5fff2113d288893d0fac92415c8049309557">ce9c5ff</a></td><td><code>Corrected comments to row reduced form from weak popov form, added doctest using transformation=True, added parameter forwarding of transformation parameter.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a">b54a732</a></td><td><code>Added clarification comment.</code></td></tr></table>




---

archive/issue_events_215903.json:
```json
{
    "actor": "https://github.com/sagetrac-ketzu",
    "created_at": "2015-07-07T09:11:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215903"
}
```



---

archive/issue_events_215904.json:
```json
{
    "actor": "https://github.com/sagetrac-ketzu",
    "created_at": "2015-07-07T09:11:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215904"
}
```



---

archive/issue_comments_225157.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nI tried to incorporate the suggestions and create a patchable commit. Doctests and compilation/integration are working for me on sages git master branch.",
    "created_at": "2015-07-07T09:11:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225157",
    "user": "https://github.com/sagetrac-ketzu"
}
```

<a id='comment:12'>Comment 12:</a>
I tried to incorporate the suggestions and create a patchable commit. Doctests and compilation/integration are working for me on sages git master branch.



---

archive/issue_comments_225158.json:
```json
{
    "body": "Changed branch from **[u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention)** to **[u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention)**",
    "created_at": "2015-12-04T09:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225158",
    "user": "https://github.com/johanrosenkilde"
}
```

Changed branch from **[u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/ketzu/rework_of_row_reduced_form_weak_popov_form_calling_convention)** to **[u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention)**



---

archive/issue_comments_225159.json:
```json
{
    "body": "Changed commit from **[b54a732](https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a)** to **[b4af64e](https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606)**",
    "created_at": "2015-12-04T14:08:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225159",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b54a732](https://github.com/sagemath/sagetrac-mirror/commit/b54a7329a5f0baba05d17432e38de81afd4b291a)** to **[b4af64e](https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606)**



---

archive/issue_comments_225160.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606\">b4af64e</a></td><td><code>Reintroduced the old keywords and old calling convention for backward compatibility, but added deprecation warning.</code></td></tr></table>\n",
    "created_at": "2015-12-04T14:08:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225160",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606">b4af64e</a></td><td><code>Reintroduced the old keywords and old calling convention for backward compatibility, but added deprecation warning.</code></td></tr></table>




---

archive/issue_comments_225161.json:
```json
{
    "body": "Changed author from **David M\u00f6dinger** to **David M\u00f6dinger, Johan S. R. Nielsen**",
    "created_at": "2015-12-04T14:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225161",
    "user": "https://github.com/johanrosenkilde"
}
```

Changed author from **David Mödinger** to **David Mödinger, Johan S. R. Nielsen**



---

archive/issue_comments_225162.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,7 @@\n-See also #16888\n+The calling convention of `row_reduced_form` and `weak_popov_form` is bizarre and should be fixed.\n \n-While renaming I see this as a chance to correct some (in my opinion) strange behavior of the method:\n+1. It takes a parameter `ascend` but this is ignored. It's original purpose was something like sorting the rows, but this is not part of weak Popov form or row reduced, and shouldn't pollute this method.\n \n+2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.\n \n-1. It takes a parameter ascend but does not relay it to the function (it is entirely ignored)\n-2. It takes a parameter ascend which is not related to either weak Popov form or row reduced form\n-3. It returns a 3-touple even though it is only expected to compute the wpf/rrf\n-4. d of the 3-touple and the sorting is unnecessary computation and should probably not be part of the method.\n-5. while N is nice to check some things, in my opinion it should only be given if asked for\n+I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...\n``````\n",
    "created_at": "2015-12-04T14:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225162",
    "user": "https://github.com/johanrosenkilde"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,7 @@
-See also #16888
+The calling convention of `row_reduced_form` and `weak_popov_form` is bizarre and should be fixed.
 
-While renaming I see this as a chance to correct some (in my opinion) strange behavior of the method:
+1. It takes a parameter `ascend` but this is ignored. It's original purpose was something like sorting the rows, but this is not part of weak Popov form or row reduced, and shouldn't pollute this method.
 
+2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.
 
-1. It takes a parameter ascend but does not relay it to the function (it is entirely ignored)
-2. It takes a parameter ascend which is not related to either weak Popov form or row reduced form
-3. It returns a 3-touple even though it is only expected to compute the wpf/rrf
-4. d of the 3-touple and the sorting is unnecessary computation and should probably not be part of the method.
-5. while N is nice to check some things, in my opinion it should only be given if asked for
+I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...
``````




---

archive/issue_comments_225163.json:
```json
{
    "body": "Changed keywords from **weak-popov-form matrix** to **polynomial matrix**",
    "created_at": "2015-12-04T14:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225163",
    "user": "https://github.com/johanrosenkilde"
}
```

Changed keywords from **weak-popov-form matrix** to **polynomial matrix**



---

archive/issue_comments_225164.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nI rewrote the patch because it didn't really fix the calling convention, while it still broke backwards compatibility without proper deprecation warnings. Now, the patch does as the new description says.\n\nIt's again at needs review.",
    "created_at": "2015-12-04T14:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225164",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:15'>Comment 15:</a>
I rewrote the patch because it didn't really fix the calling convention, while it still broke backwards compatibility without proper deprecation warnings. Now, the patch does as the new description says.

It's again at needs review.



---

archive/issue_events_215905.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-12-14T09:59:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215905"
}
```



---

archive/issue_events_215906.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-12-14T09:59:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215906"
}
```



---

archive/issue_comments_225165.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nI guess I'm bad news' harbinger again, as I noticed the following:\n\n```\nsage: PR.<x> = GF(7)[]\nsage: M = random_matrix(PR, 5, 5)\nsage: type(M)\n<type 'sage.rings.polynomial.polynomial_zmod_flint.Polynomial_zmod_flint'>\nsage: type(M.row_reduced_form(transformation=False, old_call=False)[0, 0])\n<type 'sage.rings.fraction_field_FpT.FpTElement'>\n```\n\nSo it seems that the actual implementation messes with the type of the elements in the matrix, which is never a good thing...\n\nDavid",
    "created_at": "2015-12-14T09:59:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225165",
    "user": "https://github.com/sagetrac-dlucas"
}
```

<a id='comment:16'>Comment 16:</a>
I guess I'm bad news' harbinger again, as I noticed the following:

```
sage: PR.<x> = GF(7)[]
sage: M = random_matrix(PR, 5, 5)
sage: type(M)
<type 'sage.rings.polynomial.polynomial_zmod_flint.Polynomial_zmod_flint'>
sage: type(M.row_reduced_form(transformation=False, old_call=False)[0, 0])
<type 'sage.rings.fraction_field_FpT.FpTElement'>
```

So it seems that the actual implementation messes with the type of the elements in the matrix, which is never a good thing...

David



---

archive/issue_comments_225166.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,6 @@\n \n 2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.\n \n+3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring.\n+\n I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...\n``````\n",
    "created_at": "2015-12-14T16:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225166",
    "user": "https://github.com/johanrosenkilde"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,6 @@
 
 2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.
 
+3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring.
+
 I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...
``````




---

archive/issue_comments_225167.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nThat has been the behaviour of the function always, so it's not the \"fault\" of this patch. It is, however, rather stupid, as it is because of the division with `R.one()` (named `den`) in the return line of `row_reduced_form` in `matrix_misc.py`.\n\nSo, let's say it was broken behaviour before, so we can change it without doing the deprecation-dance...",
    "created_at": "2015-12-14T16:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225167",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:17'>Comment 17:</a>
That has been the behaviour of the function always, so it's not the "fault" of this patch. It is, however, rather stupid, as it is because of the division with `R.one()` (named `den`) in the return line of `row_reduced_form` in `matrix_misc.py`.

So, let's say it was broken behaviour before, so we can change it without doing the deprecation-dance...



---

archive/issue_comments_225168.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/323e675c3e4c3df82a01838be3c6614e188cded2\">323e675</a></td><td><code>Fix return type when input type is a polynomial matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12b72399ad84cfcc5bb32e087c693acf8619ce73\">12b7239</a></td><td><code>Drop dedent since it didn't have the intended purpose</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc\">bf1732d</a></td><td><code>Fixed the base ring fix when input is over polynomial ring.</code></td></tr></table>\n",
    "created_at": "2015-12-14T16:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225168",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'>Comment 18:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/323e675c3e4c3df82a01838be3c6614e188cded2">323e675</a></td><td><code>Fix return type when input type is a polynomial matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12b72399ad84cfcc5bb32e087c693acf8619ce73">12b7239</a></td><td><code>Drop dedent since it didn't have the intended purpose</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc">bf1732d</a></td><td><code>Fixed the base ring fix when input is over polynomial ring.</code></td></tr></table>




---

archive/issue_comments_225169.json:
```json
{
    "body": "Changed commit from **[b4af64e](https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606)** to **[bf1732d](https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc)**",
    "created_at": "2015-12-14T16:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225169",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b4af64e](https://github.com/sagemath/sagetrac-mirror/commit/b4af64e3dca222d414c4906ce4e461a4015f4606)** to **[bf1732d](https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc)**



---

archive/issue_comments_225170.json:
```json
{
    "body": "Changed commit from **[bf1732d](https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc)** to **[67c5636](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)**",
    "created_at": "2015-12-14T17:01:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225170",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[bf1732d](https://github.com/sagemath/sagetrac-mirror/commit/bf1732da8877ff2936c5fca4fe20ef7354cbd1fc)** to **[67c5636](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)**



---

archive/issue_comments_225171.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce\">67c5636</a></td><td><code>Ok, last fix</code></td></tr></table>\n",
    "created_at": "2015-12-14T17:01:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225171",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce">67c5636</a></td><td><code>Ok, last fix</code></td></tr></table>




---

archive/issue_comments_225172.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,6 @@\n \n 2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.\n \n-3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring.\n+3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring. This is senseless and confusing.\n \n I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...\n``````\n",
    "created_at": "2015-12-14T17:02:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225172",
    "user": "https://github.com/johanrosenkilde"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,6 @@
 
 2. It returns a 3-tuple `(W,U,d)`. Usually, `W` is the only object of interest (the row reduced form), while `U` is a transformation matrix which can sometimes be useful. `d` can be computed directly from `W` and shouldn't be returned at all.
 
-3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring.
+3. When the input is a matrix over a polynomial ring, it returns the output as over the fraction field, though the output always *lie* in the polynomial ring. This is senseless and confusing.
 
 I've added optional parameters `transformation = False` for returning `U`. To enable printing a deprecation warning for at least a year while supporting the old call style, I've added optional parameter `old_call = True`. Set this to `False` to get the future call style and disable deprecation warning. In one year, we'll change the default behaviour but retain `old_call` as an acceptable argument, but print a deprecation warning if one sets it. In two years, we can finally remove `old_call` and have the clean calling convention. <sigh>...
``````




---

archive/issue_events_215907.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2015-12-14T17:02:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215907"
}
```



---

archive/issue_events_215908.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2015-12-14T17:02:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215908"
}
```



---

archive/issue_comments_225173.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nDone!",
    "created_at": "2015-12-14T17:02:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225173",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:20'>Comment 20:</a>
Done!



---

archive/issue_events_215909.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-12-15T09:49:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215909"
}
```



---

archive/issue_events_215910.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-12-15T09:49:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215910"
}
```



---

archive/issue_comments_225174.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nOk, it passes the tests and fixes the bug I noticed, to me it's good to go.",
    "created_at": "2015-12-15T09:49:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225174",
    "user": "https://github.com/sagetrac-dlucas"
}
```

<a id='comment:21'>Comment 21:</a>
Ok, it passes the tests and fixes the bug I noticed, to me it's good to go.



---

archive/issue_comments_225175.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nCool, thanks!",
    "created_at": "2015-12-15T10:47:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225175",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:22'>Comment 22:</a>
Cool, thanks!



---

archive/issue_events_215911.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-12-17T09:36:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215911"
}
```



---

archive/issue_events_215912.json:
```json
{
    "actor": "https://github.com/sagetrac-dlucas",
    "created_at": "2015-12-17T09:36:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215912"
}
```



---

archive/issue_comments_225176.json:
```json
{
    "body": "Reviewer: **dlucas**",
    "created_at": "2015-12-17T09:36:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225176",
    "user": "https://github.com/sagetrac-dlucas"
}
```

Reviewer: **dlucas**



---

archive/issue_events_215913.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-23T11:08:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215913"
}
```



---

archive/issue_events_215914.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-23T11:08:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215914"
}
```



---

archive/issue_comments_225177.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nThe reviewer name is supposed to be your real name, not trac account",
    "created_at": "2015-12-23T11:08:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225177",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:24'>Comment 24:</a>
The reviewer name is supposed to be your real name, not trac account



---

archive/issue_events_215915.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2015-12-23T11:22:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215915"
}
```



---

archive/issue_events_215916.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2015-12-23T11:22:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215916"
}
```



---

archive/issue_comments_225178.json:
```json
{
    "body": "Changed reviewer from **dlucas** to **David Lucas**",
    "created_at": "2015-12-23T11:22:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225178",
    "user": "https://github.com/johanrosenkilde"
}
```

Changed reviewer from **dlucas** to **David Lucas**



---

archive/issue_events_215917.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-24T23:46:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215917"
}
```



---

archive/issue_events_215918.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ffe2a9666bc5fce755334591816741d488bae7a2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-12-24T23:46:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/16896#event-215918"
}
```



---

archive/issue_comments_225179.json:
```json
{
    "body": "Changed branch from **[u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention)** to **[67c5636](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)**",
    "created_at": "2015-12-24T23:46:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225179",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/rework_of_row_reduced_form_weak_popov_form_calling_convention)** to **[67c5636](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)**



---

archive/issue_comments_225180.json:
```json
{
    "body": "Changed commit from **[67c5636](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)** to none",
    "created_at": "2016-01-20T18:13:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225180",
    "user": "https://github.com/kcrisman"
}
```

Changed commit from **[67c5636](https://github.com/sagemath/sagetrac-mirror/commit/67c5636f25e30655a6cc5084f6e426fb181049ce)** to none



---

archive/issue_comments_225181.json:
```json
{
    "body": "Changed author from **David M\u00f6dinger, Johan S. R. Nielsen** to **David M\u00f6dinger, Johan Sebastian Rosenkilde Nielsen**",
    "created_at": "2016-01-20T18:13:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/16896",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/16896#issuecomment-225181",
    "user": "https://github.com/kcrisman"
}
```

Changed author from **David Mödinger, Johan S. R. Nielsen** to **David Mödinger, Johan Sebastian Rosenkilde Nielsen**
